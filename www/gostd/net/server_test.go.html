<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html" class="current">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6748933">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6748988">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6749042">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6749093">package</span>&nbsp;<span class="ident" id="6749101">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6749106">import</span>&nbsp;<span class="op" id="6749113">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6749116">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6749124">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6749130">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6749136">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6749147">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6749158">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6749165">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6749168">func</span>&nbsp;<span class="ident" id="6749173">skipServerTest</span><span class="op" id="6749187">(</span><span class="ident" id="6749188">net</span><span class="op" id="6749191">,</span>&nbsp;<span class="ident" id="6749193">unixsotype</span><span class="op" id="6749203">,</span>&nbsp;<span class="ident" id="6749205">addr</span>&nbsp;<span class="builtintype" id="6749210">string</span><span class="op" id="6749216">,</span>&nbsp;<span class="ident" id="6749218">ipv6</span><span class="op" id="6749222">,</span>&nbsp;<span class="ident" id="6749224">ipv4map</span><span class="op" id="6749231">,</span>&nbsp;<span class="ident" id="6749233">linuxOnly</span>&nbsp;<span class="builtintype" id="6749243">bool</span><span class="op" id="6749247">)</span>&nbsp;<span class="builtintype" id="6749249">bool</span>&nbsp;<span class="op" id="6749254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749257">switch</span>&nbsp;<span class="ident" id="6749264"><a href="/gostd/net/server_test.go.html#6749136">runtime</a></span><span class="op" id="6749271">.</span><span class="ident" id="6749272"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="6749277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749280">case</span>&nbsp;<span class="string" id="6749285">&#34;linux&#34;</span><span class="op" id="6749292">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749295">case</span>&nbsp;<span class="string" id="6749300">&#34;nacl&#34;</span><span class="op" id="6749306">,</span>&nbsp;<span class="string" id="6749308">&#34;plan9&#34;</span><span class="op" id="6749315">,</span>&nbsp;<span class="string" id="6749317">&#34;windows&#34;</span><span class="op" id="6749326">:</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6749330">//&nbsp;&#34;unix&#34;&nbsp;sockets&nbsp;are&nbsp;not&nbsp;supported&nbsp;on&nbsp;Windows&nbsp;and&nbsp;Plan&nbsp;9.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749391">if</span>&nbsp;<span class="ident" id="6749394"><a href="/gostd/net/server_test.go.html#6749188">net</a></span>&nbsp;<span class="op" id="6749398">==</span>&nbsp;<span class="ident" id="6749401"><a href="/gostd/net/server_test.go.html#6749193">unixsotype</a></span>&nbsp;<span class="op" id="6749412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749417">return</span>&nbsp;<span class="builtintype" id="6749424">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749434">default</span><span class="op" id="6749441">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749445">if</span>&nbsp;<span class="ident" id="6749448"><a href="/gostd/net/server_test.go.html#6749188">net</a></span>&nbsp;<span class="op" id="6749452">==</span>&nbsp;<span class="ident" id="6749455"><a href="/gostd/net/server_test.go.html#6749193">unixsotype</a></span>&nbsp;<span class="op" id="6749466">&amp;&amp;</span>&nbsp;<span class="ident" id="6749469"><a href="/gostd/net/server_test.go.html#6749233">linuxOnly</a></span>&nbsp;<span class="op" id="6749479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749484">return</span>&nbsp;<span class="builtintype" id="6749491">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749504">switch</span>&nbsp;<span class="ident" id="6749511"><a href="/gostd/net/server_test.go.html#6749205">addr</a></span>&nbsp;<span class="op" id="6749516">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749519">case</span>&nbsp;<span class="string" id="6749524">&#34;&#34;</span><span class="op" id="6749526">,</span>&nbsp;<span class="string" id="6749528">&#34;0.0.0.0&#34;</span><span class="op" id="6749537">,</span>&nbsp;<span class="string" id="6749539">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6749557">,</span>&nbsp;<span class="string" id="6749559">&#34;[::]&#34;</span><span class="op" id="6749565">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749569">if</span>&nbsp;<span class="ident" id="6749572"><a href="/gostd/net/server_test.go.html#6749147">testing</a></span><span class="op" id="6749579">.</span><span class="ident" id="6749580"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6749585">(</span><span class="op" id="6749586">)</span>&nbsp;<span class="op" id="6749588">||</span>&nbsp;<span class="op" id="6749591">!</span><span class="op" id="6749592">*</span><span class="ident" id="6749593"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6749606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749611">return</span>&nbsp;<span class="builtintype" id="6749618">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749628">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749631">if</span>&nbsp;<span class="ident" id="6749634"><a href="/gostd/net/server_test.go.html#6749218">ipv6</a></span>&nbsp;<span class="op" id="6749639">&amp;&amp;</span>&nbsp;<span class="op" id="6749642">!</span><span class="ident" id="6749643"><a href="/gostd/net/ipsock.go.html#3309710">supportsIPv6</a></span>&nbsp;<span class="op" id="6749656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749660">return</span>&nbsp;<span class="builtintype" id="6749667">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749676">if</span>&nbsp;<span class="ident" id="6749679"><a href="/gostd/net/server_test.go.html#6749224">ipv4map</a></span>&nbsp;<span class="op" id="6749687">&amp;&amp;</span>&nbsp;<span class="op" id="6749690">!</span><span class="ident" id="6749691"><a href="/gostd/net/ipsock.go.html#3309911">supportsIPv4map</a></span>&nbsp;<span class="op" id="6749707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749711">return</span>&nbsp;<span class="builtintype" id="6749718">true</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749727">return</span>&nbsp;<span class="builtintype" id="6749734">false</span><br>
<span class="lineno"></span><span class="op" id="6749740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6749743">var</span>&nbsp;<span class="ident" id="6749747">streamConnServerTests</span>&nbsp;<span class="op" id="6749769">=</span>&nbsp;<span class="op" id="6749771">[</span><span class="op" id="6749772">]</span><span class="keyword" id="6749773">struct</span>&nbsp;<span class="op" id="6749780">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749783">snet</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6749793">string</span>&nbsp;<span class="comment" id="6749800">//&nbsp;server&nbsp;side</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749816">saddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6749826">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749834">cnet</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6749844">string</span>&nbsp;<span class="comment" id="6749851">//&nbsp;client&nbsp;side</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749867">caddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6749877">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749885">ipv6</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6749895">bool</span>&nbsp;<span class="comment" id="6749900">//&nbsp;test&nbsp;with&nbsp;underlying&nbsp;AF_INET6&nbsp;socket</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749941">ipv4map</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6749951">bool</span>&nbsp;<span class="comment" id="6749956">//&nbsp;test&nbsp;with&nbsp;IPv6&nbsp;IPv4-mapping&nbsp;functionality</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6750002">empty</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6750012">bool</span>&nbsp;<span class="comment" id="6750017">//&nbsp;test&nbsp;with&nbsp;empty&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6750042">linuxOnly</span>&nbsp;<span class="builtintype" id="6750052">bool</span>&nbsp;<span class="comment" id="6750057">//&nbsp;test&nbsp;with&nbsp;abstract&nbsp;unix&nbsp;domain&nbsp;socket,&nbsp;a&nbsp;Linux-ism</span><br>
<span class="lineno"></span><span class="op" id="6750111">}</span><span class="op" id="6750112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750115">{</span><span class="ident" id="6750116"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750120">:</span>&nbsp;<span class="string" id="6750122">&#34;tcp&#34;</span><span class="op" id="6750127">,</span>&nbsp;<span class="ident" id="6750129"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750134">:</span>&nbsp;<span class="string" id="6750136">&#34;&#34;</span><span class="op" id="6750138">,</span>&nbsp;<span class="ident" id="6750140"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750144">:</span>&nbsp;<span class="string" id="6750146">&#34;tcp&#34;</span><span class="op" id="6750151">,</span>&nbsp;<span class="ident" id="6750153"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750158">:</span>&nbsp;<span class="string" id="6750160">&#34;127.0.0.1&#34;</span><span class="op" id="6750171">}</span><span class="op" id="6750172">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750175">{</span><span class="ident" id="6750176"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750180">:</span>&nbsp;<span class="string" id="6750182">&#34;tcp&#34;</span><span class="op" id="6750187">,</span>&nbsp;<span class="ident" id="6750189"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750194">:</span>&nbsp;<span class="string" id="6750196">&#34;0.0.0.0&#34;</span><span class="op" id="6750205">,</span>&nbsp;<span class="ident" id="6750207"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750211">:</span>&nbsp;<span class="string" id="6750213">&#34;tcp&#34;</span><span class="op" id="6750218">,</span>&nbsp;<span class="ident" id="6750220"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750225">:</span>&nbsp;<span class="string" id="6750227">&#34;127.0.0.1&#34;</span><span class="op" id="6750238">}</span><span class="op" id="6750239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750242">{</span><span class="ident" id="6750243"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750247">:</span>&nbsp;<span class="string" id="6750249">&#34;tcp&#34;</span><span class="op" id="6750254">,</span>&nbsp;<span class="ident" id="6750256"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750261">:</span>&nbsp;<span class="string" id="6750263">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6750281">,</span>&nbsp;<span class="ident" id="6750283"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750287">:</span>&nbsp;<span class="string" id="6750289">&#34;tcp&#34;</span><span class="op" id="6750294">,</span>&nbsp;<span class="ident" id="6750296"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750301">:</span>&nbsp;<span class="string" id="6750303">&#34;127.0.0.1&#34;</span><span class="op" id="6750314">}</span><span class="op" id="6750315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750318">{</span><span class="ident" id="6750319"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750323">:</span>&nbsp;<span class="string" id="6750325">&#34;tcp&#34;</span><span class="op" id="6750330">,</span>&nbsp;<span class="ident" id="6750332"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750337">:</span>&nbsp;<span class="string" id="6750339">&#34;[::]&#34;</span><span class="op" id="6750345">,</span>&nbsp;<span class="ident" id="6750347"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750351">:</span>&nbsp;<span class="string" id="6750353">&#34;tcp&#34;</span><span class="op" id="6750358">,</span>&nbsp;<span class="ident" id="6750360"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750365">:</span>&nbsp;<span class="string" id="6750367">&#34;[::1]&#34;</span><span class="op" id="6750374">,</span>&nbsp;<span class="ident" id="6750376"><a href="/gostd/net/server_test.go.html#6749885">ipv6</a></span><span class="op" id="6750380">:</span>&nbsp;<span class="builtintype" id="6750382">true</span><span class="op" id="6750386">}</span><span class="op" id="6750387">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750391">{</span><span class="ident" id="6750392"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750396">:</span>&nbsp;<span class="string" id="6750398">&#34;tcp&#34;</span><span class="op" id="6750403">,</span>&nbsp;<span class="ident" id="6750405"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750410">:</span>&nbsp;<span class="string" id="6750412">&#34;&#34;</span><span class="op" id="6750414">,</span>&nbsp;<span class="ident" id="6750416"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750420">:</span>&nbsp;<span class="string" id="6750422">&#34;tcp&#34;</span><span class="op" id="6750427">,</span>&nbsp;<span class="ident" id="6750429"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750434">:</span>&nbsp;<span class="string" id="6750436">&#34;[::1]&#34;</span><span class="op" id="6750443">,</span>&nbsp;<span class="ident" id="6750445"><a href="/gostd/net/server_test.go.html#6749941">ipv4map</a></span><span class="op" id="6750452">:</span>&nbsp;<span class="builtintype" id="6750454">true</span><span class="op" id="6750458">}</span><span class="op" id="6750459">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750462">{</span><span class="ident" id="6750463"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750467">:</span>&nbsp;<span class="string" id="6750469">&#34;tcp&#34;</span><span class="op" id="6750474">,</span>&nbsp;<span class="ident" id="6750476"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750481">:</span>&nbsp;<span class="string" id="6750483">&#34;0.0.0.0&#34;</span><span class="op" id="6750492">,</span>&nbsp;<span class="ident" id="6750494"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750498">:</span>&nbsp;<span class="string" id="6750500">&#34;tcp&#34;</span><span class="op" id="6750505">,</span>&nbsp;<span class="ident" id="6750507"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750512">:</span>&nbsp;<span class="string" id="6750514">&#34;[::1]&#34;</span><span class="op" id="6750521">,</span>&nbsp;<span class="ident" id="6750523"><a href="/gostd/net/server_test.go.html#6749941">ipv4map</a></span><span class="op" id="6750530">:</span>&nbsp;<span class="builtintype" id="6750532">true</span><span class="op" id="6750536">}</span><span class="op" id="6750537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750540">{</span><span class="ident" id="6750541"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750545">:</span>&nbsp;<span class="string" id="6750547">&#34;tcp&#34;</span><span class="op" id="6750552">,</span>&nbsp;<span class="ident" id="6750554"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750559">:</span>&nbsp;<span class="string" id="6750561">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6750579">,</span>&nbsp;<span class="ident" id="6750581"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750585">:</span>&nbsp;<span class="string" id="6750587">&#34;tcp&#34;</span><span class="op" id="6750592">,</span>&nbsp;<span class="ident" id="6750594"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750599">:</span>&nbsp;<span class="string" id="6750601">&#34;[::1]&#34;</span><span class="op" id="6750608">,</span>&nbsp;<span class="ident" id="6750610"><a href="/gostd/net/server_test.go.html#6749941">ipv4map</a></span><span class="op" id="6750617">:</span>&nbsp;<span class="builtintype" id="6750619">true</span><span class="op" id="6750623">}</span><span class="op" id="6750624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750627">{</span><span class="ident" id="6750628"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750632">:</span>&nbsp;<span class="string" id="6750634">&#34;tcp&#34;</span><span class="op" id="6750639">,</span>&nbsp;<span class="ident" id="6750641"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750646">:</span>&nbsp;<span class="string" id="6750648">&#34;[::]&#34;</span><span class="op" id="6750654">,</span>&nbsp;<span class="ident" id="6750656"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750660">:</span>&nbsp;<span class="string" id="6750662">&#34;tcp&#34;</span><span class="op" id="6750667">,</span>&nbsp;<span class="ident" id="6750669"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750674">:</span>&nbsp;<span class="string" id="6750676">&#34;127.0.0.1&#34;</span><span class="op" id="6750687">,</span>&nbsp;<span class="ident" id="6750689"><a href="/gostd/net/server_test.go.html#6749941">ipv4map</a></span><span class="op" id="6750696">:</span>&nbsp;<span class="builtintype" id="6750698">true</span><span class="op" id="6750702">}</span><span class="op" id="6750703">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750707">{</span><span class="ident" id="6750708"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750712">:</span>&nbsp;<span class="string" id="6750714">&#34;tcp&#34;</span><span class="op" id="6750719">,</span>&nbsp;<span class="ident" id="6750721"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750726">:</span>&nbsp;<span class="string" id="6750728">&#34;&#34;</span><span class="op" id="6750730">,</span>&nbsp;<span class="ident" id="6750732"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750736">:</span>&nbsp;<span class="string" id="6750738">&#34;tcp4&#34;</span><span class="op" id="6750744">,</span>&nbsp;<span class="ident" id="6750746"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750751">:</span>&nbsp;<span class="string" id="6750753">&#34;127.0.0.1&#34;</span><span class="op" id="6750764">}</span><span class="op" id="6750765">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750768">{</span><span class="ident" id="6750769"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750773">:</span>&nbsp;<span class="string" id="6750775">&#34;tcp&#34;</span><span class="op" id="6750780">,</span>&nbsp;<span class="ident" id="6750782"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750787">:</span>&nbsp;<span class="string" id="6750789">&#34;0.0.0.0&#34;</span><span class="op" id="6750798">,</span>&nbsp;<span class="ident" id="6750800"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750804">:</span>&nbsp;<span class="string" id="6750806">&#34;tcp4&#34;</span><span class="op" id="6750812">,</span>&nbsp;<span class="ident" id="6750814"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750819">:</span>&nbsp;<span class="string" id="6750821">&#34;127.0.0.1&#34;</span><span class="op" id="6750832">}</span><span class="op" id="6750833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750836">{</span><span class="ident" id="6750837"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750841">:</span>&nbsp;<span class="string" id="6750843">&#34;tcp&#34;</span><span class="op" id="6750848">,</span>&nbsp;<span class="ident" id="6750850"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750855">:</span>&nbsp;<span class="string" id="6750857">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6750875">,</span>&nbsp;<span class="ident" id="6750877"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750881">:</span>&nbsp;<span class="string" id="6750883">&#34;tcp4&#34;</span><span class="op" id="6750889">,</span>&nbsp;<span class="ident" id="6750891"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750896">:</span>&nbsp;<span class="string" id="6750898">&#34;127.0.0.1&#34;</span><span class="op" id="6750909">}</span><span class="op" id="6750910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750913">{</span><span class="ident" id="6750914"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750918">:</span>&nbsp;<span class="string" id="6750920">&#34;tcp&#34;</span><span class="op" id="6750925">,</span>&nbsp;<span class="ident" id="6750927"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6750932">:</span>&nbsp;<span class="string" id="6750934">&#34;[::]&#34;</span><span class="op" id="6750940">,</span>&nbsp;<span class="ident" id="6750942"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6750946">:</span>&nbsp;<span class="string" id="6750948">&#34;tcp6&#34;</span><span class="op" id="6750954">,</span>&nbsp;<span class="ident" id="6750956"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6750961">:</span>&nbsp;<span class="string" id="6750963">&#34;[::1]&#34;</span><span class="op" id="6750970">,</span>&nbsp;<span class="ident" id="6750972"><a href="/gostd/net/server_test.go.html#6749885">ipv6</a></span><span class="op" id="6750976">:</span>&nbsp;<span class="builtintype" id="6750978">true</span><span class="op" id="6750982">}</span><span class="op" id="6750983">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750987">{</span><span class="ident" id="6750988"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6750992">:</span>&nbsp;<span class="string" id="6750994">&#34;tcp&#34;</span><span class="op" id="6750999">,</span>&nbsp;<span class="ident" id="6751001"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751006">:</span>&nbsp;<span class="string" id="6751008">&#34;&#34;</span><span class="op" id="6751010">,</span>&nbsp;<span class="ident" id="6751012"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751016">:</span>&nbsp;<span class="string" id="6751018">&#34;tcp6&#34;</span><span class="op" id="6751024">,</span>&nbsp;<span class="ident" id="6751026"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751031">:</span>&nbsp;<span class="string" id="6751033">&#34;[::1]&#34;</span><span class="op" id="6751040">,</span>&nbsp;<span class="ident" id="6751042"><a href="/gostd/net/server_test.go.html#6749941">ipv4map</a></span><span class="op" id="6751049">:</span>&nbsp;<span class="builtintype" id="6751051">true</span><span class="op" id="6751055">}</span><span class="op" id="6751056">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751059">{</span><span class="ident" id="6751060"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751064">:</span>&nbsp;<span class="string" id="6751066">&#34;tcp&#34;</span><span class="op" id="6751071">,</span>&nbsp;<span class="ident" id="6751073"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751078">:</span>&nbsp;<span class="string" id="6751080">&#34;0.0.0.0&#34;</span><span class="op" id="6751089">,</span>&nbsp;<span class="ident" id="6751091"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751095">:</span>&nbsp;<span class="string" id="6751097">&#34;tcp6&#34;</span><span class="op" id="6751103">,</span>&nbsp;<span class="ident" id="6751105"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751110">:</span>&nbsp;<span class="string" id="6751112">&#34;[::1]&#34;</span><span class="op" id="6751119">,</span>&nbsp;<span class="ident" id="6751121"><a href="/gostd/net/server_test.go.html#6749941">ipv4map</a></span><span class="op" id="6751128">:</span>&nbsp;<span class="builtintype" id="6751130">true</span><span class="op" id="6751134">}</span><span class="op" id="6751135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751138">{</span><span class="ident" id="6751139"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751143">:</span>&nbsp;<span class="string" id="6751145">&#34;tcp&#34;</span><span class="op" id="6751150">,</span>&nbsp;<span class="ident" id="6751152"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751157">:</span>&nbsp;<span class="string" id="6751159">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6751177">,</span>&nbsp;<span class="ident" id="6751179"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751183">:</span>&nbsp;<span class="string" id="6751185">&#34;tcp6&#34;</span><span class="op" id="6751191">,</span>&nbsp;<span class="ident" id="6751193"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751198">:</span>&nbsp;<span class="string" id="6751200">&#34;[::1]&#34;</span><span class="op" id="6751207">,</span>&nbsp;<span class="ident" id="6751209"><a href="/gostd/net/server_test.go.html#6749941">ipv4map</a></span><span class="op" id="6751216">:</span>&nbsp;<span class="builtintype" id="6751218">true</span><span class="op" id="6751222">}</span><span class="op" id="6751223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751226">{</span><span class="ident" id="6751227"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751231">:</span>&nbsp;<span class="string" id="6751233">&#34;tcp&#34;</span><span class="op" id="6751238">,</span>&nbsp;<span class="ident" id="6751240"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751245">:</span>&nbsp;<span class="string" id="6751247">&#34;[::]&#34;</span><span class="op" id="6751253">,</span>&nbsp;<span class="ident" id="6751255"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751259">:</span>&nbsp;<span class="string" id="6751261">&#34;tcp4&#34;</span><span class="op" id="6751267">,</span>&nbsp;<span class="ident" id="6751269"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751274">:</span>&nbsp;<span class="string" id="6751276">&#34;127.0.0.1&#34;</span><span class="op" id="6751287">,</span>&nbsp;<span class="ident" id="6751289"><a href="/gostd/net/server_test.go.html#6749941">ipv4map</a></span><span class="op" id="6751296">:</span>&nbsp;<span class="builtintype" id="6751298">true</span><span class="op" id="6751302">}</span><span class="op" id="6751303">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751307">{</span><span class="ident" id="6751308"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751312">:</span>&nbsp;<span class="string" id="6751314">&#34;tcp&#34;</span><span class="op" id="6751319">,</span>&nbsp;<span class="ident" id="6751321"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751326">:</span>&nbsp;<span class="string" id="6751328">&#34;127.0.0.1&#34;</span><span class="op" id="6751339">,</span>&nbsp;<span class="ident" id="6751341"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751345">:</span>&nbsp;<span class="string" id="6751347">&#34;tcp&#34;</span><span class="op" id="6751352">,</span>&nbsp;<span class="ident" id="6751354"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751359">:</span>&nbsp;<span class="string" id="6751361">&#34;127.0.0.1&#34;</span><span class="op" id="6751372">}</span><span class="op" id="6751373">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751376">{</span><span class="ident" id="6751377"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751381">:</span>&nbsp;<span class="string" id="6751383">&#34;tcp&#34;</span><span class="op" id="6751388">,</span>&nbsp;<span class="ident" id="6751390"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751395">:</span>&nbsp;<span class="string" id="6751397">&#34;[::ffff:127.0.0.1]&#34;</span><span class="op" id="6751417">,</span>&nbsp;<span class="ident" id="6751419"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751423">:</span>&nbsp;<span class="string" id="6751425">&#34;tcp&#34;</span><span class="op" id="6751430">,</span>&nbsp;<span class="ident" id="6751432"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751437">:</span>&nbsp;<span class="string" id="6751439">&#34;127.0.0.1&#34;</span><span class="op" id="6751450">}</span><span class="op" id="6751451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751454">{</span><span class="ident" id="6751455"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751459">:</span>&nbsp;<span class="string" id="6751461">&#34;tcp&#34;</span><span class="op" id="6751466">,</span>&nbsp;<span class="ident" id="6751468"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751473">:</span>&nbsp;<span class="string" id="6751475">&#34;[::1]&#34;</span><span class="op" id="6751482">,</span>&nbsp;<span class="ident" id="6751484"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751488">:</span>&nbsp;<span class="string" id="6751490">&#34;tcp&#34;</span><span class="op" id="6751495">,</span>&nbsp;<span class="ident" id="6751497"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751502">:</span>&nbsp;<span class="string" id="6751504">&#34;[::1]&#34;</span><span class="op" id="6751511">,</span>&nbsp;<span class="ident" id="6751513"><a href="/gostd/net/server_test.go.html#6749885">ipv6</a></span><span class="op" id="6751517">:</span>&nbsp;<span class="builtintype" id="6751519">true</span><span class="op" id="6751523">}</span><span class="op" id="6751524">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751528">{</span><span class="ident" id="6751529"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751533">:</span>&nbsp;<span class="string" id="6751535">&#34;tcp4&#34;</span><span class="op" id="6751541">,</span>&nbsp;<span class="ident" id="6751543"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751548">:</span>&nbsp;<span class="string" id="6751550">&#34;&#34;</span><span class="op" id="6751552">,</span>&nbsp;<span class="ident" id="6751554"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751558">:</span>&nbsp;<span class="string" id="6751560">&#34;tcp4&#34;</span><span class="op" id="6751566">,</span>&nbsp;<span class="ident" id="6751568"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751573">:</span>&nbsp;<span class="string" id="6751575">&#34;127.0.0.1&#34;</span><span class="op" id="6751586">}</span><span class="op" id="6751587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751590">{</span><span class="ident" id="6751591"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751595">:</span>&nbsp;<span class="string" id="6751597">&#34;tcp4&#34;</span><span class="op" id="6751603">,</span>&nbsp;<span class="ident" id="6751605"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751610">:</span>&nbsp;<span class="string" id="6751612">&#34;0.0.0.0&#34;</span><span class="op" id="6751621">,</span>&nbsp;<span class="ident" id="6751623"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751627">:</span>&nbsp;<span class="string" id="6751629">&#34;tcp4&#34;</span><span class="op" id="6751635">,</span>&nbsp;<span class="ident" id="6751637"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751642">:</span>&nbsp;<span class="string" id="6751644">&#34;127.0.0.1&#34;</span><span class="op" id="6751655">}</span><span class="op" id="6751656">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751659">{</span><span class="ident" id="6751660"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751664">:</span>&nbsp;<span class="string" id="6751666">&#34;tcp4&#34;</span><span class="op" id="6751672">,</span>&nbsp;<span class="ident" id="6751674"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751679">:</span>&nbsp;<span class="string" id="6751681">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6751699">,</span>&nbsp;<span class="ident" id="6751701"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751705">:</span>&nbsp;<span class="string" id="6751707">&#34;tcp4&#34;</span><span class="op" id="6751713">,</span>&nbsp;<span class="ident" id="6751715"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751720">:</span>&nbsp;<span class="string" id="6751722">&#34;127.0.0.1&#34;</span><span class="op" id="6751733">}</span><span class="op" id="6751734">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751738">{</span><span class="ident" id="6751739"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751743">:</span>&nbsp;<span class="string" id="6751745">&#34;tcp4&#34;</span><span class="op" id="6751751">,</span>&nbsp;<span class="ident" id="6751753"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751758">:</span>&nbsp;<span class="string" id="6751760">&#34;127.0.0.1&#34;</span><span class="op" id="6751771">,</span>&nbsp;<span class="ident" id="6751773"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751777">:</span>&nbsp;<span class="string" id="6751779">&#34;tcp4&#34;</span><span class="op" id="6751785">,</span>&nbsp;<span class="ident" id="6751787"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751792">:</span>&nbsp;<span class="string" id="6751794">&#34;127.0.0.1&#34;</span><span class="op" id="6751805">}</span><span class="op" id="6751806">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751810">{</span><span class="ident" id="6751811"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751815">:</span>&nbsp;<span class="string" id="6751817">&#34;tcp6&#34;</span><span class="op" id="6751823">,</span>&nbsp;<span class="ident" id="6751825"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751830">:</span>&nbsp;<span class="string" id="6751832">&#34;&#34;</span><span class="op" id="6751834">,</span>&nbsp;<span class="ident" id="6751836"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751840">:</span>&nbsp;<span class="string" id="6751842">&#34;tcp6&#34;</span><span class="op" id="6751848">,</span>&nbsp;<span class="ident" id="6751850"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751855">:</span>&nbsp;<span class="string" id="6751857">&#34;[::1]&#34;</span><span class="op" id="6751864">,</span>&nbsp;<span class="ident" id="6751866"><a href="/gostd/net/server_test.go.html#6749885">ipv6</a></span><span class="op" id="6751870">:</span>&nbsp;<span class="builtintype" id="6751872">true</span><span class="op" id="6751876">}</span><span class="op" id="6751877">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751880">{</span><span class="ident" id="6751881"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751885">:</span>&nbsp;<span class="string" id="6751887">&#34;tcp6&#34;</span><span class="op" id="6751893">,</span>&nbsp;<span class="ident" id="6751895"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751900">:</span>&nbsp;<span class="string" id="6751902">&#34;[::]&#34;</span><span class="op" id="6751908">,</span>&nbsp;<span class="ident" id="6751910"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751914">:</span>&nbsp;<span class="string" id="6751916">&#34;tcp6&#34;</span><span class="op" id="6751922">,</span>&nbsp;<span class="ident" id="6751924"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6751929">:</span>&nbsp;<span class="string" id="6751931">&#34;[::1]&#34;</span><span class="op" id="6751938">,</span>&nbsp;<span class="ident" id="6751940"><a href="/gostd/net/server_test.go.html#6749885">ipv6</a></span><span class="op" id="6751944">:</span>&nbsp;<span class="builtintype" id="6751946">true</span><span class="op" id="6751950">}</span><span class="op" id="6751951">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751955">{</span><span class="ident" id="6751956"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6751960">:</span>&nbsp;<span class="string" id="6751962">&#34;tcp6&#34;</span><span class="op" id="6751968">,</span>&nbsp;<span class="ident" id="6751970"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6751975">:</span>&nbsp;<span class="string" id="6751977">&#34;[::1]&#34;</span><span class="op" id="6751984">,</span>&nbsp;<span class="ident" id="6751986"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6751990">:</span>&nbsp;<span class="string" id="6751992">&#34;tcp6&#34;</span><span class="op" id="6751998">,</span>&nbsp;<span class="ident" id="6752000"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6752005">:</span>&nbsp;<span class="string" id="6752007">&#34;[::1]&#34;</span><span class="op" id="6752014">,</span>&nbsp;<span class="ident" id="6752016"><a href="/gostd/net/server_test.go.html#6749885">ipv6</a></span><span class="op" id="6752020">:</span>&nbsp;<span class="builtintype" id="6752022">true</span><span class="op" id="6752026">}</span><span class="op" id="6752027">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6752031">{</span><span class="ident" id="6752032"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6752036">:</span>&nbsp;<span class="string" id="6752038">&#34;unix&#34;</span><span class="op" id="6752044">,</span>&nbsp;<span class="ident" id="6752046"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6752051">:</span>&nbsp;<span class="ident" id="6752053"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6752065">(</span><span class="op" id="6752066">)</span><span class="op" id="6752067">,</span>&nbsp;<span class="ident" id="6752069"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6752073">:</span>&nbsp;<span class="string" id="6752075">&#34;unix&#34;</span><span class="op" id="6752081">,</span>&nbsp;<span class="ident" id="6752083"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6752088">:</span>&nbsp;<span class="ident" id="6752090"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6752102">(</span><span class="op" id="6752103">)</span><span class="op" id="6752104">}</span><span class="op" id="6752105">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6752108">{</span><span class="ident" id="6752109"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6752113">:</span>&nbsp;<span class="string" id="6752115">&#34;unix&#34;</span><span class="op" id="6752121">,</span>&nbsp;<span class="ident" id="6752123"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6752128">:</span>&nbsp;<span class="string" id="6752130">&#34;@gotest2/net&#34;</span><span class="op" id="6752144">,</span>&nbsp;<span class="ident" id="6752146"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6752150">:</span>&nbsp;<span class="string" id="6752152">&#34;unix&#34;</span><span class="op" id="6752158">,</span>&nbsp;<span class="ident" id="6752160"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6752165">:</span>&nbsp;<span class="string" id="6752167">&#34;@gotest2/net.local&#34;</span><span class="op" id="6752187">,</span>&nbsp;<span class="ident" id="6752189"><a href="/gostd/net/server_test.go.html#6750042">linuxOnly</a></span><span class="op" id="6752198">:</span>&nbsp;<span class="builtintype" id="6752200">true</span><span class="op" id="6752204">}</span><span class="op" id="6752205">,</span><br>
<span class="lineno"></span><span class="op" id="6752207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6752210">func</span>&nbsp;<span class="ident" id="6752215">TestStreamConnServer</span><span class="op" id="6752235">(</span><span class="ident" id="6752236">t</span>&nbsp;<span class="op" id="6752238">*</span><span class="ident" id="6752239"><a href="/gostd/net/server_test.go.html#6749147">testing</a></span><span class="op" id="6752246">.</span><span class="ident" id="6752247"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6752248">)</span>&nbsp;<span class="op" id="6752250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6752253">for</span>&nbsp;<span class="ident" id="6752257">_</span><span class="op" id="6752258">,</span>&nbsp;<span class="ident" id="6752260">tt</span>&nbsp;<span class="op" id="6752263">:=</span>&nbsp;<span class="keyword" id="6752266">range</span>&nbsp;<span class="ident" id="6752272"><a href="/gostd/net/server_test.go.html#6749747">streamConnServerTests</a></span>&nbsp;<span class="op" id="6752294">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6752298">if</span>&nbsp;<span class="ident" id="6752301"><a href="/gostd/net/server_test.go.html#6749173">skipServerTest</a></span><span class="op" id="6752315">(</span><span class="ident" id="6752316"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752318">.</span><span class="ident" id="6752319"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6752323">,</span>&nbsp;<span class="string" id="6752325">&#34;unix&#34;</span><span class="op" id="6752331">,</span>&nbsp;<span class="ident" id="6752333"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752335">.</span><span class="ident" id="6752336"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6752341">,</span>&nbsp;<span class="ident" id="6752343"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752345">.</span><span class="ident" id="6752346"><a href="/gostd/net/server_test.go.html#6749885">ipv6</a></span><span class="op" id="6752350">,</span>&nbsp;<span class="ident" id="6752352"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752354">.</span><span class="ident" id="6752355"><a href="/gostd/net/server_test.go.html#6749941">ipv4map</a></span><span class="op" id="6752362">,</span>&nbsp;<span class="ident" id="6752364"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752366">.</span><span class="ident" id="6752367"><a href="/gostd/net/server_test.go.html#6750042">linuxOnly</a></span><span class="op" id="6752376">)</span>&nbsp;<span class="op" id="6752378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6752383">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6752394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6752399">listening</span>&nbsp;<span class="op" id="6752409">:=</span>&nbsp;<span class="builtinfunc" id="6752412">make</span><span class="op" id="6752416">(</span><span class="keyword" id="6752417">chan</span>&nbsp;<span class="builtintype" id="6752422">string</span><span class="op" id="6752428">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6752432">done</span>&nbsp;<span class="op" id="6752437">:=</span>&nbsp;<span class="builtinfunc" id="6752440">make</span><span class="op" id="6752444">(</span><span class="keyword" id="6752445">chan</span>&nbsp;<span class="builtintype" id="6752450">int</span><span class="op" id="6752453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6752457">switch</span>&nbsp;<span class="ident" id="6752464"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752466">.</span><span class="ident" id="6752467"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span>&nbsp;<span class="op" id="6752472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6752476">case</span>&nbsp;<span class="string" id="6752481">&#34;tcp&#34;</span><span class="op" id="6752486">,</span>&nbsp;<span class="string" id="6752488">&#34;tcp4&#34;</span><span class="op" id="6752494">,</span>&nbsp;<span class="string" id="6752496">&#34;tcp6&#34;</span><span class="op" id="6752502">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6752507"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752509">.</span><span class="ident" id="6752510"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span>&nbsp;<span class="op" id="6752516">+=</span>&nbsp;<span class="string" id="6752519">&#34;:0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6752526">case</span>&nbsp;<span class="string" id="6752531">&#34;unix&#34;</span><span class="op" id="6752537">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6752542"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6752544">.</span><span class="ident" id="6752545"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6752551">(</span><span class="ident" id="6752552"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752554">.</span><span class="ident" id="6752555"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6752560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6752565"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6752567">.</span><span class="ident" id="6752568"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6752574">(</span><span class="ident" id="6752575"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752577">.</span><span class="ident" id="6752578"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6752583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6752587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6752592">go</span>&nbsp;<span class="ident" id="6752595"><a href="/gostd/net/server_test.go.html#6754310">runStreamConnServer</a></span><span class="op" id="6752614">(</span><span class="ident" id="6752615"><a href="/gostd/net/server_test.go.html#6752236">t</a></span><span class="op" id="6752616">,</span>&nbsp;<span class="ident" id="6752618"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752620">.</span><span class="ident" id="6752621"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span><span class="op" id="6752625">,</span>&nbsp;<span class="ident" id="6752627"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752629">.</span><span class="ident" id="6752630"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6752635">,</span>&nbsp;<span class="ident" id="6752637"><a href="/gostd/net/server_test.go.html#6752399">listening</a></span><span class="op" id="6752646">,</span>&nbsp;<span class="ident" id="6752648"><a href="/gostd/net/server_test.go.html#6752432">done</a></span><span class="op" id="6752652">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6752656">taddr</span>&nbsp;<span class="op" id="6752662">:=</span>&nbsp;<span class="op" id="6752665">&lt;-</span><span class="ident" id="6752667"><a href="/gostd/net/server_test.go.html#6752399">listening</a></span>&nbsp;<span class="comment" id="6752677">//&nbsp;wait&nbsp;for&nbsp;server&nbsp;to&nbsp;start</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6752708">switch</span>&nbsp;<span class="ident" id="6752715"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752717">.</span><span class="ident" id="6752718"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span>&nbsp;<span class="op" id="6752723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6752727">case</span>&nbsp;<span class="string" id="6752732">&#34;tcp&#34;</span><span class="op" id="6752737">,</span>&nbsp;<span class="string" id="6752739">&#34;tcp4&#34;</span><span class="op" id="6752745">,</span>&nbsp;<span class="string" id="6752747">&#34;tcp6&#34;</span><span class="op" id="6752753">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6752758">_</span><span class="op" id="6752759">,</span>&nbsp;<span class="ident" id="6752761">port</span><span class="op" id="6752765">,</span>&nbsp;<span class="ident" id="6752767">err</span>&nbsp;<span class="op" id="6752771">:=</span>&nbsp;<span class="ident" id="6752774"><a href="/gostd/net/ipsock.go.html#3313208">SplitHostPort</a></span><span class="op" id="6752787">(</span><span class="ident" id="6752788"><a href="/gostd/net/server_test.go.html#6752656">taddr</a></span><span class="op" id="6752793">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6752798">if</span>&nbsp;<span class="ident" id="6752801"><a href="/gostd/net/server_test.go.html#6752767">err</a></span>&nbsp;<span class="op" id="6752805">!=</span>&nbsp;<span class="builtintype" id="6752808">nil</span>&nbsp;<span class="op" id="6752812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6752818"><a href="/gostd/net/server_test.go.html#6752236">t</a></span><span class="op" id="6752819">.</span><span class="ident" id="6752820"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6752826">(</span><span class="string" id="6752827">&#34;SplitHostPort(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6752857">,</span>&nbsp;<span class="ident" id="6752859"><a href="/gostd/net/server_test.go.html#6752656">taddr</a></span><span class="op" id="6752864">,</span>&nbsp;<span class="ident" id="6752866"><a href="/gostd/net/server_test.go.html#6752767">err</a></span><span class="op" id="6752869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6752874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6752879"><a href="/gostd/net/server_test.go.html#6752656">taddr</a></span>&nbsp;<span class="op" id="6752885">=</span>&nbsp;<span class="ident" id="6752887"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752889">.</span><span class="ident" id="6752890"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span>&nbsp;<span class="op" id="6752896">+</span>&nbsp;<span class="string" id="6752898">&#34;:&#34;</span>&nbsp;<span class="op" id="6752902">+</span>&nbsp;<span class="ident" id="6752904"><a href="/gostd/net/server_test.go.html#6752761">port</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6752911">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6752916"><a href="/gostd/net/server_test.go.html#6755083">runStreamConnClient</a></span><span class="op" id="6752935">(</span><span class="ident" id="6752936"><a href="/gostd/net/server_test.go.html#6752236">t</a></span><span class="op" id="6752937">,</span>&nbsp;<span class="ident" id="6752939"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752941">.</span><span class="ident" id="6752942"><a href="/gostd/net/server_test.go.html#6749834">cnet</a></span><span class="op" id="6752946">,</span>&nbsp;<span class="ident" id="6752948"><a href="/gostd/net/server_test.go.html#6752656">taddr</a></span><span class="op" id="6752953">,</span>&nbsp;<span class="ident" id="6752955"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6752957">.</span><span class="ident" id="6752958"><a href="/gostd/net/server_test.go.html#6750002">empty</a></span><span class="op" id="6752963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6752967">&lt;-</span><span class="ident" id="6752969"><a href="/gostd/net/server_test.go.html#6752432">done</a></span>&nbsp;<span class="comment" id="6752974">//&nbsp;make&nbsp;sure&nbsp;server&nbsp;stopped</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753005">switch</span>&nbsp;<span class="ident" id="6753012"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6753014">.</span><span class="ident" id="6753015"><a href="/gostd/net/server_test.go.html#6749783">snet</a></span>&nbsp;<span class="op" id="6753020">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753024">case</span>&nbsp;<span class="string" id="6753029">&#34;unix&#34;</span><span class="op" id="6753035">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753040"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6753042">.</span><span class="ident" id="6753043"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6753049">(</span><span class="ident" id="6753050"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6753052">.</span><span class="ident" id="6753053"><a href="/gostd/net/server_test.go.html#6749816">saddr</a></span><span class="op" id="6753058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753063"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6753065">.</span><span class="ident" id="6753066"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6753072">(</span><span class="ident" id="6753073"><a href="/gostd/net/server_test.go.html#6752260">tt</a></span><span class="op" id="6753075">.</span><span class="ident" id="6753076"><a href="/gostd/net/server_test.go.html#6749867">caddr</a></span><span class="op" id="6753081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6753085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6753088">}</span><br>
<span class="lineno">130</span><span class="op" id="6753090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6753093">var</span>&nbsp;<span class="ident" id="6753097">seqpacketConnServerTests</span>&nbsp;<span class="op" id="6753122">=</span>&nbsp;<span class="op" id="6753124">[</span><span class="op" id="6753125">]</span><span class="keyword" id="6753126">struct</span>&nbsp;<span class="op" id="6753133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753136">net</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6753146">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753154">saddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6753164">string</span>&nbsp;<span class="comment" id="6753171">//&nbsp;server&nbsp;address</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753190">caddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6753200">string</span>&nbsp;<span class="comment" id="6753207">//&nbsp;client&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753226">empty</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6753236">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="6753243">//&nbsp;test&nbsp;with&nbsp;empty&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753268">linuxOnly</span>&nbsp;<span class="builtintype" id="6753278">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="6753285">//&nbsp;test&nbsp;with&nbsp;abstract&nbsp;unix&nbsp;domain&nbsp;socket,&nbsp;a&nbsp;Linux-ism</span><br>
<span class="lineno"></span><span class="op" id="6753339">}</span><span class="op" id="6753340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6753343">{</span><span class="ident" id="6753344"><a href="/gostd/net/server_test.go.html#6753136">net</a></span><span class="op" id="6753347">:</span>&nbsp;<span class="string" id="6753349">&#34;unixpacket&#34;</span><span class="op" id="6753361">,</span>&nbsp;<span class="ident" id="6753363"><a href="/gostd/net/server_test.go.html#6753154">saddr</a></span><span class="op" id="6753368">:</span>&nbsp;<span class="ident" id="6753370"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6753382">(</span><span class="op" id="6753383">)</span><span class="op" id="6753384">,</span>&nbsp;<span class="ident" id="6753386"><a href="/gostd/net/server_test.go.html#6753190">caddr</a></span><span class="op" id="6753391">:</span>&nbsp;<span class="ident" id="6753393"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6753405">(</span><span class="op" id="6753406">)</span><span class="op" id="6753407">}</span><span class="op" id="6753408">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6753411">{</span><span class="ident" id="6753412"><a href="/gostd/net/server_test.go.html#6753136">net</a></span><span class="op" id="6753415">:</span>&nbsp;<span class="string" id="6753417">&#34;unixpacket&#34;</span><span class="op" id="6753429">,</span>&nbsp;<span class="ident" id="6753431"><a href="/gostd/net/server_test.go.html#6753154">saddr</a></span><span class="op" id="6753436">:</span>&nbsp;<span class="string" id="6753438">&#34;@gotest4/net&#34;</span><span class="op" id="6753452">,</span>&nbsp;<span class="ident" id="6753454"><a href="/gostd/net/server_test.go.html#6753190">caddr</a></span><span class="op" id="6753459">:</span>&nbsp;<span class="string" id="6753461">&#34;@gotest4/net.local&#34;</span><span class="op" id="6753481">,</span>&nbsp;<span class="ident" id="6753483"><a href="/gostd/net/server_test.go.html#6753268">linuxOnly</a></span><span class="op" id="6753492">:</span>&nbsp;<span class="builtintype" id="6753494">true</span><span class="op" id="6753498">}</span><span class="op" id="6753499">,</span><br>
<span class="lineno"></span><span class="op" id="6753501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6753504">func</span>&nbsp;<span class="ident" id="6753509">TestSeqpacketConnServer</span><span class="op" id="6753532">(</span><span class="ident" id="6753533">t</span>&nbsp;<span class="op" id="6753535">*</span><span class="ident" id="6753536"><a href="/gostd/net/server_test.go.html#6749147">testing</a></span><span class="op" id="6753543">.</span><span class="ident" id="6753544"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6753545">)</span>&nbsp;<span class="op" id="6753547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753550">switch</span>&nbsp;<span class="ident" id="6753557"><a href="/gostd/net/server_test.go.html#6749136">runtime</a></span><span class="op" id="6753564">.</span><span class="ident" id="6753565"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="6753570">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753573">case</span>&nbsp;<span class="string" id="6753578">&#34;darwin&#34;</span><span class="op" id="6753586">,</span>&nbsp;<span class="string" id="6753588">&#34;nacl&#34;</span><span class="op" id="6753594">,</span>&nbsp;<span class="string" id="6753596">&#34;openbsd&#34;</span><span class="op" id="6753605">,</span>&nbsp;<span class="string" id="6753607">&#34;plan9&#34;</span><span class="op" id="6753614">,</span>&nbsp;<span class="string" id="6753616">&#34;windows&#34;</span><span class="op" id="6753625">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753629">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753642">case</span>&nbsp;<span class="string" id="6753647">&#34;freebsd&#34;</span><span class="op" id="6753656">:</span>&nbsp;<span class="comment" id="6753658">//&nbsp;FreeBSD&nbsp;8&nbsp;doesn&#39;t&nbsp;support&nbsp;unixpacket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753700"><a href="/gostd/net/server_test.go.html#6753533">t</a></span><span class="op" id="6753701">.</span><span class="ident" id="6753702"><a href="/gostd/testing/testing.go.html#5480718">Skipf</a></span><span class="op" id="6753707">(</span><span class="string" id="6753708">&#34;skipping&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="6753729">,</span>&nbsp;<span class="ident" id="6753731"><a href="/gostd/net/server_test.go.html#6749136">runtime</a></span><span class="op" id="6753738">.</span><span class="ident" id="6753739"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span><span class="op" id="6753743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6753746">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753750">for</span>&nbsp;<span class="ident" id="6753754">_</span><span class="op" id="6753755">,</span>&nbsp;<span class="ident" id="6753757">tt</span>&nbsp;<span class="op" id="6753760">:=</span>&nbsp;<span class="keyword" id="6753763">range</span>&nbsp;<span class="ident" id="6753769"><a href="/gostd/net/server_test.go.html#6753097">seqpacketConnServerTests</a></span>&nbsp;<span class="op" id="6753794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753798">if</span>&nbsp;<span class="ident" id="6753801"><a href="/gostd/net/server_test.go.html#6749136">runtime</a></span><span class="op" id="6753808">.</span><span class="ident" id="6753809"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="6753814">!=</span>&nbsp;<span class="string" id="6753817">&#34;linux&#34;</span>&nbsp;<span class="op" id="6753825">&amp;&amp;</span>&nbsp;<span class="ident" id="6753828"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6753830">.</span><span class="ident" id="6753831"><a href="/gostd/net/server_test.go.html#6753268">linuxOnly</a></span>&nbsp;<span class="op" id="6753841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753846">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6753857">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753861">listening</span>&nbsp;<span class="op" id="6753871">:=</span>&nbsp;<span class="builtinfunc" id="6753874">make</span><span class="op" id="6753878">(</span><span class="keyword" id="6753879">chan</span>&nbsp;<span class="builtintype" id="6753884">string</span><span class="op" id="6753890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753894">done</span>&nbsp;<span class="op" id="6753899">:=</span>&nbsp;<span class="builtinfunc" id="6753902">make</span><span class="op" id="6753906">(</span><span class="keyword" id="6753907">chan</span>&nbsp;<span class="builtintype" id="6753912">int</span><span class="op" id="6753915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753919">switch</span>&nbsp;<span class="ident" id="6753926"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6753928">.</span><span class="ident" id="6753929"><a href="/gostd/net/server_test.go.html#6753136">net</a></span>&nbsp;<span class="op" id="6753933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6753937">case</span>&nbsp;<span class="string" id="6753942">&#34;unixpacket&#34;</span><span class="op" id="6753954">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753959"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6753961">.</span><span class="ident" id="6753962"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6753968">(</span><span class="ident" id="6753969"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6753971">.</span><span class="ident" id="6753972"><a href="/gostd/net/server_test.go.html#6753154">saddr</a></span><span class="op" id="6753977">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6753982"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6753984">.</span><span class="ident" id="6753985"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6753991">(</span><span class="ident" id="6753992"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6753994">.</span><span class="ident" id="6753995"><a href="/gostd/net/server_test.go.html#6753190">caddr</a></span><span class="op" id="6754000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754009">go</span>&nbsp;<span class="ident" id="6754012"><a href="/gostd/net/server_test.go.html#6754310">runStreamConnServer</a></span><span class="op" id="6754031">(</span><span class="ident" id="6754032"><a href="/gostd/net/server_test.go.html#6753533">t</a></span><span class="op" id="6754033">,</span>&nbsp;<span class="ident" id="6754035"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6754037">.</span><span class="ident" id="6754038"><a href="/gostd/net/server_test.go.html#6753136">net</a></span><span class="op" id="6754041">,</span>&nbsp;<span class="ident" id="6754043"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6754045">.</span><span class="ident" id="6754046"><a href="/gostd/net/server_test.go.html#6753154">saddr</a></span><span class="op" id="6754051">,</span>&nbsp;<span class="ident" id="6754053"><a href="/gostd/net/server_test.go.html#6753861">listening</a></span><span class="op" id="6754062">,</span>&nbsp;<span class="ident" id="6754064"><a href="/gostd/net/server_test.go.html#6753894">done</a></span><span class="op" id="6754068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754072">taddr</span>&nbsp;<span class="op" id="6754078">:=</span>&nbsp;<span class="op" id="6754081">&lt;-</span><span class="ident" id="6754083"><a href="/gostd/net/server_test.go.html#6753861">listening</a></span>&nbsp;<span class="comment" id="6754093">//&nbsp;wait&nbsp;for&nbsp;server&nbsp;to&nbsp;start</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754124"><a href="/gostd/net/server_test.go.html#6755083">runStreamConnClient</a></span><span class="op" id="6754143">(</span><span class="ident" id="6754144"><a href="/gostd/net/server_test.go.html#6753533">t</a></span><span class="op" id="6754145">,</span>&nbsp;<span class="ident" id="6754147"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6754149">.</span><span class="ident" id="6754150"><a href="/gostd/net/server_test.go.html#6753136">net</a></span><span class="op" id="6754153">,</span>&nbsp;<span class="ident" id="6754155"><a href="/gostd/net/server_test.go.html#6754072">taddr</a></span><span class="op" id="6754160">,</span>&nbsp;<span class="ident" id="6754162"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6754164">.</span><span class="ident" id="6754165"><a href="/gostd/net/server_test.go.html#6753226">empty</a></span><span class="op" id="6754170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754174">&lt;-</span><span class="ident" id="6754176"><a href="/gostd/net/server_test.go.html#6753894">done</a></span>&nbsp;<span class="comment" id="6754181">//&nbsp;make&nbsp;sure&nbsp;server&nbsp;stopped</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754212">switch</span>&nbsp;<span class="ident" id="6754219"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6754221">.</span><span class="ident" id="6754222"><a href="/gostd/net/server_test.go.html#6753136">net</a></span>&nbsp;<span class="op" id="6754226">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754230">case</span>&nbsp;<span class="string" id="6754235">&#34;unixpacket&#34;</span><span class="op" id="6754247">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754252"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6754254">.</span><span class="ident" id="6754255"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6754261">(</span><span class="ident" id="6754262"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6754264">.</span><span class="ident" id="6754265"><a href="/gostd/net/server_test.go.html#6753154">saddr</a></span><span class="op" id="6754270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754275"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6754277">.</span><span class="ident" id="6754278"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6754284">(</span><span class="ident" id="6754285"><a href="/gostd/net/server_test.go.html#6753757">tt</a></span><span class="op" id="6754287">.</span><span class="ident" id="6754288"><a href="/gostd/net/server_test.go.html#6753190">caddr</a></span><span class="op" id="6754293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754300">}</span><br>
<span class="lineno">175</span><span class="op" id="6754302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6754305">func</span>&nbsp;<span class="ident" id="6754310">runStreamConnServer</span><span class="op" id="6754329">(</span><span class="ident" id="6754330">t</span>&nbsp;<span class="op" id="6754332">*</span><span class="ident" id="6754333"><a href="/gostd/net/server_test.go.html#6749147">testing</a></span><span class="op" id="6754340">.</span><span class="ident" id="6754341"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6754342">,</span>&nbsp;<span class="ident" id="6754344">net</span><span class="op" id="6754347">,</span>&nbsp;<span class="ident" id="6754349">laddr</span>&nbsp;<span class="builtintype" id="6754355">string</span><span class="op" id="6754361">,</span>&nbsp;<span class="ident" id="6754363">listening</span>&nbsp;<span class="keyword" id="6754373">chan</span><span class="op" id="6754377">&lt;-</span>&nbsp;<span class="builtintype" id="6754380">string</span><span class="op" id="6754386">,</span>&nbsp;<span class="ident" id="6754388">done</span>&nbsp;<span class="keyword" id="6754393">chan</span><span class="op" id="6754397">&lt;-</span>&nbsp;<span class="builtintype" id="6754400">int</span><span class="op" id="6754403">)</span>&nbsp;<span class="op" id="6754405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754408">defer</span>&nbsp;<span class="builtinfunc" id="6754414">close</span><span class="op" id="6754419">(</span><span class="ident" id="6754420"><a href="/gostd/net/server_test.go.html#6754388">done</a></span><span class="op" id="6754424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754427">l</span><span class="op" id="6754428">,</span>&nbsp;<span class="ident" id="6754430">err</span>&nbsp;<span class="op" id="6754434">:=</span>&nbsp;<span class="ident" id="6754437"><a href="/gostd/net/dial.go.html#3207117">Listen</a></span><span class="op" id="6754443">(</span><span class="ident" id="6754444"><a href="/gostd/net/server_test.go.html#6754344">net</a></span><span class="op" id="6754447">,</span>&nbsp;<span class="ident" id="6754449"><a href="/gostd/net/server_test.go.html#6754349">laddr</a></span><span class="op" id="6754454">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754457">if</span>&nbsp;<span class="ident" id="6754460"><a href="/gostd/net/server_test.go.html#6754430">err</a></span>&nbsp;<span class="op" id="6754464">!=</span>&nbsp;<span class="builtintype" id="6754467">nil</span>&nbsp;<span class="op" id="6754471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754475"><a href="/gostd/net/server_test.go.html#6754330">t</a></span><span class="op" id="6754476">.</span><span class="ident" id="6754477"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6754483">(</span><span class="string" id="6754484">&#34;Listen(%q,&nbsp;%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6754511">,</span>&nbsp;<span class="ident" id="6754513"><a href="/gostd/net/server_test.go.html#6754344">net</a></span><span class="op" id="6754516">,</span>&nbsp;<span class="ident" id="6754518"><a href="/gostd/net/server_test.go.html#6754349">laddr</a></span><span class="op" id="6754523">,</span>&nbsp;<span class="ident" id="6754525"><a href="/gostd/net/server_test.go.html#6754430">err</a></span><span class="op" id="6754528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754532"><a href="/gostd/net/server_test.go.html#6754363">listening</a></span>&nbsp;<span class="op" id="6754542">&lt;-</span>&nbsp;<span class="string" id="6754545">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754555">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754563">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754566">defer</span>&nbsp;<span class="ident" id="6754572"><a href="/gostd/net/server_test.go.html#6754427">l</a></span><span class="op" id="6754573">.</span><span class="ident" id="6754574"><a href="/gostd/net/net.go.html#3340928">Close</a></span><span class="op" id="6754579">(</span><span class="op" id="6754580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754583"><a href="/gostd/net/server_test.go.html#6754363">listening</a></span>&nbsp;<span class="op" id="6754593">&lt;-</span>&nbsp;<span class="ident" id="6754596"><a href="/gostd/net/server_test.go.html#6754427">l</a></span><span class="op" id="6754597">.</span><span class="ident" id="6754598"><a href="/gostd/net/net.go.html#3340993">Addr</a></span><span class="op" id="6754602">(</span><span class="op" id="6754603">)</span><span class="op" id="6754604">.</span><span class="ident" id="6754605"><a href="/gostd/net/net.go.html#3334238">String</a></span><span class="op" id="6754611">(</span><span class="op" id="6754612">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754616">echo</span>&nbsp;<span class="op" id="6754621">:=</span>&nbsp;<span class="keyword" id="6754624">func</span><span class="op" id="6754628">(</span><span class="ident" id="6754629">rw</span>&nbsp;<span class="ident" id="6754632"><a href="/gostd/net/server_test.go.html#6749124">io</a></span><span class="op" id="6754634">.</span><span class="ident" id="6754635"><a href="/gostd/io/io.go.html#1423290">ReadWriter</a></span><span class="op" id="6754645">,</span>&nbsp;<span class="ident" id="6754647">done</span>&nbsp;<span class="keyword" id="6754652">chan</span><span class="op" id="6754656">&lt;-</span>&nbsp;<span class="builtintype" id="6754659">int</span><span class="op" id="6754662">)</span>&nbsp;<span class="op" id="6754664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754668">buf</span>&nbsp;<span class="op" id="6754672">:=</span>&nbsp;<span class="builtinfunc" id="6754675">make</span><span class="op" id="6754679">(</span><span class="op" id="6754680">[</span><span class="op" id="6754681">]</span><span class="builtintype" id="6754682">byte</span><span class="op" id="6754686">,</span>&nbsp;<span class="num" id="6754688">1024</span><span class="op" id="6754692">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754696">for</span>&nbsp;<span class="op" id="6754700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754705">n</span><span class="op" id="6754706">,</span>&nbsp;<span class="ident" id="6754708">err</span>&nbsp;<span class="op" id="6754712">:=</span>&nbsp;<span class="ident" id="6754715"><a href="/gostd/net/server_test.go.html#6754629">rw</a></span><span class="op" id="6754717">.</span><span class="ident" id="6754718"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="6754722">(</span><span class="ident" id="6754723"><a href="/gostd/net/server_test.go.html#6754668">buf</a></span><span class="op" id="6754726">[</span><span class="num" id="6754727">0</span><span class="op" id="6754728">:</span><span class="op" id="6754729">]</span><span class="op" id="6754730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754735">if</span>&nbsp;<span class="ident" id="6754738"><a href="/gostd/net/server_test.go.html#6754708">err</a></span>&nbsp;<span class="op" id="6754742">!=</span>&nbsp;<span class="builtintype" id="6754745">nil</span>&nbsp;<span class="op" id="6754749">||</span>&nbsp;<span class="ident" id="6754752"><a href="/gostd/net/server_test.go.html#6754705">n</a></span>&nbsp;<span class="op" id="6754754">==</span>&nbsp;<span class="num" id="6754757">0</span>&nbsp;<span class="op" id="6754759">||</span>&nbsp;<span class="builtintype" id="6754762">string</span><span class="op" id="6754768">(</span><span class="ident" id="6754769"><a href="/gostd/net/server_test.go.html#6754668">buf</a></span><span class="op" id="6754772">[</span><span class="op" id="6754773">:</span><span class="ident" id="6754774"><a href="/gostd/net/server_test.go.html#6754705">n</a></span><span class="op" id="6754775">]</span><span class="op" id="6754776">)</span>&nbsp;<span class="op" id="6754778">==</span>&nbsp;<span class="string" id="6754781">&#34;END&#34;</span>&nbsp;<span class="op" id="6754787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754793">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754802">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754807"><a href="/gostd/net/server_test.go.html#6754629">rw</a></span><span class="op" id="6754809">.</span><span class="ident" id="6754810"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="6754815">(</span><span class="ident" id="6754816"><a href="/gostd/net/server_test.go.html#6754668">buf</a></span><span class="op" id="6754819">[</span><span class="num" id="6754820">0</span><span class="op" id="6754821">:</span><span class="ident" id="6754822"><a href="/gostd/net/server_test.go.html#6754705">n</a></span><span class="op" id="6754823">]</span><span class="op" id="6754824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6754832">close</span><span class="op" id="6754837">(</span><span class="ident" id="6754838"><a href="/gostd/net/server_test.go.html#6754647">done</a></span><span class="op" id="6754842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="ident" id="6754848">run</span><span class="op" id="6754851">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754854">for</span>&nbsp;<span class="op" id="6754858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754862">c</span><span class="op" id="6754863">,</span>&nbsp;<span class="ident" id="6754865">err</span>&nbsp;<span class="op" id="6754869">:=</span>&nbsp;<span class="ident" id="6754872"><a href="/gostd/net/server_test.go.html#6754427">l</a></span><span class="op" id="6754873">.</span><span class="ident" id="6754874"><a href="/gostd/net/net.go.html#3340795">Accept</a></span><span class="op" id="6754880">(</span><span class="op" id="6754881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754885">if</span>&nbsp;<span class="ident" id="6754888"><a href="/gostd/net/server_test.go.html#6754865">err</a></span>&nbsp;<span class="op" id="6754892">!=</span>&nbsp;<span class="builtintype" id="6754895">nil</span>&nbsp;<span class="op" id="6754899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754904"><a href="/gostd/net/server_test.go.html#6754330">t</a></span><span class="op" id="6754905">.</span><span class="ident" id="6754906"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="6754910">(</span><span class="string" id="6754911">&#34;Accept&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6754930">,</span>&nbsp;<span class="ident" id="6754932"><a href="/gostd/net/server_test.go.html#6754865">err</a></span><span class="op" id="6754935">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754940">continue</span>&nbsp;<span class="ident" id="6754949"><a href="/gostd/net/server_test.go.html#6754848">run</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754959">echodone</span>&nbsp;<span class="op" id="6754968">:=</span>&nbsp;<span class="builtinfunc" id="6754971">make</span><span class="op" id="6754975">(</span><span class="keyword" id="6754976">chan</span>&nbsp;<span class="builtintype" id="6754981">int</span><span class="op" id="6754984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6754988">go</span>&nbsp;<span class="ident" id="6754991"><a href="/gostd/net/server_test.go.html#6754616">echo</a></span><span class="op" id="6754995">(</span><span class="ident" id="6754996"><a href="/gostd/net/server_test.go.html#6754862">c</a></span><span class="op" id="6754997">,</span>&nbsp;<span class="ident" id="6754999"><a href="/gostd/net/server_test.go.html#6754959">echodone</a></span><span class="op" id="6755007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755011">&lt;-</span><span class="ident" id="6755013"><a href="/gostd/net/server_test.go.html#6754959">echodone</a></span>&nbsp;<span class="comment" id="6755022">//&nbsp;make&nbsp;sure&nbsp;echo&nbsp;stopped</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755050"><a href="/gostd/net/server_test.go.html#6754862">c</a></span><span class="op" id="6755051">.</span><span class="ident" id="6755052"><a href="/gostd/net/net.go.html#3334987">Close</a></span><span class="op" id="6755057">(</span><span class="op" id="6755058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6755062">break</span>&nbsp;<span class="ident" id="6755068"><a href="/gostd/net/server_test.go.html#6754848">run</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755073">}</span><br>
<span class="lineno"></span><span class="op" id="6755075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="6755078">func</span>&nbsp;<span class="ident" id="6755083">runStreamConnClient</span><span class="op" id="6755102">(</span><span class="ident" id="6755103">t</span>&nbsp;<span class="op" id="6755105">*</span><span class="ident" id="6755106"><a href="/gostd/net/server_test.go.html#6749147">testing</a></span><span class="op" id="6755113">.</span><span class="ident" id="6755114"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6755115">,</span>&nbsp;<span class="ident" id="6755117">net</span><span class="op" id="6755120">,</span>&nbsp;<span class="ident" id="6755122">taddr</span>&nbsp;<span class="builtintype" id="6755128">string</span><span class="op" id="6755134">,</span>&nbsp;<span class="ident" id="6755136">isEmpty</span>&nbsp;<span class="builtintype" id="6755144">bool</span><span class="op" id="6755148">)</span>&nbsp;<span class="op" id="6755150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755153">c</span><span class="op" id="6755154">,</span>&nbsp;<span class="ident" id="6755156">err</span>&nbsp;<span class="op" id="6755160">:=</span>&nbsp;<span class="ident" id="6755163"><a href="/gostd/net/dial.go.html#3203459">Dial</a></span><span class="op" id="6755167">(</span><span class="ident" id="6755168"><a href="/gostd/net/server_test.go.html#6755117">net</a></span><span class="op" id="6755171">,</span>&nbsp;<span class="ident" id="6755173"><a href="/gostd/net/server_test.go.html#6755122">taddr</a></span><span class="op" id="6755178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6755181">if</span>&nbsp;<span class="ident" id="6755184"><a href="/gostd/net/server_test.go.html#6755156">err</a></span>&nbsp;<span class="op" id="6755188">!=</span>&nbsp;<span class="builtintype" id="6755191">nil</span>&nbsp;<span class="op" id="6755195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755199"><a href="/gostd/net/server_test.go.html#6755103">t</a></span><span class="op" id="6755200">.</span><span class="ident" id="6755201"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6755207">(</span><span class="string" id="6755208">&#34;Dial(%q,&nbsp;%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6755233">,</span>&nbsp;<span class="ident" id="6755235"><a href="/gostd/net/server_test.go.html#6755117">net</a></span><span class="op" id="6755238">,</span>&nbsp;<span class="ident" id="6755240"><a href="/gostd/net/server_test.go.html#6755122">taddr</a></span><span class="op" id="6755245">,</span>&nbsp;<span class="ident" id="6755247"><a href="/gostd/net/server_test.go.html#6755156">err</a></span><span class="op" id="6755250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755253">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6755256">defer</span>&nbsp;<span class="ident" id="6755262"><a href="/gostd/net/server_test.go.html#6755153">c</a></span><span class="op" id="6755263">.</span><span class="ident" id="6755264"><a href="/gostd/net/net.go.html#3334987">Close</a></span><span class="op" id="6755269">(</span><span class="op" id="6755270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755273"><a href="/gostd/net/server_test.go.html#6755153">c</a></span><span class="op" id="6755274">.</span><span class="ident" id="6755275"><a href="/gostd/net/net.go.html#3335873">SetReadDeadline</a></span><span class="op" id="6755290">(</span><span class="ident" id="6755291"><a href="/gostd/net/server_test.go.html#6749158">time</a></span><span class="op" id="6755295">.</span><span class="ident" id="6755296"><a href="/gostd/time/time.go.html#2743088">Now</a></span><span class="op" id="6755299">(</span><span class="op" id="6755300">)</span><span class="op" id="6755301">.</span><span class="ident" id="6755302"><a href="/gostd/time/time.go.html#2738615">Add</a></span><span class="op" id="6755305">(</span><span class="num" id="6755306">1</span>&nbsp;<span class="op" id="6755308">*</span>&nbsp;<span class="ident" id="6755310"><a href="/gostd/net/server_test.go.html#6749158">time</a></span><span class="op" id="6755314">.</span><span class="ident" id="6755315"><a href="/gostd/time/time.go.html#2734862">Second</a></span><span class="op" id="6755321">)</span><span class="op" id="6755322">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6755326">var</span>&nbsp;<span class="ident" id="6755330">wb</span>&nbsp;<span class="op" id="6755333">[</span><span class="op" id="6755334">]</span><span class="builtintype" id="6755335">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6755341">if</span>&nbsp;<span class="op" id="6755344">!</span><span class="ident" id="6755345"><a href="/gostd/net/server_test.go.html#6755136">isEmpty</a></span>&nbsp;<span class="op" id="6755353">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755357"><a href="/gostd/net/server_test.go.html#6755330">wb</a></span>&nbsp;<span class="op" id="6755360">=</span>&nbsp;<span class="op" id="6755362">[</span><span class="op" id="6755363">]</span><span class="builtintype" id="6755364">byte</span><span class="op" id="6755368">(</span><span class="string" id="6755369">&#34;StreamConnClient&nbsp;by&nbsp;Dial\n&#34;</span><span class="op" id="6755397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6755403">if</span>&nbsp;<span class="ident" id="6755406">n</span><span class="op" id="6755407">,</span>&nbsp;<span class="ident" id="6755409">err</span>&nbsp;<span class="op" id="6755413">:=</span>&nbsp;<span class="ident" id="6755416"><a href="/gostd/net/server_test.go.html#6755153">c</a></span><span class="op" id="6755417">.</span><span class="ident" id="6755418"><a href="/gostd/net/net.go.html#3334839">Write</a></span><span class="op" id="6755423">(</span><span class="ident" id="6755424"><a href="/gostd/net/server_test.go.html#6755330">wb</a></span><span class="op" id="6755426">)</span><span class="op" id="6755427">;</span>&nbsp;<span class="ident" id="6755429"><a href="/gostd/net/server_test.go.html#6755409">err</a></span>&nbsp;<span class="op" id="6755433">!=</span>&nbsp;<span class="builtintype" id="6755436">nil</span>&nbsp;<span class="op" id="6755440">||</span>&nbsp;<span class="ident" id="6755443"><a href="/gostd/net/server_test.go.html#6755406">n</a></span>&nbsp;<span class="op" id="6755445">!=</span>&nbsp;<span class="builtinfunc" id="6755448">len</span><span class="op" id="6755451">(</span><span class="ident" id="6755452"><a href="/gostd/net/server_test.go.html#6755330">wb</a></span><span class="op" id="6755454">)</span>&nbsp;<span class="op" id="6755456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755460"><a href="/gostd/net/server_test.go.html#6755103">t</a></span><span class="op" id="6755461">.</span><span class="ident" id="6755462"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6755468">(</span><span class="string" id="6755469">&#34;Write&nbsp;failed:&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;&lt;nil&gt;&#34;</span><span class="op" id="6755507">,</span>&nbsp;<span class="ident" id="6755509"><a href="/gostd/net/server_test.go.html#6755406">n</a></span><span class="op" id="6755510">,</span>&nbsp;<span class="ident" id="6755512"><a href="/gostd/net/server_test.go.html#6755409">err</a></span><span class="op" id="6755515">,</span>&nbsp;<span class="builtinfunc" id="6755517">len</span><span class="op" id="6755520">(</span><span class="ident" id="6755521"><a href="/gostd/net/server_test.go.html#6755330">wb</a></span><span class="op" id="6755523">)</span><span class="op" id="6755524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755527">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755531">rb</span>&nbsp;<span class="op" id="6755534">:=</span>&nbsp;<span class="builtinfunc" id="6755537">make</span><span class="op" id="6755541">(</span><span class="op" id="6755542">[</span><span class="op" id="6755543">]</span><span class="builtintype" id="6755544">byte</span><span class="op" id="6755548">,</span>&nbsp;<span class="num" id="6755550">1024</span><span class="op" id="6755554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6755557">if</span>&nbsp;<span class="ident" id="6755560">n</span><span class="op" id="6755561">,</span>&nbsp;<span class="ident" id="6755563">err</span>&nbsp;<span class="op" id="6755567">:=</span>&nbsp;<span class="ident" id="6755570"><a href="/gostd/net/server_test.go.html#6755153">c</a></span><span class="op" id="6755571">.</span><span class="ident" id="6755572"><a href="/gostd/net/net.go.html#3334618">Read</a></span><span class="op" id="6755576">(</span><span class="ident" id="6755577"><a href="/gostd/net/server_test.go.html#6755531">rb</a></span><span class="op" id="6755579">[</span><span class="num" id="6755580">0</span><span class="op" id="6755581">:</span><span class="op" id="6755582">]</span><span class="op" id="6755583">)</span><span class="op" id="6755584">;</span>&nbsp;<span class="ident" id="6755586"><a href="/gostd/net/server_test.go.html#6755563">err</a></span>&nbsp;<span class="op" id="6755590">!=</span>&nbsp;<span class="builtintype" id="6755593">nil</span>&nbsp;<span class="op" id="6755597">||</span>&nbsp;<span class="ident" id="6755600"><a href="/gostd/net/server_test.go.html#6755560">n</a></span>&nbsp;<span class="op" id="6755602">!=</span>&nbsp;<span class="builtinfunc" id="6755605">len</span><span class="op" id="6755608">(</span><span class="ident" id="6755609"><a href="/gostd/net/server_test.go.html#6755330">wb</a></span><span class="op" id="6755611">)</span>&nbsp;<span class="op" id="6755613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755617"><a href="/gostd/net/server_test.go.html#6755103">t</a></span><span class="op" id="6755618">.</span><span class="ident" id="6755619"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6755625">(</span><span class="string" id="6755626">&#34;Read&nbsp;failed:&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;&lt;nil&gt;&#34;</span><span class="op" id="6755663">,</span>&nbsp;<span class="ident" id="6755665"><a href="/gostd/net/server_test.go.html#6755560">n</a></span><span class="op" id="6755666">,</span>&nbsp;<span class="ident" id="6755668"><a href="/gostd/net/server_test.go.html#6755563">err</a></span><span class="op" id="6755671">,</span>&nbsp;<span class="builtinfunc" id="6755673">len</span><span class="op" id="6755676">(</span><span class="ident" id="6755677"><a href="/gostd/net/server_test.go.html#6755330">wb</a></span><span class="op" id="6755679">)</span><span class="op" id="6755680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755683">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6755687">//&nbsp;Send&nbsp;explicit&nbsp;ending&nbsp;for&nbsp;unixpacket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6755728">//&nbsp;Older&nbsp;Linux&nbsp;kernels&nbsp;do&nbsp;not&nbsp;stop&nbsp;reads&nbsp;on&nbsp;close.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6755780">switch</span>&nbsp;<span class="ident" id="6755787"><a href="/gostd/net/server_test.go.html#6755117">net</a></span>&nbsp;<span class="op" id="6755791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6755794">case</span>&nbsp;<span class="string" id="6755799">&#34;unixpacket&#34;</span><span class="op" id="6755811">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755815"><a href="/gostd/net/server_test.go.html#6755153">c</a></span><span class="op" id="6755816">.</span><span class="ident" id="6755817"><a href="/gostd/net/net.go.html#3334839">Write</a></span><span class="op" id="6755822">(</span><span class="op" id="6755823">[</span><span class="op" id="6755824">]</span><span class="builtintype" id="6755825">byte</span><span class="op" id="6755829">(</span><span class="string" id="6755830">&#34;END&#34;</span><span class="op" id="6755835">)</span><span class="op" id="6755836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755839">}</span><br>
<span class="lineno"></span><span class="op" id="6755841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6755844">//&nbsp;Do&nbsp;not&nbsp;test&nbsp;empty&nbsp;datagrams&nbsp;by&nbsp;default.</span><br>
<span class="lineno">245</span><span class="comment" id="6755887">//&nbsp;It&nbsp;causes&nbsp;unexplained&nbsp;timeouts&nbsp;on&nbsp;some&nbsp;systems,</span><br>
<span class="lineno"></span><span class="comment" id="6755938">//&nbsp;including&nbsp;Snow&nbsp;Leopard.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;kernel</span><br>
<span class="lineno"></span><span class="comment" id="6755990">//&nbsp;doesn&#39;t&nbsp;quite&nbsp;expect&nbsp;them.</span><br>
<span class="lineno"></span><span class="keyword" id="6756020">var</span>&nbsp;<span class="ident" id="6756024">testDatagram</span>&nbsp;<span class="op" id="6756037">=</span>&nbsp;<span class="ident" id="6756039"><a href="/gostd/net/server_test.go.html#6749116">flag</a></span><span class="op" id="6756043">.</span><span class="ident" id="6756044"><a href="/gostd/flag/flag.go.html#3948389">Bool</a></span><span class="op" id="6756048">(</span><span class="string" id="6756049">&#34;datagram&#34;</span><span class="op" id="6756059">,</span>&nbsp;<span class="builtintype" id="6756061">false</span><span class="op" id="6756066">,</span>&nbsp;<span class="string" id="6756068">&#34;whether&nbsp;to&nbsp;test&nbsp;udp&nbsp;and&nbsp;unixgram&#34;</span><span class="op" id="6756102">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="6756105">var</span>&nbsp;<span class="ident" id="6756109">datagramPacketConnServerTests</span>&nbsp;<span class="op" id="6756139">=</span>&nbsp;<span class="op" id="6756141">[</span><span class="op" id="6756142">]</span><span class="keyword" id="6756143">struct</span>&nbsp;<span class="op" id="6756150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6756153">snet</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6756163">string</span>&nbsp;<span class="comment" id="6756170">//&nbsp;server&nbsp;side</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6756186">saddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6756196">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6756204">cnet</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6756214">string</span>&nbsp;<span class="comment" id="6756221">//&nbsp;client&nbsp;side</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6756237">caddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6756247">string</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6756255">ipv6</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6756265">bool</span>&nbsp;<span class="comment" id="6756270">//&nbsp;test&nbsp;with&nbsp;underlying&nbsp;AF_INET6&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6756311">ipv4map</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6756321">bool</span>&nbsp;<span class="comment" id="6756326">//&nbsp;test&nbsp;with&nbsp;IPv6&nbsp;IPv4-mapping&nbsp;functionality</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6756372">dial</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6756382">bool</span>&nbsp;<span class="comment" id="6756387">//&nbsp;test&nbsp;with&nbsp;Dial&nbsp;or&nbsp;DialUnix</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6756418">empty</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6756428">bool</span>&nbsp;<span class="comment" id="6756433">//&nbsp;test&nbsp;with&nbsp;empty&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6756458">linuxOnly</span>&nbsp;<span class="builtintype" id="6756468">bool</span>&nbsp;<span class="comment" id="6756473">//&nbsp;test&nbsp;with&nbsp;abstract&nbsp;unix&nbsp;domain&nbsp;socket,&nbsp;a&nbsp;Linux-ism</span><br>
<span class="lineno">260</span><span class="op" id="6756527">}</span><span class="op" id="6756528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6756531">{</span><span class="ident" id="6756532"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6756536">:</span>&nbsp;<span class="string" id="6756538">&#34;udp&#34;</span><span class="op" id="6756543">,</span>&nbsp;<span class="ident" id="6756545"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6756550">:</span>&nbsp;<span class="string" id="6756552">&#34;&#34;</span><span class="op" id="6756554">,</span>&nbsp;<span class="ident" id="6756556"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6756560">:</span>&nbsp;<span class="string" id="6756562">&#34;udp&#34;</span><span class="op" id="6756567">,</span>&nbsp;<span class="ident" id="6756569"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6756574">:</span>&nbsp;<span class="string" id="6756576">&#34;127.0.0.1&#34;</span><span class="op" id="6756587">}</span><span class="op" id="6756588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6756591">{</span><span class="ident" id="6756592"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6756596">:</span>&nbsp;<span class="string" id="6756598">&#34;udp&#34;</span><span class="op" id="6756603">,</span>&nbsp;<span class="ident" id="6756605"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6756610">:</span>&nbsp;<span class="string" id="6756612">&#34;0.0.0.0&#34;</span><span class="op" id="6756621">,</span>&nbsp;<span class="ident" id="6756623"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6756627">:</span>&nbsp;<span class="string" id="6756629">&#34;udp&#34;</span><span class="op" id="6756634">,</span>&nbsp;<span class="ident" id="6756636"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6756641">:</span>&nbsp;<span class="string" id="6756643">&#34;127.0.0.1&#34;</span><span class="op" id="6756654">}</span><span class="op" id="6756655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6756658">{</span><span class="ident" id="6756659"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6756663">:</span>&nbsp;<span class="string" id="6756665">&#34;udp&#34;</span><span class="op" id="6756670">,</span>&nbsp;<span class="ident" id="6756672"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6756677">:</span>&nbsp;<span class="string" id="6756679">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6756697">,</span>&nbsp;<span class="ident" id="6756699"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6756703">:</span>&nbsp;<span class="string" id="6756705">&#34;udp&#34;</span><span class="op" id="6756710">,</span>&nbsp;<span class="ident" id="6756712"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6756717">:</span>&nbsp;<span class="string" id="6756719">&#34;127.0.0.1&#34;</span><span class="op" id="6756730">}</span><span class="op" id="6756731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6756734">{</span><span class="ident" id="6756735"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6756739">:</span>&nbsp;<span class="string" id="6756741">&#34;udp&#34;</span><span class="op" id="6756746">,</span>&nbsp;<span class="ident" id="6756748"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6756753">:</span>&nbsp;<span class="string" id="6756755">&#34;[::]&#34;</span><span class="op" id="6756761">,</span>&nbsp;<span class="ident" id="6756763"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6756767">:</span>&nbsp;<span class="string" id="6756769">&#34;udp&#34;</span><span class="op" id="6756774">,</span>&nbsp;<span class="ident" id="6756776"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6756781">:</span>&nbsp;<span class="string" id="6756783">&#34;[::1]&#34;</span><span class="op" id="6756790">,</span>&nbsp;<span class="ident" id="6756792"><a href="/gostd/net/server_test.go.html#6756255">ipv6</a></span><span class="op" id="6756796">:</span>&nbsp;<span class="builtintype" id="6756798">true</span><span class="op" id="6756802">}</span><span class="op" id="6756803">,</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6756807">{</span><span class="ident" id="6756808"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6756812">:</span>&nbsp;<span class="string" id="6756814">&#34;udp&#34;</span><span class="op" id="6756819">,</span>&nbsp;<span class="ident" id="6756821"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6756826">:</span>&nbsp;<span class="string" id="6756828">&#34;&#34;</span><span class="op" id="6756830">,</span>&nbsp;<span class="ident" id="6756832"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6756836">:</span>&nbsp;<span class="string" id="6756838">&#34;udp&#34;</span><span class="op" id="6756843">,</span>&nbsp;<span class="ident" id="6756845"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6756850">:</span>&nbsp;<span class="string" id="6756852">&#34;[::1]&#34;</span><span class="op" id="6756859">,</span>&nbsp;<span class="ident" id="6756861"><a href="/gostd/net/server_test.go.html#6756311">ipv4map</a></span><span class="op" id="6756868">:</span>&nbsp;<span class="builtintype" id="6756870">true</span><span class="op" id="6756874">}</span><span class="op" id="6756875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6756878">{</span><span class="ident" id="6756879"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6756883">:</span>&nbsp;<span class="string" id="6756885">&#34;udp&#34;</span><span class="op" id="6756890">,</span>&nbsp;<span class="ident" id="6756892"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6756897">:</span>&nbsp;<span class="string" id="6756899">&#34;0.0.0.0&#34;</span><span class="op" id="6756908">,</span>&nbsp;<span class="ident" id="6756910"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6756914">:</span>&nbsp;<span class="string" id="6756916">&#34;udp&#34;</span><span class="op" id="6756921">,</span>&nbsp;<span class="ident" id="6756923"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6756928">:</span>&nbsp;<span class="string" id="6756930">&#34;[::1]&#34;</span><span class="op" id="6756937">,</span>&nbsp;<span class="ident" id="6756939"><a href="/gostd/net/server_test.go.html#6756311">ipv4map</a></span><span class="op" id="6756946">:</span>&nbsp;<span class="builtintype" id="6756948">true</span><span class="op" id="6756952">}</span><span class="op" id="6756953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6756956">{</span><span class="ident" id="6756957"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6756961">:</span>&nbsp;<span class="string" id="6756963">&#34;udp&#34;</span><span class="op" id="6756968">,</span>&nbsp;<span class="ident" id="6756970"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6756975">:</span>&nbsp;<span class="string" id="6756977">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6756995">,</span>&nbsp;<span class="ident" id="6756997"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757001">:</span>&nbsp;<span class="string" id="6757003">&#34;udp&#34;</span><span class="op" id="6757008">,</span>&nbsp;<span class="ident" id="6757010"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757015">:</span>&nbsp;<span class="string" id="6757017">&#34;[::1]&#34;</span><span class="op" id="6757024">,</span>&nbsp;<span class="ident" id="6757026"><a href="/gostd/net/server_test.go.html#6756311">ipv4map</a></span><span class="op" id="6757033">:</span>&nbsp;<span class="builtintype" id="6757035">true</span><span class="op" id="6757039">}</span><span class="op" id="6757040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757043">{</span><span class="ident" id="6757044"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757048">:</span>&nbsp;<span class="string" id="6757050">&#34;udp&#34;</span><span class="op" id="6757055">,</span>&nbsp;<span class="ident" id="6757057"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757062">:</span>&nbsp;<span class="string" id="6757064">&#34;[::]&#34;</span><span class="op" id="6757070">,</span>&nbsp;<span class="ident" id="6757072"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757076">:</span>&nbsp;<span class="string" id="6757078">&#34;udp&#34;</span><span class="op" id="6757083">,</span>&nbsp;<span class="ident" id="6757085"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757090">:</span>&nbsp;<span class="string" id="6757092">&#34;127.0.0.1&#34;</span><span class="op" id="6757103">,</span>&nbsp;<span class="ident" id="6757105"><a href="/gostd/net/server_test.go.html#6756311">ipv4map</a></span><span class="op" id="6757112">:</span>&nbsp;<span class="builtintype" id="6757114">true</span><span class="op" id="6757118">}</span><span class="op" id="6757119">,</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757123">{</span><span class="ident" id="6757124"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757128">:</span>&nbsp;<span class="string" id="6757130">&#34;udp&#34;</span><span class="op" id="6757135">,</span>&nbsp;<span class="ident" id="6757137"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757142">:</span>&nbsp;<span class="string" id="6757144">&#34;&#34;</span><span class="op" id="6757146">,</span>&nbsp;<span class="ident" id="6757148"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757152">:</span>&nbsp;<span class="string" id="6757154">&#34;udp4&#34;</span><span class="op" id="6757160">,</span>&nbsp;<span class="ident" id="6757162"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757167">:</span>&nbsp;<span class="string" id="6757169">&#34;127.0.0.1&#34;</span><span class="op" id="6757180">}</span><span class="op" id="6757181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757184">{</span><span class="ident" id="6757185"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757189">:</span>&nbsp;<span class="string" id="6757191">&#34;udp&#34;</span><span class="op" id="6757196">,</span>&nbsp;<span class="ident" id="6757198"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757203">:</span>&nbsp;<span class="string" id="6757205">&#34;0.0.0.0&#34;</span><span class="op" id="6757214">,</span>&nbsp;<span class="ident" id="6757216"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757220">:</span>&nbsp;<span class="string" id="6757222">&#34;udp4&#34;</span><span class="op" id="6757228">,</span>&nbsp;<span class="ident" id="6757230"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757235">:</span>&nbsp;<span class="string" id="6757237">&#34;127.0.0.1&#34;</span><span class="op" id="6757248">}</span><span class="op" id="6757249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757252">{</span><span class="ident" id="6757253"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757257">:</span>&nbsp;<span class="string" id="6757259">&#34;udp&#34;</span><span class="op" id="6757264">,</span>&nbsp;<span class="ident" id="6757266"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757271">:</span>&nbsp;<span class="string" id="6757273">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6757291">,</span>&nbsp;<span class="ident" id="6757293"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757297">:</span>&nbsp;<span class="string" id="6757299">&#34;udp4&#34;</span><span class="op" id="6757305">,</span>&nbsp;<span class="ident" id="6757307"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757312">:</span>&nbsp;<span class="string" id="6757314">&#34;127.0.0.1&#34;</span><span class="op" id="6757325">}</span><span class="op" id="6757326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757329">{</span><span class="ident" id="6757330"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757334">:</span>&nbsp;<span class="string" id="6757336">&#34;udp&#34;</span><span class="op" id="6757341">,</span>&nbsp;<span class="ident" id="6757343"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757348">:</span>&nbsp;<span class="string" id="6757350">&#34;[::]&#34;</span><span class="op" id="6757356">,</span>&nbsp;<span class="ident" id="6757358"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757362">:</span>&nbsp;<span class="string" id="6757364">&#34;udp6&#34;</span><span class="op" id="6757370">,</span>&nbsp;<span class="ident" id="6757372"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757377">:</span>&nbsp;<span class="string" id="6757379">&#34;[::1]&#34;</span><span class="op" id="6757386">,</span>&nbsp;<span class="ident" id="6757388"><a href="/gostd/net/server_test.go.html#6756255">ipv6</a></span><span class="op" id="6757392">:</span>&nbsp;<span class="builtintype" id="6757394">true</span><span class="op" id="6757398">}</span><span class="op" id="6757399">,</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757403">{</span><span class="ident" id="6757404"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757408">:</span>&nbsp;<span class="string" id="6757410">&#34;udp&#34;</span><span class="op" id="6757415">,</span>&nbsp;<span class="ident" id="6757417"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757422">:</span>&nbsp;<span class="string" id="6757424">&#34;&#34;</span><span class="op" id="6757426">,</span>&nbsp;<span class="ident" id="6757428"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757432">:</span>&nbsp;<span class="string" id="6757434">&#34;udp6&#34;</span><span class="op" id="6757440">,</span>&nbsp;<span class="ident" id="6757442"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757447">:</span>&nbsp;<span class="string" id="6757449">&#34;[::1]&#34;</span><span class="op" id="6757456">,</span>&nbsp;<span class="ident" id="6757458"><a href="/gostd/net/server_test.go.html#6756311">ipv4map</a></span><span class="op" id="6757465">:</span>&nbsp;<span class="builtintype" id="6757467">true</span><span class="op" id="6757471">}</span><span class="op" id="6757472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757475">{</span><span class="ident" id="6757476"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757480">:</span>&nbsp;<span class="string" id="6757482">&#34;udp&#34;</span><span class="op" id="6757487">,</span>&nbsp;<span class="ident" id="6757489"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757494">:</span>&nbsp;<span class="string" id="6757496">&#34;0.0.0.0&#34;</span><span class="op" id="6757505">,</span>&nbsp;<span class="ident" id="6757507"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757511">:</span>&nbsp;<span class="string" id="6757513">&#34;udp6&#34;</span><span class="op" id="6757519">,</span>&nbsp;<span class="ident" id="6757521"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757526">:</span>&nbsp;<span class="string" id="6757528">&#34;[::1]&#34;</span><span class="op" id="6757535">,</span>&nbsp;<span class="ident" id="6757537"><a href="/gostd/net/server_test.go.html#6756311">ipv4map</a></span><span class="op" id="6757544">:</span>&nbsp;<span class="builtintype" id="6757546">true</span><span class="op" id="6757550">}</span><span class="op" id="6757551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757554">{</span><span class="ident" id="6757555"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757559">:</span>&nbsp;<span class="string" id="6757561">&#34;udp&#34;</span><span class="op" id="6757566">,</span>&nbsp;<span class="ident" id="6757568"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757573">:</span>&nbsp;<span class="string" id="6757575">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6757593">,</span>&nbsp;<span class="ident" id="6757595"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757599">:</span>&nbsp;<span class="string" id="6757601">&#34;udp6&#34;</span><span class="op" id="6757607">,</span>&nbsp;<span class="ident" id="6757609"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757614">:</span>&nbsp;<span class="string" id="6757616">&#34;[::1]&#34;</span><span class="op" id="6757623">,</span>&nbsp;<span class="ident" id="6757625"><a href="/gostd/net/server_test.go.html#6756311">ipv4map</a></span><span class="op" id="6757632">:</span>&nbsp;<span class="builtintype" id="6757634">true</span><span class="op" id="6757638">}</span><span class="op" id="6757639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757642">{</span><span class="ident" id="6757643"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757647">:</span>&nbsp;<span class="string" id="6757649">&#34;udp&#34;</span><span class="op" id="6757654">,</span>&nbsp;<span class="ident" id="6757656"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757661">:</span>&nbsp;<span class="string" id="6757663">&#34;[::]&#34;</span><span class="op" id="6757669">,</span>&nbsp;<span class="ident" id="6757671"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757675">:</span>&nbsp;<span class="string" id="6757677">&#34;udp4&#34;</span><span class="op" id="6757683">,</span>&nbsp;<span class="ident" id="6757685"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757690">:</span>&nbsp;<span class="string" id="6757692">&#34;127.0.0.1&#34;</span><span class="op" id="6757703">,</span>&nbsp;<span class="ident" id="6757705"><a href="/gostd/net/server_test.go.html#6756311">ipv4map</a></span><span class="op" id="6757712">:</span>&nbsp;<span class="builtintype" id="6757714">true</span><span class="op" id="6757718">}</span><span class="op" id="6757719">,</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757723">{</span><span class="ident" id="6757724"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757728">:</span>&nbsp;<span class="string" id="6757730">&#34;udp&#34;</span><span class="op" id="6757735">,</span>&nbsp;<span class="ident" id="6757737"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757742">:</span>&nbsp;<span class="string" id="6757744">&#34;127.0.0.1&#34;</span><span class="op" id="6757755">,</span>&nbsp;<span class="ident" id="6757757"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757761">:</span>&nbsp;<span class="string" id="6757763">&#34;udp&#34;</span><span class="op" id="6757768">,</span>&nbsp;<span class="ident" id="6757770"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757775">:</span>&nbsp;<span class="string" id="6757777">&#34;127.0.0.1&#34;</span><span class="op" id="6757788">}</span><span class="op" id="6757789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757792">{</span><span class="ident" id="6757793"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757797">:</span>&nbsp;<span class="string" id="6757799">&#34;udp&#34;</span><span class="op" id="6757804">,</span>&nbsp;<span class="ident" id="6757806"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757811">:</span>&nbsp;<span class="string" id="6757813">&#34;[::ffff:127.0.0.1]&#34;</span><span class="op" id="6757833">,</span>&nbsp;<span class="ident" id="6757835"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757839">:</span>&nbsp;<span class="string" id="6757841">&#34;udp&#34;</span><span class="op" id="6757846">,</span>&nbsp;<span class="ident" id="6757848"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757853">:</span>&nbsp;<span class="string" id="6757855">&#34;127.0.0.1&#34;</span><span class="op" id="6757866">}</span><span class="op" id="6757867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757870">{</span><span class="ident" id="6757871"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757875">:</span>&nbsp;<span class="string" id="6757877">&#34;udp&#34;</span><span class="op" id="6757882">,</span>&nbsp;<span class="ident" id="6757884"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757889">:</span>&nbsp;<span class="string" id="6757891">&#34;[::1]&#34;</span><span class="op" id="6757898">,</span>&nbsp;<span class="ident" id="6757900"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757904">:</span>&nbsp;<span class="string" id="6757906">&#34;udp&#34;</span><span class="op" id="6757911">,</span>&nbsp;<span class="ident" id="6757913"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757918">:</span>&nbsp;<span class="string" id="6757920">&#34;[::1]&#34;</span><span class="op" id="6757927">,</span>&nbsp;<span class="ident" id="6757929"><a href="/gostd/net/server_test.go.html#6756255">ipv6</a></span><span class="op" id="6757933">:</span>&nbsp;<span class="builtintype" id="6757935">true</span><span class="op" id="6757939">}</span><span class="op" id="6757940">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757944">{</span><span class="ident" id="6757945"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6757949">:</span>&nbsp;<span class="string" id="6757951">&#34;udp4&#34;</span><span class="op" id="6757957">,</span>&nbsp;<span class="ident" id="6757959"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6757964">:</span>&nbsp;<span class="string" id="6757966">&#34;&#34;</span><span class="op" id="6757968">,</span>&nbsp;<span class="ident" id="6757970"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6757974">:</span>&nbsp;<span class="string" id="6757976">&#34;udp4&#34;</span><span class="op" id="6757982">,</span>&nbsp;<span class="ident" id="6757984"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6757989">:</span>&nbsp;<span class="string" id="6757991">&#34;127.0.0.1&#34;</span><span class="op" id="6758002">}</span><span class="op" id="6758003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758006">{</span><span class="ident" id="6758007"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758011">:</span>&nbsp;<span class="string" id="6758013">&#34;udp4&#34;</span><span class="op" id="6758019">,</span>&nbsp;<span class="ident" id="6758021"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758026">:</span>&nbsp;<span class="string" id="6758028">&#34;0.0.0.0&#34;</span><span class="op" id="6758037">,</span>&nbsp;<span class="ident" id="6758039"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758043">:</span>&nbsp;<span class="string" id="6758045">&#34;udp4&#34;</span><span class="op" id="6758051">,</span>&nbsp;<span class="ident" id="6758053"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758058">:</span>&nbsp;<span class="string" id="6758060">&#34;127.0.0.1&#34;</span><span class="op" id="6758071">}</span><span class="op" id="6758072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758075">{</span><span class="ident" id="6758076"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758080">:</span>&nbsp;<span class="string" id="6758082">&#34;udp4&#34;</span><span class="op" id="6758088">,</span>&nbsp;<span class="ident" id="6758090"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758095">:</span>&nbsp;<span class="string" id="6758097">&#34;[::ffff:0.0.0.0]&#34;</span><span class="op" id="6758115">,</span>&nbsp;<span class="ident" id="6758117"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758121">:</span>&nbsp;<span class="string" id="6758123">&#34;udp4&#34;</span><span class="op" id="6758129">,</span>&nbsp;<span class="ident" id="6758131"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758136">:</span>&nbsp;<span class="string" id="6758138">&#34;127.0.0.1&#34;</span><span class="op" id="6758149">}</span><span class="op" id="6758150">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758154">{</span><span class="ident" id="6758155"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758159">:</span>&nbsp;<span class="string" id="6758161">&#34;udp4&#34;</span><span class="op" id="6758167">,</span>&nbsp;<span class="ident" id="6758169"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758174">:</span>&nbsp;<span class="string" id="6758176">&#34;127.0.0.1&#34;</span><span class="op" id="6758187">,</span>&nbsp;<span class="ident" id="6758189"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758193">:</span>&nbsp;<span class="string" id="6758195">&#34;udp4&#34;</span><span class="op" id="6758201">,</span>&nbsp;<span class="ident" id="6758203"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758208">:</span>&nbsp;<span class="string" id="6758210">&#34;127.0.0.1&#34;</span><span class="op" id="6758221">}</span><span class="op" id="6758222">,</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758226">{</span><span class="ident" id="6758227"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758231">:</span>&nbsp;<span class="string" id="6758233">&#34;udp6&#34;</span><span class="op" id="6758239">,</span>&nbsp;<span class="ident" id="6758241"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758246">:</span>&nbsp;<span class="string" id="6758248">&#34;&#34;</span><span class="op" id="6758250">,</span>&nbsp;<span class="ident" id="6758252"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758256">:</span>&nbsp;<span class="string" id="6758258">&#34;udp6&#34;</span><span class="op" id="6758264">,</span>&nbsp;<span class="ident" id="6758266"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758271">:</span>&nbsp;<span class="string" id="6758273">&#34;[::1]&#34;</span><span class="op" id="6758280">,</span>&nbsp;<span class="ident" id="6758282"><a href="/gostd/net/server_test.go.html#6756255">ipv6</a></span><span class="op" id="6758286">:</span>&nbsp;<span class="builtintype" id="6758288">true</span><span class="op" id="6758292">}</span><span class="op" id="6758293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758296">{</span><span class="ident" id="6758297"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758301">:</span>&nbsp;<span class="string" id="6758303">&#34;udp6&#34;</span><span class="op" id="6758309">,</span>&nbsp;<span class="ident" id="6758311"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758316">:</span>&nbsp;<span class="string" id="6758318">&#34;[::]&#34;</span><span class="op" id="6758324">,</span>&nbsp;<span class="ident" id="6758326"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758330">:</span>&nbsp;<span class="string" id="6758332">&#34;udp6&#34;</span><span class="op" id="6758338">,</span>&nbsp;<span class="ident" id="6758340"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758345">:</span>&nbsp;<span class="string" id="6758347">&#34;[::1]&#34;</span><span class="op" id="6758354">,</span>&nbsp;<span class="ident" id="6758356"><a href="/gostd/net/server_test.go.html#6756255">ipv6</a></span><span class="op" id="6758360">:</span>&nbsp;<span class="builtintype" id="6758362">true</span><span class="op" id="6758366">}</span><span class="op" id="6758367">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758371">{</span><span class="ident" id="6758372"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758376">:</span>&nbsp;<span class="string" id="6758378">&#34;udp6&#34;</span><span class="op" id="6758384">,</span>&nbsp;<span class="ident" id="6758386"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758391">:</span>&nbsp;<span class="string" id="6758393">&#34;[::1]&#34;</span><span class="op" id="6758400">,</span>&nbsp;<span class="ident" id="6758402"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758406">:</span>&nbsp;<span class="string" id="6758408">&#34;udp6&#34;</span><span class="op" id="6758414">,</span>&nbsp;<span class="ident" id="6758416"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758421">:</span>&nbsp;<span class="string" id="6758423">&#34;[::1]&#34;</span><span class="op" id="6758430">,</span>&nbsp;<span class="ident" id="6758432"><a href="/gostd/net/server_test.go.html#6756255">ipv6</a></span><span class="op" id="6758436">:</span>&nbsp;<span class="builtintype" id="6758438">true</span><span class="op" id="6758442">}</span><span class="op" id="6758443">,</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758447">{</span><span class="ident" id="6758448"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758452">:</span>&nbsp;<span class="string" id="6758454">&#34;udp&#34;</span><span class="op" id="6758459">,</span>&nbsp;<span class="ident" id="6758461"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758466">:</span>&nbsp;<span class="string" id="6758468">&#34;127.0.0.1&#34;</span><span class="op" id="6758479">,</span>&nbsp;<span class="ident" id="6758481"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758485">:</span>&nbsp;<span class="string" id="6758487">&#34;udp&#34;</span><span class="op" id="6758492">,</span>&nbsp;<span class="ident" id="6758494"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758499">:</span>&nbsp;<span class="string" id="6758501">&#34;127.0.0.1&#34;</span><span class="op" id="6758512">,</span>&nbsp;<span class="ident" id="6758514"><a href="/gostd/net/server_test.go.html#6756372">dial</a></span><span class="op" id="6758518">:</span>&nbsp;<span class="builtintype" id="6758520">true</span><span class="op" id="6758524">}</span><span class="op" id="6758525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758528">{</span><span class="ident" id="6758529"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758533">:</span>&nbsp;<span class="string" id="6758535">&#34;udp&#34;</span><span class="op" id="6758540">,</span>&nbsp;<span class="ident" id="6758542"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758547">:</span>&nbsp;<span class="string" id="6758549">&#34;127.0.0.1&#34;</span><span class="op" id="6758560">,</span>&nbsp;<span class="ident" id="6758562"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758566">:</span>&nbsp;<span class="string" id="6758568">&#34;udp&#34;</span><span class="op" id="6758573">,</span>&nbsp;<span class="ident" id="6758575"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758580">:</span>&nbsp;<span class="string" id="6758582">&#34;127.0.0.1&#34;</span><span class="op" id="6758593">,</span>&nbsp;<span class="ident" id="6758595"><a href="/gostd/net/server_test.go.html#6756418">empty</a></span><span class="op" id="6758600">:</span>&nbsp;<span class="builtintype" id="6758602">true</span><span class="op" id="6758606">}</span><span class="op" id="6758607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758610">{</span><span class="ident" id="6758611"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758615">:</span>&nbsp;<span class="string" id="6758617">&#34;udp&#34;</span><span class="op" id="6758622">,</span>&nbsp;<span class="ident" id="6758624"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758629">:</span>&nbsp;<span class="string" id="6758631">&#34;127.0.0.1&#34;</span><span class="op" id="6758642">,</span>&nbsp;<span class="ident" id="6758644"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758648">:</span>&nbsp;<span class="string" id="6758650">&#34;udp&#34;</span><span class="op" id="6758655">,</span>&nbsp;<span class="ident" id="6758657"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758662">:</span>&nbsp;<span class="string" id="6758664">&#34;127.0.0.1&#34;</span><span class="op" id="6758675">,</span>&nbsp;<span class="ident" id="6758677"><a href="/gostd/net/server_test.go.html#6756372">dial</a></span><span class="op" id="6758681">:</span>&nbsp;<span class="builtintype" id="6758683">true</span><span class="op" id="6758687">,</span>&nbsp;<span class="ident" id="6758689"><a href="/gostd/net/server_test.go.html#6756418">empty</a></span><span class="op" id="6758694">:</span>&nbsp;<span class="builtintype" id="6758696">true</span><span class="op" id="6758700">}</span><span class="op" id="6758701">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758705">{</span><span class="ident" id="6758706"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758710">:</span>&nbsp;<span class="string" id="6758712">&#34;udp&#34;</span><span class="op" id="6758717">,</span>&nbsp;<span class="ident" id="6758719"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758724">:</span>&nbsp;<span class="string" id="6758726">&#34;[::1]&#34;</span><span class="op" id="6758733">,</span>&nbsp;<span class="ident" id="6758735"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758739">:</span>&nbsp;<span class="string" id="6758741">&#34;udp&#34;</span><span class="op" id="6758746">,</span>&nbsp;<span class="ident" id="6758748"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758753">:</span>&nbsp;<span class="string" id="6758755">&#34;[::1]&#34;</span><span class="op" id="6758762">,</span>&nbsp;<span class="ident" id="6758764"><a href="/gostd/net/server_test.go.html#6756255">ipv6</a></span><span class="op" id="6758768">:</span>&nbsp;<span class="builtintype" id="6758770">true</span><span class="op" id="6758774">,</span>&nbsp;<span class="ident" id="6758776"><a href="/gostd/net/server_test.go.html#6756372">dial</a></span><span class="op" id="6758780">:</span>&nbsp;<span class="builtintype" id="6758782">true</span><span class="op" id="6758786">}</span><span class="op" id="6758787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758790">{</span><span class="ident" id="6758791"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758795">:</span>&nbsp;<span class="string" id="6758797">&#34;udp&#34;</span><span class="op" id="6758802">,</span>&nbsp;<span class="ident" id="6758804"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758809">:</span>&nbsp;<span class="string" id="6758811">&#34;[::1]&#34;</span><span class="op" id="6758818">,</span>&nbsp;<span class="ident" id="6758820"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758824">:</span>&nbsp;<span class="string" id="6758826">&#34;udp&#34;</span><span class="op" id="6758831">,</span>&nbsp;<span class="ident" id="6758833"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758838">:</span>&nbsp;<span class="string" id="6758840">&#34;[::1]&#34;</span><span class="op" id="6758847">,</span>&nbsp;<span class="ident" id="6758849"><a href="/gostd/net/server_test.go.html#6756255">ipv6</a></span><span class="op" id="6758853">:</span>&nbsp;<span class="builtintype" id="6758855">true</span><span class="op" id="6758859">,</span>&nbsp;<span class="ident" id="6758861"><a href="/gostd/net/server_test.go.html#6756418">empty</a></span><span class="op" id="6758866">:</span>&nbsp;<span class="builtintype" id="6758868">true</span><span class="op" id="6758872">}</span><span class="op" id="6758873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758876">{</span><span class="ident" id="6758877"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758881">:</span>&nbsp;<span class="string" id="6758883">&#34;udp&#34;</span><span class="op" id="6758888">,</span>&nbsp;<span class="ident" id="6758890"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758895">:</span>&nbsp;<span class="string" id="6758897">&#34;[::1]&#34;</span><span class="op" id="6758904">,</span>&nbsp;<span class="ident" id="6758906"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6758910">:</span>&nbsp;<span class="string" id="6758912">&#34;udp&#34;</span><span class="op" id="6758917">,</span>&nbsp;<span class="ident" id="6758919"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6758924">:</span>&nbsp;<span class="string" id="6758926">&#34;[::1]&#34;</span><span class="op" id="6758933">,</span>&nbsp;<span class="ident" id="6758935"><a href="/gostd/net/server_test.go.html#6756255">ipv6</a></span><span class="op" id="6758939">:</span>&nbsp;<span class="builtintype" id="6758941">true</span><span class="op" id="6758945">,</span>&nbsp;<span class="ident" id="6758947"><a href="/gostd/net/server_test.go.html#6756372">dial</a></span><span class="op" id="6758951">:</span>&nbsp;<span class="builtintype" id="6758953">true</span><span class="op" id="6758957">,</span>&nbsp;<span class="ident" id="6758959"><a href="/gostd/net/server_test.go.html#6756418">empty</a></span><span class="op" id="6758964">:</span>&nbsp;<span class="builtintype" id="6758966">true</span><span class="op" id="6758970">}</span><span class="op" id="6758971">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758975">{</span><span class="ident" id="6758976"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6758980">:</span>&nbsp;<span class="string" id="6758982">&#34;unixgram&#34;</span><span class="op" id="6758992">,</span>&nbsp;<span class="ident" id="6758994"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6758999">:</span>&nbsp;<span class="ident" id="6759001"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6759013">(</span><span class="op" id="6759014">)</span><span class="op" id="6759015">,</span>&nbsp;<span class="ident" id="6759017"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6759021">:</span>&nbsp;<span class="string" id="6759023">&#34;unixgram&#34;</span><span class="op" id="6759033">,</span>&nbsp;<span class="ident" id="6759035"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6759040">:</span>&nbsp;<span class="ident" id="6759042"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6759054">(</span><span class="op" id="6759055">)</span><span class="op" id="6759056">}</span><span class="op" id="6759057">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759060">{</span><span class="ident" id="6759061"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6759065">:</span>&nbsp;<span class="string" id="6759067">&#34;unixgram&#34;</span><span class="op" id="6759077">,</span>&nbsp;<span class="ident" id="6759079"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6759084">:</span>&nbsp;<span class="ident" id="6759086"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6759098">(</span><span class="op" id="6759099">)</span><span class="op" id="6759100">,</span>&nbsp;<span class="ident" id="6759102"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6759106">:</span>&nbsp;<span class="string" id="6759108">&#34;unixgram&#34;</span><span class="op" id="6759118">,</span>&nbsp;<span class="ident" id="6759120"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6759125">:</span>&nbsp;<span class="ident" id="6759127"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6759139">(</span><span class="op" id="6759140">)</span><span class="op" id="6759141">,</span>&nbsp;<span class="ident" id="6759143"><a href="/gostd/net/server_test.go.html#6756372">dial</a></span><span class="op" id="6759147">:</span>&nbsp;<span class="builtintype" id="6759149">true</span><span class="op" id="6759153">}</span><span class="op" id="6759154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759157">{</span><span class="ident" id="6759158"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6759162">:</span>&nbsp;<span class="string" id="6759164">&#34;unixgram&#34;</span><span class="op" id="6759174">,</span>&nbsp;<span class="ident" id="6759176"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6759181">:</span>&nbsp;<span class="ident" id="6759183"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6759195">(</span><span class="op" id="6759196">)</span><span class="op" id="6759197">,</span>&nbsp;<span class="ident" id="6759199"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6759203">:</span>&nbsp;<span class="string" id="6759205">&#34;unixgram&#34;</span><span class="op" id="6759215">,</span>&nbsp;<span class="ident" id="6759217"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6759222">:</span>&nbsp;<span class="ident" id="6759224"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6759236">(</span><span class="op" id="6759237">)</span><span class="op" id="6759238">,</span>&nbsp;<span class="ident" id="6759240"><a href="/gostd/net/server_test.go.html#6756418">empty</a></span><span class="op" id="6759245">:</span>&nbsp;<span class="builtintype" id="6759247">true</span><span class="op" id="6759251">}</span><span class="op" id="6759252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759255">{</span><span class="ident" id="6759256"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6759260">:</span>&nbsp;<span class="string" id="6759262">&#34;unixgram&#34;</span><span class="op" id="6759272">,</span>&nbsp;<span class="ident" id="6759274"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6759279">:</span>&nbsp;<span class="ident" id="6759281"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6759293">(</span><span class="op" id="6759294">)</span><span class="op" id="6759295">,</span>&nbsp;<span class="ident" id="6759297"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6759301">:</span>&nbsp;<span class="string" id="6759303">&#34;unixgram&#34;</span><span class="op" id="6759313">,</span>&nbsp;<span class="ident" id="6759315"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6759320">:</span>&nbsp;<span class="ident" id="6759322"><a href="/gostd/net/protoconn_test.go.html#6739766">testUnixAddr</a></span><span class="op" id="6759334">(</span><span class="op" id="6759335">)</span><span class="op" id="6759336">,</span>&nbsp;<span class="ident" id="6759338"><a href="/gostd/net/server_test.go.html#6756372">dial</a></span><span class="op" id="6759342">:</span>&nbsp;<span class="builtintype" id="6759344">true</span><span class="op" id="6759348">,</span>&nbsp;<span class="ident" id="6759350"><a href="/gostd/net/server_test.go.html#6756418">empty</a></span><span class="op" id="6759355">:</span>&nbsp;<span class="builtintype" id="6759357">true</span><span class="op" id="6759361">}</span><span class="op" id="6759362">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759366">{</span><span class="ident" id="6759367"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6759371">:</span>&nbsp;<span class="string" id="6759373">&#34;unixgram&#34;</span><span class="op" id="6759383">,</span>&nbsp;<span class="ident" id="6759385"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6759390">:</span>&nbsp;<span class="string" id="6759392">&#34;@gotest6/net&#34;</span><span class="op" id="6759406">,</span>&nbsp;<span class="ident" id="6759408"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6759412">:</span>&nbsp;<span class="string" id="6759414">&#34;unixgram&#34;</span><span class="op" id="6759424">,</span>&nbsp;<span class="ident" id="6759426"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6759431">:</span>&nbsp;<span class="string" id="6759433">&#34;@gotest6/net.local&#34;</span><span class="op" id="6759453">,</span>&nbsp;<span class="ident" id="6759455"><a href="/gostd/net/server_test.go.html#6756458">linuxOnly</a></span><span class="op" id="6759464">:</span>&nbsp;<span class="builtintype" id="6759466">true</span><span class="op" id="6759470">}</span><span class="op" id="6759471">,</span><br>
<span class="lineno">310</span><span class="op" id="6759473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6759476">func</span>&nbsp;<span class="ident" id="6759481">TestDatagramPacketConnServer</span><span class="op" id="6759509">(</span><span class="ident" id="6759510">t</span>&nbsp;<span class="op" id="6759512">*</span><span class="ident" id="6759513"><a href="/gostd/net/server_test.go.html#6749147">testing</a></span><span class="op" id="6759520">.</span><span class="ident" id="6759521"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6759522">)</span>&nbsp;<span class="op" id="6759524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759527">if</span>&nbsp;<span class="op" id="6759530">!</span><span class="op" id="6759531">*</span><span class="ident" id="6759532"><a href="/gostd/net/server_test.go.html#6756024">testDatagram</a></span>&nbsp;<span class="op" id="6759545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759549">return</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759561">for</span>&nbsp;<span class="ident" id="6759565">_</span><span class="op" id="6759566">,</span>&nbsp;<span class="ident" id="6759568">tt</span>&nbsp;<span class="op" id="6759571">:=</span>&nbsp;<span class="keyword" id="6759574">range</span>&nbsp;<span class="ident" id="6759580"><a href="/gostd/net/server_test.go.html#6756109">datagramPacketConnServerTests</a></span>&nbsp;<span class="op" id="6759610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759614">if</span>&nbsp;<span class="ident" id="6759617"><a href="/gostd/net/server_test.go.html#6749173">skipServerTest</a></span><span class="op" id="6759631">(</span><span class="ident" id="6759632"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759634">.</span><span class="ident" id="6759635"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6759639">,</span>&nbsp;<span class="string" id="6759641">&#34;unixgram&#34;</span><span class="op" id="6759651">,</span>&nbsp;<span class="ident" id="6759653"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759655">.</span><span class="ident" id="6759656"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6759661">,</span>&nbsp;<span class="ident" id="6759663"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759665">.</span><span class="ident" id="6759666"><a href="/gostd/net/server_test.go.html#6756255">ipv6</a></span><span class="op" id="6759670">,</span>&nbsp;<span class="ident" id="6759672"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759674">.</span><span class="ident" id="6759675"><a href="/gostd/net/server_test.go.html#6756311">ipv4map</a></span><span class="op" id="6759682">,</span>&nbsp;<span class="ident" id="6759684"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759686">.</span><span class="ident" id="6759687"><a href="/gostd/net/server_test.go.html#6756458">linuxOnly</a></span><span class="op" id="6759696">)</span>&nbsp;<span class="op" id="6759698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759703">continue</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759719">listening</span>&nbsp;<span class="op" id="6759729">:=</span>&nbsp;<span class="builtinfunc" id="6759732">make</span><span class="op" id="6759736">(</span><span class="keyword" id="6759737">chan</span>&nbsp;<span class="builtintype" id="6759742">string</span><span class="op" id="6759748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759752">done</span>&nbsp;<span class="op" id="6759757">:=</span>&nbsp;<span class="builtinfunc" id="6759760">make</span><span class="op" id="6759764">(</span><span class="keyword" id="6759765">chan</span>&nbsp;<span class="builtintype" id="6759770">int</span><span class="op" id="6759773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759777">switch</span>&nbsp;<span class="ident" id="6759784"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759786">.</span><span class="ident" id="6759787"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span>&nbsp;<span class="op" id="6759792">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759796">case</span>&nbsp;<span class="string" id="6759801">&#34;udp&#34;</span><span class="op" id="6759806">,</span>&nbsp;<span class="string" id="6759808">&#34;udp4&#34;</span><span class="op" id="6759814">,</span>&nbsp;<span class="string" id="6759816">&#34;udp6&#34;</span><span class="op" id="6759822">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759827"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759829">.</span><span class="ident" id="6759830"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span>&nbsp;<span class="op" id="6759836">+=</span>&nbsp;<span class="string" id="6759839">&#34;:0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759846">case</span>&nbsp;<span class="string" id="6759851">&#34;unixgram&#34;</span><span class="op" id="6759861">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759866"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6759868">.</span><span class="ident" id="6759869"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6759875">(</span><span class="ident" id="6759876"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759878">.</span><span class="ident" id="6759879"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6759884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759889"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6759891">.</span><span class="ident" id="6759892"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6759898">(</span><span class="ident" id="6759899"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759901">.</span><span class="ident" id="6759902"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6759907">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759916">go</span>&nbsp;<span class="ident" id="6759919"><a href="/gostd/net/server_test.go.html#6760598">runDatagramPacketConnServer</a></span><span class="op" id="6759946">(</span><span class="ident" id="6759947"><a href="/gostd/net/server_test.go.html#6759510">t</a></span><span class="op" id="6759948">,</span>&nbsp;<span class="ident" id="6759950"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759952">.</span><span class="ident" id="6759953"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span><span class="op" id="6759957">,</span>&nbsp;<span class="ident" id="6759959"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6759961">.</span><span class="ident" id="6759962"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6759967">,</span>&nbsp;<span class="ident" id="6759969"><a href="/gostd/net/server_test.go.html#6759719">listening</a></span><span class="op" id="6759978">,</span>&nbsp;<span class="ident" id="6759980"><a href="/gostd/net/server_test.go.html#6759752">done</a></span><span class="op" id="6759984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759988">taddr</span>&nbsp;<span class="op" id="6759994">:=</span>&nbsp;<span class="op" id="6759997">&lt;-</span><span class="ident" id="6759999"><a href="/gostd/net/server_test.go.html#6759719">listening</a></span>&nbsp;<span class="comment" id="6760009">//&nbsp;wait&nbsp;for&nbsp;server&nbsp;to&nbsp;start</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760040">switch</span>&nbsp;<span class="ident" id="6760047"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760049">.</span><span class="ident" id="6760050"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span>&nbsp;<span class="op" id="6760055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760059">case</span>&nbsp;<span class="string" id="6760064">&#34;udp&#34;</span><span class="op" id="6760069">,</span>&nbsp;<span class="string" id="6760071">&#34;udp4&#34;</span><span class="op" id="6760077">,</span>&nbsp;<span class="string" id="6760079">&#34;udp6&#34;</span><span class="op" id="6760085">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760090">_</span><span class="op" id="6760091">,</span>&nbsp;<span class="ident" id="6760093">port</span><span class="op" id="6760097">,</span>&nbsp;<span class="ident" id="6760099">err</span>&nbsp;<span class="op" id="6760103">:=</span>&nbsp;<span class="ident" id="6760106"><a href="/gostd/net/ipsock.go.html#3313208">SplitHostPort</a></span><span class="op" id="6760119">(</span><span class="ident" id="6760120"><a href="/gostd/net/server_test.go.html#6759988">taddr</a></span><span class="op" id="6760125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760130">if</span>&nbsp;<span class="ident" id="6760133"><a href="/gostd/net/server_test.go.html#6760099">err</a></span>&nbsp;<span class="op" id="6760137">!=</span>&nbsp;<span class="builtintype" id="6760140">nil</span>&nbsp;<span class="op" id="6760144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760150"><a href="/gostd/net/server_test.go.html#6759510">t</a></span><span class="op" id="6760151">.</span><span class="ident" id="6760152"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6760158">(</span><span class="string" id="6760159">&#34;SplitHostPort(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6760189">,</span>&nbsp;<span class="ident" id="6760191"><a href="/gostd/net/server_test.go.html#6759988">taddr</a></span><span class="op" id="6760196">,</span>&nbsp;<span class="ident" id="6760198"><a href="/gostd/net/server_test.go.html#6760099">err</a></span><span class="op" id="6760201">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760211"><a href="/gostd/net/server_test.go.html#6759988">taddr</a></span>&nbsp;<span class="op" id="6760217">=</span>&nbsp;<span class="ident" id="6760219"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760221">.</span><span class="ident" id="6760222"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span>&nbsp;<span class="op" id="6760228">+</span>&nbsp;<span class="string" id="6760230">&#34;:&#34;</span>&nbsp;<span class="op" id="6760234">+</span>&nbsp;<span class="ident" id="6760236"><a href="/gostd/net/server_test.go.html#6760093">port</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760244"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760246">.</span><span class="ident" id="6760247"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span>&nbsp;<span class="op" id="6760253">+=</span>&nbsp;<span class="string" id="6760256">&#34;:0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760267">if</span>&nbsp;<span class="ident" id="6760270"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760272">.</span><span class="ident" id="6760273"><a href="/gostd/net/server_test.go.html#6756372">dial</a></span>&nbsp;<span class="op" id="6760278">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760283"><a href="/gostd/net/server_test.go.html#6761364">runDatagramConnClient</a></span><span class="op" id="6760304">(</span><span class="ident" id="6760305"><a href="/gostd/net/server_test.go.html#6759510">t</a></span><span class="op" id="6760306">,</span>&nbsp;<span class="ident" id="6760308"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760310">.</span><span class="ident" id="6760311"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6760315">,</span>&nbsp;<span class="ident" id="6760317"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760319">.</span><span class="ident" id="6760320"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6760325">,</span>&nbsp;<span class="ident" id="6760327"><a href="/gostd/net/server_test.go.html#6759988">taddr</a></span><span class="op" id="6760332">,</span>&nbsp;<span class="ident" id="6760334"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760336">.</span><span class="ident" id="6760337"><a href="/gostd/net/server_test.go.html#6756418">empty</a></span><span class="op" id="6760342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760346">}</span>&nbsp;<span class="keyword" id="6760348">else</span>&nbsp;<span class="op" id="6760353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760358"><a href="/gostd/net/server_test.go.html#6762271">runDatagramPacketConnClient</a></span><span class="op" id="6760385">(</span><span class="ident" id="6760386"><a href="/gostd/net/server_test.go.html#6759510">t</a></span><span class="op" id="6760387">,</span>&nbsp;<span class="ident" id="6760389"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760391">.</span><span class="ident" id="6760392"><a href="/gostd/net/server_test.go.html#6756204">cnet</a></span><span class="op" id="6760396">,</span>&nbsp;<span class="ident" id="6760398"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760400">.</span><span class="ident" id="6760401"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6760406">,</span>&nbsp;<span class="ident" id="6760408"><a href="/gostd/net/server_test.go.html#6759988">taddr</a></span><span class="op" id="6760413">,</span>&nbsp;<span class="ident" id="6760415"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760417">.</span><span class="ident" id="6760418"><a href="/gostd/net/server_test.go.html#6756418">empty</a></span><span class="op" id="6760423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760431">&lt;-</span><span class="ident" id="6760433"><a href="/gostd/net/server_test.go.html#6759752">done</a></span>&nbsp;<span class="comment" id="6760438">//&nbsp;tell&nbsp;server&nbsp;to&nbsp;stop</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760463">&lt;-</span><span class="ident" id="6760465"><a href="/gostd/net/server_test.go.html#6759752">done</a></span>&nbsp;<span class="comment" id="6760470">//&nbsp;make&nbsp;sure&nbsp;server&nbsp;stopped</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760501">switch</span>&nbsp;<span class="ident" id="6760508"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760510">.</span><span class="ident" id="6760511"><a href="/gostd/net/server_test.go.html#6756153">snet</a></span>&nbsp;<span class="op" id="6760516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760520">case</span>&nbsp;<span class="string" id="6760525">&#34;unixgram&#34;</span><span class="op" id="6760535">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760540"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6760542">.</span><span class="ident" id="6760543"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6760549">(</span><span class="ident" id="6760550"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760552">.</span><span class="ident" id="6760553"><a href="/gostd/net/server_test.go.html#6756186">saddr</a></span><span class="op" id="6760558">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760563"><a href="/gostd/net/server_test.go.html#6749130">os</a></span><span class="op" id="6760565">.</span><span class="ident" id="6760566"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="6760572">(</span><span class="ident" id="6760573"><a href="/gostd/net/server_test.go.html#6759568">tt</a></span><span class="op" id="6760575">.</span><span class="ident" id="6760576"><a href="/gostd/net/server_test.go.html#6756237">caddr</a></span><span class="op" id="6760581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760588">}</span><br>
<span class="lineno"></span><span class="op" id="6760590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="6760593">func</span>&nbsp;<span class="ident" id="6760598">runDatagramPacketConnServer</span><span class="op" id="6760625">(</span><span class="ident" id="6760626">t</span>&nbsp;<span class="op" id="6760628">*</span><span class="ident" id="6760629"><a href="/gostd/net/server_test.go.html#6749147">testing</a></span><span class="op" id="6760636">.</span><span class="ident" id="6760637"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6760638">,</span>&nbsp;<span class="ident" id="6760640">net</span><span class="op" id="6760643">,</span>&nbsp;<span class="ident" id="6760645">laddr</span>&nbsp;<span class="builtintype" id="6760651">string</span><span class="op" id="6760657">,</span>&nbsp;<span class="ident" id="6760659">listening</span>&nbsp;<span class="keyword" id="6760669">chan</span><span class="op" id="6760673">&lt;-</span>&nbsp;<span class="builtintype" id="6760676">string</span><span class="op" id="6760682">,</span>&nbsp;<span class="ident" id="6760684">done</span>&nbsp;<span class="keyword" id="6760689">chan</span><span class="op" id="6760693">&lt;-</span>&nbsp;<span class="builtintype" id="6760696">int</span><span class="op" id="6760699">)</span>&nbsp;<span class="op" id="6760701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760704">c</span><span class="op" id="6760705">,</span>&nbsp;<span class="ident" id="6760707">err</span>&nbsp;<span class="op" id="6760711">:=</span>&nbsp;<span class="ident" id="6760714"><a href="/gostd/net/dial.go.html#3207909">ListenPacket</a></span><span class="op" id="6760726">(</span><span class="ident" id="6760727"><a href="/gostd/net/server_test.go.html#6760640">net</a></span><span class="op" id="6760730">,</span>&nbsp;<span class="ident" id="6760732"><a href="/gostd/net/server_test.go.html#6760645">laddr</a></span><span class="op" id="6760737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760740">if</span>&nbsp;<span class="ident" id="6760743"><a href="/gostd/net/server_test.go.html#6760707">err</a></span>&nbsp;<span class="op" id="6760747">!=</span>&nbsp;<span class="builtintype" id="6760750">nil</span>&nbsp;<span class="op" id="6760754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760758"><a href="/gostd/net/server_test.go.html#6760626">t</a></span><span class="op" id="6760759">.</span><span class="ident" id="6760760"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6760766">(</span><span class="string" id="6760767">&#34;ListenPacket(%q,&nbsp;%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6760800">,</span>&nbsp;<span class="ident" id="6760802"><a href="/gostd/net/server_test.go.html#6760640">net</a></span><span class="op" id="6760805">,</span>&nbsp;<span class="ident" id="6760807"><a href="/gostd/net/server_test.go.html#6760645">laddr</a></span><span class="op" id="6760812">,</span>&nbsp;<span class="ident" id="6760814"><a href="/gostd/net/server_test.go.html#6760707">err</a></span><span class="op" id="6760817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760821"><a href="/gostd/net/server_test.go.html#6760659">listening</a></span>&nbsp;<span class="op" id="6760831">&lt;-</span>&nbsp;<span class="string" id="6760834">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760844"><a href="/gostd/net/server_test.go.html#6760684">done</a></span>&nbsp;<span class="op" id="6760849">&lt;-</span>&nbsp;<span class="num" id="6760852">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760856">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760867">defer</span>&nbsp;<span class="ident" id="6760873"><a href="/gostd/net/server_test.go.html#6760704">c</a></span><span class="op" id="6760874">.</span><span class="ident" id="6760875"><a href="/gostd/net/net.go.html#3339672">Close</a></span><span class="op" id="6760880">(</span><span class="op" id="6760881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760884"><a href="/gostd/net/server_test.go.html#6760659">listening</a></span>&nbsp;<span class="op" id="6760894">&lt;-</span>&nbsp;<span class="ident" id="6760897"><a href="/gostd/net/server_test.go.html#6760704">c</a></span><span class="op" id="6760898">.</span><span class="ident" id="6760899"><a href="/gostd/net/net.go.html#3339737">LocalAddr</a></span><span class="op" id="6760908">(</span><span class="op" id="6760909">)</span><span class="op" id="6760910">.</span><span class="ident" id="6760911"><a href="/gostd/net/net.go.html#3334238">String</a></span><span class="op" id="6760917">(</span><span class="op" id="6760918">)</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760922">buf</span>&nbsp;<span class="op" id="6760926">:=</span>&nbsp;<span class="builtinfunc" id="6760929">make</span><span class="op" id="6760933">(</span><span class="op" id="6760934">[</span><span class="op" id="6760935">]</span><span class="builtintype" id="6760936">byte</span><span class="op" id="6760940">,</span>&nbsp;<span class="num" id="6760942">1024</span><span class="op" id="6760946">)</span><br>
<span class="lineno"></span><span class="ident" id="6760948">run</span><span class="op" id="6760951">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760954">for</span>&nbsp;<span class="op" id="6760958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760962"><a href="/gostd/net/server_test.go.html#6760704">c</a></span><span class="op" id="6760963">.</span><span class="ident" id="6760964"><a href="/gostd/net/net.go.html#3340093">SetReadDeadline</a></span><span class="op" id="6760979">(</span><span class="ident" id="6760980"><a href="/gostd/net/server_test.go.html#6749158">time</a></span><span class="op" id="6760984">.</span><span class="ident" id="6760985"><a href="/gostd/time/time.go.html#2743088">Now</a></span><span class="op" id="6760988">(</span><span class="op" id="6760989">)</span><span class="op" id="6760990">.</span><span class="ident" id="6760991"><a href="/gostd/time/time.go.html#2738615">Add</a></span><span class="op" id="6760994">(</span><span class="num" id="6760995">10</span>&nbsp;<span class="op" id="6760998">*</span>&nbsp;<span class="ident" id="6761000"><a href="/gostd/net/server_test.go.html#6749158">time</a></span><span class="op" id="6761004">.</span><span class="ident" id="6761005"><a href="/gostd/time/time.go.html#2734819">Millisecond</a></span><span class="op" id="6761016">)</span><span class="op" id="6761017">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761021">n</span><span class="op" id="6761022">,</span>&nbsp;<span class="ident" id="6761024">ra</span><span class="op" id="6761026">,</span>&nbsp;<span class="ident" id="6761028">err</span>&nbsp;<span class="op" id="6761032">:=</span>&nbsp;<span class="ident" id="6761035"><a href="/gostd/net/server_test.go.html#6760704">c</a></span><span class="op" id="6761036">.</span><span class="ident" id="6761037"><a href="/gostd/net/net.go.html#3339190">ReadFrom</a></span><span class="op" id="6761045">(</span><span class="ident" id="6761046"><a href="/gostd/net/server_test.go.html#6760922">buf</a></span><span class="op" id="6761049">[</span><span class="num" id="6761050">0</span><span class="op" id="6761051">:</span><span class="op" id="6761052">]</span><span class="op" id="6761053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761057">if</span>&nbsp;<span class="ident" id="6761060">nerr</span><span class="op" id="6761064">,</span>&nbsp;<span class="ident" id="6761066">ok</span>&nbsp;<span class="op" id="6761069">:=</span>&nbsp;<span class="ident" id="6761072"><a href="/gostd/net/server_test.go.html#6761028">err</a></span><span class="op" id="6761075">.</span><span class="op" id="6761076">(</span><span class="ident" id="6761077"><a href="/gostd/net/net.go.html#3338570">Error</a></span><span class="op" id="6761082">)</span><span class="op" id="6761083">;</span>&nbsp;<span class="ident" id="6761085"><a href="/gostd/net/server_test.go.html#6761066">ok</a></span>&nbsp;<span class="op" id="6761088">&amp;&amp;</span>&nbsp;<span class="ident" id="6761091"><a href="/gostd/net/server_test.go.html#6761060">nerr</a></span><span class="op" id="6761095">.</span><span class="ident" id="6761096"><a href="/gostd/net/net.go.html#3338596">Timeout</a></span><span class="op" id="6761103">(</span><span class="op" id="6761104">)</span>&nbsp;<span class="op" id="6761106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761111">select</span>&nbsp;<span class="op" id="6761118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761123">case</span>&nbsp;<span class="ident" id="6761128"><a href="/gostd/net/server_test.go.html#6760684">done</a></span>&nbsp;<span class="op" id="6761133">&lt;-</span>&nbsp;<span class="num" id="6761136">1</span><span class="op" id="6761137">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761143">break</span>&nbsp;<span class="ident" id="6761149"><a href="/gostd/net/server_test.go.html#6760948">run</a></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761156">default</span><span class="op" id="6761163">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761169">continue</span>&nbsp;<span class="ident" id="6761178"><a href="/gostd/net/server_test.go.html#6760948">run</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761193">if</span>&nbsp;<span class="ident" id="6761196"><a href="/gostd/net/server_test.go.html#6761028">err</a></span>&nbsp;<span class="op" id="6761200">!=</span>&nbsp;<span class="builtintype" id="6761203">nil</span>&nbsp;<span class="op" id="6761207">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761212">break</span>&nbsp;<span class="ident" id="6761218"><a href="/gostd/net/server_test.go.html#6760948">run</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761228">if</span>&nbsp;<span class="ident" id="6761231">_</span><span class="op" id="6761232">,</span>&nbsp;<span class="ident" id="6761234"><a href="/gostd/net/server_test.go.html#6761028">err</a></span>&nbsp;<span class="op" id="6761238">=</span>&nbsp;<span class="ident" id="6761240"><a href="/gostd/net/server_test.go.html#6760704">c</a></span><span class="op" id="6761241">.</span><span class="ident" id="6761242"><a href="/gostd/net/net.go.html#3339505">WriteTo</a></span><span class="op" id="6761249">(</span><span class="ident" id="6761250"><a href="/gostd/net/server_test.go.html#6760922">buf</a></span><span class="op" id="6761253">[</span><span class="num" id="6761254">0</span><span class="op" id="6761255">:</span><span class="ident" id="6761256"><a href="/gostd/net/server_test.go.html#6761021">n</a></span><span class="op" id="6761257">]</span><span class="op" id="6761258">,</span>&nbsp;<span class="ident" id="6761260"><a href="/gostd/net/server_test.go.html#6761024">ra</a></span><span class="op" id="6761262">)</span><span class="op" id="6761263">;</span>&nbsp;<span class="ident" id="6761265"><a href="/gostd/net/server_test.go.html#6761028">err</a></span>&nbsp;<span class="op" id="6761269">!=</span>&nbsp;<span class="builtintype" id="6761272">nil</span>&nbsp;<span class="op" id="6761276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761281"><a href="/gostd/net/server_test.go.html#6760626">t</a></span><span class="op" id="6761282">.</span><span class="ident" id="6761283"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6761289">(</span><span class="string" id="6761290">&#34;WriteTo(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6761314">,</span>&nbsp;<span class="ident" id="6761316"><a href="/gostd/net/server_test.go.html#6761024">ra</a></span><span class="op" id="6761318">,</span>&nbsp;<span class="ident" id="6761320"><a href="/gostd/net/server_test.go.html#6761028">err</a></span><span class="op" id="6761323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761328">break</span>&nbsp;<span class="ident" id="6761334"><a href="/gostd/net/server_test.go.html#6760948">run</a></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761346"><a href="/gostd/net/server_test.go.html#6760684">done</a></span>&nbsp;<span class="op" id="6761351">&lt;-</span>&nbsp;<span class="num" id="6761354">1</span><br>
<span class="lineno"></span><span class="op" id="6761356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">395</span><span class="keyword" id="6761359">func</span>&nbsp;<span class="ident" id="6761364">runDatagramConnClient</span><span class="op" id="6761385">(</span><span class="ident" id="6761386">t</span>&nbsp;<span class="op" id="6761388">*</span><span class="ident" id="6761389"><a href="/gostd/net/server_test.go.html#6749147">testing</a></span><span class="op" id="6761396">.</span><span class="ident" id="6761397"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6761398">,</span>&nbsp;<span class="ident" id="6761400">net</span><span class="op" id="6761403">,</span>&nbsp;<span class="ident" id="6761405">laddr</span><span class="op" id="6761410">,</span>&nbsp;<span class="ident" id="6761412">taddr</span>&nbsp;<span class="builtintype" id="6761418">string</span><span class="op" id="6761424">,</span>&nbsp;<span class="ident" id="6761426">isEmpty</span>&nbsp;<span class="builtintype" id="6761434">bool</span><span class="op" id="6761438">)</span>&nbsp;<span class="op" id="6761440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761443">var</span>&nbsp;<span class="ident" id="6761447">c</span>&nbsp;<span class="ident" id="6761449"><a href="/gostd/net/net.go.html#3334417">Conn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761455">var</span>&nbsp;<span class="ident" id="6761459">err</span>&nbsp;<span class="builtintype" id="6761463">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761470">switch</span>&nbsp;<span class="ident" id="6761477"><a href="/gostd/net/server_test.go.html#6761400">net</a></span>&nbsp;<span class="op" id="6761481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761484">case</span>&nbsp;<span class="string" id="6761489">&#34;udp&#34;</span><span class="op" id="6761494">,</span>&nbsp;<span class="string" id="6761496">&#34;udp4&#34;</span><span class="op" id="6761502">,</span>&nbsp;<span class="string" id="6761504">&#34;udp6&#34;</span><span class="op" id="6761510">:</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761514"><a href="/gostd/net/server_test.go.html#6761447">c</a></span><span class="op" id="6761515">,</span>&nbsp;<span class="ident" id="6761517"><a href="/gostd/net/server_test.go.html#6761459">err</a></span>&nbsp;<span class="op" id="6761521">=</span>&nbsp;<span class="ident" id="6761523"><a href="/gostd/net/dial.go.html#3203459">Dial</a></span><span class="op" id="6761527">(</span><span class="ident" id="6761528"><a href="/gostd/net/server_test.go.html#6761400">net</a></span><span class="op" id="6761531">,</span>&nbsp;<span class="ident" id="6761533"><a href="/gostd/net/server_test.go.html#6761412">taddr</a></span><span class="op" id="6761538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761542">if</span>&nbsp;<span class="ident" id="6761545"><a href="/gostd/net/server_test.go.html#6761459">err</a></span>&nbsp;<span class="op" id="6761549">!=</span>&nbsp;<span class="builtintype" id="6761552">nil</span>&nbsp;<span class="op" id="6761556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761561"><a href="/gostd/net/server_test.go.html#6761386">t</a></span><span class="op" id="6761562">.</span><span class="ident" id="6761563"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6761569">(</span><span class="string" id="6761570">&#34;Dial(%q,&nbsp;%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6761595">,</span>&nbsp;<span class="ident" id="6761597"><a href="/gostd/net/server_test.go.html#6761400">net</a></span><span class="op" id="6761600">,</span>&nbsp;<span class="ident" id="6761602"><a href="/gostd/net/server_test.go.html#6761412">taddr</a></span><span class="op" id="6761607">,</span>&nbsp;<span class="ident" id="6761609"><a href="/gostd/net/server_test.go.html#6761459">err</a></span><span class="op" id="6761612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761619">case</span>&nbsp;<span class="string" id="6761624">&#34;unixgram&#34;</span><span class="op" id="6761634">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761638"><a href="/gostd/net/server_test.go.html#6761447">c</a></span><span class="op" id="6761639">,</span>&nbsp;<span class="ident" id="6761641"><a href="/gostd/net/server_test.go.html#6761459">err</a></span>&nbsp;<span class="op" id="6761645">=</span>&nbsp;<span class="ident" id="6761647"><a href="/gostd/net/unixsock_posix.go.html#3402509">DialUnix</a></span><span class="op" id="6761655">(</span><span class="ident" id="6761656"><a href="/gostd/net/server_test.go.html#6761400">net</a></span><span class="op" id="6761659">,</span>&nbsp;<span class="op" id="6761661">&amp;</span><span class="ident" id="6761662"><a href="/gostd/net/unixsock.go.html#3395501">UnixAddr</a></span><span class="op" id="6761670">{</span><span class="ident" id="6761671"><a href="/gostd/net/unixsock.go.html#3395520">Name</a></span><span class="op" id="6761675">:</span>&nbsp;<span class="ident" id="6761677"><a href="/gostd/net/server_test.go.html#6761405">laddr</a></span><span class="op" id="6761682">,</span>&nbsp;<span class="ident" id="6761684"><a href="/gostd/net/unixsock.go.html#3395533">Net</a></span><span class="op" id="6761687">:</span>&nbsp;<span class="ident" id="6761689"><a href="/gostd/net/server_test.go.html#6761400">net</a></span><span class="op" id="6761692">}</span><span class="op" id="6761693">,</span>&nbsp;<span class="op" id="6761695">&amp;</span><span class="ident" id="6761696"><a href="/gostd/net/unixsock.go.html#3395501">UnixAddr</a></span><span class="op" id="6761704">{</span><span class="ident" id="6761705"><a href="/gostd/net/unixsock.go.html#3395520">Name</a></span><span class="op" id="6761709">:</span>&nbsp;<span class="ident" id="6761711"><a href="/gostd/net/server_test.go.html#6761412">taddr</a></span><span class="op" id="6761716">,</span>&nbsp;<span class="ident" id="6761718"><a href="/gostd/net/unixsock.go.html#3395533">Net</a></span><span class="op" id="6761721">:</span>&nbsp;<span class="ident" id="6761723"><a href="/gostd/net/server_test.go.html#6761400">net</a></span><span class="op" id="6761726">}</span><span class="op" id="6761727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761731">if</span>&nbsp;<span class="ident" id="6761734"><a href="/gostd/net/server_test.go.html#6761459">err</a></span>&nbsp;<span class="op" id="6761738">!=</span>&nbsp;<span class="builtintype" id="6761741">nil</span>&nbsp;<span class="op" id="6761745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761750"><a href="/gostd/net/server_test.go.html#6761386">t</a></span><span class="op" id="6761751">.</span><span class="ident" id="6761752"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6761758">(</span><span class="string" id="6761759">&#34;DialUnix(%q,&nbsp;{%q,&nbsp;%q})&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6761794">,</span>&nbsp;<span class="ident" id="6761796"><a href="/gostd/net/server_test.go.html#6761400">net</a></span><span class="op" id="6761799">,</span>&nbsp;<span class="ident" id="6761801"><a href="/gostd/net/server_test.go.html#6761405">laddr</a></span><span class="op" id="6761806">,</span>&nbsp;<span class="ident" id="6761808"><a href="/gostd/net/server_test.go.html#6761412">taddr</a></span><span class="op" id="6761813">,</span>&nbsp;<span class="ident" id="6761815"><a href="/gostd/net/server_test.go.html#6761459">err</a></span><span class="op" id="6761818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761825">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761828">defer</span>&nbsp;<span class="ident" id="6761834"><a href="/gostd/net/server_test.go.html#6761447">c</a></span><span class="op" id="6761835">.</span><span class="ident" id="6761836"><a href="/gostd/net/net.go.html#3334987">Close</a></span><span class="op" id="6761841">(</span><span class="op" id="6761842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761845"><a href="/gostd/net/server_test.go.html#6761447">c</a></span><span class="op" id="6761846">.</span><span class="ident" id="6761847"><a href="/gostd/net/net.go.html#3335873">SetReadDeadline</a></span><span class="op" id="6761862">(</span><span class="ident" id="6761863"><a href="/gostd/net/server_test.go.html#6749158">time</a></span><span class="op" id="6761867">.</span><span class="ident" id="6761868"><a href="/gostd/time/time.go.html#2743088">Now</a></span><span class="op" id="6761871">(</span><span class="op" id="6761872">)</span><span class="op" id="6761873">.</span><span class="ident" id="6761874"><a href="/gostd/time/time.go.html#2738615">Add</a></span><span class="op" id="6761877">(</span><span class="num" id="6761878">1</span>&nbsp;<span class="op" id="6761880">*</span>&nbsp;<span class="ident" id="6761882"><a href="/gostd/net/server_test.go.html#6749158">time</a></span><span class="op" id="6761886">.</span><span class="ident" id="6761887"><a href="/gostd/time/time.go.html#2734862">Second</a></span><span class="op" id="6761893">)</span><span class="op" id="6761894">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761898">var</span>&nbsp;<span class="ident" id="6761902">wb</span>&nbsp;<span class="op" id="6761905">[</span><span class="op" id="6761906">]</span><span class="builtintype" id="6761907">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761913">if</span>&nbsp;<span class="op" id="6761916">!</span><span class="ident" id="6761917"><a href="/gostd/net/server_test.go.html#6761426">isEmpty</a></span>&nbsp;<span class="op" id="6761925">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761929"><a href="/gostd/net/server_test.go.html#6761902">wb</a></span>&nbsp;<span class="op" id="6761932">=</span>&nbsp;<span class="op" id="6761934">[</span><span class="op" id="6761935">]</span><span class="builtintype" id="6761936">byte</span><span class="op" id="6761940">(</span><span class="string" id="6761941">&#34;DatagramConnClient&nbsp;by&nbsp;Dial\n&#34;</span><span class="op" id="6761971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761977">if</span>&nbsp;<span class="ident" id="6761980">n</span><span class="op" id="6761981">,</span>&nbsp;<span class="ident" id="6761983">err</span>&nbsp;<span class="op" id="6761987">:=</span>&nbsp;<span class="ident" id="6761990"><a href="/gostd/net/server_test.go.html#6761447">c</a></span><span class="op" id="6761991">.</span><span class="ident" id="6761992"><a href="/gostd/net/net.go.html#3334839">Write</a></span><span class="op" id="6761997">(</span><span class="ident" id="6761998"><a href="/gostd/net/server_test.go.html#6761902">wb</a></span><span class="op" id="6762000">[</span><span class="num" id="6762001">0</span><span class="op" id="6762002">:</span><span class="op" id="6762003">]</span><span class="op" id="6762004">)</span><span class="op" id="6762005">;</span>&nbsp;<span class="ident" id="6762007"><a href="/gostd/net/server_test.go.html#6761983">err</a></span>&nbsp;<span class="op" id="6762011">!=</span>&nbsp;<span class="builtintype" id="6762014">nil</span>&nbsp;<span class="op" id="6762018">||</span>&nbsp;<span class="ident" id="6762021"><a href="/gostd/net/server_test.go.html#6761980">n</a></span>&nbsp;<span class="op" id="6762023">!=</span>&nbsp;<span class="builtinfunc" id="6762026">len</span><span class="op" id="6762029">(</span><span class="ident" id="6762030"><a href="/gostd/net/server_test.go.html#6761902">wb</a></span><span class="op" id="6762032">)</span>&nbsp;<span class="op" id="6762034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762038"><a href="/gostd/net/server_test.go.html#6761386">t</a></span><span class="op" id="6762039">.</span><span class="ident" id="6762040"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6762046">(</span><span class="string" id="6762047">&#34;Write&nbsp;failed:&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;&lt;nil&gt;&#34;</span><span class="op" id="6762085">,</span>&nbsp;<span class="ident" id="6762087"><a href="/gostd/net/server_test.go.html#6761980">n</a></span><span class="op" id="6762088">,</span>&nbsp;<span class="ident" id="6762090"><a href="/gostd/net/server_test.go.html#6761983">err</a></span><span class="op" id="6762093">,</span>&nbsp;<span class="builtinfunc" id="6762095">len</span><span class="op" id="6762098">(</span><span class="ident" id="6762099"><a href="/gostd/net/server_test.go.html#6761902">wb</a></span><span class="op" id="6762101">)</span><span class="op" id="6762102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762105">}</span><br>
<span class="lineno">420</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762109">rb</span>&nbsp;<span class="op" id="6762112">:=</span>&nbsp;<span class="builtinfunc" id="6762115">make</span><span class="op" id="6762119">(</span><span class="op" id="6762120">[</span><span class="op" id="6762121">]</span><span class="builtintype" id="6762122">byte</span><span class="op" id="6762126">,</span>&nbsp;<span class="num" id="6762128">1024</span><span class="op" id="6762132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762135">if</span>&nbsp;<span class="ident" id="6762138">n</span><span class="op" id="6762139">,</span>&nbsp;<span class="ident" id="6762141">err</span>&nbsp;<span class="op" id="6762145">:=</span>&nbsp;<span class="ident" id="6762148"><a href="/gostd/net/server_test.go.html#6761447">c</a></span><span class="op" id="6762149">.</span><span class="ident" id="6762150"><a href="/gostd/net/net.go.html#3334618">Read</a></span><span class="op" id="6762154">(</span><span class="ident" id="6762155"><a href="/gostd/net/server_test.go.html#6762109">rb</a></span><span class="op" id="6762157">[</span><span class="num" id="6762158">0</span><span class="op" id="6762159">:</span><span class="op" id="6762160">]</span><span class="op" id="6762161">)</span><span class="op" id="6762162">;</span>&nbsp;<span class="ident" id="6762164"><a href="/gostd/net/server_test.go.html#6762141">err</a></span>&nbsp;<span class="op" id="6762168">!=</span>&nbsp;<span class="builtintype" id="6762171">nil</span>&nbsp;<span class="op" id="6762175">||</span>&nbsp;<span class="ident" id="6762178"><a href="/gostd/net/server_test.go.html#6762138">n</a></span>&nbsp;<span class="op" id="6762180">!=</span>&nbsp;<span class="builtinfunc" id="6762183">len</span><span class="op" id="6762186">(</span><span class="ident" id="6762187"><a href="/gostd/net/server_test.go.html#6761902">wb</a></span><span class="op" id="6762189">)</span>&nbsp;<span class="op" id="6762191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762195"><a href="/gostd/net/server_test.go.html#6761386">t</a></span><span class="op" id="6762196">.</span><span class="ident" id="6762197"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6762203">(</span><span class="string" id="6762204">&#34;Read&nbsp;failed:&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;&lt;nil&gt;&#34;</span><span class="op" id="6762241">,</span>&nbsp;<span class="ident" id="6762243"><a href="/gostd/net/server_test.go.html#6762138">n</a></span><span class="op" id="6762244">,</span>&nbsp;<span class="ident" id="6762246"><a href="/gostd/net/server_test.go.html#6762141">err</a></span><span class="op" id="6762249">,</span>&nbsp;<span class="builtinfunc" id="6762251">len</span><span class="op" id="6762254">(</span><span class="ident" id="6762255"><a href="/gostd/net/server_test.go.html#6761902">wb</a></span><span class="op" id="6762257">)</span><span class="op" id="6762258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762261">}</span><br>
<span class="lineno">425</span><span class="op" id="6762263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6762266">func</span>&nbsp;<span class="ident" id="6762271">runDatagramPacketConnClient</span><span class="op" id="6762298">(</span><span class="ident" id="6762299">t</span>&nbsp;<span class="op" id="6762301">*</span><span class="ident" id="6762302"><a href="/gostd/net/server_test.go.html#6749147">testing</a></span><span class="op" id="6762309">.</span><span class="ident" id="6762310"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6762311">,</span>&nbsp;<span class="ident" id="6762313">net</span><span class="op" id="6762316">,</span>&nbsp;<span class="ident" id="6762318">laddr</span><span class="op" id="6762323">,</span>&nbsp;<span class="ident" id="6762325">taddr</span>&nbsp;<span class="builtintype" id="6762331">string</span><span class="op" id="6762337">,</span>&nbsp;<span class="ident" id="6762339">isEmpty</span>&nbsp;<span class="builtintype" id="6762347">bool</span><span class="op" id="6762351">)</span>&nbsp;<span class="op" id="6762353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762356">var</span>&nbsp;<span class="ident" id="6762360">ra</span>&nbsp;<span class="ident" id="6762363"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762369">var</span>&nbsp;<span class="ident" id="6762373">err</span>&nbsp;<span class="builtintype" id="6762377">error</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762384">switch</span>&nbsp;<span class="ident" id="6762391"><a href="/gostd/net/server_test.go.html#6762313">net</a></span>&nbsp;<span class="op" id="6762395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762398">case</span>&nbsp;<span class="string" id="6762403">&#34;udp&#34;</span><span class="op" id="6762408">,</span>&nbsp;<span class="string" id="6762410">&#34;udp4&#34;</span><span class="op" id="6762416">,</span>&nbsp;<span class="string" id="6762418">&#34;udp6&#34;</span><span class="op" id="6762424">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762428"><a href="/gostd/net/server_test.go.html#6762360">ra</a></span><span class="op" id="6762430">,</span>&nbsp;<span class="ident" id="6762432"><a href="/gostd/net/server_test.go.html#6762373">err</a></span>&nbsp;<span class="op" id="6762436">=</span>&nbsp;<span class="ident" id="6762438"><a href="/gostd/net/udpsock.go.html#3386690">ResolveUDPAddr</a></span><span class="op" id="6762452">(</span><span class="ident" id="6762453"><a href="/gostd/net/server_test.go.html#6762313">net</a></span><span class="op" id="6762456">,</span>&nbsp;<span class="ident" id="6762458"><a href="/gostd/net/server_test.go.html#6762325">taddr</a></span><span class="op" id="6762463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762467">if</span>&nbsp;<span class="ident" id="6762470"><a href="/gostd/net/server_test.go.html#6762373">err</a></span>&nbsp;<span class="op" id="6762474">!=</span>&nbsp;<span class="builtintype" id="6762477">nil</span>&nbsp;<span class="op" id="6762481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762486"><a href="/gostd/net/server_test.go.html#6762299">t</a></span><span class="op" id="6762487">.</span><span class="ident" id="6762488"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6762494">(</span><span class="string" id="6762495">&#34;ResolveUDPAddr(%q,&nbsp;%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6762530">,</span>&nbsp;<span class="ident" id="6762532"><a href="/gostd/net/server_test.go.html#6762313">net</a></span><span class="op" id="6762535">,</span>&nbsp;<span class="ident" id="6762537"><a href="/gostd/net/server_test.go.html#6762325">taddr</a></span><span class="op" id="6762542">,</span>&nbsp;<span class="ident" id="6762544"><a href="/gostd/net/server_test.go.html#6762373">err</a></span><span class="op" id="6762547">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762554">case</span>&nbsp;<span class="string" id="6762559">&#34;unixgram&#34;</span><span class="op" id="6762569">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762573"><a href="/gostd/net/server_test.go.html#6762360">ra</a></span><span class="op" id="6762575">,</span>&nbsp;<span class="ident" id="6762577"><a href="/gostd/net/server_test.go.html#6762373">err</a></span>&nbsp;<span class="op" id="6762581">=</span>&nbsp;<span class="ident" id="6762583"><a href="/gostd/net/unixsock.go.html#3396008">ResolveUnixAddr</a></span><span class="op" id="6762598">(</span><span class="ident" id="6762599"><a href="/gostd/net/server_test.go.html#6762313">net</a></span><span class="op" id="6762602">,</span>&nbsp;<span class="ident" id="6762604"><a href="/gostd/net/server_test.go.html#6762325">taddr</a></span><span class="op" id="6762609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762613">if</span>&nbsp;<span class="ident" id="6762616"><a href="/gostd/net/server_test.go.html#6762373">err</a></span>&nbsp;<span class="op" id="6762620">!=</span>&nbsp;<span class="builtintype" id="6762623">nil</span>&nbsp;<span class="op" id="6762627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762632"><a href="/gostd/net/server_test.go.html#6762299">t</a></span><span class="op" id="6762633">.</span><span class="ident" id="6762634"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6762640">(</span><span class="string" id="6762641">&#34;ResolveUxixAddr(%q,&nbsp;%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6762677">,</span>&nbsp;<span class="ident" id="6762679"><a href="/gostd/net/server_test.go.html#6762313">net</a></span><span class="op" id="6762682">,</span>&nbsp;<span class="ident" id="6762684"><a href="/gostd/net/server_test.go.html#6762325">taddr</a></span><span class="op" id="6762689">,</span>&nbsp;<span class="ident" id="6762691"><a href="/gostd/net/server_test.go.html#6762373">err</a></span><span class="op" id="6762694">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762704">c</span><span class="op" id="6762705">,</span>&nbsp;<span class="ident" id="6762707"><a href="/gostd/net/server_test.go.html#6762373">err</a></span>&nbsp;<span class="op" id="6762711">:=</span>&nbsp;<span class="ident" id="6762714"><a href="/gostd/net/dial.go.html#3207909">ListenPacket</a></span><span class="op" id="6762726">(</span><span class="ident" id="6762727"><a href="/gostd/net/server_test.go.html#6762313">net</a></span><span class="op" id="6762730">,</span>&nbsp;<span class="ident" id="6762732"><a href="/gostd/net/server_test.go.html#6762318">laddr</a></span><span class="op" id="6762737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762740">if</span>&nbsp;<span class="ident" id="6762743"><a href="/gostd/net/server_test.go.html#6762373">err</a></span>&nbsp;<span class="op" id="6762747">!=</span>&nbsp;<span class="builtintype" id="6762750">nil</span>&nbsp;<span class="op" id="6762754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762758"><a href="/gostd/net/server_test.go.html#6762299">t</a></span><span class="op" id="6762759">.</span><span class="ident" id="6762760"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6762766">(</span><span class="string" id="6762767">&#34;ListenPacket(%q,&nbsp;%q)&nbsp;faild:&nbsp;%v&#34;</span><span class="op" id="6762799">,</span>&nbsp;<span class="ident" id="6762801"><a href="/gostd/net/server_test.go.html#6762313">net</a></span><span class="op" id="6762804">,</span>&nbsp;<span class="ident" id="6762806"><a href="/gostd/net/server_test.go.html#6762318">laddr</a></span><span class="op" id="6762811">,</span>&nbsp;<span class="ident" id="6762813"><a href="/gostd/net/server_test.go.html#6762373">err</a></span><span class="op" id="6762816">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762822">defer</span>&nbsp;<span class="ident" id="6762828"><a href="/gostd/net/server_test.go.html#6762704">c</a></span><span class="op" id="6762829">.</span><span class="ident" id="6762830"><a href="/gostd/net/net.go.html#3339672">Close</a></span><span class="op" id="6762835">(</span><span class="op" id="6762836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762839"><a href="/gostd/net/server_test.go.html#6762704">c</a></span><span class="op" id="6762840">.</span><span class="ident" id="6762841"><a href="/gostd/net/net.go.html#3340093">SetReadDeadline</a></span><span class="op" id="6762856">(</span><span class="ident" id="6762857"><a href="/gostd/net/server_test.go.html#6749158">time</a></span><span class="op" id="6762861">.</span><span class="ident" id="6762862"><a href="/gostd/time/time.go.html#2743088">Now</a></span><span class="op" id="6762865">(</span><span class="op" id="6762866">)</span><span class="op" id="6762867">.</span><span class="ident" id="6762868"><a href="/gostd/time/time.go.html#2738615">Add</a></span><span class="op" id="6762871">(</span><span class="num" id="6762872">1</span>&nbsp;<span class="op" id="6762874">*</span>&nbsp;<span class="ident" id="6762876"><a href="/gostd/net/server_test.go.html#6749158">time</a></span><span class="op" id="6762880">.</span><span class="ident" id="6762881"><a href="/gostd/time/time.go.html#2734862">Second</a></span><span class="op" id="6762887">)</span><span class="op" id="6762888">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762892">var</span>&nbsp;<span class="ident" id="6762896">wb</span>&nbsp;<span class="op" id="6762899">[</span><span class="op" id="6762900">]</span><span class="builtintype" id="6762901">byte</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762907">if</span>&nbsp;<span class="op" id="6762910">!</span><span class="ident" id="6762911"><a href="/gostd/net/server_test.go.html#6762339">isEmpty</a></span>&nbsp;<span class="op" id="6762919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762923"><a href="/gostd/net/server_test.go.html#6762896">wb</a></span>&nbsp;<span class="op" id="6762926">=</span>&nbsp;<span class="op" id="6762928">[</span><span class="op" id="6762929">]</span><span class="builtintype" id="6762930">byte</span><span class="op" id="6762934">(</span><span class="string" id="6762935">&#34;DatagramPacketConnClient&nbsp;by&nbsp;ListenPacket\n&#34;</span><span class="op" id="6762979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762985">if</span>&nbsp;<span class="ident" id="6762988">n</span><span class="op" id="6762989">,</span>&nbsp;<span class="ident" id="6762991">err</span>&nbsp;<span class="op" id="6762995">:=</span>&nbsp;<span class="ident" id="6762998"><a href="/gostd/net/server_test.go.html#6762704">c</a></span><span class="op" id="6762999">.</span><span class="ident" id="6763000"><a href="/gostd/net/net.go.html#3339505">WriteTo</a></span><span class="op" id="6763007">(</span><span class="ident" id="6763008"><a href="/gostd/net/server_test.go.html#6762896">wb</a></span><span class="op" id="6763010">[</span><span class="num" id="6763011">0</span><span class="op" id="6763012">:</span><span class="op" id="6763013">]</span><span class="op" id="6763014">,</span>&nbsp;<span class="ident" id="6763016"><a href="/gostd/net/server_test.go.html#6762360">ra</a></span><span class="op" id="6763018">)</span><span class="op" id="6763019">;</span>&nbsp;<span class="ident" id="6763021"><a href="/gostd/net/server_test.go.html#6762991">err</a></span>&nbsp;<span class="op" id="6763025">!=</span>&nbsp;<span class="builtintype" id="6763028">nil</span>&nbsp;<span class="op" id="6763032">||</span>&nbsp;<span class="ident" id="6763035"><a href="/gostd/net/server_test.go.html#6762988">n</a></span>&nbsp;<span class="op" id="6763037">!=</span>&nbsp;<span class="builtinfunc" id="6763040">len</span><span class="op" id="6763043">(</span><span class="ident" id="6763044"><a href="/gostd/net/server_test.go.html#6762896">wb</a></span><span class="op" id="6763046">)</span>&nbsp;<span class="op" id="6763048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763052"><a href="/gostd/net/server_test.go.html#6762299">t</a></span><span class="op" id="6763053">.</span><span class="ident" id="6763054"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6763060">(</span><span class="string" id="6763061">&#34;WriteTo(%v)&nbsp;failed:&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;&lt;nil&gt;&#34;</span><span class="op" id="6763105">,</span>&nbsp;<span class="ident" id="6763107"><a href="/gostd/net/server_test.go.html#6762360">ra</a></span><span class="op" id="6763109">,</span>&nbsp;<span class="ident" id="6763111"><a href="/gostd/net/server_test.go.html#6762988">n</a></span><span class="op" id="6763112">,</span>&nbsp;<span class="ident" id="6763114"><a href="/gostd/net/server_test.go.html#6762991">err</a></span><span class="op" id="6763117">,</span>&nbsp;<span class="builtinfunc" id="6763119">len</span><span class="op" id="6763122">(</span><span class="ident" id="6763123"><a href="/gostd/net/server_test.go.html#6762896">wb</a></span><span class="op" id="6763125">)</span><span class="op" id="6763126">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763133">rb</span>&nbsp;<span class="op" id="6763136">:=</span>&nbsp;<span class="builtinfunc" id="6763139">make</span><span class="op" id="6763143">(</span><span class="op" id="6763144">[</span><span class="op" id="6763145">]</span><span class="builtintype" id="6763146">byte</span><span class="op" id="6763150">,</span>&nbsp;<span class="num" id="6763152">1024</span><span class="op" id="6763156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6763159">if</span>&nbsp;<span class="ident" id="6763162">n</span><span class="op" id="6763163">,</span>&nbsp;<span class="ident" id="6763165">_</span><span class="op" id="6763166">,</span>&nbsp;<span class="ident" id="6763168">err</span>&nbsp;<span class="op" id="6763172">:=</span>&nbsp;<span class="ident" id="6763175"><a href="/gostd/net/server_test.go.html#6762704">c</a></span><span class="op" id="6763176">.</span><span class="ident" id="6763177"><a href="/gostd/net/net.go.html#3339190">ReadFrom</a></span><span class="op" id="6763185">(</span><span class="ident" id="6763186"><a href="/gostd/net/server_test.go.html#6763133">rb</a></span><span class="op" id="6763188">[</span><span class="num" id="6763189">0</span><span class="op" id="6763190">:</span><span class="op" id="6763191">]</span><span class="op" id="6763192">)</span><span class="op" id="6763193">;</span>&nbsp;<span class="ident" id="6763195"><a href="/gostd/net/server_test.go.html#6763168">err</a></span>&nbsp;<span class="op" id="6763199">!=</span>&nbsp;<span class="builtintype" id="6763202">nil</span>&nbsp;<span class="op" id="6763206">||</span>&nbsp;<span class="ident" id="6763209"><a href="/gostd/net/server_test.go.html#6763162">n</a></span>&nbsp;<span class="op" id="6763211">!=</span>&nbsp;<span class="builtinfunc" id="6763214">len</span><span class="op" id="6763217">(</span><span class="ident" id="6763218"><a href="/gostd/net/server_test.go.html#6762896">wb</a></span><span class="op" id="6763220">)</span>&nbsp;<span class="op" id="6763222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763226"><a href="/gostd/net/server_test.go.html#6762299">t</a></span><span class="op" id="6763227">.</span><span class="ident" id="6763228"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6763234">(</span><span class="string" id="6763235">&#34;ReadFrom&nbsp;failed:&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;&lt;nil&gt;&#34;</span><span class="op" id="6763276">,</span>&nbsp;<span class="ident" id="6763278"><a href="/gostd/net/server_test.go.html#6763162">n</a></span><span class="op" id="6763279">,</span>&nbsp;<span class="ident" id="6763281"><a href="/gostd/net/server_test.go.html#6763168">err</a></span><span class="op" id="6763284">,</span>&nbsp;<span class="builtinfunc" id="6763286">len</span><span class="op" id="6763289">(</span><span class="ident" id="6763290"><a href="/gostd/net/server_test.go.html#6762896">wb</a></span><span class="op" id="6763292">)</span><span class="op" id="6763293">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763296">}</span><br>
<span class="lineno"></span><span class="op" id="6763298">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
