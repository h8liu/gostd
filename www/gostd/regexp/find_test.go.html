<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7497389">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7497444">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7497498">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7497549">package</span>&nbsp;<span class="ident" id="7497557">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7497565">import</span>&nbsp;<span class="op" id="7497572">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7497575">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7497582">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7497593">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7497603">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7497606">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="7497683">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="7497763">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="7497846">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="7497924">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="7497971">type</span>&nbsp;<span class="ident" id="7497976">FindTest</span>&nbsp;<span class="keyword" id="7497985">struct</span>&nbsp;<span class="op" id="7497992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497995">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7498003">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498011">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7498019">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498027">matches</span>&nbsp;<span class="op" id="7498035">[</span><span class="op" id="7498036">]</span><span class="op" id="7498037">[</span><span class="op" id="7498038">]</span><span class="builtintype" id="7498039">int</span><br>
<span class="lineno"></span><span class="op" id="7498043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7498046">func</span>&nbsp;<span class="op" id="7498051">(</span><span class="ident" id="7498052">t</span>&nbsp;<span class="ident" id="7498054">FindTest</span><span class="op" id="7498062">)</span>&nbsp;<span class="ident" id="7498064">String</span><span class="op" id="7498070">(</span><span class="op" id="7498071">)</span>&nbsp;<span class="builtintype" id="7498073">string</span>&nbsp;<span class="op" id="7498080">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498083">return</span>&nbsp;<span class="ident" id="7498090">fmt</span><span class="op" id="7498093">.</span><span class="ident" id="7498094">Sprintf</span><span class="op" id="7498101">(</span><span class="string" id="7498102">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="7498122">,</span>&nbsp;<span class="ident" id="7498124">t</span><span class="op" id="7498125">.</span><span class="ident" id="7498126">pat</span><span class="op" id="7498129">,</span>&nbsp;<span class="ident" id="7498131">t</span><span class="op" id="7498132">.</span><span class="ident" id="7498133">text</span><span class="op" id="7498137">)</span><br>
<span class="lineno"></span><span class="op" id="7498139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7498142">var</span>&nbsp;<span class="ident" id="7498146">findTests</span>&nbsp;<span class="op" id="7498156">=</span>&nbsp;<span class="op" id="7498158">[</span><span class="op" id="7498159">]</span><span class="ident" id="7498160">FindTest</span><span class="op" id="7498168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498171">{</span><span class="string" id="7498172">``</span><span class="op" id="7498174">,</span>&nbsp;<span class="string" id="7498176">``</span><span class="op" id="7498178">,</span>&nbsp;<span class="ident" id="7498180">build</span><span class="op" id="7498185">(</span><span class="num" id="7498186">1</span><span class="op" id="7498187">,</span>&nbsp;<span class="num" id="7498189">0</span><span class="op" id="7498190">,</span>&nbsp;<span class="num" id="7498192">0</span><span class="op" id="7498193">)</span><span class="op" id="7498194">}</span><span class="op" id="7498195">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498198">{</span><span class="string" id="7498199">`^abcdefg`</span><span class="op" id="7498209">,</span>&nbsp;<span class="string" id="7498211">&#34;abcdefg&#34;</span><span class="op" id="7498220">,</span>&nbsp;<span class="ident" id="7498222">build</span><span class="op" id="7498227">(</span><span class="num" id="7498228">1</span><span class="op" id="7498229">,</span>&nbsp;<span class="num" id="7498231">0</span><span class="op" id="7498232">,</span>&nbsp;<span class="num" id="7498234">7</span><span class="op" id="7498235">)</span><span class="op" id="7498236">}</span><span class="op" id="7498237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498240">{</span><span class="string" id="7498241">`a+`</span><span class="op" id="7498245">,</span>&nbsp;<span class="string" id="7498247">&#34;baaab&#34;</span><span class="op" id="7498254">,</span>&nbsp;<span class="ident" id="7498256">build</span><span class="op" id="7498261">(</span><span class="num" id="7498262">1</span><span class="op" id="7498263">,</span>&nbsp;<span class="num" id="7498265">1</span><span class="op" id="7498266">,</span>&nbsp;<span class="num" id="7498268">4</span><span class="op" id="7498269">)</span><span class="op" id="7498270">}</span><span class="op" id="7498271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498274">{</span><span class="string" id="7498275">&#34;abcd..&#34;</span><span class="op" id="7498283">,</span>&nbsp;<span class="string" id="7498285">&#34;abcdef&#34;</span><span class="op" id="7498293">,</span>&nbsp;<span class="ident" id="7498295">build</span><span class="op" id="7498300">(</span><span class="num" id="7498301">1</span><span class="op" id="7498302">,</span>&nbsp;<span class="num" id="7498304">0</span><span class="op" id="7498305">,</span>&nbsp;<span class="num" id="7498307">6</span><span class="op" id="7498308">)</span><span class="op" id="7498309">}</span><span class="op" id="7498310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498313">{</span><span class="string" id="7498314">`a`</span><span class="op" id="7498317">,</span>&nbsp;<span class="string" id="7498319">&#34;a&#34;</span><span class="op" id="7498322">,</span>&nbsp;<span class="ident" id="7498324">build</span><span class="op" id="7498329">(</span><span class="num" id="7498330">1</span><span class="op" id="7498331">,</span>&nbsp;<span class="num" id="7498333">0</span><span class="op" id="7498334">,</span>&nbsp;<span class="num" id="7498336">1</span><span class="op" id="7498337">)</span><span class="op" id="7498338">}</span><span class="op" id="7498339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498342">{</span><span class="string" id="7498343">`x`</span><span class="op" id="7498346">,</span>&nbsp;<span class="string" id="7498348">&#34;y&#34;</span><span class="op" id="7498351">,</span>&nbsp;<span class="ident" id="7498353">nil</span><span class="op" id="7498356">}</span><span class="op" id="7498357">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498360">{</span><span class="string" id="7498361">`b`</span><span class="op" id="7498364">,</span>&nbsp;<span class="string" id="7498366">&#34;abc&#34;</span><span class="op" id="7498371">,</span>&nbsp;<span class="ident" id="7498373">build</span><span class="op" id="7498378">(</span><span class="num" id="7498379">1</span><span class="op" id="7498380">,</span>&nbsp;<span class="num" id="7498382">1</span><span class="op" id="7498383">,</span>&nbsp;<span class="num" id="7498385">2</span><span class="op" id="7498386">)</span><span class="op" id="7498387">}</span><span class="op" id="7498388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498391">{</span><span class="string" id="7498392">`.`</span><span class="op" id="7498395">,</span>&nbsp;<span class="string" id="7498397">&#34;a&#34;</span><span class="op" id="7498400">,</span>&nbsp;<span class="ident" id="7498402">build</span><span class="op" id="7498407">(</span><span class="num" id="7498408">1</span><span class="op" id="7498409">,</span>&nbsp;<span class="num" id="7498411">0</span><span class="op" id="7498412">,</span>&nbsp;<span class="num" id="7498414">1</span><span class="op" id="7498415">)</span><span class="op" id="7498416">}</span><span class="op" id="7498417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498420">{</span><span class="string" id="7498421">`.*`</span><span class="op" id="7498425">,</span>&nbsp;<span class="string" id="7498427">&#34;abcdef&#34;</span><span class="op" id="7498435">,</span>&nbsp;<span class="ident" id="7498437">build</span><span class="op" id="7498442">(</span><span class="num" id="7498443">1</span><span class="op" id="7498444">,</span>&nbsp;<span class="num" id="7498446">0</span><span class="op" id="7498447">,</span>&nbsp;<span class="num" id="7498449">6</span><span class="op" id="7498450">)</span><span class="op" id="7498451">}</span><span class="op" id="7498452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498455">{</span><span class="string" id="7498456">`^`</span><span class="op" id="7498459">,</span>&nbsp;<span class="string" id="7498461">&#34;abcde&#34;</span><span class="op" id="7498468">,</span>&nbsp;<span class="ident" id="7498470">build</span><span class="op" id="7498475">(</span><span class="num" id="7498476">1</span><span class="op" id="7498477">,</span>&nbsp;<span class="num" id="7498479">0</span><span class="op" id="7498480">,</span>&nbsp;<span class="num" id="7498482">0</span><span class="op" id="7498483">)</span><span class="op" id="7498484">}</span><span class="op" id="7498485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498488">{</span><span class="string" id="7498489">`$`</span><span class="op" id="7498492">,</span>&nbsp;<span class="string" id="7498494">&#34;abcde&#34;</span><span class="op" id="7498501">,</span>&nbsp;<span class="ident" id="7498503">build</span><span class="op" id="7498508">(</span><span class="num" id="7498509">1</span><span class="op" id="7498510">,</span>&nbsp;<span class="num" id="7498512">5</span><span class="op" id="7498513">,</span>&nbsp;<span class="num" id="7498515">5</span><span class="op" id="7498516">)</span><span class="op" id="7498517">}</span><span class="op" id="7498518">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498521">{</span><span class="string" id="7498522">`^abcd$`</span><span class="op" id="7498530">,</span>&nbsp;<span class="string" id="7498532">&#34;abcd&#34;</span><span class="op" id="7498538">,</span>&nbsp;<span class="ident" id="7498540">build</span><span class="op" id="7498545">(</span><span class="num" id="7498546">1</span><span class="op" id="7498547">,</span>&nbsp;<span class="num" id="7498549">0</span><span class="op" id="7498550">,</span>&nbsp;<span class="num" id="7498552">4</span><span class="op" id="7498553">)</span><span class="op" id="7498554">}</span><span class="op" id="7498555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498558">{</span><span class="string" id="7498559">`^bcd&#39;`</span><span class="op" id="7498566">,</span>&nbsp;<span class="string" id="7498568">&#34;abcdef&#34;</span><span class="op" id="7498576">,</span>&nbsp;<span class="ident" id="7498578">nil</span><span class="op" id="7498581">}</span><span class="op" id="7498582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498585">{</span><span class="string" id="7498586">`^abcd$`</span><span class="op" id="7498594">,</span>&nbsp;<span class="string" id="7498596">&#34;abcde&#34;</span><span class="op" id="7498603">,</span>&nbsp;<span class="ident" id="7498605">nil</span><span class="op" id="7498608">}</span><span class="op" id="7498609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498612">{</span><span class="string" id="7498613">`a+`</span><span class="op" id="7498617">,</span>&nbsp;<span class="string" id="7498619">&#34;baaab&#34;</span><span class="op" id="7498626">,</span>&nbsp;<span class="ident" id="7498628">build</span><span class="op" id="7498633">(</span><span class="num" id="7498634">1</span><span class="op" id="7498635">,</span>&nbsp;<span class="num" id="7498637">1</span><span class="op" id="7498638">,</span>&nbsp;<span class="num" id="7498640">4</span><span class="op" id="7498641">)</span><span class="op" id="7498642">}</span><span class="op" id="7498643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498646">{</span><span class="string" id="7498647">`a*`</span><span class="op" id="7498651">,</span>&nbsp;<span class="string" id="7498653">&#34;baaab&#34;</span><span class="op" id="7498660">,</span>&nbsp;<span class="ident" id="7498662">build</span><span class="op" id="7498667">(</span><span class="num" id="7498668">3</span><span class="op" id="7498669">,</span>&nbsp;<span class="num" id="7498671">0</span><span class="op" id="7498672">,</span>&nbsp;<span class="num" id="7498674">0</span><span class="op" id="7498675">,</span>&nbsp;<span class="num" id="7498677">1</span><span class="op" id="7498678">,</span>&nbsp;<span class="num" id="7498680">4</span><span class="op" id="7498681">,</span>&nbsp;<span class="num" id="7498683">5</span><span class="op" id="7498684">,</span>&nbsp;<span class="num" id="7498686">5</span><span class="op" id="7498687">)</span><span class="op" id="7498688">}</span><span class="op" id="7498689">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498692">{</span><span class="string" id="7498693">`[a-z]+`</span><span class="op" id="7498701">,</span>&nbsp;<span class="string" id="7498703">&#34;abcd&#34;</span><span class="op" id="7498709">,</span>&nbsp;<span class="ident" id="7498711">build</span><span class="op" id="7498716">(</span><span class="num" id="7498717">1</span><span class="op" id="7498718">,</span>&nbsp;<span class="num" id="7498720">0</span><span class="op" id="7498721">,</span>&nbsp;<span class="num" id="7498723">4</span><span class="op" id="7498724">)</span><span class="op" id="7498725">}</span><span class="op" id="7498726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498729">{</span><span class="string" id="7498730">`[^a-z]+`</span><span class="op" id="7498739">,</span>&nbsp;<span class="string" id="7498741">&#34;ab1234cd&#34;</span><span class="op" id="7498751">,</span>&nbsp;<span class="ident" id="7498753">build</span><span class="op" id="7498758">(</span><span class="num" id="7498759">1</span><span class="op" id="7498760">,</span>&nbsp;<span class="num" id="7498762">2</span><span class="op" id="7498763">,</span>&nbsp;<span class="num" id="7498765">6</span><span class="op" id="7498766">)</span><span class="op" id="7498767">}</span><span class="op" id="7498768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498771">{</span><span class="string" id="7498772">`[a\-\]z]+`</span><span class="op" id="7498783">,</span>&nbsp;<span class="string" id="7498785">&#34;az]-bcz&#34;</span><span class="op" id="7498794">,</span>&nbsp;<span class="ident" id="7498796">build</span><span class="op" id="7498801">(</span><span class="num" id="7498802">2</span><span class="op" id="7498803">,</span>&nbsp;<span class="num" id="7498805">0</span><span class="op" id="7498806">,</span>&nbsp;<span class="num" id="7498808">4</span><span class="op" id="7498809">,</span>&nbsp;<span class="num" id="7498811">6</span><span class="op" id="7498812">,</span>&nbsp;<span class="num" id="7498814">7</span><span class="op" id="7498815">)</span><span class="op" id="7498816">}</span><span class="op" id="7498817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498820">{</span><span class="string" id="7498821">`[^\n]+`</span><span class="op" id="7498829">,</span>&nbsp;<span class="string" id="7498831">&#34;abcd\n&#34;</span><span class="op" id="7498839">,</span>&nbsp;<span class="ident" id="7498841">build</span><span class="op" id="7498846">(</span><span class="num" id="7498847">1</span><span class="op" id="7498848">,</span>&nbsp;<span class="num" id="7498850">0</span><span class="op" id="7498851">,</span>&nbsp;<span class="num" id="7498853">4</span><span class="op" id="7498854">)</span><span class="op" id="7498855">}</span><span class="op" id="7498856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498859">{</span><span class="string" id="7498860">`[日本語]+`</span><span class="op" id="7498874">,</span>&nbsp;<span class="string" id="7498876">&#34;日本語日本語&#34;</span><span class="op" id="7498896">,</span>&nbsp;<span class="ident" id="7498898">build</span><span class="op" id="7498903">(</span><span class="num" id="7498904">1</span><span class="op" id="7498905">,</span>&nbsp;<span class="num" id="7498907">0</span><span class="op" id="7498908">,</span>&nbsp;<span class="num" id="7498910">18</span><span class="op" id="7498912">)</span><span class="op" id="7498913">}</span><span class="op" id="7498914">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498917">{</span><span class="string" id="7498918">`日本語+`</span><span class="op" id="7498930">,</span>&nbsp;<span class="string" id="7498932">&#34;日本語&#34;</span><span class="op" id="7498943">,</span>&nbsp;<span class="ident" id="7498945">build</span><span class="op" id="7498950">(</span><span class="num" id="7498951">1</span><span class="op" id="7498952">,</span>&nbsp;<span class="num" id="7498954">0</span><span class="op" id="7498955">,</span>&nbsp;<span class="num" id="7498957">9</span><span class="op" id="7498958">)</span><span class="op" id="7498959">}</span><span class="op" id="7498960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498963">{</span><span class="string" id="7498964">`日本語+`</span><span class="op" id="7498976">,</span>&nbsp;<span class="string" id="7498978">&#34;日本語語語語&#34;</span><span class="op" id="7498998">,</span>&nbsp;<span class="ident" id="7499000">build</span><span class="op" id="7499005">(</span><span class="num" id="7499006">1</span><span class="op" id="7499007">,</span>&nbsp;<span class="num" id="7499009">0</span><span class="op" id="7499010">,</span>&nbsp;<span class="num" id="7499012">18</span><span class="op" id="7499014">)</span><span class="op" id="7499015">}</span><span class="op" id="7499016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499019">{</span><span class="string" id="7499020">`()`</span><span class="op" id="7499024">,</span>&nbsp;<span class="string" id="7499026">&#34;&#34;</span><span class="op" id="7499028">,</span>&nbsp;<span class="ident" id="7499030">build</span><span class="op" id="7499035">(</span><span class="num" id="7499036">1</span><span class="op" id="7499037">,</span>&nbsp;<span class="num" id="7499039">0</span><span class="op" id="7499040">,</span>&nbsp;<span class="num" id="7499042">0</span><span class="op" id="7499043">,</span>&nbsp;<span class="num" id="7499045">0</span><span class="op" id="7499046">,</span>&nbsp;<span class="num" id="7499048">0</span><span class="op" id="7499049">)</span><span class="op" id="7499050">}</span><span class="op" id="7499051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499054">{</span><span class="string" id="7499055">`(a)`</span><span class="op" id="7499060">,</span>&nbsp;<span class="string" id="7499062">&#34;a&#34;</span><span class="op" id="7499065">,</span>&nbsp;<span class="ident" id="7499067">build</span><span class="op" id="7499072">(</span><span class="num" id="7499073">1</span><span class="op" id="7499074">,</span>&nbsp;<span class="num" id="7499076">0</span><span class="op" id="7499077">,</span>&nbsp;<span class="num" id="7499079">1</span><span class="op" id="7499080">,</span>&nbsp;<span class="num" id="7499082">0</span><span class="op" id="7499083">,</span>&nbsp;<span class="num" id="7499085">1</span><span class="op" id="7499086">)</span><span class="op" id="7499087">}</span><span class="op" id="7499088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499091">{</span><span class="string" id="7499092">`(.)(.)`</span><span class="op" id="7499100">,</span>&nbsp;<span class="string" id="7499102">&#34;日a&#34;</span><span class="op" id="7499108">,</span>&nbsp;<span class="ident" id="7499110">build</span><span class="op" id="7499115">(</span><span class="num" id="7499116">1</span><span class="op" id="7499117">,</span>&nbsp;<span class="num" id="7499119">0</span><span class="op" id="7499120">,</span>&nbsp;<span class="num" id="7499122">4</span><span class="op" id="7499123">,</span>&nbsp;<span class="num" id="7499125">0</span><span class="op" id="7499126">,</span>&nbsp;<span class="num" id="7499128">3</span><span class="op" id="7499129">,</span>&nbsp;<span class="num" id="7499131">3</span><span class="op" id="7499132">,</span>&nbsp;<span class="num" id="7499134">4</span><span class="op" id="7499135">)</span><span class="op" id="7499136">}</span><span class="op" id="7499137">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499140">{</span><span class="string" id="7499141">`(.*)`</span><span class="op" id="7499147">,</span>&nbsp;<span class="string" id="7499149">&#34;&#34;</span><span class="op" id="7499151">,</span>&nbsp;<span class="ident" id="7499153">build</span><span class="op" id="7499158">(</span><span class="num" id="7499159">1</span><span class="op" id="7499160">,</span>&nbsp;<span class="num" id="7499162">0</span><span class="op" id="7499163">,</span>&nbsp;<span class="num" id="7499165">0</span><span class="op" id="7499166">,</span>&nbsp;<span class="num" id="7499168">0</span><span class="op" id="7499169">,</span>&nbsp;<span class="num" id="7499171">0</span><span class="op" id="7499172">)</span><span class="op" id="7499173">}</span><span class="op" id="7499174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499177">{</span><span class="string" id="7499178">`(.*)`</span><span class="op" id="7499184">,</span>&nbsp;<span class="string" id="7499186">&#34;abcd&#34;</span><span class="op" id="7499192">,</span>&nbsp;<span class="ident" id="7499194">build</span><span class="op" id="7499199">(</span><span class="num" id="7499200">1</span><span class="op" id="7499201">,</span>&nbsp;<span class="num" id="7499203">0</span><span class="op" id="7499204">,</span>&nbsp;<span class="num" id="7499206">4</span><span class="op" id="7499207">,</span>&nbsp;<span class="num" id="7499209">0</span><span class="op" id="7499210">,</span>&nbsp;<span class="num" id="7499212">4</span><span class="op" id="7499213">)</span><span class="op" id="7499214">}</span><span class="op" id="7499215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499218">{</span><span class="string" id="7499219">`(..)(..)`</span><span class="op" id="7499229">,</span>&nbsp;<span class="string" id="7499231">&#34;abcd&#34;</span><span class="op" id="7499237">,</span>&nbsp;<span class="ident" id="7499239">build</span><span class="op" id="7499244">(</span><span class="num" id="7499245">1</span><span class="op" id="7499246">,</span>&nbsp;<span class="num" id="7499248">0</span><span class="op" id="7499249">,</span>&nbsp;<span class="num" id="7499251">4</span><span class="op" id="7499252">,</span>&nbsp;<span class="num" id="7499254">0</span><span class="op" id="7499255">,</span>&nbsp;<span class="num" id="7499257">2</span><span class="op" id="7499258">,</span>&nbsp;<span class="num" id="7499260">2</span><span class="op" id="7499261">,</span>&nbsp;<span class="num" id="7499263">4</span><span class="op" id="7499264">)</span><span class="op" id="7499265">}</span><span class="op" id="7499266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499269">{</span><span class="string" id="7499270">`(([^xyz]*)(d))`</span><span class="op" id="7499286">,</span>&nbsp;<span class="string" id="7499288">&#34;abcd&#34;</span><span class="op" id="7499294">,</span>&nbsp;<span class="ident" id="7499296">build</span><span class="op" id="7499301">(</span><span class="num" id="7499302">1</span><span class="op" id="7499303">,</span>&nbsp;<span class="num" id="7499305">0</span><span class="op" id="7499306">,</span>&nbsp;<span class="num" id="7499308">4</span><span class="op" id="7499309">,</span>&nbsp;<span class="num" id="7499311">0</span><span class="op" id="7499312">,</span>&nbsp;<span class="num" id="7499314">4</span><span class="op" id="7499315">,</span>&nbsp;<span class="num" id="7499317">0</span><span class="op" id="7499318">,</span>&nbsp;<span class="num" id="7499320">3</span><span class="op" id="7499321">,</span>&nbsp;<span class="num" id="7499323">3</span><span class="op" id="7499324">,</span>&nbsp;<span class="num" id="7499326">4</span><span class="op" id="7499327">)</span><span class="op" id="7499328">}</span><span class="op" id="7499329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499332">{</span><span class="string" id="7499333">`((a|b|c)*(d))`</span><span class="op" id="7499348">,</span>&nbsp;<span class="string" id="7499350">&#34;abcd&#34;</span><span class="op" id="7499356">,</span>&nbsp;<span class="ident" id="7499358">build</span><span class="op" id="7499363">(</span><span class="num" id="7499364">1</span><span class="op" id="7499365">,</span>&nbsp;<span class="num" id="7499367">0</span><span class="op" id="7499368">,</span>&nbsp;<span class="num" id="7499370">4</span><span class="op" id="7499371">,</span>&nbsp;<span class="num" id="7499373">0</span><span class="op" id="7499374">,</span>&nbsp;<span class="num" id="7499376">4</span><span class="op" id="7499377">,</span>&nbsp;<span class="num" id="7499379">2</span><span class="op" id="7499380">,</span>&nbsp;<span class="num" id="7499382">3</span><span class="op" id="7499383">,</span>&nbsp;<span class="num" id="7499385">3</span><span class="op" id="7499386">,</span>&nbsp;<span class="num" id="7499388">4</span><span class="op" id="7499389">)</span><span class="op" id="7499390">}</span><span class="op" id="7499391">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499394">{</span><span class="string" id="7499395">`(((a|b|c)*)(d))`</span><span class="op" id="7499412">,</span>&nbsp;<span class="string" id="7499414">&#34;abcd&#34;</span><span class="op" id="7499420">,</span>&nbsp;<span class="ident" id="7499422">build</span><span class="op" id="7499427">(</span><span class="num" id="7499428">1</span><span class="op" id="7499429">,</span>&nbsp;<span class="num" id="7499431">0</span><span class="op" id="7499432">,</span>&nbsp;<span class="num" id="7499434">4</span><span class="op" id="7499435">,</span>&nbsp;<span class="num" id="7499437">0</span><span class="op" id="7499438">,</span>&nbsp;<span class="num" id="7499440">4</span><span class="op" id="7499441">,</span>&nbsp;<span class="num" id="7499443">0</span><span class="op" id="7499444">,</span>&nbsp;<span class="num" id="7499446">3</span><span class="op" id="7499447">,</span>&nbsp;<span class="num" id="7499449">2</span><span class="op" id="7499450">,</span>&nbsp;<span class="num" id="7499452">3</span><span class="op" id="7499453">,</span>&nbsp;<span class="num" id="7499455">3</span><span class="op" id="7499456">,</span>&nbsp;<span class="num" id="7499458">4</span><span class="op" id="7499459">)</span><span class="op" id="7499460">}</span><span class="op" id="7499461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499464">{</span><span class="string" id="7499465">`\a\f\n\r\t\v`</span><span class="op" id="7499479">,</span>&nbsp;<span class="string" id="7499481">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7499495">,</span>&nbsp;<span class="ident" id="7499497">build</span><span class="op" id="7499502">(</span><span class="num" id="7499503">1</span><span class="op" id="7499504">,</span>&nbsp;<span class="num" id="7499506">0</span><span class="op" id="7499507">,</span>&nbsp;<span class="num" id="7499509">6</span><span class="op" id="7499510">)</span><span class="op" id="7499511">}</span><span class="op" id="7499512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499515">{</span><span class="string" id="7499516">`[\a\f\n\r\t\v]+`</span><span class="op" id="7499533">,</span>&nbsp;<span class="string" id="7499535">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7499549">,</span>&nbsp;<span class="ident" id="7499551">build</span><span class="op" id="7499556">(</span><span class="num" id="7499557">1</span><span class="op" id="7499558">,</span>&nbsp;<span class="num" id="7499560">0</span><span class="op" id="7499561">,</span>&nbsp;<span class="num" id="7499563">6</span><span class="op" id="7499564">)</span><span class="op" id="7499565">}</span><span class="op" id="7499566">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499570">{</span><span class="string" id="7499571">`a*(|(b))c*`</span><span class="op" id="7499583">,</span>&nbsp;<span class="string" id="7499585">&#34;aacc&#34;</span><span class="op" id="7499591">,</span>&nbsp;<span class="ident" id="7499593">build</span><span class="op" id="7499598">(</span><span class="num" id="7499599">1</span><span class="op" id="7499600">,</span>&nbsp;<span class="num" id="7499602">0</span><span class="op" id="7499603">,</span>&nbsp;<span class="num" id="7499605">4</span><span class="op" id="7499606">,</span>&nbsp;<span class="num" id="7499608">2</span><span class="op" id="7499609">,</span>&nbsp;<span class="num" id="7499611">2</span><span class="op" id="7499612">,</span>&nbsp;<span class="op" id="7499614">-</span><span class="num" id="7499615">1</span><span class="op" id="7499616">,</span>&nbsp;<span class="op" id="7499618">-</span><span class="num" id="7499619">1</span><span class="op" id="7499620">)</span><span class="op" id="7499621">}</span><span class="op" id="7499622">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499625">{</span><span class="string" id="7499626">`(.*).*`</span><span class="op" id="7499634">,</span>&nbsp;<span class="string" id="7499636">&#34;ab&#34;</span><span class="op" id="7499640">,</span>&nbsp;<span class="ident" id="7499642">build</span><span class="op" id="7499647">(</span><span class="num" id="7499648">1</span><span class="op" id="7499649">,</span>&nbsp;<span class="num" id="7499651">0</span><span class="op" id="7499652">,</span>&nbsp;<span class="num" id="7499654">2</span><span class="op" id="7499655">,</span>&nbsp;<span class="num" id="7499657">0</span><span class="op" id="7499658">,</span>&nbsp;<span class="num" id="7499660">2</span><span class="op" id="7499661">)</span><span class="op" id="7499662">}</span><span class="op" id="7499663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499666">{</span><span class="string" id="7499667">`[.]`</span><span class="op" id="7499672">,</span>&nbsp;<span class="string" id="7499674">&#34;.&#34;</span><span class="op" id="7499677">,</span>&nbsp;<span class="ident" id="7499679">build</span><span class="op" id="7499684">(</span><span class="num" id="7499685">1</span><span class="op" id="7499686">,</span>&nbsp;<span class="num" id="7499688">0</span><span class="op" id="7499689">,</span>&nbsp;<span class="num" id="7499691">1</span><span class="op" id="7499692">)</span><span class="op" id="7499693">}</span><span class="op" id="7499694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499697">{</span><span class="string" id="7499698">`/$`</span><span class="op" id="7499702">,</span>&nbsp;<span class="string" id="7499704">&#34;/abc/&#34;</span><span class="op" id="7499711">,</span>&nbsp;<span class="ident" id="7499713">build</span><span class="op" id="7499718">(</span><span class="num" id="7499719">1</span><span class="op" id="7499720">,</span>&nbsp;<span class="num" id="7499722">4</span><span class="op" id="7499723">,</span>&nbsp;<span class="num" id="7499725">5</span><span class="op" id="7499726">)</span><span class="op" id="7499727">}</span><span class="op" id="7499728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499731">{</span><span class="string" id="7499732">`/$`</span><span class="op" id="7499736">,</span>&nbsp;<span class="string" id="7499738">&#34;/abc&#34;</span><span class="op" id="7499744">,</span>&nbsp;<span class="ident" id="7499746">nil</span><span class="op" id="7499749">}</span><span class="op" id="7499750">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7499754">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499775">{</span><span class="string" id="7499776">`.`</span><span class="op" id="7499779">,</span>&nbsp;<span class="string" id="7499781">&#34;abc&#34;</span><span class="op" id="7499786">,</span>&nbsp;<span class="ident" id="7499788">build</span><span class="op" id="7499793">(</span><span class="num" id="7499794">3</span><span class="op" id="7499795">,</span>&nbsp;<span class="num" id="7499797">0</span><span class="op" id="7499798">,</span>&nbsp;<span class="num" id="7499800">1</span><span class="op" id="7499801">,</span>&nbsp;<span class="num" id="7499803">1</span><span class="op" id="7499804">,</span>&nbsp;<span class="num" id="7499806">2</span><span class="op" id="7499807">,</span>&nbsp;<span class="num" id="7499809">2</span><span class="op" id="7499810">,</span>&nbsp;<span class="num" id="7499812">3</span><span class="op" id="7499813">)</span><span class="op" id="7499814">}</span><span class="op" id="7499815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499818">{</span><span class="string" id="7499819">`(.)`</span><span class="op" id="7499824">,</span>&nbsp;<span class="string" id="7499826">&#34;abc&#34;</span><span class="op" id="7499831">,</span>&nbsp;<span class="ident" id="7499833">build</span><span class="op" id="7499838">(</span><span class="num" id="7499839">3</span><span class="op" id="7499840">,</span>&nbsp;<span class="num" id="7499842">0</span><span class="op" id="7499843">,</span>&nbsp;<span class="num" id="7499845">1</span><span class="op" id="7499846">,</span>&nbsp;<span class="num" id="7499848">0</span><span class="op" id="7499849">,</span>&nbsp;<span class="num" id="7499851">1</span><span class="op" id="7499852">,</span>&nbsp;<span class="num" id="7499854">1</span><span class="op" id="7499855">,</span>&nbsp;<span class="num" id="7499857">2</span><span class="op" id="7499858">,</span>&nbsp;<span class="num" id="7499860">1</span><span class="op" id="7499861">,</span>&nbsp;<span class="num" id="7499863">2</span><span class="op" id="7499864">,</span>&nbsp;<span class="num" id="7499866">2</span><span class="op" id="7499867">,</span>&nbsp;<span class="num" id="7499869">3</span><span class="op" id="7499870">,</span>&nbsp;<span class="num" id="7499872">2</span><span class="op" id="7499873">,</span>&nbsp;<span class="num" id="7499875">3</span><span class="op" id="7499876">)</span><span class="op" id="7499877">}</span><span class="op" id="7499878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499881">{</span><span class="string" id="7499882">`.(.)`</span><span class="op" id="7499888">,</span>&nbsp;<span class="string" id="7499890">&#34;abcd&#34;</span><span class="op" id="7499896">,</span>&nbsp;<span class="ident" id="7499898">build</span><span class="op" id="7499903">(</span><span class="num" id="7499904">2</span><span class="op" id="7499905">,</span>&nbsp;<span class="num" id="7499907">0</span><span class="op" id="7499908">,</span>&nbsp;<span class="num" id="7499910">2</span><span class="op" id="7499911">,</span>&nbsp;<span class="num" id="7499913">1</span><span class="op" id="7499914">,</span>&nbsp;<span class="num" id="7499916">2</span><span class="op" id="7499917">,</span>&nbsp;<span class="num" id="7499919">2</span><span class="op" id="7499920">,</span>&nbsp;<span class="num" id="7499922">4</span><span class="op" id="7499923">,</span>&nbsp;<span class="num" id="7499925">3</span><span class="op" id="7499926">,</span>&nbsp;<span class="num" id="7499928">4</span><span class="op" id="7499929">)</span><span class="op" id="7499930">}</span><span class="op" id="7499931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499934">{</span><span class="string" id="7499935">`ab*`</span><span class="op" id="7499940">,</span>&nbsp;<span class="string" id="7499942">&#34;abbaab&#34;</span><span class="op" id="7499950">,</span>&nbsp;<span class="ident" id="7499952">build</span><span class="op" id="7499957">(</span><span class="num" id="7499958">3</span><span class="op" id="7499959">,</span>&nbsp;<span class="num" id="7499961">0</span><span class="op" id="7499962">,</span>&nbsp;<span class="num" id="7499964">3</span><span class="op" id="7499965">,</span>&nbsp;<span class="num" id="7499967">3</span><span class="op" id="7499968">,</span>&nbsp;<span class="num" id="7499970">4</span><span class="op" id="7499971">,</span>&nbsp;<span class="num" id="7499973">4</span><span class="op" id="7499974">,</span>&nbsp;<span class="num" id="7499976">6</span><span class="op" id="7499977">)</span><span class="op" id="7499978">}</span><span class="op" id="7499979">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499982">{</span><span class="string" id="7499983">`a(b*)`</span><span class="op" id="7499990">,</span>&nbsp;<span class="string" id="7499992">&#34;abbaab&#34;</span><span class="op" id="7500000">,</span>&nbsp;<span class="ident" id="7500002">build</span><span class="op" id="7500007">(</span><span class="num" id="7500008">3</span><span class="op" id="7500009">,</span>&nbsp;<span class="num" id="7500011">0</span><span class="op" id="7500012">,</span>&nbsp;<span class="num" id="7500014">3</span><span class="op" id="7500015">,</span>&nbsp;<span class="num" id="7500017">1</span><span class="op" id="7500018">,</span>&nbsp;<span class="num" id="7500020">3</span><span class="op" id="7500021">,</span>&nbsp;<span class="num" id="7500023">3</span><span class="op" id="7500024">,</span>&nbsp;<span class="num" id="7500026">4</span><span class="op" id="7500027">,</span>&nbsp;<span class="num" id="7500029">4</span><span class="op" id="7500030">,</span>&nbsp;<span class="num" id="7500032">4</span><span class="op" id="7500033">,</span>&nbsp;<span class="num" id="7500035">4</span><span class="op" id="7500036">,</span>&nbsp;<span class="num" id="7500038">6</span><span class="op" id="7500039">,</span>&nbsp;<span class="num" id="7500041">5</span><span class="op" id="7500042">,</span>&nbsp;<span class="num" id="7500044">6</span><span class="op" id="7500045">)</span><span class="op" id="7500046">}</span><span class="op" id="7500047">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7500051">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500066">{</span><span class="string" id="7500067">`ab$`</span><span class="op" id="7500072">,</span>&nbsp;<span class="string" id="7500074">&#34;cab&#34;</span><span class="op" id="7500079">,</span>&nbsp;<span class="ident" id="7500081">build</span><span class="op" id="7500086">(</span><span class="num" id="7500087">1</span><span class="op" id="7500088">,</span>&nbsp;<span class="num" id="7500090">1</span><span class="op" id="7500091">,</span>&nbsp;<span class="num" id="7500093">3</span><span class="op" id="7500094">)</span><span class="op" id="7500095">}</span><span class="op" id="7500096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500099">{</span><span class="string" id="7500100">`axxb$`</span><span class="op" id="7500107">,</span>&nbsp;<span class="string" id="7500109">&#34;axxcb&#34;</span><span class="op" id="7500116">,</span>&nbsp;<span class="ident" id="7500118">nil</span><span class="op" id="7500121">}</span><span class="op" id="7500122">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500125">{</span><span class="string" id="7500126">`data`</span><span class="op" id="7500132">,</span>&nbsp;<span class="string" id="7500134">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7500145">,</span>&nbsp;<span class="ident" id="7500147">build</span><span class="op" id="7500152">(</span><span class="num" id="7500153">1</span><span class="op" id="7500154">,</span>&nbsp;<span class="num" id="7500156">5</span><span class="op" id="7500157">,</span>&nbsp;<span class="num" id="7500159">9</span><span class="op" id="7500160">)</span><span class="op" id="7500161">}</span><span class="op" id="7500162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500165">{</span><span class="string" id="7500166">`da(.)a$`</span><span class="op" id="7500175">,</span>&nbsp;<span class="string" id="7500177">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7500188">,</span>&nbsp;<span class="ident" id="7500190">build</span><span class="op" id="7500195">(</span><span class="num" id="7500196">1</span><span class="op" id="7500197">,</span>&nbsp;<span class="num" id="7500199">5</span><span class="op" id="7500200">,</span>&nbsp;<span class="num" id="7500202">9</span><span class="op" id="7500203">,</span>&nbsp;<span class="num" id="7500205">7</span><span class="op" id="7500206">,</span>&nbsp;<span class="num" id="7500208">8</span><span class="op" id="7500209">)</span><span class="op" id="7500210">}</span><span class="op" id="7500211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500214">{</span><span class="string" id="7500215">`zx+`</span><span class="op" id="7500220">,</span>&nbsp;<span class="string" id="7500222">&#34;zzx&#34;</span><span class="op" id="7500227">,</span>&nbsp;<span class="ident" id="7500229">build</span><span class="op" id="7500234">(</span><span class="num" id="7500235">1</span><span class="op" id="7500236">,</span>&nbsp;<span class="num" id="7500238">1</span><span class="op" id="7500239">,</span>&nbsp;<span class="num" id="7500241">3</span><span class="op" id="7500242">)</span><span class="op" id="7500243">}</span><span class="op" id="7500244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500247">{</span><span class="string" id="7500248">`ab$`</span><span class="op" id="7500253">,</span>&nbsp;<span class="string" id="7500255">&#34;abcab&#34;</span><span class="op" id="7500262">,</span>&nbsp;<span class="ident" id="7500264">build</span><span class="op" id="7500269">(</span><span class="num" id="7500270">1</span><span class="op" id="7500271">,</span>&nbsp;<span class="num" id="7500273">3</span><span class="op" id="7500274">,</span>&nbsp;<span class="num" id="7500276">5</span><span class="op" id="7500277">)</span><span class="op" id="7500278">}</span><span class="op" id="7500279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500282">{</span><span class="string" id="7500283">`(aa)*$`</span><span class="op" id="7500291">,</span>&nbsp;<span class="string" id="7500293">&#34;a&#34;</span><span class="op" id="7500296">,</span>&nbsp;<span class="ident" id="7500298">build</span><span class="op" id="7500303">(</span><span class="num" id="7500304">1</span><span class="op" id="7500305">,</span>&nbsp;<span class="num" id="7500307">1</span><span class="op" id="7500308">,</span>&nbsp;<span class="num" id="7500310">1</span><span class="op" id="7500311">,</span>&nbsp;<span class="op" id="7500313">-</span><span class="num" id="7500314">1</span><span class="op" id="7500315">,</span>&nbsp;<span class="op" id="7500317">-</span><span class="num" id="7500318">1</span><span class="op" id="7500319">)</span><span class="op" id="7500320">}</span><span class="op" id="7500321">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500324">{</span><span class="string" id="7500325">`(?:.|(?:.a))`</span><span class="op" id="7500339">,</span>&nbsp;<span class="string" id="7500341">&#34;&#34;</span><span class="op" id="7500343">,</span>&nbsp;<span class="ident" id="7500345">nil</span><span class="op" id="7500348">}</span><span class="op" id="7500349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500352">{</span><span class="string" id="7500353">`(?:A(?:A|a))`</span><span class="op" id="7500367">,</span>&nbsp;<span class="string" id="7500369">&#34;Aa&#34;</span><span class="op" id="7500373">,</span>&nbsp;<span class="ident" id="7500375">build</span><span class="op" id="7500380">(</span><span class="num" id="7500381">1</span><span class="op" id="7500382">,</span>&nbsp;<span class="num" id="7500384">0</span><span class="op" id="7500385">,</span>&nbsp;<span class="num" id="7500387">2</span><span class="op" id="7500388">)</span><span class="op" id="7500389">}</span><span class="op" id="7500390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500393">{</span><span class="string" id="7500394">`(?:A|(?:A|a))`</span><span class="op" id="7500409">,</span>&nbsp;<span class="string" id="7500411">&#34;a&#34;</span><span class="op" id="7500414">,</span>&nbsp;<span class="ident" id="7500416">build</span><span class="op" id="7500421">(</span><span class="num" id="7500422">1</span><span class="op" id="7500423">,</span>&nbsp;<span class="num" id="7500425">0</span><span class="op" id="7500426">,</span>&nbsp;<span class="num" id="7500428">1</span><span class="op" id="7500429">)</span><span class="op" id="7500430">}</span><span class="op" id="7500431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500434">{</span><span class="string" id="7500435">`(a){0}`</span><span class="op" id="7500443">,</span>&nbsp;<span class="string" id="7500445">&#34;&#34;</span><span class="op" id="7500447">,</span>&nbsp;<span class="ident" id="7500449">build</span><span class="op" id="7500454">(</span><span class="num" id="7500455">1</span><span class="op" id="7500456">,</span>&nbsp;<span class="num" id="7500458">0</span><span class="op" id="7500459">,</span>&nbsp;<span class="num" id="7500461">0</span><span class="op" id="7500462">,</span>&nbsp;<span class="op" id="7500464">-</span><span class="num" id="7500465">1</span><span class="op" id="7500466">,</span>&nbsp;<span class="op" id="7500468">-</span><span class="num" id="7500469">1</span><span class="op" id="7500470">)</span><span class="op" id="7500471">}</span><span class="op" id="7500472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500475">{</span><span class="string" id="7500476">`(?-s)(?:(?:^).)`</span><span class="op" id="7500493">,</span>&nbsp;<span class="string" id="7500495">&#34;\n&#34;</span><span class="op" id="7500499">,</span>&nbsp;<span class="ident" id="7500501">nil</span><span class="op" id="7500504">}</span><span class="op" id="7500505">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500508">{</span><span class="string" id="7500509">`(?s)(?:(?:^).)`</span><span class="op" id="7500525">,</span>&nbsp;<span class="string" id="7500527">&#34;\n&#34;</span><span class="op" id="7500531">,</span>&nbsp;<span class="ident" id="7500533">build</span><span class="op" id="7500538">(</span><span class="num" id="7500539">1</span><span class="op" id="7500540">,</span>&nbsp;<span class="num" id="7500542">0</span><span class="op" id="7500543">,</span>&nbsp;<span class="num" id="7500545">1</span><span class="op" id="7500546">)</span><span class="op" id="7500547">}</span><span class="op" id="7500548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500551">{</span><span class="string" id="7500552">`(?:(?:^).)`</span><span class="op" id="7500564">,</span>&nbsp;<span class="string" id="7500566">&#34;\n&#34;</span><span class="op" id="7500570">,</span>&nbsp;<span class="ident" id="7500572">nil</span><span class="op" id="7500575">}</span><span class="op" id="7500576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500579">{</span><span class="string" id="7500580">`\b`</span><span class="op" id="7500584">,</span>&nbsp;<span class="string" id="7500586">&#34;x&#34;</span><span class="op" id="7500589">,</span>&nbsp;<span class="ident" id="7500591">build</span><span class="op" id="7500596">(</span><span class="num" id="7500597">2</span><span class="op" id="7500598">,</span>&nbsp;<span class="num" id="7500600">0</span><span class="op" id="7500601">,</span>&nbsp;<span class="num" id="7500603">0</span><span class="op" id="7500604">,</span>&nbsp;<span class="num" id="7500606">1</span><span class="op" id="7500607">,</span>&nbsp;<span class="num" id="7500609">1</span><span class="op" id="7500610">)</span><span class="op" id="7500611">}</span><span class="op" id="7500612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500615">{</span><span class="string" id="7500616">`\b`</span><span class="op" id="7500620">,</span>&nbsp;<span class="string" id="7500622">&#34;xx&#34;</span><span class="op" id="7500626">,</span>&nbsp;<span class="ident" id="7500628">build</span><span class="op" id="7500633">(</span><span class="num" id="7500634">2</span><span class="op" id="7500635">,</span>&nbsp;<span class="num" id="7500637">0</span><span class="op" id="7500638">,</span>&nbsp;<span class="num" id="7500640">0</span><span class="op" id="7500641">,</span>&nbsp;<span class="num" id="7500643">2</span><span class="op" id="7500644">,</span>&nbsp;<span class="num" id="7500646">2</span><span class="op" id="7500647">)</span><span class="op" id="7500648">}</span><span class="op" id="7500649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500652">{</span><span class="string" id="7500653">`\b`</span><span class="op" id="7500657">,</span>&nbsp;<span class="string" id="7500659">&#34;x&nbsp;y&#34;</span><span class="op" id="7500664">,</span>&nbsp;<span class="ident" id="7500666">build</span><span class="op" id="7500671">(</span><span class="num" id="7500672">4</span><span class="op" id="7500673">,</span>&nbsp;<span class="num" id="7500675">0</span><span class="op" id="7500676">,</span>&nbsp;<span class="num" id="7500678">0</span><span class="op" id="7500679">,</span>&nbsp;<span class="num" id="7500681">1</span><span class="op" id="7500682">,</span>&nbsp;<span class="num" id="7500684">1</span><span class="op" id="7500685">,</span>&nbsp;<span class="num" id="7500687">2</span><span class="op" id="7500688">,</span>&nbsp;<span class="num" id="7500690">2</span><span class="op" id="7500691">,</span>&nbsp;<span class="num" id="7500693">3</span><span class="op" id="7500694">,</span>&nbsp;<span class="num" id="7500696">3</span><span class="op" id="7500697">)</span><span class="op" id="7500698">}</span><span class="op" id="7500699">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500702">{</span><span class="string" id="7500703">`\b`</span><span class="op" id="7500707">,</span>&nbsp;<span class="string" id="7500709">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7500716">,</span>&nbsp;<span class="ident" id="7500718">build</span><span class="op" id="7500723">(</span><span class="num" id="7500724">4</span><span class="op" id="7500725">,</span>&nbsp;<span class="num" id="7500727">0</span><span class="op" id="7500728">,</span>&nbsp;<span class="num" id="7500730">0</span><span class="op" id="7500731">,</span>&nbsp;<span class="num" id="7500733">2</span><span class="op" id="7500734">,</span>&nbsp;<span class="num" id="7500736">2</span><span class="op" id="7500737">,</span>&nbsp;<span class="num" id="7500739">3</span><span class="op" id="7500740">,</span>&nbsp;<span class="num" id="7500742">3</span><span class="op" id="7500743">,</span>&nbsp;<span class="num" id="7500745">5</span><span class="op" id="7500746">,</span>&nbsp;<span class="num" id="7500748">5</span><span class="op" id="7500749">)</span><span class="op" id="7500750">}</span><span class="op" id="7500751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500754">{</span><span class="string" id="7500755">`\B`</span><span class="op" id="7500759">,</span>&nbsp;<span class="string" id="7500761">&#34;x&#34;</span><span class="op" id="7500764">,</span>&nbsp;<span class="ident" id="7500766">nil</span><span class="op" id="7500769">}</span><span class="op" id="7500770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500773">{</span><span class="string" id="7500774">`\B`</span><span class="op" id="7500778">,</span>&nbsp;<span class="string" id="7500780">&#34;xx&#34;</span><span class="op" id="7500784">,</span>&nbsp;<span class="ident" id="7500786">build</span><span class="op" id="7500791">(</span><span class="num" id="7500792">1</span><span class="op" id="7500793">,</span>&nbsp;<span class="num" id="7500795">1</span><span class="op" id="7500796">,</span>&nbsp;<span class="num" id="7500798">1</span><span class="op" id="7500799">)</span><span class="op" id="7500800">}</span><span class="op" id="7500801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500804">{</span><span class="string" id="7500805">`\B`</span><span class="op" id="7500809">,</span>&nbsp;<span class="string" id="7500811">&#34;x&nbsp;y&#34;</span><span class="op" id="7500816">,</span>&nbsp;<span class="ident" id="7500818">nil</span><span class="op" id="7500821">}</span><span class="op" id="7500822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500825">{</span><span class="string" id="7500826">`\B`</span><span class="op" id="7500830">,</span>&nbsp;<span class="string" id="7500832">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7500839">,</span>&nbsp;<span class="ident" id="7500841">build</span><span class="op" id="7500846">(</span><span class="num" id="7500847">2</span><span class="op" id="7500848">,</span>&nbsp;<span class="num" id="7500850">1</span><span class="op" id="7500851">,</span>&nbsp;<span class="num" id="7500853">1</span><span class="op" id="7500854">,</span>&nbsp;<span class="num" id="7500856">4</span><span class="op" id="7500857">,</span>&nbsp;<span class="num" id="7500859">4</span><span class="op" id="7500860">)</span><span class="op" id="7500861">}</span><span class="op" id="7500862">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7500866">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500880">{</span><span class="string" id="7500881">`[^\S\s]`</span><span class="op" id="7500890">,</span>&nbsp;<span class="string" id="7500892">&#34;abcd&#34;</span><span class="op" id="7500898">,</span>&nbsp;<span class="ident" id="7500900">nil</span><span class="op" id="7500903">}</span><span class="op" id="7500904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500907">{</span><span class="string" id="7500908">`[^\S[:space:]]`</span><span class="op" id="7500924">,</span>&nbsp;<span class="string" id="7500926">&#34;abcd&#34;</span><span class="op" id="7500932">,</span>&nbsp;<span class="ident" id="7500934">nil</span><span class="op" id="7500937">}</span><span class="op" id="7500938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500941">{</span><span class="string" id="7500942">`[^\D\d]`</span><span class="op" id="7500951">,</span>&nbsp;<span class="string" id="7500953">&#34;abcd&#34;</span><span class="op" id="7500959">,</span>&nbsp;<span class="ident" id="7500961">nil</span><span class="op" id="7500964">}</span><span class="op" id="7500965">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500968">{</span><span class="string" id="7500969">`[^\D[:digit:]]`</span><span class="op" id="7500985">,</span>&nbsp;<span class="string" id="7500987">&#34;abcd&#34;</span><span class="op" id="7500993">,</span>&nbsp;<span class="ident" id="7500995">nil</span><span class="op" id="7500998">}</span><span class="op" id="7500999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501002">{</span><span class="string" id="7501003">`(?i)\W`</span><span class="op" id="7501011">,</span>&nbsp;<span class="string" id="7501013">&#34;x&#34;</span><span class="op" id="7501016">,</span>&nbsp;<span class="ident" id="7501018">nil</span><span class="op" id="7501021">}</span><span class="op" id="7501022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501025">{</span><span class="string" id="7501026">`(?i)\W`</span><span class="op" id="7501034">,</span>&nbsp;<span class="string" id="7501036">&#34;k&#34;</span><span class="op" id="7501039">,</span>&nbsp;<span class="ident" id="7501041">nil</span><span class="op" id="7501044">}</span><span class="op" id="7501045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501048">{</span><span class="string" id="7501049">`(?i)\W`</span><span class="op" id="7501057">,</span>&nbsp;<span class="string" id="7501059">&#34;s&#34;</span><span class="op" id="7501062">,</span>&nbsp;<span class="ident" id="7501064">nil</span><span class="op" id="7501067">}</span><span class="op" id="7501068">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7501072">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501113">{</span><span class="string" id="7501114">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="7501178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501182">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7501215">,</span>&nbsp;<span class="ident" id="7501217">build</span><span class="op" id="7501222">(</span><span class="num" id="7501223">1</span><span class="op" id="7501224">,</span>&nbsp;<span class="num" id="7501226">0</span><span class="op" id="7501227">,</span>&nbsp;<span class="num" id="7501229">31</span><span class="op" id="7501231">)</span><span class="op" id="7501232">}</span><span class="op" id="7501233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501236">{</span><span class="string" id="7501237">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="7501304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501308">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7501341">,</span>&nbsp;<span class="ident" id="7501343">build</span><span class="op" id="7501348">(</span><span class="num" id="7501349">1</span><span class="op" id="7501350">,</span>&nbsp;<span class="num" id="7501352">0</span><span class="op" id="7501353">,</span>&nbsp;<span class="num" id="7501355">31</span><span class="op" id="7501357">)</span><span class="op" id="7501358">}</span><span class="op" id="7501359">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501362">{</span><span class="string" id="7501363">&#34;\\`&#34;</span><span class="op" id="7501368">,</span>&nbsp;<span class="string" id="7501370">&#34;`&#34;</span><span class="op" id="7501373">,</span>&nbsp;<span class="ident" id="7501375">build</span><span class="op" id="7501380">(</span><span class="num" id="7501381">1</span><span class="op" id="7501382">,</span>&nbsp;<span class="num" id="7501384">0</span><span class="op" id="7501385">,</span>&nbsp;<span class="num" id="7501387">1</span><span class="op" id="7501388">)</span><span class="op" id="7501389">}</span><span class="op" id="7501390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501393">{</span><span class="string" id="7501394">&#34;[\\`]+&#34;</span><span class="op" id="7501402">,</span>&nbsp;<span class="string" id="7501404">&#34;`&#34;</span><span class="op" id="7501407">,</span>&nbsp;<span class="ident" id="7501409">build</span><span class="op" id="7501414">(</span><span class="num" id="7501415">1</span><span class="op" id="7501416">,</span>&nbsp;<span class="num" id="7501418">0</span><span class="op" id="7501419">,</span>&nbsp;<span class="num" id="7501421">1</span><span class="op" id="7501422">)</span><span class="op" id="7501423">}</span><span class="op" id="7501424">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7501428">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501476">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501480">&#34;.&#34;</span><span class="op" id="7501483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501487">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="7501525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501529">build</span><span class="op" id="7501534">(</span><span class="num" id="7501535">36</span><span class="op" id="7501537">,</span>&nbsp;<span class="num" id="7501539">0</span><span class="op" id="7501540">,</span>&nbsp;<span class="num" id="7501542">1</span><span class="op" id="7501543">,</span>&nbsp;<span class="num" id="7501545">1</span><span class="op" id="7501546">,</span>&nbsp;<span class="num" id="7501548">2</span><span class="op" id="7501549">,</span>&nbsp;<span class="num" id="7501551">2</span><span class="op" id="7501552">,</span>&nbsp;<span class="num" id="7501554">3</span><span class="op" id="7501555">,</span>&nbsp;<span class="num" id="7501557">3</span><span class="op" id="7501558">,</span>&nbsp;<span class="num" id="7501560">4</span><span class="op" id="7501561">,</span>&nbsp;<span class="num" id="7501563">4</span><span class="op" id="7501564">,</span>&nbsp;<span class="num" id="7501566">5</span><span class="op" id="7501567">,</span>&nbsp;<span class="num" id="7501569">5</span><span class="op" id="7501570">,</span>&nbsp;<span class="num" id="7501572">6</span><span class="op" id="7501573">,</span>&nbsp;<span class="num" id="7501575">6</span><span class="op" id="7501576">,</span>&nbsp;<span class="num" id="7501578">7</span><span class="op" id="7501579">,</span>&nbsp;<span class="num" id="7501581">7</span><span class="op" id="7501582">,</span>&nbsp;<span class="num" id="7501584">8</span><span class="op" id="7501585">,</span>&nbsp;<span class="num" id="7501587">8</span><span class="op" id="7501588">,</span>&nbsp;<span class="num" id="7501590">9</span><span class="op" id="7501591">,</span>&nbsp;<span class="num" id="7501593">9</span><span class="op" id="7501594">,</span>&nbsp;<span class="num" id="7501596">10</span><span class="op" id="7501598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7501603">10</span><span class="op" id="7501605">,</span>&nbsp;<span class="num" id="7501607">11</span><span class="op" id="7501609">,</span>&nbsp;<span class="num" id="7501611">11</span><span class="op" id="7501613">,</span>&nbsp;<span class="num" id="7501615">12</span><span class="op" id="7501617">,</span>&nbsp;<span class="num" id="7501619">12</span><span class="op" id="7501621">,</span>&nbsp;<span class="num" id="7501623">13</span><span class="op" id="7501625">,</span>&nbsp;<span class="num" id="7501627">13</span><span class="op" id="7501629">,</span>&nbsp;<span class="num" id="7501631">14</span><span class="op" id="7501633">,</span>&nbsp;<span class="num" id="7501635">14</span><span class="op" id="7501637">,</span>&nbsp;<span class="num" id="7501639">15</span><span class="op" id="7501641">,</span>&nbsp;<span class="num" id="7501643">15</span><span class="op" id="7501645">,</span>&nbsp;<span class="num" id="7501647">16</span><span class="op" id="7501649">,</span>&nbsp;<span class="num" id="7501651">16</span><span class="op" id="7501653">,</span>&nbsp;<span class="num" id="7501655">17</span><span class="op" id="7501657">,</span>&nbsp;<span class="num" id="7501659">17</span><span class="op" id="7501661">,</span>&nbsp;<span class="num" id="7501663">18</span><span class="op" id="7501665">,</span>&nbsp;<span class="num" id="7501667">18</span><span class="op" id="7501669">,</span>&nbsp;<span class="num" id="7501671">19</span><span class="op" id="7501673">,</span>&nbsp;<span class="num" id="7501675">19</span><span class="op" id="7501677">,</span>&nbsp;<span class="num" id="7501679">20</span><span class="op" id="7501681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7501686">20</span><span class="op" id="7501688">,</span>&nbsp;<span class="num" id="7501690">21</span><span class="op" id="7501692">,</span>&nbsp;<span class="num" id="7501694">21</span><span class="op" id="7501696">,</span>&nbsp;<span class="num" id="7501698">22</span><span class="op" id="7501700">,</span>&nbsp;<span class="num" id="7501702">22</span><span class="op" id="7501704">,</span>&nbsp;<span class="num" id="7501706">23</span><span class="op" id="7501708">,</span>&nbsp;<span class="num" id="7501710">23</span><span class="op" id="7501712">,</span>&nbsp;<span class="num" id="7501714">24</span><span class="op" id="7501716">,</span>&nbsp;<span class="num" id="7501718">24</span><span class="op" id="7501720">,</span>&nbsp;<span class="num" id="7501722">25</span><span class="op" id="7501724">,</span>&nbsp;<span class="num" id="7501726">25</span><span class="op" id="7501728">,</span>&nbsp;<span class="num" id="7501730">26</span><span class="op" id="7501732">,</span>&nbsp;<span class="num" id="7501734">26</span><span class="op" id="7501736">,</span>&nbsp;<span class="num" id="7501738">27</span><span class="op" id="7501740">,</span>&nbsp;<span class="num" id="7501742">27</span><span class="op" id="7501744">,</span>&nbsp;<span class="num" id="7501746">28</span><span class="op" id="7501748">,</span>&nbsp;<span class="num" id="7501750">28</span><span class="op" id="7501752">,</span>&nbsp;<span class="num" id="7501754">29</span><span class="op" id="7501756">,</span>&nbsp;<span class="num" id="7501758">29</span><span class="op" id="7501760">,</span>&nbsp;<span class="num" id="7501762">30</span><span class="op" id="7501764">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7501769">30</span><span class="op" id="7501771">,</span>&nbsp;<span class="num" id="7501773">31</span><span class="op" id="7501775">,</span>&nbsp;<span class="num" id="7501777">31</span><span class="op" id="7501779">,</span>&nbsp;<span class="num" id="7501781">32</span><span class="op" id="7501783">,</span>&nbsp;<span class="num" id="7501785">32</span><span class="op" id="7501787">,</span>&nbsp;<span class="num" id="7501789">33</span><span class="op" id="7501791">,</span>&nbsp;<span class="num" id="7501793">33</span><span class="op" id="7501795">,</span>&nbsp;<span class="num" id="7501797">34</span><span class="op" id="7501799">,</span>&nbsp;<span class="num" id="7501801">34</span><span class="op" id="7501803">,</span>&nbsp;<span class="num" id="7501805">35</span><span class="op" id="7501807">,</span>&nbsp;<span class="num" id="7501809">35</span><span class="op" id="7501811">,</span>&nbsp;<span class="num" id="7501813">36</span><span class="op" id="7501815">)</span><span class="op" id="7501816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501819">}</span><span class="op" id="7501820">,</span><br>
<span class="lineno"></span><span class="op" id="7501822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7501825">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="7501903">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="7501963">func</span>&nbsp;<span class="ident" id="7501968">build</span><span class="op" id="7501973">(</span><span class="ident" id="7501974">n</span>&nbsp;<span class="builtintype" id="7501976">int</span><span class="op" id="7501979">,</span>&nbsp;<span class="ident" id="7501981">x</span>&nbsp;<span class="op" id="7501983">...</span><span class="builtintype" id="7501986">int</span><span class="op" id="7501989">)</span>&nbsp;<span class="op" id="7501991">[</span><span class="op" id="7501992">]</span><span class="op" id="7501993">[</span><span class="op" id="7501994">]</span><span class="builtintype" id="7501995">int</span>&nbsp;<span class="op" id="7501999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502002">ret</span>&nbsp;<span class="op" id="7502006">:=</span>&nbsp;<span class="builtinfunc" id="7502009">make</span><span class="op" id="7502013">(</span><span class="op" id="7502014">[</span><span class="op" id="7502015">]</span><span class="op" id="7502016">[</span><span class="op" id="7502017">]</span><span class="builtintype" id="7502018">int</span><span class="op" id="7502021">,</span>&nbsp;<span class="ident" id="7502023">n</span><span class="op" id="7502024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502027">runLength</span>&nbsp;<span class="op" id="7502037">:=</span>&nbsp;<span class="builtinfunc" id="7502040">len</span><span class="op" id="7502043">(</span><span class="ident" id="7502044">x</span><span class="op" id="7502045">)</span>&nbsp;<span class="op" id="7502047">/</span>&nbsp;<span class="ident" id="7502049">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502052">j</span>&nbsp;<span class="op" id="7502054">:=</span>&nbsp;<span class="num" id="7502057">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502060">for</span>&nbsp;<span class="ident" id="7502064">i</span>&nbsp;<span class="op" id="7502066">:=</span>&nbsp;<span class="keyword" id="7502069">range</span>&nbsp;<span class="ident" id="7502075">ret</span>&nbsp;<span class="op" id="7502079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502083">ret</span><span class="op" id="7502086">[</span><span class="ident" id="7502087">i</span><span class="op" id="7502088">]</span>&nbsp;<span class="op" id="7502090">=</span>&nbsp;<span class="builtinfunc" id="7502092">make</span><span class="op" id="7502096">(</span><span class="op" id="7502097">[</span><span class="op" id="7502098">]</span><span class="builtintype" id="7502099">int</span><span class="op" id="7502102">,</span>&nbsp;<span class="ident" id="7502104">runLength</span><span class="op" id="7502113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7502117">copy</span><span class="op" id="7502121">(</span><span class="ident" id="7502122">ret</span><span class="op" id="7502125">[</span><span class="ident" id="7502126">i</span><span class="op" id="7502127">]</span><span class="op" id="7502128">,</span>&nbsp;<span class="ident" id="7502130">x</span><span class="op" id="7502131">[</span><span class="ident" id="7502132">j</span><span class="op" id="7502133">:</span><span class="op" id="7502134">]</span><span class="op" id="7502135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502139">j</span>&nbsp;<span class="op" id="7502141">+=</span>&nbsp;<span class="ident" id="7502144">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502156">if</span>&nbsp;<span class="ident" id="7502159">j</span>&nbsp;<span class="op" id="7502161">&gt;</span>&nbsp;<span class="builtinfunc" id="7502163">len</span><span class="op" id="7502166">(</span><span class="ident" id="7502167">x</span><span class="op" id="7502168">)</span>&nbsp;<span class="op" id="7502170">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7502175">panic</span><span class="op" id="7502180">(</span><span class="string" id="7502181">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="7502202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502212">return</span>&nbsp;<span class="ident" id="7502219">ret</span><br>
<span class="lineno"></span><span class="op" id="7502223">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="7502226">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7502254">func</span>&nbsp;<span class="ident" id="7502259">TestFind</span><span class="op" id="7502267">(</span><span class="ident" id="7502268">t</span>&nbsp;<span class="op" id="7502270">*</span><span class="ident" id="7502271">testing</span><span class="op" id="7502278">.</span><span class="ident" id="7502279">T</span><span class="op" id="7502280">)</span>&nbsp;<span class="op" id="7502282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502285">for</span>&nbsp;<span class="ident" id="7502289">_</span><span class="op" id="7502290">,</span>&nbsp;<span class="ident" id="7502292">test</span>&nbsp;<span class="op" id="7502297">:=</span>&nbsp;<span class="keyword" id="7502300">range</span>&nbsp;<span class="ident" id="7502306">findTests</span>&nbsp;<span class="op" id="7502316">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502320">re</span>&nbsp;<span class="op" id="7502323">:=</span>&nbsp;<span class="ident" id="7502326">MustCompile</span><span class="op" id="7502337">(</span><span class="ident" id="7502338">test</span><span class="op" id="7502342">.</span><span class="ident" id="7502343">pat</span><span class="op" id="7502346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502350">if</span>&nbsp;<span class="ident" id="7502353">re</span><span class="op" id="7502355">.</span><span class="ident" id="7502356">String</span><span class="op" id="7502362">(</span><span class="op" id="7502363">)</span>&nbsp;<span class="op" id="7502365">!=</span>&nbsp;<span class="ident" id="7502368">test</span><span class="op" id="7502372">.</span><span class="ident" id="7502373">pat</span>&nbsp;<span class="op" id="7502377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502382">t</span><span class="op" id="7502383">.</span><span class="ident" id="7502384">Errorf</span><span class="op" id="7502390">(</span><span class="string" id="7502391">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="7502424">,</span>&nbsp;<span class="ident" id="7502426">re</span><span class="op" id="7502428">.</span><span class="ident" id="7502429">String</span><span class="op" id="7502435">(</span><span class="op" id="7502436">)</span><span class="op" id="7502437">,</span>&nbsp;<span class="ident" id="7502439">test</span><span class="op" id="7502443">.</span><span class="ident" id="7502444">pat</span><span class="op" id="7502447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502455">result</span>&nbsp;<span class="op" id="7502462">:=</span>&nbsp;<span class="ident" id="7502465">re</span><span class="op" id="7502467">.</span><span class="ident" id="7502468">Find</span><span class="op" id="7502472">(</span><span class="op" id="7502473">[</span><span class="op" id="7502474">]</span><span class="builtintype" id="7502475">byte</span><span class="op" id="7502479">(</span><span class="ident" id="7502480">test</span><span class="op" id="7502484">.</span><span class="ident" id="7502485">text</span><span class="op" id="7502489">)</span><span class="op" id="7502490">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502494">switch</span>&nbsp;<span class="op" id="7502501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502505">case</span>&nbsp;<span class="builtinfunc" id="7502510">len</span><span class="op" id="7502513">(</span><span class="ident" id="7502514">test</span><span class="op" id="7502518">.</span><span class="ident" id="7502519">matches</span><span class="op" id="7502526">)</span>&nbsp;<span class="op" id="7502528">==</span>&nbsp;<span class="num" id="7502531">0</span>&nbsp;<span class="op" id="7502533">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7502536">len</span><span class="op" id="7502539">(</span><span class="ident" id="7502540">result</span><span class="op" id="7502546">)</span>&nbsp;<span class="op" id="7502548">==</span>&nbsp;<span class="num" id="7502551">0</span><span class="op" id="7502552">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7502557">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502565">case</span>&nbsp;<span class="ident" id="7502570">test</span><span class="op" id="7502574">.</span><span class="ident" id="7502575">matches</span>&nbsp;<span class="op" id="7502583">==</span>&nbsp;<span class="ident" id="7502586">nil</span>&nbsp;<span class="op" id="7502590">&amp;&amp;</span>&nbsp;<span class="ident" id="7502593">result</span>&nbsp;<span class="op" id="7502600">!=</span>&nbsp;<span class="ident" id="7502603">nil</span><span class="op" id="7502606">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502611">t</span><span class="op" id="7502612">.</span><span class="ident" id="7502613">Errorf</span><span class="op" id="7502619">(</span><span class="string" id="7502620">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7502652">,</span>&nbsp;<span class="ident" id="7502654">test</span><span class="op" id="7502658">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502662">case</span>&nbsp;<span class="ident" id="7502667">test</span><span class="op" id="7502671">.</span><span class="ident" id="7502672">matches</span>&nbsp;<span class="op" id="7502680">!=</span>&nbsp;<span class="ident" id="7502683">nil</span>&nbsp;<span class="op" id="7502687">&amp;&amp;</span>&nbsp;<span class="ident" id="7502690">result</span>&nbsp;<span class="op" id="7502697">==</span>&nbsp;<span class="ident" id="7502700">nil</span><span class="op" id="7502703">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502708">t</span><span class="op" id="7502709">.</span><span class="ident" id="7502710">Errorf</span><span class="op" id="7502716">(</span><span class="string" id="7502717">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7502747">,</span>&nbsp;<span class="ident" id="7502749">test</span><span class="op" id="7502753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502757">case</span>&nbsp;<span class="ident" id="7502762">test</span><span class="op" id="7502766">.</span><span class="ident" id="7502767">matches</span>&nbsp;<span class="op" id="7502775">!=</span>&nbsp;<span class="ident" id="7502778">nil</span>&nbsp;<span class="op" id="7502782">&amp;&amp;</span>&nbsp;<span class="ident" id="7502785">result</span>&nbsp;<span class="op" id="7502792">!=</span>&nbsp;<span class="ident" id="7502795">nil</span><span class="op" id="7502798">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502803">expect</span>&nbsp;<span class="op" id="7502810">:=</span>&nbsp;<span class="ident" id="7502813">test</span><span class="op" id="7502817">.</span><span class="ident" id="7502818">text</span><span class="op" id="7502822">[</span><span class="ident" id="7502823">test</span><span class="op" id="7502827">.</span><span class="ident" id="7502828">matches</span><span class="op" id="7502835">[</span><span class="num" id="7502836">0</span><span class="op" id="7502837">]</span><span class="op" id="7502838">[</span><span class="num" id="7502839">0</span><span class="op" id="7502840">]</span><span class="op" id="7502841">:</span><span class="ident" id="7502842">test</span><span class="op" id="7502846">.</span><span class="ident" id="7502847">matches</span><span class="op" id="7502854">[</span><span class="num" id="7502855">0</span><span class="op" id="7502856">]</span><span class="op" id="7502857">[</span><span class="num" id="7502858">1</span><span class="op" id="7502859">]</span><span class="op" id="7502860">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502865">if</span>&nbsp;<span class="ident" id="7502868">expect</span>&nbsp;<span class="op" id="7502875">!=</span>&nbsp;<span class="builtintype" id="7502878">string</span><span class="op" id="7502884">(</span><span class="ident" id="7502885">result</span><span class="op" id="7502891">)</span>&nbsp;<span class="op" id="7502893">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502899">t</span><span class="op" id="7502900">.</span><span class="ident" id="7502901">Errorf</span><span class="op" id="7502907">(</span><span class="string" id="7502908">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7502932">,</span>&nbsp;<span class="ident" id="7502934">expect</span><span class="op" id="7502940">,</span>&nbsp;<span class="ident" id="7502942">result</span><span class="op" id="7502948">,</span>&nbsp;<span class="ident" id="7502950">test</span><span class="op" id="7502954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502966">}</span><br>
<span class="lineno"></span><span class="op" id="7502968">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="7502971">func</span>&nbsp;<span class="ident" id="7502976">TestFindString</span><span class="op" id="7502990">(</span><span class="ident" id="7502991">t</span>&nbsp;<span class="op" id="7502993">*</span><span class="ident" id="7502994">testing</span><span class="op" id="7503001">.</span><span class="ident" id="7503002">T</span><span class="op" id="7503003">)</span>&nbsp;<span class="op" id="7503005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503008">for</span>&nbsp;<span class="ident" id="7503012">_</span><span class="op" id="7503013">,</span>&nbsp;<span class="ident" id="7503015">test</span>&nbsp;<span class="op" id="7503020">:=</span>&nbsp;<span class="keyword" id="7503023">range</span>&nbsp;<span class="ident" id="7503029">findTests</span>&nbsp;<span class="op" id="7503039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503043">result</span>&nbsp;<span class="op" id="7503050">:=</span>&nbsp;<span class="ident" id="7503053">MustCompile</span><span class="op" id="7503064">(</span><span class="ident" id="7503065">test</span><span class="op" id="7503069">.</span><span class="ident" id="7503070">pat</span><span class="op" id="7503073">)</span><span class="op" id="7503074">.</span><span class="ident" id="7503075">FindString</span><span class="op" id="7503085">(</span><span class="ident" id="7503086">test</span><span class="op" id="7503090">.</span><span class="ident" id="7503091">text</span><span class="op" id="7503095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503099">switch</span>&nbsp;<span class="op" id="7503106">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503110">case</span>&nbsp;<span class="builtinfunc" id="7503115">len</span><span class="op" id="7503118">(</span><span class="ident" id="7503119">test</span><span class="op" id="7503123">.</span><span class="ident" id="7503124">matches</span><span class="op" id="7503131">)</span>&nbsp;<span class="op" id="7503133">==</span>&nbsp;<span class="num" id="7503136">0</span>&nbsp;<span class="op" id="7503138">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7503141">len</span><span class="op" id="7503144">(</span><span class="ident" id="7503145">result</span><span class="op" id="7503151">)</span>&nbsp;<span class="op" id="7503153">==</span>&nbsp;<span class="num" id="7503156">0</span><span class="op" id="7503157">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7503162">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503170">case</span>&nbsp;<span class="ident" id="7503175">test</span><span class="op" id="7503179">.</span><span class="ident" id="7503180">matches</span>&nbsp;<span class="op" id="7503188">==</span>&nbsp;<span class="ident" id="7503191">nil</span>&nbsp;<span class="op" id="7503195">&amp;&amp;</span>&nbsp;<span class="ident" id="7503198">result</span>&nbsp;<span class="op" id="7503205">!=</span>&nbsp;<span class="string" id="7503208">&#34;&#34;</span><span class="op" id="7503210">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503215">t</span><span class="op" id="7503216">.</span><span class="ident" id="7503217">Errorf</span><span class="op" id="7503223">(</span><span class="string" id="7503224">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7503256">,</span>&nbsp;<span class="ident" id="7503258">test</span><span class="op" id="7503262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503266">case</span>&nbsp;<span class="ident" id="7503271">test</span><span class="op" id="7503275">.</span><span class="ident" id="7503276">matches</span>&nbsp;<span class="op" id="7503284">!=</span>&nbsp;<span class="ident" id="7503287">nil</span>&nbsp;<span class="op" id="7503291">&amp;&amp;</span>&nbsp;<span class="ident" id="7503294">result</span>&nbsp;<span class="op" id="7503301">==</span>&nbsp;<span class="string" id="7503304">&#34;&#34;</span><span class="op" id="7503306">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7503311">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503391">if</span>&nbsp;<span class="ident" id="7503394">test</span><span class="op" id="7503398">.</span><span class="ident" id="7503399">matches</span><span class="op" id="7503406">[</span><span class="num" id="7503407">0</span><span class="op" id="7503408">]</span><span class="op" id="7503409">[</span><span class="num" id="7503410">0</span><span class="op" id="7503411">]</span>&nbsp;<span class="op" id="7503413">!=</span>&nbsp;<span class="ident" id="7503416">test</span><span class="op" id="7503420">.</span><span class="ident" id="7503421">matches</span><span class="op" id="7503428">[</span><span class="num" id="7503429">0</span><span class="op" id="7503430">]</span><span class="op" id="7503431">[</span><span class="num" id="7503432">1</span><span class="op" id="7503433">]</span>&nbsp;<span class="op" id="7503435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503441">t</span><span class="op" id="7503442">.</span><span class="ident" id="7503443">Errorf</span><span class="op" id="7503449">(</span><span class="string" id="7503450">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7503480">,</span>&nbsp;<span class="ident" id="7503482">test</span><span class="op" id="7503486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503495">case</span>&nbsp;<span class="ident" id="7503500">test</span><span class="op" id="7503504">.</span><span class="ident" id="7503505">matches</span>&nbsp;<span class="op" id="7503513">!=</span>&nbsp;<span class="ident" id="7503516">nil</span>&nbsp;<span class="op" id="7503520">&amp;&amp;</span>&nbsp;<span class="ident" id="7503523">result</span>&nbsp;<span class="op" id="7503530">!=</span>&nbsp;<span class="string" id="7503533">&#34;&#34;</span><span class="op" id="7503535">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503540">expect</span>&nbsp;<span class="op" id="7503547">:=</span>&nbsp;<span class="ident" id="7503550">test</span><span class="op" id="7503554">.</span><span class="ident" id="7503555">text</span><span class="op" id="7503559">[</span><span class="ident" id="7503560">test</span><span class="op" id="7503564">.</span><span class="ident" id="7503565">matches</span><span class="op" id="7503572">[</span><span class="num" id="7503573">0</span><span class="op" id="7503574">]</span><span class="op" id="7503575">[</span><span class="num" id="7503576">0</span><span class="op" id="7503577">]</span><span class="op" id="7503578">:</span><span class="ident" id="7503579">test</span><span class="op" id="7503583">.</span><span class="ident" id="7503584">matches</span><span class="op" id="7503591">[</span><span class="num" id="7503592">0</span><span class="op" id="7503593">]</span><span class="op" id="7503594">[</span><span class="num" id="7503595">1</span><span class="op" id="7503596">]</span><span class="op" id="7503597">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503602">if</span>&nbsp;<span class="ident" id="7503605">expect</span>&nbsp;<span class="op" id="7503612">!=</span>&nbsp;<span class="ident" id="7503615">result</span>&nbsp;<span class="op" id="7503622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503628">t</span><span class="op" id="7503629">.</span><span class="ident" id="7503630">Errorf</span><span class="op" id="7503636">(</span><span class="string" id="7503637">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7503661">,</span>&nbsp;<span class="ident" id="7503663">expect</span><span class="op" id="7503669">,</span>&nbsp;<span class="ident" id="7503671">result</span><span class="op" id="7503677">,</span>&nbsp;<span class="ident" id="7503679">test</span><span class="op" id="7503683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503692">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503695">}</span><br>
<span class="lineno"></span><span class="op" id="7503697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7503700">func</span>&nbsp;<span class="ident" id="7503705">testFindIndex</span><span class="op" id="7503718">(</span><span class="ident" id="7503719">test</span>&nbsp;<span class="op" id="7503724">*</span><span class="ident" id="7503725">FindTest</span><span class="op" id="7503733">,</span>&nbsp;<span class="ident" id="7503735">result</span>&nbsp;<span class="op" id="7503742">[</span><span class="op" id="7503743">]</span><span class="builtintype" id="7503744">int</span><span class="op" id="7503747">,</span>&nbsp;<span class="ident" id="7503749">t</span>&nbsp;<span class="op" id="7503751">*</span><span class="ident" id="7503752">testing</span><span class="op" id="7503759">.</span><span class="ident" id="7503760">T</span><span class="op" id="7503761">)</span>&nbsp;<span class="op" id="7503763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503766">switch</span>&nbsp;<span class="op" id="7503773">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503776">case</span>&nbsp;<span class="builtinfunc" id="7503781">len</span><span class="op" id="7503784">(</span><span class="ident" id="7503785">test</span><span class="op" id="7503789">.</span><span class="ident" id="7503790">matches</span><span class="op" id="7503797">)</span>&nbsp;<span class="op" id="7503799">==</span>&nbsp;<span class="num" id="7503802">0</span>&nbsp;<span class="op" id="7503804">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7503807">len</span><span class="op" id="7503810">(</span><span class="ident" id="7503811">result</span><span class="op" id="7503817">)</span>&nbsp;<span class="op" id="7503819">==</span>&nbsp;<span class="num" id="7503822">0</span><span class="op" id="7503823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7503827">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503834">case</span>&nbsp;<span class="ident" id="7503839">test</span><span class="op" id="7503843">.</span><span class="ident" id="7503844">matches</span>&nbsp;<span class="op" id="7503852">==</span>&nbsp;<span class="ident" id="7503855">nil</span>&nbsp;<span class="op" id="7503859">&amp;&amp;</span>&nbsp;<span class="ident" id="7503862">result</span>&nbsp;<span class="op" id="7503869">!=</span>&nbsp;<span class="ident" id="7503872">nil</span><span class="op" id="7503875">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503879">t</span><span class="op" id="7503880">.</span><span class="ident" id="7503881">Errorf</span><span class="op" id="7503887">(</span><span class="string" id="7503888">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7503920">,</span>&nbsp;<span class="ident" id="7503922">test</span><span class="op" id="7503926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503929">case</span>&nbsp;<span class="ident" id="7503934">test</span><span class="op" id="7503938">.</span><span class="ident" id="7503939">matches</span>&nbsp;<span class="op" id="7503947">!=</span>&nbsp;<span class="ident" id="7503950">nil</span>&nbsp;<span class="op" id="7503954">&amp;&amp;</span>&nbsp;<span class="ident" id="7503957">result</span>&nbsp;<span class="op" id="7503964">==</span>&nbsp;<span class="ident" id="7503967">nil</span><span class="op" id="7503970">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503974">t</span><span class="op" id="7503975">.</span><span class="ident" id="7503976">Errorf</span><span class="op" id="7503982">(</span><span class="string" id="7503983">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7504013">,</span>&nbsp;<span class="ident" id="7504015">test</span><span class="op" id="7504019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504022">case</span>&nbsp;<span class="ident" id="7504027">test</span><span class="op" id="7504031">.</span><span class="ident" id="7504032">matches</span>&nbsp;<span class="op" id="7504040">!=</span>&nbsp;<span class="ident" id="7504043">nil</span>&nbsp;<span class="op" id="7504047">&amp;&amp;</span>&nbsp;<span class="ident" id="7504050">result</span>&nbsp;<span class="op" id="7504057">!=</span>&nbsp;<span class="ident" id="7504060">nil</span><span class="op" id="7504063">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504067">expect</span>&nbsp;<span class="op" id="7504074">:=</span>&nbsp;<span class="ident" id="7504077">test</span><span class="op" id="7504081">.</span><span class="ident" id="7504082">matches</span><span class="op" id="7504089">[</span><span class="num" id="7504090">0</span><span class="op" id="7504091">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504095">if</span>&nbsp;<span class="ident" id="7504098">expect</span><span class="op" id="7504104">[</span><span class="num" id="7504105">0</span><span class="op" id="7504106">]</span>&nbsp;<span class="op" id="7504108">!=</span>&nbsp;<span class="ident" id="7504111">result</span><span class="op" id="7504117">[</span><span class="num" id="7504118">0</span><span class="op" id="7504119">]</span>&nbsp;<span class="op" id="7504121">||</span>&nbsp;<span class="ident" id="7504124">expect</span><span class="op" id="7504130">[</span><span class="num" id="7504131">1</span><span class="op" id="7504132">]</span>&nbsp;<span class="op" id="7504134">!=</span>&nbsp;<span class="ident" id="7504137">result</span><span class="op" id="7504143">[</span><span class="num" id="7504144">1</span><span class="op" id="7504145">]</span>&nbsp;<span class="op" id="7504147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504152">t</span><span class="op" id="7504153">.</span><span class="ident" id="7504154">Errorf</span><span class="op" id="7504160">(</span><span class="string" id="7504161">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7504185">,</span>&nbsp;<span class="ident" id="7504187">expect</span><span class="op" id="7504193">,</span>&nbsp;<span class="ident" id="7504195">result</span><span class="op" id="7504201">,</span>&nbsp;<span class="ident" id="7504203">test</span><span class="op" id="7504207">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504214">}</span><br>
<span class="lineno"></span><span class="op" id="7504216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7504219">func</span>&nbsp;<span class="ident" id="7504224">TestFindIndex</span><span class="op" id="7504237">(</span><span class="ident" id="7504238">t</span>&nbsp;<span class="op" id="7504240">*</span><span class="ident" id="7504241">testing</span><span class="op" id="7504248">.</span><span class="ident" id="7504249">T</span><span class="op" id="7504250">)</span>&nbsp;<span class="op" id="7504252">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504255">for</span>&nbsp;<span class="ident" id="7504259">_</span><span class="op" id="7504260">,</span>&nbsp;<span class="ident" id="7504262">test</span>&nbsp;<span class="op" id="7504267">:=</span>&nbsp;<span class="keyword" id="7504270">range</span>&nbsp;<span class="ident" id="7504276">findTests</span>&nbsp;<span class="op" id="7504286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504290">testFindIndex</span><span class="op" id="7504303">(</span><span class="op" id="7504304">&amp;</span><span class="ident" id="7504305">test</span><span class="op" id="7504309">,</span>&nbsp;<span class="ident" id="7504311">MustCompile</span><span class="op" id="7504322">(</span><span class="ident" id="7504323">test</span><span class="op" id="7504327">.</span><span class="ident" id="7504328">pat</span><span class="op" id="7504331">)</span><span class="op" id="7504332">.</span><span class="ident" id="7504333">FindIndex</span><span class="op" id="7504342">(</span><span class="op" id="7504343">[</span><span class="op" id="7504344">]</span><span class="builtintype" id="7504345">byte</span><span class="op" id="7504349">(</span><span class="ident" id="7504350">test</span><span class="op" id="7504354">.</span><span class="ident" id="7504355">text</span><span class="op" id="7504359">)</span><span class="op" id="7504360">)</span><span class="op" id="7504361">,</span>&nbsp;<span class="ident" id="7504363">t</span><span class="op" id="7504364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504367">}</span><br>
<span class="lineno"></span><span class="op" id="7504369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7504372">func</span>&nbsp;<span class="ident" id="7504377">TestFindStringIndex</span><span class="op" id="7504396">(</span><span class="ident" id="7504397">t</span>&nbsp;<span class="op" id="7504399">*</span><span class="ident" id="7504400">testing</span><span class="op" id="7504407">.</span><span class="ident" id="7504408">T</span><span class="op" id="7504409">)</span>&nbsp;<span class="op" id="7504411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504414">for</span>&nbsp;<span class="ident" id="7504418">_</span><span class="op" id="7504419">,</span>&nbsp;<span class="ident" id="7504421">test</span>&nbsp;<span class="op" id="7504426">:=</span>&nbsp;<span class="keyword" id="7504429">range</span>&nbsp;<span class="ident" id="7504435">findTests</span>&nbsp;<span class="op" id="7504445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504449">testFindIndex</span><span class="op" id="7504462">(</span><span class="op" id="7504463">&amp;</span><span class="ident" id="7504464">test</span><span class="op" id="7504468">,</span>&nbsp;<span class="ident" id="7504470">MustCompile</span><span class="op" id="7504481">(</span><span class="ident" id="7504482">test</span><span class="op" id="7504486">.</span><span class="ident" id="7504487">pat</span><span class="op" id="7504490">)</span><span class="op" id="7504491">.</span><span class="ident" id="7504492">FindStringIndex</span><span class="op" id="7504507">(</span><span class="ident" id="7504508">test</span><span class="op" id="7504512">.</span><span class="ident" id="7504513">text</span><span class="op" id="7504517">)</span><span class="op" id="7504518">,</span>&nbsp;<span class="ident" id="7504520">t</span><span class="op" id="7504521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504524">}</span><br>
<span class="lineno"></span><span class="op" id="7504526">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="7504529">func</span>&nbsp;<span class="ident" id="7504534">TestFindReaderIndex</span><span class="op" id="7504553">(</span><span class="ident" id="7504554">t</span>&nbsp;<span class="op" id="7504556">*</span><span class="ident" id="7504557">testing</span><span class="op" id="7504564">.</span><span class="ident" id="7504565">T</span><span class="op" id="7504566">)</span>&nbsp;<span class="op" id="7504568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504571">for</span>&nbsp;<span class="ident" id="7504575">_</span><span class="op" id="7504576">,</span>&nbsp;<span class="ident" id="7504578">test</span>&nbsp;<span class="op" id="7504583">:=</span>&nbsp;<span class="keyword" id="7504586">range</span>&nbsp;<span class="ident" id="7504592">findTests</span>&nbsp;<span class="op" id="7504602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504606">testFindIndex</span><span class="op" id="7504619">(</span><span class="op" id="7504620">&amp;</span><span class="ident" id="7504621">test</span><span class="op" id="7504625">,</span>&nbsp;<span class="ident" id="7504627">MustCompile</span><span class="op" id="7504638">(</span><span class="ident" id="7504639">test</span><span class="op" id="7504643">.</span><span class="ident" id="7504644">pat</span><span class="op" id="7504647">)</span><span class="op" id="7504648">.</span><span class="ident" id="7504649">FindReaderIndex</span><span class="op" id="7504664">(</span><span class="ident" id="7504665">strings</span><span class="op" id="7504672">.</span><span class="ident" id="7504673">NewReader</span><span class="op" id="7504682">(</span><span class="ident" id="7504683">test</span><span class="op" id="7504687">.</span><span class="ident" id="7504688">text</span><span class="op" id="7504692">)</span><span class="op" id="7504693">)</span><span class="op" id="7504694">,</span>&nbsp;<span class="ident" id="7504696">t</span><span class="op" id="7504697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504700">}</span><br>
<span class="lineno">225</span><span class="op" id="7504702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7504705">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7504740">func</span>&nbsp;<span class="ident" id="7504745">TestFindAll</span><span class="op" id="7504756">(</span><span class="ident" id="7504757">t</span>&nbsp;<span class="op" id="7504759">*</span><span class="ident" id="7504760">testing</span><span class="op" id="7504767">.</span><span class="ident" id="7504768">T</span><span class="op" id="7504769">)</span>&nbsp;<span class="op" id="7504771">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504774">for</span>&nbsp;<span class="ident" id="7504778">_</span><span class="op" id="7504779">,</span>&nbsp;<span class="ident" id="7504781">test</span>&nbsp;<span class="op" id="7504786">:=</span>&nbsp;<span class="keyword" id="7504789">range</span>&nbsp;<span class="ident" id="7504795">findTests</span>&nbsp;<span class="op" id="7504805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504809">result</span>&nbsp;<span class="op" id="7504816">:=</span>&nbsp;<span class="ident" id="7504819">MustCompile</span><span class="op" id="7504830">(</span><span class="ident" id="7504831">test</span><span class="op" id="7504835">.</span><span class="ident" id="7504836">pat</span><span class="op" id="7504839">)</span><span class="op" id="7504840">.</span><span class="ident" id="7504841">FindAll</span><span class="op" id="7504848">(</span><span class="op" id="7504849">[</span><span class="op" id="7504850">]</span><span class="builtintype" id="7504851">byte</span><span class="op" id="7504855">(</span><span class="ident" id="7504856">test</span><span class="op" id="7504860">.</span><span class="ident" id="7504861">text</span><span class="op" id="7504865">)</span><span class="op" id="7504866">,</span>&nbsp;<span class="op" id="7504868">-</span><span class="num" id="7504869">1</span><span class="op" id="7504870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504874">switch</span>&nbsp;<span class="op" id="7504881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504885">case</span>&nbsp;<span class="ident" id="7504890">test</span><span class="op" id="7504894">.</span><span class="ident" id="7504895">matches</span>&nbsp;<span class="op" id="7504903">==</span>&nbsp;<span class="ident" id="7504906">nil</span>&nbsp;<span class="op" id="7504910">&amp;&amp;</span>&nbsp;<span class="ident" id="7504913">result</span>&nbsp;<span class="op" id="7504920">==</span>&nbsp;<span class="ident" id="7504923">nil</span><span class="op" id="7504926">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7504931">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504939">case</span>&nbsp;<span class="ident" id="7504944">test</span><span class="op" id="7504948">.</span><span class="ident" id="7504949">matches</span>&nbsp;<span class="op" id="7504957">==</span>&nbsp;<span class="ident" id="7504960">nil</span>&nbsp;<span class="op" id="7504964">&amp;&amp;</span>&nbsp;<span class="ident" id="7504967">result</span>&nbsp;<span class="op" id="7504974">!=</span>&nbsp;<span class="ident" id="7504977">nil</span><span class="op" id="7504980">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504985">t</span><span class="op" id="7504986">.</span><span class="ident" id="7504987">Errorf</span><span class="op" id="7504993">(</span><span class="string" id="7504994">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7505026">,</span>&nbsp;<span class="ident" id="7505028">test</span><span class="op" id="7505032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505036">case</span>&nbsp;<span class="ident" id="7505041">test</span><span class="op" id="7505045">.</span><span class="ident" id="7505046">matches</span>&nbsp;<span class="op" id="7505054">!=</span>&nbsp;<span class="ident" id="7505057">nil</span>&nbsp;<span class="op" id="7505061">&amp;&amp;</span>&nbsp;<span class="ident" id="7505064">result</span>&nbsp;<span class="op" id="7505071">==</span>&nbsp;<span class="ident" id="7505074">nil</span><span class="op" id="7505077">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505082">t</span><span class="op" id="7505083">.</span><span class="ident" id="7505084">Fatalf</span><span class="op" id="7505090">(</span><span class="string" id="7505091">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7505121">,</span>&nbsp;<span class="ident" id="7505123">test</span><span class="op" id="7505127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505131">case</span>&nbsp;<span class="ident" id="7505136">test</span><span class="op" id="7505140">.</span><span class="ident" id="7505141">matches</span>&nbsp;<span class="op" id="7505149">!=</span>&nbsp;<span class="ident" id="7505152">nil</span>&nbsp;<span class="op" id="7505156">&amp;&amp;</span>&nbsp;<span class="ident" id="7505159">result</span>&nbsp;<span class="op" id="7505166">!=</span>&nbsp;<span class="ident" id="7505169">nil</span><span class="op" id="7505172">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505177">if</span>&nbsp;<span class="builtinfunc" id="7505180">len</span><span class="op" id="7505183">(</span><span class="ident" id="7505184">test</span><span class="op" id="7505188">.</span><span class="ident" id="7505189">matches</span><span class="op" id="7505196">)</span>&nbsp;<span class="op" id="7505198">!=</span>&nbsp;<span class="builtinfunc" id="7505201">len</span><span class="op" id="7505204">(</span><span class="ident" id="7505205">result</span><span class="op" id="7505211">)</span>&nbsp;<span class="op" id="7505213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505219">t</span><span class="op" id="7505220">.</span><span class="ident" id="7505221">Errorf</span><span class="op" id="7505227">(</span><span class="string" id="7505228">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7505261">,</span>&nbsp;<span class="builtinfunc" id="7505263">len</span><span class="op" id="7505266">(</span><span class="ident" id="7505267">test</span><span class="op" id="7505271">.</span><span class="ident" id="7505272">matches</span><span class="op" id="7505279">)</span><span class="op" id="7505280">,</span>&nbsp;<span class="builtinfunc" id="7505282">len</span><span class="op" id="7505285">(</span><span class="ident" id="7505286">result</span><span class="op" id="7505292">)</span><span class="op" id="7505293">,</span>&nbsp;<span class="ident" id="7505295">test</span><span class="op" id="7505299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505305">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505322">for</span>&nbsp;<span class="ident" id="7505326">k</span><span class="op" id="7505327">,</span>&nbsp;<span class="ident" id="7505329">e</span>&nbsp;<span class="op" id="7505331">:=</span>&nbsp;<span class="keyword" id="7505334">range</span>&nbsp;<span class="ident" id="7505340">test</span><span class="op" id="7505344">.</span><span class="ident" id="7505345">matches</span>&nbsp;<span class="op" id="7505353">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505359">expect</span>&nbsp;<span class="op" id="7505366">:=</span>&nbsp;<span class="ident" id="7505369">test</span><span class="op" id="7505373">.</span><span class="ident" id="7505374">text</span><span class="op" id="7505378">[</span><span class="ident" id="7505379">e</span><span class="op" id="7505380">[</span><span class="num" id="7505381">0</span><span class="op" id="7505382">]</span><span class="op" id="7505383">:</span><span class="ident" id="7505384">e</span><span class="op" id="7505385">[</span><span class="num" id="7505386">1</span><span class="op" id="7505387">]</span><span class="op" id="7505388">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505394">if</span>&nbsp;<span class="ident" id="7505397">expect</span>&nbsp;<span class="op" id="7505404">!=</span>&nbsp;<span class="builtintype" id="7505407">string</span><span class="op" id="7505413">(</span><span class="ident" id="7505414">result</span><span class="op" id="7505420">[</span><span class="ident" id="7505421">k</span><span class="op" id="7505422">]</span><span class="op" id="7505423">)</span>&nbsp;<span class="op" id="7505425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505432">t</span><span class="op" id="7505433">.</span><span class="ident" id="7505434">Errorf</span><span class="op" id="7505440">(</span><span class="string" id="7505441">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7505475">,</span>&nbsp;<span class="ident" id="7505477">k</span><span class="op" id="7505478">,</span>&nbsp;<span class="ident" id="7505480">expect</span><span class="op" id="7505486">,</span>&nbsp;<span class="ident" id="7505488">result</span><span class="op" id="7505494">[</span><span class="ident" id="7505495">k</span><span class="op" id="7505496">]</span><span class="op" id="7505497">,</span>&nbsp;<span class="ident" id="7505499">test</span><span class="op" id="7505503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505514">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505521">}</span><br>
<span class="lineno"></span><span class="op" id="7505523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7505526">func</span>&nbsp;<span class="ident" id="7505531">TestFindAllString</span><span class="op" id="7505548">(</span><span class="ident" id="7505549">t</span>&nbsp;<span class="op" id="7505551">*</span><span class="ident" id="7505552">testing</span><span class="op" id="7505559">.</span><span class="ident" id="7505560">T</span><span class="op" id="7505561">)</span>&nbsp;<span class="op" id="7505563">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505566">for</span>&nbsp;<span class="ident" id="7505570">_</span><span class="op" id="7505571">,</span>&nbsp;<span class="ident" id="7505573">test</span>&nbsp;<span class="op" id="7505578">:=</span>&nbsp;<span class="keyword" id="7505581">range</span>&nbsp;<span class="ident" id="7505587">findTests</span>&nbsp;<span class="op" id="7505597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505601">result</span>&nbsp;<span class="op" id="7505608">:=</span>&nbsp;<span class="ident" id="7505611">MustCompile</span><span class="op" id="7505622">(</span><span class="ident" id="7505623">test</span><span class="op" id="7505627">.</span><span class="ident" id="7505628">pat</span><span class="op" id="7505631">)</span><span class="op" id="7505632">.</span><span class="ident" id="7505633">FindAllString</span><span class="op" id="7505646">(</span><span class="ident" id="7505647">test</span><span class="op" id="7505651">.</span><span class="ident" id="7505652">text</span><span class="op" id="7505656">,</span>&nbsp;<span class="op" id="7505658">-</span><span class="num" id="7505659">1</span><span class="op" id="7505660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505664">switch</span>&nbsp;<span class="op" id="7505671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505675">case</span>&nbsp;<span class="ident" id="7505680">test</span><span class="op" id="7505684">.</span><span class="ident" id="7505685">matches</span>&nbsp;<span class="op" id="7505693">==</span>&nbsp;<span class="ident" id="7505696">nil</span>&nbsp;<span class="op" id="7505700">&amp;&amp;</span>&nbsp;<span class="ident" id="7505703">result</span>&nbsp;<span class="op" id="7505710">==</span>&nbsp;<span class="ident" id="7505713">nil</span><span class="op" id="7505716">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7505721">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505729">case</span>&nbsp;<span class="ident" id="7505734">test</span><span class="op" id="7505738">.</span><span class="ident" id="7505739">matches</span>&nbsp;<span class="op" id="7505747">==</span>&nbsp;<span class="ident" id="7505750">nil</span>&nbsp;<span class="op" id="7505754">&amp;&amp;</span>&nbsp;<span class="ident" id="7505757">result</span>&nbsp;<span class="op" id="7505764">!=</span>&nbsp;<span class="ident" id="7505767">nil</span><span class="op" id="7505770">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505775">t</span><span class="op" id="7505776">.</span><span class="ident" id="7505777">Errorf</span><span class="op" id="7505783">(</span><span class="string" id="7505784">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7505816">,</span>&nbsp;<span class="ident" id="7505818">test</span><span class="op" id="7505822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505826">case</span>&nbsp;<span class="ident" id="7505831">test</span><span class="op" id="7505835">.</span><span class="ident" id="7505836">matches</span>&nbsp;<span class="op" id="7505844">!=</span>&nbsp;<span class="ident" id="7505847">nil</span>&nbsp;<span class="op" id="7505851">&amp;&amp;</span>&nbsp;<span class="ident" id="7505854">result</span>&nbsp;<span class="op" id="7505861">==</span>&nbsp;<span class="ident" id="7505864">nil</span><span class="op" id="7505867">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505872">t</span><span class="op" id="7505873">.</span><span class="ident" id="7505874">Errorf</span><span class="op" id="7505880">(</span><span class="string" id="7505881">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7505911">,</span>&nbsp;<span class="ident" id="7505913">test</span><span class="op" id="7505917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505921">case</span>&nbsp;<span class="ident" id="7505926">test</span><span class="op" id="7505930">.</span><span class="ident" id="7505931">matches</span>&nbsp;<span class="op" id="7505939">!=</span>&nbsp;<span class="ident" id="7505942">nil</span>&nbsp;<span class="op" id="7505946">&amp;&amp;</span>&nbsp;<span class="ident" id="7505949">result</span>&nbsp;<span class="op" id="7505956">!=</span>&nbsp;<span class="ident" id="7505959">nil</span><span class="op" id="7505962">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505967">if</span>&nbsp;<span class="builtinfunc" id="7505970">len</span><span class="op" id="7505973">(</span><span class="ident" id="7505974">test</span><span class="op" id="7505978">.</span><span class="ident" id="7505979">matches</span><span class="op" id="7505986">)</span>&nbsp;<span class="op" id="7505988">!=</span>&nbsp;<span class="builtinfunc" id="7505991">len</span><span class="op" id="7505994">(</span><span class="ident" id="7505995">result</span><span class="op" id="7506001">)</span>&nbsp;<span class="op" id="7506003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506009">t</span><span class="op" id="7506010">.</span><span class="ident" id="7506011">Errorf</span><span class="op" id="7506017">(</span><span class="string" id="7506018">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7506051">,</span>&nbsp;<span class="builtinfunc" id="7506053">len</span><span class="op" id="7506056">(</span><span class="ident" id="7506057">test</span><span class="op" id="7506061">.</span><span class="ident" id="7506062">matches</span><span class="op" id="7506069">)</span><span class="op" id="7506070">,</span>&nbsp;<span class="builtinfunc" id="7506072">len</span><span class="op" id="7506075">(</span><span class="ident" id="7506076">result</span><span class="op" id="7506082">)</span><span class="op" id="7506083">,</span>&nbsp;<span class="ident" id="7506085">test</span><span class="op" id="7506089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506095">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506112">for</span>&nbsp;<span class="ident" id="7506116">k</span><span class="op" id="7506117">,</span>&nbsp;<span class="ident" id="7506119">e</span>&nbsp;<span class="op" id="7506121">:=</span>&nbsp;<span class="keyword" id="7506124">range</span>&nbsp;<span class="ident" id="7506130">test</span><span class="op" id="7506134">.</span><span class="ident" id="7506135">matches</span>&nbsp;<span class="op" id="7506143">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506149">expect</span>&nbsp;<span class="op" id="7506156">:=</span>&nbsp;<span class="ident" id="7506159">test</span><span class="op" id="7506163">.</span><span class="ident" id="7506164">text</span><span class="op" id="7506168">[</span><span class="ident" id="7506169">e</span><span class="op" id="7506170">[</span><span class="num" id="7506171">0</span><span class="op" id="7506172">]</span><span class="op" id="7506173">:</span><span class="ident" id="7506174">e</span><span class="op" id="7506175">[</span><span class="num" id="7506176">1</span><span class="op" id="7506177">]</span><span class="op" id="7506178">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506184">if</span>&nbsp;<span class="ident" id="7506187">expect</span>&nbsp;<span class="op" id="7506194">!=</span>&nbsp;<span class="ident" id="7506197">result</span><span class="op" id="7506203">[</span><span class="ident" id="7506204">k</span><span class="op" id="7506205">]</span>&nbsp;<span class="op" id="7506207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506214">t</span><span class="op" id="7506215">.</span><span class="ident" id="7506216">Errorf</span><span class="op" id="7506222">(</span><span class="string" id="7506223">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7506247">,</span>&nbsp;<span class="ident" id="7506249">expect</span><span class="op" id="7506255">,</span>&nbsp;<span class="ident" id="7506257">result</span><span class="op" id="7506263">,</span>&nbsp;<span class="ident" id="7506265">test</span><span class="op" id="7506269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506280">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506287">}</span><br>
<span class="lineno"></span><span class="op" id="7506289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7506292">func</span>&nbsp;<span class="ident" id="7506297">testFindAllIndex</span><span class="op" id="7506313">(</span><span class="ident" id="7506314">test</span>&nbsp;<span class="op" id="7506319">*</span><span class="ident" id="7506320">FindTest</span><span class="op" id="7506328">,</span>&nbsp;<span class="ident" id="7506330">result</span>&nbsp;<span class="op" id="7506337">[</span><span class="op" id="7506338">]</span><span class="op" id="7506339">[</span><span class="op" id="7506340">]</span><span class="builtintype" id="7506341">int</span><span class="op" id="7506344">,</span>&nbsp;<span class="ident" id="7506346">t</span>&nbsp;<span class="op" id="7506348">*</span><span class="ident" id="7506349">testing</span><span class="op" id="7506356">.</span><span class="ident" id="7506357">T</span><span class="op" id="7506358">)</span>&nbsp;<span class="op" id="7506360">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506363">switch</span>&nbsp;<span class="op" id="7506370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506373">case</span>&nbsp;<span class="ident" id="7506378">test</span><span class="op" id="7506382">.</span><span class="ident" id="7506383">matches</span>&nbsp;<span class="op" id="7506391">==</span>&nbsp;<span class="ident" id="7506394">nil</span>&nbsp;<span class="op" id="7506398">&amp;&amp;</span>&nbsp;<span class="ident" id="7506401">result</span>&nbsp;<span class="op" id="7506408">==</span>&nbsp;<span class="ident" id="7506411">nil</span><span class="op" id="7506414">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7506418">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506425">case</span>&nbsp;<span class="ident" id="7506430">test</span><span class="op" id="7506434">.</span><span class="ident" id="7506435">matches</span>&nbsp;<span class="op" id="7506443">==</span>&nbsp;<span class="ident" id="7506446">nil</span>&nbsp;<span class="op" id="7506450">&amp;&amp;</span>&nbsp;<span class="ident" id="7506453">result</span>&nbsp;<span class="op" id="7506460">!=</span>&nbsp;<span class="ident" id="7506463">nil</span><span class="op" id="7506466">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506470">t</span><span class="op" id="7506471">.</span><span class="ident" id="7506472">Errorf</span><span class="op" id="7506478">(</span><span class="string" id="7506479">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7506511">,</span>&nbsp;<span class="ident" id="7506513">test</span><span class="op" id="7506517">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506520">case</span>&nbsp;<span class="ident" id="7506525">test</span><span class="op" id="7506529">.</span><span class="ident" id="7506530">matches</span>&nbsp;<span class="op" id="7506538">!=</span>&nbsp;<span class="ident" id="7506541">nil</span>&nbsp;<span class="op" id="7506545">&amp;&amp;</span>&nbsp;<span class="ident" id="7506548">result</span>&nbsp;<span class="op" id="7506555">==</span>&nbsp;<span class="ident" id="7506558">nil</span><span class="op" id="7506561">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506565">t</span><span class="op" id="7506566">.</span><span class="ident" id="7506567">Errorf</span><span class="op" id="7506573">(</span><span class="string" id="7506574">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7506604">,</span>&nbsp;<span class="ident" id="7506606">test</span><span class="op" id="7506610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506613">case</span>&nbsp;<span class="ident" id="7506618">test</span><span class="op" id="7506622">.</span><span class="ident" id="7506623">matches</span>&nbsp;<span class="op" id="7506631">!=</span>&nbsp;<span class="ident" id="7506634">nil</span>&nbsp;<span class="op" id="7506638">&amp;&amp;</span>&nbsp;<span class="ident" id="7506641">result</span>&nbsp;<span class="op" id="7506648">!=</span>&nbsp;<span class="ident" id="7506651">nil</span><span class="op" id="7506654">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506658">if</span>&nbsp;<span class="builtinfunc" id="7506661">len</span><span class="op" id="7506664">(</span><span class="ident" id="7506665">test</span><span class="op" id="7506669">.</span><span class="ident" id="7506670">matches</span><span class="op" id="7506677">)</span>&nbsp;<span class="op" id="7506679">!=</span>&nbsp;<span class="builtinfunc" id="7506682">len</span><span class="op" id="7506685">(</span><span class="ident" id="7506686">result</span><span class="op" id="7506692">)</span>&nbsp;<span class="op" id="7506694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506699">t</span><span class="op" id="7506700">.</span><span class="ident" id="7506701">Errorf</span><span class="op" id="7506707">(</span><span class="string" id="7506708">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7506741">,</span>&nbsp;<span class="builtinfunc" id="7506743">len</span><span class="op" id="7506746">(</span><span class="ident" id="7506747">test</span><span class="op" id="7506751">.</span><span class="ident" id="7506752">matches</span><span class="op" id="7506759">)</span><span class="op" id="7506760">,</span>&nbsp;<span class="builtinfunc" id="7506762">len</span><span class="op" id="7506765">(</span><span class="ident" id="7506766">result</span><span class="op" id="7506772">)</span><span class="op" id="7506773">,</span>&nbsp;<span class="ident" id="7506775">test</span><span class="op" id="7506779">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506784">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506797">for</span>&nbsp;<span class="ident" id="7506801">k</span><span class="op" id="7506802">,</span>&nbsp;<span class="ident" id="7506804">e</span>&nbsp;<span class="op" id="7506806">:=</span>&nbsp;<span class="keyword" id="7506809">range</span>&nbsp;<span class="ident" id="7506815">test</span><span class="op" id="7506819">.</span><span class="ident" id="7506820">matches</span>&nbsp;<span class="op" id="7506828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506833">if</span>&nbsp;<span class="ident" id="7506836">e</span><span class="op" id="7506837">[</span><span class="num" id="7506838">0</span><span class="op" id="7506839">]</span>&nbsp;<span class="op" id="7506841">!=</span>&nbsp;<span class="ident" id="7506844">result</span><span class="op" id="7506850">[</span><span class="ident" id="7506851">k</span><span class="op" id="7506852">]</span><span class="op" id="7506853">[</span><span class="num" id="7506854">0</span><span class="op" id="7506855">]</span>&nbsp;<span class="op" id="7506857">||</span>&nbsp;<span class="ident" id="7506860">e</span><span class="op" id="7506861">[</span><span class="num" id="7506862">1</span><span class="op" id="7506863">]</span>&nbsp;<span class="op" id="7506865">!=</span>&nbsp;<span class="ident" id="7506868">result</span><span class="op" id="7506874">[</span><span class="ident" id="7506875">k</span><span class="op" id="7506876">]</span><span class="op" id="7506877">[</span><span class="num" id="7506878">1</span><span class="op" id="7506879">]</span>&nbsp;<span class="op" id="7506881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506887">t</span><span class="op" id="7506888">.</span><span class="ident" id="7506889">Errorf</span><span class="op" id="7506895">(</span><span class="string" id="7506896">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7506930">,</span>&nbsp;<span class="ident" id="7506932">k</span><span class="op" id="7506933">,</span>&nbsp;<span class="ident" id="7506935">e</span><span class="op" id="7506936">,</span>&nbsp;<span class="ident" id="7506938">result</span><span class="op" id="7506944">[</span><span class="ident" id="7506945">k</span><span class="op" id="7506946">]</span><span class="op" id="7506947">,</span>&nbsp;<span class="ident" id="7506949">test</span><span class="op" id="7506953">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506965">}</span><br>
<span class="lineno"></span><span class="op" id="7506967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="7506970">func</span>&nbsp;<span class="ident" id="7506975">TestFindAllIndex</span><span class="op" id="7506991">(</span><span class="ident" id="7506992">t</span>&nbsp;<span class="op" id="7506994">*</span><span class="ident" id="7506995">testing</span><span class="op" id="7507002">.</span><span class="ident" id="7507003">T</span><span class="op" id="7507004">)</span>&nbsp;<span class="op" id="7507006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507009">for</span>&nbsp;<span class="ident" id="7507013">_</span><span class="op" id="7507014">,</span>&nbsp;<span class="ident" id="7507016">test</span>&nbsp;<span class="op" id="7507021">:=</span>&nbsp;<span class="keyword" id="7507024">range</span>&nbsp;<span class="ident" id="7507030">findTests</span>&nbsp;<span class="op" id="7507040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507044">testFindAllIndex</span><span class="op" id="7507060">(</span><span class="op" id="7507061">&amp;</span><span class="ident" id="7507062">test</span><span class="op" id="7507066">,</span>&nbsp;<span class="ident" id="7507068">MustCompile</span><span class="op" id="7507079">(</span><span class="ident" id="7507080">test</span><span class="op" id="7507084">.</span><span class="ident" id="7507085">pat</span><span class="op" id="7507088">)</span><span class="op" id="7507089">.</span><span class="ident" id="7507090">FindAllIndex</span><span class="op" id="7507102">(</span><span class="op" id="7507103">[</span><span class="op" id="7507104">]</span><span class="builtintype" id="7507105">byte</span><span class="op" id="7507109">(</span><span class="ident" id="7507110">test</span><span class="op" id="7507114">.</span><span class="ident" id="7507115">text</span><span class="op" id="7507119">)</span><span class="op" id="7507120">,</span>&nbsp;<span class="op" id="7507122">-</span><span class="num" id="7507123">1</span><span class="op" id="7507124">)</span><span class="op" id="7507125">,</span>&nbsp;<span class="ident" id="7507127">t</span><span class="op" id="7507128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507131">}</span><br>
<span class="lineno"></span><span class="op" id="7507133">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7507136">func</span>&nbsp;<span class="ident" id="7507141">TestFindAllStringIndex</span><span class="op" id="7507163">(</span><span class="ident" id="7507164">t</span>&nbsp;<span class="op" id="7507166">*</span><span class="ident" id="7507167">testing</span><span class="op" id="7507174">.</span><span class="ident" id="7507175">T</span><span class="op" id="7507176">)</span>&nbsp;<span class="op" id="7507178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507181">for</span>&nbsp;<span class="ident" id="7507185">_</span><span class="op" id="7507186">,</span>&nbsp;<span class="ident" id="7507188">test</span>&nbsp;<span class="op" id="7507193">:=</span>&nbsp;<span class="keyword" id="7507196">range</span>&nbsp;<span class="ident" id="7507202">findTests</span>&nbsp;<span class="op" id="7507212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507216">testFindAllIndex</span><span class="op" id="7507232">(</span><span class="op" id="7507233">&amp;</span><span class="ident" id="7507234">test</span><span class="op" id="7507238">,</span>&nbsp;<span class="ident" id="7507240">MustCompile</span><span class="op" id="7507251">(</span><span class="ident" id="7507252">test</span><span class="op" id="7507256">.</span><span class="ident" id="7507257">pat</span><span class="op" id="7507260">)</span><span class="op" id="7507261">.</span><span class="ident" id="7507262">FindAllStringIndex</span><span class="op" id="7507280">(</span><span class="ident" id="7507281">test</span><span class="op" id="7507285">.</span><span class="ident" id="7507286">text</span><span class="op" id="7507290">,</span>&nbsp;<span class="op" id="7507292">-</span><span class="num" id="7507293">1</span><span class="op" id="7507294">)</span><span class="op" id="7507295">,</span>&nbsp;<span class="ident" id="7507297">t</span><span class="op" id="7507298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507301">}</span><br>
<span class="lineno">310</span><span class="op" id="7507303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7507306">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7507339">func</span>&nbsp;<span class="ident" id="7507344">testSubmatchBytes</span><span class="op" id="7507361">(</span><span class="ident" id="7507362">test</span>&nbsp;<span class="op" id="7507367">*</span><span class="ident" id="7507368">FindTest</span><span class="op" id="7507376">,</span>&nbsp;<span class="ident" id="7507378">n</span>&nbsp;<span class="builtintype" id="7507380">int</span><span class="op" id="7507383">,</span>&nbsp;<span class="ident" id="7507385">submatches</span>&nbsp;<span class="op" id="7507396">[</span><span class="op" id="7507397">]</span><span class="builtintype" id="7507398">int</span><span class="op" id="7507401">,</span>&nbsp;<span class="ident" id="7507403">result</span>&nbsp;<span class="op" id="7507410">[</span><span class="op" id="7507411">]</span><span class="op" id="7507412">[</span><span class="op" id="7507413">]</span><span class="builtintype" id="7507414">byte</span><span class="op" id="7507418">,</span>&nbsp;<span class="ident" id="7507420">t</span>&nbsp;<span class="op" id="7507422">*</span><span class="ident" id="7507423">testing</span><span class="op" id="7507430">.</span><span class="ident" id="7507431">T</span><span class="op" id="7507432">)</span>&nbsp;<span class="op" id="7507434">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507437">if</span>&nbsp;<span class="builtinfunc" id="7507440">len</span><span class="op" id="7507443">(</span><span class="ident" id="7507444">submatches</span><span class="op" id="7507454">)</span>&nbsp;<span class="op" id="7507456">!=</span>&nbsp;<span class="builtinfunc" id="7507459">len</span><span class="op" id="7507462">(</span><span class="ident" id="7507463">result</span><span class="op" id="7507469">)</span><span class="op" id="7507470">*</span><span class="num" id="7507471">2</span>&nbsp;<span class="op" id="7507473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507477">t</span><span class="op" id="7507478">.</span><span class="ident" id="7507479">Errorf</span><span class="op" id="7507485">(</span><span class="string" id="7507486">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7507532">,</span>&nbsp;<span class="ident" id="7507534">n</span><span class="op" id="7507535">,</span>&nbsp;<span class="builtinfunc" id="7507537">len</span><span class="op" id="7507540">(</span><span class="ident" id="7507541">submatches</span><span class="op" id="7507551">)</span><span class="op" id="7507552">/</span><span class="num" id="7507553">2</span><span class="op" id="7507554">,</span>&nbsp;<span class="builtinfunc" id="7507556">len</span><span class="op" id="7507559">(</span><span class="ident" id="7507560">result</span><span class="op" id="7507566">)</span><span class="op" id="7507567">,</span>&nbsp;<span class="ident" id="7507569">test</span><span class="op" id="7507573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507577">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507588">for</span>&nbsp;<span class="ident" id="7507592">k</span>&nbsp;<span class="op" id="7507594">:=</span>&nbsp;<span class="num" id="7507597">0</span><span class="op" id="7507598">;</span>&nbsp;<span class="ident" id="7507600">k</span>&nbsp;<span class="op" id="7507602">&lt;</span>&nbsp;<span class="builtinfunc" id="7507604">len</span><span class="op" id="7507607">(</span><span class="ident" id="7507608">submatches</span><span class="op" id="7507618">)</span><span class="op" id="7507619">;</span>&nbsp;<span class="ident" id="7507621">k</span>&nbsp;<span class="op" id="7507623">+=</span>&nbsp;<span class="num" id="7507626">2</span>&nbsp;<span class="op" id="7507628">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507632">if</span>&nbsp;<span class="ident" id="7507635">submatches</span><span class="op" id="7507645">[</span><span class="ident" id="7507646">k</span><span class="op" id="7507647">]</span>&nbsp;<span class="op" id="7507649">==</span>&nbsp;<span class="op" id="7507652">-</span><span class="num" id="7507653">1</span>&nbsp;<span class="op" id="7507655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507660">if</span>&nbsp;<span class="ident" id="7507663">result</span><span class="op" id="7507669">[</span><span class="ident" id="7507670">k</span><span class="op" id="7507671">/</span><span class="num" id="7507672">2</span><span class="op" id="7507673">]</span>&nbsp;<span class="op" id="7507675">!=</span>&nbsp;<span class="ident" id="7507678">nil</span>&nbsp;<span class="op" id="7507682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507688">t</span><span class="op" id="7507689">.</span><span class="ident" id="7507690">Errorf</span><span class="op" id="7507696">(</span><span class="string" id="7507697">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7507732">,</span>&nbsp;<span class="ident" id="7507734">n</span><span class="op" id="7507735">,</span>&nbsp;<span class="ident" id="7507737">result</span><span class="op" id="7507743">,</span>&nbsp;<span class="ident" id="7507745">test</span><span class="op" id="7507749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507759">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507774">expect</span>&nbsp;<span class="op" id="7507781">:=</span>&nbsp;<span class="ident" id="7507784">test</span><span class="op" id="7507788">.</span><span class="ident" id="7507789">text</span><span class="op" id="7507793">[</span><span class="ident" id="7507794">submatches</span><span class="op" id="7507804">[</span><span class="ident" id="7507805">k</span><span class="op" id="7507806">]</span><span class="op" id="7507807">:</span><span class="ident" id="7507808">submatches</span><span class="op" id="7507818">[</span><span class="ident" id="7507819">k</span><span class="op" id="7507820">+</span><span class="num" id="7507821">1</span><span class="op" id="7507822">]</span><span class="op" id="7507823">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507827">if</span>&nbsp;<span class="ident" id="7507830">expect</span>&nbsp;<span class="op" id="7507837">!=</span>&nbsp;<span class="builtintype" id="7507840">string</span><span class="op" id="7507846">(</span><span class="ident" id="7507847">result</span><span class="op" id="7507853">[</span><span class="ident" id="7507854">k</span><span class="op" id="7507855">/</span><span class="num" id="7507856">2</span><span class="op" id="7507857">]</span><span class="op" id="7507858">)</span>&nbsp;<span class="op" id="7507860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507865">t</span><span class="op" id="7507866">.</span><span class="ident" id="7507867">Errorf</span><span class="op" id="7507873">(</span><span class="string" id="7507874">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7507908">,</span>&nbsp;<span class="ident" id="7507910">n</span><span class="op" id="7507911">,</span>&nbsp;<span class="ident" id="7507913">expect</span><span class="op" id="7507919">,</span>&nbsp;<span class="ident" id="7507921">result</span><span class="op" id="7507927">,</span>&nbsp;<span class="ident" id="7507929">test</span><span class="op" id="7507933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507938">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507950">}</span><br>
<span class="lineno"></span><span class="op" id="7507952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7507955">func</span>&nbsp;<span class="ident" id="7507960">TestFindSubmatch</span><span class="op" id="7507976">(</span><span class="ident" id="7507977">t</span>&nbsp;<span class="op" id="7507979">*</span><span class="ident" id="7507980">testing</span><span class="op" id="7507987">.</span><span class="ident" id="7507988">T</span><span class="op" id="7507989">)</span>&nbsp;<span class="op" id="7507991">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507994">for</span>&nbsp;<span class="ident" id="7507998">_</span><span class="op" id="7507999">,</span>&nbsp;<span class="ident" id="7508001">test</span>&nbsp;<span class="op" id="7508006">:=</span>&nbsp;<span class="keyword" id="7508009">range</span>&nbsp;<span class="ident" id="7508015">findTests</span>&nbsp;<span class="op" id="7508025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508029">result</span>&nbsp;<span class="op" id="7508036">:=</span>&nbsp;<span class="ident" id="7508039">MustCompile</span><span class="op" id="7508050">(</span><span class="ident" id="7508051">test</span><span class="op" id="7508055">.</span><span class="ident" id="7508056">pat</span><span class="op" id="7508059">)</span><span class="op" id="7508060">.</span><span class="ident" id="7508061">FindSubmatch</span><span class="op" id="7508073">(</span><span class="op" id="7508074">[</span><span class="op" id="7508075">]</span><span class="builtintype" id="7508076">byte</span><span class="op" id="7508080">(</span><span class="ident" id="7508081">test</span><span class="op" id="7508085">.</span><span class="ident" id="7508086">text</span><span class="op" id="7508090">)</span><span class="op" id="7508091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508095">switch</span>&nbsp;<span class="op" id="7508102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508106">case</span>&nbsp;<span class="ident" id="7508111">test</span><span class="op" id="7508115">.</span><span class="ident" id="7508116">matches</span>&nbsp;<span class="op" id="7508124">==</span>&nbsp;<span class="ident" id="7508127">nil</span>&nbsp;<span class="op" id="7508131">&amp;&amp;</span>&nbsp;<span class="ident" id="7508134">result</span>&nbsp;<span class="op" id="7508141">==</span>&nbsp;<span class="ident" id="7508144">nil</span><span class="op" id="7508147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7508152">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508160">case</span>&nbsp;<span class="ident" id="7508165">test</span><span class="op" id="7508169">.</span><span class="ident" id="7508170">matches</span>&nbsp;<span class="op" id="7508178">==</span>&nbsp;<span class="ident" id="7508181">nil</span>&nbsp;<span class="op" id="7508185">&amp;&amp;</span>&nbsp;<span class="ident" id="7508188">result</span>&nbsp;<span class="op" id="7508195">!=</span>&nbsp;<span class="ident" id="7508198">nil</span><span class="op" id="7508201">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508206">t</span><span class="op" id="7508207">.</span><span class="ident" id="7508208">Errorf</span><span class="op" id="7508214">(</span><span class="string" id="7508215">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7508247">,</span>&nbsp;<span class="ident" id="7508249">test</span><span class="op" id="7508253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508257">case</span>&nbsp;<span class="ident" id="7508262">test</span><span class="op" id="7508266">.</span><span class="ident" id="7508267">matches</span>&nbsp;<span class="op" id="7508275">!=</span>&nbsp;<span class="ident" id="7508278">nil</span>&nbsp;<span class="op" id="7508282">&amp;&amp;</span>&nbsp;<span class="ident" id="7508285">result</span>&nbsp;<span class="op" id="7508292">==</span>&nbsp;<span class="ident" id="7508295">nil</span><span class="op" id="7508298">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508303">t</span><span class="op" id="7508304">.</span><span class="ident" id="7508305">Errorf</span><span class="op" id="7508311">(</span><span class="string" id="7508312">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7508342">,</span>&nbsp;<span class="ident" id="7508344">test</span><span class="op" id="7508348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508352">case</span>&nbsp;<span class="ident" id="7508357">test</span><span class="op" id="7508361">.</span><span class="ident" id="7508362">matches</span>&nbsp;<span class="op" id="7508370">!=</span>&nbsp;<span class="ident" id="7508373">nil</span>&nbsp;<span class="op" id="7508377">&amp;&amp;</span>&nbsp;<span class="ident" id="7508380">result</span>&nbsp;<span class="op" id="7508387">!=</span>&nbsp;<span class="ident" id="7508390">nil</span><span class="op" id="7508393">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508398">testSubmatchBytes</span><span class="op" id="7508415">(</span><span class="op" id="7508416">&amp;</span><span class="ident" id="7508417">test</span><span class="op" id="7508421">,</span>&nbsp;<span class="num" id="7508423">0</span><span class="op" id="7508424">,</span>&nbsp;<span class="ident" id="7508426">test</span><span class="op" id="7508430">.</span><span class="ident" id="7508431">matches</span><span class="op" id="7508438">[</span><span class="num" id="7508439">0</span><span class="op" id="7508440">]</span><span class="op" id="7508441">,</span>&nbsp;<span class="ident" id="7508443">result</span><span class="op" id="7508449">,</span>&nbsp;<span class="ident" id="7508451">t</span><span class="op" id="7508452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508459">}</span><br>
<span class="lineno"></span><span class="op" id="7508461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="7508464">func</span>&nbsp;<span class="ident" id="7508469">testSubmatchString</span><span class="op" id="7508487">(</span><span class="ident" id="7508488">test</span>&nbsp;<span class="op" id="7508493">*</span><span class="ident" id="7508494">FindTest</span><span class="op" id="7508502">,</span>&nbsp;<span class="ident" id="7508504">n</span>&nbsp;<span class="builtintype" id="7508506">int</span><span class="op" id="7508509">,</span>&nbsp;<span class="ident" id="7508511">submatches</span>&nbsp;<span class="op" id="7508522">[</span><span class="op" id="7508523">]</span><span class="builtintype" id="7508524">int</span><span class="op" id="7508527">,</span>&nbsp;<span class="ident" id="7508529">result</span>&nbsp;<span class="op" id="7508536">[</span><span class="op" id="7508537">]</span><span class="builtintype" id="7508538">string</span><span class="op" id="7508544">,</span>&nbsp;<span class="ident" id="7508546">t</span>&nbsp;<span class="op" id="7508548">*</span><span class="ident" id="7508549">testing</span><span class="op" id="7508556">.</span><span class="ident" id="7508557">T</span><span class="op" id="7508558">)</span>&nbsp;<span class="op" id="7508560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508563">if</span>&nbsp;<span class="builtinfunc" id="7508566">len</span><span class="op" id="7508569">(</span><span class="ident" id="7508570">submatches</span><span class="op" id="7508580">)</span>&nbsp;<span class="op" id="7508582">!=</span>&nbsp;<span class="builtinfunc" id="7508585">len</span><span class="op" id="7508588">(</span><span class="ident" id="7508589">result</span><span class="op" id="7508595">)</span><span class="op" id="7508596">*</span><span class="num" id="7508597">2</span>&nbsp;<span class="op" id="7508599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508603">t</span><span class="op" id="7508604">.</span><span class="ident" id="7508605">Errorf</span><span class="op" id="7508611">(</span><span class="string" id="7508612">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7508658">,</span>&nbsp;<span class="ident" id="7508660">n</span><span class="op" id="7508661">,</span>&nbsp;<span class="builtinfunc" id="7508663">len</span><span class="op" id="7508666">(</span><span class="ident" id="7508667">submatches</span><span class="op" id="7508677">)</span><span class="op" id="7508678">/</span><span class="num" id="7508679">2</span><span class="op" id="7508680">,</span>&nbsp;<span class="builtinfunc" id="7508682">len</span><span class="op" id="7508685">(</span><span class="ident" id="7508686">result</span><span class="op" id="7508692">)</span><span class="op" id="7508693">,</span>&nbsp;<span class="ident" id="7508695">test</span><span class="op" id="7508699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508703">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508711">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508714">for</span>&nbsp;<span class="ident" id="7508718">k</span>&nbsp;<span class="op" id="7508720">:=</span>&nbsp;<span class="num" id="7508723">0</span><span class="op" id="7508724">;</span>&nbsp;<span class="ident" id="7508726">k</span>&nbsp;<span class="op" id="7508728">&lt;</span>&nbsp;<span class="builtinfunc" id="7508730">len</span><span class="op" id="7508733">(</span><span class="ident" id="7508734">submatches</span><span class="op" id="7508744">)</span><span class="op" id="7508745">;</span>&nbsp;<span class="ident" id="7508747">k</span>&nbsp;<span class="op" id="7508749">+=</span>&nbsp;<span class="num" id="7508752">2</span>&nbsp;<span class="op" id="7508754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508758">if</span>&nbsp;<span class="ident" id="7508761">submatches</span><span class="op" id="7508771">[</span><span class="ident" id="7508772">k</span><span class="op" id="7508773">]</span>&nbsp;<span class="op" id="7508775">==</span>&nbsp;<span class="op" id="7508778">-</span><span class="num" id="7508779">1</span>&nbsp;<span class="op" id="7508781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508786">if</span>&nbsp;<span class="ident" id="7508789">result</span><span class="op" id="7508795">[</span><span class="ident" id="7508796">k</span><span class="op" id="7508797">/</span><span class="num" id="7508798">2</span><span class="op" id="7508799">]</span>&nbsp;<span class="op" id="7508801">!=</span>&nbsp;<span class="string" id="7508804">&#34;&#34;</span>&nbsp;<span class="op" id="7508807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508813">t</span><span class="op" id="7508814">.</span><span class="ident" id="7508815">Errorf</span><span class="op" id="7508821">(</span><span class="string" id="7508822">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7508857">,</span>&nbsp;<span class="ident" id="7508859">n</span><span class="op" id="7508860">,</span>&nbsp;<span class="ident" id="7508862">result</span><span class="op" id="7508868">,</span>&nbsp;<span class="ident" id="7508870">test</span><span class="op" id="7508874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508879">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508884">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508899">expect</span>&nbsp;<span class="op" id="7508906">:=</span>&nbsp;<span class="ident" id="7508909">test</span><span class="op" id="7508913">.</span><span class="ident" id="7508914">text</span><span class="op" id="7508918">[</span><span class="ident" id="7508919">submatches</span><span class="op" id="7508929">[</span><span class="ident" id="7508930">k</span><span class="op" id="7508931">]</span><span class="op" id="7508932">:</span><span class="ident" id="7508933">submatches</span><span class="op" id="7508943">[</span><span class="ident" id="7508944">k</span><span class="op" id="7508945">+</span><span class="num" id="7508946">1</span><span class="op" id="7508947">]</span><span class="op" id="7508948">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508952">if</span>&nbsp;<span class="ident" id="7508955">expect</span>&nbsp;<span class="op" id="7508962">!=</span>&nbsp;<span class="ident" id="7508965">result</span><span class="op" id="7508971">[</span><span class="ident" id="7508972">k</span><span class="op" id="7508973">/</span><span class="num" id="7508974">2</span><span class="op" id="7508975">]</span>&nbsp;<span class="op" id="7508977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508982">t</span><span class="op" id="7508983">.</span><span class="ident" id="7508984">Errorf</span><span class="op" id="7508990">(</span><span class="string" id="7508991">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7509025">,</span>&nbsp;<span class="ident" id="7509027">n</span><span class="op" id="7509028">,</span>&nbsp;<span class="ident" id="7509030">expect</span><span class="op" id="7509036">,</span>&nbsp;<span class="ident" id="7509038">result</span><span class="op" id="7509044">,</span>&nbsp;<span class="ident" id="7509046">test</span><span class="op" id="7509050">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509055">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509067">}</span><br>
<span class="lineno"></span><span class="op" id="7509069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="7509072">func</span>&nbsp;<span class="ident" id="7509077">TestFindStringSubmatch</span><span class="op" id="7509099">(</span><span class="ident" id="7509100">t</span>&nbsp;<span class="op" id="7509102">*</span><span class="ident" id="7509103">testing</span><span class="op" id="7509110">.</span><span class="ident" id="7509111">T</span><span class="op" id="7509112">)</span>&nbsp;<span class="op" id="7509114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509117">for</span>&nbsp;<span class="ident" id="7509121">_</span><span class="op" id="7509122">,</span>&nbsp;<span class="ident" id="7509124">test</span>&nbsp;<span class="op" id="7509129">:=</span>&nbsp;<span class="keyword" id="7509132">range</span>&nbsp;<span class="ident" id="7509138">findTests</span>&nbsp;<span class="op" id="7509148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509152">result</span>&nbsp;<span class="op" id="7509159">:=</span>&nbsp;<span class="ident" id="7509162">MustCompile</span><span class="op" id="7509173">(</span><span class="ident" id="7509174">test</span><span class="op" id="7509178">.</span><span class="ident" id="7509179">pat</span><span class="op" id="7509182">)</span><span class="op" id="7509183">.</span><span class="ident" id="7509184">FindStringSubmatch</span><span class="op" id="7509202">(</span><span class="ident" id="7509203">test</span><span class="op" id="7509207">.</span><span class="ident" id="7509208">text</span><span class="op" id="7509212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509216">switch</span>&nbsp;<span class="op" id="7509223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509227">case</span>&nbsp;<span class="ident" id="7509232">test</span><span class="op" id="7509236">.</span><span class="ident" id="7509237">matches</span>&nbsp;<span class="op" id="7509245">==</span>&nbsp;<span class="ident" id="7509248">nil</span>&nbsp;<span class="op" id="7509252">&amp;&amp;</span>&nbsp;<span class="ident" id="7509255">result</span>&nbsp;<span class="op" id="7509262">==</span>&nbsp;<span class="ident" id="7509265">nil</span><span class="op" id="7509268">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7509273">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509281">case</span>&nbsp;<span class="ident" id="7509286">test</span><span class="op" id="7509290">.</span><span class="ident" id="7509291">matches</span>&nbsp;<span class="op" id="7509299">==</span>&nbsp;<span class="ident" id="7509302">nil</span>&nbsp;<span class="op" id="7509306">&amp;&amp;</span>&nbsp;<span class="ident" id="7509309">result</span>&nbsp;<span class="op" id="7509316">!=</span>&nbsp;<span class="ident" id="7509319">nil</span><span class="op" id="7509322">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509327">t</span><span class="op" id="7509328">.</span><span class="ident" id="7509329">Errorf</span><span class="op" id="7509335">(</span><span class="string" id="7509336">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7509368">,</span>&nbsp;<span class="ident" id="7509370">test</span><span class="op" id="7509374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509378">case</span>&nbsp;<span class="ident" id="7509383">test</span><span class="op" id="7509387">.</span><span class="ident" id="7509388">matches</span>&nbsp;<span class="op" id="7509396">!=</span>&nbsp;<span class="ident" id="7509399">nil</span>&nbsp;<span class="op" id="7509403">&amp;&amp;</span>&nbsp;<span class="ident" id="7509406">result</span>&nbsp;<span class="op" id="7509413">==</span>&nbsp;<span class="ident" id="7509416">nil</span><span class="op" id="7509419">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509424">t</span><span class="op" id="7509425">.</span><span class="ident" id="7509426">Errorf</span><span class="op" id="7509432">(</span><span class="string" id="7509433">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7509463">,</span>&nbsp;<span class="ident" id="7509465">test</span><span class="op" id="7509469">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509473">case</span>&nbsp;<span class="ident" id="7509478">test</span><span class="op" id="7509482">.</span><span class="ident" id="7509483">matches</span>&nbsp;<span class="op" id="7509491">!=</span>&nbsp;<span class="ident" id="7509494">nil</span>&nbsp;<span class="op" id="7509498">&amp;&amp;</span>&nbsp;<span class="ident" id="7509501">result</span>&nbsp;<span class="op" id="7509508">!=</span>&nbsp;<span class="ident" id="7509511">nil</span><span class="op" id="7509514">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509519">testSubmatchString</span><span class="op" id="7509537">(</span><span class="op" id="7509538">&amp;</span><span class="ident" id="7509539">test</span><span class="op" id="7509543">,</span>&nbsp;<span class="num" id="7509545">0</span><span class="op" id="7509546">,</span>&nbsp;<span class="ident" id="7509548">test</span><span class="op" id="7509552">.</span><span class="ident" id="7509553">matches</span><span class="op" id="7509560">[</span><span class="num" id="7509561">0</span><span class="op" id="7509562">]</span><span class="op" id="7509563">,</span>&nbsp;<span class="ident" id="7509565">result</span><span class="op" id="7509571">,</span>&nbsp;<span class="ident" id="7509573">t</span><span class="op" id="7509574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509581">}</span><br>
<span class="lineno"></span><span class="op" id="7509583">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="7509586">func</span>&nbsp;<span class="ident" id="7509591">testSubmatchIndices</span><span class="op" id="7509610">(</span><span class="ident" id="7509611">test</span>&nbsp;<span class="op" id="7509616">*</span><span class="ident" id="7509617">FindTest</span><span class="op" id="7509625">,</span>&nbsp;<span class="ident" id="7509627">n</span>&nbsp;<span class="builtintype" id="7509629">int</span><span class="op" id="7509632">,</span>&nbsp;<span class="ident" id="7509634">expect</span><span class="op" id="7509640">,</span>&nbsp;<span class="ident" id="7509642">result</span>&nbsp;<span class="op" id="7509649">[</span><span class="op" id="7509650">]</span><span class="builtintype" id="7509651">int</span><span class="op" id="7509654">,</span>&nbsp;<span class="ident" id="7509656">t</span>&nbsp;<span class="op" id="7509658">*</span><span class="ident" id="7509659">testing</span><span class="op" id="7509666">.</span><span class="ident" id="7509667">T</span><span class="op" id="7509668">)</span>&nbsp;<span class="op" id="7509670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509673">if</span>&nbsp;<span class="builtinfunc" id="7509676">len</span><span class="op" id="7509679">(</span><span class="ident" id="7509680">expect</span><span class="op" id="7509686">)</span>&nbsp;<span class="op" id="7509688">!=</span>&nbsp;<span class="builtinfunc" id="7509691">len</span><span class="op" id="7509694">(</span><span class="ident" id="7509695">result</span><span class="op" id="7509701">)</span>&nbsp;<span class="op" id="7509703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509707">t</span><span class="op" id="7509708">.</span><span class="ident" id="7509709">Errorf</span><span class="op" id="7509715">(</span><span class="string" id="7509716">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7509759">,</span>&nbsp;<span class="ident" id="7509761">n</span><span class="op" id="7509762">,</span>&nbsp;<span class="builtinfunc" id="7509764">len</span><span class="op" id="7509767">(</span><span class="ident" id="7509768">expect</span><span class="op" id="7509774">)</span><span class="op" id="7509775">/</span><span class="num" id="7509776">2</span><span class="op" id="7509777">,</span>&nbsp;<span class="builtinfunc" id="7509779">len</span><span class="op" id="7509782">(</span><span class="ident" id="7509783">result</span><span class="op" id="7509789">)</span><span class="op" id="7509790">/</span><span class="num" id="7509791">2</span><span class="op" id="7509792">,</span>&nbsp;<span class="ident" id="7509794">test</span><span class="op" id="7509798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509802">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509813">for</span>&nbsp;<span class="ident" id="7509817">k</span><span class="op" id="7509818">,</span>&nbsp;<span class="ident" id="7509820">e</span>&nbsp;<span class="op" id="7509822">:=</span>&nbsp;<span class="keyword" id="7509825">range</span>&nbsp;<span class="ident" id="7509831">expect</span>&nbsp;<span class="op" id="7509838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509842">if</span>&nbsp;<span class="ident" id="7509845">e</span>&nbsp;<span class="op" id="7509847">!=</span>&nbsp;<span class="ident" id="7509850">result</span><span class="op" id="7509856">[</span><span class="ident" id="7509857">k</span><span class="op" id="7509858">]</span>&nbsp;<span class="op" id="7509860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509865">t</span><span class="op" id="7509866">.</span><span class="ident" id="7509867">Errorf</span><span class="op" id="7509873">(</span><span class="string" id="7509874">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7509924">,</span>&nbsp;<span class="ident" id="7509926">n</span><span class="op" id="7509927">,</span>&nbsp;<span class="ident" id="7509929">expect</span><span class="op" id="7509935">,</span>&nbsp;<span class="ident" id="7509937">result</span><span class="op" id="7509943">,</span>&nbsp;<span class="ident" id="7509945">test</span><span class="op" id="7509949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509953">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509956">}</span><br>
<span class="lineno"></span><span class="op" id="7509958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7509961">func</span>&nbsp;<span class="ident" id="7509966">testFindSubmatchIndex</span><span class="op" id="7509987">(</span><span class="ident" id="7509988">test</span>&nbsp;<span class="op" id="7509993">*</span><span class="ident" id="7509994">FindTest</span><span class="op" id="7510002">,</span>&nbsp;<span class="ident" id="7510004">result</span>&nbsp;<span class="op" id="7510011">[</span><span class="op" id="7510012">]</span><span class="builtintype" id="7510013">int</span><span class="op" id="7510016">,</span>&nbsp;<span class="ident" id="7510018">t</span>&nbsp;<span class="op" id="7510020">*</span><span class="ident" id="7510021">testing</span><span class="op" id="7510028">.</span><span class="ident" id="7510029">T</span><span class="op" id="7510030">)</span>&nbsp;<span class="op" id="7510032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510035">switch</span>&nbsp;<span class="op" id="7510042">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510045">case</span>&nbsp;<span class="ident" id="7510050">test</span><span class="op" id="7510054">.</span><span class="ident" id="7510055">matches</span>&nbsp;<span class="op" id="7510063">==</span>&nbsp;<span class="ident" id="7510066">nil</span>&nbsp;<span class="op" id="7510070">&amp;&amp;</span>&nbsp;<span class="ident" id="7510073">result</span>&nbsp;<span class="op" id="7510080">==</span>&nbsp;<span class="ident" id="7510083">nil</span><span class="op" id="7510086">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7510090">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510097">case</span>&nbsp;<span class="ident" id="7510102">test</span><span class="op" id="7510106">.</span><span class="ident" id="7510107">matches</span>&nbsp;<span class="op" id="7510115">==</span>&nbsp;<span class="ident" id="7510118">nil</span>&nbsp;<span class="op" id="7510122">&amp;&amp;</span>&nbsp;<span class="ident" id="7510125">result</span>&nbsp;<span class="op" id="7510132">!=</span>&nbsp;<span class="ident" id="7510135">nil</span><span class="op" id="7510138">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510142">t</span><span class="op" id="7510143">.</span><span class="ident" id="7510144">Errorf</span><span class="op" id="7510150">(</span><span class="string" id="7510151">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7510183">,</span>&nbsp;<span class="ident" id="7510185">test</span><span class="op" id="7510189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510192">case</span>&nbsp;<span class="ident" id="7510197">test</span><span class="op" id="7510201">.</span><span class="ident" id="7510202">matches</span>&nbsp;<span class="op" id="7510210">!=</span>&nbsp;<span class="ident" id="7510213">nil</span>&nbsp;<span class="op" id="7510217">&amp;&amp;</span>&nbsp;<span class="ident" id="7510220">result</span>&nbsp;<span class="op" id="7510227">==</span>&nbsp;<span class="ident" id="7510230">nil</span><span class="op" id="7510233">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510237">t</span><span class="op" id="7510238">.</span><span class="ident" id="7510239">Errorf</span><span class="op" id="7510245">(</span><span class="string" id="7510246">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7510276">,</span>&nbsp;<span class="ident" id="7510278">test</span><span class="op" id="7510282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510285">case</span>&nbsp;<span class="ident" id="7510290">test</span><span class="op" id="7510294">.</span><span class="ident" id="7510295">matches</span>&nbsp;<span class="op" id="7510303">!=</span>&nbsp;<span class="ident" id="7510306">nil</span>&nbsp;<span class="op" id="7510310">&amp;&amp;</span>&nbsp;<span class="ident" id="7510313">result</span>&nbsp;<span class="op" id="7510320">!=</span>&nbsp;<span class="ident" id="7510323">nil</span><span class="op" id="7510326">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510330">testSubmatchIndices</span><span class="op" id="7510349">(</span><span class="ident" id="7510350">test</span><span class="op" id="7510354">,</span>&nbsp;<span class="num" id="7510356">0</span><span class="op" id="7510357">,</span>&nbsp;<span class="ident" id="7510359">test</span><span class="op" id="7510363">.</span><span class="ident" id="7510364">matches</span><span class="op" id="7510371">[</span><span class="num" id="7510372">0</span><span class="op" id="7510373">]</span><span class="op" id="7510374">,</span>&nbsp;<span class="ident" id="7510376">result</span><span class="op" id="7510382">,</span>&nbsp;<span class="ident" id="7510384">t</span><span class="op" id="7510385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510388">}</span><br>
<span class="lineno"></span><span class="op" id="7510390">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="7510393">func</span>&nbsp;<span class="ident" id="7510398">TestFindSubmatchIndex</span><span class="op" id="7510419">(</span><span class="ident" id="7510420">t</span>&nbsp;<span class="op" id="7510422">*</span><span class="ident" id="7510423">testing</span><span class="op" id="7510430">.</span><span class="ident" id="7510431">T</span><span class="op" id="7510432">)</span>&nbsp;<span class="op" id="7510434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510437">for</span>&nbsp;<span class="ident" id="7510441">_</span><span class="op" id="7510442">,</span>&nbsp;<span class="ident" id="7510444">test</span>&nbsp;<span class="op" id="7510449">:=</span>&nbsp;<span class="keyword" id="7510452">range</span>&nbsp;<span class="ident" id="7510458">findTests</span>&nbsp;<span class="op" id="7510468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510472">testFindSubmatchIndex</span><span class="op" id="7510493">(</span><span class="op" id="7510494">&amp;</span><span class="ident" id="7510495">test</span><span class="op" id="7510499">,</span>&nbsp;<span class="ident" id="7510501">MustCompile</span><span class="op" id="7510512">(</span><span class="ident" id="7510513">test</span><span class="op" id="7510517">.</span><span class="ident" id="7510518">pat</span><span class="op" id="7510521">)</span><span class="op" id="7510522">.</span><span class="ident" id="7510523">FindSubmatchIndex</span><span class="op" id="7510540">(</span><span class="op" id="7510541">[</span><span class="op" id="7510542">]</span><span class="builtintype" id="7510543">byte</span><span class="op" id="7510547">(</span><span class="ident" id="7510548">test</span><span class="op" id="7510552">.</span><span class="ident" id="7510553">text</span><span class="op" id="7510557">)</span><span class="op" id="7510558">)</span><span class="op" id="7510559">,</span>&nbsp;<span class="ident" id="7510561">t</span><span class="op" id="7510562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510565">}</span><br>
<span class="lineno">415</span><span class="op" id="7510567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7510570">func</span>&nbsp;<span class="ident" id="7510575">TestFindStringSubmatchIndex</span><span class="op" id="7510602">(</span><span class="ident" id="7510603">t</span>&nbsp;<span class="op" id="7510605">*</span><span class="ident" id="7510606">testing</span><span class="op" id="7510613">.</span><span class="ident" id="7510614">T</span><span class="op" id="7510615">)</span>&nbsp;<span class="op" id="7510617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510620">for</span>&nbsp;<span class="ident" id="7510624">_</span><span class="op" id="7510625">,</span>&nbsp;<span class="ident" id="7510627">test</span>&nbsp;<span class="op" id="7510632">:=</span>&nbsp;<span class="keyword" id="7510635">range</span>&nbsp;<span class="ident" id="7510641">findTests</span>&nbsp;<span class="op" id="7510651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510655">testFindSubmatchIndex</span><span class="op" id="7510676">(</span><span class="op" id="7510677">&amp;</span><span class="ident" id="7510678">test</span><span class="op" id="7510682">,</span>&nbsp;<span class="ident" id="7510684">MustCompile</span><span class="op" id="7510695">(</span><span class="ident" id="7510696">test</span><span class="op" id="7510700">.</span><span class="ident" id="7510701">pat</span><span class="op" id="7510704">)</span><span class="op" id="7510705">.</span><span class="ident" id="7510706">FindStringSubmatchIndex</span><span class="op" id="7510729">(</span><span class="ident" id="7510730">test</span><span class="op" id="7510734">.</span><span class="ident" id="7510735">text</span><span class="op" id="7510739">)</span><span class="op" id="7510740">,</span>&nbsp;<span class="ident" id="7510742">t</span><span class="op" id="7510743">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510746">}</span><br>
<span class="lineno"></span><span class="op" id="7510748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7510751">func</span>&nbsp;<span class="ident" id="7510756">TestFindReaderSubmatchIndex</span><span class="op" id="7510783">(</span><span class="ident" id="7510784">t</span>&nbsp;<span class="op" id="7510786">*</span><span class="ident" id="7510787">testing</span><span class="op" id="7510794">.</span><span class="ident" id="7510795">T</span><span class="op" id="7510796">)</span>&nbsp;<span class="op" id="7510798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510801">for</span>&nbsp;<span class="ident" id="7510805">_</span><span class="op" id="7510806">,</span>&nbsp;<span class="ident" id="7510808">test</span>&nbsp;<span class="op" id="7510813">:=</span>&nbsp;<span class="keyword" id="7510816">range</span>&nbsp;<span class="ident" id="7510822">findTests</span>&nbsp;<span class="op" id="7510832">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510836">testFindSubmatchIndex</span><span class="op" id="7510857">(</span><span class="op" id="7510858">&amp;</span><span class="ident" id="7510859">test</span><span class="op" id="7510863">,</span>&nbsp;<span class="ident" id="7510865">MustCompile</span><span class="op" id="7510876">(</span><span class="ident" id="7510877">test</span><span class="op" id="7510881">.</span><span class="ident" id="7510882">pat</span><span class="op" id="7510885">)</span><span class="op" id="7510886">.</span><span class="ident" id="7510887">FindReaderSubmatchIndex</span><span class="op" id="7510910">(</span><span class="ident" id="7510911">strings</span><span class="op" id="7510918">.</span><span class="ident" id="7510919">NewReader</span><span class="op" id="7510928">(</span><span class="ident" id="7510929">test</span><span class="op" id="7510933">.</span><span class="ident" id="7510934">text</span><span class="op" id="7510938">)</span><span class="op" id="7510939">)</span><span class="op" id="7510940">,</span>&nbsp;<span class="ident" id="7510942">t</span><span class="op" id="7510943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510946">}</span><br>
<span class="lineno"></span><span class="op" id="7510948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7510951">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="7510995">func</span>&nbsp;<span class="ident" id="7511000">TestFindAllSubmatch</span><span class="op" id="7511019">(</span><span class="ident" id="7511020">t</span>&nbsp;<span class="op" id="7511022">*</span><span class="ident" id="7511023">testing</span><span class="op" id="7511030">.</span><span class="ident" id="7511031">T</span><span class="op" id="7511032">)</span>&nbsp;<span class="op" id="7511034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511037">for</span>&nbsp;<span class="ident" id="7511041">_</span><span class="op" id="7511042">,</span>&nbsp;<span class="ident" id="7511044">test</span>&nbsp;<span class="op" id="7511049">:=</span>&nbsp;<span class="keyword" id="7511052">range</span>&nbsp;<span class="ident" id="7511058">findTests</span>&nbsp;<span class="op" id="7511068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511072">result</span>&nbsp;<span class="op" id="7511079">:=</span>&nbsp;<span class="ident" id="7511082">MustCompile</span><span class="op" id="7511093">(</span><span class="ident" id="7511094">test</span><span class="op" id="7511098">.</span><span class="ident" id="7511099">pat</span><span class="op" id="7511102">)</span><span class="op" id="7511103">.</span><span class="ident" id="7511104">FindAllSubmatch</span><span class="op" id="7511119">(</span><span class="op" id="7511120">[</span><span class="op" id="7511121">]</span><span class="builtintype" id="7511122">byte</span><span class="op" id="7511126">(</span><span class="ident" id="7511127">test</span><span class="op" id="7511131">.</span><span class="ident" id="7511132">text</span><span class="op" id="7511136">)</span><span class="op" id="7511137">,</span>&nbsp;<span class="op" id="7511139">-</span><span class="num" id="7511140">1</span><span class="op" id="7511141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511145">switch</span>&nbsp;<span class="op" id="7511152">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511156">case</span>&nbsp;<span class="ident" id="7511161">test</span><span class="op" id="7511165">.</span><span class="ident" id="7511166">matches</span>&nbsp;<span class="op" id="7511174">==</span>&nbsp;<span class="ident" id="7511177">nil</span>&nbsp;<span class="op" id="7511181">&amp;&amp;</span>&nbsp;<span class="ident" id="7511184">result</span>&nbsp;<span class="op" id="7511191">==</span>&nbsp;<span class="ident" id="7511194">nil</span><span class="op" id="7511197">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7511202">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511210">case</span>&nbsp;<span class="ident" id="7511215">test</span><span class="op" id="7511219">.</span><span class="ident" id="7511220">matches</span>&nbsp;<span class="op" id="7511228">==</span>&nbsp;<span class="ident" id="7511231">nil</span>&nbsp;<span class="op" id="7511235">&amp;&amp;</span>&nbsp;<span class="ident" id="7511238">result</span>&nbsp;<span class="op" id="7511245">!=</span>&nbsp;<span class="ident" id="7511248">nil</span><span class="op" id="7511251">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511256">t</span><span class="op" id="7511257">.</span><span class="ident" id="7511258">Errorf</span><span class="op" id="7511264">(</span><span class="string" id="7511265">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7511297">,</span>&nbsp;<span class="ident" id="7511299">test</span><span class="op" id="7511303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511307">case</span>&nbsp;<span class="ident" id="7511312">test</span><span class="op" id="7511316">.</span><span class="ident" id="7511317">matches</span>&nbsp;<span class="op" id="7511325">!=</span>&nbsp;<span class="ident" id="7511328">nil</span>&nbsp;<span class="op" id="7511332">&amp;&amp;</span>&nbsp;<span class="ident" id="7511335">result</span>&nbsp;<span class="op" id="7511342">==</span>&nbsp;<span class="ident" id="7511345">nil</span><span class="op" id="7511348">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511353">t</span><span class="op" id="7511354">.</span><span class="ident" id="7511355">Errorf</span><span class="op" id="7511361">(</span><span class="string" id="7511362">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7511392">,</span>&nbsp;<span class="ident" id="7511394">test</span><span class="op" id="7511398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511402">case</span>&nbsp;<span class="builtinfunc" id="7511407">len</span><span class="op" id="7511410">(</span><span class="ident" id="7511411">test</span><span class="op" id="7511415">.</span><span class="ident" id="7511416">matches</span><span class="op" id="7511423">)</span>&nbsp;<span class="op" id="7511425">!=</span>&nbsp;<span class="builtinfunc" id="7511428">len</span><span class="op" id="7511431">(</span><span class="ident" id="7511432">result</span><span class="op" id="7511438">)</span><span class="op" id="7511439">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511444">t</span><span class="op" id="7511445">.</span><span class="ident" id="7511446">Errorf</span><span class="op" id="7511452">(</span><span class="string" id="7511453">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7511486">,</span>&nbsp;<span class="builtinfunc" id="7511488">len</span><span class="op" id="7511491">(</span><span class="ident" id="7511492">test</span><span class="op" id="7511496">.</span><span class="ident" id="7511497">matches</span><span class="op" id="7511504">)</span><span class="op" id="7511505">,</span>&nbsp;<span class="builtinfunc" id="7511507">len</span><span class="op" id="7511510">(</span><span class="ident" id="7511511">result</span><span class="op" id="7511517">)</span><span class="op" id="7511518">,</span>&nbsp;<span class="ident" id="7511520">test</span><span class="op" id="7511524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511528">case</span>&nbsp;<span class="ident" id="7511533">test</span><span class="op" id="7511537">.</span><span class="ident" id="7511538">matches</span>&nbsp;<span class="op" id="7511546">!=</span>&nbsp;<span class="ident" id="7511549">nil</span>&nbsp;<span class="op" id="7511553">&amp;&amp;</span>&nbsp;<span class="ident" id="7511556">result</span>&nbsp;<span class="op" id="7511563">!=</span>&nbsp;<span class="ident" id="7511566">nil</span><span class="op" id="7511569">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511574">for</span>&nbsp;<span class="ident" id="7511578">k</span><span class="op" id="7511579">,</span>&nbsp;<span class="ident" id="7511581">match</span>&nbsp;<span class="op" id="7511587">:=</span>&nbsp;<span class="keyword" id="7511590">range</span>&nbsp;<span class="ident" id="7511596">test</span><span class="op" id="7511600">.</span><span class="ident" id="7511601">matches</span>&nbsp;<span class="op" id="7511609">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511615">testSubmatchBytes</span><span class="op" id="7511632">(</span><span class="op" id="7511633">&amp;</span><span class="ident" id="7511634">test</span><span class="op" id="7511638">,</span>&nbsp;<span class="ident" id="7511640">k</span><span class="op" id="7511641">,</span>&nbsp;<span class="ident" id="7511643">match</span><span class="op" id="7511648">,</span>&nbsp;<span class="ident" id="7511650">result</span><span class="op" id="7511656">[</span><span class="ident" id="7511657">k</span><span class="op" id="7511658">]</span><span class="op" id="7511659">,</span>&nbsp;<span class="ident" id="7511661">t</span><span class="op" id="7511662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511674">}</span><br>
<span class="lineno"></span><span class="op" id="7511676">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7511679">func</span>&nbsp;<span class="ident" id="7511684">TestFindAllStringSubmatch</span><span class="op" id="7511709">(</span><span class="ident" id="7511710">t</span>&nbsp;<span class="op" id="7511712">*</span><span class="ident" id="7511713">testing</span><span class="op" id="7511720">.</span><span class="ident" id="7511721">T</span><span class="op" id="7511722">)</span>&nbsp;<span class="op" id="7511724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511727">for</span>&nbsp;<span class="ident" id="7511731">_</span><span class="op" id="7511732">,</span>&nbsp;<span class="ident" id="7511734">test</span>&nbsp;<span class="op" id="7511739">:=</span>&nbsp;<span class="keyword" id="7511742">range</span>&nbsp;<span class="ident" id="7511748">findTests</span>&nbsp;<span class="op" id="7511758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511762">result</span>&nbsp;<span class="op" id="7511769">:=</span>&nbsp;<span class="ident" id="7511772">MustCompile</span><span class="op" id="7511783">(</span><span class="ident" id="7511784">test</span><span class="op" id="7511788">.</span><span class="ident" id="7511789">pat</span><span class="op" id="7511792">)</span><span class="op" id="7511793">.</span><span class="ident" id="7511794">FindAllStringSubmatch</span><span class="op" id="7511815">(</span><span class="ident" id="7511816">test</span><span class="op" id="7511820">.</span><span class="ident" id="7511821">text</span><span class="op" id="7511825">,</span>&nbsp;<span class="op" id="7511827">-</span><span class="num" id="7511828">1</span><span class="op" id="7511829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511833">switch</span>&nbsp;<span class="op" id="7511840">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511844">case</span>&nbsp;<span class="ident" id="7511849">test</span><span class="op" id="7511853">.</span><span class="ident" id="7511854">matches</span>&nbsp;<span class="op" id="7511862">==</span>&nbsp;<span class="ident" id="7511865">nil</span>&nbsp;<span class="op" id="7511869">&amp;&amp;</span>&nbsp;<span class="ident" id="7511872">result</span>&nbsp;<span class="op" id="7511879">==</span>&nbsp;<span class="ident" id="7511882">nil</span><span class="op" id="7511885">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7511890">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511898">case</span>&nbsp;<span class="ident" id="7511903">test</span><span class="op" id="7511907">.</span><span class="ident" id="7511908">matches</span>&nbsp;<span class="op" id="7511916">==</span>&nbsp;<span class="ident" id="7511919">nil</span>&nbsp;<span class="op" id="7511923">&amp;&amp;</span>&nbsp;<span class="ident" id="7511926">result</span>&nbsp;<span class="op" id="7511933">!=</span>&nbsp;<span class="ident" id="7511936">nil</span><span class="op" id="7511939">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511944">t</span><span class="op" id="7511945">.</span><span class="ident" id="7511946">Errorf</span><span class="op" id="7511952">(</span><span class="string" id="7511953">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7511985">,</span>&nbsp;<span class="ident" id="7511987">test</span><span class="op" id="7511991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511995">case</span>&nbsp;<span class="ident" id="7512000">test</span><span class="op" id="7512004">.</span><span class="ident" id="7512005">matches</span>&nbsp;<span class="op" id="7512013">!=</span>&nbsp;<span class="ident" id="7512016">nil</span>&nbsp;<span class="op" id="7512020">&amp;&amp;</span>&nbsp;<span class="ident" id="7512023">result</span>&nbsp;<span class="op" id="7512030">==</span>&nbsp;<span class="ident" id="7512033">nil</span><span class="op" id="7512036">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512041">t</span><span class="op" id="7512042">.</span><span class="ident" id="7512043">Errorf</span><span class="op" id="7512049">(</span><span class="string" id="7512050">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7512080">,</span>&nbsp;<span class="ident" id="7512082">test</span><span class="op" id="7512086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512090">case</span>&nbsp;<span class="builtinfunc" id="7512095">len</span><span class="op" id="7512098">(</span><span class="ident" id="7512099">test</span><span class="op" id="7512103">.</span><span class="ident" id="7512104">matches</span><span class="op" id="7512111">)</span>&nbsp;<span class="op" id="7512113">!=</span>&nbsp;<span class="builtinfunc" id="7512116">len</span><span class="op" id="7512119">(</span><span class="ident" id="7512120">result</span><span class="op" id="7512126">)</span><span class="op" id="7512127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512132">t</span><span class="op" id="7512133">.</span><span class="ident" id="7512134">Errorf</span><span class="op" id="7512140">(</span><span class="string" id="7512141">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7512174">,</span>&nbsp;<span class="builtinfunc" id="7512176">len</span><span class="op" id="7512179">(</span><span class="ident" id="7512180">test</span><span class="op" id="7512184">.</span><span class="ident" id="7512185">matches</span><span class="op" id="7512192">)</span><span class="op" id="7512193">,</span>&nbsp;<span class="builtinfunc" id="7512195">len</span><span class="op" id="7512198">(</span><span class="ident" id="7512199">result</span><span class="op" id="7512205">)</span><span class="op" id="7512206">,</span>&nbsp;<span class="ident" id="7512208">test</span><span class="op" id="7512212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512216">case</span>&nbsp;<span class="ident" id="7512221">test</span><span class="op" id="7512225">.</span><span class="ident" id="7512226">matches</span>&nbsp;<span class="op" id="7512234">!=</span>&nbsp;<span class="ident" id="7512237">nil</span>&nbsp;<span class="op" id="7512241">&amp;&amp;</span>&nbsp;<span class="ident" id="7512244">result</span>&nbsp;<span class="op" id="7512251">!=</span>&nbsp;<span class="ident" id="7512254">nil</span><span class="op" id="7512257">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512262">for</span>&nbsp;<span class="ident" id="7512266">k</span><span class="op" id="7512267">,</span>&nbsp;<span class="ident" id="7512269">match</span>&nbsp;<span class="op" id="7512275">:=</span>&nbsp;<span class="keyword" id="7512278">range</span>&nbsp;<span class="ident" id="7512284">test</span><span class="op" id="7512288">.</span><span class="ident" id="7512289">matches</span>&nbsp;<span class="op" id="7512297">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512303">testSubmatchString</span><span class="op" id="7512321">(</span><span class="op" id="7512322">&amp;</span><span class="ident" id="7512323">test</span><span class="op" id="7512327">,</span>&nbsp;<span class="ident" id="7512329">k</span><span class="op" id="7512330">,</span>&nbsp;<span class="ident" id="7512332">match</span><span class="op" id="7512337">,</span>&nbsp;<span class="ident" id="7512339">result</span><span class="op" id="7512345">[</span><span class="ident" id="7512346">k</span><span class="op" id="7512347">]</span><span class="op" id="7512348">,</span>&nbsp;<span class="ident" id="7512350">t</span><span class="op" id="7512351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512363">}</span><br>
<span class="lineno"></span><span class="op" id="7512365">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="7512368">func</span>&nbsp;<span class="ident" id="7512373">testFindAllSubmatchIndex</span><span class="op" id="7512397">(</span><span class="ident" id="7512398">test</span>&nbsp;<span class="op" id="7512403">*</span><span class="ident" id="7512404">FindTest</span><span class="op" id="7512412">,</span>&nbsp;<span class="ident" id="7512414">result</span>&nbsp;<span class="op" id="7512421">[</span><span class="op" id="7512422">]</span><span class="op" id="7512423">[</span><span class="op" id="7512424">]</span><span class="builtintype" id="7512425">int</span><span class="op" id="7512428">,</span>&nbsp;<span class="ident" id="7512430">t</span>&nbsp;<span class="op" id="7512432">*</span><span class="ident" id="7512433">testing</span><span class="op" id="7512440">.</span><span class="ident" id="7512441">T</span><span class="op" id="7512442">)</span>&nbsp;<span class="op" id="7512444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512447">switch</span>&nbsp;<span class="op" id="7512454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512457">case</span>&nbsp;<span class="ident" id="7512462">test</span><span class="op" id="7512466">.</span><span class="ident" id="7512467">matches</span>&nbsp;<span class="op" id="7512475">==</span>&nbsp;<span class="ident" id="7512478">nil</span>&nbsp;<span class="op" id="7512482">&amp;&amp;</span>&nbsp;<span class="ident" id="7512485">result</span>&nbsp;<span class="op" id="7512492">==</span>&nbsp;<span class="ident" id="7512495">nil</span><span class="op" id="7512498">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7512502">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512509">case</span>&nbsp;<span class="ident" id="7512514">test</span><span class="op" id="7512518">.</span><span class="ident" id="7512519">matches</span>&nbsp;<span class="op" id="7512527">==</span>&nbsp;<span class="ident" id="7512530">nil</span>&nbsp;<span class="op" id="7512534">&amp;&amp;</span>&nbsp;<span class="ident" id="7512537">result</span>&nbsp;<span class="op" id="7512544">!=</span>&nbsp;<span class="ident" id="7512547">nil</span><span class="op" id="7512550">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512554">t</span><span class="op" id="7512555">.</span><span class="ident" id="7512556">Errorf</span><span class="op" id="7512562">(</span><span class="string" id="7512563">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7512595">,</span>&nbsp;<span class="ident" id="7512597">test</span><span class="op" id="7512601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512604">case</span>&nbsp;<span class="ident" id="7512609">test</span><span class="op" id="7512613">.</span><span class="ident" id="7512614">matches</span>&nbsp;<span class="op" id="7512622">!=</span>&nbsp;<span class="ident" id="7512625">nil</span>&nbsp;<span class="op" id="7512629">&amp;&amp;</span>&nbsp;<span class="ident" id="7512632">result</span>&nbsp;<span class="op" id="7512639">==</span>&nbsp;<span class="ident" id="7512642">nil</span><span class="op" id="7512645">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512649">t</span><span class="op" id="7512650">.</span><span class="ident" id="7512651">Errorf</span><span class="op" id="7512657">(</span><span class="string" id="7512658">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7512688">,</span>&nbsp;<span class="ident" id="7512690">test</span><span class="op" id="7512694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512697">case</span>&nbsp;<span class="builtinfunc" id="7512702">len</span><span class="op" id="7512705">(</span><span class="ident" id="7512706">test</span><span class="op" id="7512710">.</span><span class="ident" id="7512711">matches</span><span class="op" id="7512718">)</span>&nbsp;<span class="op" id="7512720">!=</span>&nbsp;<span class="builtinfunc" id="7512723">len</span><span class="op" id="7512726">(</span><span class="ident" id="7512727">result</span><span class="op" id="7512733">)</span><span class="op" id="7512734">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512738">t</span><span class="op" id="7512739">.</span><span class="ident" id="7512740">Errorf</span><span class="op" id="7512746">(</span><span class="string" id="7512747">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7512780">,</span>&nbsp;<span class="builtinfunc" id="7512782">len</span><span class="op" id="7512785">(</span><span class="ident" id="7512786">test</span><span class="op" id="7512790">.</span><span class="ident" id="7512791">matches</span><span class="op" id="7512798">)</span><span class="op" id="7512799">,</span>&nbsp;<span class="builtinfunc" id="7512801">len</span><span class="op" id="7512804">(</span><span class="ident" id="7512805">result</span><span class="op" id="7512811">)</span><span class="op" id="7512812">,</span>&nbsp;<span class="ident" id="7512814">test</span><span class="op" id="7512818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512821">case</span>&nbsp;<span class="ident" id="7512826">test</span><span class="op" id="7512830">.</span><span class="ident" id="7512831">matches</span>&nbsp;<span class="op" id="7512839">!=</span>&nbsp;<span class="ident" id="7512842">nil</span>&nbsp;<span class="op" id="7512846">&amp;&amp;</span>&nbsp;<span class="ident" id="7512849">result</span>&nbsp;<span class="op" id="7512856">!=</span>&nbsp;<span class="ident" id="7512859">nil</span><span class="op" id="7512862">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512866">for</span>&nbsp;<span class="ident" id="7512870">k</span><span class="op" id="7512871">,</span>&nbsp;<span class="ident" id="7512873">match</span>&nbsp;<span class="op" id="7512879">:=</span>&nbsp;<span class="keyword" id="7512882">range</span>&nbsp;<span class="ident" id="7512888">test</span><span class="op" id="7512892">.</span><span class="ident" id="7512893">matches</span>&nbsp;<span class="op" id="7512901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512906">testSubmatchIndices</span><span class="op" id="7512925">(</span><span class="ident" id="7512926">test</span><span class="op" id="7512930">,</span>&nbsp;<span class="ident" id="7512932">k</span><span class="op" id="7512933">,</span>&nbsp;<span class="ident" id="7512935">match</span><span class="op" id="7512940">,</span>&nbsp;<span class="ident" id="7512942">result</span><span class="op" id="7512948">[</span><span class="ident" id="7512949">k</span><span class="op" id="7512950">]</span><span class="op" id="7512951">,</span>&nbsp;<span class="ident" id="7512953">t</span><span class="op" id="7512954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512958">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512961">}</span><br>
<span class="lineno"></span><span class="op" id="7512963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7512966">func</span>&nbsp;<span class="ident" id="7512971">TestFindAllSubmatchIndex</span><span class="op" id="7512995">(</span><span class="ident" id="7512996">t</span>&nbsp;<span class="op" id="7512998">*</span><span class="ident" id="7512999">testing</span><span class="op" id="7513006">.</span><span class="ident" id="7513007">T</span><span class="op" id="7513008">)</span>&nbsp;<span class="op" id="7513010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513013">for</span>&nbsp;<span class="ident" id="7513017">_</span><span class="op" id="7513018">,</span>&nbsp;<span class="ident" id="7513020">test</span>&nbsp;<span class="op" id="7513025">:=</span>&nbsp;<span class="keyword" id="7513028">range</span>&nbsp;<span class="ident" id="7513034">findTests</span>&nbsp;<span class="op" id="7513044">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7513048">testFindAllSubmatchIndex</span><span class="op" id="7513072">(</span><span class="op" id="7513073">&amp;</span><span class="ident" id="7513074">test</span><span class="op" id="7513078">,</span>&nbsp;<span class="ident" id="7513080">MustCompile</span><span class="op" id="7513091">(</span><span class="ident" id="7513092">test</span><span class="op" id="7513096">.</span><span class="ident" id="7513097">pat</span><span class="op" id="7513100">)</span><span class="op" id="7513101">.</span><span class="ident" id="7513102">FindAllSubmatchIndex</span><span class="op" id="7513122">(</span><span class="op" id="7513123">[</span><span class="op" id="7513124">]</span><span class="builtintype" id="7513125">byte</span><span class="op" id="7513129">(</span><span class="ident" id="7513130">test</span><span class="op" id="7513134">.</span><span class="ident" id="7513135">text</span><span class="op" id="7513139">)</span><span class="op" id="7513140">,</span>&nbsp;<span class="op" id="7513142">-</span><span class="num" id="7513143">1</span><span class="op" id="7513144">)</span><span class="op" id="7513145">,</span>&nbsp;<span class="ident" id="7513147">t</span><span class="op" id="7513148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7513151">}</span><br>
<span class="lineno"></span><span class="op" id="7513153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7513156">func</span>&nbsp;<span class="ident" id="7513161">TestFindAllStringSubmatchIndex</span><span class="op" id="7513191">(</span><span class="ident" id="7513192">t</span>&nbsp;<span class="op" id="7513194">*</span><span class="ident" id="7513195">testing</span><span class="op" id="7513202">.</span><span class="ident" id="7513203">T</span><span class="op" id="7513204">)</span>&nbsp;<span class="op" id="7513206">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513209">for</span>&nbsp;<span class="ident" id="7513213">_</span><span class="op" id="7513214">,</span>&nbsp;<span class="ident" id="7513216">test</span>&nbsp;<span class="op" id="7513221">:=</span>&nbsp;<span class="keyword" id="7513224">range</span>&nbsp;<span class="ident" id="7513230">findTests</span>&nbsp;<span class="op" id="7513240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7513244">testFindAllSubmatchIndex</span><span class="op" id="7513268">(</span><span class="op" id="7513269">&amp;</span><span class="ident" id="7513270">test</span><span class="op" id="7513274">,</span>&nbsp;<span class="ident" id="7513276">MustCompile</span><span class="op" id="7513287">(</span><span class="ident" id="7513288">test</span><span class="op" id="7513292">.</span><span class="ident" id="7513293">pat</span><span class="op" id="7513296">)</span><span class="op" id="7513297">.</span><span class="ident" id="7513298">FindAllStringSubmatchIndex</span><span class="op" id="7513324">(</span><span class="ident" id="7513325">test</span><span class="op" id="7513329">.</span><span class="ident" id="7513330">text</span><span class="op" id="7513334">,</span>&nbsp;<span class="op" id="7513336">-</span><span class="num" id="7513337">1</span><span class="op" id="7513338">)</span><span class="op" id="7513339">,</span>&nbsp;<span class="ident" id="7513341">t</span><span class="op" id="7513342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7513345">}</span><br>
<span class="lineno"></span><span class="op" id="7513347">}</span>
</div>
</body>
</html>
