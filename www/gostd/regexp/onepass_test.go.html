<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html" class="current">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7171219">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7171275">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7171329">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7171380">package</span>&nbsp;<span class="ident" id="7171388">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7171396">import</span>&nbsp;<span class="op" id="7171403">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7171406">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7171417">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7171434">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7171444">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7171447">var</span>&nbsp;<span class="ident" id="7171451">runeMergeTests</span>&nbsp;<span class="op" id="7171466">=</span>&nbsp;<span class="op" id="7171468">[</span><span class="op" id="7171469">]</span><span class="keyword" id="7171470">struct</span>&nbsp;<span class="op" id="7171477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7171480">left</span><span class="op" id="7171484">,</span>&nbsp;<span class="ident" id="7171486">right</span><span class="op" id="7171491">,</span>&nbsp;<span class="ident" id="7171493">merged</span>&nbsp;<span class="op" id="7171500">[</span><span class="op" id="7171501">]</span><span class="builtintype" id="7171502">rune</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7171508">next</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171528">[</span><span class="op" id="7171529">]</span><span class="builtintype" id="7171530">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7171538">leftPC</span><span class="op" id="7171544">,</span>&nbsp;<span class="ident" id="7171546">rightPC</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7171558">uint32</span><br>
<span class="lineno"></span><span class="op" id="7171565">}</span><span class="op" id="7171566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7171573">//&nbsp;empty&nbsp;rhs</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171588">[</span><span class="op" id="7171589">]</span><span class="builtintype" id="7171590">rune</span><span class="op" id="7171594">{</span><span class="num" id="7171595">69</span><span class="op" id="7171597">,</span>&nbsp;<span class="num" id="7171599">69</span><span class="op" id="7171601">}</span><span class="op" id="7171602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171606">[</span><span class="op" id="7171607">]</span><span class="builtintype" id="7171608">rune</span><span class="op" id="7171612">{</span><span class="op" id="7171613">}</span><span class="op" id="7171614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171618">[</span><span class="op" id="7171619">]</span><span class="builtintype" id="7171620">rune</span><span class="op" id="7171624">{</span><span class="num" id="7171625">69</span><span class="op" id="7171627">,</span>&nbsp;<span class="num" id="7171629">69</span><span class="op" id="7171631">}</span><span class="op" id="7171632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171636">[</span><span class="op" id="7171637">]</span><span class="builtintype" id="7171638">uint32</span><span class="op" id="7171644">{</span><span class="num" id="7171645">1</span><span class="op" id="7171646">}</span><span class="op" id="7171647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7171651">1</span><span class="op" id="7171652">,</span>&nbsp;<span class="num" id="7171654">2</span><span class="op" id="7171655">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171658">}</span><span class="op" id="7171659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7171666">//&nbsp;identical&nbsp;runes,&nbsp;identical&nbsp;targets</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171706">[</span><span class="op" id="7171707">]</span><span class="builtintype" id="7171708">rune</span><span class="op" id="7171712">{</span><span class="num" id="7171713">69</span><span class="op" id="7171715">,</span>&nbsp;<span class="num" id="7171717">69</span><span class="op" id="7171719">}</span><span class="op" id="7171720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171724">[</span><span class="op" id="7171725">]</span><span class="builtintype" id="7171726">rune</span><span class="op" id="7171730">{</span><span class="num" id="7171731">69</span><span class="op" id="7171733">,</span>&nbsp;<span class="num" id="7171735">69</span><span class="op" id="7171737">}</span><span class="op" id="7171738">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171742">[</span><span class="op" id="7171743">]</span><span class="builtintype" id="7171744">rune</span><span class="op" id="7171748">{</span><span class="op" id="7171749">}</span><span class="op" id="7171750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171754">[</span><span class="op" id="7171755">]</span><span class="builtintype" id="7171756">uint32</span><span class="op" id="7171762">{</span><span class="ident" id="7171763">mergeFailed</span><span class="op" id="7171774">}</span><span class="op" id="7171775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7171779">1</span><span class="op" id="7171780">,</span>&nbsp;<span class="num" id="7171782">1</span><span class="op" id="7171783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171786">}</span><span class="op" id="7171787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171790">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7171794">//&nbsp;identical&nbsp;runes,&nbsp;different&nbsp;targets</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171834">[</span><span class="op" id="7171835">]</span><span class="builtintype" id="7171836">rune</span><span class="op" id="7171840">{</span><span class="num" id="7171841">69</span><span class="op" id="7171843">,</span>&nbsp;<span class="num" id="7171845">69</span><span class="op" id="7171847">}</span><span class="op" id="7171848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171852">[</span><span class="op" id="7171853">]</span><span class="builtintype" id="7171854">rune</span><span class="op" id="7171858">{</span><span class="num" id="7171859">69</span><span class="op" id="7171861">,</span>&nbsp;<span class="num" id="7171863">69</span><span class="op" id="7171865">}</span><span class="op" id="7171866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171870">[</span><span class="op" id="7171871">]</span><span class="builtintype" id="7171872">rune</span><span class="op" id="7171876">{</span><span class="op" id="7171877">}</span><span class="op" id="7171878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171882">[</span><span class="op" id="7171883">]</span><span class="builtintype" id="7171884">uint32</span><span class="op" id="7171890">{</span><span class="ident" id="7171891">mergeFailed</span><span class="op" id="7171902">}</span><span class="op" id="7171903">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7171907">1</span><span class="op" id="7171908">,</span>&nbsp;<span class="num" id="7171910">2</span><span class="op" id="7171911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171914">}</span><span class="op" id="7171915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7171922">//&nbsp;append&nbsp;right-first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171946">[</span><span class="op" id="7171947">]</span><span class="builtintype" id="7171948">rune</span><span class="op" id="7171952">{</span><span class="num" id="7171953">69</span><span class="op" id="7171955">,</span>&nbsp;<span class="num" id="7171957">69</span><span class="op" id="7171959">}</span><span class="op" id="7171960">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171964">[</span><span class="op" id="7171965">]</span><span class="builtintype" id="7171966">rune</span><span class="op" id="7171970">{</span><span class="num" id="7171971">71</span><span class="op" id="7171973">,</span>&nbsp;<span class="num" id="7171975">71</span><span class="op" id="7171977">}</span><span class="op" id="7171978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171982">[</span><span class="op" id="7171983">]</span><span class="builtintype" id="7171984">rune</span><span class="op" id="7171988">{</span><span class="num" id="7171989">69</span><span class="op" id="7171991">,</span>&nbsp;<span class="num" id="7171993">69</span><span class="op" id="7171995">,</span>&nbsp;<span class="num" id="7171997">71</span><span class="op" id="7171999">,</span>&nbsp;<span class="num" id="7172001">71</span><span class="op" id="7172003">}</span><span class="op" id="7172004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172008">[</span><span class="op" id="7172009">]</span><span class="builtintype" id="7172010">uint32</span><span class="op" id="7172016">{</span><span class="num" id="7172017">1</span><span class="op" id="7172018">,</span>&nbsp;<span class="num" id="7172020">2</span><span class="op" id="7172021">}</span><span class="op" id="7172022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7172026">1</span><span class="op" id="7172027">,</span>&nbsp;<span class="num" id="7172029">2</span><span class="op" id="7172030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172033">}</span><span class="op" id="7172034">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7172041">//&nbsp;append,&nbsp;left-first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172065">[</span><span class="op" id="7172066">]</span><span class="builtintype" id="7172067">rune</span><span class="op" id="7172071">{</span><span class="num" id="7172072">71</span><span class="op" id="7172074">,</span>&nbsp;<span class="num" id="7172076">71</span><span class="op" id="7172078">}</span><span class="op" id="7172079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172083">[</span><span class="op" id="7172084">]</span><span class="builtintype" id="7172085">rune</span><span class="op" id="7172089">{</span><span class="num" id="7172090">69</span><span class="op" id="7172092">,</span>&nbsp;<span class="num" id="7172094">69</span><span class="op" id="7172096">}</span><span class="op" id="7172097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172101">[</span><span class="op" id="7172102">]</span><span class="builtintype" id="7172103">rune</span><span class="op" id="7172107">{</span><span class="num" id="7172108">69</span><span class="op" id="7172110">,</span>&nbsp;<span class="num" id="7172112">69</span><span class="op" id="7172114">,</span>&nbsp;<span class="num" id="7172116">71</span><span class="op" id="7172118">,</span>&nbsp;<span class="num" id="7172120">71</span><span class="op" id="7172122">}</span><span class="op" id="7172123">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172127">[</span><span class="op" id="7172128">]</span><span class="builtintype" id="7172129">uint32</span><span class="op" id="7172135">{</span><span class="num" id="7172136">2</span><span class="op" id="7172137">,</span>&nbsp;<span class="num" id="7172139">1</span><span class="op" id="7172140">}</span><span class="op" id="7172141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7172145">1</span><span class="op" id="7172146">,</span>&nbsp;<span class="num" id="7172148">2</span><span class="op" id="7172149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172152">}</span><span class="op" id="7172153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7172160">//&nbsp;successful&nbsp;interleave</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172187">[</span><span class="op" id="7172188">]</span><span class="builtintype" id="7172189">rune</span><span class="op" id="7172193">{</span><span class="num" id="7172194">60</span><span class="op" id="7172196">,</span>&nbsp;<span class="num" id="7172198">60</span><span class="op" id="7172200">,</span>&nbsp;<span class="num" id="7172202">71</span><span class="op" id="7172204">,</span>&nbsp;<span class="num" id="7172206">71</span><span class="op" id="7172208">,</span>&nbsp;<span class="num" id="7172210">101</span><span class="op" id="7172213">,</span>&nbsp;<span class="num" id="7172215">101</span><span class="op" id="7172218">}</span><span class="op" id="7172219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172223">[</span><span class="op" id="7172224">]</span><span class="builtintype" id="7172225">rune</span><span class="op" id="7172229">{</span><span class="num" id="7172230">69</span><span class="op" id="7172232">,</span>&nbsp;<span class="num" id="7172234">69</span><span class="op" id="7172236">,</span>&nbsp;<span class="num" id="7172238">88</span><span class="op" id="7172240">,</span>&nbsp;<span class="num" id="7172242">88</span><span class="op" id="7172244">}</span><span class="op" id="7172245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172249">[</span><span class="op" id="7172250">]</span><span class="builtintype" id="7172251">rune</span><span class="op" id="7172255">{</span><span class="num" id="7172256">60</span><span class="op" id="7172258">,</span>&nbsp;<span class="num" id="7172260">60</span><span class="op" id="7172262">,</span>&nbsp;<span class="num" id="7172264">69</span><span class="op" id="7172266">,</span>&nbsp;<span class="num" id="7172268">69</span><span class="op" id="7172270">,</span>&nbsp;<span class="num" id="7172272">71</span><span class="op" id="7172274">,</span>&nbsp;<span class="num" id="7172276">71</span><span class="op" id="7172278">,</span>&nbsp;<span class="num" id="7172280">88</span><span class="op" id="7172282">,</span>&nbsp;<span class="num" id="7172284">88</span><span class="op" id="7172286">,</span>&nbsp;<span class="num" id="7172288">101</span><span class="op" id="7172291">,</span>&nbsp;<span class="num" id="7172293">101</span><span class="op" id="7172296">}</span><span class="op" id="7172297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172301">[</span><span class="op" id="7172302">]</span><span class="builtintype" id="7172303">uint32</span><span class="op" id="7172309">{</span><span class="num" id="7172310">1</span><span class="op" id="7172311">,</span>&nbsp;<span class="num" id="7172313">2</span><span class="op" id="7172314">,</span>&nbsp;<span class="num" id="7172316">1</span><span class="op" id="7172317">,</span>&nbsp;<span class="num" id="7172319">2</span><span class="op" id="7172320">,</span>&nbsp;<span class="num" id="7172322">1</span><span class="op" id="7172323">}</span><span class="op" id="7172324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7172328">1</span><span class="op" id="7172329">,</span>&nbsp;<span class="num" id="7172331">2</span><span class="op" id="7172332">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172335">}</span><span class="op" id="7172336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7172343">//&nbsp;left&nbsp;surrounds&nbsp;right</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172369">[</span><span class="op" id="7172370">]</span><span class="builtintype" id="7172371">rune</span><span class="op" id="7172375">{</span><span class="num" id="7172376">69</span><span class="op" id="7172378">,</span>&nbsp;<span class="num" id="7172380">74</span><span class="op" id="7172382">}</span><span class="op" id="7172383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172387">[</span><span class="op" id="7172388">]</span><span class="builtintype" id="7172389">rune</span><span class="op" id="7172393">{</span><span class="num" id="7172394">71</span><span class="op" id="7172396">,</span>&nbsp;<span class="num" id="7172398">71</span><span class="op" id="7172400">}</span><span class="op" id="7172401">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172405">[</span><span class="op" id="7172406">]</span><span class="builtintype" id="7172407">rune</span><span class="op" id="7172411">{</span><span class="op" id="7172412">}</span><span class="op" id="7172413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172417">[</span><span class="op" id="7172418">]</span><span class="builtintype" id="7172419">uint32</span><span class="op" id="7172425">{</span><span class="ident" id="7172426">mergeFailed</span><span class="op" id="7172437">}</span><span class="op" id="7172438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7172442">1</span><span class="op" id="7172443">,</span>&nbsp;<span class="num" id="7172445">2</span><span class="op" id="7172446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172449">}</span><span class="op" id="7172450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172453">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7172457">//&nbsp;right&nbsp;surrounds&nbsp;left</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172483">[</span><span class="op" id="7172484">]</span><span class="builtintype" id="7172485">rune</span><span class="op" id="7172489">{</span><span class="num" id="7172490">69</span><span class="op" id="7172492">,</span>&nbsp;<span class="num" id="7172494">74</span><span class="op" id="7172496">}</span><span class="op" id="7172497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172501">[</span><span class="op" id="7172502">]</span><span class="builtintype" id="7172503">rune</span><span class="op" id="7172507">{</span><span class="num" id="7172508">68</span><span class="op" id="7172510">,</span>&nbsp;<span class="num" id="7172512">75</span><span class="op" id="7172514">}</span><span class="op" id="7172515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172519">[</span><span class="op" id="7172520">]</span><span class="builtintype" id="7172521">rune</span><span class="op" id="7172525">{</span><span class="op" id="7172526">}</span><span class="op" id="7172527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172531">[</span><span class="op" id="7172532">]</span><span class="builtintype" id="7172533">uint32</span><span class="op" id="7172539">{</span><span class="ident" id="7172540">mergeFailed</span><span class="op" id="7172551">}</span><span class="op" id="7172552">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7172556">1</span><span class="op" id="7172557">,</span>&nbsp;<span class="num" id="7172559">2</span><span class="op" id="7172560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172563">}</span><span class="op" id="7172564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7172571">//&nbsp;overlap&nbsp;at&nbsp;interval&nbsp;begin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172602">[</span><span class="op" id="7172603">]</span><span class="builtintype" id="7172604">rune</span><span class="op" id="7172608">{</span><span class="num" id="7172609">69</span><span class="op" id="7172611">,</span>&nbsp;<span class="num" id="7172613">74</span><span class="op" id="7172615">}</span><span class="op" id="7172616">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172620">[</span><span class="op" id="7172621">]</span><span class="builtintype" id="7172622">rune</span><span class="op" id="7172626">{</span><span class="num" id="7172627">74</span><span class="op" id="7172629">,</span>&nbsp;<span class="num" id="7172631">75</span><span class="op" id="7172633">}</span><span class="op" id="7172634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172638">[</span><span class="op" id="7172639">]</span><span class="builtintype" id="7172640">rune</span><span class="op" id="7172644">{</span><span class="op" id="7172645">}</span><span class="op" id="7172646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172650">[</span><span class="op" id="7172651">]</span><span class="builtintype" id="7172652">uint32</span><span class="op" id="7172658">{</span><span class="ident" id="7172659">mergeFailed</span><span class="op" id="7172670">}</span><span class="op" id="7172671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7172675">1</span><span class="op" id="7172676">,</span>&nbsp;<span class="num" id="7172678">2</span><span class="op" id="7172679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172682">}</span><span class="op" id="7172683">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7172690">//&nbsp;overlap&nbsp;ar&nbsp;interval&nbsp;end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172719">[</span><span class="op" id="7172720">]</span><span class="builtintype" id="7172721">rune</span><span class="op" id="7172725">{</span><span class="num" id="7172726">69</span><span class="op" id="7172728">,</span>&nbsp;<span class="num" id="7172730">74</span><span class="op" id="7172732">}</span><span class="op" id="7172733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172737">[</span><span class="op" id="7172738">]</span><span class="builtintype" id="7172739">rune</span><span class="op" id="7172743">{</span><span class="num" id="7172744">65</span><span class="op" id="7172746">,</span>&nbsp;<span class="num" id="7172748">69</span><span class="op" id="7172750">}</span><span class="op" id="7172751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172755">[</span><span class="op" id="7172756">]</span><span class="builtintype" id="7172757">rune</span><span class="op" id="7172761">{</span><span class="op" id="7172762">}</span><span class="op" id="7172763">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172767">[</span><span class="op" id="7172768">]</span><span class="builtintype" id="7172769">uint32</span><span class="op" id="7172775">{</span><span class="ident" id="7172776">mergeFailed</span><span class="op" id="7172787">}</span><span class="op" id="7172788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7172792">1</span><span class="op" id="7172793">,</span>&nbsp;<span class="num" id="7172795">2</span><span class="op" id="7172796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172799">}</span><span class="op" id="7172800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7172807">//&nbsp;overlap&nbsp;from&nbsp;above</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172831">[</span><span class="op" id="7172832">]</span><span class="builtintype" id="7172833">rune</span><span class="op" id="7172837">{</span><span class="num" id="7172838">69</span><span class="op" id="7172840">,</span>&nbsp;<span class="num" id="7172842">74</span><span class="op" id="7172844">}</span><span class="op" id="7172845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172849">[</span><span class="op" id="7172850">]</span><span class="builtintype" id="7172851">rune</span><span class="op" id="7172855">{</span><span class="num" id="7172856">71</span><span class="op" id="7172858">,</span>&nbsp;<span class="num" id="7172860">74</span><span class="op" id="7172862">}</span><span class="op" id="7172863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172867">[</span><span class="op" id="7172868">]</span><span class="builtintype" id="7172869">rune</span><span class="op" id="7172873">{</span><span class="op" id="7172874">}</span><span class="op" id="7172875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172879">[</span><span class="op" id="7172880">]</span><span class="builtintype" id="7172881">uint32</span><span class="op" id="7172887">{</span><span class="ident" id="7172888">mergeFailed</span><span class="op" id="7172899">}</span><span class="op" id="7172900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7172904">1</span><span class="op" id="7172905">,</span>&nbsp;<span class="num" id="7172907">2</span><span class="op" id="7172908">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172911">}</span><span class="op" id="7172912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7172919">//&nbsp;overlap&nbsp;from&nbsp;below</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172943">[</span><span class="op" id="7172944">]</span><span class="builtintype" id="7172945">rune</span><span class="op" id="7172949">{</span><span class="num" id="7172950">69</span><span class="op" id="7172952">,</span>&nbsp;<span class="num" id="7172954">74</span><span class="op" id="7172956">}</span><span class="op" id="7172957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172961">[</span><span class="op" id="7172962">]</span><span class="builtintype" id="7172963">rune</span><span class="op" id="7172967">{</span><span class="num" id="7172968">65</span><span class="op" id="7172970">,</span>&nbsp;<span class="num" id="7172972">71</span><span class="op" id="7172974">}</span><span class="op" id="7172975">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172979">[</span><span class="op" id="7172980">]</span><span class="builtintype" id="7172981">rune</span><span class="op" id="7172985">{</span><span class="op" id="7172986">}</span><span class="op" id="7172987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172991">[</span><span class="op" id="7172992">]</span><span class="builtintype" id="7172993">uint32</span><span class="op" id="7172999">{</span><span class="ident" id="7173000">mergeFailed</span><span class="op" id="7173011">}</span><span class="op" id="7173012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7173016">1</span><span class="op" id="7173017">,</span>&nbsp;<span class="num" id="7173019">2</span><span class="op" id="7173020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173023">}</span><span class="op" id="7173024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173027">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7173031">//&nbsp;out&nbsp;of&nbsp;order&nbsp;[]rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173056">[</span><span class="op" id="7173057">]</span><span class="builtintype" id="7173058">rune</span><span class="op" id="7173062">{</span><span class="num" id="7173063">69</span><span class="op" id="7173065">,</span>&nbsp;<span class="num" id="7173067">74</span><span class="op" id="7173069">,</span>&nbsp;<span class="num" id="7173071">60</span><span class="op" id="7173073">,</span>&nbsp;<span class="num" id="7173075">65</span><span class="op" id="7173077">}</span><span class="op" id="7173078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173082">[</span><span class="op" id="7173083">]</span><span class="builtintype" id="7173084">rune</span><span class="op" id="7173088">{</span><span class="num" id="7173089">66</span><span class="op" id="7173091">,</span>&nbsp;<span class="num" id="7173093">67</span><span class="op" id="7173095">}</span><span class="op" id="7173096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173100">[</span><span class="op" id="7173101">]</span><span class="builtintype" id="7173102">rune</span><span class="op" id="7173106">{</span><span class="op" id="7173107">}</span><span class="op" id="7173108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173112">[</span><span class="op" id="7173113">]</span><span class="builtintype" id="7173114">uint32</span><span class="op" id="7173120">{</span><span class="ident" id="7173121">mergeFailed</span><span class="op" id="7173132">}</span><span class="op" id="7173133">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7173137">1</span><span class="op" id="7173138">,</span>&nbsp;<span class="num" id="7173140">2</span><span class="op" id="7173141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173144">}</span><span class="op" id="7173145">,</span><br>
<span class="lineno"></span><span class="op" id="7173147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7173150">func</span>&nbsp;<span class="ident" id="7173155">TestMergeRuneSet</span><span class="op" id="7173171">(</span><span class="ident" id="7173172">t</span>&nbsp;<span class="op" id="7173174">*</span><span class="ident" id="7173175">testing</span><span class="op" id="7173182">.</span><span class="ident" id="7173183">T</span><span class="op" id="7173184">)</span>&nbsp;<span class="op" id="7173186">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7173189">for</span>&nbsp;<span class="ident" id="7173193">ix</span><span class="op" id="7173195">,</span>&nbsp;<span class="ident" id="7173197">test</span>&nbsp;<span class="op" id="7173202">:=</span>&nbsp;<span class="keyword" id="7173205">range</span>&nbsp;<span class="ident" id="7173211">runeMergeTests</span>&nbsp;<span class="op" id="7173226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7173230">merged</span><span class="op" id="7173236">,</span>&nbsp;<span class="ident" id="7173238">next</span>&nbsp;<span class="op" id="7173243">:=</span>&nbsp;<span class="ident" id="7173246">mergeRuneSets</span><span class="op" id="7173259">(</span><span class="op" id="7173260">&amp;</span><span class="ident" id="7173261">test</span><span class="op" id="7173265">.</span><span class="ident" id="7173266">left</span><span class="op" id="7173270">,</span>&nbsp;<span class="op" id="7173272">&amp;</span><span class="ident" id="7173273">test</span><span class="op" id="7173277">.</span><span class="ident" id="7173278">right</span><span class="op" id="7173283">,</span>&nbsp;<span class="ident" id="7173285">test</span><span class="op" id="7173289">.</span><span class="ident" id="7173290">leftPC</span><span class="op" id="7173296">,</span>&nbsp;<span class="ident" id="7173298">test</span><span class="op" id="7173302">.</span><span class="ident" id="7173303">rightPC</span><span class="op" id="7173310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7173314">if</span>&nbsp;<span class="op" id="7173317">!</span><span class="ident" id="7173318">reflect</span><span class="op" id="7173325">.</span><span class="ident" id="7173326">DeepEqual</span><span class="op" id="7173335">(</span><span class="ident" id="7173336">merged</span><span class="op" id="7173342">,</span>&nbsp;<span class="ident" id="7173344">test</span><span class="op" id="7173348">.</span><span class="ident" id="7173349">merged</span><span class="op" id="7173355">)</span>&nbsp;<span class="op" id="7173357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7173362">t</span><span class="op" id="7173363">.</span><span class="ident" id="7173364">Errorf</span><span class="op" id="7173370">(</span><span class="string" id="7173371">&#34;mergeRuneSet&nbsp;:%d&nbsp;(%v,&nbsp;%v)&nbsp;merged\n&nbsp;have\n%v\nwant\n%v&#34;</span><span class="op" id="7173426">,</span>&nbsp;<span class="ident" id="7173428">ix</span><span class="op" id="7173430">,</span>&nbsp;<span class="ident" id="7173432">test</span><span class="op" id="7173436">.</span><span class="ident" id="7173437">left</span><span class="op" id="7173441">,</span>&nbsp;<span class="ident" id="7173443">test</span><span class="op" id="7173447">.</span><span class="ident" id="7173448">right</span><span class="op" id="7173453">,</span>&nbsp;<span class="ident" id="7173455">merged</span><span class="op" id="7173461">,</span>&nbsp;<span class="ident" id="7173463">test</span><span class="op" id="7173467">.</span><span class="ident" id="7173468">merged</span><span class="op" id="7173474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173478">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7173482">if</span>&nbsp;<span class="op" id="7173485">!</span><span class="ident" id="7173486">reflect</span><span class="op" id="7173493">.</span><span class="ident" id="7173494">DeepEqual</span><span class="op" id="7173503">(</span><span class="ident" id="7173504">next</span><span class="op" id="7173508">,</span>&nbsp;<span class="ident" id="7173510">test</span><span class="op" id="7173514">.</span><span class="ident" id="7173515">next</span><span class="op" id="7173519">)</span>&nbsp;<span class="op" id="7173521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7173526">t</span><span class="op" id="7173527">.</span><span class="ident" id="7173528">Errorf</span><span class="op" id="7173534">(</span><span class="string" id="7173535">&#34;mergeRuneSet&nbsp;:%d(%v,&nbsp;%v)&nbsp;next\n&nbsp;have\n%v\nwant\n%v&#34;</span><span class="op" id="7173587">,</span>&nbsp;<span class="ident" id="7173589">ix</span><span class="op" id="7173591">,</span>&nbsp;<span class="ident" id="7173593">test</span><span class="op" id="7173597">.</span><span class="ident" id="7173598">left</span><span class="op" id="7173602">,</span>&nbsp;<span class="ident" id="7173604">test</span><span class="op" id="7173608">.</span><span class="ident" id="7173609">right</span><span class="op" id="7173614">,</span>&nbsp;<span class="ident" id="7173616">next</span><span class="op" id="7173620">,</span>&nbsp;<span class="ident" id="7173622">test</span><span class="op" id="7173626">.</span><span class="ident" id="7173627">next</span><span class="op" id="7173631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173638">}</span><br>
<span class="lineno"></span><span class="op" id="7173640">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7173643">const</span>&nbsp;<span class="ident" id="7173649">noStr</span>&nbsp;<span class="op" id="7173655">=</span>&nbsp;<span class="string" id="7173657">`!`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7173662">var</span>&nbsp;<span class="ident" id="7173666">onePass</span>&nbsp;<span class="op" id="7173674">=</span>&nbsp;<span class="op" id="7173676">&amp;</span><span class="ident" id="7173677">onePassProg</span><span class="op" id="7173688">{</span><span class="op" id="7173689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7173692">var</span>&nbsp;<span class="ident" id="7173696">onePassTests</span>&nbsp;<span class="op" id="7173709">=</span>&nbsp;<span class="op" id="7173711">[</span><span class="op" id="7173712">]</span><span class="keyword" id="7173713">struct</span>&nbsp;<span class="op" id="7173720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7173723">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7173731">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7173739">onePass</span>&nbsp;<span class="op" id="7173747">*</span><span class="ident" id="7173748">onePassProg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7173761">prog</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7173769">string</span><br>
<span class="lineno"></span><span class="op" id="7173776">}</span><span class="op" id="7173777">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173780">{</span><span class="string" id="7173781">`^(?:a|(?:a*))$`</span><span class="op" id="7173797">,</span>&nbsp;<span class="ident" id="7173799">notOnePass</span><span class="op" id="7173809">,</span>&nbsp;<span class="ident" id="7173811">noStr</span><span class="op" id="7173816">}</span><span class="op" id="7173817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173820">{</span><span class="string" id="7173821">`^(?:(a)|(?:a*))$`</span><span class="op" id="7173839">,</span>&nbsp;<span class="ident" id="7173841">notOnePass</span><span class="op" id="7173851">,</span>&nbsp;<span class="ident" id="7173853">noStr</span><span class="op" id="7173858">}</span><span class="op" id="7173859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173862">{</span><span class="string" id="7173863">`^(?:(?:(?:.(?:$))?))$`</span><span class="op" id="7173886">,</span>&nbsp;<span class="ident" id="7173888">onePass</span><span class="op" id="7173895">,</span>&nbsp;<span class="string" id="7173897">`a`</span><span class="op" id="7173900">}</span><span class="op" id="7173901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173904">{</span><span class="string" id="7173905">`^abcd$`</span><span class="op" id="7173913">,</span>&nbsp;<span class="ident" id="7173915">onePass</span><span class="op" id="7173922">,</span>&nbsp;<span class="string" id="7173924">`abcd`</span><span class="op" id="7173930">}</span><span class="op" id="7173931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173934">{</span><span class="string" id="7173935">`^abcd$`</span><span class="op" id="7173943">,</span>&nbsp;<span class="ident" id="7173945">onePass</span><span class="op" id="7173952">,</span>&nbsp;<span class="string" id="7173954">`abcde`</span><span class="op" id="7173961">}</span><span class="op" id="7173962">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173965">{</span><span class="string" id="7173966">`^(?:(?:a{0,})*?)$`</span><span class="op" id="7173985">,</span>&nbsp;<span class="ident" id="7173987">onePass</span><span class="op" id="7173994">,</span>&nbsp;<span class="string" id="7173996">`a`</span><span class="op" id="7173999">}</span><span class="op" id="7174000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174003">{</span><span class="string" id="7174004">`^(?:(?:a+)*)$`</span><span class="op" id="7174019">,</span>&nbsp;<span class="ident" id="7174021">onePass</span><span class="op" id="7174028">,</span>&nbsp;<span class="string" id="7174030">``</span><span class="op" id="7174032">}</span><span class="op" id="7174033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174036">{</span><span class="string" id="7174037">`^(?:(?:a|(?:aa)))$`</span><span class="op" id="7174057">,</span>&nbsp;<span class="ident" id="7174059">onePass</span><span class="op" id="7174066">,</span>&nbsp;<span class="string" id="7174068">``</span><span class="op" id="7174070">}</span><span class="op" id="7174071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174074">{</span><span class="string" id="7174075">`^(?:[^\s\S])$`</span><span class="op" id="7174090">,</span>&nbsp;<span class="ident" id="7174092">onePass</span><span class="op" id="7174099">,</span>&nbsp;<span class="string" id="7174101">``</span><span class="op" id="7174103">}</span><span class="op" id="7174104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174107">{</span><span class="string" id="7174108">`^(?:(?:a{3,4}){0,})$`</span><span class="op" id="7174130">,</span>&nbsp;<span class="ident" id="7174132">notOnePass</span><span class="op" id="7174142">,</span>&nbsp;<span class="string" id="7174144">`aaaaaa`</span><span class="op" id="7174152">}</span><span class="op" id="7174153">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174156">{</span><span class="string" id="7174157">`^(?:(?:a+)*)$`</span><span class="op" id="7174172">,</span>&nbsp;<span class="ident" id="7174174">onePass</span><span class="op" id="7174181">,</span>&nbsp;<span class="string" id="7174183">`a`</span><span class="op" id="7174186">}</span><span class="op" id="7174187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174190">{</span><span class="string" id="7174191">`^(?:(?:(?:a*)+))$`</span><span class="op" id="7174210">,</span>&nbsp;<span class="ident" id="7174212">onePass</span><span class="op" id="7174219">,</span>&nbsp;<span class="ident" id="7174221">noStr</span><span class="op" id="7174226">}</span><span class="op" id="7174227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174230">{</span><span class="string" id="7174231">`^(?:(?:a+)*)$`</span><span class="op" id="7174246">,</span>&nbsp;<span class="ident" id="7174248">onePass</span><span class="op" id="7174255">,</span>&nbsp;<span class="string" id="7174257">``</span><span class="op" id="7174259">}</span><span class="op" id="7174260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174263">{</span><span class="string" id="7174264">`^[a-c]+$`</span><span class="op" id="7174274">,</span>&nbsp;<span class="ident" id="7174276">onePass</span><span class="op" id="7174283">,</span>&nbsp;<span class="string" id="7174285">`abc`</span><span class="op" id="7174290">}</span><span class="op" id="7174291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174294">{</span><span class="string" id="7174295">`^[a-c]*$`</span><span class="op" id="7174305">,</span>&nbsp;<span class="ident" id="7174307">onePass</span><span class="op" id="7174314">,</span>&nbsp;<span class="string" id="7174316">`abcdabc`</span><span class="op" id="7174325">}</span><span class="op" id="7174326">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174329">{</span><span class="string" id="7174330">`^(?:a*)$`</span><span class="op" id="7174340">,</span>&nbsp;<span class="ident" id="7174342">onePass</span><span class="op" id="7174349">,</span>&nbsp;<span class="string" id="7174351">`aaaaaaa`</span><span class="op" id="7174360">}</span><span class="op" id="7174361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174364">{</span><span class="string" id="7174365">`^(?:(?:aa)|a)$`</span><span class="op" id="7174381">,</span>&nbsp;<span class="ident" id="7174383">onePass</span><span class="op" id="7174390">,</span>&nbsp;<span class="string" id="7174392">`a`</span><span class="op" id="7174395">}</span><span class="op" id="7174396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174399">{</span><span class="string" id="7174400">`^[a-c]*`</span><span class="op" id="7174409">,</span>&nbsp;<span class="ident" id="7174411">notOnePass</span><span class="op" id="7174421">,</span>&nbsp;<span class="string" id="7174423">`abcdabc`</span><span class="op" id="7174432">}</span><span class="op" id="7174433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174436">{</span><span class="string" id="7174437">`^[a-c]*$`</span><span class="op" id="7174447">,</span>&nbsp;<span class="ident" id="7174449">onePass</span><span class="op" id="7174456">,</span>&nbsp;<span class="string" id="7174458">`abc`</span><span class="op" id="7174463">}</span><span class="op" id="7174464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174467">{</span><span class="string" id="7174468">`^...$`</span><span class="op" id="7174475">,</span>&nbsp;<span class="ident" id="7174477">onePass</span><span class="op" id="7174484">,</span>&nbsp;<span class="string" id="7174486">``</span><span class="op" id="7174488">}</span><span class="op" id="7174489">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174492">{</span><span class="string" id="7174493">`^(?:a|(?:aa))$`</span><span class="op" id="7174509">,</span>&nbsp;<span class="ident" id="7174511">onePass</span><span class="op" id="7174518">,</span>&nbsp;<span class="string" id="7174520">`a`</span><span class="op" id="7174523">}</span><span class="op" id="7174524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174527">{</span><span class="string" id="7174528">`^[a-c]*`</span><span class="op" id="7174537">,</span>&nbsp;<span class="ident" id="7174539">notOnePass</span><span class="op" id="7174549">,</span>&nbsp;<span class="string" id="7174551">`abcabc`</span><span class="op" id="7174559">}</span><span class="op" id="7174560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174563">{</span><span class="string" id="7174564">`^a((b))c$`</span><span class="op" id="7174575">,</span>&nbsp;<span class="ident" id="7174577">onePass</span><span class="op" id="7174584">,</span>&nbsp;<span class="ident" id="7174586">noStr</span><span class="op" id="7174591">}</span><span class="op" id="7174592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174595">{</span><span class="string" id="7174596">`^a.[l-nA-Cg-j]?e$`</span><span class="op" id="7174615">,</span>&nbsp;<span class="ident" id="7174617">onePass</span><span class="op" id="7174624">,</span>&nbsp;<span class="ident" id="7174626">noStr</span><span class="op" id="7174631">}</span><span class="op" id="7174632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174635">{</span><span class="string" id="7174636">`^a((b))$`</span><span class="op" id="7174646">,</span>&nbsp;<span class="ident" id="7174648">onePass</span><span class="op" id="7174655">,</span>&nbsp;<span class="ident" id="7174657">noStr</span><span class="op" id="7174662">}</span><span class="op" id="7174663">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174666">{</span><span class="string" id="7174667">`^a(?:(b)|(c))c$`</span><span class="op" id="7174684">,</span>&nbsp;<span class="ident" id="7174686">onePass</span><span class="op" id="7174693">,</span>&nbsp;<span class="ident" id="7174695">noStr</span><span class="op" id="7174700">}</span><span class="op" id="7174701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174704">{</span><span class="string" id="7174705">`^a(?:(b*)|(c))c$`</span><span class="op" id="7174723">,</span>&nbsp;<span class="ident" id="7174725">notOnePass</span><span class="op" id="7174735">,</span>&nbsp;<span class="ident" id="7174737">noStr</span><span class="op" id="7174742">}</span><span class="op" id="7174743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174746">{</span><span class="string" id="7174747">`^a(?:b|c)$`</span><span class="op" id="7174759">,</span>&nbsp;<span class="ident" id="7174761">onePass</span><span class="op" id="7174768">,</span>&nbsp;<span class="ident" id="7174770">noStr</span><span class="op" id="7174775">}</span><span class="op" id="7174776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174779">{</span><span class="string" id="7174780">`^a(?:b?|c)$`</span><span class="op" id="7174793">,</span>&nbsp;<span class="ident" id="7174795">onePass</span><span class="op" id="7174802">,</span>&nbsp;<span class="ident" id="7174804">noStr</span><span class="op" id="7174809">}</span><span class="op" id="7174810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174813">{</span><span class="string" id="7174814">`^a(?:b?|c?)$`</span><span class="op" id="7174828">,</span>&nbsp;<span class="ident" id="7174830">notOnePass</span><span class="op" id="7174840">,</span>&nbsp;<span class="ident" id="7174842">noStr</span><span class="op" id="7174847">}</span><span class="op" id="7174848">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174851">{</span><span class="string" id="7174852">`^a(?:b?|c+)$`</span><span class="op" id="7174866">,</span>&nbsp;<span class="ident" id="7174868">onePass</span><span class="op" id="7174875">,</span>&nbsp;<span class="ident" id="7174877">noStr</span><span class="op" id="7174882">}</span><span class="op" id="7174883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174886">{</span><span class="string" id="7174887">`^a(?:b+|(bc))d$`</span><span class="op" id="7174904">,</span>&nbsp;<span class="ident" id="7174906">notOnePass</span><span class="op" id="7174916">,</span>&nbsp;<span class="ident" id="7174918">noStr</span><span class="op" id="7174923">}</span><span class="op" id="7174924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174927">{</span><span class="string" id="7174928">`^a(?:bc)+$`</span><span class="op" id="7174940">,</span>&nbsp;<span class="ident" id="7174942">onePass</span><span class="op" id="7174949">,</span>&nbsp;<span class="ident" id="7174951">noStr</span><span class="op" id="7174956">}</span><span class="op" id="7174957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174960">{</span><span class="string" id="7174961">`^a(?:[bcd])+$`</span><span class="op" id="7174976">,</span>&nbsp;<span class="ident" id="7174978">onePass</span><span class="op" id="7174985">,</span>&nbsp;<span class="ident" id="7174987">noStr</span><span class="op" id="7174992">}</span><span class="op" id="7174993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174996">{</span><span class="string" id="7174997">`^a((?:[bcd])+)$`</span><span class="op" id="7175014">,</span>&nbsp;<span class="ident" id="7175016">onePass</span><span class="op" id="7175023">,</span>&nbsp;<span class="ident" id="7175025">noStr</span><span class="op" id="7175030">}</span><span class="op" id="7175031">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175034">{</span><span class="string" id="7175035">`^a(:?b|c)*d$`</span><span class="op" id="7175049">,</span>&nbsp;<span class="ident" id="7175051">onePass</span><span class="op" id="7175058">,</span>&nbsp;<span class="string" id="7175060">`abbbccbbcbbd&#34;`</span><span class="op" id="7175075">}</span><span class="op" id="7175076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175079">{</span><span class="string" id="7175080">`^.bc(d|e)*$`</span><span class="op" id="7175093">,</span>&nbsp;<span class="ident" id="7175095">onePass</span><span class="op" id="7175102">,</span>&nbsp;<span class="string" id="7175104">`abcddddddeeeededd`</span><span class="op" id="7175123">}</span><span class="op" id="7175124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175127">{</span><span class="string" id="7175128">`^(?:(?:aa)|.)$`</span><span class="op" id="7175144">,</span>&nbsp;<span class="ident" id="7175146">notOnePass</span><span class="op" id="7175156">,</span>&nbsp;<span class="string" id="7175158">`a`</span><span class="op" id="7175161">}</span><span class="op" id="7175162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175165">{</span><span class="string" id="7175166">`^(?:(?:a{1,2}){1,2})$`</span><span class="op" id="7175189">,</span>&nbsp;<span class="ident" id="7175191">notOnePass</span><span class="op" id="7175201">,</span>&nbsp;<span class="string" id="7175203">`aaaa`</span><span class="op" id="7175209">}</span><span class="op" id="7175210">,</span><br>
<span class="lineno"></span><span class="op" id="7175212">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="7175215">func</span>&nbsp;<span class="ident" id="7175220">TestCompileOnePass</span><span class="op" id="7175238">(</span><span class="ident" id="7175239">t</span>&nbsp;<span class="op" id="7175241">*</span><span class="ident" id="7175242">testing</span><span class="op" id="7175249">.</span><span class="ident" id="7175250">T</span><span class="op" id="7175251">)</span>&nbsp;<span class="op" id="7175253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175256">var</span>&nbsp;<span class="op" id="7175260">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175264">p</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7175268">*</span><span class="ident" id="7175269">syntax</span><span class="op" id="7175275">.</span><span class="ident" id="7175276">Prog</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175283">re</span>&nbsp;&nbsp;<span class="op" id="7175287">*</span><span class="ident" id="7175288">syntax</span><span class="op" id="7175294">.</span><span class="ident" id="7175295">Regexp</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175304">err</span>&nbsp;<span class="builtintype" id="7175308">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175318">for</span>&nbsp;<span class="ident" id="7175322">_</span><span class="op" id="7175323">,</span>&nbsp;<span class="ident" id="7175325">test</span>&nbsp;<span class="op" id="7175330">:=</span>&nbsp;<span class="keyword" id="7175333">range</span>&nbsp;<span class="ident" id="7175339">onePassTests</span>&nbsp;<span class="op" id="7175352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175356">if</span>&nbsp;<span class="ident" id="7175359">re</span><span class="op" id="7175361">,</span>&nbsp;<span class="ident" id="7175363">err</span>&nbsp;<span class="op" id="7175367">=</span>&nbsp;<span class="ident" id="7175369">syntax</span><span class="op" id="7175375">.</span><span class="ident" id="7175376">Parse</span><span class="op" id="7175381">(</span><span class="ident" id="7175382">test</span><span class="op" id="7175386">.</span><span class="ident" id="7175387">re</span><span class="op" id="7175389">,</span>&nbsp;<span class="ident" id="7175391">syntax</span><span class="op" id="7175397">.</span><span class="ident" id="7175398">Perl</span><span class="op" id="7175402">)</span><span class="op" id="7175403">;</span>&nbsp;<span class="ident" id="7175405">err</span>&nbsp;<span class="op" id="7175409">!=</span>&nbsp;<span class="builtintype" id="7175412">nil</span>&nbsp;<span class="op" id="7175416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175421">t</span><span class="op" id="7175422">.</span><span class="ident" id="7175423">Errorf</span><span class="op" id="7175429">(</span><span class="string" id="7175430">&#34;Parse(%q)&nbsp;got&nbsp;err:%s,&nbsp;want&nbsp;success&#34;</span><span class="op" id="7175466">,</span>&nbsp;<span class="ident" id="7175468">test</span><span class="op" id="7175472">.</span><span class="ident" id="7175473">re</span><span class="op" id="7175475">,</span>&nbsp;<span class="ident" id="7175477">err</span><span class="op" id="7175480">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175485">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7175500">//&nbsp;needs&nbsp;to&nbsp;be&nbsp;done&nbsp;before&nbsp;compile...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175540">re</span>&nbsp;<span class="op" id="7175543">=</span>&nbsp;<span class="ident" id="7175545">re</span><span class="op" id="7175547">.</span><span class="ident" id="7175548">Simplify</span><span class="op" id="7175556">(</span><span class="op" id="7175557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175561">if</span>&nbsp;<span class="ident" id="7175564">p</span><span class="op" id="7175565">,</span>&nbsp;<span class="ident" id="7175567">err</span>&nbsp;<span class="op" id="7175571">=</span>&nbsp;<span class="ident" id="7175573">syntax</span><span class="op" id="7175579">.</span><span class="ident" id="7175580">Compile</span><span class="op" id="7175587">(</span><span class="ident" id="7175588">re</span><span class="op" id="7175590">)</span><span class="op" id="7175591">;</span>&nbsp;<span class="ident" id="7175593">err</span>&nbsp;<span class="op" id="7175597">!=</span>&nbsp;<span class="builtintype" id="7175600">nil</span>&nbsp;<span class="op" id="7175604">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175609">t</span><span class="op" id="7175610">.</span><span class="ident" id="7175611">Errorf</span><span class="op" id="7175617">(</span><span class="string" id="7175618">&#34;Compile(%q)&nbsp;got&nbsp;err:%s,&nbsp;want&nbsp;success&#34;</span><span class="op" id="7175656">,</span>&nbsp;<span class="ident" id="7175658">test</span><span class="op" id="7175662">.</span><span class="ident" id="7175663">re</span><span class="op" id="7175665">,</span>&nbsp;<span class="ident" id="7175667">err</span><span class="op" id="7175670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175675">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175690">onePass</span>&nbsp;<span class="op" id="7175698">=</span>&nbsp;<span class="ident" id="7175700">compileOnePass</span><span class="op" id="7175714">(</span><span class="ident" id="7175715">p</span><span class="op" id="7175716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175720">if</span>&nbsp;<span class="op" id="7175723">(</span><span class="ident" id="7175724">onePass</span>&nbsp;<span class="op" id="7175732">==</span>&nbsp;<span class="ident" id="7175735">notOnePass</span><span class="op" id="7175745">)</span>&nbsp;<span class="op" id="7175747">!=</span>&nbsp;<span class="op" id="7175750">(</span><span class="ident" id="7175751">test</span><span class="op" id="7175755">.</span><span class="ident" id="7175756">onePass</span>&nbsp;<span class="op" id="7175764">==</span>&nbsp;<span class="ident" id="7175767">notOnePass</span><span class="op" id="7175777">)</span>&nbsp;<span class="op" id="7175779">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175784">t</span><span class="op" id="7175785">.</span><span class="ident" id="7175786">Errorf</span><span class="op" id="7175792">(</span><span class="string" id="7175793">&#34;CompileOnePass(%q)&nbsp;got&nbsp;%v,&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="7175833">,</span>&nbsp;<span class="ident" id="7175835">test</span><span class="op" id="7175839">.</span><span class="ident" id="7175840">re</span><span class="op" id="7175842">,</span>&nbsp;<span class="ident" id="7175844">onePass</span><span class="op" id="7175851">,</span>&nbsp;<span class="ident" id="7175853">test</span><span class="op" id="7175857">.</span><span class="ident" id="7175858">onePass</span><span class="op" id="7175865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175872">}</span><br>
<span class="lineno"></span><span class="op" id="7175874">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
