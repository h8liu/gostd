<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html" class="current">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8326677">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8326732">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8326786">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8326837">package</span>&nbsp;<span class="ident" id="8326845">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8326853">import</span>&nbsp;<span class="op" id="8326860">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326863">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326872">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326890">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326897">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326903">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326909">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326926">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326943">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326954">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326965">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8326976">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="8326991">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8326994">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="8327056">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="8327124">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="8327190">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="8327254">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="8327322">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="8327386">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="8327458">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="8327529">//</span><br>
<span class="lineno">30</span><span class="comment" id="8327532">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="8327587">//</span><br>
<span class="lineno"></span><span class="comment" id="8327590">//&nbsp;&nbsp;&nbsp;&nbsp;strings</span><br>
<span class="lineno"></span><span class="comment" id="8327601">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="8327610">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="8327620">//&nbsp;&nbsp;&nbsp;&nbsp;regexps</span><br>
<span class="lineno"></span><span class="comment" id="8327631">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="8327643">//&nbsp;&nbsp;&nbsp;&nbsp;0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="8327654">//&nbsp;&nbsp;&nbsp;&nbsp;-;-</span><br>
<span class="lineno"></span><span class="comment" id="8327661">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="8327688">//&nbsp;&nbsp;&nbsp;&nbsp;-;-</span><br>
<span class="lineno"></span><span class="comment" id="8327695">//&nbsp;&nbsp;&nbsp;&nbsp;-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="8327716">//</span><br>
<span class="lineno"></span><span class="comment" id="8327719">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="8327777">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="8327834">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="8327891">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="8327954">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="8328012">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="8328055">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="8328121">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="8328179">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="8328236">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="8328296">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="8328353">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="8328420">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="8328485">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="8328534">//</span><br>
<span class="lineno"></span><span class="comment" id="8328537">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="8328599">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="8328666">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="8328714">//</span><br>
<span class="lineno"></span><span class="comment" id="8328717">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="8328783">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="8328857">//</span><br>
<span class="lineno">65</span><span class="keyword" id="8328860">func</span>&nbsp;<span class="ident" id="8328865">TestRE2Search</span><span class="op" id="8328878">(</span><span class="ident" id="8328879">t</span>&nbsp;<span class="op" id="8328881">*</span><span class="ident" id="8328882">testing</span><span class="op" id="8328889">.</span><span class="ident" id="8328890">T</span><span class="op" id="8328891">)</span>&nbsp;<span class="op" id="8328893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8328896">testRE2</span><span class="op" id="8328903">(</span><span class="ident" id="8328904">t</span><span class="op" id="8328905">,</span>&nbsp;<span class="string" id="8328907">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="8328932">)</span><br>
<span class="lineno"></span><span class="op" id="8328934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8328937">func</span>&nbsp;<span class="ident" id="8328942">testRE2</span><span class="op" id="8328949">(</span><span class="ident" id="8328950">t</span>&nbsp;<span class="op" id="8328952">*</span><span class="ident" id="8328953">testing</span><span class="op" id="8328960">.</span><span class="ident" id="8328961">T</span><span class="op" id="8328962">,</span>&nbsp;<span class="ident" id="8328964">file</span>&nbsp;<span class="builtintype" id="8328969">string</span><span class="op" id="8328975">)</span>&nbsp;<span class="op" id="8328977">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8328980">f</span><span class="op" id="8328981">,</span>&nbsp;<span class="ident" id="8328983">err</span>&nbsp;<span class="op" id="8328987">:=</span>&nbsp;<span class="ident" id="8328990">os</span><span class="op" id="8328992">.</span><span class="ident" id="8328993">Open</span><span class="op" id="8328997">(</span><span class="ident" id="8328998">file</span><span class="op" id="8329002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329005">if</span>&nbsp;<span class="ident" id="8329008">err</span>&nbsp;<span class="op" id="8329012">!=</span>&nbsp;<span class="ident" id="8329015">nil</span>&nbsp;<span class="op" id="8329019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329023">t</span><span class="op" id="8329024">.</span><span class="ident" id="8329025">Fatal</span><span class="op" id="8329030">(</span><span class="ident" id="8329031">err</span><span class="op" id="8329034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8329037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329040">defer</span>&nbsp;<span class="ident" id="8329046">f</span><span class="op" id="8329047">.</span><span class="ident" id="8329048">Close</span><span class="op" id="8329053">(</span><span class="op" id="8329054">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329057">var</span>&nbsp;<span class="ident" id="8329061">txt</span>&nbsp;<span class="ident" id="8329065">io</span><span class="op" id="8329067">.</span><span class="ident" id="8329068">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329076">if</span>&nbsp;<span class="ident" id="8329079">strings</span><span class="op" id="8329086">.</span><span class="ident" id="8329087">HasSuffix</span><span class="op" id="8329096">(</span><span class="ident" id="8329097">file</span><span class="op" id="8329101">,</span>&nbsp;<span class="string" id="8329103">&#34;.bz2&#34;</span><span class="op" id="8329109">)</span>&nbsp;<span class="op" id="8329111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329115">z</span>&nbsp;<span class="op" id="8329117">:=</span>&nbsp;<span class="ident" id="8329120">bzip2</span><span class="op" id="8329125">.</span><span class="ident" id="8329126">NewReader</span><span class="op" id="8329135">(</span><span class="ident" id="8329136">f</span><span class="op" id="8329137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329141">txt</span>&nbsp;<span class="op" id="8329145">=</span>&nbsp;<span class="ident" id="8329147">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329151">file</span>&nbsp;<span class="op" id="8329156">=</span>&nbsp;<span class="ident" id="8329158">file</span><span class="op" id="8329162">[</span><span class="op" id="8329163">:</span><span class="builtinfunc" id="8329164">len</span><span class="op" id="8329167">(</span><span class="ident" id="8329168">file</span><span class="op" id="8329172">)</span><span class="op" id="8329173">-</span><span class="builtinfunc" id="8329174">len</span><span class="op" id="8329177">(</span><span class="string" id="8329178">&#34;.bz2&#34;</span><span class="op" id="8329184">)</span><span class="op" id="8329185">]</span>&nbsp;<span class="comment" id="8329187">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8329210">}</span>&nbsp;<span class="keyword" id="8329212">else</span>&nbsp;<span class="op" id="8329217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329221">txt</span>&nbsp;<span class="op" id="8329225">=</span>&nbsp;<span class="ident" id="8329227">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8329230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329233">lineno</span>&nbsp;<span class="op" id="8329240">:=</span>&nbsp;<span class="num" id="8329243">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329246">scanner</span>&nbsp;<span class="op" id="8329254">:=</span>&nbsp;<span class="ident" id="8329257">bufio</span><span class="op" id="8329262">.</span><span class="ident" id="8329263">NewScanner</span><span class="op" id="8329273">(</span><span class="ident" id="8329274">txt</span><span class="op" id="8329277">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329280">var</span>&nbsp;<span class="op" id="8329284">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329288">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8329298">[</span><span class="op" id="8329299">]</span><span class="builtintype" id="8329300">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329309">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8329319">[</span><span class="op" id="8329320">]</span><span class="builtintype" id="8329321">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329330">inStrings</span>&nbsp;<span class="builtintype" id="8329340">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329347">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8329357">*</span><span class="ident" id="8329358">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329367">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8329377">*</span><span class="ident" id="8329378">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329387">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8329397">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329403">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8329413">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8329418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329421">for</span>&nbsp;<span class="ident" id="8329425">lineno</span>&nbsp;<span class="op" id="8329432">:=</span>&nbsp;<span class="num" id="8329435">1</span><span class="op" id="8329436">;</span>&nbsp;<span class="ident" id="8329438">scanner</span><span class="op" id="8329445">.</span><span class="ident" id="8329446">Scan</span><span class="op" id="8329450">(</span><span class="op" id="8329451">)</span><span class="op" id="8329452">;</span>&nbsp;<span class="ident" id="8329454">lineno</span><span class="op" id="8329460">++</span>&nbsp;<span class="op" id="8329463">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329467">line</span>&nbsp;<span class="op" id="8329472">:=</span>&nbsp;<span class="ident" id="8329475">scanner</span><span class="op" id="8329482">.</span><span class="ident" id="8329483">Text</span><span class="op" id="8329487">(</span><span class="op" id="8329488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329492">switch</span>&nbsp;<span class="op" id="8329499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329503">case</span>&nbsp;<span class="ident" id="8329508">line</span>&nbsp;<span class="op" id="8329513">==</span>&nbsp;<span class="string" id="8329516">&#34;&#34;</span><span class="op" id="8329518">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329523">t</span><span class="op" id="8329524">.</span><span class="ident" id="8329525">Fatalf</span><span class="op" id="8329531">(</span><span class="string" id="8329532">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="8329562">,</span>&nbsp;<span class="ident" id="8329564">file</span><span class="op" id="8329568">,</span>&nbsp;<span class="ident" id="8329570">lineno</span><span class="op" id="8329576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329580">case</span>&nbsp;<span class="ident" id="8329585">line</span><span class="op" id="8329589">[</span><span class="num" id="8329590">0</span><span class="op" id="8329591">]</span>&nbsp;<span class="op" id="8329593">==</span>&nbsp;<span class="string" id="8329596">&#39;#&#39;</span><span class="op" id="8329599">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329604">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329615">case</span>&nbsp;<span class="string" id="8329620">&#39;A&#39;</span>&nbsp;<span class="op" id="8329624">&lt;=</span>&nbsp;<span class="ident" id="8329627">line</span><span class="op" id="8329631">[</span><span class="num" id="8329632">0</span><span class="op" id="8329633">]</span>&nbsp;<span class="op" id="8329635">&amp;&amp;</span>&nbsp;<span class="ident" id="8329638">line</span><span class="op" id="8329642">[</span><span class="num" id="8329643">0</span><span class="op" id="8329644">]</span>&nbsp;<span class="op" id="8329646">&lt;=</span>&nbsp;<span class="string" id="8329649">&#39;Z&#39;</span><span class="op" id="8329652">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8329657">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329674">t</span><span class="op" id="8329675">.</span><span class="ident" id="8329676">Logf</span><span class="op" id="8329680">(</span><span class="string" id="8329681">&#34;%s\n&#34;</span><span class="op" id="8329687">,</span>&nbsp;<span class="ident" id="8329689">line</span><span class="op" id="8329693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329698">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329709">case</span>&nbsp;<span class="ident" id="8329714">line</span>&nbsp;<span class="op" id="8329719">==</span>&nbsp;<span class="string" id="8329722">&#34;strings&#34;</span><span class="op" id="8329731">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329736">str</span>&nbsp;<span class="op" id="8329740">=</span>&nbsp;<span class="ident" id="8329742">str</span><span class="op" id="8329745">[</span><span class="op" id="8329746">:</span><span class="num" id="8329747">0</span><span class="op" id="8329748">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329753">inStrings</span>&nbsp;<span class="op" id="8329763">=</span>&nbsp;<span class="builtintype" id="8329765">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329772">case</span>&nbsp;<span class="ident" id="8329777">line</span>&nbsp;<span class="op" id="8329782">==</span>&nbsp;<span class="string" id="8329785">&#34;regexps&#34;</span><span class="op" id="8329794">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329799">inStrings</span>&nbsp;<span class="op" id="8329809">=</span>&nbsp;<span class="builtintype" id="8329811">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329819">case</span>&nbsp;<span class="ident" id="8329824">line</span><span class="op" id="8329828">[</span><span class="num" id="8329829">0</span><span class="op" id="8329830">]</span>&nbsp;<span class="op" id="8329832">==</span>&nbsp;<span class="string" id="8329835">&#39;&#34;&#39;</span><span class="op" id="8329838">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329843">q</span><span class="op" id="8329844">,</span>&nbsp;<span class="ident" id="8329846">err</span>&nbsp;<span class="op" id="8329850">:=</span>&nbsp;<span class="ident" id="8329853">strconv</span><span class="op" id="8329860">.</span><span class="ident" id="8329861">Unquote</span><span class="op" id="8329868">(</span><span class="ident" id="8329869">line</span><span class="op" id="8329873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8329878">if</span>&nbsp;<span class="ident" id="8329881">err</span>&nbsp;<span class="op" id="8329885">!=</span>&nbsp;<span class="ident" id="8329888">nil</span>&nbsp;<span class="op" id="8329892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8329898">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8329942">t</span><span class="op" id="8329943">.</span><span class="ident" id="8329944">Fatalf</span><span class="op" id="8329950">(</span><span class="string" id="8329951">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8329974">,</span>&nbsp;<span class="ident" id="8329976">file</span><span class="op" id="8329980">,</span>&nbsp;<span class="ident" id="8329982">lineno</span><span class="op" id="8329988">,</span>&nbsp;<span class="ident" id="8329990">line</span><span class="op" id="8329994">,</span>&nbsp;<span class="ident" id="8329996">err</span><span class="op" id="8329999">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8330004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330009">if</span>&nbsp;<span class="ident" id="8330012">inStrings</span>&nbsp;<span class="op" id="8330022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8330028">str</span>&nbsp;<span class="op" id="8330032">=</span>&nbsp;<span class="builtinfunc" id="8330034">append</span><span class="op" id="8330040">(</span><span class="ident" id="8330041">str</span><span class="op" id="8330044">,</span>&nbsp;<span class="ident" id="8330046">q</span><span class="op" id="8330047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330053">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8330065">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8330070">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330089">if</span>&nbsp;<span class="builtinfunc" id="8330092">len</span><span class="op" id="8330095">(</span><span class="ident" id="8330096">input</span><span class="op" id="8330101">)</span>&nbsp;<span class="op" id="8330103">!=</span>&nbsp;<span class="num" id="8330106">0</span>&nbsp;<span class="op" id="8330108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8330114">t</span><span class="op" id="8330115">.</span><span class="ident" id="8330116">Fatalf</span><span class="op" id="8330122">(</span><span class="string" id="8330123">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="8330176">,</span>&nbsp;<span class="ident" id="8330178">file</span><span class="op" id="8330182">,</span>&nbsp;<span class="ident" id="8330184">lineno</span><span class="op" id="8330190">,</span>&nbsp;<span class="builtinfunc" id="8330192">len</span><span class="op" id="8330195">(</span><span class="ident" id="8330196">input</span><span class="op" id="8330201">)</span><span class="op" id="8330202">,</span>&nbsp;<span class="ident" id="8330204">q</span><span class="op" id="8330205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8330210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8330215">re</span><span class="op" id="8330217">,</span>&nbsp;<span class="ident" id="8330219">err</span>&nbsp;<span class="op" id="8330223">=</span>&nbsp;<span class="ident" id="8330225">tryCompile</span><span class="op" id="8330235">(</span><span class="ident" id="8330236">q</span><span class="op" id="8330237">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330242">if</span>&nbsp;<span class="ident" id="8330245">err</span>&nbsp;<span class="op" id="8330249">!=</span>&nbsp;<span class="ident" id="8330252">nil</span>&nbsp;<span class="op" id="8330256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330262">if</span>&nbsp;<span class="ident" id="8330265">err</span><span class="op" id="8330268">.</span><span class="ident" id="8330269">Error</span><span class="op" id="8330274">(</span><span class="op" id="8330275">)</span>&nbsp;<span class="op" id="8330277">==</span>&nbsp;<span class="string" id="8330280">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="8330335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8330342">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330405">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8330418">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8330424">t</span><span class="op" id="8330425">.</span><span class="ident" id="8330426">Errorf</span><span class="op" id="8330432">(</span><span class="string" id="8330433">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="8330457">,</span>&nbsp;<span class="ident" id="8330459">file</span><span class="op" id="8330463">,</span>&nbsp;<span class="ident" id="8330465">lineno</span><span class="op" id="8330471">,</span>&nbsp;<span class="ident" id="8330473">q</span><span class="op" id="8330474">,</span>&nbsp;<span class="ident" id="8330476">err</span><span class="op" id="8330479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330485">if</span>&nbsp;<span class="ident" id="8330488">nfail</span><span class="op" id="8330493">++</span><span class="op" id="8330495">;</span>&nbsp;<span class="ident" id="8330497">nfail</span>&nbsp;<span class="op" id="8330503">&gt;=</span>&nbsp;<span class="num" id="8330506">100</span>&nbsp;<span class="op" id="8330510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8330517">t</span><span class="op" id="8330518">.</span><span class="ident" id="8330519">Fatalf</span><span class="op" id="8330525">(</span><span class="string" id="8330526">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8330552">,</span>&nbsp;<span class="ident" id="8330554">nfail</span><span class="op" id="8330559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8330565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330571">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8330583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8330588">full</span>&nbsp;<span class="op" id="8330593">:=</span>&nbsp;<span class="string" id="8330596">`\A(?:`</span>&nbsp;<span class="op" id="8330604">+</span>&nbsp;<span class="ident" id="8330606">q</span>&nbsp;<span class="op" id="8330608">+</span>&nbsp;<span class="string" id="8330610">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8330619">refull</span><span class="op" id="8330625">,</span>&nbsp;<span class="ident" id="8330627">err</span>&nbsp;<span class="op" id="8330631">=</span>&nbsp;<span class="ident" id="8330633">tryCompile</span><span class="op" id="8330643">(</span><span class="ident" id="8330644">full</span><span class="op" id="8330648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330653">if</span>&nbsp;<span class="ident" id="8330656">err</span>&nbsp;<span class="op" id="8330660">!=</span>&nbsp;<span class="ident" id="8330663">nil</span>&nbsp;<span class="op" id="8330667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8330673">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8330732">t</span><span class="op" id="8330733">.</span><span class="ident" id="8330734">Fatalf</span><span class="op" id="8330740">(</span><span class="string" id="8330741">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="8330770">,</span>&nbsp;<span class="ident" id="8330772">file</span><span class="op" id="8330776">,</span>&nbsp;<span class="ident" id="8330778">lineno</span><span class="op" id="8330784">,</span>&nbsp;<span class="ident" id="8330786">full</span><span class="op" id="8330790">,</span>&nbsp;<span class="ident" id="8330792">err</span><span class="op" id="8330795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8330800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8330805">input</span>&nbsp;<span class="op" id="8330811">=</span>&nbsp;<span class="ident" id="8330813">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330819">case</span>&nbsp;<span class="ident" id="8330824">line</span><span class="op" id="8330828">[</span><span class="num" id="8330829">0</span><span class="op" id="8330830">]</span>&nbsp;<span class="op" id="8330832">==</span>&nbsp;<span class="string" id="8330835">&#39;-&#39;</span>&nbsp;<span class="op" id="8330839">||</span>&nbsp;<span class="string" id="8330842">&#39;0&#39;</span>&nbsp;<span class="op" id="8330846">&lt;=</span>&nbsp;<span class="ident" id="8330849">line</span><span class="op" id="8330853">[</span><span class="num" id="8330854">0</span><span class="op" id="8330855">]</span>&nbsp;<span class="op" id="8330857">&amp;&amp;</span>&nbsp;<span class="ident" id="8330860">line</span><span class="op" id="8330864">[</span><span class="num" id="8330865">0</span><span class="op" id="8330866">]</span>&nbsp;<span class="op" id="8330868">&lt;=</span>&nbsp;<span class="string" id="8330871">&#39;9&#39;</span><span class="op" id="8330874">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8330879">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8330914">ncase</span><span class="op" id="8330919">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330925">if</span>&nbsp;<span class="ident" id="8330928">re</span>&nbsp;<span class="op" id="8330931">==</span>&nbsp;<span class="ident" id="8330934">nil</span>&nbsp;<span class="op" id="8330938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8330944">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8330984">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8330996">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8331001">if</span>&nbsp;<span class="builtinfunc" id="8331004">len</span><span class="op" id="8331007">(</span><span class="ident" id="8331008">input</span><span class="op" id="8331013">)</span>&nbsp;<span class="op" id="8331015">==</span>&nbsp;<span class="num" id="8331018">0</span>&nbsp;<span class="op" id="8331020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8331026">t</span><span class="op" id="8331027">.</span><span class="ident" id="8331028">Fatalf</span><span class="op" id="8331034">(</span><span class="string" id="8331035">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="8331075">,</span>&nbsp;<span class="ident" id="8331077">file</span><span class="op" id="8331081">,</span>&nbsp;<span class="ident" id="8331083">lineno</span><span class="op" id="8331089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8331094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8331099">var</span>&nbsp;<span class="ident" id="8331103">text</span>&nbsp;<span class="builtintype" id="8331108">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8331118">text</span><span class="op" id="8331122">,</span>&nbsp;<span class="ident" id="8331124">input</span>&nbsp;<span class="op" id="8331130">=</span>&nbsp;<span class="ident" id="8331132">input</span><span class="op" id="8331137">[</span><span class="num" id="8331138">0</span><span class="op" id="8331139">]</span><span class="op" id="8331140">,</span>&nbsp;<span class="ident" id="8331142">input</span><span class="op" id="8331147">[</span><span class="num" id="8331148">1</span><span class="op" id="8331149">:</span><span class="op" id="8331150">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8331155">if</span>&nbsp;<span class="op" id="8331158">!</span><span class="ident" id="8331159">isSingleBytes</span><span class="op" id="8331172">(</span><span class="ident" id="8331173">text</span><span class="op" id="8331177">)</span>&nbsp;<span class="op" id="8331179">&amp;&amp;</span>&nbsp;<span class="ident" id="8331182">strings</span><span class="op" id="8331189">.</span><span class="ident" id="8331190">Contains</span><span class="op" id="8331198">(</span><span class="ident" id="8331199">re</span><span class="op" id="8331201">.</span><span class="ident" id="8331202">String</span><span class="op" id="8331208">(</span><span class="op" id="8331209">)</span><span class="op" id="8331210">,</span>&nbsp;<span class="string" id="8331212">`\B`</span><span class="op" id="8331216">)</span>&nbsp;<span class="op" id="8331218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8331224">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8331271">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8331316">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8331364">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8331415">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8331458">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8331470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8331475">res</span>&nbsp;<span class="op" id="8331479">:=</span>&nbsp;<span class="ident" id="8331482">strings</span><span class="op" id="8331489">.</span><span class="ident" id="8331490">Split</span><span class="op" id="8331495">(</span><span class="ident" id="8331496">line</span><span class="op" id="8331500">,</span>&nbsp;<span class="string" id="8331502">&#34;;&#34;</span><span class="op" id="8331505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8331510">if</span>&nbsp;<span class="builtinfunc" id="8331513">len</span><span class="op" id="8331516">(</span><span class="ident" id="8331517">res</span><span class="op" id="8331520">)</span>&nbsp;<span class="op" id="8331522">!=</span>&nbsp;<span class="builtinfunc" id="8331525">len</span><span class="op" id="8331528">(</span><span class="ident" id="8331529">run</span><span class="op" id="8331532">)</span>&nbsp;<span class="op" id="8331534">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8331540">t</span><span class="op" id="8331541">.</span><span class="ident" id="8331542">Fatalf</span><span class="op" id="8331548">(</span><span class="string" id="8331549">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8331587">,</span>&nbsp;<span class="ident" id="8331589">file</span><span class="op" id="8331593">,</span>&nbsp;<span class="ident" id="8331595">lineno</span><span class="op" id="8331601">,</span>&nbsp;<span class="builtinfunc" id="8331603">len</span><span class="op" id="8331606">(</span><span class="ident" id="8331607">res</span><span class="op" id="8331610">)</span><span class="op" id="8331611">,</span>&nbsp;<span class="builtinfunc" id="8331613">len</span><span class="op" id="8331616">(</span><span class="ident" id="8331617">run</span><span class="op" id="8331620">)</span><span class="op" id="8331621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8331626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8331631">for</span>&nbsp;<span class="ident" id="8331635">i</span>&nbsp;<span class="op" id="8331637">:=</span>&nbsp;<span class="keyword" id="8331640">range</span>&nbsp;<span class="ident" id="8331646">res</span>&nbsp;<span class="op" id="8331650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8331656">have</span><span class="op" id="8331660">,</span>&nbsp;<span class="ident" id="8331662">suffix</span>&nbsp;<span class="op" id="8331669">:=</span>&nbsp;<span class="ident" id="8331672">run</span><span class="op" id="8331675">[</span><span class="ident" id="8331676">i</span><span class="op" id="8331677">]</span><span class="op" id="8331678">(</span><span class="ident" id="8331679">re</span><span class="op" id="8331681">,</span>&nbsp;<span class="ident" id="8331683">refull</span><span class="op" id="8331689">,</span>&nbsp;<span class="ident" id="8331691">text</span><span class="op" id="8331695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8331701">want</span>&nbsp;<span class="op" id="8331706">:=</span>&nbsp;<span class="ident" id="8331709">parseResult</span><span class="op" id="8331720">(</span><span class="ident" id="8331721">t</span><span class="op" id="8331722">,</span>&nbsp;<span class="ident" id="8331724">file</span><span class="op" id="8331728">,</span>&nbsp;<span class="ident" id="8331730">lineno</span><span class="op" id="8331736">,</span>&nbsp;<span class="ident" id="8331738">res</span><span class="op" id="8331741">[</span><span class="ident" id="8331742">i</span><span class="op" id="8331743">]</span><span class="op" id="8331744">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8331750">if</span>&nbsp;<span class="op" id="8331753">!</span><span class="ident" id="8331754">same</span><span class="op" id="8331758">(</span><span class="ident" id="8331759">have</span><span class="op" id="8331763">,</span>&nbsp;<span class="ident" id="8331765">want</span><span class="op" id="8331769">)</span>&nbsp;<span class="op" id="8331771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8331778">t</span><span class="op" id="8331779">.</span><span class="ident" id="8331780">Errorf</span><span class="op" id="8331786">(</span><span class="string" id="8331787">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8331838">,</span>&nbsp;<span class="ident" id="8331840">file</span><span class="op" id="8331844">,</span>&nbsp;<span class="ident" id="8331846">lineno</span><span class="op" id="8331852">,</span>&nbsp;<span class="ident" id="8331854">re</span><span class="op" id="8331856">,</span>&nbsp;<span class="ident" id="8331858">suffix</span><span class="op" id="8331864">,</span>&nbsp;<span class="ident" id="8331866">text</span><span class="op" id="8331870">,</span>&nbsp;<span class="ident" id="8331872">have</span><span class="op" id="8331876">,</span>&nbsp;<span class="ident" id="8331878">want</span><span class="op" id="8331882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8331889">if</span>&nbsp;<span class="ident" id="8331892">nfail</span><span class="op" id="8331897">++</span><span class="op" id="8331899">;</span>&nbsp;<span class="ident" id="8331901">nfail</span>&nbsp;<span class="op" id="8331907">&gt;=</span>&nbsp;<span class="num" id="8331910">100</span>&nbsp;<span class="op" id="8331914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8331922">t</span><span class="op" id="8331923">.</span><span class="ident" id="8331924">Fatalf</span><span class="op" id="8331930">(</span><span class="string" id="8331931">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8331957">,</span>&nbsp;<span class="ident" id="8331959">nfail</span><span class="op" id="8331964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8331971">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8331978">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8331991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8331997">b</span><span class="op" id="8331998">,</span>&nbsp;<span class="ident" id="8332000">suffix</span>&nbsp;<span class="op" id="8332007">:=</span>&nbsp;<span class="ident" id="8332010">match</span><span class="op" id="8332015">[</span><span class="ident" id="8332016">i</span><span class="op" id="8332017">]</span><span class="op" id="8332018">(</span><span class="ident" id="8332019">re</span><span class="op" id="8332021">,</span>&nbsp;<span class="ident" id="8332023">refull</span><span class="op" id="8332029">,</span>&nbsp;<span class="ident" id="8332031">text</span><span class="op" id="8332035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8332041">if</span>&nbsp;<span class="ident" id="8332044">b</span>&nbsp;<span class="op" id="8332046">!=</span>&nbsp;<span class="op" id="8332049">(</span><span class="ident" id="8332050">want</span>&nbsp;<span class="op" id="8332055">!=</span>&nbsp;<span class="ident" id="8332058">nil</span><span class="op" id="8332061">)</span>&nbsp;<span class="op" id="8332063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332070">t</span><span class="op" id="8332071">.</span><span class="ident" id="8332072">Errorf</span><span class="op" id="8332078">(</span><span class="string" id="8332079">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8332124">,</span>&nbsp;<span class="ident" id="8332126">file</span><span class="op" id="8332130">,</span>&nbsp;<span class="ident" id="8332132">lineno</span><span class="op" id="8332138">,</span>&nbsp;<span class="ident" id="8332140">re</span><span class="op" id="8332142">,</span>&nbsp;<span class="ident" id="8332144">suffix</span><span class="op" id="8332150">,</span>&nbsp;<span class="ident" id="8332152">text</span><span class="op" id="8332156">,</span>&nbsp;<span class="ident" id="8332158">b</span><span class="op" id="8332159">,</span>&nbsp;<span class="op" id="8332161">!</span><span class="ident" id="8332162">b</span><span class="op" id="8332163">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8332170">if</span>&nbsp;<span class="ident" id="8332173">nfail</span><span class="op" id="8332178">++</span><span class="op" id="8332180">;</span>&nbsp;<span class="ident" id="8332182">nfail</span>&nbsp;<span class="op" id="8332188">&gt;=</span>&nbsp;<span class="num" id="8332191">100</span>&nbsp;<span class="op" id="8332195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332203">t</span><span class="op" id="8332204">.</span><span class="ident" id="8332205">Fatalf</span><span class="op" id="8332211">(</span><span class="string" id="8332212">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8332238">,</span>&nbsp;<span class="ident" id="8332240">nfail</span><span class="op" id="8332245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8332252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8332259">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8332272">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8332277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8332282">default</span><span class="op" id="8332289">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332294">t</span><span class="op" id="8332295">.</span><span class="ident" id="8332296">Fatalf</span><span class="op" id="8332302">(</span><span class="string" id="8332303">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="8332329">,</span>&nbsp;<span class="ident" id="8332331">file</span><span class="op" id="8332335">,</span>&nbsp;<span class="ident" id="8332337">lineno</span><span class="op" id="8332343">,</span>&nbsp;<span class="ident" id="8332345">line</span><span class="op" id="8332349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8332353">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8332356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8332359">if</span>&nbsp;<span class="ident" id="8332362">err</span>&nbsp;<span class="op" id="8332366">:=</span>&nbsp;<span class="ident" id="8332369">scanner</span><span class="op" id="8332376">.</span><span class="ident" id="8332377">Err</span><span class="op" id="8332380">(</span><span class="op" id="8332381">)</span><span class="op" id="8332382">;</span>&nbsp;<span class="ident" id="8332384">err</span>&nbsp;<span class="op" id="8332388">!=</span>&nbsp;<span class="ident" id="8332391">nil</span>&nbsp;<span class="op" id="8332395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332399">t</span><span class="op" id="8332400">.</span><span class="ident" id="8332401">Fatalf</span><span class="op" id="8332407">(</span><span class="string" id="8332408">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="8332419">,</span>&nbsp;<span class="ident" id="8332421">file</span><span class="op" id="8332425">,</span>&nbsp;<span class="ident" id="8332427">lineno</span><span class="op" id="8332433">,</span>&nbsp;<span class="ident" id="8332435">err</span><span class="op" id="8332438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8332441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8332444">if</span>&nbsp;<span class="builtinfunc" id="8332447">len</span><span class="op" id="8332450">(</span><span class="ident" id="8332451">input</span><span class="op" id="8332456">)</span>&nbsp;<span class="op" id="8332458">!=</span>&nbsp;<span class="num" id="8332461">0</span>&nbsp;<span class="op" id="8332463">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332467">t</span><span class="op" id="8332468">.</span><span class="ident" id="8332469">Fatalf</span><span class="op" id="8332475">(</span><span class="string" id="8332476">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="8332525">,</span>&nbsp;<span class="ident" id="8332527">file</span><span class="op" id="8332531">,</span>&nbsp;<span class="ident" id="8332533">lineno</span><span class="op" id="8332539">,</span>&nbsp;<span class="builtinfunc" id="8332541">len</span><span class="op" id="8332544">(</span><span class="ident" id="8332545">input</span><span class="op" id="8332550">)</span><span class="op" id="8332551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8332554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332557">t</span><span class="op" id="8332558">.</span><span class="ident" id="8332559">Logf</span><span class="op" id="8332563">(</span><span class="string" id="8332564">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="8332581">,</span>&nbsp;<span class="ident" id="8332583">ncase</span><span class="op" id="8332588">)</span><br>
<span class="lineno"></span><span class="op" id="8332590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="8332593">var</span>&nbsp;<span class="ident" id="8332597">run</span>&nbsp;<span class="op" id="8332601">=</span>&nbsp;<span class="op" id="8332603">[</span><span class="op" id="8332604">]</span><span class="keyword" id="8332605">func</span><span class="op" id="8332609">(</span><span class="op" id="8332610">*</span><span class="ident" id="8332611">Regexp</span><span class="op" id="8332617">,</span>&nbsp;<span class="op" id="8332619">*</span><span class="ident" id="8332620">Regexp</span><span class="op" id="8332626">,</span>&nbsp;<span class="builtintype" id="8332628">string</span><span class="op" id="8332634">)</span>&nbsp;<span class="op" id="8332636">(</span><span class="op" id="8332637">[</span><span class="op" id="8332638">]</span><span class="builtintype" id="8332639">int</span><span class="op" id="8332642">,</span>&nbsp;<span class="builtintype" id="8332644">string</span><span class="op" id="8332650">)</span><span class="op" id="8332651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332654">runFull</span><span class="op" id="8332661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332664">runPartial</span><span class="op" id="8332674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332677">runFullLongest</span><span class="op" id="8332691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332694">runPartialLongest</span><span class="op" id="8332711">,</span><br>
<span class="lineno">205</span><span class="op" id="8332713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8332716">func</span>&nbsp;<span class="ident" id="8332721">runFull</span><span class="op" id="8332728">(</span><span class="ident" id="8332729">re</span><span class="op" id="8332731">,</span>&nbsp;<span class="ident" id="8332733">refull</span>&nbsp;<span class="op" id="8332740">*</span><span class="ident" id="8332741">Regexp</span><span class="op" id="8332747">,</span>&nbsp;<span class="ident" id="8332749">text</span>&nbsp;<span class="builtintype" id="8332754">string</span><span class="op" id="8332760">)</span>&nbsp;<span class="op" id="8332762">(</span><span class="op" id="8332763">[</span><span class="op" id="8332764">]</span><span class="builtintype" id="8332765">int</span><span class="op" id="8332768">,</span>&nbsp;<span class="builtintype" id="8332770">string</span><span class="op" id="8332776">)</span>&nbsp;<span class="op" id="8332778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332781">refull</span><span class="op" id="8332787">.</span><span class="ident" id="8332788">longest</span>&nbsp;<span class="op" id="8332796">=</span>&nbsp;<span class="builtintype" id="8332798">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8332805">return</span>&nbsp;<span class="ident" id="8332812">refull</span><span class="op" id="8332818">.</span><span class="ident" id="8332819">FindStringSubmatchIndex</span><span class="op" id="8332842">(</span><span class="ident" id="8332843">text</span><span class="op" id="8332847">)</span><span class="op" id="8332848">,</span>&nbsp;<span class="string" id="8332850">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="8332859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8332862">func</span>&nbsp;<span class="ident" id="8332867">runPartial</span><span class="op" id="8332877">(</span><span class="ident" id="8332878">re</span><span class="op" id="8332880">,</span>&nbsp;<span class="ident" id="8332882">refull</span>&nbsp;<span class="op" id="8332889">*</span><span class="ident" id="8332890">Regexp</span><span class="op" id="8332896">,</span>&nbsp;<span class="ident" id="8332898">text</span>&nbsp;<span class="builtintype" id="8332903">string</span><span class="op" id="8332909">)</span>&nbsp;<span class="op" id="8332911">(</span><span class="op" id="8332912">[</span><span class="op" id="8332913">]</span><span class="builtintype" id="8332914">int</span><span class="op" id="8332917">,</span>&nbsp;<span class="builtintype" id="8332919">string</span><span class="op" id="8332925">)</span>&nbsp;<span class="op" id="8332927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8332930">re</span><span class="op" id="8332932">.</span><span class="ident" id="8332933">longest</span>&nbsp;<span class="op" id="8332941">=</span>&nbsp;<span class="builtintype" id="8332943">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8332950">return</span>&nbsp;<span class="ident" id="8332957">re</span><span class="op" id="8332959">.</span><span class="ident" id="8332960">FindStringSubmatchIndex</span><span class="op" id="8332983">(</span><span class="ident" id="8332984">text</span><span class="op" id="8332988">)</span><span class="op" id="8332989">,</span>&nbsp;<span class="string" id="8332991">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="8332994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8332997">func</span>&nbsp;<span class="ident" id="8333002">runFullLongest</span><span class="op" id="8333016">(</span><span class="ident" id="8333017">re</span><span class="op" id="8333019">,</span>&nbsp;<span class="ident" id="8333021">refull</span>&nbsp;<span class="op" id="8333028">*</span><span class="ident" id="8333029">Regexp</span><span class="op" id="8333035">,</span>&nbsp;<span class="ident" id="8333037">text</span>&nbsp;<span class="builtintype" id="8333042">string</span><span class="op" id="8333048">)</span>&nbsp;<span class="op" id="8333050">(</span><span class="op" id="8333051">[</span><span class="op" id="8333052">]</span><span class="builtintype" id="8333053">int</span><span class="op" id="8333056">,</span>&nbsp;<span class="builtintype" id="8333058">string</span><span class="op" id="8333064">)</span>&nbsp;<span class="op" id="8333066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8333069">refull</span><span class="op" id="8333075">.</span><span class="ident" id="8333076">longest</span>&nbsp;<span class="op" id="8333084">=</span>&nbsp;<span class="builtintype" id="8333086">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8333092">return</span>&nbsp;<span class="ident" id="8333099">refull</span><span class="op" id="8333105">.</span><span class="ident" id="8333106">FindStringSubmatchIndex</span><span class="op" id="8333129">(</span><span class="ident" id="8333130">text</span><span class="op" id="8333134">)</span><span class="op" id="8333135">,</span>&nbsp;<span class="string" id="8333137">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="8333154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8333157">func</span>&nbsp;<span class="ident" id="8333162">runPartialLongest</span><span class="op" id="8333179">(</span><span class="ident" id="8333180">re</span><span class="op" id="8333182">,</span>&nbsp;<span class="ident" id="8333184">refull</span>&nbsp;<span class="op" id="8333191">*</span><span class="ident" id="8333192">Regexp</span><span class="op" id="8333198">,</span>&nbsp;<span class="ident" id="8333200">text</span>&nbsp;<span class="builtintype" id="8333205">string</span><span class="op" id="8333211">)</span>&nbsp;<span class="op" id="8333213">(</span><span class="op" id="8333214">[</span><span class="op" id="8333215">]</span><span class="builtintype" id="8333216">int</span><span class="op" id="8333219">,</span>&nbsp;<span class="builtintype" id="8333221">string</span><span class="op" id="8333227">)</span>&nbsp;<span class="op" id="8333229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8333232">re</span><span class="op" id="8333234">.</span><span class="ident" id="8333235">longest</span>&nbsp;<span class="op" id="8333243">=</span>&nbsp;<span class="builtintype" id="8333245">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8333251">return</span>&nbsp;<span class="ident" id="8333258">re</span><span class="op" id="8333260">.</span><span class="ident" id="8333261">FindStringSubmatchIndex</span><span class="op" id="8333284">(</span><span class="ident" id="8333285">text</span><span class="op" id="8333289">)</span><span class="op" id="8333290">,</span>&nbsp;<span class="string" id="8333292">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="8333304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8333307">var</span>&nbsp;<span class="ident" id="8333311">match</span>&nbsp;<span class="op" id="8333317">=</span>&nbsp;<span class="op" id="8333319">[</span><span class="op" id="8333320">]</span><span class="keyword" id="8333321">func</span><span class="op" id="8333325">(</span><span class="op" id="8333326">*</span><span class="ident" id="8333327">Regexp</span><span class="op" id="8333333">,</span>&nbsp;<span class="op" id="8333335">*</span><span class="ident" id="8333336">Regexp</span><span class="op" id="8333342">,</span>&nbsp;<span class="builtintype" id="8333344">string</span><span class="op" id="8333350">)</span>&nbsp;<span class="op" id="8333352">(</span><span class="builtintype" id="8333353">bool</span><span class="op" id="8333357">,</span>&nbsp;<span class="builtintype" id="8333359">string</span><span class="op" id="8333365">)</span><span class="op" id="8333366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8333369">matchFull</span><span class="op" id="8333378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8333381">matchPartial</span><span class="op" id="8333393">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8333396">matchFullLongest</span><span class="op" id="8333412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8333415">matchPartialLongest</span><span class="op" id="8333434">,</span><br>
<span class="lineno"></span><span class="op" id="8333436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8333439">func</span>&nbsp;<span class="ident" id="8333444">matchFull</span><span class="op" id="8333453">(</span><span class="ident" id="8333454">re</span><span class="op" id="8333456">,</span>&nbsp;<span class="ident" id="8333458">refull</span>&nbsp;<span class="op" id="8333465">*</span><span class="ident" id="8333466">Regexp</span><span class="op" id="8333472">,</span>&nbsp;<span class="ident" id="8333474">text</span>&nbsp;<span class="builtintype" id="8333479">string</span><span class="op" id="8333485">)</span>&nbsp;<span class="op" id="8333487">(</span><span class="builtintype" id="8333488">bool</span><span class="op" id="8333492">,</span>&nbsp;<span class="builtintype" id="8333494">string</span><span class="op" id="8333500">)</span>&nbsp;<span class="op" id="8333502">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8333505">refull</span><span class="op" id="8333511">.</span><span class="ident" id="8333512">longest</span>&nbsp;<span class="op" id="8333520">=</span>&nbsp;<span class="builtintype" id="8333522">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8333529">return</span>&nbsp;<span class="ident" id="8333536">refull</span><span class="op" id="8333542">.</span><span class="ident" id="8333543">MatchString</span><span class="op" id="8333554">(</span><span class="ident" id="8333555">text</span><span class="op" id="8333559">)</span><span class="op" id="8333560">,</span>&nbsp;<span class="string" id="8333562">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="8333571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8333574">func</span>&nbsp;<span class="ident" id="8333579">matchPartial</span><span class="op" id="8333591">(</span><span class="ident" id="8333592">re</span><span class="op" id="8333594">,</span>&nbsp;<span class="ident" id="8333596">refull</span>&nbsp;<span class="op" id="8333603">*</span><span class="ident" id="8333604">Regexp</span><span class="op" id="8333610">,</span>&nbsp;<span class="ident" id="8333612">text</span>&nbsp;<span class="builtintype" id="8333617">string</span><span class="op" id="8333623">)</span>&nbsp;<span class="op" id="8333625">(</span><span class="builtintype" id="8333626">bool</span><span class="op" id="8333630">,</span>&nbsp;<span class="builtintype" id="8333632">string</span><span class="op" id="8333638">)</span>&nbsp;<span class="op" id="8333640">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8333643">re</span><span class="op" id="8333645">.</span><span class="ident" id="8333646">longest</span>&nbsp;<span class="op" id="8333654">=</span>&nbsp;<span class="builtintype" id="8333656">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8333663">return</span>&nbsp;<span class="ident" id="8333670">re</span><span class="op" id="8333672">.</span><span class="ident" id="8333673">MatchString</span><span class="op" id="8333684">(</span><span class="ident" id="8333685">text</span><span class="op" id="8333689">)</span><span class="op" id="8333690">,</span>&nbsp;<span class="string" id="8333692">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="8333695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8333698">func</span>&nbsp;<span class="ident" id="8333703">matchFullLongest</span><span class="op" id="8333719">(</span><span class="ident" id="8333720">re</span><span class="op" id="8333722">,</span>&nbsp;<span class="ident" id="8333724">refull</span>&nbsp;<span class="op" id="8333731">*</span><span class="ident" id="8333732">Regexp</span><span class="op" id="8333738">,</span>&nbsp;<span class="ident" id="8333740">text</span>&nbsp;<span class="builtintype" id="8333745">string</span><span class="op" id="8333751">)</span>&nbsp;<span class="op" id="8333753">(</span><span class="builtintype" id="8333754">bool</span><span class="op" id="8333758">,</span>&nbsp;<span class="builtintype" id="8333760">string</span><span class="op" id="8333766">)</span>&nbsp;<span class="op" id="8333768">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8333771">refull</span><span class="op" id="8333777">.</span><span class="ident" id="8333778">longest</span>&nbsp;<span class="op" id="8333786">=</span>&nbsp;<span class="builtintype" id="8333788">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8333794">return</span>&nbsp;<span class="ident" id="8333801">refull</span><span class="op" id="8333807">.</span><span class="ident" id="8333808">MatchString</span><span class="op" id="8333819">(</span><span class="ident" id="8333820">text</span><span class="op" id="8333824">)</span><span class="op" id="8333825">,</span>&nbsp;<span class="string" id="8333827">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="8333844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8333847">func</span>&nbsp;<span class="ident" id="8333852">matchPartialLongest</span><span class="op" id="8333871">(</span><span class="ident" id="8333872">re</span><span class="op" id="8333874">,</span>&nbsp;<span class="ident" id="8333876">refull</span>&nbsp;<span class="op" id="8333883">*</span><span class="ident" id="8333884">Regexp</span><span class="op" id="8333890">,</span>&nbsp;<span class="ident" id="8333892">text</span>&nbsp;<span class="builtintype" id="8333897">string</span><span class="op" id="8333903">)</span>&nbsp;<span class="op" id="8333905">(</span><span class="builtintype" id="8333906">bool</span><span class="op" id="8333910">,</span>&nbsp;<span class="builtintype" id="8333912">string</span><span class="op" id="8333918">)</span>&nbsp;<span class="op" id="8333920">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8333923">re</span><span class="op" id="8333925">.</span><span class="ident" id="8333926">longest</span>&nbsp;<span class="op" id="8333934">=</span>&nbsp;<span class="builtintype" id="8333936">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8333942">return</span>&nbsp;<span class="ident" id="8333949">re</span><span class="op" id="8333951">.</span><span class="ident" id="8333952">MatchString</span><span class="op" id="8333963">(</span><span class="ident" id="8333964">text</span><span class="op" id="8333968">)</span><span class="op" id="8333969">,</span>&nbsp;<span class="string" id="8333971">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="8333983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8333986">func</span>&nbsp;<span class="ident" id="8333991">isSingleBytes</span><span class="op" id="8334004">(</span><span class="ident" id="8334005">s</span>&nbsp;<span class="builtintype" id="8334007">string</span><span class="op" id="8334013">)</span>&nbsp;<span class="builtintype" id="8334015">bool</span>&nbsp;<span class="op" id="8334020">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334023">for</span>&nbsp;<span class="ident" id="8334027">_</span><span class="op" id="8334028">,</span>&nbsp;<span class="ident" id="8334030">c</span>&nbsp;<span class="op" id="8334032">:=</span>&nbsp;<span class="keyword" id="8334035">range</span>&nbsp;<span class="ident" id="8334041">s</span>&nbsp;<span class="op" id="8334043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334047">if</span>&nbsp;<span class="ident" id="8334050">c</span>&nbsp;<span class="op" id="8334052">&gt;=</span>&nbsp;<span class="ident" id="8334055">utf8</span><span class="op" id="8334059">.</span><span class="ident" id="8334060">RuneSelf</span>&nbsp;<span class="op" id="8334069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334074">return</span>&nbsp;<span class="builtintype" id="8334081">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8334089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8334092">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334095">return</span>&nbsp;<span class="builtintype" id="8334102">true</span><br>
<span class="lineno"></span><span class="op" id="8334107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8334110">func</span>&nbsp;<span class="ident" id="8334115">tryCompile</span><span class="op" id="8334125">(</span><span class="ident" id="8334126">s</span>&nbsp;<span class="builtintype" id="8334128">string</span><span class="op" id="8334134">)</span>&nbsp;<span class="op" id="8334136">(</span><span class="ident" id="8334137">re</span>&nbsp;<span class="op" id="8334140">*</span><span class="ident" id="8334141">Regexp</span><span class="op" id="8334147">,</span>&nbsp;<span class="ident" id="8334149">err</span>&nbsp;<span class="builtintype" id="8334153">error</span><span class="op" id="8334158">)</span>&nbsp;<span class="op" id="8334160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8334163">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334205">defer</span>&nbsp;<span class="keyword" id="8334211">func</span><span class="op" id="8334215">(</span><span class="op" id="8334216">)</span>&nbsp;<span class="op" id="8334218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334222">if</span>&nbsp;<span class="ident" id="8334225">r</span>&nbsp;<span class="op" id="8334227">:=</span>&nbsp;<span class="builtinfunc" id="8334230">recover</span><span class="op" id="8334237">(</span><span class="op" id="8334238">)</span><span class="op" id="8334239">;</span>&nbsp;<span class="ident" id="8334241">r</span>&nbsp;<span class="op" id="8334243">!=</span>&nbsp;<span class="ident" id="8334246">nil</span>&nbsp;<span class="op" id="8334250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334255">err</span>&nbsp;<span class="op" id="8334259">=</span>&nbsp;<span class="ident" id="8334261">fmt</span><span class="op" id="8334264">.</span><span class="ident" id="8334265">Errorf</span><span class="op" id="8334271">(</span><span class="string" id="8334272">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="8334283">,</span>&nbsp;<span class="ident" id="8334285">r</span><span class="op" id="8334286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8334290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8334293">}</span><span class="op" id="8334294">(</span><span class="op" id="8334295">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334298">return</span>&nbsp;<span class="ident" id="8334305">Compile</span><span class="op" id="8334312">(</span><span class="ident" id="8334313">s</span><span class="op" id="8334314">)</span><br>
<span class="lineno"></span><span class="op" id="8334316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8334319">func</span>&nbsp;<span class="ident" id="8334324">parseResult</span><span class="op" id="8334335">(</span><span class="ident" id="8334336">t</span>&nbsp;<span class="op" id="8334338">*</span><span class="ident" id="8334339">testing</span><span class="op" id="8334346">.</span><span class="ident" id="8334347">T</span><span class="op" id="8334348">,</span>&nbsp;<span class="ident" id="8334350">file</span>&nbsp;<span class="builtintype" id="8334355">string</span><span class="op" id="8334361">,</span>&nbsp;<span class="ident" id="8334363">lineno</span>&nbsp;<span class="builtintype" id="8334370">int</span><span class="op" id="8334373">,</span>&nbsp;<span class="ident" id="8334375">res</span>&nbsp;<span class="builtintype" id="8334379">string</span><span class="op" id="8334385">)</span>&nbsp;<span class="op" id="8334387">[</span><span class="op" id="8334388">]</span><span class="builtintype" id="8334389">int</span>&nbsp;<span class="op" id="8334393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8334396">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334431">if</span>&nbsp;<span class="ident" id="8334434">res</span>&nbsp;<span class="op" id="8334438">==</span>&nbsp;<span class="string" id="8334441">&#34;-&#34;</span>&nbsp;<span class="op" id="8334445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334449">return</span>&nbsp;<span class="ident" id="8334456">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8334461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8334464">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334512">n</span>&nbsp;<span class="op" id="8334514">:=</span>&nbsp;<span class="num" id="8334517">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334520">for</span>&nbsp;<span class="ident" id="8334524">j</span>&nbsp;<span class="op" id="8334526">:=</span>&nbsp;<span class="num" id="8334529">0</span><span class="op" id="8334530">;</span>&nbsp;<span class="ident" id="8334532">j</span>&nbsp;<span class="op" id="8334534">&lt;</span>&nbsp;<span class="builtinfunc" id="8334536">len</span><span class="op" id="8334539">(</span><span class="ident" id="8334540">res</span><span class="op" id="8334543">)</span><span class="op" id="8334544">;</span>&nbsp;<span class="ident" id="8334546">j</span><span class="op" id="8334547">++</span>&nbsp;<span class="op" id="8334550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334554">if</span>&nbsp;<span class="ident" id="8334557">res</span><span class="op" id="8334560">[</span><span class="ident" id="8334561">j</span><span class="op" id="8334562">]</span>&nbsp;<span class="op" id="8334564">==</span>&nbsp;<span class="string" id="8334567">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8334571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334576">n</span><span class="op" id="8334577">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8334582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8334585">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334588">out</span>&nbsp;<span class="op" id="8334592">:=</span>&nbsp;<span class="builtinfunc" id="8334595">make</span><span class="op" id="8334599">(</span><span class="op" id="8334600">[</span><span class="op" id="8334601">]</span><span class="builtintype" id="8334602">int</span><span class="op" id="8334605">,</span>&nbsp;<span class="num" id="8334607">2</span><span class="op" id="8334608">*</span><span class="ident" id="8334609">n</span><span class="op" id="8334610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334613">i</span>&nbsp;<span class="op" id="8334615">:=</span>&nbsp;<span class="num" id="8334618">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334621">n</span>&nbsp;<span class="op" id="8334623">=</span>&nbsp;<span class="num" id="8334625">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334628">for</span>&nbsp;<span class="ident" id="8334632">j</span>&nbsp;<span class="op" id="8334634">:=</span>&nbsp;<span class="num" id="8334637">0</span><span class="op" id="8334638">;</span>&nbsp;<span class="ident" id="8334640">j</span>&nbsp;<span class="op" id="8334642">&lt;=</span>&nbsp;<span class="builtinfunc" id="8334645">len</span><span class="op" id="8334648">(</span><span class="ident" id="8334649">res</span><span class="op" id="8334652">)</span><span class="op" id="8334653">;</span>&nbsp;<span class="ident" id="8334655">j</span><span class="op" id="8334656">++</span>&nbsp;<span class="op" id="8334659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334663">if</span>&nbsp;<span class="ident" id="8334666">j</span>&nbsp;<span class="op" id="8334668">==</span>&nbsp;<span class="builtinfunc" id="8334671">len</span><span class="op" id="8334674">(</span><span class="ident" id="8334675">res</span><span class="op" id="8334678">)</span>&nbsp;<span class="op" id="8334680">||</span>&nbsp;<span class="ident" id="8334683">res</span><span class="op" id="8334686">[</span><span class="ident" id="8334687">j</span><span class="op" id="8334688">]</span>&nbsp;<span class="op" id="8334690">==</span>&nbsp;<span class="string" id="8334693">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8334697">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8334702">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334753">pair</span>&nbsp;<span class="op" id="8334758">:=</span>&nbsp;<span class="ident" id="8334761">res</span><span class="op" id="8334764">[</span><span class="ident" id="8334765">i</span><span class="op" id="8334766">:</span><span class="ident" id="8334767">j</span><span class="op" id="8334768">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334773">if</span>&nbsp;<span class="ident" id="8334776">pair</span>&nbsp;<span class="op" id="8334781">==</span>&nbsp;<span class="string" id="8334784">&#34;-&#34;</span>&nbsp;<span class="op" id="8334788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334794">out</span><span class="op" id="8334797">[</span><span class="ident" id="8334798">n</span><span class="op" id="8334799">]</span>&nbsp;<span class="op" id="8334801">=</span>&nbsp;<span class="op" id="8334803">-</span><span class="num" id="8334804">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334810">out</span><span class="op" id="8334813">[</span><span class="ident" id="8334814">n</span><span class="op" id="8334815">+</span><span class="num" id="8334816">1</span><span class="op" id="8334817">]</span>&nbsp;<span class="op" id="8334819">=</span>&nbsp;<span class="op" id="8334821">-</span><span class="num" id="8334822">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8334827">}</span>&nbsp;<span class="keyword" id="8334829">else</span>&nbsp;<span class="op" id="8334834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334840">k</span>&nbsp;<span class="op" id="8334842">:=</span>&nbsp;<span class="ident" id="8334845">strings</span><span class="op" id="8334852">.</span><span class="ident" id="8334853">Index</span><span class="op" id="8334858">(</span><span class="ident" id="8334859">pair</span><span class="op" id="8334863">,</span>&nbsp;<span class="string" id="8334865">&#34;-&#34;</span><span class="op" id="8334868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8334874">if</span>&nbsp;<span class="ident" id="8334877">k</span>&nbsp;<span class="op" id="8334879">&lt;</span>&nbsp;<span class="num" id="8334881">0</span>&nbsp;<span class="op" id="8334883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334890">t</span><span class="op" id="8334891">.</span><span class="ident" id="8334892">Fatalf</span><span class="op" id="8334898">(</span><span class="string" id="8334899">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="8334923">,</span>&nbsp;<span class="ident" id="8334925">file</span><span class="op" id="8334929">,</span>&nbsp;<span class="ident" id="8334931">lineno</span><span class="op" id="8334937">,</span>&nbsp;<span class="ident" id="8334939">pair</span><span class="op" id="8334943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8334949">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334955">lo</span><span class="op" id="8334957">,</span>&nbsp;<span class="ident" id="8334959">err1</span>&nbsp;<span class="op" id="8334964">:=</span>&nbsp;<span class="ident" id="8334967">strconv</span><span class="op" id="8334974">.</span><span class="ident" id="8334975">Atoi</span><span class="op" id="8334979">(</span><span class="ident" id="8334980">pair</span><span class="op" id="8334984">[</span><span class="op" id="8334985">:</span><span class="ident" id="8334986">k</span><span class="op" id="8334987">]</span><span class="op" id="8334988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8334994">hi</span><span class="op" id="8334996">,</span>&nbsp;<span class="ident" id="8334998">err2</span>&nbsp;<span class="op" id="8335003">:=</span>&nbsp;<span class="ident" id="8335006">strconv</span><span class="op" id="8335013">.</span><span class="ident" id="8335014">Atoi</span><span class="op" id="8335018">(</span><span class="ident" id="8335019">pair</span><span class="op" id="8335023">[</span><span class="ident" id="8335024">k</span><span class="op" id="8335025">+</span><span class="num" id="8335026">1</span><span class="op" id="8335027">:</span><span class="op" id="8335028">]</span><span class="op" id="8335029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335035">if</span>&nbsp;<span class="ident" id="8335038">err1</span>&nbsp;<span class="op" id="8335043">!=</span>&nbsp;<span class="ident" id="8335046">nil</span>&nbsp;<span class="op" id="8335050">||</span>&nbsp;<span class="ident" id="8335053">err2</span>&nbsp;<span class="op" id="8335058">!=</span>&nbsp;<span class="ident" id="8335061">nil</span>&nbsp;<span class="op" id="8335065">||</span>&nbsp;<span class="ident" id="8335068">lo</span>&nbsp;<span class="op" id="8335071">&gt;</span>&nbsp;<span class="ident" id="8335073">hi</span>&nbsp;<span class="op" id="8335076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335083">t</span><span class="op" id="8335084">.</span><span class="ident" id="8335085">Fatalf</span><span class="op" id="8335091">(</span><span class="string" id="8335092">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="8335116">,</span>&nbsp;<span class="ident" id="8335118">file</span><span class="op" id="8335122">,</span>&nbsp;<span class="ident" id="8335124">lineno</span><span class="op" id="8335130">,</span>&nbsp;<span class="ident" id="8335132">pair</span><span class="op" id="8335136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335142">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335148">out</span><span class="op" id="8335151">[</span><span class="ident" id="8335152">n</span><span class="op" id="8335153">]</span>&nbsp;<span class="op" id="8335155">=</span>&nbsp;<span class="ident" id="8335157">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335164">out</span><span class="op" id="8335167">[</span><span class="ident" id="8335168">n</span><span class="op" id="8335169">+</span><span class="num" id="8335170">1</span><span class="op" id="8335171">]</span>&nbsp;<span class="op" id="8335173">=</span>&nbsp;<span class="ident" id="8335175">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335186">n</span>&nbsp;<span class="op" id="8335188">+=</span>&nbsp;<span class="num" id="8335191">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335196">i</span>&nbsp;<span class="op" id="8335198">=</span>&nbsp;<span class="ident" id="8335200">j</span>&nbsp;<span class="op" id="8335202">+</span>&nbsp;<span class="num" id="8335204">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335214">return</span>&nbsp;<span class="ident" id="8335221">out</span><br>
<span class="lineno"></span><span class="op" id="8335225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="8335228">func</span>&nbsp;<span class="ident" id="8335233">same</span><span class="op" id="8335237">(</span><span class="ident" id="8335238">x</span><span class="op" id="8335239">,</span>&nbsp;<span class="ident" id="8335241">y</span>&nbsp;<span class="op" id="8335243">[</span><span class="op" id="8335244">]</span><span class="builtintype" id="8335245">int</span><span class="op" id="8335248">)</span>&nbsp;<span class="builtintype" id="8335250">bool</span>&nbsp;<span class="op" id="8335255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335258">if</span>&nbsp;<span class="builtinfunc" id="8335261">len</span><span class="op" id="8335264">(</span><span class="ident" id="8335265">x</span><span class="op" id="8335266">)</span>&nbsp;<span class="op" id="8335268">!=</span>&nbsp;<span class="builtinfunc" id="8335271">len</span><span class="op" id="8335274">(</span><span class="ident" id="8335275">y</span><span class="op" id="8335276">)</span>&nbsp;<span class="op" id="8335278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335282">return</span>&nbsp;<span class="builtintype" id="8335289">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335299">for</span>&nbsp;<span class="ident" id="8335303">i</span><span class="op" id="8335304">,</span>&nbsp;<span class="ident" id="8335306">xi</span>&nbsp;<span class="op" id="8335309">:=</span>&nbsp;<span class="keyword" id="8335312">range</span>&nbsp;<span class="ident" id="8335318">x</span>&nbsp;<span class="op" id="8335320">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335324">if</span>&nbsp;<span class="ident" id="8335327">xi</span>&nbsp;<span class="op" id="8335330">!=</span>&nbsp;<span class="ident" id="8335333">y</span><span class="op" id="8335334">[</span><span class="ident" id="8335335">i</span><span class="op" id="8335336">]</span>&nbsp;<span class="op" id="8335338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335343">return</span>&nbsp;<span class="builtintype" id="8335350">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335364">return</span>&nbsp;<span class="builtintype" id="8335371">true</span><br>
<span class="lineno">325</span><span class="op" id="8335376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8335379">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8335436">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="8335496">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="8335548">func</span>&nbsp;<span class="ident" id="8335553">TestFowler</span><span class="op" id="8335563">(</span><span class="ident" id="8335564">t</span>&nbsp;<span class="op" id="8335566">*</span><span class="ident" id="8335567">testing</span><span class="op" id="8335574">.</span><span class="ident" id="8335575">T</span><span class="op" id="8335576">)</span>&nbsp;<span class="op" id="8335578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335581">files</span><span class="op" id="8335586">,</span>&nbsp;<span class="ident" id="8335588">err</span>&nbsp;<span class="op" id="8335592">:=</span>&nbsp;<span class="ident" id="8335595">filepath</span><span class="op" id="8335603">.</span><span class="ident" id="8335604">Glob</span><span class="op" id="8335608">(</span><span class="string" id="8335609">&#34;testdata/*.dat&#34;</span><span class="op" id="8335625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335628">if</span>&nbsp;<span class="ident" id="8335631">err</span>&nbsp;<span class="op" id="8335635">!=</span>&nbsp;<span class="ident" id="8335638">nil</span>&nbsp;<span class="op" id="8335642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335646">t</span><span class="op" id="8335647">.</span><span class="ident" id="8335648">Fatal</span><span class="op" id="8335653">(</span><span class="ident" id="8335654">err</span><span class="op" id="8335657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335660">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335663">for</span>&nbsp;<span class="ident" id="8335667">_</span><span class="op" id="8335668">,</span>&nbsp;<span class="ident" id="8335670">file</span>&nbsp;<span class="op" id="8335675">:=</span>&nbsp;<span class="keyword" id="8335678">range</span>&nbsp;<span class="ident" id="8335684">files</span>&nbsp;<span class="op" id="8335690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335694">t</span><span class="op" id="8335695">.</span><span class="ident" id="8335696">Log</span><span class="op" id="8335699">(</span><span class="ident" id="8335700">file</span><span class="op" id="8335704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335708">testFowler</span><span class="op" id="8335718">(</span><span class="ident" id="8335719">t</span><span class="op" id="8335720">,</span>&nbsp;<span class="ident" id="8335722">file</span><span class="op" id="8335726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335729">}</span><br>
<span class="lineno"></span><span class="op" id="8335731">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="8335734">var</span>&nbsp;<span class="ident" id="8335738">notab</span>&nbsp;<span class="op" id="8335744">=</span>&nbsp;<span class="ident" id="8335746">MustCompilePOSIX</span><span class="op" id="8335762">(</span><span class="string" id="8335763">`[^\t]+`</span><span class="op" id="8335771">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8335774">func</span>&nbsp;<span class="ident" id="8335779">testFowler</span><span class="op" id="8335789">(</span><span class="ident" id="8335790">t</span>&nbsp;<span class="op" id="8335792">*</span><span class="ident" id="8335793">testing</span><span class="op" id="8335800">.</span><span class="ident" id="8335801">T</span><span class="op" id="8335802">,</span>&nbsp;<span class="ident" id="8335804">file</span>&nbsp;<span class="builtintype" id="8335809">string</span><span class="op" id="8335815">)</span>&nbsp;<span class="op" id="8335817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335820">f</span><span class="op" id="8335821">,</span>&nbsp;<span class="ident" id="8335823">err</span>&nbsp;<span class="op" id="8335827">:=</span>&nbsp;<span class="ident" id="8335830">os</span><span class="op" id="8335832">.</span><span class="ident" id="8335833">Open</span><span class="op" id="8335837">(</span><span class="ident" id="8335838">file</span><span class="op" id="8335842">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335845">if</span>&nbsp;<span class="ident" id="8335848">err</span>&nbsp;<span class="op" id="8335852">!=</span>&nbsp;<span class="ident" id="8335855">nil</span>&nbsp;<span class="op" id="8335859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335863">t</span><span class="op" id="8335864">.</span><span class="ident" id="8335865">Error</span><span class="op" id="8335870">(</span><span class="ident" id="8335871">err</span><span class="op" id="8335874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335878">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335889">defer</span>&nbsp;<span class="ident" id="8335895">f</span><span class="op" id="8335896">.</span><span class="ident" id="8335897">Close</span><span class="op" id="8335902">(</span><span class="op" id="8335903">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335906">b</span>&nbsp;<span class="op" id="8335908">:=</span>&nbsp;<span class="ident" id="8335911">bufio</span><span class="op" id="8335916">.</span><span class="ident" id="8335917">NewReader</span><span class="op" id="8335926">(</span><span class="ident" id="8335927">f</span><span class="op" id="8335928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335931">lineno</span>&nbsp;<span class="op" id="8335938">:=</span>&nbsp;<span class="num" id="8335941">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335944">lastRegexp</span>&nbsp;<span class="op" id="8335955">:=</span>&nbsp;<span class="string" id="8335958">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="8335961">Reading</span><span class="op" id="8335968">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335971">for</span>&nbsp;<span class="op" id="8335975">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335979">lineno</span><span class="op" id="8335985">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335990">line</span><span class="op" id="8335994">,</span>&nbsp;<span class="ident" id="8335996">err</span>&nbsp;<span class="op" id="8336000">:=</span>&nbsp;<span class="ident" id="8336003">b</span><span class="op" id="8336004">.</span><span class="ident" id="8336005">ReadString</span><span class="op" id="8336015">(</span><span class="string" id="8336016">&#39;\n&#39;</span><span class="op" id="8336020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336024">if</span>&nbsp;<span class="ident" id="8336027">err</span>&nbsp;<span class="op" id="8336031">!=</span>&nbsp;<span class="ident" id="8336034">nil</span>&nbsp;<span class="op" id="8336038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336043">if</span>&nbsp;<span class="ident" id="8336046">err</span>&nbsp;<span class="op" id="8336050">!=</span>&nbsp;<span class="ident" id="8336053">io</span><span class="op" id="8336055">.</span><span class="ident" id="8336056">EOF</span>&nbsp;<span class="op" id="8336060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8336066">t</span><span class="op" id="8336067">.</span><span class="ident" id="8336068">Errorf</span><span class="op" id="8336074">(</span><span class="string" id="8336075">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="8336086">,</span>&nbsp;<span class="ident" id="8336088">file</span><span class="op" id="8336092">,</span>&nbsp;<span class="ident" id="8336094">lineno</span><span class="op" id="8336100">,</span>&nbsp;<span class="ident" id="8336102">err</span><span class="op" id="8336105">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336115">break</span>&nbsp;<span class="ident" id="8336121">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8336136">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8336199">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8336204">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8336222">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8336293">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8336363">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8336434">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336452">if</span>&nbsp;<span class="ident" id="8336455">line</span><span class="op" id="8336459">[</span><span class="num" id="8336460">0</span><span class="op" id="8336461">]</span>&nbsp;<span class="op" id="8336463">==</span>&nbsp;<span class="string" id="8336466">&#39;#&#39;</span>&nbsp;<span class="op" id="8336470">||</span>&nbsp;<span class="ident" id="8336473">line</span><span class="op" id="8336477">[</span><span class="num" id="8336478">0</span><span class="op" id="8336479">]</span>&nbsp;<span class="op" id="8336481">==</span>&nbsp;<span class="string" id="8336484">&#39;\n&#39;</span>&nbsp;<span class="op" id="8336489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336494">continue</span>&nbsp;<span class="ident" id="8336503">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8336517">line</span>&nbsp;<span class="op" id="8336522">=</span>&nbsp;<span class="ident" id="8336524">line</span><span class="op" id="8336528">[</span><span class="op" id="8336529">:</span><span class="builtinfunc" id="8336530">len</span><span class="op" id="8336533">(</span><span class="ident" id="8336534">line</span><span class="op" id="8336538">)</span><span class="op" id="8336539">-</span><span class="num" id="8336540">1</span><span class="op" id="8336541">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8336545">field</span>&nbsp;<span class="op" id="8336551">:=</span>&nbsp;<span class="ident" id="8336554">notab</span><span class="op" id="8336559">.</span><span class="ident" id="8336560">FindAllString</span><span class="op" id="8336573">(</span><span class="ident" id="8336574">line</span><span class="op" id="8336578">,</span>&nbsp;<span class="op" id="8336580">-</span><span class="num" id="8336581">1</span><span class="op" id="8336582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336586">for</span>&nbsp;<span class="ident" id="8336590">i</span><span class="op" id="8336591">,</span>&nbsp;<span class="ident" id="8336593">f</span>&nbsp;<span class="op" id="8336595">:=</span>&nbsp;<span class="keyword" id="8336598">range</span>&nbsp;<span class="ident" id="8336604">field</span>&nbsp;<span class="op" id="8336610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336615">if</span>&nbsp;<span class="ident" id="8336618">f</span>&nbsp;<span class="op" id="8336620">==</span>&nbsp;<span class="string" id="8336623">&#34;NULL&#34;</span>&nbsp;<span class="op" id="8336630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8336636">field</span><span class="op" id="8336641">[</span><span class="ident" id="8336642">i</span><span class="op" id="8336643">]</span>&nbsp;<span class="op" id="8336645">=</span>&nbsp;<span class="string" id="8336647">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336653">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336658">if</span>&nbsp;<span class="ident" id="8336661">f</span>&nbsp;<span class="op" id="8336663">==</span>&nbsp;<span class="string" id="8336666">&#34;NIL&#34;</span>&nbsp;<span class="op" id="8336672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8336678">t</span><span class="op" id="8336679">.</span><span class="ident" id="8336680">Logf</span><span class="op" id="8336684">(</span><span class="string" id="8336685">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="8336702">,</span>&nbsp;<span class="ident" id="8336704">file</span><span class="op" id="8336708">,</span>&nbsp;<span class="ident" id="8336710">lineno</span><span class="op" id="8336716">,</span>&nbsp;<span class="ident" id="8336718">line</span><span class="op" id="8336722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336728">continue</span>&nbsp;<span class="ident" id="8336737">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336752">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336756">if</span>&nbsp;<span class="builtinfunc" id="8336759">len</span><span class="op" id="8336762">(</span><span class="ident" id="8336763">field</span><span class="op" id="8336768">)</span>&nbsp;<span class="op" id="8336770">==</span>&nbsp;<span class="num" id="8336773">0</span>&nbsp;<span class="op" id="8336775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336780">continue</span>&nbsp;<span class="ident" id="8336789">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8336804">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8336879">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8336951">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337023">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337102">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337161">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337166">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BRE&nbsp;&nbsp;&nbsp;&nbsp;(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337206">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERE&nbsp;&nbsp;&nbsp;&nbsp;(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337244">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ARE&nbsp;&nbsp;&nbsp;&nbsp;(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337296">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SRE&nbsp;&nbsp;&nbsp;&nbsp;(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337332">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp;KRE&nbsp;&nbsp;&nbsp;&nbsp;(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337382">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbsp;REG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LRE&nbsp;&nbsp;&nbsp;&nbsp;(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337418">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337423">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337468">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbsp;REG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337512">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;REG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337560">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337611">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbsp;REG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337655">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbsp;REG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337711">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbsp;FNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337773">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbsp;REG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337821">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbsp;REG_ICASE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337855">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbsp;REG_SPAN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337889">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbsp;REG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337939">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8337974">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbsp;REG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338012">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbsp;REG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338054">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbsp;REG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338108">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338152">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbsp;REG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338196">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbsp;REG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338232">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338275">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbsp;REG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338334">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbsp;standard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338397">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbsp;REG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338448">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbsp;REG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338499">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;REG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338545">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338590">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbsp;REG_NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338634">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338707">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338779">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338850">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338855">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338885">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338890">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338951">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8338956">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339034">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339099">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339171">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339220">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;skip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339262">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339286">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339291">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339341">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp;:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339382">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;comment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339436">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339468">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339473">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8339528">flag</span>&nbsp;<span class="op" id="8339533">:=</span>&nbsp;<span class="ident" id="8339536">field</span><span class="op" id="8339541">[</span><span class="num" id="8339542">0</span><span class="op" id="8339543">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339547">switch</span>&nbsp;<span class="ident" id="8339554">flag</span><span class="op" id="8339558">[</span><span class="num" id="8339559">0</span><span class="op" id="8339560">]</span>&nbsp;<span class="op" id="8339562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339566">case</span>&nbsp;<span class="string" id="8339571">&#39;?&#39;</span><span class="op" id="8339574">,</span>&nbsp;<span class="string" id="8339576">&#39;&amp;&#39;</span><span class="op" id="8339579">,</span>&nbsp;<span class="string" id="8339581">&#39;|&#39;</span><span class="op" id="8339584">,</span>&nbsp;<span class="string" id="8339586">&#39;;&#39;</span><span class="op" id="8339589">,</span>&nbsp;<span class="string" id="8339591">&#39;{&#39;</span><span class="op" id="8339594">,</span>&nbsp;<span class="string" id="8339596">&#39;}&#39;</span><span class="op" id="8339599">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339604">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339644">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8339671">flag</span>&nbsp;<span class="op" id="8339676">=</span>&nbsp;<span class="ident" id="8339678">flag</span><span class="op" id="8339682">[</span><span class="num" id="8339683">1</span><span class="op" id="8339684">:</span><span class="op" id="8339685">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339690">if</span>&nbsp;<span class="ident" id="8339693">flag</span>&nbsp;<span class="op" id="8339698">==</span>&nbsp;<span class="string" id="8339701">&#34;&#34;</span>&nbsp;<span class="op" id="8339704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339710">continue</span>&nbsp;<span class="ident" id="8339719">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339734">case</span>&nbsp;<span class="string" id="8339739">&#39;:&#39;</span><span class="op" id="8339742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8339747">i</span>&nbsp;<span class="op" id="8339749">:=</span>&nbsp;<span class="ident" id="8339752">strings</span><span class="op" id="8339759">.</span><span class="ident" id="8339760">Index</span><span class="op" id="8339765">(</span><span class="ident" id="8339766">flag</span><span class="op" id="8339770">[</span><span class="num" id="8339771">1</span><span class="op" id="8339772">:</span><span class="op" id="8339773">]</span><span class="op" id="8339774">,</span>&nbsp;<span class="string" id="8339776">&#34;:&#34;</span><span class="op" id="8339779">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339784">if</span>&nbsp;<span class="ident" id="8339787">i</span>&nbsp;<span class="op" id="8339789">&lt;</span>&nbsp;<span class="num" id="8339791">0</span>&nbsp;<span class="op" id="8339793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8339799">t</span><span class="op" id="8339800">.</span><span class="ident" id="8339801">Logf</span><span class="op" id="8339805">(</span><span class="string" id="8339806">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="8339816">,</span>&nbsp;<span class="ident" id="8339818">line</span><span class="op" id="8339822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339828">continue</span>&nbsp;<span class="ident" id="8339837">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8339853">flag</span>&nbsp;<span class="op" id="8339858">=</span>&nbsp;<span class="ident" id="8339860">flag</span><span class="op" id="8339864">[</span><span class="num" id="8339865">1</span><span class="op" id="8339866">+</span><span class="ident" id="8339867">i</span><span class="op" id="8339868">+</span><span class="num" id="8339869">1</span><span class="op" id="8339870">:</span><span class="op" id="8339871">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339875">case</span>&nbsp;<span class="string" id="8339880">&#39;C&#39;</span><span class="op" id="8339883">,</span>&nbsp;<span class="string" id="8339885">&#39;N&#39;</span><span class="op" id="8339888">,</span>&nbsp;<span class="string" id="8339890">&#39;T&#39;</span><span class="op" id="8339893">,</span>&nbsp;<span class="string" id="8339895">&#39;0&#39;</span><span class="op" id="8339898">,</span>&nbsp;<span class="string" id="8339900">&#39;1&#39;</span><span class="op" id="8339903">,</span>&nbsp;<span class="string" id="8339905">&#39;2&#39;</span><span class="op" id="8339908">,</span>&nbsp;<span class="string" id="8339910">&#39;3&#39;</span><span class="op" id="8339913">,</span>&nbsp;<span class="string" id="8339915">&#39;4&#39;</span><span class="op" id="8339918">,</span>&nbsp;<span class="string" id="8339920">&#39;5&#39;</span><span class="op" id="8339923">,</span>&nbsp;<span class="string" id="8339925">&#39;6&#39;</span><span class="op" id="8339928">,</span>&nbsp;<span class="string" id="8339930">&#39;7&#39;</span><span class="op" id="8339933">,</span>&nbsp;<span class="string" id="8339935">&#39;8&#39;</span><span class="op" id="8339938">,</span>&nbsp;<span class="string" id="8339940">&#39;9&#39;</span><span class="op" id="8339943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8339948">t</span><span class="op" id="8339949">.</span><span class="ident" id="8339950">Logf</span><span class="op" id="8339954">(</span><span class="string" id="8339955">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="8339965">,</span>&nbsp;<span class="ident" id="8339967">line</span><span class="op" id="8339971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339976">continue</span>&nbsp;<span class="ident" id="8339985">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8340000">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340078">if</span>&nbsp;<span class="builtinfunc" id="8340081">len</span><span class="op" id="8340084">(</span><span class="ident" id="8340085">field</span><span class="op" id="8340090">)</span>&nbsp;<span class="op" id="8340092">&lt;</span>&nbsp;<span class="num" id="8340094">4</span>&nbsp;<span class="op" id="8340096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340101">t</span><span class="op" id="8340102">.</span><span class="ident" id="8340103">Errorf</span><span class="op" id="8340109">(</span><span class="string" id="8340110">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="8340137">,</span>&nbsp;<span class="ident" id="8340139">file</span><span class="op" id="8340143">,</span>&nbsp;<span class="ident" id="8340145">lineno</span><span class="op" id="8340151">,</span>&nbsp;<span class="ident" id="8340153">line</span><span class="op" id="8340157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340162">continue</span>&nbsp;<span class="ident" id="8340171">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340181">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8340186">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340229">if</span>&nbsp;<span class="ident" id="8340232">strings</span><span class="op" id="8340239">.</span><span class="ident" id="8340240">Contains</span><span class="op" id="8340248">(</span><span class="ident" id="8340249">flag</span><span class="op" id="8340253">,</span>&nbsp;<span class="string" id="8340255">&#34;$&#34;</span><span class="op" id="8340258">)</span>&nbsp;<span class="op" id="8340260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340265">f</span>&nbsp;<span class="op" id="8340267">:=</span>&nbsp;<span class="string" id="8340270">`&#34;`</span>&nbsp;<span class="op" id="8340274">+</span>&nbsp;<span class="ident" id="8340276">field</span><span class="op" id="8340281">[</span><span class="num" id="8340282">1</span><span class="op" id="8340283">]</span>&nbsp;<span class="op" id="8340285">+</span>&nbsp;<span class="string" id="8340287">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340294">if</span>&nbsp;<span class="ident" id="8340297">field</span><span class="op" id="8340302">[</span><span class="num" id="8340303">1</span><span class="op" id="8340304">]</span><span class="op" id="8340305">,</span>&nbsp;<span class="ident" id="8340307">err</span>&nbsp;<span class="op" id="8340311">=</span>&nbsp;<span class="ident" id="8340313">strconv</span><span class="op" id="8340320">.</span><span class="ident" id="8340321">Unquote</span><span class="op" id="8340328">(</span><span class="ident" id="8340329">f</span><span class="op" id="8340330">)</span><span class="op" id="8340331">;</span>&nbsp;<span class="ident" id="8340333">err</span>&nbsp;<span class="op" id="8340337">!=</span>&nbsp;<span class="ident" id="8340340">nil</span>&nbsp;<span class="op" id="8340344">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340350">t</span><span class="op" id="8340351">.</span><span class="ident" id="8340352">Errorf</span><span class="op" id="8340358">(</span><span class="string" id="8340359">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="8340385">,</span>&nbsp;<span class="ident" id="8340387">file</span><span class="op" id="8340391">,</span>&nbsp;<span class="ident" id="8340393">lineno</span><span class="op" id="8340399">,</span>&nbsp;<span class="ident" id="8340401">f</span><span class="op" id="8340402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340412">f</span>&nbsp;<span class="op" id="8340414">=</span>&nbsp;<span class="string" id="8340416">`&#34;`</span>&nbsp;<span class="op" id="8340420">+</span>&nbsp;<span class="ident" id="8340422">field</span><span class="op" id="8340427">[</span><span class="num" id="8340428">2</span><span class="op" id="8340429">]</span>&nbsp;<span class="op" id="8340431">+</span>&nbsp;<span class="string" id="8340433">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340440">if</span>&nbsp;<span class="ident" id="8340443">field</span><span class="op" id="8340448">[</span><span class="num" id="8340449">2</span><span class="op" id="8340450">]</span><span class="op" id="8340451">,</span>&nbsp;<span class="ident" id="8340453">err</span>&nbsp;<span class="op" id="8340457">=</span>&nbsp;<span class="ident" id="8340459">strconv</span><span class="op" id="8340466">.</span><span class="ident" id="8340467">Unquote</span><span class="op" id="8340474">(</span><span class="ident" id="8340475">f</span><span class="op" id="8340476">)</span><span class="op" id="8340477">;</span>&nbsp;<span class="ident" id="8340479">err</span>&nbsp;<span class="op" id="8340483">!=</span>&nbsp;<span class="ident" id="8340486">nil</span>&nbsp;<span class="op" id="8340490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340496">t</span><span class="op" id="8340497">.</span><span class="ident" id="8340498">Errorf</span><span class="op" id="8340504">(</span><span class="string" id="8340505">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="8340531">,</span>&nbsp;<span class="ident" id="8340533">file</span><span class="op" id="8340537">,</span>&nbsp;<span class="ident" id="8340539">lineno</span><span class="op" id="8340545">,</span>&nbsp;<span class="ident" id="8340547">f</span><span class="op" id="8340548">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8340562">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8340637">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8340674">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340679">if</span>&nbsp;<span class="ident" id="8340682">field</span><span class="op" id="8340687">[</span><span class="num" id="8340688">1</span><span class="op" id="8340689">]</span>&nbsp;<span class="op" id="8340691">==</span>&nbsp;<span class="string" id="8340694">&#34;SAME&#34;</span>&nbsp;<span class="op" id="8340701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340706">field</span><span class="op" id="8340711">[</span><span class="num" id="8340712">1</span><span class="op" id="8340713">]</span>&nbsp;<span class="op" id="8340715">=</span>&nbsp;<span class="ident" id="8340717">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340734">lastRegexp</span>&nbsp;<span class="op" id="8340745">=</span>&nbsp;<span class="ident" id="8340747">field</span><span class="op" id="8340752">[</span><span class="num" id="8340753">1</span><span class="op" id="8340754">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8340759">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340796">text</span>&nbsp;<span class="op" id="8340801">:=</span>&nbsp;<span class="ident" id="8340804">field</span><span class="op" id="8340809">[</span><span class="num" id="8340810">2</span><span class="op" id="8340811">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8340816">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340852">ok</span><span class="op" id="8340854">,</span>&nbsp;<span class="ident" id="8340856">shouldCompile</span><span class="op" id="8340869">,</span>&nbsp;<span class="ident" id="8340871">shouldMatch</span><span class="op" id="8340882">,</span>&nbsp;<span class="ident" id="8340884">pos</span>&nbsp;<span class="op" id="8340888">:=</span>&nbsp;<span class="ident" id="8340891">parseFowlerResult</span><span class="op" id="8340908">(</span><span class="ident" id="8340909">field</span><span class="op" id="8340914">[</span><span class="num" id="8340915">3</span><span class="op" id="8340916">]</span><span class="op" id="8340917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340921">if</span>&nbsp;<span class="op" id="8340924">!</span><span class="ident" id="8340925">ok</span>&nbsp;<span class="op" id="8340928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340933">t</span><span class="op" id="8340934">.</span><span class="ident" id="8340935">Errorf</span><span class="op" id="8340941">(</span><span class="string" id="8340942">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="8340974">,</span>&nbsp;<span class="ident" id="8340976">file</span><span class="op" id="8340980">,</span>&nbsp;<span class="ident" id="8340982">lineno</span><span class="op" id="8340988">,</span>&nbsp;<span class="ident" id="8340990">field</span><span class="op" id="8340995">[</span><span class="num" id="8340996">3</span><span class="op" id="8340997">]</span><span class="op" id="8340998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341003">continue</span>&nbsp;<span class="ident" id="8341012">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341022">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8341027">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341084">Testing</span><span class="op" id="8341091">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8341095">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341170">for</span>&nbsp;<span class="ident" id="8341174">_</span><span class="op" id="8341175">,</span>&nbsp;<span class="ident" id="8341177">c</span>&nbsp;<span class="op" id="8341179">:=</span>&nbsp;<span class="keyword" id="8341182">range</span>&nbsp;<span class="ident" id="8341188">flag</span>&nbsp;<span class="op" id="8341193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341198">pattern</span>&nbsp;<span class="op" id="8341206">:=</span>&nbsp;<span class="ident" id="8341209">field</span><span class="op" id="8341214">[</span><span class="num" id="8341215">1</span><span class="op" id="8341216">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341221">syn</span>&nbsp;<span class="op" id="8341225">:=</span>&nbsp;<span class="ident" id="8341228">syntax</span><span class="op" id="8341234">.</span><span class="ident" id="8341235">POSIX</span>&nbsp;<span class="op" id="8341241">|</span>&nbsp;<span class="ident" id="8341243">syntax</span><span class="op" id="8341249">.</span><span class="ident" id="8341250">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341261">switch</span>&nbsp;<span class="ident" id="8341268">c</span>&nbsp;<span class="op" id="8341270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341275">default</span><span class="op" id="8341282">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341288">continue</span>&nbsp;<span class="ident" id="8341297">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341308">case</span>&nbsp;<span class="string" id="8341313">&#39;E&#39;</span><span class="op" id="8341316">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8341322">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341362">case</span>&nbsp;<span class="string" id="8341367">&#39;L&#39;</span><span class="op" id="8341370">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8341376">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341391">pattern</span>&nbsp;<span class="op" id="8341399">=</span>&nbsp;<span class="ident" id="8341401">QuoteMeta</span><span class="op" id="8341410">(</span><span class="ident" id="8341411">pattern</span><span class="op" id="8341418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341429">for</span>&nbsp;<span class="ident" id="8341433">_</span><span class="op" id="8341434">,</span>&nbsp;<span class="ident" id="8341436">c</span>&nbsp;<span class="op" id="8341438">:=</span>&nbsp;<span class="keyword" id="8341441">range</span>&nbsp;<span class="ident" id="8341447">flag</span>&nbsp;<span class="op" id="8341452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341458">switch</span>&nbsp;<span class="ident" id="8341465">c</span>&nbsp;<span class="op" id="8341467">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341473">case</span>&nbsp;<span class="string" id="8341478">&#39;i&#39;</span><span class="op" id="8341481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341488">syn</span>&nbsp;<span class="op" id="8341492">|=</span>&nbsp;<span class="ident" id="8341495">syntax</span><span class="op" id="8341501">.</span><span class="ident" id="8341502">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341526">re</span><span class="op" id="8341528">,</span>&nbsp;<span class="ident" id="8341530">err</span>&nbsp;<span class="op" id="8341534">:=</span>&nbsp;<span class="ident" id="8341537">compile</span><span class="op" id="8341544">(</span><span class="ident" id="8341545">pattern</span><span class="op" id="8341552">,</span>&nbsp;<span class="ident" id="8341554">syn</span><span class="op" id="8341557">,</span>&nbsp;<span class="builtintype" id="8341559">true</span><span class="op" id="8341563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341568">if</span>&nbsp;<span class="ident" id="8341571">err</span>&nbsp;<span class="op" id="8341575">!=</span>&nbsp;<span class="ident" id="8341578">nil</span>&nbsp;<span class="op" id="8341582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341588">if</span>&nbsp;<span class="ident" id="8341591">shouldCompile</span>&nbsp;<span class="op" id="8341605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341612">t</span><span class="op" id="8341613">.</span><span class="ident" id="8341614">Errorf</span><span class="op" id="8341620">(</span><span class="string" id="8341621">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="8341649">,</span>&nbsp;<span class="ident" id="8341651">file</span><span class="op" id="8341655">,</span>&nbsp;<span class="ident" id="8341657">lineno</span><span class="op" id="8341663">,</span>&nbsp;<span class="ident" id="8341665">pattern</span><span class="op" id="8341672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341678">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341684">continue</span>&nbsp;<span class="ident" id="8341693">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341709">if</span>&nbsp;<span class="op" id="8341712">!</span><span class="ident" id="8341713">shouldCompile</span>&nbsp;<span class="op" id="8341727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341733">t</span><span class="op" id="8341734">.</span><span class="ident" id="8341735">Errorf</span><span class="op" id="8341741">(</span><span class="string" id="8341742">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="8341773">,</span>&nbsp;<span class="ident" id="8341775">file</span><span class="op" id="8341779">,</span>&nbsp;<span class="ident" id="8341781">lineno</span><span class="op" id="8341787">,</span>&nbsp;<span class="ident" id="8341789">pattern</span><span class="op" id="8341796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341802">continue</span>&nbsp;<span class="ident" id="8341811">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341827">match</span>&nbsp;<span class="op" id="8341833">:=</span>&nbsp;<span class="ident" id="8341836">re</span><span class="op" id="8341838">.</span><span class="ident" id="8341839">MatchString</span><span class="op" id="8341850">(</span><span class="ident" id="8341851">text</span><span class="op" id="8341855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341860">if</span>&nbsp;<span class="ident" id="8341863">match</span>&nbsp;<span class="op" id="8341869">!=</span>&nbsp;<span class="ident" id="8341872">shouldMatch</span>&nbsp;<span class="op" id="8341884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341890">t</span><span class="op" id="8341891">.</span><span class="ident" id="8341892">Errorf</span><span class="op" id="8341898">(</span><span class="string" id="8341899">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8341936">,</span>&nbsp;<span class="ident" id="8341938">file</span><span class="op" id="8341942">,</span>&nbsp;<span class="ident" id="8341944">lineno</span><span class="op" id="8341950">,</span>&nbsp;<span class="ident" id="8341952">pattern</span><span class="op" id="8341959">,</span>&nbsp;<span class="ident" id="8341961">text</span><span class="op" id="8341965">,</span>&nbsp;<span class="ident" id="8341967">match</span><span class="op" id="8341972">,</span>&nbsp;<span class="ident" id="8341974">shouldMatch</span><span class="op" id="8341985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341991">continue</span>&nbsp;<span class="ident" id="8342000">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342016">have</span>&nbsp;<span class="op" id="8342021">:=</span>&nbsp;<span class="ident" id="8342024">re</span><span class="op" id="8342026">.</span><span class="ident" id="8342027">FindStringSubmatchIndex</span><span class="op" id="8342050">(</span><span class="ident" id="8342051">text</span><span class="op" id="8342055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8342060">if</span>&nbsp;<span class="op" id="8342063">(</span><span class="builtinfunc" id="8342064">len</span><span class="op" id="8342067">(</span><span class="ident" id="8342068">have</span><span class="op" id="8342072">)</span>&nbsp;<span class="op" id="8342074">&gt;</span>&nbsp;<span class="num" id="8342076">0</span><span class="op" id="8342077">)</span>&nbsp;<span class="op" id="8342079">!=</span>&nbsp;<span class="ident" id="8342082">match</span>&nbsp;<span class="op" id="8342088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342094">t</span><span class="op" id="8342095">.</span><span class="ident" id="8342096">Errorf</span><span class="op" id="8342102">(</span><span class="string" id="8342103">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="8342168">,</span>&nbsp;<span class="ident" id="8342170">file</span><span class="op" id="8342174">,</span>&nbsp;<span class="ident" id="8342176">lineno</span><span class="op" id="8342182">,</span>&nbsp;<span class="ident" id="8342184">pattern</span><span class="op" id="8342191">,</span>&nbsp;<span class="ident" id="8342193">text</span><span class="op" id="8342197">,</span>&nbsp;<span class="ident" id="8342199">match</span><span class="op" id="8342204">,</span>&nbsp;<span class="ident" id="8342206">pattern</span><span class="op" id="8342213">,</span>&nbsp;<span class="ident" id="8342215">text</span><span class="op" id="8342219">,</span>&nbsp;<span class="ident" id="8342221">have</span><span class="op" id="8342225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8342231">continue</span>&nbsp;<span class="ident" id="8342240">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8342256">if</span>&nbsp;<span class="builtinfunc" id="8342259">len</span><span class="op" id="8342262">(</span><span class="ident" id="8342263">have</span><span class="op" id="8342267">)</span>&nbsp;<span class="op" id="8342269">&gt;</span>&nbsp;<span class="builtinfunc" id="8342271">len</span><span class="op" id="8342274">(</span><span class="ident" id="8342275">pos</span><span class="op" id="8342278">)</span>&nbsp;<span class="op" id="8342280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342286">have</span>&nbsp;<span class="op" id="8342291">=</span>&nbsp;<span class="ident" id="8342293">have</span><span class="op" id="8342297">[</span><span class="op" id="8342298">:</span><span class="builtinfunc" id="8342299">len</span><span class="op" id="8342302">(</span><span class="ident" id="8342303">pos</span><span class="op" id="8342306">)</span><span class="op" id="8342307">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8342317">if</span>&nbsp;<span class="op" id="8342320">!</span><span class="ident" id="8342321">same</span><span class="op" id="8342325">(</span><span class="ident" id="8342326">have</span><span class="op" id="8342330">,</span>&nbsp;<span class="ident" id="8342332">pos</span><span class="op" id="8342335">)</span>&nbsp;<span class="op" id="8342337">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342343">t</span><span class="op" id="8342344">.</span><span class="ident" id="8342345">Errorf</span><span class="op" id="8342351">(</span><span class="string" id="8342352">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8342401">,</span>&nbsp;<span class="ident" id="8342403">file</span><span class="op" id="8342407">,</span>&nbsp;<span class="ident" id="8342409">lineno</span><span class="op" id="8342415">,</span>&nbsp;<span class="ident" id="8342417">pattern</span><span class="op" id="8342424">,</span>&nbsp;<span class="ident" id="8342426">text</span><span class="op" id="8342430">,</span>&nbsp;<span class="ident" id="8342432">have</span><span class="op" id="8342436">,</span>&nbsp;<span class="ident" id="8342438">pos</span><span class="op" id="8342441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342453">}</span><br>
<span class="lineno"></span><span class="op" id="8342455">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="8342458">func</span>&nbsp;<span class="ident" id="8342463">parseFowlerResult</span><span class="op" id="8342480">(</span><span class="ident" id="8342481">s</span>&nbsp;<span class="builtintype" id="8342483">string</span><span class="op" id="8342489">)</span>&nbsp;<span class="op" id="8342491">(</span><span class="ident" id="8342492">ok</span><span class="op" id="8342494">,</span>&nbsp;<span class="ident" id="8342496">compiled</span><span class="op" id="8342504">,</span>&nbsp;<span class="ident" id="8342506">matched</span>&nbsp;<span class="builtintype" id="8342514">bool</span><span class="op" id="8342518">,</span>&nbsp;<span class="ident" id="8342520">pos</span>&nbsp;<span class="op" id="8342524">[</span><span class="op" id="8342525">]</span><span class="builtintype" id="8342526">int</span><span class="op" id="8342529">)</span>&nbsp;<span class="op" id="8342531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8342534">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8342605">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8342675">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8342744">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8342814">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8342883">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8342954">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343029">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343105">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343178">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343254">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343330">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343402">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343477">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343495">switch</span>&nbsp;<span class="op" id="8343502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343505">case</span>&nbsp;<span class="ident" id="8343510">s</span>&nbsp;<span class="op" id="8343512">==</span>&nbsp;<span class="string" id="8343515">&#34;&#34;</span><span class="op" id="8343517">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343521">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343562">ok</span>&nbsp;<span class="op" id="8343565">=</span>&nbsp;<span class="builtintype" id="8343567">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343574">compiled</span>&nbsp;<span class="op" id="8343583">=</span>&nbsp;<span class="builtintype" id="8343585">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343592">matched</span>&nbsp;<span class="op" id="8343600">=</span>&nbsp;<span class="builtintype" id="8343602">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343609">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343617">case</span>&nbsp;<span class="ident" id="8343622">s</span>&nbsp;<span class="op" id="8343624">==</span>&nbsp;<span class="string" id="8343627">&#34;NOMATCH&#34;</span><span class="op" id="8343636">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343640">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343660">ok</span>&nbsp;<span class="op" id="8343663">=</span>&nbsp;<span class="builtintype" id="8343665">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343672">compiled</span>&nbsp;<span class="op" id="8343681">=</span>&nbsp;<span class="builtintype" id="8343683">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343690">matched</span>&nbsp;<span class="op" id="8343698">=</span>&nbsp;<span class="builtintype" id="8343700">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343708">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343716">case</span>&nbsp;<span class="string" id="8343721">&#39;A&#39;</span>&nbsp;<span class="op" id="8343725">&lt;=</span>&nbsp;<span class="ident" id="8343728">s</span><span class="op" id="8343729">[</span><span class="num" id="8343730">0</span><span class="op" id="8343731">]</span>&nbsp;<span class="op" id="8343733">&amp;&amp;</span>&nbsp;<span class="ident" id="8343736">s</span><span class="op" id="8343737">[</span><span class="num" id="8343738">0</span><span class="op" id="8343739">]</span>&nbsp;<span class="op" id="8343741">&lt;=</span>&nbsp;<span class="string" id="8343744">&#39;Z&#39;</span><span class="op" id="8343747">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343751">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343802">ok</span>&nbsp;<span class="op" id="8343805">=</span>&nbsp;<span class="builtintype" id="8343807">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343814">compiled</span>&nbsp;<span class="op" id="8343823">=</span>&nbsp;<span class="builtintype" id="8343825">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343833">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8343841">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343844">compiled</span>&nbsp;<span class="op" id="8343853">=</span>&nbsp;<span class="builtintype" id="8343855">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343862">var</span>&nbsp;<span class="ident" id="8343866">x</span>&nbsp;<span class="op" id="8343868">[</span><span class="op" id="8343869">]</span><span class="builtintype" id="8343870">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343875">for</span>&nbsp;<span class="ident" id="8343879">s</span>&nbsp;<span class="op" id="8343881">!=</span>&nbsp;<span class="string" id="8343884">&#34;&#34;</span>&nbsp;<span class="op" id="8343887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343891">var</span>&nbsp;<span class="ident" id="8343895">end</span>&nbsp;<span class="builtintype" id="8343899">byte</span>&nbsp;<span class="op" id="8343904">=</span>&nbsp;<span class="string" id="8343906">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343912">if</span>&nbsp;<span class="builtinfunc" id="8343915">len</span><span class="op" id="8343918">(</span><span class="ident" id="8343919">x</span><span class="op" id="8343920">)</span><span class="op" id="8343921">%</span><span class="num" id="8343922">2</span>&nbsp;<span class="op" id="8343924">==</span>&nbsp;<span class="num" id="8343927">0</span>&nbsp;<span class="op" id="8343929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343934">if</span>&nbsp;<span class="ident" id="8343937">s</span><span class="op" id="8343938">[</span><span class="num" id="8343939">0</span><span class="op" id="8343940">]</span>&nbsp;<span class="op" id="8343942">!=</span>&nbsp;<span class="string" id="8343945">&#39;(&#39;</span>&nbsp;<span class="op" id="8343949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343955">ok</span>&nbsp;<span class="op" id="8343958">=</span>&nbsp;<span class="builtintype" id="8343960">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343970">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8343980">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343985">s</span>&nbsp;<span class="op" id="8343987">=</span>&nbsp;<span class="ident" id="8343989">s</span><span class="op" id="8343990">[</span><span class="num" id="8343991">1</span><span class="op" id="8343992">:</span><span class="op" id="8343993">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343998">end</span>&nbsp;<span class="op" id="8344002">=</span>&nbsp;<span class="string" id="8344004">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344014">i</span>&nbsp;<span class="op" id="8344016">:=</span>&nbsp;<span class="num" id="8344019">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344023">for</span>&nbsp;<span class="ident" id="8344027">i</span>&nbsp;<span class="op" id="8344029">&lt;</span>&nbsp;<span class="builtinfunc" id="8344031">len</span><span class="op" id="8344034">(</span><span class="ident" id="8344035">s</span><span class="op" id="8344036">)</span>&nbsp;<span class="op" id="8344038">&amp;&amp;</span>&nbsp;<span class="ident" id="8344041">s</span><span class="op" id="8344042">[</span><span class="ident" id="8344043">i</span><span class="op" id="8344044">]</span>&nbsp;<span class="op" id="8344046">!=</span>&nbsp;<span class="ident" id="8344049">end</span>&nbsp;<span class="op" id="8344053">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344058">i</span><span class="op" id="8344059">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344068">if</span>&nbsp;<span class="ident" id="8344071">i</span>&nbsp;<span class="op" id="8344073">==</span>&nbsp;<span class="num" id="8344076">0</span>&nbsp;<span class="op" id="8344078">||</span>&nbsp;<span class="ident" id="8344081">i</span>&nbsp;<span class="op" id="8344083">==</span>&nbsp;<span class="builtinfunc" id="8344086">len</span><span class="op" id="8344089">(</span><span class="ident" id="8344090">s</span><span class="op" id="8344091">)</span>&nbsp;<span class="op" id="8344093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344098">ok</span>&nbsp;<span class="op" id="8344101">=</span>&nbsp;<span class="builtintype" id="8344103">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344112">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344125">var</span>&nbsp;<span class="ident" id="8344129">v</span>&nbsp;<span class="op" id="8344131">=</span>&nbsp;<span class="op" id="8344133">-</span><span class="num" id="8344134">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344138">var</span>&nbsp;<span class="ident" id="8344142">err</span>&nbsp;<span class="builtintype" id="8344146">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344154">if</span>&nbsp;<span class="ident" id="8344157">s</span><span class="op" id="8344158">[</span><span class="op" id="8344159">:</span><span class="ident" id="8344160">i</span><span class="op" id="8344161">]</span>&nbsp;<span class="op" id="8344163">!=</span>&nbsp;<span class="string" id="8344166">&#34;?&#34;</span>&nbsp;<span class="op" id="8344170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344175">v</span><span class="op" id="8344176">,</span>&nbsp;<span class="ident" id="8344178">err</span>&nbsp;<span class="op" id="8344182">=</span>&nbsp;<span class="ident" id="8344184">strconv</span><span class="op" id="8344191">.</span><span class="ident" id="8344192">Atoi</span><span class="op" id="8344196">(</span><span class="ident" id="8344197">s</span><span class="op" id="8344198">[</span><span class="op" id="8344199">:</span><span class="ident" id="8344200">i</span><span class="op" id="8344201">]</span><span class="op" id="8344202">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344207">if</span>&nbsp;<span class="ident" id="8344210">err</span>&nbsp;<span class="op" id="8344214">!=</span>&nbsp;<span class="ident" id="8344217">nil</span>&nbsp;<span class="op" id="8344221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344227">ok</span>&nbsp;<span class="op" id="8344230">=</span>&nbsp;<span class="builtintype" id="8344232">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344242">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344256">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344260">x</span>&nbsp;<span class="op" id="8344262">=</span>&nbsp;<span class="builtinfunc" id="8344264">append</span><span class="op" id="8344270">(</span><span class="ident" id="8344271">x</span><span class="op" id="8344272">,</span>&nbsp;<span class="ident" id="8344274">v</span><span class="op" id="8344275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344279">s</span>&nbsp;<span class="op" id="8344281">=</span>&nbsp;<span class="ident" id="8344283">s</span><span class="op" id="8344284">[</span><span class="ident" id="8344285">i</span><span class="op" id="8344286">+</span><span class="num" id="8344287">1</span><span class="op" id="8344288">:</span><span class="op" id="8344289">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344295">if</span>&nbsp;<span class="builtinfunc" id="8344298">len</span><span class="op" id="8344301">(</span><span class="ident" id="8344302">x</span><span class="op" id="8344303">)</span><span class="op" id="8344304">%</span><span class="num" id="8344305">2</span>&nbsp;<span class="op" id="8344307">!=</span>&nbsp;<span class="num" id="8344310">0</span>&nbsp;<span class="op" id="8344312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344316">ok</span>&nbsp;<span class="op" id="8344319">=</span>&nbsp;<span class="builtintype" id="8344321">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344329">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344340">ok</span>&nbsp;<span class="op" id="8344343">=</span>&nbsp;<span class="builtintype" id="8344345">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344351">matched</span>&nbsp;<span class="op" id="8344359">=</span>&nbsp;<span class="builtintype" id="8344361">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344367">pos</span>&nbsp;<span class="op" id="8344371">=</span>&nbsp;<span class="ident" id="8344373">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344376">return</span><br>
<span class="lineno"></span><span class="op" id="8344383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8344386">var</span>&nbsp;<span class="ident" id="8344390">text</span>&nbsp;<span class="op" id="8344395">[</span><span class="op" id="8344396">]</span><span class="builtintype" id="8344397">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="8344403">func</span>&nbsp;<span class="ident" id="8344408">makeText</span><span class="op" id="8344416">(</span><span class="ident" id="8344417">n</span>&nbsp;<span class="builtintype" id="8344419">int</span><span class="op" id="8344422">)</span>&nbsp;<span class="op" id="8344424">[</span><span class="op" id="8344425">]</span><span class="builtintype" id="8344426">byte</span>&nbsp;<span class="op" id="8344431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344434">if</span>&nbsp;<span class="builtinfunc" id="8344437">len</span><span class="op" id="8344440">(</span><span class="ident" id="8344441">text</span><span class="op" id="8344445">)</span>&nbsp;<span class="op" id="8344447">&gt;=</span>&nbsp;<span class="ident" id="8344450">n</span>&nbsp;<span class="op" id="8344452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344456">return</span>&nbsp;<span class="ident" id="8344463">text</span><span class="op" id="8344467">[</span><span class="op" id="8344468">:</span><span class="ident" id="8344469">n</span><span class="op" id="8344470">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344476">text</span>&nbsp;<span class="op" id="8344481">=</span>&nbsp;<span class="builtinfunc" id="8344483">make</span><span class="op" id="8344487">(</span><span class="op" id="8344488">[</span><span class="op" id="8344489">]</span><span class="builtintype" id="8344490">byte</span><span class="op" id="8344494">,</span>&nbsp;<span class="ident" id="8344496">n</span><span class="op" id="8344497">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344500">x</span>&nbsp;<span class="op" id="8344502">:=</span>&nbsp;<span class="op" id="8344505">^</span><span class="builtintype" id="8344506">uint32</span><span class="op" id="8344512">(</span><span class="num" id="8344513">0</span><span class="op" id="8344514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344517">for</span>&nbsp;<span class="ident" id="8344521">i</span>&nbsp;<span class="op" id="8344523">:=</span>&nbsp;<span class="keyword" id="8344526">range</span>&nbsp;<span class="ident" id="8344532">text</span>&nbsp;<span class="op" id="8344537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344541">x</span>&nbsp;<span class="op" id="8344543">+=</span>&nbsp;<span class="ident" id="8344546">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344550">x</span>&nbsp;<span class="op" id="8344552">^=</span>&nbsp;<span class="num" id="8344555">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344559">if</span>&nbsp;<span class="builtintype" id="8344562">int32</span><span class="op" id="8344567">(</span><span class="ident" id="8344568">x</span><span class="op" id="8344569">)</span>&nbsp;<span class="op" id="8344571">&lt;</span>&nbsp;<span class="num" id="8344573">0</span>&nbsp;<span class="op" id="8344575">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344580">x</span>&nbsp;<span class="op" id="8344582">^=</span>&nbsp;<span class="num" id="8344585">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344602">if</span>&nbsp;<span class="ident" id="8344605">x</span><span class="op" id="8344606">%</span><span class="num" id="8344607">31</span>&nbsp;<span class="op" id="8344610">==</span>&nbsp;<span class="num" id="8344613">0</span>&nbsp;<span class="op" id="8344615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344620">text</span><span class="op" id="8344624">[</span><span class="ident" id="8344625">i</span><span class="op" id="8344626">]</span>&nbsp;<span class="op" id="8344628">=</span>&nbsp;<span class="string" id="8344630">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344637">}</span>&nbsp;<span class="keyword" id="8344639">else</span>&nbsp;<span class="op" id="8344644">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344649">text</span><span class="op" id="8344653">[</span><span class="ident" id="8344654">i</span><span class="op" id="8344655">]</span>&nbsp;<span class="op" id="8344657">=</span>&nbsp;<span class="builtintype" id="8344659">byte</span><span class="op" id="8344663">(</span><span class="ident" id="8344664">x</span><span class="op" id="8344665">%</span><span class="op" id="8344666">(</span><span class="num" id="8344667">0x7E</span><span class="op" id="8344671">+</span><span class="num" id="8344672">1</span><span class="op" id="8344673">-</span><span class="num" id="8344674">0x20</span><span class="op" id="8344678">)</span>&nbsp;<span class="op" id="8344680">+</span>&nbsp;<span class="num" id="8344682">0x20</span><span class="op" id="8344686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344696">return</span>&nbsp;<span class="ident" id="8344703">text</span><br>
<span class="lineno"></span><span class="op" id="8344708">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="8344711">func</span>&nbsp;<span class="ident" id="8344716">benchmark</span><span class="op" id="8344725">(</span><span class="ident" id="8344726">b</span>&nbsp;<span class="op" id="8344728">*</span><span class="ident" id="8344729">testing</span><span class="op" id="8344736">.</span><span class="ident" id="8344737">B</span><span class="op" id="8344738">,</span>&nbsp;<span class="ident" id="8344740">re</span>&nbsp;<span class="builtintype" id="8344743">string</span><span class="op" id="8344749">,</span>&nbsp;<span class="ident" id="8344751">n</span>&nbsp;<span class="builtintype" id="8344753">int</span><span class="op" id="8344756">)</span>&nbsp;<span class="op" id="8344758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344761">r</span>&nbsp;<span class="op" id="8344763">:=</span>&nbsp;<span class="ident" id="8344766">MustCompile</span><span class="op" id="8344777">(</span><span class="ident" id="8344778">re</span><span class="op" id="8344780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344783">t</span>&nbsp;<span class="op" id="8344785">:=</span>&nbsp;<span class="ident" id="8344788">makeText</span><span class="op" id="8344796">(</span><span class="ident" id="8344797">n</span><span class="op" id="8344798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344801">b</span><span class="op" id="8344802">.</span><span class="ident" id="8344803">ResetTimer</span><span class="op" id="8344813">(</span><span class="op" id="8344814">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344817">b</span><span class="op" id="8344818">.</span><span class="ident" id="8344819">SetBytes</span><span class="op" id="8344827">(</span><span class="ident" id="8344828">int64</span><span class="op" id="8344833">(</span><span class="ident" id="8344834">n</span><span class="op" id="8344835">)</span><span class="op" id="8344836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344839">for</span>&nbsp;<span class="ident" id="8344843">i</span>&nbsp;<span class="op" id="8344845">:=</span>&nbsp;<span class="num" id="8344848">0</span><span class="op" id="8344849">;</span>&nbsp;<span class="ident" id="8344851">i</span>&nbsp;<span class="op" id="8344853">&lt;</span>&nbsp;<span class="ident" id="8344855">b</span><span class="op" id="8344856">.</span><span class="ident" id="8344857">N</span><span class="op" id="8344858">;</span>&nbsp;<span class="ident" id="8344860">i</span><span class="op" id="8344861">++</span>&nbsp;<span class="op" id="8344864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344868">if</span>&nbsp;<span class="ident" id="8344871">r</span><span class="op" id="8344872">.</span><span class="ident" id="8344873">Match</span><span class="op" id="8344878">(</span><span class="ident" id="8344879">t</span><span class="op" id="8344880">)</span>&nbsp;<span class="op" id="8344882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344887">b</span><span class="op" id="8344888">.</span><span class="ident" id="8344889">Fatal</span><span class="op" id="8344894">(</span><span class="string" id="8344895">&#34;match!&#34;</span><span class="op" id="8344903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344907">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344910">}</span><br>
<span class="lineno"></span><span class="op" id="8344912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8344915">const</span>&nbsp;<span class="op" id="8344921">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344924">easy0</span>&nbsp;&nbsp;<span class="op" id="8344931">=</span>&nbsp;<span class="string" id="8344933">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344964">easy1</span>&nbsp;&nbsp;<span class="op" id="8344971">=</span>&nbsp;<span class="string" id="8344973">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345024">medium</span>&nbsp;<span class="op" id="8345031">=</span>&nbsp;<span class="string" id="8345033">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345069">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8345076">=</span>&nbsp;<span class="string" id="8345078">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345115">parens</span>&nbsp;<span class="op" id="8345122">=</span>&nbsp;<span class="string" id="8345124">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="8345174">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8345178">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="8345221">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8345224">func</span>&nbsp;<span class="ident" id="8345229">BenchmarkMatchEasy0_32</span><span class="op" id="8345251">(</span><span class="ident" id="8345252">b</span>&nbsp;<span class="op" id="8345254">*</span><span class="ident" id="8345255">testing</span><span class="op" id="8345262">.</span><span class="ident" id="8345263">B</span><span class="op" id="8345264">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8345268">{</span>&nbsp;<span class="ident" id="8345270">benchmark</span><span class="op" id="8345279">(</span><span class="ident" id="8345280">b</span><span class="op" id="8345281">,</span>&nbsp;<span class="ident" id="8345283">easy0</span><span class="op" id="8345288">,</span>&nbsp;<span class="num" id="8345290">32</span><span class="op" id="8345292">&lt;&lt;</span><span class="num" id="8345294">0</span><span class="op" id="8345295">)</span>&nbsp;<span class="op" id="8345297">}</span><br>
<span class="lineno"></span><span class="keyword" id="8345299">func</span>&nbsp;<span class="ident" id="8345304">BenchmarkMatchEasy0_1K</span><span class="op" id="8345326">(</span><span class="ident" id="8345327">b</span>&nbsp;<span class="op" id="8345329">*</span><span class="ident" id="8345330">testing</span><span class="op" id="8345337">.</span><span class="ident" id="8345338">B</span><span class="op" id="8345339">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8345343">{</span>&nbsp;<span class="ident" id="8345345">benchmark</span><span class="op" id="8345354">(</span><span class="ident" id="8345355">b</span><span class="op" id="8345356">,</span>&nbsp;<span class="ident" id="8345358">easy0</span><span class="op" id="8345363">,</span>&nbsp;<span class="num" id="8345365">1</span><span class="op" id="8345366">&lt;&lt;</span><span class="num" id="8345368">10</span><span class="op" id="8345370">)</span>&nbsp;<span class="op" id="8345372">}</span><br>
<span class="lineno"></span><span class="keyword" id="8345374">func</span>&nbsp;<span class="ident" id="8345379">BenchmarkMatchEasy0_32K</span><span class="op" id="8345402">(</span><span class="ident" id="8345403">b</span>&nbsp;<span class="op" id="8345405">*</span><span class="ident" id="8345406">testing</span><span class="op" id="8345413">.</span><span class="ident" id="8345414">B</span><span class="op" id="8345415">)</span>&nbsp;&nbsp;<span class="op" id="8345418">{</span>&nbsp;<span class="ident" id="8345420">benchmark</span><span class="op" id="8345429">(</span><span class="ident" id="8345430">b</span><span class="op" id="8345431">,</span>&nbsp;<span class="ident" id="8345433">easy0</span><span class="op" id="8345438">,</span>&nbsp;<span class="num" id="8345440">32</span><span class="op" id="8345442">&lt;&lt;</span><span class="num" id="8345444">10</span><span class="op" id="8345446">)</span>&nbsp;<span class="op" id="8345448">}</span><br>
<span class="lineno">685</span><span class="keyword" id="8345450">func</span>&nbsp;<span class="ident" id="8345455">BenchmarkMatchEasy0_1M</span><span class="op" id="8345477">(</span><span class="ident" id="8345478">b</span>&nbsp;<span class="op" id="8345480">*</span><span class="ident" id="8345481">testing</span><span class="op" id="8345488">.</span><span class="ident" id="8345489">B</span><span class="op" id="8345490">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8345494">{</span>&nbsp;<span class="ident" id="8345496">benchmark</span><span class="op" id="8345505">(</span><span class="ident" id="8345506">b</span><span class="op" id="8345507">,</span>&nbsp;<span class="ident" id="8345509">easy0</span><span class="op" id="8345514">,</span>&nbsp;<span class="num" id="8345516">1</span><span class="op" id="8345517">&lt;&lt;</span><span class="num" id="8345519">20</span><span class="op" id="8345521">)</span>&nbsp;<span class="op" id="8345523">}</span><br>
<span class="lineno"></span><span class="keyword" id="8345525">func</span>&nbsp;<span class="ident" id="8345530">BenchmarkMatchEasy0_32M</span><span class="op" id="8345553">(</span><span class="ident" id="8345554">b</span>&nbsp;<span class="op" id="8345556">*</span><span class="ident" id="8345557">testing</span><span class="op" id="8345564">.</span><span class="ident" id="8345565">B</span><span class="op" id="8345566">)</span>&nbsp;&nbsp;<span class="op" id="8345569">{</span>&nbsp;<span class="ident" id="8345571">benchmark</span><span class="op" id="8345580">(</span><span class="ident" id="8345581">b</span><span class="op" id="8345582">,</span>&nbsp;<span class="ident" id="8345584">easy0</span><span class="op" id="8345589">,</span>&nbsp;<span class="num" id="8345591">32</span><span class="op" id="8345593">&lt;&lt;</span><span class="num" id="8345595">20</span><span class="op" id="8345597">)</span>&nbsp;<span class="op" id="8345599">}</span><br>
<span class="lineno"></span><span class="keyword" id="8345601">func</span>&nbsp;<span class="ident" id="8345606">BenchmarkMatchEasy1_32</span><span class="op" id="8345628">(</span><span class="ident" id="8345629">b</span>&nbsp;<span class="op" id="8345631">*</span><span class="ident" id="8345632">testing</span><span class="op" id="8345639">.</span><span class="ident" id="8345640">B</span><span class="op" id="8345641">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8345645">{</span>&nbsp;<span class="ident" id="8345647">benchmark</span><span class="op" id="8345656">(</span><span class="ident" id="8345657">b</span><span class="op" id="8345658">,</span>&nbsp;<span class="ident" id="8345660">easy1</span><span class="op" id="8345665">,</span>&nbsp;<span class="num" id="8345667">32</span><span class="op" id="8345669">&lt;&lt;</span><span class="num" id="8345671">0</span><span class="op" id="8345672">)</span>&nbsp;<span class="op" id="8345674">}</span><br>
<span class="lineno"></span><span class="keyword" id="8345676">func</span>&nbsp;<span class="ident" id="8345681">BenchmarkMatchEasy1_1K</span><span class="op" id="8345703">(</span><span class="ident" id="8345704">b</span>&nbsp;<span class="op" id="8345706">*</span><span class="ident" id="8345707">testing</span><span class="op" id="8345714">.</span><span class="ident" id="8345715">B</span><span class="op" id="8345716">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8345720">{</span>&nbsp;<span class="ident" id="8345722">benchmark</span><span class="op" id="8345731">(</span><span class="ident" id="8345732">b</span><span class="op" id="8345733">,</span>&nbsp;<span class="ident" id="8345735">easy1</span><span class="op" id="8345740">,</span>&nbsp;<span class="num" id="8345742">1</span><span class="op" id="8345743">&lt;&lt;</span><span class="num" id="8345745">10</span><span class="op" id="8345747">)</span>&nbsp;<span class="op" id="8345749">}</span><br>
<span class="lineno"></span><span class="keyword" id="8345751">func</span>&nbsp;<span class="ident" id="8345756">BenchmarkMatchEasy1_32K</span><span class="op" id="8345779">(</span><span class="ident" id="8345780">b</span>&nbsp;<span class="op" id="8345782">*</span><span class="ident" id="8345783">testing</span><span class="op" id="8345790">.</span><span class="ident" id="8345791">B</span><span class="op" id="8345792">)</span>&nbsp;&nbsp;<span class="op" id="8345795">{</span>&nbsp;<span class="ident" id="8345797">benchmark</span><span class="op" id="8345806">(</span><span class="ident" id="8345807">b</span><span class="op" id="8345808">,</span>&nbsp;<span class="ident" id="8345810">easy1</span><span class="op" id="8345815">,</span>&nbsp;<span class="num" id="8345817">32</span><span class="op" id="8345819">&lt;&lt;</span><span class="num" id="8345821">10</span><span class="op" id="8345823">)</span>&nbsp;<span class="op" id="8345825">}</span><br>
<span class="lineno">690</span><span class="keyword" id="8345827">func</span>&nbsp;<span class="ident" id="8345832">BenchmarkMatchEasy1_1M</span><span class="op" id="8345854">(</span><span class="ident" id="8345855">b</span>&nbsp;<span class="op" id="8345857">*</span><span class="ident" id="8345858">testing</span><span class="op" id="8345865">.</span><span class="ident" id="8345866">B</span><span class="op" id="8345867">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8345871">{</span>&nbsp;<span class="ident" id="8345873">benchmark</span><span class="op" id="8345882">(</span><span class="ident" id="8345883">b</span><span class="op" id="8345884">,</span>&nbsp;<span class="ident" id="8345886">easy1</span><span class="op" id="8345891">,</span>&nbsp;<span class="num" id="8345893">1</span><span class="op" id="8345894">&lt;&lt;</span><span class="num" id="8345896">20</span><span class="op" id="8345898">)</span>&nbsp;<span class="op" id="8345900">}</span><br>
<span class="lineno"></span><span class="keyword" id="8345902">func</span>&nbsp;<span class="ident" id="8345907">BenchmarkMatchEasy1_32M</span><span class="op" id="8345930">(</span><span class="ident" id="8345931">b</span>&nbsp;<span class="op" id="8345933">*</span><span class="ident" id="8345934">testing</span><span class="op" id="8345941">.</span><span class="ident" id="8345942">B</span><span class="op" id="8345943">)</span>&nbsp;&nbsp;<span class="op" id="8345946">{</span>&nbsp;<span class="ident" id="8345948">benchmark</span><span class="op" id="8345957">(</span><span class="ident" id="8345958">b</span><span class="op" id="8345959">,</span>&nbsp;<span class="ident" id="8345961">easy1</span><span class="op" id="8345966">,</span>&nbsp;<span class="num" id="8345968">32</span><span class="op" id="8345970">&lt;&lt;</span><span class="num" id="8345972">20</span><span class="op" id="8345974">)</span>&nbsp;<span class="op" id="8345976">}</span><br>
<span class="lineno"></span><span class="keyword" id="8345978">func</span>&nbsp;<span class="ident" id="8345983">BenchmarkMatchMedium_32</span><span class="op" id="8346006">(</span><span class="ident" id="8346007">b</span>&nbsp;<span class="op" id="8346009">*</span><span class="ident" id="8346010">testing</span><span class="op" id="8346017">.</span><span class="ident" id="8346018">B</span><span class="op" id="8346019">)</span>&nbsp;&nbsp;<span class="op" id="8346022">{</span>&nbsp;<span class="ident" id="8346024">benchmark</span><span class="op" id="8346033">(</span><span class="ident" id="8346034">b</span><span class="op" id="8346035">,</span>&nbsp;<span class="ident" id="8346037">medium</span><span class="op" id="8346043">,</span>&nbsp;<span class="num" id="8346045">32</span><span class="op" id="8346047">&lt;&lt;</span><span class="num" id="8346049">0</span><span class="op" id="8346050">)</span>&nbsp;<span class="op" id="8346052">}</span><br>
<span class="lineno"></span><span class="keyword" id="8346054">func</span>&nbsp;<span class="ident" id="8346059">BenchmarkMatchMedium_1K</span><span class="op" id="8346082">(</span><span class="ident" id="8346083">b</span>&nbsp;<span class="op" id="8346085">*</span><span class="ident" id="8346086">testing</span><span class="op" id="8346093">.</span><span class="ident" id="8346094">B</span><span class="op" id="8346095">)</span>&nbsp;&nbsp;<span class="op" id="8346098">{</span>&nbsp;<span class="ident" id="8346100">benchmark</span><span class="op" id="8346109">(</span><span class="ident" id="8346110">b</span><span class="op" id="8346111">,</span>&nbsp;<span class="ident" id="8346113">medium</span><span class="op" id="8346119">,</span>&nbsp;<span class="num" id="8346121">1</span><span class="op" id="8346122">&lt;&lt;</span><span class="num" id="8346124">10</span><span class="op" id="8346126">)</span>&nbsp;<span class="op" id="8346128">}</span><br>
<span class="lineno"></span><span class="keyword" id="8346130">func</span>&nbsp;<span class="ident" id="8346135">BenchmarkMatchMedium_32K</span><span class="op" id="8346159">(</span><span class="ident" id="8346160">b</span>&nbsp;<span class="op" id="8346162">*</span><span class="ident" id="8346163">testing</span><span class="op" id="8346170">.</span><span class="ident" id="8346171">B</span><span class="op" id="8346172">)</span>&nbsp;<span class="op" id="8346174">{</span>&nbsp;<span class="ident" id="8346176">benchmark</span><span class="op" id="8346185">(</span><span class="ident" id="8346186">b</span><span class="op" id="8346187">,</span>&nbsp;<span class="ident" id="8346189">medium</span><span class="op" id="8346195">,</span>&nbsp;<span class="num" id="8346197">32</span><span class="op" id="8346199">&lt;&lt;</span><span class="num" id="8346201">10</span><span class="op" id="8346203">)</span>&nbsp;<span class="op" id="8346205">}</span><br>
<span class="lineno">695</span><span class="keyword" id="8346207">func</span>&nbsp;<span class="ident" id="8346212">BenchmarkMatchMedium_1M</span><span class="op" id="8346235">(</span><span class="ident" id="8346236">b</span>&nbsp;<span class="op" id="8346238">*</span><span class="ident" id="8346239">testing</span><span class="op" id="8346246">.</span><span class="ident" id="8346247">B</span><span class="op" id="8346248">)</span>&nbsp;&nbsp;<span class="op" id="8346251">{</span>&nbsp;<span class="ident" id="8346253">benchmark</span><span class="op" id="8346262">(</span><span class="ident" id="8346263">b</span><span class="op" id="8346264">,</span>&nbsp;<span class="ident" id="8346266">medium</span><span class="op" id="8346272">,</span>&nbsp;<span class="num" id="8346274">1</span><span class="op" id="8346275">&lt;&lt;</span><span class="num" id="8346277">20</span><span class="op" id="8346279">)</span>&nbsp;<span class="op" id="8346281">}</span><br>
<span class="lineno"></span><span class="keyword" id="8346283">func</span>&nbsp;<span class="ident" id="8346288">BenchmarkMatchMedium_32M</span><span class="op" id="8346312">(</span><span class="ident" id="8346313">b</span>&nbsp;<span class="op" id="8346315">*</span><span class="ident" id="8346316">testing</span><span class="op" id="8346323">.</span><span class="ident" id="8346324">B</span><span class="op" id="8346325">)</span>&nbsp;<span class="op" id="8346327">{</span>&nbsp;<span class="ident" id="8346329">benchmark</span><span class="op" id="8346338">(</span><span class="ident" id="8346339">b</span><span class="op" id="8346340">,</span>&nbsp;<span class="ident" id="8346342">medium</span><span class="op" id="8346348">,</span>&nbsp;<span class="num" id="8346350">32</span><span class="op" id="8346352">&lt;&lt;</span><span class="num" id="8346354">20</span><span class="op" id="8346356">)</span>&nbsp;<span class="op" id="8346358">}</span><br>
<span class="lineno"></span><span class="keyword" id="8346360">func</span>&nbsp;<span class="ident" id="8346365">BenchmarkMatchHard_32</span><span class="op" id="8346386">(</span><span class="ident" id="8346387">b</span>&nbsp;<span class="op" id="8346389">*</span><span class="ident" id="8346390">testing</span><span class="op" id="8346397">.</span><span class="ident" id="8346398">B</span><span class="op" id="8346399">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8346404">{</span>&nbsp;<span class="ident" id="8346406">benchmark</span><span class="op" id="8346415">(</span><span class="ident" id="8346416">b</span><span class="op" id="8346417">,</span>&nbsp;<span class="ident" id="8346419">hard</span><span class="op" id="8346423">,</span>&nbsp;<span class="num" id="8346425">32</span><span class="op" id="8346427">&lt;&lt;</span><span class="num" id="8346429">0</span><span class="op" id="8346430">)</span>&nbsp;<span class="op" id="8346432">}</span><br>
<span class="lineno"></span><span class="keyword" id="8346434">func</span>&nbsp;<span class="ident" id="8346439">BenchmarkMatchHard_1K</span><span class="op" id="8346460">(</span><span class="ident" id="8346461">b</span>&nbsp;<span class="op" id="8346463">*</span><span class="ident" id="8346464">testing</span><span class="op" id="8346471">.</span><span class="ident" id="8346472">B</span><span class="op" id="8346473">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8346478">{</span>&nbsp;<span class="ident" id="8346480">benchmark</span><span class="op" id="8346489">(</span><span class="ident" id="8346490">b</span><span class="op" id="8346491">,</span>&nbsp;<span class="ident" id="8346493">hard</span><span class="op" id="8346497">,</span>&nbsp;<span class="num" id="8346499">1</span><span class="op" id="8346500">&lt;&lt;</span><span class="num" id="8346502">10</span><span class="op" id="8346504">)</span>&nbsp;<span class="op" id="8346506">}</span><br>
<span class="lineno"></span><span class="keyword" id="8346508">func</span>&nbsp;<span class="ident" id="8346513">BenchmarkMatchHard_32K</span><span class="op" id="8346535">(</span><span class="ident" id="8346536">b</span>&nbsp;<span class="op" id="8346538">*</span><span class="ident" id="8346539">testing</span><span class="op" id="8346546">.</span><span class="ident" id="8346547">B</span><span class="op" id="8346548">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8346552">{</span>&nbsp;<span class="ident" id="8346554">benchmark</span><span class="op" id="8346563">(</span><span class="ident" id="8346564">b</span><span class="op" id="8346565">,</span>&nbsp;<span class="ident" id="8346567">hard</span><span class="op" id="8346571">,</span>&nbsp;<span class="num" id="8346573">32</span><span class="op" id="8346575">&lt;&lt;</span><span class="num" id="8346577">10</span><span class="op" id="8346579">)</span>&nbsp;<span class="op" id="8346581">}</span><br>
<span class="lineno">700</span><span class="keyword" id="8346583">func</span>&nbsp;<span class="ident" id="8346588">BenchmarkMatchHard_1M</span><span class="op" id="8346609">(</span><span class="ident" id="8346610">b</span>&nbsp;<span class="op" id="8346612">*</span><span class="ident" id="8346613">testing</span><span class="op" id="8346620">.</span><span class="ident" id="8346621">B</span><span class="op" id="8346622">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8346627">{</span>&nbsp;<span class="ident" id="8346629">benchmark</span><span class="op" id="8346638">(</span><span class="ident" id="8346639">b</span><span class="op" id="8346640">,</span>&nbsp;<span class="ident" id="8346642">hard</span><span class="op" id="8346646">,</span>&nbsp;<span class="num" id="8346648">1</span><span class="op" id="8346649">&lt;&lt;</span><span class="num" id="8346651">20</span><span class="op" id="8346653">)</span>&nbsp;<span class="op" id="8346655">}</span><br>
<span class="lineno"></span><span class="keyword" id="8346657">func</span>&nbsp;<span class="ident" id="8346662">BenchmarkMatchHard_32M</span><span class="op" id="8346684">(</span><span class="ident" id="8346685">b</span>&nbsp;<span class="op" id="8346687">*</span><span class="ident" id="8346688">testing</span><span class="op" id="8346695">.</span><span class="ident" id="8346696">B</span><span class="op" id="8346697">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8346701">{</span>&nbsp;<span class="ident" id="8346703">benchmark</span><span class="op" id="8346712">(</span><span class="ident" id="8346713">b</span><span class="op" id="8346714">,</span>&nbsp;<span class="ident" id="8346716">hard</span><span class="op" id="8346720">,</span>&nbsp;<span class="num" id="8346722">32</span><span class="op" id="8346724">&lt;&lt;</span><span class="num" id="8346726">20</span><span class="op" id="8346728">)</span>&nbsp;<span class="op" id="8346730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8346733">func</span>&nbsp;<span class="ident" id="8346738">TestLongest</span><span class="op" id="8346749">(</span><span class="ident" id="8346750">t</span>&nbsp;<span class="op" id="8346752">*</span><span class="ident" id="8346753">testing</span><span class="op" id="8346760">.</span><span class="ident" id="8346761">T</span><span class="op" id="8346762">)</span>&nbsp;<span class="op" id="8346764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346767">re</span><span class="op" id="8346769">,</span>&nbsp;<span class="ident" id="8346771">err</span>&nbsp;<span class="op" id="8346775">:=</span>&nbsp;<span class="ident" id="8346778">Compile</span><span class="op" id="8346785">(</span><span class="string" id="8346786">`a(|b)`</span><span class="op" id="8346793">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8346796">if</span>&nbsp;<span class="ident" id="8346799">err</span>&nbsp;<span class="op" id="8346803">!=</span>&nbsp;<span class="ident" id="8346806">nil</span>&nbsp;<span class="op" id="8346810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346814">t</span><span class="op" id="8346815">.</span><span class="ident" id="8346816">Fatal</span><span class="op" id="8346821">(</span><span class="ident" id="8346822">err</span><span class="op" id="8346825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8346828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8346831">if</span>&nbsp;<span class="ident" id="8346834">g</span><span class="op" id="8346835">,</span>&nbsp;<span class="ident" id="8346837">w</span>&nbsp;<span class="op" id="8346839">:=</span>&nbsp;<span class="ident" id="8346842">re</span><span class="op" id="8346844">.</span><span class="ident" id="8346845">FindString</span><span class="op" id="8346855">(</span><span class="string" id="8346856">&#34;ab&#34;</span><span class="op" id="8346860">)</span><span class="op" id="8346861">,</span>&nbsp;<span class="string" id="8346863">&#34;a&#34;</span><span class="op" id="8346866">;</span>&nbsp;<span class="ident" id="8346868">g</span>&nbsp;<span class="op" id="8346870">!=</span>&nbsp;<span class="ident" id="8346873">w</span>&nbsp;<span class="op" id="8346875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346879">t</span><span class="op" id="8346880">.</span><span class="ident" id="8346881">Errorf</span><span class="op" id="8346887">(</span><span class="string" id="8346888">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8346917">,</span>&nbsp;<span class="ident" id="8346919">g</span><span class="op" id="8346920">,</span>&nbsp;<span class="ident" id="8346922">w</span><span class="op" id="8346923">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8346926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346929">re</span><span class="op" id="8346931">.</span><span class="ident" id="8346932">Longest</span><span class="op" id="8346939">(</span><span class="op" id="8346940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8346943">if</span>&nbsp;<span class="ident" id="8346946">g</span><span class="op" id="8346947">,</span>&nbsp;<span class="ident" id="8346949">w</span>&nbsp;<span class="op" id="8346951">:=</span>&nbsp;<span class="ident" id="8346954">re</span><span class="op" id="8346956">.</span><span class="ident" id="8346957">FindString</span><span class="op" id="8346967">(</span><span class="string" id="8346968">&#34;ab&#34;</span><span class="op" id="8346972">)</span><span class="op" id="8346973">,</span>&nbsp;<span class="string" id="8346975">&#34;ab&#34;</span><span class="op" id="8346979">;</span>&nbsp;<span class="ident" id="8346981">g</span>&nbsp;<span class="op" id="8346983">!=</span>&nbsp;<span class="ident" id="8346986">w</span>&nbsp;<span class="op" id="8346988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346992">t</span><span class="op" id="8346993">.</span><span class="ident" id="8346994">Errorf</span><span class="op" id="8347000">(</span><span class="string" id="8347001">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8347032">,</span>&nbsp;<span class="ident" id="8347034">g</span><span class="op" id="8347035">,</span>&nbsp;<span class="ident" id="8347037">w</span><span class="op" id="8347038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8347041">}</span><br>
<span class="lineno">715</span><span class="op" id="8347043">}</span>
</div>
</body>
</html>
