<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html" class="current">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7015892">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7015947">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7016001">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7016052">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="7016117">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="7016176">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7016234">package</span>&nbsp;<span class="ident" id="7016242">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7016247">import</span>&nbsp;<span class="op" id="7016254">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7016257">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7016264">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7016274">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7016277">type</span>&nbsp;<span class="ident" id="7016282">matrix</span>&nbsp;<span class="keyword" id="7016289">struct</span>&nbsp;<span class="op" id="7016296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016299">n</span><span class="op" id="7016300">,</span>&nbsp;<span class="ident" id="7016302">m</span>&nbsp;<span class="builtintype" id="7016304">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016309">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016314">[</span><span class="op" id="7016315">]</span><span class="op" id="7016316">*</span><span class="ident" id="7016317">Rat</span><br>
<span class="lineno"></span><span class="op" id="7016321">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7016324">func</span>&nbsp;<span class="op" id="7016329">(</span><span class="ident" id="7016330">a</span>&nbsp;<span class="op" id="7016332">*</span><span class="ident" id="7016333">matrix</span><span class="op" id="7016339">)</span>&nbsp;<span class="ident" id="7016341">at</span><span class="op" id="7016343">(</span><span class="ident" id="7016344">i</span><span class="op" id="7016345">,</span>&nbsp;<span class="ident" id="7016347">j</span>&nbsp;<span class="builtintype" id="7016349">int</span><span class="op" id="7016352">)</span>&nbsp;<span class="op" id="7016354">*</span><span class="ident" id="7016355">Rat</span>&nbsp;<span class="op" id="7016359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7016362">if</span>&nbsp;<span class="op" id="7016365">!</span><span class="op" id="7016366">(</span><span class="num" id="7016367">0</span>&nbsp;<span class="op" id="7016369">&lt;=</span>&nbsp;<span class="ident" id="7016372">i</span>&nbsp;<span class="op" id="7016374">&amp;&amp;</span>&nbsp;<span class="ident" id="7016377">i</span>&nbsp;<span class="op" id="7016379">&lt;</span>&nbsp;<span class="ident" id="7016381">a</span><span class="op" id="7016382">.</span><span class="ident" id="7016383">n</span>&nbsp;<span class="op" id="7016385">&amp;&amp;</span>&nbsp;<span class="num" id="7016388">0</span>&nbsp;<span class="op" id="7016390">&lt;=</span>&nbsp;<span class="ident" id="7016393">j</span>&nbsp;<span class="op" id="7016395">&amp;&amp;</span>&nbsp;<span class="ident" id="7016398">j</span>&nbsp;<span class="op" id="7016400">&lt;</span>&nbsp;<span class="ident" id="7016402">a</span><span class="op" id="7016403">.</span><span class="ident" id="7016404">m</span><span class="op" id="7016405">)</span>&nbsp;<span class="op" id="7016407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7016411">panic</span><span class="op" id="7016416">(</span><span class="string" id="7016417">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7016437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016440">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7016443">return</span>&nbsp;<span class="ident" id="7016450">a</span><span class="op" id="7016451">.</span><span class="ident" id="7016452">a</span><span class="op" id="7016453">[</span><span class="ident" id="7016454">i</span><span class="op" id="7016455">*</span><span class="ident" id="7016456">a</span><span class="op" id="7016457">.</span><span class="ident" id="7016458">m</span><span class="op" id="7016459">+</span><span class="ident" id="7016460">j</span><span class="op" id="7016461">]</span><br>
<span class="lineno"></span><span class="op" id="7016463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7016466">func</span>&nbsp;<span class="op" id="7016471">(</span><span class="ident" id="7016472">a</span>&nbsp;<span class="op" id="7016474">*</span><span class="ident" id="7016475">matrix</span><span class="op" id="7016481">)</span>&nbsp;<span class="ident" id="7016483">set</span><span class="op" id="7016486">(</span><span class="ident" id="7016487">i</span><span class="op" id="7016488">,</span>&nbsp;<span class="ident" id="7016490">j</span>&nbsp;<span class="builtintype" id="7016492">int</span><span class="op" id="7016495">,</span>&nbsp;<span class="ident" id="7016497">x</span>&nbsp;<span class="op" id="7016499">*</span><span class="ident" id="7016500">Rat</span><span class="op" id="7016503">)</span>&nbsp;<span class="op" id="7016505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7016508">if</span>&nbsp;<span class="op" id="7016511">!</span><span class="op" id="7016512">(</span><span class="num" id="7016513">0</span>&nbsp;<span class="op" id="7016515">&lt;=</span>&nbsp;<span class="ident" id="7016518">i</span>&nbsp;<span class="op" id="7016520">&amp;&amp;</span>&nbsp;<span class="ident" id="7016523">i</span>&nbsp;<span class="op" id="7016525">&lt;</span>&nbsp;<span class="ident" id="7016527">a</span><span class="op" id="7016528">.</span><span class="ident" id="7016529">n</span>&nbsp;<span class="op" id="7016531">&amp;&amp;</span>&nbsp;<span class="num" id="7016534">0</span>&nbsp;<span class="op" id="7016536">&lt;=</span>&nbsp;<span class="ident" id="7016539">j</span>&nbsp;<span class="op" id="7016541">&amp;&amp;</span>&nbsp;<span class="ident" id="7016544">j</span>&nbsp;<span class="op" id="7016546">&lt;</span>&nbsp;<span class="ident" id="7016548">a</span><span class="op" id="7016549">.</span><span class="ident" id="7016550">m</span><span class="op" id="7016551">)</span>&nbsp;<span class="op" id="7016553">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7016557">panic</span><span class="op" id="7016562">(</span><span class="string" id="7016563">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7016583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016589">a</span><span class="op" id="7016590">.</span><span class="ident" id="7016591">a</span><span class="op" id="7016592">[</span><span class="ident" id="7016593">i</span><span class="op" id="7016594">*</span><span class="ident" id="7016595">a</span><span class="op" id="7016596">.</span><span class="ident" id="7016597">m</span><span class="op" id="7016598">+</span><span class="ident" id="7016599">j</span><span class="op" id="7016600">]</span>&nbsp;<span class="op" id="7016602">=</span>&nbsp;<span class="ident" id="7016604">x</span><br>
<span class="lineno"></span><span class="op" id="7016606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="7016609">func</span>&nbsp;<span class="ident" id="7016614">newMatrix</span><span class="op" id="7016623">(</span><span class="ident" id="7016624">n</span><span class="op" id="7016625">,</span>&nbsp;<span class="ident" id="7016627">m</span>&nbsp;<span class="builtintype" id="7016629">int</span><span class="op" id="7016632">)</span>&nbsp;<span class="op" id="7016634">*</span><span class="ident" id="7016635">matrix</span>&nbsp;<span class="op" id="7016642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7016645">if</span>&nbsp;<span class="op" id="7016648">!</span><span class="op" id="7016649">(</span><span class="num" id="7016650">0</span>&nbsp;<span class="op" id="7016652">&lt;=</span>&nbsp;<span class="ident" id="7016655">n</span>&nbsp;<span class="op" id="7016657">&amp;&amp;</span>&nbsp;<span class="num" id="7016660">0</span>&nbsp;<span class="op" id="7016662">&lt;=</span>&nbsp;<span class="ident" id="7016665">m</span><span class="op" id="7016666">)</span>&nbsp;<span class="op" id="7016668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7016672">panic</span><span class="op" id="7016677">(</span><span class="string" id="7016678">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="7016694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016700">a</span>&nbsp;<span class="op" id="7016702">:=</span>&nbsp;<span class="builtinfunc" id="7016705">new</span><span class="op" id="7016708">(</span><span class="ident" id="7016709">matrix</span><span class="op" id="7016715">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016718">a</span><span class="op" id="7016719">.</span><span class="ident" id="7016720">n</span>&nbsp;<span class="op" id="7016722">=</span>&nbsp;<span class="ident" id="7016724">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016727">a</span><span class="op" id="7016728">.</span><span class="ident" id="7016729">m</span>&nbsp;<span class="op" id="7016731">=</span>&nbsp;<span class="ident" id="7016733">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016736">a</span><span class="op" id="7016737">.</span><span class="ident" id="7016738">a</span>&nbsp;<span class="op" id="7016740">=</span>&nbsp;<span class="builtinfunc" id="7016742">make</span><span class="op" id="7016746">(</span><span class="op" id="7016747">[</span><span class="op" id="7016748">]</span><span class="op" id="7016749">*</span><span class="ident" id="7016750">Rat</span><span class="op" id="7016753">,</span>&nbsp;<span class="ident" id="7016755">n</span><span class="op" id="7016756">*</span><span class="ident" id="7016757">m</span><span class="op" id="7016758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7016761">return</span>&nbsp;<span class="ident" id="7016768">a</span><br>
<span class="lineno"></span><span class="op" id="7016770">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7016773">func</span>&nbsp;<span class="ident" id="7016778">newUnit</span><span class="op" id="7016785">(</span><span class="ident" id="7016786">n</span>&nbsp;<span class="builtintype" id="7016788">int</span><span class="op" id="7016791">)</span>&nbsp;<span class="op" id="7016793">*</span><span class="ident" id="7016794">matrix</span>&nbsp;<span class="op" id="7016801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016804">a</span>&nbsp;<span class="op" id="7016806">:=</span>&nbsp;<span class="ident" id="7016809">newMatrix</span><span class="op" id="7016818">(</span><span class="ident" id="7016819">n</span><span class="op" id="7016820">,</span>&nbsp;<span class="ident" id="7016822">n</span><span class="op" id="7016823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7016826">for</span>&nbsp;<span class="ident" id="7016830">i</span>&nbsp;<span class="op" id="7016832">:=</span>&nbsp;<span class="num" id="7016835">0</span><span class="op" id="7016836">;</span>&nbsp;<span class="ident" id="7016838">i</span>&nbsp;<span class="op" id="7016840">&lt;</span>&nbsp;<span class="ident" id="7016842">n</span><span class="op" id="7016843">;</span>&nbsp;<span class="ident" id="7016845">i</span><span class="op" id="7016846">++</span>&nbsp;<span class="op" id="7016849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7016853">for</span>&nbsp;<span class="ident" id="7016857">j</span>&nbsp;<span class="op" id="7016859">:=</span>&nbsp;<span class="num" id="7016862">0</span><span class="op" id="7016863">;</span>&nbsp;<span class="ident" id="7016865">j</span>&nbsp;<span class="op" id="7016867">&lt;</span>&nbsp;<span class="ident" id="7016869">n</span><span class="op" id="7016870">;</span>&nbsp;<span class="ident" id="7016872">j</span><span class="op" id="7016873">++</span>&nbsp;<span class="op" id="7016876">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016881">x</span>&nbsp;<span class="op" id="7016883">:=</span>&nbsp;<span class="ident" id="7016886">NewRat</span><span class="op" id="7016892">(</span><span class="num" id="7016893">0</span><span class="op" id="7016894">,</span>&nbsp;<span class="num" id="7016896">1</span><span class="op" id="7016897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7016902">if</span>&nbsp;<span class="ident" id="7016905">i</span>&nbsp;<span class="op" id="7016907">==</span>&nbsp;<span class="ident" id="7016910">j</span>&nbsp;<span class="op" id="7016912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016918">x</span><span class="op" id="7016919">.</span><span class="ident" id="7016920">SetInt64</span><span class="op" id="7016928">(</span><span class="num" id="7016929">1</span><span class="op" id="7016930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7016940">a</span><span class="op" id="7016941">.</span><span class="ident" id="7016942">set</span><span class="op" id="7016945">(</span><span class="ident" id="7016946">i</span><span class="op" id="7016947">,</span>&nbsp;<span class="ident" id="7016949">j</span><span class="op" id="7016950">,</span>&nbsp;<span class="ident" id="7016952">x</span><span class="op" id="7016953">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7016963">return</span>&nbsp;<span class="ident" id="7016970">a</span><br>
<span class="lineno"></span><span class="op" id="7016972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7016975">func</span>&nbsp;<span class="ident" id="7016980">newHilbert</span><span class="op" id="7016990">(</span><span class="ident" id="7016991">n</span>&nbsp;<span class="builtintype" id="7016993">int</span><span class="op" id="7016996">)</span>&nbsp;<span class="op" id="7016998">*</span><span class="ident" id="7016999">matrix</span>&nbsp;<span class="op" id="7017006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017009">a</span>&nbsp;<span class="op" id="7017011">:=</span>&nbsp;<span class="ident" id="7017014">newMatrix</span><span class="op" id="7017023">(</span><span class="ident" id="7017024">n</span><span class="op" id="7017025">,</span>&nbsp;<span class="ident" id="7017027">n</span><span class="op" id="7017028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017031">for</span>&nbsp;<span class="ident" id="7017035">i</span>&nbsp;<span class="op" id="7017037">:=</span>&nbsp;<span class="num" id="7017040">0</span><span class="op" id="7017041">;</span>&nbsp;<span class="ident" id="7017043">i</span>&nbsp;<span class="op" id="7017045">&lt;</span>&nbsp;<span class="ident" id="7017047">n</span><span class="op" id="7017048">;</span>&nbsp;<span class="ident" id="7017050">i</span><span class="op" id="7017051">++</span>&nbsp;<span class="op" id="7017054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017058">for</span>&nbsp;<span class="ident" id="7017062">j</span>&nbsp;<span class="op" id="7017064">:=</span>&nbsp;<span class="num" id="7017067">0</span><span class="op" id="7017068">;</span>&nbsp;<span class="ident" id="7017070">j</span>&nbsp;<span class="op" id="7017072">&lt;</span>&nbsp;<span class="ident" id="7017074">n</span><span class="op" id="7017075">;</span>&nbsp;<span class="ident" id="7017077">j</span><span class="op" id="7017078">++</span>&nbsp;<span class="op" id="7017081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017086">a</span><span class="op" id="7017087">.</span><span class="ident" id="7017088">set</span><span class="op" id="7017091">(</span><span class="ident" id="7017092">i</span><span class="op" id="7017093">,</span>&nbsp;<span class="ident" id="7017095">j</span><span class="op" id="7017096">,</span>&nbsp;<span class="ident" id="7017098">NewRat</span><span class="op" id="7017104">(</span><span class="num" id="7017105">1</span><span class="op" id="7017106">,</span>&nbsp;<span class="ident" id="7017108">int64</span><span class="op" id="7017113">(</span><span class="ident" id="7017114">i</span><span class="op" id="7017115">+</span><span class="ident" id="7017116">j</span><span class="op" id="7017117">+</span><span class="num" id="7017118">1</span><span class="op" id="7017119">)</span><span class="op" id="7017120">)</span><span class="op" id="7017121">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7017125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7017128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017131">return</span>&nbsp;<span class="ident" id="7017138">a</span><br>
<span class="lineno"></span><span class="op" id="7017140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7017143">func</span>&nbsp;<span class="ident" id="7017148">newInverseHilbert</span><span class="op" id="7017165">(</span><span class="ident" id="7017166">n</span>&nbsp;<span class="builtintype" id="7017168">int</span><span class="op" id="7017171">)</span>&nbsp;<span class="op" id="7017173">*</span><span class="ident" id="7017174">matrix</span>&nbsp;<span class="op" id="7017181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017184">a</span>&nbsp;<span class="op" id="7017186">:=</span>&nbsp;<span class="ident" id="7017189">newMatrix</span><span class="op" id="7017198">(</span><span class="ident" id="7017199">n</span><span class="op" id="7017200">,</span>&nbsp;<span class="ident" id="7017202">n</span><span class="op" id="7017203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017206">for</span>&nbsp;<span class="ident" id="7017210">i</span>&nbsp;<span class="op" id="7017212">:=</span>&nbsp;<span class="num" id="7017215">0</span><span class="op" id="7017216">;</span>&nbsp;<span class="ident" id="7017218">i</span>&nbsp;<span class="op" id="7017220">&lt;</span>&nbsp;<span class="ident" id="7017222">n</span><span class="op" id="7017223">;</span>&nbsp;<span class="ident" id="7017225">i</span><span class="op" id="7017226">++</span>&nbsp;<span class="op" id="7017229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017233">for</span>&nbsp;<span class="ident" id="7017237">j</span>&nbsp;<span class="op" id="7017239">:=</span>&nbsp;<span class="num" id="7017242">0</span><span class="op" id="7017243">;</span>&nbsp;<span class="ident" id="7017245">j</span>&nbsp;<span class="op" id="7017247">&lt;</span>&nbsp;<span class="ident" id="7017249">n</span><span class="op" id="7017250">;</span>&nbsp;<span class="ident" id="7017252">j</span><span class="op" id="7017253">++</span>&nbsp;<span class="op" id="7017256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017261">x1</span>&nbsp;<span class="op" id="7017264">:=</span>&nbsp;<span class="builtinfunc" id="7017267">new</span><span class="op" id="7017270">(</span><span class="ident" id="7017271">Rat</span><span class="op" id="7017274">)</span><span class="op" id="7017275">.</span><span class="ident" id="7017276">SetInt64</span><span class="op" id="7017284">(</span><span class="ident" id="7017285">int64</span><span class="op" id="7017290">(</span><span class="ident" id="7017291">i</span>&nbsp;<span class="op" id="7017293">+</span>&nbsp;<span class="ident" id="7017295">j</span>&nbsp;<span class="op" id="7017297">+</span>&nbsp;<span class="num" id="7017299">1</span><span class="op" id="7017300">)</span><span class="op" id="7017301">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017306">x2</span>&nbsp;<span class="op" id="7017309">:=</span>&nbsp;<span class="builtinfunc" id="7017312">new</span><span class="op" id="7017315">(</span><span class="ident" id="7017316">Rat</span><span class="op" id="7017319">)</span><span class="op" id="7017320">.</span><span class="ident" id="7017321">SetInt</span><span class="op" id="7017327">(</span><span class="builtinfunc" id="7017328">new</span><span class="op" id="7017331">(</span><span class="ident" id="7017332">Int</span><span class="op" id="7017335">)</span><span class="op" id="7017336">.</span><span class="ident" id="7017337">Binomial</span><span class="op" id="7017345">(</span><span class="ident" id="7017346">int64</span><span class="op" id="7017351">(</span><span class="ident" id="7017352">n</span><span class="op" id="7017353">+</span><span class="ident" id="7017354">i</span><span class="op" id="7017355">)</span><span class="op" id="7017356">,</span>&nbsp;<span class="ident" id="7017358">int64</span><span class="op" id="7017363">(</span><span class="ident" id="7017364">n</span><span class="op" id="7017365">-</span><span class="ident" id="7017366">j</span><span class="op" id="7017367">-</span><span class="num" id="7017368">1</span><span class="op" id="7017369">)</span><span class="op" id="7017370">)</span><span class="op" id="7017371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017376">x3</span>&nbsp;<span class="op" id="7017379">:=</span>&nbsp;<span class="builtinfunc" id="7017382">new</span><span class="op" id="7017385">(</span><span class="ident" id="7017386">Rat</span><span class="op" id="7017389">)</span><span class="op" id="7017390">.</span><span class="ident" id="7017391">SetInt</span><span class="op" id="7017397">(</span><span class="builtinfunc" id="7017398">new</span><span class="op" id="7017401">(</span><span class="ident" id="7017402">Int</span><span class="op" id="7017405">)</span><span class="op" id="7017406">.</span><span class="ident" id="7017407">Binomial</span><span class="op" id="7017415">(</span><span class="ident" id="7017416">int64</span><span class="op" id="7017421">(</span><span class="ident" id="7017422">n</span><span class="op" id="7017423">+</span><span class="ident" id="7017424">j</span><span class="op" id="7017425">)</span><span class="op" id="7017426">,</span>&nbsp;<span class="ident" id="7017428">int64</span><span class="op" id="7017433">(</span><span class="ident" id="7017434">n</span><span class="op" id="7017435">-</span><span class="ident" id="7017436">i</span><span class="op" id="7017437">-</span><span class="num" id="7017438">1</span><span class="op" id="7017439">)</span><span class="op" id="7017440">)</span><span class="op" id="7017441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017446">x4</span>&nbsp;<span class="op" id="7017449">:=</span>&nbsp;<span class="builtinfunc" id="7017452">new</span><span class="op" id="7017455">(</span><span class="ident" id="7017456">Rat</span><span class="op" id="7017459">)</span><span class="op" id="7017460">.</span><span class="ident" id="7017461">SetInt</span><span class="op" id="7017467">(</span><span class="builtinfunc" id="7017468">new</span><span class="op" id="7017471">(</span><span class="ident" id="7017472">Int</span><span class="op" id="7017475">)</span><span class="op" id="7017476">.</span><span class="ident" id="7017477">Binomial</span><span class="op" id="7017485">(</span><span class="ident" id="7017486">int64</span><span class="op" id="7017491">(</span><span class="ident" id="7017492">i</span><span class="op" id="7017493">+</span><span class="ident" id="7017494">j</span><span class="op" id="7017495">)</span><span class="op" id="7017496">,</span>&nbsp;<span class="ident" id="7017498">int64</span><span class="op" id="7017503">(</span><span class="ident" id="7017504">i</span><span class="op" id="7017505">)</span><span class="op" id="7017506">)</span><span class="op" id="7017507">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017513">x1</span><span class="op" id="7017515">.</span><span class="ident" id="7017516">Mul</span><span class="op" id="7017519">(</span><span class="ident" id="7017520">x1</span><span class="op" id="7017522">,</span>&nbsp;<span class="ident" id="7017524">x2</span><span class="op" id="7017526">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017531">x1</span><span class="op" id="7017533">.</span><span class="ident" id="7017534">Mul</span><span class="op" id="7017537">(</span><span class="ident" id="7017538">x1</span><span class="op" id="7017540">,</span>&nbsp;<span class="ident" id="7017542">x3</span><span class="op" id="7017544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017549">x1</span><span class="op" id="7017551">.</span><span class="ident" id="7017552">Mul</span><span class="op" id="7017555">(</span><span class="ident" id="7017556">x1</span><span class="op" id="7017558">,</span>&nbsp;<span class="ident" id="7017560">x4</span><span class="op" id="7017562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017567">x1</span><span class="op" id="7017569">.</span><span class="ident" id="7017570">Mul</span><span class="op" id="7017573">(</span><span class="ident" id="7017574">x1</span><span class="op" id="7017576">,</span>&nbsp;<span class="ident" id="7017578">x4</span><span class="op" id="7017580">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017586">if</span>&nbsp;<span class="op" id="7017589">(</span><span class="ident" id="7017590">i</span><span class="op" id="7017591">+</span><span class="ident" id="7017592">j</span><span class="op" id="7017593">)</span><span class="op" id="7017594">&amp;</span><span class="num" id="7017595">1</span>&nbsp;<span class="op" id="7017597">!=</span>&nbsp;<span class="num" id="7017600">0</span>&nbsp;<span class="op" id="7017602">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017608">x1</span><span class="op" id="7017610">.</span><span class="ident" id="7017611">Neg</span><span class="op" id="7017614">(</span><span class="ident" id="7017615">x1</span><span class="op" id="7017617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7017622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017628">a</span><span class="op" id="7017629">.</span><span class="ident" id="7017630">set</span><span class="op" id="7017633">(</span><span class="ident" id="7017634">i</span><span class="op" id="7017635">,</span>&nbsp;<span class="ident" id="7017637">j</span><span class="op" id="7017638">,</span>&nbsp;<span class="ident" id="7017640">x1</span><span class="op" id="7017642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7017646">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7017649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017652">return</span>&nbsp;<span class="ident" id="7017659">a</span><br>
<span class="lineno"></span><span class="op" id="7017661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7017664">func</span>&nbsp;<span class="op" id="7017669">(</span><span class="ident" id="7017670">a</span>&nbsp;<span class="op" id="7017672">*</span><span class="ident" id="7017673">matrix</span><span class="op" id="7017679">)</span>&nbsp;<span class="ident" id="7017681">mul</span><span class="op" id="7017684">(</span><span class="ident" id="7017685">b</span>&nbsp;<span class="op" id="7017687">*</span><span class="ident" id="7017688">matrix</span><span class="op" id="7017694">)</span>&nbsp;<span class="op" id="7017696">*</span><span class="ident" id="7017697">matrix</span>&nbsp;<span class="op" id="7017704">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017707">if</span>&nbsp;<span class="ident" id="7017710">a</span><span class="op" id="7017711">.</span><span class="ident" id="7017712">m</span>&nbsp;<span class="op" id="7017714">!=</span>&nbsp;<span class="ident" id="7017717">b</span><span class="op" id="7017718">.</span><span class="ident" id="7017719">n</span>&nbsp;<span class="op" id="7017721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7017725">panic</span><span class="op" id="7017730">(</span><span class="string" id="7017731">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="7017756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7017759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017762">c</span>&nbsp;<span class="op" id="7017764">:=</span>&nbsp;<span class="ident" id="7017767">newMatrix</span><span class="op" id="7017776">(</span><span class="ident" id="7017777">a</span><span class="op" id="7017778">.</span><span class="ident" id="7017779">n</span><span class="op" id="7017780">,</span>&nbsp;<span class="ident" id="7017782">b</span><span class="op" id="7017783">.</span><span class="ident" id="7017784">m</span><span class="op" id="7017785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017788">for</span>&nbsp;<span class="ident" id="7017792">i</span>&nbsp;<span class="op" id="7017794">:=</span>&nbsp;<span class="num" id="7017797">0</span><span class="op" id="7017798">;</span>&nbsp;<span class="ident" id="7017800">i</span>&nbsp;<span class="op" id="7017802">&lt;</span>&nbsp;<span class="ident" id="7017804">c</span><span class="op" id="7017805">.</span><span class="ident" id="7017806">n</span><span class="op" id="7017807">;</span>&nbsp;<span class="ident" id="7017809">i</span><span class="op" id="7017810">++</span>&nbsp;<span class="op" id="7017813">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017817">for</span>&nbsp;<span class="ident" id="7017821">j</span>&nbsp;<span class="op" id="7017823">:=</span>&nbsp;<span class="num" id="7017826">0</span><span class="op" id="7017827">;</span>&nbsp;<span class="ident" id="7017829">j</span>&nbsp;<span class="op" id="7017831">&lt;</span>&nbsp;<span class="ident" id="7017833">c</span><span class="op" id="7017834">.</span><span class="ident" id="7017835">m</span><span class="op" id="7017836">;</span>&nbsp;<span class="ident" id="7017838">j</span><span class="op" id="7017839">++</span>&nbsp;<span class="op" id="7017842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017847">x</span>&nbsp;<span class="op" id="7017849">:=</span>&nbsp;<span class="ident" id="7017852">NewRat</span><span class="op" id="7017858">(</span><span class="num" id="7017859">0</span><span class="op" id="7017860">,</span>&nbsp;<span class="num" id="7017862">1</span><span class="op" id="7017863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017868">for</span>&nbsp;<span class="ident" id="7017872">k</span>&nbsp;<span class="op" id="7017874">:=</span>&nbsp;<span class="num" id="7017877">0</span><span class="op" id="7017878">;</span>&nbsp;<span class="ident" id="7017880">k</span>&nbsp;<span class="op" id="7017882">&lt;</span>&nbsp;<span class="ident" id="7017884">a</span><span class="op" id="7017885">.</span><span class="ident" id="7017886">m</span><span class="op" id="7017887">;</span>&nbsp;<span class="ident" id="7017889">k</span><span class="op" id="7017890">++</span>&nbsp;<span class="op" id="7017893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017899">x</span><span class="op" id="7017900">.</span><span class="ident" id="7017901">Add</span><span class="op" id="7017904">(</span><span class="ident" id="7017905">x</span><span class="op" id="7017906">,</span>&nbsp;<span class="builtinfunc" id="7017908">new</span><span class="op" id="7017911">(</span><span class="ident" id="7017912">Rat</span><span class="op" id="7017915">)</span><span class="op" id="7017916">.</span><span class="ident" id="7017917">Mul</span><span class="op" id="7017920">(</span><span class="ident" id="7017921">a</span><span class="op" id="7017922">.</span><span class="ident" id="7017923">at</span><span class="op" id="7017925">(</span><span class="ident" id="7017926">i</span><span class="op" id="7017927">,</span>&nbsp;<span class="ident" id="7017929">k</span><span class="op" id="7017930">)</span><span class="op" id="7017931">,</span>&nbsp;<span class="ident" id="7017933">b</span><span class="op" id="7017934">.</span><span class="ident" id="7017935">at</span><span class="op" id="7017937">(</span><span class="ident" id="7017938">k</span><span class="op" id="7017939">,</span>&nbsp;<span class="ident" id="7017941">j</span><span class="op" id="7017942">)</span><span class="op" id="7017943">)</span><span class="op" id="7017944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7017949">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7017954">c</span><span class="op" id="7017955">.</span><span class="ident" id="7017956">set</span><span class="op" id="7017959">(</span><span class="ident" id="7017960">i</span><span class="op" id="7017961">,</span>&nbsp;<span class="ident" id="7017963">j</span><span class="op" id="7017964">,</span>&nbsp;<span class="ident" id="7017966">x</span><span class="op" id="7017967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7017971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7017974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7017977">return</span>&nbsp;<span class="ident" id="7017984">c</span><br>
<span class="lineno"></span><span class="op" id="7017986">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7017989">func</span>&nbsp;<span class="op" id="7017994">(</span><span class="ident" id="7017995">a</span>&nbsp;<span class="op" id="7017997">*</span><span class="ident" id="7017998">matrix</span><span class="op" id="7018004">)</span>&nbsp;<span class="ident" id="7018006">eql</span><span class="op" id="7018009">(</span><span class="ident" id="7018010">b</span>&nbsp;<span class="op" id="7018012">*</span><span class="ident" id="7018013">matrix</span><span class="op" id="7018019">)</span>&nbsp;<span class="builtintype" id="7018021">bool</span>&nbsp;<span class="op" id="7018026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018029">if</span>&nbsp;<span class="ident" id="7018032">a</span><span class="op" id="7018033">.</span><span class="ident" id="7018034">n</span>&nbsp;<span class="op" id="7018036">!=</span>&nbsp;<span class="ident" id="7018039">b</span><span class="op" id="7018040">.</span><span class="ident" id="7018041">n</span>&nbsp;<span class="op" id="7018043">||</span>&nbsp;<span class="ident" id="7018046">a</span><span class="op" id="7018047">.</span><span class="ident" id="7018048">m</span>&nbsp;<span class="op" id="7018050">!=</span>&nbsp;<span class="ident" id="7018053">b</span><span class="op" id="7018054">.</span><span class="ident" id="7018055">m</span>&nbsp;<span class="op" id="7018057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018061">return</span>&nbsp;<span class="builtintype" id="7018068">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018075">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018078">for</span>&nbsp;<span class="ident" id="7018082">i</span>&nbsp;<span class="op" id="7018084">:=</span>&nbsp;<span class="num" id="7018087">0</span><span class="op" id="7018088">;</span>&nbsp;<span class="ident" id="7018090">i</span>&nbsp;<span class="op" id="7018092">&lt;</span>&nbsp;<span class="ident" id="7018094">a</span><span class="op" id="7018095">.</span><span class="ident" id="7018096">n</span><span class="op" id="7018097">;</span>&nbsp;<span class="ident" id="7018099">i</span><span class="op" id="7018100">++</span>&nbsp;<span class="op" id="7018103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018107">for</span>&nbsp;<span class="ident" id="7018111">j</span>&nbsp;<span class="op" id="7018113">:=</span>&nbsp;<span class="num" id="7018116">0</span><span class="op" id="7018117">;</span>&nbsp;<span class="ident" id="7018119">j</span>&nbsp;<span class="op" id="7018121">&lt;</span>&nbsp;<span class="ident" id="7018123">a</span><span class="op" id="7018124">.</span><span class="ident" id="7018125">m</span><span class="op" id="7018126">;</span>&nbsp;<span class="ident" id="7018128">j</span><span class="op" id="7018129">++</span>&nbsp;<span class="op" id="7018132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018137">if</span>&nbsp;<span class="ident" id="7018140">a</span><span class="op" id="7018141">.</span><span class="ident" id="7018142">at</span><span class="op" id="7018144">(</span><span class="ident" id="7018145">i</span><span class="op" id="7018146">,</span>&nbsp;<span class="ident" id="7018148">j</span><span class="op" id="7018149">)</span><span class="op" id="7018150">.</span><span class="ident" id="7018151">Cmp</span><span class="op" id="7018154">(</span><span class="ident" id="7018155">b</span><span class="op" id="7018156">.</span><span class="ident" id="7018157">at</span><span class="op" id="7018159">(</span><span class="ident" id="7018160">i</span><span class="op" id="7018161">,</span>&nbsp;<span class="ident" id="7018163">j</span><span class="op" id="7018164">)</span><span class="op" id="7018165">)</span>&nbsp;<span class="op" id="7018167">!=</span>&nbsp;<span class="num" id="7018170">0</span>&nbsp;<span class="op" id="7018172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018178">return</span>&nbsp;<span class="builtintype" id="7018185">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018194">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018204">return</span>&nbsp;<span class="builtintype" id="7018211">true</span><br>
<span class="lineno"></span><span class="op" id="7018216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7018219">func</span>&nbsp;<span class="op" id="7018224">(</span><span class="ident" id="7018225">a</span>&nbsp;<span class="op" id="7018227">*</span><span class="ident" id="7018228">matrix</span><span class="op" id="7018234">)</span>&nbsp;<span class="ident" id="7018236">String</span><span class="op" id="7018242">(</span><span class="op" id="7018243">)</span>&nbsp;<span class="builtintype" id="7018245">string</span>&nbsp;<span class="op" id="7018252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018255">s</span>&nbsp;<span class="op" id="7018257">:=</span>&nbsp;<span class="string" id="7018260">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018264">for</span>&nbsp;<span class="ident" id="7018268">i</span>&nbsp;<span class="op" id="7018270">:=</span>&nbsp;<span class="num" id="7018273">0</span><span class="op" id="7018274">;</span>&nbsp;<span class="ident" id="7018276">i</span>&nbsp;<span class="op" id="7018278">&lt;</span>&nbsp;<span class="ident" id="7018280">a</span><span class="op" id="7018281">.</span><span class="ident" id="7018282">n</span><span class="op" id="7018283">;</span>&nbsp;<span class="ident" id="7018285">i</span><span class="op" id="7018286">++</span>&nbsp;<span class="op" id="7018289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018293">for</span>&nbsp;<span class="ident" id="7018297">j</span>&nbsp;<span class="op" id="7018299">:=</span>&nbsp;<span class="num" id="7018302">0</span><span class="op" id="7018303">;</span>&nbsp;<span class="ident" id="7018305">j</span>&nbsp;<span class="op" id="7018307">&lt;</span>&nbsp;<span class="ident" id="7018309">a</span><span class="op" id="7018310">.</span><span class="ident" id="7018311">m</span><span class="op" id="7018312">;</span>&nbsp;<span class="ident" id="7018314">j</span><span class="op" id="7018315">++</span>&nbsp;<span class="op" id="7018318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018323">s</span>&nbsp;<span class="op" id="7018325">+=</span>&nbsp;<span class="ident" id="7018328">fmt</span><span class="op" id="7018331">.</span><span class="ident" id="7018332">Sprintf</span><span class="op" id="7018339">(</span><span class="string" id="7018340">&#34;\t%s&#34;</span><span class="op" id="7018346">,</span>&nbsp;<span class="ident" id="7018348">a</span><span class="op" id="7018349">.</span><span class="ident" id="7018350">at</span><span class="op" id="7018352">(</span><span class="ident" id="7018353">i</span><span class="op" id="7018354">,</span>&nbsp;<span class="ident" id="7018356">j</span><span class="op" id="7018357">)</span><span class="op" id="7018358">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018366">s</span>&nbsp;<span class="op" id="7018368">+=</span>&nbsp;<span class="string" id="7018371">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018380">return</span>&nbsp;<span class="ident" id="7018387">s</span><br>
<span class="lineno"></span><span class="op" id="7018389">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7018392">func</span>&nbsp;<span class="ident" id="7018397">doHilbert</span><span class="op" id="7018406">(</span><span class="ident" id="7018407">t</span>&nbsp;<span class="op" id="7018409">*</span><span class="ident" id="7018410">testing</span><span class="op" id="7018417">.</span><span class="ident" id="7018418">T</span><span class="op" id="7018419">,</span>&nbsp;<span class="ident" id="7018421">n</span>&nbsp;<span class="builtintype" id="7018423">int</span><span class="op" id="7018426">)</span>&nbsp;<span class="op" id="7018428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018431">a</span>&nbsp;<span class="op" id="7018433">:=</span>&nbsp;<span class="ident" id="7018436">newHilbert</span><span class="op" id="7018446">(</span><span class="ident" id="7018447">n</span><span class="op" id="7018448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018451">b</span>&nbsp;<span class="op" id="7018453">:=</span>&nbsp;<span class="ident" id="7018456">newInverseHilbert</span><span class="op" id="7018473">(</span><span class="ident" id="7018474">n</span><span class="op" id="7018475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018478">I</span>&nbsp;<span class="op" id="7018480">:=</span>&nbsp;<span class="ident" id="7018483">newUnit</span><span class="op" id="7018490">(</span><span class="ident" id="7018491">n</span><span class="op" id="7018492">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018495">ab</span>&nbsp;<span class="op" id="7018498">:=</span>&nbsp;<span class="ident" id="7018501">a</span><span class="op" id="7018502">.</span><span class="ident" id="7018503">mul</span><span class="op" id="7018506">(</span><span class="ident" id="7018507">b</span><span class="op" id="7018508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018511">if</span>&nbsp;<span class="op" id="7018514">!</span><span class="ident" id="7018515">ab</span><span class="op" id="7018517">.</span><span class="ident" id="7018518">eql</span><span class="op" id="7018521">(</span><span class="ident" id="7018522">I</span><span class="op" id="7018523">)</span>&nbsp;<span class="op" id="7018525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018529">if</span>&nbsp;<span class="ident" id="7018532">t</span>&nbsp;<span class="op" id="7018534">==</span>&nbsp;<span class="ident" id="7018537">nil</span>&nbsp;<span class="op" id="7018541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7018546">panic</span><span class="op" id="7018551">(</span><span class="string" id="7018552">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="7018568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018572">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018576">t</span><span class="op" id="7018577">.</span><span class="ident" id="7018578">Errorf</span><span class="op" id="7018584">(</span><span class="string" id="7018585">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7018597">,</span>&nbsp;<span class="ident" id="7018599">a</span><span class="op" id="7018600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018604">t</span><span class="op" id="7018605">.</span><span class="ident" id="7018606">Errorf</span><span class="op" id="7018612">(</span><span class="string" id="7018613">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7018625">,</span>&nbsp;<span class="ident" id="7018627">b</span><span class="op" id="7018628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018632">t</span><span class="op" id="7018633">.</span><span class="ident" id="7018634">Errorf</span><span class="op" id="7018640">(</span><span class="string" id="7018641">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7018653">,</span>&nbsp;<span class="ident" id="7018655">ab</span><span class="op" id="7018657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018661">t</span><span class="op" id="7018662">.</span><span class="ident" id="7018663">Errorf</span><span class="op" id="7018669">(</span><span class="string" id="7018670">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7018682">,</span>&nbsp;<span class="ident" id="7018684">I</span><span class="op" id="7018685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018688">}</span><br>
<span class="lineno">150</span><span class="op" id="7018690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7018693">func</span>&nbsp;<span class="ident" id="7018698">TestHilbert</span><span class="op" id="7018709">(</span><span class="ident" id="7018710">t</span>&nbsp;<span class="op" id="7018712">*</span><span class="ident" id="7018713">testing</span><span class="op" id="7018720">.</span><span class="ident" id="7018721">T</span><span class="op" id="7018722">)</span>&nbsp;<span class="op" id="7018724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018727">doHilbert</span><span class="op" id="7018736">(</span><span class="ident" id="7018737">t</span><span class="op" id="7018738">,</span>&nbsp;<span class="num" id="7018740">10</span><span class="op" id="7018742">)</span><br>
<span class="lineno"></span><span class="op" id="7018744">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7018747">func</span>&nbsp;<span class="ident" id="7018752">BenchmarkHilbert</span><span class="op" id="7018768">(</span><span class="ident" id="7018769">b</span>&nbsp;<span class="op" id="7018771">*</span><span class="ident" id="7018772">testing</span><span class="op" id="7018779">.</span><span class="ident" id="7018780">B</span><span class="op" id="7018781">)</span>&nbsp;<span class="op" id="7018783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018786">for</span>&nbsp;<span class="ident" id="7018790">i</span>&nbsp;<span class="op" id="7018792">:=</span>&nbsp;<span class="num" id="7018795">0</span><span class="op" id="7018796">;</span>&nbsp;<span class="ident" id="7018798">i</span>&nbsp;<span class="op" id="7018800">&lt;</span>&nbsp;<span class="ident" id="7018802">b</span><span class="op" id="7018803">.</span><span class="ident" id="7018804">N</span><span class="op" id="7018805">;</span>&nbsp;<span class="ident" id="7018807">i</span><span class="op" id="7018808">++</span>&nbsp;<span class="op" id="7018811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018815">doHilbert</span><span class="op" id="7018824">(</span><span class="ident" id="7018825">nil</span><span class="op" id="7018828">,</span>&nbsp;<span class="num" id="7018830">10</span><span class="op" id="7018832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018835">}</span><br>
<span class="lineno">160</span><span class="op" id="7018837">}</span>
</div>
</body>
</html>
