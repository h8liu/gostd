<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html" class="current">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5960071">//&nbsp;Created&nbsp;by&nbsp;encgen&nbsp;--output&nbsp;enc_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5960130">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5960185">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="5960239">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5960290">package</span>&nbsp;<span class="ident" id="5960298">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5960303">import</span>&nbsp;<span class="op" id="5960310">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5960313">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="5960323">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5960326">var</span>&nbsp;<span class="ident" id="5960330">encArrayHelper</span>&nbsp;<span class="op" id="5960345">=</span>&nbsp;<span class="keyword" id="5960347">map</span><span class="op" id="5960350">[</span><span class="ident" id="5960351">reflect</span><span class="op" id="5960358">.</span><span class="ident" id="5960359">Kind</span><span class="op" id="5960363">]</span><span class="ident" id="5960364">encHelper</span><span class="op" id="5960373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960376">reflect</span><span class="op" id="5960383">.</span><span class="ident" id="5960384">Bool</span><span class="op" id="5960388">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960396">encBoolArray</span><span class="op" id="5960408">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960411">reflect</span><span class="op" id="5960418">.</span><span class="ident" id="5960419">Complex64</span><span class="op" id="5960428">:</span>&nbsp;&nbsp;<span class="ident" id="5960431">encComplex64Array</span><span class="op" id="5960448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960451">reflect</span><span class="op" id="5960458">.</span><span class="ident" id="5960459">Complex128</span><span class="op" id="5960469">:</span>&nbsp;<span class="ident" id="5960471">encComplex128Array</span><span class="op" id="5960489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960492">reflect</span><span class="op" id="5960499">.</span><span class="ident" id="5960500">Float32</span><span class="op" id="5960507">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960512">encFloat32Array</span><span class="op" id="5960527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960530">reflect</span><span class="op" id="5960537">.</span><span class="ident" id="5960538">Float64</span><span class="op" id="5960545">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960550">encFloat64Array</span><span class="op" id="5960565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960568">reflect</span><span class="op" id="5960575">.</span><span class="ident" id="5960576">Int</span><span class="op" id="5960579">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960588">encIntArray</span><span class="op" id="5960599">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960602">reflect</span><span class="op" id="5960609">.</span><span class="ident" id="5960610">Int16</span><span class="op" id="5960615">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960622">encInt16Array</span><span class="op" id="5960635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960638">reflect</span><span class="op" id="5960645">.</span><span class="ident" id="5960646">Int32</span><span class="op" id="5960651">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960658">encInt32Array</span><span class="op" id="5960671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960674">reflect</span><span class="op" id="5960681">.</span><span class="ident" id="5960682">Int64</span><span class="op" id="5960687">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960694">encInt64Array</span><span class="op" id="5960707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960710">reflect</span><span class="op" id="5960717">.</span><span class="ident" id="5960718">Int8</span><span class="op" id="5960722">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960730">encInt8Array</span><span class="op" id="5960742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960745">reflect</span><span class="op" id="5960752">.</span><span class="ident" id="5960753">String</span><span class="op" id="5960759">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960765">encStringArray</span><span class="op" id="5960779">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960782">reflect</span><span class="op" id="5960789">.</span><span class="ident" id="5960790">Uint</span><span class="op" id="5960794">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960802">encUintArray</span><span class="op" id="5960814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960817">reflect</span><span class="op" id="5960824">.</span><span class="ident" id="5960825">Uint16</span><span class="op" id="5960831">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960837">encUint16Array</span><span class="op" id="5960851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960854">reflect</span><span class="op" id="5960861">.</span><span class="ident" id="5960862">Uint32</span><span class="op" id="5960868">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960874">encUint32Array</span><span class="op" id="5960888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960891">reflect</span><span class="op" id="5960898">.</span><span class="ident" id="5960899">Uint64</span><span class="op" id="5960905">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960911">encUint64Array</span><span class="op" id="5960925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960928">reflect</span><span class="op" id="5960935">.</span><span class="ident" id="5960936">Uintptr</span><span class="op" id="5960943">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960948">encUintptrArray</span><span class="op" id="5960963">,</span><br>
<span class="lineno">30</span><span class="op" id="5960965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5960968">var</span>&nbsp;<span class="ident" id="5960972">encSliceHelper</span>&nbsp;<span class="op" id="5960987">=</span>&nbsp;<span class="keyword" id="5960989">map</span><span class="op" id="5960992">[</span><span class="ident" id="5960993">reflect</span><span class="op" id="5961000">.</span><span class="ident" id="5961001">Kind</span><span class="op" id="5961005">]</span><span class="ident" id="5961006">encHelper</span><span class="op" id="5961015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961018">reflect</span><span class="op" id="5961025">.</span><span class="ident" id="5961026">Bool</span><span class="op" id="5961030">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961038">encBoolSlice</span><span class="op" id="5961050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961053">reflect</span><span class="op" id="5961060">.</span><span class="ident" id="5961061">Complex64</span><span class="op" id="5961070">:</span>&nbsp;&nbsp;<span class="ident" id="5961073">encComplex64Slice</span><span class="op" id="5961090">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961093">reflect</span><span class="op" id="5961100">.</span><span class="ident" id="5961101">Complex128</span><span class="op" id="5961111">:</span>&nbsp;<span class="ident" id="5961113">encComplex128Slice</span><span class="op" id="5961131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961134">reflect</span><span class="op" id="5961141">.</span><span class="ident" id="5961142">Float32</span><span class="op" id="5961149">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961154">encFloat32Slice</span><span class="op" id="5961169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961172">reflect</span><span class="op" id="5961179">.</span><span class="ident" id="5961180">Float64</span><span class="op" id="5961187">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961192">encFloat64Slice</span><span class="op" id="5961207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961210">reflect</span><span class="op" id="5961217">.</span><span class="ident" id="5961218">Int</span><span class="op" id="5961221">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961230">encIntSlice</span><span class="op" id="5961241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961244">reflect</span><span class="op" id="5961251">.</span><span class="ident" id="5961252">Int16</span><span class="op" id="5961257">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961264">encInt16Slice</span><span class="op" id="5961277">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961280">reflect</span><span class="op" id="5961287">.</span><span class="ident" id="5961288">Int32</span><span class="op" id="5961293">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961300">encInt32Slice</span><span class="op" id="5961313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961316">reflect</span><span class="op" id="5961323">.</span><span class="ident" id="5961324">Int64</span><span class="op" id="5961329">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961336">encInt64Slice</span><span class="op" id="5961349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961352">reflect</span><span class="op" id="5961359">.</span><span class="ident" id="5961360">Int8</span><span class="op" id="5961364">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961372">encInt8Slice</span><span class="op" id="5961384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961387">reflect</span><span class="op" id="5961394">.</span><span class="ident" id="5961395">String</span><span class="op" id="5961401">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961407">encStringSlice</span><span class="op" id="5961421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961424">reflect</span><span class="op" id="5961431">.</span><span class="ident" id="5961432">Uint</span><span class="op" id="5961436">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961444">encUintSlice</span><span class="op" id="5961456">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961459">reflect</span><span class="op" id="5961466">.</span><span class="ident" id="5961467">Uint16</span><span class="op" id="5961473">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961479">encUint16Slice</span><span class="op" id="5961493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961496">reflect</span><span class="op" id="5961503">.</span><span class="ident" id="5961504">Uint32</span><span class="op" id="5961510">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961516">encUint32Slice</span><span class="op" id="5961530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961533">reflect</span><span class="op" id="5961540">.</span><span class="ident" id="5961541">Uint64</span><span class="op" id="5961547">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961553">encUint64Slice</span><span class="op" id="5961567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961570">reflect</span><span class="op" id="5961577">.</span><span class="ident" id="5961578">Uintptr</span><span class="op" id="5961585">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961590">encUintptrSlice</span><span class="op" id="5961605">,</span><br>
<span class="lineno"></span><span class="op" id="5961607">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5961610">func</span>&nbsp;<span class="ident" id="5961615">encBoolArray</span><span class="op" id="5961627">(</span><span class="ident" id="5961628">state</span>&nbsp;<span class="op" id="5961634">*</span><span class="ident" id="5961635">encoderState</span><span class="op" id="5961647">,</span>&nbsp;<span class="ident" id="5961649">v</span>&nbsp;<span class="ident" id="5961651">reflect</span><span class="op" id="5961658">.</span><span class="ident" id="5961659">Value</span><span class="op" id="5961664">)</span>&nbsp;<span class="builtintype" id="5961666">bool</span>&nbsp;<span class="op" id="5961671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961674">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961715">if</span>&nbsp;<span class="op" id="5961718">!</span><span class="ident" id="5961719">v</span><span class="op" id="5961720">.</span><span class="ident" id="5961721">CanAddr</span><span class="op" id="5961728">(</span><span class="op" id="5961729">)</span>&nbsp;<span class="op" id="5961731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961735">return</span>&nbsp;<span class="builtintype" id="5961742">false</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961752">return</span>&nbsp;<span class="ident" id="5961759">encBoolSlice</span><span class="op" id="5961771">(</span><span class="ident" id="5961772">state</span><span class="op" id="5961777">,</span>&nbsp;<span class="ident" id="5961779">v</span><span class="op" id="5961780">.</span><span class="ident" id="5961781">Slice</span><span class="op" id="5961786">(</span><span class="num" id="5961787">0</span><span class="op" id="5961788">,</span>&nbsp;<span class="ident" id="5961790">v</span><span class="op" id="5961791">.</span><span class="ident" id="5961792">Len</span><span class="op" id="5961795">(</span><span class="op" id="5961796">)</span><span class="op" id="5961797">)</span><span class="op" id="5961798">)</span><br>
<span class="lineno"></span><span class="op" id="5961800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5961803">func</span>&nbsp;<span class="ident" id="5961808">encBoolSlice</span><span class="op" id="5961820">(</span><span class="ident" id="5961821">state</span>&nbsp;<span class="op" id="5961827">*</span><span class="ident" id="5961828">encoderState</span><span class="op" id="5961840">,</span>&nbsp;<span class="ident" id="5961842">v</span>&nbsp;<span class="ident" id="5961844">reflect</span><span class="op" id="5961851">.</span><span class="ident" id="5961852">Value</span><span class="op" id="5961857">)</span>&nbsp;<span class="builtintype" id="5961859">bool</span>&nbsp;<span class="op" id="5961864">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961867">slice</span><span class="op" id="5961872">,</span>&nbsp;<span class="ident" id="5961874">ok</span>&nbsp;<span class="op" id="5961877">:=</span>&nbsp;<span class="ident" id="5961880">v</span><span class="op" id="5961881">.</span><span class="ident" id="5961882">Interface</span><span class="op" id="5961891">(</span><span class="op" id="5961892">)</span><span class="op" id="5961893">.</span><span class="op" id="5961894">(</span><span class="op" id="5961895">[</span><span class="op" id="5961896">]</span><span class="builtintype" id="5961897">bool</span><span class="op" id="5961901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961904">if</span>&nbsp;<span class="op" id="5961907">!</span><span class="ident" id="5961908">ok</span>&nbsp;<span class="op" id="5961911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961915">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961990">return</span>&nbsp;<span class="builtintype" id="5961997">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962004">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962007">for</span>&nbsp;<span class="ident" id="5962011">_</span><span class="op" id="5962012">,</span>&nbsp;<span class="ident" id="5962014">x</span>&nbsp;<span class="op" id="5962016">:=</span>&nbsp;<span class="keyword" id="5962019">range</span>&nbsp;<span class="ident" id="5962025">slice</span>&nbsp;<span class="op" id="5962031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962035">if</span>&nbsp;<span class="ident" id="5962038">x</span>&nbsp;<span class="op" id="5962040">!=</span>&nbsp;<span class="builtintype" id="5962043">false</span>&nbsp;<span class="op" id="5962049">||</span>&nbsp;<span class="ident" id="5962052">state</span><span class="op" id="5962057">.</span><span class="ident" id="5962058">sendZero</span>&nbsp;<span class="op" id="5962067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962072">if</span>&nbsp;<span class="ident" id="5962075">x</span>&nbsp;<span class="op" id="5962077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962083">state</span><span class="op" id="5962088">.</span><span class="ident" id="5962089">encodeUint</span><span class="op" id="5962099">(</span><span class="num" id="5962100">1</span><span class="op" id="5962101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962106">}</span>&nbsp;<span class="keyword" id="5962108">else</span>&nbsp;<span class="op" id="5962113">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962119">state</span><span class="op" id="5962124">.</span><span class="ident" id="5962125">encodeUint</span><span class="op" id="5962135">(</span><span class="num" id="5962136">0</span><span class="op" id="5962137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962152">return</span>&nbsp;<span class="builtintype" id="5962159">true</span><br>
<span class="lineno">75</span><span class="op" id="5962164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5962167">func</span>&nbsp;<span class="ident" id="5962172">encComplex64Array</span><span class="op" id="5962189">(</span><span class="ident" id="5962190">state</span>&nbsp;<span class="op" id="5962196">*</span><span class="ident" id="5962197">encoderState</span><span class="op" id="5962209">,</span>&nbsp;<span class="ident" id="5962211">v</span>&nbsp;<span class="ident" id="5962213">reflect</span><span class="op" id="5962220">.</span><span class="ident" id="5962221">Value</span><span class="op" id="5962226">)</span>&nbsp;<span class="builtintype" id="5962228">bool</span>&nbsp;<span class="op" id="5962233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5962236">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962277">if</span>&nbsp;<span class="op" id="5962280">!</span><span class="ident" id="5962281">v</span><span class="op" id="5962282">.</span><span class="ident" id="5962283">CanAddr</span><span class="op" id="5962290">(</span><span class="op" id="5962291">)</span>&nbsp;<span class="op" id="5962293">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962297">return</span>&nbsp;<span class="builtintype" id="5962304">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962314">return</span>&nbsp;<span class="ident" id="5962321">encComplex64Slice</span><span class="op" id="5962338">(</span><span class="ident" id="5962339">state</span><span class="op" id="5962344">,</span>&nbsp;<span class="ident" id="5962346">v</span><span class="op" id="5962347">.</span><span class="ident" id="5962348">Slice</span><span class="op" id="5962353">(</span><span class="num" id="5962354">0</span><span class="op" id="5962355">,</span>&nbsp;<span class="ident" id="5962357">v</span><span class="op" id="5962358">.</span><span class="ident" id="5962359">Len</span><span class="op" id="5962362">(</span><span class="op" id="5962363">)</span><span class="op" id="5962364">)</span><span class="op" id="5962365">)</span><br>
<span class="lineno"></span><span class="op" id="5962367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="5962370">func</span>&nbsp;<span class="ident" id="5962375">encComplex64Slice</span><span class="op" id="5962392">(</span><span class="ident" id="5962393">state</span>&nbsp;<span class="op" id="5962399">*</span><span class="ident" id="5962400">encoderState</span><span class="op" id="5962412">,</span>&nbsp;<span class="ident" id="5962414">v</span>&nbsp;<span class="ident" id="5962416">reflect</span><span class="op" id="5962423">.</span><span class="ident" id="5962424">Value</span><span class="op" id="5962429">)</span>&nbsp;<span class="builtintype" id="5962431">bool</span>&nbsp;<span class="op" id="5962436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962439">slice</span><span class="op" id="5962444">,</span>&nbsp;<span class="ident" id="5962446">ok</span>&nbsp;<span class="op" id="5962449">:=</span>&nbsp;<span class="ident" id="5962452">v</span><span class="op" id="5962453">.</span><span class="ident" id="5962454">Interface</span><span class="op" id="5962463">(</span><span class="op" id="5962464">)</span><span class="op" id="5962465">.</span><span class="op" id="5962466">(</span><span class="op" id="5962467">[</span><span class="op" id="5962468">]</span><span class="builtintype" id="5962469">complex64</span><span class="op" id="5962478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962481">if</span>&nbsp;<span class="op" id="5962484">!</span><span class="ident" id="5962485">ok</span>&nbsp;<span class="op" id="5962488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5962492">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962577">return</span>&nbsp;<span class="builtintype" id="5962584">false</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962594">for</span>&nbsp;<span class="ident" id="5962598">_</span><span class="op" id="5962599">,</span>&nbsp;<span class="ident" id="5962601">x</span>&nbsp;<span class="op" id="5962603">:=</span>&nbsp;<span class="keyword" id="5962606">range</span>&nbsp;<span class="ident" id="5962612">slice</span>&nbsp;<span class="op" id="5962618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962622">if</span>&nbsp;<span class="ident" id="5962625">x</span>&nbsp;<span class="op" id="5962627">!=</span>&nbsp;<span class="num" id="5962630">0</span><span class="op" id="5962631">+</span><span class="num" id="5962632">0i</span>&nbsp;<span class="op" id="5962635">||</span>&nbsp;<span class="ident" id="5962638">state</span><span class="op" id="5962643">.</span><span class="ident" id="5962644">sendZero</span>&nbsp;<span class="op" id="5962653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962658">rpart</span>&nbsp;<span class="op" id="5962664">:=</span>&nbsp;<span class="ident" id="5962667">floatBits</span><span class="op" id="5962676">(</span><span class="builtintype" id="5962677">float64</span><span class="op" id="5962684">(</span><span class="builtinfunc" id="5962685">real</span><span class="op" id="5962689">(</span><span class="ident" id="5962690">x</span><span class="op" id="5962691">)</span><span class="op" id="5962692">)</span><span class="op" id="5962693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962698">ipart</span>&nbsp;<span class="op" id="5962704">:=</span>&nbsp;<span class="ident" id="5962707">floatBits</span><span class="op" id="5962716">(</span><span class="builtintype" id="5962717">float64</span><span class="op" id="5962724">(</span><span class="builtinfunc" id="5962725">imag</span><span class="op" id="5962729">(</span><span class="ident" id="5962730">x</span><span class="op" id="5962731">)</span><span class="op" id="5962732">)</span><span class="op" id="5962733">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962738">state</span><span class="op" id="5962743">.</span><span class="ident" id="5962744">encodeUint</span><span class="op" id="5962754">(</span><span class="ident" id="5962755">rpart</span><span class="op" id="5962760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962765">state</span><span class="op" id="5962770">.</span><span class="ident" id="5962771">encodeUint</span><span class="op" id="5962781">(</span><span class="ident" id="5962782">ipart</span><span class="op" id="5962787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962797">return</span>&nbsp;<span class="builtintype" id="5962804">true</span><br>
<span class="lineno">100</span><span class="op" id="5962809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5962812">func</span>&nbsp;<span class="ident" id="5962817">encComplex128Array</span><span class="op" id="5962835">(</span><span class="ident" id="5962836">state</span>&nbsp;<span class="op" id="5962842">*</span><span class="ident" id="5962843">encoderState</span><span class="op" id="5962855">,</span>&nbsp;<span class="ident" id="5962857">v</span>&nbsp;<span class="ident" id="5962859">reflect</span><span class="op" id="5962866">.</span><span class="ident" id="5962867">Value</span><span class="op" id="5962872">)</span>&nbsp;<span class="builtintype" id="5962874">bool</span>&nbsp;<span class="op" id="5962879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5962882">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962923">if</span>&nbsp;<span class="op" id="5962926">!</span><span class="ident" id="5962927">v</span><span class="op" id="5962928">.</span><span class="ident" id="5962929">CanAddr</span><span class="op" id="5962936">(</span><span class="op" id="5962937">)</span>&nbsp;<span class="op" id="5962939">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962943">return</span>&nbsp;<span class="builtintype" id="5962950">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962960">return</span>&nbsp;<span class="ident" id="5962967">encComplex128Slice</span><span class="op" id="5962985">(</span><span class="ident" id="5962986">state</span><span class="op" id="5962991">,</span>&nbsp;<span class="ident" id="5962993">v</span><span class="op" id="5962994">.</span><span class="ident" id="5962995">Slice</span><span class="op" id="5963000">(</span><span class="num" id="5963001">0</span><span class="op" id="5963002">,</span>&nbsp;<span class="ident" id="5963004">v</span><span class="op" id="5963005">.</span><span class="ident" id="5963006">Len</span><span class="op" id="5963009">(</span><span class="op" id="5963010">)</span><span class="op" id="5963011">)</span><span class="op" id="5963012">)</span><br>
<span class="lineno"></span><span class="op" id="5963014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="5963017">func</span>&nbsp;<span class="ident" id="5963022">encComplex128Slice</span><span class="op" id="5963040">(</span><span class="ident" id="5963041">state</span>&nbsp;<span class="op" id="5963047">*</span><span class="ident" id="5963048">encoderState</span><span class="op" id="5963060">,</span>&nbsp;<span class="ident" id="5963062">v</span>&nbsp;<span class="ident" id="5963064">reflect</span><span class="op" id="5963071">.</span><span class="ident" id="5963072">Value</span><span class="op" id="5963077">)</span>&nbsp;<span class="builtintype" id="5963079">bool</span>&nbsp;<span class="op" id="5963084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963087">slice</span><span class="op" id="5963092">,</span>&nbsp;<span class="ident" id="5963094">ok</span>&nbsp;<span class="op" id="5963097">:=</span>&nbsp;<span class="ident" id="5963100">v</span><span class="op" id="5963101">.</span><span class="ident" id="5963102">Interface</span><span class="op" id="5963111">(</span><span class="op" id="5963112">)</span><span class="op" id="5963113">.</span><span class="op" id="5963114">(</span><span class="op" id="5963115">[</span><span class="op" id="5963116">]</span><span class="builtintype" id="5963117">complex128</span><span class="op" id="5963127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963130">if</span>&nbsp;<span class="op" id="5963133">!</span><span class="ident" id="5963134">ok</span>&nbsp;<span class="op" id="5963137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5963141">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963228">return</span>&nbsp;<span class="builtintype" id="5963235">false</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963245">for</span>&nbsp;<span class="ident" id="5963249">_</span><span class="op" id="5963250">,</span>&nbsp;<span class="ident" id="5963252">x</span>&nbsp;<span class="op" id="5963254">:=</span>&nbsp;<span class="keyword" id="5963257">range</span>&nbsp;<span class="ident" id="5963263">slice</span>&nbsp;<span class="op" id="5963269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963273">if</span>&nbsp;<span class="ident" id="5963276">x</span>&nbsp;<span class="op" id="5963278">!=</span>&nbsp;<span class="num" id="5963281">0</span><span class="op" id="5963282">+</span><span class="num" id="5963283">0i</span>&nbsp;<span class="op" id="5963286">||</span>&nbsp;<span class="ident" id="5963289">state</span><span class="op" id="5963294">.</span><span class="ident" id="5963295">sendZero</span>&nbsp;<span class="op" id="5963304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963309">rpart</span>&nbsp;<span class="op" id="5963315">:=</span>&nbsp;<span class="ident" id="5963318">floatBits</span><span class="op" id="5963327">(</span><span class="builtinfunc" id="5963328">real</span><span class="op" id="5963332">(</span><span class="ident" id="5963333">x</span><span class="op" id="5963334">)</span><span class="op" id="5963335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963340">ipart</span>&nbsp;<span class="op" id="5963346">:=</span>&nbsp;<span class="ident" id="5963349">floatBits</span><span class="op" id="5963358">(</span><span class="builtinfunc" id="5963359">imag</span><span class="op" id="5963363">(</span><span class="ident" id="5963364">x</span><span class="op" id="5963365">)</span><span class="op" id="5963366">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963371">state</span><span class="op" id="5963376">.</span><span class="ident" id="5963377">encodeUint</span><span class="op" id="5963387">(</span><span class="ident" id="5963388">rpart</span><span class="op" id="5963393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963398">state</span><span class="op" id="5963403">.</span><span class="ident" id="5963404">encodeUint</span><span class="op" id="5963414">(</span><span class="ident" id="5963415">ipart</span><span class="op" id="5963420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963430">return</span>&nbsp;<span class="builtintype" id="5963437">true</span><br>
<span class="lineno">125</span><span class="op" id="5963442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5963445">func</span>&nbsp;<span class="ident" id="5963450">encFloat32Array</span><span class="op" id="5963465">(</span><span class="ident" id="5963466">state</span>&nbsp;<span class="op" id="5963472">*</span><span class="ident" id="5963473">encoderState</span><span class="op" id="5963485">,</span>&nbsp;<span class="ident" id="5963487">v</span>&nbsp;<span class="ident" id="5963489">reflect</span><span class="op" id="5963496">.</span><span class="ident" id="5963497">Value</span><span class="op" id="5963502">)</span>&nbsp;<span class="builtintype" id="5963504">bool</span>&nbsp;<span class="op" id="5963509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5963512">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963553">if</span>&nbsp;<span class="op" id="5963556">!</span><span class="ident" id="5963557">v</span><span class="op" id="5963558">.</span><span class="ident" id="5963559">CanAddr</span><span class="op" id="5963566">(</span><span class="op" id="5963567">)</span>&nbsp;<span class="op" id="5963569">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963573">return</span>&nbsp;<span class="builtintype" id="5963580">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963590">return</span>&nbsp;<span class="ident" id="5963597">encFloat32Slice</span><span class="op" id="5963612">(</span><span class="ident" id="5963613">state</span><span class="op" id="5963618">,</span>&nbsp;<span class="ident" id="5963620">v</span><span class="op" id="5963621">.</span><span class="ident" id="5963622">Slice</span><span class="op" id="5963627">(</span><span class="num" id="5963628">0</span><span class="op" id="5963629">,</span>&nbsp;<span class="ident" id="5963631">v</span><span class="op" id="5963632">.</span><span class="ident" id="5963633">Len</span><span class="op" id="5963636">(</span><span class="op" id="5963637">)</span><span class="op" id="5963638">)</span><span class="op" id="5963639">)</span><br>
<span class="lineno"></span><span class="op" id="5963641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="5963644">func</span>&nbsp;<span class="ident" id="5963649">encFloat32Slice</span><span class="op" id="5963664">(</span><span class="ident" id="5963665">state</span>&nbsp;<span class="op" id="5963671">*</span><span class="ident" id="5963672">encoderState</span><span class="op" id="5963684">,</span>&nbsp;<span class="ident" id="5963686">v</span>&nbsp;<span class="ident" id="5963688">reflect</span><span class="op" id="5963695">.</span><span class="ident" id="5963696">Value</span><span class="op" id="5963701">)</span>&nbsp;<span class="builtintype" id="5963703">bool</span>&nbsp;<span class="op" id="5963708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963711">slice</span><span class="op" id="5963716">,</span>&nbsp;<span class="ident" id="5963718">ok</span>&nbsp;<span class="op" id="5963721">:=</span>&nbsp;<span class="ident" id="5963724">v</span><span class="op" id="5963725">.</span><span class="ident" id="5963726">Interface</span><span class="op" id="5963735">(</span><span class="op" id="5963736">)</span><span class="op" id="5963737">.</span><span class="op" id="5963738">(</span><span class="op" id="5963739">[</span><span class="op" id="5963740">]</span><span class="builtintype" id="5963741">float32</span><span class="op" id="5963748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963751">if</span>&nbsp;<span class="op" id="5963754">!</span><span class="ident" id="5963755">ok</span>&nbsp;<span class="op" id="5963758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5963762">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963843">return</span>&nbsp;<span class="builtintype" id="5963850">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963860">for</span>&nbsp;<span class="ident" id="5963864">_</span><span class="op" id="5963865">,</span>&nbsp;<span class="ident" id="5963867">x</span>&nbsp;<span class="op" id="5963869">:=</span>&nbsp;<span class="keyword" id="5963872">range</span>&nbsp;<span class="ident" id="5963878">slice</span>&nbsp;<span class="op" id="5963884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963888">if</span>&nbsp;<span class="ident" id="5963891">x</span>&nbsp;<span class="op" id="5963893">!=</span>&nbsp;<span class="num" id="5963896">0</span>&nbsp;<span class="op" id="5963898">||</span>&nbsp;<span class="ident" id="5963901">state</span><span class="op" id="5963906">.</span><span class="ident" id="5963907">sendZero</span>&nbsp;<span class="op" id="5963916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963921">bits</span>&nbsp;<span class="op" id="5963926">:=</span>&nbsp;<span class="ident" id="5963929">floatBits</span><span class="op" id="5963938">(</span><span class="builtintype" id="5963939">float64</span><span class="op" id="5963946">(</span><span class="ident" id="5963947">x</span><span class="op" id="5963948">)</span><span class="op" id="5963949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963954">state</span><span class="op" id="5963959">.</span><span class="ident" id="5963960">encodeUint</span><span class="op" id="5963970">(</span><span class="ident" id="5963971">bits</span><span class="op" id="5963975">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963985">return</span>&nbsp;<span class="builtintype" id="5963992">true</span><br>
<span class="lineno"></span><span class="op" id="5963997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="5964000">func</span>&nbsp;<span class="ident" id="5964005">encFloat64Array</span><span class="op" id="5964020">(</span><span class="ident" id="5964021">state</span>&nbsp;<span class="op" id="5964027">*</span><span class="ident" id="5964028">encoderState</span><span class="op" id="5964040">,</span>&nbsp;<span class="ident" id="5964042">v</span>&nbsp;<span class="ident" id="5964044">reflect</span><span class="op" id="5964051">.</span><span class="ident" id="5964052">Value</span><span class="op" id="5964057">)</span>&nbsp;<span class="builtintype" id="5964059">bool</span>&nbsp;<span class="op" id="5964064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964067">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964108">if</span>&nbsp;<span class="op" id="5964111">!</span><span class="ident" id="5964112">v</span><span class="op" id="5964113">.</span><span class="ident" id="5964114">CanAddr</span><span class="op" id="5964121">(</span><span class="op" id="5964122">)</span>&nbsp;<span class="op" id="5964124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964128">return</span>&nbsp;<span class="builtintype" id="5964135">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964142">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964145">return</span>&nbsp;<span class="ident" id="5964152">encFloat64Slice</span><span class="op" id="5964167">(</span><span class="ident" id="5964168">state</span><span class="op" id="5964173">,</span>&nbsp;<span class="ident" id="5964175">v</span><span class="op" id="5964176">.</span><span class="ident" id="5964177">Slice</span><span class="op" id="5964182">(</span><span class="num" id="5964183">0</span><span class="op" id="5964184">,</span>&nbsp;<span class="ident" id="5964186">v</span><span class="op" id="5964187">.</span><span class="ident" id="5964188">Len</span><span class="op" id="5964191">(</span><span class="op" id="5964192">)</span><span class="op" id="5964193">)</span><span class="op" id="5964194">)</span><br>
<span class="lineno"></span><span class="op" id="5964196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5964199">func</span>&nbsp;<span class="ident" id="5964204">encFloat64Slice</span><span class="op" id="5964219">(</span><span class="ident" id="5964220">state</span>&nbsp;<span class="op" id="5964226">*</span><span class="ident" id="5964227">encoderState</span><span class="op" id="5964239">,</span>&nbsp;<span class="ident" id="5964241">v</span>&nbsp;<span class="ident" id="5964243">reflect</span><span class="op" id="5964250">.</span><span class="ident" id="5964251">Value</span><span class="op" id="5964256">)</span>&nbsp;<span class="builtintype" id="5964258">bool</span>&nbsp;<span class="op" id="5964263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964266">slice</span><span class="op" id="5964271">,</span>&nbsp;<span class="ident" id="5964273">ok</span>&nbsp;<span class="op" id="5964276">:=</span>&nbsp;<span class="ident" id="5964279">v</span><span class="op" id="5964280">.</span><span class="ident" id="5964281">Interface</span><span class="op" id="5964290">(</span><span class="op" id="5964291">)</span><span class="op" id="5964292">.</span><span class="op" id="5964293">(</span><span class="op" id="5964294">[</span><span class="op" id="5964295">]</span><span class="builtintype" id="5964296">float64</span><span class="op" id="5964303">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964306">if</span>&nbsp;<span class="op" id="5964309">!</span><span class="ident" id="5964310">ok</span>&nbsp;<span class="op" id="5964313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964317">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964398">return</span>&nbsp;<span class="builtintype" id="5964405">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964415">for</span>&nbsp;<span class="ident" id="5964419">_</span><span class="op" id="5964420">,</span>&nbsp;<span class="ident" id="5964422">x</span>&nbsp;<span class="op" id="5964424">:=</span>&nbsp;<span class="keyword" id="5964427">range</span>&nbsp;<span class="ident" id="5964433">slice</span>&nbsp;<span class="op" id="5964439">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964443">if</span>&nbsp;<span class="ident" id="5964446">x</span>&nbsp;<span class="op" id="5964448">!=</span>&nbsp;<span class="num" id="5964451">0</span>&nbsp;<span class="op" id="5964453">||</span>&nbsp;<span class="ident" id="5964456">state</span><span class="op" id="5964461">.</span><span class="ident" id="5964462">sendZero</span>&nbsp;<span class="op" id="5964471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964476">bits</span>&nbsp;<span class="op" id="5964481">:=</span>&nbsp;<span class="ident" id="5964484">floatBits</span><span class="op" id="5964493">(</span><span class="ident" id="5964494">x</span><span class="op" id="5964495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964500">state</span><span class="op" id="5964505">.</span><span class="ident" id="5964506">encodeUint</span><span class="op" id="5964516">(</span><span class="ident" id="5964517">bits</span><span class="op" id="5964521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964528">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964531">return</span>&nbsp;<span class="builtintype" id="5964538">true</span><br>
<span class="lineno"></span><span class="op" id="5964543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5964546">func</span>&nbsp;<span class="ident" id="5964551">encIntArray</span><span class="op" id="5964562">(</span><span class="ident" id="5964563">state</span>&nbsp;<span class="op" id="5964569">*</span><span class="ident" id="5964570">encoderState</span><span class="op" id="5964582">,</span>&nbsp;<span class="ident" id="5964584">v</span>&nbsp;<span class="ident" id="5964586">reflect</span><span class="op" id="5964593">.</span><span class="ident" id="5964594">Value</span><span class="op" id="5964599">)</span>&nbsp;<span class="builtintype" id="5964601">bool</span>&nbsp;<span class="op" id="5964606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964609">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964650">if</span>&nbsp;<span class="op" id="5964653">!</span><span class="ident" id="5964654">v</span><span class="op" id="5964655">.</span><span class="ident" id="5964656">CanAddr</span><span class="op" id="5964663">(</span><span class="op" id="5964664">)</span>&nbsp;<span class="op" id="5964666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964670">return</span>&nbsp;<span class="builtintype" id="5964677">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964687">return</span>&nbsp;<span class="ident" id="5964694">encIntSlice</span><span class="op" id="5964705">(</span><span class="ident" id="5964706">state</span><span class="op" id="5964711">,</span>&nbsp;<span class="ident" id="5964713">v</span><span class="op" id="5964714">.</span><span class="ident" id="5964715">Slice</span><span class="op" id="5964720">(</span><span class="num" id="5964721">0</span><span class="op" id="5964722">,</span>&nbsp;<span class="ident" id="5964724">v</span><span class="op" id="5964725">.</span><span class="ident" id="5964726">Len</span><span class="op" id="5964729">(</span><span class="op" id="5964730">)</span><span class="op" id="5964731">)</span><span class="op" id="5964732">)</span><br>
<span class="lineno"></span><span class="op" id="5964734">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="5964737">func</span>&nbsp;<span class="ident" id="5964742">encIntSlice</span><span class="op" id="5964753">(</span><span class="ident" id="5964754">state</span>&nbsp;<span class="op" id="5964760">*</span><span class="ident" id="5964761">encoderState</span><span class="op" id="5964773">,</span>&nbsp;<span class="ident" id="5964775">v</span>&nbsp;<span class="ident" id="5964777">reflect</span><span class="op" id="5964784">.</span><span class="ident" id="5964785">Value</span><span class="op" id="5964790">)</span>&nbsp;<span class="builtintype" id="5964792">bool</span>&nbsp;<span class="op" id="5964797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964800">slice</span><span class="op" id="5964805">,</span>&nbsp;<span class="ident" id="5964807">ok</span>&nbsp;<span class="op" id="5964810">:=</span>&nbsp;<span class="ident" id="5964813">v</span><span class="op" id="5964814">.</span><span class="ident" id="5964815">Interface</span><span class="op" id="5964824">(</span><span class="op" id="5964825">)</span><span class="op" id="5964826">.</span><span class="op" id="5964827">(</span><span class="op" id="5964828">[</span><span class="op" id="5964829">]</span><span class="builtintype" id="5964830">int</span><span class="op" id="5964833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964836">if</span>&nbsp;<span class="op" id="5964839">!</span><span class="ident" id="5964840">ok</span>&nbsp;<span class="op" id="5964843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964847">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964920">return</span>&nbsp;<span class="builtintype" id="5964927">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964937">for</span>&nbsp;<span class="ident" id="5964941">_</span><span class="op" id="5964942">,</span>&nbsp;<span class="ident" id="5964944">x</span>&nbsp;<span class="op" id="5964946">:=</span>&nbsp;<span class="keyword" id="5964949">range</span>&nbsp;<span class="ident" id="5964955">slice</span>&nbsp;<span class="op" id="5964961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964965">if</span>&nbsp;<span class="ident" id="5964968">x</span>&nbsp;<span class="op" id="5964970">!=</span>&nbsp;<span class="num" id="5964973">0</span>&nbsp;<span class="op" id="5964975">||</span>&nbsp;<span class="ident" id="5964978">state</span><span class="op" id="5964983">.</span><span class="ident" id="5964984">sendZero</span>&nbsp;<span class="op" id="5964993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964998">state</span><span class="op" id="5965003">.</span><span class="ident" id="5965004">encodeInt</span><span class="op" id="5965013">(</span><span class="ident" id="5965014">int64</span><span class="op" id="5965019">(</span><span class="ident" id="5965020">x</span><span class="op" id="5965021">)</span><span class="op" id="5965022">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5965026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5965029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965032">return</span>&nbsp;<span class="builtintype" id="5965039">true</span><br>
<span class="lineno"></span><span class="op" id="5965044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="5965047">func</span>&nbsp;<span class="ident" id="5965052">encInt16Array</span><span class="op" id="5965065">(</span><span class="ident" id="5965066">state</span>&nbsp;<span class="op" id="5965072">*</span><span class="ident" id="5965073">encoderState</span><span class="op" id="5965085">,</span>&nbsp;<span class="ident" id="5965087">v</span>&nbsp;<span class="ident" id="5965089">reflect</span><span class="op" id="5965096">.</span><span class="ident" id="5965097">Value</span><span class="op" id="5965102">)</span>&nbsp;<span class="builtintype" id="5965104">bool</span>&nbsp;<span class="op" id="5965109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5965112">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965153">if</span>&nbsp;<span class="op" id="5965156">!</span><span class="ident" id="5965157">v</span><span class="op" id="5965158">.</span><span class="ident" id="5965159">CanAddr</span><span class="op" id="5965166">(</span><span class="op" id="5965167">)</span>&nbsp;<span class="op" id="5965169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965173">return</span>&nbsp;<span class="builtintype" id="5965180">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5965187">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965190">return</span>&nbsp;<span class="ident" id="5965197">encInt16Slice</span><span class="op" id="5965210">(</span><span class="ident" id="5965211">state</span><span class="op" id="5965216">,</span>&nbsp;<span class="ident" id="5965218">v</span><span class="op" id="5965219">.</span><span class="ident" id="5965220">Slice</span><span class="op" id="5965225">(</span><span class="num" id="5965226">0</span><span class="op" id="5965227">,</span>&nbsp;<span class="ident" id="5965229">v</span><span class="op" id="5965230">.</span><span class="ident" id="5965231">Len</span><span class="op" id="5965234">(</span><span class="op" id="5965235">)</span><span class="op" id="5965236">)</span><span class="op" id="5965237">)</span><br>
<span class="lineno"></span><span class="op" id="5965239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5965242">func</span>&nbsp;<span class="ident" id="5965247">encInt16Slice</span><span class="op" id="5965260">(</span><span class="ident" id="5965261">state</span>&nbsp;<span class="op" id="5965267">*</span><span class="ident" id="5965268">encoderState</span><span class="op" id="5965280">,</span>&nbsp;<span class="ident" id="5965282">v</span>&nbsp;<span class="ident" id="5965284">reflect</span><span class="op" id="5965291">.</span><span class="ident" id="5965292">Value</span><span class="op" id="5965297">)</span>&nbsp;<span class="builtintype" id="5965299">bool</span>&nbsp;<span class="op" id="5965304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965307">slice</span><span class="op" id="5965312">,</span>&nbsp;<span class="ident" id="5965314">ok</span>&nbsp;<span class="op" id="5965317">:=</span>&nbsp;<span class="ident" id="5965320">v</span><span class="op" id="5965321">.</span><span class="ident" id="5965322">Interface</span><span class="op" id="5965331">(</span><span class="op" id="5965332">)</span><span class="op" id="5965333">.</span><span class="op" id="5965334">(</span><span class="op" id="5965335">[</span><span class="op" id="5965336">]</span><span class="builtintype" id="5965337">int16</span><span class="op" id="5965342">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965345">if</span>&nbsp;<span class="op" id="5965348">!</span><span class="ident" id="5965349">ok</span>&nbsp;<span class="op" id="5965352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5965356">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965433">return</span>&nbsp;<span class="builtintype" id="5965440">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5965447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965450">for</span>&nbsp;<span class="ident" id="5965454">_</span><span class="op" id="5965455">,</span>&nbsp;<span class="ident" id="5965457">x</span>&nbsp;<span class="op" id="5965459">:=</span>&nbsp;<span class="keyword" id="5965462">range</span>&nbsp;<span class="ident" id="5965468">slice</span>&nbsp;<span class="op" id="5965474">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965478">if</span>&nbsp;<span class="ident" id="5965481">x</span>&nbsp;<span class="op" id="5965483">!=</span>&nbsp;<span class="num" id="5965486">0</span>&nbsp;<span class="op" id="5965488">||</span>&nbsp;<span class="ident" id="5965491">state</span><span class="op" id="5965496">.</span><span class="ident" id="5965497">sendZero</span>&nbsp;<span class="op" id="5965506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965511">state</span><span class="op" id="5965516">.</span><span class="ident" id="5965517">encodeInt</span><span class="op" id="5965526">(</span><span class="ident" id="5965527">int64</span><span class="op" id="5965532">(</span><span class="ident" id="5965533">x</span><span class="op" id="5965534">)</span><span class="op" id="5965535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5965539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5965542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965545">return</span>&nbsp;<span class="builtintype" id="5965552">true</span><br>
<span class="lineno">215</span><span class="op" id="5965557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5965560">func</span>&nbsp;<span class="ident" id="5965565">encInt32Array</span><span class="op" id="5965578">(</span><span class="ident" id="5965579">state</span>&nbsp;<span class="op" id="5965585">*</span><span class="ident" id="5965586">encoderState</span><span class="op" id="5965598">,</span>&nbsp;<span class="ident" id="5965600">v</span>&nbsp;<span class="ident" id="5965602">reflect</span><span class="op" id="5965609">.</span><span class="ident" id="5965610">Value</span><span class="op" id="5965615">)</span>&nbsp;<span class="builtintype" id="5965617">bool</span>&nbsp;<span class="op" id="5965622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5965625">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965666">if</span>&nbsp;<span class="op" id="5965669">!</span><span class="ident" id="5965670">v</span><span class="op" id="5965671">.</span><span class="ident" id="5965672">CanAddr</span><span class="op" id="5965679">(</span><span class="op" id="5965680">)</span>&nbsp;<span class="op" id="5965682">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965686">return</span>&nbsp;<span class="builtintype" id="5965693">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5965700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965703">return</span>&nbsp;<span class="ident" id="5965710">encInt32Slice</span><span class="op" id="5965723">(</span><span class="ident" id="5965724">state</span><span class="op" id="5965729">,</span>&nbsp;<span class="ident" id="5965731">v</span><span class="op" id="5965732">.</span><span class="ident" id="5965733">Slice</span><span class="op" id="5965738">(</span><span class="num" id="5965739">0</span><span class="op" id="5965740">,</span>&nbsp;<span class="ident" id="5965742">v</span><span class="op" id="5965743">.</span><span class="ident" id="5965744">Len</span><span class="op" id="5965747">(</span><span class="op" id="5965748">)</span><span class="op" id="5965749">)</span><span class="op" id="5965750">)</span><br>
<span class="lineno"></span><span class="op" id="5965752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="5965755">func</span>&nbsp;<span class="ident" id="5965760">encInt32Slice</span><span class="op" id="5965773">(</span><span class="ident" id="5965774">state</span>&nbsp;<span class="op" id="5965780">*</span><span class="ident" id="5965781">encoderState</span><span class="op" id="5965793">,</span>&nbsp;<span class="ident" id="5965795">v</span>&nbsp;<span class="ident" id="5965797">reflect</span><span class="op" id="5965804">.</span><span class="ident" id="5965805">Value</span><span class="op" id="5965810">)</span>&nbsp;<span class="builtintype" id="5965812">bool</span>&nbsp;<span class="op" id="5965817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965820">slice</span><span class="op" id="5965825">,</span>&nbsp;<span class="ident" id="5965827">ok</span>&nbsp;<span class="op" id="5965830">:=</span>&nbsp;<span class="ident" id="5965833">v</span><span class="op" id="5965834">.</span><span class="ident" id="5965835">Interface</span><span class="op" id="5965844">(</span><span class="op" id="5965845">)</span><span class="op" id="5965846">.</span><span class="op" id="5965847">(</span><span class="op" id="5965848">[</span><span class="op" id="5965849">]</span><span class="builtintype" id="5965850">int32</span><span class="op" id="5965855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965858">if</span>&nbsp;<span class="op" id="5965861">!</span><span class="ident" id="5965862">ok</span>&nbsp;<span class="op" id="5965865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5965869">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965946">return</span>&nbsp;<span class="builtintype" id="5965953">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5965960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965963">for</span>&nbsp;<span class="ident" id="5965967">_</span><span class="op" id="5965968">,</span>&nbsp;<span class="ident" id="5965970">x</span>&nbsp;<span class="op" id="5965972">:=</span>&nbsp;<span class="keyword" id="5965975">range</span>&nbsp;<span class="ident" id="5965981">slice</span>&nbsp;<span class="op" id="5965987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965991">if</span>&nbsp;<span class="ident" id="5965994">x</span>&nbsp;<span class="op" id="5965996">!=</span>&nbsp;<span class="num" id="5965999">0</span>&nbsp;<span class="op" id="5966001">||</span>&nbsp;<span class="ident" id="5966004">state</span><span class="op" id="5966009">.</span><span class="ident" id="5966010">sendZero</span>&nbsp;<span class="op" id="5966019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966024">state</span><span class="op" id="5966029">.</span><span class="ident" id="5966030">encodeInt</span><span class="op" id="5966039">(</span><span class="ident" id="5966040">int64</span><span class="op" id="5966045">(</span><span class="ident" id="5966046">x</span><span class="op" id="5966047">)</span><span class="op" id="5966048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966052">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966058">return</span>&nbsp;<span class="builtintype" id="5966065">true</span><br>
<span class="lineno"></span><span class="op" id="5966070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5966073">func</span>&nbsp;<span class="ident" id="5966078">encInt64Array</span><span class="op" id="5966091">(</span><span class="ident" id="5966092">state</span>&nbsp;<span class="op" id="5966098">*</span><span class="ident" id="5966099">encoderState</span><span class="op" id="5966111">,</span>&nbsp;<span class="ident" id="5966113">v</span>&nbsp;<span class="ident" id="5966115">reflect</span><span class="op" id="5966122">.</span><span class="ident" id="5966123">Value</span><span class="op" id="5966128">)</span>&nbsp;<span class="builtintype" id="5966130">bool</span>&nbsp;<span class="op" id="5966135">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5966138">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966179">if</span>&nbsp;<span class="op" id="5966182">!</span><span class="ident" id="5966183">v</span><span class="op" id="5966184">.</span><span class="ident" id="5966185">CanAddr</span><span class="op" id="5966192">(</span><span class="op" id="5966193">)</span>&nbsp;<span class="op" id="5966195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966199">return</span>&nbsp;<span class="builtintype" id="5966206">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966216">return</span>&nbsp;<span class="ident" id="5966223">encInt64Slice</span><span class="op" id="5966236">(</span><span class="ident" id="5966237">state</span><span class="op" id="5966242">,</span>&nbsp;<span class="ident" id="5966244">v</span><span class="op" id="5966245">.</span><span class="ident" id="5966246">Slice</span><span class="op" id="5966251">(</span><span class="num" id="5966252">0</span><span class="op" id="5966253">,</span>&nbsp;<span class="ident" id="5966255">v</span><span class="op" id="5966256">.</span><span class="ident" id="5966257">Len</span><span class="op" id="5966260">(</span><span class="op" id="5966261">)</span><span class="op" id="5966262">)</span><span class="op" id="5966263">)</span><br>
<span class="lineno">245</span><span class="op" id="5966265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5966268">func</span>&nbsp;<span class="ident" id="5966273">encInt64Slice</span><span class="op" id="5966286">(</span><span class="ident" id="5966287">state</span>&nbsp;<span class="op" id="5966293">*</span><span class="ident" id="5966294">encoderState</span><span class="op" id="5966306">,</span>&nbsp;<span class="ident" id="5966308">v</span>&nbsp;<span class="ident" id="5966310">reflect</span><span class="op" id="5966317">.</span><span class="ident" id="5966318">Value</span><span class="op" id="5966323">)</span>&nbsp;<span class="builtintype" id="5966325">bool</span>&nbsp;<span class="op" id="5966330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966333">slice</span><span class="op" id="5966338">,</span>&nbsp;<span class="ident" id="5966340">ok</span>&nbsp;<span class="op" id="5966343">:=</span>&nbsp;<span class="ident" id="5966346">v</span><span class="op" id="5966347">.</span><span class="ident" id="5966348">Interface</span><span class="op" id="5966357">(</span><span class="op" id="5966358">)</span><span class="op" id="5966359">.</span><span class="op" id="5966360">(</span><span class="op" id="5966361">[</span><span class="op" id="5966362">]</span><span class="ident" id="5966363">int64</span><span class="op" id="5966368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966371">if</span>&nbsp;<span class="op" id="5966374">!</span><span class="ident" id="5966375">ok</span>&nbsp;<span class="op" id="5966378">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5966382">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966459">return</span>&nbsp;<span class="builtintype" id="5966466">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966476">for</span>&nbsp;<span class="ident" id="5966480">_</span><span class="op" id="5966481">,</span>&nbsp;<span class="ident" id="5966483">x</span>&nbsp;<span class="op" id="5966485">:=</span>&nbsp;<span class="keyword" id="5966488">range</span>&nbsp;<span class="ident" id="5966494">slice</span>&nbsp;<span class="op" id="5966500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966504">if</span>&nbsp;<span class="ident" id="5966507">x</span>&nbsp;<span class="op" id="5966509">!=</span>&nbsp;<span class="num" id="5966512">0</span>&nbsp;<span class="op" id="5966514">||</span>&nbsp;<span class="ident" id="5966517">state</span><span class="op" id="5966522">.</span><span class="ident" id="5966523">sendZero</span>&nbsp;<span class="op" id="5966532">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966537">state</span><span class="op" id="5966542">.</span><span class="ident" id="5966543">encodeInt</span><span class="op" id="5966552">(</span><span class="ident" id="5966553">x</span><span class="op" id="5966554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966564">return</span>&nbsp;<span class="builtintype" id="5966571">true</span><br>
<span class="lineno"></span><span class="op" id="5966576">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="5966579">func</span>&nbsp;<span class="ident" id="5966584">encInt8Array</span><span class="op" id="5966596">(</span><span class="ident" id="5966597">state</span>&nbsp;<span class="op" id="5966603">*</span><span class="ident" id="5966604">encoderState</span><span class="op" id="5966616">,</span>&nbsp;<span class="ident" id="5966618">v</span>&nbsp;<span class="ident" id="5966620">reflect</span><span class="op" id="5966627">.</span><span class="ident" id="5966628">Value</span><span class="op" id="5966633">)</span>&nbsp;<span class="builtintype" id="5966635">bool</span>&nbsp;<span class="op" id="5966640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5966643">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966684">if</span>&nbsp;<span class="op" id="5966687">!</span><span class="ident" id="5966688">v</span><span class="op" id="5966689">.</span><span class="ident" id="5966690">CanAddr</span><span class="op" id="5966697">(</span><span class="op" id="5966698">)</span>&nbsp;<span class="op" id="5966700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966704">return</span>&nbsp;<span class="builtintype" id="5966711">false</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966721">return</span>&nbsp;<span class="ident" id="5966728">encInt8Slice</span><span class="op" id="5966740">(</span><span class="ident" id="5966741">state</span><span class="op" id="5966746">,</span>&nbsp;<span class="ident" id="5966748">v</span><span class="op" id="5966749">.</span><span class="ident" id="5966750">Slice</span><span class="op" id="5966755">(</span><span class="num" id="5966756">0</span><span class="op" id="5966757">,</span>&nbsp;<span class="ident" id="5966759">v</span><span class="op" id="5966760">.</span><span class="ident" id="5966761">Len</span><span class="op" id="5966764">(</span><span class="op" id="5966765">)</span><span class="op" id="5966766">)</span><span class="op" id="5966767">)</span><br>
<span class="lineno"></span><span class="op" id="5966769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5966772">func</span>&nbsp;<span class="ident" id="5966777">encInt8Slice</span><span class="op" id="5966789">(</span><span class="ident" id="5966790">state</span>&nbsp;<span class="op" id="5966796">*</span><span class="ident" id="5966797">encoderState</span><span class="op" id="5966809">,</span>&nbsp;<span class="ident" id="5966811">v</span>&nbsp;<span class="ident" id="5966813">reflect</span><span class="op" id="5966820">.</span><span class="ident" id="5966821">Value</span><span class="op" id="5966826">)</span>&nbsp;<span class="builtintype" id="5966828">bool</span>&nbsp;<span class="op" id="5966833">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966836">slice</span><span class="op" id="5966841">,</span>&nbsp;<span class="ident" id="5966843">ok</span>&nbsp;<span class="op" id="5966846">:=</span>&nbsp;<span class="ident" id="5966849">v</span><span class="op" id="5966850">.</span><span class="ident" id="5966851">Interface</span><span class="op" id="5966860">(</span><span class="op" id="5966861">)</span><span class="op" id="5966862">.</span><span class="op" id="5966863">(</span><span class="op" id="5966864">[</span><span class="op" id="5966865">]</span><span class="builtintype" id="5966866">int8</span><span class="op" id="5966870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966873">if</span>&nbsp;<span class="op" id="5966876">!</span><span class="ident" id="5966877">ok</span>&nbsp;<span class="op" id="5966880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5966884">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966959">return</span>&nbsp;<span class="builtintype" id="5966966">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966973">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966976">for</span>&nbsp;<span class="ident" id="5966980">_</span><span class="op" id="5966981">,</span>&nbsp;<span class="ident" id="5966983">x</span>&nbsp;<span class="op" id="5966985">:=</span>&nbsp;<span class="keyword" id="5966988">range</span>&nbsp;<span class="ident" id="5966994">slice</span>&nbsp;<span class="op" id="5967000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967004">if</span>&nbsp;<span class="ident" id="5967007">x</span>&nbsp;<span class="op" id="5967009">!=</span>&nbsp;<span class="num" id="5967012">0</span>&nbsp;<span class="op" id="5967014">||</span>&nbsp;<span class="ident" id="5967017">state</span><span class="op" id="5967022">.</span><span class="ident" id="5967023">sendZero</span>&nbsp;<span class="op" id="5967032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967037">state</span><span class="op" id="5967042">.</span><span class="ident" id="5967043">encodeInt</span><span class="op" id="5967052">(</span><span class="ident" id="5967053">int64</span><span class="op" id="5967058">(</span><span class="ident" id="5967059">x</span><span class="op" id="5967060">)</span><span class="op" id="5967061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967068">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967071">return</span>&nbsp;<span class="builtintype" id="5967078">true</span><br>
<span class="lineno"></span><span class="op" id="5967083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5967086">func</span>&nbsp;<span class="ident" id="5967091">encStringArray</span><span class="op" id="5967105">(</span><span class="ident" id="5967106">state</span>&nbsp;<span class="op" id="5967112">*</span><span class="ident" id="5967113">encoderState</span><span class="op" id="5967125">,</span>&nbsp;<span class="ident" id="5967127">v</span>&nbsp;<span class="ident" id="5967129">reflect</span><span class="op" id="5967136">.</span><span class="ident" id="5967137">Value</span><span class="op" id="5967142">)</span>&nbsp;<span class="builtintype" id="5967144">bool</span>&nbsp;<span class="op" id="5967149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5967152">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967193">if</span>&nbsp;<span class="op" id="5967196">!</span><span class="ident" id="5967197">v</span><span class="op" id="5967198">.</span><span class="ident" id="5967199">CanAddr</span><span class="op" id="5967206">(</span><span class="op" id="5967207">)</span>&nbsp;<span class="op" id="5967209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967213">return</span>&nbsp;<span class="builtintype" id="5967220">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967230">return</span>&nbsp;<span class="ident" id="5967237">encStringSlice</span><span class="op" id="5967251">(</span><span class="ident" id="5967252">state</span><span class="op" id="5967257">,</span>&nbsp;<span class="ident" id="5967259">v</span><span class="op" id="5967260">.</span><span class="ident" id="5967261">Slice</span><span class="op" id="5967266">(</span><span class="num" id="5967267">0</span><span class="op" id="5967268">,</span>&nbsp;<span class="ident" id="5967270">v</span><span class="op" id="5967271">.</span><span class="ident" id="5967272">Len</span><span class="op" id="5967275">(</span><span class="op" id="5967276">)</span><span class="op" id="5967277">)</span><span class="op" id="5967278">)</span><br>
<span class="lineno"></span><span class="op" id="5967280">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="5967283">func</span>&nbsp;<span class="ident" id="5967288">encStringSlice</span><span class="op" id="5967302">(</span><span class="ident" id="5967303">state</span>&nbsp;<span class="op" id="5967309">*</span><span class="ident" id="5967310">encoderState</span><span class="op" id="5967322">,</span>&nbsp;<span class="ident" id="5967324">v</span>&nbsp;<span class="ident" id="5967326">reflect</span><span class="op" id="5967333">.</span><span class="ident" id="5967334">Value</span><span class="op" id="5967339">)</span>&nbsp;<span class="builtintype" id="5967341">bool</span>&nbsp;<span class="op" id="5967346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967349">slice</span><span class="op" id="5967354">,</span>&nbsp;<span class="ident" id="5967356">ok</span>&nbsp;<span class="op" id="5967359">:=</span>&nbsp;<span class="ident" id="5967362">v</span><span class="op" id="5967363">.</span><span class="ident" id="5967364">Interface</span><span class="op" id="5967373">(</span><span class="op" id="5967374">)</span><span class="op" id="5967375">.</span><span class="op" id="5967376">(</span><span class="op" id="5967377">[</span><span class="op" id="5967378">]</span><span class="builtintype" id="5967379">string</span><span class="op" id="5967385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967388">if</span>&nbsp;<span class="op" id="5967391">!</span><span class="ident" id="5967392">ok</span>&nbsp;<span class="op" id="5967395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5967399">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967478">return</span>&nbsp;<span class="builtintype" id="5967485">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967495">for</span>&nbsp;<span class="ident" id="5967499">_</span><span class="op" id="5967500">,</span>&nbsp;<span class="ident" id="5967502">x</span>&nbsp;<span class="op" id="5967504">:=</span>&nbsp;<span class="keyword" id="5967507">range</span>&nbsp;<span class="ident" id="5967513">slice</span>&nbsp;<span class="op" id="5967519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967523">if</span>&nbsp;<span class="ident" id="5967526">x</span>&nbsp;<span class="op" id="5967528">!=</span>&nbsp;<span class="string" id="5967531">&#34;&#34;</span>&nbsp;<span class="op" id="5967534">||</span>&nbsp;<span class="ident" id="5967537">state</span><span class="op" id="5967542">.</span><span class="ident" id="5967543">sendZero</span>&nbsp;<span class="op" id="5967552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967557">state</span><span class="op" id="5967562">.</span><span class="ident" id="5967563">encodeUint</span><span class="op" id="5967573">(</span><span class="ident" id="5967574">uint64</span><span class="op" id="5967580">(</span><span class="builtinfunc" id="5967581">len</span><span class="op" id="5967584">(</span><span class="ident" id="5967585">x</span><span class="op" id="5967586">)</span><span class="op" id="5967587">)</span><span class="op" id="5967588">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967593">state</span><span class="op" id="5967598">.</span><span class="ident" id="5967599">b</span><span class="op" id="5967600">.</span><span class="ident" id="5967601">WriteString</span><span class="op" id="5967612">(</span><span class="ident" id="5967613">x</span><span class="op" id="5967614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967624">return</span>&nbsp;<span class="builtintype" id="5967631">true</span><br>
<span class="lineno"></span><span class="op" id="5967636">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="5967639">func</span>&nbsp;<span class="ident" id="5967644">encUintArray</span><span class="op" id="5967656">(</span><span class="ident" id="5967657">state</span>&nbsp;<span class="op" id="5967663">*</span><span class="ident" id="5967664">encoderState</span><span class="op" id="5967676">,</span>&nbsp;<span class="ident" id="5967678">v</span>&nbsp;<span class="ident" id="5967680">reflect</span><span class="op" id="5967687">.</span><span class="ident" id="5967688">Value</span><span class="op" id="5967693">)</span>&nbsp;<span class="builtintype" id="5967695">bool</span>&nbsp;<span class="op" id="5967700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5967703">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967744">if</span>&nbsp;<span class="op" id="5967747">!</span><span class="ident" id="5967748">v</span><span class="op" id="5967749">.</span><span class="ident" id="5967750">CanAddr</span><span class="op" id="5967757">(</span><span class="op" id="5967758">)</span>&nbsp;<span class="op" id="5967760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967764">return</span>&nbsp;<span class="builtintype" id="5967771">false</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967781">return</span>&nbsp;<span class="ident" id="5967788">encUintSlice</span><span class="op" id="5967800">(</span><span class="ident" id="5967801">state</span><span class="op" id="5967806">,</span>&nbsp;<span class="ident" id="5967808">v</span><span class="op" id="5967809">.</span><span class="ident" id="5967810">Slice</span><span class="op" id="5967815">(</span><span class="num" id="5967816">0</span><span class="op" id="5967817">,</span>&nbsp;<span class="ident" id="5967819">v</span><span class="op" id="5967820">.</span><span class="ident" id="5967821">Len</span><span class="op" id="5967824">(</span><span class="op" id="5967825">)</span><span class="op" id="5967826">)</span><span class="op" id="5967827">)</span><br>
<span class="lineno"></span><span class="op" id="5967829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5967832">func</span>&nbsp;<span class="ident" id="5967837">encUintSlice</span><span class="op" id="5967849">(</span><span class="ident" id="5967850">state</span>&nbsp;<span class="op" id="5967856">*</span><span class="ident" id="5967857">encoderState</span><span class="op" id="5967869">,</span>&nbsp;<span class="ident" id="5967871">v</span>&nbsp;<span class="ident" id="5967873">reflect</span><span class="op" id="5967880">.</span><span class="ident" id="5967881">Value</span><span class="op" id="5967886">)</span>&nbsp;<span class="builtintype" id="5967888">bool</span>&nbsp;<span class="op" id="5967893">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967896">slice</span><span class="op" id="5967901">,</span>&nbsp;<span class="ident" id="5967903">ok</span>&nbsp;<span class="op" id="5967906">:=</span>&nbsp;<span class="ident" id="5967909">v</span><span class="op" id="5967910">.</span><span class="ident" id="5967911">Interface</span><span class="op" id="5967920">(</span><span class="op" id="5967921">)</span><span class="op" id="5967922">.</span><span class="op" id="5967923">(</span><span class="op" id="5967924">[</span><span class="op" id="5967925">]</span><span class="builtintype" id="5967926">uint</span><span class="op" id="5967930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967933">if</span>&nbsp;<span class="op" id="5967936">!</span><span class="ident" id="5967937">ok</span>&nbsp;<span class="op" id="5967940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5967944">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968019">return</span>&nbsp;<span class="builtintype" id="5968026">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968033">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968036">for</span>&nbsp;<span class="ident" id="5968040">_</span><span class="op" id="5968041">,</span>&nbsp;<span class="ident" id="5968043">x</span>&nbsp;<span class="op" id="5968045">:=</span>&nbsp;<span class="keyword" id="5968048">range</span>&nbsp;<span class="ident" id="5968054">slice</span>&nbsp;<span class="op" id="5968060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968064">if</span>&nbsp;<span class="ident" id="5968067">x</span>&nbsp;<span class="op" id="5968069">!=</span>&nbsp;<span class="num" id="5968072">0</span>&nbsp;<span class="op" id="5968074">||</span>&nbsp;<span class="ident" id="5968077">state</span><span class="op" id="5968082">.</span><span class="ident" id="5968083">sendZero</span>&nbsp;<span class="op" id="5968092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5968097">state</span><span class="op" id="5968102">.</span><span class="ident" id="5968103">encodeUint</span><span class="op" id="5968113">(</span><span class="ident" id="5968114">uint64</span><span class="op" id="5968120">(</span><span class="ident" id="5968121">x</span><span class="op" id="5968122">)</span><span class="op" id="5968123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968130">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968133">return</span>&nbsp;<span class="builtintype" id="5968140">true</span><br>
<span class="lineno"></span><span class="op" id="5968145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5968148">func</span>&nbsp;<span class="ident" id="5968153">encUint16Array</span><span class="op" id="5968167">(</span><span class="ident" id="5968168">state</span>&nbsp;<span class="op" id="5968174">*</span><span class="ident" id="5968175">encoderState</span><span class="op" id="5968187">,</span>&nbsp;<span class="ident" id="5968189">v</span>&nbsp;<span class="ident" id="5968191">reflect</span><span class="op" id="5968198">.</span><span class="ident" id="5968199">Value</span><span class="op" id="5968204">)</span>&nbsp;<span class="builtintype" id="5968206">bool</span>&nbsp;<span class="op" id="5968211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5968214">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968255">if</span>&nbsp;<span class="op" id="5968258">!</span><span class="ident" id="5968259">v</span><span class="op" id="5968260">.</span><span class="ident" id="5968261">CanAddr</span><span class="op" id="5968268">(</span><span class="op" id="5968269">)</span>&nbsp;<span class="op" id="5968271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968275">return</span>&nbsp;<span class="builtintype" id="5968282">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968292">return</span>&nbsp;<span class="ident" id="5968299">encUint16Slice</span><span class="op" id="5968313">(</span><span class="ident" id="5968314">state</span><span class="op" id="5968319">,</span>&nbsp;<span class="ident" id="5968321">v</span><span class="op" id="5968322">.</span><span class="ident" id="5968323">Slice</span><span class="op" id="5968328">(</span><span class="num" id="5968329">0</span><span class="op" id="5968330">,</span>&nbsp;<span class="ident" id="5968332">v</span><span class="op" id="5968333">.</span><span class="ident" id="5968334">Len</span><span class="op" id="5968337">(</span><span class="op" id="5968338">)</span><span class="op" id="5968339">)</span><span class="op" id="5968340">)</span><br>
<span class="lineno"></span><span class="op" id="5968342">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="5968345">func</span>&nbsp;<span class="ident" id="5968350">encUint16Slice</span><span class="op" id="5968364">(</span><span class="ident" id="5968365">state</span>&nbsp;<span class="op" id="5968371">*</span><span class="ident" id="5968372">encoderState</span><span class="op" id="5968384">,</span>&nbsp;<span class="ident" id="5968386">v</span>&nbsp;<span class="ident" id="5968388">reflect</span><span class="op" id="5968395">.</span><span class="ident" id="5968396">Value</span><span class="op" id="5968401">)</span>&nbsp;<span class="builtintype" id="5968403">bool</span>&nbsp;<span class="op" id="5968408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5968411">slice</span><span class="op" id="5968416">,</span>&nbsp;<span class="ident" id="5968418">ok</span>&nbsp;<span class="op" id="5968421">:=</span>&nbsp;<span class="ident" id="5968424">v</span><span class="op" id="5968425">.</span><span class="ident" id="5968426">Interface</span><span class="op" id="5968435">(</span><span class="op" id="5968436">)</span><span class="op" id="5968437">.</span><span class="op" id="5968438">(</span><span class="op" id="5968439">[</span><span class="op" id="5968440">]</span><span class="builtintype" id="5968441">uint16</span><span class="op" id="5968447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968450">if</span>&nbsp;<span class="op" id="5968453">!</span><span class="ident" id="5968454">ok</span>&nbsp;<span class="op" id="5968457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5968461">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968540">return</span>&nbsp;<span class="builtintype" id="5968547">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968557">for</span>&nbsp;<span class="ident" id="5968561">_</span><span class="op" id="5968562">,</span>&nbsp;<span class="ident" id="5968564">x</span>&nbsp;<span class="op" id="5968566">:=</span>&nbsp;<span class="keyword" id="5968569">range</span>&nbsp;<span class="ident" id="5968575">slice</span>&nbsp;<span class="op" id="5968581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968585">if</span>&nbsp;<span class="ident" id="5968588">x</span>&nbsp;<span class="op" id="5968590">!=</span>&nbsp;<span class="num" id="5968593">0</span>&nbsp;<span class="op" id="5968595">||</span>&nbsp;<span class="ident" id="5968598">state</span><span class="op" id="5968603">.</span><span class="ident" id="5968604">sendZero</span>&nbsp;<span class="op" id="5968613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5968618">state</span><span class="op" id="5968623">.</span><span class="ident" id="5968624">encodeUint</span><span class="op" id="5968634">(</span><span class="ident" id="5968635">uint64</span><span class="op" id="5968641">(</span><span class="ident" id="5968642">x</span><span class="op" id="5968643">)</span><span class="op" id="5968644">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968654">return</span>&nbsp;<span class="builtintype" id="5968661">true</span><br>
<span class="lineno"></span><span class="op" id="5968666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="5968669">func</span>&nbsp;<span class="ident" id="5968674">encUint32Array</span><span class="op" id="5968688">(</span><span class="ident" id="5968689">state</span>&nbsp;<span class="op" id="5968695">*</span><span class="ident" id="5968696">encoderState</span><span class="op" id="5968708">,</span>&nbsp;<span class="ident" id="5968710">v</span>&nbsp;<span class="ident" id="5968712">reflect</span><span class="op" id="5968719">.</span><span class="ident" id="5968720">Value</span><span class="op" id="5968725">)</span>&nbsp;<span class="builtintype" id="5968727">bool</span>&nbsp;<span class="op" id="5968732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5968735">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968776">if</span>&nbsp;<span class="op" id="5968779">!</span><span class="ident" id="5968780">v</span><span class="op" id="5968781">.</span><span class="ident" id="5968782">CanAddr</span><span class="op" id="5968789">(</span><span class="op" id="5968790">)</span>&nbsp;<span class="op" id="5968792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968796">return</span>&nbsp;<span class="builtintype" id="5968803">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968810">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968813">return</span>&nbsp;<span class="ident" id="5968820">encUint32Slice</span><span class="op" id="5968834">(</span><span class="ident" id="5968835">state</span><span class="op" id="5968840">,</span>&nbsp;<span class="ident" id="5968842">v</span><span class="op" id="5968843">.</span><span class="ident" id="5968844">Slice</span><span class="op" id="5968849">(</span><span class="num" id="5968850">0</span><span class="op" id="5968851">,</span>&nbsp;<span class="ident" id="5968853">v</span><span class="op" id="5968854">.</span><span class="ident" id="5968855">Len</span><span class="op" id="5968858">(</span><span class="op" id="5968859">)</span><span class="op" id="5968860">)</span><span class="op" id="5968861">)</span><br>
<span class="lineno"></span><span class="op" id="5968863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5968866">func</span>&nbsp;<span class="ident" id="5968871">encUint32Slice</span><span class="op" id="5968885">(</span><span class="ident" id="5968886">state</span>&nbsp;<span class="op" id="5968892">*</span><span class="ident" id="5968893">encoderState</span><span class="op" id="5968905">,</span>&nbsp;<span class="ident" id="5968907">v</span>&nbsp;<span class="ident" id="5968909">reflect</span><span class="op" id="5968916">.</span><span class="ident" id="5968917">Value</span><span class="op" id="5968922">)</span>&nbsp;<span class="builtintype" id="5968924">bool</span>&nbsp;<span class="op" id="5968929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5968932">slice</span><span class="op" id="5968937">,</span>&nbsp;<span class="ident" id="5968939">ok</span>&nbsp;<span class="op" id="5968942">:=</span>&nbsp;<span class="ident" id="5968945">v</span><span class="op" id="5968946">.</span><span class="ident" id="5968947">Interface</span><span class="op" id="5968956">(</span><span class="op" id="5968957">)</span><span class="op" id="5968958">.</span><span class="op" id="5968959">(</span><span class="op" id="5968960">[</span><span class="op" id="5968961">]</span><span class="builtintype" id="5968962">uint32</span><span class="op" id="5968968">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968971">if</span>&nbsp;<span class="op" id="5968974">!</span><span class="ident" id="5968975">ok</span>&nbsp;<span class="op" id="5968978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5968982">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969061">return</span>&nbsp;<span class="builtintype" id="5969068">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5969075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969078">for</span>&nbsp;<span class="ident" id="5969082">_</span><span class="op" id="5969083">,</span>&nbsp;<span class="ident" id="5969085">x</span>&nbsp;<span class="op" id="5969087">:=</span>&nbsp;<span class="keyword" id="5969090">range</span>&nbsp;<span class="ident" id="5969096">slice</span>&nbsp;<span class="op" id="5969102">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969106">if</span>&nbsp;<span class="ident" id="5969109">x</span>&nbsp;<span class="op" id="5969111">!=</span>&nbsp;<span class="num" id="5969114">0</span>&nbsp;<span class="op" id="5969116">||</span>&nbsp;<span class="ident" id="5969119">state</span><span class="op" id="5969124">.</span><span class="ident" id="5969125">sendZero</span>&nbsp;<span class="op" id="5969134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5969139">state</span><span class="op" id="5969144">.</span><span class="ident" id="5969145">encodeUint</span><span class="op" id="5969155">(</span><span class="ident" id="5969156">uint64</span><span class="op" id="5969162">(</span><span class="ident" id="5969163">x</span><span class="op" id="5969164">)</span><span class="op" id="5969165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5969169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5969172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969175">return</span>&nbsp;<span class="builtintype" id="5969182">true</span><br>
<span class="lineno">370</span><span class="op" id="5969187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5969190">func</span>&nbsp;<span class="ident" id="5969195">encUint64Array</span><span class="op" id="5969209">(</span><span class="ident" id="5969210">state</span>&nbsp;<span class="op" id="5969216">*</span><span class="ident" id="5969217">encoderState</span><span class="op" id="5969229">,</span>&nbsp;<span class="ident" id="5969231">v</span>&nbsp;<span class="ident" id="5969233">reflect</span><span class="op" id="5969240">.</span><span class="ident" id="5969241">Value</span><span class="op" id="5969246">)</span>&nbsp;<span class="builtintype" id="5969248">bool</span>&nbsp;<span class="op" id="5969253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5969256">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969297">if</span>&nbsp;<span class="op" id="5969300">!</span><span class="ident" id="5969301">v</span><span class="op" id="5969302">.</span><span class="ident" id="5969303">CanAddr</span><span class="op" id="5969310">(</span><span class="op" id="5969311">)</span>&nbsp;<span class="op" id="5969313">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969317">return</span>&nbsp;<span class="builtintype" id="5969324">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5969331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969334">return</span>&nbsp;<span class="ident" id="5969341">encUint64Slice</span><span class="op" id="5969355">(</span><span class="ident" id="5969356">state</span><span class="op" id="5969361">,</span>&nbsp;<span class="ident" id="5969363">v</span><span class="op" id="5969364">.</span><span class="ident" id="5969365">Slice</span><span class="op" id="5969370">(</span><span class="num" id="5969371">0</span><span class="op" id="5969372">,</span>&nbsp;<span class="ident" id="5969374">v</span><span class="op" id="5969375">.</span><span class="ident" id="5969376">Len</span><span class="op" id="5969379">(</span><span class="op" id="5969380">)</span><span class="op" id="5969381">)</span><span class="op" id="5969382">)</span><br>
<span class="lineno"></span><span class="op" id="5969384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="5969387">func</span>&nbsp;<span class="ident" id="5969392">encUint64Slice</span><span class="op" id="5969406">(</span><span class="ident" id="5969407">state</span>&nbsp;<span class="op" id="5969413">*</span><span class="ident" id="5969414">encoderState</span><span class="op" id="5969426">,</span>&nbsp;<span class="ident" id="5969428">v</span>&nbsp;<span class="ident" id="5969430">reflect</span><span class="op" id="5969437">.</span><span class="ident" id="5969438">Value</span><span class="op" id="5969443">)</span>&nbsp;<span class="builtintype" id="5969445">bool</span>&nbsp;<span class="op" id="5969450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5969453">slice</span><span class="op" id="5969458">,</span>&nbsp;<span class="ident" id="5969460">ok</span>&nbsp;<span class="op" id="5969463">:=</span>&nbsp;<span class="ident" id="5969466">v</span><span class="op" id="5969467">.</span><span class="ident" id="5969468">Interface</span><span class="op" id="5969477">(</span><span class="op" id="5969478">)</span><span class="op" id="5969479">.</span><span class="op" id="5969480">(</span><span class="op" id="5969481">[</span><span class="op" id="5969482">]</span><span class="ident" id="5969483">uint64</span><span class="op" id="5969489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969492">if</span>&nbsp;<span class="op" id="5969495">!</span><span class="ident" id="5969496">ok</span>&nbsp;<span class="op" id="5969499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5969503">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969582">return</span>&nbsp;<span class="builtintype" id="5969589">false</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5969596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969599">for</span>&nbsp;<span class="ident" id="5969603">_</span><span class="op" id="5969604">,</span>&nbsp;<span class="ident" id="5969606">x</span>&nbsp;<span class="op" id="5969608">:=</span>&nbsp;<span class="keyword" id="5969611">range</span>&nbsp;<span class="ident" id="5969617">slice</span>&nbsp;<span class="op" id="5969623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969627">if</span>&nbsp;<span class="ident" id="5969630">x</span>&nbsp;<span class="op" id="5969632">!=</span>&nbsp;<span class="num" id="5969635">0</span>&nbsp;<span class="op" id="5969637">||</span>&nbsp;<span class="ident" id="5969640">state</span><span class="op" id="5969645">.</span><span class="ident" id="5969646">sendZero</span>&nbsp;<span class="op" id="5969655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5969660">state</span><span class="op" id="5969665">.</span><span class="ident" id="5969666">encodeUint</span><span class="op" id="5969676">(</span><span class="ident" id="5969677">x</span><span class="op" id="5969678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5969682">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5969685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969688">return</span>&nbsp;<span class="builtintype" id="5969695">true</span><br>
<span class="lineno"></span><span class="op" id="5969700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5969703">func</span>&nbsp;<span class="ident" id="5969708">encUintptrArray</span><span class="op" id="5969723">(</span><span class="ident" id="5969724">state</span>&nbsp;<span class="op" id="5969730">*</span><span class="ident" id="5969731">encoderState</span><span class="op" id="5969743">,</span>&nbsp;<span class="ident" id="5969745">v</span>&nbsp;<span class="ident" id="5969747">reflect</span><span class="op" id="5969754">.</span><span class="ident" id="5969755">Value</span><span class="op" id="5969760">)</span>&nbsp;<span class="builtintype" id="5969762">bool</span>&nbsp;<span class="op" id="5969767">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5969770">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969811">if</span>&nbsp;<span class="op" id="5969814">!</span><span class="ident" id="5969815">v</span><span class="op" id="5969816">.</span><span class="ident" id="5969817">CanAddr</span><span class="op" id="5969824">(</span><span class="op" id="5969825">)</span>&nbsp;<span class="op" id="5969827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969831">return</span>&nbsp;<span class="builtintype" id="5969838">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5969845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5969848">return</span>&nbsp;<span class="ident" id="5969855">encUintptrSlice</span><span class="op" id="5969870">(</span><span class="ident" id="5969871">state</span><span class="op" id="5969876">,</span>&nbsp;<span class="ident" id="5969878">v</span><span class="op" id="5969879">.</span><span class="ident" id="5969880">Slice</span><span class="op" id="5969885">(</span><span class="num" id="5969886">0</span><span class="op" id="5969887">,</span>&nbsp;<span class="ident" id="5969889">v</span><span class="op" id="5969890">.</span><span class="ident" id="5969891">Len</span><span class="op" id="5969894">(</span><span class="op" id="5969895">)</span><span class="op" id="5969896">)</span><span class="op" id="5969897">)</span><br>
<span class="lineno">400</span><span class="op" id="5969899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5969902">func</span>&nbsp;<span class="ident" id="5969907">encUintptrSlice</span><span class="op" id="5969922">(</span><span class="ident" id="5969923">state</span>&nbsp;<span class="op" id="5969929">*</span><span class="ident" id="5969930">encoderState</span><span class="op" id="5969942">,</span>&nbsp;<span class="ident" id="5969944">v</span>&nbsp;<span class="ident" id="5969946">reflect</span><span class="op" id="5969953">.</span><span class="ident" id="5969954">Value</span><span class="op" id="5969959">)</span>&nbsp;<span class="builtintype" id="5969961">bool</span>&nbsp;<span class="op" id="5969966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5969969">slice</span><span class="op" id="5969974">,</span>&nbsp;<span class="ident" id="5969976">ok</span>&nbsp;<span class="op" id="5969979">:=</span>&nbsp;<span class="ident" id="5969982">v</span><span class="op" id="5969983">.</span><span class="ident" id="5969984">Interface</span><span class="op" id="5969993">(</span><span class="op" id="5969994">)</span><span class="op" id="5969995">.</span><span class="op" id="5969996">(</span><span class="op" id="5969997">[</span><span class="op" id="5969998">]</span><span class="builtintype" id="5969999">uintptr</span><span class="op" id="5970006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970009">if</span>&nbsp;<span class="op" id="5970012">!</span><span class="ident" id="5970013">ok</span>&nbsp;<span class="op" id="5970016">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5970020">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970101">return</span>&nbsp;<span class="builtintype" id="5970108">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5970115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970118">for</span>&nbsp;<span class="ident" id="5970122">_</span><span class="op" id="5970123">,</span>&nbsp;<span class="ident" id="5970125">x</span>&nbsp;<span class="op" id="5970127">:=</span>&nbsp;<span class="keyword" id="5970130">range</span>&nbsp;<span class="ident" id="5970136">slice</span>&nbsp;<span class="op" id="5970142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970146">if</span>&nbsp;<span class="ident" id="5970149">x</span>&nbsp;<span class="op" id="5970151">!=</span>&nbsp;<span class="num" id="5970154">0</span>&nbsp;<span class="op" id="5970156">||</span>&nbsp;<span class="ident" id="5970159">state</span><span class="op" id="5970164">.</span><span class="ident" id="5970165">sendZero</span>&nbsp;<span class="op" id="5970174">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970179">state</span><span class="op" id="5970184">.</span><span class="ident" id="5970185">encodeUint</span><span class="op" id="5970195">(</span><span class="ident" id="5970196">uint64</span><span class="op" id="5970202">(</span><span class="ident" id="5970203">x</span><span class="op" id="5970204">)</span><span class="op" id="5970205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5970209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5970212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970215">return</span>&nbsp;<span class="builtintype" id="5970222">true</span><br>
<span class="lineno"></span><span class="op" id="5970227">}</span>
</div>
</body>
</html>
