<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5614927">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5614983">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5615037">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5615088">package</span>&nbsp;<span class="ident" id="5615096">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5615104">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="5615129">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5615197">import</span>&nbsp;<span class="op" id="5615204">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5615207">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5615216">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5615227">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5615238">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5615248">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5615251">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="5615310">type</span>&nbsp;<span class="ident" id="5615315">Regexp</span>&nbsp;<span class="keyword" id="5615322">struct</span>&nbsp;<span class="op" id="5615329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615332">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5615341">Op</span>&nbsp;<span class="comment" id="5615344">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615357">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5615366">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615373">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5615382">[</span><span class="op" id="5615383">]</span><span class="op" id="5615384">*</span><span class="ident" id="5615385">Regexp</span>&nbsp;&nbsp;<span class="comment" id="5615393">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615420">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5615429">[</span><span class="num" id="5615430">1</span><span class="op" id="5615431">]</span><span class="op" id="5615432">*</span><span class="ident" id="5615433">Regexp</span>&nbsp;<span class="comment" id="5615440">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615466">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5615475">[</span><span class="op" id="5615476">]</span><span class="builtintype" id="5615477">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5615486">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615532">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5615541">[</span><span class="num" id="5615542">2</span><span class="op" id="5615543">]</span><span class="builtintype" id="5615544">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5615552">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615579">Min</span><span class="op" id="5615582">,</span>&nbsp;<span class="ident" id="5615584">Max</span>&nbsp;<span class="builtintype" id="5615588">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5615599">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615625">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5615634">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5615645">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615680">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5615689">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5615700">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="5615733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5615736">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="5615786">type</span>&nbsp;<span class="ident" id="5615791">Op</span>&nbsp;<span class="builtintype" id="5615794">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5615801">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="5615875">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="5615940">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5615997">const</span>&nbsp;<span class="op" id="5616003">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616006">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5616023">Op</span>&nbsp;<span class="op" id="5616026">=</span>&nbsp;<span class="num" id="5616028">1</span>&nbsp;<span class="op" id="5616030">+</span>&nbsp;<span class="ident" id="5616032">iota</span>&nbsp;<span class="comment" id="5616037">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616060">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616091">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616116">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616147">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616174">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616205">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616254">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616285">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616326">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616357">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616383">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616414">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616460">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616491">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616531">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616562">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616608">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616639">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616679">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616710">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616741">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616772">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616807">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616838">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616901">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5616932">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616970">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5617001">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617038">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5617069">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617106">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5617137">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617212">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5617243">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617277">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5617308">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="5617339">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5617342">const</span>&nbsp;<span class="ident" id="5617348">opPseudo</span>&nbsp;<span class="ident" id="5617357">Op</span>&nbsp;<span class="op" id="5617360">=</span>&nbsp;<span class="num" id="5617362">128</span>&nbsp;<span class="comment" id="5617366">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5617393">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="5617452">func</span>&nbsp;<span class="op" id="5617457">(</span><span class="ident" id="5617458">x</span>&nbsp;<span class="op" id="5617460">*</span><span class="ident" id="5617461">Regexp</span><span class="op" id="5617467">)</span>&nbsp;<span class="ident" id="5617469">Equal</span><span class="op" id="5617474">(</span><span class="ident" id="5617475">y</span>&nbsp;<span class="op" id="5617477">*</span><span class="ident" id="5617478">Regexp</span><span class="op" id="5617484">)</span>&nbsp;<span class="builtintype" id="5617486">bool</span>&nbsp;<span class="op" id="5617491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617494">if</span>&nbsp;<span class="ident" id="5617497">x</span>&nbsp;<span class="op" id="5617499">==</span>&nbsp;<span class="ident" id="5617502">nil</span>&nbsp;<span class="op" id="5617506">||</span>&nbsp;<span class="ident" id="5617509">y</span>&nbsp;<span class="op" id="5617511">==</span>&nbsp;<span class="ident" id="5617514">nil</span>&nbsp;<span class="op" id="5617518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617522">return</span>&nbsp;<span class="ident" id="5617529">x</span>&nbsp;<span class="op" id="5617531">==</span>&nbsp;<span class="ident" id="5617534">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617540">if</span>&nbsp;<span class="ident" id="5617543">x</span><span class="op" id="5617544">.</span><span class="ident" id="5617545">Op</span>&nbsp;<span class="op" id="5617548">!=</span>&nbsp;<span class="ident" id="5617551">y</span><span class="op" id="5617552">.</span><span class="ident" id="5617553">Op</span>&nbsp;<span class="op" id="5617556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617560">return</span>&nbsp;<span class="builtintype" id="5617567">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617577">switch</span>&nbsp;<span class="ident" id="5617584">x</span><span class="op" id="5617585">.</span><span class="ident" id="5617586">Op</span>&nbsp;<span class="op" id="5617589">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617592">case</span>&nbsp;<span class="ident" id="5617597">OpEndText</span><span class="op" id="5617606">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5617610">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617666">if</span>&nbsp;<span class="ident" id="5617669">x</span><span class="op" id="5617670">.</span><span class="ident" id="5617671">Flags</span><span class="op" id="5617676">&amp;</span><span class="ident" id="5617677">WasDollar</span>&nbsp;<span class="op" id="5617687">!=</span>&nbsp;<span class="ident" id="5617690">y</span><span class="op" id="5617691">.</span><span class="ident" id="5617692">Flags</span><span class="op" id="5617697">&amp;</span><span class="ident" id="5617698">WasDollar</span>&nbsp;<span class="op" id="5617708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617713">return</span>&nbsp;<span class="builtintype" id="5617720">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617728">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617732">case</span>&nbsp;<span class="ident" id="5617737">OpLiteral</span><span class="op" id="5617746">,</span>&nbsp;<span class="ident" id="5617748">OpCharClass</span><span class="op" id="5617759">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617763">if</span>&nbsp;<span class="builtinfunc" id="5617766">len</span><span class="op" id="5617769">(</span><span class="ident" id="5617770">x</span><span class="op" id="5617771">.</span><span class="ident" id="5617772">Rune</span><span class="op" id="5617776">)</span>&nbsp;<span class="op" id="5617778">!=</span>&nbsp;<span class="builtinfunc" id="5617781">len</span><span class="op" id="5617784">(</span><span class="ident" id="5617785">y</span><span class="op" id="5617786">.</span><span class="ident" id="5617787">Rune</span><span class="op" id="5617791">)</span>&nbsp;<span class="op" id="5617793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617798">return</span>&nbsp;<span class="builtintype" id="5617805">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617813">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617817">for</span>&nbsp;<span class="ident" id="5617821">i</span><span class="op" id="5617822">,</span>&nbsp;<span class="ident" id="5617824">r</span>&nbsp;<span class="op" id="5617826">:=</span>&nbsp;<span class="keyword" id="5617829">range</span>&nbsp;<span class="ident" id="5617835">x</span><span class="op" id="5617836">.</span><span class="ident" id="5617837">Rune</span>&nbsp;<span class="op" id="5617842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617847">if</span>&nbsp;<span class="ident" id="5617850">r</span>&nbsp;<span class="op" id="5617852">!=</span>&nbsp;<span class="ident" id="5617855">y</span><span class="op" id="5617856">.</span><span class="ident" id="5617857">Rune</span><span class="op" id="5617861">[</span><span class="ident" id="5617862">i</span><span class="op" id="5617863">]</span>&nbsp;<span class="op" id="5617865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617871">return</span>&nbsp;<span class="builtintype" id="5617878">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617891">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617895">case</span>&nbsp;<span class="ident" id="5617900">OpAlternate</span><span class="op" id="5617911">,</span>&nbsp;<span class="ident" id="5617913">OpConcat</span><span class="op" id="5617921">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617925">if</span>&nbsp;<span class="builtinfunc" id="5617928">len</span><span class="op" id="5617931">(</span><span class="ident" id="5617932">x</span><span class="op" id="5617933">.</span><span class="ident" id="5617934">Sub</span><span class="op" id="5617937">)</span>&nbsp;<span class="op" id="5617939">!=</span>&nbsp;<span class="builtinfunc" id="5617942">len</span><span class="op" id="5617945">(</span><span class="ident" id="5617946">y</span><span class="op" id="5617947">.</span><span class="ident" id="5617948">Sub</span><span class="op" id="5617951">)</span>&nbsp;<span class="op" id="5617953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617958">return</span>&nbsp;<span class="builtintype" id="5617965">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617973">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617977">for</span>&nbsp;<span class="ident" id="5617981">i</span><span class="op" id="5617982">,</span>&nbsp;<span class="ident" id="5617984">sub</span>&nbsp;<span class="op" id="5617988">:=</span>&nbsp;<span class="keyword" id="5617991">range</span>&nbsp;<span class="ident" id="5617997">x</span><span class="op" id="5617998">.</span><span class="ident" id="5617999">Sub</span>&nbsp;<span class="op" id="5618003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618008">if</span>&nbsp;<span class="op" id="5618011">!</span><span class="ident" id="5618012">sub</span><span class="op" id="5618015">.</span><span class="ident" id="5618016">Equal</span><span class="op" id="5618021">(</span><span class="ident" id="5618022">y</span><span class="op" id="5618023">.</span><span class="ident" id="5618024">Sub</span><span class="op" id="5618027">[</span><span class="ident" id="5618028">i</span><span class="op" id="5618029">]</span><span class="op" id="5618030">)</span>&nbsp;<span class="op" id="5618032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618038">return</span>&nbsp;<span class="builtintype" id="5618045">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618058">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618062">case</span>&nbsp;<span class="ident" id="5618067">OpStar</span><span class="op" id="5618073">,</span>&nbsp;<span class="ident" id="5618075">OpPlus</span><span class="op" id="5618081">,</span>&nbsp;<span class="ident" id="5618083">OpQuest</span><span class="op" id="5618090">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618094">if</span>&nbsp;<span class="ident" id="5618097">x</span><span class="op" id="5618098">.</span><span class="ident" id="5618099">Flags</span><span class="op" id="5618104">&amp;</span><span class="ident" id="5618105">NonGreedy</span>&nbsp;<span class="op" id="5618115">!=</span>&nbsp;<span class="ident" id="5618118">y</span><span class="op" id="5618119">.</span><span class="ident" id="5618120">Flags</span><span class="op" id="5618125">&amp;</span><span class="ident" id="5618126">NonGreedy</span>&nbsp;<span class="op" id="5618136">||</span>&nbsp;<span class="op" id="5618139">!</span><span class="ident" id="5618140">x</span><span class="op" id="5618141">.</span><span class="ident" id="5618142">Sub</span><span class="op" id="5618145">[</span><span class="num" id="5618146">0</span><span class="op" id="5618147">]</span><span class="op" id="5618148">.</span><span class="ident" id="5618149">Equal</span><span class="op" id="5618154">(</span><span class="ident" id="5618155">y</span><span class="op" id="5618156">.</span><span class="ident" id="5618157">Sub</span><span class="op" id="5618160">[</span><span class="num" id="5618161">0</span><span class="op" id="5618162">]</span><span class="op" id="5618163">)</span>&nbsp;<span class="op" id="5618165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618170">return</span>&nbsp;<span class="builtintype" id="5618177">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618185">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618189">case</span>&nbsp;<span class="ident" id="5618194">OpRepeat</span><span class="op" id="5618202">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618206">if</span>&nbsp;<span class="ident" id="5618209">x</span><span class="op" id="5618210">.</span><span class="ident" id="5618211">Flags</span><span class="op" id="5618216">&amp;</span><span class="ident" id="5618217">NonGreedy</span>&nbsp;<span class="op" id="5618227">!=</span>&nbsp;<span class="ident" id="5618230">y</span><span class="op" id="5618231">.</span><span class="ident" id="5618232">Flags</span><span class="op" id="5618237">&amp;</span><span class="ident" id="5618238">NonGreedy</span>&nbsp;<span class="op" id="5618248">||</span>&nbsp;<span class="ident" id="5618251">x</span><span class="op" id="5618252">.</span><span class="ident" id="5618253">Min</span>&nbsp;<span class="op" id="5618257">!=</span>&nbsp;<span class="ident" id="5618260">y</span><span class="op" id="5618261">.</span><span class="ident" id="5618262">Min</span>&nbsp;<span class="op" id="5618266">||</span>&nbsp;<span class="ident" id="5618269">x</span><span class="op" id="5618270">.</span><span class="ident" id="5618271">Max</span>&nbsp;<span class="op" id="5618275">!=</span>&nbsp;<span class="ident" id="5618278">y</span><span class="op" id="5618279">.</span><span class="ident" id="5618280">Max</span>&nbsp;<span class="op" id="5618284">||</span>&nbsp;<span class="op" id="5618287">!</span><span class="ident" id="5618288">x</span><span class="op" id="5618289">.</span><span class="ident" id="5618290">Sub</span><span class="op" id="5618293">[</span><span class="num" id="5618294">0</span><span class="op" id="5618295">]</span><span class="op" id="5618296">.</span><span class="ident" id="5618297">Equal</span><span class="op" id="5618302">(</span><span class="ident" id="5618303">y</span><span class="op" id="5618304">.</span><span class="ident" id="5618305">Sub</span><span class="op" id="5618308">[</span><span class="num" id="5618309">0</span><span class="op" id="5618310">]</span><span class="op" id="5618311">)</span>&nbsp;<span class="op" id="5618313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618318">return</span>&nbsp;<span class="builtintype" id="5618325">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618333">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618337">case</span>&nbsp;<span class="ident" id="5618342">OpCapture</span><span class="op" id="5618351">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618355">if</span>&nbsp;<span class="ident" id="5618358">x</span><span class="op" id="5618359">.</span><span class="ident" id="5618360">Cap</span>&nbsp;<span class="op" id="5618364">!=</span>&nbsp;<span class="ident" id="5618367">y</span><span class="op" id="5618368">.</span><span class="ident" id="5618369">Cap</span>&nbsp;<span class="op" id="5618373">||</span>&nbsp;<span class="ident" id="5618376">x</span><span class="op" id="5618377">.</span><span class="ident" id="5618378">Name</span>&nbsp;<span class="op" id="5618383">!=</span>&nbsp;<span class="ident" id="5618386">y</span><span class="op" id="5618387">.</span><span class="ident" id="5618388">Name</span>&nbsp;<span class="op" id="5618393">||</span>&nbsp;<span class="op" id="5618396">!</span><span class="ident" id="5618397">x</span><span class="op" id="5618398">.</span><span class="ident" id="5618399">Sub</span><span class="op" id="5618402">[</span><span class="num" id="5618403">0</span><span class="op" id="5618404">]</span><span class="op" id="5618405">.</span><span class="ident" id="5618406">Equal</span><span class="op" id="5618411">(</span><span class="ident" id="5618412">y</span><span class="op" id="5618413">.</span><span class="ident" id="5618414">Sub</span><span class="op" id="5618417">[</span><span class="num" id="5618418">0</span><span class="op" id="5618419">]</span><span class="op" id="5618420">)</span>&nbsp;<span class="op" id="5618422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618427">return</span>&nbsp;<span class="builtintype" id="5618434">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618442">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618448">return</span>&nbsp;<span class="builtintype" id="5618455">true</span><br>
<span class="lineno"></span><span class="op" id="5618460">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5618463">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="5618537">func</span>&nbsp;<span class="ident" id="5618542">writeRegexp</span><span class="op" id="5618553">(</span><span class="ident" id="5618554">b</span>&nbsp;<span class="op" id="5618556">*</span><span class="ident" id="5618557">bytes</span><span class="op" id="5618562">.</span><span class="ident" id="5618563">Buffer</span><span class="op" id="5618569">,</span>&nbsp;<span class="ident" id="5618571">re</span>&nbsp;<span class="op" id="5618574">*</span><span class="ident" id="5618575">Regexp</span><span class="op" id="5618581">)</span>&nbsp;<span class="op" id="5618583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618586">switch</span>&nbsp;<span class="ident" id="5618593">re</span><span class="op" id="5618595">.</span><span class="ident" id="5618596">Op</span>&nbsp;<span class="op" id="5618599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618602">default</span><span class="op" id="5618609">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618613">b</span><span class="op" id="5618614">.</span><span class="ident" id="5618615">WriteString</span><span class="op" id="5618626">(</span><span class="string" id="5618627">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="5618641">+</span>&nbsp;<span class="ident" id="5618643">strconv</span><span class="op" id="5618650">.</span><span class="ident" id="5618651">Itoa</span><span class="op" id="5618655">(</span><span class="builtintype" id="5618656">int</span><span class="op" id="5618659">(</span><span class="ident" id="5618660">re</span><span class="op" id="5618662">.</span><span class="ident" id="5618663">Op</span><span class="op" id="5618665">)</span><span class="op" id="5618666">)</span>&nbsp;<span class="op" id="5618668">+</span>&nbsp;<span class="string" id="5618670">&#34;&gt;&#34;</span><span class="op" id="5618673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618676">case</span>&nbsp;<span class="ident" id="5618681">OpNoMatch</span><span class="op" id="5618690">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618694">b</span><span class="op" id="5618695">.</span><span class="ident" id="5618696">WriteString</span><span class="op" id="5618707">(</span><span class="string" id="5618708">`[^\x00-\x{10FFFF}]`</span><span class="op" id="5618728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618731">case</span>&nbsp;<span class="ident" id="5618736">OpEmptyMatch</span><span class="op" id="5618748">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618752">b</span><span class="op" id="5618753">.</span><span class="ident" id="5618754">WriteString</span><span class="op" id="5618765">(</span><span class="string" id="5618766">`(?:)`</span><span class="op" id="5618772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618775">case</span>&nbsp;<span class="ident" id="5618780">OpLiteral</span><span class="op" id="5618789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618793">if</span>&nbsp;<span class="ident" id="5618796">re</span><span class="op" id="5618798">.</span><span class="ident" id="5618799">Flags</span><span class="op" id="5618804">&amp;</span><span class="ident" id="5618805">FoldCase</span>&nbsp;<span class="op" id="5618814">!=</span>&nbsp;<span class="num" id="5618817">0</span>&nbsp;<span class="op" id="5618819">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618824">b</span><span class="op" id="5618825">.</span><span class="ident" id="5618826">WriteString</span><span class="op" id="5618837">(</span><span class="string" id="5618838">`(?i:`</span><span class="op" id="5618844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618852">for</span>&nbsp;<span class="ident" id="5618856">_</span><span class="op" id="5618857">,</span>&nbsp;<span class="ident" id="5618859">r</span>&nbsp;<span class="op" id="5618861">:=</span>&nbsp;<span class="keyword" id="5618864">range</span>&nbsp;<span class="ident" id="5618870">re</span><span class="op" id="5618872">.</span><span class="ident" id="5618873">Rune</span>&nbsp;<span class="op" id="5618878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618883">escape</span><span class="op" id="5618889">(</span><span class="ident" id="5618890">b</span><span class="op" id="5618891">,</span>&nbsp;<span class="ident" id="5618893">r</span><span class="op" id="5618894">,</span>&nbsp;<span class="builtintype" id="5618896">false</span><span class="op" id="5618901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618905">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618909">if</span>&nbsp;<span class="ident" id="5618912">re</span><span class="op" id="5618914">.</span><span class="ident" id="5618915">Flags</span><span class="op" id="5618920">&amp;</span><span class="ident" id="5618921">FoldCase</span>&nbsp;<span class="op" id="5618930">!=</span>&nbsp;<span class="num" id="5618933">0</span>&nbsp;<span class="op" id="5618935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618940">b</span><span class="op" id="5618941">.</span><span class="ident" id="5618942">WriteString</span><span class="op" id="5618953">(</span><span class="string" id="5618954">`)`</span><span class="op" id="5618957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618964">case</span>&nbsp;<span class="ident" id="5618969">OpCharClass</span><span class="op" id="5618980">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618984">if</span>&nbsp;<span class="builtinfunc" id="5618987">len</span><span class="op" id="5618990">(</span><span class="ident" id="5618991">re</span><span class="op" id="5618993">.</span><span class="ident" id="5618994">Rune</span><span class="op" id="5618998">)</span><span class="op" id="5618999">%</span><span class="num" id="5619000">2</span>&nbsp;<span class="op" id="5619002">!=</span>&nbsp;<span class="num" id="5619005">0</span>&nbsp;<span class="op" id="5619007">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619012">b</span><span class="op" id="5619013">.</span><span class="ident" id="5619014">WriteString</span><span class="op" id="5619025">(</span><span class="string" id="5619026">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="5619048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619053">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619065">b</span><span class="op" id="5619066">.</span><span class="ident" id="5619067">WriteRune</span><span class="op" id="5619076">(</span><span class="string" id="5619077">&#39;[&#39;</span><span class="op" id="5619080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619084">if</span>&nbsp;<span class="builtinfunc" id="5619087">len</span><span class="op" id="5619090">(</span><span class="ident" id="5619091">re</span><span class="op" id="5619093">.</span><span class="ident" id="5619094">Rune</span><span class="op" id="5619098">)</span>&nbsp;<span class="op" id="5619100">==</span>&nbsp;<span class="num" id="5619103">0</span>&nbsp;<span class="op" id="5619105">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619110">b</span><span class="op" id="5619111">.</span><span class="ident" id="5619112">WriteString</span><span class="op" id="5619123">(</span><span class="string" id="5619124">`^\x00-\x{10FFFF}`</span><span class="op" id="5619142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619146">}</span>&nbsp;<span class="keyword" id="5619148">else</span>&nbsp;<span class="keyword" id="5619153">if</span>&nbsp;<span class="ident" id="5619156">re</span><span class="op" id="5619158">.</span><span class="ident" id="5619159">Rune</span><span class="op" id="5619163">[</span><span class="num" id="5619164">0</span><span class="op" id="5619165">]</span>&nbsp;<span class="op" id="5619167">==</span>&nbsp;<span class="num" id="5619170">0</span>&nbsp;<span class="op" id="5619172">&amp;&amp;</span>&nbsp;<span class="ident" id="5619175">re</span><span class="op" id="5619177">.</span><span class="ident" id="5619178">Rune</span><span class="op" id="5619182">[</span><span class="builtinfunc" id="5619183">len</span><span class="op" id="5619186">(</span><span class="ident" id="5619187">re</span><span class="op" id="5619189">.</span><span class="ident" id="5619190">Rune</span><span class="op" id="5619194">)</span><span class="op" id="5619195">-</span><span class="num" id="5619196">1</span><span class="op" id="5619197">]</span>&nbsp;<span class="op" id="5619199">==</span>&nbsp;<span class="ident" id="5619202">unicode</span><span class="op" id="5619209">.</span><span class="ident" id="5619210">MaxRune</span>&nbsp;<span class="op" id="5619218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5619223">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5619280">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619302">b</span><span class="op" id="5619303">.</span><span class="ident" id="5619304">WriteRune</span><span class="op" id="5619313">(</span><span class="string" id="5619314">&#39;^&#39;</span><span class="op" id="5619317">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619322">for</span>&nbsp;<span class="ident" id="5619326">i</span>&nbsp;<span class="op" id="5619328">:=</span>&nbsp;<span class="num" id="5619331">1</span><span class="op" id="5619332">;</span>&nbsp;<span class="ident" id="5619334">i</span>&nbsp;<span class="op" id="5619336">&lt;</span>&nbsp;<span class="builtinfunc" id="5619338">len</span><span class="op" id="5619341">(</span><span class="ident" id="5619342">re</span><span class="op" id="5619344">.</span><span class="ident" id="5619345">Rune</span><span class="op" id="5619349">)</span><span class="op" id="5619350">-</span><span class="num" id="5619351">1</span><span class="op" id="5619352">;</span>&nbsp;<span class="ident" id="5619354">i</span>&nbsp;<span class="op" id="5619356">+=</span>&nbsp;<span class="num" id="5619359">2</span>&nbsp;<span class="op" id="5619361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619367">lo</span><span class="op" id="5619369">,</span>&nbsp;<span class="ident" id="5619371">hi</span>&nbsp;<span class="op" id="5619374">:=</span>&nbsp;<span class="ident" id="5619377">re</span><span class="op" id="5619379">.</span><span class="ident" id="5619380">Rune</span><span class="op" id="5619384">[</span><span class="ident" id="5619385">i</span><span class="op" id="5619386">]</span><span class="op" id="5619387">+</span><span class="num" id="5619388">1</span><span class="op" id="5619389">,</span>&nbsp;<span class="ident" id="5619391">re</span><span class="op" id="5619393">.</span><span class="ident" id="5619394">Rune</span><span class="op" id="5619398">[</span><span class="ident" id="5619399">i</span><span class="op" id="5619400">+</span><span class="num" id="5619401">1</span><span class="op" id="5619402">]</span><span class="op" id="5619403">-</span><span class="num" id="5619404">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619410">escape</span><span class="op" id="5619416">(</span><span class="ident" id="5619417">b</span><span class="op" id="5619418">,</span>&nbsp;<span class="ident" id="5619420">lo</span><span class="op" id="5619422">,</span>&nbsp;<span class="ident" id="5619424">lo</span>&nbsp;<span class="op" id="5619427">==</span>&nbsp;<span class="string" id="5619430">&#39;-&#39;</span><span class="op" id="5619433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619439">if</span>&nbsp;<span class="ident" id="5619442">lo</span>&nbsp;<span class="op" id="5619445">!=</span>&nbsp;<span class="ident" id="5619448">hi</span>&nbsp;<span class="op" id="5619451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619458">b</span><span class="op" id="5619459">.</span><span class="ident" id="5619460">WriteRune</span><span class="op" id="5619469">(</span><span class="string" id="5619470">&#39;-&#39;</span><span class="op" id="5619473">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619480">escape</span><span class="op" id="5619486">(</span><span class="ident" id="5619487">b</span><span class="op" id="5619488">,</span>&nbsp;<span class="ident" id="5619490">hi</span><span class="op" id="5619492">,</span>&nbsp;<span class="ident" id="5619494">hi</span>&nbsp;<span class="op" id="5619497">==</span>&nbsp;<span class="string" id="5619500">&#39;-&#39;</span><span class="op" id="5619503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619518">}</span>&nbsp;<span class="keyword" id="5619520">else</span>&nbsp;<span class="op" id="5619525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619530">for</span>&nbsp;<span class="ident" id="5619534">i</span>&nbsp;<span class="op" id="5619536">:=</span>&nbsp;<span class="num" id="5619539">0</span><span class="op" id="5619540">;</span>&nbsp;<span class="ident" id="5619542">i</span>&nbsp;<span class="op" id="5619544">&lt;</span>&nbsp;<span class="builtinfunc" id="5619546">len</span><span class="op" id="5619549">(</span><span class="ident" id="5619550">re</span><span class="op" id="5619552">.</span><span class="ident" id="5619553">Rune</span><span class="op" id="5619557">)</span><span class="op" id="5619558">;</span>&nbsp;<span class="ident" id="5619560">i</span>&nbsp;<span class="op" id="5619562">+=</span>&nbsp;<span class="num" id="5619565">2</span>&nbsp;<span class="op" id="5619567">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619573">lo</span><span class="op" id="5619575">,</span>&nbsp;<span class="ident" id="5619577">hi</span>&nbsp;<span class="op" id="5619580">:=</span>&nbsp;<span class="ident" id="5619583">re</span><span class="op" id="5619585">.</span><span class="ident" id="5619586">Rune</span><span class="op" id="5619590">[</span><span class="ident" id="5619591">i</span><span class="op" id="5619592">]</span><span class="op" id="5619593">,</span>&nbsp;<span class="ident" id="5619595">re</span><span class="op" id="5619597">.</span><span class="ident" id="5619598">Rune</span><span class="op" id="5619602">[</span><span class="ident" id="5619603">i</span><span class="op" id="5619604">+</span><span class="num" id="5619605">1</span><span class="op" id="5619606">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619612">escape</span><span class="op" id="5619618">(</span><span class="ident" id="5619619">b</span><span class="op" id="5619620">,</span>&nbsp;<span class="ident" id="5619622">lo</span><span class="op" id="5619624">,</span>&nbsp;<span class="ident" id="5619626">lo</span>&nbsp;<span class="op" id="5619629">==</span>&nbsp;<span class="string" id="5619632">&#39;-&#39;</span><span class="op" id="5619635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619641">if</span>&nbsp;<span class="ident" id="5619644">lo</span>&nbsp;<span class="op" id="5619647">!=</span>&nbsp;<span class="ident" id="5619650">hi</span>&nbsp;<span class="op" id="5619653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619660">b</span><span class="op" id="5619661">.</span><span class="ident" id="5619662">WriteRune</span><span class="op" id="5619671">(</span><span class="string" id="5619672">&#39;-&#39;</span><span class="op" id="5619675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619682">escape</span><span class="op" id="5619688">(</span><span class="ident" id="5619689">b</span><span class="op" id="5619690">,</span>&nbsp;<span class="ident" id="5619692">hi</span><span class="op" id="5619694">,</span>&nbsp;<span class="ident" id="5619696">hi</span>&nbsp;<span class="op" id="5619699">==</span>&nbsp;<span class="string" id="5619702">&#39;-&#39;</span><span class="op" id="5619705">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619724">b</span><span class="op" id="5619725">.</span><span class="ident" id="5619726">WriteRune</span><span class="op" id="5619735">(</span><span class="string" id="5619736">&#39;]&#39;</span><span class="op" id="5619739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619742">case</span>&nbsp;<span class="ident" id="5619747">OpAnyCharNotNL</span><span class="op" id="5619761">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619765">b</span><span class="op" id="5619766">.</span><span class="ident" id="5619767">WriteString</span><span class="op" id="5619778">(</span><span class="string" id="5619779">`(?-s:.)`</span><span class="op" id="5619788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619791">case</span>&nbsp;<span class="ident" id="5619796">OpAnyChar</span><span class="op" id="5619805">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619809">b</span><span class="op" id="5619810">.</span><span class="ident" id="5619811">WriteString</span><span class="op" id="5619822">(</span><span class="string" id="5619823">`(?s:.)`</span><span class="op" id="5619831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619834">case</span>&nbsp;<span class="ident" id="5619839">OpBeginLine</span><span class="op" id="5619850">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619854">b</span><span class="op" id="5619855">.</span><span class="ident" id="5619856">WriteRune</span><span class="op" id="5619865">(</span><span class="string" id="5619866">&#39;^&#39;</span><span class="op" id="5619869">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619872">case</span>&nbsp;<span class="ident" id="5619877">OpEndLine</span><span class="op" id="5619886">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619890">b</span><span class="op" id="5619891">.</span><span class="ident" id="5619892">WriteRune</span><span class="op" id="5619901">(</span><span class="string" id="5619902">&#39;$&#39;</span><span class="op" id="5619905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619908">case</span>&nbsp;<span class="ident" id="5619913">OpBeginText</span><span class="op" id="5619924">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619928">b</span><span class="op" id="5619929">.</span><span class="ident" id="5619930">WriteString</span><span class="op" id="5619941">(</span><span class="string" id="5619942">`\A`</span><span class="op" id="5619946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619949">case</span>&nbsp;<span class="ident" id="5619954">OpEndText</span><span class="op" id="5619963">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619967">if</span>&nbsp;<span class="ident" id="5619970">re</span><span class="op" id="5619972">.</span><span class="ident" id="5619973">Flags</span><span class="op" id="5619978">&amp;</span><span class="ident" id="5619979">WasDollar</span>&nbsp;<span class="op" id="5619989">!=</span>&nbsp;<span class="num" id="5619992">0</span>&nbsp;<span class="op" id="5619994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619999">b</span><span class="op" id="5620000">.</span><span class="ident" id="5620001">WriteString</span><span class="op" id="5620012">(</span><span class="string" id="5620013">`(?-m:$)`</span><span class="op" id="5620022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620026">}</span>&nbsp;<span class="keyword" id="5620028">else</span>&nbsp;<span class="op" id="5620033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620038">b</span><span class="op" id="5620039">.</span><span class="ident" id="5620040">WriteString</span><span class="op" id="5620051">(</span><span class="string" id="5620052">`\z`</span><span class="op" id="5620056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620060">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620063">case</span>&nbsp;<span class="ident" id="5620068">OpWordBoundary</span><span class="op" id="5620082">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620086">b</span><span class="op" id="5620087">.</span><span class="ident" id="5620088">WriteString</span><span class="op" id="5620099">(</span><span class="string" id="5620100">`\b`</span><span class="op" id="5620104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620107">case</span>&nbsp;<span class="ident" id="5620112">OpNoWordBoundary</span><span class="op" id="5620128">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620132">b</span><span class="op" id="5620133">.</span><span class="ident" id="5620134">WriteString</span><span class="op" id="5620145">(</span><span class="string" id="5620146">`\B`</span><span class="op" id="5620150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620153">case</span>&nbsp;<span class="ident" id="5620158">OpCapture</span><span class="op" id="5620167">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620171">if</span>&nbsp;<span class="ident" id="5620174">re</span><span class="op" id="5620176">.</span><span class="ident" id="5620177">Name</span>&nbsp;<span class="op" id="5620182">!=</span>&nbsp;<span class="string" id="5620185">&#34;&#34;</span>&nbsp;<span class="op" id="5620188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620193">b</span><span class="op" id="5620194">.</span><span class="ident" id="5620195">WriteString</span><span class="op" id="5620206">(</span><span class="string" id="5620207">`(?P&lt;`</span><span class="op" id="5620213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620218">b</span><span class="op" id="5620219">.</span><span class="ident" id="5620220">WriteString</span><span class="op" id="5620231">(</span><span class="ident" id="5620232">re</span><span class="op" id="5620234">.</span><span class="ident" id="5620235">Name</span><span class="op" id="5620239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620244">b</span><span class="op" id="5620245">.</span><span class="ident" id="5620246">WriteRune</span><span class="op" id="5620255">(</span><span class="string" id="5620256">&#39;&gt;&#39;</span><span class="op" id="5620259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620263">}</span>&nbsp;<span class="keyword" id="5620265">else</span>&nbsp;<span class="op" id="5620270">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620275">b</span><span class="op" id="5620276">.</span><span class="ident" id="5620277">WriteRune</span><span class="op" id="5620286">(</span><span class="string" id="5620287">&#39;(&#39;</span><span class="op" id="5620290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620298">if</span>&nbsp;<span class="ident" id="5620301">re</span><span class="op" id="5620303">.</span><span class="ident" id="5620304">Sub</span><span class="op" id="5620307">[</span><span class="num" id="5620308">0</span><span class="op" id="5620309">]</span><span class="op" id="5620310">.</span><span class="ident" id="5620311">Op</span>&nbsp;<span class="op" id="5620314">!=</span>&nbsp;<span class="ident" id="5620317">OpEmptyMatch</span>&nbsp;<span class="op" id="5620330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620335">writeRegexp</span><span class="op" id="5620346">(</span><span class="ident" id="5620347">b</span><span class="op" id="5620348">,</span>&nbsp;<span class="ident" id="5620350">re</span><span class="op" id="5620352">.</span><span class="ident" id="5620353">Sub</span><span class="op" id="5620356">[</span><span class="num" id="5620357">0</span><span class="op" id="5620358">]</span><span class="op" id="5620359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620363">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620367">b</span><span class="op" id="5620368">.</span><span class="ident" id="5620369">WriteRune</span><span class="op" id="5620378">(</span><span class="string" id="5620379">&#39;)&#39;</span><span class="op" id="5620382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620385">case</span>&nbsp;<span class="ident" id="5620390">OpStar</span><span class="op" id="5620396">,</span>&nbsp;<span class="ident" id="5620398">OpPlus</span><span class="op" id="5620404">,</span>&nbsp;<span class="ident" id="5620406">OpQuest</span><span class="op" id="5620413">,</span>&nbsp;<span class="ident" id="5620415">OpRepeat</span><span class="op" id="5620423">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620427">if</span>&nbsp;<span class="ident" id="5620430">sub</span>&nbsp;<span class="op" id="5620434">:=</span>&nbsp;<span class="ident" id="5620437">re</span><span class="op" id="5620439">.</span><span class="ident" id="5620440">Sub</span><span class="op" id="5620443">[</span><span class="num" id="5620444">0</span><span class="op" id="5620445">]</span><span class="op" id="5620446">;</span>&nbsp;<span class="ident" id="5620448">sub</span><span class="op" id="5620451">.</span><span class="ident" id="5620452">Op</span>&nbsp;<span class="op" id="5620455">&gt;</span>&nbsp;<span class="ident" id="5620457">OpCapture</span>&nbsp;<span class="op" id="5620467">||</span>&nbsp;<span class="ident" id="5620470">sub</span><span class="op" id="5620473">.</span><span class="ident" id="5620474">Op</span>&nbsp;<span class="op" id="5620477">==</span>&nbsp;<span class="ident" id="5620480">OpLiteral</span>&nbsp;<span class="op" id="5620490">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5620493">len</span><span class="op" id="5620496">(</span><span class="ident" id="5620497">sub</span><span class="op" id="5620500">.</span><span class="ident" id="5620501">Rune</span><span class="op" id="5620505">)</span>&nbsp;<span class="op" id="5620507">&gt;</span>&nbsp;<span class="num" id="5620509">1</span>&nbsp;<span class="op" id="5620511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620516">b</span><span class="op" id="5620517">.</span><span class="ident" id="5620518">WriteString</span><span class="op" id="5620529">(</span><span class="string" id="5620530">`(?:`</span><span class="op" id="5620535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620540">writeRegexp</span><span class="op" id="5620551">(</span><span class="ident" id="5620552">b</span><span class="op" id="5620553">,</span>&nbsp;<span class="ident" id="5620555">sub</span><span class="op" id="5620558">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620563">b</span><span class="op" id="5620564">.</span><span class="ident" id="5620565">WriteString</span><span class="op" id="5620576">(</span><span class="string" id="5620577">`)`</span><span class="op" id="5620580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620584">}</span>&nbsp;<span class="keyword" id="5620586">else</span>&nbsp;<span class="op" id="5620591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620596">writeRegexp</span><span class="op" id="5620607">(</span><span class="ident" id="5620608">b</span><span class="op" id="5620609">,</span>&nbsp;<span class="ident" id="5620611">sub</span><span class="op" id="5620614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620622">switch</span>&nbsp;<span class="ident" id="5620629">re</span><span class="op" id="5620631">.</span><span class="ident" id="5620632">Op</span>&nbsp;<span class="op" id="5620635">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620639">case</span>&nbsp;<span class="ident" id="5620644">OpStar</span><span class="op" id="5620650">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620655">b</span><span class="op" id="5620656">.</span><span class="ident" id="5620657">WriteRune</span><span class="op" id="5620666">(</span><span class="string" id="5620667">&#39;*&#39;</span><span class="op" id="5620670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620674">case</span>&nbsp;<span class="ident" id="5620679">OpPlus</span><span class="op" id="5620685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620690">b</span><span class="op" id="5620691">.</span><span class="ident" id="5620692">WriteRune</span><span class="op" id="5620701">(</span><span class="string" id="5620702">&#39;+&#39;</span><span class="op" id="5620705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620709">case</span>&nbsp;<span class="ident" id="5620714">OpQuest</span><span class="op" id="5620721">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620726">b</span><span class="op" id="5620727">.</span><span class="ident" id="5620728">WriteRune</span><span class="op" id="5620737">(</span><span class="string" id="5620738">&#39;?&#39;</span><span class="op" id="5620741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620745">case</span>&nbsp;<span class="ident" id="5620750">OpRepeat</span><span class="op" id="5620758">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620763">b</span><span class="op" id="5620764">.</span><span class="ident" id="5620765">WriteRune</span><span class="op" id="5620774">(</span><span class="string" id="5620775">&#39;{&#39;</span><span class="op" id="5620778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620783">b</span><span class="op" id="5620784">.</span><span class="ident" id="5620785">WriteString</span><span class="op" id="5620796">(</span><span class="ident" id="5620797">strconv</span><span class="op" id="5620804">.</span><span class="ident" id="5620805">Itoa</span><span class="op" id="5620809">(</span><span class="ident" id="5620810">re</span><span class="op" id="5620812">.</span><span class="ident" id="5620813">Min</span><span class="op" id="5620816">)</span><span class="op" id="5620817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620822">if</span>&nbsp;<span class="ident" id="5620825">re</span><span class="op" id="5620827">.</span><span class="ident" id="5620828">Max</span>&nbsp;<span class="op" id="5620832">!=</span>&nbsp;<span class="ident" id="5620835">re</span><span class="op" id="5620837">.</span><span class="ident" id="5620838">Min</span>&nbsp;<span class="op" id="5620842">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620848">b</span><span class="op" id="5620849">.</span><span class="ident" id="5620850">WriteRune</span><span class="op" id="5620859">(</span><span class="string" id="5620860">&#39;,&#39;</span><span class="op" id="5620863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620869">if</span>&nbsp;<span class="ident" id="5620872">re</span><span class="op" id="5620874">.</span><span class="ident" id="5620875">Max</span>&nbsp;<span class="op" id="5620879">&gt;=</span>&nbsp;<span class="num" id="5620882">0</span>&nbsp;<span class="op" id="5620884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620891">b</span><span class="op" id="5620892">.</span><span class="ident" id="5620893">WriteString</span><span class="op" id="5620904">(</span><span class="ident" id="5620905">strconv</span><span class="op" id="5620912">.</span><span class="ident" id="5620913">Itoa</span><span class="op" id="5620917">(</span><span class="ident" id="5620918">re</span><span class="op" id="5620920">.</span><span class="ident" id="5620921">Max</span><span class="op" id="5620924">)</span><span class="op" id="5620925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620936">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620941">b</span><span class="op" id="5620942">.</span><span class="ident" id="5620943">WriteRune</span><span class="op" id="5620952">(</span><span class="string" id="5620953">&#39;}&#39;</span><span class="op" id="5620956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620964">if</span>&nbsp;<span class="ident" id="5620967">re</span><span class="op" id="5620969">.</span><span class="ident" id="5620970">Flags</span><span class="op" id="5620975">&amp;</span><span class="ident" id="5620976">NonGreedy</span>&nbsp;<span class="op" id="5620986">!=</span>&nbsp;<span class="num" id="5620989">0</span>&nbsp;<span class="op" id="5620991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620996">b</span><span class="op" id="5620997">.</span><span class="ident" id="5620998">WriteRune</span><span class="op" id="5621007">(</span><span class="string" id="5621008">&#39;?&#39;</span><span class="op" id="5621011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5621015">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621018">case</span>&nbsp;<span class="ident" id="5621023">OpConcat</span><span class="op" id="5621031">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621035">for</span>&nbsp;<span class="ident" id="5621039">_</span><span class="op" id="5621040">,</span>&nbsp;<span class="ident" id="5621042">sub</span>&nbsp;<span class="op" id="5621046">:=</span>&nbsp;<span class="keyword" id="5621049">range</span>&nbsp;<span class="ident" id="5621055">re</span><span class="op" id="5621057">.</span><span class="ident" id="5621058">Sub</span>&nbsp;<span class="op" id="5621062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621067">if</span>&nbsp;<span class="ident" id="5621070">sub</span><span class="op" id="5621073">.</span><span class="ident" id="5621074">Op</span>&nbsp;<span class="op" id="5621077">==</span>&nbsp;<span class="ident" id="5621080">OpAlternate</span>&nbsp;<span class="op" id="5621092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621098">b</span><span class="op" id="5621099">.</span><span class="ident" id="5621100">WriteString</span><span class="op" id="5621111">(</span><span class="string" id="5621112">`(?:`</span><span class="op" id="5621117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621123">writeRegexp</span><span class="op" id="5621134">(</span><span class="ident" id="5621135">b</span><span class="op" id="5621136">,</span>&nbsp;<span class="ident" id="5621138">sub</span><span class="op" id="5621141">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621147">b</span><span class="op" id="5621148">.</span><span class="ident" id="5621149">WriteString</span><span class="op" id="5621160">(</span><span class="string" id="5621161">`)`</span><span class="op" id="5621164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5621169">}</span>&nbsp;<span class="keyword" id="5621171">else</span>&nbsp;<span class="op" id="5621176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621182">writeRegexp</span><span class="op" id="5621193">(</span><span class="ident" id="5621194">b</span><span class="op" id="5621195">,</span>&nbsp;<span class="ident" id="5621197">sub</span><span class="op" id="5621200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5621205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5621209">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621212">case</span>&nbsp;<span class="ident" id="5621217">OpAlternate</span><span class="op" id="5621228">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621232">for</span>&nbsp;<span class="ident" id="5621236">i</span><span class="op" id="5621237">,</span>&nbsp;<span class="ident" id="5621239">sub</span>&nbsp;<span class="op" id="5621243">:=</span>&nbsp;<span class="keyword" id="5621246">range</span>&nbsp;<span class="ident" id="5621252">re</span><span class="op" id="5621254">.</span><span class="ident" id="5621255">Sub</span>&nbsp;<span class="op" id="5621259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621264">if</span>&nbsp;<span class="ident" id="5621267">i</span>&nbsp;<span class="op" id="5621269">&gt;</span>&nbsp;<span class="num" id="5621271">0</span>&nbsp;<span class="op" id="5621273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621279">b</span><span class="op" id="5621280">.</span><span class="ident" id="5621281">WriteRune</span><span class="op" id="5621290">(</span><span class="string" id="5621291">&#39;|&#39;</span><span class="op" id="5621294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5621299">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621304">writeRegexp</span><span class="op" id="5621315">(</span><span class="ident" id="5621316">b</span><span class="op" id="5621317">,</span>&nbsp;<span class="ident" id="5621319">sub</span><span class="op" id="5621322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5621326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5621329">}</span><br>
<span class="lineno"></span><span class="op" id="5621331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="5621334">func</span>&nbsp;<span class="op" id="5621339">(</span><span class="ident" id="5621340">re</span>&nbsp;<span class="op" id="5621343">*</span><span class="ident" id="5621344">Regexp</span><span class="op" id="5621350">)</span>&nbsp;<span class="ident" id="5621352">String</span><span class="op" id="5621358">(</span><span class="op" id="5621359">)</span>&nbsp;<span class="builtintype" id="5621361">string</span>&nbsp;<span class="op" id="5621368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621371">var</span>&nbsp;<span class="ident" id="5621375">b</span>&nbsp;<span class="ident" id="5621377">bytes</span><span class="op" id="5621382">.</span><span class="ident" id="5621383">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621391">writeRegexp</span><span class="op" id="5621402">(</span><span class="op" id="5621403">&amp;</span><span class="ident" id="5621404">b</span><span class="op" id="5621405">,</span>&nbsp;<span class="ident" id="5621407">re</span><span class="op" id="5621409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621412">return</span>&nbsp;<span class="ident" id="5621419">b</span><span class="op" id="5621420">.</span><span class="ident" id="5621421">String</span><span class="op" id="5621427">(</span><span class="op" id="5621428">)</span><br>
<span class="lineno"></span><span class="op" id="5621430">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="5621433">const</span>&nbsp;<span class="ident" id="5621439">meta</span>&nbsp;<span class="op" id="5621444">=</span>&nbsp;<span class="string" id="5621446">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5621464">func</span>&nbsp;<span class="ident" id="5621469">escape</span><span class="op" id="5621475">(</span><span class="ident" id="5621476">b</span>&nbsp;<span class="op" id="5621478">*</span><span class="ident" id="5621479">bytes</span><span class="op" id="5621484">.</span><span class="ident" id="5621485">Buffer</span><span class="op" id="5621491">,</span>&nbsp;<span class="ident" id="5621493">r</span>&nbsp;<span class="builtintype" id="5621495">rune</span><span class="op" id="5621499">,</span>&nbsp;<span class="ident" id="5621501">force</span>&nbsp;<span class="builtintype" id="5621507">bool</span><span class="op" id="5621511">)</span>&nbsp;<span class="op" id="5621513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621516">if</span>&nbsp;<span class="ident" id="5621519">unicode</span><span class="op" id="5621526">.</span><span class="ident" id="5621527">IsPrint</span><span class="op" id="5621534">(</span><span class="ident" id="5621535">r</span><span class="op" id="5621536">)</span>&nbsp;<span class="op" id="5621538">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621542">if</span>&nbsp;<span class="ident" id="5621545">strings</span><span class="op" id="5621552">.</span><span class="ident" id="5621553">IndexRune</span><span class="op" id="5621562">(</span><span class="ident" id="5621563">meta</span><span class="op" id="5621567">,</span>&nbsp;<span class="ident" id="5621569">r</span><span class="op" id="5621570">)</span>&nbsp;<span class="op" id="5621572">&gt;=</span>&nbsp;<span class="num" id="5621575">0</span>&nbsp;<span class="op" id="5621577">||</span>&nbsp;<span class="ident" id="5621580">force</span>&nbsp;<span class="op" id="5621586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621591">b</span><span class="op" id="5621592">.</span><span class="ident" id="5621593">WriteRune</span><span class="op" id="5621602">(</span><span class="string" id="5621603">&#39;\\&#39;</span><span class="op" id="5621607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5621611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621615">b</span><span class="op" id="5621616">.</span><span class="ident" id="5621617">WriteRune</span><span class="op" id="5621626">(</span><span class="ident" id="5621627">r</span><span class="op" id="5621628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621632">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5621640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621644">switch</span>&nbsp;<span class="ident" id="5621651">r</span>&nbsp;<span class="op" id="5621653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621656">case</span>&nbsp;<span class="string" id="5621661">&#39;\a&#39;</span><span class="op" id="5621665">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621669">b</span><span class="op" id="5621670">.</span><span class="ident" id="5621671">WriteString</span><span class="op" id="5621682">(</span><span class="string" id="5621683">`\a`</span><span class="op" id="5621687">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621690">case</span>&nbsp;<span class="string" id="5621695">&#39;\f&#39;</span><span class="op" id="5621699">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621703">b</span><span class="op" id="5621704">.</span><span class="ident" id="5621705">WriteString</span><span class="op" id="5621716">(</span><span class="string" id="5621717">`\f`</span><span class="op" id="5621721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621724">case</span>&nbsp;<span class="string" id="5621729">&#39;\n&#39;</span><span class="op" id="5621733">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621737">b</span><span class="op" id="5621738">.</span><span class="ident" id="5621739">WriteString</span><span class="op" id="5621750">(</span><span class="string" id="5621751">`\n`</span><span class="op" id="5621755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621758">case</span>&nbsp;<span class="string" id="5621763">&#39;\r&#39;</span><span class="op" id="5621767">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621771">b</span><span class="op" id="5621772">.</span><span class="ident" id="5621773">WriteString</span><span class="op" id="5621784">(</span><span class="string" id="5621785">`\r`</span><span class="op" id="5621789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621792">case</span>&nbsp;<span class="string" id="5621797">&#39;\t&#39;</span><span class="op" id="5621801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621805">b</span><span class="op" id="5621806">.</span><span class="ident" id="5621807">WriteString</span><span class="op" id="5621818">(</span><span class="string" id="5621819">`\t`</span><span class="op" id="5621823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621826">case</span>&nbsp;<span class="string" id="5621831">&#39;\v&#39;</span><span class="op" id="5621835">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621839">b</span><span class="op" id="5621840">.</span><span class="ident" id="5621841">WriteString</span><span class="op" id="5621852">(</span><span class="string" id="5621853">`\v`</span><span class="op" id="5621857">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621860">default</span><span class="op" id="5621867">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621871">if</span>&nbsp;<span class="ident" id="5621874">r</span>&nbsp;<span class="op" id="5621876">&lt;</span>&nbsp;<span class="num" id="5621878">0x100</span>&nbsp;<span class="op" id="5621884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621889">b</span><span class="op" id="5621890">.</span><span class="ident" id="5621891">WriteString</span><span class="op" id="5621902">(</span><span class="string" id="5621903">`\x`</span><span class="op" id="5621907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621912">s</span>&nbsp;<span class="op" id="5621914">:=</span>&nbsp;<span class="ident" id="5621917">strconv</span><span class="op" id="5621924">.</span><span class="ident" id="5621925">FormatInt</span><span class="op" id="5621934">(</span><span class="ident" id="5621935">int64</span><span class="op" id="5621940">(</span><span class="ident" id="5621941">r</span><span class="op" id="5621942">)</span><span class="op" id="5621943">,</span>&nbsp;<span class="num" id="5621945">16</span><span class="op" id="5621947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5621952">if</span>&nbsp;<span class="builtinfunc" id="5621955">len</span><span class="op" id="5621958">(</span><span class="ident" id="5621959">s</span><span class="op" id="5621960">)</span>&nbsp;<span class="op" id="5621962">==</span>&nbsp;<span class="num" id="5621965">1</span>&nbsp;<span class="op" id="5621967">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621973">b</span><span class="op" id="5621974">.</span><span class="ident" id="5621975">WriteRune</span><span class="op" id="5621984">(</span><span class="string" id="5621985">&#39;0&#39;</span><span class="op" id="5621988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5621993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5621998">b</span><span class="op" id="5621999">.</span><span class="ident" id="5622000">WriteString</span><span class="op" id="5622011">(</span><span class="ident" id="5622012">s</span><span class="op" id="5622013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5622018">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5622026">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5622030">b</span><span class="op" id="5622031">.</span><span class="ident" id="5622032">WriteString</span><span class="op" id="5622043">(</span><span class="string" id="5622044">`\x{`</span><span class="op" id="5622049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5622053">b</span><span class="op" id="5622054">.</span><span class="ident" id="5622055">WriteString</span><span class="op" id="5622066">(</span><span class="ident" id="5622067">strconv</span><span class="op" id="5622074">.</span><span class="ident" id="5622075">FormatInt</span><span class="op" id="5622084">(</span><span class="ident" id="5622085">int64</span><span class="op" id="5622090">(</span><span class="ident" id="5622091">r</span><span class="op" id="5622092">)</span><span class="op" id="5622093">,</span>&nbsp;<span class="num" id="5622095">16</span><span class="op" id="5622097">)</span><span class="op" id="5622098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5622102">b</span><span class="op" id="5622103">.</span><span class="ident" id="5622104">WriteString</span><span class="op" id="5622115">(</span><span class="string" id="5622116">`}`</span><span class="op" id="5622119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5622122">}</span><br>
<span class="lineno"></span><span class="op" id="5622124">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="5622127">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="5622189">func</span>&nbsp;<span class="op" id="5622194">(</span><span class="ident" id="5622195">re</span>&nbsp;<span class="op" id="5622198">*</span><span class="ident" id="5622199">Regexp</span><span class="op" id="5622205">)</span>&nbsp;<span class="ident" id="5622207">MaxCap</span><span class="op" id="5622213">(</span><span class="op" id="5622214">)</span>&nbsp;<span class="builtintype" id="5622216">int</span>&nbsp;<span class="op" id="5622220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5622223">m</span>&nbsp;<span class="op" id="5622225">:=</span>&nbsp;<span class="num" id="5622228">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5622231">if</span>&nbsp;<span class="ident" id="5622234">re</span><span class="op" id="5622236">.</span><span class="ident" id="5622237">Op</span>&nbsp;<span class="op" id="5622240">==</span>&nbsp;<span class="ident" id="5622243">OpCapture</span>&nbsp;<span class="op" id="5622253">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5622257">m</span>&nbsp;<span class="op" id="5622259">=</span>&nbsp;<span class="ident" id="5622261">re</span><span class="op" id="5622263">.</span><span class="ident" id="5622264">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5622269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5622272">for</span>&nbsp;<span class="ident" id="5622276">_</span><span class="op" id="5622277">,</span>&nbsp;<span class="ident" id="5622279">sub</span>&nbsp;<span class="op" id="5622283">:=</span>&nbsp;<span class="keyword" id="5622286">range</span>&nbsp;<span class="ident" id="5622292">re</span><span class="op" id="5622294">.</span><span class="ident" id="5622295">Sub</span>&nbsp;<span class="op" id="5622299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5622303">if</span>&nbsp;<span class="ident" id="5622306">n</span>&nbsp;<span class="op" id="5622308">:=</span>&nbsp;<span class="ident" id="5622311">sub</span><span class="op" id="5622314">.</span><span class="ident" id="5622315">MaxCap</span><span class="op" id="5622321">(</span><span class="op" id="5622322">)</span><span class="op" id="5622323">;</span>&nbsp;<span class="ident" id="5622325">m</span>&nbsp;<span class="op" id="5622327">&lt;</span>&nbsp;<span class="ident" id="5622329">n</span>&nbsp;<span class="op" id="5622331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5622336">m</span>&nbsp;<span class="op" id="5622338">=</span>&nbsp;<span class="ident" id="5622340">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5622344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5622347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5622350">return</span>&nbsp;<span class="ident" id="5622357">m</span><br>
<span class="lineno"></span><span class="op" id="5622359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="5622362">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="5622430">func</span>&nbsp;<span class="op" id="5622435">(</span><span class="ident" id="5622436">re</span>&nbsp;<span class="op" id="5622439">*</span><span class="ident" id="5622440">Regexp</span><span class="op" id="5622446">)</span>&nbsp;<span class="ident" id="5622448">CapNames</span><span class="op" id="5622456">(</span><span class="op" id="5622457">)</span>&nbsp;<span class="op" id="5622459">[</span><span class="op" id="5622460">]</span><span class="builtintype" id="5622461">string</span>&nbsp;<span class="op" id="5622468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5622471">names</span>&nbsp;<span class="op" id="5622477">:=</span>&nbsp;<span class="builtinfunc" id="5622480">make</span><span class="op" id="5622484">(</span><span class="op" id="5622485">[</span><span class="op" id="5622486">]</span><span class="builtintype" id="5622487">string</span><span class="op" id="5622493">,</span>&nbsp;<span class="ident" id="5622495">re</span><span class="op" id="5622497">.</span><span class="ident" id="5622498">MaxCap</span><span class="op" id="5622504">(</span><span class="op" id="5622505">)</span><span class="op" id="5622506">+</span><span class="num" id="5622507">1</span><span class="op" id="5622508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5622511">re</span><span class="op" id="5622513">.</span><span class="ident" id="5622514">capNames</span><span class="op" id="5622522">(</span><span class="ident" id="5622523">names</span><span class="op" id="5622528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5622531">return</span>&nbsp;<span class="ident" id="5622538">names</span><br>
<span class="lineno">310</span><span class="op" id="5622544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5622547">func</span>&nbsp;<span class="op" id="5622552">(</span><span class="ident" id="5622553">re</span>&nbsp;<span class="op" id="5622556">*</span><span class="ident" id="5622557">Regexp</span><span class="op" id="5622563">)</span>&nbsp;<span class="ident" id="5622565">capNames</span><span class="op" id="5622573">(</span><span class="ident" id="5622574">names</span>&nbsp;<span class="op" id="5622580">[</span><span class="op" id="5622581">]</span><span class="builtintype" id="5622582">string</span><span class="op" id="5622588">)</span>&nbsp;<span class="op" id="5622590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5622593">if</span>&nbsp;<span class="ident" id="5622596">re</span><span class="op" id="5622598">.</span><span class="ident" id="5622599">Op</span>&nbsp;<span class="op" id="5622602">==</span>&nbsp;<span class="ident" id="5622605">OpCapture</span>&nbsp;<span class="op" id="5622615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5622619">names</span><span class="op" id="5622624">[</span><span class="ident" id="5622625">re</span><span class="op" id="5622627">.</span><span class="ident" id="5622628">Cap</span><span class="op" id="5622631">]</span>&nbsp;<span class="op" id="5622633">=</span>&nbsp;<span class="ident" id="5622635">re</span><span class="op" id="5622637">.</span><span class="ident" id="5622638">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5622644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5622647">for</span>&nbsp;<span class="ident" id="5622651">_</span><span class="op" id="5622652">,</span>&nbsp;<span class="ident" id="5622654">sub</span>&nbsp;<span class="op" id="5622658">:=</span>&nbsp;<span class="keyword" id="5622661">range</span>&nbsp;<span class="ident" id="5622667">re</span><span class="op" id="5622669">.</span><span class="ident" id="5622670">Sub</span>&nbsp;<span class="op" id="5622674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5622678">sub</span><span class="op" id="5622681">.</span><span class="ident" id="5622682">capNames</span><span class="op" id="5622690">(</span><span class="ident" id="5622691">names</span><span class="op" id="5622696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5622699">}</span><br>
<span class="lineno"></span><span class="op" id="5622701">}</span>
</div>
</body>
</html>
