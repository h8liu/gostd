<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html" class="current">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4453443">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4453498">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4453552">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4453603">//&nbsp;Package&nbsp;hex&nbsp;implements&nbsp;hexadecimal&nbsp;encoding&nbsp;and&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4453664">package</span>&nbsp;<span class="ident" id="4453672">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4453677">import</span>&nbsp;<span class="op" id="4453684">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4453687">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4453696">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4453706">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4453713">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4453718">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="4453721">const</span>&nbsp;<span class="ident" id="4453727">hextable</span>&nbsp;<span class="op" id="4453736">=</span>&nbsp;<span class="string" id="4453738">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4453758">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="4453825">func</span>&nbsp;<span class="ident" id="4453830">EncodedLen</span><span class="op" id="4453840">(</span><span class="ident" id="4453841">n</span>&nbsp;<span class="builtintype" id="4453843">int</span><span class="op" id="4453846">)</span>&nbsp;<span class="builtintype" id="4453848">int</span>&nbsp;<span class="op" id="4453852">{</span>&nbsp;<span class="keyword" id="4453854">return</span>&nbsp;<span class="ident" id="4453861">n</span>&nbsp;<span class="op" id="4453863">*</span>&nbsp;<span class="num" id="4453865">2</span>&nbsp;<span class="op" id="4453867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="4453870">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;EncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="4453918">//&nbsp;bytes&nbsp;of&nbsp;dst.&nbsp;&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="4453976">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst,&nbsp;but&nbsp;this&nbsp;value&nbsp;is&nbsp;always&nbsp;EncodedLen(len(src)).</span><br>
<span class="lineno"></span><span class="comment" id="4454051">//&nbsp;Encode&nbsp;implements&nbsp;hexadecimal&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4454094">func</span>&nbsp;<span class="ident" id="4454099">Encode</span><span class="op" id="4454105">(</span><span class="ident" id="4454106">dst</span><span class="op" id="4454109">,</span>&nbsp;<span class="ident" id="4454111">src</span>&nbsp;<span class="op" id="4454115">[</span><span class="op" id="4454116">]</span><span class="builtintype" id="4454117">byte</span><span class="op" id="4454121">)</span>&nbsp;<span class="builtintype" id="4454123">int</span>&nbsp;<span class="op" id="4454127">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4454130">for</span>&nbsp;<span class="ident" id="4454134">i</span><span class="op" id="4454135">,</span>&nbsp;<span class="ident" id="4454137">v</span>&nbsp;<span class="op" id="4454139">:=</span>&nbsp;<span class="keyword" id="4454142">range</span>&nbsp;<span class="ident" id="4454148">src</span>&nbsp;<span class="op" id="4454152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4454156">dst</span><span class="op" id="4454159">[</span><span class="ident" id="4454160">i</span><span class="op" id="4454161">*</span><span class="num" id="4454162">2</span><span class="op" id="4454163">]</span>&nbsp;<span class="op" id="4454165">=</span>&nbsp;<span class="ident" id="4454167">hextable</span><span class="op" id="4454175">[</span><span class="ident" id="4454176">v</span><span class="op" id="4454177">&gt;&gt;</span><span class="num" id="4454179">4</span><span class="op" id="4454180">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4454184">dst</span><span class="op" id="4454187">[</span><span class="ident" id="4454188">i</span><span class="op" id="4454189">*</span><span class="num" id="4454190">2</span><span class="op" id="4454191">+</span><span class="num" id="4454192">1</span><span class="op" id="4454193">]</span>&nbsp;<span class="op" id="4454195">=</span>&nbsp;<span class="ident" id="4454197">hextable</span><span class="op" id="4454205">[</span><span class="ident" id="4454206">v</span><span class="op" id="4454207">&amp;</span><span class="num" id="4454208">0x0f</span><span class="op" id="4454212">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4454215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4454219">return</span>&nbsp;<span class="builtinfunc" id="4454226">len</span><span class="op" id="4454229">(</span><span class="ident" id="4454230">src</span><span class="op" id="4454233">)</span>&nbsp;<span class="op" id="4454235">*</span>&nbsp;<span class="num" id="4454237">2</span><br>
<span class="lineno"></span><span class="op" id="4454239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4454242">//&nbsp;ErrLength&nbsp;results&nbsp;from&nbsp;decoding&nbsp;an&nbsp;odd&nbsp;length&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="4454298">var</span>&nbsp;<span class="ident" id="4454302">ErrLength</span>&nbsp;<span class="op" id="4454312">=</span>&nbsp;<span class="ident" id="4454314">errors</span><span class="op" id="4454320">.</span><span class="ident" id="4454321">New</span><span class="op" id="4454324">(</span><span class="string" id="4454325">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="4454362">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4454365">//&nbsp;InvalidByteError&nbsp;values&nbsp;describe&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;an&nbsp;invalid&nbsp;byte&nbsp;in&nbsp;a&nbsp;hex&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4454456">type</span>&nbsp;<span class="ident" id="4454461">InvalidByteError</span>&nbsp;<span class="builtintype" id="4454478">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4454484">func</span>&nbsp;<span class="op" id="4454489">(</span><span class="ident" id="4454490">e</span>&nbsp;<span class="ident" id="4454492">InvalidByteError</span><span class="op" id="4454508">)</span>&nbsp;<span class="ident" id="4454510">Error</span><span class="op" id="4454515">(</span><span class="op" id="4454516">)</span>&nbsp;<span class="builtintype" id="4454518">string</span>&nbsp;<span class="op" id="4454525">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4454528">return</span>&nbsp;<span class="ident" id="4454535">fmt</span><span class="op" id="4454538">.</span><span class="ident" id="4454539">Sprintf</span><span class="op" id="4454546">(</span><span class="string" id="4454547">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;%#U&#34;</span><span class="op" id="4454580">,</span>&nbsp;<span class="builtintype" id="4454582">rune</span><span class="op" id="4454586">(</span><span class="ident" id="4454587">e</span><span class="op" id="4454588">)</span><span class="op" id="4454589">)</span><br>
<span class="lineno"></span><span class="op" id="4454591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4454594">func</span>&nbsp;<span class="ident" id="4454599">DecodedLen</span><span class="op" id="4454609">(</span><span class="ident" id="4454610">x</span>&nbsp;<span class="builtintype" id="4454612">int</span><span class="op" id="4454615">)</span>&nbsp;<span class="builtintype" id="4454617">int</span>&nbsp;<span class="op" id="4454621">{</span>&nbsp;<span class="keyword" id="4454623">return</span>&nbsp;<span class="ident" id="4454630">x</span>&nbsp;<span class="op" id="4454632">/</span>&nbsp;<span class="num" id="4454634">2</span>&nbsp;<span class="op" id="4454636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="4454639">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;DecodedLen(len(src))&nbsp;bytes,&nbsp;returning&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="4454715">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="4454750">//</span><br>
<span class="lineno"></span><span class="comment" id="4454753">//&nbsp;If&nbsp;Decode&nbsp;encounters&nbsp;invalid&nbsp;input,&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="keyword" id="4454836">func</span>&nbsp;<span class="ident" id="4454841">Decode</span><span class="op" id="4454847">(</span><span class="ident" id="4454848">dst</span><span class="op" id="4454851">,</span>&nbsp;<span class="ident" id="4454853">src</span>&nbsp;<span class="op" id="4454857">[</span><span class="op" id="4454858">]</span><span class="builtintype" id="4454859">byte</span><span class="op" id="4454863">)</span>&nbsp;<span class="op" id="4454865">(</span><span class="builtintype" id="4454866">int</span><span class="op" id="4454869">,</span>&nbsp;<span class="builtintype" id="4454871">error</span><span class="op" id="4454876">)</span>&nbsp;<span class="op" id="4454878">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4454881">if</span>&nbsp;<span class="builtinfunc" id="4454884">len</span><span class="op" id="4454887">(</span><span class="ident" id="4454888">src</span><span class="op" id="4454891">)</span><span class="op" id="4454892">%</span><span class="num" id="4454893">2</span>&nbsp;<span class="op" id="4454895">==</span>&nbsp;<span class="num" id="4454898">1</span>&nbsp;<span class="op" id="4454900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4454904">return</span>&nbsp;<span class="num" id="4454911">0</span><span class="op" id="4454912">,</span>&nbsp;<span class="ident" id="4454914">ErrLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4454925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4454929">for</span>&nbsp;<span class="ident" id="4454933">i</span>&nbsp;<span class="op" id="4454935">:=</span>&nbsp;<span class="num" id="4454938">0</span><span class="op" id="4454939">;</span>&nbsp;<span class="ident" id="4454941">i</span>&nbsp;<span class="op" id="4454943">&lt;</span>&nbsp;<span class="builtinfunc" id="4454945">len</span><span class="op" id="4454948">(</span><span class="ident" id="4454949">src</span><span class="op" id="4454952">)</span><span class="op" id="4454953">/</span><span class="num" id="4454954">2</span><span class="op" id="4454955">;</span>&nbsp;<span class="ident" id="4454957">i</span><span class="op" id="4454958">++</span>&nbsp;<span class="op" id="4454961">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4454965">a</span><span class="op" id="4454966">,</span>&nbsp;<span class="ident" id="4454968">ok</span>&nbsp;<span class="op" id="4454971">:=</span>&nbsp;<span class="ident" id="4454974">fromHexChar</span><span class="op" id="4454985">(</span><span class="ident" id="4454986">src</span><span class="op" id="4454989">[</span><span class="ident" id="4454990">i</span><span class="op" id="4454991">*</span><span class="num" id="4454992">2</span><span class="op" id="4454993">]</span><span class="op" id="4454994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4454998">if</span>&nbsp;<span class="op" id="4455001">!</span><span class="ident" id="4455002">ok</span>&nbsp;<span class="op" id="4455005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455010">return</span>&nbsp;<span class="num" id="4455017">0</span><span class="op" id="4455018">,</span>&nbsp;<span class="ident" id="4455020">InvalidByteError</span><span class="op" id="4455036">(</span><span class="ident" id="4455037">src</span><span class="op" id="4455040">[</span><span class="ident" id="4455041">i</span><span class="op" id="4455042">*</span><span class="num" id="4455043">2</span><span class="op" id="4455044">]</span><span class="op" id="4455045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4455049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4455053">b</span><span class="op" id="4455054">,</span>&nbsp;<span class="ident" id="4455056">ok</span>&nbsp;<span class="op" id="4455059">:=</span>&nbsp;<span class="ident" id="4455062">fromHexChar</span><span class="op" id="4455073">(</span><span class="ident" id="4455074">src</span><span class="op" id="4455077">[</span><span class="ident" id="4455078">i</span><span class="op" id="4455079">*</span><span class="num" id="4455080">2</span><span class="op" id="4455081">+</span><span class="num" id="4455082">1</span><span class="op" id="4455083">]</span><span class="op" id="4455084">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455088">if</span>&nbsp;<span class="op" id="4455091">!</span><span class="ident" id="4455092">ok</span>&nbsp;<span class="op" id="4455095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455100">return</span>&nbsp;<span class="num" id="4455107">0</span><span class="op" id="4455108">,</span>&nbsp;<span class="ident" id="4455110">InvalidByteError</span><span class="op" id="4455126">(</span><span class="ident" id="4455127">src</span><span class="op" id="4455130">[</span><span class="ident" id="4455131">i</span><span class="op" id="4455132">*</span><span class="num" id="4455133">2</span><span class="op" id="4455134">+</span><span class="num" id="4455135">1</span><span class="op" id="4455136">]</span><span class="op" id="4455137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4455141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4455145">dst</span><span class="op" id="4455148">[</span><span class="ident" id="4455149">i</span><span class="op" id="4455150">]</span>&nbsp;<span class="op" id="4455152">=</span>&nbsp;<span class="op" id="4455154">(</span><span class="ident" id="4455155">a</span>&nbsp;<span class="op" id="4455157">&lt;&lt;</span>&nbsp;<span class="num" id="4455160">4</span><span class="op" id="4455161">)</span>&nbsp;<span class="op" id="4455163">|</span>&nbsp;<span class="ident" id="4455165">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4455168">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455172">return</span>&nbsp;<span class="builtinfunc" id="4455179">len</span><span class="op" id="4455182">(</span><span class="ident" id="4455183">src</span><span class="op" id="4455186">)</span>&nbsp;<span class="op" id="4455188">/</span>&nbsp;<span class="num" id="4455190">2</span><span class="op" id="4455191">,</span>&nbsp;<span class="builtintype" id="4455193">nil</span><br>
<span class="lineno"></span><span class="op" id="4455197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4455200">//&nbsp;fromHexChar&nbsp;converts&nbsp;a&nbsp;hex&nbsp;character&nbsp;into&nbsp;its&nbsp;value&nbsp;and&nbsp;a&nbsp;success&nbsp;flag.</span><br>
<span class="lineno">70</span><span class="keyword" id="4455275">func</span>&nbsp;<span class="ident" id="4455280">fromHexChar</span><span class="op" id="4455291">(</span><span class="ident" id="4455292">c</span>&nbsp;<span class="builtintype" id="4455294">byte</span><span class="op" id="4455298">)</span>&nbsp;<span class="op" id="4455300">(</span><span class="builtintype" id="4455301">byte</span><span class="op" id="4455305">,</span>&nbsp;<span class="builtintype" id="4455307">bool</span><span class="op" id="4455311">)</span>&nbsp;<span class="op" id="4455313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455316">switch</span>&nbsp;<span class="op" id="4455323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455326">case</span>&nbsp;<span class="string" id="4455331">&#39;0&#39;</span>&nbsp;<span class="op" id="4455335">&lt;=</span>&nbsp;<span class="ident" id="4455338">c</span>&nbsp;<span class="op" id="4455340">&amp;&amp;</span>&nbsp;<span class="ident" id="4455343">c</span>&nbsp;<span class="op" id="4455345">&lt;=</span>&nbsp;<span class="string" id="4455348">&#39;9&#39;</span><span class="op" id="4455351">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455355">return</span>&nbsp;<span class="ident" id="4455362">c</span>&nbsp;<span class="op" id="4455364">-</span>&nbsp;<span class="string" id="4455366">&#39;0&#39;</span><span class="op" id="4455369">,</span>&nbsp;<span class="builtintype" id="4455371">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455377">case</span>&nbsp;<span class="string" id="4455382">&#39;a&#39;</span>&nbsp;<span class="op" id="4455386">&lt;=</span>&nbsp;<span class="ident" id="4455389">c</span>&nbsp;<span class="op" id="4455391">&amp;&amp;</span>&nbsp;<span class="ident" id="4455394">c</span>&nbsp;<span class="op" id="4455396">&lt;=</span>&nbsp;<span class="string" id="4455399">&#39;f&#39;</span><span class="op" id="4455402">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455406">return</span>&nbsp;<span class="ident" id="4455413">c</span>&nbsp;<span class="op" id="4455415">-</span>&nbsp;<span class="string" id="4455417">&#39;a&#39;</span>&nbsp;<span class="op" id="4455421">+</span>&nbsp;<span class="num" id="4455423">10</span><span class="op" id="4455425">,</span>&nbsp;<span class="builtintype" id="4455427">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455433">case</span>&nbsp;<span class="string" id="4455438">&#39;A&#39;</span>&nbsp;<span class="op" id="4455442">&lt;=</span>&nbsp;<span class="ident" id="4455445">c</span>&nbsp;<span class="op" id="4455447">&amp;&amp;</span>&nbsp;<span class="ident" id="4455450">c</span>&nbsp;<span class="op" id="4455452">&lt;=</span>&nbsp;<span class="string" id="4455455">&#39;F&#39;</span><span class="op" id="4455458">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455462">return</span>&nbsp;<span class="ident" id="4455469">c</span>&nbsp;<span class="op" id="4455471">-</span>&nbsp;<span class="string" id="4455473">&#39;A&#39;</span>&nbsp;<span class="op" id="4455477">+</span>&nbsp;<span class="num" id="4455479">10</span><span class="op" id="4455481">,</span>&nbsp;<span class="builtintype" id="4455483">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4455489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455493">return</span>&nbsp;<span class="num" id="4455500">0</span><span class="op" id="4455501">,</span>&nbsp;<span class="builtintype" id="4455503">false</span><br>
<span class="lineno"></span><span class="op" id="4455509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4455512">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="4455571">func</span>&nbsp;<span class="ident" id="4455576">EncodeToString</span><span class="op" id="4455590">(</span><span class="ident" id="4455591">src</span>&nbsp;<span class="op" id="4455595">[</span><span class="op" id="4455596">]</span><span class="builtintype" id="4455597">byte</span><span class="op" id="4455601">)</span>&nbsp;<span class="builtintype" id="4455603">string</span>&nbsp;<span class="op" id="4455610">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4455613">dst</span>&nbsp;<span class="op" id="4455617">:=</span>&nbsp;<span class="builtinfunc" id="4455620">make</span><span class="op" id="4455624">(</span><span class="op" id="4455625">[</span><span class="op" id="4455626">]</span><span class="builtintype" id="4455627">byte</span><span class="op" id="4455631">,</span>&nbsp;<span class="ident" id="4455633">EncodedLen</span><span class="op" id="4455643">(</span><span class="builtinfunc" id="4455644">len</span><span class="op" id="4455647">(</span><span class="ident" id="4455648">src</span><span class="op" id="4455651">)</span><span class="op" id="4455652">)</span><span class="op" id="4455653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4455656">Encode</span><span class="op" id="4455662">(</span><span class="ident" id="4455663">dst</span><span class="op" id="4455666">,</span>&nbsp;<span class="ident" id="4455668">src</span><span class="op" id="4455671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455674">return</span>&nbsp;<span class="builtintype" id="4455681">string</span><span class="op" id="4455687">(</span><span class="ident" id="4455688">dst</span><span class="op" id="4455691">)</span><br>
<span class="lineno"></span><span class="op" id="4455693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="4455696">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;hexadecimal&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4455771">func</span>&nbsp;<span class="ident" id="4455776">DecodeString</span><span class="op" id="4455788">(</span><span class="ident" id="4455789">s</span>&nbsp;<span class="builtintype" id="4455791">string</span><span class="op" id="4455797">)</span>&nbsp;<span class="op" id="4455799">(</span><span class="op" id="4455800">[</span><span class="op" id="4455801">]</span><span class="builtintype" id="4455802">byte</span><span class="op" id="4455806">,</span>&nbsp;<span class="builtintype" id="4455808">error</span><span class="op" id="4455813">)</span>&nbsp;<span class="op" id="4455815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4455818">src</span>&nbsp;<span class="op" id="4455822">:=</span>&nbsp;<span class="op" id="4455825">[</span><span class="op" id="4455826">]</span><span class="builtintype" id="4455827">byte</span><span class="op" id="4455831">(</span><span class="ident" id="4455832">s</span><span class="op" id="4455833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4455836">dst</span>&nbsp;<span class="op" id="4455840">:=</span>&nbsp;<span class="builtinfunc" id="4455843">make</span><span class="op" id="4455847">(</span><span class="op" id="4455848">[</span><span class="op" id="4455849">]</span><span class="builtintype" id="4455850">byte</span><span class="op" id="4455854">,</span>&nbsp;<span class="ident" id="4455856">DecodedLen</span><span class="op" id="4455866">(</span><span class="builtinfunc" id="4455867">len</span><span class="op" id="4455870">(</span><span class="ident" id="4455871">src</span><span class="op" id="4455874">)</span><span class="op" id="4455875">)</span><span class="op" id="4455876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4455879">_</span><span class="op" id="4455880">,</span>&nbsp;<span class="ident" id="4455882">err</span>&nbsp;<span class="op" id="4455886">:=</span>&nbsp;<span class="ident" id="4455889">Decode</span><span class="op" id="4455895">(</span><span class="ident" id="4455896">dst</span><span class="op" id="4455899">,</span>&nbsp;<span class="ident" id="4455901">src</span><span class="op" id="4455904">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455907">if</span>&nbsp;<span class="ident" id="4455910">err</span>&nbsp;<span class="op" id="4455914">!=</span>&nbsp;<span class="builtintype" id="4455917">nil</span>&nbsp;<span class="op" id="4455921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455925">return</span>&nbsp;<span class="builtintype" id="4455932">nil</span><span class="op" id="4455935">,</span>&nbsp;<span class="ident" id="4455937">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4455942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4455945">return</span>&nbsp;<span class="ident" id="4455952">dst</span><span class="op" id="4455955">,</span>&nbsp;<span class="builtintype" id="4455957">nil</span><br>
<span class="lineno"></span><span class="op" id="4455961">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4455964">//&nbsp;Dump&nbsp;returns&nbsp;a&nbsp;string&nbsp;that&nbsp;contains&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;The&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4456044">//&nbsp;of&nbsp;the&nbsp;hex&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4456119">func</span>&nbsp;<span class="ident" id="4456124">Dump</span><span class="op" id="4456128">(</span><span class="ident" id="4456129">data</span>&nbsp;<span class="op" id="4456134">[</span><span class="op" id="4456135">]</span><span class="builtintype" id="4456136">byte</span><span class="op" id="4456140">)</span>&nbsp;<span class="builtintype" id="4456142">string</span>&nbsp;<span class="op" id="4456149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4456152">var</span>&nbsp;<span class="ident" id="4456156">buf</span>&nbsp;<span class="ident" id="4456160">bytes</span><span class="op" id="4456165">.</span><span class="ident" id="4456166">Buffer</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4456174">dumper</span>&nbsp;<span class="op" id="4456181">:=</span>&nbsp;<span class="ident" id="4456184">Dumper</span><span class="op" id="4456190">(</span><span class="op" id="4456191">&amp;</span><span class="ident" id="4456192">buf</span><span class="op" id="4456195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4456198">dumper</span><span class="op" id="4456204">.</span><span class="ident" id="4456205">Write</span><span class="op" id="4456210">(</span><span class="ident" id="4456211">data</span><span class="op" id="4456215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4456218">dumper</span><span class="op" id="4456224">.</span><span class="ident" id="4456225">Close</span><span class="op" id="4456230">(</span><span class="op" id="4456231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4456234">return</span>&nbsp;<span class="builtintype" id="4456241">string</span><span class="op" id="4456247">(</span><span class="ident" id="4456248">buf</span><span class="op" id="4456251">.</span><span class="ident" id="4456252">Bytes</span><span class="op" id="4456257">(</span><span class="op" id="4456258">)</span><span class="op" id="4456259">)</span><br>
<span class="lineno"></span><span class="op" id="4456261">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4456264">//&nbsp;Dumper&nbsp;returns&nbsp;a&nbsp;WriteCloser&nbsp;that&nbsp;writes&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;all&nbsp;written&nbsp;data&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4456342">//&nbsp;w.&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span><span class="comment" id="4456421">//&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4456430">func</span>&nbsp;<span class="ident" id="4456435">Dumper</span><span class="op" id="4456441">(</span><span class="ident" id="4456442">w</span>&nbsp;<span class="ident" id="4456444">io</span><span class="op" id="4456446">.</span><span class="ident" id="4456447">Writer</span><span class="op" id="4456453">)</span>&nbsp;<span class="ident" id="4456455">io</span><span class="op" id="4456457">.</span><span class="ident" id="4456458">WriteCloser</span>&nbsp;<span class="op" id="4456470">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4456473">return</span>&nbsp;<span class="op" id="4456480">&amp;</span><span class="ident" id="4456481">dumper</span><span class="op" id="4456487">{</span><span class="ident" id="4456488">w</span><span class="op" id="4456489">:</span>&nbsp;<span class="ident" id="4456491">w</span><span class="op" id="4456492">}</span><br>
<span class="lineno"></span><span class="op" id="4456494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4456497">type</span>&nbsp;<span class="ident" id="4456502">dumper</span>&nbsp;<span class="keyword" id="4456509">struct</span>&nbsp;<span class="op" id="4456516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4456519">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4456530">io</span><span class="op" id="4456532">.</span><span class="ident" id="4456533">Writer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4456541">rightChars</span>&nbsp;<span class="op" id="4456552">[</span><span class="num" id="4456553">18</span><span class="op" id="4456555">]</span><span class="builtintype" id="4456556">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4456562">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4456573">[</span><span class="num" id="4456574">14</span><span class="op" id="4456576">]</span><span class="builtintype" id="4456577">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4456583">used</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4456594">int</span>&nbsp;&nbsp;<span class="comment" id="4456599">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4456639">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4456650">uint</span>&nbsp;<span class="comment" id="4456655">//&nbsp;number&nbsp;of&nbsp;bytes,&nbsp;total</span><br>
<span class="lineno"></span><span class="op" id="4456681">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="4456684">func</span>&nbsp;<span class="ident" id="4456689">toChar</span><span class="op" id="4456695">(</span><span class="ident" id="4456696">b</span>&nbsp;<span class="builtintype" id="4456698">byte</span><span class="op" id="4456702">)</span>&nbsp;<span class="builtintype" id="4456704">byte</span>&nbsp;<span class="op" id="4456709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4456712">if</span>&nbsp;<span class="ident" id="4456715">b</span>&nbsp;<span class="op" id="4456717">&lt;</span>&nbsp;<span class="num" id="4456719">32</span>&nbsp;<span class="op" id="4456722">||</span>&nbsp;<span class="ident" id="4456725">b</span>&nbsp;<span class="op" id="4456727">&gt;</span>&nbsp;<span class="num" id="4456729">126</span>&nbsp;<span class="op" id="4456733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4456737">return</span>&nbsp;<span class="string" id="4456744">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4456749">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4456752">return</span>&nbsp;<span class="ident" id="4456759">b</span><br>
<span class="lineno"></span><span class="op" id="4456761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4456764">func</span>&nbsp;<span class="op" id="4456769">(</span><span class="ident" id="4456770">h</span>&nbsp;<span class="op" id="4456772">*</span><span class="ident" id="4456773">dumper</span><span class="op" id="4456779">)</span>&nbsp;<span class="ident" id="4456781">Write</span><span class="op" id="4456786">(</span><span class="ident" id="4456787">data</span>&nbsp;<span class="op" id="4456792">[</span><span class="op" id="4456793">]</span><span class="builtintype" id="4456794">byte</span><span class="op" id="4456798">)</span>&nbsp;<span class="op" id="4456800">(</span><span class="ident" id="4456801">n</span>&nbsp;<span class="builtintype" id="4456803">int</span><span class="op" id="4456806">,</span>&nbsp;<span class="ident" id="4456808">err</span>&nbsp;<span class="builtintype" id="4456812">error</span><span class="op" id="4456817">)</span>&nbsp;<span class="op" id="4456819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4456822">//&nbsp;Output&nbsp;lines&nbsp;look&nbsp;like:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4456850">//&nbsp;00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4456933">//&nbsp;^&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;extra&nbsp;space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;ASCII&nbsp;of&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4457015">for</span>&nbsp;<span class="ident" id="4457019">i</span>&nbsp;<span class="op" id="4457021">:=</span>&nbsp;<span class="keyword" id="4457024">range</span>&nbsp;<span class="ident" id="4457030">data</span>&nbsp;<span class="op" id="4457035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4457039">if</span>&nbsp;<span class="ident" id="4457042">h</span><span class="op" id="4457043">.</span><span class="ident" id="4457044">used</span>&nbsp;<span class="op" id="4457049">==</span>&nbsp;<span class="num" id="4457052">0</span>&nbsp;<span class="op" id="4457054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4457059">//&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;line&nbsp;we&nbsp;print&nbsp;the&nbsp;current</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4457113">//&nbsp;offset&nbsp;in&nbsp;hex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457134">h</span><span class="op" id="4457135">.</span><span class="ident" id="4457136">buf</span><span class="op" id="4457139">[</span><span class="num" id="4457140">0</span><span class="op" id="4457141">]</span>&nbsp;<span class="op" id="4457143">=</span>&nbsp;<span class="builtintype" id="4457145">byte</span><span class="op" id="4457149">(</span><span class="ident" id="4457150">h</span><span class="op" id="4457151">.</span><span class="ident" id="4457152">n</span>&nbsp;<span class="op" id="4457154">&gt;&gt;</span>&nbsp;<span class="num" id="4457157">24</span><span class="op" id="4457159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457164">h</span><span class="op" id="4457165">.</span><span class="ident" id="4457166">buf</span><span class="op" id="4457169">[</span><span class="num" id="4457170">1</span><span class="op" id="4457171">]</span>&nbsp;<span class="op" id="4457173">=</span>&nbsp;<span class="builtintype" id="4457175">byte</span><span class="op" id="4457179">(</span><span class="ident" id="4457180">h</span><span class="op" id="4457181">.</span><span class="ident" id="4457182">n</span>&nbsp;<span class="op" id="4457184">&gt;&gt;</span>&nbsp;<span class="num" id="4457187">16</span><span class="op" id="4457189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457194">h</span><span class="op" id="4457195">.</span><span class="ident" id="4457196">buf</span><span class="op" id="4457199">[</span><span class="num" id="4457200">2</span><span class="op" id="4457201">]</span>&nbsp;<span class="op" id="4457203">=</span>&nbsp;<span class="builtintype" id="4457205">byte</span><span class="op" id="4457209">(</span><span class="ident" id="4457210">h</span><span class="op" id="4457211">.</span><span class="ident" id="4457212">n</span>&nbsp;<span class="op" id="4457214">&gt;&gt;</span>&nbsp;<span class="num" id="4457217">8</span><span class="op" id="4457218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457223">h</span><span class="op" id="4457224">.</span><span class="ident" id="4457225">buf</span><span class="op" id="4457228">[</span><span class="num" id="4457229">3</span><span class="op" id="4457230">]</span>&nbsp;<span class="op" id="4457232">=</span>&nbsp;<span class="builtintype" id="4457234">byte</span><span class="op" id="4457238">(</span><span class="ident" id="4457239">h</span><span class="op" id="4457240">.</span><span class="ident" id="4457241">n</span><span class="op" id="4457242">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457247">Encode</span><span class="op" id="4457253">(</span><span class="ident" id="4457254">h</span><span class="op" id="4457255">.</span><span class="ident" id="4457256">buf</span><span class="op" id="4457259">[</span><span class="num" id="4457260">4</span><span class="op" id="4457261">:</span><span class="op" id="4457262">]</span><span class="op" id="4457263">,</span>&nbsp;<span class="ident" id="4457265">h</span><span class="op" id="4457266">.</span><span class="ident" id="4457267">buf</span><span class="op" id="4457270">[</span><span class="op" id="4457271">:</span><span class="num" id="4457272">4</span><span class="op" id="4457273">]</span><span class="op" id="4457274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457279">h</span><span class="op" id="4457280">.</span><span class="ident" id="4457281">buf</span><span class="op" id="4457284">[</span><span class="num" id="4457285">12</span><span class="op" id="4457287">]</span>&nbsp;<span class="op" id="4457289">=</span>&nbsp;<span class="string" id="4457291">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457298">h</span><span class="op" id="4457299">.</span><span class="ident" id="4457300">buf</span><span class="op" id="4457303">[</span><span class="num" id="4457304">13</span><span class="op" id="4457306">]</span>&nbsp;<span class="op" id="4457308">=</span>&nbsp;<span class="string" id="4457310">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457317">_</span><span class="op" id="4457318">,</span>&nbsp;<span class="ident" id="4457320">err</span>&nbsp;<span class="op" id="4457324">=</span>&nbsp;<span class="ident" id="4457326">h</span><span class="op" id="4457327">.</span><span class="ident" id="4457328">w</span><span class="op" id="4457329">.</span><span class="ident" id="4457330">Write</span><span class="op" id="4457335">(</span><span class="ident" id="4457336">h</span><span class="op" id="4457337">.</span><span class="ident" id="4457338">buf</span><span class="op" id="4457341">[</span><span class="num" id="4457342">4</span><span class="op" id="4457343">:</span><span class="op" id="4457344">]</span><span class="op" id="4457345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4457350">if</span>&nbsp;<span class="ident" id="4457353">err</span>&nbsp;<span class="op" id="4457357">!=</span>&nbsp;<span class="builtintype" id="4457360">nil</span>&nbsp;<span class="op" id="4457364">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4457370">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4457380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4457384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457388">Encode</span><span class="op" id="4457394">(</span><span class="ident" id="4457395">h</span><span class="op" id="4457396">.</span><span class="ident" id="4457397">buf</span><span class="op" id="4457400">[</span><span class="op" id="4457401">:</span><span class="op" id="4457402">]</span><span class="op" id="4457403">,</span>&nbsp;<span class="ident" id="4457405">data</span><span class="op" id="4457409">[</span><span class="ident" id="4457410">i</span><span class="op" id="4457411">:</span><span class="ident" id="4457412">i</span><span class="op" id="4457413">+</span><span class="num" id="4457414">1</span><span class="op" id="4457415">]</span><span class="op" id="4457416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457420">h</span><span class="op" id="4457421">.</span><span class="ident" id="4457422">buf</span><span class="op" id="4457425">[</span><span class="num" id="4457426">2</span><span class="op" id="4457427">]</span>&nbsp;<span class="op" id="4457429">=</span>&nbsp;<span class="string" id="4457431">&#39;&nbsp;&#39;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457437">l</span>&nbsp;<span class="op" id="4457439">:=</span>&nbsp;<span class="num" id="4457442">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4457446">if</span>&nbsp;<span class="ident" id="4457449">h</span><span class="op" id="4457450">.</span><span class="ident" id="4457451">used</span>&nbsp;<span class="op" id="4457456">==</span>&nbsp;<span class="num" id="4457459">7</span>&nbsp;<span class="op" id="4457461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4457466">//&nbsp;There&#39;s&nbsp;an&nbsp;additional&nbsp;space&nbsp;after&nbsp;the&nbsp;8th&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457520">h</span><span class="op" id="4457521">.</span><span class="ident" id="4457522">buf</span><span class="op" id="4457525">[</span><span class="num" id="4457526">3</span><span class="op" id="4457527">]</span>&nbsp;<span class="op" id="4457529">=</span>&nbsp;<span class="string" id="4457531">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457538">l</span>&nbsp;<span class="op" id="4457540">=</span>&nbsp;<span class="num" id="4457542">4</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4457546">}</span>&nbsp;<span class="keyword" id="4457548">else</span>&nbsp;<span class="keyword" id="4457553">if</span>&nbsp;<span class="ident" id="4457556">h</span><span class="op" id="4457557">.</span><span class="ident" id="4457558">used</span>&nbsp;<span class="op" id="4457563">==</span>&nbsp;<span class="num" id="4457566">15</span>&nbsp;<span class="op" id="4457569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4457574">//&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line&nbsp;there&#39;s&nbsp;an&nbsp;extra&nbsp;space&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4457630">//&nbsp;the&nbsp;bar&nbsp;for&nbsp;the&nbsp;right&nbsp;column.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457666">h</span><span class="op" id="4457667">.</span><span class="ident" id="4457668">buf</span><span class="op" id="4457671">[</span><span class="num" id="4457672">3</span><span class="op" id="4457673">]</span>&nbsp;<span class="op" id="4457675">=</span>&nbsp;<span class="string" id="4457677">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457684">h</span><span class="op" id="4457685">.</span><span class="ident" id="4457686">buf</span><span class="op" id="4457689">[</span><span class="num" id="4457690">4</span><span class="op" id="4457691">]</span>&nbsp;<span class="op" id="4457693">=</span>&nbsp;<span class="string" id="4457695">&#39;|&#39;</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457702">l</span>&nbsp;<span class="op" id="4457704">=</span>&nbsp;<span class="num" id="4457706">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4457710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457714">_</span><span class="op" id="4457715">,</span>&nbsp;<span class="ident" id="4457717">err</span>&nbsp;<span class="op" id="4457721">=</span>&nbsp;<span class="ident" id="4457723">h</span><span class="op" id="4457724">.</span><span class="ident" id="4457725">w</span><span class="op" id="4457726">.</span><span class="ident" id="4457727">Write</span><span class="op" id="4457732">(</span><span class="ident" id="4457733">h</span><span class="op" id="4457734">.</span><span class="ident" id="4457735">buf</span><span class="op" id="4457738">[</span><span class="op" id="4457739">:</span><span class="ident" id="4457740">l</span><span class="op" id="4457741">]</span><span class="op" id="4457742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4457746">if</span>&nbsp;<span class="ident" id="4457749">err</span>&nbsp;<span class="op" id="4457753">!=</span>&nbsp;<span class="builtintype" id="4457756">nil</span>&nbsp;<span class="op" id="4457760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4457765">return</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4457774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457778">n</span><span class="op" id="4457779">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457784">h</span><span class="op" id="4457785">.</span><span class="ident" id="4457786">rightChars</span><span class="op" id="4457796">[</span><span class="ident" id="4457797">h</span><span class="op" id="4457798">.</span><span class="ident" id="4457799">used</span><span class="op" id="4457803">]</span>&nbsp;<span class="op" id="4457805">=</span>&nbsp;<span class="ident" id="4457807">toChar</span><span class="op" id="4457813">(</span><span class="ident" id="4457814">data</span><span class="op" id="4457818">[</span><span class="ident" id="4457819">i</span><span class="op" id="4457820">]</span><span class="op" id="4457821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457825">h</span><span class="op" id="4457826">.</span><span class="ident" id="4457827">used</span><span class="op" id="4457831">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457836">h</span><span class="op" id="4457837">.</span><span class="ident" id="4457838">n</span><span class="op" id="4457839">++</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4457844">if</span>&nbsp;<span class="ident" id="4457847">h</span><span class="op" id="4457848">.</span><span class="ident" id="4457849">used</span>&nbsp;<span class="op" id="4457854">==</span>&nbsp;<span class="num" id="4457857">16</span>&nbsp;<span class="op" id="4457860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457865">h</span><span class="op" id="4457866">.</span><span class="ident" id="4457867">rightChars</span><span class="op" id="4457877">[</span><span class="num" id="4457878">16</span><span class="op" id="4457880">]</span>&nbsp;<span class="op" id="4457882">=</span>&nbsp;<span class="string" id="4457884">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457891">h</span><span class="op" id="4457892">.</span><span class="ident" id="4457893">rightChars</span><span class="op" id="4457903">[</span><span class="num" id="4457904">17</span><span class="op" id="4457906">]</span>&nbsp;<span class="op" id="4457908">=</span>&nbsp;<span class="string" id="4457910">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457918">_</span><span class="op" id="4457919">,</span>&nbsp;<span class="ident" id="4457921">err</span>&nbsp;<span class="op" id="4457925">=</span>&nbsp;<span class="ident" id="4457927">h</span><span class="op" id="4457928">.</span><span class="ident" id="4457929">w</span><span class="op" id="4457930">.</span><span class="ident" id="4457931">Write</span><span class="op" id="4457936">(</span><span class="ident" id="4457937">h</span><span class="op" id="4457938">.</span><span class="ident" id="4457939">rightChars</span><span class="op" id="4457949">[</span><span class="op" id="4457950">:</span><span class="op" id="4457951">]</span><span class="op" id="4457952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4457957">if</span>&nbsp;<span class="ident" id="4457960">err</span>&nbsp;<span class="op" id="4457964">!=</span>&nbsp;<span class="builtintype" id="4457967">nil</span>&nbsp;<span class="op" id="4457971">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4457977">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4457987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4457992">h</span><span class="op" id="4457993">.</span><span class="ident" id="4457994">used</span>&nbsp;<span class="op" id="4457999">=</span>&nbsp;<span class="num" id="4458001">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4458005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4458008">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4458011">return</span><br>
<span class="lineno"></span><span class="op" id="4458018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4458021">func</span>&nbsp;<span class="op" id="4458026">(</span><span class="ident" id="4458027">h</span>&nbsp;<span class="op" id="4458029">*</span><span class="ident" id="4458030">dumper</span><span class="op" id="4458036">)</span>&nbsp;<span class="ident" id="4458038">Close</span><span class="op" id="4458043">(</span><span class="op" id="4458044">)</span>&nbsp;<span class="op" id="4458046">(</span><span class="ident" id="4458047">err</span>&nbsp;<span class="builtintype" id="4458051">error</span><span class="op" id="4458056">)</span>&nbsp;<span class="op" id="4458058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4458061">//&nbsp;See&nbsp;the&nbsp;comments&nbsp;in&nbsp;Write()&nbsp;for&nbsp;the&nbsp;details&nbsp;of&nbsp;this&nbsp;format.</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4458125">if</span>&nbsp;<span class="ident" id="4458128">h</span><span class="op" id="4458129">.</span><span class="ident" id="4458130">used</span>&nbsp;<span class="op" id="4458135">==</span>&nbsp;<span class="num" id="4458138">0</span>&nbsp;<span class="op" id="4458140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4458144">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4458152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458155">h</span><span class="op" id="4458156">.</span><span class="ident" id="4458157">buf</span><span class="op" id="4458160">[</span><span class="num" id="4458161">0</span><span class="op" id="4458162">]</span>&nbsp;<span class="op" id="4458164">=</span>&nbsp;<span class="string" id="4458166">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458171">h</span><span class="op" id="4458172">.</span><span class="ident" id="4458173">buf</span><span class="op" id="4458176">[</span><span class="num" id="4458177">1</span><span class="op" id="4458178">]</span>&nbsp;<span class="op" id="4458180">=</span>&nbsp;<span class="string" id="4458182">&#39;&nbsp;&#39;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458187">h</span><span class="op" id="4458188">.</span><span class="ident" id="4458189">buf</span><span class="op" id="4458192">[</span><span class="num" id="4458193">2</span><span class="op" id="4458194">]</span>&nbsp;<span class="op" id="4458196">=</span>&nbsp;<span class="string" id="4458198">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458203">h</span><span class="op" id="4458204">.</span><span class="ident" id="4458205">buf</span><span class="op" id="4458208">[</span><span class="num" id="4458209">3</span><span class="op" id="4458210">]</span>&nbsp;<span class="op" id="4458212">=</span>&nbsp;<span class="string" id="4458214">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458219">h</span><span class="op" id="4458220">.</span><span class="ident" id="4458221">buf</span><span class="op" id="4458224">[</span><span class="num" id="4458225">4</span><span class="op" id="4458226">]</span>&nbsp;<span class="op" id="4458228">=</span>&nbsp;<span class="string" id="4458230">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458235">nBytes</span>&nbsp;<span class="op" id="4458242">:=</span>&nbsp;<span class="ident" id="4458245">h</span><span class="op" id="4458246">.</span><span class="ident" id="4458247">used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4458253">for</span>&nbsp;<span class="ident" id="4458257">h</span><span class="op" id="4458258">.</span><span class="ident" id="4458259">used</span>&nbsp;<span class="op" id="4458264">&lt;</span>&nbsp;<span class="num" id="4458266">16</span>&nbsp;<span class="op" id="4458269">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458273">l</span>&nbsp;<span class="op" id="4458275">:=</span>&nbsp;<span class="num" id="4458278">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4458282">if</span>&nbsp;<span class="ident" id="4458285">h</span><span class="op" id="4458286">.</span><span class="ident" id="4458287">used</span>&nbsp;<span class="op" id="4458292">==</span>&nbsp;<span class="num" id="4458295">7</span>&nbsp;<span class="op" id="4458297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458302">l</span>&nbsp;<span class="op" id="4458304">=</span>&nbsp;<span class="num" id="4458306">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4458310">}</span>&nbsp;<span class="keyword" id="4458312">else</span>&nbsp;<span class="keyword" id="4458317">if</span>&nbsp;<span class="ident" id="4458320">h</span><span class="op" id="4458321">.</span><span class="ident" id="4458322">used</span>&nbsp;<span class="op" id="4458327">==</span>&nbsp;<span class="num" id="4458330">15</span>&nbsp;<span class="op" id="4458333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458338">l</span>&nbsp;<span class="op" id="4458340">=</span>&nbsp;<span class="num" id="4458342">5</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4458346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458350">_</span><span class="op" id="4458351">,</span>&nbsp;<span class="ident" id="4458353">err</span>&nbsp;<span class="op" id="4458357">=</span>&nbsp;<span class="ident" id="4458359">h</span><span class="op" id="4458360">.</span><span class="ident" id="4458361">w</span><span class="op" id="4458362">.</span><span class="ident" id="4458363">Write</span><span class="op" id="4458368">(</span><span class="ident" id="4458369">h</span><span class="op" id="4458370">.</span><span class="ident" id="4458371">buf</span><span class="op" id="4458374">[</span><span class="op" id="4458375">:</span><span class="ident" id="4458376">l</span><span class="op" id="4458377">]</span><span class="op" id="4458378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4458382">if</span>&nbsp;<span class="ident" id="4458385">err</span>&nbsp;<span class="op" id="4458389">!=</span>&nbsp;<span class="builtintype" id="4458392">nil</span>&nbsp;<span class="op" id="4458396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4458401">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4458410">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458414">h</span><span class="op" id="4458415">.</span><span class="ident" id="4458416">used</span><span class="op" id="4458420">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4458424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458427">h</span><span class="op" id="4458428">.</span><span class="ident" id="4458429">rightChars</span><span class="op" id="4458439">[</span><span class="ident" id="4458440">nBytes</span><span class="op" id="4458446">]</span>&nbsp;<span class="op" id="4458448">=</span>&nbsp;<span class="string" id="4458450">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458455">h</span><span class="op" id="4458456">.</span><span class="ident" id="4458457">rightChars</span><span class="op" id="4458467">[</span><span class="ident" id="4458468">nBytes</span><span class="op" id="4458474">+</span><span class="num" id="4458475">1</span><span class="op" id="4458476">]</span>&nbsp;<span class="op" id="4458478">=</span>&nbsp;<span class="string" id="4458480">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4458486">_</span><span class="op" id="4458487">,</span>&nbsp;<span class="ident" id="4458489">err</span>&nbsp;<span class="op" id="4458493">=</span>&nbsp;<span class="ident" id="4458495">h</span><span class="op" id="4458496">.</span><span class="ident" id="4458497">w</span><span class="op" id="4458498">.</span><span class="ident" id="4458499">Write</span><span class="op" id="4458504">(</span><span class="ident" id="4458505">h</span><span class="op" id="4458506">.</span><span class="ident" id="4458507">rightChars</span><span class="op" id="4458517">[</span><span class="op" id="4458518">:</span><span class="ident" id="4458519">nBytes</span><span class="op" id="4458525">+</span><span class="num" id="4458526">2</span><span class="op" id="4458527">]</span><span class="op" id="4458528">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4458531">return</span><br>
<span class="lineno"></span><span class="op" id="4458538">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
