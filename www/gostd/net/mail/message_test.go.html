<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/mail</h2>
<ul>
<li><a href="/gostd/net/mail/message.go.html">message.go</a></li>
<li><a href="/gostd/net/mail/message_test.go.html" class="current">message_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7338271">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7338326">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7338380">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7338431">package</span>&nbsp;<span class="ident" id="7338439">mail</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7338445">import</span>&nbsp;<span class="op" id="7338452">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7338455">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7338464">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7338477">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7338488">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7338499">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7338510">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7338517">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7338520">var</span>&nbsp;<span class="ident" id="7338524">parseTests</span>&nbsp;<span class="op" id="7338535">=</span>&nbsp;<span class="op" id="7338537">[</span><span class="op" id="7338538">]</span><span class="keyword" id="7338539">struct</span>&nbsp;<span class="op" id="7338546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338549">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7338556">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338564">header</span>&nbsp;<span class="ident" id="7338571">Header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338579">body</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7338586">string</span><br>
<span class="lineno">20</span><span class="op" id="7338593">}</span><span class="op" id="7338594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7338601">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338631">in</span><span class="op" id="7338633">:</span>&nbsp;<span class="string" id="7338635">`From:&nbsp;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;<br>
<span class="lineno"></span>To:&nbsp;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;<br>
<span class="lineno">25</span>Subject:&nbsp;Saying&nbsp;Hello<br>
<span class="lineno"></span>Date:&nbsp;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600<br>
<span class="lineno"></span>Message-ID:&nbsp;&lt;1234@local.machine.example&gt;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.<br>
<span class="lineno">30</span>So,&nbsp;&#34;Hello&#34;.<br>
<span class="lineno"></span>`</span><span class="op" id="7338861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338865">header</span><span class="op" id="7338871">:</span>&nbsp;<span class="ident" id="7338873">Header</span><span class="op" id="7338879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7338884">&#34;From&#34;</span><span class="op" id="7338890">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7338898">[</span><span class="op" id="7338899">]</span><span class="builtintype" id="7338900">string</span><span class="op" id="7338906">{</span><span class="string" id="7338907">&#34;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;&#34;</span><span class="op" id="7338940">}</span><span class="op" id="7338941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7338946">&#34;To&#34;</span><span class="op" id="7338950">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7338960">[</span><span class="op" id="7338961">]</span><span class="builtintype" id="7338962">string</span><span class="op" id="7338968">{</span><span class="string" id="7338969">&#34;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;&#34;</span><span class="op" id="7339000">}</span><span class="op" id="7339001">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7339006">&#34;Subject&#34;</span><span class="op" id="7339015">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7339020">[</span><span class="op" id="7339021">]</span><span class="builtintype" id="7339022">string</span><span class="op" id="7339028">{</span><span class="string" id="7339029">&#34;Saying&nbsp;Hello&#34;</span><span class="op" id="7339043">}</span><span class="op" id="7339044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7339049">&#34;Date&#34;</span><span class="op" id="7339055">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7339063">[</span><span class="op" id="7339064">]</span><span class="builtintype" id="7339065">string</span><span class="op" id="7339071">{</span><span class="string" id="7339072">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="7339105">}</span><span class="op" id="7339106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7339111">&#34;Message-Id&#34;</span><span class="op" id="7339123">:</span>&nbsp;<span class="op" id="7339125">[</span><span class="op" id="7339126">]</span><span class="builtintype" id="7339127">string</span><span class="op" id="7339133">{</span><span class="string" id="7339134">&#34;&lt;1234@local.machine.example&gt;&#34;</span><span class="op" id="7339164">}</span><span class="op" id="7339165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339169">}</span><span class="op" id="7339170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339174">body</span><span class="op" id="7339178">:</span>&nbsp;<span class="string" id="7339180">&#34;This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.\nSo,&nbsp;\&#34;Hello\&#34;.\n&#34;</span><span class="op" id="7339236">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339239">}</span><span class="op" id="7339240">,</span><br>
<span class="lineno"></span><span class="op" id="7339242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7339245">func</span>&nbsp;<span class="ident" id="7339250">TestParsing</span><span class="op" id="7339261">(</span><span class="ident" id="7339262">t</span>&nbsp;<span class="op" id="7339264">*</span><span class="ident" id="7339265">testing</span><span class="op" id="7339272">.</span><span class="ident" id="7339273">T</span><span class="op" id="7339274">)</span>&nbsp;<span class="op" id="7339276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339279">for</span>&nbsp;<span class="ident" id="7339283">i</span><span class="op" id="7339284">,</span>&nbsp;<span class="ident" id="7339286">test</span>&nbsp;<span class="op" id="7339291">:=</span>&nbsp;<span class="keyword" id="7339294">range</span>&nbsp;<span class="ident" id="7339300">parseTests</span>&nbsp;<span class="op" id="7339311">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339315">msg</span><span class="op" id="7339318">,</span>&nbsp;<span class="ident" id="7339320">err</span>&nbsp;<span class="op" id="7339324">:=</span>&nbsp;<span class="ident" id="7339327">ReadMessage</span><span class="op" id="7339338">(</span><span class="ident" id="7339339">bytes</span><span class="op" id="7339344">.</span><span class="ident" id="7339345">NewBuffer</span><span class="op" id="7339354">(</span><span class="op" id="7339355">[</span><span class="op" id="7339356">]</span><span class="builtintype" id="7339357">byte</span><span class="op" id="7339361">(</span><span class="ident" id="7339362">test</span><span class="op" id="7339366">.</span><span class="ident" id="7339367">in</span><span class="op" id="7339369">)</span><span class="op" id="7339370">)</span><span class="op" id="7339371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339375">if</span>&nbsp;<span class="ident" id="7339378">err</span>&nbsp;<span class="op" id="7339382">!=</span>&nbsp;<span class="ident" id="7339385">nil</span>&nbsp;<span class="op" id="7339389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339394">t</span><span class="op" id="7339395">.</span><span class="ident" id="7339396">Errorf</span><span class="op" id="7339402">(</span><span class="string" id="7339403">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;parsing&nbsp;message:&nbsp;%v&#34;</span><span class="op" id="7339441">,</span>&nbsp;<span class="ident" id="7339443">i</span><span class="op" id="7339444">,</span>&nbsp;<span class="ident" id="7339446">err</span><span class="op" id="7339449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339454">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339465">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339469">if</span>&nbsp;<span class="op" id="7339472">!</span><span class="ident" id="7339473">headerEq</span><span class="op" id="7339481">(</span><span class="ident" id="7339482">msg</span><span class="op" id="7339485">.</span><span class="ident" id="7339486">Header</span><span class="op" id="7339492">,</span>&nbsp;<span class="ident" id="7339494">test</span><span class="op" id="7339498">.</span><span class="ident" id="7339499">header</span><span class="op" id="7339505">)</span>&nbsp;<span class="op" id="7339507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339512">t</span><span class="op" id="7339513">.</span><span class="ident" id="7339514">Errorf</span><span class="op" id="7339520">(</span><span class="string" id="7339521">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;header.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="7339590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339596">i</span><span class="op" id="7339597">,</span>&nbsp;<span class="ident" id="7339599">msg</span><span class="op" id="7339602">.</span><span class="ident" id="7339603">Header</span><span class="op" id="7339609">,</span>&nbsp;<span class="ident" id="7339611">test</span><span class="op" id="7339615">.</span><span class="ident" id="7339616">header</span><span class="op" id="7339622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339630">body</span><span class="op" id="7339634">,</span>&nbsp;<span class="ident" id="7339636">err</span>&nbsp;<span class="op" id="7339640">:=</span>&nbsp;<span class="ident" id="7339643">ioutil</span><span class="op" id="7339649">.</span><span class="ident" id="7339650">ReadAll</span><span class="op" id="7339657">(</span><span class="ident" id="7339658">msg</span><span class="op" id="7339661">.</span><span class="ident" id="7339662">Body</span><span class="op" id="7339666">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339670">if</span>&nbsp;<span class="ident" id="7339673">err</span>&nbsp;<span class="op" id="7339677">!=</span>&nbsp;<span class="ident" id="7339680">nil</span>&nbsp;<span class="op" id="7339684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339689">t</span><span class="op" id="7339690">.</span><span class="ident" id="7339691">Errorf</span><span class="op" id="7339697">(</span><span class="string" id="7339698">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;reading&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="7339733">,</span>&nbsp;<span class="ident" id="7339735">i</span><span class="op" id="7339736">,</span>&nbsp;<span class="ident" id="7339738">err</span><span class="op" id="7339741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339746">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339761">bodyStr</span>&nbsp;<span class="op" id="7339769">:=</span>&nbsp;<span class="builtintype" id="7339772">string</span><span class="op" id="7339778">(</span><span class="ident" id="7339779">body</span><span class="op" id="7339783">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339787">if</span>&nbsp;<span class="ident" id="7339790">bodyStr</span>&nbsp;<span class="op" id="7339798">!=</span>&nbsp;<span class="ident" id="7339801">test</span><span class="op" id="7339805">.</span><span class="ident" id="7339806">body</span>&nbsp;<span class="op" id="7339811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339816">t</span><span class="op" id="7339817">.</span><span class="ident" id="7339818">Errorf</span><span class="op" id="7339824">(</span><span class="string" id="7339825">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;body.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="7339892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339898">i</span><span class="op" id="7339899">,</span>&nbsp;<span class="ident" id="7339901">bodyStr</span><span class="op" id="7339908">,</span>&nbsp;<span class="ident" id="7339910">test</span><span class="op" id="7339914">.</span><span class="ident" id="7339915">body</span><span class="op" id="7339919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339926">}</span><br>
<span class="lineno">65</span><span class="op" id="7339928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7339931">func</span>&nbsp;<span class="ident" id="7339936">headerEq</span><span class="op" id="7339944">(</span><span class="ident" id="7339945">a</span><span class="op" id="7339946">,</span>&nbsp;<span class="ident" id="7339948">b</span>&nbsp;<span class="ident" id="7339950">Header</span><span class="op" id="7339956">)</span>&nbsp;<span class="builtintype" id="7339958">bool</span>&nbsp;<span class="op" id="7339963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339966">if</span>&nbsp;<span class="builtinfunc" id="7339969">len</span><span class="op" id="7339972">(</span><span class="ident" id="7339973">a</span><span class="op" id="7339974">)</span>&nbsp;<span class="op" id="7339976">!=</span>&nbsp;<span class="builtinfunc" id="7339979">len</span><span class="op" id="7339982">(</span><span class="ident" id="7339983">b</span><span class="op" id="7339984">)</span>&nbsp;<span class="op" id="7339986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339990">return</span>&nbsp;<span class="builtintype" id="7339997">false</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340007">for</span>&nbsp;<span class="ident" id="7340011">k</span><span class="op" id="7340012">,</span>&nbsp;<span class="ident" id="7340014">as</span>&nbsp;<span class="op" id="7340017">:=</span>&nbsp;<span class="keyword" id="7340020">range</span>&nbsp;<span class="ident" id="7340026">a</span>&nbsp;<span class="op" id="7340028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340032">bs</span><span class="op" id="7340034">,</span>&nbsp;<span class="ident" id="7340036">ok</span>&nbsp;<span class="op" id="7340039">:=</span>&nbsp;<span class="ident" id="7340042">b</span><span class="op" id="7340043">[</span><span class="ident" id="7340044">k</span><span class="op" id="7340045">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340049">if</span>&nbsp;<span class="op" id="7340052">!</span><span class="ident" id="7340053">ok</span>&nbsp;<span class="op" id="7340056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340061">return</span>&nbsp;<span class="builtintype" id="7340068">false</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340080">if</span>&nbsp;<span class="op" id="7340083">!</span><span class="ident" id="7340084">reflect</span><span class="op" id="7340091">.</span><span class="ident" id="7340092">DeepEqual</span><span class="op" id="7340101">(</span><span class="ident" id="7340102">as</span><span class="op" id="7340104">,</span>&nbsp;<span class="ident" id="7340106">bs</span><span class="op" id="7340108">)</span>&nbsp;<span class="op" id="7340110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340115">return</span>&nbsp;<span class="builtintype" id="7340122">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340133">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340136">return</span>&nbsp;<span class="builtintype" id="7340143">true</span><br>
<span class="lineno"></span><span class="op" id="7340148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7340151">func</span>&nbsp;<span class="ident" id="7340156">TestDateParsing</span><span class="op" id="7340171">(</span><span class="ident" id="7340172">t</span>&nbsp;<span class="op" id="7340174">*</span><span class="ident" id="7340175">testing</span><span class="op" id="7340182">.</span><span class="ident" id="7340183">T</span><span class="op" id="7340184">)</span>&nbsp;<span class="op" id="7340186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340189">tests</span>&nbsp;<span class="op" id="7340195">:=</span>&nbsp;<span class="op" id="7340198">[</span><span class="op" id="7340199">]</span><span class="keyword" id="7340200">struct</span>&nbsp;<span class="op" id="7340207">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340211">dateStr</span>&nbsp;<span class="builtintype" id="7340219">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340228">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7340236">time</span><span class="op" id="7340240">.</span><span class="ident" id="7340241">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340247">}</span><span class="op" id="7340248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7340252">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340282">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7340287">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="7340320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340325">time</span><span class="op" id="7340329">.</span><span class="ident" id="7340330">Date</span><span class="op" id="7340334">(</span><span class="num" id="7340335">1997</span><span class="op" id="7340339">,</span>&nbsp;<span class="num" id="7340341">11</span><span class="op" id="7340343">,</span>&nbsp;<span class="num" id="7340345">21</span><span class="op" id="7340347">,</span>&nbsp;<span class="num" id="7340349">9</span><span class="op" id="7340350">,</span>&nbsp;<span class="num" id="7340352">55</span><span class="op" id="7340354">,</span>&nbsp;<span class="num" id="7340356">6</span><span class="op" id="7340357">,</span>&nbsp;<span class="num" id="7340359">0</span><span class="op" id="7340360">,</span>&nbsp;<span class="ident" id="7340362">time</span><span class="op" id="7340366">.</span><span class="ident" id="7340367">FixedZone</span><span class="op" id="7340376">(</span><span class="string" id="7340377">&#34;&#34;</span><span class="op" id="7340379">,</span>&nbsp;<span class="op" id="7340381">-</span><span class="num" id="7340382">6</span><span class="op" id="7340383">*</span><span class="num" id="7340384">60</span><span class="op" id="7340386">*</span><span class="num" id="7340387">60</span><span class="op" id="7340389">)</span><span class="op" id="7340390">)</span><span class="op" id="7340391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340395">}</span><span class="op" id="7340396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7340400">//&nbsp;RFC5322,&nbsp;Appendix&nbsp;A.6.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7340429">//&nbsp;Obsolete&nbsp;date.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7340454">&#34;21&nbsp;Nov&nbsp;97&nbsp;09:55:06&nbsp;GMT&#34;</span><span class="op" id="7340478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340483">time</span><span class="op" id="7340487">.</span><span class="ident" id="7340488">Date</span><span class="op" id="7340492">(</span><span class="num" id="7340493">1997</span><span class="op" id="7340497">,</span>&nbsp;<span class="num" id="7340499">11</span><span class="op" id="7340501">,</span>&nbsp;<span class="num" id="7340503">21</span><span class="op" id="7340505">,</span>&nbsp;<span class="num" id="7340507">9</span><span class="op" id="7340508">,</span>&nbsp;<span class="num" id="7340510">55</span><span class="op" id="7340512">,</span>&nbsp;<span class="num" id="7340514">6</span><span class="op" id="7340515">,</span>&nbsp;<span class="num" id="7340517">0</span><span class="op" id="7340518">,</span>&nbsp;<span class="ident" id="7340520">time</span><span class="op" id="7340524">.</span><span class="ident" id="7340525">FixedZone</span><span class="op" id="7340534">(</span><span class="string" id="7340535">&#34;GMT&#34;</span><span class="op" id="7340540">,</span>&nbsp;<span class="num" id="7340542">0</span><span class="op" id="7340543">)</span><span class="op" id="7340544">)</span><span class="op" id="7340545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340549">}</span><span class="op" id="7340550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7340554">//&nbsp;Commonly&nbsp;found&nbsp;format&nbsp;not&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;5322.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7340613">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&nbsp;(MDT)&#34;</span><span class="op" id="7340652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340657">time</span><span class="op" id="7340661">.</span><span class="ident" id="7340662">Date</span><span class="op" id="7340666">(</span><span class="num" id="7340667">1997</span><span class="op" id="7340671">,</span>&nbsp;<span class="num" id="7340673">11</span><span class="op" id="7340675">,</span>&nbsp;<span class="num" id="7340677">21</span><span class="op" id="7340679">,</span>&nbsp;<span class="num" id="7340681">9</span><span class="op" id="7340682">,</span>&nbsp;<span class="num" id="7340684">55</span><span class="op" id="7340686">,</span>&nbsp;<span class="num" id="7340688">6</span><span class="op" id="7340689">,</span>&nbsp;<span class="num" id="7340691">0</span><span class="op" id="7340692">,</span>&nbsp;<span class="ident" id="7340694">time</span><span class="op" id="7340698">.</span><span class="ident" id="7340699">FixedZone</span><span class="op" id="7340708">(</span><span class="string" id="7340709">&#34;&#34;</span><span class="op" id="7340711">,</span>&nbsp;<span class="op" id="7340713">-</span><span class="num" id="7340714">6</span><span class="op" id="7340715">*</span><span class="num" id="7340716">60</span><span class="op" id="7340718">*</span><span class="num" id="7340719">60</span><span class="op" id="7340721">)</span><span class="op" id="7340722">)</span><span class="op" id="7340723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340727">}</span><span class="op" id="7340728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340731">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340734">for</span>&nbsp;<span class="ident" id="7340738">_</span><span class="op" id="7340739">,</span>&nbsp;<span class="ident" id="7340741">test</span>&nbsp;<span class="op" id="7340746">:=</span>&nbsp;<span class="keyword" id="7340749">range</span>&nbsp;<span class="ident" id="7340755">tests</span>&nbsp;<span class="op" id="7340761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340765">hdr</span>&nbsp;<span class="op" id="7340769">:=</span>&nbsp;<span class="ident" id="7340772">Header</span><span class="op" id="7340778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7340783">&#34;Date&#34;</span><span class="op" id="7340789">:</span>&nbsp;<span class="op" id="7340791">[</span><span class="op" id="7340792">]</span><span class="builtintype" id="7340793">string</span><span class="op" id="7340799">{</span><span class="ident" id="7340800">test</span><span class="op" id="7340804">.</span><span class="ident" id="7340805">dateStr</span><span class="op" id="7340812">}</span><span class="op" id="7340813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340821">date</span><span class="op" id="7340825">,</span>&nbsp;<span class="ident" id="7340827">err</span>&nbsp;<span class="op" id="7340831">:=</span>&nbsp;<span class="ident" id="7340834">hdr</span><span class="op" id="7340837">.</span><span class="ident" id="7340838">Date</span><span class="op" id="7340842">(</span><span class="op" id="7340843">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340847">if</span>&nbsp;<span class="ident" id="7340850">err</span>&nbsp;<span class="op" id="7340854">!=</span>&nbsp;<span class="ident" id="7340857">nil</span>&nbsp;<span class="op" id="7340861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340866">t</span><span class="op" id="7340867">.</span><span class="ident" id="7340868">Errorf</span><span class="op" id="7340874">(</span><span class="string" id="7340875">&#34;Failed&nbsp;parsing&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7340898">,</span>&nbsp;<span class="ident" id="7340900">test</span><span class="op" id="7340904">.</span><span class="ident" id="7340905">dateStr</span><span class="op" id="7340912">,</span>&nbsp;<span class="ident" id="7340914">err</span><span class="op" id="7340917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340922">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340937">if</span>&nbsp;<span class="op" id="7340940">!</span><span class="ident" id="7340941">date</span><span class="op" id="7340945">.</span><span class="ident" id="7340946">Equal</span><span class="op" id="7340951">(</span><span class="ident" id="7340952">test</span><span class="op" id="7340956">.</span><span class="ident" id="7340957">exp</span><span class="op" id="7340960">)</span>&nbsp;<span class="op" id="7340962">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340967">t</span><span class="op" id="7340968">.</span><span class="ident" id="7340969">Errorf</span><span class="op" id="7340975">(</span><span class="string" id="7340976">&#34;Parse&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7341008">,</span>&nbsp;<span class="ident" id="7341010">test</span><span class="op" id="7341014">.</span><span class="ident" id="7341015">dateStr</span><span class="op" id="7341022">,</span>&nbsp;<span class="ident" id="7341024">date</span><span class="op" id="7341028">,</span>&nbsp;<span class="ident" id="7341030">test</span><span class="op" id="7341034">.</span><span class="ident" id="7341035">exp</span><span class="op" id="7341038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341045">}</span><br>
<span class="lineno"></span><span class="op" id="7341047">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="7341050">func</span>&nbsp;<span class="ident" id="7341055">TestAddressParsingError</span><span class="op" id="7341078">(</span><span class="ident" id="7341079">t</span>&nbsp;<span class="op" id="7341081">*</span><span class="ident" id="7341082">testing</span><span class="op" id="7341089">.</span><span class="ident" id="7341090">T</span><span class="op" id="7341091">)</span>&nbsp;<span class="op" id="7341093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341096">const</span>&nbsp;<span class="ident" id="7341102">txt</span>&nbsp;<span class="op" id="7341106">=</span>&nbsp;<span class="string" id="7341108">&#34;=?iso-8859-2?Q?Bogl=E1rka_Tak=E1cs?=&nbsp;&lt;unknown@gmail.com&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341168">_</span><span class="op" id="7341169">,</span>&nbsp;<span class="ident" id="7341171">err</span>&nbsp;<span class="op" id="7341175">:=</span>&nbsp;<span class="ident" id="7341178">ParseAddress</span><span class="op" id="7341190">(</span><span class="ident" id="7341191">txt</span><span class="op" id="7341194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341197">if</span>&nbsp;<span class="ident" id="7341200">err</span>&nbsp;<span class="op" id="7341204">==</span>&nbsp;<span class="ident" id="7341207">nil</span>&nbsp;<span class="op" id="7341211">||</span>&nbsp;<span class="op" id="7341214">!</span><span class="ident" id="7341215">strings</span><span class="op" id="7341222">.</span><span class="ident" id="7341223">Contains</span><span class="op" id="7341231">(</span><span class="ident" id="7341232">err</span><span class="op" id="7341235">.</span><span class="ident" id="7341236">Error</span><span class="op" id="7341241">(</span><span class="op" id="7341242">)</span><span class="op" id="7341243">,</span>&nbsp;<span class="string" id="7341245">&#34;charset&nbsp;not&nbsp;supported&#34;</span><span class="op" id="7341268">)</span>&nbsp;<span class="op" id="7341270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341274">t</span><span class="op" id="7341275">.</span><span class="ident" id="7341276">Errorf</span><span class="op" id="7341282">(</span><span class="string" id="7341283">`mail.ParseAddress(%q)&nbsp;err:&nbsp;%q,&nbsp;want&nbsp;&#34;.*charset&nbsp;not&nbsp;supported.*&#34;`</span><span class="op" id="7341348">,</span>&nbsp;<span class="ident" id="7341350">txt</span><span class="op" id="7341353">,</span>&nbsp;<span class="ident" id="7341355">err</span><span class="op" id="7341358">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341361">}</span><br>
<span class="lineno"></span><span class="op" id="7341363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7341366">func</span>&nbsp;<span class="ident" id="7341371">TestAddressParsing</span><span class="op" id="7341389">(</span><span class="ident" id="7341390">t</span>&nbsp;<span class="op" id="7341392">*</span><span class="ident" id="7341393">testing</span><span class="op" id="7341400">.</span><span class="ident" id="7341401">T</span><span class="op" id="7341402">)</span>&nbsp;<span class="op" id="7341404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341407">tests</span>&nbsp;<span class="op" id="7341413">:=</span>&nbsp;<span class="op" id="7341416">[</span><span class="op" id="7341417">]</span><span class="keyword" id="7341418">struct</span>&nbsp;<span class="op" id="7341425">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341429">addrsStr</span>&nbsp;<span class="builtintype" id="7341438">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341447">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7341456">[</span><span class="op" id="7341457">]</span><span class="op" id="7341458">*</span><span class="ident" id="7341459">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341468">}</span><span class="op" id="7341469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7341473">//&nbsp;Bare&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341491">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7341496">`jdoe@machine.example`</span><span class="op" id="7341518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341523">[</span><span class="op" id="7341524">]</span><span class="op" id="7341525">*</span><span class="ident" id="7341526">Address</span><span class="op" id="7341533">{</span><span class="op" id="7341534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341540">Address</span><span class="op" id="7341547">:</span>&nbsp;<span class="string" id="7341549">&#34;jdoe@machine.example&#34;</span><span class="op" id="7341571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341576">}</span><span class="op" id="7341577">}</span><span class="op" id="7341578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341582">}</span><span class="op" id="7341583">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7341587">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7341622">`John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;`</span><span class="op" id="7341655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341660">[</span><span class="op" id="7341661">]</span><span class="op" id="7341662">*</span><span class="ident" id="7341663">Address</span><span class="op" id="7341670">{</span><span class="op" id="7341671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341677">Name</span><span class="op" id="7341681">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7341686">&#34;John&nbsp;Doe&#34;</span><span class="op" id="7341696">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341702">Address</span><span class="op" id="7341709">:</span>&nbsp;<span class="string" id="7341711">&#34;jdoe@machine.example&#34;</span><span class="op" id="7341733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341738">}</span><span class="op" id="7341739">}</span><span class="op" id="7341740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341744">}</span><span class="op" id="7341745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7341749">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341779">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7341784">`&#34;Joe&nbsp;Q.&nbsp;Public&#34;&nbsp;&lt;john.q.public@example.com&gt;`</span><span class="op" id="7341829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341834">[</span><span class="op" id="7341835">]</span><span class="op" id="7341836">*</span><span class="ident" id="7341837">Address</span><span class="op" id="7341844">{</span><span class="op" id="7341845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341851">Name</span><span class="op" id="7341855">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7341860">&#34;Joe&nbsp;Q.&nbsp;Public&#34;</span><span class="op" id="7341875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341881">Address</span><span class="op" id="7341888">:</span>&nbsp;<span class="string" id="7341890">&#34;john.q.public@example.com&#34;</span><span class="op" id="7341917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341922">}</span><span class="op" id="7341923">}</span><span class="op" id="7341924">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341928">}</span><span class="op" id="7341929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7341938">`Mary&nbsp;Smith&nbsp;&lt;mary@x.test&gt;,&nbsp;jdoe@example.org,&nbsp;Who?&nbsp;&lt;one@y.test&gt;`</span><span class="op" id="7342001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342006">[</span><span class="op" id="7342007">]</span><span class="op" id="7342008">*</span><span class="ident" id="7342009">Address</span><span class="op" id="7342016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342022">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342029">Name</span><span class="op" id="7342033">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7342038">&#34;Mary&nbsp;Smith&#34;</span><span class="op" id="7342050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342057">Address</span><span class="op" id="7342064">:</span>&nbsp;<span class="string" id="7342066">&#34;mary@x.test&#34;</span><span class="op" id="7342079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342085">}</span><span class="op" id="7342086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342099">Address</span><span class="op" id="7342106">:</span>&nbsp;<span class="string" id="7342108">&#34;jdoe@example.org&#34;</span><span class="op" id="7342126">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342132">}</span><span class="op" id="7342133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342146">Name</span><span class="op" id="7342150">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7342155">&#34;Who?&#34;</span><span class="op" id="7342161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342168">Address</span><span class="op" id="7342175">:</span>&nbsp;<span class="string" id="7342177">&#34;one@y.test&#34;</span><span class="op" id="7342189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342195">}</span><span class="op" id="7342196">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342201">}</span><span class="op" id="7342202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342206">}</span><span class="op" id="7342207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7342216">`&lt;boss@nil.test&gt;,&nbsp;&#34;Giant;&nbsp;\&#34;Big\&#34;&nbsp;Box&#34;&nbsp;&lt;sysservices@example.net&gt;`</span><span class="op" id="7342281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342286">[</span><span class="op" id="7342287">]</span><span class="op" id="7342288">*</span><span class="ident" id="7342289">Address</span><span class="op" id="7342296">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342309">Address</span><span class="op" id="7342316">:</span>&nbsp;<span class="string" id="7342318">&#34;boss@nil.test&#34;</span><span class="op" id="7342333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342339">}</span><span class="op" id="7342340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342353">Name</span><span class="op" id="7342357">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7342362">`Giant;&nbsp;&#34;Big&#34;&nbsp;Box`</span><span class="op" id="7342380">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342387">Address</span><span class="op" id="7342394">:</span>&nbsp;<span class="string" id="7342396">&#34;sysservices@example.net&#34;</span><span class="op" id="7342421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342427">}</span><span class="op" id="7342428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342433">}</span><span class="op" id="7342434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342438">}</span><span class="op" id="7342439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7342443">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.3</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7342473">//&nbsp;TODO(dsymonds):&nbsp;Group&nbsp;addresses.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7342512">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7342563">`=?iso-8859-1?q?J=F6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7342612">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342617">[</span><span class="op" id="7342618">]</span><span class="op" id="7342619">*</span><span class="ident" id="7342620">Address</span><span class="op" id="7342627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342640">Name</span><span class="op" id="7342644">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7342649">`Jrg&nbsp;Doe`</span><span class="op" id="7342660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342667">Address</span><span class="op" id="7342674">:</span>&nbsp;<span class="string" id="7342676">&#34;joerg@example.com&#34;</span><span class="op" id="7342695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342701">}</span><span class="op" id="7342702">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342707">}</span><span class="op" id="7342708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342712">}</span><span class="op" id="7342713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7342717">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;US-ASCII&nbsp;address.&nbsp;Dumb&nbsp;but&nbsp;legal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7342782">`=?us-ascii?q?J=6Frg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7342829">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342834">[</span><span class="op" id="7342835">]</span><span class="op" id="7342836">*</span><span class="ident" id="7342837">Address</span><span class="op" id="7342844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342857">Name</span><span class="op" id="7342861">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7342866">`Jorg&nbsp;Doe`</span><span class="op" id="7342876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342883">Address</span><span class="op" id="7342890">:</span>&nbsp;<span class="string" id="7342892">&#34;joerg@example.com&#34;</span><span class="op" id="7342911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342917">}</span><span class="op" id="7342918">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342923">}</span><span class="op" id="7342924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342928">}</span><span class="op" id="7342929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7342933">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7342979">`=?utf-8?q?J=C3=B6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7343026">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343031">[</span><span class="op" id="7343032">]</span><span class="op" id="7343033">*</span><span class="ident" id="7343034">Address</span><span class="op" id="7343041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343054">Name</span><span class="op" id="7343058">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7343063">`Jrg&nbsp;Doe`</span><span class="op" id="7343074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343081">Address</span><span class="op" id="7343088">:</span>&nbsp;<span class="string" id="7343090">&#34;joerg@example.com&#34;</span><span class="op" id="7343109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343115">}</span><span class="op" id="7343116">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343121">}</span><span class="op" id="7343122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343126">}</span><span class="op" id="7343127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7343131">//&nbsp;RFC&nbsp;2047,&nbsp;Section&nbsp;8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7343162">`=?ISO-8859-1?Q?Andr=E9?=&nbsp;Pirard&nbsp;&lt;PIRARD@vm1.ulg.ac.be&gt;`</span><span class="op" id="7343218">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343223">[</span><span class="op" id="7343224">]</span><span class="op" id="7343225">*</span><span class="ident" id="7343226">Address</span><span class="op" id="7343233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343246">Name</span><span class="op" id="7343250">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7343255">`Andr&nbsp;Pirard`</span><span class="op" id="7343270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343277">Address</span><span class="op" id="7343284">:</span>&nbsp;<span class="string" id="7343286">&#34;PIRARD@vm1.ulg.ac.be&#34;</span><span class="op" id="7343308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343314">}</span><span class="op" id="7343315">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343320">}</span><span class="op" id="7343321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343325">}</span><span class="op" id="7343326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7343330">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7343399">`=?ISO-8859-1?B?SvZyZw==?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7343446">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343451">[</span><span class="op" id="7343452">]</span><span class="op" id="7343453">*</span><span class="ident" id="7343454">Address</span><span class="op" id="7343461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343474">Name</span><span class="op" id="7343478">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7343483">`Jrg`</span><span class="op" id="7343490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343497">Address</span><span class="op" id="7343504">:</span>&nbsp;<span class="string" id="7343506">&#34;joerg@example.com&#34;</span><span class="op" id="7343525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343531">}</span><span class="op" id="7343532">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343537">}</span><span class="op" id="7343538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343542">}</span><span class="op" id="7343543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7343547">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7343611">`=?UTF-8?B?SsO2cmc=?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7343653">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343658">[</span><span class="op" id="7343659">]</span><span class="op" id="7343660">*</span><span class="ident" id="7343661">Address</span><span class="op" id="7343668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343681">Name</span><span class="op" id="7343685">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7343690">`Jrg`</span><span class="op" id="7343697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343704">Address</span><span class="op" id="7343711">:</span>&nbsp;<span class="string" id="7343713">&#34;joerg@example.com&#34;</span><span class="op" id="7343732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343738">}</span><span class="op" id="7343739">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343744">}</span><span class="op" id="7343745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343749">}</span><span class="op" id="7343750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7343754">//&nbsp;Custom&nbsp;example&nbsp;with&nbsp;&#34;.&#34;&nbsp;in&nbsp;name.&nbsp;For&nbsp;issue&nbsp;4938</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7343812">`Asem&nbsp;H.&nbsp;&lt;noreply@example.com&gt;`</span><span class="op" id="7343843">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343848">[</span><span class="op" id="7343849">]</span><span class="op" id="7343850">*</span><span class="ident" id="7343851">Address</span><span class="op" id="7343858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343871">Name</span><span class="op" id="7343875">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7343880">`Asem&nbsp;H.`</span><span class="op" id="7343889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343896">Address</span><span class="op" id="7343903">:</span>&nbsp;<span class="string" id="7343905">&#34;noreply@example.com&#34;</span><span class="op" id="7343926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343932">}</span><span class="op" id="7343933">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343938">}</span><span class="op" id="7343939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343943">}</span><span class="op" id="7343944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7343950">for</span>&nbsp;<span class="ident" id="7343954">_</span><span class="op" id="7343955">,</span>&nbsp;<span class="ident" id="7343957">test</span>&nbsp;<span class="op" id="7343962">:=</span>&nbsp;<span class="keyword" id="7343965">range</span>&nbsp;<span class="ident" id="7343971">tests</span>&nbsp;<span class="op" id="7343977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7343981">if</span>&nbsp;<span class="builtinfunc" id="7343984">len</span><span class="op" id="7343987">(</span><span class="ident" id="7343988">test</span><span class="op" id="7343992">.</span><span class="ident" id="7343993">exp</span><span class="op" id="7343996">)</span>&nbsp;<span class="op" id="7343998">==</span>&nbsp;<span class="num" id="7344001">1</span>&nbsp;<span class="op" id="7344003">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344008">addr</span><span class="op" id="7344012">,</span>&nbsp;<span class="ident" id="7344014">err</span>&nbsp;<span class="op" id="7344018">:=</span>&nbsp;<span class="ident" id="7344021">ParseAddress</span><span class="op" id="7344033">(</span><span class="ident" id="7344034">test</span><span class="op" id="7344038">.</span><span class="ident" id="7344039">addrsStr</span><span class="op" id="7344047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7344052">if</span>&nbsp;<span class="ident" id="7344055">err</span>&nbsp;<span class="op" id="7344059">!=</span>&nbsp;<span class="ident" id="7344062">nil</span>&nbsp;<span class="op" id="7344066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344072">t</span><span class="op" id="7344073">.</span><span class="ident" id="7344074">Errorf</span><span class="op" id="7344080">(</span><span class="string" id="7344081">&#34;Failed&nbsp;parsing&nbsp;(single)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7344113">,</span>&nbsp;<span class="ident" id="7344115">test</span><span class="op" id="7344119">.</span><span class="ident" id="7344120">addrsStr</span><span class="op" id="7344128">,</span>&nbsp;<span class="ident" id="7344130">err</span><span class="op" id="7344133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7344139">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344151">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7344156">if</span>&nbsp;<span class="op" id="7344159">!</span><span class="ident" id="7344160">reflect</span><span class="op" id="7344167">.</span><span class="ident" id="7344168">DeepEqual</span><span class="op" id="7344177">(</span><span class="op" id="7344178">[</span><span class="op" id="7344179">]</span><span class="op" id="7344180">*</span><span class="ident" id="7344181">Address</span><span class="op" id="7344188">{</span><span class="ident" id="7344189">addr</span><span class="op" id="7344193">}</span><span class="op" id="7344194">,</span>&nbsp;<span class="ident" id="7344196">test</span><span class="op" id="7344200">.</span><span class="ident" id="7344201">exp</span><span class="op" id="7344204">)</span>&nbsp;<span class="op" id="7344206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344212">t</span><span class="op" id="7344213">.</span><span class="ident" id="7344214">Errorf</span><span class="op" id="7344220">(</span><span class="string" id="7344221">&#34;Parse&nbsp;(single)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7344262">,</span>&nbsp;<span class="ident" id="7344264">test</span><span class="op" id="7344268">.</span><span class="ident" id="7344269">addrsStr</span><span class="op" id="7344277">,</span>&nbsp;<span class="ident" id="7344279">addr</span><span class="op" id="7344283">,</span>&nbsp;<span class="ident" id="7344285">test</span><span class="op" id="7344289">.</span><span class="ident" id="7344290">exp</span><span class="op" id="7344293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344307">addrs</span><span class="op" id="7344312">,</span>&nbsp;<span class="ident" id="7344314">err</span>&nbsp;<span class="op" id="7344318">:=</span>&nbsp;<span class="ident" id="7344321">ParseAddressList</span><span class="op" id="7344337">(</span><span class="ident" id="7344338">test</span><span class="op" id="7344342">.</span><span class="ident" id="7344343">addrsStr</span><span class="op" id="7344351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7344355">if</span>&nbsp;<span class="ident" id="7344358">err</span>&nbsp;<span class="op" id="7344362">!=</span>&nbsp;<span class="ident" id="7344365">nil</span>&nbsp;<span class="op" id="7344369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344374">t</span><span class="op" id="7344375">.</span><span class="ident" id="7344376">Errorf</span><span class="op" id="7344382">(</span><span class="string" id="7344383">&#34;Failed&nbsp;parsing&nbsp;(list)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7344413">,</span>&nbsp;<span class="ident" id="7344415">test</span><span class="op" id="7344419">.</span><span class="ident" id="7344420">addrsStr</span><span class="op" id="7344428">,</span>&nbsp;<span class="ident" id="7344430">err</span><span class="op" id="7344433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7344438">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344449">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7344453">if</span>&nbsp;<span class="op" id="7344456">!</span><span class="ident" id="7344457">reflect</span><span class="op" id="7344464">.</span><span class="ident" id="7344465">DeepEqual</span><span class="op" id="7344474">(</span><span class="ident" id="7344475">addrs</span><span class="op" id="7344480">,</span>&nbsp;<span class="ident" id="7344482">test</span><span class="op" id="7344486">.</span><span class="ident" id="7344487">exp</span><span class="op" id="7344490">)</span>&nbsp;<span class="op" id="7344492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344497">t</span><span class="op" id="7344498">.</span><span class="ident" id="7344499">Errorf</span><span class="op" id="7344505">(</span><span class="string" id="7344506">&#34;Parse&nbsp;(list)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7344545">,</span>&nbsp;<span class="ident" id="7344547">test</span><span class="op" id="7344551">.</span><span class="ident" id="7344552">addrsStr</span><span class="op" id="7344560">,</span>&nbsp;<span class="ident" id="7344562">addrs</span><span class="op" id="7344567">,</span>&nbsp;<span class="ident" id="7344569">test</span><span class="op" id="7344573">.</span><span class="ident" id="7344574">exp</span><span class="op" id="7344577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344584">}</span><br>
<span class="lineno"></span><span class="op" id="7344586">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7344589">func</span>&nbsp;<span class="ident" id="7344594">TestAddressFormatting</span><span class="op" id="7344615">(</span><span class="ident" id="7344616">t</span>&nbsp;<span class="op" id="7344618">*</span><span class="ident" id="7344619">testing</span><span class="op" id="7344626">.</span><span class="ident" id="7344627">T</span><span class="op" id="7344628">)</span>&nbsp;<span class="op" id="7344630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344633">tests</span>&nbsp;<span class="op" id="7344639">:=</span>&nbsp;<span class="op" id="7344642">[</span><span class="op" id="7344643">]</span><span class="keyword" id="7344644">struct</span>&nbsp;<span class="op" id="7344651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344655">addr</span>&nbsp;<span class="op" id="7344660">*</span><span class="ident" id="7344661">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344671">exp</span>&nbsp;&nbsp;<span class="builtintype" id="7344676">string</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344684">}</span><span class="op" id="7344685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344694">&amp;</span><span class="ident" id="7344695">Address</span><span class="op" id="7344702">{</span><span class="ident" id="7344703">Address</span><span class="op" id="7344710">:</span>&nbsp;<span class="string" id="7344712">&#34;bob@example.com&#34;</span><span class="op" id="7344729">}</span><span class="op" id="7344730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7344735">&#34;&lt;bob@example.com&gt;&#34;</span><span class="op" id="7344754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344758">}</span><span class="op" id="7344759">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344768">&amp;</span><span class="ident" id="7344769">Address</span><span class="op" id="7344776">{</span><span class="ident" id="7344777">Name</span><span class="op" id="7344781">:</span>&nbsp;<span class="string" id="7344783">&#34;Bob&#34;</span><span class="op" id="7344788">,</span>&nbsp;<span class="ident" id="7344790">Address</span><span class="op" id="7344797">:</span>&nbsp;<span class="string" id="7344799">&#34;bob@example.com&#34;</span><span class="op" id="7344816">}</span><span class="op" id="7344817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7344822">`&#34;Bob&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7344847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344851">}</span><span class="op" id="7344852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344856">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7344861">//&nbsp;note&nbsp;the&nbsp;&nbsp;(o&nbsp;with&nbsp;an&nbsp;umlaut)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344898">&amp;</span><span class="ident" id="7344899">Address</span><span class="op" id="7344906">{</span><span class="ident" id="7344907">Name</span><span class="op" id="7344911">:</span>&nbsp;<span class="string" id="7344913">&#34;Bb&#34;</span><span class="op" id="7344919">,</span>&nbsp;<span class="ident" id="7344921">Address</span><span class="op" id="7344928">:</span>&nbsp;<span class="string" id="7344930">&#34;bob@example.com&#34;</span><span class="op" id="7344947">}</span><span class="op" id="7344948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7344953">`=?utf-8?q?B=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7344993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344997">}</span><span class="op" id="7344998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7345002">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7345007">&amp;</span><span class="ident" id="7345008">Address</span><span class="op" id="7345015">{</span><span class="ident" id="7345016">Name</span><span class="op" id="7345020">:</span>&nbsp;<span class="string" id="7345022">&#34;Bob&nbsp;Jane&#34;</span><span class="op" id="7345032">,</span>&nbsp;<span class="ident" id="7345034">Address</span><span class="op" id="7345041">:</span>&nbsp;<span class="string" id="7345043">&#34;bob@example.com&#34;</span><span class="op" id="7345060">}</span><span class="op" id="7345061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7345066">`&#34;Bob&nbsp;Jane&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7345096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7345100">}</span><span class="op" id="7345101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7345105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7345110">&amp;</span><span class="ident" id="7345111">Address</span><span class="op" id="7345118">{</span><span class="ident" id="7345119">Name</span><span class="op" id="7345123">:</span>&nbsp;<span class="string" id="7345125">&#34;Bb&nbsp;Jacb&#34;</span><span class="op" id="7345138">,</span>&nbsp;<span class="ident" id="7345140">Address</span><span class="op" id="7345147">:</span>&nbsp;<span class="string" id="7345149">&#34;bob@example.com&#34;</span><span class="op" id="7345166">}</span><span class="op" id="7345167">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7345172">`=?utf-8?q?B=C3=B6b_Jac=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7345223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7345227">}</span><span class="op" id="7345228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7345231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7345234">for</span>&nbsp;<span class="ident" id="7345238">_</span><span class="op" id="7345239">,</span>&nbsp;<span class="ident" id="7345241">test</span>&nbsp;<span class="op" id="7345246">:=</span>&nbsp;<span class="keyword" id="7345249">range</span>&nbsp;<span class="ident" id="7345255">tests</span>&nbsp;<span class="op" id="7345261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7345265">s</span>&nbsp;<span class="op" id="7345267">:=</span>&nbsp;<span class="ident" id="7345270">test</span><span class="op" id="7345274">.</span><span class="ident" id="7345275">addr</span><span class="op" id="7345279">.</span><span class="ident" id="7345280">String</span><span class="op" id="7345286">(</span><span class="op" id="7345287">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7345291">if</span>&nbsp;<span class="ident" id="7345294">s</span>&nbsp;<span class="op" id="7345296">!=</span>&nbsp;<span class="ident" id="7345299">test</span><span class="op" id="7345303">.</span><span class="ident" id="7345304">exp</span>&nbsp;<span class="op" id="7345308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7345313">t</span><span class="op" id="7345314">.</span><span class="ident" id="7345315">Errorf</span><span class="op" id="7345321">(</span><span class="string" id="7345322">&#34;Address%+v.String()&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7345357">,</span>&nbsp;<span class="op" id="7345359">*</span><span class="ident" id="7345360">test</span><span class="op" id="7345364">.</span><span class="ident" id="7345365">addr</span><span class="op" id="7345369">,</span>&nbsp;<span class="ident" id="7345371">s</span><span class="op" id="7345372">,</span>&nbsp;<span class="ident" id="7345374">test</span><span class="op" id="7345378">.</span><span class="ident" id="7345379">exp</span><span class="op" id="7345382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7345386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7345389">}</span><br>
<span class="lineno"></span><span class="op" id="7345391">}</span>
</div>
</body>
</html>
