<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="4872618">package</span>&nbsp;<span class="ident" id="4872626">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4872633">import</span>&nbsp;<span class="op" id="4872640">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4872643">&#34;io&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4872648">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4872651">//&nbsp;Machine&nbsp;is&nbsp;a&nbsp;multicore&nbsp;shared&nbsp;memory&nbsp;simulated&nbsp;arch8&nbsp;machine.</span><br>
<span class="lineno"></span><span class="keyword" id="4872716">type</span>&nbsp;<span class="ident" id="4872721">Machine</span>&nbsp;<span class="keyword" id="4872729">struct</span>&nbsp;<span class="op" id="4872736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4872739">phyMem</span>&nbsp;&nbsp;<span class="op" id="4872747">*</span><span class="ident" id="4872748">phyMemory</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4872759">inst</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4872767">inst</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4872773">cores</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4872781">*</span><span class="ident" id="4872782">multiCore</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4872793">serial</span>&nbsp;&nbsp;<span class="op" id="4872801">*</span><span class="ident" id="4872802">serial</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4872810">console</span>&nbsp;<span class="op" id="4872818">*</span><span class="ident" id="4872819">console</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4872829">devices</span>&nbsp;<span class="op" id="4872837">[</span><span class="op" id="4872838">]</span><span class="ident" id="4872839">device</span><br>
<span class="lineno"></span><span class="op" id="4872846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4872849">//&nbsp;NewMachine&nbsp;creates&nbsp;a&nbsp;machine&nbsp;with&nbsp;memory&nbsp;and&nbsp;cores.</span><br>
<span class="lineno"></span><span class="keyword" id="4872904">func</span>&nbsp;<span class="ident" id="4872909">NewMachine</span><span class="op" id="4872919">(</span><span class="ident" id="4872920">memSize</span>&nbsp;<span class="builtintype" id="4872928">uint32</span><span class="op" id="4872934">,</span>&nbsp;<span class="ident" id="4872936">ncore</span>&nbsp;<span class="builtintype" id="4872942">int</span><span class="op" id="4872945">)</span>&nbsp;<span class="op" id="4872947">*</span><span class="ident" id="4872948">Machine</span>&nbsp;<span class="op" id="4872956">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4872959">ret</span>&nbsp;<span class="op" id="4872963">:=</span>&nbsp;<span class="builtinfunc" id="4872966">new</span><span class="op" id="4872969">(</span><span class="ident" id="4872970">Machine</span><span class="op" id="4872977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4872980">ret</span><span class="op" id="4872983">.</span><span class="ident" id="4872984">phyMem</span>&nbsp;<span class="op" id="4872991">=</span>&nbsp;<span class="ident" id="4872993">newPhyMemory</span><span class="op" id="4873005">(</span><span class="ident" id="4873006">memSize</span><span class="op" id="4873013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873016">ret</span><span class="op" id="4873019">.</span><span class="ident" id="4873020">inst</span>&nbsp;<span class="op" id="4873025">=</span>&nbsp;<span class="builtinfunc" id="4873027">new</span><span class="op" id="4873030">(</span><span class="ident" id="4873031">instArch8</span><span class="op" id="4873040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873043">ret</span><span class="op" id="4873046">.</span><span class="ident" id="4873047">cores</span>&nbsp;<span class="op" id="4873053">=</span>&nbsp;<span class="ident" id="4873055">newMultiCore</span><span class="op" id="4873067">(</span><span class="ident" id="4873068">ncore</span><span class="op" id="4873073">,</span>&nbsp;<span class="ident" id="4873075">ret</span><span class="op" id="4873078">.</span><span class="ident" id="4873079">phyMem</span><span class="op" id="4873085">,</span>&nbsp;<span class="ident" id="4873087">ret</span><span class="op" id="4873090">.</span><span class="ident" id="4873091">inst</span><span class="op" id="4873095">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4873099">//&nbsp;hook-up&nbsp;devices</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873119">p</span>&nbsp;<span class="op" id="4873121">:=</span>&nbsp;<span class="ident" id="4873124">ret</span><span class="op" id="4873127">.</span><span class="ident" id="4873128">phyMem</span><span class="op" id="4873134">.</span><span class="ident" id="4873135">Page</span><span class="op" id="4873139">(</span><span class="ident" id="4873140">pageBasicIO</span><span class="op" id="4873151">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873155">ret</span><span class="op" id="4873158">.</span><span class="ident" id="4873159">serial</span>&nbsp;<span class="op" id="4873166">=</span>&nbsp;<span class="ident" id="4873168">newSerial</span><span class="op" id="4873177">(</span><span class="ident" id="4873178">p</span><span class="op" id="4873179">,</span>&nbsp;<span class="ident" id="4873181">ret</span><span class="op" id="4873184">.</span><span class="ident" id="4873185">cores</span><span class="op" id="4873190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873193">ret</span><span class="op" id="4873196">.</span><span class="ident" id="4873197">console</span>&nbsp;<span class="op" id="4873205">=</span>&nbsp;<span class="ident" id="4873207">newConsole</span><span class="op" id="4873217">(</span><span class="ident" id="4873218">p</span><span class="op" id="4873219">,</span>&nbsp;<span class="ident" id="4873221">ret</span><span class="op" id="4873224">.</span><span class="ident" id="4873225">cores</span><span class="op" id="4873230">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873234">ret</span><span class="op" id="4873237">.</span><span class="ident" id="4873238">addDevice</span><span class="op" id="4873247">(</span><span class="ident" id="4873248">newTicker</span><span class="op" id="4873257">(</span><span class="ident" id="4873258">ret</span><span class="op" id="4873261">.</span><span class="ident" id="4873262">cores</span><span class="op" id="4873267">)</span><span class="op" id="4873268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873271">ret</span><span class="op" id="4873274">.</span><span class="ident" id="4873275">addDevice</span><span class="op" id="4873284">(</span><span class="ident" id="4873285">ret</span><span class="op" id="4873288">.</span><span class="ident" id="4873289">serial</span><span class="op" id="4873295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873298">ret</span><span class="op" id="4873301">.</span><span class="ident" id="4873302">addDevice</span><span class="op" id="4873311">(</span><span class="ident" id="4873312">ret</span><span class="op" id="4873315">.</span><span class="ident" id="4873316">console</span><span class="op" id="4873323">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4873327">return</span>&nbsp;<span class="ident" id="4873334">ret</span><br>
<span class="lineno"></span><span class="op" id="4873338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4873341">//&nbsp;SetOutput&nbsp;sets&nbsp;the&nbsp;output&nbsp;writer&nbsp;of&nbsp;the&nbsp;machine&#39;s&nbsp;serial</span><br>
<span class="lineno"></span><span class="comment" id="4873401">//&nbsp;console.</span><br>
<span class="lineno">40</span><span class="keyword" id="4873413">func</span>&nbsp;<span class="op" id="4873418">(</span><span class="ident" id="4873419">m</span>&nbsp;<span class="op" id="4873421">*</span><span class="ident" id="4873422">Machine</span><span class="op" id="4873429">)</span>&nbsp;<span class="ident" id="4873431">SetOutput</span><span class="op" id="4873440">(</span><span class="ident" id="4873441">w</span>&nbsp;<span class="ident" id="4873443">io</span><span class="op" id="4873445">.</span><span class="ident" id="4873446">Writer</span><span class="op" id="4873452">)</span>&nbsp;<span class="op" id="4873454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873457">m</span><span class="op" id="4873458">.</span><span class="ident" id="4873459">serial</span><span class="op" id="4873465">.</span><span class="ident" id="4873466">Output</span>&nbsp;<span class="op" id="4873473">=</span>&nbsp;<span class="ident" id="4873475">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873478">m</span><span class="op" id="4873479">.</span><span class="ident" id="4873480">console</span><span class="op" id="4873487">.</span><span class="ident" id="4873488">Output</span>&nbsp;<span class="op" id="4873495">=</span>&nbsp;<span class="ident" id="4873497">w</span><br>
<span class="lineno"></span><span class="op" id="4873499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="4873502">//&nbsp;AddDevice&nbsp;adds&nbsp;a&nbsp;devices&nbsp;to&nbsp;the&nbsp;machine.</span><br>
<span class="lineno"></span><span class="keyword" id="4873546">func</span>&nbsp;<span class="op" id="4873551">(</span><span class="ident" id="4873552">m</span>&nbsp;<span class="op" id="4873554">*</span><span class="ident" id="4873555">Machine</span><span class="op" id="4873562">)</span>&nbsp;<span class="ident" id="4873564">addDevice</span><span class="op" id="4873573">(</span><span class="ident" id="4873574">d</span>&nbsp;<span class="ident" id="4873576">device</span><span class="op" id="4873582">)</span>&nbsp;<span class="op" id="4873584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873587">m</span><span class="op" id="4873588">.</span><span class="ident" id="4873589">devices</span>&nbsp;<span class="op" id="4873597">=</span>&nbsp;<span class="builtinfunc" id="4873599">append</span><span class="op" id="4873605">(</span><span class="ident" id="4873606">m</span><span class="op" id="4873607">.</span><span class="ident" id="4873608">devices</span><span class="op" id="4873615">,</span>&nbsp;<span class="ident" id="4873617">d</span><span class="op" id="4873618">)</span><br>
<span class="lineno"></span><span class="op" id="4873620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="4873623">//&nbsp;Tick&nbsp;proceeds&nbsp;the&nbsp;simulation&nbsp;by&nbsp;one&nbsp;tick.</span><br>
<span class="lineno"></span><span class="keyword" id="4873668">func</span>&nbsp;<span class="op" id="4873673">(</span><span class="ident" id="4873674">m</span>&nbsp;<span class="op" id="4873676">*</span><span class="ident" id="4873677">Machine</span><span class="op" id="4873684">)</span>&nbsp;<span class="ident" id="4873686">Tick</span><span class="op" id="4873690">(</span><span class="op" id="4873691">)</span>&nbsp;<span class="op" id="4873693">*</span><span class="ident" id="4873694">CoreExcep</span>&nbsp;<span class="op" id="4873704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4873707">for</span>&nbsp;<span class="ident" id="4873711">_</span><span class="op" id="4873712">,</span>&nbsp;<span class="ident" id="4873714">d</span>&nbsp;<span class="op" id="4873716">:=</span>&nbsp;<span class="keyword" id="4873719">range</span>&nbsp;<span class="ident" id="4873725">m</span><span class="op" id="4873726">.</span><span class="ident" id="4873727">devices</span>&nbsp;<span class="op" id="4873735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873739">d</span><span class="op" id="4873740">.</span><span class="ident" id="4873741">Tick</span><span class="op" id="4873745">(</span><span class="op" id="4873746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4873749">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4873753">return</span>&nbsp;<span class="ident" id="4873760">m</span><span class="op" id="4873761">.</span><span class="ident" id="4873762">cores</span><span class="op" id="4873767">.</span><span class="ident" id="4873768">Tick</span><span class="op" id="4873772">(</span><span class="op" id="4873773">)</span><br>
<span class="lineno"></span><span class="op" id="4873775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4873778">//&nbsp;Run&nbsp;simulates&nbsp;nticks.&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;ticks</span><br>
<span class="lineno">60</span><span class="comment" id="4873834">//&nbsp;simulated&nbsp;without&nbsp;error,&nbsp;and&nbsp;the&nbsp;first&nbsp;met&nbsp;error&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="keyword" id="4873894">func</span>&nbsp;<span class="op" id="4873899">(</span><span class="ident" id="4873900">m</span>&nbsp;<span class="op" id="4873902">*</span><span class="ident" id="4873903">Machine</span><span class="op" id="4873910">)</span>&nbsp;<span class="ident" id="4873912">Run</span><span class="op" id="4873915">(</span><span class="ident" id="4873916">nticks</span>&nbsp;<span class="builtintype" id="4873923">int</span><span class="op" id="4873926">)</span>&nbsp;<span class="op" id="4873928">(</span><span class="builtintype" id="4873929">int</span><span class="op" id="4873932">,</span>&nbsp;<span class="op" id="4873934">*</span><span class="ident" id="4873935">CoreExcep</span><span class="op" id="4873944">)</span>&nbsp;<span class="op" id="4873946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4873949">n</span>&nbsp;<span class="op" id="4873951">:=</span>&nbsp;<span class="num" id="4873954">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4873957">for</span>&nbsp;<span class="ident" id="4873961">i</span>&nbsp;<span class="op" id="4873963">:=</span>&nbsp;<span class="num" id="4873966">0</span><span class="op" id="4873967">;</span>&nbsp;<span class="ident" id="4873969">nticks</span>&nbsp;<span class="op" id="4873976">==</span>&nbsp;<span class="num" id="4873979">0</span>&nbsp;<span class="op" id="4873981">||</span>&nbsp;<span class="ident" id="4873984">i</span>&nbsp;<span class="op" id="4873986">&lt;</span>&nbsp;<span class="ident" id="4873988">nticks</span><span class="op" id="4873994">;</span>&nbsp;<span class="ident" id="4873996">i</span><span class="op" id="4873997">++</span>&nbsp;<span class="op" id="4874000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4874004">e</span>&nbsp;<span class="op" id="4874006">:=</span>&nbsp;<span class="ident" id="4874009">m</span><span class="op" id="4874010">.</span><span class="ident" id="4874011">Tick</span><span class="op" id="4874015">(</span><span class="op" id="4874016">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4874020">n</span><span class="op" id="4874021">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4874026">if</span>&nbsp;<span class="ident" id="4874029">e</span>&nbsp;<span class="op" id="4874031">!=</span>&nbsp;<span class="ident" id="4874034">nil</span>&nbsp;<span class="op" id="4874038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4874043">return</span>&nbsp;<span class="ident" id="4874050">n</span><span class="op" id="4874051">,</span>&nbsp;<span class="ident" id="4874053">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4874057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4874060">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4874064">return</span>&nbsp;<span class="ident" id="4874071">n</span><span class="op" id="4874072">,</span>&nbsp;<span class="ident" id="4874074">nil</span><br>
<span class="lineno"></span><span class="op" id="4874078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4874081">//&nbsp;LoadImage&nbsp;loads&nbsp;an&nbsp;booting&nbsp;image&nbsp;from&nbsp;a&nbsp;reader&nbsp;and&nbsp;put&nbsp;it</span><br>
<span class="lineno">75</span><span class="comment" id="4874142">//&nbsp;at&nbsp;a&nbsp;particular&nbsp;offset&nbsp;in&nbsp;the&nbsp;physical&nbsp;memory.</span><br>
<span class="lineno"></span><span class="keyword" id="4874192">func</span>&nbsp;<span class="op" id="4874197">(</span><span class="ident" id="4874198">m</span>&nbsp;<span class="op" id="4874200">*</span><span class="ident" id="4874201">Machine</span><span class="op" id="4874208">)</span>&nbsp;<span class="ident" id="4874210">LoadImage</span><span class="op" id="4874219">(</span><span class="ident" id="4874220">r</span>&nbsp;<span class="ident" id="4874222">io</span><span class="op" id="4874224">.</span><span class="ident" id="4874225">Reader</span><span class="op" id="4874231">,</span>&nbsp;<span class="ident" id="4874233">offset</span>&nbsp;<span class="builtintype" id="4874240">uint32</span><span class="op" id="4874246">)</span>&nbsp;<span class="builtintype" id="4874248">error</span>&nbsp;<span class="op" id="4874254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4874257">if</span>&nbsp;<span class="ident" id="4874260">offset</span><span class="op" id="4874266">%</span><span class="ident" id="4874267">PageSize</span>&nbsp;<span class="op" id="4874276">!=</span>&nbsp;<span class="num" id="4874279">0</span>&nbsp;<span class="op" id="4874281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4874285">panic</span><span class="op" id="4874290">(</span><span class="string" id="4874291">&#34;boot&nbsp;image&nbsp;not&nbsp;page&nbsp;aligned&#34;</span><span class="op" id="4874320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4874323">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4874327">pn</span>&nbsp;<span class="op" id="4874330">:=</span>&nbsp;<span class="ident" id="4874333">offset</span>&nbsp;<span class="op" id="4874340">/</span>&nbsp;<span class="ident" id="4874342">PageSize</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4874353">for</span>&nbsp;<span class="op" id="4874357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4874361">p</span>&nbsp;<span class="op" id="4874363">:=</span>&nbsp;<span class="ident" id="4874366">m</span><span class="op" id="4874367">.</span><span class="ident" id="4874368">phyMem</span><span class="op" id="4874374">.</span><span class="ident" id="4874375">Page</span><span class="op" id="4874379">(</span><span class="ident" id="4874380">pn</span><span class="op" id="4874382">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4874386">if</span>&nbsp;<span class="ident" id="4874389">p</span>&nbsp;<span class="op" id="4874391">==</span>&nbsp;<span class="ident" id="4874394">nil</span>&nbsp;<span class="op" id="4874398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4874403">return</span>&nbsp;<span class="ident" id="4874410">errOutOfRange</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4874426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4874430">_</span><span class="op" id="4874431">,</span>&nbsp;<span class="ident" id="4874433">e</span>&nbsp;<span class="op" id="4874435">:=</span>&nbsp;<span class="ident" id="4874438">r</span><span class="op" id="4874439">.</span><span class="ident" id="4874440">Read</span><span class="op" id="4874444">(</span><span class="ident" id="4874445">p</span><span class="op" id="4874446">.</span><span class="ident" id="4874447">Bytes</span><span class="op" id="4874452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4874456">if</span>&nbsp;<span class="ident" id="4874459">e</span>&nbsp;<span class="op" id="4874461">==</span>&nbsp;<span class="ident" id="4874464">io</span><span class="op" id="4874466">.</span><span class="ident" id="4874467">EOF</span>&nbsp;<span class="op" id="4874471">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4874476">return</span>&nbsp;<span class="ident" id="4874483">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4874489">}</span>&nbsp;<span class="keyword" id="4874491">else</span>&nbsp;<span class="keyword" id="4874496">if</span>&nbsp;<span class="ident" id="4874499">e</span>&nbsp;<span class="op" id="4874501">!=</span>&nbsp;<span class="ident" id="4874504">nil</span>&nbsp;<span class="op" id="4874508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4874513">return</span>&nbsp;<span class="ident" id="4874520">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4874524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4874529">pn</span><span class="op" id="4874531">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4874535">}</span><br>
<span class="lineno"></span><span class="op" id="4874537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4874540">//&nbsp;PrintCoreStatus&nbsp;prints&nbsp;the&nbsp;cpu&nbsp;statuses.</span><br>
<span class="lineno">100</span><span class="keyword" id="4874584">func</span>&nbsp;<span class="op" id="4874589">(</span><span class="ident" id="4874590">m</span>&nbsp;<span class="op" id="4874592">*</span><span class="ident" id="4874593">Machine</span><span class="op" id="4874600">)</span>&nbsp;<span class="ident" id="4874602">PrintCoreStatus</span><span class="op" id="4874617">(</span><span class="op" id="4874618">)</span>&nbsp;<span class="op" id="4874620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4874623">m</span><span class="op" id="4874624">.</span><span class="ident" id="4874625">cores</span><span class="op" id="4874630">.</span><span class="ident" id="4874631">PrintStatus</span><span class="op" id="4874642">(</span><span class="op" id="4874643">)</span><br>
<span class="lineno"></span><span class="op" id="4874645">}</span>
</div>
</body>
</html>
