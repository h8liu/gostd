<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/fnv</h2>
<ul>
<li><a href="/gostd/hash/fnv/fnv.go.html">fnv.go</a></li>
<li><a href="/gostd/hash/fnv/fnv_test.go.html">fnv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7413431">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7413486">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7413540">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7413591">package</span>&nbsp;<span class="ident" id="7413599">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7413604">import</span>&nbsp;<span class="op" id="7413611">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7413614">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7413623">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7413642">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7413650">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7413660">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7413663">type</span>&nbsp;<span class="ident" id="7413668">golden</span>&nbsp;<span class="keyword" id="7413675">struct</span>&nbsp;<span class="op" id="7413682">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413685">sum</span>&nbsp;&nbsp;<span class="op" id="7413690">[</span><span class="op" id="7413691">]</span><span class="builtintype" id="7413692">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413698">text</span>&nbsp;<span class="builtintype" id="7413703">string</span><br>
<span class="lineno"></span><span class="op" id="7413710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7413713">var</span>&nbsp;<span class="ident" id="7413717">golden32</span>&nbsp;<span class="op" id="7413726">=</span>&nbsp;<span class="op" id="7413728">[</span><span class="op" id="7413729">]</span><span class="ident" id="7413730">golden</span><span class="op" id="7413736">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413739">{</span><span class="op" id="7413740">[</span><span class="op" id="7413741">]</span><span class="builtintype" id="7413742">byte</span><span class="op" id="7413746">{</span><span class="num" id="7413747">0x81</span><span class="op" id="7413751">,</span>&nbsp;<span class="num" id="7413753">0x1c</span><span class="op" id="7413757">,</span>&nbsp;<span class="num" id="7413759">0x9d</span><span class="op" id="7413763">,</span>&nbsp;<span class="num" id="7413765">0xc5</span><span class="op" id="7413769">}</span><span class="op" id="7413770">,</span>&nbsp;<span class="string" id="7413772">&#34;&#34;</span><span class="op" id="7413774">}</span><span class="op" id="7413775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413778">{</span><span class="op" id="7413779">[</span><span class="op" id="7413780">]</span><span class="builtintype" id="7413781">byte</span><span class="op" id="7413785">{</span><span class="num" id="7413786">0x05</span><span class="op" id="7413790">,</span>&nbsp;<span class="num" id="7413792">0x0c</span><span class="op" id="7413796">,</span>&nbsp;<span class="num" id="7413798">0x5d</span><span class="op" id="7413802">,</span>&nbsp;<span class="num" id="7413804">0x7e</span><span class="op" id="7413808">}</span><span class="op" id="7413809">,</span>&nbsp;<span class="string" id="7413811">&#34;a&#34;</span><span class="op" id="7413814">}</span><span class="op" id="7413815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413818">{</span><span class="op" id="7413819">[</span><span class="op" id="7413820">]</span><span class="builtintype" id="7413821">byte</span><span class="op" id="7413825">{</span><span class="num" id="7413826">0x70</span><span class="op" id="7413830">,</span>&nbsp;<span class="num" id="7413832">0x77</span><span class="op" id="7413836">,</span>&nbsp;<span class="num" id="7413838">0x2d</span><span class="op" id="7413842">,</span>&nbsp;<span class="num" id="7413844">0x38</span><span class="op" id="7413848">}</span><span class="op" id="7413849">,</span>&nbsp;<span class="string" id="7413851">&#34;ab&#34;</span><span class="op" id="7413855">}</span><span class="op" id="7413856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413859">{</span><span class="op" id="7413860">[</span><span class="op" id="7413861">]</span><span class="builtintype" id="7413862">byte</span><span class="op" id="7413866">{</span><span class="num" id="7413867">0x43</span><span class="op" id="7413871">,</span>&nbsp;<span class="num" id="7413873">0x9c</span><span class="op" id="7413877">,</span>&nbsp;<span class="num" id="7413879">0x2f</span><span class="op" id="7413883">,</span>&nbsp;<span class="num" id="7413885">0x4b</span><span class="op" id="7413889">}</span><span class="op" id="7413890">,</span>&nbsp;<span class="string" id="7413892">&#34;abc&#34;</span><span class="op" id="7413897">}</span><span class="op" id="7413898">,</span><br>
<span class="lineno"></span><span class="op" id="7413900">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7413903">var</span>&nbsp;<span class="ident" id="7413907">golden32a</span>&nbsp;<span class="op" id="7413917">=</span>&nbsp;<span class="op" id="7413919">[</span><span class="op" id="7413920">]</span><span class="ident" id="7413921">golden</span><span class="op" id="7413927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413930">{</span><span class="op" id="7413931">[</span><span class="op" id="7413932">]</span><span class="builtintype" id="7413933">byte</span><span class="op" id="7413937">{</span><span class="num" id="7413938">0x81</span><span class="op" id="7413942">,</span>&nbsp;<span class="num" id="7413944">0x1c</span><span class="op" id="7413948">,</span>&nbsp;<span class="num" id="7413950">0x9d</span><span class="op" id="7413954">,</span>&nbsp;<span class="num" id="7413956">0xc5</span><span class="op" id="7413960">}</span><span class="op" id="7413961">,</span>&nbsp;<span class="string" id="7413963">&#34;&#34;</span><span class="op" id="7413965">}</span><span class="op" id="7413966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413969">{</span><span class="op" id="7413970">[</span><span class="op" id="7413971">]</span><span class="builtintype" id="7413972">byte</span><span class="op" id="7413976">{</span><span class="num" id="7413977">0xe4</span><span class="op" id="7413981">,</span>&nbsp;<span class="num" id="7413983">0x0c</span><span class="op" id="7413987">,</span>&nbsp;<span class="num" id="7413989">0x29</span><span class="op" id="7413993">,</span>&nbsp;<span class="num" id="7413995">0x2c</span><span class="op" id="7413999">}</span><span class="op" id="7414000">,</span>&nbsp;<span class="string" id="7414002">&#34;a&#34;</span><span class="op" id="7414005">}</span><span class="op" id="7414006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414009">{</span><span class="op" id="7414010">[</span><span class="op" id="7414011">]</span><span class="builtintype" id="7414012">byte</span><span class="op" id="7414016">{</span><span class="num" id="7414017">0x4d</span><span class="op" id="7414021">,</span>&nbsp;<span class="num" id="7414023">0x25</span><span class="op" id="7414027">,</span>&nbsp;<span class="num" id="7414029">0x05</span><span class="op" id="7414033">,</span>&nbsp;<span class="num" id="7414035">0xca</span><span class="op" id="7414039">}</span><span class="op" id="7414040">,</span>&nbsp;<span class="string" id="7414042">&#34;ab&#34;</span><span class="op" id="7414046">}</span><span class="op" id="7414047">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414050">{</span><span class="op" id="7414051">[</span><span class="op" id="7414052">]</span><span class="builtintype" id="7414053">byte</span><span class="op" id="7414057">{</span><span class="num" id="7414058">0x1a</span><span class="op" id="7414062">,</span>&nbsp;<span class="num" id="7414064">0x47</span><span class="op" id="7414068">,</span>&nbsp;<span class="num" id="7414070">0xe9</span><span class="op" id="7414074">,</span>&nbsp;<span class="num" id="7414076">0x0b</span><span class="op" id="7414080">}</span><span class="op" id="7414081">,</span>&nbsp;<span class="string" id="7414083">&#34;abc&#34;</span><span class="op" id="7414088">}</span><span class="op" id="7414089">,</span><br>
<span class="lineno"></span><span class="op" id="7414091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7414094">var</span>&nbsp;<span class="ident" id="7414098">golden64</span>&nbsp;<span class="op" id="7414107">=</span>&nbsp;<span class="op" id="7414109">[</span><span class="op" id="7414110">]</span><span class="ident" id="7414111">golden</span><span class="op" id="7414117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414120">{</span><span class="op" id="7414121">[</span><span class="op" id="7414122">]</span><span class="builtintype" id="7414123">byte</span><span class="op" id="7414127">{</span><span class="num" id="7414128">0xcb</span><span class="op" id="7414132">,</span>&nbsp;<span class="num" id="7414134">0xf2</span><span class="op" id="7414138">,</span>&nbsp;<span class="num" id="7414140">0x9c</span><span class="op" id="7414144">,</span>&nbsp;<span class="num" id="7414146">0xe4</span><span class="op" id="7414150">,</span>&nbsp;<span class="num" id="7414152">0x84</span><span class="op" id="7414156">,</span>&nbsp;<span class="num" id="7414158">0x22</span><span class="op" id="7414162">,</span>&nbsp;<span class="num" id="7414164">0x23</span><span class="op" id="7414168">,</span>&nbsp;<span class="num" id="7414170">0x25</span><span class="op" id="7414174">}</span><span class="op" id="7414175">,</span>&nbsp;<span class="string" id="7414177">&#34;&#34;</span><span class="op" id="7414179">}</span><span class="op" id="7414180">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414183">{</span><span class="op" id="7414184">[</span><span class="op" id="7414185">]</span><span class="builtintype" id="7414186">byte</span><span class="op" id="7414190">{</span><span class="num" id="7414191">0xaf</span><span class="op" id="7414195">,</span>&nbsp;<span class="num" id="7414197">0x63</span><span class="op" id="7414201">,</span>&nbsp;<span class="num" id="7414203">0xbd</span><span class="op" id="7414207">,</span>&nbsp;<span class="num" id="7414209">0x4c</span><span class="op" id="7414213">,</span>&nbsp;<span class="num" id="7414215">0x86</span><span class="op" id="7414219">,</span>&nbsp;<span class="num" id="7414221">0x01</span><span class="op" id="7414225">,</span>&nbsp;<span class="num" id="7414227">0xb7</span><span class="op" id="7414231">,</span>&nbsp;<span class="num" id="7414233">0xbe</span><span class="op" id="7414237">}</span><span class="op" id="7414238">,</span>&nbsp;<span class="string" id="7414240">&#34;a&#34;</span><span class="op" id="7414243">}</span><span class="op" id="7414244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414247">{</span><span class="op" id="7414248">[</span><span class="op" id="7414249">]</span><span class="builtintype" id="7414250">byte</span><span class="op" id="7414254">{</span><span class="num" id="7414255">0x08</span><span class="op" id="7414259">,</span>&nbsp;<span class="num" id="7414261">0x32</span><span class="op" id="7414265">,</span>&nbsp;<span class="num" id="7414267">0x67</span><span class="op" id="7414271">,</span>&nbsp;<span class="num" id="7414273">0x07</span><span class="op" id="7414277">,</span>&nbsp;<span class="num" id="7414279">0xb4</span><span class="op" id="7414283">,</span>&nbsp;<span class="num" id="7414285">0xeb</span><span class="op" id="7414289">,</span>&nbsp;<span class="num" id="7414291">0x37</span><span class="op" id="7414295">,</span>&nbsp;<span class="num" id="7414297">0xb8</span><span class="op" id="7414301">}</span><span class="op" id="7414302">,</span>&nbsp;<span class="string" id="7414304">&#34;ab&#34;</span><span class="op" id="7414308">}</span><span class="op" id="7414309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414312">{</span><span class="op" id="7414313">[</span><span class="op" id="7414314">]</span><span class="builtintype" id="7414315">byte</span><span class="op" id="7414319">{</span><span class="num" id="7414320">0xd8</span><span class="op" id="7414324">,</span>&nbsp;<span class="num" id="7414326">0xdc</span><span class="op" id="7414330">,</span>&nbsp;<span class="num" id="7414332">0xca</span><span class="op" id="7414336">,</span>&nbsp;<span class="num" id="7414338">0x18</span><span class="op" id="7414342">,</span>&nbsp;<span class="num" id="7414344">0x6b</span><span class="op" id="7414348">,</span>&nbsp;<span class="num" id="7414350">0xaf</span><span class="op" id="7414354">,</span>&nbsp;<span class="num" id="7414356">0xad</span><span class="op" id="7414360">,</span>&nbsp;<span class="num" id="7414362">0xcb</span><span class="op" id="7414366">}</span><span class="op" id="7414367">,</span>&nbsp;<span class="string" id="7414369">&#34;abc&#34;</span><span class="op" id="7414374">}</span><span class="op" id="7414375">,</span><br>
<span class="lineno"></span><span class="op" id="7414377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7414380">var</span>&nbsp;<span class="ident" id="7414384">golden64a</span>&nbsp;<span class="op" id="7414394">=</span>&nbsp;<span class="op" id="7414396">[</span><span class="op" id="7414397">]</span><span class="ident" id="7414398">golden</span><span class="op" id="7414404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414407">{</span><span class="op" id="7414408">[</span><span class="op" id="7414409">]</span><span class="builtintype" id="7414410">byte</span><span class="op" id="7414414">{</span><span class="num" id="7414415">0xcb</span><span class="op" id="7414419">,</span>&nbsp;<span class="num" id="7414421">0xf2</span><span class="op" id="7414425">,</span>&nbsp;<span class="num" id="7414427">0x9c</span><span class="op" id="7414431">,</span>&nbsp;<span class="num" id="7414433">0xe4</span><span class="op" id="7414437">,</span>&nbsp;<span class="num" id="7414439">0x84</span><span class="op" id="7414443">,</span>&nbsp;<span class="num" id="7414445">0x22</span><span class="op" id="7414449">,</span>&nbsp;<span class="num" id="7414451">0x23</span><span class="op" id="7414455">,</span>&nbsp;<span class="num" id="7414457">0x25</span><span class="op" id="7414461">}</span><span class="op" id="7414462">,</span>&nbsp;<span class="string" id="7414464">&#34;&#34;</span><span class="op" id="7414466">}</span><span class="op" id="7414467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414470">{</span><span class="op" id="7414471">[</span><span class="op" id="7414472">]</span><span class="builtintype" id="7414473">byte</span><span class="op" id="7414477">{</span><span class="num" id="7414478">0xaf</span><span class="op" id="7414482">,</span>&nbsp;<span class="num" id="7414484">0x63</span><span class="op" id="7414488">,</span>&nbsp;<span class="num" id="7414490">0xdc</span><span class="op" id="7414494">,</span>&nbsp;<span class="num" id="7414496">0x4c</span><span class="op" id="7414500">,</span>&nbsp;<span class="num" id="7414502">0x86</span><span class="op" id="7414506">,</span>&nbsp;<span class="num" id="7414508">0x01</span><span class="op" id="7414512">,</span>&nbsp;<span class="num" id="7414514">0xec</span><span class="op" id="7414518">,</span>&nbsp;<span class="num" id="7414520">0x8c</span><span class="op" id="7414524">}</span><span class="op" id="7414525">,</span>&nbsp;<span class="string" id="7414527">&#34;a&#34;</span><span class="op" id="7414530">}</span><span class="op" id="7414531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414534">{</span><span class="op" id="7414535">[</span><span class="op" id="7414536">]</span><span class="builtintype" id="7414537">byte</span><span class="op" id="7414541">{</span><span class="num" id="7414542">0x08</span><span class="op" id="7414546">,</span>&nbsp;<span class="num" id="7414548">0x9c</span><span class="op" id="7414552">,</span>&nbsp;<span class="num" id="7414554">0x44</span><span class="op" id="7414558">,</span>&nbsp;<span class="num" id="7414560">0x07</span><span class="op" id="7414564">,</span>&nbsp;<span class="num" id="7414566">0xb5</span><span class="op" id="7414570">,</span>&nbsp;<span class="num" id="7414572">0x45</span><span class="op" id="7414576">,</span>&nbsp;<span class="num" id="7414578">0x98</span><span class="op" id="7414582">,</span>&nbsp;<span class="num" id="7414584">0x6a</span><span class="op" id="7414588">}</span><span class="op" id="7414589">,</span>&nbsp;<span class="string" id="7414591">&#34;ab&#34;</span><span class="op" id="7414595">}</span><span class="op" id="7414596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414599">{</span><span class="op" id="7414600">[</span><span class="op" id="7414601">]</span><span class="builtintype" id="7414602">byte</span><span class="op" id="7414606">{</span><span class="num" id="7414607">0xe7</span><span class="op" id="7414611">,</span>&nbsp;<span class="num" id="7414613">0x1f</span><span class="op" id="7414617">,</span>&nbsp;<span class="num" id="7414619">0xa2</span><span class="op" id="7414623">,</span>&nbsp;<span class="num" id="7414625">0x19</span><span class="op" id="7414629">,</span>&nbsp;<span class="num" id="7414631">0x05</span><span class="op" id="7414635">,</span>&nbsp;<span class="num" id="7414637">0x41</span><span class="op" id="7414641">,</span>&nbsp;<span class="num" id="7414643">0x57</span><span class="op" id="7414647">,</span>&nbsp;<span class="num" id="7414649">0x4b</span><span class="op" id="7414653">}</span><span class="op" id="7414654">,</span>&nbsp;<span class="string" id="7414656">&#34;abc&#34;</span><span class="op" id="7414661">}</span><span class="op" id="7414662">,</span><br>
<span class="lineno">45</span><span class="op" id="7414664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7414667">func</span>&nbsp;<span class="ident" id="7414672">TestGolden32</span><span class="op" id="7414684">(</span><span class="ident" id="7414685">t</span>&nbsp;<span class="op" id="7414687">*</span><span class="ident" id="7414688">testing</span><span class="op" id="7414695">.</span><span class="ident" id="7414696">T</span><span class="op" id="7414697">)</span>&nbsp;<span class="op" id="7414699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414702">testGolden</span><span class="op" id="7414712">(</span><span class="ident" id="7414713">t</span><span class="op" id="7414714">,</span>&nbsp;<span class="ident" id="7414716">New32</span><span class="op" id="7414721">(</span><span class="op" id="7414722">)</span><span class="op" id="7414723">,</span>&nbsp;<span class="ident" id="7414725">golden32</span><span class="op" id="7414733">)</span><br>
<span class="lineno"></span><span class="op" id="7414735">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7414738">func</span>&nbsp;<span class="ident" id="7414743">TestGolden32a</span><span class="op" id="7414756">(</span><span class="ident" id="7414757">t</span>&nbsp;<span class="op" id="7414759">*</span><span class="ident" id="7414760">testing</span><span class="op" id="7414767">.</span><span class="ident" id="7414768">T</span><span class="op" id="7414769">)</span>&nbsp;<span class="op" id="7414771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414774">testGolden</span><span class="op" id="7414784">(</span><span class="ident" id="7414785">t</span><span class="op" id="7414786">,</span>&nbsp;<span class="ident" id="7414788">New32a</span><span class="op" id="7414794">(</span><span class="op" id="7414795">)</span><span class="op" id="7414796">,</span>&nbsp;<span class="ident" id="7414798">golden32a</span><span class="op" id="7414807">)</span><br>
<span class="lineno"></span><span class="op" id="7414809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7414812">func</span>&nbsp;<span class="ident" id="7414817">TestGolden64</span><span class="op" id="7414829">(</span><span class="ident" id="7414830">t</span>&nbsp;<span class="op" id="7414832">*</span><span class="ident" id="7414833">testing</span><span class="op" id="7414840">.</span><span class="ident" id="7414841">T</span><span class="op" id="7414842">)</span>&nbsp;<span class="op" id="7414844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414847">testGolden</span><span class="op" id="7414857">(</span><span class="ident" id="7414858">t</span><span class="op" id="7414859">,</span>&nbsp;<span class="ident" id="7414861">New64</span><span class="op" id="7414866">(</span><span class="op" id="7414867">)</span><span class="op" id="7414868">,</span>&nbsp;<span class="ident" id="7414870">golden64</span><span class="op" id="7414878">)</span><br>
<span class="lineno"></span><span class="op" id="7414880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7414883">func</span>&nbsp;<span class="ident" id="7414888">TestGolden64a</span><span class="op" id="7414901">(</span><span class="ident" id="7414902">t</span>&nbsp;<span class="op" id="7414904">*</span><span class="ident" id="7414905">testing</span><span class="op" id="7414912">.</span><span class="ident" id="7414913">T</span><span class="op" id="7414914">)</span>&nbsp;<span class="op" id="7414916">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414919">testGolden</span><span class="op" id="7414929">(</span><span class="ident" id="7414930">t</span><span class="op" id="7414931">,</span>&nbsp;<span class="ident" id="7414933">New64a</span><span class="op" id="7414939">(</span><span class="op" id="7414940">)</span><span class="op" id="7414941">,</span>&nbsp;<span class="ident" id="7414943">golden64a</span><span class="op" id="7414952">)</span><br>
<span class="lineno"></span><span class="op" id="7414954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7414957">func</span>&nbsp;<span class="ident" id="7414962">testGolden</span><span class="op" id="7414972">(</span><span class="ident" id="7414973">t</span>&nbsp;<span class="op" id="7414975">*</span><span class="ident" id="7414976">testing</span><span class="op" id="7414983">.</span><span class="ident" id="7414984">T</span><span class="op" id="7414985">,</span>&nbsp;<span class="ident" id="7414987">hash</span>&nbsp;<span class="ident" id="7414992">hash</span><span class="op" id="7414996">.</span><span class="ident" id="7414997">Hash</span><span class="op" id="7415001">,</span>&nbsp;<span class="ident" id="7415003">gold</span>&nbsp;<span class="op" id="7415008">[</span><span class="op" id="7415009">]</span><span class="ident" id="7415010">golden</span><span class="op" id="7415016">)</span>&nbsp;<span class="op" id="7415018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415021">for</span>&nbsp;<span class="ident" id="7415025">_</span><span class="op" id="7415026">,</span>&nbsp;<span class="ident" id="7415028">g</span>&nbsp;<span class="op" id="7415030">:=</span>&nbsp;<span class="keyword" id="7415033">range</span>&nbsp;<span class="ident" id="7415039">gold</span>&nbsp;<span class="op" id="7415044">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415048">hash</span><span class="op" id="7415052">.</span><span class="ident" id="7415053">Reset</span><span class="op" id="7415058">(</span><span class="op" id="7415059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415063">done</span><span class="op" id="7415067">,</span>&nbsp;<span class="builtintype" id="7415069">error</span>&nbsp;<span class="op" id="7415075">:=</span>&nbsp;<span class="ident" id="7415078">hash</span><span class="op" id="7415082">.</span><span class="ident" id="7415083">Write</span><span class="op" id="7415088">(</span><span class="op" id="7415089">[</span><span class="op" id="7415090">]</span><span class="builtintype" id="7415091">byte</span><span class="op" id="7415095">(</span><span class="ident" id="7415096">g</span><span class="op" id="7415097">.</span><span class="ident" id="7415098">text</span><span class="op" id="7415102">)</span><span class="op" id="7415103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415107">if</span>&nbsp;<span class="builtintype" id="7415110">error</span>&nbsp;<span class="op" id="7415116">!=</span>&nbsp;<span class="ident" id="7415119">nil</span>&nbsp;<span class="op" id="7415123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415128">t</span><span class="op" id="7415129">.</span><span class="ident" id="7415130">Fatalf</span><span class="op" id="7415136">(</span><span class="string" id="7415137">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7415154">,</span>&nbsp;<span class="builtintype" id="7415156">error</span><span class="op" id="7415161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415165">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415169">if</span>&nbsp;<span class="ident" id="7415172">done</span>&nbsp;<span class="op" id="7415177">!=</span>&nbsp;<span class="builtinfunc" id="7415180">len</span><span class="op" id="7415183">(</span><span class="ident" id="7415184">g</span><span class="op" id="7415185">.</span><span class="ident" id="7415186">text</span><span class="op" id="7415190">)</span>&nbsp;<span class="op" id="7415192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415197">t</span><span class="op" id="7415198">.</span><span class="ident" id="7415199">Fatalf</span><span class="op" id="7415205">(</span><span class="string" id="7415206">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="7415237">,</span>&nbsp;<span class="ident" id="7415239">done</span><span class="op" id="7415243">,</span>&nbsp;<span class="builtinfunc" id="7415245">len</span><span class="op" id="7415248">(</span><span class="ident" id="7415249">g</span><span class="op" id="7415250">.</span><span class="ident" id="7415251">text</span><span class="op" id="7415255">)</span><span class="op" id="7415256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415264">if</span>&nbsp;<span class="ident" id="7415267">actual</span>&nbsp;<span class="op" id="7415274">:=</span>&nbsp;<span class="ident" id="7415277">hash</span><span class="op" id="7415281">.</span><span class="ident" id="7415282">Sum</span><span class="op" id="7415285">(</span><span class="ident" id="7415286">nil</span><span class="op" id="7415289">)</span><span class="op" id="7415290">;</span>&nbsp;<span class="op" id="7415292">!</span><span class="ident" id="7415293">bytes</span><span class="op" id="7415298">.</span><span class="ident" id="7415299">Equal</span><span class="op" id="7415304">(</span><span class="ident" id="7415305">g</span><span class="op" id="7415306">.</span><span class="ident" id="7415307">sum</span><span class="op" id="7415310">,</span>&nbsp;<span class="ident" id="7415312">actual</span><span class="op" id="7415318">)</span>&nbsp;<span class="op" id="7415320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415325">t</span><span class="op" id="7415326">.</span><span class="ident" id="7415327">Errorf</span><span class="op" id="7415333">(</span><span class="string" id="7415334">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7415361">,</span>&nbsp;<span class="ident" id="7415363">g</span><span class="op" id="7415364">.</span><span class="ident" id="7415365">text</span><span class="op" id="7415369">,</span>&nbsp;<span class="ident" id="7415371">actual</span><span class="op" id="7415377">,</span>&nbsp;<span class="ident" id="7415379">g</span><span class="op" id="7415380">.</span><span class="ident" id="7415381">sum</span><span class="op" id="7415384">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415391">}</span><br>
<span class="lineno"></span><span class="op" id="7415393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7415396">func</span>&nbsp;<span class="ident" id="7415401">TestIntegrity32</span><span class="op" id="7415416">(</span><span class="ident" id="7415417">t</span>&nbsp;<span class="op" id="7415419">*</span><span class="ident" id="7415420">testing</span><span class="op" id="7415427">.</span><span class="ident" id="7415428">T</span><span class="op" id="7415429">)</span>&nbsp;<span class="op" id="7415431">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415434">testIntegrity</span><span class="op" id="7415447">(</span><span class="ident" id="7415448">t</span><span class="op" id="7415449">,</span>&nbsp;<span class="ident" id="7415451">New32</span><span class="op" id="7415456">(</span><span class="op" id="7415457">)</span><span class="op" id="7415458">)</span><br>
<span class="lineno"></span><span class="op" id="7415460">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7415463">func</span>&nbsp;<span class="ident" id="7415468">TestIntegrity32a</span><span class="op" id="7415484">(</span><span class="ident" id="7415485">t</span>&nbsp;<span class="op" id="7415487">*</span><span class="ident" id="7415488">testing</span><span class="op" id="7415495">.</span><span class="ident" id="7415496">T</span><span class="op" id="7415497">)</span>&nbsp;<span class="op" id="7415499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415502">testIntegrity</span><span class="op" id="7415515">(</span><span class="ident" id="7415516">t</span><span class="op" id="7415517">,</span>&nbsp;<span class="ident" id="7415519">New32a</span><span class="op" id="7415525">(</span><span class="op" id="7415526">)</span><span class="op" id="7415527">)</span><br>
<span class="lineno">85</span><span class="op" id="7415529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7415532">func</span>&nbsp;<span class="ident" id="7415537">TestIntegrity64</span><span class="op" id="7415552">(</span><span class="ident" id="7415553">t</span>&nbsp;<span class="op" id="7415555">*</span><span class="ident" id="7415556">testing</span><span class="op" id="7415563">.</span><span class="ident" id="7415564">T</span><span class="op" id="7415565">)</span>&nbsp;<span class="op" id="7415567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415570">testIntegrity</span><span class="op" id="7415583">(</span><span class="ident" id="7415584">t</span><span class="op" id="7415585">,</span>&nbsp;<span class="ident" id="7415587">New64</span><span class="op" id="7415592">(</span><span class="op" id="7415593">)</span><span class="op" id="7415594">)</span><br>
<span class="lineno"></span><span class="op" id="7415596">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="7415599">func</span>&nbsp;<span class="ident" id="7415604">TestIntegrity64a</span><span class="op" id="7415620">(</span><span class="ident" id="7415621">t</span>&nbsp;<span class="op" id="7415623">*</span><span class="ident" id="7415624">testing</span><span class="op" id="7415631">.</span><span class="ident" id="7415632">T</span><span class="op" id="7415633">)</span>&nbsp;<span class="op" id="7415635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415638">testIntegrity</span><span class="op" id="7415651">(</span><span class="ident" id="7415652">t</span><span class="op" id="7415653">,</span>&nbsp;<span class="ident" id="7415655">New64a</span><span class="op" id="7415661">(</span><span class="op" id="7415662">)</span><span class="op" id="7415663">)</span><br>
<span class="lineno"></span><span class="op" id="7415665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7415668">func</span>&nbsp;<span class="ident" id="7415673">testIntegrity</span><span class="op" id="7415686">(</span><span class="ident" id="7415687">t</span>&nbsp;<span class="op" id="7415689">*</span><span class="ident" id="7415690">testing</span><span class="op" id="7415697">.</span><span class="ident" id="7415698">T</span><span class="op" id="7415699">,</span>&nbsp;<span class="ident" id="7415701">h</span>&nbsp;<span class="ident" id="7415703">hash</span><span class="op" id="7415707">.</span><span class="ident" id="7415708">Hash</span><span class="op" id="7415712">)</span>&nbsp;<span class="op" id="7415714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415717">data</span>&nbsp;<span class="op" id="7415722">:=</span>&nbsp;<span class="op" id="7415725">[</span><span class="op" id="7415726">]</span><span class="builtintype" id="7415727">byte</span><span class="op" id="7415731">{</span><span class="string" id="7415732">&#39;1&#39;</span><span class="op" id="7415735">,</span>&nbsp;<span class="string" id="7415737">&#39;2&#39;</span><span class="op" id="7415740">,</span>&nbsp;<span class="num" id="7415742">3</span><span class="op" id="7415743">,</span>&nbsp;<span class="num" id="7415745">4</span><span class="op" id="7415746">,</span>&nbsp;<span class="num" id="7415748">5</span><span class="op" id="7415749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415752">h</span><span class="op" id="7415753">.</span><span class="ident" id="7415754">Write</span><span class="op" id="7415759">(</span><span class="ident" id="7415760">data</span><span class="op" id="7415764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415767">sum</span>&nbsp;<span class="op" id="7415771">:=</span>&nbsp;<span class="ident" id="7415774">h</span><span class="op" id="7415775">.</span><span class="ident" id="7415776">Sum</span><span class="op" id="7415779">(</span><span class="ident" id="7415780">nil</span><span class="op" id="7415783">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415787">if</span>&nbsp;<span class="ident" id="7415790">size</span>&nbsp;<span class="op" id="7415795">:=</span>&nbsp;<span class="ident" id="7415798">h</span><span class="op" id="7415799">.</span><span class="ident" id="7415800">Size</span><span class="op" id="7415804">(</span><span class="op" id="7415805">)</span><span class="op" id="7415806">;</span>&nbsp;<span class="ident" id="7415808">size</span>&nbsp;<span class="op" id="7415813">!=</span>&nbsp;<span class="builtinfunc" id="7415816">len</span><span class="op" id="7415819">(</span><span class="ident" id="7415820">sum</span><span class="op" id="7415823">)</span>&nbsp;<span class="op" id="7415825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415829">t</span><span class="op" id="7415830">.</span><span class="ident" id="7415831">Fatalf</span><span class="op" id="7415837">(</span><span class="string" id="7415838">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="7415867">,</span>&nbsp;<span class="ident" id="7415869">size</span><span class="op" id="7415873">,</span>&nbsp;<span class="builtinfunc" id="7415875">len</span><span class="op" id="7415878">(</span><span class="ident" id="7415879">sum</span><span class="op" id="7415882">)</span><span class="op" id="7415883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415890">if</span>&nbsp;<span class="ident" id="7415893">a</span>&nbsp;<span class="op" id="7415895">:=</span>&nbsp;<span class="ident" id="7415898">h</span><span class="op" id="7415899">.</span><span class="ident" id="7415900">Sum</span><span class="op" id="7415903">(</span><span class="ident" id="7415904">nil</span><span class="op" id="7415907">)</span><span class="op" id="7415908">;</span>&nbsp;<span class="op" id="7415910">!</span><span class="ident" id="7415911">bytes</span><span class="op" id="7415916">.</span><span class="ident" id="7415917">Equal</span><span class="op" id="7415922">(</span><span class="ident" id="7415923">sum</span><span class="op" id="7415926">,</span>&nbsp;<span class="ident" id="7415928">a</span><span class="op" id="7415929">)</span>&nbsp;<span class="op" id="7415931">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415935">t</span><span class="op" id="7415936">.</span><span class="ident" id="7415937">Fatalf</span><span class="op" id="7415943">(</span><span class="string" id="7415944">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7415981">,</span>&nbsp;<span class="ident" id="7415983">sum</span><span class="op" id="7415986">,</span>&nbsp;<span class="ident" id="7415988">a</span><span class="op" id="7415989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415996">h</span><span class="op" id="7415997">.</span><span class="ident" id="7415998">Reset</span><span class="op" id="7416003">(</span><span class="op" id="7416004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416007">h</span><span class="op" id="7416008">.</span><span class="ident" id="7416009">Write</span><span class="op" id="7416014">(</span><span class="ident" id="7416015">data</span><span class="op" id="7416019">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416022">if</span>&nbsp;<span class="ident" id="7416025">a</span>&nbsp;<span class="op" id="7416027">:=</span>&nbsp;<span class="ident" id="7416030">h</span><span class="op" id="7416031">.</span><span class="ident" id="7416032">Sum</span><span class="op" id="7416035">(</span><span class="ident" id="7416036">nil</span><span class="op" id="7416039">)</span><span class="op" id="7416040">;</span>&nbsp;<span class="op" id="7416042">!</span><span class="ident" id="7416043">bytes</span><span class="op" id="7416048">.</span><span class="ident" id="7416049">Equal</span><span class="op" id="7416054">(</span><span class="ident" id="7416055">sum</span><span class="op" id="7416058">,</span>&nbsp;<span class="ident" id="7416060">a</span><span class="op" id="7416061">)</span>&nbsp;<span class="op" id="7416063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416067">t</span><span class="op" id="7416068">.</span><span class="ident" id="7416069">Fatalf</span><span class="op" id="7416075">(</span><span class="string" id="7416076">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7416118">,</span>&nbsp;<span class="ident" id="7416120">sum</span><span class="op" id="7416123">,</span>&nbsp;<span class="ident" id="7416125">a</span><span class="op" id="7416126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416133">h</span><span class="op" id="7416134">.</span><span class="ident" id="7416135">Reset</span><span class="op" id="7416140">(</span><span class="op" id="7416141">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416144">h</span><span class="op" id="7416145">.</span><span class="ident" id="7416146">Write</span><span class="op" id="7416151">(</span><span class="ident" id="7416152">data</span><span class="op" id="7416156">[</span><span class="op" id="7416157">:</span><span class="num" id="7416158">2</span><span class="op" id="7416159">]</span><span class="op" id="7416160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416163">h</span><span class="op" id="7416164">.</span><span class="ident" id="7416165">Write</span><span class="op" id="7416170">(</span><span class="ident" id="7416171">data</span><span class="op" id="7416175">[</span><span class="num" id="7416176">2</span><span class="op" id="7416177">:</span><span class="op" id="7416178">]</span><span class="op" id="7416179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416182">if</span>&nbsp;<span class="ident" id="7416185">a</span>&nbsp;<span class="op" id="7416187">:=</span>&nbsp;<span class="ident" id="7416190">h</span><span class="op" id="7416191">.</span><span class="ident" id="7416192">Sum</span><span class="op" id="7416195">(</span><span class="ident" id="7416196">nil</span><span class="op" id="7416199">)</span><span class="op" id="7416200">;</span>&nbsp;<span class="op" id="7416202">!</span><span class="ident" id="7416203">bytes</span><span class="op" id="7416208">.</span><span class="ident" id="7416209">Equal</span><span class="op" id="7416214">(</span><span class="ident" id="7416215">sum</span><span class="op" id="7416218">,</span>&nbsp;<span class="ident" id="7416220">a</span><span class="op" id="7416221">)</span>&nbsp;<span class="op" id="7416223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416227">t</span><span class="op" id="7416228">.</span><span class="ident" id="7416229">Fatalf</span><span class="op" id="7416235">(</span><span class="string" id="7416236">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7416285">,</span>&nbsp;<span class="ident" id="7416287">sum</span><span class="op" id="7416290">,</span>&nbsp;<span class="ident" id="7416292">a</span><span class="op" id="7416293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416296">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416300">switch</span>&nbsp;<span class="ident" id="7416307">h</span><span class="op" id="7416308">.</span><span class="ident" id="7416309">Size</span><span class="op" id="7416313">(</span><span class="op" id="7416314">)</span>&nbsp;<span class="op" id="7416316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416319">case</span>&nbsp;<span class="num" id="7416324">4</span><span class="op" id="7416325">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416329">sum32</span>&nbsp;<span class="op" id="7416335">:=</span>&nbsp;<span class="ident" id="7416338">h</span><span class="op" id="7416339">.</span><span class="op" id="7416340">(</span><span class="ident" id="7416341">hash</span><span class="op" id="7416345">.</span><span class="ident" id="7416346">Hash32</span><span class="op" id="7416352">)</span><span class="op" id="7416353">.</span><span class="ident" id="7416354">Sum32</span><span class="op" id="7416359">(</span><span class="op" id="7416360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416364">if</span>&nbsp;<span class="ident" id="7416367">sum32</span>&nbsp;<span class="op" id="7416373">!=</span>&nbsp;<span class="ident" id="7416376">binary</span><span class="op" id="7416382">.</span><span class="ident" id="7416383">BigEndian</span><span class="op" id="7416392">.</span><span class="ident" id="7416393">Uint32</span><span class="op" id="7416399">(</span><span class="ident" id="7416400">sum</span><span class="op" id="7416403">)</span>&nbsp;<span class="op" id="7416405">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416410">t</span><span class="op" id="7416411">.</span><span class="ident" id="7416412">Fatalf</span><span class="op" id="7416418">(</span><span class="string" id="7416419">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="7416449">,</span>&nbsp;<span class="ident" id="7416451">sum</span><span class="op" id="7416454">,</span>&nbsp;<span class="ident" id="7416456">sum32</span><span class="op" id="7416461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416468">case</span>&nbsp;<span class="num" id="7416473">8</span><span class="op" id="7416474">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416478">sum64</span>&nbsp;<span class="op" id="7416484">:=</span>&nbsp;<span class="ident" id="7416487">h</span><span class="op" id="7416488">.</span><span class="op" id="7416489">(</span><span class="ident" id="7416490">hash</span><span class="op" id="7416494">.</span><span class="ident" id="7416495">Hash64</span><span class="op" id="7416501">)</span><span class="op" id="7416502">.</span><span class="ident" id="7416503">Sum64</span><span class="op" id="7416508">(</span><span class="op" id="7416509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416513">if</span>&nbsp;<span class="ident" id="7416516">sum64</span>&nbsp;<span class="op" id="7416522">!=</span>&nbsp;<span class="ident" id="7416525">binary</span><span class="op" id="7416531">.</span><span class="ident" id="7416532">BigEndian</span><span class="op" id="7416541">.</span><span class="ident" id="7416542">Uint64</span><span class="op" id="7416548">(</span><span class="ident" id="7416549">sum</span><span class="op" id="7416552">)</span>&nbsp;<span class="op" id="7416554">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416559">t</span><span class="op" id="7416560">.</span><span class="ident" id="7416561">Fatalf</span><span class="op" id="7416567">(</span><span class="string" id="7416568">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="7416598">,</span>&nbsp;<span class="ident" id="7416600">sum</span><span class="op" id="7416603">,</span>&nbsp;<span class="ident" id="7416605">sum64</span><span class="op" id="7416610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416617">}</span><br>
<span class="lineno"></span><span class="op" id="7416619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7416622">func</span>&nbsp;<span class="ident" id="7416627">BenchmarkFnv32KB</span><span class="op" id="7416643">(</span><span class="ident" id="7416644">b</span>&nbsp;<span class="op" id="7416646">*</span><span class="ident" id="7416647">testing</span><span class="op" id="7416654">.</span><span class="ident" id="7416655">B</span><span class="op" id="7416656">)</span>&nbsp;<span class="op" id="7416658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416661">benchmarkKB</span><span class="op" id="7416672">(</span><span class="ident" id="7416673">b</span><span class="op" id="7416674">,</span>&nbsp;<span class="ident" id="7416676">New32</span><span class="op" id="7416681">(</span><span class="op" id="7416682">)</span><span class="op" id="7416683">)</span><br>
<span class="lineno"></span><span class="op" id="7416685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7416688">func</span>&nbsp;<span class="ident" id="7416693">BenchmarkFnv32aKB</span><span class="op" id="7416710">(</span><span class="ident" id="7416711">b</span>&nbsp;<span class="op" id="7416713">*</span><span class="ident" id="7416714">testing</span><span class="op" id="7416721">.</span><span class="ident" id="7416722">B</span><span class="op" id="7416723">)</span>&nbsp;<span class="op" id="7416725">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416728">benchmarkKB</span><span class="op" id="7416739">(</span><span class="ident" id="7416740">b</span><span class="op" id="7416741">,</span>&nbsp;<span class="ident" id="7416743">New32a</span><span class="op" id="7416749">(</span><span class="op" id="7416750">)</span><span class="op" id="7416751">)</span><br>
<span class="lineno"></span><span class="op" id="7416753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7416756">func</span>&nbsp;<span class="ident" id="7416761">BenchmarkFnv64KB</span><span class="op" id="7416777">(</span><span class="ident" id="7416778">b</span>&nbsp;<span class="op" id="7416780">*</span><span class="ident" id="7416781">testing</span><span class="op" id="7416788">.</span><span class="ident" id="7416789">B</span><span class="op" id="7416790">)</span>&nbsp;<span class="op" id="7416792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416795">benchmarkKB</span><span class="op" id="7416806">(</span><span class="ident" id="7416807">b</span><span class="op" id="7416808">,</span>&nbsp;<span class="ident" id="7416810">New64</span><span class="op" id="7416815">(</span><span class="op" id="7416816">)</span><span class="op" id="7416817">)</span><br>
<span class="lineno">145</span><span class="op" id="7416819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7416822">func</span>&nbsp;<span class="ident" id="7416827">BenchmarkFnv64aKB</span><span class="op" id="7416844">(</span><span class="ident" id="7416845">b</span>&nbsp;<span class="op" id="7416847">*</span><span class="ident" id="7416848">testing</span><span class="op" id="7416855">.</span><span class="ident" id="7416856">B</span><span class="op" id="7416857">)</span>&nbsp;<span class="op" id="7416859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416862">benchmarkKB</span><span class="op" id="7416873">(</span><span class="ident" id="7416874">b</span><span class="op" id="7416875">,</span>&nbsp;<span class="ident" id="7416877">New64a</span><span class="op" id="7416883">(</span><span class="op" id="7416884">)</span><span class="op" id="7416885">)</span><br>
<span class="lineno"></span><span class="op" id="7416887">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="7416890">func</span>&nbsp;<span class="ident" id="7416895">benchmarkKB</span><span class="op" id="7416906">(</span><span class="ident" id="7416907">b</span>&nbsp;<span class="op" id="7416909">*</span><span class="ident" id="7416910">testing</span><span class="op" id="7416917">.</span><span class="ident" id="7416918">B</span><span class="op" id="7416919">,</span>&nbsp;<span class="ident" id="7416921">h</span>&nbsp;<span class="ident" id="7416923">hash</span><span class="op" id="7416927">.</span><span class="ident" id="7416928">Hash</span><span class="op" id="7416932">)</span>&nbsp;<span class="op" id="7416934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416937">b</span><span class="op" id="7416938">.</span><span class="ident" id="7416939">SetBytes</span><span class="op" id="7416947">(</span><span class="num" id="7416948">1024</span><span class="op" id="7416952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416955">data</span>&nbsp;<span class="op" id="7416960">:=</span>&nbsp;<span class="builtinfunc" id="7416963">make</span><span class="op" id="7416967">(</span><span class="op" id="7416968">[</span><span class="op" id="7416969">]</span><span class="builtintype" id="7416970">byte</span><span class="op" id="7416974">,</span>&nbsp;<span class="num" id="7416976">1024</span><span class="op" id="7416980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416983">for</span>&nbsp;<span class="ident" id="7416987">i</span>&nbsp;<span class="op" id="7416989">:=</span>&nbsp;<span class="keyword" id="7416992">range</span>&nbsp;<span class="ident" id="7416998">data</span>&nbsp;<span class="op" id="7417003">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417007">data</span><span class="op" id="7417011">[</span><span class="ident" id="7417012">i</span><span class="op" id="7417013">]</span>&nbsp;<span class="op" id="7417015">=</span>&nbsp;<span class="builtintype" id="7417017">byte</span><span class="op" id="7417021">(</span><span class="ident" id="7417022">i</span><span class="op" id="7417023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417029">in</span>&nbsp;<span class="op" id="7417032">:=</span>&nbsp;<span class="builtinfunc" id="7417035">make</span><span class="op" id="7417039">(</span><span class="op" id="7417040">[</span><span class="op" id="7417041">]</span><span class="builtintype" id="7417042">byte</span><span class="op" id="7417046">,</span>&nbsp;<span class="num" id="7417048">0</span><span class="op" id="7417049">,</span>&nbsp;<span class="ident" id="7417051">h</span><span class="op" id="7417052">.</span><span class="ident" id="7417053">Size</span><span class="op" id="7417057">(</span><span class="op" id="7417058">)</span><span class="op" id="7417059">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417063">b</span><span class="op" id="7417064">.</span><span class="ident" id="7417065">ResetTimer</span><span class="op" id="7417075">(</span><span class="op" id="7417076">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417079">for</span>&nbsp;<span class="ident" id="7417083">i</span>&nbsp;<span class="op" id="7417085">:=</span>&nbsp;<span class="num" id="7417088">0</span><span class="op" id="7417089">;</span>&nbsp;<span class="ident" id="7417091">i</span>&nbsp;<span class="op" id="7417093">&lt;</span>&nbsp;<span class="ident" id="7417095">b</span><span class="op" id="7417096">.</span><span class="ident" id="7417097">N</span><span class="op" id="7417098">;</span>&nbsp;<span class="ident" id="7417100">i</span><span class="op" id="7417101">++</span>&nbsp;<span class="op" id="7417104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417108">h</span><span class="op" id="7417109">.</span><span class="ident" id="7417110">Reset</span><span class="op" id="7417115">(</span><span class="op" id="7417116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417120">h</span><span class="op" id="7417121">.</span><span class="ident" id="7417122">Write</span><span class="op" id="7417127">(</span><span class="ident" id="7417128">data</span><span class="op" id="7417132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417136">h</span><span class="op" id="7417137">.</span><span class="ident" id="7417138">Sum</span><span class="op" id="7417141">(</span><span class="ident" id="7417142">in</span><span class="op" id="7417144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417147">}</span><br>
<span class="lineno">165</span><span class="op" id="7417149">}</span>
</div>
</body>
</html>
