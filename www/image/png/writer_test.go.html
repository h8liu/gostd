<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8126071">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8126126">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8126180">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8126231">package</span>&nbsp;<span class="ident" id="8126239">png</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8126244">import</span>&nbsp;<span class="op" id="8126251">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8126254">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8126263">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8126270">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8126279">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8126294">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8126307">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8126317">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8126320">func</span>&nbsp;<span class="ident" id="8126325">diff</span><span class="op" id="8126329">(</span><span class="ident" id="8126330">m0</span><span class="op" id="8126332">,</span>&nbsp;<span class="ident" id="8126334">m1</span>&nbsp;<span class="ident" id="8126337"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8126342">.</span><span class="ident" id="8126343">Image</span><span class="op" id="8126348">)</span>&nbsp;<span class="builtintype" id="8126350">error</span>&nbsp;<span class="op" id="8126356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126359">b0</span><span class="op" id="8126361">,</span>&nbsp;<span class="ident" id="8126363">b1</span>&nbsp;<span class="op" id="8126366">:=</span>&nbsp;<span class="ident" id="8126369"><a href="/image/png/writer_test.go.html#8126330">m0</a></span><span class="op" id="8126371">.</span><span class="ident" id="8126372">Bounds</span><span class="op" id="8126378">(</span><span class="op" id="8126379">)</span><span class="op" id="8126380">,</span>&nbsp;<span class="ident" id="8126382"><a href="/image/png/writer_test.go.html#8126334">m1</a></span><span class="op" id="8126384">.</span><span class="ident" id="8126385">Bounds</span><span class="op" id="8126391">(</span><span class="op" id="8126392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126395">if</span>&nbsp;<span class="op" id="8126398">!</span><span class="ident" id="8126399"><a href="/image/png/writer_test.go.html#8126359">b0</a></span><span class="op" id="8126401">.</span><span class="ident" id="8126402">Size</span><span class="op" id="8126406">(</span><span class="op" id="8126407">)</span><span class="op" id="8126408">.</span><span class="ident" id="8126409">Eq</span><span class="op" id="8126411">(</span><span class="ident" id="8126412"><a href="/image/png/writer_test.go.html#8126363">b1</a></span><span class="op" id="8126414">.</span><span class="ident" id="8126415">Size</span><span class="op" id="8126419">(</span><span class="op" id="8126420">)</span><span class="op" id="8126421">)</span>&nbsp;<span class="op" id="8126423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126427">return</span>&nbsp;<span class="ident" id="8126434"><a href="/image/png/writer_test.go.html#8126263">fmt</a></span><span class="op" id="8126437">.</span><span class="ident" id="8126438">Errorf</span><span class="op" id="8126444">(</span><span class="string" id="8126445">&#34;dimensions&nbsp;differ:&nbsp;%v&nbsp;vs&nbsp;%v&#34;</span><span class="op" id="8126474">,</span>&nbsp;<span class="ident" id="8126476"><a href="/image/png/writer_test.go.html#8126359">b0</a></span><span class="op" id="8126478">,</span>&nbsp;<span class="ident" id="8126480"><a href="/image/png/writer_test.go.html#8126363">b1</a></span><span class="op" id="8126482">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126488">dx</span>&nbsp;<span class="op" id="8126491">:=</span>&nbsp;<span class="ident" id="8126494"><a href="/image/png/writer_test.go.html#8126363">b1</a></span><span class="op" id="8126496">.</span><span class="ident" id="8126497">Min</span><span class="op" id="8126500">.</span><span class="ident" id="8126501">X</span>&nbsp;<span class="op" id="8126503">-</span>&nbsp;<span class="ident" id="8126505"><a href="/image/png/writer_test.go.html#8126359">b0</a></span><span class="op" id="8126507">.</span><span class="ident" id="8126508">Min</span><span class="op" id="8126511">.</span><span class="ident" id="8126512">X</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126515">dy</span>&nbsp;<span class="op" id="8126518">:=</span>&nbsp;<span class="ident" id="8126521"><a href="/image/png/writer_test.go.html#8126363">b1</a></span><span class="op" id="8126523">.</span><span class="ident" id="8126524">Min</span><span class="op" id="8126527">.</span><span class="ident" id="8126528">Y</span>&nbsp;<span class="op" id="8126530">-</span>&nbsp;<span class="ident" id="8126532"><a href="/image/png/writer_test.go.html#8126359">b0</a></span><span class="op" id="8126534">.</span><span class="ident" id="8126535">Min</span><span class="op" id="8126538">.</span><span class="ident" id="8126539">Y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126542">for</span>&nbsp;<span class="ident" id="8126546">y</span>&nbsp;<span class="op" id="8126548">:=</span>&nbsp;<span class="ident" id="8126551"><a href="/image/png/writer_test.go.html#8126359">b0</a></span><span class="op" id="8126553">.</span><span class="ident" id="8126554">Min</span><span class="op" id="8126557">.</span><span class="ident" id="8126558">Y</span><span class="op" id="8126559">;</span>&nbsp;<span class="ident" id="8126561"><a href="/image/png/writer_test.go.html#8126546">y</a></span>&nbsp;<span class="op" id="8126563">&lt;</span>&nbsp;<span class="ident" id="8126565"><a href="/image/png/writer_test.go.html#8126359">b0</a></span><span class="op" id="8126567">.</span><span class="ident" id="8126568">Max</span><span class="op" id="8126571">.</span><span class="ident" id="8126572">Y</span><span class="op" id="8126573">;</span>&nbsp;<span class="ident" id="8126575"><a href="/image/png/writer_test.go.html#8126546">y</a></span><span class="op" id="8126576">++</span>&nbsp;<span class="op" id="8126579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126583">for</span>&nbsp;<span class="ident" id="8126587">x</span>&nbsp;<span class="op" id="8126589">:=</span>&nbsp;<span class="ident" id="8126592"><a href="/image/png/writer_test.go.html#8126359">b0</a></span><span class="op" id="8126594">.</span><span class="ident" id="8126595">Min</span><span class="op" id="8126598">.</span><span class="ident" id="8126599">X</span><span class="op" id="8126600">;</span>&nbsp;<span class="ident" id="8126602"><a href="/image/png/writer_test.go.html#8126587">x</a></span>&nbsp;<span class="op" id="8126604">&lt;</span>&nbsp;<span class="ident" id="8126606"><a href="/image/png/writer_test.go.html#8126359">b0</a></span><span class="op" id="8126608">.</span><span class="ident" id="8126609">Max</span><span class="op" id="8126612">.</span><span class="ident" id="8126613">X</span><span class="op" id="8126614">;</span>&nbsp;<span class="ident" id="8126616"><a href="/image/png/writer_test.go.html#8126587">x</a></span><span class="op" id="8126617">++</span>&nbsp;<span class="op" id="8126620">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126625">c0</span>&nbsp;<span class="op" id="8126628">:=</span>&nbsp;<span class="ident" id="8126631"><a href="/image/png/writer_test.go.html#8126330">m0</a></span><span class="op" id="8126633">.</span><span class="ident" id="8126634">At</span><span class="op" id="8126636">(</span><span class="ident" id="8126637"><a href="/image/png/writer_test.go.html#8126587">x</a></span><span class="op" id="8126638">,</span>&nbsp;<span class="ident" id="8126640"><a href="/image/png/writer_test.go.html#8126546">y</a></span><span class="op" id="8126641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126646">c1</span>&nbsp;<span class="op" id="8126649">:=</span>&nbsp;<span class="ident" id="8126652"><a href="/image/png/writer_test.go.html#8126334">m1</a></span><span class="op" id="8126654">.</span><span class="ident" id="8126655">At</span><span class="op" id="8126657">(</span><span class="ident" id="8126658"><a href="/image/png/writer_test.go.html#8126587">x</a></span><span class="op" id="8126659">+</span><span class="ident" id="8126660"><a href="/image/png/writer_test.go.html#8126488">dx</a></span><span class="op" id="8126662">,</span>&nbsp;<span class="ident" id="8126664"><a href="/image/png/writer_test.go.html#8126546">y</a></span><span class="op" id="8126665">+</span><span class="ident" id="8126666"><a href="/image/png/writer_test.go.html#8126515">dy</a></span><span class="op" id="8126668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126673">r0</span><span class="op" id="8126675">,</span>&nbsp;<span class="ident" id="8126677">g0</span><span class="op" id="8126679">,</span>&nbsp;<span class="ident" id="8126681">b0</span><span class="op" id="8126683">,</span>&nbsp;<span class="ident" id="8126685">a0</span>&nbsp;<span class="op" id="8126688">:=</span>&nbsp;<span class="ident" id="8126691"><a href="/image/png/writer_test.go.html#8126625">c0</a></span><span class="op" id="8126693">.</span><span class="ident" id="8126694">RGBA</span><span class="op" id="8126698">(</span><span class="op" id="8126699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126704">r1</span><span class="op" id="8126706">,</span>&nbsp;<span class="ident" id="8126708">g1</span><span class="op" id="8126710">,</span>&nbsp;<span class="ident" id="8126712">b1</span><span class="op" id="8126714">,</span>&nbsp;<span class="ident" id="8126716">a1</span>&nbsp;<span class="op" id="8126719">:=</span>&nbsp;<span class="ident" id="8126722"><a href="/image/png/writer_test.go.html#8126646">c1</a></span><span class="op" id="8126724">.</span><span class="ident" id="8126725">RGBA</span><span class="op" id="8126729">(</span><span class="op" id="8126730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126735">if</span>&nbsp;<span class="ident" id="8126738"><a href="/image/png/writer_test.go.html#8126673">r0</a></span>&nbsp;<span class="op" id="8126741">!=</span>&nbsp;<span class="ident" id="8126744"><a href="/image/png/writer_test.go.html#8126704">r1</a></span>&nbsp;<span class="op" id="8126747">||</span>&nbsp;<span class="ident" id="8126750"><a href="/image/png/writer_test.go.html#8126677">g0</a></span>&nbsp;<span class="op" id="8126753">!=</span>&nbsp;<span class="ident" id="8126756"><a href="/image/png/writer_test.go.html#8126708">g1</a></span>&nbsp;<span class="op" id="8126759">||</span>&nbsp;<span class="ident" id="8126762"><a href="/image/png/writer_test.go.html#8126681">b0</a></span>&nbsp;<span class="op" id="8126765">!=</span>&nbsp;<span class="ident" id="8126768"><a href="/image/png/writer_test.go.html#8126712">b1</a></span>&nbsp;<span class="op" id="8126771">||</span>&nbsp;<span class="ident" id="8126774"><a href="/image/png/writer_test.go.html#8126685">a0</a></span>&nbsp;<span class="op" id="8126777">!=</span>&nbsp;<span class="ident" id="8126780"><a href="/image/png/writer_test.go.html#8126716">a1</a></span>&nbsp;<span class="op" id="8126783">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126789">return</span>&nbsp;<span class="ident" id="8126796"><a href="/image/png/writer_test.go.html#8126263">fmt</a></span><span class="op" id="8126799">.</span><span class="ident" id="8126800">Errorf</span><span class="op" id="8126806">(</span><span class="string" id="8126807">&#34;colors&nbsp;differ&nbsp;at&nbsp;(%d,&nbsp;%d):&nbsp;%v&nbsp;vs&nbsp;%v&#34;</span><span class="op" id="8126844">,</span>&nbsp;<span class="ident" id="8126846"><a href="/image/png/writer_test.go.html#8126587">x</a></span><span class="op" id="8126847">,</span>&nbsp;<span class="ident" id="8126849"><a href="/image/png/writer_test.go.html#8126546">y</a></span><span class="op" id="8126850">,</span>&nbsp;<span class="ident" id="8126852"><a href="/image/png/writer_test.go.html#8126625">c0</a></span><span class="op" id="8126854">,</span>&nbsp;<span class="ident" id="8126856"><a href="/image/png/writer_test.go.html#8126646">c1</a></span><span class="op" id="8126858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126873">return</span>&nbsp;<span class="ident" id="8126880">nil</span><br>
<span class="lineno">35</span><span class="op" id="8126884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8126887">func</span>&nbsp;<span class="ident" id="8126892">encodeDecode</span><span class="op" id="8126904">(</span><span class="ident" id="8126905">m</span>&nbsp;<span class="ident" id="8126907"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8126912">.</span><span class="ident" id="8126913">Image</span><span class="op" id="8126918">)</span>&nbsp;<span class="op" id="8126920">(</span><span class="ident" id="8126921"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8126926">.</span><span class="ident" id="8126927">Image</span><span class="op" id="8126932">,</span>&nbsp;<span class="builtintype" id="8126934">error</span><span class="op" id="8126939">)</span>&nbsp;<span class="op" id="8126941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126944">var</span>&nbsp;<span class="ident" id="8126948">b</span>&nbsp;<span class="ident" id="8126950"><a href="/image/png/writer_test.go.html#8126254">bytes</a></span><span class="op" id="8126955">.</span><span class="ident" id="8126956">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126964">err</span>&nbsp;<span class="op" id="8126968">:=</span>&nbsp;<span class="ident" id="8126971"><a href="/image/png/writer.go.html#4892302">Encode</a></span><span class="op" id="8126977">(</span><span class="op" id="8126978">&amp;</span><span class="ident" id="8126979"><a href="/image/png/writer_test.go.html#8126948">b</a></span><span class="op" id="8126980">,</span>&nbsp;<span class="ident" id="8126982"><a href="/image/png/writer_test.go.html#8126905">m</a></span><span class="op" id="8126983">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126986">if</span>&nbsp;<span class="ident" id="8126989"><a href="/image/png/writer_test.go.html#8126964">err</a></span>&nbsp;<span class="op" id="8126993">!=</span>&nbsp;<span class="ident" id="8126996">nil</span>&nbsp;<span class="op" id="8127000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127004">return</span>&nbsp;<span class="ident" id="8127011">nil</span><span class="op" id="8127014">,</span>&nbsp;<span class="ident" id="8127016"><a href="/image/png/writer_test.go.html#8126964">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127024">return</span>&nbsp;<span class="ident" id="8127031"><a href="/image/png/reader.go.html#4879689">Decode</a></span><span class="op" id="8127037">(</span><span class="op" id="8127038">&amp;</span><span class="ident" id="8127039"><a href="/image/png/writer_test.go.html#8126948">b</a></span><span class="op" id="8127040">)</span><br>
<span class="lineno"></span><span class="op" id="8127042">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="8127045">func</span>&nbsp;<span class="ident" id="8127050">TestWriter</span><span class="op" id="8127060">(</span><span class="ident" id="8127061">t</span>&nbsp;<span class="op" id="8127063">*</span><span class="ident" id="8127064"><a href="/image/png/writer_test.go.html#8126307">testing</a></span><span class="op" id="8127071">.</span><span class="ident" id="8127072">T</span><span class="op" id="8127073">)</span>&nbsp;<span class="op" id="8127075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8127078">//&nbsp;The&nbsp;filenames&nbsp;variable&nbsp;is&nbsp;declared&nbsp;in&nbsp;reader_test.go.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127136">names</span>&nbsp;<span class="op" id="8127142">:=</span>&nbsp;<span class="ident" id="8127145"><a href="/image/png/reader_test.go.html#8117914">filenames</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127156">if</span>&nbsp;<span class="ident" id="8127159"><a href="/image/png/writer_test.go.html#8126307">testing</a></span><span class="op" id="8127166">.</span><span class="ident" id="8127167">Short</span><span class="op" id="8127172">(</span><span class="op" id="8127173">)</span>&nbsp;<span class="op" id="8127175">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127179"><a href="/image/png/writer_test.go.html#8127136">names</a></span>&nbsp;<span class="op" id="8127185">=</span>&nbsp;<span class="ident" id="8127187"><a href="/image/png/reader_test.go.html#8118328">filenamesShort</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127206">for</span>&nbsp;<span class="ident" id="8127210">_</span><span class="op" id="8127211">,</span>&nbsp;<span class="ident" id="8127213">fn</span>&nbsp;<span class="op" id="8127216">:=</span>&nbsp;<span class="keyword" id="8127219">range</span>&nbsp;<span class="ident" id="8127225"><a href="/image/png/writer_test.go.html#8127136">names</a></span>&nbsp;<span class="op" id="8127231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127235">qfn</span>&nbsp;<span class="op" id="8127239">:=</span>&nbsp;<span class="string" id="8127242">&#34;testdata/pngsuite/&#34;</span>&nbsp;<span class="op" id="8127263">+</span>&nbsp;<span class="ident" id="8127265"><a href="/image/png/writer_test.go.html#8127213">fn</a></span>&nbsp;<span class="op" id="8127268">+</span>&nbsp;<span class="string" id="8127270">&#34;.png&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8127279">//&nbsp;Read&nbsp;the&nbsp;image.</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127300">m0</span><span class="op" id="8127302">,</span>&nbsp;<span class="ident" id="8127304">err</span>&nbsp;<span class="op" id="8127308">:=</span>&nbsp;<span class="ident" id="8127311"><a href="/image/png/reader_test.go.html#8118405">readPNG</a></span><span class="op" id="8127318">(</span><span class="ident" id="8127319"><a href="/image/png/writer_test.go.html#8127235">qfn</a></span><span class="op" id="8127322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127326">if</span>&nbsp;<span class="ident" id="8127329"><a href="/image/png/writer_test.go.html#8127304">err</a></span>&nbsp;<span class="op" id="8127333">!=</span>&nbsp;<span class="ident" id="8127336">nil</span>&nbsp;<span class="op" id="8127340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127345"><a href="/image/png/writer_test.go.html#8127061">t</a></span><span class="op" id="8127346">.</span><span class="ident" id="8127347">Error</span><span class="op" id="8127352">(</span><span class="ident" id="8127353"><a href="/image/png/writer_test.go.html#8127213">fn</a></span><span class="op" id="8127355">,</span>&nbsp;<span class="ident" id="8127357"><a href="/image/png/writer_test.go.html#8127304">err</a></span><span class="op" id="8127360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127365">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127376">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8127380">//&nbsp;Read&nbsp;the&nbsp;image&nbsp;again,&nbsp;encode&nbsp;it,&nbsp;and&nbsp;decode&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127433">m1</span><span class="op" id="8127435">,</span>&nbsp;<span class="ident" id="8127437"><a href="/image/png/writer_test.go.html#8127304">err</a></span>&nbsp;<span class="op" id="8127441">:=</span>&nbsp;<span class="ident" id="8127444"><a href="/image/png/reader_test.go.html#8118405">readPNG</a></span><span class="op" id="8127451">(</span><span class="ident" id="8127452"><a href="/image/png/writer_test.go.html#8127235">qfn</a></span><span class="op" id="8127455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127459">if</span>&nbsp;<span class="ident" id="8127462"><a href="/image/png/writer_test.go.html#8127304">err</a></span>&nbsp;<span class="op" id="8127466">!=</span>&nbsp;<span class="ident" id="8127469">nil</span>&nbsp;<span class="op" id="8127473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127478"><a href="/image/png/writer_test.go.html#8127061">t</a></span><span class="op" id="8127479">.</span><span class="ident" id="8127480">Error</span><span class="op" id="8127485">(</span><span class="ident" id="8127486"><a href="/image/png/writer_test.go.html#8127213">fn</a></span><span class="op" id="8127488">,</span>&nbsp;<span class="ident" id="8127490"><a href="/image/png/writer_test.go.html#8127304">err</a></span><span class="op" id="8127493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127498">return</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127511">m2</span><span class="op" id="8127513">,</span>&nbsp;<span class="ident" id="8127515"><a href="/image/png/writer_test.go.html#8127304">err</a></span>&nbsp;<span class="op" id="8127519">:=</span>&nbsp;<span class="ident" id="8127522"><a href="/image/png/writer_test.go.html#8126892">encodeDecode</a></span><span class="op" id="8127534">(</span><span class="ident" id="8127535"><a href="/image/png/writer_test.go.html#8127433">m1</a></span><span class="op" id="8127537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127541">if</span>&nbsp;<span class="ident" id="8127544"><a href="/image/png/writer_test.go.html#8127304">err</a></span>&nbsp;<span class="op" id="8127548">!=</span>&nbsp;<span class="ident" id="8127551">nil</span>&nbsp;<span class="op" id="8127555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127560"><a href="/image/png/writer_test.go.html#8127061">t</a></span><span class="op" id="8127561">.</span><span class="ident" id="8127562">Error</span><span class="op" id="8127567">(</span><span class="ident" id="8127568"><a href="/image/png/writer_test.go.html#8127213">fn</a></span><span class="op" id="8127570">,</span>&nbsp;<span class="ident" id="8127572"><a href="/image/png/writer_test.go.html#8127304">err</a></span><span class="op" id="8127575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127580">return</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8127593">//&nbsp;Compare&nbsp;the&nbsp;two.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127615"><a href="/image/png/writer_test.go.html#8127304">err</a></span>&nbsp;<span class="op" id="8127619">=</span>&nbsp;<span class="ident" id="8127621"><a href="/image/png/writer_test.go.html#8126325">diff</a></span><span class="op" id="8127625">(</span><span class="ident" id="8127626"><a href="/image/png/writer_test.go.html#8127300">m0</a></span><span class="op" id="8127628">,</span>&nbsp;<span class="ident" id="8127630"><a href="/image/png/writer_test.go.html#8127511">m2</a></span><span class="op" id="8127632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127636">if</span>&nbsp;<span class="ident" id="8127639"><a href="/image/png/writer_test.go.html#8127304">err</a></span>&nbsp;<span class="op" id="8127643">!=</span>&nbsp;<span class="ident" id="8127646">nil</span>&nbsp;<span class="op" id="8127650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127655"><a href="/image/png/writer_test.go.html#8127061">t</a></span><span class="op" id="8127656">.</span><span class="ident" id="8127657">Error</span><span class="op" id="8127662">(</span><span class="ident" id="8127663"><a href="/image/png/writer_test.go.html#8127213">fn</a></span><span class="op" id="8127665">,</span>&nbsp;<span class="ident" id="8127667"><a href="/image/png/writer_test.go.html#8127304">err</a></span><span class="op" id="8127670">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127675">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127689">}</span><br>
<span class="lineno"></span><span class="op" id="8127691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="8127694">func</span>&nbsp;<span class="ident" id="8127699">TestWriterLevels</span><span class="op" id="8127715">(</span><span class="ident" id="8127716">t</span>&nbsp;<span class="op" id="8127718">*</span><span class="ident" id="8127719"><a href="/image/png/writer_test.go.html#8126307">testing</a></span><span class="op" id="8127726">.</span><span class="ident" id="8127727">T</span><span class="op" id="8127728">)</span>&nbsp;<span class="op" id="8127730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127733">m</span>&nbsp;<span class="op" id="8127735">:=</span>&nbsp;<span class="ident" id="8127738"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8127743">.</span><span class="ident" id="8127744">NewNRGBA</span><span class="op" id="8127752">(</span><span class="ident" id="8127753"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8127758">.</span><span class="ident" id="8127759">Rect</span><span class="op" id="8127763">(</span><span class="num" id="8127764">0</span><span class="op" id="8127765">,</span>&nbsp;<span class="num" id="8127767">0</span><span class="op" id="8127768">,</span>&nbsp;<span class="num" id="8127770">100</span><span class="op" id="8127773">,</span>&nbsp;<span class="num" id="8127775">100</span><span class="op" id="8127778">)</span><span class="op" id="8127779">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127783">var</span>&nbsp;<span class="ident" id="8127787">b1</span><span class="op" id="8127789">,</span>&nbsp;<span class="ident" id="8127791">b2</span>&nbsp;<span class="ident" id="8127794"><a href="/image/png/writer_test.go.html#8126254">bytes</a></span><span class="op" id="8127799">.</span><span class="ident" id="8127800">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127808">if</span>&nbsp;<span class="ident" id="8127811">err</span>&nbsp;<span class="op" id="8127815">:=</span>&nbsp;<span class="op" id="8127818">(</span><span class="op" id="8127819">&amp;</span><span class="ident" id="8127820"><a href="/image/png/writer.go.html#4881643">Encoder</a></span><span class="op" id="8127827">{</span><span class="op" id="8127828">}</span><span class="op" id="8127829">)</span><span class="op" id="8127830">.</span><span class="ident" id="8127831">Encode</span><span class="op" id="8127837">(</span><span class="op" id="8127838">&amp;</span><span class="ident" id="8127839"><a href="/image/png/writer_test.go.html#8127787">b1</a></span><span class="op" id="8127841">,</span>&nbsp;<span class="ident" id="8127843"><a href="/image/png/writer_test.go.html#8127733">m</a></span><span class="op" id="8127844">)</span><span class="op" id="8127845">;</span>&nbsp;<span class="ident" id="8127847"><a href="/image/png/writer_test.go.html#8127811">err</a></span>&nbsp;<span class="op" id="8127851">!=</span>&nbsp;<span class="ident" id="8127854">nil</span>&nbsp;<span class="op" id="8127858">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127862"><a href="/image/png/writer_test.go.html#8127716">t</a></span><span class="op" id="8127863">.</span><span class="ident" id="8127864">Fatal</span><span class="op" id="8127869">(</span><span class="ident" id="8127870"><a href="/image/png/writer_test.go.html#8127811">err</a></span><span class="op" id="8127873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127879">noenc</span>&nbsp;<span class="op" id="8127885">:=</span>&nbsp;<span class="op" id="8127888">&amp;</span><span class="ident" id="8127889"><a href="/image/png/writer.go.html#4881643">Encoder</a></span><span class="op" id="8127896">{</span><span class="ident" id="8127897">CompressionLevel</span><span class="op" id="8127913">:</span>&nbsp;<span class="ident" id="8127915"><a href="/image/png/writer.go.html#4881935">NoCompression</a></span><span class="op" id="8127928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127931">if</span>&nbsp;<span class="ident" id="8127934">err</span>&nbsp;<span class="op" id="8127938">:=</span>&nbsp;<span class="ident" id="8127941"><a href="/image/png/writer_test.go.html#8127879">noenc</a></span><span class="op" id="8127946">.</span><span class="ident" id="8127947">Encode</span><span class="op" id="8127953">(</span><span class="op" id="8127954">&amp;</span><span class="ident" id="8127955"><a href="/image/png/writer_test.go.html#8127791">b2</a></span><span class="op" id="8127957">,</span>&nbsp;<span class="ident" id="8127959"><a href="/image/png/writer_test.go.html#8127733">m</a></span><span class="op" id="8127960">)</span><span class="op" id="8127961">;</span>&nbsp;<span class="ident" id="8127963"><a href="/image/png/writer_test.go.html#8127934">err</a></span>&nbsp;<span class="op" id="8127967">!=</span>&nbsp;<span class="ident" id="8127970">nil</span>&nbsp;<span class="op" id="8127974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127978"><a href="/image/png/writer_test.go.html#8127716">t</a></span><span class="op" id="8127979">.</span><span class="ident" id="8127980">Fatal</span><span class="op" id="8127985">(</span><span class="ident" id="8127986"><a href="/image/png/writer_test.go.html#8127934">err</a></span><span class="op" id="8127989">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127996">if</span>&nbsp;<span class="ident" id="8127999"><a href="/image/png/writer_test.go.html#8127791">b2</a></span><span class="op" id="8128001">.</span><span class="ident" id="8128002">Len</span><span class="op" id="8128005">(</span><span class="op" id="8128006">)</span>&nbsp;<span class="op" id="8128008">&lt;=</span>&nbsp;<span class="ident" id="8128011"><a href="/image/png/writer_test.go.html#8127787">b1</a></span><span class="op" id="8128013">.</span><span class="ident" id="8128014">Len</span><span class="op" id="8128017">(</span><span class="op" id="8128018">)</span>&nbsp;<span class="op" id="8128020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128024"><a href="/image/png/writer_test.go.html#8127716">t</a></span><span class="op" id="8128025">.</span><span class="ident" id="8128026">Error</span><span class="op" id="8128031">(</span><span class="string" id="8128032">&#34;DefaultCompression&nbsp;encoding&nbsp;was&nbsp;larger&nbsp;than&nbsp;NoCompression&nbsp;encoding&#34;</span><span class="op" id="8128100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128103">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128106">if</span>&nbsp;<span class="ident" id="8128109">_</span><span class="op" id="8128110">,</span>&nbsp;<span class="ident" id="8128112">err</span>&nbsp;<span class="op" id="8128116">:=</span>&nbsp;<span class="ident" id="8128119"><a href="/image/png/reader.go.html#4879689">Decode</a></span><span class="op" id="8128125">(</span><span class="op" id="8128126">&amp;</span><span class="ident" id="8128127"><a href="/image/png/writer_test.go.html#8127787">b1</a></span><span class="op" id="8128129">)</span><span class="op" id="8128130">;</span>&nbsp;<span class="ident" id="8128132"><a href="/image/png/writer_test.go.html#8128112">err</a></span>&nbsp;<span class="op" id="8128136">!=</span>&nbsp;<span class="ident" id="8128139">nil</span>&nbsp;<span class="op" id="8128143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128147"><a href="/image/png/writer_test.go.html#8127716">t</a></span><span class="op" id="8128148">.</span><span class="ident" id="8128149">Error</span><span class="op" id="8128154">(</span><span class="string" id="8128155">&#34;cannot&nbsp;decode&nbsp;DefaultCompression&#34;</span><span class="op" id="8128189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128195">if</span>&nbsp;<span class="ident" id="8128198">_</span><span class="op" id="8128199">,</span>&nbsp;<span class="ident" id="8128201">err</span>&nbsp;<span class="op" id="8128205">:=</span>&nbsp;<span class="ident" id="8128208"><a href="/image/png/reader.go.html#4879689">Decode</a></span><span class="op" id="8128214">(</span><span class="op" id="8128215">&amp;</span><span class="ident" id="8128216"><a href="/image/png/writer_test.go.html#8127791">b2</a></span><span class="op" id="8128218">)</span><span class="op" id="8128219">;</span>&nbsp;<span class="ident" id="8128221"><a href="/image/png/writer_test.go.html#8128201">err</a></span>&nbsp;<span class="op" id="8128225">!=</span>&nbsp;<span class="ident" id="8128228">nil</span>&nbsp;<span class="op" id="8128232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128236"><a href="/image/png/writer_test.go.html#8127716">t</a></span><span class="op" id="8128237">.</span><span class="ident" id="8128238">Error</span><span class="op" id="8128243">(</span><span class="string" id="8128244">&#34;cannot&nbsp;decode&nbsp;NoCompression&#34;</span><span class="op" id="8128273">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128276">}</span><br>
<span class="lineno"></span><span class="op" id="8128278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8128281">func</span>&nbsp;<span class="ident" id="8128286">TestSubImage</span><span class="op" id="8128298">(</span><span class="ident" id="8128299">t</span>&nbsp;<span class="op" id="8128301">*</span><span class="ident" id="8128302"><a href="/image/png/writer_test.go.html#8126307">testing</a></span><span class="op" id="8128309">.</span><span class="ident" id="8128310">T</span><span class="op" id="8128311">)</span>&nbsp;<span class="op" id="8128313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128316">m0</span>&nbsp;<span class="op" id="8128319">:=</span>&nbsp;<span class="ident" id="8128322"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8128327">.</span><span class="ident" id="8128328">NewRGBA</span><span class="op" id="8128335">(</span><span class="ident" id="8128336"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8128341">.</span><span class="ident" id="8128342">Rect</span><span class="op" id="8128346">(</span><span class="num" id="8128347">0</span><span class="op" id="8128348">,</span>&nbsp;<span class="num" id="8128350">0</span><span class="op" id="8128351">,</span>&nbsp;<span class="num" id="8128353">256</span><span class="op" id="8128356">,</span>&nbsp;<span class="num" id="8128358">256</span><span class="op" id="8128361">)</span><span class="op" id="8128362">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128365">for</span>&nbsp;<span class="ident" id="8128369">y</span>&nbsp;<span class="op" id="8128371">:=</span>&nbsp;<span class="num" id="8128374">0</span><span class="op" id="8128375">;</span>&nbsp;<span class="ident" id="8128377"><a href="/image/png/writer_test.go.html#8128369">y</a></span>&nbsp;<span class="op" id="8128379">&lt;</span>&nbsp;<span class="num" id="8128381">256</span><span class="op" id="8128384">;</span>&nbsp;<span class="ident" id="8128386"><a href="/image/png/writer_test.go.html#8128369">y</a></span><span class="op" id="8128387">++</span>&nbsp;<span class="op" id="8128390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128394">for</span>&nbsp;<span class="ident" id="8128398">x</span>&nbsp;<span class="op" id="8128400">:=</span>&nbsp;<span class="num" id="8128403">0</span><span class="op" id="8128404">;</span>&nbsp;<span class="ident" id="8128406"><a href="/image/png/writer_test.go.html#8128398">x</a></span>&nbsp;<span class="op" id="8128408">&lt;</span>&nbsp;<span class="num" id="8128410">256</span><span class="op" id="8128413">;</span>&nbsp;<span class="ident" id="8128415"><a href="/image/png/writer_test.go.html#8128398">x</a></span><span class="op" id="8128416">++</span>&nbsp;<span class="op" id="8128419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128424"><a href="/image/png/writer_test.go.html#8128316">m0</a></span><span class="op" id="8128426">.</span><span class="ident" id="8128427">Set</span><span class="op" id="8128430">(</span><span class="ident" id="8128431"><a href="/image/png/writer_test.go.html#8128398">x</a></span><span class="op" id="8128432">,</span>&nbsp;<span class="ident" id="8128434"><a href="/image/png/writer_test.go.html#8128369">y</a></span><span class="op" id="8128435">,</span>&nbsp;<span class="ident" id="8128437"><a href="/image/png/writer_test.go.html#8126279">color</a></span><span class="op" id="8128442">.</span><span class="ident" id="8128443">RGBA</span><span class="op" id="8128447">{</span><span class="builtintype" id="8128448">uint8</span><span class="op" id="8128453">(</span><span class="ident" id="8128454"><a href="/image/png/writer_test.go.html#8128398">x</a></span><span class="op" id="8128455">)</span><span class="op" id="8128456">,</span>&nbsp;<span class="builtintype" id="8128458">uint8</span><span class="op" id="8128463">(</span><span class="ident" id="8128464"><a href="/image/png/writer_test.go.html#8128369">y</a></span><span class="op" id="8128465">)</span><span class="op" id="8128466">,</span>&nbsp;<span class="num" id="8128468">0</span><span class="op" id="8128469">,</span>&nbsp;<span class="num" id="8128471">255</span><span class="op" id="8128474">}</span><span class="op" id="8128475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128482">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128485"><a href="/image/png/writer_test.go.html#8128316">m0</a></span>&nbsp;<span class="op" id="8128488">=</span>&nbsp;<span class="ident" id="8128490"><a href="/image/png/writer_test.go.html#8128316">m0</a></span><span class="op" id="8128492">.</span><span class="ident" id="8128493">SubImage</span><span class="op" id="8128501">(</span><span class="ident" id="8128502"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8128507">.</span><span class="ident" id="8128508">Rect</span><span class="op" id="8128512">(</span><span class="num" id="8128513">50</span><span class="op" id="8128515">,</span>&nbsp;<span class="num" id="8128517">30</span><span class="op" id="8128519">,</span>&nbsp;<span class="num" id="8128521">250</span><span class="op" id="8128524">,</span>&nbsp;<span class="num" id="8128526">130</span><span class="op" id="8128529">)</span><span class="op" id="8128530">)</span><span class="op" id="8128531">.</span><span class="op" id="8128532">(</span><span class="op" id="8128533">*</span><span class="ident" id="8128534"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8128539">.</span><span class="ident" id="8128540">RGBA</span><span class="op" id="8128544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128547">m1</span><span class="op" id="8128549">,</span>&nbsp;<span class="ident" id="8128551">err</span>&nbsp;<span class="op" id="8128555">:=</span>&nbsp;<span class="ident" id="8128558"><a href="/image/png/writer_test.go.html#8126892">encodeDecode</a></span><span class="op" id="8128570">(</span><span class="ident" id="8128571"><a href="/image/png/writer_test.go.html#8128316">m0</a></span><span class="op" id="8128573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128576">if</span>&nbsp;<span class="ident" id="8128579"><a href="/image/png/writer_test.go.html#8128551">err</a></span>&nbsp;<span class="op" id="8128583">!=</span>&nbsp;<span class="ident" id="8128586">nil</span>&nbsp;<span class="op" id="8128590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128594"><a href="/image/png/writer_test.go.html#8128299">t</a></span><span class="op" id="8128595">.</span><span class="ident" id="8128596">Error</span><span class="op" id="8128601">(</span><span class="ident" id="8128602"><a href="/image/png/writer_test.go.html#8128551">err</a></span><span class="op" id="8128605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128609">return</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128620"><a href="/image/png/writer_test.go.html#8128551">err</a></span>&nbsp;<span class="op" id="8128624">=</span>&nbsp;<span class="ident" id="8128626"><a href="/image/png/writer_test.go.html#8126325">diff</a></span><span class="op" id="8128630">(</span><span class="ident" id="8128631"><a href="/image/png/writer_test.go.html#8128316">m0</a></span><span class="op" id="8128633">,</span>&nbsp;<span class="ident" id="8128635"><a href="/image/png/writer_test.go.html#8128547">m1</a></span><span class="op" id="8128637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128640">if</span>&nbsp;<span class="ident" id="8128643"><a href="/image/png/writer_test.go.html#8128551">err</a></span>&nbsp;<span class="op" id="8128647">!=</span>&nbsp;<span class="ident" id="8128650">nil</span>&nbsp;<span class="op" id="8128654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128658"><a href="/image/png/writer_test.go.html#8128299">t</a></span><span class="op" id="8128659">.</span><span class="ident" id="8128660">Error</span><span class="op" id="8128665">(</span><span class="ident" id="8128666"><a href="/image/png/writer_test.go.html#8128551">err</a></span><span class="op" id="8128669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128673">return</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128681">}</span><br>
<span class="lineno"></span><span class="op" id="8128683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8128686">func</span>&nbsp;<span class="ident" id="8128691">BenchmarkEncodeGray</span><span class="op" id="8128710">(</span><span class="ident" id="8128711">b</span>&nbsp;<span class="op" id="8128713">*</span><span class="ident" id="8128714"><a href="/image/png/writer_test.go.html#8126307">testing</a></span><span class="op" id="8128721">.</span><span class="ident" id="8128722">B</span><span class="op" id="8128723">)</span>&nbsp;<span class="op" id="8128725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128728"><a href="/image/png/writer_test.go.html#8128711">b</a></span><span class="op" id="8128729">.</span><span class="ident" id="8128730">StopTimer</span><span class="op" id="8128739">(</span><span class="op" id="8128740">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128743">img</span>&nbsp;<span class="op" id="8128747">:=</span>&nbsp;<span class="ident" id="8128750"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8128755">.</span><span class="ident" id="8128756">NewGray</span><span class="op" id="8128763">(</span><span class="ident" id="8128764"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8128769">.</span><span class="ident" id="8128770">Rect</span><span class="op" id="8128774">(</span><span class="num" id="8128775">0</span><span class="op" id="8128776">,</span>&nbsp;<span class="num" id="8128778">0</span><span class="op" id="8128779">,</span>&nbsp;<span class="num" id="8128781">640</span><span class="op" id="8128784">,</span>&nbsp;<span class="num" id="8128786">480</span><span class="op" id="8128789">)</span><span class="op" id="8128790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128793"><a href="/image/png/writer_test.go.html#8128711">b</a></span><span class="op" id="8128794">.</span><span class="ident" id="8128795">SetBytes</span><span class="op" id="8128803">(</span><span class="num" id="8128804">640</span>&nbsp;<span class="op" id="8128808">*</span>&nbsp;<span class="num" id="8128810">480</span>&nbsp;<span class="op" id="8128814">*</span>&nbsp;<span class="num" id="8128816">1</span><span class="op" id="8128817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128820"><a href="/image/png/writer_test.go.html#8128711">b</a></span><span class="op" id="8128821">.</span><span class="ident" id="8128822">StartTimer</span><span class="op" id="8128832">(</span><span class="op" id="8128833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128836">for</span>&nbsp;<span class="ident" id="8128840">i</span>&nbsp;<span class="op" id="8128842">:=</span>&nbsp;<span class="num" id="8128845">0</span><span class="op" id="8128846">;</span>&nbsp;<span class="ident" id="8128848"><a href="/image/png/writer_test.go.html#8128840">i</a></span>&nbsp;<span class="op" id="8128850">&lt;</span>&nbsp;<span class="ident" id="8128852"><a href="/image/png/writer_test.go.html#8128711">b</a></span><span class="op" id="8128853">.</span><span class="ident" id="8128854">N</span><span class="op" id="8128855">;</span>&nbsp;<span class="ident" id="8128857"><a href="/image/png/writer_test.go.html#8128840">i</a></span><span class="op" id="8128858">++</span>&nbsp;<span class="op" id="8128861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128865"><a href="/image/png/writer.go.html#4892302">Encode</a></span><span class="op" id="8128871">(</span><span class="ident" id="8128872"><a href="/image/png/writer_test.go.html#8126294">ioutil</a></span><span class="op" id="8128878">.</span><span class="ident" id="8128879">Discard</span><span class="op" id="8128886">,</span>&nbsp;<span class="ident" id="8128888"><a href="/image/png/writer_test.go.html#8128743">img</a></span><span class="op" id="8128891">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128894">}</span><br>
<span class="lineno"></span><span class="op" id="8128896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8128899">func</span>&nbsp;<span class="ident" id="8128904">BenchmarkEncodeNRGBOpaque</span><span class="op" id="8128929">(</span><span class="ident" id="8128930">b</span>&nbsp;<span class="op" id="8128932">*</span><span class="ident" id="8128933"><a href="/image/png/writer_test.go.html#8126307">testing</a></span><span class="op" id="8128940">.</span><span class="ident" id="8128941">B</span><span class="op" id="8128942">)</span>&nbsp;<span class="op" id="8128944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128947"><a href="/image/png/writer_test.go.html#8128930">b</a></span><span class="op" id="8128948">.</span><span class="ident" id="8128949">StopTimer</span><span class="op" id="8128958">(</span><span class="op" id="8128959">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128962">img</span>&nbsp;<span class="op" id="8128966">:=</span>&nbsp;<span class="ident" id="8128969"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8128974">.</span><span class="ident" id="8128975">NewNRGBA</span><span class="op" id="8128983">(</span><span class="ident" id="8128984"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8128989">.</span><span class="ident" id="8128990">Rect</span><span class="op" id="8128994">(</span><span class="num" id="8128995">0</span><span class="op" id="8128996">,</span>&nbsp;<span class="num" id="8128998">0</span><span class="op" id="8128999">,</span>&nbsp;<span class="num" id="8129001">640</span><span class="op" id="8129004">,</span>&nbsp;<span class="num" id="8129006">480</span><span class="op" id="8129009">)</span><span class="op" id="8129010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8129013">//&nbsp;Set&nbsp;all&nbsp;pixels&nbsp;to&nbsp;0xFF&nbsp;alpha&nbsp;to&nbsp;force&nbsp;opaque&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129068">bo</span>&nbsp;<span class="op" id="8129071">:=</span>&nbsp;<span class="ident" id="8129074"><a href="/image/png/writer_test.go.html#8128962">img</a></span><span class="op" id="8129077">.</span><span class="ident" id="8129078">Bounds</span><span class="op" id="8129084">(</span><span class="op" id="8129085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129088">for</span>&nbsp;<span class="ident" id="8129092">y</span>&nbsp;<span class="op" id="8129094">:=</span>&nbsp;<span class="ident" id="8129097"><a href="/image/png/writer_test.go.html#8129068">bo</a></span><span class="op" id="8129099">.</span><span class="ident" id="8129100">Min</span><span class="op" id="8129103">.</span><span class="ident" id="8129104">Y</span><span class="op" id="8129105">;</span>&nbsp;<span class="ident" id="8129107"><a href="/image/png/writer_test.go.html#8129092">y</a></span>&nbsp;<span class="op" id="8129109">&lt;</span>&nbsp;<span class="ident" id="8129111"><a href="/image/png/writer_test.go.html#8129068">bo</a></span><span class="op" id="8129113">.</span><span class="ident" id="8129114">Max</span><span class="op" id="8129117">.</span><span class="ident" id="8129118">Y</span><span class="op" id="8129119">;</span>&nbsp;<span class="ident" id="8129121"><a href="/image/png/writer_test.go.html#8129092">y</a></span><span class="op" id="8129122">++</span>&nbsp;<span class="op" id="8129125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129129">for</span>&nbsp;<span class="ident" id="8129133">x</span>&nbsp;<span class="op" id="8129135">:=</span>&nbsp;<span class="ident" id="8129138"><a href="/image/png/writer_test.go.html#8129068">bo</a></span><span class="op" id="8129140">.</span><span class="ident" id="8129141">Min</span><span class="op" id="8129144">.</span><span class="ident" id="8129145">X</span><span class="op" id="8129146">;</span>&nbsp;<span class="ident" id="8129148"><a href="/image/png/writer_test.go.html#8129133">x</a></span>&nbsp;<span class="op" id="8129150">&lt;</span>&nbsp;<span class="ident" id="8129152"><a href="/image/png/writer_test.go.html#8129068">bo</a></span><span class="op" id="8129154">.</span><span class="ident" id="8129155">Max</span><span class="op" id="8129158">.</span><span class="ident" id="8129159">X</span><span class="op" id="8129160">;</span>&nbsp;<span class="ident" id="8129162"><a href="/image/png/writer_test.go.html#8129133">x</a></span><span class="op" id="8129163">++</span>&nbsp;<span class="op" id="8129166">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129171"><a href="/image/png/writer_test.go.html#8128962">img</a></span><span class="op" id="8129174">.</span><span class="ident" id="8129175">Set</span><span class="op" id="8129178">(</span><span class="ident" id="8129179"><a href="/image/png/writer_test.go.html#8129133">x</a></span><span class="op" id="8129180">,</span>&nbsp;<span class="ident" id="8129182"><a href="/image/png/writer_test.go.html#8129092">y</a></span><span class="op" id="8129183">,</span>&nbsp;<span class="ident" id="8129185"><a href="/image/png/writer_test.go.html#8126279">color</a></span><span class="op" id="8129190">.</span><span class="ident" id="8129191">NRGBA</span><span class="op" id="8129196">{</span><span class="num" id="8129197">0</span><span class="op" id="8129198">,</span>&nbsp;<span class="num" id="8129200">0</span><span class="op" id="8129201">,</span>&nbsp;<span class="num" id="8129203">0</span><span class="op" id="8129204">,</span>&nbsp;<span class="num" id="8129206">255</span><span class="op" id="8129209">}</span><span class="op" id="8129210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129220">if</span>&nbsp;<span class="op" id="8129223">!</span><span class="ident" id="8129224"><a href="/image/png/writer_test.go.html#8128962">img</a></span><span class="op" id="8129227">.</span><span class="ident" id="8129228">Opaque</span><span class="op" id="8129234">(</span><span class="op" id="8129235">)</span>&nbsp;<span class="op" id="8129237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129241"><a href="/image/png/writer_test.go.html#8128930">b</a></span><span class="op" id="8129242">.</span><span class="ident" id="8129243">Fatal</span><span class="op" id="8129248">(</span><span class="string" id="8129249">&#34;expected&nbsp;image&nbsp;to&nbsp;be&nbsp;opaque&#34;</span><span class="op" id="8129278">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129284"><a href="/image/png/writer_test.go.html#8128930">b</a></span><span class="op" id="8129285">.</span><span class="ident" id="8129286">SetBytes</span><span class="op" id="8129294">(</span><span class="num" id="8129295">640</span>&nbsp;<span class="op" id="8129299">*</span>&nbsp;<span class="num" id="8129301">480</span>&nbsp;<span class="op" id="8129305">*</span>&nbsp;<span class="num" id="8129307">4</span><span class="op" id="8129308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129311"><a href="/image/png/writer_test.go.html#8128930">b</a></span><span class="op" id="8129312">.</span><span class="ident" id="8129313">StartTimer</span><span class="op" id="8129323">(</span><span class="op" id="8129324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129327">for</span>&nbsp;<span class="ident" id="8129331">i</span>&nbsp;<span class="op" id="8129333">:=</span>&nbsp;<span class="num" id="8129336">0</span><span class="op" id="8129337">;</span>&nbsp;<span class="ident" id="8129339"><a href="/image/png/writer_test.go.html#8129331">i</a></span>&nbsp;<span class="op" id="8129341">&lt;</span>&nbsp;<span class="ident" id="8129343"><a href="/image/png/writer_test.go.html#8128930">b</a></span><span class="op" id="8129344">.</span><span class="ident" id="8129345">N</span><span class="op" id="8129346">;</span>&nbsp;<span class="ident" id="8129348"><a href="/image/png/writer_test.go.html#8129331">i</a></span><span class="op" id="8129349">++</span>&nbsp;<span class="op" id="8129352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129356"><a href="/image/png/writer.go.html#4892302">Encode</a></span><span class="op" id="8129362">(</span><span class="ident" id="8129363"><a href="/image/png/writer_test.go.html#8126294">ioutil</a></span><span class="op" id="8129369">.</span><span class="ident" id="8129370">Discard</span><span class="op" id="8129377">,</span>&nbsp;<span class="ident" id="8129379"><a href="/image/png/writer_test.go.html#8128962">img</a></span><span class="op" id="8129382">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129385">}</span><br>
<span class="lineno"></span><span class="op" id="8129387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8129390">func</span>&nbsp;<span class="ident" id="8129395">BenchmarkEncodeNRGBA</span><span class="op" id="8129415">(</span><span class="ident" id="8129416">b</span>&nbsp;<span class="op" id="8129418">*</span><span class="ident" id="8129419"><a href="/image/png/writer_test.go.html#8126307">testing</a></span><span class="op" id="8129426">.</span><span class="ident" id="8129427">B</span><span class="op" id="8129428">)</span>&nbsp;<span class="op" id="8129430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129433"><a href="/image/png/writer_test.go.html#8129416">b</a></span><span class="op" id="8129434">.</span><span class="ident" id="8129435">StopTimer</span><span class="op" id="8129444">(</span><span class="op" id="8129445">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129448">img</span>&nbsp;<span class="op" id="8129452">:=</span>&nbsp;<span class="ident" id="8129455"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8129460">.</span><span class="ident" id="8129461">NewNRGBA</span><span class="op" id="8129469">(</span><span class="ident" id="8129470"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8129475">.</span><span class="ident" id="8129476">Rect</span><span class="op" id="8129480">(</span><span class="num" id="8129481">0</span><span class="op" id="8129482">,</span>&nbsp;<span class="num" id="8129484">0</span><span class="op" id="8129485">,</span>&nbsp;<span class="num" id="8129487">640</span><span class="op" id="8129490">,</span>&nbsp;<span class="num" id="8129492">480</span><span class="op" id="8129495">)</span><span class="op" id="8129496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129499">if</span>&nbsp;<span class="ident" id="8129502"><a href="/image/png/writer_test.go.html#8129448">img</a></span><span class="op" id="8129505">.</span><span class="ident" id="8129506">Opaque</span><span class="op" id="8129512">(</span><span class="op" id="8129513">)</span>&nbsp;<span class="op" id="8129515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129519"><a href="/image/png/writer_test.go.html#8129416">b</a></span><span class="op" id="8129520">.</span><span class="ident" id="8129521">Fatal</span><span class="op" id="8129526">(</span><span class="string" id="8129527">&#34;expected&nbsp;image&nbsp;not&nbsp;to&nbsp;be&nbsp;opaque&#34;</span><span class="op" id="8129560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129566"><a href="/image/png/writer_test.go.html#8129416">b</a></span><span class="op" id="8129567">.</span><span class="ident" id="8129568">SetBytes</span><span class="op" id="8129576">(</span><span class="num" id="8129577">640</span>&nbsp;<span class="op" id="8129581">*</span>&nbsp;<span class="num" id="8129583">480</span>&nbsp;<span class="op" id="8129587">*</span>&nbsp;<span class="num" id="8129589">4</span><span class="op" id="8129590">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129593"><a href="/image/png/writer_test.go.html#8129416">b</a></span><span class="op" id="8129594">.</span><span class="ident" id="8129595">StartTimer</span><span class="op" id="8129605">(</span><span class="op" id="8129606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129609">for</span>&nbsp;<span class="ident" id="8129613">i</span>&nbsp;<span class="op" id="8129615">:=</span>&nbsp;<span class="num" id="8129618">0</span><span class="op" id="8129619">;</span>&nbsp;<span class="ident" id="8129621"><a href="/image/png/writer_test.go.html#8129613">i</a></span>&nbsp;<span class="op" id="8129623">&lt;</span>&nbsp;<span class="ident" id="8129625"><a href="/image/png/writer_test.go.html#8129416">b</a></span><span class="op" id="8129626">.</span><span class="ident" id="8129627">N</span><span class="op" id="8129628">;</span>&nbsp;<span class="ident" id="8129630"><a href="/image/png/writer_test.go.html#8129613">i</a></span><span class="op" id="8129631">++</span>&nbsp;<span class="op" id="8129634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129638"><a href="/image/png/writer.go.html#4892302">Encode</a></span><span class="op" id="8129644">(</span><span class="ident" id="8129645"><a href="/image/png/writer_test.go.html#8126294">ioutil</a></span><span class="op" id="8129651">.</span><span class="ident" id="8129652">Discard</span><span class="op" id="8129659">,</span>&nbsp;<span class="ident" id="8129661"><a href="/image/png/writer_test.go.html#8129448">img</a></span><span class="op" id="8129664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129667">}</span><br>
<span class="lineno"></span><span class="op" id="8129669">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="8129672">func</span>&nbsp;<span class="ident" id="8129677">BenchmarkEncodePaletted</span><span class="op" id="8129700">(</span><span class="ident" id="8129701">b</span>&nbsp;<span class="op" id="8129703">*</span><span class="ident" id="8129704"><a href="/image/png/writer_test.go.html#8126307">testing</a></span><span class="op" id="8129711">.</span><span class="ident" id="8129712">B</span><span class="op" id="8129713">)</span>&nbsp;<span class="op" id="8129715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129718"><a href="/image/png/writer_test.go.html#8129701">b</a></span><span class="op" id="8129719">.</span><span class="ident" id="8129720">StopTimer</span><span class="op" id="8129729">(</span><span class="op" id="8129730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129733">img</span>&nbsp;<span class="op" id="8129737">:=</span>&nbsp;<span class="ident" id="8129740"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8129745">.</span><span class="ident" id="8129746">NewPaletted</span><span class="op" id="8129757">(</span><span class="ident" id="8129758"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8129763">.</span><span class="ident" id="8129764">Rect</span><span class="op" id="8129768">(</span><span class="num" id="8129769">0</span><span class="op" id="8129770">,</span>&nbsp;<span class="num" id="8129772">0</span><span class="op" id="8129773">,</span>&nbsp;<span class="num" id="8129775">640</span><span class="op" id="8129778">,</span>&nbsp;<span class="num" id="8129780">480</span><span class="op" id="8129783">)</span><span class="op" id="8129784">,</span>&nbsp;<span class="ident" id="8129786"><a href="/image/png/writer_test.go.html#8126279">color</a></span><span class="op" id="8129791">.</span><span class="ident" id="8129792">Palette</span><span class="op" id="8129799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129803"><a href="/image/png/writer_test.go.html#8126279">color</a></span><span class="op" id="8129808">.</span><span class="ident" id="8129809">RGBA</span><span class="op" id="8129813">{</span><span class="num" id="8129814">0</span><span class="op" id="8129815">,</span>&nbsp;<span class="num" id="8129817">0</span><span class="op" id="8129818">,</span>&nbsp;<span class="num" id="8129820">0</span><span class="op" id="8129821">,</span>&nbsp;<span class="num" id="8129823">255</span><span class="op" id="8129826">}</span><span class="op" id="8129827">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129831"><a href="/image/png/writer_test.go.html#8126279">color</a></span><span class="op" id="8129836">.</span><span class="ident" id="8129837">RGBA</span><span class="op" id="8129841">{</span><span class="num" id="8129842">255</span><span class="op" id="8129845">,</span>&nbsp;<span class="num" id="8129847">255</span><span class="op" id="8129850">,</span>&nbsp;<span class="num" id="8129852">255</span><span class="op" id="8129855">,</span>&nbsp;<span class="num" id="8129857">255</span><span class="op" id="8129860">}</span><span class="op" id="8129861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129864">}</span><span class="op" id="8129865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129868"><a href="/image/png/writer_test.go.html#8129701">b</a></span><span class="op" id="8129869">.</span><span class="ident" id="8129870">SetBytes</span><span class="op" id="8129878">(</span><span class="num" id="8129879">640</span>&nbsp;<span class="op" id="8129883">*</span>&nbsp;<span class="num" id="8129885">480</span>&nbsp;<span class="op" id="8129889">*</span>&nbsp;<span class="num" id="8129891">1</span><span class="op" id="8129892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129895"><a href="/image/png/writer_test.go.html#8129701">b</a></span><span class="op" id="8129896">.</span><span class="ident" id="8129897">StartTimer</span><span class="op" id="8129907">(</span><span class="op" id="8129908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129911">for</span>&nbsp;<span class="ident" id="8129915">i</span>&nbsp;<span class="op" id="8129917">:=</span>&nbsp;<span class="num" id="8129920">0</span><span class="op" id="8129921">;</span>&nbsp;<span class="ident" id="8129923"><a href="/image/png/writer_test.go.html#8129915">i</a></span>&nbsp;<span class="op" id="8129925">&lt;</span>&nbsp;<span class="ident" id="8129927"><a href="/image/png/writer_test.go.html#8129701">b</a></span><span class="op" id="8129928">.</span><span class="ident" id="8129929">N</span><span class="op" id="8129930">;</span>&nbsp;<span class="ident" id="8129932"><a href="/image/png/writer_test.go.html#8129915">i</a></span><span class="op" id="8129933">++</span>&nbsp;<span class="op" id="8129936">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129940"><a href="/image/png/writer.go.html#4892302">Encode</a></span><span class="op" id="8129946">(</span><span class="ident" id="8129947"><a href="/image/png/writer_test.go.html#8126294">ioutil</a></span><span class="op" id="8129953">.</span><span class="ident" id="8129954">Discard</span><span class="op" id="8129961">,</span>&nbsp;<span class="ident" id="8129963"><a href="/image/png/writer_test.go.html#8129733">img</a></span><span class="op" id="8129966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129969">}</span><br>
<span class="lineno"></span><span class="op" id="8129971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8129974">func</span>&nbsp;<span class="ident" id="8129979">BenchmarkEncodeRGBOpaque</span><span class="op" id="8130003">(</span><span class="ident" id="8130004">b</span>&nbsp;<span class="op" id="8130006">*</span><span class="ident" id="8130007"><a href="/image/png/writer_test.go.html#8126307">testing</a></span><span class="op" id="8130014">.</span><span class="ident" id="8130015">B</span><span class="op" id="8130016">)</span>&nbsp;<span class="op" id="8130018">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130021"><a href="/image/png/writer_test.go.html#8130004">b</a></span><span class="op" id="8130022">.</span><span class="ident" id="8130023">StopTimer</span><span class="op" id="8130032">(</span><span class="op" id="8130033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130036">img</span>&nbsp;<span class="op" id="8130040">:=</span>&nbsp;<span class="ident" id="8130043"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8130048">.</span><span class="ident" id="8130049">NewRGBA</span><span class="op" id="8130056">(</span><span class="ident" id="8130057"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8130062">.</span><span class="ident" id="8130063">Rect</span><span class="op" id="8130067">(</span><span class="num" id="8130068">0</span><span class="op" id="8130069">,</span>&nbsp;<span class="num" id="8130071">0</span><span class="op" id="8130072">,</span>&nbsp;<span class="num" id="8130074">640</span><span class="op" id="8130077">,</span>&nbsp;<span class="num" id="8130079">480</span><span class="op" id="8130082">)</span><span class="op" id="8130083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8130086">//&nbsp;Set&nbsp;all&nbsp;pixels&nbsp;to&nbsp;0xFF&nbsp;alpha&nbsp;to&nbsp;force&nbsp;opaque&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130141">bo</span>&nbsp;<span class="op" id="8130144">:=</span>&nbsp;<span class="ident" id="8130147"><a href="/image/png/writer_test.go.html#8130036">img</a></span><span class="op" id="8130150">.</span><span class="ident" id="8130151">Bounds</span><span class="op" id="8130157">(</span><span class="op" id="8130158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130161">for</span>&nbsp;<span class="ident" id="8130165">y</span>&nbsp;<span class="op" id="8130167">:=</span>&nbsp;<span class="ident" id="8130170"><a href="/image/png/writer_test.go.html#8130141">bo</a></span><span class="op" id="8130172">.</span><span class="ident" id="8130173">Min</span><span class="op" id="8130176">.</span><span class="ident" id="8130177">Y</span><span class="op" id="8130178">;</span>&nbsp;<span class="ident" id="8130180"><a href="/image/png/writer_test.go.html#8130165">y</a></span>&nbsp;<span class="op" id="8130182">&lt;</span>&nbsp;<span class="ident" id="8130184"><a href="/image/png/writer_test.go.html#8130141">bo</a></span><span class="op" id="8130186">.</span><span class="ident" id="8130187">Max</span><span class="op" id="8130190">.</span><span class="ident" id="8130191">Y</span><span class="op" id="8130192">;</span>&nbsp;<span class="ident" id="8130194"><a href="/image/png/writer_test.go.html#8130165">y</a></span><span class="op" id="8130195">++</span>&nbsp;<span class="op" id="8130198">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130202">for</span>&nbsp;<span class="ident" id="8130206">x</span>&nbsp;<span class="op" id="8130208">:=</span>&nbsp;<span class="ident" id="8130211"><a href="/image/png/writer_test.go.html#8130141">bo</a></span><span class="op" id="8130213">.</span><span class="ident" id="8130214">Min</span><span class="op" id="8130217">.</span><span class="ident" id="8130218">X</span><span class="op" id="8130219">;</span>&nbsp;<span class="ident" id="8130221"><a href="/image/png/writer_test.go.html#8130206">x</a></span>&nbsp;<span class="op" id="8130223">&lt;</span>&nbsp;<span class="ident" id="8130225"><a href="/image/png/writer_test.go.html#8130141">bo</a></span><span class="op" id="8130227">.</span><span class="ident" id="8130228">Max</span><span class="op" id="8130231">.</span><span class="ident" id="8130232">X</span><span class="op" id="8130233">;</span>&nbsp;<span class="ident" id="8130235"><a href="/image/png/writer_test.go.html#8130206">x</a></span><span class="op" id="8130236">++</span>&nbsp;<span class="op" id="8130239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130244"><a href="/image/png/writer_test.go.html#8130036">img</a></span><span class="op" id="8130247">.</span><span class="ident" id="8130248">Set</span><span class="op" id="8130251">(</span><span class="ident" id="8130252"><a href="/image/png/writer_test.go.html#8130206">x</a></span><span class="op" id="8130253">,</span>&nbsp;<span class="ident" id="8130255"><a href="/image/png/writer_test.go.html#8130165">y</a></span><span class="op" id="8130256">,</span>&nbsp;<span class="ident" id="8130258"><a href="/image/png/writer_test.go.html#8126279">color</a></span><span class="op" id="8130263">.</span><span class="ident" id="8130264">RGBA</span><span class="op" id="8130268">{</span><span class="num" id="8130269">0</span><span class="op" id="8130270">,</span>&nbsp;<span class="num" id="8130272">0</span><span class="op" id="8130273">,</span>&nbsp;<span class="num" id="8130275">0</span><span class="op" id="8130276">,</span>&nbsp;<span class="num" id="8130278">255</span><span class="op" id="8130281">}</span><span class="op" id="8130282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130292">if</span>&nbsp;<span class="op" id="8130295">!</span><span class="ident" id="8130296"><a href="/image/png/writer_test.go.html#8130036">img</a></span><span class="op" id="8130299">.</span><span class="ident" id="8130300">Opaque</span><span class="op" id="8130306">(</span><span class="op" id="8130307">)</span>&nbsp;<span class="op" id="8130309">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130313"><a href="/image/png/writer_test.go.html#8130004">b</a></span><span class="op" id="8130314">.</span><span class="ident" id="8130315">Fatal</span><span class="op" id="8130320">(</span><span class="string" id="8130321">&#34;expected&nbsp;image&nbsp;to&nbsp;be&nbsp;opaque&#34;</span><span class="op" id="8130350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130356"><a href="/image/png/writer_test.go.html#8130004">b</a></span><span class="op" id="8130357">.</span><span class="ident" id="8130358">SetBytes</span><span class="op" id="8130366">(</span><span class="num" id="8130367">640</span>&nbsp;<span class="op" id="8130371">*</span>&nbsp;<span class="num" id="8130373">480</span>&nbsp;<span class="op" id="8130377">*</span>&nbsp;<span class="num" id="8130379">4</span><span class="op" id="8130380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130383"><a href="/image/png/writer_test.go.html#8130004">b</a></span><span class="op" id="8130384">.</span><span class="ident" id="8130385">StartTimer</span><span class="op" id="8130395">(</span><span class="op" id="8130396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130399">for</span>&nbsp;<span class="ident" id="8130403">i</span>&nbsp;<span class="op" id="8130405">:=</span>&nbsp;<span class="num" id="8130408">0</span><span class="op" id="8130409">;</span>&nbsp;<span class="ident" id="8130411"><a href="/image/png/writer_test.go.html#8130403">i</a></span>&nbsp;<span class="op" id="8130413">&lt;</span>&nbsp;<span class="ident" id="8130415"><a href="/image/png/writer_test.go.html#8130004">b</a></span><span class="op" id="8130416">.</span><span class="ident" id="8130417">N</span><span class="op" id="8130418">;</span>&nbsp;<span class="ident" id="8130420"><a href="/image/png/writer_test.go.html#8130403">i</a></span><span class="op" id="8130421">++</span>&nbsp;<span class="op" id="8130424">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130428"><a href="/image/png/writer.go.html#4892302">Encode</a></span><span class="op" id="8130434">(</span><span class="ident" id="8130435"><a href="/image/png/writer_test.go.html#8126294">ioutil</a></span><span class="op" id="8130441">.</span><span class="ident" id="8130442">Discard</span><span class="op" id="8130449">,</span>&nbsp;<span class="ident" id="8130451"><a href="/image/png/writer_test.go.html#8130036">img</a></span><span class="op" id="8130454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130457">}</span><br>
<span class="lineno"></span><span class="op" id="8130459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8130462">func</span>&nbsp;<span class="ident" id="8130467">BenchmarkEncodeRGBA</span><span class="op" id="8130486">(</span><span class="ident" id="8130487">b</span>&nbsp;<span class="op" id="8130489">*</span><span class="ident" id="8130490"><a href="/image/png/writer_test.go.html#8126307">testing</a></span><span class="op" id="8130497">.</span><span class="ident" id="8130498">B</span><span class="op" id="8130499">)</span>&nbsp;<span class="op" id="8130501">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130504"><a href="/image/png/writer_test.go.html#8130487">b</a></span><span class="op" id="8130505">.</span><span class="ident" id="8130506">StopTimer</span><span class="op" id="8130515">(</span><span class="op" id="8130516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130519">img</span>&nbsp;<span class="op" id="8130523">:=</span>&nbsp;<span class="ident" id="8130526"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8130531">.</span><span class="ident" id="8130532">NewRGBA</span><span class="op" id="8130539">(</span><span class="ident" id="8130540"><a href="/image/png/writer_test.go.html#8126270">image</a></span><span class="op" id="8130545">.</span><span class="ident" id="8130546">Rect</span><span class="op" id="8130550">(</span><span class="num" id="8130551">0</span><span class="op" id="8130552">,</span>&nbsp;<span class="num" id="8130554">0</span><span class="op" id="8130555">,</span>&nbsp;<span class="num" id="8130557">640</span><span class="op" id="8130560">,</span>&nbsp;<span class="num" id="8130562">480</span><span class="op" id="8130565">)</span><span class="op" id="8130566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130569">if</span>&nbsp;<span class="ident" id="8130572"><a href="/image/png/writer_test.go.html#8130519">img</a></span><span class="op" id="8130575">.</span><span class="ident" id="8130576">Opaque</span><span class="op" id="8130582">(</span><span class="op" id="8130583">)</span>&nbsp;<span class="op" id="8130585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130589"><a href="/image/png/writer_test.go.html#8130487">b</a></span><span class="op" id="8130590">.</span><span class="ident" id="8130591">Fatal</span><span class="op" id="8130596">(</span><span class="string" id="8130597">&#34;expected&nbsp;image&nbsp;not&nbsp;to&nbsp;be&nbsp;opaque&#34;</span><span class="op" id="8130630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130633">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130636"><a href="/image/png/writer_test.go.html#8130487">b</a></span><span class="op" id="8130637">.</span><span class="ident" id="8130638">SetBytes</span><span class="op" id="8130646">(</span><span class="num" id="8130647">640</span>&nbsp;<span class="op" id="8130651">*</span>&nbsp;<span class="num" id="8130653">480</span>&nbsp;<span class="op" id="8130657">*</span>&nbsp;<span class="num" id="8130659">4</span><span class="op" id="8130660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130663"><a href="/image/png/writer_test.go.html#8130487">b</a></span><span class="op" id="8130664">.</span><span class="ident" id="8130665">StartTimer</span><span class="op" id="8130675">(</span><span class="op" id="8130676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130679">for</span>&nbsp;<span class="ident" id="8130683">i</span>&nbsp;<span class="op" id="8130685">:=</span>&nbsp;<span class="num" id="8130688">0</span><span class="op" id="8130689">;</span>&nbsp;<span class="ident" id="8130691"><a href="/image/png/writer_test.go.html#8130683">i</a></span>&nbsp;<span class="op" id="8130693">&lt;</span>&nbsp;<span class="ident" id="8130695"><a href="/image/png/writer_test.go.html#8130487">b</a></span><span class="op" id="8130696">.</span><span class="ident" id="8130697">N</span><span class="op" id="8130698">;</span>&nbsp;<span class="ident" id="8130700"><a href="/image/png/writer_test.go.html#8130683">i</a></span><span class="op" id="8130701">++</span>&nbsp;<span class="op" id="8130704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130708"><a href="/image/png/writer.go.html#4892302">Encode</a></span><span class="op" id="8130714">(</span><span class="ident" id="8130715"><a href="/image/png/writer_test.go.html#8126294">ioutil</a></span><span class="op" id="8130721">.</span><span class="ident" id="8130722">Discard</span><span class="op" id="8130729">,</span>&nbsp;<span class="ident" id="8130731"><a href="/image/png/writer_test.go.html#8130519">img</a></span><span class="op" id="8130734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130737">}</span><br>
<span class="lineno">210</span><span class="op" id="8130739">}</span>
</div>
</body>
</html>
