<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2355033">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2355088">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2355142">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2355193">package</span>&nbsp;<span class="ident" id="2355201">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2355205">import</span>&nbsp;<span class="op" id="2355212">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2355215">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2355226">&#34;time&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2355233">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2355236">//&nbsp;Getpagesize&nbsp;returns&nbsp;the&nbsp;underlying&nbsp;system&#39;s&nbsp;memory&nbsp;page&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="2355301">func</span>&nbsp;<span class="ident" id="2355306">Getpagesize</span><span class="op" id="2355317">(</span><span class="op" id="2355318">)</span>&nbsp;<span class="builtintype" id="2355320">int</span>&nbsp;<span class="op" id="2355324">{</span>&nbsp;<span class="keyword" id="2355326">return</span>&nbsp;<span class="ident" id="2355333">syscall</span><span class="op" id="2355340">.</span><span class="ident" id="2355341">Getpagesize</span><span class="op" id="2355352">(</span><span class="op" id="2355353">)</span>&nbsp;<span class="op" id="2355355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2355358">//&nbsp;A&nbsp;FileInfo&nbsp;describes&nbsp;a&nbsp;file&nbsp;and&nbsp;is&nbsp;returned&nbsp;by&nbsp;Stat&nbsp;and&nbsp;Lstat.</span><br>
<span class="lineno"></span><span class="keyword" id="2355424">type</span>&nbsp;<span class="ident" id="2355429">FileInfo</span>&nbsp;<span class="keyword" id="2355438">interface</span>&nbsp;<span class="op" id="2355448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2355451">Name</span><span class="op" id="2355455">(</span><span class="op" id="2355456">)</span>&nbsp;<span class="builtintype" id="2355458">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2355471">//&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2355497">Size</span><span class="op" id="2355501">(</span><span class="op" id="2355502">)</span>&nbsp;<span class="ident" id="2355504">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2355517">//&nbsp;length&nbsp;in&nbsp;bytes&nbsp;for&nbsp;regular&nbsp;files;&nbsp;system-dependent&nbsp;for&nbsp;others</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2355584">Mode</span><span class="op" id="2355588">(</span><span class="op" id="2355589">)</span>&nbsp;<span class="ident" id="2355591">FileMode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2355604">//&nbsp;file&nbsp;mode&nbsp;bits</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2355623">ModTime</span><span class="op" id="2355630">(</span><span class="op" id="2355631">)</span>&nbsp;<span class="ident" id="2355633">time</span><span class="op" id="2355637">.</span><span class="ident" id="2355638">Time</span>&nbsp;<span class="comment" id="2355643">//&nbsp;modification&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2355665">IsDir</span><span class="op" id="2355670">(</span><span class="op" id="2355671">)</span>&nbsp;<span class="builtintype" id="2355673">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2355685">//&nbsp;abbreviation&nbsp;for&nbsp;Mode().IsDir()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2355721">Sys</span><span class="op" id="2355724">(</span><span class="op" id="2355725">)</span>&nbsp;<span class="keyword" id="2355727">interface</span><span class="op" id="2355736">{</span><span class="op" id="2355737">}</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2355741">//&nbsp;underlying&nbsp;data&nbsp;source&nbsp;(can&nbsp;return&nbsp;nil)</span><br>
<span class="lineno"></span><span class="op" id="2355784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2355787">//&nbsp;A&nbsp;FileMode&nbsp;represents&nbsp;a&nbsp;file&#39;s&nbsp;mode&nbsp;and&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2355847">//&nbsp;The&nbsp;bits&nbsp;have&nbsp;the&nbsp;same&nbsp;definition&nbsp;on&nbsp;all&nbsp;systems,&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2355908">//&nbsp;information&nbsp;about&nbsp;files&nbsp;can&nbsp;be&nbsp;moved&nbsp;from&nbsp;one&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2355964">//&nbsp;to&nbsp;another&nbsp;portably.&nbsp;&nbsp;Not&nbsp;all&nbsp;bits&nbsp;apply&nbsp;to&nbsp;all&nbsp;systems.</span><br>
<span class="lineno"></span><span class="comment" id="2356024">//&nbsp;The&nbsp;only&nbsp;required&nbsp;bit&nbsp;is&nbsp;ModeDir&nbsp;for&nbsp;directories.</span><br>
<span class="lineno">30</span><span class="keyword" id="2356077">type</span>&nbsp;<span class="ident" id="2356082">FileMode</span>&nbsp;<span class="builtintype" id="2356091">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2356099">//&nbsp;The&nbsp;defined&nbsp;file&nbsp;mode&nbsp;bits&nbsp;are&nbsp;the&nbsp;most&nbsp;significant&nbsp;bits&nbsp;of&nbsp;the&nbsp;FileMode.</span><br>
<span class="lineno"></span><span class="comment" id="2356176">//&nbsp;The&nbsp;nine&nbsp;least-significant&nbsp;bits&nbsp;are&nbsp;the&nbsp;standard&nbsp;Unix&nbsp;rwxrwxrwx&nbsp;permissions.</span><br>
<span class="lineno"></span><span class="comment" id="2356256">//&nbsp;The&nbsp;values&nbsp;of&nbsp;these&nbsp;bits&nbsp;should&nbsp;be&nbsp;considered&nbsp;part&nbsp;of&nbsp;the&nbsp;public&nbsp;API&nbsp;and</span><br>
<span class="lineno">35</span><span class="comment" id="2356332">//&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;wire&nbsp;protocols&nbsp;or&nbsp;disk&nbsp;representations:&nbsp;they&nbsp;must&nbsp;not&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2356407">//&nbsp;changed,&nbsp;although&nbsp;new&nbsp;bits&nbsp;might&nbsp;be&nbsp;added.</span><br>
<span class="lineno"></span><span class="keyword" id="2356453">const</span>&nbsp;<span class="op" id="2356459">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2356462">//&nbsp;The&nbsp;single&nbsp;letters&nbsp;are&nbsp;the&nbsp;abbreviations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2356507">//&nbsp;used&nbsp;by&nbsp;the&nbsp;String&nbsp;method&#39;s&nbsp;formatting.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2356551">ModeDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2356566">FileMode</span>&nbsp;<span class="op" id="2356575">=</span>&nbsp;<span class="num" id="2356577">1</span>&nbsp;<span class="op" id="2356579">&lt;&lt;</span>&nbsp;<span class="op" id="2356582">(</span><span class="num" id="2356583">32</span>&nbsp;<span class="op" id="2356586">-</span>&nbsp;<span class="num" id="2356588">1</span>&nbsp;<span class="op" id="2356590">-</span>&nbsp;<span class="ident" id="2356592">iota</span><span class="op" id="2356596">)</span>&nbsp;<span class="comment" id="2356598">//&nbsp;d:&nbsp;is&nbsp;a&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2356620">ModeAppend</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2356667">//&nbsp;a:&nbsp;append-only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2356686">ModeExclusive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2356733">//&nbsp;l:&nbsp;exclusive&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2356754">ModeTemporary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2356801">//&nbsp;T:&nbsp;temporary&nbsp;file&nbsp;(not&nbsp;backed&nbsp;up)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2356839">ModeSymlink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2356886">//&nbsp;L:&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2356907">ModeDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2356954">//&nbsp;D:&nbsp;device&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2356973">ModeNamedPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357020">//&nbsp;p:&nbsp;named&nbsp;pipe&nbsp;(FIFO)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357045">ModeSocket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357092">//&nbsp;S:&nbsp;Unix&nbsp;domain&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357118">ModeSetuid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357165">//&nbsp;u:&nbsp;setuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357179">ModeSetgid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357226">//&nbsp;g:&nbsp;setgid</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357240">ModeCharDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357287">//&nbsp;c:&nbsp;Unix&nbsp;character&nbsp;device,&nbsp;when&nbsp;ModeDevice&nbsp;is&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357340">ModeSticky</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357387">//&nbsp;t:&nbsp;sticky</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2357402">//&nbsp;Mask&nbsp;for&nbsp;the&nbsp;type&nbsp;bits.&nbsp;For&nbsp;regular&nbsp;files,&nbsp;none&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357467">ModeType</span>&nbsp;<span class="op" id="2357476">=</span>&nbsp;<span class="ident" id="2357478">ModeDir</span>&nbsp;<span class="op" id="2357486">|</span>&nbsp;<span class="ident" id="2357488">ModeSymlink</span>&nbsp;<span class="op" id="2357500">|</span>&nbsp;<span class="ident" id="2357502">ModeNamedPipe</span>&nbsp;<span class="op" id="2357516">|</span>&nbsp;<span class="ident" id="2357518">ModeSocket</span>&nbsp;<span class="op" id="2357529">|</span>&nbsp;<span class="ident" id="2357531">ModeDevice</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357544">ModePerm</span>&nbsp;<span class="ident" id="2357553">FileMode</span>&nbsp;<span class="op" id="2357562">=</span>&nbsp;<span class="num" id="2357564">0777</span>&nbsp;<span class="comment" id="2357569">//&nbsp;permission&nbsp;bits</span><br>
<span class="lineno"></span><span class="op" id="2357588">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2357591">func</span>&nbsp;<span class="op" id="2357596">(</span><span class="ident" id="2357597">m</span>&nbsp;<span class="ident" id="2357599">FileMode</span><span class="op" id="2357607">)</span>&nbsp;<span class="ident" id="2357609">String</span><span class="op" id="2357615">(</span><span class="op" id="2357616">)</span>&nbsp;<span class="builtintype" id="2357618">string</span>&nbsp;<span class="op" id="2357625">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2357628">const</span>&nbsp;<span class="ident" id="2357634">str</span>&nbsp;<span class="op" id="2357638">=</span>&nbsp;<span class="string" id="2357640">&#34;dalTLDpSugct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2357656">var</span>&nbsp;<span class="ident" id="2357660">buf</span>&nbsp;<span class="op" id="2357664">[</span><span class="num" id="2357665">32</span><span class="op" id="2357667">]</span><span class="builtintype" id="2357668">byte</span>&nbsp;<span class="comment" id="2357673">//&nbsp;Mode&nbsp;is&nbsp;uint32.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357693">w</span>&nbsp;<span class="op" id="2357695">:=</span>&nbsp;<span class="num" id="2357698">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2357701">for</span>&nbsp;<span class="ident" id="2357705">i</span><span class="op" id="2357706">,</span>&nbsp;<span class="ident" id="2357708">c</span>&nbsp;<span class="op" id="2357710">:=</span>&nbsp;<span class="keyword" id="2357713">range</span>&nbsp;<span class="ident" id="2357719">str</span>&nbsp;<span class="op" id="2357723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2357727">if</span>&nbsp;<span class="ident" id="2357730">m</span><span class="op" id="2357731">&amp;</span><span class="op" id="2357732">(</span><span class="num" id="2357733">1</span><span class="op" id="2357734">&lt;&lt;</span><span class="builtintype" id="2357736">uint</span><span class="op" id="2357740">(</span><span class="num" id="2357741">32</span><span class="op" id="2357743">-</span><span class="num" id="2357744">1</span><span class="op" id="2357745">-</span><span class="ident" id="2357746">i</span><span class="op" id="2357747">)</span><span class="op" id="2357748">)</span>&nbsp;<span class="op" id="2357750">!=</span>&nbsp;<span class="num" id="2357753">0</span>&nbsp;<span class="op" id="2357755">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357760">buf</span><span class="op" id="2357763">[</span><span class="ident" id="2357764">w</span><span class="op" id="2357765">]</span>&nbsp;<span class="op" id="2357767">=</span>&nbsp;<span class="builtintype" id="2357769">byte</span><span class="op" id="2357773">(</span><span class="ident" id="2357774">c</span><span class="op" id="2357775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357780">w</span><span class="op" id="2357781">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2357786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2357789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2357792">if</span>&nbsp;<span class="ident" id="2357795">w</span>&nbsp;<span class="op" id="2357797">==</span>&nbsp;<span class="num" id="2357800">0</span>&nbsp;<span class="op" id="2357802">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357806">buf</span><span class="op" id="2357809">[</span><span class="ident" id="2357810">w</span><span class="op" id="2357811">]</span>&nbsp;<span class="op" id="2357813">=</span>&nbsp;<span class="string" id="2357815">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357821">w</span><span class="op" id="2357822">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2357826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2357829">const</span>&nbsp;<span class="ident" id="2357835">rwx</span>&nbsp;<span class="op" id="2357839">=</span>&nbsp;<span class="string" id="2357841">&#34;rwxrwxrwx&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2357854">for</span>&nbsp;<span class="ident" id="2357858">i</span><span class="op" id="2357859">,</span>&nbsp;<span class="ident" id="2357861">c</span>&nbsp;<span class="op" id="2357863">:=</span>&nbsp;<span class="keyword" id="2357866">range</span>&nbsp;<span class="ident" id="2357872">rwx</span>&nbsp;<span class="op" id="2357876">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2357880">if</span>&nbsp;<span class="ident" id="2357883">m</span><span class="op" id="2357884">&amp;</span><span class="op" id="2357885">(</span><span class="num" id="2357886">1</span><span class="op" id="2357887">&lt;&lt;</span><span class="builtintype" id="2357889">uint</span><span class="op" id="2357893">(</span><span class="num" id="2357894">9</span><span class="op" id="2357895">-</span><span class="num" id="2357896">1</span><span class="op" id="2357897">-</span><span class="ident" id="2357898">i</span><span class="op" id="2357899">)</span><span class="op" id="2357900">)</span>&nbsp;<span class="op" id="2357902">!=</span>&nbsp;<span class="num" id="2357905">0</span>&nbsp;<span class="op" id="2357907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357912">buf</span><span class="op" id="2357915">[</span><span class="ident" id="2357916">w</span><span class="op" id="2357917">]</span>&nbsp;<span class="op" id="2357919">=</span>&nbsp;<span class="builtintype" id="2357921">byte</span><span class="op" id="2357925">(</span><span class="ident" id="2357926">c</span><span class="op" id="2357927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2357931">}</span>&nbsp;<span class="keyword" id="2357933">else</span>&nbsp;<span class="op" id="2357938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357943">buf</span><span class="op" id="2357946">[</span><span class="ident" id="2357947">w</span><span class="op" id="2357948">]</span>&nbsp;<span class="op" id="2357950">=</span>&nbsp;<span class="string" id="2357952">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2357958">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357962">w</span><span class="op" id="2357963">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2357967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2357970">return</span>&nbsp;<span class="builtintype" id="2357977">string</span><span class="op" id="2357983">(</span><span class="ident" id="2357984">buf</span><span class="op" id="2357987">[</span><span class="op" id="2357988">:</span><span class="ident" id="2357989">w</span><span class="op" id="2357990">]</span><span class="op" id="2357991">)</span><br>
<span class="lineno"></span><span class="op" id="2357993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="2357996">//&nbsp;IsDir&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2358046">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;for&nbsp;the&nbsp;ModeDir&nbsp;bit&nbsp;being&nbsp;set&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2358103">func</span>&nbsp;<span class="op" id="2358108">(</span><span class="ident" id="2358109">m</span>&nbsp;<span class="ident" id="2358111">FileMode</span><span class="op" id="2358119">)</span>&nbsp;<span class="ident" id="2358121">IsDir</span><span class="op" id="2358126">(</span><span class="op" id="2358127">)</span>&nbsp;<span class="builtintype" id="2358129">bool</span>&nbsp;<span class="op" id="2358134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2358137">return</span>&nbsp;<span class="ident" id="2358144">m</span><span class="op" id="2358145">&amp;</span><span class="ident" id="2358146">ModeDir</span>&nbsp;<span class="op" id="2358154">!=</span>&nbsp;<span class="num" id="2358157">0</span><br>
<span class="lineno"></span><span class="op" id="2358159">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2358162">//&nbsp;IsRegular&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;regular&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2358219">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;that&nbsp;no&nbsp;mode&nbsp;type&nbsp;bits&nbsp;are&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2358272">func</span>&nbsp;<span class="op" id="2358277">(</span><span class="ident" id="2358278">m</span>&nbsp;<span class="ident" id="2358280">FileMode</span><span class="op" id="2358288">)</span>&nbsp;<span class="ident" id="2358290">IsRegular</span><span class="op" id="2358299">(</span><span class="op" id="2358300">)</span>&nbsp;<span class="builtintype" id="2358302">bool</span>&nbsp;<span class="op" id="2358307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2358310">return</span>&nbsp;<span class="ident" id="2358317">m</span><span class="op" id="2358318">&amp;</span><span class="ident" id="2358319">ModeType</span>&nbsp;<span class="op" id="2358328">==</span>&nbsp;<span class="num" id="2358331">0</span><br>
<span class="lineno">95</span><span class="op" id="2358333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2358336">//&nbsp;Perm&nbsp;returns&nbsp;the&nbsp;Unix&nbsp;permission&nbsp;bits&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2358383">func</span>&nbsp;<span class="op" id="2358388">(</span><span class="ident" id="2358389">m</span>&nbsp;<span class="ident" id="2358391">FileMode</span><span class="op" id="2358399">)</span>&nbsp;<span class="ident" id="2358401">Perm</span><span class="op" id="2358405">(</span><span class="op" id="2358406">)</span>&nbsp;<span class="ident" id="2358408">FileMode</span>&nbsp;<span class="op" id="2358417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2358420">return</span>&nbsp;<span class="ident" id="2358427">m</span>&nbsp;<span class="op" id="2358429">&amp;</span>&nbsp;<span class="ident" id="2358431">ModePerm</span><br>
<span class="lineno">100</span><span class="op" id="2358440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2358443">func</span>&nbsp;<span class="op" id="2358448">(</span><span class="ident" id="2358449">fs</span>&nbsp;<span class="op" id="2358452">*</span><span class="ident" id="2358453">fileStat</span><span class="op" id="2358461">)</span>&nbsp;<span class="ident" id="2358463">Name</span><span class="op" id="2358467">(</span><span class="op" id="2358468">)</span>&nbsp;<span class="builtintype" id="2358470">string</span>&nbsp;<span class="op" id="2358477">{</span>&nbsp;<span class="keyword" id="2358479">return</span>&nbsp;<span class="ident" id="2358486">fs</span><span class="op" id="2358488">.</span><span class="ident" id="2358489">name</span>&nbsp;<span class="op" id="2358494">}</span><br>
<span class="lineno"></span><span class="keyword" id="2358496">func</span>&nbsp;<span class="op" id="2358501">(</span><span class="ident" id="2358502">fs</span>&nbsp;<span class="op" id="2358505">*</span><span class="ident" id="2358506">fileStat</span><span class="op" id="2358514">)</span>&nbsp;<span class="ident" id="2358516">IsDir</span><span class="op" id="2358521">(</span><span class="op" id="2358522">)</span>&nbsp;<span class="builtintype" id="2358524">bool</span>&nbsp;&nbsp;<span class="op" id="2358530">{</span>&nbsp;<span class="keyword" id="2358532">return</span>&nbsp;<span class="ident" id="2358539">fs</span><span class="op" id="2358541">.</span><span class="ident" id="2358542">Mode</span><span class="op" id="2358546">(</span><span class="op" id="2358547">)</span><span class="op" id="2358548">.</span><span class="ident" id="2358549">IsDir</span><span class="op" id="2358554">(</span><span class="op" id="2358555">)</span>&nbsp;<span class="op" id="2358557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="2358560">//&nbsp;SameFile&nbsp;reports&nbsp;whether&nbsp;fi1&nbsp;and&nbsp;fi2&nbsp;describe&nbsp;the&nbsp;same&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2358624">//&nbsp;For&nbsp;example,&nbsp;on&nbsp;Unix&nbsp;this&nbsp;means&nbsp;that&nbsp;the&nbsp;device&nbsp;and&nbsp;inode&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="2358692">//&nbsp;of&nbsp;the&nbsp;two&nbsp;underlying&nbsp;structures&nbsp;are&nbsp;identical;&nbsp;on&nbsp;other&nbsp;systems</span><br>
<span class="lineno"></span><span class="comment" id="2358760">//&nbsp;the&nbsp;decision&nbsp;may&nbsp;be&nbsp;based&nbsp;on&nbsp;the&nbsp;path&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="2358808">//&nbsp;SameFile&nbsp;only&nbsp;applies&nbsp;to&nbsp;results&nbsp;returned&nbsp;by&nbsp;this&nbsp;package&#39;s&nbsp;Stat.</span><br>
<span class="lineno">110</span><span class="comment" id="2358877">//&nbsp;It&nbsp;returns&nbsp;false&nbsp;in&nbsp;other&nbsp;cases.</span><br>
<span class="lineno"></span><span class="keyword" id="2358913">func</span>&nbsp;<span class="ident" id="2358918">SameFile</span><span class="op" id="2358926">(</span><span class="ident" id="2358927">fi1</span><span class="op" id="2358930">,</span>&nbsp;<span class="ident" id="2358932">fi2</span>&nbsp;<span class="ident" id="2358936">FileInfo</span><span class="op" id="2358944">)</span>&nbsp;<span class="builtintype" id="2358946">bool</span>&nbsp;<span class="op" id="2358951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358954">fs1</span><span class="op" id="2358957">,</span>&nbsp;<span class="ident" id="2358959">ok1</span>&nbsp;<span class="op" id="2358963">:=</span>&nbsp;<span class="ident" id="2358966">fi1</span><span class="op" id="2358969">.</span><span class="op" id="2358970">(</span><span class="op" id="2358971">*</span><span class="ident" id="2358972">fileStat</span><span class="op" id="2358980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358983">fs2</span><span class="op" id="2358986">,</span>&nbsp;<span class="ident" id="2358988">ok2</span>&nbsp;<span class="op" id="2358992">:=</span>&nbsp;<span class="ident" id="2358995">fi2</span><span class="op" id="2358998">.</span><span class="op" id="2358999">(</span><span class="op" id="2359000">*</span><span class="ident" id="2359001">fileStat</span><span class="op" id="2359009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359012">if</span>&nbsp;<span class="op" id="2359015">!</span><span class="ident" id="2359016">ok1</span>&nbsp;<span class="op" id="2359020">||</span>&nbsp;<span class="op" id="2359023">!</span><span class="ident" id="2359024">ok2</span>&nbsp;<span class="op" id="2359028">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359032">return</span>&nbsp;<span class="builtintype" id="2359039">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2359046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359049">return</span>&nbsp;<span class="ident" id="2359056">sameFile</span><span class="op" id="2359064">(</span><span class="ident" id="2359065">fs1</span><span class="op" id="2359068">,</span>&nbsp;<span class="ident" id="2359070">fs2</span><span class="op" id="2359073">)</span><br>
<span class="lineno"></span><span class="op" id="2359075">}</span>
</div>
</body>
</html>
