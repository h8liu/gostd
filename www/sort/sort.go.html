<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2771017">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2771072">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2771126">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2771177">//&nbsp;Package&nbsp;sort&nbsp;provides&nbsp;primitives&nbsp;for&nbsp;sorting&nbsp;slices&nbsp;and&nbsp;user-defined</span><br>
<span class="lineno"></span><span class="comment" id="2771249">//&nbsp;collections.</span><br>
<span class="lineno"></span><span class="keyword" id="2771265">package</span>&nbsp;<span class="ident" id="2771273">sort</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2771279">//&nbsp;A&nbsp;type,&nbsp;typically&nbsp;a&nbsp;collection,&nbsp;that&nbsp;satisfies&nbsp;sort.Interface&nbsp;can&nbsp;be</span><br>
<span class="lineno">10</span><span class="comment" id="2771351">//&nbsp;sorted&nbsp;by&nbsp;the&nbsp;routines&nbsp;in&nbsp;this&nbsp;package.&nbsp;&nbsp;The&nbsp;methods&nbsp;require&nbsp;that&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2771424">//&nbsp;elements&nbsp;of&nbsp;the&nbsp;collection&nbsp;be&nbsp;enumerated&nbsp;by&nbsp;an&nbsp;integer&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="2771489">type</span>&nbsp;<span class="ident" id="2771494">Interface</span>&nbsp;<span class="keyword" id="2771504">interface</span>&nbsp;<span class="op" id="2771514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2771517">//&nbsp;Len&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;elements&nbsp;in&nbsp;the&nbsp;collection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2771570">Len</span><span class="op" id="2771573">(</span><span class="op" id="2771574">)</span>&nbsp;<span class="builtintype" id="2771576">int</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2771581">//&nbsp;Less&nbsp;reports&nbsp;whether&nbsp;the&nbsp;element&nbsp;with</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2771623">//&nbsp;index&nbsp;i&nbsp;should&nbsp;sort&nbsp;before&nbsp;the&nbsp;element&nbsp;with&nbsp;index&nbsp;j.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2771680">Less</span><span class="op" id="2771684">(</span><span class="ident" id="2771685">i</span><span class="op" id="2771686">,</span>&nbsp;<span class="ident" id="2771688">j</span>&nbsp;<span class="builtintype" id="2771690">int</span><span class="op" id="2771693">)</span>&nbsp;<span class="builtintype" id="2771695">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2771701">//&nbsp;Swap&nbsp;swaps&nbsp;the&nbsp;elements&nbsp;with&nbsp;indexes&nbsp;i&nbsp;and&nbsp;j.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2771751">Swap</span><span class="op" id="2771755">(</span><span class="ident" id="2771756">i</span><span class="op" id="2771757">,</span>&nbsp;<span class="ident" id="2771759">j</span>&nbsp;<span class="builtintype" id="2771761">int</span><span class="op" id="2771764">)</span><br>
<span class="lineno">20</span><span class="op" id="2771766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2771769">func</span>&nbsp;<span class="ident" id="2771774">min</span><span class="op" id="2771777">(</span><span class="ident" id="2771778">a</span><span class="op" id="2771779">,</span>&nbsp;<span class="ident" id="2771781">b</span>&nbsp;<span class="builtintype" id="2771783">int</span><span class="op" id="2771786">)</span>&nbsp;<span class="builtintype" id="2771788">int</span>&nbsp;<span class="op" id="2771792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2771795">if</span>&nbsp;<span class="ident" id="2771798"><a href="/sort/sort.go.html#2771778">a</a></span>&nbsp;<span class="op" id="2771800">&lt;</span>&nbsp;<span class="ident" id="2771802"><a href="/sort/sort.go.html#2771781">b</a></span>&nbsp;<span class="op" id="2771804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2771808">return</span>&nbsp;<span class="ident" id="2771815"><a href="/sort/sort.go.html#2771778">a</a></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2771818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2771821">return</span>&nbsp;<span class="ident" id="2771828"><a href="/sort/sort.go.html#2771781">b</a></span><br>
<span class="lineno"></span><span class="op" id="2771830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2771833">//&nbsp;Insertion&nbsp;sort</span><br>
<span class="lineno">30</span><span class="keyword" id="2771851">func</span>&nbsp;<span class="ident" id="2771856">insertionSort</span><span class="op" id="2771869">(</span><span class="ident" id="2771870">data</span>&nbsp;<span class="ident" id="2771875"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2771884">,</span>&nbsp;<span class="ident" id="2771886">a</span><span class="op" id="2771887">,</span>&nbsp;<span class="ident" id="2771889">b</span>&nbsp;<span class="builtintype" id="2771891">int</span><span class="op" id="2771894">)</span>&nbsp;<span class="op" id="2771896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2771899">for</span>&nbsp;<span class="ident" id="2771903">i</span>&nbsp;<span class="op" id="2771905">:=</span>&nbsp;<span class="ident" id="2771908"><a href="/sort/sort.go.html#2771886">a</a></span>&nbsp;<span class="op" id="2771910">+</span>&nbsp;<span class="num" id="2771912">1</span><span class="op" id="2771913">;</span>&nbsp;<span class="ident" id="2771915"><a href="/sort/sort.go.html#2771903">i</a></span>&nbsp;<span class="op" id="2771917">&lt;</span>&nbsp;<span class="ident" id="2771919"><a href="/sort/sort.go.html#2771889">b</a></span><span class="op" id="2771920">;</span>&nbsp;<span class="ident" id="2771922"><a href="/sort/sort.go.html#2771903">i</a></span><span class="op" id="2771923">++</span>&nbsp;<span class="op" id="2771926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2771930">for</span>&nbsp;<span class="ident" id="2771934">j</span>&nbsp;<span class="op" id="2771936">:=</span>&nbsp;<span class="ident" id="2771939"><a href="/sort/sort.go.html#2771903">i</a></span><span class="op" id="2771940">;</span>&nbsp;<span class="ident" id="2771942"><a href="/sort/sort.go.html#2771934">j</a></span>&nbsp;<span class="op" id="2771944">&gt;</span>&nbsp;<span class="ident" id="2771946"><a href="/sort/sort.go.html#2771886">a</a></span>&nbsp;<span class="op" id="2771948">&amp;&amp;</span>&nbsp;<span class="ident" id="2771951"><a href="/sort/sort.go.html#2771870">data</a></span><span class="op" id="2771955">.</span><span class="ident" id="2771956">Less</span><span class="op" id="2771960">(</span><span class="ident" id="2771961"><a href="/sort/sort.go.html#2771934">j</a></span><span class="op" id="2771962">,</span>&nbsp;<span class="ident" id="2771964"><a href="/sort/sort.go.html#2771934">j</a></span><span class="op" id="2771965">-</span><span class="num" id="2771966">1</span><span class="op" id="2771967">)</span><span class="op" id="2771968">;</span>&nbsp;<span class="ident" id="2771970"><a href="/sort/sort.go.html#2771934">j</a></span><span class="op" id="2771971">--</span>&nbsp;<span class="op" id="2771974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2771979"><a href="/sort/sort.go.html#2771870">data</a></span><span class="op" id="2771983">.</span><span class="ident" id="2771984">Swap</span><span class="op" id="2771988">(</span><span class="ident" id="2771989"><a href="/sort/sort.go.html#2771934">j</a></span><span class="op" id="2771990">,</span>&nbsp;<span class="ident" id="2771992"><a href="/sort/sort.go.html#2771934">j</a></span><span class="op" id="2771993">-</span><span class="num" id="2771994">1</span><span class="op" id="2771995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2771999">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2772002">}</span><br>
<span class="lineno"></span><span class="op" id="2772004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2772007">//&nbsp;siftDown&nbsp;implements&nbsp;the&nbsp;heap&nbsp;property&nbsp;on&nbsp;data[lo,&nbsp;hi).</span><br>
<span class="lineno"></span><span class="comment" id="2772065">//&nbsp;first&nbsp;is&nbsp;an&nbsp;offset&nbsp;into&nbsp;the&nbsp;array&nbsp;where&nbsp;the&nbsp;root&nbsp;of&nbsp;the&nbsp;heap&nbsp;lies.</span><br>
<span class="lineno">40</span><span class="keyword" id="2772135">func</span>&nbsp;<span class="ident" id="2772140">siftDown</span><span class="op" id="2772148">(</span><span class="ident" id="2772149">data</span>&nbsp;<span class="ident" id="2772154"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2772163">,</span>&nbsp;<span class="ident" id="2772165">lo</span><span class="op" id="2772167">,</span>&nbsp;<span class="ident" id="2772169">hi</span><span class="op" id="2772171">,</span>&nbsp;<span class="ident" id="2772173">first</span>&nbsp;<span class="builtintype" id="2772179">int</span><span class="op" id="2772182">)</span>&nbsp;<span class="op" id="2772184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772187">root</span>&nbsp;<span class="op" id="2772192">:=</span>&nbsp;<span class="ident" id="2772195"><a href="/sort/sort.go.html#2772165">lo</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2772199">for</span>&nbsp;<span class="op" id="2772203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772207">child</span>&nbsp;<span class="op" id="2772213">:=</span>&nbsp;<span class="num" id="2772216">2</span><span class="op" id="2772217">*</span><span class="ident" id="2772218"><a href="/sort/sort.go.html#2772187">root</a></span>&nbsp;<span class="op" id="2772223">+</span>&nbsp;<span class="num" id="2772225">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2772229">if</span>&nbsp;<span class="ident" id="2772232"><a href="/sort/sort.go.html#2772207">child</a></span>&nbsp;<span class="op" id="2772238">&gt;=</span>&nbsp;<span class="ident" id="2772241"><a href="/sort/sort.go.html#2772169">hi</a></span>&nbsp;<span class="op" id="2772244">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2772249">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2772257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2772261">if</span>&nbsp;<span class="ident" id="2772264"><a href="/sort/sort.go.html#2772207">child</a></span><span class="op" id="2772269">+</span><span class="num" id="2772270">1</span>&nbsp;<span class="op" id="2772272">&lt;</span>&nbsp;<span class="ident" id="2772274"><a href="/sort/sort.go.html#2772169">hi</a></span>&nbsp;<span class="op" id="2772277">&amp;&amp;</span>&nbsp;<span class="ident" id="2772280"><a href="/sort/sort.go.html#2772149">data</a></span><span class="op" id="2772284">.</span><span class="ident" id="2772285">Less</span><span class="op" id="2772289">(</span><span class="ident" id="2772290"><a href="/sort/sort.go.html#2772173">first</a></span><span class="op" id="2772295">+</span><span class="ident" id="2772296"><a href="/sort/sort.go.html#2772207">child</a></span><span class="op" id="2772301">,</span>&nbsp;<span class="ident" id="2772303"><a href="/sort/sort.go.html#2772173">first</a></span><span class="op" id="2772308">+</span><span class="ident" id="2772309"><a href="/sort/sort.go.html#2772207">child</a></span><span class="op" id="2772314">+</span><span class="num" id="2772315">1</span><span class="op" id="2772316">)</span>&nbsp;<span class="op" id="2772318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772323"><a href="/sort/sort.go.html#2772207">child</a></span><span class="op" id="2772328">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2772333">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2772337">if</span>&nbsp;<span class="op" id="2772340">!</span><span class="ident" id="2772341"><a href="/sort/sort.go.html#2772149">data</a></span><span class="op" id="2772345">.</span><span class="ident" id="2772346">Less</span><span class="op" id="2772350">(</span><span class="ident" id="2772351"><a href="/sort/sort.go.html#2772173">first</a></span><span class="op" id="2772356">+</span><span class="ident" id="2772357"><a href="/sort/sort.go.html#2772187">root</a></span><span class="op" id="2772361">,</span>&nbsp;<span class="ident" id="2772363"><a href="/sort/sort.go.html#2772173">first</a></span><span class="op" id="2772368">+</span><span class="ident" id="2772369"><a href="/sort/sort.go.html#2772207">child</a></span><span class="op" id="2772374">)</span>&nbsp;<span class="op" id="2772376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2772381">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2772390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772394"><a href="/sort/sort.go.html#2772149">data</a></span><span class="op" id="2772398">.</span><span class="ident" id="2772399">Swap</span><span class="op" id="2772403">(</span><span class="ident" id="2772404"><a href="/sort/sort.go.html#2772173">first</a></span><span class="op" id="2772409">+</span><span class="ident" id="2772410"><a href="/sort/sort.go.html#2772187">root</a></span><span class="op" id="2772414">,</span>&nbsp;<span class="ident" id="2772416"><a href="/sort/sort.go.html#2772173">first</a></span><span class="op" id="2772421">+</span><span class="ident" id="2772422"><a href="/sort/sort.go.html#2772207">child</a></span><span class="op" id="2772427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772431"><a href="/sort/sort.go.html#2772187">root</a></span>&nbsp;<span class="op" id="2772436">=</span>&nbsp;<span class="ident" id="2772438"><a href="/sort/sort.go.html#2772207">child</a></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2772445">}</span><br>
<span class="lineno"></span><span class="op" id="2772447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2772450">func</span>&nbsp;<span class="ident" id="2772455">heapSort</span><span class="op" id="2772463">(</span><span class="ident" id="2772464">data</span>&nbsp;<span class="ident" id="2772469"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2772478">,</span>&nbsp;<span class="ident" id="2772480">a</span><span class="op" id="2772481">,</span>&nbsp;<span class="ident" id="2772483">b</span>&nbsp;<span class="builtintype" id="2772485">int</span><span class="op" id="2772488">)</span>&nbsp;<span class="op" id="2772490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772493">first</span>&nbsp;<span class="op" id="2772499">:=</span>&nbsp;<span class="ident" id="2772502"><a href="/sort/sort.go.html#2772480">a</a></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772505">lo</span>&nbsp;<span class="op" id="2772508">:=</span>&nbsp;<span class="num" id="2772511">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772514">hi</span>&nbsp;<span class="op" id="2772517">:=</span>&nbsp;<span class="ident" id="2772520"><a href="/sort/sort.go.html#2772483">b</a></span>&nbsp;<span class="op" id="2772522">-</span>&nbsp;<span class="ident" id="2772524"><a href="/sort/sort.go.html#2772480">a</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2772528">//&nbsp;Build&nbsp;heap&nbsp;with&nbsp;greatest&nbsp;element&nbsp;at&nbsp;top.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2772573">for</span>&nbsp;<span class="ident" id="2772577">i</span>&nbsp;<span class="op" id="2772579">:=</span>&nbsp;<span class="op" id="2772582">(</span><span class="ident" id="2772583"><a href="/sort/sort.go.html#2772514">hi</a></span>&nbsp;<span class="op" id="2772586">-</span>&nbsp;<span class="num" id="2772588">1</span><span class="op" id="2772589">)</span>&nbsp;<span class="op" id="2772591">/</span>&nbsp;<span class="num" id="2772593">2</span><span class="op" id="2772594">;</span>&nbsp;<span class="ident" id="2772596"><a href="/sort/sort.go.html#2772577">i</a></span>&nbsp;<span class="op" id="2772598">&gt;=</span>&nbsp;<span class="num" id="2772601">0</span><span class="op" id="2772602">;</span>&nbsp;<span class="ident" id="2772604"><a href="/sort/sort.go.html#2772577">i</a></span><span class="op" id="2772605">--</span>&nbsp;<span class="op" id="2772608">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772612"><a href="/sort/sort.go.html#2772140">siftDown</a></span><span class="op" id="2772620">(</span><span class="ident" id="2772621"><a href="/sort/sort.go.html#2772464">data</a></span><span class="op" id="2772625">,</span>&nbsp;<span class="ident" id="2772627"><a href="/sort/sort.go.html#2772577">i</a></span><span class="op" id="2772628">,</span>&nbsp;<span class="ident" id="2772630"><a href="/sort/sort.go.html#2772514">hi</a></span><span class="op" id="2772632">,</span>&nbsp;<span class="ident" id="2772634"><a href="/sort/sort.go.html#2772493">first</a></span><span class="op" id="2772639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2772642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2772646">//&nbsp;Pop&nbsp;elements,&nbsp;largest&nbsp;first,&nbsp;into&nbsp;end&nbsp;of&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2772697">for</span>&nbsp;<span class="ident" id="2772701">i</span>&nbsp;<span class="op" id="2772703">:=</span>&nbsp;<span class="ident" id="2772706"><a href="/sort/sort.go.html#2772514">hi</a></span>&nbsp;<span class="op" id="2772709">-</span>&nbsp;<span class="num" id="2772711">1</span><span class="op" id="2772712">;</span>&nbsp;<span class="ident" id="2772714"><a href="/sort/sort.go.html#2772701">i</a></span>&nbsp;<span class="op" id="2772716">&gt;=</span>&nbsp;<span class="num" id="2772719">0</span><span class="op" id="2772720">;</span>&nbsp;<span class="ident" id="2772722"><a href="/sort/sort.go.html#2772701">i</a></span><span class="op" id="2772723">--</span>&nbsp;<span class="op" id="2772726">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772730"><a href="/sort/sort.go.html#2772464">data</a></span><span class="op" id="2772734">.</span><span class="ident" id="2772735">Swap</span><span class="op" id="2772739">(</span><span class="ident" id="2772740"><a href="/sort/sort.go.html#2772493">first</a></span><span class="op" id="2772745">,</span>&nbsp;<span class="ident" id="2772747"><a href="/sort/sort.go.html#2772493">first</a></span><span class="op" id="2772752">+</span><span class="ident" id="2772753"><a href="/sort/sort.go.html#2772701">i</a></span><span class="op" id="2772754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2772758"><a href="/sort/sort.go.html#2772140">siftDown</a></span><span class="op" id="2772766">(</span><span class="ident" id="2772767"><a href="/sort/sort.go.html#2772464">data</a></span><span class="op" id="2772771">,</span>&nbsp;<span class="ident" id="2772773"><a href="/sort/sort.go.html#2772505">lo</a></span><span class="op" id="2772775">,</span>&nbsp;<span class="ident" id="2772777"><a href="/sort/sort.go.html#2772701">i</a></span><span class="op" id="2772778">,</span>&nbsp;<span class="ident" id="2772780"><a href="/sort/sort.go.html#2772493">first</a></span><span class="op" id="2772785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2772788">}</span><br>
<span class="lineno"></span><span class="op" id="2772790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2772793">//&nbsp;Quicksort,&nbsp;following&nbsp;Bentley&nbsp;and&nbsp;McIlroy,</span><br>
<span class="lineno"></span><span class="comment" id="2772838">//&nbsp;``Engineering&nbsp;a&nbsp;Sort&nbsp;Function,&#39;&#39;&nbsp;SP&amp;E&nbsp;November&nbsp;1993.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2772895">//&nbsp;medianOfThree&nbsp;moves&nbsp;the&nbsp;median&nbsp;of&nbsp;the&nbsp;three&nbsp;values&nbsp;data[a],&nbsp;data[b],&nbsp;data[c]&nbsp;into&nbsp;data[a].</span><br>
<span class="lineno"></span><span class="keyword" id="2772989">func</span>&nbsp;<span class="ident" id="2772994">medianOfThree</span><span class="op" id="2773007">(</span><span class="ident" id="2773008">data</span>&nbsp;<span class="ident" id="2773013"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2773022">,</span>&nbsp;<span class="ident" id="2773024">a</span><span class="op" id="2773025">,</span>&nbsp;<span class="ident" id="2773027">b</span><span class="op" id="2773028">,</span>&nbsp;<span class="ident" id="2773030">c</span>&nbsp;<span class="builtintype" id="2773032">int</span><span class="op" id="2773035">)</span>&nbsp;<span class="op" id="2773037">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773040">m0</span>&nbsp;<span class="op" id="2773043">:=</span>&nbsp;<span class="ident" id="2773046"><a href="/sort/sort.go.html#2773027">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773049">m1</span>&nbsp;<span class="op" id="2773052">:=</span>&nbsp;<span class="ident" id="2773055"><a href="/sort/sort.go.html#2773024">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773058">m2</span>&nbsp;<span class="op" id="2773061">:=</span>&nbsp;<span class="ident" id="2773064"><a href="/sort/sort.go.html#2773030">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773067">//&nbsp;bubble&nbsp;sort&nbsp;on&nbsp;3&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2773097">if</span>&nbsp;<span class="ident" id="2773100"><a href="/sort/sort.go.html#2773008">data</a></span><span class="op" id="2773104">.</span><span class="ident" id="2773105">Less</span><span class="op" id="2773109">(</span><span class="ident" id="2773110"><a href="/sort/sort.go.html#2773049">m1</a></span><span class="op" id="2773112">,</span>&nbsp;<span class="ident" id="2773114"><a href="/sort/sort.go.html#2773040">m0</a></span><span class="op" id="2773116">)</span>&nbsp;<span class="op" id="2773118">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773122"><a href="/sort/sort.go.html#2773008">data</a></span><span class="op" id="2773126">.</span><span class="ident" id="2773127">Swap</span><span class="op" id="2773131">(</span><span class="ident" id="2773132"><a href="/sort/sort.go.html#2773049">m1</a></span><span class="op" id="2773134">,</span>&nbsp;<span class="ident" id="2773136"><a href="/sort/sort.go.html#2773040">m0</a></span><span class="op" id="2773138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2773141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2773144">if</span>&nbsp;<span class="ident" id="2773147"><a href="/sort/sort.go.html#2773008">data</a></span><span class="op" id="2773151">.</span><span class="ident" id="2773152">Less</span><span class="op" id="2773156">(</span><span class="ident" id="2773157"><a href="/sort/sort.go.html#2773058">m2</a></span><span class="op" id="2773159">,</span>&nbsp;<span class="ident" id="2773161"><a href="/sort/sort.go.html#2773049">m1</a></span><span class="op" id="2773163">)</span>&nbsp;<span class="op" id="2773165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773169"><a href="/sort/sort.go.html#2773008">data</a></span><span class="op" id="2773173">.</span><span class="ident" id="2773174">Swap</span><span class="op" id="2773178">(</span><span class="ident" id="2773179"><a href="/sort/sort.go.html#2773058">m2</a></span><span class="op" id="2773181">,</span>&nbsp;<span class="ident" id="2773183"><a href="/sort/sort.go.html#2773049">m1</a></span><span class="op" id="2773185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2773188">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2773191">if</span>&nbsp;<span class="ident" id="2773194"><a href="/sort/sort.go.html#2773008">data</a></span><span class="op" id="2773198">.</span><span class="ident" id="2773199">Less</span><span class="op" id="2773203">(</span><span class="ident" id="2773204"><a href="/sort/sort.go.html#2773049">m1</a></span><span class="op" id="2773206">,</span>&nbsp;<span class="ident" id="2773208"><a href="/sort/sort.go.html#2773040">m0</a></span><span class="op" id="2773210">)</span>&nbsp;<span class="op" id="2773212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773216"><a href="/sort/sort.go.html#2773008">data</a></span><span class="op" id="2773220">.</span><span class="ident" id="2773221">Swap</span><span class="op" id="2773225">(</span><span class="ident" id="2773226"><a href="/sort/sort.go.html#2773049">m1</a></span><span class="op" id="2773228">,</span>&nbsp;<span class="ident" id="2773230"><a href="/sort/sort.go.html#2773040">m0</a></span><span class="op" id="2773232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2773235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773238">//&nbsp;now&nbsp;data[m0]&nbsp;&lt;=&nbsp;data[m1]&nbsp;&lt;=&nbsp;data[m2]</span><br>
<span class="lineno"></span><span class="op" id="2773278">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="2773281">func</span>&nbsp;<span class="ident" id="2773286">swapRange</span><span class="op" id="2773295">(</span><span class="ident" id="2773296">data</span>&nbsp;<span class="ident" id="2773301"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2773310">,</span>&nbsp;<span class="ident" id="2773312">a</span><span class="op" id="2773313">,</span>&nbsp;<span class="ident" id="2773315">b</span><span class="op" id="2773316">,</span>&nbsp;<span class="ident" id="2773318">n</span>&nbsp;<span class="builtintype" id="2773320">int</span><span class="op" id="2773323">)</span>&nbsp;<span class="op" id="2773325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2773328">for</span>&nbsp;<span class="ident" id="2773332">i</span>&nbsp;<span class="op" id="2773334">:=</span>&nbsp;<span class="num" id="2773337">0</span><span class="op" id="2773338">;</span>&nbsp;<span class="ident" id="2773340"><a href="/sort/sort.go.html#2773332">i</a></span>&nbsp;<span class="op" id="2773342">&lt;</span>&nbsp;<span class="ident" id="2773344"><a href="/sort/sort.go.html#2773318">n</a></span><span class="op" id="2773345">;</span>&nbsp;<span class="ident" id="2773347"><a href="/sort/sort.go.html#2773332">i</a></span><span class="op" id="2773348">++</span>&nbsp;<span class="op" id="2773351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773355"><a href="/sort/sort.go.html#2773296">data</a></span><span class="op" id="2773359">.</span><span class="ident" id="2773360">Swap</span><span class="op" id="2773364">(</span><span class="ident" id="2773365"><a href="/sort/sort.go.html#2773312">a</a></span><span class="op" id="2773366">+</span><span class="ident" id="2773367"><a href="/sort/sort.go.html#2773332">i</a></span><span class="op" id="2773368">,</span>&nbsp;<span class="ident" id="2773370"><a href="/sort/sort.go.html#2773315">b</a></span><span class="op" id="2773371">+</span><span class="ident" id="2773372"><a href="/sort/sort.go.html#2773332">i</a></span><span class="op" id="2773373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2773376">}</span><br>
<span class="lineno">100</span><span class="op" id="2773378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2773381">func</span>&nbsp;<span class="ident" id="2773386">doPivot</span><span class="op" id="2773393">(</span><span class="ident" id="2773394">data</span>&nbsp;<span class="ident" id="2773399"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2773408">,</span>&nbsp;<span class="ident" id="2773410">lo</span><span class="op" id="2773412">,</span>&nbsp;<span class="ident" id="2773414">hi</span>&nbsp;<span class="builtintype" id="2773417">int</span><span class="op" id="2773420">)</span>&nbsp;<span class="op" id="2773422">(</span><span class="ident" id="2773423">midlo</span><span class="op" id="2773428">,</span>&nbsp;<span class="ident" id="2773430">midhi</span>&nbsp;<span class="builtintype" id="2773436">int</span><span class="op" id="2773439">)</span>&nbsp;<span class="op" id="2773441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773444">m</span>&nbsp;<span class="op" id="2773446">:=</span>&nbsp;<span class="ident" id="2773449"><a href="/sort/sort.go.html#2773410">lo</a></span>&nbsp;<span class="op" id="2773452">+</span>&nbsp;<span class="op" id="2773454">(</span><span class="ident" id="2773455"><a href="/sort/sort.go.html#2773414">hi</a></span><span class="op" id="2773457">-</span><span class="ident" id="2773458"><a href="/sort/sort.go.html#2773410">lo</a></span><span class="op" id="2773460">)</span><span class="op" id="2773461">/</span><span class="num" id="2773462">2</span>&nbsp;<span class="comment" id="2773464">//&nbsp;Written&nbsp;like&nbsp;this&nbsp;to&nbsp;avoid&nbsp;integer&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2773513">if</span>&nbsp;<span class="ident" id="2773516"><a href="/sort/sort.go.html#2773414">hi</a></span><span class="op" id="2773518">-</span><span class="ident" id="2773519"><a href="/sort/sort.go.html#2773410">lo</a></span>&nbsp;<span class="op" id="2773522">&gt;</span>&nbsp;<span class="num" id="2773524">40</span>&nbsp;<span class="op" id="2773527">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773531">//&nbsp;Tukey&#39;s&nbsp;``Ninther,&#39;&#39;&nbsp;median&nbsp;of&nbsp;three&nbsp;medians&nbsp;of&nbsp;three.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773591">s</span>&nbsp;<span class="op" id="2773593">:=</span>&nbsp;<span class="op" id="2773596">(</span><span class="ident" id="2773597"><a href="/sort/sort.go.html#2773414">hi</a></span>&nbsp;<span class="op" id="2773600">-</span>&nbsp;<span class="ident" id="2773602"><a href="/sort/sort.go.html#2773410">lo</a></span><span class="op" id="2773604">)</span>&nbsp;<span class="op" id="2773606">/</span>&nbsp;<span class="num" id="2773608">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773612"><a href="/sort/sort.go.html#2772994">medianOfThree</a></span><span class="op" id="2773625">(</span><span class="ident" id="2773626"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2773630">,</span>&nbsp;<span class="ident" id="2773632"><a href="/sort/sort.go.html#2773410">lo</a></span><span class="op" id="2773634">,</span>&nbsp;<span class="ident" id="2773636"><a href="/sort/sort.go.html#2773410">lo</a></span><span class="op" id="2773638">+</span><span class="ident" id="2773639"><a href="/sort/sort.go.html#2773591">s</a></span><span class="op" id="2773640">,</span>&nbsp;<span class="ident" id="2773642"><a href="/sort/sort.go.html#2773410">lo</a></span><span class="op" id="2773644">+</span><span class="num" id="2773645">2</span><span class="op" id="2773646">*</span><span class="ident" id="2773647"><a href="/sort/sort.go.html#2773591">s</a></span><span class="op" id="2773648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773652"><a href="/sort/sort.go.html#2772994">medianOfThree</a></span><span class="op" id="2773665">(</span><span class="ident" id="2773666"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2773670">,</span>&nbsp;<span class="ident" id="2773672"><a href="/sort/sort.go.html#2773444">m</a></span><span class="op" id="2773673">,</span>&nbsp;<span class="ident" id="2773675"><a href="/sort/sort.go.html#2773444">m</a></span><span class="op" id="2773676">-</span><span class="ident" id="2773677"><a href="/sort/sort.go.html#2773591">s</a></span><span class="op" id="2773678">,</span>&nbsp;<span class="ident" id="2773680"><a href="/sort/sort.go.html#2773444">m</a></span><span class="op" id="2773681">+</span><span class="ident" id="2773682"><a href="/sort/sort.go.html#2773591">s</a></span><span class="op" id="2773683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773687"><a href="/sort/sort.go.html#2772994">medianOfThree</a></span><span class="op" id="2773700">(</span><span class="ident" id="2773701"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2773705">,</span>&nbsp;<span class="ident" id="2773707"><a href="/sort/sort.go.html#2773414">hi</a></span><span class="op" id="2773709">-</span><span class="num" id="2773710">1</span><span class="op" id="2773711">,</span>&nbsp;<span class="ident" id="2773713"><a href="/sort/sort.go.html#2773414">hi</a></span><span class="op" id="2773715">-</span><span class="num" id="2773716">1</span><span class="op" id="2773717">-</span><span class="ident" id="2773718"><a href="/sort/sort.go.html#2773591">s</a></span><span class="op" id="2773719">,</span>&nbsp;<span class="ident" id="2773721"><a href="/sort/sort.go.html#2773414">hi</a></span><span class="op" id="2773723">-</span><span class="num" id="2773724">1</span><span class="op" id="2773725">-</span><span class="num" id="2773726">2</span><span class="op" id="2773727">*</span><span class="ident" id="2773728"><a href="/sort/sort.go.html#2773591">s</a></span><span class="op" id="2773729">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2773732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2773735"><a href="/sort/sort.go.html#2772994">medianOfThree</a></span><span class="op" id="2773748">(</span><span class="ident" id="2773749"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2773753">,</span>&nbsp;<span class="ident" id="2773755"><a href="/sort/sort.go.html#2773410">lo</a></span><span class="op" id="2773757">,</span>&nbsp;<span class="ident" id="2773759"><a href="/sort/sort.go.html#2773444">m</a></span><span class="op" id="2773760">,</span>&nbsp;<span class="ident" id="2773762"><a href="/sort/sort.go.html#2773414">hi</a></span><span class="op" id="2773764">-</span><span class="num" id="2773765">1</span><span class="op" id="2773766">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773770">//&nbsp;Invariants&nbsp;are:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773790">//&nbsp;&nbsp;&nbsp;&nbspdata[lo]&nbsp;=&nbsp;pivot&nbsp;(set&nbsp;up&nbsp;by&nbsp;ChoosePivot)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773835">//&nbsp;&nbsp;&nbsp;&nbspdata[lo&nbsp;&lt;=&nbsp;i&nbsp;&lt;&nbsp;a]&nbsp;=&nbsp;pivot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773865">//&nbsp;&nbsp;&nbsp;&nbspdata[a&nbsp;&lt;=&nbsp;i&nbsp;&lt;&nbsp;b]&nbsp;&lt;&nbsp;pivot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773894">//&nbsp;&nbsp;&nbsp;&nbspdata[b&nbsp;&lt;=&nbsp;i&nbsp;&lt;&nbsp;c]&nbsp;is&nbsp;unexamined</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773929">//&nbsp;&nbsp;&nbsp;&nbspdata[c&nbsp;&lt;=&nbsp;i&nbsp;&lt;&nbsp;d]&nbsp;&gt;&nbsp;pivot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773958">//&nbsp;&nbsp;&nbsp;&nbspdata[d&nbsp;&lt;=&nbsp;i&nbsp;&lt;&nbsp;hi]&nbsp;=&nbsp;pivot</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773988">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2773992">//&nbsp;Once&nbsp;b&nbsp;meets&nbsp;c,&nbsp;can&nbsp;swap&nbsp;the&nbsp;&#34;=&nbsp;pivot&#34;&nbsp;sections</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2774044">//&nbsp;into&nbsp;the&nbsp;middle&nbsp;of&nbsp;the&nbsp;slice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774078">pivot</span>&nbsp;<span class="op" id="2774084">:=</span>&nbsp;<span class="ident" id="2774087"><a href="/sort/sort.go.html#2773410">lo</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774091">a</span><span class="op" id="2774092">,</span>&nbsp;<span class="ident" id="2774094">b</span><span class="op" id="2774095">,</span>&nbsp;<span class="ident" id="2774097">c</span><span class="op" id="2774098">,</span>&nbsp;<span class="ident" id="2774100">d</span>&nbsp;<span class="op" id="2774102">:=</span>&nbsp;<span class="ident" id="2774105"><a href="/sort/sort.go.html#2773410">lo</a></span><span class="op" id="2774107">+</span><span class="num" id="2774108">1</span><span class="op" id="2774109">,</span>&nbsp;<span class="ident" id="2774111"><a href="/sort/sort.go.html#2773410">lo</a></span><span class="op" id="2774113">+</span><span class="num" id="2774114">1</span><span class="op" id="2774115">,</span>&nbsp;<span class="ident" id="2774117"><a href="/sort/sort.go.html#2773414">hi</a></span><span class="op" id="2774119">,</span>&nbsp;<span class="ident" id="2774121"><a href="/sort/sort.go.html#2773414">hi</a></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774125">for</span>&nbsp;<span class="op" id="2774129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774133">for</span>&nbsp;<span class="ident" id="2774137"><a href="/sort/sort.go.html#2774094">b</a></span>&nbsp;<span class="op" id="2774139">&lt;</span>&nbsp;<span class="ident" id="2774141"><a href="/sort/sort.go.html#2774097">c</a></span>&nbsp;<span class="op" id="2774143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774148">if</span>&nbsp;<span class="ident" id="2774151"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2774155">.</span><span class="ident" id="2774156">Less</span><span class="op" id="2774160">(</span><span class="ident" id="2774161"><a href="/sort/sort.go.html#2774094">b</a></span><span class="op" id="2774162">,</span>&nbsp;<span class="ident" id="2774164"><a href="/sort/sort.go.html#2774078">pivot</a></span><span class="op" id="2774169">)</span>&nbsp;<span class="op" id="2774171">{</span>&nbsp;<span class="comment" id="2774173">//&nbsp;data[b]&nbsp;&lt;&nbsp;pivot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774196"><a href="/sort/sort.go.html#2774094">b</a></span><span class="op" id="2774197">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774203">}</span>&nbsp;<span class="keyword" id="2774205">else</span>&nbsp;<span class="keyword" id="2774210">if</span>&nbsp;<span class="op" id="2774213">!</span><span class="ident" id="2774214"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2774218">.</span><span class="ident" id="2774219">Less</span><span class="op" id="2774223">(</span><span class="ident" id="2774224"><a href="/sort/sort.go.html#2774078">pivot</a></span><span class="op" id="2774229">,</span>&nbsp;<span class="ident" id="2774231"><a href="/sort/sort.go.html#2774094">b</a></span><span class="op" id="2774232">)</span>&nbsp;<span class="op" id="2774234">{</span>&nbsp;<span class="comment" id="2774236">//&nbsp;data[b]&nbsp;=&nbsp;pivot</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774259"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2774263">.</span><span class="ident" id="2774264">Swap</span><span class="op" id="2774268">(</span><span class="ident" id="2774269"><a href="/sort/sort.go.html#2774091">a</a></span><span class="op" id="2774270">,</span>&nbsp;<span class="ident" id="2774272"><a href="/sort/sort.go.html#2774094">b</a></span><span class="op" id="2774273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774279"><a href="/sort/sort.go.html#2774091">a</a></span><span class="op" id="2774280">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774287"><a href="/sort/sort.go.html#2774094">b</a></span><span class="op" id="2774288">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774294">}</span>&nbsp;<span class="keyword" id="2774296">else</span>&nbsp;<span class="op" id="2774301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774307">break</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774324">for</span>&nbsp;<span class="ident" id="2774328"><a href="/sort/sort.go.html#2774094">b</a></span>&nbsp;<span class="op" id="2774330">&lt;</span>&nbsp;<span class="ident" id="2774332"><a href="/sort/sort.go.html#2774097">c</a></span>&nbsp;<span class="op" id="2774334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774339">if</span>&nbsp;<span class="ident" id="2774342"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2774346">.</span><span class="ident" id="2774347">Less</span><span class="op" id="2774351">(</span><span class="ident" id="2774352"><a href="/sort/sort.go.html#2774078">pivot</a></span><span class="op" id="2774357">,</span>&nbsp;<span class="ident" id="2774359"><a href="/sort/sort.go.html#2774097">c</a></span><span class="op" id="2774360">-</span><span class="num" id="2774361">1</span><span class="op" id="2774362">)</span>&nbsp;<span class="op" id="2774364">{</span>&nbsp;<span class="comment" id="2774366">//&nbsp;data[c-1]&nbsp;&gt;&nbsp;pivot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774391"><a href="/sort/sort.go.html#2774097">c</a></span><span class="op" id="2774392">--</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774398">}</span>&nbsp;<span class="keyword" id="2774400">else</span>&nbsp;<span class="keyword" id="2774405">if</span>&nbsp;<span class="op" id="2774408">!</span><span class="ident" id="2774409"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2774413">.</span><span class="ident" id="2774414">Less</span><span class="op" id="2774418">(</span><span class="ident" id="2774419"><a href="/sort/sort.go.html#2774097">c</a></span><span class="op" id="2774420">-</span><span class="num" id="2774421">1</span><span class="op" id="2774422">,</span>&nbsp;<span class="ident" id="2774424"><a href="/sort/sort.go.html#2774078">pivot</a></span><span class="op" id="2774429">)</span>&nbsp;<span class="op" id="2774431">{</span>&nbsp;<span class="comment" id="2774433">//&nbsp;data[c-1]&nbsp;=&nbsp;pivot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774458"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2774462">.</span><span class="ident" id="2774463">Swap</span><span class="op" id="2774467">(</span><span class="ident" id="2774468"><a href="/sort/sort.go.html#2774097">c</a></span><span class="op" id="2774469">-</span><span class="num" id="2774470">1</span><span class="op" id="2774471">,</span>&nbsp;<span class="ident" id="2774473"><a href="/sort/sort.go.html#2774100">d</a></span><span class="op" id="2774474">-</span><span class="num" id="2774475">1</span><span class="op" id="2774476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774482"><a href="/sort/sort.go.html#2774097">c</a></span><span class="op" id="2774483">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774490"><a href="/sort/sort.go.html#2774100">d</a></span><span class="op" id="2774491">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774497">}</span>&nbsp;<span class="keyword" id="2774499">else</span>&nbsp;<span class="op" id="2774504">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774510">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774527">if</span>&nbsp;<span class="ident" id="2774530"><a href="/sort/sort.go.html#2774094">b</a></span>&nbsp;<span class="op" id="2774532">&gt;=</span>&nbsp;<span class="ident" id="2774535"><a href="/sort/sort.go.html#2774097">c</a></span>&nbsp;<span class="op" id="2774537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774542">break</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2774554">//&nbsp;data[b]&nbsp;&gt;&nbsp;pivot;&nbsp;data[c-1]&nbsp;&lt;&nbsp;pivot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774594"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2774598">.</span><span class="ident" id="2774599">Swap</span><span class="op" id="2774603">(</span><span class="ident" id="2774604"><a href="/sort/sort.go.html#2774094">b</a></span><span class="op" id="2774605">,</span>&nbsp;<span class="ident" id="2774607"><a href="/sort/sort.go.html#2774097">c</a></span><span class="op" id="2774608">-</span><span class="num" id="2774609">1</span><span class="op" id="2774610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774614"><a href="/sort/sort.go.html#2774094">b</a></span><span class="op" id="2774615">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774620"><a href="/sort/sort.go.html#2774097">c</a></span><span class="op" id="2774621">--</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774629">n</span>&nbsp;<span class="op" id="2774631">:=</span>&nbsp;<span class="ident" id="2774634"><a href="/sort/sort.go.html#2771774">min</a></span><span class="op" id="2774637">(</span><span class="ident" id="2774638"><a href="/sort/sort.go.html#2774094">b</a></span><span class="op" id="2774639">-</span><span class="ident" id="2774640"><a href="/sort/sort.go.html#2774091">a</a></span><span class="op" id="2774641">,</span>&nbsp;<span class="ident" id="2774643"><a href="/sort/sort.go.html#2774091">a</a></span><span class="op" id="2774644">-</span><span class="ident" id="2774645"><a href="/sort/sort.go.html#2773410">lo</a></span><span class="op" id="2774647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774650"><a href="/sort/sort.go.html#2773286">swapRange</a></span><span class="op" id="2774659">(</span><span class="ident" id="2774660"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2774664">,</span>&nbsp;<span class="ident" id="2774666"><a href="/sort/sort.go.html#2773410">lo</a></span><span class="op" id="2774668">,</span>&nbsp;<span class="ident" id="2774670"><a href="/sort/sort.go.html#2774094">b</a></span><span class="op" id="2774671">-</span><span class="ident" id="2774672"><a href="/sort/sort.go.html#2774629">n</a></span><span class="op" id="2774673">,</span>&nbsp;<span class="ident" id="2774675"><a href="/sort/sort.go.html#2774629">n</a></span><span class="op" id="2774676">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774680"><a href="/sort/sort.go.html#2774629">n</a></span>&nbsp;<span class="op" id="2774682">=</span>&nbsp;<span class="ident" id="2774684"><a href="/sort/sort.go.html#2771774">min</a></span><span class="op" id="2774687">(</span><span class="ident" id="2774688"><a href="/sort/sort.go.html#2773414">hi</a></span><span class="op" id="2774690">-</span><span class="ident" id="2774691"><a href="/sort/sort.go.html#2774100">d</a></span><span class="op" id="2774692">,</span>&nbsp;<span class="ident" id="2774694"><a href="/sort/sort.go.html#2774100">d</a></span><span class="op" id="2774695">-</span><span class="ident" id="2774696"><a href="/sort/sort.go.html#2774097">c</a></span><span class="op" id="2774697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774700"><a href="/sort/sort.go.html#2773286">swapRange</a></span><span class="op" id="2774709">(</span><span class="ident" id="2774710"><a href="/sort/sort.go.html#2773394">data</a></span><span class="op" id="2774714">,</span>&nbsp;<span class="ident" id="2774716"><a href="/sort/sort.go.html#2774097">c</a></span><span class="op" id="2774717">,</span>&nbsp;<span class="ident" id="2774719"><a href="/sort/sort.go.html#2773414">hi</a></span><span class="op" id="2774721">-</span><span class="ident" id="2774722"><a href="/sort/sort.go.html#2774629">n</a></span><span class="op" id="2774723">,</span>&nbsp;<span class="ident" id="2774725"><a href="/sort/sort.go.html#2774629">n</a></span><span class="op" id="2774726">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774730">return</span>&nbsp;<span class="ident" id="2774737"><a href="/sort/sort.go.html#2773410">lo</a></span>&nbsp;<span class="op" id="2774740">+</span>&nbsp;<span class="ident" id="2774742"><a href="/sort/sort.go.html#2774094">b</a></span>&nbsp;<span class="op" id="2774744">-</span>&nbsp;<span class="ident" id="2774746"><a href="/sort/sort.go.html#2774091">a</a></span><span class="op" id="2774747">,</span>&nbsp;<span class="ident" id="2774749"><a href="/sort/sort.go.html#2773414">hi</a></span>&nbsp;<span class="op" id="2774752">-</span>&nbsp;<span class="op" id="2774754">(</span><span class="ident" id="2774755"><a href="/sort/sort.go.html#2774100">d</a></span>&nbsp;<span class="op" id="2774757">-</span>&nbsp;<span class="ident" id="2774759"><a href="/sort/sort.go.html#2774097">c</a></span><span class="op" id="2774760">)</span><br>
<span class="lineno"></span><span class="op" id="2774762">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="2774765">func</span>&nbsp;<span class="ident" id="2774770">quickSort</span><span class="op" id="2774779">(</span><span class="ident" id="2774780">data</span>&nbsp;<span class="ident" id="2774785"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2774794">,</span>&nbsp;<span class="ident" id="2774796">a</span><span class="op" id="2774797">,</span>&nbsp;<span class="ident" id="2774799">b</span><span class="op" id="2774800">,</span>&nbsp;<span class="ident" id="2774802">maxDepth</span>&nbsp;<span class="builtintype" id="2774811">int</span><span class="op" id="2774814">)</span>&nbsp;<span class="op" id="2774816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774819">for</span>&nbsp;<span class="ident" id="2774823"><a href="/sort/sort.go.html#2774799">b</a></span><span class="op" id="2774824">-</span><span class="ident" id="2774825"><a href="/sort/sort.go.html#2774796">a</a></span>&nbsp;<span class="op" id="2774827">&gt;</span>&nbsp;<span class="num" id="2774829">7</span>&nbsp;<span class="op" id="2774831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774835">if</span>&nbsp;<span class="ident" id="2774838"><a href="/sort/sort.go.html#2774802">maxDepth</a></span>&nbsp;<span class="op" id="2774847">==</span>&nbsp;<span class="num" id="2774850">0</span>&nbsp;<span class="op" id="2774852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774857"><a href="/sort/sort.go.html#2772455">heapSort</a></span><span class="op" id="2774865">(</span><span class="ident" id="2774866"><a href="/sort/sort.go.html#2774780">data</a></span><span class="op" id="2774870">,</span>&nbsp;<span class="ident" id="2774872"><a href="/sort/sort.go.html#2774796">a</a></span><span class="op" id="2774873">,</span>&nbsp;<span class="ident" id="2774875"><a href="/sort/sort.go.html#2774799">b</a></span><span class="op" id="2774876">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2774881">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2774890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774894"><a href="/sort/sort.go.html#2774802">maxDepth</a></span><span class="op" id="2774902">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2774907">mlo</span><span class="op" id="2774910">,</span>&nbsp;<span class="ident" id="2774912">mhi</span>&nbsp;<span class="op" id="2774916">:=</span>&nbsp;<span class="ident" id="2774919"><a href="/sort/sort.go.html#2773386">doPivot</a></span><span class="op" id="2774926">(</span><span class="ident" id="2774927"><a href="/sort/sort.go.html#2774780">data</a></span><span class="op" id="2774931">,</span>&nbsp;<span class="ident" id="2774933"><a href="/sort/sort.go.html#2774796">a</a></span><span class="op" id="2774934">,</span>&nbsp;<span class="ident" id="2774936"><a href="/sort/sort.go.html#2774799">b</a></span><span class="op" id="2774937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2774941">//&nbsp;Avoiding&nbsp;recursion&nbsp;on&nbsp;the&nbsp;larger&nbsp;subproblem&nbsp;guarantees</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2775001">//&nbsp;a&nbsp;stack&nbsp;depth&nbsp;of&nbsp;at&nbsp;most&nbsp;lg(b-a).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2775040">if</span>&nbsp;<span class="ident" id="2775043"><a href="/sort/sort.go.html#2774907">mlo</a></span><span class="op" id="2775046">-</span><span class="ident" id="2775047"><a href="/sort/sort.go.html#2774796">a</a></span>&nbsp;<span class="op" id="2775049">&lt;</span>&nbsp;<span class="ident" id="2775051"><a href="/sort/sort.go.html#2774799">b</a></span><span class="op" id="2775052">-</span><span class="ident" id="2775053"><a href="/sort/sort.go.html#2774912">mhi</a></span>&nbsp;<span class="op" id="2775057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775062"><a href="/sort/sort.go.html#2774770">quickSort</a></span><span class="op" id="2775071">(</span><span class="ident" id="2775072"><a href="/sort/sort.go.html#2774780">data</a></span><span class="op" id="2775076">,</span>&nbsp;<span class="ident" id="2775078"><a href="/sort/sort.go.html#2774796">a</a></span><span class="op" id="2775079">,</span>&nbsp;<span class="ident" id="2775081"><a href="/sort/sort.go.html#2774907">mlo</a></span><span class="op" id="2775084">,</span>&nbsp;<span class="ident" id="2775086"><a href="/sort/sort.go.html#2774802">maxDepth</a></span><span class="op" id="2775094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775099"><a href="/sort/sort.go.html#2774796">a</a></span>&nbsp;<span class="op" id="2775101">=</span>&nbsp;<span class="ident" id="2775103"><a href="/sort/sort.go.html#2774912">mhi</a></span>&nbsp;<span class="comment" id="2775107">//&nbsp;i.e.,&nbsp;quickSort(data,&nbsp;mhi,&nbsp;b)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2775142">}</span>&nbsp;<span class="keyword" id="2775144">else</span>&nbsp;<span class="op" id="2775149">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775154"><a href="/sort/sort.go.html#2774770">quickSort</a></span><span class="op" id="2775163">(</span><span class="ident" id="2775164"><a href="/sort/sort.go.html#2774780">data</a></span><span class="op" id="2775168">,</span>&nbsp;<span class="ident" id="2775170"><a href="/sort/sort.go.html#2774912">mhi</a></span><span class="op" id="2775173">,</span>&nbsp;<span class="ident" id="2775175"><a href="/sort/sort.go.html#2774799">b</a></span><span class="op" id="2775176">,</span>&nbsp;<span class="ident" id="2775178"><a href="/sort/sort.go.html#2774802">maxDepth</a></span><span class="op" id="2775186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775191"><a href="/sort/sort.go.html#2774799">b</a></span>&nbsp;<span class="op" id="2775193">=</span>&nbsp;<span class="ident" id="2775195"><a href="/sort/sort.go.html#2774907">mlo</a></span>&nbsp;<span class="comment" id="2775199">//&nbsp;i.e.,&nbsp;quickSort(data,&nbsp;a,&nbsp;mlo)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2775234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2775237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2775240">if</span>&nbsp;<span class="ident" id="2775243"><a href="/sort/sort.go.html#2774799">b</a></span><span class="op" id="2775244">-</span><span class="ident" id="2775245"><a href="/sort/sort.go.html#2774796">a</a></span>&nbsp;<span class="op" id="2775247">&gt;</span>&nbsp;<span class="num" id="2775249">1</span>&nbsp;<span class="op" id="2775251">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775255"><a href="/sort/sort.go.html#2771856">insertionSort</a></span><span class="op" id="2775268">(</span><span class="ident" id="2775269"><a href="/sort/sort.go.html#2774780">data</a></span><span class="op" id="2775273">,</span>&nbsp;<span class="ident" id="2775275"><a href="/sort/sort.go.html#2774796">a</a></span><span class="op" id="2775276">,</span>&nbsp;<span class="ident" id="2775278"><a href="/sort/sort.go.html#2774799">b</a></span><span class="op" id="2775279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2775282">}</span><br>
<span class="lineno"></span><span class="op" id="2775284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2775287">//&nbsp;Sort&nbsp;sorts&nbsp;data.</span><br>
<span class="lineno">190</span><span class="comment" id="2775307">//&nbsp;It&nbsp;makes&nbsp;one&nbsp;call&nbsp;to&nbsp;data.Len&nbsp;to&nbsp;determine&nbsp;n,&nbsp;and&nbsp;O(n*log(n))&nbsp;calls&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2775381">//&nbsp;data.Less&nbsp;and&nbsp;data.Swap.&nbsp;The&nbsp;sort&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;stable.</span><br>
<span class="lineno"></span><span class="keyword" id="2775450">func</span>&nbsp;<span class="ident" id="2775455">Sort</span><span class="op" id="2775459">(</span><span class="ident" id="2775460">data</span>&nbsp;<span class="ident" id="2775465"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2775474">)</span>&nbsp;<span class="op" id="2775476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2775479">//&nbsp;Switch&nbsp;to&nbsp;heapsort&nbsp;if&nbsp;depth&nbsp;of&nbsp;2*ceil(lg(n+1))&nbsp;is&nbsp;reached.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775542">n</span>&nbsp;<span class="op" id="2775544">:=</span>&nbsp;<span class="ident" id="2775547"><a href="/sort/sort.go.html#2775460">data</a></span><span class="op" id="2775551">.</span><span class="ident" id="2775552">Len</span><span class="op" id="2775555">(</span><span class="op" id="2775556">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775559">maxDepth</span>&nbsp;<span class="op" id="2775568">:=</span>&nbsp;<span class="num" id="2775571">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2775574">for</span>&nbsp;<span class="ident" id="2775578">i</span>&nbsp;<span class="op" id="2775580">:=</span>&nbsp;<span class="ident" id="2775583"><a href="/sort/sort.go.html#2775542">n</a></span><span class="op" id="2775584">;</span>&nbsp;<span class="ident" id="2775586"><a href="/sort/sort.go.html#2775578">i</a></span>&nbsp;<span class="op" id="2775588">&gt;</span>&nbsp;<span class="num" id="2775590">0</span><span class="op" id="2775591">;</span>&nbsp;<span class="ident" id="2775593"><a href="/sort/sort.go.html#2775578">i</a></span>&nbsp;<span class="op" id="2775595">&gt;&gt;=</span>&nbsp;<span class="num" id="2775599">1</span>&nbsp;<span class="op" id="2775601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775605"><a href="/sort/sort.go.html#2775559">maxDepth</a></span><span class="op" id="2775613">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2775617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775620"><a href="/sort/sort.go.html#2775559">maxDepth</a></span>&nbsp;<span class="op" id="2775629">*=</span>&nbsp;<span class="num" id="2775632">2</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775635"><a href="/sort/sort.go.html#2774770">quickSort</a></span><span class="op" id="2775644">(</span><span class="ident" id="2775645"><a href="/sort/sort.go.html#2775460">data</a></span><span class="op" id="2775649">,</span>&nbsp;<span class="num" id="2775651">0</span><span class="op" id="2775652">,</span>&nbsp;<span class="ident" id="2775654"><a href="/sort/sort.go.html#2775542">n</a></span><span class="op" id="2775655">,</span>&nbsp;<span class="ident" id="2775657"><a href="/sort/sort.go.html#2775559">maxDepth</a></span><span class="op" id="2775665">)</span><br>
<span class="lineno"></span><span class="op" id="2775667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2775670">type</span>&nbsp;<span class="ident" id="2775675">reverse</span>&nbsp;<span class="keyword" id="2775683">struct</span>&nbsp;<span class="op" id="2775690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2775693">//&nbsp;This&nbsp;embedded&nbsp;Interface&nbsp;permits&nbsp;Reverse&nbsp;to&nbsp;use&nbsp;the&nbsp;methods&nbsp;of</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2775759">//&nbsp;another&nbsp;Interface&nbsp;implementation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2775797"><a href="/sort/sort.go.html#2771494">Interface</a></span><br>
<span class="lineno"></span><span class="op" id="2775807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2775810">//&nbsp;Less&nbsp;returns&nbsp;the&nbsp;opposite&nbsp;of&nbsp;the&nbsp;embedded&nbsp;implementation&#39;s&nbsp;Less&nbsp;method.</span><br>
<span class="lineno">210</span><span class="keyword" id="2775885">func</span>&nbsp;<span class="op" id="2775890">(</span><span class="ident" id="2775891">r</span>&nbsp;<span class="ident" id="2775893"><a href="/sort/sort.go.html#2775675">reverse</a></span><span class="op" id="2775900">)</span>&nbsp;<span class="ident" id="2775902">Less</span><span class="op" id="2775906">(</span><span class="ident" id="2775907">i</span><span class="op" id="2775908">,</span>&nbsp;<span class="ident" id="2775910">j</span>&nbsp;<span class="builtintype" id="2775912">int</span><span class="op" id="2775915">)</span>&nbsp;<span class="builtintype" id="2775917">bool</span>&nbsp;<span class="op" id="2775922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2775925">return</span>&nbsp;<span class="ident" id="2775932"><a href="/sort/sort.go.html#2775891">r</a></span><span class="op" id="2775933">.</span><span class="ident" id="2775934">Interface</span><span class="op" id="2775943">.</span><span class="ident" id="2775944">Less</span><span class="op" id="2775948">(</span><span class="ident" id="2775949"><a href="/sort/sort.go.html#2775910">j</a></span><span class="op" id="2775950">,</span>&nbsp;<span class="ident" id="2775952"><a href="/sort/sort.go.html#2775907">i</a></span><span class="op" id="2775953">)</span><br>
<span class="lineno"></span><span class="op" id="2775955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2775958">//&nbsp;Reverse&nbsp;returns&nbsp;the&nbsp;reverse&nbsp;order&nbsp;for&nbsp;data.</span><br>
<span class="lineno">215</span><span class="keyword" id="2776005">func</span>&nbsp;<span class="ident" id="2776010">Reverse</span><span class="op" id="2776017">(</span><span class="ident" id="2776018">data</span>&nbsp;<span class="ident" id="2776023"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2776032">)</span>&nbsp;<span class="ident" id="2776034"><a href="/sort/sort.go.html#2771494">Interface</a></span>&nbsp;<span class="op" id="2776044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2776047">return</span>&nbsp;<span class="op" id="2776054">&amp;</span><span class="ident" id="2776055"><a href="/sort/sort.go.html#2775675">reverse</a></span><span class="op" id="2776062">{</span><span class="ident" id="2776063"><a href="/sort/sort.go.html#2776018">data</a></span><span class="op" id="2776067">}</span><br>
<span class="lineno"></span><span class="op" id="2776069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2776072">//&nbsp;IsSorted&nbsp;reports&nbsp;whether&nbsp;data&nbsp;is&nbsp;sorted.</span><br>
<span class="lineno">220</span><span class="keyword" id="2776116">func</span>&nbsp;<span class="ident" id="2776121">IsSorted</span><span class="op" id="2776129">(</span><span class="ident" id="2776130">data</span>&nbsp;<span class="ident" id="2776135"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2776144">)</span>&nbsp;<span class="builtintype" id="2776146">bool</span>&nbsp;<span class="op" id="2776151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2776154">n</span>&nbsp;<span class="op" id="2776156">:=</span>&nbsp;<span class="ident" id="2776159"><a href="/sort/sort.go.html#2776130">data</a></span><span class="op" id="2776163">.</span><span class="ident" id="2776164">Len</span><span class="op" id="2776167">(</span><span class="op" id="2776168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2776171">for</span>&nbsp;<span class="ident" id="2776175">i</span>&nbsp;<span class="op" id="2776177">:=</span>&nbsp;<span class="ident" id="2776180"><a href="/sort/sort.go.html#2776154">n</a></span>&nbsp;<span class="op" id="2776182">-</span>&nbsp;<span class="num" id="2776184">1</span><span class="op" id="2776185">;</span>&nbsp;<span class="ident" id="2776187"><a href="/sort/sort.go.html#2776175">i</a></span>&nbsp;<span class="op" id="2776189">&gt;</span>&nbsp;<span class="num" id="2776191">0</span><span class="op" id="2776192">;</span>&nbsp;<span class="ident" id="2776194"><a href="/sort/sort.go.html#2776175">i</a></span><span class="op" id="2776195">--</span>&nbsp;<span class="op" id="2776198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2776202">if</span>&nbsp;<span class="ident" id="2776205"><a href="/sort/sort.go.html#2776130">data</a></span><span class="op" id="2776209">.</span><span class="ident" id="2776210">Less</span><span class="op" id="2776214">(</span><span class="ident" id="2776215"><a href="/sort/sort.go.html#2776175">i</a></span><span class="op" id="2776216">,</span>&nbsp;<span class="ident" id="2776218"><a href="/sort/sort.go.html#2776175">i</a></span><span class="op" id="2776219">-</span><span class="num" id="2776220">1</span><span class="op" id="2776221">)</span>&nbsp;<span class="op" id="2776223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2776228">return</span>&nbsp;<span class="ident" id="2776235">false</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2776243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2776246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2776249">return</span>&nbsp;<span class="ident" id="2776256">true</span><br>
<span class="lineno"></span><span class="op" id="2776261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span><span class="comment" id="2776264">//&nbsp;Convenience&nbsp;types&nbsp;for&nbsp;common&nbsp;cases</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2776303">//&nbsp;IntSlice&nbsp;attaches&nbsp;the&nbsp;methods&nbsp;of&nbsp;Interface&nbsp;to&nbsp;[]int,&nbsp;sorting&nbsp;in&nbsp;increasing&nbsp;order.</span><br>
<span class="lineno"></span><span class="keyword" id="2776388">type</span>&nbsp;<span class="ident" id="2776393">IntSlice</span>&nbsp;<span class="op" id="2776402">[</span><span class="op" id="2776403">]</span><span class="builtintype" id="2776404">int</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="2776409">func</span>&nbsp;<span class="op" id="2776414">(</span><span class="ident" id="2776415">p</span>&nbsp;<span class="ident" id="2776417"><a href="/sort/sort.go.html#2776393">IntSlice</a></span><span class="op" id="2776425">)</span>&nbsp;<span class="ident" id="2776427">Len</span><span class="op" id="2776430">(</span><span class="op" id="2776431">)</span>&nbsp;<span class="builtintype" id="2776433">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2776447">{</span>&nbsp;<span class="keyword" id="2776449">return</span>&nbsp;<span class="builtinfunc" id="2776456">len</span><span class="op" id="2776459">(</span><span class="ident" id="2776460"><a href="/sort/sort.go.html#2776415">p</a></span><span class="op" id="2776461">)</span>&nbsp;<span class="op" id="2776463">}</span><br>
<span class="lineno"></span><span class="keyword" id="2776465">func</span>&nbsp;<span class="op" id="2776470">(</span><span class="ident" id="2776471">p</span>&nbsp;<span class="ident" id="2776473"><a href="/sort/sort.go.html#2776393">IntSlice</a></span><span class="op" id="2776481">)</span>&nbsp;<span class="ident" id="2776483">Less</span><span class="op" id="2776487">(</span><span class="ident" id="2776488">i</span><span class="op" id="2776489">,</span>&nbsp;<span class="ident" id="2776491">j</span>&nbsp;<span class="builtintype" id="2776493">int</span><span class="op" id="2776496">)</span>&nbsp;<span class="builtintype" id="2776498">bool</span>&nbsp;<span class="op" id="2776503">{</span>&nbsp;<span class="keyword" id="2776505">return</span>&nbsp;<span class="ident" id="2776512"><a href="/sort/sort.go.html#2776471">p</a></span><span class="op" id="2776513">[</span><span class="ident" id="2776514"><a href="/sort/sort.go.html#2776488">i</a></span><span class="op" id="2776515">]</span>&nbsp;<span class="op" id="2776517">&lt;</span>&nbsp;<span class="ident" id="2776519"><a href="/sort/sort.go.html#2776471">p</a></span><span class="op" id="2776520">[</span><span class="ident" id="2776521"><a href="/sort/sort.go.html#2776491">j</a></span><span class="op" id="2776522">]</span>&nbsp;<span class="op" id="2776524">}</span><br>
<span class="lineno"></span><span class="keyword" id="2776526">func</span>&nbsp;<span class="op" id="2776531">(</span><span class="ident" id="2776532">p</span>&nbsp;<span class="ident" id="2776534"><a href="/sort/sort.go.html#2776393">IntSlice</a></span><span class="op" id="2776542">)</span>&nbsp;<span class="ident" id="2776544">Swap</span><span class="op" id="2776548">(</span><span class="ident" id="2776549">i</span><span class="op" id="2776550">,</span>&nbsp;<span class="ident" id="2776552">j</span>&nbsp;<span class="builtintype" id="2776554">int</span><span class="op" id="2776557">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2776564">{</span>&nbsp;<span class="ident" id="2776566"><a href="/sort/sort.go.html#2776532">p</a></span><span class="op" id="2776567">[</span><span class="ident" id="2776568"><a href="/sort/sort.go.html#2776549">i</a></span><span class="op" id="2776569">]</span><span class="op" id="2776570">,</span>&nbsp;<span class="ident" id="2776572"><a href="/sort/sort.go.html#2776532">p</a></span><span class="op" id="2776573">[</span><span class="ident" id="2776574"><a href="/sort/sort.go.html#2776552">j</a></span><span class="op" id="2776575">]</span>&nbsp;<span class="op" id="2776577">=</span>&nbsp;<span class="ident" id="2776579"><a href="/sort/sort.go.html#2776532">p</a></span><span class="op" id="2776580">[</span><span class="ident" id="2776581"><a href="/sort/sort.go.html#2776552">j</a></span><span class="op" id="2776582">]</span><span class="op" id="2776583">,</span>&nbsp;<span class="ident" id="2776585"><a href="/sort/sort.go.html#2776532">p</a></span><span class="op" id="2776586">[</span><span class="ident" id="2776587"><a href="/sort/sort.go.html#2776549">i</a></span><span class="op" id="2776588">]</span>&nbsp;<span class="op" id="2776590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2776593">//&nbsp;Sort&nbsp;is&nbsp;a&nbsp;convenience&nbsp;method.</span><br>
<span class="lineno">240</span><span class="keyword" id="2776626">func</span>&nbsp;<span class="op" id="2776631">(</span><span class="ident" id="2776632">p</span>&nbsp;<span class="ident" id="2776634"><a href="/sort/sort.go.html#2776393">IntSlice</a></span><span class="op" id="2776642">)</span>&nbsp;<span class="ident" id="2776644">Sort</span><span class="op" id="2776648">(</span><span class="op" id="2776649">)</span>&nbsp;<span class="op" id="2776651">{</span>&nbsp;<span class="ident" id="2776653"><a href="/sort/sort.go.html#2775455">Sort</a></span><span class="op" id="2776657">(</span><span class="ident" id="2776658"><a href="/sort/sort.go.html#2776632">p</a></span><span class="op" id="2776659">)</span>&nbsp;<span class="op" id="2776661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2776664">//&nbsp;Float64Slice&nbsp;attaches&nbsp;the&nbsp;methods&nbsp;of&nbsp;Interface&nbsp;to&nbsp;[]float64,&nbsp;sorting&nbsp;in&nbsp;increasing&nbsp;order.</span><br>
<span class="lineno"></span><span class="keyword" id="2776757">type</span>&nbsp;<span class="ident" id="2776762">Float64Slice</span>&nbsp;<span class="op" id="2776775">[</span><span class="op" id="2776776">]</span><span class="builtintype" id="2776777">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="2776786">func</span>&nbsp;<span class="op" id="2776791">(</span><span class="ident" id="2776792">p</span>&nbsp;<span class="ident" id="2776794"><a href="/sort/sort.go.html#2776762">Float64Slice</a></span><span class="op" id="2776806">)</span>&nbsp;<span class="ident" id="2776808">Len</span><span class="op" id="2776811">(</span><span class="op" id="2776812">)</span>&nbsp;<span class="builtintype" id="2776814">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2776828">{</span>&nbsp;<span class="keyword" id="2776830">return</span>&nbsp;<span class="builtinfunc" id="2776837">len</span><span class="op" id="2776840">(</span><span class="ident" id="2776841"><a href="/sort/sort.go.html#2776792">p</a></span><span class="op" id="2776842">)</span>&nbsp;<span class="op" id="2776844">}</span><br>
<span class="lineno"></span><span class="keyword" id="2776846">func</span>&nbsp;<span class="op" id="2776851">(</span><span class="ident" id="2776852">p</span>&nbsp;<span class="ident" id="2776854"><a href="/sort/sort.go.html#2776762">Float64Slice</a></span><span class="op" id="2776866">)</span>&nbsp;<span class="ident" id="2776868">Less</span><span class="op" id="2776872">(</span><span class="ident" id="2776873">i</span><span class="op" id="2776874">,</span>&nbsp;<span class="ident" id="2776876">j</span>&nbsp;<span class="builtintype" id="2776878">int</span><span class="op" id="2776881">)</span>&nbsp;<span class="builtintype" id="2776883">bool</span>&nbsp;<span class="op" id="2776888">{</span>&nbsp;<span class="keyword" id="2776890">return</span>&nbsp;<span class="ident" id="2776897"><a href="/sort/sort.go.html#2776852">p</a></span><span class="op" id="2776898">[</span><span class="ident" id="2776899"><a href="/sort/sort.go.html#2776873">i</a></span><span class="op" id="2776900">]</span>&nbsp;<span class="op" id="2776902">&lt;</span>&nbsp;<span class="ident" id="2776904"><a href="/sort/sort.go.html#2776852">p</a></span><span class="op" id="2776905">[</span><span class="ident" id="2776906"><a href="/sort/sort.go.html#2776876">j</a></span><span class="op" id="2776907">]</span>&nbsp;<span class="op" id="2776909">||</span>&nbsp;<span class="ident" id="2776912"><a href="/sort/sort.go.html#2777094">isNaN</a></span><span class="op" id="2776917">(</span><span class="ident" id="2776918"><a href="/sort/sort.go.html#2776852">p</a></span><span class="op" id="2776919">[</span><span class="ident" id="2776920"><a href="/sort/sort.go.html#2776873">i</a></span><span class="op" id="2776921">]</span><span class="op" id="2776922">)</span>&nbsp;<span class="op" id="2776924">&amp;&amp;</span>&nbsp;<span class="op" id="2776927">!</span><span class="ident" id="2776928"><a href="/sort/sort.go.html#2777094">isNaN</a></span><span class="op" id="2776933">(</span><span class="ident" id="2776934"><a href="/sort/sort.go.html#2776852">p</a></span><span class="op" id="2776935">[</span><span class="ident" id="2776936"><a href="/sort/sort.go.html#2776876">j</a></span><span class="op" id="2776937">]</span><span class="op" id="2776938">)</span>&nbsp;<span class="op" id="2776940">}</span><br>
<span class="lineno"></span><span class="keyword" id="2776942">func</span>&nbsp;<span class="op" id="2776947">(</span><span class="ident" id="2776948">p</span>&nbsp;<span class="ident" id="2776950"><a href="/sort/sort.go.html#2776762">Float64Slice</a></span><span class="op" id="2776962">)</span>&nbsp;<span class="ident" id="2776964">Swap</span><span class="op" id="2776968">(</span><span class="ident" id="2776969">i</span><span class="op" id="2776970">,</span>&nbsp;<span class="ident" id="2776972">j</span>&nbsp;<span class="builtintype" id="2776974">int</span><span class="op" id="2776977">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2776984">{</span>&nbsp;<span class="ident" id="2776986"><a href="/sort/sort.go.html#2776948">p</a></span><span class="op" id="2776987">[</span><span class="ident" id="2776988"><a href="/sort/sort.go.html#2776969">i</a></span><span class="op" id="2776989">]</span><span class="op" id="2776990">,</span>&nbsp;<span class="ident" id="2776992"><a href="/sort/sort.go.html#2776948">p</a></span><span class="op" id="2776993">[</span><span class="ident" id="2776994"><a href="/sort/sort.go.html#2776972">j</a></span><span class="op" id="2776995">]</span>&nbsp;<span class="op" id="2776997">=</span>&nbsp;<span class="ident" id="2776999"><a href="/sort/sort.go.html#2776948">p</a></span><span class="op" id="2777000">[</span><span class="ident" id="2777001"><a href="/sort/sort.go.html#2776972">j</a></span><span class="op" id="2777002">]</span><span class="op" id="2777003">,</span>&nbsp;<span class="ident" id="2777005"><a href="/sort/sort.go.html#2776948">p</a></span><span class="op" id="2777006">[</span><span class="ident" id="2777007"><a href="/sort/sort.go.html#2776969">i</a></span><span class="op" id="2777008">]</span>&nbsp;<span class="op" id="2777010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2777013">//&nbsp;isNaN&nbsp;is&nbsp;a&nbsp;copy&nbsp;of&nbsp;math.IsNaN&nbsp;to&nbsp;avoid&nbsp;a&nbsp;dependency&nbsp;on&nbsp;the&nbsp;math&nbsp;package.</span><br>
<span class="lineno">250</span><span class="keyword" id="2777089">func</span>&nbsp;<span class="ident" id="2777094">isNaN</span><span class="op" id="2777099">(</span><span class="ident" id="2777100">f</span>&nbsp;<span class="builtintype" id="2777102">float64</span><span class="op" id="2777109">)</span>&nbsp;<span class="builtintype" id="2777111">bool</span>&nbsp;<span class="op" id="2777116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2777119">return</span>&nbsp;<span class="ident" id="2777126"><a href="/sort/sort.go.html#2777100">f</a></span>&nbsp;<span class="op" id="2777128">!=</span>&nbsp;<span class="ident" id="2777131"><a href="/sort/sort.go.html#2777100">f</a></span><br>
<span class="lineno"></span><span class="op" id="2777133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2777136">//&nbsp;Sort&nbsp;is&nbsp;a&nbsp;convenience&nbsp;method.</span><br>
<span class="lineno">255</span><span class="keyword" id="2777169">func</span>&nbsp;<span class="op" id="2777174">(</span><span class="ident" id="2777175">p</span>&nbsp;<span class="ident" id="2777177"><a href="/sort/sort.go.html#2776762">Float64Slice</a></span><span class="op" id="2777189">)</span>&nbsp;<span class="ident" id="2777191">Sort</span><span class="op" id="2777195">(</span><span class="op" id="2777196">)</span>&nbsp;<span class="op" id="2777198">{</span>&nbsp;<span class="ident" id="2777200"><a href="/sort/sort.go.html#2775455">Sort</a></span><span class="op" id="2777204">(</span><span class="ident" id="2777205"><a href="/sort/sort.go.html#2777175">p</a></span><span class="op" id="2777206">)</span>&nbsp;<span class="op" id="2777208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2777211">//&nbsp;StringSlice&nbsp;attaches&nbsp;the&nbsp;methods&nbsp;of&nbsp;Interface&nbsp;to&nbsp;[]string,&nbsp;sorting&nbsp;in&nbsp;increasing&nbsp;order.</span><br>
<span class="lineno"></span><span class="keyword" id="2777302">type</span>&nbsp;<span class="ident" id="2777307">StringSlice</span>&nbsp;<span class="op" id="2777319">[</span><span class="op" id="2777320">]</span><span class="builtintype" id="2777321">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="2777329">func</span>&nbsp;<span class="op" id="2777334">(</span><span class="ident" id="2777335">p</span>&nbsp;<span class="ident" id="2777337"><a href="/sort/sort.go.html#2777307">StringSlice</a></span><span class="op" id="2777348">)</span>&nbsp;<span class="ident" id="2777350">Len</span><span class="op" id="2777353">(</span><span class="op" id="2777354">)</span>&nbsp;<span class="builtintype" id="2777356">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2777370">{</span>&nbsp;<span class="keyword" id="2777372">return</span>&nbsp;<span class="builtinfunc" id="2777379">len</span><span class="op" id="2777382">(</span><span class="ident" id="2777383"><a href="/sort/sort.go.html#2777335">p</a></span><span class="op" id="2777384">)</span>&nbsp;<span class="op" id="2777386">}</span><br>
<span class="lineno"></span><span class="keyword" id="2777388">func</span>&nbsp;<span class="op" id="2777393">(</span><span class="ident" id="2777394">p</span>&nbsp;<span class="ident" id="2777396"><a href="/sort/sort.go.html#2777307">StringSlice</a></span><span class="op" id="2777407">)</span>&nbsp;<span class="ident" id="2777409">Less</span><span class="op" id="2777413">(</span><span class="ident" id="2777414">i</span><span class="op" id="2777415">,</span>&nbsp;<span class="ident" id="2777417">j</span>&nbsp;<span class="builtintype" id="2777419">int</span><span class="op" id="2777422">)</span>&nbsp;<span class="builtintype" id="2777424">bool</span>&nbsp;<span class="op" id="2777429">{</span>&nbsp;<span class="keyword" id="2777431">return</span>&nbsp;<span class="ident" id="2777438"><a href="/sort/sort.go.html#2777394">p</a></span><span class="op" id="2777439">[</span><span class="ident" id="2777440"><a href="/sort/sort.go.html#2777414">i</a></span><span class="op" id="2777441">]</span>&nbsp;<span class="op" id="2777443">&lt;</span>&nbsp;<span class="ident" id="2777445"><a href="/sort/sort.go.html#2777394">p</a></span><span class="op" id="2777446">[</span><span class="ident" id="2777447"><a href="/sort/sort.go.html#2777417">j</a></span><span class="op" id="2777448">]</span>&nbsp;<span class="op" id="2777450">}</span><br>
<span class="lineno"></span><span class="keyword" id="2777452">func</span>&nbsp;<span class="op" id="2777457">(</span><span class="ident" id="2777458">p</span>&nbsp;<span class="ident" id="2777460"><a href="/sort/sort.go.html#2777307">StringSlice</a></span><span class="op" id="2777471">)</span>&nbsp;<span class="ident" id="2777473">Swap</span><span class="op" id="2777477">(</span><span class="ident" id="2777478">i</span><span class="op" id="2777479">,</span>&nbsp;<span class="ident" id="2777481">j</span>&nbsp;<span class="builtintype" id="2777483">int</span><span class="op" id="2777486">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2777493">{</span>&nbsp;<span class="ident" id="2777495"><a href="/sort/sort.go.html#2777458">p</a></span><span class="op" id="2777496">[</span><span class="ident" id="2777497"><a href="/sort/sort.go.html#2777478">i</a></span><span class="op" id="2777498">]</span><span class="op" id="2777499">,</span>&nbsp;<span class="ident" id="2777501"><a href="/sort/sort.go.html#2777458">p</a></span><span class="op" id="2777502">[</span><span class="ident" id="2777503"><a href="/sort/sort.go.html#2777481">j</a></span><span class="op" id="2777504">]</span>&nbsp;<span class="op" id="2777506">=</span>&nbsp;<span class="ident" id="2777508"><a href="/sort/sort.go.html#2777458">p</a></span><span class="op" id="2777509">[</span><span class="ident" id="2777510"><a href="/sort/sort.go.html#2777481">j</a></span><span class="op" id="2777511">]</span><span class="op" id="2777512">,</span>&nbsp;<span class="ident" id="2777514"><a href="/sort/sort.go.html#2777458">p</a></span><span class="op" id="2777515">[</span><span class="ident" id="2777516"><a href="/sort/sort.go.html#2777478">i</a></span><span class="op" id="2777517">]</span>&nbsp;<span class="op" id="2777519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2777522">//&nbsp;Sort&nbsp;is&nbsp;a&nbsp;convenience&nbsp;method.</span><br>
<span class="lineno">265</span><span class="keyword" id="2777555">func</span>&nbsp;<span class="op" id="2777560">(</span><span class="ident" id="2777561">p</span>&nbsp;<span class="ident" id="2777563"><a href="/sort/sort.go.html#2777307">StringSlice</a></span><span class="op" id="2777574">)</span>&nbsp;<span class="ident" id="2777576">Sort</span><span class="op" id="2777580">(</span><span class="op" id="2777581">)</span>&nbsp;<span class="op" id="2777583">{</span>&nbsp;<span class="ident" id="2777585"><a href="/sort/sort.go.html#2775455">Sort</a></span><span class="op" id="2777589">(</span><span class="ident" id="2777590"><a href="/sort/sort.go.html#2777561">p</a></span><span class="op" id="2777591">)</span>&nbsp;<span class="op" id="2777593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2777596">//&nbsp;Convenience&nbsp;wrappers&nbsp;for&nbsp;common&nbsp;cases</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2777638">//&nbsp;Ints&nbsp;sorts&nbsp;a&nbsp;slice&nbsp;of&nbsp;ints&nbsp;in&nbsp;increasing&nbsp;order.</span><br>
<span class="lineno">270</span><span class="keyword" id="2777689">func</span>&nbsp;<span class="ident" id="2777694">Ints</span><span class="op" id="2777698">(</span><span class="ident" id="2777699">a</span>&nbsp;<span class="op" id="2777701">[</span><span class="op" id="2777702">]</span><span class="builtintype" id="2777703">int</span><span class="op" id="2777706">)</span>&nbsp;<span class="op" id="2777708">{</span>&nbsp;<span class="ident" id="2777710"><a href="/sort/sort.go.html#2775455">Sort</a></span><span class="op" id="2777714">(</span><span class="ident" id="2777715"><a href="/sort/sort.go.html#2776393">IntSlice</a></span><span class="op" id="2777723">(</span><span class="ident" id="2777724"><a href="/sort/sort.go.html#2777699">a</a></span><span class="op" id="2777725">)</span><span class="op" id="2777726">)</span>&nbsp;<span class="op" id="2777728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2777731">//&nbsp;Float64s&nbsp;sorts&nbsp;a&nbsp;slice&nbsp;of&nbsp;float64s&nbsp;in&nbsp;increasing&nbsp;order.</span><br>
<span class="lineno"></span><span class="keyword" id="2777790">func</span>&nbsp;<span class="ident" id="2777795">Float64s</span><span class="op" id="2777803">(</span><span class="ident" id="2777804">a</span>&nbsp;<span class="op" id="2777806">[</span><span class="op" id="2777807">]</span><span class="builtintype" id="2777808">float64</span><span class="op" id="2777815">)</span>&nbsp;<span class="op" id="2777817">{</span>&nbsp;<span class="ident" id="2777819"><a href="/sort/sort.go.html#2775455">Sort</a></span><span class="op" id="2777823">(</span><span class="ident" id="2777824"><a href="/sort/sort.go.html#2776762">Float64Slice</a></span><span class="op" id="2777836">(</span><span class="ident" id="2777837"><a href="/sort/sort.go.html#2777804">a</a></span><span class="op" id="2777838">)</span><span class="op" id="2777839">)</span>&nbsp;<span class="op" id="2777841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span><span class="comment" id="2777844">//&nbsp;Strings&nbsp;sorts&nbsp;a&nbsp;slice&nbsp;of&nbsp;strings&nbsp;in&nbsp;increasing&nbsp;order.</span><br>
<span class="lineno"></span><span class="keyword" id="2777901">func</span>&nbsp;<span class="ident" id="2777906">Strings</span><span class="op" id="2777913">(</span><span class="ident" id="2777914">a</span>&nbsp;<span class="op" id="2777916">[</span><span class="op" id="2777917">]</span><span class="builtintype" id="2777918">string</span><span class="op" id="2777924">)</span>&nbsp;<span class="op" id="2777926">{</span>&nbsp;<span class="ident" id="2777928"><a href="/sort/sort.go.html#2775455">Sort</a></span><span class="op" id="2777932">(</span><span class="ident" id="2777933"><a href="/sort/sort.go.html#2777307">StringSlice</a></span><span class="op" id="2777944">(</span><span class="ident" id="2777945"><a href="/sort/sort.go.html#2777914">a</a></span><span class="op" id="2777946">)</span><span class="op" id="2777947">)</span>&nbsp;<span class="op" id="2777949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2777952">//&nbsp;IntsAreSorted&nbsp;tests&nbsp;whether&nbsp;a&nbsp;slice&nbsp;of&nbsp;ints&nbsp;is&nbsp;sorted&nbsp;in&nbsp;increasing&nbsp;order.</span><br>
<span class="lineno"></span><span class="keyword" id="2778030">func</span>&nbsp;<span class="ident" id="2778035">IntsAreSorted</span><span class="op" id="2778048">(</span><span class="ident" id="2778049">a</span>&nbsp;<span class="op" id="2778051">[</span><span class="op" id="2778052">]</span><span class="builtintype" id="2778053">int</span><span class="op" id="2778056">)</span>&nbsp;<span class="builtintype" id="2778058">bool</span>&nbsp;<span class="op" id="2778063">{</span>&nbsp;<span class="keyword" id="2778065">return</span>&nbsp;<span class="ident" id="2778072"><a href="/sort/sort.go.html#2776121">IsSorted</a></span><span class="op" id="2778080">(</span><span class="ident" id="2778081"><a href="/sort/sort.go.html#2776393">IntSlice</a></span><span class="op" id="2778089">(</span><span class="ident" id="2778090"><a href="/sort/sort.go.html#2778049">a</a></span><span class="op" id="2778091">)</span><span class="op" id="2778092">)</span>&nbsp;<span class="op" id="2778094">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="comment" id="2778097">//&nbsp;Float64sAreSorted&nbsp;tests&nbsp;whether&nbsp;a&nbsp;slice&nbsp;of&nbsp;float64s&nbsp;is&nbsp;sorted&nbsp;in&nbsp;increasing&nbsp;order.</span><br>
<span class="lineno"></span><span class="keyword" id="2778183">func</span>&nbsp;<span class="ident" id="2778188">Float64sAreSorted</span><span class="op" id="2778205">(</span><span class="ident" id="2778206">a</span>&nbsp;<span class="op" id="2778208">[</span><span class="op" id="2778209">]</span><span class="builtintype" id="2778210">float64</span><span class="op" id="2778217">)</span>&nbsp;<span class="builtintype" id="2778219">bool</span>&nbsp;<span class="op" id="2778224">{</span>&nbsp;<span class="keyword" id="2778226">return</span>&nbsp;<span class="ident" id="2778233"><a href="/sort/sort.go.html#2776121">IsSorted</a></span><span class="op" id="2778241">(</span><span class="ident" id="2778242"><a href="/sort/sort.go.html#2776762">Float64Slice</a></span><span class="op" id="2778254">(</span><span class="ident" id="2778255"><a href="/sort/sort.go.html#2778206">a</a></span><span class="op" id="2778256">)</span><span class="op" id="2778257">)</span>&nbsp;<span class="op" id="2778259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2778262">//&nbsp;StringsAreSorted&nbsp;tests&nbsp;whether&nbsp;a&nbsp;slice&nbsp;of&nbsp;strings&nbsp;is&nbsp;sorted&nbsp;in&nbsp;increasing&nbsp;order.</span><br>
<span class="lineno">285</span><span class="keyword" id="2778346">func</span>&nbsp;<span class="ident" id="2778351">StringsAreSorted</span><span class="op" id="2778367">(</span><span class="ident" id="2778368">a</span>&nbsp;<span class="op" id="2778370">[</span><span class="op" id="2778371">]</span><span class="builtintype" id="2778372">string</span><span class="op" id="2778378">)</span>&nbsp;<span class="builtintype" id="2778380">bool</span>&nbsp;<span class="op" id="2778385">{</span>&nbsp;<span class="keyword" id="2778387">return</span>&nbsp;<span class="ident" id="2778394"><a href="/sort/sort.go.html#2776121">IsSorted</a></span><span class="op" id="2778402">(</span><span class="ident" id="2778403"><a href="/sort/sort.go.html#2777307">StringSlice</a></span><span class="op" id="2778414">(</span><span class="ident" id="2778415"><a href="/sort/sort.go.html#2778368">a</a></span><span class="op" id="2778416">)</span><span class="op" id="2778417">)</span>&nbsp;<span class="op" id="2778419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2778422">//&nbsp;Notes&nbsp;on&nbsp;stable&nbsp;sorting:</span><br>
<span class="lineno"></span><span class="comment" id="2778450">//&nbsp;The&nbsp;used&nbsp;algorithms&nbsp;are&nbsp;simple&nbsp;and&nbsp;provable&nbsp;correct&nbsp;on&nbsp;all&nbsp;input&nbsp;and&nbsp;use</span><br>
<span class="lineno"></span><span class="comment" id="2778526">//&nbsp;only&nbsp;logarithmic&nbsp;additional&nbsp;stack&nbsp;space.&nbsp;&nbsp;They&nbsp;perform&nbsp;well&nbsp;if&nbsp;compared</span><br>
<span class="lineno">290</span><span class="comment" id="2778601">//&nbsp;experimentally&nbsp;to&nbsp;other&nbsp;stable&nbsp;in-place&nbsp;sorting&nbsp;algorithms.</span><br>
<span class="lineno"></span><span class="comment" id="2778664">//</span><br>
<span class="lineno"></span><span class="comment" id="2778667">//&nbsp;Remarks&nbsp;on&nbsp;other&nbsp;algorithms&nbsp;evaluated:</span><br>
<span class="lineno"></span><span class="comment" id="2778709">//&nbsp;&nbsp;-&nbsp;GCC&#39;s&nbsp;4.6.3&nbsp;stable_sort&nbsp;with&nbsp;merge_without_buffer&nbsp;from&nbsp;libstdc++:</span><br>
<span class="lineno"></span><span class="comment" id="2778781">//&nbsp;&nbsp;&nbsp;&nbsp;Not&nbsp;faster.</span><br>
<span class="lineno">295</span><span class="comment" id="2778799">//&nbsp;&nbsp;-&nbsp;GCC&#39;s&nbsp;__rotate&nbsp;for&nbsp;block&nbsp;rotations:&nbsp;Not&nbsp;faster.</span><br>
<span class="lineno"></span><span class="comment" id="2778853">//&nbsp;&nbsp;-&nbsp;&#34;Practical&nbsp;in-place&nbsp;mergesort&#34;&nbsp;from&nbsp;&nbsp;Jyrki&nbsp;Katajainen,&nbsp;Tomi&nbsp;A.&nbsp;Pasanen</span><br>
<span class="lineno"></span><span class="comment" id="2778930">//&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;Jukka&nbsp;Teuhola;&nbsp;Nordic&nbsp;Journal&nbsp;of&nbsp;Computing&nbsp;3,1&nbsp;(1996),&nbsp;27-40:</span><br>
<span class="lineno"></span><span class="comment" id="2779002">//&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;given&nbsp;algorithms&nbsp;are&nbsp;in-place,&nbsp;number&nbsp;of&nbsp;Swap&nbsp;and&nbsp;Assignments</span><br>
<span class="lineno"></span><span class="comment" id="2779074">//&nbsp;&nbsp;&nbsp;&nbsp;grow&nbsp;as&nbsp;n&nbsp;log&nbsp;n&nbsp;but&nbsp;the&nbsp;algorithm&nbsp;is&nbsp;not&nbsp;stable.</span><br>
<span class="lineno">300</span><span class="comment" id="2779129">//&nbsp;&nbsp;-&nbsp;&#34;Fast&nbsp;Stable&nbsp;In-Plcae&nbsp;Sorting&nbsp;with&nbsp;O(n)&nbsp;Data&nbsp;Moves&#34;&nbsp;J.I.&nbsp;Munro&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2779202">//&nbsp;&nbsp;&nbsp;&nbsp;V.&nbsp;Raman&nbsp;in&nbsp;Algorithmica&nbsp;(1996)&nbsp;16,&nbsp;115-160:</span><br>
<span class="lineno"></span><span class="comment" id="2779253">//&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;algorithm&nbsp;either&nbsp;needs&nbsp;additional&nbsp;2n&nbsp;bits&nbsp;or&nbsp;works&nbsp;only&nbsp;if&nbsp;there</span><br>
<span class="lineno"></span><span class="comment" id="2779329">//&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;enough&nbsp;different&nbsp;elements&nbsp;available&nbsp;to&nbsp;encode&nbsp;some&nbsp;permutations</span><br>
<span class="lineno"></span><span class="comment" id="2779403">//&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;have&nbsp;to&nbsp;be&nbsp;undone&nbsp;later&nbsp;(so&nbsp;not&nbsp;stable&nbsp;an&nbsp;any&nbsp;input).</span><br>
<span class="lineno">305</span><span class="comment" id="2779469">//&nbsp;&nbsp;-&nbsp;All&nbsp;the&nbsp;optimal&nbsp;in-place&nbsp;sorting/merging&nbsp;algorithms&nbsp;I&nbsp;found&nbsp;are&nbsp;either</span><br>
<span class="lineno"></span><span class="comment" id="2779546">//&nbsp;&nbsp;&nbsp;&nbsp;unstable&nbsp;or&nbsp;rely&nbsp;on&nbsp;enough&nbsp;different&nbsp;elements&nbsp;in&nbsp;each&nbsp;step&nbsp;to&nbsp;encode&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2779625">//&nbsp;&nbsp;&nbsp;&nbsp;performed&nbsp;block&nbsp;rearrangements.&nbsp;See&nbsp;also&nbsp;&#34;In-Place&nbsp;Merging&nbsp;Algorithms&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="2779703">//&nbsp;&nbsp;&nbsp;&nbsp;Denham&nbsp;Coates-Evely,&nbsp;Department&nbsp;of&nbsp;Computer&nbsp;Science,&nbsp;Kings&nbsp;College,</span><br>
<span class="lineno"></span><span class="comment" id="2779777">//&nbsp;&nbsp;&nbsp;&nbsp;January&nbsp;2004&nbsp;and&nbsp;the&nbsp;reverences&nbsp;in&nbsp;there.</span><br>
<span class="lineno">310</span><span class="comment" id="2779825">//&nbsp;&nbsp;-&nbsp;Often&nbsp;&#34;optimal&#34;&nbsp;algorithms&nbsp;are&nbsp;optimal&nbsp;in&nbsp;the&nbsp;number&nbsp;of&nbsp;assignments</span><br>
<span class="lineno"></span><span class="comment" id="2779899">//&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;Interface&nbsp;has&nbsp;only&nbsp;Swap&nbsp;as&nbsp;operation.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2779948">//&nbsp;Stable&nbsp;sorts&nbsp;data&nbsp;while&nbsp;keeping&nbsp;the&nbsp;original&nbsp;order&nbsp;of&nbsp;equal&nbsp;elements.</span><br>
<span class="lineno"></span><span class="comment" id="2780021">//</span><br>
<span class="lineno">315</span><span class="comment" id="2780024">//&nbsp;It&nbsp;makes&nbsp;one&nbsp;call&nbsp;to&nbsp;data.Len&nbsp;to&nbsp;determine&nbsp;n,&nbsp;O(n*log(n))&nbsp;calls&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2780094">//&nbsp;data.Less&nbsp;and&nbsp;O(n*log(n)*log(n))&nbsp;calls&nbsp;to&nbsp;data.Swap.</span><br>
<span class="lineno"></span><span class="keyword" id="2780150">func</span>&nbsp;<span class="ident" id="2780155">Stable</span><span class="op" id="2780161">(</span><span class="ident" id="2780162">data</span>&nbsp;<span class="ident" id="2780167"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2780176">)</span>&nbsp;<span class="op" id="2780178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780181">n</span>&nbsp;<span class="op" id="2780183">:=</span>&nbsp;<span class="ident" id="2780186"><a href="/sort/sort.go.html#2780162">data</a></span><span class="op" id="2780190">.</span><span class="ident" id="2780191">Len</span><span class="op" id="2780194">(</span><span class="op" id="2780195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780198">blockSize</span>&nbsp;<span class="op" id="2780208">:=</span>&nbsp;<span class="num" id="2780211">20</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780215">a</span><span class="op" id="2780216">,</span>&nbsp;<span class="ident" id="2780218">b</span>&nbsp;<span class="op" id="2780220">:=</span>&nbsp;<span class="num" id="2780223">0</span><span class="op" id="2780224">,</span>&nbsp;<span class="ident" id="2780226"><a href="/sort/sort.go.html#2780198">blockSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2780237">for</span>&nbsp;<span class="ident" id="2780241"><a href="/sort/sort.go.html#2780218">b</a></span>&nbsp;<span class="op" id="2780243">&lt;=</span>&nbsp;<span class="ident" id="2780246"><a href="/sort/sort.go.html#2780181">n</a></span>&nbsp;<span class="op" id="2780248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780252"><a href="/sort/sort.go.html#2771856">insertionSort</a></span><span class="op" id="2780265">(</span><span class="ident" id="2780266"><a href="/sort/sort.go.html#2780162">data</a></span><span class="op" id="2780270">,</span>&nbsp;<span class="ident" id="2780272"><a href="/sort/sort.go.html#2780215">a</a></span><span class="op" id="2780273">,</span>&nbsp;<span class="ident" id="2780275"><a href="/sort/sort.go.html#2780218">b</a></span><span class="op" id="2780276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780280"><a href="/sort/sort.go.html#2780215">a</a></span>&nbsp;<span class="op" id="2780282">=</span>&nbsp;<span class="ident" id="2780284"><a href="/sort/sort.go.html#2780218">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780288"><a href="/sort/sort.go.html#2780218">b</a></span>&nbsp;<span class="op" id="2780290">+=</span>&nbsp;<span class="ident" id="2780293"><a href="/sort/sort.go.html#2780198">blockSize</a></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2780304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780307"><a href="/sort/sort.go.html#2771856">insertionSort</a></span><span class="op" id="2780320">(</span><span class="ident" id="2780321"><a href="/sort/sort.go.html#2780162">data</a></span><span class="op" id="2780325">,</span>&nbsp;<span class="ident" id="2780327"><a href="/sort/sort.go.html#2780215">a</a></span><span class="op" id="2780328">,</span>&nbsp;<span class="ident" id="2780330"><a href="/sort/sort.go.html#2780181">n</a></span><span class="op" id="2780331">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2780335">for</span>&nbsp;<span class="ident" id="2780339"><a href="/sort/sort.go.html#2780198">blockSize</a></span>&nbsp;<span class="op" id="2780349">&lt;</span>&nbsp;<span class="ident" id="2780351"><a href="/sort/sort.go.html#2780181">n</a></span>&nbsp;<span class="op" id="2780353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780357"><a href="/sort/sort.go.html#2780215">a</a></span><span class="op" id="2780358">,</span>&nbsp;<span class="ident" id="2780360"><a href="/sort/sort.go.html#2780218">b</a></span>&nbsp;<span class="op" id="2780362">=</span>&nbsp;<span class="num" id="2780364">0</span><span class="op" id="2780365">,</span>&nbsp;<span class="num" id="2780367">2</span><span class="op" id="2780368">*</span><span class="ident" id="2780369"><a href="/sort/sort.go.html#2780198">blockSize</a></span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2780381">for</span>&nbsp;<span class="ident" id="2780385"><a href="/sort/sort.go.html#2780218">b</a></span>&nbsp;<span class="op" id="2780387">&lt;=</span>&nbsp;<span class="ident" id="2780390"><a href="/sort/sort.go.html#2780181">n</a></span>&nbsp;<span class="op" id="2780392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780397"><a href="/sort/sort.go.html#2781379">symMerge</a></span><span class="op" id="2780405">(</span><span class="ident" id="2780406"><a href="/sort/sort.go.html#2780162">data</a></span><span class="op" id="2780410">,</span>&nbsp;<span class="ident" id="2780412"><a href="/sort/sort.go.html#2780215">a</a></span><span class="op" id="2780413">,</span>&nbsp;<span class="ident" id="2780415"><a href="/sort/sort.go.html#2780215">a</a></span><span class="op" id="2780416">+</span><span class="ident" id="2780417"><a href="/sort/sort.go.html#2780198">blockSize</a></span><span class="op" id="2780426">,</span>&nbsp;<span class="ident" id="2780428"><a href="/sort/sort.go.html#2780218">b</a></span><span class="op" id="2780429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780434"><a href="/sort/sort.go.html#2780215">a</a></span>&nbsp;<span class="op" id="2780436">=</span>&nbsp;<span class="ident" id="2780438"><a href="/sort/sort.go.html#2780218">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780443"><a href="/sort/sort.go.html#2780218">b</a></span>&nbsp;<span class="op" id="2780445">+=</span>&nbsp;<span class="num" id="2780448">2</span>&nbsp;<span class="op" id="2780450">*</span>&nbsp;<span class="ident" id="2780452"><a href="/sort/sort.go.html#2780198">blockSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2780464">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780468"><a href="/sort/sort.go.html#2781379">symMerge</a></span><span class="op" id="2780476">(</span><span class="ident" id="2780477"><a href="/sort/sort.go.html#2780162">data</a></span><span class="op" id="2780481">,</span>&nbsp;<span class="ident" id="2780483"><a href="/sort/sort.go.html#2780215">a</a></span><span class="op" id="2780484">,</span>&nbsp;<span class="ident" id="2780486"><a href="/sort/sort.go.html#2780215">a</a></span><span class="op" id="2780487">+</span><span class="ident" id="2780488"><a href="/sort/sort.go.html#2780198">blockSize</a></span><span class="op" id="2780497">,</span>&nbsp;<span class="ident" id="2780499"><a href="/sort/sort.go.html#2780181">n</a></span><span class="op" id="2780500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2780504"><a href="/sort/sort.go.html#2780198">blockSize</a></span>&nbsp;<span class="op" id="2780514">*=</span>&nbsp;<span class="num" id="2780517">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2780520">}</span><br>
<span class="lineno"></span><span class="op" id="2780522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span><span class="comment" id="2780525">//&nbsp;SymMerge&nbsp;merges&nbsp;the&nbsp;two&nbsp;sorted&nbsp;subsequences&nbsp;data[a:m]&nbsp;and&nbsp;data[m:b]&nbsp;using</span><br>
<span class="lineno"></span><span class="comment" id="2780602">//&nbsp;the&nbsp;SymMerge&nbsp;algorithm&nbsp;from&nbsp;Pok-Son&nbsp;Kim&nbsp;and&nbsp;Arne&nbsp;Kutzner,&nbsp;&#34;Stable&nbsp;Minimum</span><br>
<span class="lineno"></span><span class="comment" id="2780679">//&nbsp;Storage&nbsp;Merging&nbsp;by&nbsp;Symmetric&nbsp;Comparisons&#34;,&nbsp;in&nbsp;Susanne&nbsp;Albers&nbsp;and&nbsp;Tomasz</span><br>
<span class="lineno"></span><span class="comment" id="2780754">//&nbsp;Radzik,&nbsp;editors,&nbsp;Algorithms&nbsp;-&nbsp;ESA&nbsp;2004,&nbsp;volume&nbsp;3221&nbsp;of&nbsp;Lecture&nbsp;Notes&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2780829">//&nbsp;Computer&nbsp;Science,&nbsp;pages&nbsp;714-723.&nbsp;Springer,&nbsp;2004.</span><br>
<span class="lineno">345</span><span class="comment" id="2780881">//</span><br>
<span class="lineno"></span><span class="comment" id="2780884">//&nbsp;Let&nbsp;M&nbsp;=&nbsp;m-a&nbsp;and&nbsp;N&nbsp;=&nbsp;b-n.&nbsp;Wolog&nbsp;M&nbsp;&lt;&nbsp;N.</span><br>
<span class="lineno"></span><span class="comment" id="2780925">//&nbsp;The&nbsp;recursion&nbsp;depth&nbsp;is&nbsp;bound&nbsp;by&nbsp;ceil(log(N+M)).</span><br>
<span class="lineno"></span><span class="comment" id="2780976">//&nbsp;The&nbsp;algorithm&nbsp;needs&nbsp;O(M*log(N/M&nbsp;+&nbsp;1))&nbsp;calls&nbsp;to&nbsp;data.Less.</span><br>
<span class="lineno"></span><span class="comment" id="2781037">//&nbsp;The&nbsp;algorithm&nbsp;needs&nbsp;O((M+N)*log(M))&nbsp;calls&nbsp;to&nbsp;data.Swap.</span><br>
<span class="lineno">350</span><span class="comment" id="2781096">//</span><br>
<span class="lineno"></span><span class="comment" id="2781099">//&nbsp;The&nbsp;paper&nbsp;gives&nbsp;O((M+N)*log(M))&nbsp;as&nbsp;the&nbsp;number&nbsp;of&nbsp;assignments&nbsp;assuming&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2781174">//&nbsp;rotation&nbsp;algorithm&nbsp;which&nbsp;uses&nbsp;O(M+N+gcd(M+N))&nbsp;assignments.&nbsp;The&nbsp;argumentation</span><br>
<span class="lineno"></span><span class="comment" id="2781254">//&nbsp;in&nbsp;the&nbsp;paper&nbsp;carries&nbsp;through&nbsp;for&nbsp;Swap&nbsp;operations,&nbsp;especially&nbsp;as&nbsp;the&nbsp;block</span><br>
<span class="lineno"></span><span class="comment" id="2781331">//&nbsp;swapping&nbsp;rotate&nbsp;uses&nbsp;only&nbsp;O(M+N)&nbsp;Swaps.</span><br>
<span class="lineno">355</span><span class="keyword" id="2781374">func</span>&nbsp;<span class="ident" id="2781379">symMerge</span><span class="op" id="2781387">(</span><span class="ident" id="2781388">data</span>&nbsp;<span class="ident" id="2781393"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2781402">,</span>&nbsp;<span class="ident" id="2781404">a</span><span class="op" id="2781405">,</span>&nbsp;<span class="ident" id="2781407">m</span><span class="op" id="2781408">,</span>&nbsp;<span class="ident" id="2781410">b</span>&nbsp;<span class="builtintype" id="2781412">int</span><span class="op" id="2781415">)</span>&nbsp;<span class="op" id="2781417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2781420">if</span>&nbsp;<span class="ident" id="2781423"><a href="/sort/sort.go.html#2781404">a</a></span>&nbsp;<span class="op" id="2781425">&gt;=</span>&nbsp;<span class="ident" id="2781428"><a href="/sort/sort.go.html#2781407">m</a></span>&nbsp;<span class="op" id="2781430">||</span>&nbsp;<span class="ident" id="2781433"><a href="/sort/sort.go.html#2781407">m</a></span>&nbsp;<span class="op" id="2781435">&gt;=</span>&nbsp;<span class="ident" id="2781438"><a href="/sort/sort.go.html#2781410">b</a></span>&nbsp;<span class="op" id="2781440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2781444">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2781452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781456">mid</span>&nbsp;<span class="op" id="2781460">:=</span>&nbsp;<span class="ident" id="2781463"><a href="/sort/sort.go.html#2781404">a</a></span>&nbsp;<span class="op" id="2781465">+</span>&nbsp;<span class="op" id="2781467">(</span><span class="ident" id="2781468"><a href="/sort/sort.go.html#2781410">b</a></span><span class="op" id="2781469">-</span><span class="ident" id="2781470"><a href="/sort/sort.go.html#2781404">a</a></span><span class="op" id="2781471">)</span><span class="op" id="2781472">/</span><span class="num" id="2781473">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781476">n</span>&nbsp;<span class="op" id="2781478">:=</span>&nbsp;<span class="ident" id="2781481"><a href="/sort/sort.go.html#2781456">mid</a></span>&nbsp;<span class="op" id="2781485">+</span>&nbsp;<span class="ident" id="2781487"><a href="/sort/sort.go.html#2781407">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781490">start</span>&nbsp;<span class="op" id="2781496">:=</span>&nbsp;<span class="num" id="2781499">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2781502">if</span>&nbsp;<span class="ident" id="2781505"><a href="/sort/sort.go.html#2781407">m</a></span>&nbsp;<span class="op" id="2781507">&gt;</span>&nbsp;<span class="ident" id="2781509"><a href="/sort/sort.go.html#2781456">mid</a></span>&nbsp;<span class="op" id="2781513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781517"><a href="/sort/sort.go.html#2781490">start</a></span>&nbsp;<span class="op" id="2781523">=</span>&nbsp;<span class="ident" id="2781525"><a href="/sort/sort.go.html#2781476">n</a></span>&nbsp;<span class="op" id="2781527">-</span>&nbsp;<span class="ident" id="2781529"><a href="/sort/sort.go.html#2781410">b</a></span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781533">r</span><span class="op" id="2781534">,</span>&nbsp;<span class="ident" id="2781536">p</span>&nbsp;<span class="op" id="2781538">:=</span>&nbsp;<span class="ident" id="2781541"><a href="/sort/sort.go.html#2781456">mid</a></span><span class="op" id="2781544">,</span>&nbsp;<span class="ident" id="2781546"><a href="/sort/sort.go.html#2781476">n</a></span><span class="op" id="2781547">-</span><span class="num" id="2781548">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2781552">for</span>&nbsp;<span class="ident" id="2781556"><a href="/sort/sort.go.html#2781490">start</a></span>&nbsp;<span class="op" id="2781562">&lt;</span>&nbsp;<span class="ident" id="2781564"><a href="/sort/sort.go.html#2781533">r</a></span>&nbsp;<span class="op" id="2781566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781571">c</span>&nbsp;<span class="op" id="2781573">:=</span>&nbsp;<span class="ident" id="2781576"><a href="/sort/sort.go.html#2781490">start</a></span>&nbsp;<span class="op" id="2781582">+</span>&nbsp;<span class="op" id="2781584">(</span><span class="ident" id="2781585"><a href="/sort/sort.go.html#2781533">r</a></span><span class="op" id="2781586">-</span><span class="ident" id="2781587"><a href="/sort/sort.go.html#2781490">start</a></span><span class="op" id="2781592">)</span><span class="op" id="2781593">/</span><span class="num" id="2781594">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2781599">if</span>&nbsp;<span class="op" id="2781602">!</span><span class="ident" id="2781603"><a href="/sort/sort.go.html#2781388">data</a></span><span class="op" id="2781607">.</span><span class="ident" id="2781608">Less</span><span class="op" id="2781612">(</span><span class="ident" id="2781613"><a href="/sort/sort.go.html#2781536">p</a></span><span class="op" id="2781614">-</span><span class="ident" id="2781615"><a href="/sort/sort.go.html#2781571">c</a></span><span class="op" id="2781616">,</span>&nbsp;<span class="ident" id="2781618"><a href="/sort/sort.go.html#2781571">c</a></span><span class="op" id="2781619">)</span>&nbsp;<span class="op" id="2781621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781627"><a href="/sort/sort.go.html#2781490">start</a></span>&nbsp;<span class="op" id="2781633">=</span>&nbsp;<span class="ident" id="2781635"><a href="/sort/sort.go.html#2781571">c</a></span>&nbsp;<span class="op" id="2781637">+</span>&nbsp;<span class="num" id="2781639">1</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2781644">}</span>&nbsp;<span class="keyword" id="2781646">else</span>&nbsp;<span class="op" id="2781651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781657"><a href="/sort/sort.go.html#2781533">r</a></span>&nbsp;<span class="op" id="2781659">=</span>&nbsp;<span class="ident" id="2781661"><a href="/sort/sort.go.html#2781571">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2781666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2781670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2781673">}</span>&nbsp;<span class="keyword" id="2781675">else</span>&nbsp;<span class="op" id="2781680">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781684"><a href="/sort/sort.go.html#2781490">start</a></span>&nbsp;<span class="op" id="2781690">=</span>&nbsp;<span class="ident" id="2781692"><a href="/sort/sort.go.html#2781404">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781696">r</span><span class="op" id="2781697">,</span>&nbsp;<span class="ident" id="2781699">p</span>&nbsp;<span class="op" id="2781701">:=</span>&nbsp;<span class="ident" id="2781704"><a href="/sort/sort.go.html#2781407">m</a></span><span class="op" id="2781705">,</span>&nbsp;<span class="ident" id="2781707"><a href="/sort/sort.go.html#2781476">n</a></span><span class="op" id="2781708">-</span><span class="num" id="2781709">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2781713">for</span>&nbsp;<span class="ident" id="2781717"><a href="/sort/sort.go.html#2781490">start</a></span>&nbsp;<span class="op" id="2781723">&lt;</span>&nbsp;<span class="ident" id="2781725"><a href="/sort/sort.go.html#2781696">r</a></span>&nbsp;<span class="op" id="2781727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781732">c</span>&nbsp;<span class="op" id="2781734">:=</span>&nbsp;<span class="ident" id="2781737"><a href="/sort/sort.go.html#2781490">start</a></span>&nbsp;<span class="op" id="2781743">+</span>&nbsp;<span class="op" id="2781745">(</span><span class="ident" id="2781746"><a href="/sort/sort.go.html#2781696">r</a></span><span class="op" id="2781747">-</span><span class="ident" id="2781748"><a href="/sort/sort.go.html#2781490">start</a></span><span class="op" id="2781753">)</span><span class="op" id="2781754">/</span><span class="num" id="2781755">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2781760">if</span>&nbsp;<span class="op" id="2781763">!</span><span class="ident" id="2781764"><a href="/sort/sort.go.html#2781388">data</a></span><span class="op" id="2781768">.</span><span class="ident" id="2781769">Less</span><span class="op" id="2781773">(</span><span class="ident" id="2781774"><a href="/sort/sort.go.html#2781699">p</a></span><span class="op" id="2781775">-</span><span class="ident" id="2781776"><a href="/sort/sort.go.html#2781732">c</a></span><span class="op" id="2781777">,</span>&nbsp;<span class="ident" id="2781779"><a href="/sort/sort.go.html#2781732">c</a></span><span class="op" id="2781780">)</span>&nbsp;<span class="op" id="2781782">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781788"><a href="/sort/sort.go.html#2781490">start</a></span>&nbsp;<span class="op" id="2781794">=</span>&nbsp;<span class="ident" id="2781796"><a href="/sort/sort.go.html#2781732">c</a></span>&nbsp;<span class="op" id="2781798">+</span>&nbsp;<span class="num" id="2781800">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2781805">}</span>&nbsp;<span class="keyword" id="2781807">else</span>&nbsp;<span class="op" id="2781812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781818"><a href="/sort/sort.go.html#2781696">r</a></span>&nbsp;<span class="op" id="2781820">=</span>&nbsp;<span class="ident" id="2781822"><a href="/sort/sort.go.html#2781732">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2781827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2781831">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2781834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781837">end</span>&nbsp;<span class="op" id="2781841">:=</span>&nbsp;<span class="ident" id="2781844"><a href="/sort/sort.go.html#2781476">n</a></span>&nbsp;<span class="op" id="2781846">-</span>&nbsp;<span class="ident" id="2781848"><a href="/sort/sort.go.html#2781490">start</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781855"><a href="/sort/sort.go.html#2782137">rotate</a></span><span class="op" id="2781861">(</span><span class="ident" id="2781862"><a href="/sort/sort.go.html#2781388">data</a></span><span class="op" id="2781866">,</span>&nbsp;<span class="ident" id="2781868"><a href="/sort/sort.go.html#2781490">start</a></span><span class="op" id="2781873">,</span>&nbsp;<span class="ident" id="2781875"><a href="/sort/sort.go.html#2781407">m</a></span><span class="op" id="2781876">,</span>&nbsp;<span class="ident" id="2781878"><a href="/sort/sort.go.html#2781837">end</a></span><span class="op" id="2781881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781884"><a href="/sort/sort.go.html#2781379">symMerge</a></span><span class="op" id="2781892">(</span><span class="ident" id="2781893"><a href="/sort/sort.go.html#2781388">data</a></span><span class="op" id="2781897">,</span>&nbsp;<span class="ident" id="2781899"><a href="/sort/sort.go.html#2781404">a</a></span><span class="op" id="2781900">,</span>&nbsp;<span class="ident" id="2781902"><a href="/sort/sort.go.html#2781490">start</a></span><span class="op" id="2781907">,</span>&nbsp;<span class="ident" id="2781909"><a href="/sort/sort.go.html#2781456">mid</a></span><span class="op" id="2781912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2781915"><a href="/sort/sort.go.html#2781379">symMerge</a></span><span class="op" id="2781923">(</span><span class="ident" id="2781924"><a href="/sort/sort.go.html#2781388">data</a></span><span class="op" id="2781928">,</span>&nbsp;<span class="ident" id="2781930"><a href="/sort/sort.go.html#2781456">mid</a></span><span class="op" id="2781933">,</span>&nbsp;<span class="ident" id="2781935"><a href="/sort/sort.go.html#2781837">end</a></span><span class="op" id="2781938">,</span>&nbsp;<span class="ident" id="2781940"><a href="/sort/sort.go.html#2781410">b</a></span><span class="op" id="2781941">)</span><br>
<span class="lineno">390</span><span class="op" id="2781943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2781946">//&nbsp;Rotate&nbsp;two&nbsp;consecutives&nbsp;blocks&nbsp;u&nbsp;=&nbsp;data[a:m]&nbsp;and&nbsp;v&nbsp;=&nbsp;data[m:b]&nbsp;in&nbsp;data:</span><br>
<span class="lineno"></span><span class="comment" id="2782021">//&nbsp;Data&nbsp;of&nbsp;the&nbsp;form&nbsp;&#39;x&nbsp;u&nbsp;v&nbsp;y&#39;&nbsp;is&nbsp;changed&nbsp;to&nbsp;&#39;x&nbsp;v&nbsp;u&nbsp;y&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="2782076">//&nbsp;Rotate&nbsp;performs&nbsp;at&nbsp;most&nbsp;b-a&nbsp;many&nbsp;calls&nbsp;to&nbsp;data.Swap.</span><br>
<span class="lineno">395</span><span class="keyword" id="2782132">func</span>&nbsp;<span class="ident" id="2782137">rotate</span><span class="op" id="2782143">(</span><span class="ident" id="2782144">data</span>&nbsp;<span class="ident" id="2782149"><a href="/sort/sort.go.html#2771494">Interface</a></span><span class="op" id="2782158">,</span>&nbsp;<span class="ident" id="2782160">a</span><span class="op" id="2782161">,</span>&nbsp;<span class="ident" id="2782163">m</span><span class="op" id="2782164">,</span>&nbsp;<span class="ident" id="2782166">b</span>&nbsp;<span class="builtintype" id="2782168">int</span><span class="op" id="2782171">)</span>&nbsp;<span class="op" id="2782173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2782176">i</span>&nbsp;<span class="op" id="2782178">:=</span>&nbsp;<span class="ident" id="2782181"><a href="/sort/sort.go.html#2782163">m</a></span>&nbsp;<span class="op" id="2782183">-</span>&nbsp;<span class="ident" id="2782185"><a href="/sort/sort.go.html#2782160">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2782188">if</span>&nbsp;<span class="ident" id="2782191"><a href="/sort/sort.go.html#2782176">i</a></span>&nbsp;<span class="op" id="2782193">==</span>&nbsp;<span class="num" id="2782196">0</span>&nbsp;<span class="op" id="2782198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2782202">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2782210">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2782213">j</span>&nbsp;<span class="op" id="2782215">:=</span>&nbsp;<span class="ident" id="2782218"><a href="/sort/sort.go.html#2782166">b</a></span>&nbsp;<span class="op" id="2782220">-</span>&nbsp;<span class="ident" id="2782222"><a href="/sort/sort.go.html#2782163">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2782225">if</span>&nbsp;<span class="ident" id="2782228"><a href="/sort/sort.go.html#2782213">j</a></span>&nbsp;<span class="op" id="2782230">==</span>&nbsp;<span class="num" id="2782233">0</span>&nbsp;<span class="op" id="2782235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2782239">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2782247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2782251">if</span>&nbsp;<span class="ident" id="2782254"><a href="/sort/sort.go.html#2782176">i</a></span>&nbsp;<span class="op" id="2782256">==</span>&nbsp;<span class="ident" id="2782259"><a href="/sort/sort.go.html#2782213">j</a></span>&nbsp;<span class="op" id="2782261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2782265"><a href="/sort/sort.go.html#2773286">swapRange</a></span><span class="op" id="2782274">(</span><span class="ident" id="2782275"><a href="/sort/sort.go.html#2782144">data</a></span><span class="op" id="2782279">,</span>&nbsp;<span class="ident" id="2782281"><a href="/sort/sort.go.html#2782160">a</a></span><span class="op" id="2782282">,</span>&nbsp;<span class="ident" id="2782284"><a href="/sort/sort.go.html#2782163">m</a></span><span class="op" id="2782285">,</span>&nbsp;<span class="ident" id="2782287"><a href="/sort/sort.go.html#2782176">i</a></span><span class="op" id="2782288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2782292">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2782300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2782304">p</span>&nbsp;<span class="op" id="2782306">:=</span>&nbsp;<span class="ident" id="2782309"><a href="/sort/sort.go.html#2782160">a</a></span>&nbsp;<span class="op" id="2782311">+</span>&nbsp;<span class="ident" id="2782313"><a href="/sort/sort.go.html#2782176">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2782316">for</span>&nbsp;<span class="ident" id="2782320"><a href="/sort/sort.go.html#2782176">i</a></span>&nbsp;<span class="op" id="2782322">!=</span>&nbsp;<span class="ident" id="2782325"><a href="/sort/sort.go.html#2782213">j</a></span>&nbsp;<span class="op" id="2782327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2782331">if</span>&nbsp;<span class="ident" id="2782334"><a href="/sort/sort.go.html#2782176">i</a></span>&nbsp;<span class="op" id="2782336">&gt;</span>&nbsp;<span class="ident" id="2782338"><a href="/sort/sort.go.html#2782213">j</a></span>&nbsp;<span class="op" id="2782340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2782345"><a href="/sort/sort.go.html#2773286">swapRange</a></span><span class="op" id="2782354">(</span><span class="ident" id="2782355"><a href="/sort/sort.go.html#2782144">data</a></span><span class="op" id="2782359">,</span>&nbsp;<span class="ident" id="2782361"><a href="/sort/sort.go.html#2782304">p</a></span><span class="op" id="2782362">-</span><span class="ident" id="2782363"><a href="/sort/sort.go.html#2782176">i</a></span><span class="op" id="2782364">,</span>&nbsp;<span class="ident" id="2782366"><a href="/sort/sort.go.html#2782304">p</a></span><span class="op" id="2782367">,</span>&nbsp;<span class="ident" id="2782369"><a href="/sort/sort.go.html#2782213">j</a></span><span class="op" id="2782370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2782375"><a href="/sort/sort.go.html#2782176">i</a></span>&nbsp;<span class="op" id="2782377">-=</span>&nbsp;<span class="ident" id="2782380"><a href="/sort/sort.go.html#2782213">j</a></span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2782384">}</span>&nbsp;<span class="keyword" id="2782386">else</span>&nbsp;<span class="op" id="2782391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2782396"><a href="/sort/sort.go.html#2773286">swapRange</a></span><span class="op" id="2782405">(</span><span class="ident" id="2782406"><a href="/sort/sort.go.html#2782144">data</a></span><span class="op" id="2782410">,</span>&nbsp;<span class="ident" id="2782412"><a href="/sort/sort.go.html#2782304">p</a></span><span class="op" id="2782413">-</span><span class="ident" id="2782414"><a href="/sort/sort.go.html#2782176">i</a></span><span class="op" id="2782415">,</span>&nbsp;<span class="ident" id="2782417"><a href="/sort/sort.go.html#2782304">p</a></span><span class="op" id="2782418">+</span><span class="ident" id="2782419"><a href="/sort/sort.go.html#2782213">j</a></span><span class="op" id="2782420">-</span><span class="ident" id="2782421"><a href="/sort/sort.go.html#2782176">i</a></span><span class="op" id="2782422">,</span>&nbsp;<span class="ident" id="2782424"><a href="/sort/sort.go.html#2782176">i</a></span><span class="op" id="2782425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2782430"><a href="/sort/sort.go.html#2782213">j</a></span>&nbsp;<span class="op" id="2782432">-=</span>&nbsp;<span class="ident" id="2782435"><a href="/sort/sort.go.html#2782176">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2782439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2782442">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2782445"><a href="/sort/sort.go.html#2773286">swapRange</a></span><span class="op" id="2782454">(</span><span class="ident" id="2782455"><a href="/sort/sort.go.html#2782144">data</a></span><span class="op" id="2782459">,</span>&nbsp;<span class="ident" id="2782461"><a href="/sort/sort.go.html#2782304">p</a></span><span class="op" id="2782462">-</span><span class="ident" id="2782463"><a href="/sort/sort.go.html#2782176">i</a></span><span class="op" id="2782464">,</span>&nbsp;<span class="ident" id="2782466"><a href="/sort/sort.go.html#2782304">p</a></span><span class="op" id="2782467">,</span>&nbsp;<span class="ident" id="2782469"><a href="/sort/sort.go.html#2782176">i</a></span><span class="op" id="2782470">)</span><br>
<span class="lineno"></span><span class="op" id="2782472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2782475">/*<br>
<span class="lineno"></span>Complexity&nbsp;of&nbsp;Stable&nbsp;Sorting<br>
<span class="lineno">425</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>Complexity&nbsp;of&nbsp;block&nbsp;swapping&nbsp;rotation<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Each&nbsp;Swap&nbsp;puts&nbsp;one&nbsp;new&nbsp;element&nbsp;into&nbsp;its&nbsp;correct,&nbsp;final&nbsp;position.<br>
<span class="lineno">430</span>Elements&nbsp;which&nbsp;reach&nbsp;their&nbsp;final&nbsp;position&nbsp;are&nbsp;no&nbsp;longer&nbsp;moved.<br>
<span class="lineno"></span>Thus&nbsp;block&nbsp;swapping&nbsp;rotation&nbsp;needs&nbsp;|u|+|v|&nbsp;calls&nbsp;to&nbsp;Swaps.<br>
<span class="lineno"></span>This&nbsp;is&nbsp;best&nbsp;possible&nbsp;as&nbsp;each&nbsp;element&nbsp;might&nbsp;need&nbsp;a&nbsp;move.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Pay&nbsp;attention&nbsp;when&nbsp;comparing&nbsp;to&nbsp;other&nbsp;optimal&nbsp;algorithms&nbsp;which<br>
<span class="lineno">435</span>typically&nbsp;count&nbsp;the&nbsp;number&nbsp;of&nbsp;assignments&nbsp;instead&nbsp;of&nbsp;swaps:<br>
<span class="lineno"></span>E.g.&nbsp;the&nbsp;optimal&nbsp;algorithm&nbsp;of&nbsp;Dudzinski&nbsp;and&nbsp;Dydek&nbsp;for&nbsp;in-place<br>
<span class="lineno"></span>rotations&nbsp;uses&nbsp;O(u&nbsp;+&nbsp;v&nbsp;+&nbsp;gcd(u,v))&nbsp;assignments&nbsp;which&nbsp;is<br>
<span class="lineno"></span>better&nbsp;than&nbsp;our&nbsp;O(3&nbsp;*&nbsp;(u+v))&nbsp;as&nbsp;gcd(u,v)&nbsp;&lt;=&nbsp;u.<br>
<span class="lineno"></span><br>
<span class="lineno">440</span><br>
<span class="lineno"></span>Stable&nbsp;sorting&nbsp;by&nbsp;SymMerge&nbsp;and&nbsp;BlockSwap&nbsp;rotations<br>
<span class="lineno"></span><br>
<span class="lineno"></span>SymMerg&nbsp;complexity&nbsp;for&nbsp;same&nbsp;size&nbsp;input&nbsp;M&nbsp;=&nbsp;N:<br>
<span class="lineno"></span>Calls&nbsp;to&nbsp;Less:&nbsp;&nbsp;O(M*log(N/M+1))&nbsp;=&nbsp;O(N*log(2))&nbsp;=&nbsp;O(N)<br>
<span class="lineno">445</span>Calls&nbsp;to&nbsp;Swap:&nbsp;&nbsp;O((M+N)*log(M))&nbsp;=&nbsp;O(2*N*log(N))&nbsp;=&nbsp;O(N*log(N))<br>
<span class="lineno"></span><br>
<span class="lineno"></span>(The&nbsp;following&nbsp;argument&nbsp;does&nbsp;not&nbsp;fuzz&nbsp;over&nbsp;a&nbsp;missing&nbsp;-1&nbsp;or<br>
<span class="lineno"></span>other&nbsp;stuff&nbsp;which&nbsp;does&nbsp;not&nbsp;impact&nbsp;the&nbsp;final&nbsp;result).<br>
<span class="lineno"></span><br>
<span class="lineno">450</span>Let&nbsp;n&nbsp;=&nbsp;data.Len().&nbsp;Assume&nbsp;n&nbsp;=&nbsp;2^k.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Plain&nbsp;merge&nbsp;sort&nbsp;performs&nbsp;log(n)&nbsp;=&nbsp;k&nbsp;iterations.<br>
<span class="lineno"></span>On&nbsp;iteration&nbsp;i&nbsp;the&nbsp;algorithm&nbsp;merges&nbsp;2^(k-i)&nbsp;blocks,&nbsp;each&nbsp;of&nbsp;size&nbsp;2^i.<br>
<span class="lineno"></span><br>
<span class="lineno">455</span>Thus&nbsp;iteration&nbsp;i&nbsp;of&nbsp;merge&nbsp;sort&nbsp;performs:<br>
<span class="lineno"></span>Calls&nbsp;to&nbsp;Less&nbsp;&nbsp;O(2^(k-i)&nbsp;*&nbsp;2^i)&nbsp;=&nbsp;O(2^k)&nbsp;=&nbsp;O(2^log(n))&nbsp;=&nbsp;O(n)<br>
<span class="lineno"></span>Calls&nbsp;to&nbsp;Swap&nbsp;&nbsp;O(2^(k-i)&nbsp;*&nbsp;2^i&nbsp;*&nbsp;log(2^i))&nbsp;=&nbsp;O(2^k&nbsp;*&nbsp;i)&nbsp;=&nbsp;O(n*i)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;total&nbsp;k&nbsp;=&nbsp;log(n)&nbsp;iterations&nbsp;are&nbsp;performed;&nbsp;so&nbsp;in&nbsp;total:<br>
<span class="lineno">460</span>Calls&nbsp;to&nbsp;Less&nbsp;O(log(n)&nbsp;*&nbsp;n)<br>
<span class="lineno"></span>Calls&nbsp;to&nbsp;Swap&nbsp;O(n&nbsp;+&nbsp;2*n&nbsp;+&nbsp;3*n&nbsp;+&nbsp;...&nbsp;+&nbsp;(k-1)*n&nbsp;+&nbsp;k*n)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;=&nbsp;O((k/2)&nbsp;*&nbsp;k&nbsp;*&nbsp;n)&nbsp;=&nbsp;O(n&nbsp;*&nbsp;k^2)&nbsp;=&nbsp;O(n&nbsp;*&nbsp;log^2(n))<br>
<span class="lineno"></span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>Above&nbsp;results&nbsp;should&nbsp;generalize&nbsp;to&nbsp;arbitrary&nbsp;n&nbsp;=&nbsp;2^k&nbsp;+&nbsp;p<br>
<span class="lineno"></span>and&nbsp;should&nbsp;not&nbsp;be&nbsp;influenced&nbsp;by&nbsp;the&nbsp;initial&nbsp;insertion&nbsp;sort&nbsp;phase:<br>
<span class="lineno"></span>Insertion&nbsp;sort&nbsp;is&nbsp;O(n^2)&nbsp;on&nbsp;Swap&nbsp;and&nbsp;Less,&nbsp;thus&nbsp;O(bs^2)&nbsp;per&nbsp;block&nbsp;of<br>
<span class="lineno"></span>size&nbsp;bs&nbsp;at&nbsp;n/bs&nbsp;blocks:&nbsp;&nbsp;O(bs*n)&nbsp;Swaps&nbsp;and&nbsp;Less&nbsp;during&nbsp;insertion&nbsp;sort.<br>
<span class="lineno"></span>Merge&nbsp;sort&nbsp;iterations&nbsp;start&nbsp;at&nbsp;i&nbsp;=&nbsp;log(bs).&nbsp;With&nbsp;t&nbsp;=&nbsp;log(bs)&nbsp;constant:<br>
<span class="lineno">470</span>Calls&nbsp;to&nbsp;Less&nbsp;O((log(n)-t)&nbsp;*&nbsp;n&nbsp;+&nbsp;bs*n)&nbsp;=&nbsp;O(log(n)*n&nbsp;+&nbsp;(bs-t)*n)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;=&nbsp;O(n&nbsp;*&nbsp;log(n))<br>
<span class="lineno"></span>Calls&nbsp;to&nbsp;Swap&nbsp;O(n&nbsp;*&nbsp;log^2(n)&nbsp;-&nbsp;(t^2+t)/2*n)&nbsp;=&nbsp;O(n&nbsp;*&nbsp;log^2(n))<br>
<span class="lineno"></span><br>
<span class="lineno"></span>*/</span>
</div>
</body>
</html>
