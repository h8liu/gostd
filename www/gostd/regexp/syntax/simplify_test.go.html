<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8149438">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8149494">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8149548">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8149599">package</span>&nbsp;<span class="ident" id="8149607">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8149615">import</span>&nbsp;<span class="string" id="8149622">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8149633">var</span>&nbsp;<span class="ident" id="8149637">simplifyTests</span>&nbsp;<span class="op" id="8149651">=</span>&nbsp;<span class="op" id="8149653">[</span><span class="op" id="8149654">]</span><span class="keyword" id="8149655">struct</span>&nbsp;<span class="op" id="8149662">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8149665">Regexp</span>&nbsp;<span class="builtintype" id="8149672">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8149680">Simple</span>&nbsp;<span class="builtintype" id="8149687">string</span><br>
<span class="lineno"></span><span class="op" id="8149694">}</span><span class="op" id="8149695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8149698">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149728">{</span><span class="string" id="8149729">`a`</span><span class="op" id="8149732">,</span>&nbsp;<span class="string" id="8149734">`a`</span><span class="op" id="8149737">}</span><span class="op" id="8149738">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149741">{</span><span class="string" id="8149742">`ab`</span><span class="op" id="8149746">,</span>&nbsp;<span class="string" id="8149748">`ab`</span><span class="op" id="8149752">}</span><span class="op" id="8149753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149756">{</span><span class="string" id="8149757">`a|b`</span><span class="op" id="8149762">,</span>&nbsp;<span class="string" id="8149764">`[a-b]`</span><span class="op" id="8149771">}</span><span class="op" id="8149772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149775">{</span><span class="string" id="8149776">`ab|cd`</span><span class="op" id="8149783">,</span>&nbsp;<span class="string" id="8149785">`ab|cd`</span><span class="op" id="8149792">}</span><span class="op" id="8149793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149796">{</span><span class="string" id="8149797">`(ab)*`</span><span class="op" id="8149804">,</span>&nbsp;<span class="string" id="8149806">`(ab)*`</span><span class="op" id="8149813">}</span><span class="op" id="8149814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149817">{</span><span class="string" id="8149818">`(ab)+`</span><span class="op" id="8149825">,</span>&nbsp;<span class="string" id="8149827">`(ab)+`</span><span class="op" id="8149834">}</span><span class="op" id="8149835">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149838">{</span><span class="string" id="8149839">`(ab)?`</span><span class="op" id="8149846">,</span>&nbsp;<span class="string" id="8149848">`(ab)?`</span><span class="op" id="8149855">}</span><span class="op" id="8149856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149859">{</span><span class="string" id="8149860">`.`</span><span class="op" id="8149863">,</span>&nbsp;<span class="string" id="8149865">`(?s:.)`</span><span class="op" id="8149873">}</span><span class="op" id="8149874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149877">{</span><span class="string" id="8149878">`^`</span><span class="op" id="8149881">,</span>&nbsp;<span class="string" id="8149883">`^`</span><span class="op" id="8149886">}</span><span class="op" id="8149887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149890">{</span><span class="string" id="8149891">`$`</span><span class="op" id="8149894">,</span>&nbsp;<span class="string" id="8149896">`$`</span><span class="op" id="8149899">}</span><span class="op" id="8149900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149903">{</span><span class="string" id="8149904">`[ac]`</span><span class="op" id="8149910">,</span>&nbsp;<span class="string" id="8149912">`[ac]`</span><span class="op" id="8149918">}</span><span class="op" id="8149919">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149922">{</span><span class="string" id="8149923">`[^ac]`</span><span class="op" id="8149930">,</span>&nbsp;<span class="string" id="8149932">`[^ac]`</span><span class="op" id="8149939">}</span><span class="op" id="8149940">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8149944">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8149972">{</span><span class="string" id="8149973">`[[:alnum:]]`</span><span class="op" id="8149986">,</span>&nbsp;<span class="string" id="8149988">`[0-9A-Za-z]`</span><span class="op" id="8150001">}</span><span class="op" id="8150002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150005">{</span><span class="string" id="8150006">`[[:alpha:]]`</span><span class="op" id="8150019">,</span>&nbsp;<span class="string" id="8150021">`[A-Za-z]`</span><span class="op" id="8150031">}</span><span class="op" id="8150032">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150035">{</span><span class="string" id="8150036">`[[:blank:]]`</span><span class="op" id="8150049">,</span>&nbsp;<span class="string" id="8150051">`[\t&nbsp;]`</span><span class="op" id="8150058">}</span><span class="op" id="8150059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150062">{</span><span class="string" id="8150063">`[[:cntrl:]]`</span><span class="op" id="8150076">,</span>&nbsp;<span class="string" id="8150078">`[\x00-\x1f\x7f]`</span><span class="op" id="8150095">}</span><span class="op" id="8150096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150099">{</span><span class="string" id="8150100">`[[:digit:]]`</span><span class="op" id="8150113">,</span>&nbsp;<span class="string" id="8150115">`[0-9]`</span><span class="op" id="8150122">}</span><span class="op" id="8150123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150126">{</span><span class="string" id="8150127">`[[:graph:]]`</span><span class="op" id="8150140">,</span>&nbsp;<span class="string" id="8150142">`[!-~]`</span><span class="op" id="8150149">}</span><span class="op" id="8150150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150153">{</span><span class="string" id="8150154">`[[:lower:]]`</span><span class="op" id="8150167">,</span>&nbsp;<span class="string" id="8150169">`[a-z]`</span><span class="op" id="8150176">}</span><span class="op" id="8150177">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150180">{</span><span class="string" id="8150181">`[[:print:]]`</span><span class="op" id="8150194">,</span>&nbsp;<span class="string" id="8150196">`[&nbsp;-~]`</span><span class="op" id="8150203">}</span><span class="op" id="8150204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150207">{</span><span class="string" id="8150208">`[[:punct:]]`</span><span class="op" id="8150221">,</span>&nbsp;<span class="string" id="8150223">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="8150243">}</span><span class="op" id="8150244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150247">{</span><span class="string" id="8150248">`[[:space:]]`</span><span class="op" id="8150261">,</span>&nbsp;<span class="string" id="8150263">`[\t-\r&nbsp;]`</span><span class="op" id="8150273">}</span><span class="op" id="8150274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150277">{</span><span class="string" id="8150278">`[[:upper:]]`</span><span class="op" id="8150291">,</span>&nbsp;<span class="string" id="8150293">`[A-Z]`</span><span class="op" id="8150300">}</span><span class="op" id="8150301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150304">{</span><span class="string" id="8150305">`[[:xdigit:]]`</span><span class="op" id="8150319">,</span>&nbsp;<span class="string" id="8150321">`[0-9A-Fa-f]`</span><span class="op" id="8150334">}</span><span class="op" id="8150335">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8150339">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150366">{</span><span class="string" id="8150367">`\d`</span><span class="op" id="8150371">,</span>&nbsp;<span class="string" id="8150373">`[0-9]`</span><span class="op" id="8150380">}</span><span class="op" id="8150381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150384">{</span><span class="string" id="8150385">`\s`</span><span class="op" id="8150389">,</span>&nbsp;<span class="string" id="8150391">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="8150406">}</span><span class="op" id="8150407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150410">{</span><span class="string" id="8150411">`\w`</span><span class="op" id="8150415">,</span>&nbsp;<span class="string" id="8150417">`[0-9A-Z_a-z]`</span><span class="op" id="8150431">}</span><span class="op" id="8150432">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150435">{</span><span class="string" id="8150436">`\D`</span><span class="op" id="8150440">,</span>&nbsp;<span class="string" id="8150442">`[^0-9]`</span><span class="op" id="8150450">}</span><span class="op" id="8150451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150454">{</span><span class="string" id="8150455">`\S`</span><span class="op" id="8150459">,</span>&nbsp;<span class="string" id="8150461">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="8150477">}</span><span class="op" id="8150478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150481">{</span><span class="string" id="8150482">`\W`</span><span class="op" id="8150486">,</span>&nbsp;<span class="string" id="8150488">`[^0-9A-Z_a-z]`</span><span class="op" id="8150503">}</span><span class="op" id="8150504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150507">{</span><span class="string" id="8150508">`[\d]`</span><span class="op" id="8150514">,</span>&nbsp;<span class="string" id="8150516">`[0-9]`</span><span class="op" id="8150523">}</span><span class="op" id="8150524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150527">{</span><span class="string" id="8150528">`[\s]`</span><span class="op" id="8150534">,</span>&nbsp;<span class="string" id="8150536">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="8150551">}</span><span class="op" id="8150552">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150555">{</span><span class="string" id="8150556">`[\w]`</span><span class="op" id="8150562">,</span>&nbsp;<span class="string" id="8150564">`[0-9A-Z_a-z]`</span><span class="op" id="8150578">}</span><span class="op" id="8150579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150582">{</span><span class="string" id="8150583">`[\D]`</span><span class="op" id="8150589">,</span>&nbsp;<span class="string" id="8150591">`[^0-9]`</span><span class="op" id="8150599">}</span><span class="op" id="8150600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150603">{</span><span class="string" id="8150604">`[\S]`</span><span class="op" id="8150610">,</span>&nbsp;<span class="string" id="8150612">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="8150628">}</span><span class="op" id="8150629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150632">{</span><span class="string" id="8150633">`[\W]`</span><span class="op" id="8150639">,</span>&nbsp;<span class="string" id="8150641">`[^0-9A-Z_a-z]`</span><span class="op" id="8150656">}</span><span class="op" id="8150657">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8150661">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150683">{</span><span class="string" id="8150684">`a{1}`</span><span class="op" id="8150690">,</span>&nbsp;<span class="string" id="8150692">`a`</span><span class="op" id="8150695">}</span><span class="op" id="8150696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150699">{</span><span class="string" id="8150700">`a{2}`</span><span class="op" id="8150706">,</span>&nbsp;<span class="string" id="8150708">`aa`</span><span class="op" id="8150712">}</span><span class="op" id="8150713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150716">{</span><span class="string" id="8150717">`a{5}`</span><span class="op" id="8150723">,</span>&nbsp;<span class="string" id="8150725">`aaaaa`</span><span class="op" id="8150732">}</span><span class="op" id="8150733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150736">{</span><span class="string" id="8150737">`a{0,1}`</span><span class="op" id="8150745">,</span>&nbsp;<span class="string" id="8150747">`a?`</span><span class="op" id="8150751">}</span><span class="op" id="8150752">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8150755">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8150818">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8150874">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8150951">{</span><span class="string" id="8150952">`(a){0,2}`</span><span class="op" id="8150962">,</span>&nbsp;<span class="string" id="8150964">`(?:(a)(a)?)?`</span><span class="op" id="8150978">}</span><span class="op" id="8150979">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8151003">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151020">{</span><span class="string" id="8151021">`(a){0,4}`</span><span class="op" id="8151031">,</span>&nbsp;<span class="string" id="8151033">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="8151063">}</span><span class="op" id="8151064">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8151072">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151093">{</span><span class="string" id="8151094">`(a){2,6}`</span><span class="op" id="8151104">,</span>&nbsp;<span class="string" id="8151106">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="8151142">}</span><span class="op" id="8151143">,</span>&nbsp;<span class="comment" id="8151145">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151166">{</span><span class="string" id="8151167">`a{0,2}`</span><span class="op" id="8151175">,</span>&nbsp;<span class="string" id="8151177">`(?:aa?)?`</span><span class="op" id="8151187">}</span><span class="op" id="8151188">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8151218">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151235">{</span><span class="string" id="8151236">`a{0,4}`</span><span class="op" id="8151244">,</span>&nbsp;<span class="string" id="8151246">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="8151268">}</span><span class="op" id="8151269">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8151287">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151308">{</span><span class="string" id="8151309">`a{2,6}`</span><span class="op" id="8151317">,</span>&nbsp;<span class="string" id="8151319">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="8151343">}</span><span class="op" id="8151344">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8151360">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151381">{</span><span class="string" id="8151382">`a{0,}`</span><span class="op" id="8151389">,</span>&nbsp;<span class="string" id="8151391">`a*`</span><span class="op" id="8151395">}</span><span class="op" id="8151396">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151399">{</span><span class="string" id="8151400">`a{1,}`</span><span class="op" id="8151407">,</span>&nbsp;<span class="string" id="8151409">`a+`</span><span class="op" id="8151413">}</span><span class="op" id="8151414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151417">{</span><span class="string" id="8151418">`a{2,}`</span><span class="op" id="8151425">,</span>&nbsp;<span class="string" id="8151427">`aa+`</span><span class="op" id="8151432">}</span><span class="op" id="8151433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151436">{</span><span class="string" id="8151437">`a{5,}`</span><span class="op" id="8151444">,</span>&nbsp;<span class="string" id="8151446">`aaaaa+`</span><span class="op" id="8151454">}</span><span class="op" id="8151455">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8151459">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151509">{</span><span class="string" id="8151510">`(?:a{1,}){1,}`</span><span class="op" id="8151525">,</span>&nbsp;<span class="string" id="8151527">`a+`</span><span class="op" id="8151531">}</span><span class="op" id="8151532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151535">{</span><span class="string" id="8151536">`(a{1,}b{1,})`</span><span class="op" id="8151550">,</span>&nbsp;<span class="string" id="8151552">`(a+b+)`</span><span class="op" id="8151560">}</span><span class="op" id="8151561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151564">{</span><span class="string" id="8151565">`a{1,}|b{1,}`</span><span class="op" id="8151578">,</span>&nbsp;<span class="string" id="8151580">`a+|b+`</span><span class="op" id="8151587">}</span><span class="op" id="8151588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151591">{</span><span class="string" id="8151592">`(?:a{1,})*`</span><span class="op" id="8151604">,</span>&nbsp;<span class="string" id="8151606">`(?:a+)*`</span><span class="op" id="8151615">}</span><span class="op" id="8151616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151619">{</span><span class="string" id="8151620">`(?:a{1,})+`</span><span class="op" id="8151632">,</span>&nbsp;<span class="string" id="8151634">`a+`</span><span class="op" id="8151638">}</span><span class="op" id="8151639">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151642">{</span><span class="string" id="8151643">`(?:a{1,})?`</span><span class="op" id="8151655">,</span>&nbsp;<span class="string" id="8151657">`(?:a+)?`</span><span class="op" id="8151666">}</span><span class="op" id="8151667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151670">{</span><span class="string" id="8151671">``</span><span class="op" id="8151673">,</span>&nbsp;<span class="string" id="8151675">`(?:)`</span><span class="op" id="8151681">}</span><span class="op" id="8151682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151685">{</span><span class="string" id="8151686">`a{0}`</span><span class="op" id="8151692">,</span>&nbsp;<span class="string" id="8151694">`(?:)`</span><span class="op" id="8151700">}</span><span class="op" id="8151701">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8151705">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151740">{</span><span class="string" id="8151741">`[ab]`</span><span class="op" id="8151747">,</span>&nbsp;<span class="string" id="8151749">`[a-b]`</span><span class="op" id="8151756">}</span><span class="op" id="8151757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151760">{</span><span class="string" id="8151761">`[a-za-za-z]`</span><span class="op" id="8151774">,</span>&nbsp;<span class="string" id="8151776">`[a-z]`</span><span class="op" id="8151783">}</span><span class="op" id="8151784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151787">{</span><span class="string" id="8151788">`[A-Za-zA-Za-z]`</span><span class="op" id="8151804">,</span>&nbsp;<span class="string" id="8151806">`[A-Za-z]`</span><span class="op" id="8151816">}</span><span class="op" id="8151817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151820">{</span><span class="string" id="8151821">`[ABCDEFGH]`</span><span class="op" id="8151833">,</span>&nbsp;<span class="string" id="8151835">`[A-H]`</span><span class="op" id="8151842">}</span><span class="op" id="8151843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151846">{</span><span class="string" id="8151847">`[AB-CD-EF-GH]`</span><span class="op" id="8151862">,</span>&nbsp;<span class="string" id="8151864">`[A-H]`</span><span class="op" id="8151871">}</span><span class="op" id="8151872">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151875">{</span><span class="string" id="8151876">`[W-ZP-XE-R]`</span><span class="op" id="8151889">,</span>&nbsp;<span class="string" id="8151891">`[E-Z]`</span><span class="op" id="8151898">}</span><span class="op" id="8151899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151902">{</span><span class="string" id="8151903">`[a-ee-gg-m]`</span><span class="op" id="8151916">,</span>&nbsp;<span class="string" id="8151918">`[a-m]`</span><span class="op" id="8151925">}</span><span class="op" id="8151926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151929">{</span><span class="string" id="8151930">`[a-ea-ha-m]`</span><span class="op" id="8151943">,</span>&nbsp;<span class="string" id="8151945">`[a-m]`</span><span class="op" id="8151952">}</span><span class="op" id="8151953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151956">{</span><span class="string" id="8151957">`[a-ma-ha-e]`</span><span class="op" id="8151970">,</span>&nbsp;<span class="string" id="8151972">`[a-m]`</span><span class="op" id="8151979">}</span><span class="op" id="8151980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8151983">{</span><span class="string" id="8151984">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="8152000">,</span>&nbsp;<span class="string" id="8152002">`[&nbsp;-~]`</span><span class="op" id="8152009">}</span><span class="op" id="8152010">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8152014">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152042">{</span><span class="string" id="8152043">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="8152067">,</span>&nbsp;<span class="string" id="8152069">`[^\x00-\x{10FFFF}]`</span><span class="op" id="8152089">}</span><span class="op" id="8152090">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8152094">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152121">{</span><span class="string" id="8152122">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="8152145">,</span>&nbsp;<span class="string" id="8152147">`(?s:.)`</span><span class="op" id="8152155">}</span><span class="op" id="8152156">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8152160">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152186">{</span><span class="string" id="8152187">`(?i)A`</span><span class="op" id="8152194">,</span>&nbsp;<span class="string" id="8152196">`(?i:A)`</span><span class="op" id="8152204">}</span><span class="op" id="8152205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152208">{</span><span class="string" id="8152209">`(?i)a`</span><span class="op" id="8152216">,</span>&nbsp;<span class="string" id="8152218">`(?i:A)`</span><span class="op" id="8152226">}</span><span class="op" id="8152227">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152230">{</span><span class="string" id="8152231">`(?i)[A]`</span><span class="op" id="8152240">,</span>&nbsp;<span class="string" id="8152242">`(?i:A)`</span><span class="op" id="8152250">}</span><span class="op" id="8152251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152254">{</span><span class="string" id="8152255">`(?i)[a]`</span><span class="op" id="8152264">,</span>&nbsp;<span class="string" id="8152266">`(?i:A)`</span><span class="op" id="8152274">}</span><span class="op" id="8152275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152278">{</span><span class="string" id="8152279">`(?i)K`</span><span class="op" id="8152286">,</span>&nbsp;<span class="string" id="8152288">`(?i:K)`</span><span class="op" id="8152296">}</span><span class="op" id="8152297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152300">{</span><span class="string" id="8152301">`(?i)k`</span><span class="op" id="8152308">,</span>&nbsp;<span class="string" id="8152310">`(?i:K)`</span><span class="op" id="8152318">}</span><span class="op" id="8152319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152322">{</span><span class="string" id="8152323">`(?i)\x{212a}`</span><span class="op" id="8152337">,</span>&nbsp;<span class="string" id="8152339">&#34;(?i:K)&#34;</span><span class="op" id="8152347">}</span><span class="op" id="8152348">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152351">{</span><span class="string" id="8152352">`(?i)[K]`</span><span class="op" id="8152361">,</span>&nbsp;<span class="string" id="8152363">&#34;[Kk\u212A]&#34;</span><span class="op" id="8152375">}</span><span class="op" id="8152376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152379">{</span><span class="string" id="8152380">`(?i)[k]`</span><span class="op" id="8152389">,</span>&nbsp;<span class="string" id="8152391">&#34;[Kk\u212A]&#34;</span><span class="op" id="8152403">}</span><span class="op" id="8152404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152407">{</span><span class="string" id="8152408">`(?i)[\x{212a}]`</span><span class="op" id="8152424">,</span>&nbsp;<span class="string" id="8152426">&#34;[Kk\u212A]&#34;</span><span class="op" id="8152438">}</span><span class="op" id="8152439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152442">{</span><span class="string" id="8152443">`(?i)[a-z]`</span><span class="op" id="8152454">,</span>&nbsp;<span class="string" id="8152456">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="8152478">}</span><span class="op" id="8152479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152482">{</span><span class="string" id="8152483">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="8152504">,</span>&nbsp;<span class="string" id="8152506">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="8152522">}</span><span class="op" id="8152523">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152526">{</span><span class="string" id="8152527">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="8152550">,</span>&nbsp;<span class="string" id="8152552">`(?s:.)`</span><span class="op" id="8152560">}</span><span class="op" id="8152561">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8152565">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8152607">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8152669">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8152728">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8152790">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8152853">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152904">{</span><span class="string" id="8152905">`(a|b|)`</span><span class="op" id="8152913">,</span>&nbsp;<span class="string" id="8152915">`([a-b]|(?:))`</span><span class="op" id="8152929">}</span><span class="op" id="8152930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152933">{</span><span class="string" id="8152934">`(|)`</span><span class="op" id="8152939">,</span>&nbsp;<span class="string" id="8152941">`()`</span><span class="op" id="8152945">}</span><span class="op" id="8152946">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152949">{</span><span class="string" id="8152950">`a()`</span><span class="op" id="8152955">,</span>&nbsp;<span class="string" id="8152957">`a()`</span><span class="op" id="8152962">}</span><span class="op" id="8152963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152966">{</span><span class="string" id="8152967">`(()|())`</span><span class="op" id="8152976">,</span>&nbsp;<span class="string" id="8152978">`(()|())`</span><span class="op" id="8152987">}</span><span class="op" id="8152988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8152991">{</span><span class="string" id="8152992">`(a|)`</span><span class="op" id="8152998">,</span>&nbsp;<span class="string" id="8153000">`(a|(?:))`</span><span class="op" id="8153010">}</span><span class="op" id="8153011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153014">{</span><span class="string" id="8153015">`ab()cd()`</span><span class="op" id="8153025">,</span>&nbsp;<span class="string" id="8153027">`ab()cd()`</span><span class="op" id="8153037">}</span><span class="op" id="8153038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153041">{</span><span class="string" id="8153042">`()`</span><span class="op" id="8153046">,</span>&nbsp;<span class="string" id="8153048">`()`</span><span class="op" id="8153052">}</span><span class="op" id="8153053">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153056">{</span><span class="string" id="8153057">`()*`</span><span class="op" id="8153062">,</span>&nbsp;<span class="string" id="8153064">`()*`</span><span class="op" id="8153069">}</span><span class="op" id="8153070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153073">{</span><span class="string" id="8153074">`()+`</span><span class="op" id="8153079">,</span>&nbsp;<span class="string" id="8153081">`()+`</span><span class="op" id="8153086">}</span><span class="op" id="8153087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153090">{</span><span class="string" id="8153091">`()?`</span><span class="op" id="8153096">,</span>&nbsp;<span class="string" id="8153098">`()?`</span><span class="op" id="8153103">}</span><span class="op" id="8153104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153107">{</span><span class="string" id="8153108">`(){0}`</span><span class="op" id="8153115">,</span>&nbsp;<span class="string" id="8153117">`(?:)`</span><span class="op" id="8153123">}</span><span class="op" id="8153124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153127">{</span><span class="string" id="8153128">`(){1}`</span><span class="op" id="8153135">,</span>&nbsp;<span class="string" id="8153137">`()`</span><span class="op" id="8153141">}</span><span class="op" id="8153142">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153145">{</span><span class="string" id="8153146">`(){1,}`</span><span class="op" id="8153154">,</span>&nbsp;<span class="string" id="8153156">`()+`</span><span class="op" id="8153161">}</span><span class="op" id="8153162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153165">{</span><span class="string" id="8153166">`(){0,2}`</span><span class="op" id="8153175">,</span>&nbsp;<span class="string" id="8153177">`(?:()()?)?`</span><span class="op" id="8153189">}</span><span class="op" id="8153190">,</span><br>
<span class="lineno"></span><span class="op" id="8153192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8153195">func</span>&nbsp;<span class="ident" id="8153200">TestSimplify</span><span class="op" id="8153212">(</span><span class="ident" id="8153213">t</span>&nbsp;<span class="op" id="8153215">*</span><span class="ident" id="8153216">testing</span><span class="op" id="8153223">.</span><span class="ident" id="8153224">T</span><span class="op" id="8153225">)</span>&nbsp;<span class="op" id="8153227">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8153230">for</span>&nbsp;<span class="ident" id="8153234">_</span><span class="op" id="8153235">,</span>&nbsp;<span class="ident" id="8153237">tt</span>&nbsp;<span class="op" id="8153240">:=</span>&nbsp;<span class="keyword" id="8153243">range</span>&nbsp;<span class="ident" id="8153249">simplifyTests</span>&nbsp;<span class="op" id="8153263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8153267">re</span><span class="op" id="8153269">,</span>&nbsp;<span class="ident" id="8153271">err</span>&nbsp;<span class="op" id="8153275">:=</span>&nbsp;<span class="ident" id="8153278">Parse</span><span class="op" id="8153283">(</span><span class="ident" id="8153284">tt</span><span class="op" id="8153286">.</span><span class="ident" id="8153287">Regexp</span><span class="op" id="8153293">,</span>&nbsp;<span class="ident" id="8153295">MatchNL</span><span class="op" id="8153302">|</span><span class="ident" id="8153303">Perl</span><span class="op" id="8153307">&amp;^</span><span class="ident" id="8153309">OneLine</span><span class="op" id="8153316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8153320">if</span>&nbsp;<span class="ident" id="8153323">err</span>&nbsp;<span class="op" id="8153327">!=</span>&nbsp;<span class="ident" id="8153330">nil</span>&nbsp;<span class="op" id="8153334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8153339">t</span><span class="op" id="8153340">.</span><span class="ident" id="8153341">Errorf</span><span class="op" id="8153347">(</span><span class="string" id="8153348">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="8153371">,</span>&nbsp;<span class="ident" id="8153373">tt</span><span class="op" id="8153375">.</span><span class="ident" id="8153376">Regexp</span><span class="op" id="8153382">,</span>&nbsp;<span class="ident" id="8153384">err</span><span class="op" id="8153387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8153392">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8153407">s</span>&nbsp;<span class="op" id="8153409">:=</span>&nbsp;<span class="ident" id="8153412">re</span><span class="op" id="8153414">.</span><span class="ident" id="8153415">Simplify</span><span class="op" id="8153423">(</span><span class="op" id="8153424">)</span><span class="op" id="8153425">.</span><span class="ident" id="8153426">String</span><span class="op" id="8153432">(</span><span class="op" id="8153433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8153437">if</span>&nbsp;<span class="ident" id="8153440">s</span>&nbsp;<span class="op" id="8153442">!=</span>&nbsp;<span class="ident" id="8153445">tt</span><span class="op" id="8153447">.</span><span class="ident" id="8153448">Simple</span>&nbsp;<span class="op" id="8153455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8153460">t</span><span class="op" id="8153461">.</span><span class="ident" id="8153462">Errorf</span><span class="op" id="8153468">(</span><span class="string" id="8153469">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="8153500">,</span>&nbsp;<span class="ident" id="8153502">tt</span><span class="op" id="8153504">.</span><span class="ident" id="8153505">Regexp</span><span class="op" id="8153511">,</span>&nbsp;<span class="ident" id="8153513">s</span><span class="op" id="8153514">,</span>&nbsp;<span class="ident" id="8153516">tt</span><span class="op" id="8153518">.</span><span class="ident" id="8153519">Simple</span><span class="op" id="8153525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153529">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8153532">}</span><br>
<span class="lineno"></span><span class="op" id="8153534">}</span>
</div>
</body>
</html>
