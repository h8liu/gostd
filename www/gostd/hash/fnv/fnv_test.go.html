<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/fnv</h2>
<ul>
<li><a href="/gostd/hash/fnv/fnv.go.html">fnv.go</a></li>
<li><a href="/gostd/hash/fnv/fnv_test.go.html" class="current">fnv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6612032">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6612087">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6612141">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6612192">package</span>&nbsp;<span class="ident" id="6612200">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6612205">import</span>&nbsp;<span class="op" id="6612212">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6612215">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6612224">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6612243">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6612251">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6612261">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6612264">type</span>&nbsp;<span class="ident" id="6612269">golden</span>&nbsp;<span class="keyword" id="6612276">struct</span>&nbsp;<span class="op" id="6612283">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6612286">sum</span>&nbsp;&nbsp;<span class="op" id="6612291">[</span><span class="op" id="6612292">]</span><span class="builtintype" id="6612293">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6612299">text</span>&nbsp;<span class="builtintype" id="6612304">string</span><br>
<span class="lineno"></span><span class="op" id="6612311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6612314">var</span>&nbsp;<span class="ident" id="6612318">golden32</span>&nbsp;<span class="op" id="6612327">=</span>&nbsp;<span class="op" id="6612329">[</span><span class="op" id="6612330">]</span><span class="ident" id="6612331">golden</span><span class="op" id="6612337">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612340">{</span><span class="op" id="6612341">[</span><span class="op" id="6612342">]</span><span class="builtintype" id="6612343">byte</span><span class="op" id="6612347">{</span><span class="num" id="6612348">0x81</span><span class="op" id="6612352">,</span>&nbsp;<span class="num" id="6612354">0x1c</span><span class="op" id="6612358">,</span>&nbsp;<span class="num" id="6612360">0x9d</span><span class="op" id="6612364">,</span>&nbsp;<span class="num" id="6612366">0xc5</span><span class="op" id="6612370">}</span><span class="op" id="6612371">,</span>&nbsp;<span class="string" id="6612373">&#34;&#34;</span><span class="op" id="6612375">}</span><span class="op" id="6612376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612379">{</span><span class="op" id="6612380">[</span><span class="op" id="6612381">]</span><span class="builtintype" id="6612382">byte</span><span class="op" id="6612386">{</span><span class="num" id="6612387">0x05</span><span class="op" id="6612391">,</span>&nbsp;<span class="num" id="6612393">0x0c</span><span class="op" id="6612397">,</span>&nbsp;<span class="num" id="6612399">0x5d</span><span class="op" id="6612403">,</span>&nbsp;<span class="num" id="6612405">0x7e</span><span class="op" id="6612409">}</span><span class="op" id="6612410">,</span>&nbsp;<span class="string" id="6612412">&#34;a&#34;</span><span class="op" id="6612415">}</span><span class="op" id="6612416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612419">{</span><span class="op" id="6612420">[</span><span class="op" id="6612421">]</span><span class="builtintype" id="6612422">byte</span><span class="op" id="6612426">{</span><span class="num" id="6612427">0x70</span><span class="op" id="6612431">,</span>&nbsp;<span class="num" id="6612433">0x77</span><span class="op" id="6612437">,</span>&nbsp;<span class="num" id="6612439">0x2d</span><span class="op" id="6612443">,</span>&nbsp;<span class="num" id="6612445">0x38</span><span class="op" id="6612449">}</span><span class="op" id="6612450">,</span>&nbsp;<span class="string" id="6612452">&#34;ab&#34;</span><span class="op" id="6612456">}</span><span class="op" id="6612457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612460">{</span><span class="op" id="6612461">[</span><span class="op" id="6612462">]</span><span class="builtintype" id="6612463">byte</span><span class="op" id="6612467">{</span><span class="num" id="6612468">0x43</span><span class="op" id="6612472">,</span>&nbsp;<span class="num" id="6612474">0x9c</span><span class="op" id="6612478">,</span>&nbsp;<span class="num" id="6612480">0x2f</span><span class="op" id="6612484">,</span>&nbsp;<span class="num" id="6612486">0x4b</span><span class="op" id="6612490">}</span><span class="op" id="6612491">,</span>&nbsp;<span class="string" id="6612493">&#34;abc&#34;</span><span class="op" id="6612498">}</span><span class="op" id="6612499">,</span><br>
<span class="lineno"></span><span class="op" id="6612501">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6612504">var</span>&nbsp;<span class="ident" id="6612508">golden32a</span>&nbsp;<span class="op" id="6612518">=</span>&nbsp;<span class="op" id="6612520">[</span><span class="op" id="6612521">]</span><span class="ident" id="6612522">golden</span><span class="op" id="6612528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612531">{</span><span class="op" id="6612532">[</span><span class="op" id="6612533">]</span><span class="builtintype" id="6612534">byte</span><span class="op" id="6612538">{</span><span class="num" id="6612539">0x81</span><span class="op" id="6612543">,</span>&nbsp;<span class="num" id="6612545">0x1c</span><span class="op" id="6612549">,</span>&nbsp;<span class="num" id="6612551">0x9d</span><span class="op" id="6612555">,</span>&nbsp;<span class="num" id="6612557">0xc5</span><span class="op" id="6612561">}</span><span class="op" id="6612562">,</span>&nbsp;<span class="string" id="6612564">&#34;&#34;</span><span class="op" id="6612566">}</span><span class="op" id="6612567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612570">{</span><span class="op" id="6612571">[</span><span class="op" id="6612572">]</span><span class="builtintype" id="6612573">byte</span><span class="op" id="6612577">{</span><span class="num" id="6612578">0xe4</span><span class="op" id="6612582">,</span>&nbsp;<span class="num" id="6612584">0x0c</span><span class="op" id="6612588">,</span>&nbsp;<span class="num" id="6612590">0x29</span><span class="op" id="6612594">,</span>&nbsp;<span class="num" id="6612596">0x2c</span><span class="op" id="6612600">}</span><span class="op" id="6612601">,</span>&nbsp;<span class="string" id="6612603">&#34;a&#34;</span><span class="op" id="6612606">}</span><span class="op" id="6612607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612610">{</span><span class="op" id="6612611">[</span><span class="op" id="6612612">]</span><span class="builtintype" id="6612613">byte</span><span class="op" id="6612617">{</span><span class="num" id="6612618">0x4d</span><span class="op" id="6612622">,</span>&nbsp;<span class="num" id="6612624">0x25</span><span class="op" id="6612628">,</span>&nbsp;<span class="num" id="6612630">0x05</span><span class="op" id="6612634">,</span>&nbsp;<span class="num" id="6612636">0xca</span><span class="op" id="6612640">}</span><span class="op" id="6612641">,</span>&nbsp;<span class="string" id="6612643">&#34;ab&#34;</span><span class="op" id="6612647">}</span><span class="op" id="6612648">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612651">{</span><span class="op" id="6612652">[</span><span class="op" id="6612653">]</span><span class="builtintype" id="6612654">byte</span><span class="op" id="6612658">{</span><span class="num" id="6612659">0x1a</span><span class="op" id="6612663">,</span>&nbsp;<span class="num" id="6612665">0x47</span><span class="op" id="6612669">,</span>&nbsp;<span class="num" id="6612671">0xe9</span><span class="op" id="6612675">,</span>&nbsp;<span class="num" id="6612677">0x0b</span><span class="op" id="6612681">}</span><span class="op" id="6612682">,</span>&nbsp;<span class="string" id="6612684">&#34;abc&#34;</span><span class="op" id="6612689">}</span><span class="op" id="6612690">,</span><br>
<span class="lineno"></span><span class="op" id="6612692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6612695">var</span>&nbsp;<span class="ident" id="6612699">golden64</span>&nbsp;<span class="op" id="6612708">=</span>&nbsp;<span class="op" id="6612710">[</span><span class="op" id="6612711">]</span><span class="ident" id="6612712">golden</span><span class="op" id="6612718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612721">{</span><span class="op" id="6612722">[</span><span class="op" id="6612723">]</span><span class="builtintype" id="6612724">byte</span><span class="op" id="6612728">{</span><span class="num" id="6612729">0xcb</span><span class="op" id="6612733">,</span>&nbsp;<span class="num" id="6612735">0xf2</span><span class="op" id="6612739">,</span>&nbsp;<span class="num" id="6612741">0x9c</span><span class="op" id="6612745">,</span>&nbsp;<span class="num" id="6612747">0xe4</span><span class="op" id="6612751">,</span>&nbsp;<span class="num" id="6612753">0x84</span><span class="op" id="6612757">,</span>&nbsp;<span class="num" id="6612759">0x22</span><span class="op" id="6612763">,</span>&nbsp;<span class="num" id="6612765">0x23</span><span class="op" id="6612769">,</span>&nbsp;<span class="num" id="6612771">0x25</span><span class="op" id="6612775">}</span><span class="op" id="6612776">,</span>&nbsp;<span class="string" id="6612778">&#34;&#34;</span><span class="op" id="6612780">}</span><span class="op" id="6612781">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612784">{</span><span class="op" id="6612785">[</span><span class="op" id="6612786">]</span><span class="builtintype" id="6612787">byte</span><span class="op" id="6612791">{</span><span class="num" id="6612792">0xaf</span><span class="op" id="6612796">,</span>&nbsp;<span class="num" id="6612798">0x63</span><span class="op" id="6612802">,</span>&nbsp;<span class="num" id="6612804">0xbd</span><span class="op" id="6612808">,</span>&nbsp;<span class="num" id="6612810">0x4c</span><span class="op" id="6612814">,</span>&nbsp;<span class="num" id="6612816">0x86</span><span class="op" id="6612820">,</span>&nbsp;<span class="num" id="6612822">0x01</span><span class="op" id="6612826">,</span>&nbsp;<span class="num" id="6612828">0xb7</span><span class="op" id="6612832">,</span>&nbsp;<span class="num" id="6612834">0xbe</span><span class="op" id="6612838">}</span><span class="op" id="6612839">,</span>&nbsp;<span class="string" id="6612841">&#34;a&#34;</span><span class="op" id="6612844">}</span><span class="op" id="6612845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612848">{</span><span class="op" id="6612849">[</span><span class="op" id="6612850">]</span><span class="builtintype" id="6612851">byte</span><span class="op" id="6612855">{</span><span class="num" id="6612856">0x08</span><span class="op" id="6612860">,</span>&nbsp;<span class="num" id="6612862">0x32</span><span class="op" id="6612866">,</span>&nbsp;<span class="num" id="6612868">0x67</span><span class="op" id="6612872">,</span>&nbsp;<span class="num" id="6612874">0x07</span><span class="op" id="6612878">,</span>&nbsp;<span class="num" id="6612880">0xb4</span><span class="op" id="6612884">,</span>&nbsp;<span class="num" id="6612886">0xeb</span><span class="op" id="6612890">,</span>&nbsp;<span class="num" id="6612892">0x37</span><span class="op" id="6612896">,</span>&nbsp;<span class="num" id="6612898">0xb8</span><span class="op" id="6612902">}</span><span class="op" id="6612903">,</span>&nbsp;<span class="string" id="6612905">&#34;ab&#34;</span><span class="op" id="6612909">}</span><span class="op" id="6612910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6612913">{</span><span class="op" id="6612914">[</span><span class="op" id="6612915">]</span><span class="builtintype" id="6612916">byte</span><span class="op" id="6612920">{</span><span class="num" id="6612921">0xd8</span><span class="op" id="6612925">,</span>&nbsp;<span class="num" id="6612927">0xdc</span><span class="op" id="6612931">,</span>&nbsp;<span class="num" id="6612933">0xca</span><span class="op" id="6612937">,</span>&nbsp;<span class="num" id="6612939">0x18</span><span class="op" id="6612943">,</span>&nbsp;<span class="num" id="6612945">0x6b</span><span class="op" id="6612949">,</span>&nbsp;<span class="num" id="6612951">0xaf</span><span class="op" id="6612955">,</span>&nbsp;<span class="num" id="6612957">0xad</span><span class="op" id="6612961">,</span>&nbsp;<span class="num" id="6612963">0xcb</span><span class="op" id="6612967">}</span><span class="op" id="6612968">,</span>&nbsp;<span class="string" id="6612970">&#34;abc&#34;</span><span class="op" id="6612975">}</span><span class="op" id="6612976">,</span><br>
<span class="lineno"></span><span class="op" id="6612978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6612981">var</span>&nbsp;<span class="ident" id="6612985">golden64a</span>&nbsp;<span class="op" id="6612995">=</span>&nbsp;<span class="op" id="6612997">[</span><span class="op" id="6612998">]</span><span class="ident" id="6612999">golden</span><span class="op" id="6613005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6613008">{</span><span class="op" id="6613009">[</span><span class="op" id="6613010">]</span><span class="builtintype" id="6613011">byte</span><span class="op" id="6613015">{</span><span class="num" id="6613016">0xcb</span><span class="op" id="6613020">,</span>&nbsp;<span class="num" id="6613022">0xf2</span><span class="op" id="6613026">,</span>&nbsp;<span class="num" id="6613028">0x9c</span><span class="op" id="6613032">,</span>&nbsp;<span class="num" id="6613034">0xe4</span><span class="op" id="6613038">,</span>&nbsp;<span class="num" id="6613040">0x84</span><span class="op" id="6613044">,</span>&nbsp;<span class="num" id="6613046">0x22</span><span class="op" id="6613050">,</span>&nbsp;<span class="num" id="6613052">0x23</span><span class="op" id="6613056">,</span>&nbsp;<span class="num" id="6613058">0x25</span><span class="op" id="6613062">}</span><span class="op" id="6613063">,</span>&nbsp;<span class="string" id="6613065">&#34;&#34;</span><span class="op" id="6613067">}</span><span class="op" id="6613068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6613071">{</span><span class="op" id="6613072">[</span><span class="op" id="6613073">]</span><span class="builtintype" id="6613074">byte</span><span class="op" id="6613078">{</span><span class="num" id="6613079">0xaf</span><span class="op" id="6613083">,</span>&nbsp;<span class="num" id="6613085">0x63</span><span class="op" id="6613089">,</span>&nbsp;<span class="num" id="6613091">0xdc</span><span class="op" id="6613095">,</span>&nbsp;<span class="num" id="6613097">0x4c</span><span class="op" id="6613101">,</span>&nbsp;<span class="num" id="6613103">0x86</span><span class="op" id="6613107">,</span>&nbsp;<span class="num" id="6613109">0x01</span><span class="op" id="6613113">,</span>&nbsp;<span class="num" id="6613115">0xec</span><span class="op" id="6613119">,</span>&nbsp;<span class="num" id="6613121">0x8c</span><span class="op" id="6613125">}</span><span class="op" id="6613126">,</span>&nbsp;<span class="string" id="6613128">&#34;a&#34;</span><span class="op" id="6613131">}</span><span class="op" id="6613132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6613135">{</span><span class="op" id="6613136">[</span><span class="op" id="6613137">]</span><span class="builtintype" id="6613138">byte</span><span class="op" id="6613142">{</span><span class="num" id="6613143">0x08</span><span class="op" id="6613147">,</span>&nbsp;<span class="num" id="6613149">0x9c</span><span class="op" id="6613153">,</span>&nbsp;<span class="num" id="6613155">0x44</span><span class="op" id="6613159">,</span>&nbsp;<span class="num" id="6613161">0x07</span><span class="op" id="6613165">,</span>&nbsp;<span class="num" id="6613167">0xb5</span><span class="op" id="6613171">,</span>&nbsp;<span class="num" id="6613173">0x45</span><span class="op" id="6613177">,</span>&nbsp;<span class="num" id="6613179">0x98</span><span class="op" id="6613183">,</span>&nbsp;<span class="num" id="6613185">0x6a</span><span class="op" id="6613189">}</span><span class="op" id="6613190">,</span>&nbsp;<span class="string" id="6613192">&#34;ab&#34;</span><span class="op" id="6613196">}</span><span class="op" id="6613197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6613200">{</span><span class="op" id="6613201">[</span><span class="op" id="6613202">]</span><span class="builtintype" id="6613203">byte</span><span class="op" id="6613207">{</span><span class="num" id="6613208">0xe7</span><span class="op" id="6613212">,</span>&nbsp;<span class="num" id="6613214">0x1f</span><span class="op" id="6613218">,</span>&nbsp;<span class="num" id="6613220">0xa2</span><span class="op" id="6613224">,</span>&nbsp;<span class="num" id="6613226">0x19</span><span class="op" id="6613230">,</span>&nbsp;<span class="num" id="6613232">0x05</span><span class="op" id="6613236">,</span>&nbsp;<span class="num" id="6613238">0x41</span><span class="op" id="6613242">,</span>&nbsp;<span class="num" id="6613244">0x57</span><span class="op" id="6613248">,</span>&nbsp;<span class="num" id="6613250">0x4b</span><span class="op" id="6613254">}</span><span class="op" id="6613255">,</span>&nbsp;<span class="string" id="6613257">&#34;abc&#34;</span><span class="op" id="6613262">}</span><span class="op" id="6613263">,</span><br>
<span class="lineno">45</span><span class="op" id="6613265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6613268">func</span>&nbsp;<span class="ident" id="6613273">TestGolden32</span><span class="op" id="6613285">(</span><span class="ident" id="6613286">t</span>&nbsp;<span class="op" id="6613288">*</span><span class="ident" id="6613289">testing</span><span class="op" id="6613296">.</span><span class="ident" id="6613297">T</span><span class="op" id="6613298">)</span>&nbsp;<span class="op" id="6613300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6613303">testGolden</span><span class="op" id="6613313">(</span><span class="ident" id="6613314">t</span><span class="op" id="6613315">,</span>&nbsp;<span class="ident" id="6613317">New32</span><span class="op" id="6613322">(</span><span class="op" id="6613323">)</span><span class="op" id="6613324">,</span>&nbsp;<span class="ident" id="6613326">golden32</span><span class="op" id="6613334">)</span><br>
<span class="lineno"></span><span class="op" id="6613336">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6613339">func</span>&nbsp;<span class="ident" id="6613344">TestGolden32a</span><span class="op" id="6613357">(</span><span class="ident" id="6613358">t</span>&nbsp;<span class="op" id="6613360">*</span><span class="ident" id="6613361">testing</span><span class="op" id="6613368">.</span><span class="ident" id="6613369">T</span><span class="op" id="6613370">)</span>&nbsp;<span class="op" id="6613372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6613375">testGolden</span><span class="op" id="6613385">(</span><span class="ident" id="6613386">t</span><span class="op" id="6613387">,</span>&nbsp;<span class="ident" id="6613389">New32a</span><span class="op" id="6613395">(</span><span class="op" id="6613396">)</span><span class="op" id="6613397">,</span>&nbsp;<span class="ident" id="6613399">golden32a</span><span class="op" id="6613408">)</span><br>
<span class="lineno"></span><span class="op" id="6613410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="6613413">func</span>&nbsp;<span class="ident" id="6613418">TestGolden64</span><span class="op" id="6613430">(</span><span class="ident" id="6613431">t</span>&nbsp;<span class="op" id="6613433">*</span><span class="ident" id="6613434">testing</span><span class="op" id="6613441">.</span><span class="ident" id="6613442">T</span><span class="op" id="6613443">)</span>&nbsp;<span class="op" id="6613445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6613448">testGolden</span><span class="op" id="6613458">(</span><span class="ident" id="6613459">t</span><span class="op" id="6613460">,</span>&nbsp;<span class="ident" id="6613462">New64</span><span class="op" id="6613467">(</span><span class="op" id="6613468">)</span><span class="op" id="6613469">,</span>&nbsp;<span class="ident" id="6613471">golden64</span><span class="op" id="6613479">)</span><br>
<span class="lineno"></span><span class="op" id="6613481">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6613484">func</span>&nbsp;<span class="ident" id="6613489">TestGolden64a</span><span class="op" id="6613502">(</span><span class="ident" id="6613503">t</span>&nbsp;<span class="op" id="6613505">*</span><span class="ident" id="6613506">testing</span><span class="op" id="6613513">.</span><span class="ident" id="6613514">T</span><span class="op" id="6613515">)</span>&nbsp;<span class="op" id="6613517">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6613520">testGolden</span><span class="op" id="6613530">(</span><span class="ident" id="6613531">t</span><span class="op" id="6613532">,</span>&nbsp;<span class="ident" id="6613534">New64a</span><span class="op" id="6613540">(</span><span class="op" id="6613541">)</span><span class="op" id="6613542">,</span>&nbsp;<span class="ident" id="6613544">golden64a</span><span class="op" id="6613553">)</span><br>
<span class="lineno"></span><span class="op" id="6613555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6613558">func</span>&nbsp;<span class="ident" id="6613563">testGolden</span><span class="op" id="6613573">(</span><span class="ident" id="6613574">t</span>&nbsp;<span class="op" id="6613576">*</span><span class="ident" id="6613577">testing</span><span class="op" id="6613584">.</span><span class="ident" id="6613585">T</span><span class="op" id="6613586">,</span>&nbsp;<span class="ident" id="6613588">hash</span>&nbsp;<span class="ident" id="6613593">hash</span><span class="op" id="6613597">.</span><span class="ident" id="6613598">Hash</span><span class="op" id="6613602">,</span>&nbsp;<span class="ident" id="6613604">gold</span>&nbsp;<span class="op" id="6613609">[</span><span class="op" id="6613610">]</span><span class="ident" id="6613611">golden</span><span class="op" id="6613617">)</span>&nbsp;<span class="op" id="6613619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6613622">for</span>&nbsp;<span class="ident" id="6613626">_</span><span class="op" id="6613627">,</span>&nbsp;<span class="ident" id="6613629">g</span>&nbsp;<span class="op" id="6613631">:=</span>&nbsp;<span class="keyword" id="6613634">range</span>&nbsp;<span class="ident" id="6613640">gold</span>&nbsp;<span class="op" id="6613645">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6613649">hash</span><span class="op" id="6613653">.</span><span class="ident" id="6613654">Reset</span><span class="op" id="6613659">(</span><span class="op" id="6613660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6613664">done</span><span class="op" id="6613668">,</span>&nbsp;<span class="builtintype" id="6613670">error</span>&nbsp;<span class="op" id="6613676">:=</span>&nbsp;<span class="ident" id="6613679">hash</span><span class="op" id="6613683">.</span><span class="ident" id="6613684">Write</span><span class="op" id="6613689">(</span><span class="op" id="6613690">[</span><span class="op" id="6613691">]</span><span class="builtintype" id="6613692">byte</span><span class="op" id="6613696">(</span><span class="ident" id="6613697">g</span><span class="op" id="6613698">.</span><span class="ident" id="6613699">text</span><span class="op" id="6613703">)</span><span class="op" id="6613704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6613708">if</span>&nbsp;<span class="builtintype" id="6613711">error</span>&nbsp;<span class="op" id="6613717">!=</span>&nbsp;<span class="builtintype" id="6613720">nil</span>&nbsp;<span class="op" id="6613724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6613729">t</span><span class="op" id="6613730">.</span><span class="ident" id="6613731">Fatalf</span><span class="op" id="6613737">(</span><span class="string" id="6613738">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="6613755">,</span>&nbsp;<span class="builtintype" id="6613757">error</span><span class="op" id="6613762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6613766">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6613770">if</span>&nbsp;<span class="ident" id="6613773">done</span>&nbsp;<span class="op" id="6613778">!=</span>&nbsp;<span class="builtinfunc" id="6613781">len</span><span class="op" id="6613784">(</span><span class="ident" id="6613785">g</span><span class="op" id="6613786">.</span><span class="ident" id="6613787">text</span><span class="op" id="6613791">)</span>&nbsp;<span class="op" id="6613793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6613798">t</span><span class="op" id="6613799">.</span><span class="ident" id="6613800">Fatalf</span><span class="op" id="6613806">(</span><span class="string" id="6613807">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="6613838">,</span>&nbsp;<span class="ident" id="6613840">done</span><span class="op" id="6613844">,</span>&nbsp;<span class="builtinfunc" id="6613846">len</span><span class="op" id="6613849">(</span><span class="ident" id="6613850">g</span><span class="op" id="6613851">.</span><span class="ident" id="6613852">text</span><span class="op" id="6613856">)</span><span class="op" id="6613857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6613861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6613865">if</span>&nbsp;<span class="ident" id="6613868">actual</span>&nbsp;<span class="op" id="6613875">:=</span>&nbsp;<span class="ident" id="6613878">hash</span><span class="op" id="6613882">.</span><span class="ident" id="6613883">Sum</span><span class="op" id="6613886">(</span><span class="builtintype" id="6613887">nil</span><span class="op" id="6613890">)</span><span class="op" id="6613891">;</span>&nbsp;<span class="op" id="6613893">!</span><span class="ident" id="6613894">bytes</span><span class="op" id="6613899">.</span><span class="ident" id="6613900">Equal</span><span class="op" id="6613905">(</span><span class="ident" id="6613906">g</span><span class="op" id="6613907">.</span><span class="ident" id="6613908">sum</span><span class="op" id="6613911">,</span>&nbsp;<span class="ident" id="6613913">actual</span><span class="op" id="6613919">)</span>&nbsp;<span class="op" id="6613921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6613926">t</span><span class="op" id="6613927">.</span><span class="ident" id="6613928">Errorf</span><span class="op" id="6613934">(</span><span class="string" id="6613935">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6613962">,</span>&nbsp;<span class="ident" id="6613964">g</span><span class="op" id="6613965">.</span><span class="ident" id="6613966">text</span><span class="op" id="6613970">,</span>&nbsp;<span class="ident" id="6613972">actual</span><span class="op" id="6613978">,</span>&nbsp;<span class="ident" id="6613980">g</span><span class="op" id="6613981">.</span><span class="ident" id="6613982">sum</span><span class="op" id="6613985">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6613989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6613992">}</span><br>
<span class="lineno"></span><span class="op" id="6613994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6613997">func</span>&nbsp;<span class="ident" id="6614002">TestIntegrity32</span><span class="op" id="6614017">(</span><span class="ident" id="6614018">t</span>&nbsp;<span class="op" id="6614020">*</span><span class="ident" id="6614021">testing</span><span class="op" id="6614028">.</span><span class="ident" id="6614029">T</span><span class="op" id="6614030">)</span>&nbsp;<span class="op" id="6614032">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614035">testIntegrity</span><span class="op" id="6614048">(</span><span class="ident" id="6614049">t</span><span class="op" id="6614050">,</span>&nbsp;<span class="ident" id="6614052">New32</span><span class="op" id="6614057">(</span><span class="op" id="6614058">)</span><span class="op" id="6614059">)</span><br>
<span class="lineno"></span><span class="op" id="6614061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6614064">func</span>&nbsp;<span class="ident" id="6614069">TestIntegrity32a</span><span class="op" id="6614085">(</span><span class="ident" id="6614086">t</span>&nbsp;<span class="op" id="6614088">*</span><span class="ident" id="6614089">testing</span><span class="op" id="6614096">.</span><span class="ident" id="6614097">T</span><span class="op" id="6614098">)</span>&nbsp;<span class="op" id="6614100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614103">testIntegrity</span><span class="op" id="6614116">(</span><span class="ident" id="6614117">t</span><span class="op" id="6614118">,</span>&nbsp;<span class="ident" id="6614120">New32a</span><span class="op" id="6614126">(</span><span class="op" id="6614127">)</span><span class="op" id="6614128">)</span><br>
<span class="lineno">85</span><span class="op" id="6614130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6614133">func</span>&nbsp;<span class="ident" id="6614138">TestIntegrity64</span><span class="op" id="6614153">(</span><span class="ident" id="6614154">t</span>&nbsp;<span class="op" id="6614156">*</span><span class="ident" id="6614157">testing</span><span class="op" id="6614164">.</span><span class="ident" id="6614165">T</span><span class="op" id="6614166">)</span>&nbsp;<span class="op" id="6614168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614171">testIntegrity</span><span class="op" id="6614184">(</span><span class="ident" id="6614185">t</span><span class="op" id="6614186">,</span>&nbsp;<span class="ident" id="6614188">New64</span><span class="op" id="6614193">(</span><span class="op" id="6614194">)</span><span class="op" id="6614195">)</span><br>
<span class="lineno"></span><span class="op" id="6614197">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="6614200">func</span>&nbsp;<span class="ident" id="6614205">TestIntegrity64a</span><span class="op" id="6614221">(</span><span class="ident" id="6614222">t</span>&nbsp;<span class="op" id="6614224">*</span><span class="ident" id="6614225">testing</span><span class="op" id="6614232">.</span><span class="ident" id="6614233">T</span><span class="op" id="6614234">)</span>&nbsp;<span class="op" id="6614236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614239">testIntegrity</span><span class="op" id="6614252">(</span><span class="ident" id="6614253">t</span><span class="op" id="6614254">,</span>&nbsp;<span class="ident" id="6614256">New64a</span><span class="op" id="6614262">(</span><span class="op" id="6614263">)</span><span class="op" id="6614264">)</span><br>
<span class="lineno"></span><span class="op" id="6614266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6614269">func</span>&nbsp;<span class="ident" id="6614274">testIntegrity</span><span class="op" id="6614287">(</span><span class="ident" id="6614288">t</span>&nbsp;<span class="op" id="6614290">*</span><span class="ident" id="6614291">testing</span><span class="op" id="6614298">.</span><span class="ident" id="6614299">T</span><span class="op" id="6614300">,</span>&nbsp;<span class="ident" id="6614302">h</span>&nbsp;<span class="ident" id="6614304">hash</span><span class="op" id="6614308">.</span><span class="ident" id="6614309">Hash</span><span class="op" id="6614313">)</span>&nbsp;<span class="op" id="6614315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614318">data</span>&nbsp;<span class="op" id="6614323">:=</span>&nbsp;<span class="op" id="6614326">[</span><span class="op" id="6614327">]</span><span class="builtintype" id="6614328">byte</span><span class="op" id="6614332">{</span><span class="string" id="6614333">&#39;1&#39;</span><span class="op" id="6614336">,</span>&nbsp;<span class="string" id="6614338">&#39;2&#39;</span><span class="op" id="6614341">,</span>&nbsp;<span class="num" id="6614343">3</span><span class="op" id="6614344">,</span>&nbsp;<span class="num" id="6614346">4</span><span class="op" id="6614347">,</span>&nbsp;<span class="num" id="6614349">5</span><span class="op" id="6614350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614353">h</span><span class="op" id="6614354">.</span><span class="ident" id="6614355">Write</span><span class="op" id="6614360">(</span><span class="ident" id="6614361">data</span><span class="op" id="6614365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614368">sum</span>&nbsp;<span class="op" id="6614372">:=</span>&nbsp;<span class="ident" id="6614375">h</span><span class="op" id="6614376">.</span><span class="ident" id="6614377">Sum</span><span class="op" id="6614380">(</span><span class="builtintype" id="6614381">nil</span><span class="op" id="6614384">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6614388">if</span>&nbsp;<span class="ident" id="6614391">size</span>&nbsp;<span class="op" id="6614396">:=</span>&nbsp;<span class="ident" id="6614399">h</span><span class="op" id="6614400">.</span><span class="ident" id="6614401">Size</span><span class="op" id="6614405">(</span><span class="op" id="6614406">)</span><span class="op" id="6614407">;</span>&nbsp;<span class="ident" id="6614409">size</span>&nbsp;<span class="op" id="6614414">!=</span>&nbsp;<span class="builtinfunc" id="6614417">len</span><span class="op" id="6614420">(</span><span class="ident" id="6614421">sum</span><span class="op" id="6614424">)</span>&nbsp;<span class="op" id="6614426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614430">t</span><span class="op" id="6614431">.</span><span class="ident" id="6614432">Fatalf</span><span class="op" id="6614438">(</span><span class="string" id="6614439">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="6614468">,</span>&nbsp;<span class="ident" id="6614470">size</span><span class="op" id="6614474">,</span>&nbsp;<span class="builtinfunc" id="6614476">len</span><span class="op" id="6614479">(</span><span class="ident" id="6614480">sum</span><span class="op" id="6614483">)</span><span class="op" id="6614484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6614487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6614491">if</span>&nbsp;<span class="ident" id="6614494">a</span>&nbsp;<span class="op" id="6614496">:=</span>&nbsp;<span class="ident" id="6614499">h</span><span class="op" id="6614500">.</span><span class="ident" id="6614501">Sum</span><span class="op" id="6614504">(</span><span class="builtintype" id="6614505">nil</span><span class="op" id="6614508">)</span><span class="op" id="6614509">;</span>&nbsp;<span class="op" id="6614511">!</span><span class="ident" id="6614512">bytes</span><span class="op" id="6614517">.</span><span class="ident" id="6614518">Equal</span><span class="op" id="6614523">(</span><span class="ident" id="6614524">sum</span><span class="op" id="6614527">,</span>&nbsp;<span class="ident" id="6614529">a</span><span class="op" id="6614530">)</span>&nbsp;<span class="op" id="6614532">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614536">t</span><span class="op" id="6614537">.</span><span class="ident" id="6614538">Fatalf</span><span class="op" id="6614544">(</span><span class="string" id="6614545">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="6614582">,</span>&nbsp;<span class="ident" id="6614584">sum</span><span class="op" id="6614587">,</span>&nbsp;<span class="ident" id="6614589">a</span><span class="op" id="6614590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6614593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614597">h</span><span class="op" id="6614598">.</span><span class="ident" id="6614599">Reset</span><span class="op" id="6614604">(</span><span class="op" id="6614605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614608">h</span><span class="op" id="6614609">.</span><span class="ident" id="6614610">Write</span><span class="op" id="6614615">(</span><span class="ident" id="6614616">data</span><span class="op" id="6614620">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6614623">if</span>&nbsp;<span class="ident" id="6614626">a</span>&nbsp;<span class="op" id="6614628">:=</span>&nbsp;<span class="ident" id="6614631">h</span><span class="op" id="6614632">.</span><span class="ident" id="6614633">Sum</span><span class="op" id="6614636">(</span><span class="builtintype" id="6614637">nil</span><span class="op" id="6614640">)</span><span class="op" id="6614641">;</span>&nbsp;<span class="op" id="6614643">!</span><span class="ident" id="6614644">bytes</span><span class="op" id="6614649">.</span><span class="ident" id="6614650">Equal</span><span class="op" id="6614655">(</span><span class="ident" id="6614656">sum</span><span class="op" id="6614659">,</span>&nbsp;<span class="ident" id="6614661">a</span><span class="op" id="6614662">)</span>&nbsp;<span class="op" id="6614664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614668">t</span><span class="op" id="6614669">.</span><span class="ident" id="6614670">Fatalf</span><span class="op" id="6614676">(</span><span class="string" id="6614677">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="6614719">,</span>&nbsp;<span class="ident" id="6614721">sum</span><span class="op" id="6614724">,</span>&nbsp;<span class="ident" id="6614726">a</span><span class="op" id="6614727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6614730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614734">h</span><span class="op" id="6614735">.</span><span class="ident" id="6614736">Reset</span><span class="op" id="6614741">(</span><span class="op" id="6614742">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614745">h</span><span class="op" id="6614746">.</span><span class="ident" id="6614747">Write</span><span class="op" id="6614752">(</span><span class="ident" id="6614753">data</span><span class="op" id="6614757">[</span><span class="op" id="6614758">:</span><span class="num" id="6614759">2</span><span class="op" id="6614760">]</span><span class="op" id="6614761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614764">h</span><span class="op" id="6614765">.</span><span class="ident" id="6614766">Write</span><span class="op" id="6614771">(</span><span class="ident" id="6614772">data</span><span class="op" id="6614776">[</span><span class="num" id="6614777">2</span><span class="op" id="6614778">:</span><span class="op" id="6614779">]</span><span class="op" id="6614780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6614783">if</span>&nbsp;<span class="ident" id="6614786">a</span>&nbsp;<span class="op" id="6614788">:=</span>&nbsp;<span class="ident" id="6614791">h</span><span class="op" id="6614792">.</span><span class="ident" id="6614793">Sum</span><span class="op" id="6614796">(</span><span class="builtintype" id="6614797">nil</span><span class="op" id="6614800">)</span><span class="op" id="6614801">;</span>&nbsp;<span class="op" id="6614803">!</span><span class="ident" id="6614804">bytes</span><span class="op" id="6614809">.</span><span class="ident" id="6614810">Equal</span><span class="op" id="6614815">(</span><span class="ident" id="6614816">sum</span><span class="op" id="6614819">,</span>&nbsp;<span class="ident" id="6614821">a</span><span class="op" id="6614822">)</span>&nbsp;<span class="op" id="6614824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614828">t</span><span class="op" id="6614829">.</span><span class="ident" id="6614830">Fatalf</span><span class="op" id="6614836">(</span><span class="string" id="6614837">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="6614886">,</span>&nbsp;<span class="ident" id="6614888">sum</span><span class="op" id="6614891">,</span>&nbsp;<span class="ident" id="6614893">a</span><span class="op" id="6614894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6614897">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6614901">switch</span>&nbsp;<span class="ident" id="6614908">h</span><span class="op" id="6614909">.</span><span class="ident" id="6614910">Size</span><span class="op" id="6614914">(</span><span class="op" id="6614915">)</span>&nbsp;<span class="op" id="6614917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6614920">case</span>&nbsp;<span class="num" id="6614925">4</span><span class="op" id="6614926">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6614930">sum32</span>&nbsp;<span class="op" id="6614936">:=</span>&nbsp;<span class="ident" id="6614939">h</span><span class="op" id="6614940">.</span><span class="op" id="6614941">(</span><span class="ident" id="6614942">hash</span><span class="op" id="6614946">.</span><span class="ident" id="6614947">Hash32</span><span class="op" id="6614953">)</span><span class="op" id="6614954">.</span><span class="ident" id="6614955">Sum32</span><span class="op" id="6614960">(</span><span class="op" id="6614961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6614965">if</span>&nbsp;<span class="ident" id="6614968">sum32</span>&nbsp;<span class="op" id="6614974">!=</span>&nbsp;<span class="ident" id="6614977">binary</span><span class="op" id="6614983">.</span><span class="ident" id="6614984">BigEndian</span><span class="op" id="6614993">.</span><span class="ident" id="6614994">Uint32</span><span class="op" id="6615000">(</span><span class="ident" id="6615001">sum</span><span class="op" id="6615004">)</span>&nbsp;<span class="op" id="6615006">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615011">t</span><span class="op" id="6615012">.</span><span class="ident" id="6615013">Fatalf</span><span class="op" id="6615019">(</span><span class="string" id="6615020">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="6615050">,</span>&nbsp;<span class="ident" id="6615052">sum</span><span class="op" id="6615055">,</span>&nbsp;<span class="ident" id="6615057">sum32</span><span class="op" id="6615062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6615066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6615069">case</span>&nbsp;<span class="num" id="6615074">8</span><span class="op" id="6615075">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615079">sum64</span>&nbsp;<span class="op" id="6615085">:=</span>&nbsp;<span class="ident" id="6615088">h</span><span class="op" id="6615089">.</span><span class="op" id="6615090">(</span><span class="ident" id="6615091">hash</span><span class="op" id="6615095">.</span><span class="ident" id="6615096">Hash64</span><span class="op" id="6615102">)</span><span class="op" id="6615103">.</span><span class="ident" id="6615104">Sum64</span><span class="op" id="6615109">(</span><span class="op" id="6615110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6615114">if</span>&nbsp;<span class="ident" id="6615117">sum64</span>&nbsp;<span class="op" id="6615123">!=</span>&nbsp;<span class="ident" id="6615126">binary</span><span class="op" id="6615132">.</span><span class="ident" id="6615133">BigEndian</span><span class="op" id="6615142">.</span><span class="ident" id="6615143">Uint64</span><span class="op" id="6615149">(</span><span class="ident" id="6615150">sum</span><span class="op" id="6615153">)</span>&nbsp;<span class="op" id="6615155">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615160">t</span><span class="op" id="6615161">.</span><span class="ident" id="6615162">Fatalf</span><span class="op" id="6615168">(</span><span class="string" id="6615169">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="6615199">,</span>&nbsp;<span class="ident" id="6615201">sum</span><span class="op" id="6615204">,</span>&nbsp;<span class="ident" id="6615206">sum64</span><span class="op" id="6615211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6615215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6615218">}</span><br>
<span class="lineno"></span><span class="op" id="6615220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="6615223">func</span>&nbsp;<span class="ident" id="6615228">BenchmarkFnv32KB</span><span class="op" id="6615244">(</span><span class="ident" id="6615245">b</span>&nbsp;<span class="op" id="6615247">*</span><span class="ident" id="6615248">testing</span><span class="op" id="6615255">.</span><span class="ident" id="6615256">B</span><span class="op" id="6615257">)</span>&nbsp;<span class="op" id="6615259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615262">benchmarkKB</span><span class="op" id="6615273">(</span><span class="ident" id="6615274">b</span><span class="op" id="6615275">,</span>&nbsp;<span class="ident" id="6615277">New32</span><span class="op" id="6615282">(</span><span class="op" id="6615283">)</span><span class="op" id="6615284">)</span><br>
<span class="lineno"></span><span class="op" id="6615286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6615289">func</span>&nbsp;<span class="ident" id="6615294">BenchmarkFnv32aKB</span><span class="op" id="6615311">(</span><span class="ident" id="6615312">b</span>&nbsp;<span class="op" id="6615314">*</span><span class="ident" id="6615315">testing</span><span class="op" id="6615322">.</span><span class="ident" id="6615323">B</span><span class="op" id="6615324">)</span>&nbsp;<span class="op" id="6615326">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615329">benchmarkKB</span><span class="op" id="6615340">(</span><span class="ident" id="6615341">b</span><span class="op" id="6615342">,</span>&nbsp;<span class="ident" id="6615344">New32a</span><span class="op" id="6615350">(</span><span class="op" id="6615351">)</span><span class="op" id="6615352">)</span><br>
<span class="lineno"></span><span class="op" id="6615354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6615357">func</span>&nbsp;<span class="ident" id="6615362">BenchmarkFnv64KB</span><span class="op" id="6615378">(</span><span class="ident" id="6615379">b</span>&nbsp;<span class="op" id="6615381">*</span><span class="ident" id="6615382">testing</span><span class="op" id="6615389">.</span><span class="ident" id="6615390">B</span><span class="op" id="6615391">)</span>&nbsp;<span class="op" id="6615393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615396">benchmarkKB</span><span class="op" id="6615407">(</span><span class="ident" id="6615408">b</span><span class="op" id="6615409">,</span>&nbsp;<span class="ident" id="6615411">New64</span><span class="op" id="6615416">(</span><span class="op" id="6615417">)</span><span class="op" id="6615418">)</span><br>
<span class="lineno">145</span><span class="op" id="6615420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6615423">func</span>&nbsp;<span class="ident" id="6615428">BenchmarkFnv64aKB</span><span class="op" id="6615445">(</span><span class="ident" id="6615446">b</span>&nbsp;<span class="op" id="6615448">*</span><span class="ident" id="6615449">testing</span><span class="op" id="6615456">.</span><span class="ident" id="6615457">B</span><span class="op" id="6615458">)</span>&nbsp;<span class="op" id="6615460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615463">benchmarkKB</span><span class="op" id="6615474">(</span><span class="ident" id="6615475">b</span><span class="op" id="6615476">,</span>&nbsp;<span class="ident" id="6615478">New64a</span><span class="op" id="6615484">(</span><span class="op" id="6615485">)</span><span class="op" id="6615486">)</span><br>
<span class="lineno"></span><span class="op" id="6615488">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="6615491">func</span>&nbsp;<span class="ident" id="6615496">benchmarkKB</span><span class="op" id="6615507">(</span><span class="ident" id="6615508">b</span>&nbsp;<span class="op" id="6615510">*</span><span class="ident" id="6615511">testing</span><span class="op" id="6615518">.</span><span class="ident" id="6615519">B</span><span class="op" id="6615520">,</span>&nbsp;<span class="ident" id="6615522">h</span>&nbsp;<span class="ident" id="6615524">hash</span><span class="op" id="6615528">.</span><span class="ident" id="6615529">Hash</span><span class="op" id="6615533">)</span>&nbsp;<span class="op" id="6615535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615538">b</span><span class="op" id="6615539">.</span><span class="ident" id="6615540">SetBytes</span><span class="op" id="6615548">(</span><span class="num" id="6615549">1024</span><span class="op" id="6615553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615556">data</span>&nbsp;<span class="op" id="6615561">:=</span>&nbsp;<span class="builtinfunc" id="6615564">make</span><span class="op" id="6615568">(</span><span class="op" id="6615569">[</span><span class="op" id="6615570">]</span><span class="builtintype" id="6615571">byte</span><span class="op" id="6615575">,</span>&nbsp;<span class="num" id="6615577">1024</span><span class="op" id="6615581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6615584">for</span>&nbsp;<span class="ident" id="6615588">i</span>&nbsp;<span class="op" id="6615590">:=</span>&nbsp;<span class="keyword" id="6615593">range</span>&nbsp;<span class="ident" id="6615599">data</span>&nbsp;<span class="op" id="6615604">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615608">data</span><span class="op" id="6615612">[</span><span class="ident" id="6615613">i</span><span class="op" id="6615614">]</span>&nbsp;<span class="op" id="6615616">=</span>&nbsp;<span class="builtintype" id="6615618">byte</span><span class="op" id="6615622">(</span><span class="ident" id="6615623">i</span><span class="op" id="6615624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6615627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615630">in</span>&nbsp;<span class="op" id="6615633">:=</span>&nbsp;<span class="builtinfunc" id="6615636">make</span><span class="op" id="6615640">(</span><span class="op" id="6615641">[</span><span class="op" id="6615642">]</span><span class="builtintype" id="6615643">byte</span><span class="op" id="6615647">,</span>&nbsp;<span class="num" id="6615649">0</span><span class="op" id="6615650">,</span>&nbsp;<span class="ident" id="6615652">h</span><span class="op" id="6615653">.</span><span class="ident" id="6615654">Size</span><span class="op" id="6615658">(</span><span class="op" id="6615659">)</span><span class="op" id="6615660">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615664">b</span><span class="op" id="6615665">.</span><span class="ident" id="6615666">ResetTimer</span><span class="op" id="6615676">(</span><span class="op" id="6615677">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6615680">for</span>&nbsp;<span class="ident" id="6615684">i</span>&nbsp;<span class="op" id="6615686">:=</span>&nbsp;<span class="num" id="6615689">0</span><span class="op" id="6615690">;</span>&nbsp;<span class="ident" id="6615692">i</span>&nbsp;<span class="op" id="6615694">&lt;</span>&nbsp;<span class="ident" id="6615696">b</span><span class="op" id="6615697">.</span><span class="ident" id="6615698">N</span><span class="op" id="6615699">;</span>&nbsp;<span class="ident" id="6615701">i</span><span class="op" id="6615702">++</span>&nbsp;<span class="op" id="6615705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615709">h</span><span class="op" id="6615710">.</span><span class="ident" id="6615711">Reset</span><span class="op" id="6615716">(</span><span class="op" id="6615717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615721">h</span><span class="op" id="6615722">.</span><span class="ident" id="6615723">Write</span><span class="op" id="6615728">(</span><span class="ident" id="6615729">data</span><span class="op" id="6615733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6615737">h</span><span class="op" id="6615738">.</span><span class="ident" id="6615739">Sum</span><span class="op" id="6615742">(</span><span class="ident" id="6615743">in</span><span class="op" id="6615745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6615748">}</span><br>
<span class="lineno">165</span><span class="op" id="6615750">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
