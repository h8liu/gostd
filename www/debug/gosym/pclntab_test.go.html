<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8515418">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8515474">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8515528">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8515579">package</span>&nbsp;<span class="ident" id="8515587">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8515594">import</span>&nbsp;<span class="op" id="8515601">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8515604">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8515617">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8515624">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8515637">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8515643">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8515654">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8515671">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8515682">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8515693">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8515703">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8515706">var</span>&nbsp;<span class="op" id="8515710">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8515713">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8515730">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8515738">pclinetestBinary</span>&nbsp;<span class="builtintype" id="8515755">string</span><br>
<span class="lineno"></span><span class="op" id="8515762">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8515765">func</span>&nbsp;<span class="ident" id="8515770">dotest</span><span class="op" id="8515776">(</span><span class="ident" id="8515777">self</span>&nbsp;<span class="builtintype" id="8515782">bool</span><span class="op" id="8515786">)</span>&nbsp;<span class="builtintype" id="8515788">bool</span>&nbsp;<span class="op" id="8515793">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8515796">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8515840">if</span>&nbsp;<span class="ident" id="8515843"><a href="/debug/gosym/pclntab_test.go.html#8515671">runtime</a></span><span class="op" id="8515850">.</span><span class="ident" id="8515851">GOARCH</span>&nbsp;<span class="op" id="8515858">!=</span>&nbsp;<span class="string" id="8515861">&#34;amd64&#34;</span>&nbsp;<span class="op" id="8515869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8515873">return</span>&nbsp;<span class="ident" id="8515880">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8515887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8515890">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8515944">if</span>&nbsp;<span class="ident" id="8515947"><a href="/debug/gosym/pclntab_test.go.html#8515777">self</a></span>&nbsp;<span class="op" id="8515952">&amp;&amp;</span>&nbsp;<span class="ident" id="8515955"><a href="/debug/gosym/pclntab_test.go.html#8515671">runtime</a></span><span class="op" id="8515962">.</span><span class="ident" id="8515963">GOOS</span>&nbsp;<span class="op" id="8515968">!=</span>&nbsp;<span class="string" id="8515971">&#34;linux&#34;</span>&nbsp;<span class="op" id="8515979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8515983">return</span>&nbsp;<span class="ident" id="8515990">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8515997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8516000">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8516041">if</span>&nbsp;<span class="ident" id="8516044"><a href="/debug/gosym/pclntab_test.go.html#8515671">runtime</a></span><span class="op" id="8516051">.</span><span class="ident" id="8516052">GOOS</span>&nbsp;<span class="op" id="8516057">==</span>&nbsp;<span class="string" id="8516060">&#34;windows&#34;</span>&nbsp;<span class="op" id="8516070">||</span>&nbsp;<span class="ident" id="8516073"><a href="/debug/gosym/pclntab_test.go.html#8515671">runtime</a></span><span class="op" id="8516080">.</span><span class="ident" id="8516081">GOOS</span>&nbsp;<span class="op" id="8516086">==</span>&nbsp;<span class="string" id="8516089">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8516097">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8516101">return</span>&nbsp;<span class="ident" id="8516108">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8516115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8516118">if</span>&nbsp;<span class="ident" id="8516121"><a href="/debug/gosym/pclntab_test.go.html#8515738">pclinetestBinary</a></span>&nbsp;<span class="op" id="8516138">!=</span>&nbsp;<span class="string" id="8516141">&#34;&#34;</span>&nbsp;<span class="op" id="8516144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8516148">return</span>&nbsp;<span class="ident" id="8516155">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8516161">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8516164">var</span>&nbsp;<span class="ident" id="8516168">err</span>&nbsp;<span class="builtintype" id="8516172">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8516179"><a href="/debug/gosym/pclntab_test.go.html#8515713">pclineTempDir</a></span><span class="op" id="8516192">,</span>&nbsp;<span class="ident" id="8516194"><a href="/debug/gosym/pclntab_test.go.html#8516168">err</a></span>&nbsp;<span class="op" id="8516198">=</span>&nbsp;<span class="ident" id="8516200"><a href="/debug/gosym/pclntab_test.go.html#8515624">ioutil</a></span><span class="op" id="8516206">.</span><span class="ident" id="8516207">TempDir</span><span class="op" id="8516214">(</span><span class="string" id="8516215">&#34;&#34;</span><span class="op" id="8516217">,</span>&nbsp;<span class="string" id="8516219">&#34;pclinetest&#34;</span><span class="op" id="8516231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8516234">if</span>&nbsp;<span class="ident" id="8516237"><a href="/debug/gosym/pclntab_test.go.html#8516168">err</a></span>&nbsp;<span class="op" id="8516241">!=</span>&nbsp;<span class="ident" id="8516244">nil</span>&nbsp;<span class="op" id="8516248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8516252">panic</span><span class="op" id="8516257">(</span><span class="ident" id="8516258"><a href="/debug/gosym/pclntab_test.go.html#8516168">err</a></span><span class="op" id="8516261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8516264">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8516267">if</span>&nbsp;<span class="ident" id="8516270"><a href="/debug/gosym/pclntab_test.go.html#8515682">strings</a></span><span class="op" id="8516277">.</span><span class="ident" id="8516278">Contains</span><span class="op" id="8516286">(</span><span class="ident" id="8516287"><a href="/debug/gosym/pclntab_test.go.html#8515713">pclineTempDir</a></span><span class="op" id="8516300">,</span>&nbsp;<span class="string" id="8516302">&#34;&nbsp;&#34;</span><span class="op" id="8516305">)</span>&nbsp;<span class="op" id="8516307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8516311">panic</span><span class="op" id="8516316">(</span><span class="string" id="8516317">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="8516346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8516349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8516352">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8516408">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8516476">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8516537"><a href="/debug/gosym/pclntab_test.go.html#8515738">pclinetestBinary</a></span>&nbsp;<span class="op" id="8516554">=</span>&nbsp;<span class="ident" id="8516556"><a href="/debug/gosym/pclntab_test.go.html#8515654">filepath</a></span><span class="op" id="8516564">.</span><span class="ident" id="8516565">Join</span><span class="op" id="8516569">(</span><span class="ident" id="8516570"><a href="/debug/gosym/pclntab_test.go.html#8515713">pclineTempDir</a></span><span class="op" id="8516583">,</span>&nbsp;<span class="string" id="8516585">&#34;pclinetest&#34;</span><span class="op" id="8516597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8516600">command</span>&nbsp;<span class="op" id="8516608">:=</span>&nbsp;<span class="ident" id="8516611"><a href="/debug/gosym/pclntab_test.go.html#8515617">fmt</a></span><span class="op" id="8516614">.</span><span class="ident" id="8516615">Sprintf</span><span class="op" id="8516622">(</span><span class="string" id="8516623">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="8516700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8516704"><a href="/debug/gosym/pclntab_test.go.html#8515738">pclinetestBinary</a></span><span class="op" id="8516720">,</span>&nbsp;<span class="ident" id="8516722"><a href="/debug/gosym/pclntab_test.go.html#8515738">pclinetestBinary</a></span><span class="op" id="8516738">,</span>&nbsp;<span class="ident" id="8516740"><a href="/debug/gosym/pclntab_test.go.html#8515738">pclinetestBinary</a></span><span class="op" id="8516756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8516759">cmd</span>&nbsp;<span class="op" id="8516763">:=</span>&nbsp;<span class="ident" id="8516766"><a href="/debug/gosym/pclntab_test.go.html#8515643">exec</a></span><span class="op" id="8516770">.</span><span class="ident" id="8516771">Command</span><span class="op" id="8516778">(</span><span class="string" id="8516779">&#34;sh&#34;</span><span class="op" id="8516783">,</span>&nbsp;<span class="string" id="8516785">&#34;-c&#34;</span><span class="op" id="8516789">,</span>&nbsp;<span class="ident" id="8516791"><a href="/debug/gosym/pclntab_test.go.html#8516600">command</a></span><span class="op" id="8516798">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8516801"><a href="/debug/gosym/pclntab_test.go.html#8516759">cmd</a></span><span class="op" id="8516804">.</span><span class="ident" id="8516805">Stdout</span>&nbsp;<span class="op" id="8516812">=</span>&nbsp;<span class="ident" id="8516814"><a href="/debug/gosym/pclntab_test.go.html#8515637">os</a></span><span class="op" id="8516816">.</span><span class="ident" id="8516817">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8516825"><a href="/debug/gosym/pclntab_test.go.html#8516759">cmd</a></span><span class="op" id="8516828">.</span><span class="ident" id="8516829">Stderr</span>&nbsp;<span class="op" id="8516836">=</span>&nbsp;<span class="ident" id="8516838"><a href="/debug/gosym/pclntab_test.go.html#8515637">os</a></span><span class="op" id="8516840">.</span><span class="ident" id="8516841">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8516849">if</span>&nbsp;<span class="ident" id="8516852">err</span>&nbsp;<span class="op" id="8516856">:=</span>&nbsp;<span class="ident" id="8516859"><a href="/debug/gosym/pclntab_test.go.html#8516759">cmd</a></span><span class="op" id="8516862">.</span><span class="ident" id="8516863">Run</span><span class="op" id="8516866">(</span><span class="op" id="8516867">)</span><span class="op" id="8516868">;</span>&nbsp;<span class="ident" id="8516870"><a href="/debug/gosym/pclntab_test.go.html#8516852">err</a></span>&nbsp;<span class="op" id="8516874">!=</span>&nbsp;<span class="ident" id="8516877">nil</span>&nbsp;<span class="op" id="8516881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8516885">panic</span><span class="op" id="8516890">(</span><span class="ident" id="8516891"><a href="/debug/gosym/pclntab_test.go.html#8516852">err</a></span><span class="op" id="8516894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8516897">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8516900">return</span>&nbsp;<span class="ident" id="8516907">true</span><br>
<span class="lineno"></span><span class="op" id="8516912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8516915">func</span>&nbsp;<span class="ident" id="8516920">endtest</span><span class="op" id="8516927">(</span><span class="op" id="8516928">)</span>&nbsp;<span class="op" id="8516930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8516933">if</span>&nbsp;<span class="ident" id="8516936"><a href="/debug/gosym/pclntab_test.go.html#8515713">pclineTempDir</a></span>&nbsp;<span class="op" id="8516950">!=</span>&nbsp;<span class="string" id="8516953">&#34;&#34;</span>&nbsp;<span class="op" id="8516956">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8516960"><a href="/debug/gosym/pclntab_test.go.html#8515637">os</a></span><span class="op" id="8516962">.</span><span class="ident" id="8516963">RemoveAll</span><span class="op" id="8516972">(</span><span class="ident" id="8516973"><a href="/debug/gosym/pclntab_test.go.html#8515713">pclineTempDir</a></span><span class="op" id="8516986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8516990"><a href="/debug/gosym/pclntab_test.go.html#8515713">pclineTempDir</a></span>&nbsp;<span class="op" id="8517004">=</span>&nbsp;<span class="string" id="8517006">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517011"><a href="/debug/gosym/pclntab_test.go.html#8515738">pclinetestBinary</a></span>&nbsp;<span class="op" id="8517028">=</span>&nbsp;<span class="string" id="8517030">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8517034">}</span><br>
<span class="lineno"></span><span class="op" id="8517036">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8517039">func</span>&nbsp;<span class="ident" id="8517044">getTable</span><span class="op" id="8517052">(</span><span class="ident" id="8517053">t</span>&nbsp;<span class="op" id="8517055">*</span><span class="ident" id="8517056"><a href="/debug/gosym/pclntab_test.go.html#8515693">testing</a></span><span class="op" id="8517063">.</span><span class="ident" id="8517064">T</span><span class="op" id="8517065">)</span>&nbsp;<span class="op" id="8517067">*</span><span class="ident" id="8517068"><a href="/debug/gosym/symtab.go.html#6234832">Table</a></span>&nbsp;<span class="op" id="8517074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517077">f</span><span class="op" id="8517078">,</span>&nbsp;<span class="ident" id="8517080">tab</span>&nbsp;<span class="op" id="8517084">:=</span>&nbsp;<span class="ident" id="8517087"><a href="/debug/gosym/pclntab_test.go.html#8517139">crack</a></span><span class="op" id="8517092">(</span><span class="ident" id="8517093"><a href="/debug/gosym/pclntab_test.go.html#8515637">os</a></span><span class="op" id="8517095">.</span><span class="ident" id="8517096">Args</span><span class="op" id="8517100">[</span><span class="num" id="8517101">0</span><span class="op" id="8517102">]</span><span class="op" id="8517103">,</span>&nbsp;<span class="ident" id="8517105"><a href="/debug/gosym/pclntab_test.go.html#8517053">t</a></span><span class="op" id="8517106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517109"><a href="/debug/gosym/pclntab_test.go.html#8517077">f</a></span><span class="op" id="8517110">.</span><span class="ident" id="8517111">Close</span><span class="op" id="8517116">(</span><span class="op" id="8517117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517120">return</span>&nbsp;<span class="ident" id="8517127"><a href="/debug/gosym/pclntab_test.go.html#8517080">tab</a></span><br>
<span class="lineno">75</span><span class="op" id="8517131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8517134">func</span>&nbsp;<span class="ident" id="8517139">crack</span><span class="op" id="8517144">(</span><span class="ident" id="8517145">file</span>&nbsp;<span class="builtintype" id="8517150">string</span><span class="op" id="8517156">,</span>&nbsp;<span class="ident" id="8517158">t</span>&nbsp;<span class="op" id="8517160">*</span><span class="ident" id="8517161"><a href="/debug/gosym/pclntab_test.go.html#8515693">testing</a></span><span class="op" id="8517168">.</span><span class="ident" id="8517169">T</span><span class="op" id="8517170">)</span>&nbsp;<span class="op" id="8517172">(</span><span class="op" id="8517173">*</span><span class="ident" id="8517174"><a href="/debug/gosym/pclntab_test.go.html#8515604">elf</a></span><span class="op" id="8517177">.</span><span class="ident" id="8517178">File</span><span class="op" id="8517182">,</span>&nbsp;<span class="op" id="8517184">*</span><span class="ident" id="8517185"><a href="/debug/gosym/symtab.go.html#6234832">Table</a></span><span class="op" id="8517190">)</span>&nbsp;<span class="op" id="8517192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8517195">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517209">f</span><span class="op" id="8517210">,</span>&nbsp;<span class="ident" id="8517212">err</span>&nbsp;<span class="op" id="8517216">:=</span>&nbsp;<span class="ident" id="8517219"><a href="/debug/gosym/pclntab_test.go.html#8515604">elf</a></span><span class="op" id="8517222">.</span><span class="ident" id="8517223">Open</span><span class="op" id="8517227">(</span><span class="ident" id="8517228"><a href="/debug/gosym/pclntab_test.go.html#8517145">file</a></span><span class="op" id="8517232">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517235">if</span>&nbsp;<span class="ident" id="8517238"><a href="/debug/gosym/pclntab_test.go.html#8517212">err</a></span>&nbsp;<span class="op" id="8517242">!=</span>&nbsp;<span class="ident" id="8517245">nil</span>&nbsp;<span class="op" id="8517249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517253"><a href="/debug/gosym/pclntab_test.go.html#8517158">t</a></span><span class="op" id="8517254">.</span><span class="ident" id="8517255">Fatal</span><span class="op" id="8517260">(</span><span class="ident" id="8517261"><a href="/debug/gosym/pclntab_test.go.html#8517212">err</a></span><span class="op" id="8517264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8517267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517270">return</span>&nbsp;<span class="ident" id="8517277"><a href="/debug/gosym/pclntab_test.go.html#8517303">parse</a></span><span class="op" id="8517282">(</span><span class="ident" id="8517283"><a href="/debug/gosym/pclntab_test.go.html#8517145">file</a></span><span class="op" id="8517287">,</span>&nbsp;<span class="ident" id="8517289"><a href="/debug/gosym/pclntab_test.go.html#8517209">f</a></span><span class="op" id="8517290">,</span>&nbsp;<span class="ident" id="8517292"><a href="/debug/gosym/pclntab_test.go.html#8517158">t</a></span><span class="op" id="8517293">)</span><br>
<span class="lineno"></span><span class="op" id="8517295">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="8517298">func</span>&nbsp;<span class="ident" id="8517303">parse</span><span class="op" id="8517308">(</span><span class="ident" id="8517309">file</span>&nbsp;<span class="builtintype" id="8517314">string</span><span class="op" id="8517320">,</span>&nbsp;<span class="ident" id="8517322">f</span>&nbsp;<span class="op" id="8517324">*</span><span class="ident" id="8517325"><a href="/debug/gosym/pclntab_test.go.html#8515604">elf</a></span><span class="op" id="8517328">.</span><span class="ident" id="8517329">File</span><span class="op" id="8517333">,</span>&nbsp;<span class="ident" id="8517335">t</span>&nbsp;<span class="op" id="8517337">*</span><span class="ident" id="8517338"><a href="/debug/gosym/pclntab_test.go.html#8515693">testing</a></span><span class="op" id="8517345">.</span><span class="ident" id="8517346">T</span><span class="op" id="8517347">)</span>&nbsp;<span class="op" id="8517349">(</span><span class="op" id="8517350">*</span><span class="ident" id="8517351"><a href="/debug/gosym/pclntab_test.go.html#8515604">elf</a></span><span class="op" id="8517354">.</span><span class="ident" id="8517355">File</span><span class="op" id="8517359">,</span>&nbsp;<span class="op" id="8517361">*</span><span class="ident" id="8517362"><a href="/debug/gosym/symtab.go.html#6234832">Table</a></span><span class="op" id="8517367">)</span>&nbsp;<span class="op" id="8517369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517372">symdat</span><span class="op" id="8517378">,</span>&nbsp;<span class="ident" id="8517380">err</span>&nbsp;<span class="op" id="8517384">:=</span>&nbsp;<span class="ident" id="8517387"><a href="/debug/gosym/pclntab_test.go.html#8517322">f</a></span><span class="op" id="8517388">.</span><span class="ident" id="8517389">Section</span><span class="op" id="8517396">(</span><span class="string" id="8517397">&#34;.gosymtab&#34;</span><span class="op" id="8517408">)</span><span class="op" id="8517409">.</span><span class="ident" id="8517410">Data</span><span class="op" id="8517414">(</span><span class="op" id="8517415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517418">if</span>&nbsp;<span class="ident" id="8517421"><a href="/debug/gosym/pclntab_test.go.html#8517380">err</a></span>&nbsp;<span class="op" id="8517425">!=</span>&nbsp;<span class="ident" id="8517428">nil</span>&nbsp;<span class="op" id="8517432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517436"><a href="/debug/gosym/pclntab_test.go.html#8517322">f</a></span><span class="op" id="8517437">.</span><span class="ident" id="8517438">Close</span><span class="op" id="8517443">(</span><span class="op" id="8517444">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517448"><a href="/debug/gosym/pclntab_test.go.html#8517335">t</a></span><span class="op" id="8517449">.</span><span class="ident" id="8517450">Fatalf</span><span class="op" id="8517456">(</span><span class="string" id="8517457">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="8517482">,</span>&nbsp;<span class="ident" id="8517484"><a href="/debug/gosym/pclntab_test.go.html#8517309">file</a></span><span class="op" id="8517488">,</span>&nbsp;<span class="ident" id="8517490"><a href="/debug/gosym/pclntab_test.go.html#8517380">err</a></span><span class="op" id="8517493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8517496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517499">pclndat</span><span class="op" id="8517506">,</span>&nbsp;<span class="ident" id="8517508"><a href="/debug/gosym/pclntab_test.go.html#8517380">err</a></span>&nbsp;<span class="op" id="8517512">:=</span>&nbsp;<span class="ident" id="8517515"><a href="/debug/gosym/pclntab_test.go.html#8517322">f</a></span><span class="op" id="8517516">.</span><span class="ident" id="8517517">Section</span><span class="op" id="8517524">(</span><span class="string" id="8517525">&#34;.gopclntab&#34;</span><span class="op" id="8517537">)</span><span class="op" id="8517538">.</span><span class="ident" id="8517539">Data</span><span class="op" id="8517543">(</span><span class="op" id="8517544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517547">if</span>&nbsp;<span class="ident" id="8517550"><a href="/debug/gosym/pclntab_test.go.html#8517380">err</a></span>&nbsp;<span class="op" id="8517554">!=</span>&nbsp;<span class="ident" id="8517557">nil</span>&nbsp;<span class="op" id="8517561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517565"><a href="/debug/gosym/pclntab_test.go.html#8517322">f</a></span><span class="op" id="8517566">.</span><span class="ident" id="8517567">Close</span><span class="op" id="8517572">(</span><span class="op" id="8517573">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517577"><a href="/debug/gosym/pclntab_test.go.html#8517335">t</a></span><span class="op" id="8517578">.</span><span class="ident" id="8517579">Fatalf</span><span class="op" id="8517585">(</span><span class="string" id="8517586">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="8517612">,</span>&nbsp;<span class="ident" id="8517614"><a href="/debug/gosym/pclntab_test.go.html#8517309">file</a></span><span class="op" id="8517618">,</span>&nbsp;<span class="ident" id="8517620"><a href="/debug/gosym/pclntab_test.go.html#8517380">err</a></span><span class="op" id="8517623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8517626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517630">pcln</span>&nbsp;<span class="op" id="8517635">:=</span>&nbsp;<span class="ident" id="8517638"><a href="/debug/gosym/pclntab.go.html#6223287">NewLineTable</a></span><span class="op" id="8517650">(</span><span class="ident" id="8517651"><a href="/debug/gosym/pclntab_test.go.html#8517499">pclndat</a></span><span class="op" id="8517658">,</span>&nbsp;<span class="ident" id="8517660"><a href="/debug/gosym/pclntab_test.go.html#8517322">f</a></span><span class="op" id="8517661">.</span><span class="ident" id="8517662">Section</span><span class="op" id="8517669">(</span><span class="string" id="8517670">&#34;.text&#34;</span><span class="op" id="8517677">)</span><span class="op" id="8517678">.</span><span class="ident" id="8517679">Addr</span><span class="op" id="8517683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517686">tab</span><span class="op" id="8517689">,</span>&nbsp;<span class="ident" id="8517691"><a href="/debug/gosym/pclntab_test.go.html#8517380">err</a></span>&nbsp;<span class="op" id="8517695">:=</span>&nbsp;<span class="ident" id="8517698"><a href="/debug/gosym/symtab.go.html#6238453">NewTable</a></span><span class="op" id="8517706">(</span><span class="ident" id="8517707"><a href="/debug/gosym/pclntab_test.go.html#8517372">symdat</a></span><span class="op" id="8517713">,</span>&nbsp;<span class="ident" id="8517715"><a href="/debug/gosym/pclntab_test.go.html#8517630">pcln</a></span><span class="op" id="8517719">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517722">if</span>&nbsp;<span class="ident" id="8517725"><a href="/debug/gosym/pclntab_test.go.html#8517380">err</a></span>&nbsp;<span class="op" id="8517729">!=</span>&nbsp;<span class="ident" id="8517732">nil</span>&nbsp;<span class="op" id="8517736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517740"><a href="/debug/gosym/pclntab_test.go.html#8517322">f</a></span><span class="op" id="8517741">.</span><span class="ident" id="8517742">Close</span><span class="op" id="8517747">(</span><span class="op" id="8517748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517752"><a href="/debug/gosym/pclntab_test.go.html#8517335">t</a></span><span class="op" id="8517753">.</span><span class="ident" id="8517754">Fatalf</span><span class="op" id="8517760">(</span><span class="string" id="8517761">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="8517786">,</span>&nbsp;<span class="ident" id="8517788"><a href="/debug/gosym/pclntab_test.go.html#8517309">file</a></span><span class="op" id="8517792">,</span>&nbsp;<span class="ident" id="8517794"><a href="/debug/gosym/pclntab_test.go.html#8517380">err</a></span><span class="op" id="8517797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8517800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517804">return</span>&nbsp;<span class="ident" id="8517811"><a href="/debug/gosym/pclntab_test.go.html#8517322">f</a></span><span class="op" id="8517812">,</span>&nbsp;<span class="ident" id="8517814"><a href="/debug/gosym/pclntab_test.go.html#8517686">tab</a></span><br>
<span class="lineno"></span><span class="op" id="8517818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8517821">var</span>&nbsp;<span class="ident" id="8517825">goarch</span>&nbsp;<span class="op" id="8517832">=</span>&nbsp;<span class="ident" id="8517834"><a href="/debug/gosym/pclntab_test.go.html#8515637">os</a></span><span class="op" id="8517836">.</span><span class="ident" id="8517837">Getenv</span><span class="op" id="8517843">(</span><span class="string" id="8517844">&#34;O&#34;</span><span class="op" id="8517847">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="8517850">func</span>&nbsp;<span class="ident" id="8517855">TestLineFromAline</span><span class="op" id="8517872">(</span><span class="ident" id="8517873">t</span>&nbsp;<span class="op" id="8517875">*</span><span class="ident" id="8517876"><a href="/debug/gosym/pclntab_test.go.html#8515693">testing</a></span><span class="op" id="8517883">.</span><span class="ident" id="8517884">T</span><span class="op" id="8517885">)</span>&nbsp;<span class="op" id="8517887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517890">if</span>&nbsp;<span class="op" id="8517893">!</span><span class="ident" id="8517894"><a href="/debug/gosym/pclntab_test.go.html#8515770">dotest</a></span><span class="op" id="8517900">(</span><span class="ident" id="8517901">true</span><span class="op" id="8517905">)</span>&nbsp;<span class="op" id="8517907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517911">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8517919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517922">defer</span>&nbsp;<span class="ident" id="8517928"><a href="/debug/gosym/pclntab_test.go.html#8516920">endtest</a></span><span class="op" id="8517935">(</span><span class="op" id="8517936">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8517940">tab</span>&nbsp;<span class="op" id="8517944">:=</span>&nbsp;<span class="ident" id="8517947"><a href="/debug/gosym/pclntab_test.go.html#8517044">getTable</a></span><span class="op" id="8517955">(</span><span class="ident" id="8517956"><a href="/debug/gosym/pclntab_test.go.html#8517873">t</a></span><span class="op" id="8517957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8517960">if</span>&nbsp;<span class="ident" id="8517963"><a href="/debug/gosym/pclntab_test.go.html#8517940">tab</a></span><span class="op" id="8517966">.</span><span class="ident" id="8517967">go12line</span>&nbsp;<span class="op" id="8517976">!=</span>&nbsp;<span class="ident" id="8517979">nil</span>&nbsp;<span class="op" id="8517983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8517987">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518033"><a href="/debug/gosym/pclntab_test.go.html#8517873">t</a></span><span class="op" id="8518034">.</span><span class="ident" id="8518035">Skip</span><span class="op" id="8518039">(</span><span class="string" id="8518040">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="8518077">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8518080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8518084">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518109">pkg</span>&nbsp;<span class="op" id="8518113">:=</span>&nbsp;<span class="ident" id="8518116"><a href="/debug/gosym/pclntab_test.go.html#8517940">tab</a></span><span class="op" id="8518119">.</span><span class="ident" id="8518120">LookupFunc</span><span class="op" id="8518130">(</span><span class="string" id="8518131">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="8518162">)</span><span class="op" id="8518163">.</span><span class="ident" id="8518164">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8518169">if</span>&nbsp;<span class="ident" id="8518172"><a href="/debug/gosym/pclntab_test.go.html#8518109">pkg</a></span>&nbsp;<span class="op" id="8518176">==</span>&nbsp;<span class="ident" id="8518179">nil</span>&nbsp;<span class="op" id="8518183">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518187"><a href="/debug/gosym/pclntab_test.go.html#8517873">t</a></span><span class="op" id="8518188">.</span><span class="ident" id="8518189">Fatalf</span><span class="op" id="8518195">(</span><span class="string" id="8518196">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="8518205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8518208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8518212">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8518270">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518300">lastline</span>&nbsp;<span class="op" id="8518309">:=</span>&nbsp;<span class="builtinfunc" id="8518312">make</span><span class="op" id="8518316">(</span><span class="keyword" id="8518317">map</span><span class="op" id="8518320">[</span><span class="builtintype" id="8518321">string</span><span class="op" id="8518327">]</span><span class="builtintype" id="8518328">int</span><span class="op" id="8518331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518334">final</span>&nbsp;<span class="op" id="8518340">:=</span>&nbsp;<span class="op" id="8518343">-</span><span class="num" id="8518344">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8518347">for</span>&nbsp;<span class="ident" id="8518351">i</span>&nbsp;<span class="op" id="8518353">:=</span>&nbsp;<span class="num" id="8518356">0</span><span class="op" id="8518357">;</span>&nbsp;<span class="ident" id="8518359"><a href="/debug/gosym/pclntab_test.go.html#8518351">i</a></span>&nbsp;<span class="op" id="8518361">&lt;</span>&nbsp;<span class="num" id="8518363">10000</span><span class="op" id="8518368">;</span>&nbsp;<span class="ident" id="8518370"><a href="/debug/gosym/pclntab_test.go.html#8518351">i</a></span><span class="op" id="8518371">++</span>&nbsp;<span class="op" id="8518374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518378">path</span><span class="op" id="8518382">,</span>&nbsp;<span class="ident" id="8518384">line</span>&nbsp;<span class="op" id="8518389">:=</span>&nbsp;<span class="ident" id="8518392"><a href="/debug/gosym/pclntab_test.go.html#8518109">pkg</a></span><span class="op" id="8518395">.</span><span class="ident" id="8518396">lineFromAline</span><span class="op" id="8518409">(</span><span class="ident" id="8518410"><a href="/debug/gosym/pclntab_test.go.html#8518351">i</a></span><span class="op" id="8518411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8518415">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8518444">if</span>&nbsp;<span class="ident" id="8518447"><a href="/debug/gosym/pclntab_test.go.html#8518378">path</a></span>&nbsp;<span class="op" id="8518452">==</span>&nbsp;<span class="string" id="8518455">&#34;&#34;</span>&nbsp;<span class="op" id="8518458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8518463">if</span>&nbsp;<span class="ident" id="8518466"><a href="/debug/gosym/pclntab_test.go.html#8518334">final</a></span>&nbsp;<span class="op" id="8518472">==</span>&nbsp;<span class="op" id="8518475">-</span><span class="num" id="8518476">1</span>&nbsp;<span class="op" id="8518478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518484"><a href="/debug/gosym/pclntab_test.go.html#8518334">final</a></span>&nbsp;<span class="op" id="8518490">=</span>&nbsp;<span class="ident" id="8518492"><a href="/debug/gosym/pclntab_test.go.html#8518351">i</a></span>&nbsp;<span class="op" id="8518494">-</span>&nbsp;<span class="num" id="8518496">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8518501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8518506">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8518517">}</span>&nbsp;<span class="keyword" id="8518519">else</span>&nbsp;<span class="keyword" id="8518524">if</span>&nbsp;<span class="ident" id="8518527"><a href="/debug/gosym/pclntab_test.go.html#8518334">final</a></span>&nbsp;<span class="op" id="8518533">!=</span>&nbsp;<span class="op" id="8518536">-</span><span class="num" id="8518537">1</span>&nbsp;<span class="op" id="8518539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518544"><a href="/debug/gosym/pclntab_test.go.html#8517873">t</a></span><span class="op" id="8518545">.</span><span class="ident" id="8518546">Fatalf</span><span class="op" id="8518552">(</span><span class="string" id="8518553">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="8518635">,</span>&nbsp;<span class="ident" id="8518637"><a href="/debug/gosym/pclntab_test.go.html#8518334">final</a></span><span class="op" id="8518642">,</span>&nbsp;<span class="ident" id="8518644"><a href="/debug/gosym/pclntab_test.go.html#8518351">i</a></span><span class="op" id="8518645">,</span>&nbsp;<span class="ident" id="8518647"><a href="/debug/gosym/pclntab_test.go.html#8518378">path</a></span><span class="op" id="8518651">,</span>&nbsp;<span class="ident" id="8518653"><a href="/debug/gosym/pclntab_test.go.html#8518384">line</a></span><span class="op" id="8518657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8518661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8518665">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8518722">if</span>&nbsp;<span class="ident" id="8518725"><a href="/debug/gosym/pclntab_test.go.html#8518384">line</a></span>&nbsp;<span class="op" id="8518730">==</span>&nbsp;<span class="num" id="8518733">1</span>&nbsp;<span class="op" id="8518735">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518740"><a href="/debug/gosym/pclntab_test.go.html#8518300">lastline</a></span><span class="op" id="8518748">[</span><span class="ident" id="8518749"><a href="/debug/gosym/pclntab_test.go.html#8518378">path</a></span><span class="op" id="8518753">]</span>&nbsp;<span class="op" id="8518755">=</span>&nbsp;<span class="num" id="8518757">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8518762">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8518773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8518777">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518822">ll</span><span class="op" id="8518824">,</span>&nbsp;<span class="ident" id="8518826">ok</span>&nbsp;<span class="op" id="8518829">:=</span>&nbsp;<span class="ident" id="8518832"><a href="/debug/gosym/pclntab_test.go.html#8518300">lastline</a></span><span class="op" id="8518840">[</span><span class="ident" id="8518841"><a href="/debug/gosym/pclntab_test.go.html#8518378">path</a></span><span class="op" id="8518845">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8518849">if</span>&nbsp;<span class="op" id="8518852">!</span><span class="ident" id="8518853"><a href="/debug/gosym/pclntab_test.go.html#8518826">ok</a></span>&nbsp;<span class="op" id="8518856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518861"><a href="/debug/gosym/pclntab_test.go.html#8517873">t</a></span><span class="op" id="8518862">.</span><span class="ident" id="8518863">Errorf</span><span class="op" id="8518869">(</span><span class="string" id="8518870">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="8518897">,</span>&nbsp;<span class="ident" id="8518899"><a href="/debug/gosym/pclntab_test.go.html#8518378">path</a></span><span class="op" id="8518903">,</span>&nbsp;<span class="ident" id="8518905"><a href="/debug/gosym/pclntab_test.go.html#8518384">line</a></span><span class="op" id="8518909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8518913">}</span>&nbsp;<span class="keyword" id="8518915">else</span>&nbsp;<span class="keyword" id="8518920">if</span>&nbsp;<span class="ident" id="8518923"><a href="/debug/gosym/pclntab_test.go.html#8518384">line</a></span>&nbsp;<span class="op" id="8518928">!=</span>&nbsp;<span class="ident" id="8518931"><a href="/debug/gosym/pclntab_test.go.html#8518822">ll</a></span><span class="op" id="8518933">+</span><span class="num" id="8518934">1</span>&nbsp;<span class="op" id="8518936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8518941"><a href="/debug/gosym/pclntab_test.go.html#8517873">t</a></span><span class="op" id="8518942">.</span><span class="ident" id="8518943">Fatalf</span><span class="op" id="8518949">(</span><span class="string" id="8518950">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8518998">,</span>&nbsp;<span class="ident" id="8519000"><a href="/debug/gosym/pclntab_test.go.html#8518378">path</a></span><span class="op" id="8519004">,</span>&nbsp;<span class="ident" id="8519006"><a href="/debug/gosym/pclntab_test.go.html#8518822">ll</a></span><span class="op" id="8519008">+</span><span class="num" id="8519009">1</span><span class="op" id="8519010">,</span>&nbsp;<span class="ident" id="8519012"><a href="/debug/gosym/pclntab_test.go.html#8518384">line</a></span><span class="op" id="8519016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8519020">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8519024"><a href="/debug/gosym/pclntab_test.go.html#8518300">lastline</a></span><span class="op" id="8519032">[</span><span class="ident" id="8519033"><a href="/debug/gosym/pclntab_test.go.html#8518378">path</a></span><span class="op" id="8519037">]</span>&nbsp;<span class="op" id="8519039">=</span>&nbsp;<span class="ident" id="8519041"><a href="/debug/gosym/pclntab_test.go.html#8518384">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8519047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519050">if</span>&nbsp;<span class="ident" id="8519053"><a href="/debug/gosym/pclntab_test.go.html#8518334">final</a></span>&nbsp;<span class="op" id="8519059">==</span>&nbsp;<span class="op" id="8519062">-</span><span class="num" id="8519063">1</span>&nbsp;<span class="op" id="8519065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8519069"><a href="/debug/gosym/pclntab_test.go.html#8517873">t</a></span><span class="op" id="8519070">.</span><span class="ident" id="8519071">Errorf</span><span class="op" id="8519077">(</span><span class="string" id="8519078">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="8519107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8519110">}</span><br>
<span class="lineno">160</span><span class="op" id="8519112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8519115">func</span>&nbsp;<span class="ident" id="8519120">TestLineAline</span><span class="op" id="8519133">(</span><span class="ident" id="8519134">t</span>&nbsp;<span class="op" id="8519136">*</span><span class="ident" id="8519137"><a href="/debug/gosym/pclntab_test.go.html#8515693">testing</a></span><span class="op" id="8519144">.</span><span class="ident" id="8519145">T</span><span class="op" id="8519146">)</span>&nbsp;<span class="op" id="8519148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519151">if</span>&nbsp;<span class="op" id="8519154">!</span><span class="ident" id="8519155"><a href="/debug/gosym/pclntab_test.go.html#8515770">dotest</a></span><span class="op" id="8519161">(</span><span class="ident" id="8519162">true</span><span class="op" id="8519166">)</span>&nbsp;<span class="op" id="8519168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519172">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8519180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519183">defer</span>&nbsp;<span class="ident" id="8519189"><a href="/debug/gosym/pclntab_test.go.html#8516920">endtest</a></span><span class="op" id="8519196">(</span><span class="op" id="8519197">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8519201">tab</span>&nbsp;<span class="op" id="8519205">:=</span>&nbsp;<span class="ident" id="8519208"><a href="/debug/gosym/pclntab_test.go.html#8517044">getTable</a></span><span class="op" id="8519216">(</span><span class="ident" id="8519217"><a href="/debug/gosym/pclntab_test.go.html#8519134">t</a></span><span class="op" id="8519218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519221">if</span>&nbsp;<span class="ident" id="8519224"><a href="/debug/gosym/pclntab_test.go.html#8519201">tab</a></span><span class="op" id="8519227">.</span><span class="ident" id="8519228">go12line</span>&nbsp;<span class="op" id="8519237">!=</span>&nbsp;<span class="ident" id="8519240">nil</span>&nbsp;<span class="op" id="8519244">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8519248">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8519294"><a href="/debug/gosym/pclntab_test.go.html#8519134">t</a></span><span class="op" id="8519295">.</span><span class="ident" id="8519296">Skip</span><span class="op" id="8519300">(</span><span class="string" id="8519301">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="8519338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8519341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519345">for</span>&nbsp;<span class="ident" id="8519349">_</span><span class="op" id="8519350">,</span>&nbsp;<span class="ident" id="8519352">o</span>&nbsp;<span class="op" id="8519354">:=</span>&nbsp;<span class="keyword" id="8519357">range</span>&nbsp;<span class="ident" id="8519363"><a href="/debug/gosym/pclntab_test.go.html#8519201">tab</a></span><span class="op" id="8519366">.</span><span class="ident" id="8519367">Files</span>&nbsp;<span class="op" id="8519373">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8519377">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8519427">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8519484">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8519538">found</span>&nbsp;<span class="op" id="8519544">:=</span>&nbsp;<span class="builtinfunc" id="8519547">make</span><span class="op" id="8519551">(</span><span class="keyword" id="8519552">map</span><span class="op" id="8519555">[</span><span class="builtintype" id="8519556">string</span><span class="op" id="8519562">]</span><span class="builtintype" id="8519563">int</span><span class="op" id="8519566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519570">for</span>&nbsp;<span class="ident" id="8519574">i</span>&nbsp;<span class="op" id="8519576">:=</span>&nbsp;<span class="num" id="8519579">0</span><span class="op" id="8519580">;</span>&nbsp;<span class="ident" id="8519582"><a href="/debug/gosym/pclntab_test.go.html#8519574">i</a></span>&nbsp;<span class="op" id="8519584">&lt;</span>&nbsp;<span class="num" id="8519586">1000</span><span class="op" id="8519590">;</span>&nbsp;<span class="ident" id="8519592"><a href="/debug/gosym/pclntab_test.go.html#8519574">i</a></span><span class="op" id="8519593">++</span>&nbsp;<span class="op" id="8519596">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8519601">path</span><span class="op" id="8519605">,</span>&nbsp;<span class="ident" id="8519607">line</span>&nbsp;<span class="op" id="8519612">:=</span>&nbsp;<span class="ident" id="8519615"><a href="/debug/gosym/pclntab_test.go.html#8519352">o</a></span><span class="op" id="8519616">.</span><span class="ident" id="8519617">lineFromAline</span><span class="op" id="8519630">(</span><span class="ident" id="8519631"><a href="/debug/gosym/pclntab_test.go.html#8519574">i</a></span><span class="op" id="8519632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519637">if</span>&nbsp;<span class="ident" id="8519640"><a href="/debug/gosym/pclntab_test.go.html#8519601">path</a></span>&nbsp;<span class="op" id="8519645">==</span>&nbsp;<span class="string" id="8519648">&#34;&#34;</span>&nbsp;<span class="op" id="8519651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519657">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8519666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8519672">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519735">if</span>&nbsp;<span class="builtinfunc" id="8519738">len</span><span class="op" id="8519741">(</span><span class="ident" id="8519742"><a href="/debug/gosym/pclntab_test.go.html#8519601">path</a></span><span class="op" id="8519746">)</span>&nbsp;<span class="op" id="8519748">&gt;</span>&nbsp;<span class="num" id="8519750">4</span>&nbsp;<span class="op" id="8519752">&amp;&amp;</span>&nbsp;<span class="ident" id="8519755"><a href="/debug/gosym/pclntab_test.go.html#8519601">path</a></span><span class="op" id="8519759">[</span><span class="builtinfunc" id="8519760">len</span><span class="op" id="8519763">(</span><span class="ident" id="8519764"><a href="/debug/gosym/pclntab_test.go.html#8519601">path</a></span><span class="op" id="8519768">)</span><span class="op" id="8519769">-</span><span class="num" id="8519770">4</span><span class="op" id="8519771">:</span><span class="op" id="8519772">]</span>&nbsp;<span class="op" id="8519774">==</span>&nbsp;<span class="string" id="8519777">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="8519784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519790">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8519802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519808">if</span>&nbsp;<span class="ident" id="8519811">minline</span><span class="op" id="8519818">,</span>&nbsp;<span class="ident" id="8519820">ok</span>&nbsp;<span class="op" id="8519823">:=</span>&nbsp;<span class="ident" id="8519826"><a href="/debug/gosym/pclntab_test.go.html#8519538">found</a></span><span class="op" id="8519831">[</span><span class="ident" id="8519832"><a href="/debug/gosym/pclntab_test.go.html#8519601">path</a></span><span class="op" id="8519836">]</span><span class="op" id="8519837">;</span>&nbsp;<span class="ident" id="8519839"><a href="/debug/gosym/pclntab_test.go.html#8519601">path</a></span>&nbsp;<span class="op" id="8519844">!=</span>&nbsp;<span class="string" id="8519847">&#34;&#34;</span>&nbsp;<span class="op" id="8519850">&amp;&amp;</span>&nbsp;<span class="ident" id="8519853"><a href="/debug/gosym/pclntab_test.go.html#8519820">ok</a></span>&nbsp;<span class="op" id="8519856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519862">if</span>&nbsp;<span class="ident" id="8519865"><a href="/debug/gosym/pclntab_test.go.html#8519811">minline</a></span>&nbsp;<span class="op" id="8519873">&gt;=</span>&nbsp;<span class="ident" id="8519876"><a href="/debug/gosym/pclntab_test.go.html#8519607">line</a></span>&nbsp;<span class="op" id="8519881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8519888">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8519928">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8519941">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8519946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8519951"><a href="/debug/gosym/pclntab_test.go.html#8519538">found</a></span><span class="op" id="8519956">[</span><span class="ident" id="8519957"><a href="/debug/gosym/pclntab_test.go.html#8519601">path</a></span><span class="op" id="8519961">]</span>&nbsp;<span class="op" id="8519963">=</span>&nbsp;<span class="ident" id="8519965"><a href="/debug/gosym/pclntab_test.go.html#8519607">line</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8519974">a</span><span class="op" id="8519975">,</span>&nbsp;<span class="ident" id="8519977">err</span>&nbsp;<span class="op" id="8519981">:=</span>&nbsp;<span class="ident" id="8519984"><a href="/debug/gosym/pclntab_test.go.html#8519352">o</a></span><span class="op" id="8519985">.</span><span class="ident" id="8519986">alineFromLine</span><span class="op" id="8519999">(</span><span class="ident" id="8520000"><a href="/debug/gosym/pclntab_test.go.html#8519601">path</a></span><span class="op" id="8520004">,</span>&nbsp;<span class="ident" id="8520006"><a href="/debug/gosym/pclntab_test.go.html#8519607">line</a></span><span class="op" id="8520010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8520015">if</span>&nbsp;<span class="ident" id="8520018"><a href="/debug/gosym/pclntab_test.go.html#8519977">err</a></span>&nbsp;<span class="op" id="8520022">!=</span>&nbsp;<span class="ident" id="8520025">nil</span>&nbsp;<span class="op" id="8520029">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520035"><a href="/debug/gosym/pclntab_test.go.html#8519134">t</a></span><span class="op" id="8520036">.</span><span class="ident" id="8520037">Errorf</span><span class="op" id="8520043">(</span><span class="string" id="8520044">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="8520127">,</span>&nbsp;<span class="ident" id="8520129"><a href="/debug/gosym/pclntab_test.go.html#8519574">i</a></span><span class="op" id="8520130">,</span>&nbsp;<span class="ident" id="8520132"><a href="/debug/gosym/pclntab_test.go.html#8519352">o</a></span><span class="op" id="8520133">.</span><span class="ident" id="8520134">Paths</span><span class="op" id="8520139">[</span><span class="num" id="8520140">0</span><span class="op" id="8520141">]</span><span class="op" id="8520142">.</span><span class="ident" id="8520143">Name</span><span class="op" id="8520147">,</span>&nbsp;<span class="ident" id="8520149"><a href="/debug/gosym/pclntab_test.go.html#8519601">path</a></span><span class="op" id="8520153">,</span>&nbsp;<span class="ident" id="8520155"><a href="/debug/gosym/pclntab_test.go.html#8519607">line</a></span><span class="op" id="8520159">,</span>&nbsp;<span class="ident" id="8520161"><a href="/debug/gosym/pclntab_test.go.html#8519977">err</a></span><span class="op" id="8520164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8520169">}</span>&nbsp;<span class="keyword" id="8520171">else</span>&nbsp;<span class="keyword" id="8520176">if</span>&nbsp;<span class="ident" id="8520179"><a href="/debug/gosym/pclntab_test.go.html#8519974">a</a></span>&nbsp;<span class="op" id="8520181">!=</span>&nbsp;<span class="ident" id="8520184"><a href="/debug/gosym/pclntab_test.go.html#8519574">i</a></span>&nbsp;<span class="op" id="8520186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520192"><a href="/debug/gosym/pclntab_test.go.html#8519134">t</a></span><span class="op" id="8520193">.</span><span class="ident" id="8520194">Errorf</span><span class="op" id="8520200">(</span><span class="string" id="8520201">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="8520285">,</span>&nbsp;<span class="ident" id="8520287"><a href="/debug/gosym/pclntab_test.go.html#8519574">i</a></span><span class="op" id="8520288">,</span>&nbsp;<span class="ident" id="8520290"><a href="/debug/gosym/pclntab_test.go.html#8519352">o</a></span><span class="op" id="8520291">.</span><span class="ident" id="8520292">Paths</span><span class="op" id="8520297">[</span><span class="num" id="8520298">0</span><span class="op" id="8520299">]</span><span class="op" id="8520300">.</span><span class="ident" id="8520301">Name</span><span class="op" id="8520305">,</span>&nbsp;<span class="ident" id="8520307"><a href="/debug/gosym/pclntab_test.go.html#8519601">path</a></span><span class="op" id="8520311">,</span>&nbsp;<span class="ident" id="8520313"><a href="/debug/gosym/pclntab_test.go.html#8519607">line</a></span><span class="op" id="8520317">,</span>&nbsp;<span class="ident" id="8520319"><a href="/debug/gosym/pclntab_test.go.html#8519974">a</a></span><span class="op" id="8520320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8520325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8520329">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8520332">}</span><br>
<span class="lineno"></span><span class="op" id="8520334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8520337">func</span>&nbsp;<span class="ident" id="8520342">TestPCLine</span><span class="op" id="8520352">(</span><span class="ident" id="8520353">t</span>&nbsp;<span class="op" id="8520355">*</span><span class="ident" id="8520356"><a href="/debug/gosym/pclntab_test.go.html#8515693">testing</a></span><span class="op" id="8520363">.</span><span class="ident" id="8520364">T</span><span class="op" id="8520365">)</span>&nbsp;<span class="op" id="8520367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8520370">if</span>&nbsp;<span class="op" id="8520373">!</span><span class="ident" id="8520374"><a href="/debug/gosym/pclntab_test.go.html#8515770">dotest</a></span><span class="op" id="8520380">(</span><span class="ident" id="8520381">false</span><span class="op" id="8520386">)</span>&nbsp;<span class="op" id="8520388">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8520392">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8520400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8520403">defer</span>&nbsp;<span class="ident" id="8520409"><a href="/debug/gosym/pclntab_test.go.html#8516920">endtest</a></span><span class="op" id="8520416">(</span><span class="op" id="8520417">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520421">f</span><span class="op" id="8520422">,</span>&nbsp;<span class="ident" id="8520424">tab</span>&nbsp;<span class="op" id="8520428">:=</span>&nbsp;<span class="ident" id="8520431"><a href="/debug/gosym/pclntab_test.go.html#8517139">crack</a></span><span class="op" id="8520436">(</span><span class="ident" id="8520437"><a href="/debug/gosym/pclntab_test.go.html#8515738">pclinetestBinary</a></span><span class="op" id="8520453">,</span>&nbsp;<span class="ident" id="8520455"><a href="/debug/gosym/pclntab_test.go.html#8520353">t</a></span><span class="op" id="8520456">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520459">text</span>&nbsp;<span class="op" id="8520464">:=</span>&nbsp;<span class="ident" id="8520467"><a href="/debug/gosym/pclntab_test.go.html#8520421">f</a></span><span class="op" id="8520468">.</span><span class="ident" id="8520469">Section</span><span class="op" id="8520476">(</span><span class="string" id="8520477">&#34;.text&#34;</span><span class="op" id="8520484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520487">textdat</span><span class="op" id="8520494">,</span>&nbsp;<span class="ident" id="8520496">err</span>&nbsp;<span class="op" id="8520500">:=</span>&nbsp;<span class="ident" id="8520503"><a href="/debug/gosym/pclntab_test.go.html#8520459">text</a></span><span class="op" id="8520507">.</span><span class="ident" id="8520508">Data</span><span class="op" id="8520512">(</span><span class="op" id="8520513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8520516">if</span>&nbsp;<span class="ident" id="8520519"><a href="/debug/gosym/pclntab_test.go.html#8520496">err</a></span>&nbsp;<span class="op" id="8520523">!=</span>&nbsp;<span class="ident" id="8520526">nil</span>&nbsp;<span class="op" id="8520530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520534"><a href="/debug/gosym/pclntab_test.go.html#8520353">t</a></span><span class="op" id="8520535">.</span><span class="ident" id="8520536">Fatalf</span><span class="op" id="8520542">(</span><span class="string" id="8520543">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="8520562">,</span>&nbsp;<span class="ident" id="8520564"><a href="/debug/gosym/pclntab_test.go.html#8520496">err</a></span><span class="op" id="8520567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8520570">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8520574">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520592">sym</span>&nbsp;<span class="op" id="8520596">:=</span>&nbsp;<span class="ident" id="8520599"><a href="/debug/gosym/pclntab_test.go.html#8520424">tab</a></span><span class="op" id="8520602">.</span><span class="ident" id="8520603">LookupFunc</span><span class="op" id="8520613">(</span><span class="string" id="8520614">&#34;linefrompc&#34;</span><span class="op" id="8520626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520629">wantLine</span>&nbsp;<span class="op" id="8520638">:=</span>&nbsp;<span class="num" id="8520641">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8520644">for</span>&nbsp;<span class="ident" id="8520648">pc</span>&nbsp;<span class="op" id="8520651">:=</span>&nbsp;<span class="ident" id="8520654"><a href="/debug/gosym/pclntab_test.go.html#8520592">sym</a></span><span class="op" id="8520657">.</span><span class="ident" id="8520658">Entry</span><span class="op" id="8520663">;</span>&nbsp;<span class="ident" id="8520665"><a href="/debug/gosym/pclntab_test.go.html#8520648">pc</a></span>&nbsp;<span class="op" id="8520668">&lt;</span>&nbsp;<span class="ident" id="8520670"><a href="/debug/gosym/pclntab_test.go.html#8520592">sym</a></span><span class="op" id="8520673">.</span><span class="ident" id="8520674">End</span><span class="op" id="8520677">;</span>&nbsp;<span class="ident" id="8520679"><a href="/debug/gosym/pclntab_test.go.html#8520648">pc</a></span><span class="op" id="8520681">++</span>&nbsp;<span class="op" id="8520684">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520688">off</span>&nbsp;<span class="op" id="8520692">:=</span>&nbsp;<span class="ident" id="8520695"><a href="/debug/gosym/pclntab_test.go.html#8520648">pc</a></span>&nbsp;<span class="op" id="8520698">-</span>&nbsp;<span class="ident" id="8520700"><a href="/debug/gosym/pclntab_test.go.html#8520459">text</a></span><span class="op" id="8520704">.</span><span class="ident" id="8520705">Addr</span>&nbsp;<span class="comment" id="8520710">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8520757">if</span>&nbsp;<span class="ident" id="8520760"><a href="/debug/gosym/pclntab_test.go.html#8520487">textdat</a></span><span class="op" id="8520767">[</span><span class="ident" id="8520768"><a href="/debug/gosym/pclntab_test.go.html#8520688">off</a></span><span class="op" id="8520771">]</span>&nbsp;<span class="op" id="8520773">==</span>&nbsp;<span class="num" id="8520776">255</span>&nbsp;<span class="op" id="8520780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8520785">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8520793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520797"><a href="/debug/gosym/pclntab_test.go.html#8520629">wantLine</a></span>&nbsp;<span class="op" id="8520806">+=</span>&nbsp;<span class="builtintype" id="8520809">int</span><span class="op" id="8520812">(</span><span class="ident" id="8520813"><a href="/debug/gosym/pclntab_test.go.html#8520487">textdat</a></span><span class="op" id="8520820">[</span><span class="ident" id="8520821"><a href="/debug/gosym/pclntab_test.go.html#8520688">off</a></span><span class="op" id="8520824">]</span><span class="op" id="8520825">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520829"><a href="/debug/gosym/pclntab_test.go.html#8520353">t</a></span><span class="op" id="8520830">.</span><span class="ident" id="8520831">Logf</span><span class="op" id="8520835">(</span><span class="string" id="8520836">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="8520860">,</span>&nbsp;<span class="ident" id="8520862"><a href="/debug/gosym/pclntab_test.go.html#8520688">off</a></span><span class="op" id="8520865">,</span>&nbsp;<span class="ident" id="8520867"><a href="/debug/gosym/pclntab_test.go.html#8520487">textdat</a></span><span class="op" id="8520874">[</span><span class="ident" id="8520875"><a href="/debug/gosym/pclntab_test.go.html#8520688">off</a></span><span class="op" id="8520878">]</span><span class="op" id="8520879">,</span>&nbsp;<span class="ident" id="8520881"><a href="/debug/gosym/pclntab_test.go.html#8520592">sym</a></span><span class="op" id="8520884">.</span><span class="ident" id="8520885">End</span><span class="op" id="8520888">-</span><span class="ident" id="8520889"><a href="/debug/gosym/pclntab_test.go.html#8520648">pc</a></span><span class="op" id="8520891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520895">file</span><span class="op" id="8520899">,</span>&nbsp;<span class="ident" id="8520901">line</span><span class="op" id="8520905">,</span>&nbsp;<span class="ident" id="8520907">fn</span>&nbsp;<span class="op" id="8520910">:=</span>&nbsp;<span class="ident" id="8520913"><a href="/debug/gosym/pclntab_test.go.html#8520424">tab</a></span><span class="op" id="8520916">.</span><span class="ident" id="8520917">PCToLine</span><span class="op" id="8520925">(</span><span class="ident" id="8520926"><a href="/debug/gosym/pclntab_test.go.html#8520648">pc</a></span><span class="op" id="8520928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8520932">if</span>&nbsp;<span class="ident" id="8520935"><a href="/debug/gosym/pclntab_test.go.html#8520907">fn</a></span>&nbsp;<span class="op" id="8520938">==</span>&nbsp;<span class="ident" id="8520941">nil</span>&nbsp;<span class="op" id="8520945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8520950"><a href="/debug/gosym/pclntab_test.go.html#8520353">t</a></span><span class="op" id="8520951">.</span><span class="ident" id="8520952">Errorf</span><span class="op" id="8520958">(</span><span class="string" id="8520959">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="8520989">,</span>&nbsp;<span class="ident" id="8520991"><a href="/debug/gosym/pclntab_test.go.html#8520648">pc</a></span><span class="op" id="8520993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8520997">}</span>&nbsp;<span class="keyword" id="8520999">else</span>&nbsp;<span class="keyword" id="8521004">if</span>&nbsp;<span class="op" id="8521007">!</span><span class="ident" id="8521008"><a href="/debug/gosym/pclntab_test.go.html#8515682">strings</a></span><span class="op" id="8521015">.</span><span class="ident" id="8521016">HasSuffix</span><span class="op" id="8521025">(</span><span class="ident" id="8521026"><a href="/debug/gosym/pclntab_test.go.html#8520895">file</a></span><span class="op" id="8521030">,</span>&nbsp;<span class="string" id="8521032">&#34;pclinetest.asm&#34;</span><span class="op" id="8521048">)</span>&nbsp;<span class="op" id="8521050">||</span>&nbsp;<span class="ident" id="8521053"><a href="/debug/gosym/pclntab_test.go.html#8520901">line</a></span>&nbsp;<span class="op" id="8521058">!=</span>&nbsp;<span class="ident" id="8521061"><a href="/debug/gosym/pclntab_test.go.html#8520629">wantLine</a></span>&nbsp;<span class="op" id="8521070">||</span>&nbsp;<span class="ident" id="8521073"><a href="/debug/gosym/pclntab_test.go.html#8520907">fn</a></span>&nbsp;<span class="op" id="8521076">!=</span>&nbsp;<span class="ident" id="8521079"><a href="/debug/gosym/pclntab_test.go.html#8520592">sym</a></span>&nbsp;<span class="op" id="8521083">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521088"><a href="/debug/gosym/pclntab_test.go.html#8520353">t</a></span><span class="op" id="8521089">.</span><span class="ident" id="8521090">Errorf</span><span class="op" id="8521096">(</span><span class="string" id="8521097">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="8521142">,</span>&nbsp;<span class="ident" id="8521144"><a href="/debug/gosym/pclntab_test.go.html#8520648">pc</a></span><span class="op" id="8521146">,</span>&nbsp;<span class="ident" id="8521148"><a href="/debug/gosym/pclntab_test.go.html#8520895">file</a></span><span class="op" id="8521152">,</span>&nbsp;<span class="ident" id="8521154"><a href="/debug/gosym/pclntab_test.go.html#8520901">line</a></span><span class="op" id="8521158">,</span>&nbsp;<span class="ident" id="8521160"><a href="/debug/gosym/pclntab_test.go.html#8520907">fn</a></span><span class="op" id="8521162">.</span><span class="ident" id="8521163">Name</span><span class="op" id="8521167">,</span>&nbsp;<span class="string" id="8521169">&#34;pclinetest.asm&#34;</span><span class="op" id="8521185">,</span>&nbsp;<span class="ident" id="8521187"><a href="/debug/gosym/pclntab_test.go.html#8520629">wantLine</a></span><span class="op" id="8521195">,</span>&nbsp;<span class="ident" id="8521197"><a href="/debug/gosym/pclntab_test.go.html#8520592">sym</a></span><span class="op" id="8521200">.</span><span class="ident" id="8521201">Name</span><span class="op" id="8521205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8521209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8521212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8521216">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521234"><a href="/debug/gosym/pclntab_test.go.html#8520592">sym</a></span>&nbsp;<span class="op" id="8521238">=</span>&nbsp;<span class="ident" id="8521240"><a href="/debug/gosym/pclntab_test.go.html#8520424">tab</a></span><span class="op" id="8521243">.</span><span class="ident" id="8521244">LookupFunc</span><span class="op" id="8521254">(</span><span class="string" id="8521255">&#34;pcfromline&#34;</span><span class="op" id="8521267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521270">lookupline</span>&nbsp;<span class="op" id="8521281">:=</span>&nbsp;<span class="op" id="8521284">-</span><span class="num" id="8521285">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521288"><a href="/debug/gosym/pclntab_test.go.html#8520629">wantLine</a></span>&nbsp;<span class="op" id="8521297">=</span>&nbsp;<span class="num" id="8521299">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521302">off</span>&nbsp;<span class="op" id="8521306">:=</span>&nbsp;<span class="ident" id="8521309">uint64</span><span class="op" id="8521315">(</span><span class="num" id="8521316">0</span><span class="op" id="8521317">)</span>&nbsp;<span class="comment" id="8521319">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8521365">for</span>&nbsp;<span class="ident" id="8521369">pc</span>&nbsp;<span class="op" id="8521372">:=</span>&nbsp;<span class="ident" id="8521375"><a href="/debug/gosym/pclntab_test.go.html#8520592">sym</a></span><span class="op" id="8521378">.</span><span class="ident" id="8521379">Value</span><span class="op" id="8521384">;</span>&nbsp;<span class="ident" id="8521386"><a href="/debug/gosym/pclntab_test.go.html#8521369">pc</a></span>&nbsp;<span class="op" id="8521389">&lt;</span>&nbsp;<span class="ident" id="8521391"><a href="/debug/gosym/pclntab_test.go.html#8520592">sym</a></span><span class="op" id="8521394">.</span><span class="ident" id="8521395">End</span><span class="op" id="8521398">;</span>&nbsp;<span class="ident" id="8521400"><a href="/debug/gosym/pclntab_test.go.html#8521369">pc</a></span>&nbsp;<span class="op" id="8521403">+=</span>&nbsp;<span class="num" id="8521406">2</span>&nbsp;<span class="op" id="8521408">+</span>&nbsp;<span class="ident" id="8521410">uint64</span><span class="op" id="8521416">(</span><span class="ident" id="8521417"><a href="/debug/gosym/pclntab_test.go.html#8520487">textdat</a></span><span class="op" id="8521424">[</span><span class="ident" id="8521425"><a href="/debug/gosym/pclntab_test.go.html#8521302">off</a></span><span class="op" id="8521428">]</span><span class="op" id="8521429">)</span>&nbsp;<span class="op" id="8521431">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521435">file</span><span class="op" id="8521439">,</span>&nbsp;<span class="ident" id="8521441">line</span><span class="op" id="8521445">,</span>&nbsp;<span class="ident" id="8521447">fn</span>&nbsp;<span class="op" id="8521450">:=</span>&nbsp;<span class="ident" id="8521453"><a href="/debug/gosym/pclntab_test.go.html#8520424">tab</a></span><span class="op" id="8521456">.</span><span class="ident" id="8521457">PCToLine</span><span class="op" id="8521465">(</span><span class="ident" id="8521466"><a href="/debug/gosym/pclntab_test.go.html#8521369">pc</a></span><span class="op" id="8521468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521472"><a href="/debug/gosym/pclntab_test.go.html#8521302">off</a></span>&nbsp;<span class="op" id="8521476">=</span>&nbsp;<span class="ident" id="8521478"><a href="/debug/gosym/pclntab_test.go.html#8521369">pc</a></span>&nbsp;<span class="op" id="8521481">-</span>&nbsp;<span class="ident" id="8521483"><a href="/debug/gosym/pclntab_test.go.html#8520459">text</a></span><span class="op" id="8521487">.</span><span class="ident" id="8521488">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8521495">if</span>&nbsp;<span class="ident" id="8521498"><a href="/debug/gosym/pclntab_test.go.html#8520487">textdat</a></span><span class="op" id="8521505">[</span><span class="ident" id="8521506"><a href="/debug/gosym/pclntab_test.go.html#8521302">off</a></span><span class="op" id="8521509">]</span>&nbsp;<span class="op" id="8521511">==</span>&nbsp;<span class="num" id="8521514">255</span>&nbsp;<span class="op" id="8521518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8521523">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8521531">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521535"><a href="/debug/gosym/pclntab_test.go.html#8520629">wantLine</a></span>&nbsp;<span class="op" id="8521544">+=</span>&nbsp;<span class="builtintype" id="8521547">int</span><span class="op" id="8521550">(</span><span class="ident" id="8521551"><a href="/debug/gosym/pclntab_test.go.html#8520487">textdat</a></span><span class="op" id="8521558">[</span><span class="ident" id="8521559"><a href="/debug/gosym/pclntab_test.go.html#8521302">off</a></span><span class="op" id="8521562">]</span><span class="op" id="8521563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8521567">if</span>&nbsp;<span class="ident" id="8521570"><a href="/debug/gosym/pclntab_test.go.html#8521441">line</a></span>&nbsp;<span class="op" id="8521575">!=</span>&nbsp;<span class="ident" id="8521578"><a href="/debug/gosym/pclntab_test.go.html#8520629">wantLine</a></span>&nbsp;<span class="op" id="8521587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521592"><a href="/debug/gosym/pclntab_test.go.html#8520353">t</a></span><span class="op" id="8521593">.</span><span class="ident" id="8521594">Errorf</span><span class="op" id="8521600">(</span><span class="string" id="8521601">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8521651">,</span>&nbsp;<span class="ident" id="8521653"><a href="/debug/gosym/pclntab_test.go.html#8520629">wantLine</a></span><span class="op" id="8521661">,</span>&nbsp;<span class="ident" id="8521663"><a href="/debug/gosym/pclntab_test.go.html#8521369">pc</a></span><span class="op" id="8521665">,</span>&nbsp;<span class="ident" id="8521667"><a href="/debug/gosym/pclntab_test.go.html#8521441">line</a></span><span class="op" id="8521671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521676"><a href="/debug/gosym/pclntab_test.go.html#8521302">off</a></span>&nbsp;<span class="op" id="8521680">=</span>&nbsp;<span class="ident" id="8521682"><a href="/debug/gosym/pclntab_test.go.html#8521369">pc</a></span>&nbsp;<span class="op" id="8521685">+</span>&nbsp;<span class="num" id="8521687">1</span>&nbsp;<span class="op" id="8521689">-</span>&nbsp;<span class="ident" id="8521691"><a href="/debug/gosym/pclntab_test.go.html#8520459">text</a></span><span class="op" id="8521695">.</span><span class="ident" id="8521696">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8521704">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8521715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8521719">if</span>&nbsp;<span class="ident" id="8521722"><a href="/debug/gosym/pclntab_test.go.html#8521270">lookupline</a></span>&nbsp;<span class="op" id="8521733">==</span>&nbsp;<span class="op" id="8521736">-</span><span class="num" id="8521737">1</span>&nbsp;<span class="op" id="8521739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521744"><a href="/debug/gosym/pclntab_test.go.html#8521270">lookupline</a></span>&nbsp;<span class="op" id="8521755">=</span>&nbsp;<span class="ident" id="8521757"><a href="/debug/gosym/pclntab_test.go.html#8521441">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8521764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8521768">for</span>&nbsp;<span class="op" id="8521772">;</span>&nbsp;<span class="ident" id="8521774"><a href="/debug/gosym/pclntab_test.go.html#8521270">lookupline</a></span>&nbsp;<span class="op" id="8521785">&lt;=</span>&nbsp;<span class="ident" id="8521788"><a href="/debug/gosym/pclntab_test.go.html#8521441">line</a></span><span class="op" id="8521792">;</span>&nbsp;<span class="ident" id="8521794"><a href="/debug/gosym/pclntab_test.go.html#8521270">lookupline</a></span><span class="op" id="8521804">++</span>&nbsp;<span class="op" id="8521807">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521812">pc2</span><span class="op" id="8521815">,</span>&nbsp;<span class="ident" id="8521817">fn2</span><span class="op" id="8521820">,</span>&nbsp;<span class="ident" id="8521822">err</span>&nbsp;<span class="op" id="8521826">:=</span>&nbsp;<span class="ident" id="8521829"><a href="/debug/gosym/pclntab_test.go.html#8520424">tab</a></span><span class="op" id="8521832">.</span><span class="ident" id="8521833">LineToPC</span><span class="op" id="8521841">(</span><span class="ident" id="8521842"><a href="/debug/gosym/pclntab_test.go.html#8521435">file</a></span><span class="op" id="8521846">,</span>&nbsp;<span class="ident" id="8521848"><a href="/debug/gosym/pclntab_test.go.html#8521270">lookupline</a></span><span class="op" id="8521858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8521863">if</span>&nbsp;<span class="ident" id="8521866"><a href="/debug/gosym/pclntab_test.go.html#8521270">lookupline</a></span>&nbsp;<span class="op" id="8521877">!=</span>&nbsp;<span class="ident" id="8521880"><a href="/debug/gosym/pclntab_test.go.html#8521441">line</a></span>&nbsp;<span class="op" id="8521885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8521891">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8521929">if</span>&nbsp;<span class="ident" id="8521932"><a href="/debug/gosym/pclntab_test.go.html#8521822">err</a></span>&nbsp;<span class="op" id="8521936">==</span>&nbsp;<span class="ident" id="8521939">nil</span>&nbsp;<span class="op" id="8521943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8521950"><a href="/debug/gosym/pclntab_test.go.html#8520353">t</a></span><span class="op" id="8521951">.</span><span class="ident" id="8521952">Errorf</span><span class="op" id="8521958">(</span><span class="string" id="8521959">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="8522000">,</span>&nbsp;<span class="ident" id="8522002"><a href="/debug/gosym/pclntab_test.go.html#8521270">lookupline</a></span><span class="op" id="8522012">,</span>&nbsp;<span class="ident" id="8522014"><a href="/debug/gosym/pclntab_test.go.html#8521812">pc2</a></span><span class="op" id="8522017">,</span>&nbsp;<span class="ident" id="8522019"><a href="/debug/gosym/pclntab_test.go.html#8521817">fn2</a></span><span class="op" id="8522022">.</span><span class="ident" id="8522023">Name</span><span class="op" id="8522027">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8522033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8522038">}</span>&nbsp;<span class="keyword" id="8522040">else</span>&nbsp;<span class="keyword" id="8522045">if</span>&nbsp;<span class="ident" id="8522048"><a href="/debug/gosym/pclntab_test.go.html#8521822">err</a></span>&nbsp;<span class="op" id="8522052">!=</span>&nbsp;<span class="ident" id="8522055">nil</span>&nbsp;<span class="op" id="8522059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8522065"><a href="/debug/gosym/pclntab_test.go.html#8520353">t</a></span><span class="op" id="8522066">.</span><span class="ident" id="8522067">Errorf</span><span class="op" id="8522073">(</span><span class="string" id="8522074">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8522107">,</span>&nbsp;<span class="ident" id="8522109"><a href="/debug/gosym/pclntab_test.go.html#8521270">lookupline</a></span><span class="op" id="8522119">,</span>&nbsp;<span class="ident" id="8522121"><a href="/debug/gosym/pclntab_test.go.html#8521822">err</a></span><span class="op" id="8522124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8522129">}</span>&nbsp;<span class="keyword" id="8522131">else</span>&nbsp;<span class="keyword" id="8522136">if</span>&nbsp;<span class="ident" id="8522139"><a href="/debug/gosym/pclntab_test.go.html#8521369">pc</a></span>&nbsp;<span class="op" id="8522142">!=</span>&nbsp;<span class="ident" id="8522145"><a href="/debug/gosym/pclntab_test.go.html#8521812">pc2</a></span>&nbsp;<span class="op" id="8522149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8522155"><a href="/debug/gosym/pclntab_test.go.html#8520353">t</a></span><span class="op" id="8522156">.</span><span class="ident" id="8522157">Errorf</span><span class="op" id="8522163">(</span><span class="string" id="8522164">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="8522214">,</span>&nbsp;<span class="ident" id="8522216"><a href="/debug/gosym/pclntab_test.go.html#8521369">pc</a></span><span class="op" id="8522218">,</span>&nbsp;<span class="ident" id="8522220"><a href="/debug/gosym/pclntab_test.go.html#8521447">fn</a></span><span class="op" id="8522222">.</span><span class="ident" id="8522223">Name</span><span class="op" id="8522227">,</span>&nbsp;<span class="ident" id="8522229"><a href="/debug/gosym/pclntab_test.go.html#8521441">line</a></span><span class="op" id="8522233">,</span>&nbsp;<span class="ident" id="8522235"><a href="/debug/gosym/pclntab_test.go.html#8521812">pc2</a></span><span class="op" id="8522238">,</span>&nbsp;<span class="ident" id="8522240"><a href="/debug/gosym/pclntab_test.go.html#8521817">fn2</a></span><span class="op" id="8522243">.</span><span class="ident" id="8522244">Name</span><span class="op" id="8522248">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8522253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8522257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8522261"><a href="/debug/gosym/pclntab_test.go.html#8521302">off</a></span>&nbsp;<span class="op" id="8522265">=</span>&nbsp;<span class="ident" id="8522267"><a href="/debug/gosym/pclntab_test.go.html#8521369">pc</a></span>&nbsp;<span class="op" id="8522270">+</span>&nbsp;<span class="num" id="8522272">1</span>&nbsp;<span class="op" id="8522274">-</span>&nbsp;<span class="ident" id="8522276"><a href="/debug/gosym/pclntab_test.go.html#8520459">text</a></span><span class="op" id="8522280">.</span><span class="ident" id="8522281">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8522287">}</span><br>
<span class="lineno"></span><span class="op" id="8522289">}</span>
</div>
</body>
</html>
