<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6749826">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6749881">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6749935">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6749986">package</span>&nbsp;<span class="ident" id="6749994">expvar</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6750002">import</span>&nbsp;<span class="op" id="6750009">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750012">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750021">&#34;encoding/json&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750038">&#34;net/http/httptest&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750059">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750070">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6750080">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6750083">//&nbsp;RemoveAll&nbsp;removes&nbsp;all&nbsp;exported&nbsp;variables.</span><br>
<span class="lineno"></span><span class="comment" id="6750128">//&nbsp;This&nbsp;is&nbsp;for&nbsp;tests&nbsp;only.</span><br>
<span class="lineno"></span><span class="keyword" id="6750155">func</span>&nbsp;<span class="ident" id="6750160">RemoveAll</span><span class="op" id="6750169">(</span><span class="op" id="6750170">)</span>&nbsp;<span class="op" id="6750172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750175">mutex</span><span class="op" id="6750180">.</span><span class="ident" id="6750181">Lock</span><span class="op" id="6750185">(</span><span class="op" id="6750186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750189">defer</span>&nbsp;<span class="ident" id="6750195">mutex</span><span class="op" id="6750200">.</span><span class="ident" id="6750201">Unlock</span><span class="op" id="6750207">(</span><span class="op" id="6750208">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750211">vars</span>&nbsp;<span class="op" id="6750216">=</span>&nbsp;<span class="builtinfunc" id="6750218">make</span><span class="op" id="6750222">(</span><span class="keyword" id="6750223">map</span><span class="op" id="6750226">[</span><span class="builtintype" id="6750227">string</span><span class="op" id="6750233">]</span><span class="ident" id="6750234">Var</span><span class="op" id="6750237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750240">varKeys</span>&nbsp;<span class="op" id="6750248">=</span>&nbsp;<span class="ident" id="6750250">nil</span><br>
<span class="lineno"></span><span class="op" id="6750254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6750257">func</span>&nbsp;<span class="ident" id="6750262">TestInt</span><span class="op" id="6750269">(</span><span class="ident" id="6750270">t</span>&nbsp;<span class="op" id="6750272">*</span><span class="ident" id="6750273">testing</span><span class="op" id="6750280">.</span><span class="ident" id="6750281">T</span><span class="op" id="6750282">)</span>&nbsp;<span class="op" id="6750284">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750287">RemoveAll</span><span class="op" id="6750296">(</span><span class="op" id="6750297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750300">reqs</span>&nbsp;<span class="op" id="6750305">:=</span>&nbsp;<span class="ident" id="6750308">NewInt</span><span class="op" id="6750314">(</span><span class="string" id="6750315">&#34;requests&#34;</span><span class="op" id="6750325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750328">if</span>&nbsp;<span class="ident" id="6750331">reqs</span><span class="op" id="6750335">.</span><span class="ident" id="6750336">i</span>&nbsp;<span class="op" id="6750338">!=</span>&nbsp;<span class="num" id="6750341">0</span>&nbsp;<span class="op" id="6750343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750347">t</span><span class="op" id="6750348">.</span><span class="ident" id="6750349">Errorf</span><span class="op" id="6750355">(</span><span class="string" id="6750356">&#34;reqs.i&nbsp;=&nbsp;%v,&nbsp;want&nbsp;0&#34;</span><span class="op" id="6750377">,</span>&nbsp;<span class="ident" id="6750379">reqs</span><span class="op" id="6750383">.</span><span class="ident" id="6750384">i</span><span class="op" id="6750385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750388">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750391">if</span>&nbsp;<span class="ident" id="6750394">reqs</span>&nbsp;<span class="op" id="6750399">!=</span>&nbsp;<span class="ident" id="6750402">Get</span><span class="op" id="6750405">(</span><span class="string" id="6750406">&#34;requests&#34;</span><span class="op" id="6750416">)</span><span class="op" id="6750417">.</span><span class="op" id="6750418">(</span><span class="op" id="6750419">*</span><span class="ident" id="6750420">Int</span><span class="op" id="6750423">)</span>&nbsp;<span class="op" id="6750425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750429">t</span><span class="op" id="6750430">.</span><span class="ident" id="6750431">Errorf</span><span class="op" id="6750437">(</span><span class="string" id="6750438">&#34;Get()&nbsp;failed.&#34;</span><span class="op" id="6750453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750460">reqs</span><span class="op" id="6750464">.</span><span class="ident" id="6750465">Add</span><span class="op" id="6750468">(</span><span class="num" id="6750469">1</span><span class="op" id="6750470">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750473">reqs</span><span class="op" id="6750477">.</span><span class="ident" id="6750478">Add</span><span class="op" id="6750481">(</span><span class="num" id="6750482">3</span><span class="op" id="6750483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750486">if</span>&nbsp;<span class="ident" id="6750489">reqs</span><span class="op" id="6750493">.</span><span class="ident" id="6750494">i</span>&nbsp;<span class="op" id="6750496">!=</span>&nbsp;<span class="num" id="6750499">4</span>&nbsp;<span class="op" id="6750501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750505">t</span><span class="op" id="6750506">.</span><span class="ident" id="6750507">Errorf</span><span class="op" id="6750513">(</span><span class="string" id="6750514">&#34;reqs.i&nbsp;=&nbsp;%v,&nbsp;want&nbsp;4&#34;</span><span class="op" id="6750535">,</span>&nbsp;<span class="ident" id="6750537">reqs</span><span class="op" id="6750541">.</span><span class="ident" id="6750542">i</span><span class="op" id="6750543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750550">if</span>&nbsp;<span class="ident" id="6750553">s</span>&nbsp;<span class="op" id="6750555">:=</span>&nbsp;<span class="ident" id="6750558">reqs</span><span class="op" id="6750562">.</span><span class="ident" id="6750563">String</span><span class="op" id="6750569">(</span><span class="op" id="6750570">)</span><span class="op" id="6750571">;</span>&nbsp;<span class="ident" id="6750573">s</span>&nbsp;<span class="op" id="6750575">!=</span>&nbsp;<span class="string" id="6750578">&#34;4&#34;</span>&nbsp;<span class="op" id="6750582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750586">t</span><span class="op" id="6750587">.</span><span class="ident" id="6750588">Errorf</span><span class="op" id="6750594">(</span><span class="string" id="6750595">&#34;reqs.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;\&#34;4\&#34;&#34;</span><span class="op" id="6750627">,</span>&nbsp;<span class="ident" id="6750629">s</span><span class="op" id="6750630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750637">reqs</span><span class="op" id="6750641">.</span><span class="ident" id="6750642">Set</span><span class="op" id="6750645">(</span><span class="op" id="6750646">-</span><span class="num" id="6750647">2</span><span class="op" id="6750648">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750651">if</span>&nbsp;<span class="ident" id="6750654">reqs</span><span class="op" id="6750658">.</span><span class="ident" id="6750659">i</span>&nbsp;<span class="op" id="6750661">!=</span>&nbsp;<span class="op" id="6750664">-</span><span class="num" id="6750665">2</span>&nbsp;<span class="op" id="6750667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750671">t</span><span class="op" id="6750672">.</span><span class="ident" id="6750673">Errorf</span><span class="op" id="6750679">(</span><span class="string" id="6750680">&#34;reqs.i&nbsp;=&nbsp;%v,&nbsp;want&nbsp;-2&#34;</span><span class="op" id="6750702">,</span>&nbsp;<span class="ident" id="6750704">reqs</span><span class="op" id="6750708">.</span><span class="ident" id="6750709">i</span><span class="op" id="6750710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750713">}</span><br>
<span class="lineno"></span><span class="op" id="6750715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="6750718">func</span>&nbsp;<span class="ident" id="6750723">TestFloat</span><span class="op" id="6750732">(</span><span class="ident" id="6750733">t</span>&nbsp;<span class="op" id="6750735">*</span><span class="ident" id="6750736">testing</span><span class="op" id="6750743">.</span><span class="ident" id="6750744">T</span><span class="op" id="6750745">)</span>&nbsp;<span class="op" id="6750747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750750">RemoveAll</span><span class="op" id="6750759">(</span><span class="op" id="6750760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750763">reqs</span>&nbsp;<span class="op" id="6750768">:=</span>&nbsp;<span class="ident" id="6750771">NewFloat</span><span class="op" id="6750779">(</span><span class="string" id="6750780">&#34;requests-float&#34;</span><span class="op" id="6750796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750799">if</span>&nbsp;<span class="ident" id="6750802">reqs</span><span class="op" id="6750806">.</span><span class="ident" id="6750807">f</span>&nbsp;<span class="op" id="6750809">!=</span>&nbsp;<span class="num" id="6750812">0.0</span>&nbsp;<span class="op" id="6750816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750820">t</span><span class="op" id="6750821">.</span><span class="ident" id="6750822">Errorf</span><span class="op" id="6750828">(</span><span class="string" id="6750829">&#34;reqs.f&nbsp;=&nbsp;%v,&nbsp;want&nbsp;0&#34;</span><span class="op" id="6750850">,</span>&nbsp;<span class="ident" id="6750852">reqs</span><span class="op" id="6750856">.</span><span class="ident" id="6750857">f</span><span class="op" id="6750858">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750864">if</span>&nbsp;<span class="ident" id="6750867">reqs</span>&nbsp;<span class="op" id="6750872">!=</span>&nbsp;<span class="ident" id="6750875">Get</span><span class="op" id="6750878">(</span><span class="string" id="6750879">&#34;requests-float&#34;</span><span class="op" id="6750895">)</span><span class="op" id="6750896">.</span><span class="op" id="6750897">(</span><span class="op" id="6750898">*</span><span class="ident" id="6750899">Float</span><span class="op" id="6750904">)</span>&nbsp;<span class="op" id="6750906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750910">t</span><span class="op" id="6750911">.</span><span class="ident" id="6750912">Errorf</span><span class="op" id="6750918">(</span><span class="string" id="6750919">&#34;Get()&nbsp;failed.&#34;</span><span class="op" id="6750934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750941">reqs</span><span class="op" id="6750945">.</span><span class="ident" id="6750946">Add</span><span class="op" id="6750949">(</span><span class="num" id="6750950">1.5</span><span class="op" id="6750953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750956">reqs</span><span class="op" id="6750960">.</span><span class="ident" id="6750961">Add</span><span class="op" id="6750964">(</span><span class="num" id="6750965">1.25</span><span class="op" id="6750969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750972">if</span>&nbsp;<span class="ident" id="6750975">reqs</span><span class="op" id="6750979">.</span><span class="ident" id="6750980">f</span>&nbsp;<span class="op" id="6750982">!=</span>&nbsp;<span class="num" id="6750985">2.75</span>&nbsp;<span class="op" id="6750990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750994">t</span><span class="op" id="6750995">.</span><span class="ident" id="6750996">Errorf</span><span class="op" id="6751002">(</span><span class="string" id="6751003">&#34;reqs.f&nbsp;=&nbsp;%v,&nbsp;want&nbsp;2.75&#34;</span><span class="op" id="6751027">,</span>&nbsp;<span class="ident" id="6751029">reqs</span><span class="op" id="6751033">.</span><span class="ident" id="6751034">f</span><span class="op" id="6751035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751038">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751042">if</span>&nbsp;<span class="ident" id="6751045">s</span>&nbsp;<span class="op" id="6751047">:=</span>&nbsp;<span class="ident" id="6751050">reqs</span><span class="op" id="6751054">.</span><span class="ident" id="6751055">String</span><span class="op" id="6751061">(</span><span class="op" id="6751062">)</span><span class="op" id="6751063">;</span>&nbsp;<span class="ident" id="6751065">s</span>&nbsp;<span class="op" id="6751067">!=</span>&nbsp;<span class="string" id="6751070">&#34;2.75&#34;</span>&nbsp;<span class="op" id="6751077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751081">t</span><span class="op" id="6751082">.</span><span class="ident" id="6751083">Errorf</span><span class="op" id="6751089">(</span><span class="string" id="6751090">&#34;reqs.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;\&#34;4.64\&#34;&#34;</span><span class="op" id="6751125">,</span>&nbsp;<span class="ident" id="6751127">s</span><span class="op" id="6751128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751135">reqs</span><span class="op" id="6751139">.</span><span class="ident" id="6751140">Add</span><span class="op" id="6751143">(</span><span class="op" id="6751144">-</span><span class="num" id="6751145">2</span><span class="op" id="6751146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751149">if</span>&nbsp;<span class="ident" id="6751152">reqs</span><span class="op" id="6751156">.</span><span class="ident" id="6751157">f</span>&nbsp;<span class="op" id="6751159">!=</span>&nbsp;<span class="num" id="6751162">0.75</span>&nbsp;<span class="op" id="6751167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751171">t</span><span class="op" id="6751172">.</span><span class="ident" id="6751173">Errorf</span><span class="op" id="6751179">(</span><span class="string" id="6751180">&#34;reqs.f&nbsp;=&nbsp;%v,&nbsp;want&nbsp;0.75&#34;</span><span class="op" id="6751204">,</span>&nbsp;<span class="ident" id="6751206">reqs</span><span class="op" id="6751210">.</span><span class="ident" id="6751211">f</span><span class="op" id="6751212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751215">}</span><br>
<span class="lineno"></span><span class="op" id="6751217">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="6751220">func</span>&nbsp;<span class="ident" id="6751225">TestString</span><span class="op" id="6751235">(</span><span class="ident" id="6751236">t</span>&nbsp;<span class="op" id="6751238">*</span><span class="ident" id="6751239">testing</span><span class="op" id="6751246">.</span><span class="ident" id="6751247">T</span><span class="op" id="6751248">)</span>&nbsp;<span class="op" id="6751250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751253">RemoveAll</span><span class="op" id="6751262">(</span><span class="op" id="6751263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751266">name</span>&nbsp;<span class="op" id="6751271">:=</span>&nbsp;<span class="ident" id="6751274">NewString</span><span class="op" id="6751283">(</span><span class="string" id="6751284">&#34;my-name&#34;</span><span class="op" id="6751293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751296">if</span>&nbsp;<span class="ident" id="6751299">name</span><span class="op" id="6751303">.</span><span class="ident" id="6751304">s</span>&nbsp;<span class="op" id="6751306">!=</span>&nbsp;<span class="string" id="6751309">&#34;&#34;</span>&nbsp;<span class="op" id="6751312">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751316">t</span><span class="op" id="6751317">.</span><span class="ident" id="6751318">Errorf</span><span class="op" id="6751324">(</span><span class="string" id="6751325">&#34;name.s&nbsp;=&nbsp;%q,&nbsp;want&nbsp;\&#34;\&#34;&#34;</span><span class="op" id="6751349">,</span>&nbsp;<span class="ident" id="6751351">name</span><span class="op" id="6751355">.</span><span class="ident" id="6751356">s</span><span class="op" id="6751357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751364">name</span><span class="op" id="6751368">.</span><span class="ident" id="6751369">Set</span><span class="op" id="6751372">(</span><span class="string" id="6751373">&#34;Mike&#34;</span><span class="op" id="6751379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751382">if</span>&nbsp;<span class="ident" id="6751385">name</span><span class="op" id="6751389">.</span><span class="ident" id="6751390">s</span>&nbsp;<span class="op" id="6751392">!=</span>&nbsp;<span class="string" id="6751395">&#34;Mike&#34;</span>&nbsp;<span class="op" id="6751402">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751406">t</span><span class="op" id="6751407">.</span><span class="ident" id="6751408">Errorf</span><span class="op" id="6751414">(</span><span class="string" id="6751415">&#34;name.s&nbsp;=&nbsp;%q,&nbsp;want&nbsp;\&#34;Mike\&#34;&#34;</span><span class="op" id="6751443">,</span>&nbsp;<span class="ident" id="6751445">name</span><span class="op" id="6751449">.</span><span class="ident" id="6751450">s</span><span class="op" id="6751451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751458">if</span>&nbsp;<span class="ident" id="6751461">s</span>&nbsp;<span class="op" id="6751463">:=</span>&nbsp;<span class="ident" id="6751466">name</span><span class="op" id="6751470">.</span><span class="ident" id="6751471">String</span><span class="op" id="6751477">(</span><span class="op" id="6751478">)</span><span class="op" id="6751479">;</span>&nbsp;<span class="ident" id="6751481">s</span>&nbsp;<span class="op" id="6751483">!=</span>&nbsp;<span class="string" id="6751486">&#34;\&#34;Mike\&#34;&#34;</span>&nbsp;<span class="op" id="6751497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751501">t</span><span class="op" id="6751502">.</span><span class="ident" id="6751503">Errorf</span><span class="op" id="6751509">(</span><span class="string" id="6751510">&#34;reqs.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;\&#34;\&#34;Mike\&#34;\&#34;&#34;</span><span class="op" id="6751549">,</span>&nbsp;<span class="ident" id="6751551">s</span><span class="op" id="6751552">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751555">}</span><br>
<span class="lineno"></span><span class="op" id="6751557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6751560">func</span>&nbsp;<span class="ident" id="6751565">TestMapCounter</span><span class="op" id="6751579">(</span><span class="ident" id="6751580">t</span>&nbsp;<span class="op" id="6751582">*</span><span class="ident" id="6751583">testing</span><span class="op" id="6751590">.</span><span class="ident" id="6751591">T</span><span class="op" id="6751592">)</span>&nbsp;<span class="op" id="6751594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751597">RemoveAll</span><span class="op" id="6751606">(</span><span class="op" id="6751607">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751610">colors</span>&nbsp;<span class="op" id="6751617">:=</span>&nbsp;<span class="ident" id="6751620">NewMap</span><span class="op" id="6751626">(</span><span class="string" id="6751627">&#34;bike-shed-colors&#34;</span><span class="op" id="6751645">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751649">colors</span><span class="op" id="6751655">.</span><span class="ident" id="6751656">Add</span><span class="op" id="6751659">(</span><span class="string" id="6751660">&#34;red&#34;</span><span class="op" id="6751665">,</span>&nbsp;<span class="num" id="6751667">1</span><span class="op" id="6751668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751671">colors</span><span class="op" id="6751677">.</span><span class="ident" id="6751678">Add</span><span class="op" id="6751681">(</span><span class="string" id="6751682">&#34;red&#34;</span><span class="op" id="6751687">,</span>&nbsp;<span class="num" id="6751689">2</span><span class="op" id="6751690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751693">colors</span><span class="op" id="6751699">.</span><span class="ident" id="6751700">Add</span><span class="op" id="6751703">(</span><span class="string" id="6751704">&#34;blue&#34;</span><span class="op" id="6751710">,</span>&nbsp;<span class="num" id="6751712">4</span><span class="op" id="6751713">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751716">colors</span><span class="op" id="6751722">.</span><span class="ident" id="6751723">AddFloat</span><span class="op" id="6751731">(</span><span class="string" id="6751732">`green&nbsp;&#34;midori&#34;`</span><span class="op" id="6751748">,</span>&nbsp;<span class="num" id="6751750">4.125</span><span class="op" id="6751755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751758">if</span>&nbsp;<span class="ident" id="6751761">x</span>&nbsp;<span class="op" id="6751763">:=</span>&nbsp;<span class="ident" id="6751766">colors</span><span class="op" id="6751772">.</span><span class="ident" id="6751773">m</span><span class="op" id="6751774">[</span><span class="string" id="6751775">&#34;red&#34;</span><span class="op" id="6751780">]</span><span class="op" id="6751781">.</span><span class="op" id="6751782">(</span><span class="op" id="6751783">*</span><span class="ident" id="6751784">Int</span><span class="op" id="6751787">)</span><span class="op" id="6751788">.</span><span class="ident" id="6751789">i</span><span class="op" id="6751790">;</span>&nbsp;<span class="ident" id="6751792">x</span>&nbsp;<span class="op" id="6751794">!=</span>&nbsp;<span class="num" id="6751797">3</span>&nbsp;<span class="op" id="6751799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751803">t</span><span class="op" id="6751804">.</span><span class="ident" id="6751805">Errorf</span><span class="op" id="6751811">(</span><span class="string" id="6751812">&#34;colors.m[\&#34;red\&#34;]&nbsp;=&nbsp;%v,&nbsp;want&nbsp;3&#34;</span><span class="op" id="6751844">,</span>&nbsp;<span class="ident" id="6751846">x</span><span class="op" id="6751847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751853">if</span>&nbsp;<span class="ident" id="6751856">x</span>&nbsp;<span class="op" id="6751858">:=</span>&nbsp;<span class="ident" id="6751861">colors</span><span class="op" id="6751867">.</span><span class="ident" id="6751868">m</span><span class="op" id="6751869">[</span><span class="string" id="6751870">&#34;blue&#34;</span><span class="op" id="6751876">]</span><span class="op" id="6751877">.</span><span class="op" id="6751878">(</span><span class="op" id="6751879">*</span><span class="ident" id="6751880">Int</span><span class="op" id="6751883">)</span><span class="op" id="6751884">.</span><span class="ident" id="6751885">i</span><span class="op" id="6751886">;</span>&nbsp;<span class="ident" id="6751888">x</span>&nbsp;<span class="op" id="6751890">!=</span>&nbsp;<span class="num" id="6751893">4</span>&nbsp;<span class="op" id="6751895">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751899">t</span><span class="op" id="6751900">.</span><span class="ident" id="6751901">Errorf</span><span class="op" id="6751907">(</span><span class="string" id="6751908">&#34;colors.m[\&#34;blue\&#34;]&nbsp;=&nbsp;%v,&nbsp;want&nbsp;4&#34;</span><span class="op" id="6751941">,</span>&nbsp;<span class="ident" id="6751943">x</span><span class="op" id="6751944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751950">if</span>&nbsp;<span class="ident" id="6751953">x</span>&nbsp;<span class="op" id="6751955">:=</span>&nbsp;<span class="ident" id="6751958">colors</span><span class="op" id="6751964">.</span><span class="ident" id="6751965">m</span><span class="op" id="6751966">[</span><span class="string" id="6751967">`green&nbsp;&#34;midori&#34;`</span><span class="op" id="6751983">]</span><span class="op" id="6751984">.</span><span class="op" id="6751985">(</span><span class="op" id="6751986">*</span><span class="ident" id="6751987">Float</span><span class="op" id="6751992">)</span><span class="op" id="6751993">.</span><span class="ident" id="6751994">f</span><span class="op" id="6751995">;</span>&nbsp;<span class="ident" id="6751997">x</span>&nbsp;<span class="op" id="6751999">!=</span>&nbsp;<span class="num" id="6752002">4.125</span>&nbsp;<span class="op" id="6752008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752012">t</span><span class="op" id="6752013">.</span><span class="ident" id="6752014">Errorf</span><span class="op" id="6752020">(</span><span class="string" id="6752021">&#34;colors.m[`green&nbsp;\&#34;midori\&#34;]&nbsp;=&nbsp;%v,&nbsp;want&nbsp;3.14&#34;</span><span class="op" id="6752066">,</span>&nbsp;<span class="ident" id="6752068">x</span><span class="op" id="6752069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752072">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6752076">//&nbsp;colors.String()&nbsp;should&nbsp;be&nbsp;&#39;{&#34;red&#34;:3,&nbsp;&#34;blue&#34;:4}&#39;,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6752129">//&nbsp;though&nbsp;the&nbsp;order&nbsp;of&nbsp;red&nbsp;and&nbsp;blue&nbsp;could&nbsp;vary.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752178">s</span>&nbsp;<span class="op" id="6752180">:=</span>&nbsp;<span class="ident" id="6752183">colors</span><span class="op" id="6752189">.</span><span class="ident" id="6752190">String</span><span class="op" id="6752196">(</span><span class="op" id="6752197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752200">var</span>&nbsp;<span class="ident" id="6752204">j</span>&nbsp;<span class="keyword" id="6752206">interface</span><span class="op" id="6752215">{</span><span class="op" id="6752216">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752219">err</span>&nbsp;<span class="op" id="6752223">:=</span>&nbsp;<span class="ident" id="6752226">json</span><span class="op" id="6752230">.</span><span class="ident" id="6752231">Unmarshal</span><span class="op" id="6752240">(</span><span class="op" id="6752241">[</span><span class="op" id="6752242">]</span><span class="builtintype" id="6752243">byte</span><span class="op" id="6752247">(</span><span class="ident" id="6752248">s</span><span class="op" id="6752249">)</span><span class="op" id="6752250">,</span>&nbsp;<span class="op" id="6752252">&amp;</span><span class="ident" id="6752253">j</span><span class="op" id="6752254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752257">if</span>&nbsp;<span class="ident" id="6752260">err</span>&nbsp;<span class="op" id="6752264">!=</span>&nbsp;<span class="ident" id="6752267">nil</span>&nbsp;<span class="op" id="6752271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752275">t</span><span class="op" id="6752276">.</span><span class="ident" id="6752277">Errorf</span><span class="op" id="6752283">(</span><span class="string" id="6752284">&#34;colors.String()&nbsp;isn&#39;t&nbsp;valid&nbsp;JSON:&nbsp;%v&#34;</span><span class="op" id="6752322">,</span>&nbsp;<span class="ident" id="6752324">err</span><span class="op" id="6752327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752333">m</span><span class="op" id="6752334">,</span>&nbsp;<span class="ident" id="6752336">ok</span>&nbsp;<span class="op" id="6752339">:=</span>&nbsp;<span class="ident" id="6752342">j</span><span class="op" id="6752343">.</span><span class="op" id="6752344">(</span><span class="keyword" id="6752345">map</span><span class="op" id="6752348">[</span><span class="builtintype" id="6752349">string</span><span class="op" id="6752355">]</span><span class="keyword" id="6752356">interface</span><span class="op" id="6752365">{</span><span class="op" id="6752366">}</span><span class="op" id="6752367">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752370">if</span>&nbsp;<span class="op" id="6752373">!</span><span class="ident" id="6752374">ok</span>&nbsp;<span class="op" id="6752377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752381">t</span><span class="op" id="6752382">.</span><span class="ident" id="6752383">Error</span><span class="op" id="6752388">(</span><span class="string" id="6752389">&#34;colors.String()&nbsp;didn&#39;t&nbsp;produce&nbsp;a&nbsp;map.&#34;</span><span class="op" id="6752428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752434">red</span>&nbsp;<span class="op" id="6752438">:=</span>&nbsp;<span class="ident" id="6752441">m</span><span class="op" id="6752442">[</span><span class="string" id="6752443">&#34;red&#34;</span><span class="op" id="6752448">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752451">x</span><span class="op" id="6752452">,</span>&nbsp;<span class="ident" id="6752454">ok</span>&nbsp;<span class="op" id="6752457">:=</span>&nbsp;<span class="ident" id="6752460">red</span><span class="op" id="6752463">.</span><span class="op" id="6752464">(</span><span class="builtintype" id="6752465">float64</span><span class="op" id="6752472">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752475">if</span>&nbsp;<span class="op" id="6752478">!</span><span class="ident" id="6752479">ok</span>&nbsp;<span class="op" id="6752482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752486">t</span><span class="op" id="6752487">.</span><span class="ident" id="6752488">Error</span><span class="op" id="6752493">(</span><span class="string" id="6752494">&#34;red.Kind()&nbsp;is&nbsp;not&nbsp;a&nbsp;number.&#34;</span><span class="op" id="6752523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752529">if</span>&nbsp;<span class="ident" id="6752532">x</span>&nbsp;<span class="op" id="6752534">!=</span>&nbsp;<span class="num" id="6752537">3</span>&nbsp;<span class="op" id="6752539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752543">t</span><span class="op" id="6752544">.</span><span class="ident" id="6752545">Errorf</span><span class="op" id="6752551">(</span><span class="string" id="6752552">&#34;red&nbsp;=&nbsp;%v,&nbsp;want&nbsp;3&#34;</span><span class="op" id="6752570">,</span>&nbsp;<span class="ident" id="6752572">x</span><span class="op" id="6752573">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752576">}</span><br>
<span class="lineno"></span><span class="op" id="6752578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6752581">func</span>&nbsp;<span class="ident" id="6752586">TestFunc</span><span class="op" id="6752594">(</span><span class="ident" id="6752595">t</span>&nbsp;<span class="op" id="6752597">*</span><span class="ident" id="6752598">testing</span><span class="op" id="6752605">.</span><span class="ident" id="6752606">T</span><span class="op" id="6752607">)</span>&nbsp;<span class="op" id="6752609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752612">RemoveAll</span><span class="op" id="6752621">(</span><span class="op" id="6752622">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752625">var</span>&nbsp;<span class="ident" id="6752629">x</span>&nbsp;<span class="keyword" id="6752631">interface</span><span class="op" id="6752640">{</span><span class="op" id="6752641">}</span>&nbsp;<span class="op" id="6752643">=</span>&nbsp;<span class="op" id="6752645">[</span><span class="op" id="6752646">]</span><span class="builtintype" id="6752647">string</span><span class="op" id="6752653">{</span><span class="string" id="6752654">&#34;a&#34;</span><span class="op" id="6752657">,</span>&nbsp;<span class="string" id="6752659">&#34;b&#34;</span><span class="op" id="6752662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752665">f</span>&nbsp;<span class="op" id="6752667">:=</span>&nbsp;<span class="ident" id="6752670">Func</span><span class="op" id="6752674">(</span><span class="keyword" id="6752675">func</span><span class="op" id="6752679">(</span><span class="op" id="6752680">)</span>&nbsp;<span class="keyword" id="6752682">interface</span><span class="op" id="6752691">{</span><span class="op" id="6752692">}</span>&nbsp;<span class="op" id="6752694">{</span>&nbsp;<span class="keyword" id="6752696">return</span>&nbsp;<span class="ident" id="6752703">x</span>&nbsp;<span class="op" id="6752705">}</span><span class="op" id="6752706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752709">if</span>&nbsp;<span class="ident" id="6752712">s</span><span class="op" id="6752713">,</span>&nbsp;<span class="ident" id="6752715">exp</span>&nbsp;<span class="op" id="6752719">:=</span>&nbsp;<span class="ident" id="6752722">f</span><span class="op" id="6752723">.</span><span class="ident" id="6752724">String</span><span class="op" id="6752730">(</span><span class="op" id="6752731">)</span><span class="op" id="6752732">,</span>&nbsp;<span class="string" id="6752734">`[&#34;a&#34;,&#34;b&#34;]`</span><span class="op" id="6752745">;</span>&nbsp;<span class="ident" id="6752747">s</span>&nbsp;<span class="op" id="6752749">!=</span>&nbsp;<span class="ident" id="6752752">exp</span>&nbsp;<span class="op" id="6752756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752760">t</span><span class="op" id="6752761">.</span><span class="ident" id="6752762">Errorf</span><span class="op" id="6752768">(</span><span class="string" id="6752769">`f.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q`</span><span class="op" id="6752795">,</span>&nbsp;<span class="ident" id="6752797">s</span><span class="op" id="6752798">,</span>&nbsp;<span class="ident" id="6752800">exp</span><span class="op" id="6752803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752806">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752810">x</span>&nbsp;<span class="op" id="6752812">=</span>&nbsp;<span class="num" id="6752814">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752818">if</span>&nbsp;<span class="ident" id="6752821">s</span><span class="op" id="6752822">,</span>&nbsp;<span class="ident" id="6752824">exp</span>&nbsp;<span class="op" id="6752828">:=</span>&nbsp;<span class="ident" id="6752831">f</span><span class="op" id="6752832">.</span><span class="ident" id="6752833">String</span><span class="op" id="6752839">(</span><span class="op" id="6752840">)</span><span class="op" id="6752841">,</span>&nbsp;<span class="string" id="6752843">`17`</span><span class="op" id="6752847">;</span>&nbsp;<span class="ident" id="6752849">s</span>&nbsp;<span class="op" id="6752851">!=</span>&nbsp;<span class="ident" id="6752854">exp</span>&nbsp;<span class="op" id="6752858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752862">t</span><span class="op" id="6752863">.</span><span class="ident" id="6752864">Errorf</span><span class="op" id="6752870">(</span><span class="string" id="6752871">`f.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q`</span><span class="op" id="6752897">,</span>&nbsp;<span class="ident" id="6752899">s</span><span class="op" id="6752900">,</span>&nbsp;<span class="ident" id="6752902">exp</span><span class="op" id="6752905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752908">}</span><br>
<span class="lineno">145</span><span class="op" id="6752910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6752913">func</span>&nbsp;<span class="ident" id="6752918">TestHandler</span><span class="op" id="6752929">(</span><span class="ident" id="6752930">t</span>&nbsp;<span class="op" id="6752932">*</span><span class="ident" id="6752933">testing</span><span class="op" id="6752940">.</span><span class="ident" id="6752941">T</span><span class="op" id="6752942">)</span>&nbsp;<span class="op" id="6752944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752947">RemoveAll</span><span class="op" id="6752956">(</span><span class="op" id="6752957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752960">m</span>&nbsp;<span class="op" id="6752962">:=</span>&nbsp;<span class="ident" id="6752965">NewMap</span><span class="op" id="6752971">(</span><span class="string" id="6752972">&#34;map1&#34;</span><span class="op" id="6752978">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752981">m</span><span class="op" id="6752982">.</span><span class="ident" id="6752983">Add</span><span class="op" id="6752986">(</span><span class="string" id="6752987">&#34;a&#34;</span><span class="op" id="6752990">,</span>&nbsp;<span class="num" id="6752992">1</span><span class="op" id="6752993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752996">m</span><span class="op" id="6752997">.</span><span class="ident" id="6752998">Add</span><span class="op" id="6753001">(</span><span class="string" id="6753002">&#34;z&#34;</span><span class="op" id="6753005">,</span>&nbsp;<span class="num" id="6753007">2</span><span class="op" id="6753008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753011">m2</span>&nbsp;<span class="op" id="6753014">:=</span>&nbsp;<span class="ident" id="6753017">NewMap</span><span class="op" id="6753023">(</span><span class="string" id="6753024">&#34;map2&#34;</span><span class="op" id="6753030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753033">for</span>&nbsp;<span class="ident" id="6753037">i</span>&nbsp;<span class="op" id="6753039">:=</span>&nbsp;<span class="num" id="6753042">0</span><span class="op" id="6753043">;</span>&nbsp;<span class="ident" id="6753045">i</span>&nbsp;<span class="op" id="6753047">&lt;</span>&nbsp;<span class="num" id="6753049">9</span><span class="op" id="6753050">;</span>&nbsp;<span class="ident" id="6753052">i</span><span class="op" id="6753053">++</span>&nbsp;<span class="op" id="6753056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753060">m2</span><span class="op" id="6753062">.</span><span class="ident" id="6753063">Add</span><span class="op" id="6753066">(</span><span class="ident" id="6753067">strconv</span><span class="op" id="6753074">.</span><span class="ident" id="6753075">Itoa</span><span class="op" id="6753079">(</span><span class="ident" id="6753080">i</span><span class="op" id="6753081">)</span><span class="op" id="6753082">,</span>&nbsp;<span class="ident" id="6753084">int64</span><span class="op" id="6753089">(</span><span class="ident" id="6753090">i</span><span class="op" id="6753091">)</span><span class="op" id="6753092">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753098">rr</span>&nbsp;<span class="op" id="6753101">:=</span>&nbsp;<span class="ident" id="6753104">httptest</span><span class="op" id="6753112">.</span><span class="ident" id="6753113">NewRecorder</span><span class="op" id="6753124">(</span><span class="op" id="6753125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753128">rr</span><span class="op" id="6753130">.</span><span class="ident" id="6753131">Body</span>&nbsp;<span class="op" id="6753136">=</span>&nbsp;<span class="builtinfunc" id="6753138">new</span><span class="op" id="6753141">(</span><span class="ident" id="6753142">bytes</span><span class="op" id="6753147">.</span><span class="ident" id="6753148">Buffer</span><span class="op" id="6753154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753157">expvarHandler</span><span class="op" id="6753170">(</span><span class="ident" id="6753171">rr</span><span class="op" id="6753173">,</span>&nbsp;<span class="ident" id="6753175">nil</span><span class="op" id="6753178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753181">want</span>&nbsp;<span class="op" id="6753186">:=</span>&nbsp;<span class="string" id="6753189">`{<br>
<span class="lineno">160</span>&#34;map1&#34;:&nbsp;{&#34;a&#34;:&nbsp;1,&nbsp;&#34;z&#34;:&nbsp;2},<br>
<span class="lineno"></span>&#34;map2&#34;:&nbsp;{&#34;0&#34;:&nbsp;0,&nbsp;&#34;1&#34;:&nbsp;1,&nbsp;&#34;2&#34;:&nbsp;2,&nbsp;&#34;3&#34;:&nbsp;3,&nbsp;&#34;4&#34;:&nbsp;4,&nbsp;&#34;5&#34;:&nbsp;5,&nbsp;&#34;6&#34;:&nbsp;6,&nbsp;&#34;7&#34;:&nbsp;7,&nbsp;&#34;8&#34;:&nbsp;8}<br>
<span class="lineno"></span>}<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753304">if</span>&nbsp;<span class="ident" id="6753307">got</span>&nbsp;<span class="op" id="6753311">:=</span>&nbsp;<span class="ident" id="6753314">rr</span><span class="op" id="6753316">.</span><span class="ident" id="6753317">Body</span><span class="op" id="6753321">.</span><span class="ident" id="6753322">String</span><span class="op" id="6753328">(</span><span class="op" id="6753329">)</span><span class="op" id="6753330">;</span>&nbsp;<span class="ident" id="6753332">got</span>&nbsp;<span class="op" id="6753336">!=</span>&nbsp;<span class="ident" id="6753339">want</span>&nbsp;<span class="op" id="6753344">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753348">t</span><span class="op" id="6753349">.</span><span class="ident" id="6753350">Errorf</span><span class="op" id="6753356">(</span><span class="string" id="6753357">&#34;HTTP&nbsp;handler&nbsp;wrote:\n%s\nWant:\n%s&#34;</span><span class="op" id="6753393">,</span>&nbsp;<span class="ident" id="6753395">got</span><span class="op" id="6753398">,</span>&nbsp;<span class="ident" id="6753400">want</span><span class="op" id="6753404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753407">}</span><br>
<span class="lineno"></span><span class="op" id="6753409">}</span>
</div>
</body>
</html>
