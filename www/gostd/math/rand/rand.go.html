<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/rand</h2>
<ul>
<li><a href="/gostd/math/rand/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/rand/exp.go.html">exp.go</a></li>
<li><a href="/gostd/math/rand/normal.go.html">normal.go</a></li>
<li><a href="/gostd/math/rand/rand.go.html">rand.go</a></li>
<li><a href="/gostd/math/rand/rand_test.go.html">rand_test.go</a></li>
<li><a href="/gostd/math/rand/regress_test.go.html">regress_test.go</a></li>
<li><a href="/gostd/math/rand/rng.go.html">rng.go</a></li>
<li><a href="/gostd/math/rand/zipf.go.html">zipf.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3828296">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3828351">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3828405">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3828456">//&nbsp;Package&nbsp;rand&nbsp;implements&nbsp;pseudo-random&nbsp;number&nbsp;generators.</span><br>
<span class="lineno"></span><span class="comment" id="3828516">//</span><br>
<span class="lineno"></span><span class="comment" id="3828519">//&nbsp;Random&nbsp;numbers&nbsp;are&nbsp;generated&nbsp;by&nbsp;a&nbsp;Source.&nbsp;Top-level&nbsp;functions,&nbsp;such&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="3828593">//&nbsp;Float64&nbsp;and&nbsp;Int,&nbsp;use&nbsp;a&nbsp;default&nbsp;shared&nbsp;Source&nbsp;that&nbsp;produces&nbsp;a&nbsp;deterministic</span><br>
<span class="lineno"></span><span class="comment" id="3828671">//&nbsp;sequence&nbsp;of&nbsp;values&nbsp;each&nbsp;time&nbsp;a&nbsp;program&nbsp;is&nbsp;run.&nbsp;Use&nbsp;the&nbsp;Seed&nbsp;function&nbsp;to</span><br>
<span class="lineno">10</span><span class="comment" id="3828746">//&nbsp;initialize&nbsp;the&nbsp;default&nbsp;Source&nbsp;if&nbsp;different&nbsp;behavior&nbsp;is&nbsp;required&nbsp;for&nbsp;each&nbsp;run.</span><br>
<span class="lineno"></span><span class="comment" id="3828827">//&nbsp;The&nbsp;default&nbsp;Source&nbsp;is&nbsp;safe&nbsp;for&nbsp;concurrent&nbsp;use&nbsp;by&nbsp;multiple&nbsp;goroutines.</span><br>
<span class="lineno"></span><span class="keyword" id="3828900">package</span>&nbsp;<span class="ident" id="3828908">rand</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3828914">import</span>&nbsp;<span class="string" id="3828921">&#34;sync&#34;</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3828929">//&nbsp;A&nbsp;Source&nbsp;represents&nbsp;a&nbsp;source&nbsp;of&nbsp;uniformly-distributed</span><br>
<span class="lineno"></span><span class="comment" id="3828986">//&nbsp;pseudo-random&nbsp;int64&nbsp;values&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;1&lt;&lt;63).</span><br>
<span class="lineno"></span><span class="keyword" id="3829041">type</span>&nbsp;<span class="ident" id="3829046">Source</span>&nbsp;<span class="keyword" id="3829053">interface</span>&nbsp;<span class="op" id="3829063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3829066">Int63</span><span class="op" id="3829071">(</span><span class="op" id="3829072">)</span>&nbsp;<span class="ident" id="3829074">int64</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3829081">Seed</span><span class="op" id="3829085">(</span><span class="ident" id="3829086">seed</span>&nbsp;<span class="ident" id="3829091">int64</span><span class="op" id="3829096">)</span><br>
<span class="lineno"></span><span class="op" id="3829098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3829101">//&nbsp;NewSource&nbsp;returns&nbsp;a&nbsp;new&nbsp;pseudo-random&nbsp;Source&nbsp;seeded&nbsp;with&nbsp;the&nbsp;given&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="3829178">func</span>&nbsp;<span class="ident" id="3829183">NewSource</span><span class="op" id="3829192">(</span><span class="ident" id="3829193">seed</span>&nbsp;<span class="ident" id="3829198">int64</span><span class="op" id="3829203">)</span>&nbsp;<span class="ident" id="3829205">Source</span>&nbsp;<span class="op" id="3829212">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3829215">var</span>&nbsp;<span class="ident" id="3829219">rng</span>&nbsp;<span class="ident" id="3829223">rngSource</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3829234">rng</span><span class="op" id="3829237">.</span><span class="ident" id="3829238">Seed</span><span class="op" id="3829242">(</span><span class="ident" id="3829243">seed</span><span class="op" id="3829247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3829250">return</span>&nbsp;<span class="op" id="3829257">&amp;</span><span class="ident" id="3829258">rng</span><br>
<span class="lineno"></span><span class="op" id="3829262">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="3829265">//&nbsp;A&nbsp;Rand&nbsp;is&nbsp;a&nbsp;source&nbsp;of&nbsp;random&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="keyword" id="3829306">type</span>&nbsp;<span class="ident" id="3829311">Rand</span>&nbsp;<span class="keyword" id="3829316">struct</span>&nbsp;<span class="op" id="3829323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3829326">src</span>&nbsp;<span class="ident" id="3829330">Source</span><br>
<span class="lineno"></span><span class="op" id="3829337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="3829340">//&nbsp;New&nbsp;returns&nbsp;a&nbsp;new&nbsp;Rand&nbsp;that&nbsp;uses&nbsp;random&nbsp;values&nbsp;from&nbsp;src</span><br>
<span class="lineno"></span><span class="comment" id="3829399">//&nbsp;to&nbsp;generate&nbsp;other&nbsp;random&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="3829435">func</span>&nbsp;<span class="ident" id="3829440">New</span><span class="op" id="3829443">(</span><span class="ident" id="3829444">src</span>&nbsp;<span class="ident" id="3829448">Source</span><span class="op" id="3829454">)</span>&nbsp;<span class="op" id="3829456">*</span><span class="ident" id="3829457">Rand</span>&nbsp;<span class="op" id="3829462">{</span>&nbsp;<span class="keyword" id="3829464">return</span>&nbsp;<span class="op" id="3829471">&amp;</span><span class="ident" id="3829472">Rand</span><span class="op" id="3829476">{</span><span class="ident" id="3829477">src</span><span class="op" id="3829480">}</span>&nbsp;<span class="op" id="3829482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3829485">//&nbsp;Seed&nbsp;uses&nbsp;the&nbsp;provided&nbsp;seed&nbsp;value&nbsp;to&nbsp;initialize&nbsp;the&nbsp;generator&nbsp;to&nbsp;a&nbsp;deterministic&nbsp;state.</span><br>
<span class="lineno">40</span><span class="keyword" id="3829576">func</span>&nbsp;<span class="op" id="3829581">(</span><span class="ident" id="3829582">r</span>&nbsp;<span class="op" id="3829584">*</span><span class="ident" id="3829585">Rand</span><span class="op" id="3829589">)</span>&nbsp;<span class="ident" id="3829591">Seed</span><span class="op" id="3829595">(</span><span class="ident" id="3829596">seed</span>&nbsp;<span class="ident" id="3829601">int64</span><span class="op" id="3829606">)</span>&nbsp;<span class="op" id="3829608">{</span>&nbsp;<span class="ident" id="3829610">r</span><span class="op" id="3829611">.</span><span class="ident" id="3829612">src</span><span class="op" id="3829615">.</span><span class="ident" id="3829616">Seed</span><span class="op" id="3829620">(</span><span class="ident" id="3829621">seed</span><span class="op" id="3829625">)</span>&nbsp;<span class="op" id="3829627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3829630">//&nbsp;Int63&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;63-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int64.</span><br>
<span class="lineno"></span><span class="keyword" id="3829704">func</span>&nbsp;<span class="op" id="3829709">(</span><span class="ident" id="3829710">r</span>&nbsp;<span class="op" id="3829712">*</span><span class="ident" id="3829713">Rand</span><span class="op" id="3829717">)</span>&nbsp;<span class="ident" id="3829719">Int63</span><span class="op" id="3829724">(</span><span class="op" id="3829725">)</span>&nbsp;<span class="ident" id="3829727">int64</span>&nbsp;<span class="op" id="3829733">{</span>&nbsp;<span class="keyword" id="3829735">return</span>&nbsp;<span class="ident" id="3829742">r</span><span class="op" id="3829743">.</span><span class="ident" id="3829744">src</span><span class="op" id="3829747">.</span><span class="ident" id="3829748">Int63</span><span class="op" id="3829753">(</span><span class="op" id="3829754">)</span>&nbsp;<span class="op" id="3829756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="3829759">//&nbsp;Uint32&nbsp;returns&nbsp;a&nbsp;pseudo-random&nbsp;32-bit&nbsp;value&nbsp;as&nbsp;a&nbsp;uint32.</span><br>
<span class="lineno"></span><span class="keyword" id="3829819">func</span>&nbsp;<span class="op" id="3829824">(</span><span class="ident" id="3829825">r</span>&nbsp;<span class="op" id="3829827">*</span><span class="ident" id="3829828">Rand</span><span class="op" id="3829832">)</span>&nbsp;<span class="ident" id="3829834">Uint32</span><span class="op" id="3829840">(</span><span class="op" id="3829841">)</span>&nbsp;<span class="builtintype" id="3829843">uint32</span>&nbsp;<span class="op" id="3829850">{</span>&nbsp;<span class="keyword" id="3829852">return</span>&nbsp;<span class="builtintype" id="3829859">uint32</span><span class="op" id="3829865">(</span><span class="ident" id="3829866">r</span><span class="op" id="3829867">.</span><span class="ident" id="3829868">Int63</span><span class="op" id="3829873">(</span><span class="op" id="3829874">)</span>&nbsp;<span class="op" id="3829876">&gt;&gt;</span>&nbsp;<span class="num" id="3829879">31</span><span class="op" id="3829881">)</span>&nbsp;<span class="op" id="3829883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3829886">//&nbsp;Int31&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;31-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int32.</span><br>
<span class="lineno"></span><span class="keyword" id="3829960">func</span>&nbsp;<span class="op" id="3829965">(</span><span class="ident" id="3829966">r</span>&nbsp;<span class="op" id="3829968">*</span><span class="ident" id="3829969">Rand</span><span class="op" id="3829973">)</span>&nbsp;<span class="ident" id="3829975">Int31</span><span class="op" id="3829980">(</span><span class="op" id="3829981">)</span>&nbsp;<span class="builtintype" id="3829983">int32</span>&nbsp;<span class="op" id="3829989">{</span>&nbsp;<span class="keyword" id="3829991">return</span>&nbsp;<span class="builtintype" id="3829998">int32</span><span class="op" id="3830003">(</span><span class="ident" id="3830004">r</span><span class="op" id="3830005">.</span><span class="ident" id="3830006">Int63</span><span class="op" id="3830011">(</span><span class="op" id="3830012">)</span>&nbsp;<span class="op" id="3830014">&gt;&gt;</span>&nbsp;<span class="num" id="3830017">32</span><span class="op" id="3830019">)</span>&nbsp;<span class="op" id="3830021">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="3830024">//&nbsp;Int&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="3830073">func</span>&nbsp;<span class="op" id="3830078">(</span><span class="ident" id="3830079">r</span>&nbsp;<span class="op" id="3830081">*</span><span class="ident" id="3830082">Rand</span><span class="op" id="3830086">)</span>&nbsp;<span class="ident" id="3830088">Int</span><span class="op" id="3830091">(</span><span class="op" id="3830092">)</span>&nbsp;<span class="builtintype" id="3830094">int</span>&nbsp;<span class="op" id="3830098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3830101">u</span>&nbsp;<span class="op" id="3830103">:=</span>&nbsp;<span class="builtintype" id="3830106">uint</span><span class="op" id="3830110">(</span><span class="ident" id="3830111">r</span><span class="op" id="3830112">.</span><span class="ident" id="3830113">Int63</span><span class="op" id="3830118">(</span><span class="op" id="3830119">)</span><span class="op" id="3830120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830123">return</span>&nbsp;<span class="builtintype" id="3830130">int</span><span class="op" id="3830133">(</span><span class="ident" id="3830134">u</span>&nbsp;<span class="op" id="3830136">&lt;&lt;</span>&nbsp;<span class="num" id="3830139">1</span>&nbsp;<span class="op" id="3830141">&gt;&gt;</span>&nbsp;<span class="num" id="3830144">1</span><span class="op" id="3830145">)</span>&nbsp;<span class="comment" id="3830147">//&nbsp;clear&nbsp;sign&nbsp;bit&nbsp;if&nbsp;int&nbsp;==&nbsp;int32</span><br>
<span class="lineno">55</span><span class="op" id="3830181">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3830184">//&nbsp;Int63n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int64,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="comment" id="3830262">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3830286">func</span>&nbsp;<span class="op" id="3830291">(</span><span class="ident" id="3830292">r</span>&nbsp;<span class="op" id="3830294">*</span><span class="ident" id="3830295">Rand</span><span class="op" id="3830299">)</span>&nbsp;<span class="ident" id="3830301">Int63n</span><span class="op" id="3830307">(</span><span class="ident" id="3830308">n</span>&nbsp;<span class="ident" id="3830310">int64</span><span class="op" id="3830315">)</span>&nbsp;<span class="ident" id="3830317">int64</span>&nbsp;<span class="op" id="3830323">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830326">if</span>&nbsp;<span class="ident" id="3830329">n</span>&nbsp;<span class="op" id="3830331">&lt;=</span>&nbsp;<span class="num" id="3830334">0</span>&nbsp;<span class="op" id="3830336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3830340">panic</span><span class="op" id="3830345">(</span><span class="string" id="3830346">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Int63n&#34;</span><span class="op" id="3830374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3830377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830380">if</span>&nbsp;<span class="ident" id="3830383">n</span><span class="op" id="3830384">&amp;</span><span class="op" id="3830385">(</span><span class="ident" id="3830386">n</span><span class="op" id="3830387">-</span><span class="num" id="3830388">1</span><span class="op" id="3830389">)</span>&nbsp;<span class="op" id="3830391">==</span>&nbsp;<span class="num" id="3830394">0</span>&nbsp;<span class="op" id="3830396">{</span>&nbsp;<span class="comment" id="3830398">//&nbsp;n&nbsp;is&nbsp;power&nbsp;of&nbsp;two,&nbsp;can&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830431">return</span>&nbsp;<span class="ident" id="3830438">r</span><span class="op" id="3830439">.</span><span class="ident" id="3830440">Int63</span><span class="op" id="3830445">(</span><span class="op" id="3830446">)</span>&nbsp;<span class="op" id="3830448">&amp;</span>&nbsp;<span class="op" id="3830450">(</span><span class="ident" id="3830451">n</span>&nbsp;<span class="op" id="3830453">-</span>&nbsp;<span class="num" id="3830455">1</span><span class="op" id="3830456">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3830459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3830462">max</span>&nbsp;<span class="op" id="3830466">:=</span>&nbsp;<span class="ident" id="3830469">int64</span><span class="op" id="3830474">(</span><span class="op" id="3830475">(</span><span class="num" id="3830476">1</span>&nbsp;<span class="op" id="3830478">&lt;&lt;</span>&nbsp;<span class="num" id="3830481">63</span><span class="op" id="3830483">)</span>&nbsp;<span class="op" id="3830485">-</span>&nbsp;<span class="num" id="3830487">1</span>&nbsp;<span class="op" id="3830489">-</span>&nbsp;<span class="op" id="3830491">(</span><span class="num" id="3830492">1</span><span class="op" id="3830493">&lt;&lt;</span><span class="num" id="3830495">63</span><span class="op" id="3830497">)</span><span class="op" id="3830498">%</span><span class="ident" id="3830499">uint64</span><span class="op" id="3830505">(</span><span class="ident" id="3830506">n</span><span class="op" id="3830507">)</span><span class="op" id="3830508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3830511">v</span>&nbsp;<span class="op" id="3830513">:=</span>&nbsp;<span class="ident" id="3830516">r</span><span class="op" id="3830517">.</span><span class="ident" id="3830518">Int63</span><span class="op" id="3830523">(</span><span class="op" id="3830524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830527">for</span>&nbsp;<span class="ident" id="3830531">v</span>&nbsp;<span class="op" id="3830533">&gt;</span>&nbsp;<span class="ident" id="3830535">max</span>&nbsp;<span class="op" id="3830539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3830543">v</span>&nbsp;<span class="op" id="3830545">=</span>&nbsp;<span class="ident" id="3830547">r</span><span class="op" id="3830548">.</span><span class="ident" id="3830549">Int63</span><span class="op" id="3830554">(</span><span class="op" id="3830555">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3830558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830561">return</span>&nbsp;<span class="ident" id="3830568">v</span>&nbsp;<span class="op" id="3830570">%</span>&nbsp;<span class="ident" id="3830572">n</span><br>
<span class="lineno"></span><span class="op" id="3830574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3830577">//&nbsp;Int31n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int32,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno">75</span><span class="comment" id="3830655">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3830679">func</span>&nbsp;<span class="op" id="3830684">(</span><span class="ident" id="3830685">r</span>&nbsp;<span class="op" id="3830687">*</span><span class="ident" id="3830688">Rand</span><span class="op" id="3830692">)</span>&nbsp;<span class="ident" id="3830694">Int31n</span><span class="op" id="3830700">(</span><span class="ident" id="3830701">n</span>&nbsp;<span class="builtintype" id="3830703">int32</span><span class="op" id="3830708">)</span>&nbsp;<span class="builtintype" id="3830710">int32</span>&nbsp;<span class="op" id="3830716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830719">if</span>&nbsp;<span class="ident" id="3830722">n</span>&nbsp;<span class="op" id="3830724">&lt;=</span>&nbsp;<span class="num" id="3830727">0</span>&nbsp;<span class="op" id="3830729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3830733">panic</span><span class="op" id="3830738">(</span><span class="string" id="3830739">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Int31n&#34;</span><span class="op" id="3830767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3830770">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830773">if</span>&nbsp;<span class="ident" id="3830776">n</span><span class="op" id="3830777">&amp;</span><span class="op" id="3830778">(</span><span class="ident" id="3830779">n</span><span class="op" id="3830780">-</span><span class="num" id="3830781">1</span><span class="op" id="3830782">)</span>&nbsp;<span class="op" id="3830784">==</span>&nbsp;<span class="num" id="3830787">0</span>&nbsp;<span class="op" id="3830789">{</span>&nbsp;<span class="comment" id="3830791">//&nbsp;n&nbsp;is&nbsp;power&nbsp;of&nbsp;two,&nbsp;can&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830824">return</span>&nbsp;<span class="ident" id="3830831">r</span><span class="op" id="3830832">.</span><span class="ident" id="3830833">Int31</span><span class="op" id="3830838">(</span><span class="op" id="3830839">)</span>&nbsp;<span class="op" id="3830841">&amp;</span>&nbsp;<span class="op" id="3830843">(</span><span class="ident" id="3830844">n</span>&nbsp;<span class="op" id="3830846">-</span>&nbsp;<span class="num" id="3830848">1</span><span class="op" id="3830849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3830852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3830855">max</span>&nbsp;<span class="op" id="3830859">:=</span>&nbsp;<span class="builtintype" id="3830862">int32</span><span class="op" id="3830867">(</span><span class="op" id="3830868">(</span><span class="num" id="3830869">1</span>&nbsp;<span class="op" id="3830871">&lt;&lt;</span>&nbsp;<span class="num" id="3830874">31</span><span class="op" id="3830876">)</span>&nbsp;<span class="op" id="3830878">-</span>&nbsp;<span class="num" id="3830880">1</span>&nbsp;<span class="op" id="3830882">-</span>&nbsp;<span class="op" id="3830884">(</span><span class="num" id="3830885">1</span><span class="op" id="3830886">&lt;&lt;</span><span class="num" id="3830888">31</span><span class="op" id="3830890">)</span><span class="op" id="3830891">%</span><span class="builtintype" id="3830892">uint32</span><span class="op" id="3830898">(</span><span class="ident" id="3830899">n</span><span class="op" id="3830900">)</span><span class="op" id="3830901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3830904">v</span>&nbsp;<span class="op" id="3830906">:=</span>&nbsp;<span class="ident" id="3830909">r</span><span class="op" id="3830910">.</span><span class="ident" id="3830911">Int31</span><span class="op" id="3830916">(</span><span class="op" id="3830917">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830920">for</span>&nbsp;<span class="ident" id="3830924">v</span>&nbsp;<span class="op" id="3830926">&gt;</span>&nbsp;<span class="ident" id="3830928">max</span>&nbsp;<span class="op" id="3830932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3830936">v</span>&nbsp;<span class="op" id="3830938">=</span>&nbsp;<span class="ident" id="3830940">r</span><span class="op" id="3830941">.</span><span class="ident" id="3830942">Int31</span><span class="op" id="3830947">(</span><span class="op" id="3830948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3830951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3830954">return</span>&nbsp;<span class="ident" id="3830961">v</span>&nbsp;<span class="op" id="3830963">%</span>&nbsp;<span class="ident" id="3830965">n</span><br>
<span class="lineno"></span><span class="op" id="3830967">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="3830970">//&nbsp;Intn&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="comment" id="3831044">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3831068">func</span>&nbsp;<span class="op" id="3831073">(</span><span class="ident" id="3831074">r</span>&nbsp;<span class="op" id="3831076">*</span><span class="ident" id="3831077">Rand</span><span class="op" id="3831081">)</span>&nbsp;<span class="ident" id="3831083">Intn</span><span class="op" id="3831087">(</span><span class="ident" id="3831088">n</span>&nbsp;<span class="builtintype" id="3831090">int</span><span class="op" id="3831093">)</span>&nbsp;<span class="builtintype" id="3831095">int</span>&nbsp;<span class="op" id="3831099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3831102">if</span>&nbsp;<span class="ident" id="3831105">n</span>&nbsp;<span class="op" id="3831107">&lt;=</span>&nbsp;<span class="num" id="3831110">0</span>&nbsp;<span class="op" id="3831112">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3831116">panic</span><span class="op" id="3831121">(</span><span class="string" id="3831122">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Intn&#34;</span><span class="op" id="3831148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3831151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3831154">if</span>&nbsp;<span class="ident" id="3831157">n</span>&nbsp;<span class="op" id="3831159">&lt;=</span>&nbsp;<span class="num" id="3831162">1</span><span class="op" id="3831163">&lt;&lt;</span><span class="num" id="3831165">31</span><span class="op" id="3831167">-</span><span class="num" id="3831168">1</span>&nbsp;<span class="op" id="3831170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3831174">return</span>&nbsp;<span class="builtintype" id="3831181">int</span><span class="op" id="3831184">(</span><span class="ident" id="3831185">r</span><span class="op" id="3831186">.</span><span class="ident" id="3831187">Int31n</span><span class="op" id="3831193">(</span><span class="builtintype" id="3831194">int32</span><span class="op" id="3831199">(</span><span class="ident" id="3831200">n</span><span class="op" id="3831201">)</span><span class="op" id="3831202">)</span><span class="op" id="3831203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3831206">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3831209">return</span>&nbsp;<span class="builtintype" id="3831216">int</span><span class="op" id="3831219">(</span><span class="ident" id="3831220">r</span><span class="op" id="3831221">.</span><span class="ident" id="3831222">Int63n</span><span class="op" id="3831228">(</span><span class="ident" id="3831229">int64</span><span class="op" id="3831234">(</span><span class="ident" id="3831235">n</span><span class="op" id="3831236">)</span><span class="op" id="3831237">)</span><span class="op" id="3831238">)</span><br>
<span class="lineno"></span><span class="op" id="3831240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3831243">//&nbsp;Float64&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float64,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0).</span><br>
<span class="lineno"></span><span class="keyword" id="3831314">func</span>&nbsp;<span class="op" id="3831319">(</span><span class="ident" id="3831320">r</span>&nbsp;<span class="op" id="3831322">*</span><span class="ident" id="3831323">Rand</span><span class="op" id="3831327">)</span>&nbsp;<span class="ident" id="3831329">Float64</span><span class="op" id="3831336">(</span><span class="op" id="3831337">)</span>&nbsp;<span class="builtintype" id="3831339">float64</span>&nbsp;<span class="op" id="3831347">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831350">//&nbsp;A&nbsp;clearer,&nbsp;simpler&nbsp;implementation&nbsp;would&nbsp;be:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831398">//&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;float64(r.Int63n(1&lt;&lt;53))&nbsp;/&nbsp;(1&lt;&lt;53)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831444">//&nbsp;However,&nbsp;Go&nbsp;1&nbsp;shipped&nbsp;with</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831475">//&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;float64(r.Int63())&nbsp;/&nbsp;(1&nbsp;&lt;&lt;&nbsp;63)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831517">//&nbsp;and&nbsp;we&nbsp;want&nbsp;to&nbsp;preserve&nbsp;that&nbsp;value&nbsp;stream.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831564">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831568">//&nbsp;There&nbsp;is&nbsp;one&nbsp;bug&nbsp;in&nbsp;the&nbsp;value&nbsp;stream:&nbsp;r.Int63()&nbsp;may&nbsp;be&nbsp;so&nbsp;close</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831636">//&nbsp;to&nbsp;1&lt;&lt;63&nbsp;that&nbsp;the&nbsp;division&nbsp;rounds&nbsp;up&nbsp;to&nbsp;1.0,&nbsp;and&nbsp;we&#39;ve&nbsp;guaranteed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831706">//&nbsp;that&nbsp;the&nbsp;result&nbsp;is&nbsp;always&nbsp;less&nbsp;than&nbsp;1.0.&nbsp;To&nbsp;fix&nbsp;that,&nbsp;we&nbsp;treat&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831777">//&nbsp;range&nbsp;as&nbsp;cyclic&nbsp;and&nbsp;map&nbsp;1&nbsp;back&nbsp;to&nbsp;0.&nbsp;This&nbsp;is&nbsp;justified&nbsp;by&nbsp;observing</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831849">//&nbsp;that&nbsp;while&nbsp;some&nbsp;of&nbsp;the&nbsp;values&nbsp;rounded&nbsp;down&nbsp;to&nbsp;0,&nbsp;nothing&nbsp;was</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831914">//&nbsp;rounding&nbsp;up&nbsp;to&nbsp;0,&nbsp;so&nbsp;0&nbsp;was&nbsp;underrepresented&nbsp;in&nbsp;the&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3831978">//&nbsp;Mapping&nbsp;1&nbsp;back&nbsp;to&nbsp;zero&nbsp;restores&nbsp;some&nbsp;balance.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832028">//&nbsp;(The&nbsp;balance&nbsp;is&nbsp;not&nbsp;perfect&nbsp;because&nbsp;the&nbsp;implementation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832087">//&nbsp;returns&nbsp;denormalized&nbsp;numbers&nbsp;for&nbsp;very&nbsp;small&nbsp;r.Int63(),</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832146">//&nbsp;and&nbsp;those&nbsp;steal&nbsp;from&nbsp;what&nbsp;would&nbsp;normally&nbsp;be&nbsp;0&nbsp;results.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832206">//&nbsp;The&nbsp;remapping&nbsp;only&nbsp;happens&nbsp;1/2⁵³&nbsp;of&nbsp;the&nbsp;time,&nbsp;so&nbsp;most&nbsp;clients</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832275">//&nbsp;will&nbsp;not&nbsp;observe&nbsp;it&nbsp;anyway.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3832307">f</span>&nbsp;<span class="op" id="3832309">:=</span>&nbsp;<span class="builtintype" id="3832312">float64</span><span class="op" id="3832319">(</span><span class="ident" id="3832320">r</span><span class="op" id="3832321">.</span><span class="ident" id="3832322">Int63</span><span class="op" id="3832327">(</span><span class="op" id="3832328">)</span><span class="op" id="3832329">)</span>&nbsp;<span class="op" id="3832331">/</span>&nbsp;<span class="op" id="3832333">(</span><span class="num" id="3832334">1</span>&nbsp;<span class="op" id="3832336">&lt;&lt;</span>&nbsp;<span class="num" id="3832339">63</span><span class="op" id="3832341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3832344">if</span>&nbsp;<span class="ident" id="3832347">f</span>&nbsp;<span class="op" id="3832349">==</span>&nbsp;<span class="num" id="3832352">1</span>&nbsp;<span class="op" id="3832354">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3832358">f</span>&nbsp;<span class="op" id="3832360">=</span>&nbsp;<span class="num" id="3832362">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3832365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3832368">return</span>&nbsp;<span class="ident" id="3832375">f</span><br>
<span class="lineno"></span><span class="op" id="3832377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3832380">//&nbsp;Float32&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float32,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0).</span><br>
<span class="lineno"></span><span class="keyword" id="3832451">func</span>&nbsp;<span class="op" id="3832456">(</span><span class="ident" id="3832457">r</span>&nbsp;<span class="op" id="3832459">*</span><span class="ident" id="3832460">Rand</span><span class="op" id="3832464">)</span>&nbsp;<span class="ident" id="3832466">Float32</span><span class="op" id="3832473">(</span><span class="op" id="3832474">)</span>&nbsp;<span class="builtintype" id="3832476">float32</span>&nbsp;<span class="op" id="3832484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832487">//&nbsp;Same&nbsp;rationale&nbsp;as&nbsp;in&nbsp;Float64:&nbsp;we&nbsp;want&nbsp;to&nbsp;preserve&nbsp;the&nbsp;Go&nbsp;1&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832556">//&nbsp;stream&nbsp;except&nbsp;we&nbsp;want&nbsp;to&nbsp;fix&nbsp;it&nbsp;not&nbsp;to&nbsp;return&nbsp;1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832610">//&nbsp;There&nbsp;is&nbsp;a&nbsp;double&nbsp;rounding&nbsp;going&nbsp;on&nbsp;here,&nbsp;but&nbsp;the&nbsp;argument&nbsp;for</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832677">//&nbsp;mapping&nbsp;1&nbsp;to&nbsp;0&nbsp;still&nbsp;applies:&nbsp;0&nbsp;was&nbsp;underrepresented&nbsp;before,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832742">//&nbsp;so&nbsp;mapping&nbsp;1&nbsp;to&nbsp;0&nbsp;doesn&#39;t&nbsp;cause&nbsp;too&nbsp;many&nbsp;0s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3832791">//&nbsp;This&nbsp;only&nbsp;happens&nbsp;1/2²⁴&nbsp;of&nbsp;the&nbsp;time&nbsp;(plus&nbsp;the&nbsp;1/2⁵³&nbsp;of&nbsp;the&nbsp;time&nbsp;in&nbsp;Float64).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3832878">f</span>&nbsp;<span class="op" id="3832880">:=</span>&nbsp;<span class="builtintype" id="3832883">float32</span><span class="op" id="3832890">(</span><span class="ident" id="3832891">r</span><span class="op" id="3832892">.</span><span class="ident" id="3832893">Float64</span><span class="op" id="3832900">(</span><span class="op" id="3832901">)</span><span class="op" id="3832902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3832905">if</span>&nbsp;<span class="ident" id="3832908">f</span>&nbsp;<span class="op" id="3832910">==</span>&nbsp;<span class="num" id="3832913">1</span>&nbsp;<span class="op" id="3832915">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3832919">f</span>&nbsp;<span class="op" id="3832921">=</span>&nbsp;<span class="num" id="3832923">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3832926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3832929">return</span>&nbsp;<span class="ident" id="3832936">f</span><br>
<span class="lineno"></span><span class="op" id="3832938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="comment" id="3832941">//&nbsp;Perm&nbsp;returns,&nbsp;as&nbsp;a&nbsp;slice&nbsp;of&nbsp;n&nbsp;ints,&nbsp;a&nbsp;pseudo-random&nbsp;permutation&nbsp;of&nbsp;the&nbsp;integers&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="keyword" id="3833031">func</span>&nbsp;<span class="op" id="3833036">(</span><span class="ident" id="3833037">r</span>&nbsp;<span class="op" id="3833039">*</span><span class="ident" id="3833040">Rand</span><span class="op" id="3833044">)</span>&nbsp;<span class="ident" id="3833046">Perm</span><span class="op" id="3833050">(</span><span class="ident" id="3833051">n</span>&nbsp;<span class="builtintype" id="3833053">int</span><span class="op" id="3833056">)</span>&nbsp;<span class="op" id="3833058">[</span><span class="op" id="3833059">]</span><span class="builtintype" id="3833060">int</span>&nbsp;<span class="op" id="3833064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3833067">m</span>&nbsp;<span class="op" id="3833069">:=</span>&nbsp;<span class="builtinfunc" id="3833072">make</span><span class="op" id="3833076">(</span><span class="op" id="3833077">[</span><span class="op" id="3833078">]</span><span class="builtintype" id="3833079">int</span><span class="op" id="3833082">,</span>&nbsp;<span class="ident" id="3833084">n</span><span class="op" id="3833085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3833088">for</span>&nbsp;<span class="ident" id="3833092">i</span>&nbsp;<span class="op" id="3833094">:=</span>&nbsp;<span class="num" id="3833097">0</span><span class="op" id="3833098">;</span>&nbsp;<span class="ident" id="3833100">i</span>&nbsp;<span class="op" id="3833102">&lt;</span>&nbsp;<span class="ident" id="3833104">n</span><span class="op" id="3833105">;</span>&nbsp;<span class="ident" id="3833107">i</span><span class="op" id="3833108">++</span>&nbsp;<span class="op" id="3833111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3833115">j</span>&nbsp;<span class="op" id="3833117">:=</span>&nbsp;<span class="ident" id="3833120">r</span><span class="op" id="3833121">.</span><span class="ident" id="3833122">Intn</span><span class="op" id="3833126">(</span><span class="ident" id="3833127">i</span>&nbsp;<span class="op" id="3833129">+</span>&nbsp;<span class="num" id="3833131">1</span><span class="op" id="3833132">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3833136">m</span><span class="op" id="3833137">[</span><span class="ident" id="3833138">i</span><span class="op" id="3833139">]</span>&nbsp;<span class="op" id="3833141">=</span>&nbsp;<span class="ident" id="3833143">m</span><span class="op" id="3833144">[</span><span class="ident" id="3833145">j</span><span class="op" id="3833146">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3833150">m</span><span class="op" id="3833151">[</span><span class="ident" id="3833152">j</span><span class="op" id="3833153">]</span>&nbsp;<span class="op" id="3833155">=</span>&nbsp;<span class="ident" id="3833157">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3833160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3833163">return</span>&nbsp;<span class="ident" id="3833170">m</span><br>
<span class="lineno"></span><span class="op" id="3833172">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="3833175">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Top-level&nbsp;convenience&nbsp;functions<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="3833218">var</span>&nbsp;<span class="ident" id="3833222">globalRand</span>&nbsp;<span class="op" id="3833233">=</span>&nbsp;<span class="ident" id="3833235">New</span><span class="op" id="3833238">(</span><span class="op" id="3833239">&amp;</span><span class="ident" id="3833240">lockedSource</span><span class="op" id="3833252">{</span><span class="ident" id="3833253">src</span><span class="op" id="3833256">:</span>&nbsp;<span class="ident" id="3833258">NewSource</span><span class="op" id="3833267">(</span><span class="num" id="3833268">1</span><span class="op" id="3833269">)</span><span class="op" id="3833270">}</span><span class="op" id="3833271">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3833274">//&nbsp;Seed&nbsp;uses&nbsp;the&nbsp;provided&nbsp;seed&nbsp;value&nbsp;to&nbsp;initialize&nbsp;the&nbsp;default&nbsp;Source&nbsp;to&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3833349">//&nbsp;deterministic&nbsp;state.&nbsp;If&nbsp;Seed&nbsp;is&nbsp;not&nbsp;called,&nbsp;the&nbsp;generator&nbsp;behaves&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="3833421">//&nbsp;if&nbsp;seeded&nbsp;by&nbsp;Seed(1).</span><br>
<span class="lineno">165</span><span class="keyword" id="3833446">func</span>&nbsp;<span class="ident" id="3833451">Seed</span><span class="op" id="3833455">(</span><span class="ident" id="3833456">seed</span>&nbsp;<span class="ident" id="3833461">int64</span><span class="op" id="3833466">)</span>&nbsp;<span class="op" id="3833468">{</span>&nbsp;<span class="ident" id="3833470">globalRand</span><span class="op" id="3833480">.</span><span class="ident" id="3833481">Seed</span><span class="op" id="3833485">(</span><span class="ident" id="3833486">seed</span><span class="op" id="3833490">)</span>&nbsp;<span class="op" id="3833492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3833495">//&nbsp;Int63&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;63-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int64</span><br>
<span class="lineno"></span><span class="comment" id="3833568">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3833596">func</span>&nbsp;<span class="ident" id="3833601">Int63</span><span class="op" id="3833606">(</span><span class="op" id="3833607">)</span>&nbsp;<span class="ident" id="3833609">int64</span>&nbsp;<span class="op" id="3833615">{</span>&nbsp;<span class="keyword" id="3833617">return</span>&nbsp;<span class="ident" id="3833624">globalRand</span><span class="op" id="3833634">.</span><span class="ident" id="3833635">Int63</span><span class="op" id="3833640">(</span><span class="op" id="3833641">)</span>&nbsp;<span class="op" id="3833643">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="comment" id="3833646">//&nbsp;Uint32&nbsp;returns&nbsp;a&nbsp;pseudo-random&nbsp;32-bit&nbsp;value&nbsp;as&nbsp;a&nbsp;uint32</span><br>
<span class="lineno"></span><span class="comment" id="3833705">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3833733">func</span>&nbsp;<span class="ident" id="3833738">Uint32</span><span class="op" id="3833744">(</span><span class="op" id="3833745">)</span>&nbsp;<span class="builtintype" id="3833747">uint32</span>&nbsp;<span class="op" id="3833754">{</span>&nbsp;<span class="keyword" id="3833756">return</span>&nbsp;<span class="ident" id="3833763">globalRand</span><span class="op" id="3833773">.</span><span class="ident" id="3833774">Uint32</span><span class="op" id="3833780">(</span><span class="op" id="3833781">)</span>&nbsp;<span class="op" id="3833783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="3833786">//&nbsp;Int31&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;31-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int32</span><br>
<span class="lineno"></span><span class="comment" id="3833859">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3833887">func</span>&nbsp;<span class="ident" id="3833892">Int31</span><span class="op" id="3833897">(</span><span class="op" id="3833898">)</span>&nbsp;<span class="builtintype" id="3833900">int32</span>&nbsp;<span class="op" id="3833906">{</span>&nbsp;<span class="keyword" id="3833908">return</span>&nbsp;<span class="ident" id="3833915">globalRand</span><span class="op" id="3833925">.</span><span class="ident" id="3833926">Int31</span><span class="op" id="3833931">(</span><span class="op" id="3833932">)</span>&nbsp;<span class="op" id="3833934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3833937">//&nbsp;Int&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;int&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno">180</span><span class="keyword" id="3834010">func</span>&nbsp;<span class="ident" id="3834015">Int</span><span class="op" id="3834018">(</span><span class="op" id="3834019">)</span>&nbsp;<span class="builtintype" id="3834021">int</span>&nbsp;<span class="op" id="3834025">{</span>&nbsp;<span class="keyword" id="3834027">return</span>&nbsp;<span class="ident" id="3834034">globalRand</span><span class="op" id="3834044">.</span><span class="ident" id="3834045">Int</span><span class="op" id="3834048">(</span><span class="op" id="3834049">)</span>&nbsp;<span class="op" id="3834051">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3834054">//&nbsp;Int63n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int64,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3834131">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3834159">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">185</span><span class="keyword" id="3834183">func</span>&nbsp;<span class="ident" id="3834188">Int63n</span><span class="op" id="3834194">(</span><span class="ident" id="3834195">n</span>&nbsp;<span class="ident" id="3834197">int64</span><span class="op" id="3834202">)</span>&nbsp;<span class="ident" id="3834204">int64</span>&nbsp;<span class="op" id="3834210">{</span>&nbsp;<span class="keyword" id="3834212">return</span>&nbsp;<span class="ident" id="3834219">globalRand</span><span class="op" id="3834229">.</span><span class="ident" id="3834230">Int63n</span><span class="op" id="3834236">(</span><span class="ident" id="3834237">n</span><span class="op" id="3834238">)</span>&nbsp;<span class="op" id="3834240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3834243">//&nbsp;Int31n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int32,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3834320">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3834348">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">190</span><span class="keyword" id="3834372">func</span>&nbsp;<span class="ident" id="3834377">Int31n</span><span class="op" id="3834383">(</span><span class="ident" id="3834384">n</span>&nbsp;<span class="builtintype" id="3834386">int32</span><span class="op" id="3834391">)</span>&nbsp;<span class="builtintype" id="3834393">int32</span>&nbsp;<span class="op" id="3834399">{</span>&nbsp;<span class="keyword" id="3834401">return</span>&nbsp;<span class="ident" id="3834408">globalRand</span><span class="op" id="3834418">.</span><span class="ident" id="3834419">Int31n</span><span class="op" id="3834425">(</span><span class="ident" id="3834426">n</span><span class="op" id="3834427">)</span>&nbsp;<span class="op" id="3834429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3834432">//&nbsp;Intn&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3834505">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3834533">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">195</span><span class="keyword" id="3834557">func</span>&nbsp;<span class="ident" id="3834562">Intn</span><span class="op" id="3834566">(</span><span class="ident" id="3834567">n</span>&nbsp;<span class="builtintype" id="3834569">int</span><span class="op" id="3834572">)</span>&nbsp;<span class="builtintype" id="3834574">int</span>&nbsp;<span class="op" id="3834578">{</span>&nbsp;<span class="keyword" id="3834580">return</span>&nbsp;<span class="ident" id="3834587">globalRand</span><span class="op" id="3834597">.</span><span class="ident" id="3834598">Intn</span><span class="op" id="3834602">(</span><span class="ident" id="3834603">n</span><span class="op" id="3834604">)</span>&nbsp;<span class="op" id="3834606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3834609">//&nbsp;Float64&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float64,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0)</span><br>
<span class="lineno"></span><span class="comment" id="3834679">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3834707">func</span>&nbsp;<span class="ident" id="3834712">Float64</span><span class="op" id="3834719">(</span><span class="op" id="3834720">)</span>&nbsp;<span class="builtintype" id="3834722">float64</span>&nbsp;<span class="op" id="3834730">{</span>&nbsp;<span class="keyword" id="3834732">return</span>&nbsp;<span class="ident" id="3834739">globalRand</span><span class="op" id="3834749">.</span><span class="ident" id="3834750">Float64</span><span class="op" id="3834757">(</span><span class="op" id="3834758">)</span>&nbsp;<span class="op" id="3834760">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="comment" id="3834763">//&nbsp;Float32&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float32,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0)</span><br>
<span class="lineno"></span><span class="comment" id="3834833">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3834861">func</span>&nbsp;<span class="ident" id="3834866">Float32</span><span class="op" id="3834873">(</span><span class="op" id="3834874">)</span>&nbsp;<span class="builtintype" id="3834876">float32</span>&nbsp;<span class="op" id="3834884">{</span>&nbsp;<span class="keyword" id="3834886">return</span>&nbsp;<span class="ident" id="3834893">globalRand</span><span class="op" id="3834903">.</span><span class="ident" id="3834904">Float32</span><span class="op" id="3834911">(</span><span class="op" id="3834912">)</span>&nbsp;<span class="op" id="3834914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span><span class="comment" id="3834917">//&nbsp;Perm&nbsp;returns,&nbsp;as&nbsp;a&nbsp;slice&nbsp;of&nbsp;n&nbsp;ints,&nbsp;a&nbsp;pseudo-random&nbsp;permutation&nbsp;of&nbsp;the&nbsp;integers&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3835006">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3835034">func</span>&nbsp;<span class="ident" id="3835039">Perm</span><span class="op" id="3835043">(</span><span class="ident" id="3835044">n</span>&nbsp;<span class="builtintype" id="3835046">int</span><span class="op" id="3835049">)</span>&nbsp;<span class="op" id="3835051">[</span><span class="op" id="3835052">]</span><span class="builtintype" id="3835053">int</span>&nbsp;<span class="op" id="3835057">{</span>&nbsp;<span class="keyword" id="3835059">return</span>&nbsp;<span class="ident" id="3835066">globalRand</span><span class="op" id="3835076">.</span><span class="ident" id="3835077">Perm</span><span class="op" id="3835081">(</span><span class="ident" id="3835082">n</span><span class="op" id="3835083">)</span>&nbsp;<span class="op" id="3835085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3835088">//&nbsp;NormFloat64&nbsp;returns&nbsp;a&nbsp;normally&nbsp;distributed&nbsp;float64&nbsp;in&nbsp;the&nbsp;range</span><br>
<span class="lineno">210</span><span class="comment" id="3835155">//&nbsp;[-math.MaxFloat64,&nbsp;+math.MaxFloat64]&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3835200">//&nbsp;standard&nbsp;normal&nbsp;distribution&nbsp;(mean&nbsp;=&nbsp;0,&nbsp;stddev&nbsp;=&nbsp;1)</span><br>
<span class="lineno"></span><span class="comment" id="3835255">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3835283">//&nbsp;To&nbsp;produce&nbsp;a&nbsp;different&nbsp;normal&nbsp;distribution,&nbsp;callers&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="3835342">//&nbsp;adjust&nbsp;the&nbsp;output&nbsp;using:</span><br>
<span class="lineno">215</span><span class="comment" id="3835370">//</span><br>
<span class="lineno"></span><span class="comment" id="3835373">//&nbsp;&nbsp;sample&nbsp;=&nbsp;NormFloat64()&nbsp;*&nbsp;desiredStdDev&nbsp;+&nbsp;desiredMean</span><br>
<span class="lineno"></span><span class="comment" id="3835430">//</span><br>
<span class="lineno"></span><span class="keyword" id="3835433">func</span>&nbsp;<span class="ident" id="3835438">NormFloat64</span><span class="op" id="3835449">(</span><span class="op" id="3835450">)</span>&nbsp;<span class="builtintype" id="3835452">float64</span>&nbsp;<span class="op" id="3835460">{</span>&nbsp;<span class="keyword" id="3835462">return</span>&nbsp;<span class="ident" id="3835469">globalRand</span><span class="op" id="3835479">.</span><span class="ident" id="3835480">NormFloat64</span><span class="op" id="3835491">(</span><span class="op" id="3835492">)</span>&nbsp;<span class="op" id="3835494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="3835497">//&nbsp;ExpFloat64&nbsp;returns&nbsp;an&nbsp;exponentially&nbsp;distributed&nbsp;float64&nbsp;in&nbsp;the&nbsp;range</span><br>
<span class="lineno"></span><span class="comment" id="3835569">//&nbsp;(0,&nbsp;+math.MaxFloat64]&nbsp;with&nbsp;an&nbsp;exponential&nbsp;distribution&nbsp;whose&nbsp;rate&nbsp;parameter</span><br>
<span class="lineno"></span><span class="comment" id="3835648">//&nbsp;(lambda)&nbsp;is&nbsp;1&nbsp;and&nbsp;whose&nbsp;mean&nbsp;is&nbsp;1/lambda&nbsp;(1)&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3835721">//&nbsp;To&nbsp;produce&nbsp;a&nbsp;distribution&nbsp;with&nbsp;a&nbsp;different&nbsp;rate&nbsp;parameter,</span><br>
<span class="lineno"></span><span class="comment" id="3835783">//&nbsp;callers&nbsp;can&nbsp;adjust&nbsp;the&nbsp;output&nbsp;using:</span><br>
<span class="lineno">225</span><span class="comment" id="3835823">//</span><br>
<span class="lineno"></span><span class="comment" id="3835826">//&nbsp;&nbsp;sample&nbsp;=&nbsp;ExpFloat64()&nbsp;/&nbsp;desiredRateParameter</span><br>
<span class="lineno"></span><span class="comment" id="3835875">//</span><br>
<span class="lineno"></span><span class="keyword" id="3835878">func</span>&nbsp;<span class="ident" id="3835883">ExpFloat64</span><span class="op" id="3835893">(</span><span class="op" id="3835894">)</span>&nbsp;<span class="builtintype" id="3835896">float64</span>&nbsp;<span class="op" id="3835904">{</span>&nbsp;<span class="keyword" id="3835906">return</span>&nbsp;<span class="ident" id="3835913">globalRand</span><span class="op" id="3835923">.</span><span class="ident" id="3835924">ExpFloat64</span><span class="op" id="3835934">(</span><span class="op" id="3835935">)</span>&nbsp;<span class="op" id="3835937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span><span class="keyword" id="3835940">type</span>&nbsp;<span class="ident" id="3835945">lockedSource</span>&nbsp;<span class="keyword" id="3835958">struct</span>&nbsp;<span class="op" id="3835965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3835968">lk</span>&nbsp;&nbsp;<span class="ident" id="3835972">sync</span><span class="op" id="3835976">.</span><span class="ident" id="3835977">Mutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3835984">src</span>&nbsp;<span class="ident" id="3835988">Source</span><br>
<span class="lineno"></span><span class="op" id="3835995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="3835998">func</span>&nbsp;<span class="op" id="3836003">(</span><span class="ident" id="3836004">r</span>&nbsp;<span class="op" id="3836006">*</span><span class="ident" id="3836007">lockedSource</span><span class="op" id="3836019">)</span>&nbsp;<span class="ident" id="3836021">Int63</span><span class="op" id="3836026">(</span><span class="op" id="3836027">)</span>&nbsp;<span class="op" id="3836029">(</span><span class="ident" id="3836030">n</span>&nbsp;<span class="ident" id="3836032">int64</span><span class="op" id="3836037">)</span>&nbsp;<span class="op" id="3836039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3836042">r</span><span class="op" id="3836043">.</span><span class="ident" id="3836044">lk</span><span class="op" id="3836046">.</span><span class="ident" id="3836047">Lock</span><span class="op" id="3836051">(</span><span class="op" id="3836052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3836055">n</span>&nbsp;<span class="op" id="3836057">=</span>&nbsp;<span class="ident" id="3836059">r</span><span class="op" id="3836060">.</span><span class="ident" id="3836061">src</span><span class="op" id="3836064">.</span><span class="ident" id="3836065">Int63</span><span class="op" id="3836070">(</span><span class="op" id="3836071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3836074">r</span><span class="op" id="3836075">.</span><span class="ident" id="3836076">lk</span><span class="op" id="3836078">.</span><span class="ident" id="3836079">Unlock</span><span class="op" id="3836085">(</span><span class="op" id="3836086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3836089">return</span><br>
<span class="lineno">240</span><span class="op" id="3836096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3836099">func</span>&nbsp;<span class="op" id="3836104">(</span><span class="ident" id="3836105">r</span>&nbsp;<span class="op" id="3836107">*</span><span class="ident" id="3836108">lockedSource</span><span class="op" id="3836120">)</span>&nbsp;<span class="ident" id="3836122">Seed</span><span class="op" id="3836126">(</span><span class="ident" id="3836127">seed</span>&nbsp;<span class="ident" id="3836132">int64</span><span class="op" id="3836137">)</span>&nbsp;<span class="op" id="3836139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3836142">r</span><span class="op" id="3836143">.</span><span class="ident" id="3836144">lk</span><span class="op" id="3836146">.</span><span class="ident" id="3836147">Lock</span><span class="op" id="3836151">(</span><span class="op" id="3836152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3836155">r</span><span class="op" id="3836156">.</span><span class="ident" id="3836157">src</span><span class="op" id="3836160">.</span><span class="ident" id="3836161">Seed</span><span class="op" id="3836165">(</span><span class="ident" id="3836166">seed</span><span class="op" id="3836170">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3836173">r</span><span class="op" id="3836174">.</span><span class="ident" id="3836175">lk</span><span class="op" id="3836177">.</span><span class="ident" id="3836178">Unlock</span><span class="op" id="3836184">(</span><span class="op" id="3836185">)</span><br>
<span class="lineno"></span><span class="op" id="3836187">}</span>
</div>
</body>
</html>
