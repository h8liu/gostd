<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7186934">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7186989">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7187043">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7187094">package</span>&nbsp;<span class="ident" id="7187102">ring</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7187108">import</span>&nbsp;<span class="op" id="7187115">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7187118">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7187125">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7187135">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7187138">//&nbsp;For&nbsp;debugging&nbsp;-&nbsp;keep&nbsp;around.</span><br>
<span class="lineno"></span><span class="keyword" id="7187170">func</span>&nbsp;<span class="ident" id="7187175">dump</span><span class="op" id="7187179">(</span><span class="ident" id="7187180">r</span>&nbsp;<span class="op" id="7187182">*</span><span class="ident" id="7187183"><a href="/container/ring/ring.go.html#4989009">Ring</a></span><span class="op" id="7187187">)</span>&nbsp;<span class="op" id="7187189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187192">if</span>&nbsp;<span class="ident" id="7187195"><a href="/container/ring/ring_test.go.html#7187180">r</a></span>&nbsp;<span class="op" id="7187197">==</span>&nbsp;<span class="ident" id="7187200">nil</span>&nbsp;<span class="op" id="7187204">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187208"><a href="/container/ring/ring_test.go.html#7187118">fmt</a></span><span class="op" id="7187211">.</span><span class="ident" id="7187212">Println</span><span class="op" id="7187219">(</span><span class="string" id="7187220">&#34;empty&#34;</span><span class="op" id="7187227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187231">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187242">i</span><span class="op" id="7187243">,</span>&nbsp;<span class="ident" id="7187245">n</span>&nbsp;<span class="op" id="7187247">:=</span>&nbsp;<span class="num" id="7187250">0</span><span class="op" id="7187251">,</span>&nbsp;<span class="ident" id="7187253"><a href="/container/ring/ring_test.go.html#7187180">r</a></span><span class="op" id="7187254">.</span><span class="ident" id="7187255">Len</span><span class="op" id="7187258">(</span><span class="op" id="7187259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187262">for</span>&nbsp;<span class="ident" id="7187266">p</span>&nbsp;<span class="op" id="7187268">:=</span>&nbsp;<span class="ident" id="7187271"><a href="/container/ring/ring_test.go.html#7187180">r</a></span><span class="op" id="7187272">;</span>&nbsp;<span class="ident" id="7187274"><a href="/container/ring/ring_test.go.html#7187242">i</a></span>&nbsp;<span class="op" id="7187276">&lt;</span>&nbsp;<span class="ident" id="7187278"><a href="/container/ring/ring_test.go.html#7187245">n</a></span><span class="op" id="7187279">;</span>&nbsp;<span class="ident" id="7187281"><a href="/container/ring/ring_test.go.html#7187266">p</a></span>&nbsp;<span class="op" id="7187283">=</span>&nbsp;<span class="ident" id="7187285"><a href="/container/ring/ring_test.go.html#7187266">p</a></span><span class="op" id="7187286">.</span><span class="ident" id="7187287">next</span>&nbsp;<span class="op" id="7187292">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187296"><a href="/container/ring/ring_test.go.html#7187118">fmt</a></span><span class="op" id="7187299">.</span><span class="ident" id="7187300">Printf</span><span class="op" id="7187306">(</span><span class="string" id="7187307">&#34;%4d:&nbsp;%p&nbsp;=&nbsp;{&lt;-&nbsp;%p&nbsp;|&nbsp;%p&nbsp;-&gt;}\n&#34;</span><span class="op" id="7187336">,</span>&nbsp;<span class="ident" id="7187338"><a href="/container/ring/ring_test.go.html#7187242">i</a></span><span class="op" id="7187339">,</span>&nbsp;<span class="ident" id="7187341"><a href="/container/ring/ring_test.go.html#7187266">p</a></span><span class="op" id="7187342">,</span>&nbsp;<span class="ident" id="7187344"><a href="/container/ring/ring_test.go.html#7187266">p</a></span><span class="op" id="7187345">.</span><span class="ident" id="7187346">prev</span><span class="op" id="7187350">,</span>&nbsp;<span class="ident" id="7187352"><a href="/container/ring/ring_test.go.html#7187266">p</a></span><span class="op" id="7187353">.</span><span class="ident" id="7187354">next</span><span class="op" id="7187358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187362"><a href="/container/ring/ring_test.go.html#7187242">i</a></span><span class="op" id="7187363">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187370"><a href="/container/ring/ring_test.go.html#7187118">fmt</a></span><span class="op" id="7187373">.</span><span class="ident" id="7187374">Println</span><span class="op" id="7187381">(</span><span class="op" id="7187382">)</span><br>
<span class="lineno"></span><span class="op" id="7187384">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7187387">func</span>&nbsp;<span class="ident" id="7187392">verify</span><span class="op" id="7187398">(</span><span class="ident" id="7187399">t</span>&nbsp;<span class="op" id="7187401">*</span><span class="ident" id="7187402"><a href="/container/ring/ring_test.go.html#7187125">testing</a></span><span class="op" id="7187409">.</span><span class="ident" id="7187410">T</span><span class="op" id="7187411">,</span>&nbsp;<span class="ident" id="7187413">r</span>&nbsp;<span class="op" id="7187415">*</span><span class="ident" id="7187416"><a href="/container/ring/ring.go.html#4989009">Ring</a></span><span class="op" id="7187420">,</span>&nbsp;<span class="ident" id="7187422">N</span>&nbsp;<span class="builtintype" id="7187424">int</span><span class="op" id="7187427">,</span>&nbsp;<span class="ident" id="7187429">sum</span>&nbsp;<span class="builtintype" id="7187433">int</span><span class="op" id="7187436">)</span>&nbsp;<span class="op" id="7187438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7187441">//&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187449">n</span>&nbsp;<span class="op" id="7187451">:=</span>&nbsp;<span class="ident" id="7187454"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7187455">.</span><span class="ident" id="7187456">Len</span><span class="op" id="7187459">(</span><span class="op" id="7187460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187463">if</span>&nbsp;<span class="ident" id="7187466"><a href="/container/ring/ring_test.go.html#7187449">n</a></span>&nbsp;<span class="op" id="7187468">!=</span>&nbsp;<span class="ident" id="7187471"><a href="/container/ring/ring_test.go.html#7187422">N</a></span>&nbsp;<span class="op" id="7187473">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187477"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7187478">.</span><span class="ident" id="7187479">Errorf</span><span class="op" id="7187485">(</span><span class="string" id="7187486">&#34;r.Len()&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7187514">,</span>&nbsp;<span class="ident" id="7187516"><a href="/container/ring/ring_test.go.html#7187449">n</a></span><span class="op" id="7187517">,</span>&nbsp;<span class="ident" id="7187519"><a href="/container/ring/ring_test.go.html#7187422">N</a></span><span class="op" id="7187520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7187527">//&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187541"><a href="/container/ring/ring_test.go.html#7187449">n</a></span>&nbsp;<span class="op" id="7187543">=</span>&nbsp;<span class="num" id="7187545">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187548">s</span>&nbsp;<span class="op" id="7187550">:=</span>&nbsp;<span class="num" id="7187553">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187556"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7187557">.</span><span class="ident" id="7187558">Do</span><span class="op" id="7187560">(</span><span class="keyword" id="7187561">func</span><span class="op" id="7187565">(</span><span class="ident" id="7187566">p</span>&nbsp;<span class="keyword" id="7187568">interface</span><span class="op" id="7187577">{</span><span class="op" id="7187578">}</span><span class="op" id="7187579">)</span>&nbsp;<span class="op" id="7187581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187585"><a href="/container/ring/ring_test.go.html#7187449">n</a></span><span class="op" id="7187586">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187591">if</span>&nbsp;<span class="ident" id="7187594"><a href="/container/ring/ring_test.go.html#7187566">p</a></span>&nbsp;<span class="op" id="7187596">!=</span>&nbsp;<span class="ident" id="7187599">nil</span>&nbsp;<span class="op" id="7187603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187608"><a href="/container/ring/ring_test.go.html#7187548">s</a></span>&nbsp;<span class="op" id="7187610">+=</span>&nbsp;<span class="ident" id="7187613"><a href="/container/ring/ring_test.go.html#7187566">p</a></span><span class="op" id="7187614">.</span><span class="op" id="7187615">(</span><span class="builtintype" id="7187616">int</span><span class="op" id="7187619">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187626">}</span><span class="op" id="7187627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187630">if</span>&nbsp;<span class="ident" id="7187633"><a href="/container/ring/ring_test.go.html#7187449">n</a></span>&nbsp;<span class="op" id="7187635">!=</span>&nbsp;<span class="ident" id="7187638"><a href="/container/ring/ring_test.go.html#7187422">N</a></span>&nbsp;<span class="op" id="7187640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187644"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7187645">.</span><span class="ident" id="7187646">Errorf</span><span class="op" id="7187652">(</span><span class="string" id="7187653">&#34;number&nbsp;of&nbsp;forward&nbsp;iterations&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7187702">,</span>&nbsp;<span class="ident" id="7187704"><a href="/container/ring/ring_test.go.html#7187449">n</a></span><span class="op" id="7187705">,</span>&nbsp;<span class="ident" id="7187707"><a href="/container/ring/ring_test.go.html#7187422">N</a></span><span class="op" id="7187708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187711">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187714">if</span>&nbsp;<span class="ident" id="7187717"><a href="/container/ring/ring_test.go.html#7187429">sum</a></span>&nbsp;<span class="op" id="7187721">&gt;=</span>&nbsp;<span class="num" id="7187724">0</span>&nbsp;<span class="op" id="7187726">&amp;&amp;</span>&nbsp;<span class="ident" id="7187729"><a href="/container/ring/ring_test.go.html#7187548">s</a></span>&nbsp;<span class="op" id="7187731">!=</span>&nbsp;<span class="ident" id="7187734"><a href="/container/ring/ring_test.go.html#7187429">sum</a></span>&nbsp;<span class="op" id="7187738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187742"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7187743">.</span><span class="ident" id="7187744">Errorf</span><span class="op" id="7187750">(</span><span class="string" id="7187751">&#34;forward&nbsp;ring&nbsp;sum&nbsp;=&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7187787">,</span>&nbsp;<span class="ident" id="7187789"><a href="/container/ring/ring_test.go.html#7187548">s</a></span><span class="op" id="7187790">,</span>&nbsp;<span class="ident" id="7187792"><a href="/container/ring/ring_test.go.html#7187429">sum</a></span><span class="op" id="7187795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187802">if</span>&nbsp;<span class="ident" id="7187805"><a href="/container/ring/ring_test.go.html#7187413">r</a></span>&nbsp;<span class="op" id="7187807">==</span>&nbsp;<span class="ident" id="7187810">nil</span>&nbsp;<span class="op" id="7187814">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187818">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7187830">//&nbsp;connections</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187846">if</span>&nbsp;<span class="ident" id="7187849"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7187850">.</span><span class="ident" id="7187851">next</span>&nbsp;<span class="op" id="7187856">!=</span>&nbsp;<span class="ident" id="7187859">nil</span>&nbsp;<span class="op" id="7187863">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187867">var</span>&nbsp;<span class="ident" id="7187871">p</span>&nbsp;<span class="op" id="7187873">*</span><span class="ident" id="7187874"><a href="/container/ring/ring.go.html#4989009">Ring</a></span>&nbsp;<span class="comment" id="7187879">//&nbsp;previous&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187901">for</span>&nbsp;<span class="ident" id="7187905">q</span>&nbsp;<span class="op" id="7187907">:=</span>&nbsp;<span class="ident" id="7187910"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7187911">;</span>&nbsp;<span class="ident" id="7187913"><a href="/container/ring/ring_test.go.html#7187871">p</a></span>&nbsp;<span class="op" id="7187915">==</span>&nbsp;<span class="ident" id="7187918">nil</span>&nbsp;<span class="op" id="7187922">||</span>&nbsp;<span class="ident" id="7187925"><a href="/container/ring/ring_test.go.html#7187905">q</a></span>&nbsp;<span class="op" id="7187927">!=</span>&nbsp;<span class="ident" id="7187930"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7187931">;</span>&nbsp;<span class="ident" id="7187933"><a href="/container/ring/ring_test.go.html#7187905">q</a></span>&nbsp;<span class="op" id="7187935">=</span>&nbsp;<span class="ident" id="7187937"><a href="/container/ring/ring_test.go.html#7187905">q</a></span><span class="op" id="7187938">.</span><span class="ident" id="7187939">next</span>&nbsp;<span class="op" id="7187944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7187949">if</span>&nbsp;<span class="ident" id="7187952"><a href="/container/ring/ring_test.go.html#7187871">p</a></span>&nbsp;<span class="op" id="7187954">!=</span>&nbsp;<span class="ident" id="7187957">nil</span>&nbsp;<span class="op" id="7187961">&amp;&amp;</span>&nbsp;<span class="ident" id="7187964"><a href="/container/ring/ring_test.go.html#7187871">p</a></span>&nbsp;<span class="op" id="7187966">!=</span>&nbsp;<span class="ident" id="7187969"><a href="/container/ring/ring_test.go.html#7187905">q</a></span><span class="op" id="7187970">.</span><span class="ident" id="7187971">prev</span>&nbsp;<span class="op" id="7187976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187982"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7187983">.</span><span class="ident" id="7187984">Errorf</span><span class="op" id="7187990">(</span><span class="string" id="7187991">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;q.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7188026">,</span>&nbsp;<span class="ident" id="7188028"><a href="/container/ring/ring_test.go.html#7187871">p</a></span><span class="op" id="7188029">,</span>&nbsp;<span class="ident" id="7188031"><a href="/container/ring/ring_test.go.html#7187905">q</a></span><span class="op" id="7188032">.</span><span class="ident" id="7188033">prev</span><span class="op" id="7188037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188042">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188047"><a href="/container/ring/ring_test.go.html#7187871">p</a></span>&nbsp;<span class="op" id="7188049">=</span>&nbsp;<span class="ident" id="7188051"><a href="/container/ring/ring_test.go.html#7187905">q</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7188059">if</span>&nbsp;<span class="ident" id="7188062"><a href="/container/ring/ring_test.go.html#7187871">p</a></span>&nbsp;<span class="op" id="7188064">!=</span>&nbsp;<span class="ident" id="7188067"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188068">.</span><span class="ident" id="7188069">prev</span>&nbsp;<span class="op" id="7188074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188079"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7188080">.</span><span class="ident" id="7188081">Errorf</span><span class="op" id="7188087">(</span><span class="string" id="7188088">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;r.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7188123">,</span>&nbsp;<span class="ident" id="7188125"><a href="/container/ring/ring_test.go.html#7187871">p</a></span><span class="op" id="7188126">,</span>&nbsp;<span class="ident" id="7188128"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188129">.</span><span class="ident" id="7188130">prev</span><span class="op" id="7188134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188138">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7188145">//&nbsp;Next,&nbsp;Prev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7188160">if</span>&nbsp;<span class="ident" id="7188163"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188164">.</span><span class="ident" id="7188165">Next</span><span class="op" id="7188169">(</span><span class="op" id="7188170">)</span>&nbsp;<span class="op" id="7188172">!=</span>&nbsp;<span class="ident" id="7188175"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188176">.</span><span class="ident" id="7188177">next</span>&nbsp;<span class="op" id="7188182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188186"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7188187">.</span><span class="ident" id="7188188">Errorf</span><span class="op" id="7188194">(</span><span class="string" id="7188195">&#34;r.Next()&nbsp;!=&nbsp;r.next&#34;</span><span class="op" id="7188215">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7188221">if</span>&nbsp;<span class="ident" id="7188224"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188225">.</span><span class="ident" id="7188226">Prev</span><span class="op" id="7188230">(</span><span class="op" id="7188231">)</span>&nbsp;<span class="op" id="7188233">!=</span>&nbsp;<span class="ident" id="7188236"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188237">.</span><span class="ident" id="7188238">prev</span>&nbsp;<span class="op" id="7188243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188247"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7188248">.</span><span class="ident" id="7188249">Errorf</span><span class="op" id="7188255">(</span><span class="string" id="7188256">&#34;r.Prev()&nbsp;!=&nbsp;r.prev&#34;</span><span class="op" id="7188276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7188283">//&nbsp;Move</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7188292">if</span>&nbsp;<span class="ident" id="7188295"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188296">.</span><span class="ident" id="7188297">Move</span><span class="op" id="7188301">(</span><span class="num" id="7188302">0</span><span class="op" id="7188303">)</span>&nbsp;<span class="op" id="7188305">!=</span>&nbsp;<span class="ident" id="7188308"><a href="/container/ring/ring_test.go.html#7187413">r</a></span>&nbsp;<span class="op" id="7188310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188314"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7188315">.</span><span class="ident" id="7188316">Errorf</span><span class="op" id="7188322">(</span><span class="string" id="7188323">&#34;r.Move(0)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7188339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7188345">if</span>&nbsp;<span class="ident" id="7188348"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188349">.</span><span class="ident" id="7188350">Move</span><span class="op" id="7188354">(</span><span class="ident" id="7188355"><a href="/container/ring/ring_test.go.html#7187422">N</a></span><span class="op" id="7188356">)</span>&nbsp;<span class="op" id="7188358">!=</span>&nbsp;<span class="ident" id="7188361"><a href="/container/ring/ring_test.go.html#7187413">r</a></span>&nbsp;<span class="op" id="7188363">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188367"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7188368">.</span><span class="ident" id="7188369">Errorf</span><span class="op" id="7188375">(</span><span class="string" id="7188376">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7188393">,</span>&nbsp;<span class="ident" id="7188395"><a href="/container/ring/ring_test.go.html#7187422">N</a></span><span class="op" id="7188396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7188402">if</span>&nbsp;<span class="ident" id="7188405"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188406">.</span><span class="ident" id="7188407">Move</span><span class="op" id="7188411">(</span><span class="op" id="7188412">-</span><span class="ident" id="7188413"><a href="/container/ring/ring_test.go.html#7187422">N</a></span><span class="op" id="7188414">)</span>&nbsp;<span class="op" id="7188416">!=</span>&nbsp;<span class="ident" id="7188419"><a href="/container/ring/ring_test.go.html#7187413">r</a></span>&nbsp;<span class="op" id="7188421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188425"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7188426">.</span><span class="ident" id="7188427">Errorf</span><span class="op" id="7188433">(</span><span class="string" id="7188434">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7188451">,</span>&nbsp;<span class="op" id="7188453">-</span><span class="ident" id="7188454"><a href="/container/ring/ring_test.go.html#7187422">N</a></span><span class="op" id="7188455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188458">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7188461">for</span>&nbsp;<span class="ident" id="7188465">i</span>&nbsp;<span class="op" id="7188467">:=</span>&nbsp;<span class="num" id="7188470">0</span><span class="op" id="7188471">;</span>&nbsp;<span class="ident" id="7188473"><a href="/container/ring/ring_test.go.html#7188465">i</a></span>&nbsp;<span class="op" id="7188475">&lt;</span>&nbsp;<span class="num" id="7188477">10</span><span class="op" id="7188479">;</span>&nbsp;<span class="ident" id="7188481"><a href="/container/ring/ring_test.go.html#7188465">i</a></span><span class="op" id="7188482">++</span>&nbsp;<span class="op" id="7188485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188489">ni</span>&nbsp;<span class="op" id="7188492">:=</span>&nbsp;<span class="ident" id="7188495"><a href="/container/ring/ring_test.go.html#7187422">N</a></span>&nbsp;<span class="op" id="7188497">+</span>&nbsp;<span class="ident" id="7188499"><a href="/container/ring/ring_test.go.html#7188465">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188503">mi</span>&nbsp;<span class="op" id="7188506">:=</span>&nbsp;<span class="ident" id="7188509"><a href="/container/ring/ring_test.go.html#7188489">ni</a></span>&nbsp;<span class="op" id="7188512">%</span>&nbsp;<span class="ident" id="7188514"><a href="/container/ring/ring_test.go.html#7187422">N</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7188518">if</span>&nbsp;<span class="ident" id="7188521"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188522">.</span><span class="ident" id="7188523">Move</span><span class="op" id="7188527">(</span><span class="ident" id="7188528"><a href="/container/ring/ring_test.go.html#7188489">ni</a></span><span class="op" id="7188530">)</span>&nbsp;<span class="op" id="7188532">!=</span>&nbsp;<span class="ident" id="7188535"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188536">.</span><span class="ident" id="7188537">Move</span><span class="op" id="7188541">(</span><span class="ident" id="7188542"><a href="/container/ring/ring_test.go.html#7188503">mi</a></span><span class="op" id="7188544">)</span>&nbsp;<span class="op" id="7188546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188551"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7188552">.</span><span class="ident" id="7188553">Errorf</span><span class="op" id="7188559">(</span><span class="string" id="7188560">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7188586">,</span>&nbsp;<span class="ident" id="7188588"><a href="/container/ring/ring_test.go.html#7188489">ni</a></span><span class="op" id="7188590">,</span>&nbsp;<span class="ident" id="7188592"><a href="/container/ring/ring_test.go.html#7188503">mi</a></span><span class="op" id="7188594">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7188602">if</span>&nbsp;<span class="ident" id="7188605"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188606">.</span><span class="ident" id="7188607">Move</span><span class="op" id="7188611">(</span><span class="op" id="7188612">-</span><span class="ident" id="7188613"><a href="/container/ring/ring_test.go.html#7188489">ni</a></span><span class="op" id="7188615">)</span>&nbsp;<span class="op" id="7188617">!=</span>&nbsp;<span class="ident" id="7188620"><a href="/container/ring/ring_test.go.html#7187413">r</a></span><span class="op" id="7188621">.</span><span class="ident" id="7188622">Move</span><span class="op" id="7188626">(</span><span class="op" id="7188627">-</span><span class="ident" id="7188628"><a href="/container/ring/ring_test.go.html#7188503">mi</a></span><span class="op" id="7188630">)</span>&nbsp;<span class="op" id="7188632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188637"><a href="/container/ring/ring_test.go.html#7187399">t</a></span><span class="op" id="7188638">.</span><span class="ident" id="7188639">Errorf</span><span class="op" id="7188645">(</span><span class="string" id="7188646">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7188672">,</span>&nbsp;<span class="op" id="7188674">-</span><span class="ident" id="7188675"><a href="/container/ring/ring_test.go.html#7188489">ni</a></span><span class="op" id="7188677">,</span>&nbsp;<span class="op" id="7188679">-</span><span class="ident" id="7188680"><a href="/container/ring/ring_test.go.html#7188503">mi</a></span><span class="op" id="7188682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188689">}</span><br>
<span class="lineno">95</span><span class="op" id="7188691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7188694">func</span>&nbsp;<span class="ident" id="7188699">TestCornerCases</span><span class="op" id="7188714">(</span><span class="ident" id="7188715">t</span>&nbsp;<span class="op" id="7188717">*</span><span class="ident" id="7188718"><a href="/container/ring/ring_test.go.html#7187125">testing</a></span><span class="op" id="7188725">.</span><span class="ident" id="7188726">T</span><span class="op" id="7188727">)</span>&nbsp;<span class="op" id="7188729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7188732">var</span>&nbsp;<span class="op" id="7188736">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188740">r0</span>&nbsp;<span class="op" id="7188743">*</span><span class="ident" id="7188744"><a href="/container/ring/ring.go.html#4989009">Ring</a></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188751">r1</span>&nbsp;<span class="ident" id="7188754"><a href="/container/ring/ring.go.html#4989009">Ring</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7188763">//&nbsp;Basics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188774"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7188780">(</span><span class="ident" id="7188781"><a href="/container/ring/ring_test.go.html#7188715">t</a></span><span class="op" id="7188782">,</span>&nbsp;<span class="ident" id="7188784"><a href="/container/ring/ring_test.go.html#7188740">r0</a></span><span class="op" id="7188786">,</span>&nbsp;<span class="num" id="7188788">0</span><span class="op" id="7188789">,</span>&nbsp;<span class="num" id="7188791">0</span><span class="op" id="7188792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188795"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7188801">(</span><span class="ident" id="7188802"><a href="/container/ring/ring_test.go.html#7188715">t</a></span><span class="op" id="7188803">,</span>&nbsp;<span class="op" id="7188805">&amp;</span><span class="ident" id="7188806"><a href="/container/ring/ring_test.go.html#7188751">r1</a></span><span class="op" id="7188808">,</span>&nbsp;<span class="num" id="7188810">1</span><span class="op" id="7188811">,</span>&nbsp;<span class="num" id="7188813">0</span><span class="op" id="7188814">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7188817">//&nbsp;Insert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188828"><a href="/container/ring/ring_test.go.html#7188751">r1</a></span><span class="op" id="7188830">.</span><span class="ident" id="7188831">Link</span><span class="op" id="7188835">(</span><span class="ident" id="7188836"><a href="/container/ring/ring_test.go.html#7188740">r0</a></span><span class="op" id="7188838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188841"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7188847">(</span><span class="ident" id="7188848"><a href="/container/ring/ring_test.go.html#7188715">t</a></span><span class="op" id="7188849">,</span>&nbsp;<span class="ident" id="7188851"><a href="/container/ring/ring_test.go.html#7188740">r0</a></span><span class="op" id="7188853">,</span>&nbsp;<span class="num" id="7188855">0</span><span class="op" id="7188856">,</span>&nbsp;<span class="num" id="7188858">0</span><span class="op" id="7188859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188862"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7188868">(</span><span class="ident" id="7188869"><a href="/container/ring/ring_test.go.html#7188715">t</a></span><span class="op" id="7188870">,</span>&nbsp;<span class="op" id="7188872">&amp;</span><span class="ident" id="7188873"><a href="/container/ring/ring_test.go.html#7188751">r1</a></span><span class="op" id="7188875">,</span>&nbsp;<span class="num" id="7188877">1</span><span class="op" id="7188878">,</span>&nbsp;<span class="num" id="7188880">0</span><span class="op" id="7188881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7188884">//&nbsp;Insert</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188895"><a href="/container/ring/ring_test.go.html#7188751">r1</a></span><span class="op" id="7188897">.</span><span class="ident" id="7188898">Link</span><span class="op" id="7188902">(</span><span class="ident" id="7188903"><a href="/container/ring/ring_test.go.html#7188740">r0</a></span><span class="op" id="7188905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188908"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7188914">(</span><span class="ident" id="7188915"><a href="/container/ring/ring_test.go.html#7188715">t</a></span><span class="op" id="7188916">,</span>&nbsp;<span class="ident" id="7188918"><a href="/container/ring/ring_test.go.html#7188740">r0</a></span><span class="op" id="7188920">,</span>&nbsp;<span class="num" id="7188922">0</span><span class="op" id="7188923">,</span>&nbsp;<span class="num" id="7188925">0</span><span class="op" id="7188926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188929"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7188935">(</span><span class="ident" id="7188936"><a href="/container/ring/ring_test.go.html#7188715">t</a></span><span class="op" id="7188937">,</span>&nbsp;<span class="op" id="7188939">&amp;</span><span class="ident" id="7188940"><a href="/container/ring/ring_test.go.html#7188751">r1</a></span><span class="op" id="7188942">,</span>&nbsp;<span class="num" id="7188944">1</span><span class="op" id="7188945">,</span>&nbsp;<span class="num" id="7188947">0</span><span class="op" id="7188948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7188951">//&nbsp;Unlink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188962"><a href="/container/ring/ring_test.go.html#7188751">r1</a></span><span class="op" id="7188964">.</span><span class="ident" id="7188965">Unlink</span><span class="op" id="7188971">(</span><span class="num" id="7188972">0</span><span class="op" id="7188973">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7188976"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7188982">(</span><span class="ident" id="7188983"><a href="/container/ring/ring_test.go.html#7188715">t</a></span><span class="op" id="7188984">,</span>&nbsp;<span class="op" id="7188986">&amp;</span><span class="ident" id="7188987"><a href="/container/ring/ring_test.go.html#7188751">r1</a></span><span class="op" id="7188989">,</span>&nbsp;<span class="num" id="7188991">1</span><span class="op" id="7188992">,</span>&nbsp;<span class="num" id="7188994">0</span><span class="op" id="7188995">)</span><br>
<span class="lineno"></span><span class="op" id="7188997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7189000">func</span>&nbsp;<span class="ident" id="7189005">makeN</span><span class="op" id="7189010">(</span><span class="ident" id="7189011">n</span>&nbsp;<span class="builtintype" id="7189013">int</span><span class="op" id="7189016">)</span>&nbsp;<span class="op" id="7189018">*</span><span class="ident" id="7189019"><a href="/container/ring/ring.go.html#4989009">Ring</a></span>&nbsp;<span class="op" id="7189024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189027">r</span>&nbsp;<span class="op" id="7189029">:=</span>&nbsp;<span class="ident" id="7189032"><a href="/container/ring/ring.go.html#4989875">New</a></span><span class="op" id="7189035">(</span><span class="ident" id="7189036"><a href="/container/ring/ring_test.go.html#7189011">n</a></span><span class="op" id="7189037">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7189040">for</span>&nbsp;<span class="ident" id="7189044">i</span>&nbsp;<span class="op" id="7189046">:=</span>&nbsp;<span class="num" id="7189049">1</span><span class="op" id="7189050">;</span>&nbsp;<span class="ident" id="7189052"><a href="/container/ring/ring_test.go.html#7189044">i</a></span>&nbsp;<span class="op" id="7189054">&lt;=</span>&nbsp;<span class="ident" id="7189057"><a href="/container/ring/ring_test.go.html#7189011">n</a></span><span class="op" id="7189058">;</span>&nbsp;<span class="ident" id="7189060"><a href="/container/ring/ring_test.go.html#7189044">i</a></span><span class="op" id="7189061">++</span>&nbsp;<span class="op" id="7189064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189068"><a href="/container/ring/ring_test.go.html#7189027">r</a></span><span class="op" id="7189069">.</span><span class="ident" id="7189070">Value</span>&nbsp;<span class="op" id="7189076">=</span>&nbsp;<span class="ident" id="7189078"><a href="/container/ring/ring_test.go.html#7189044">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189082"><a href="/container/ring/ring_test.go.html#7189027">r</a></span>&nbsp;<span class="op" id="7189084">=</span>&nbsp;<span class="ident" id="7189086"><a href="/container/ring/ring_test.go.html#7189027">r</a></span><span class="op" id="7189087">.</span><span class="ident" id="7189088">Next</span><span class="op" id="7189092">(</span><span class="op" id="7189093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7189099">return</span>&nbsp;<span class="ident" id="7189106"><a href="/container/ring/ring_test.go.html#7189027">r</a></span><br>
<span class="lineno">125</span><span class="op" id="7189108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7189111">func</span>&nbsp;<span class="ident" id="7189116">sumN</span><span class="op" id="7189120">(</span><span class="ident" id="7189121">n</span>&nbsp;<span class="builtintype" id="7189123">int</span><span class="op" id="7189126">)</span>&nbsp;<span class="builtintype" id="7189128">int</span>&nbsp;<span class="op" id="7189132">{</span>&nbsp;<span class="keyword" id="7189134">return</span>&nbsp;<span class="op" id="7189141">(</span><span class="ident" id="7189142"><a href="/container/ring/ring_test.go.html#7189121">n</a></span><span class="op" id="7189143">*</span><span class="ident" id="7189144"><a href="/container/ring/ring_test.go.html#7189121">n</a></span>&nbsp;<span class="op" id="7189146">+</span>&nbsp;<span class="ident" id="7189148"><a href="/container/ring/ring_test.go.html#7189121">n</a></span><span class="op" id="7189149">)</span>&nbsp;<span class="op" id="7189151">/</span>&nbsp;<span class="num" id="7189153">2</span>&nbsp;<span class="op" id="7189155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7189158">func</span>&nbsp;<span class="ident" id="7189163">TestNew</span><span class="op" id="7189170">(</span><span class="ident" id="7189171">t</span>&nbsp;<span class="op" id="7189173">*</span><span class="ident" id="7189174"><a href="/container/ring/ring_test.go.html#7187125">testing</a></span><span class="op" id="7189181">.</span><span class="ident" id="7189182">T</span><span class="op" id="7189183">)</span>&nbsp;<span class="op" id="7189185">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7189188">for</span>&nbsp;<span class="ident" id="7189192">i</span>&nbsp;<span class="op" id="7189194">:=</span>&nbsp;<span class="num" id="7189197">0</span><span class="op" id="7189198">;</span>&nbsp;<span class="ident" id="7189200"><a href="/container/ring/ring_test.go.html#7189192">i</a></span>&nbsp;<span class="op" id="7189202">&lt;</span>&nbsp;<span class="num" id="7189204">10</span><span class="op" id="7189206">;</span>&nbsp;<span class="ident" id="7189208"><a href="/container/ring/ring_test.go.html#7189192">i</a></span><span class="op" id="7189209">++</span>&nbsp;<span class="op" id="7189212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189216">r</span>&nbsp;<span class="op" id="7189218">:=</span>&nbsp;<span class="ident" id="7189221"><a href="/container/ring/ring.go.html#4989875">New</a></span><span class="op" id="7189224">(</span><span class="ident" id="7189225"><a href="/container/ring/ring_test.go.html#7189192">i</a></span><span class="op" id="7189226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189230"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7189236">(</span><span class="ident" id="7189237"><a href="/container/ring/ring_test.go.html#7189171">t</a></span><span class="op" id="7189238">,</span>&nbsp;<span class="ident" id="7189240"><a href="/container/ring/ring_test.go.html#7189216">r</a></span><span class="op" id="7189241">,</span>&nbsp;<span class="ident" id="7189243"><a href="/container/ring/ring_test.go.html#7189192">i</a></span><span class="op" id="7189244">,</span>&nbsp;<span class="op" id="7189246">-</span><span class="num" id="7189247">1</span><span class="op" id="7189248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7189254">for</span>&nbsp;<span class="ident" id="7189258">i</span>&nbsp;<span class="op" id="7189260">:=</span>&nbsp;<span class="num" id="7189263">0</span><span class="op" id="7189264">;</span>&nbsp;<span class="ident" id="7189266"><a href="/container/ring/ring_test.go.html#7189258">i</a></span>&nbsp;<span class="op" id="7189268">&lt;</span>&nbsp;<span class="num" id="7189270">10</span><span class="op" id="7189272">;</span>&nbsp;<span class="ident" id="7189274"><a href="/container/ring/ring_test.go.html#7189258">i</a></span><span class="op" id="7189275">++</span>&nbsp;<span class="op" id="7189278">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189282">r</span>&nbsp;<span class="op" id="7189284">:=</span>&nbsp;<span class="ident" id="7189287"><a href="/container/ring/ring_test.go.html#7189005">makeN</a></span><span class="op" id="7189292">(</span><span class="ident" id="7189293"><a href="/container/ring/ring_test.go.html#7189258">i</a></span><span class="op" id="7189294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189298"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7189304">(</span><span class="ident" id="7189305"><a href="/container/ring/ring_test.go.html#7189171">t</a></span><span class="op" id="7189306">,</span>&nbsp;<span class="ident" id="7189308"><a href="/container/ring/ring_test.go.html#7189282">r</a></span><span class="op" id="7189309">,</span>&nbsp;<span class="ident" id="7189311"><a href="/container/ring/ring_test.go.html#7189258">i</a></span><span class="op" id="7189312">,</span>&nbsp;<span class="ident" id="7189314"><a href="/container/ring/ring_test.go.html#7189116">sumN</a></span><span class="op" id="7189318">(</span><span class="ident" id="7189319"><a href="/container/ring/ring_test.go.html#7189258">i</a></span><span class="op" id="7189320">)</span><span class="op" id="7189321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189324">}</span><br>
<span class="lineno"></span><span class="op" id="7189326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7189329">func</span>&nbsp;<span class="ident" id="7189334">TestLink1</span><span class="op" id="7189343">(</span><span class="ident" id="7189344">t</span>&nbsp;<span class="op" id="7189346">*</span><span class="ident" id="7189347"><a href="/container/ring/ring_test.go.html#7187125">testing</a></span><span class="op" id="7189354">.</span><span class="ident" id="7189355">T</span><span class="op" id="7189356">)</span>&nbsp;<span class="op" id="7189358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189361">r1a</span>&nbsp;<span class="op" id="7189365">:=</span>&nbsp;<span class="ident" id="7189368"><a href="/container/ring/ring_test.go.html#7189005">makeN</a></span><span class="op" id="7189373">(</span><span class="num" id="7189374">1</span><span class="op" id="7189375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7189378">var</span>&nbsp;<span class="ident" id="7189382">r1b</span>&nbsp;<span class="ident" id="7189386"><a href="/container/ring/ring.go.html#4989009">Ring</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189392">r2a</span>&nbsp;<span class="op" id="7189396">:=</span>&nbsp;<span class="ident" id="7189399"><a href="/container/ring/ring_test.go.html#7189361">r1a</a></span><span class="op" id="7189402">.</span><span class="ident" id="7189403">Link</span><span class="op" id="7189407">(</span><span class="op" id="7189408">&amp;</span><span class="ident" id="7189409"><a href="/container/ring/ring_test.go.html#7189382">r1b</a></span><span class="op" id="7189412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189415"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7189421">(</span><span class="ident" id="7189422"><a href="/container/ring/ring_test.go.html#7189344">t</a></span><span class="op" id="7189423">,</span>&nbsp;<span class="ident" id="7189425"><a href="/container/ring/ring_test.go.html#7189392">r2a</a></span><span class="op" id="7189428">,</span>&nbsp;<span class="num" id="7189430">2</span><span class="op" id="7189431">,</span>&nbsp;<span class="num" id="7189433">1</span><span class="op" id="7189434">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7189437">if</span>&nbsp;<span class="ident" id="7189440"><a href="/container/ring/ring_test.go.html#7189392">r2a</a></span>&nbsp;<span class="op" id="7189444">!=</span>&nbsp;<span class="ident" id="7189447"><a href="/container/ring/ring_test.go.html#7189361">r1a</a></span>&nbsp;<span class="op" id="7189451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189455"><a href="/container/ring/ring_test.go.html#7189344">t</a></span><span class="op" id="7189456">.</span><span class="ident" id="7189457">Errorf</span><span class="op" id="7189463">(</span><span class="string" id="7189464">&#34;a)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7189490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189497">r2b</span>&nbsp;<span class="op" id="7189501">:=</span>&nbsp;<span class="ident" id="7189504"><a href="/container/ring/ring_test.go.html#7189392">r2a</a></span><span class="op" id="7189507">.</span><span class="ident" id="7189508">Link</span><span class="op" id="7189512">(</span><span class="ident" id="7189513"><a href="/container/ring/ring_test.go.html#7189392">r2a</a></span><span class="op" id="7189516">.</span><span class="ident" id="7189517">Next</span><span class="op" id="7189521">(</span><span class="op" id="7189522">)</span><span class="op" id="7189523">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189526"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7189532">(</span><span class="ident" id="7189533"><a href="/container/ring/ring_test.go.html#7189344">t</a></span><span class="op" id="7189534">,</span>&nbsp;<span class="ident" id="7189536"><a href="/container/ring/ring_test.go.html#7189497">r2b</a></span><span class="op" id="7189539">,</span>&nbsp;<span class="num" id="7189541">2</span><span class="op" id="7189542">,</span>&nbsp;<span class="num" id="7189544">1</span><span class="op" id="7189545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7189548">if</span>&nbsp;<span class="ident" id="7189551"><a href="/container/ring/ring_test.go.html#7189497">r2b</a></span>&nbsp;<span class="op" id="7189555">!=</span>&nbsp;<span class="ident" id="7189558"><a href="/container/ring/ring_test.go.html#7189392">r2a</a></span><span class="op" id="7189561">.</span><span class="ident" id="7189562">Next</span><span class="op" id="7189566">(</span><span class="op" id="7189567">)</span>&nbsp;<span class="op" id="7189569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189573"><a href="/container/ring/ring_test.go.html#7189344">t</a></span><span class="op" id="7189574">.</span><span class="ident" id="7189575">Errorf</span><span class="op" id="7189581">(</span><span class="string" id="7189582">&#34;b)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7189608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189615">r1c</span>&nbsp;<span class="op" id="7189619">:=</span>&nbsp;<span class="ident" id="7189622"><a href="/container/ring/ring_test.go.html#7189497">r2b</a></span><span class="op" id="7189625">.</span><span class="ident" id="7189626">Link</span><span class="op" id="7189630">(</span><span class="ident" id="7189631"><a href="/container/ring/ring_test.go.html#7189497">r2b</a></span><span class="op" id="7189634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189637"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7189643">(</span><span class="ident" id="7189644"><a href="/container/ring/ring_test.go.html#7189344">t</a></span><span class="op" id="7189645">,</span>&nbsp;<span class="ident" id="7189647"><a href="/container/ring/ring_test.go.html#7189615">r1c</a></span><span class="op" id="7189650">,</span>&nbsp;<span class="num" id="7189652">1</span><span class="op" id="7189653">,</span>&nbsp;<span class="num" id="7189655">1</span><span class="op" id="7189656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189659"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7189665">(</span><span class="ident" id="7189666"><a href="/container/ring/ring_test.go.html#7189344">t</a></span><span class="op" id="7189667">,</span>&nbsp;<span class="ident" id="7189669"><a href="/container/ring/ring_test.go.html#7189497">r2b</a></span><span class="op" id="7189672">,</span>&nbsp;<span class="num" id="7189674">1</span><span class="op" id="7189675">,</span>&nbsp;<span class="num" id="7189677">0</span><span class="op" id="7189678">)</span><br>
<span class="lineno"></span><span class="op" id="7189680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7189683">func</span>&nbsp;<span class="ident" id="7189688">TestLink2</span><span class="op" id="7189697">(</span><span class="ident" id="7189698">t</span>&nbsp;<span class="op" id="7189700">*</span><span class="ident" id="7189701"><a href="/container/ring/ring_test.go.html#7187125">testing</a></span><span class="op" id="7189708">.</span><span class="ident" id="7189709">T</span><span class="op" id="7189710">)</span>&nbsp;<span class="op" id="7189712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7189715">var</span>&nbsp;<span class="ident" id="7189719">r0</span>&nbsp;<span class="op" id="7189722">*</span><span class="ident" id="7189723"><a href="/container/ring/ring.go.html#4989009">Ring</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189729">r1a</span>&nbsp;<span class="op" id="7189733">:=</span>&nbsp;<span class="op" id="7189736">&amp;</span><span class="ident" id="7189737"><a href="/container/ring/ring.go.html#4989009">Ring</a></span><span class="op" id="7189741">{</span><span class="ident" id="7189742">Value</span><span class="op" id="7189747">:</span>&nbsp;<span class="num" id="7189749">42</span><span class="op" id="7189751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189754">r1b</span>&nbsp;<span class="op" id="7189758">:=</span>&nbsp;<span class="op" id="7189761">&amp;</span><span class="ident" id="7189762"><a href="/container/ring/ring.go.html#4989009">Ring</a></span><span class="op" id="7189766">{</span><span class="ident" id="7189767">Value</span><span class="op" id="7189772">:</span>&nbsp;<span class="num" id="7189774">77</span><span class="op" id="7189776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189779">r10</span>&nbsp;<span class="op" id="7189783">:=</span>&nbsp;<span class="ident" id="7189786"><a href="/container/ring/ring_test.go.html#7189005">makeN</a></span><span class="op" id="7189791">(</span><span class="num" id="7189792">10</span><span class="op" id="7189794">)</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189798"><a href="/container/ring/ring_test.go.html#7189729">r1a</a></span><span class="op" id="7189801">.</span><span class="ident" id="7189802">Link</span><span class="op" id="7189806">(</span><span class="ident" id="7189807"><a href="/container/ring/ring_test.go.html#7189719">r0</a></span><span class="op" id="7189809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189812"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7189818">(</span><span class="ident" id="7189819"><a href="/container/ring/ring_test.go.html#7189698">t</a></span><span class="op" id="7189820">,</span>&nbsp;<span class="ident" id="7189822"><a href="/container/ring/ring_test.go.html#7189729">r1a</a></span><span class="op" id="7189825">,</span>&nbsp;<span class="num" id="7189827">1</span><span class="op" id="7189828">,</span>&nbsp;<span class="num" id="7189830">42</span><span class="op" id="7189832">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189836"><a href="/container/ring/ring_test.go.html#7189729">r1a</a></span><span class="op" id="7189839">.</span><span class="ident" id="7189840">Link</span><span class="op" id="7189844">(</span><span class="ident" id="7189845"><a href="/container/ring/ring_test.go.html#7189754">r1b</a></span><span class="op" id="7189848">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189851"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7189857">(</span><span class="ident" id="7189858"><a href="/container/ring/ring_test.go.html#7189698">t</a></span><span class="op" id="7189859">,</span>&nbsp;<span class="ident" id="7189861"><a href="/container/ring/ring_test.go.html#7189729">r1a</a></span><span class="op" id="7189864">,</span>&nbsp;<span class="num" id="7189866">2</span><span class="op" id="7189867">,</span>&nbsp;<span class="num" id="7189869">42</span><span class="op" id="7189871">+</span><span class="num" id="7189872">77</span><span class="op" id="7189874">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189878"><a href="/container/ring/ring_test.go.html#7189779">r10</a></span><span class="op" id="7189881">.</span><span class="ident" id="7189882">Link</span><span class="op" id="7189886">(</span><span class="ident" id="7189887"><a href="/container/ring/ring_test.go.html#7189719">r0</a></span><span class="op" id="7189889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189892"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7189898">(</span><span class="ident" id="7189899"><a href="/container/ring/ring_test.go.html#7189698">t</a></span><span class="op" id="7189900">,</span>&nbsp;<span class="ident" id="7189902"><a href="/container/ring/ring_test.go.html#7189779">r10</a></span><span class="op" id="7189905">,</span>&nbsp;<span class="num" id="7189907">10</span><span class="op" id="7189909">,</span>&nbsp;<span class="ident" id="7189911"><a href="/container/ring/ring_test.go.html#7189116">sumN</a></span><span class="op" id="7189915">(</span><span class="num" id="7189916">10</span><span class="op" id="7189918">)</span><span class="op" id="7189919">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189923"><a href="/container/ring/ring_test.go.html#7189779">r10</a></span><span class="op" id="7189926">.</span><span class="ident" id="7189927">Link</span><span class="op" id="7189931">(</span><span class="ident" id="7189932"><a href="/container/ring/ring_test.go.html#7189729">r1a</a></span><span class="op" id="7189935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7189938"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7189944">(</span><span class="ident" id="7189945"><a href="/container/ring/ring_test.go.html#7189698">t</a></span><span class="op" id="7189946">,</span>&nbsp;<span class="ident" id="7189948"><a href="/container/ring/ring_test.go.html#7189779">r10</a></span><span class="op" id="7189951">,</span>&nbsp;<span class="num" id="7189953">12</span><span class="op" id="7189955">,</span>&nbsp;<span class="ident" id="7189957"><a href="/container/ring/ring_test.go.html#7189116">sumN</a></span><span class="op" id="7189961">(</span><span class="num" id="7189962">10</span><span class="op" id="7189964">)</span><span class="op" id="7189965">+</span><span class="num" id="7189966">42</span><span class="op" id="7189968">+</span><span class="num" id="7189969">77</span><span class="op" id="7189971">)</span><br>
<span class="lineno"></span><span class="op" id="7189973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7189976">func</span>&nbsp;<span class="ident" id="7189981">TestLink3</span><span class="op" id="7189990">(</span><span class="ident" id="7189991">t</span>&nbsp;<span class="op" id="7189993">*</span><span class="ident" id="7189994"><a href="/container/ring/ring_test.go.html#7187125">testing</a></span><span class="op" id="7190001">.</span><span class="ident" id="7190002">T</span><span class="op" id="7190003">)</span>&nbsp;<span class="op" id="7190005">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7190008">var</span>&nbsp;<span class="ident" id="7190012">r</span>&nbsp;<span class="ident" id="7190014"><a href="/container/ring/ring.go.html#4989009">Ring</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190020">n</span>&nbsp;<span class="op" id="7190022">:=</span>&nbsp;<span class="num" id="7190025">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7190028">for</span>&nbsp;<span class="ident" id="7190032">i</span>&nbsp;<span class="op" id="7190034">:=</span>&nbsp;<span class="num" id="7190037">1</span><span class="op" id="7190038">;</span>&nbsp;<span class="ident" id="7190040"><a href="/container/ring/ring_test.go.html#7190032">i</a></span>&nbsp;<span class="op" id="7190042">&lt;</span>&nbsp;<span class="num" id="7190044">100</span><span class="op" id="7190047">;</span>&nbsp;<span class="ident" id="7190049"><a href="/container/ring/ring_test.go.html#7190032">i</a></span><span class="op" id="7190050">++</span>&nbsp;<span class="op" id="7190053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190057"><a href="/container/ring/ring_test.go.html#7190020">n</a></span>&nbsp;<span class="op" id="7190059">+=</span>&nbsp;<span class="ident" id="7190062"><a href="/container/ring/ring_test.go.html#7190032">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190066"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190072">(</span><span class="ident" id="7190073"><a href="/container/ring/ring_test.go.html#7189991">t</a></span><span class="op" id="7190074">,</span>&nbsp;<span class="ident" id="7190076"><a href="/container/ring/ring_test.go.html#7190012">r</a></span><span class="op" id="7190077">.</span><span class="ident" id="7190078">Link</span><span class="op" id="7190082">(</span><span class="ident" id="7190083"><a href="/container/ring/ring.go.html#4989875">New</a></span><span class="op" id="7190086">(</span><span class="ident" id="7190087"><a href="/container/ring/ring_test.go.html#7190032">i</a></span><span class="op" id="7190088">)</span><span class="op" id="7190089">)</span><span class="op" id="7190090">,</span>&nbsp;<span class="ident" id="7190092"><a href="/container/ring/ring_test.go.html#7190020">n</a></span><span class="op" id="7190093">,</span>&nbsp;<span class="op" id="7190095">-</span><span class="num" id="7190096">1</span><span class="op" id="7190097">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190100">}</span><br>
<span class="lineno"></span><span class="op" id="7190102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7190105">func</span>&nbsp;<span class="ident" id="7190110">TestUnlink</span><span class="op" id="7190120">(</span><span class="ident" id="7190121">t</span>&nbsp;<span class="op" id="7190123">*</span><span class="ident" id="7190124"><a href="/container/ring/ring_test.go.html#7187125">testing</a></span><span class="op" id="7190131">.</span><span class="ident" id="7190132">T</span><span class="op" id="7190133">)</span>&nbsp;<span class="op" id="7190135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190138">r10</span>&nbsp;<span class="op" id="7190142">:=</span>&nbsp;<span class="ident" id="7190145"><a href="/container/ring/ring_test.go.html#7189005">makeN</a></span><span class="op" id="7190150">(</span><span class="num" id="7190151">10</span><span class="op" id="7190153">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190156">s10</span>&nbsp;<span class="op" id="7190160">:=</span>&nbsp;<span class="ident" id="7190163"><a href="/container/ring/ring_test.go.html#7190138">r10</a></span><span class="op" id="7190166">.</span><span class="ident" id="7190167">Move</span><span class="op" id="7190171">(</span><span class="num" id="7190172">6</span><span class="op" id="7190173">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190177">sum10</span>&nbsp;<span class="op" id="7190183">:=</span>&nbsp;<span class="ident" id="7190186"><a href="/container/ring/ring_test.go.html#7189116">sumN</a></span><span class="op" id="7190190">(</span><span class="num" id="7190191">10</span><span class="op" id="7190193">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190197"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190203">(</span><span class="ident" id="7190204"><a href="/container/ring/ring_test.go.html#7190121">t</a></span><span class="op" id="7190205">,</span>&nbsp;<span class="ident" id="7190207"><a href="/container/ring/ring_test.go.html#7190138">r10</a></span><span class="op" id="7190210">,</span>&nbsp;<span class="num" id="7190212">10</span><span class="op" id="7190214">,</span>&nbsp;<span class="ident" id="7190216"><a href="/container/ring/ring_test.go.html#7190177">sum10</a></span><span class="op" id="7190221">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190224"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190230">(</span><span class="ident" id="7190231"><a href="/container/ring/ring_test.go.html#7190121">t</a></span><span class="op" id="7190232">,</span>&nbsp;<span class="ident" id="7190234"><a href="/container/ring/ring_test.go.html#7190156">s10</a></span><span class="op" id="7190237">,</span>&nbsp;<span class="num" id="7190239">10</span><span class="op" id="7190241">,</span>&nbsp;<span class="ident" id="7190243"><a href="/container/ring/ring_test.go.html#7190177">sum10</a></span><span class="op" id="7190248">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190252">r0</span>&nbsp;<span class="op" id="7190255">:=</span>&nbsp;<span class="ident" id="7190258"><a href="/container/ring/ring_test.go.html#7190138">r10</a></span><span class="op" id="7190261">.</span><span class="ident" id="7190262">Unlink</span><span class="op" id="7190268">(</span><span class="num" id="7190269">0</span><span class="op" id="7190270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190273"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190279">(</span><span class="ident" id="7190280"><a href="/container/ring/ring_test.go.html#7190121">t</a></span><span class="op" id="7190281">,</span>&nbsp;<span class="ident" id="7190283"><a href="/container/ring/ring_test.go.html#7190252">r0</a></span><span class="op" id="7190285">,</span>&nbsp;<span class="num" id="7190287">0</span><span class="op" id="7190288">,</span>&nbsp;<span class="num" id="7190290">0</span><span class="op" id="7190291">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190295">r1</span>&nbsp;<span class="op" id="7190298">:=</span>&nbsp;<span class="ident" id="7190301"><a href="/container/ring/ring_test.go.html#7190138">r10</a></span><span class="op" id="7190304">.</span><span class="ident" id="7190305">Unlink</span><span class="op" id="7190311">(</span><span class="num" id="7190312">1</span><span class="op" id="7190313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190316"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190322">(</span><span class="ident" id="7190323"><a href="/container/ring/ring_test.go.html#7190121">t</a></span><span class="op" id="7190324">,</span>&nbsp;<span class="ident" id="7190326"><a href="/container/ring/ring_test.go.html#7190295">r1</a></span><span class="op" id="7190328">,</span>&nbsp;<span class="num" id="7190330">1</span><span class="op" id="7190331">,</span>&nbsp;<span class="num" id="7190333">2</span><span class="op" id="7190334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190337"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190343">(</span><span class="ident" id="7190344"><a href="/container/ring/ring_test.go.html#7190121">t</a></span><span class="op" id="7190345">,</span>&nbsp;<span class="ident" id="7190347"><a href="/container/ring/ring_test.go.html#7190138">r10</a></span><span class="op" id="7190350">,</span>&nbsp;<span class="num" id="7190352">9</span><span class="op" id="7190353">,</span>&nbsp;<span class="ident" id="7190355"><a href="/container/ring/ring_test.go.html#7190177">sum10</a></span><span class="op" id="7190360">-</span><span class="num" id="7190361">2</span><span class="op" id="7190362">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190366">r9</span>&nbsp;<span class="op" id="7190369">:=</span>&nbsp;<span class="ident" id="7190372"><a href="/container/ring/ring_test.go.html#7190138">r10</a></span><span class="op" id="7190375">.</span><span class="ident" id="7190376">Unlink</span><span class="op" id="7190382">(</span><span class="num" id="7190383">9</span><span class="op" id="7190384">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190387"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190393">(</span><span class="ident" id="7190394"><a href="/container/ring/ring_test.go.html#7190121">t</a></span><span class="op" id="7190395">,</span>&nbsp;<span class="ident" id="7190397"><a href="/container/ring/ring_test.go.html#7190366">r9</a></span><span class="op" id="7190399">,</span>&nbsp;<span class="num" id="7190401">9</span><span class="op" id="7190402">,</span>&nbsp;<span class="ident" id="7190404"><a href="/container/ring/ring_test.go.html#7190177">sum10</a></span><span class="op" id="7190409">-</span><span class="num" id="7190410">2</span><span class="op" id="7190411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190414"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190420">(</span><span class="ident" id="7190421"><a href="/container/ring/ring_test.go.html#7190121">t</a></span><span class="op" id="7190422">,</span>&nbsp;<span class="ident" id="7190424"><a href="/container/ring/ring_test.go.html#7190138">r10</a></span><span class="op" id="7190427">,</span>&nbsp;<span class="num" id="7190429">9</span><span class="op" id="7190430">,</span>&nbsp;<span class="ident" id="7190432"><a href="/container/ring/ring_test.go.html#7190177">sum10</a></span><span class="op" id="7190437">-</span><span class="num" id="7190438">2</span><span class="op" id="7190439">)</span><br>
<span class="lineno"></span><span class="op" id="7190441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7190444">func</span>&nbsp;<span class="ident" id="7190449">TestLinkUnlink</span><span class="op" id="7190463">(</span><span class="ident" id="7190464">t</span>&nbsp;<span class="op" id="7190466">*</span><span class="ident" id="7190467"><a href="/container/ring/ring_test.go.html#7187125">testing</a></span><span class="op" id="7190474">.</span><span class="ident" id="7190475">T</span><span class="op" id="7190476">)</span>&nbsp;<span class="op" id="7190478">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7190481">for</span>&nbsp;<span class="ident" id="7190485">i</span>&nbsp;<span class="op" id="7190487">:=</span>&nbsp;<span class="num" id="7190490">1</span><span class="op" id="7190491">;</span>&nbsp;<span class="ident" id="7190493"><a href="/container/ring/ring_test.go.html#7190485">i</a></span>&nbsp;<span class="op" id="7190495">&lt;</span>&nbsp;<span class="num" id="7190497">4</span><span class="op" id="7190498">;</span>&nbsp;<span class="ident" id="7190500"><a href="/container/ring/ring_test.go.html#7190485">i</a></span><span class="op" id="7190501">++</span>&nbsp;<span class="op" id="7190504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190508">ri</span>&nbsp;<span class="op" id="7190511">:=</span>&nbsp;<span class="ident" id="7190514"><a href="/container/ring/ring.go.html#4989875">New</a></span><span class="op" id="7190517">(</span><span class="ident" id="7190518"><a href="/container/ring/ring_test.go.html#7190485">i</a></span><span class="op" id="7190519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7190523">for</span>&nbsp;<span class="ident" id="7190527">j</span>&nbsp;<span class="op" id="7190529">:=</span>&nbsp;<span class="num" id="7190532">0</span><span class="op" id="7190533">;</span>&nbsp;<span class="ident" id="7190535"><a href="/container/ring/ring_test.go.html#7190527">j</a></span>&nbsp;<span class="op" id="7190537">&lt;</span>&nbsp;<span class="ident" id="7190539"><a href="/container/ring/ring_test.go.html#7190485">i</a></span><span class="op" id="7190540">;</span>&nbsp;<span class="ident" id="7190542"><a href="/container/ring/ring_test.go.html#7190527">j</a></span><span class="op" id="7190543">++</span>&nbsp;<span class="op" id="7190546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190551">rj</span>&nbsp;<span class="op" id="7190554">:=</span>&nbsp;<span class="ident" id="7190557"><a href="/container/ring/ring_test.go.html#7190508">ri</a></span><span class="op" id="7190559">.</span><span class="ident" id="7190560">Unlink</span><span class="op" id="7190566">(</span><span class="ident" id="7190567"><a href="/container/ring/ring_test.go.html#7190527">j</a></span><span class="op" id="7190568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190573"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190579">(</span><span class="ident" id="7190580"><a href="/container/ring/ring_test.go.html#7190464">t</a></span><span class="op" id="7190581">,</span>&nbsp;<span class="ident" id="7190583"><a href="/container/ring/ring_test.go.html#7190551">rj</a></span><span class="op" id="7190585">,</span>&nbsp;<span class="ident" id="7190587"><a href="/container/ring/ring_test.go.html#7190527">j</a></span><span class="op" id="7190588">,</span>&nbsp;<span class="op" id="7190590">-</span><span class="num" id="7190591">1</span><span class="op" id="7190592">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190597"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190603">(</span><span class="ident" id="7190604"><a href="/container/ring/ring_test.go.html#7190464">t</a></span><span class="op" id="7190605">,</span>&nbsp;<span class="ident" id="7190607"><a href="/container/ring/ring_test.go.html#7190508">ri</a></span><span class="op" id="7190609">,</span>&nbsp;<span class="ident" id="7190611"><a href="/container/ring/ring_test.go.html#7190485">i</a></span><span class="op" id="7190612">-</span><span class="ident" id="7190613"><a href="/container/ring/ring_test.go.html#7190527">j</a></span><span class="op" id="7190614">,</span>&nbsp;<span class="op" id="7190616">-</span><span class="num" id="7190617">1</span><span class="op" id="7190618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190623"><a href="/container/ring/ring_test.go.html#7190508">ri</a></span><span class="op" id="7190625">.</span><span class="ident" id="7190626">Link</span><span class="op" id="7190630">(</span><span class="ident" id="7190631"><a href="/container/ring/ring_test.go.html#7190551">rj</a></span><span class="op" id="7190633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190638"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190644">(</span><span class="ident" id="7190645"><a href="/container/ring/ring_test.go.html#7190464">t</a></span><span class="op" id="7190646">,</span>&nbsp;<span class="ident" id="7190648"><a href="/container/ring/ring_test.go.html#7190508">ri</a></span><span class="op" id="7190650">,</span>&nbsp;<span class="ident" id="7190652"><a href="/container/ring/ring_test.go.html#7190485">i</a></span><span class="op" id="7190653">,</span>&nbsp;<span class="op" id="7190655">-</span><span class="num" id="7190656">1</span><span class="op" id="7190657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190664">}</span><br>
<span class="lineno">220</span><span class="op" id="7190666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7190669">//&nbsp;Test&nbsp;that&nbsp;calling&nbsp;Move()&nbsp;on&nbsp;an&nbsp;empty&nbsp;Ring&nbsp;initializes&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="7190730">func</span>&nbsp;<span class="ident" id="7190735">TestMoveEmptyRing</span><span class="op" id="7190752">(</span><span class="ident" id="7190753">t</span>&nbsp;<span class="op" id="7190755">*</span><span class="ident" id="7190756"><a href="/container/ring/ring_test.go.html#7187125">testing</a></span><span class="op" id="7190763">.</span><span class="ident" id="7190764">T</span><span class="op" id="7190765">)</span>&nbsp;<span class="op" id="7190767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7190770">var</span>&nbsp;<span class="ident" id="7190774">r</span>&nbsp;<span class="ident" id="7190776"><a href="/container/ring/ring.go.html#4989009">Ring</a></span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190783"><a href="/container/ring/ring_test.go.html#7190774">r</a></span><span class="op" id="7190784">.</span><span class="ident" id="7190785">Move</span><span class="op" id="7190789">(</span><span class="num" id="7190790">1</span><span class="op" id="7190791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7190794"><a href="/container/ring/ring_test.go.html#7187392">verify</a></span><span class="op" id="7190800">(</span><span class="ident" id="7190801"><a href="/container/ring/ring_test.go.html#7190753">t</a></span><span class="op" id="7190802">,</span>&nbsp;<span class="op" id="7190804">&amp;</span><span class="ident" id="7190805"><a href="/container/ring/ring_test.go.html#7190774">r</a></span><span class="op" id="7190806">,</span>&nbsp;<span class="num" id="7190808">1</span><span class="op" id="7190809">,</span>&nbsp;<span class="num" id="7190811">0</span><span class="op" id="7190812">)</span><br>
<span class="lineno"></span><span class="op" id="7190814">}</span>
</div>
</body>
</html>
