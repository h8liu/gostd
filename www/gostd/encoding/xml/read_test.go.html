<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6834930">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6834985">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6835039">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6835090">package</span>&nbsp;<span class="ident" id="6835098">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6835103">import</span>&nbsp;<span class="op" id="6835110">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6835113">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6835119">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6835130">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6835141">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6835152">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6835159">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6835162">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6835207">func</span>&nbsp;<span class="ident" id="6835212">TestUnmarshalFeed</span><span class="op" id="6835229">(</span><span class="ident" id="6835230">t</span>&nbsp;<span class="op" id="6835232">*</span><span class="ident" id="6835233">testing</span><span class="op" id="6835240">.</span><span class="ident" id="6835241">T</span><span class="op" id="6835242">)</span>&nbsp;<span class="op" id="6835244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835247">var</span>&nbsp;<span class="ident" id="6835251">f</span>&nbsp;<span class="ident" id="6835253">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835259">if</span>&nbsp;<span class="ident" id="6835262">err</span>&nbsp;<span class="op" id="6835266">:=</span>&nbsp;<span class="ident" id="6835269">Unmarshal</span><span class="op" id="6835278">(</span><span class="op" id="6835279">[</span><span class="op" id="6835280">]</span><span class="builtintype" id="6835281">byte</span><span class="op" id="6835285">(</span><span class="ident" id="6835286">atomFeedString</span><span class="op" id="6835300">)</span><span class="op" id="6835301">,</span>&nbsp;<span class="op" id="6835303">&amp;</span><span class="ident" id="6835304">f</span><span class="op" id="6835305">)</span><span class="op" id="6835306">;</span>&nbsp;<span class="ident" id="6835308">err</span>&nbsp;<span class="op" id="6835312">!=</span>&nbsp;<span class="ident" id="6835315">nil</span>&nbsp;<span class="op" id="6835319">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835323">t</span><span class="op" id="6835324">.</span><span class="ident" id="6835325">Fatalf</span><span class="op" id="6835331">(</span><span class="string" id="6835332">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6835347">,</span>&nbsp;<span class="ident" id="6835349">err</span><span class="op" id="6835352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835358">if</span>&nbsp;<span class="op" id="6835361">!</span><span class="ident" id="6835362">reflect</span><span class="op" id="6835369">.</span><span class="ident" id="6835370">DeepEqual</span><span class="op" id="6835379">(</span><span class="ident" id="6835380">f</span><span class="op" id="6835381">,</span>&nbsp;<span class="ident" id="6835383">atomFeed</span><span class="op" id="6835391">)</span>&nbsp;<span class="op" id="6835393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835397">t</span><span class="op" id="6835398">.</span><span class="ident" id="6835399">Fatalf</span><span class="op" id="6835405">(</span><span class="string" id="6835406">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="6835426">,</span>&nbsp;<span class="ident" id="6835428">f</span><span class="op" id="6835429">,</span>&nbsp;<span class="ident" id="6835431">atomFeed</span><span class="op" id="6835439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835442">}</span><br>
<span class="lineno">25</span><span class="op" id="6835444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6835447">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="6835498">const</span>&nbsp;<span class="ident" id="6835504">atomFeedString</span>&nbsp;<span class="op" id="6835519">=</span>&nbsp;<span class="string" id="6835521">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6838510">type</span>&nbsp;<span class="ident" id="6838515">Feed</span>&nbsp;<span class="keyword" id="6838520">struct</span>&nbsp;<span class="op" id="6838527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838530">XMLName</span>&nbsp;<span class="ident" id="6838538">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6838548">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838590">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6838598">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6838608">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838623">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6838631">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6838641">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838653">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6838661">[</span><span class="op" id="6838662">]</span><span class="ident" id="6838663">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6838671">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838685">Updated</span>&nbsp;<span class="ident" id="6838693">time</span><span class="op" id="6838697">.</span><span class="ident" id="6838698">Time</span>&nbsp;<span class="string" id="6838703">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838725">Author</span>&nbsp;&nbsp;<span class="ident" id="6838733">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6838743">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838759">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6838767">[</span><span class="op" id="6838768">]</span><span class="ident" id="6838769">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6838777">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6838791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6838794">type</span>&nbsp;<span class="ident" id="6838799">Entry</span>&nbsp;<span class="keyword" id="6838805">struct</span>&nbsp;<span class="op" id="6838812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838815">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6838823">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6838833">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838848">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6838856">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6838866">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838878">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6838886">[</span><span class="op" id="6838887">]</span><span class="ident" id="6838888">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6838896">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838910">Updated</span>&nbsp;<span class="ident" id="6838918">time</span><span class="op" id="6838922">.</span><span class="ident" id="6838923">Time</span>&nbsp;<span class="string" id="6838928">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838945">Author</span>&nbsp;&nbsp;<span class="ident" id="6838953">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6838963">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6838979">Summary</span>&nbsp;<span class="ident" id="6838987">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6838997">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="6839013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6839016">type</span>&nbsp;<span class="ident" id="6839021">Link</span>&nbsp;<span class="keyword" id="6839026">struct</span>&nbsp;<span class="op" id="6839033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839036">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="6839041">string</span>&nbsp;<span class="string" id="6839048">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839076">Href</span>&nbsp;<span class="builtintype" id="6839081">string</span>&nbsp;<span class="string" id="6839088">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="6839106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6839109">type</span>&nbsp;<span class="ident" id="6839114">Person</span>&nbsp;<span class="keyword" id="6839121">struct</span>&nbsp;<span class="op" id="6839128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839131">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6839140">string</span>&nbsp;<span class="string" id="6839147">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839161">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6839170">string</span>&nbsp;<span class="string" id="6839177">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839190">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6839199">string</span>&nbsp;<span class="string" id="6839206">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839221">InnerXML</span>&nbsp;<span class="builtintype" id="6839230">string</span>&nbsp;<span class="string" id="6839237">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6839255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6839258">type</span>&nbsp;<span class="ident" id="6839263">Text</span>&nbsp;<span class="keyword" id="6839268">struct</span>&nbsp;<span class="op" id="6839275">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839278">Type</span>&nbsp;<span class="builtintype" id="6839283">string</span>&nbsp;<span class="string" id="6839290">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839319">Body</span>&nbsp;<span class="builtintype" id="6839324">string</span>&nbsp;<span class="string" id="6839331">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6839349">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6839352">var</span>&nbsp;<span class="ident" id="6839356">atomFeed</span>&nbsp;<span class="op" id="6839365">=</span>&nbsp;<span class="ident" id="6839367">Feed</span><span class="op" id="6839371">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839374">XMLName</span><span class="op" id="6839381">:</span>&nbsp;<span class="ident" id="6839383">Name</span><span class="op" id="6839387">{</span><span class="string" id="6839388">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="6839417">,</span>&nbsp;<span class="string" id="6839419">&#34;feed&#34;</span><span class="op" id="6839425">}</span><span class="op" id="6839426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839429">Title</span><span class="op" id="6839434">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6839438">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="6839463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839466">Link</span><span class="op" id="6839470">:</span>&nbsp;<span class="op" id="6839472">[</span><span class="op" id="6839473">]</span><span class="ident" id="6839474">Link</span><span class="op" id="6839478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839482">{</span><span class="ident" id="6839483">Rel</span><span class="op" id="6839486">:</span>&nbsp;<span class="string" id="6839488">&#34;alternate&#34;</span><span class="op" id="6839499">,</span>&nbsp;<span class="ident" id="6839501">Href</span><span class="op" id="6839505">:</span>&nbsp;<span class="string" id="6839507">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="6839539">}</span><span class="op" id="6839540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839544">{</span><span class="ident" id="6839545">Rel</span><span class="op" id="6839548">:</span>&nbsp;<span class="string" id="6839550">&#34;self&#34;</span><span class="op" id="6839556">,</span>&nbsp;<span class="ident" id="6839558">Href</span><span class="op" id="6839562">:</span>&nbsp;<span class="string" id="6839564">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="6839608">}</span><span class="op" id="6839609">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839612">}</span><span class="op" id="6839613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839616">Id</span><span class="op" id="6839618">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6839625">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="6839657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839660">Updated</span><span class="op" id="6839667">:</span>&nbsp;<span class="ident" id="6839669">ParseTime</span><span class="op" id="6839678">(</span><span class="string" id="6839679">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="6839706">)</span><span class="op" id="6839707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839710">Author</span><span class="op" id="6839716">:</span>&nbsp;<span class="ident" id="6839718">Person</span><span class="op" id="6839724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839728">Name</span><span class="op" id="6839732">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6839738">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="6839750">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839754">InnerXML</span><span class="op" id="6839762">:</span>&nbsp;<span class="string" id="6839764">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="6839795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839798">}</span><span class="op" id="6839799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839802">Entry</span><span class="op" id="6839807">:</span>&nbsp;<span class="op" id="6839809">[</span><span class="op" id="6839810">]</span><span class="ident" id="6839811">Entry</span><span class="op" id="6839816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839825">Title</span><span class="op" id="6839830">:</span>&nbsp;<span class="string" id="6839832">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="6839872">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839877">Link</span><span class="op" id="6839881">:</span>&nbsp;<span class="op" id="6839883">[</span><span class="op" id="6839884">]</span><span class="ident" id="6839885">Link</span><span class="op" id="6839889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839895">{</span><span class="ident" id="6839896">Rel</span><span class="op" id="6839899">:</span>&nbsp;<span class="string" id="6839901">&#34;alternate&#34;</span><span class="op" id="6839912">,</span>&nbsp;<span class="ident" id="6839914">Href</span><span class="op" id="6839918">:</span>&nbsp;<span class="string" id="6839920">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="6839958">}</span><span class="op" id="6839959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839964">}</span><span class="op" id="6839965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6839970">Updated</span><span class="op" id="6839977">:</span>&nbsp;<span class="ident" id="6839979">ParseTime</span><span class="op" id="6839988">(</span><span class="string" id="6839989">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="6840016">)</span><span class="op" id="6840017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6840022">Author</span><span class="op" id="6840028">:</span>&nbsp;<span class="ident" id="6840030">Person</span><span class="op" id="6840036">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6840042">Name</span><span class="op" id="6840046">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6840052">&#34;email-address-removed&#34;</span><span class="op" id="6840075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6840081">InnerXML</span><span class="op" id="6840089">:</span>&nbsp;<span class="string" id="6840091">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="6840127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6840132">}</span><span class="op" id="6840133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6840138">Id</span><span class="op" id="6840140">:</span>&nbsp;<span class="string" id="6840142">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="6840184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6840189">Summary</span><span class="op" id="6840196">:</span>&nbsp;<span class="ident" id="6840198">Text</span><span class="op" id="6840202">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6840208">Type</span><span class="op" id="6840212">:</span>&nbsp;<span class="string" id="6840214">&#34;html&#34;</span><span class="op" id="6840220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6840226">Body</span><span class="op" id="6840230">:</span>&nbsp;<span class="string" id="6840232">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="6841464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841469">}</span><span class="op" id="6841470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841474">}</span><span class="op" id="6841475">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841484">Title</span><span class="op" id="6841489">:</span>&nbsp;<span class="string" id="6841491">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="6841525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841530">Link</span><span class="op" id="6841534">:</span>&nbsp;<span class="op" id="6841536">[</span><span class="op" id="6841537">]</span><span class="ident" id="6841538">Link</span><span class="op" id="6841542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841548">{</span><span class="ident" id="6841549">Rel</span><span class="op" id="6841552">:</span>&nbsp;<span class="string" id="6841554">&#34;alternate&#34;</span><span class="op" id="6841565">,</span>&nbsp;<span class="ident" id="6841567">Href</span><span class="op" id="6841571">:</span>&nbsp;<span class="string" id="6841573">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="6841611">}</span><span class="op" id="6841612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841617">}</span><span class="op" id="6841618">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841623">Updated</span><span class="op" id="6841630">:</span>&nbsp;<span class="ident" id="6841632">ParseTime</span><span class="op" id="6841641">(</span><span class="string" id="6841642">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="6841669">)</span><span class="op" id="6841670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841675">Author</span><span class="op" id="6841681">:</span>&nbsp;<span class="ident" id="6841683">Person</span><span class="op" id="6841689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841695">Name</span><span class="op" id="6841699">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6841705">&#34;email-address-removed&#34;</span><span class="op" id="6841728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841734">InnerXML</span><span class="op" id="6841742">:</span>&nbsp;<span class="string" id="6841744">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="6841780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841785">}</span><span class="op" id="6841786">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841791">Id</span><span class="op" id="6841793">:</span>&nbsp;<span class="string" id="6841795">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="6841837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841842">Summary</span><span class="op" id="6841849">:</span>&nbsp;<span class="ident" id="6841851">Text</span><span class="op" id="6841855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841861">Type</span><span class="op" id="6841865">:</span>&nbsp;<span class="string" id="6841867">&#34;html&#34;</span><span class="op" id="6841873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841879">Body</span><span class="op" id="6841883">:</span>&nbsp;<span class="string" id="6841885">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="6842563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842568">}</span><span class="op" id="6842569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842573">}</span><span class="op" id="6842574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842577">}</span><span class="op" id="6842578">,</span><br>
<span class="lineno">215</span><span class="op" id="6842580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6842583">const</span>&nbsp;<span class="ident" id="6842589">pathTestString</span>&nbsp;<span class="op" id="6842604">=</span>&nbsp;<span class="string" id="6842606">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6842968">type</span>&nbsp;<span class="ident" id="6842973">PathTestItem</span>&nbsp;<span class="keyword" id="6842986">struct</span>&nbsp;<span class="op" id="6842993">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6842996">Value</span>&nbsp;<span class="builtintype" id="6843002">string</span><br>
<span class="lineno"></span><span class="op" id="6843009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6843012">type</span>&nbsp;<span class="ident" id="6843017">PathTestA</span>&nbsp;<span class="keyword" id="6843027">struct</span>&nbsp;<span class="op" id="6843034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843037">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6843051">[</span><span class="op" id="6843052">]</span><span class="ident" id="6843053">PathTestItem</span>&nbsp;<span class="string" id="6843066">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843082">Before</span><span class="op" id="6843088">,</span>&nbsp;<span class="ident" id="6843090">After</span>&nbsp;<span class="builtintype" id="6843096">string</span><br>
<span class="lineno"></span><span class="op" id="6843103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6843106">type</span>&nbsp;<span class="ident" id="6843111">PathTestB</span>&nbsp;<span class="keyword" id="6843121">struct</span>&nbsp;<span class="op" id="6843128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843131">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6843145">[</span><span class="op" id="6843146">]</span><span class="ident" id="6843147">PathTestItem</span>&nbsp;<span class="string" id="6843160">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843181">Before</span><span class="op" id="6843187">,</span>&nbsp;<span class="ident" id="6843189">After</span>&nbsp;<span class="builtintype" id="6843195">string</span><br>
<span class="lineno"></span><span class="op" id="6843202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6843205">type</span>&nbsp;<span class="ident" id="6843210">PathTestC</span>&nbsp;<span class="keyword" id="6843220">struct</span>&nbsp;<span class="op" id="6843227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843230">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6843244">[</span><span class="op" id="6843245">]</span><span class="builtintype" id="6843246">string</span>&nbsp;<span class="string" id="6843253">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843280">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6843294">[</span><span class="op" id="6843295">]</span><span class="builtintype" id="6843296">string</span>&nbsp;<span class="string" id="6843303">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843330">Before</span><span class="op" id="6843336">,</span>&nbsp;<span class="ident" id="6843338">After</span>&nbsp;<span class="builtintype" id="6843344">string</span><br>
<span class="lineno"></span><span class="op" id="6843351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6843354">type</span>&nbsp;<span class="ident" id="6843359">PathTestSet</span>&nbsp;<span class="keyword" id="6843371">struct</span>&nbsp;<span class="op" id="6843378">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843381">Item1</span>&nbsp;<span class="op" id="6843387">[</span><span class="op" id="6843388">]</span><span class="ident" id="6843389">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="6843402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6843405">type</span>&nbsp;<span class="ident" id="6843410">PathTestD</span>&nbsp;<span class="keyword" id="6843420">struct</span>&nbsp;<span class="op" id="6843427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843430">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6843444">PathTestSet</span>&nbsp;<span class="string" id="6843456">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843471">Before</span><span class="op" id="6843477">,</span>&nbsp;<span class="ident" id="6843479">After</span>&nbsp;<span class="builtintype" id="6843485">string</span><br>
<span class="lineno"></span><span class="op" id="6843492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6843495">type</span>&nbsp;<span class="ident" id="6843500">PathTestE</span>&nbsp;<span class="keyword" id="6843510">struct</span>&nbsp;<span class="op" id="6843517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843520">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6843534">string</span>&nbsp;<span class="string" id="6843541">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843564">Before</span><span class="op" id="6843570">,</span>&nbsp;<span class="ident" id="6843572">After</span>&nbsp;<span class="builtintype" id="6843578">string</span><br>
<span class="lineno"></span><span class="op" id="6843585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6843588">var</span>&nbsp;<span class="ident" id="6843592">pathTests</span>&nbsp;<span class="op" id="6843602">=</span>&nbsp;<span class="op" id="6843604">[</span><span class="op" id="6843605">]</span><span class="keyword" id="6843606">interface</span><span class="op" id="6843615">{</span><span class="op" id="6843616">}</span><span class="op" id="6843617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843620">&amp;</span><span class="ident" id="6843621">PathTestA</span><span class="op" id="6843630">{</span><span class="ident" id="6843631">Items</span><span class="op" id="6843636">:</span>&nbsp;<span class="op" id="6843638">[</span><span class="op" id="6843639">]</span><span class="ident" id="6843640">PathTestItem</span><span class="op" id="6843652">{</span><span class="op" id="6843653">{</span><span class="string" id="6843654">&#34;A&#34;</span><span class="op" id="6843657">}</span><span class="op" id="6843658">,</span>&nbsp;<span class="op" id="6843660">{</span><span class="string" id="6843661">&#34;D&#34;</span><span class="op" id="6843664">}</span><span class="op" id="6843665">}</span><span class="op" id="6843666">,</span>&nbsp;<span class="ident" id="6843668">Before</span><span class="op" id="6843674">:</span>&nbsp;<span class="string" id="6843676">&#34;1&#34;</span><span class="op" id="6843679">,</span>&nbsp;<span class="ident" id="6843681">After</span><span class="op" id="6843686">:</span>&nbsp;<span class="string" id="6843688">&#34;2&#34;</span><span class="op" id="6843691">}</span><span class="op" id="6843692">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843695">&amp;</span><span class="ident" id="6843696">PathTestB</span><span class="op" id="6843705">{</span><span class="ident" id="6843706">Other</span><span class="op" id="6843711">:</span>&nbsp;<span class="op" id="6843713">[</span><span class="op" id="6843714">]</span><span class="ident" id="6843715">PathTestItem</span><span class="op" id="6843727">{</span><span class="op" id="6843728">{</span><span class="string" id="6843729">&#34;A&#34;</span><span class="op" id="6843732">}</span><span class="op" id="6843733">,</span>&nbsp;<span class="op" id="6843735">{</span><span class="string" id="6843736">&#34;D&#34;</span><span class="op" id="6843739">}</span><span class="op" id="6843740">}</span><span class="op" id="6843741">,</span>&nbsp;<span class="ident" id="6843743">Before</span><span class="op" id="6843749">:</span>&nbsp;<span class="string" id="6843751">&#34;1&#34;</span><span class="op" id="6843754">,</span>&nbsp;<span class="ident" id="6843756">After</span><span class="op" id="6843761">:</span>&nbsp;<span class="string" id="6843763">&#34;2&#34;</span><span class="op" id="6843766">}</span><span class="op" id="6843767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843770">&amp;</span><span class="ident" id="6843771">PathTestC</span><span class="op" id="6843780">{</span><span class="ident" id="6843781">Values1</span><span class="op" id="6843788">:</span>&nbsp;<span class="op" id="6843790">[</span><span class="op" id="6843791">]</span><span class="builtintype" id="6843792">string</span><span class="op" id="6843798">{</span><span class="string" id="6843799">&#34;A&#34;</span><span class="op" id="6843802">,</span>&nbsp;<span class="string" id="6843804">&#34;C&#34;</span><span class="op" id="6843807">,</span>&nbsp;<span class="string" id="6843809">&#34;D&#34;</span><span class="op" id="6843812">}</span><span class="op" id="6843813">,</span>&nbsp;<span class="ident" id="6843815">Values2</span><span class="op" id="6843822">:</span>&nbsp;<span class="op" id="6843824">[</span><span class="op" id="6843825">]</span><span class="builtintype" id="6843826">string</span><span class="op" id="6843832">{</span><span class="string" id="6843833">&#34;B&#34;</span><span class="op" id="6843836">}</span><span class="op" id="6843837">,</span>&nbsp;<span class="ident" id="6843839">Before</span><span class="op" id="6843845">:</span>&nbsp;<span class="string" id="6843847">&#34;1&#34;</span><span class="op" id="6843850">,</span>&nbsp;<span class="ident" id="6843852">After</span><span class="op" id="6843857">:</span>&nbsp;<span class="string" id="6843859">&#34;2&#34;</span><span class="op" id="6843862">}</span><span class="op" id="6843863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843866">&amp;</span><span class="ident" id="6843867">PathTestD</span><span class="op" id="6843876">{</span><span class="ident" id="6843877">Other</span><span class="op" id="6843882">:</span>&nbsp;<span class="ident" id="6843884">PathTestSet</span><span class="op" id="6843895">{</span><span class="ident" id="6843896">Item1</span><span class="op" id="6843901">:</span>&nbsp;<span class="op" id="6843903">[</span><span class="op" id="6843904">]</span><span class="ident" id="6843905">PathTestItem</span><span class="op" id="6843917">{</span><span class="op" id="6843918">{</span><span class="string" id="6843919">&#34;A&#34;</span><span class="op" id="6843922">}</span><span class="op" id="6843923">,</span>&nbsp;<span class="op" id="6843925">{</span><span class="string" id="6843926">&#34;D&#34;</span><span class="op" id="6843929">}</span><span class="op" id="6843930">}</span><span class="op" id="6843931">}</span><span class="op" id="6843932">,</span>&nbsp;<span class="ident" id="6843934">Before</span><span class="op" id="6843940">:</span>&nbsp;<span class="string" id="6843942">&#34;1&#34;</span><span class="op" id="6843945">,</span>&nbsp;<span class="ident" id="6843947">After</span><span class="op" id="6843952">:</span>&nbsp;<span class="string" id="6843954">&#34;2&#34;</span><span class="op" id="6843957">}</span><span class="op" id="6843958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843961">&amp;</span><span class="ident" id="6843962">PathTestE</span><span class="op" id="6843971">{</span><span class="ident" id="6843972">Underline</span><span class="op" id="6843981">:</span>&nbsp;<span class="string" id="6843983">&#34;E&#34;</span><span class="op" id="6843986">,</span>&nbsp;<span class="ident" id="6843988">Before</span><span class="op" id="6843994">:</span>&nbsp;<span class="string" id="6843996">&#34;1&#34;</span><span class="op" id="6843999">,</span>&nbsp;<span class="ident" id="6844001">After</span><span class="op" id="6844006">:</span>&nbsp;<span class="string" id="6844008">&#34;2&#34;</span><span class="op" id="6844011">}</span><span class="op" id="6844012">,</span><br>
<span class="lineno"></span><span class="op" id="6844014">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6844017">func</span>&nbsp;<span class="ident" id="6844022">TestUnmarshalPaths</span><span class="op" id="6844040">(</span><span class="ident" id="6844041">t</span>&nbsp;<span class="op" id="6844043">*</span><span class="ident" id="6844044">testing</span><span class="op" id="6844051">.</span><span class="ident" id="6844052">T</span><span class="op" id="6844053">)</span>&nbsp;<span class="op" id="6844055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6844058">for</span>&nbsp;<span class="ident" id="6844062">_</span><span class="op" id="6844063">,</span>&nbsp;<span class="ident" id="6844065">pt</span>&nbsp;<span class="op" id="6844068">:=</span>&nbsp;<span class="keyword" id="6844071">range</span>&nbsp;<span class="ident" id="6844077">pathTests</span>&nbsp;<span class="op" id="6844087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844091">v</span>&nbsp;<span class="op" id="6844093">:=</span>&nbsp;<span class="ident" id="6844096">reflect</span><span class="op" id="6844103">.</span><span class="ident" id="6844104">New</span><span class="op" id="6844107">(</span><span class="ident" id="6844108">reflect</span><span class="op" id="6844115">.</span><span class="ident" id="6844116">TypeOf</span><span class="op" id="6844122">(</span><span class="ident" id="6844123">pt</span><span class="op" id="6844125">)</span><span class="op" id="6844126">.</span><span class="ident" id="6844127">Elem</span><span class="op" id="6844131">(</span><span class="op" id="6844132">)</span><span class="op" id="6844133">)</span><span class="op" id="6844134">.</span><span class="ident" id="6844135">Interface</span><span class="op" id="6844144">(</span><span class="op" id="6844145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6844149">if</span>&nbsp;<span class="ident" id="6844152">err</span>&nbsp;<span class="op" id="6844156">:=</span>&nbsp;<span class="ident" id="6844159">Unmarshal</span><span class="op" id="6844168">(</span><span class="op" id="6844169">[</span><span class="op" id="6844170">]</span><span class="builtintype" id="6844171">byte</span><span class="op" id="6844175">(</span><span class="ident" id="6844176">pathTestString</span><span class="op" id="6844190">)</span><span class="op" id="6844191">,</span>&nbsp;<span class="ident" id="6844193">v</span><span class="op" id="6844194">)</span><span class="op" id="6844195">;</span>&nbsp;<span class="ident" id="6844197">err</span>&nbsp;<span class="op" id="6844201">!=</span>&nbsp;<span class="ident" id="6844204">nil</span>&nbsp;<span class="op" id="6844208">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844213">t</span><span class="op" id="6844214">.</span><span class="ident" id="6844215">Fatalf</span><span class="op" id="6844221">(</span><span class="string" id="6844222">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6844237">,</span>&nbsp;<span class="ident" id="6844239">err</span><span class="op" id="6844242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6844250">if</span>&nbsp;<span class="op" id="6844253">!</span><span class="ident" id="6844254">reflect</span><span class="op" id="6844261">.</span><span class="ident" id="6844262">DeepEqual</span><span class="op" id="6844271">(</span><span class="ident" id="6844272">v</span><span class="op" id="6844273">,</span>&nbsp;<span class="ident" id="6844275">pt</span><span class="op" id="6844277">)</span>&nbsp;<span class="op" id="6844279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844284">t</span><span class="op" id="6844285">.</span><span class="ident" id="6844286">Fatalf</span><span class="op" id="6844292">(</span><span class="string" id="6844293">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="6844313">,</span>&nbsp;<span class="ident" id="6844315">v</span><span class="op" id="6844316">,</span>&nbsp;<span class="ident" id="6844318">pt</span><span class="op" id="6844320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844324">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844327">}</span><br>
<span class="lineno"></span><span class="op" id="6844329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6844332">type</span>&nbsp;<span class="ident" id="6844337">BadPathTestA</span>&nbsp;<span class="keyword" id="6844350">struct</span>&nbsp;<span class="op" id="6844357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844360">First</span>&nbsp;&nbsp;<span class="builtintype" id="6844367">string</span>&nbsp;<span class="string" id="6844374">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844395">Other</span>&nbsp;&nbsp;<span class="builtintype" id="6844402">string</span>&nbsp;<span class="string" id="6844409">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844430">Second</span>&nbsp;<span class="builtintype" id="6844437">string</span>&nbsp;<span class="string" id="6844444">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6844458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6844461">type</span>&nbsp;<span class="ident" id="6844466">BadPathTestB</span>&nbsp;<span class="keyword" id="6844479">struct</span>&nbsp;<span class="op" id="6844486">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844489">Other</span>&nbsp;&nbsp;<span class="builtintype" id="6844496">string</span>&nbsp;<span class="string" id="6844503">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844530">First</span>&nbsp;&nbsp;<span class="builtintype" id="6844537">string</span>&nbsp;<span class="string" id="6844544">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844565">Second</span>&nbsp;<span class="builtintype" id="6844572">string</span>&nbsp;<span class="string" id="6844579">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6844605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="6844608">type</span>&nbsp;<span class="ident" id="6844613">BadPathTestC</span>&nbsp;<span class="keyword" id="6844626">struct</span>&nbsp;<span class="op" id="6844633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844636">First</span>&nbsp;&nbsp;<span class="builtintype" id="6844643">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844651">Second</span>&nbsp;<span class="builtintype" id="6844658">string</span>&nbsp;<span class="string" id="6844665">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6844679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="6844682">type</span>&nbsp;<span class="ident" id="6844687">BadPathTestD</span>&nbsp;<span class="keyword" id="6844700">struct</span>&nbsp;<span class="op" id="6844707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844710">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844728">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="6844745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="6844748">type</span>&nbsp;<span class="ident" id="6844753">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="6844770">struct</span>&nbsp;<span class="op" id="6844777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844780">First</span>&nbsp;<span class="builtintype" id="6844786">string</span><br>
<span class="lineno"></span><span class="op" id="6844793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6844796">type</span>&nbsp;<span class="ident" id="6844801">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="6844818">struct</span>&nbsp;<span class="op" id="6844825">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844828">Second</span>&nbsp;<span class="builtintype" id="6844835">string</span>&nbsp;<span class="string" id="6844842">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6844856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6844859">var</span>&nbsp;<span class="ident" id="6844863">badPathTests</span>&nbsp;<span class="op" id="6844876">=</span>&nbsp;<span class="op" id="6844878">[</span><span class="op" id="6844879">]</span><span class="keyword" id="6844880">struct</span>&nbsp;<span class="op" id="6844887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844890">v</span><span class="op" id="6844891">,</span>&nbsp;<span class="ident" id="6844893">e</span>&nbsp;<span class="keyword" id="6844895">interface</span><span class="op" id="6844904">{</span><span class="op" id="6844905">}</span><br>
<span class="lineno">325</span><span class="op" id="6844907">}</span><span class="op" id="6844908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844911">{</span><span class="op" id="6844912">&amp;</span><span class="ident" id="6844913">BadPathTestA</span><span class="op" id="6844925">{</span><span class="op" id="6844926">}</span><span class="op" id="6844927">,</span>&nbsp;<span class="op" id="6844929">&amp;</span><span class="ident" id="6844930">TagPathError</span><span class="op" id="6844942">{</span><span class="ident" id="6844943">reflect</span><span class="op" id="6844950">.</span><span class="ident" id="6844951">TypeOf</span><span class="op" id="6844957">(</span><span class="ident" id="6844958">BadPathTestA</span><span class="op" id="6844970">{</span><span class="op" id="6844971">}</span><span class="op" id="6844972">)</span><span class="op" id="6844973">,</span>&nbsp;<span class="string" id="6844975">&#34;First&#34;</span><span class="op" id="6844982">,</span>&nbsp;<span class="string" id="6844984">&#34;items&gt;item1&#34;</span><span class="op" id="6844997">,</span>&nbsp;<span class="string" id="6844999">&#34;Second&#34;</span><span class="op" id="6845007">,</span>&nbsp;<span class="string" id="6845009">&#34;items&#34;</span><span class="op" id="6845016">}</span><span class="op" id="6845017">}</span><span class="op" id="6845018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845021">{</span><span class="op" id="6845022">&amp;</span><span class="ident" id="6845023">BadPathTestB</span><span class="op" id="6845035">{</span><span class="op" id="6845036">}</span><span class="op" id="6845037">,</span>&nbsp;<span class="op" id="6845039">&amp;</span><span class="ident" id="6845040">TagPathError</span><span class="op" id="6845052">{</span><span class="ident" id="6845053">reflect</span><span class="op" id="6845060">.</span><span class="ident" id="6845061">TypeOf</span><span class="op" id="6845067">(</span><span class="ident" id="6845068">BadPathTestB</span><span class="op" id="6845080">{</span><span class="op" id="6845081">}</span><span class="op" id="6845082">)</span><span class="op" id="6845083">,</span>&nbsp;<span class="string" id="6845085">&#34;First&#34;</span><span class="op" id="6845092">,</span>&nbsp;<span class="string" id="6845094">&#34;items&gt;item1&#34;</span><span class="op" id="6845107">,</span>&nbsp;<span class="string" id="6845109">&#34;Second&#34;</span><span class="op" id="6845117">,</span>&nbsp;<span class="string" id="6845119">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="6845138">}</span><span class="op" id="6845139">}</span><span class="op" id="6845140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845143">{</span><span class="op" id="6845144">&amp;</span><span class="ident" id="6845145">BadPathTestC</span><span class="op" id="6845157">{</span><span class="op" id="6845158">}</span><span class="op" id="6845159">,</span>&nbsp;<span class="op" id="6845161">&amp;</span><span class="ident" id="6845162">TagPathError</span><span class="op" id="6845174">{</span><span class="ident" id="6845175">reflect</span><span class="op" id="6845182">.</span><span class="ident" id="6845183">TypeOf</span><span class="op" id="6845189">(</span><span class="ident" id="6845190">BadPathTestC</span><span class="op" id="6845202">{</span><span class="op" id="6845203">}</span><span class="op" id="6845204">)</span><span class="op" id="6845205">,</span>&nbsp;<span class="string" id="6845207">&#34;First&#34;</span><span class="op" id="6845214">,</span>&nbsp;<span class="string" id="6845216">&#34;&#34;</span><span class="op" id="6845218">,</span>&nbsp;<span class="string" id="6845220">&#34;Second&#34;</span><span class="op" id="6845228">,</span>&nbsp;<span class="string" id="6845230">&#34;First&#34;</span><span class="op" id="6845237">}</span><span class="op" id="6845238">}</span><span class="op" id="6845239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845242">{</span><span class="op" id="6845243">&amp;</span><span class="ident" id="6845244">BadPathTestD</span><span class="op" id="6845256">{</span><span class="op" id="6845257">}</span><span class="op" id="6845258">,</span>&nbsp;<span class="op" id="6845260">&amp;</span><span class="ident" id="6845261">TagPathError</span><span class="op" id="6845273">{</span><span class="ident" id="6845274">reflect</span><span class="op" id="6845281">.</span><span class="ident" id="6845282">TypeOf</span><span class="op" id="6845288">(</span><span class="ident" id="6845289">BadPathTestD</span><span class="op" id="6845301">{</span><span class="op" id="6845302">}</span><span class="op" id="6845303">)</span><span class="op" id="6845304">,</span>&nbsp;<span class="string" id="6845306">&#34;First&#34;</span><span class="op" id="6845313">,</span>&nbsp;<span class="string" id="6845315">&#34;&#34;</span><span class="op" id="6845317">,</span>&nbsp;<span class="string" id="6845319">&#34;Second&#34;</span><span class="op" id="6845327">,</span>&nbsp;<span class="string" id="6845329">&#34;First&#34;</span><span class="op" id="6845336">}</span><span class="op" id="6845337">}</span><span class="op" id="6845338">,</span><br>
<span class="lineno">330</span><span class="op" id="6845340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6845343">func</span>&nbsp;<span class="ident" id="6845348">TestUnmarshalBadPaths</span><span class="op" id="6845369">(</span><span class="ident" id="6845370">t</span>&nbsp;<span class="op" id="6845372">*</span><span class="ident" id="6845373">testing</span><span class="op" id="6845380">.</span><span class="ident" id="6845381">T</span><span class="op" id="6845382">)</span>&nbsp;<span class="op" id="6845384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6845387">for</span>&nbsp;<span class="ident" id="6845391">_</span><span class="op" id="6845392">,</span>&nbsp;<span class="ident" id="6845394">tt</span>&nbsp;<span class="op" id="6845397">:=</span>&nbsp;<span class="keyword" id="6845400">range</span>&nbsp;<span class="ident" id="6845406">badPathTests</span>&nbsp;<span class="op" id="6845419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6845423">err</span>&nbsp;<span class="op" id="6845427">:=</span>&nbsp;<span class="ident" id="6845430">Unmarshal</span><span class="op" id="6845439">(</span><span class="op" id="6845440">[</span><span class="op" id="6845441">]</span><span class="builtintype" id="6845442">byte</span><span class="op" id="6845446">(</span><span class="ident" id="6845447">pathTestString</span><span class="op" id="6845461">)</span><span class="op" id="6845462">,</span>&nbsp;<span class="ident" id="6845464">tt</span><span class="op" id="6845466">.</span><span class="ident" id="6845467">v</span><span class="op" id="6845468">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6845472">if</span>&nbsp;<span class="op" id="6845475">!</span><span class="ident" id="6845476">reflect</span><span class="op" id="6845483">.</span><span class="ident" id="6845484">DeepEqual</span><span class="op" id="6845493">(</span><span class="ident" id="6845494">err</span><span class="op" id="6845497">,</span>&nbsp;<span class="ident" id="6845499">tt</span><span class="op" id="6845501">.</span><span class="ident" id="6845502">e</span><span class="op" id="6845503">)</span>&nbsp;<span class="op" id="6845505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6845510">t</span><span class="op" id="6845511">.</span><span class="ident" id="6845512">Fatalf</span><span class="op" id="6845518">(</span><span class="string" id="6845519">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="6845582">,</span>&nbsp;<span class="ident" id="6845584">tt</span><span class="op" id="6845586">.</span><span class="ident" id="6845587">v</span><span class="op" id="6845588">,</span>&nbsp;<span class="ident" id="6845590">err</span><span class="op" id="6845593">,</span>&nbsp;<span class="ident" id="6845595">tt</span><span class="op" id="6845597">.</span><span class="ident" id="6845598">e</span><span class="op" id="6845599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845606">}</span><br>
<span class="lineno"></span><span class="op" id="6845608">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="6845611">const</span>&nbsp;<span class="ident" id="6845617">OK</span>&nbsp;<span class="op" id="6845620">=</span>&nbsp;<span class="string" id="6845622">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="6845627">const</span>&nbsp;<span class="ident" id="6845633">withoutNameTypeData</span>&nbsp;<span class="op" id="6845653">=</span>&nbsp;<span class="string" id="6845655">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="6845717">type</span>&nbsp;<span class="ident" id="6845722">TestThree</span>&nbsp;<span class="keyword" id="6845732">struct</span>&nbsp;<span class="op" id="6845739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6845742">XMLName</span>&nbsp;<span class="ident" id="6845750">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6845757">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6845772">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6845780">string</span>&nbsp;<span class="string" id="6845787">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6845801">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="6845804">func</span>&nbsp;<span class="ident" id="6845809">TestUnmarshalWithoutNameType</span><span class="op" id="6845837">(</span><span class="ident" id="6845838">t</span>&nbsp;<span class="op" id="6845840">*</span><span class="ident" id="6845841">testing</span><span class="op" id="6845848">.</span><span class="ident" id="6845849">T</span><span class="op" id="6845850">)</span>&nbsp;<span class="op" id="6845852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6845855">var</span>&nbsp;<span class="ident" id="6845859">x</span>&nbsp;<span class="ident" id="6845861">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6845872">if</span>&nbsp;<span class="ident" id="6845875">err</span>&nbsp;<span class="op" id="6845879">:=</span>&nbsp;<span class="ident" id="6845882">Unmarshal</span><span class="op" id="6845891">(</span><span class="op" id="6845892">[</span><span class="op" id="6845893">]</span><span class="builtintype" id="6845894">byte</span><span class="op" id="6845898">(</span><span class="ident" id="6845899">withoutNameTypeData</span><span class="op" id="6845918">)</span><span class="op" id="6845919">,</span>&nbsp;<span class="op" id="6845921">&amp;</span><span class="ident" id="6845922">x</span><span class="op" id="6845923">)</span><span class="op" id="6845924">;</span>&nbsp;<span class="ident" id="6845926">err</span>&nbsp;<span class="op" id="6845930">!=</span>&nbsp;<span class="ident" id="6845933">nil</span>&nbsp;<span class="op" id="6845937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6845941">t</span><span class="op" id="6845942">.</span><span class="ident" id="6845943">Fatalf</span><span class="op" id="6845949">(</span><span class="string" id="6845950">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6845965">,</span>&nbsp;<span class="ident" id="6845967">err</span><span class="op" id="6845970">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6845976">if</span>&nbsp;<span class="ident" id="6845979">x</span><span class="op" id="6845980">.</span><span class="ident" id="6845981">Attr</span>&nbsp;<span class="op" id="6845986">!=</span>&nbsp;<span class="ident" id="6845989">OK</span>&nbsp;<span class="op" id="6845992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6845996">t</span><span class="op" id="6845997">.</span><span class="ident" id="6845998">Fatalf</span><span class="op" id="6846004">(</span><span class="string" id="6846005">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="6846023">,</span>&nbsp;<span class="ident" id="6846025">x</span><span class="op" id="6846026">.</span><span class="ident" id="6846027">Attr</span><span class="op" id="6846031">,</span>&nbsp;<span class="ident" id="6846033">OK</span><span class="op" id="6846035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846038">}</span><br>
<span class="lineno"></span><span class="op" id="6846040">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="6846043">func</span>&nbsp;<span class="ident" id="6846048">TestUnmarshalAttr</span><span class="op" id="6846065">(</span><span class="ident" id="6846066">t</span>&nbsp;<span class="op" id="6846068">*</span><span class="ident" id="6846069">testing</span><span class="op" id="6846076">.</span><span class="ident" id="6846077">T</span><span class="op" id="6846078">)</span>&nbsp;<span class="op" id="6846080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6846083">type</span>&nbsp;<span class="ident" id="6846088">ParamVal</span>&nbsp;<span class="keyword" id="6846097">struct</span>&nbsp;<span class="op" id="6846104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846108">Int</span>&nbsp;<span class="builtintype" id="6846112">int</span>&nbsp;<span class="string" id="6846116">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846134">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6846138">type</span>&nbsp;<span class="ident" id="6846143">ParamPtr</span>&nbsp;<span class="keyword" id="6846152">struct</span>&nbsp;<span class="op" id="6846159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846163">Int</span>&nbsp;<span class="op" id="6846167">*</span><span class="builtintype" id="6846168">int</span>&nbsp;<span class="string" id="6846172">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6846194">type</span>&nbsp;<span class="ident" id="6846199">ParamStringPtr</span>&nbsp;<span class="keyword" id="6846214">struct</span>&nbsp;<span class="op" id="6846221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846225">Int</span>&nbsp;<span class="op" id="6846229">*</span><span class="builtintype" id="6846230">string</span>&nbsp;<span class="string" id="6846237">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846259">x</span>&nbsp;<span class="op" id="6846261">:=</span>&nbsp;<span class="op" id="6846264">[</span><span class="op" id="6846265">]</span><span class="builtintype" id="6846266">byte</span><span class="op" id="6846270">(</span><span class="string" id="6846271">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="6846290">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846294">p1</span>&nbsp;<span class="op" id="6846297">:=</span>&nbsp;<span class="op" id="6846300">&amp;</span><span class="ident" id="6846301">ParamPtr</span><span class="op" id="6846309">{</span><span class="op" id="6846310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6846313">if</span>&nbsp;<span class="ident" id="6846316">err</span>&nbsp;<span class="op" id="6846320">:=</span>&nbsp;<span class="ident" id="6846323">Unmarshal</span><span class="op" id="6846332">(</span><span class="ident" id="6846333">x</span><span class="op" id="6846334">,</span>&nbsp;<span class="ident" id="6846336">p1</span><span class="op" id="6846338">)</span><span class="op" id="6846339">;</span>&nbsp;<span class="ident" id="6846341">err</span>&nbsp;<span class="op" id="6846345">!=</span>&nbsp;<span class="ident" id="6846348">nil</span>&nbsp;<span class="op" id="6846352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846356">t</span><span class="op" id="6846357">.</span><span class="ident" id="6846358">Fatalf</span><span class="op" id="6846364">(</span><span class="string" id="6846365">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6846380">,</span>&nbsp;<span class="ident" id="6846382">err</span><span class="op" id="6846385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846388">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6846391">if</span>&nbsp;<span class="ident" id="6846394">p1</span><span class="op" id="6846396">.</span><span class="ident" id="6846397">Int</span>&nbsp;<span class="op" id="6846401">==</span>&nbsp;<span class="ident" id="6846404">nil</span>&nbsp;<span class="op" id="6846408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846412">t</span><span class="op" id="6846413">.</span><span class="ident" id="6846414">Fatalf</span><span class="op" id="6846420">(</span><span class="string" id="6846421">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="6846456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846459">}</span>&nbsp;<span class="keyword" id="6846461">else</span>&nbsp;<span class="keyword" id="6846466">if</span>&nbsp;<span class="op" id="6846469">*</span><span class="ident" id="6846470">p1</span><span class="op" id="6846472">.</span><span class="ident" id="6846473">Int</span>&nbsp;<span class="op" id="6846477">!=</span>&nbsp;<span class="num" id="6846480">1</span>&nbsp;<span class="op" id="6846482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846486">t</span><span class="op" id="6846487">.</span><span class="ident" id="6846488">Fatalf</span><span class="op" id="6846494">(</span><span class="string" id="6846495">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6846544">,</span>&nbsp;<span class="ident" id="6846546">x</span><span class="op" id="6846547">,</span>&nbsp;<span class="ident" id="6846549">p1</span><span class="op" id="6846551">.</span><span class="ident" id="6846552">Int</span><span class="op" id="6846555">,</span>&nbsp;<span class="num" id="6846557">1</span><span class="op" id="6846558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846561">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846565">p2</span>&nbsp;<span class="op" id="6846568">:=</span>&nbsp;<span class="op" id="6846571">&amp;</span><span class="ident" id="6846572">ParamVal</span><span class="op" id="6846580">{</span><span class="op" id="6846581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6846584">if</span>&nbsp;<span class="ident" id="6846587">err</span>&nbsp;<span class="op" id="6846591">:=</span>&nbsp;<span class="ident" id="6846594">Unmarshal</span><span class="op" id="6846603">(</span><span class="ident" id="6846604">x</span><span class="op" id="6846605">,</span>&nbsp;<span class="ident" id="6846607">p2</span><span class="op" id="6846609">)</span><span class="op" id="6846610">;</span>&nbsp;<span class="ident" id="6846612">err</span>&nbsp;<span class="op" id="6846616">!=</span>&nbsp;<span class="ident" id="6846619">nil</span>&nbsp;<span class="op" id="6846623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846627">t</span><span class="op" id="6846628">.</span><span class="ident" id="6846629">Fatalf</span><span class="op" id="6846635">(</span><span class="string" id="6846636">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6846651">,</span>&nbsp;<span class="ident" id="6846653">err</span><span class="op" id="6846656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846659">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6846662">if</span>&nbsp;<span class="ident" id="6846665">p2</span><span class="op" id="6846667">.</span><span class="ident" id="6846668">Int</span>&nbsp;<span class="op" id="6846672">!=</span>&nbsp;<span class="num" id="6846675">1</span>&nbsp;<span class="op" id="6846677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846681">t</span><span class="op" id="6846682">.</span><span class="ident" id="6846683">Fatalf</span><span class="op" id="6846689">(</span><span class="string" id="6846690">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6846739">,</span>&nbsp;<span class="ident" id="6846741">x</span><span class="op" id="6846742">,</span>&nbsp;<span class="ident" id="6846744">p2</span><span class="op" id="6846746">.</span><span class="ident" id="6846747">Int</span><span class="op" id="6846750">,</span>&nbsp;<span class="num" id="6846752">1</span><span class="op" id="6846753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846760">p3</span>&nbsp;<span class="op" id="6846763">:=</span>&nbsp;<span class="op" id="6846766">&amp;</span><span class="ident" id="6846767">ParamStringPtr</span><span class="op" id="6846781">{</span><span class="op" id="6846782">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6846785">if</span>&nbsp;<span class="ident" id="6846788">err</span>&nbsp;<span class="op" id="6846792">:=</span>&nbsp;<span class="ident" id="6846795">Unmarshal</span><span class="op" id="6846804">(</span><span class="ident" id="6846805">x</span><span class="op" id="6846806">,</span>&nbsp;<span class="ident" id="6846808">p3</span><span class="op" id="6846810">)</span><span class="op" id="6846811">;</span>&nbsp;<span class="ident" id="6846813">err</span>&nbsp;<span class="op" id="6846817">!=</span>&nbsp;<span class="ident" id="6846820">nil</span>&nbsp;<span class="op" id="6846824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846828">t</span><span class="op" id="6846829">.</span><span class="ident" id="6846830">Fatalf</span><span class="op" id="6846836">(</span><span class="string" id="6846837">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6846852">,</span>&nbsp;<span class="ident" id="6846854">err</span><span class="op" id="6846857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6846863">if</span>&nbsp;<span class="ident" id="6846866">p3</span><span class="op" id="6846868">.</span><span class="ident" id="6846869">Int</span>&nbsp;<span class="op" id="6846873">==</span>&nbsp;<span class="ident" id="6846876">nil</span>&nbsp;<span class="op" id="6846880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846884">t</span><span class="op" id="6846885">.</span><span class="ident" id="6846886">Fatalf</span><span class="op" id="6846892">(</span><span class="string" id="6846893">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="6846931">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846934">}</span>&nbsp;<span class="keyword" id="6846936">else</span>&nbsp;<span class="keyword" id="6846941">if</span>&nbsp;<span class="op" id="6846944">*</span><span class="ident" id="6846945">p3</span><span class="op" id="6846947">.</span><span class="ident" id="6846948">Int</span>&nbsp;<span class="op" id="6846952">!=</span>&nbsp;<span class="string" id="6846955">&#34;1&#34;</span>&nbsp;<span class="op" id="6846959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6846963">t</span><span class="op" id="6846964">.</span><span class="ident" id="6846965">Fatalf</span><span class="op" id="6846971">(</span><span class="string" id="6846972">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6847021">,</span>&nbsp;<span class="ident" id="6847023">x</span><span class="op" id="6847024">,</span>&nbsp;<span class="ident" id="6847026">p3</span><span class="op" id="6847028">.</span><span class="ident" id="6847029">Int</span><span class="op" id="6847032">,</span>&nbsp;<span class="num" id="6847034">1</span><span class="op" id="6847035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847038">}</span><br>
<span class="lineno"></span><span class="op" id="6847040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="6847043">type</span>&nbsp;<span class="ident" id="6847048">Tables</span>&nbsp;<span class="keyword" id="6847055">struct</span>&nbsp;<span class="op" id="6847062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847065">HTable</span>&nbsp;<span class="builtintype" id="6847072">string</span>&nbsp;<span class="string" id="6847079">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847122">FTable</span>&nbsp;<span class="builtintype" id="6847129">string</span>&nbsp;<span class="string" id="6847136">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6847185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="6847188">var</span>&nbsp;<span class="ident" id="6847192">tables</span>&nbsp;<span class="op" id="6847199">=</span>&nbsp;<span class="op" id="6847201">[</span><span class="op" id="6847202">]</span><span class="keyword" id="6847203">struct</span>&nbsp;<span class="op" id="6847210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847213">xml</span>&nbsp;<span class="builtintype" id="6847217">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847225">tab</span>&nbsp;<span class="ident" id="6847229">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847237">ns</span>&nbsp;&nbsp;<span class="builtintype" id="6847241">string</span><br>
<span class="lineno"></span><span class="op" id="6847248">}</span><span class="op" id="6847249">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847256">xml</span><span class="op" id="6847259">:</span>&nbsp;<span class="string" id="6847261">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6847272">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847277">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="6847336">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847341">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="6847407">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847412">`&lt;/Tables&gt;`</span><span class="op" id="6847423">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847427">tab</span><span class="op" id="6847430">:</span>&nbsp;<span class="ident" id="6847432">Tables</span><span class="op" id="6847438">{</span><span class="string" id="6847439">&#34;hello&#34;</span><span class="op" id="6847446">,</span>&nbsp;<span class="string" id="6847448">&#34;world&#34;</span><span class="op" id="6847455">}</span><span class="op" id="6847456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847459">}</span><span class="op" id="6847460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847467">xml</span><span class="op" id="6847470">:</span>&nbsp;<span class="string" id="6847472">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6847483">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847488">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="6847554">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847559">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="6847618">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847623">`&lt;/Tables&gt;`</span><span class="op" id="6847634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847638">tab</span><span class="op" id="6847641">:</span>&nbsp;<span class="ident" id="6847643">Tables</span><span class="op" id="6847649">{</span><span class="string" id="6847650">&#34;hello&#34;</span><span class="op" id="6847657">,</span>&nbsp;<span class="string" id="6847659">&#34;world&#34;</span><span class="op" id="6847666">}</span><span class="op" id="6847667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847670">}</span><span class="op" id="6847671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847674">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847678">xml</span><span class="op" id="6847681">:</span>&nbsp;<span class="string" id="6847683">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="6847777">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847782">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="6847809">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847814">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="6847841">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847846">`&lt;/Tables&gt;`</span><span class="op" id="6847857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847861">tab</span><span class="op" id="6847864">:</span>&nbsp;<span class="ident" id="6847866">Tables</span><span class="op" id="6847872">{</span><span class="string" id="6847873">&#34;hello&#34;</span><span class="op" id="6847880">,</span>&nbsp;<span class="string" id="6847882">&#34;world&#34;</span><span class="op" id="6847889">}</span><span class="op" id="6847890">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847893">}</span><span class="op" id="6847894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847901">xml</span><span class="op" id="6847904">:</span>&nbsp;<span class="string" id="6847906">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6847917">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847922">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="6847945">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6847950">`&lt;/Tables&gt;`</span><span class="op" id="6847961">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847965">tab</span><span class="op" id="6847968">:</span>&nbsp;<span class="ident" id="6847970">Tables</span><span class="op" id="6847976">{</span><span class="op" id="6847977">}</span><span class="op" id="6847978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847981">}</span><span class="op" id="6847982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847989">xml</span><span class="op" id="6847992">:</span>&nbsp;<span class="string" id="6847994">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6848005">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6848010">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="6848032">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6848037">`&lt;/Tables&gt;`</span><span class="op" id="6848048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848052">tab</span><span class="op" id="6848055">:</span>&nbsp;<span class="ident" id="6848057">Tables</span><span class="op" id="6848063">{</span><span class="ident" id="6848064">HTable</span><span class="op" id="6848070">:</span>&nbsp;<span class="string" id="6848072">&#34;only&#34;</span><span class="op" id="6848078">}</span><span class="op" id="6848079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848083">ns</span><span class="op" id="6848085">:</span>&nbsp;&nbsp;<span class="string" id="6848088">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="6848117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848120">}</span><span class="op" id="6848121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848124">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848128">xml</span><span class="op" id="6848131">:</span>&nbsp;<span class="string" id="6848133">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6848144">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6848149">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="6848171">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6848176">`&lt;/Tables&gt;`</span><span class="op" id="6848187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848191">tab</span><span class="op" id="6848194">:</span>&nbsp;<span class="ident" id="6848196">Tables</span><span class="op" id="6848202">{</span><span class="ident" id="6848203">FTable</span><span class="op" id="6848209">:</span>&nbsp;<span class="string" id="6848211">&#34;only&#34;</span><span class="op" id="6848217">}</span><span class="op" id="6848218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848222">ns</span><span class="op" id="6848224">:</span>&nbsp;&nbsp;<span class="string" id="6848227">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="6848263">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848266">}</span><span class="op" id="6848267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848274">xml</span><span class="op" id="6848277">:</span>&nbsp;<span class="string" id="6848279">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6848290">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6848295">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="6848317">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6848322">`&lt;/Tables&gt;`</span><span class="op" id="6848333">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848337">tab</span><span class="op" id="6848340">:</span>&nbsp;<span class="ident" id="6848342">Tables</span><span class="op" id="6848348">{</span><span class="op" id="6848349">}</span><span class="op" id="6848350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848354">ns</span><span class="op" id="6848356">:</span>&nbsp;&nbsp;<span class="string" id="6848359">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="6848384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848387">}</span><span class="op" id="6848388">,</span><br>
<span class="lineno"></span><span class="op" id="6848390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="6848393">func</span>&nbsp;<span class="ident" id="6848398">TestUnmarshalNS</span><span class="op" id="6848413">(</span><span class="ident" id="6848414">t</span>&nbsp;<span class="op" id="6848416">*</span><span class="ident" id="6848417">testing</span><span class="op" id="6848424">.</span><span class="ident" id="6848425">T</span><span class="op" id="6848426">)</span>&nbsp;<span class="op" id="6848428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848431">for</span>&nbsp;<span class="ident" id="6848435">i</span><span class="op" id="6848436">,</span>&nbsp;<span class="ident" id="6848438">tt</span>&nbsp;<span class="op" id="6848441">:=</span>&nbsp;<span class="keyword" id="6848444">range</span>&nbsp;<span class="ident" id="6848450">tables</span>&nbsp;<span class="op" id="6848457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848461">var</span>&nbsp;<span class="ident" id="6848465">dst</span>&nbsp;<span class="ident" id="6848469">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848478">var</span>&nbsp;<span class="ident" id="6848482">err</span>&nbsp;<span class="builtintype" id="6848486">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848494">if</span>&nbsp;<span class="ident" id="6848497">tt</span><span class="op" id="6848499">.</span><span class="ident" id="6848500">ns</span>&nbsp;<span class="op" id="6848503">!=</span>&nbsp;<span class="string" id="6848506">&#34;&#34;</span>&nbsp;<span class="op" id="6848509">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848514">d</span>&nbsp;<span class="op" id="6848516">:=</span>&nbsp;<span class="ident" id="6848519">NewDecoder</span><span class="op" id="6848529">(</span><span class="ident" id="6848530">strings</span><span class="op" id="6848537">.</span><span class="ident" id="6848538">NewReader</span><span class="op" id="6848547">(</span><span class="ident" id="6848548">tt</span><span class="op" id="6848550">.</span><span class="ident" id="6848551">xml</span><span class="op" id="6848554">)</span><span class="op" id="6848555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848560">d</span><span class="op" id="6848561">.</span><span class="ident" id="6848562">DefaultSpace</span>&nbsp;<span class="op" id="6848575">=</span>&nbsp;<span class="ident" id="6848577">tt</span><span class="op" id="6848579">.</span><span class="ident" id="6848580">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848586">err</span>&nbsp;<span class="op" id="6848590">=</span>&nbsp;<span class="ident" id="6848592">d</span><span class="op" id="6848593">.</span><span class="ident" id="6848594">Decode</span><span class="op" id="6848600">(</span><span class="op" id="6848601">&amp;</span><span class="ident" id="6848602">dst</span><span class="op" id="6848605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848609">}</span>&nbsp;<span class="keyword" id="6848611">else</span>&nbsp;<span class="op" id="6848616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848621">err</span>&nbsp;<span class="op" id="6848625">=</span>&nbsp;<span class="ident" id="6848627">Unmarshal</span><span class="op" id="6848636">(</span><span class="op" id="6848637">[</span><span class="op" id="6848638">]</span><span class="builtintype" id="6848639">byte</span><span class="op" id="6848643">(</span><span class="ident" id="6848644">tt</span><span class="op" id="6848646">.</span><span class="ident" id="6848647">xml</span><span class="op" id="6848650">)</span><span class="op" id="6848651">,</span>&nbsp;<span class="op" id="6848653">&amp;</span><span class="ident" id="6848654">dst</span><span class="op" id="6848657">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848665">if</span>&nbsp;<span class="ident" id="6848668">err</span>&nbsp;<span class="op" id="6848672">!=</span>&nbsp;<span class="ident" id="6848675">nil</span>&nbsp;<span class="op" id="6848679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848684">t</span><span class="op" id="6848685">.</span><span class="ident" id="6848686">Errorf</span><span class="op" id="6848692">(</span><span class="string" id="6848693">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6848713">,</span>&nbsp;<span class="ident" id="6848715">i</span><span class="op" id="6848716">,</span>&nbsp;<span class="ident" id="6848718">err</span><span class="op" id="6848721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848726">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848737">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848741">want</span>&nbsp;<span class="op" id="6848746">:=</span>&nbsp;<span class="ident" id="6848749">tt</span><span class="op" id="6848751">.</span><span class="ident" id="6848752">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848758">if</span>&nbsp;<span class="ident" id="6848761">dst</span>&nbsp;<span class="op" id="6848765">!=</span>&nbsp;<span class="ident" id="6848768">want</span>&nbsp;<span class="op" id="6848773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848778">t</span><span class="op" id="6848779">.</span><span class="ident" id="6848780">Errorf</span><span class="op" id="6848786">(</span><span class="string" id="6848787">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6848811">,</span>&nbsp;<span class="ident" id="6848813">i</span><span class="op" id="6848814">,</span>&nbsp;<span class="ident" id="6848816">dst</span><span class="op" id="6848819">,</span>&nbsp;<span class="ident" id="6848821">want</span><span class="op" id="6848825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848832">}</span><br>
<span class="lineno">485</span><span class="op" id="6848834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6848837">func</span>&nbsp;<span class="ident" id="6848842">TestMarshalNS</span><span class="op" id="6848855">(</span><span class="ident" id="6848856">t</span>&nbsp;<span class="op" id="6848858">*</span><span class="ident" id="6848859">testing</span><span class="op" id="6848866">.</span><span class="ident" id="6848867">T</span><span class="op" id="6848868">)</span>&nbsp;<span class="op" id="6848870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848873">dst</span>&nbsp;<span class="op" id="6848877">:=</span>&nbsp;<span class="ident" id="6848880">Tables</span><span class="op" id="6848886">{</span><span class="string" id="6848887">&#34;hello&#34;</span><span class="op" id="6848894">,</span>&nbsp;<span class="string" id="6848896">&#34;world&#34;</span><span class="op" id="6848903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848906">data</span><span class="op" id="6848910">,</span>&nbsp;<span class="ident" id="6848912">err</span>&nbsp;<span class="op" id="6848916">:=</span>&nbsp;<span class="ident" id="6848919">Marshal</span><span class="op" id="6848926">(</span><span class="op" id="6848927">&amp;</span><span class="ident" id="6848928">dst</span><span class="op" id="6848931">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848934">if</span>&nbsp;<span class="ident" id="6848937">err</span>&nbsp;<span class="op" id="6848941">!=</span>&nbsp;<span class="ident" id="6848944">nil</span>&nbsp;<span class="op" id="6848948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848952">t</span><span class="op" id="6848953">.</span><span class="ident" id="6848954">Fatalf</span><span class="op" id="6848960">(</span><span class="string" id="6848961">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="6848974">,</span>&nbsp;<span class="ident" id="6848976">err</span><span class="op" id="6848979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848985">want</span>&nbsp;<span class="op" id="6848990">:=</span>&nbsp;<span class="string" id="6848993">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849133">str</span>&nbsp;<span class="op" id="6849137">:=</span>&nbsp;<span class="builtintype" id="6849140">string</span><span class="op" id="6849146">(</span><span class="ident" id="6849147">data</span><span class="op" id="6849151">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6849154">if</span>&nbsp;<span class="ident" id="6849157">str</span>&nbsp;<span class="op" id="6849161">!=</span>&nbsp;<span class="ident" id="6849164">want</span>&nbsp;<span class="op" id="6849169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849173">t</span><span class="op" id="6849174">.</span><span class="ident" id="6849175">Errorf</span><span class="op" id="6849181">(</span><span class="string" id="6849182">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="6849204">,</span>&nbsp;<span class="ident" id="6849206">str</span><span class="op" id="6849209">,</span>&nbsp;<span class="ident" id="6849211">want</span><span class="op" id="6849215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6849218">}</span><br>
<span class="lineno"></span><span class="op" id="6849220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="6849223">type</span>&nbsp;<span class="ident" id="6849228">TableAttrs</span>&nbsp;<span class="keyword" id="6849239">struct</span>&nbsp;<span class="op" id="6849246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849249">TAttr</span>&nbsp;<span class="ident" id="6849255">TAttr</span><br>
<span class="lineno"></span><span class="op" id="6849261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6849264">type</span>&nbsp;<span class="ident" id="6849269">TAttr</span>&nbsp;<span class="keyword" id="6849275">struct</span>&nbsp;<span class="op" id="6849282">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849285">HTable</span>&nbsp;<span class="builtintype" id="6849292">string</span>&nbsp;<span class="string" id="6849299">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849347">FTable</span>&nbsp;<span class="builtintype" id="6849354">string</span>&nbsp;<span class="string" id="6849361">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849416">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6849423">string</span>&nbsp;<span class="string" id="6849430">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849496">Other1</span>&nbsp;<span class="builtintype" id="6849503">string</span>&nbsp;<span class="string" id="6849510">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849563">Other2</span>&nbsp;<span class="builtintype" id="6849570">string</span>&nbsp;<span class="string" id="6849577">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849633">Other3</span>&nbsp;<span class="builtintype" id="6849640">string</span>&nbsp;<span class="string" id="6849647">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849701">Other4</span>&nbsp;<span class="builtintype" id="6849708">string</span>&nbsp;<span class="string" id="6849715">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6849770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6849773">var</span>&nbsp;<span class="ident" id="6849777">tableAttrs</span>&nbsp;<span class="op" id="6849788">=</span>&nbsp;<span class="op" id="6849790">[</span><span class="op" id="6849791">]</span><span class="keyword" id="6849792">struct</span>&nbsp;<span class="op" id="6849799">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849802">xml</span>&nbsp;<span class="builtintype" id="6849806">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849814">tab</span>&nbsp;<span class="ident" id="6849818">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849830">ns</span>&nbsp;&nbsp;<span class="builtintype" id="6849834">string</span><br>
<span class="lineno"></span><span class="op" id="6849841">}</span><span class="op" id="6849842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6849845">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849849">xml</span><span class="op" id="6849852">:</span>&nbsp;<span class="string" id="6849854">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6849959">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6849964">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6849999">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6850004">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6850021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850025">tab</span><span class="op" id="6850028">:</span>&nbsp;<span class="ident" id="6850030">TableAttrs</span><span class="op" id="6850040">{</span><span class="ident" id="6850041">TAttr</span><span class="op" id="6850046">{</span><span class="ident" id="6850047">HTable</span><span class="op" id="6850053">:</span>&nbsp;<span class="string" id="6850055">&#34;hello&#34;</span><span class="op" id="6850062">,</span>&nbsp;<span class="ident" id="6850064">FTable</span><span class="op" id="6850070">:</span>&nbsp;<span class="string" id="6850072">&#34;world&#34;</span><span class="op" id="6850079">}</span><span class="op" id="6850080">}</span><span class="op" id="6850081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850084">}</span><span class="op" id="6850085">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850092">xml</span><span class="op" id="6850095">:</span>&nbsp;<span class="string" id="6850097">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="6850202">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6850207">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6850242">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6850247">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6850264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850268">tab</span><span class="op" id="6850271">:</span>&nbsp;<span class="ident" id="6850273">TableAttrs</span><span class="op" id="6850283">{</span><span class="ident" id="6850284">TAttr</span><span class="op" id="6850289">{</span><span class="ident" id="6850290">HTable</span><span class="op" id="6850296">:</span>&nbsp;<span class="string" id="6850298">&#34;hello&#34;</span><span class="op" id="6850305">,</span>&nbsp;<span class="ident" id="6850307">FTable</span><span class="op" id="6850313">:</span>&nbsp;<span class="string" id="6850315">&#34;world&#34;</span><span class="op" id="6850322">}</span><span class="op" id="6850323">}</span><span class="op" id="6850324">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850327">}</span><span class="op" id="6850328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850335">xml</span><span class="op" id="6850338">:</span>&nbsp;<span class="string" id="6850340">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6850362">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6850367">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="6850485">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6850490">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6850507">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850511">tab</span><span class="op" id="6850514">:</span>&nbsp;<span class="ident" id="6850516">TableAttrs</span><span class="op" id="6850526">{</span><span class="ident" id="6850527">TAttr</span><span class="op" id="6850532">{</span><span class="ident" id="6850533">HTable</span><span class="op" id="6850539">:</span>&nbsp;<span class="string" id="6850541">&#34;hello&#34;</span><span class="op" id="6850548">,</span>&nbsp;<span class="ident" id="6850550">FTable</span><span class="op" id="6850556">:</span>&nbsp;<span class="string" id="6850558">&#34;world&#34;</span><span class="op" id="6850565">}</span><span class="op" id="6850566">}</span><span class="op" id="6850567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850570">}</span><span class="op" id="6850571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6850578">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850632">xml</span><span class="op" id="6850635">:</span>&nbsp;<span class="string" id="6850637">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6850740">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6850745">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6850778">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6850783">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6850800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850804">tab</span><span class="op" id="6850807">:</span>&nbsp;<span class="ident" id="6850809">TableAttrs</span><span class="op" id="6850819">{</span><span class="ident" id="6850820">TAttr</span><span class="op" id="6850825">{</span><span class="ident" id="6850826">HTable</span><span class="op" id="6850832">:</span>&nbsp;<span class="string" id="6850834">&#34;hello&#34;</span><span class="op" id="6850841">,</span>&nbsp;<span class="ident" id="6850843">FTable</span><span class="op" id="6850849">:</span>&nbsp;<span class="string" id="6850851">&#34;&#34;</span><span class="op" id="6850853">}</span><span class="op" id="6850854">}</span><span class="op" id="6850855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850858">}</span><span class="op" id="6850859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850862">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6850866">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850920">xml</span><span class="op" id="6850923">:</span>&nbsp;<span class="string" id="6850925">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="6851028">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6851033">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6851066">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6851071">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6851088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851092">tab</span><span class="op" id="6851095">:</span>&nbsp;<span class="ident" id="6851097">TableAttrs</span><span class="op" id="6851107">{</span><span class="ident" id="6851108">TAttr</span><span class="op" id="6851113">{</span><span class="ident" id="6851114">HTable</span><span class="op" id="6851120">:</span>&nbsp;<span class="string" id="6851122">&#34;&#34;</span><span class="op" id="6851124">,</span>&nbsp;<span class="ident" id="6851126">FTable</span><span class="op" id="6851132">:</span>&nbsp;<span class="string" id="6851134">&#34;world&#34;</span><span class="op" id="6851141">}</span><span class="op" id="6851142">}</span><span class="op" id="6851143">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6851146">}</span><span class="op" id="6851147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6851150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851154">xml</span><span class="op" id="6851157">:</span>&nbsp;<span class="string" id="6851159">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6851181">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6851186">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="6851203">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6851208">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6851225">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851229">tab</span><span class="op" id="6851232">:</span>&nbsp;<span class="ident" id="6851234">TableAttrs</span><span class="op" id="6851244">{</span><span class="op" id="6851245">}</span><span class="op" id="6851246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6851249">}</span><span class="op" id="6851250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6851253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6851257">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851311">xml</span><span class="op" id="6851314">:</span>&nbsp;<span class="string" id="6851316">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6851376">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6851381">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6851414">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6851419">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6851436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851440">tab</span><span class="op" id="6851443">:</span>&nbsp;<span class="ident" id="6851445">TableAttrs</span><span class="op" id="6851455">{</span><span class="ident" id="6851456">TAttr</span><span class="op" id="6851461">{</span><span class="ident" id="6851462">HTable</span><span class="op" id="6851468">:</span>&nbsp;<span class="string" id="6851470">&#34;hello&#34;</span><span class="op" id="6851477">,</span>&nbsp;<span class="ident" id="6851479">FTable</span><span class="op" id="6851485">:</span>&nbsp;<span class="string" id="6851487">&#34;&#34;</span><span class="op" id="6851489">}</span><span class="op" id="6851490">}</span><span class="op" id="6851491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851495">ns</span><span class="op" id="6851497">:</span>&nbsp;&nbsp;<span class="string" id="6851500">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="6851536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6851539">}</span><span class="op" id="6851540">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6851543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6851547">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851601">xml</span><span class="op" id="6851604">:</span>&nbsp;<span class="string" id="6851606">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6851673">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6851678">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6851711">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6851716">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6851733">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851737">tab</span><span class="op" id="6851740">:</span>&nbsp;<span class="ident" id="6851742">TableAttrs</span><span class="op" id="6851752">{</span><span class="ident" id="6851753">TAttr</span><span class="op" id="6851758">{</span><span class="ident" id="6851759">HTable</span><span class="op" id="6851765">:</span>&nbsp;<span class="string" id="6851767">&#34;&#34;</span><span class="op" id="6851769">,</span>&nbsp;<span class="ident" id="6851771">FTable</span><span class="op" id="6851777">:</span>&nbsp;<span class="string" id="6851779">&#34;world&#34;</span><span class="op" id="6851786">}</span><span class="op" id="6851787">}</span><span class="op" id="6851788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851792">ns</span><span class="op" id="6851794">:</span>&nbsp;&nbsp;<span class="string" id="6851797">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="6851826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6851829">}</span><span class="op" id="6851830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6851833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851837">xml</span><span class="op" id="6851840">:</span>&nbsp;<span class="string" id="6851842">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6851864">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6851869">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="6851886">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6851891">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6851908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851912">tab</span><span class="op" id="6851915">:</span>&nbsp;<span class="ident" id="6851917">TableAttrs</span><span class="op" id="6851927">{</span><span class="op" id="6851928">}</span><span class="op" id="6851929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851933">ns</span><span class="op" id="6851935">:</span>&nbsp;&nbsp;<span class="string" id="6851938">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="6851963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6851966">}</span><span class="op" id="6851967">,</span><br>
<span class="lineno">580</span><span class="op" id="6851969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6851972">func</span>&nbsp;<span class="ident" id="6851977">TestUnmarshalNSAttr</span><span class="op" id="6851996">(</span><span class="ident" id="6851997">t</span>&nbsp;<span class="op" id="6851999">*</span><span class="ident" id="6852000">testing</span><span class="op" id="6852007">.</span><span class="ident" id="6852008">T</span><span class="op" id="6852009">)</span>&nbsp;<span class="op" id="6852011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852014">for</span>&nbsp;<span class="ident" id="6852018">i</span><span class="op" id="6852019">,</span>&nbsp;<span class="ident" id="6852021">tt</span>&nbsp;<span class="op" id="6852024">:=</span>&nbsp;<span class="keyword" id="6852027">range</span>&nbsp;<span class="ident" id="6852033">tableAttrs</span>&nbsp;<span class="op" id="6852044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852048">var</span>&nbsp;<span class="ident" id="6852052">dst</span>&nbsp;<span class="ident" id="6852056">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852069">var</span>&nbsp;<span class="ident" id="6852073">err</span>&nbsp;<span class="builtintype" id="6852077">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852085">if</span>&nbsp;<span class="ident" id="6852088">tt</span><span class="op" id="6852090">.</span><span class="ident" id="6852091">ns</span>&nbsp;<span class="op" id="6852094">!=</span>&nbsp;<span class="string" id="6852097">&#34;&#34;</span>&nbsp;<span class="op" id="6852100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852105">d</span>&nbsp;<span class="op" id="6852107">:=</span>&nbsp;<span class="ident" id="6852110">NewDecoder</span><span class="op" id="6852120">(</span><span class="ident" id="6852121">strings</span><span class="op" id="6852128">.</span><span class="ident" id="6852129">NewReader</span><span class="op" id="6852138">(</span><span class="ident" id="6852139">tt</span><span class="op" id="6852141">.</span><span class="ident" id="6852142">xml</span><span class="op" id="6852145">)</span><span class="op" id="6852146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852151">d</span><span class="op" id="6852152">.</span><span class="ident" id="6852153">DefaultSpace</span>&nbsp;<span class="op" id="6852166">=</span>&nbsp;<span class="ident" id="6852168">tt</span><span class="op" id="6852170">.</span><span class="ident" id="6852171">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852177">err</span>&nbsp;<span class="op" id="6852181">=</span>&nbsp;<span class="ident" id="6852183">d</span><span class="op" id="6852184">.</span><span class="ident" id="6852185">Decode</span><span class="op" id="6852191">(</span><span class="op" id="6852192">&amp;</span><span class="ident" id="6852193">dst</span><span class="op" id="6852196">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6852200">}</span>&nbsp;<span class="keyword" id="6852202">else</span>&nbsp;<span class="op" id="6852207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852212">err</span>&nbsp;<span class="op" id="6852216">=</span>&nbsp;<span class="ident" id="6852218">Unmarshal</span><span class="op" id="6852227">(</span><span class="op" id="6852228">[</span><span class="op" id="6852229">]</span><span class="builtintype" id="6852230">byte</span><span class="op" id="6852234">(</span><span class="ident" id="6852235">tt</span><span class="op" id="6852237">.</span><span class="ident" id="6852238">xml</span><span class="op" id="6852241">)</span><span class="op" id="6852242">,</span>&nbsp;<span class="op" id="6852244">&amp;</span><span class="ident" id="6852245">dst</span><span class="op" id="6852248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6852252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852256">if</span>&nbsp;<span class="ident" id="6852259">err</span>&nbsp;<span class="op" id="6852263">!=</span>&nbsp;<span class="ident" id="6852266">nil</span>&nbsp;<span class="op" id="6852270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852275">t</span><span class="op" id="6852276">.</span><span class="ident" id="6852277">Errorf</span><span class="op" id="6852283">(</span><span class="string" id="6852284">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6852304">,</span>&nbsp;<span class="ident" id="6852306">i</span><span class="op" id="6852307">,</span>&nbsp;<span class="ident" id="6852309">err</span><span class="op" id="6852312">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852317">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6852328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852332">want</span>&nbsp;<span class="op" id="6852337">:=</span>&nbsp;<span class="ident" id="6852340">tt</span><span class="op" id="6852342">.</span><span class="ident" id="6852343">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852349">if</span>&nbsp;<span class="ident" id="6852352">dst</span>&nbsp;<span class="op" id="6852356">!=</span>&nbsp;<span class="ident" id="6852359">want</span>&nbsp;<span class="op" id="6852364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852369">t</span><span class="op" id="6852370">.</span><span class="ident" id="6852371">Errorf</span><span class="op" id="6852377">(</span><span class="string" id="6852378">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6852402">,</span>&nbsp;<span class="ident" id="6852404">i</span><span class="op" id="6852405">,</span>&nbsp;<span class="ident" id="6852407">dst</span><span class="op" id="6852410">,</span>&nbsp;<span class="ident" id="6852412">want</span><span class="op" id="6852416">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6852420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6852423">}</span><br>
<span class="lineno"></span><span class="op" id="6852425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6852428">func</span>&nbsp;<span class="ident" id="6852433">TestMarshalNSAttr</span><span class="op" id="6852450">(</span><span class="ident" id="6852451">t</span>&nbsp;<span class="op" id="6852453">*</span><span class="ident" id="6852454">testing</span><span class="op" id="6852461">.</span><span class="ident" id="6852462">T</span><span class="op" id="6852463">)</span>&nbsp;<span class="op" id="6852465">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852468">src</span>&nbsp;<span class="op" id="6852472">:=</span>&nbsp;<span class="ident" id="6852475">TableAttrs</span><span class="op" id="6852485">{</span><span class="ident" id="6852486">TAttr</span><span class="op" id="6852491">{</span><span class="string" id="6852492">&#34;hello&#34;</span><span class="op" id="6852499">,</span>&nbsp;<span class="string" id="6852501">&#34;world&#34;</span><span class="op" id="6852508">,</span>&nbsp;<span class="string" id="6852510">&#34;en_US&#34;</span><span class="op" id="6852517">,</span>&nbsp;<span class="string" id="6852519">&#34;other1&#34;</span><span class="op" id="6852527">,</span>&nbsp;<span class="string" id="6852529">&#34;other2&#34;</span><span class="op" id="6852537">,</span>&nbsp;<span class="string" id="6852539">&#34;other3&#34;</span><span class="op" id="6852547">,</span>&nbsp;<span class="string" id="6852549">&#34;other4&#34;</span><span class="op" id="6852557">}</span><span class="op" id="6852558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852561">data</span><span class="op" id="6852565">,</span>&nbsp;<span class="ident" id="6852567">err</span>&nbsp;<span class="op" id="6852571">:=</span>&nbsp;<span class="ident" id="6852574">Marshal</span><span class="op" id="6852581">(</span><span class="op" id="6852582">&amp;</span><span class="ident" id="6852583">src</span><span class="op" id="6852586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852589">if</span>&nbsp;<span class="ident" id="6852592">err</span>&nbsp;<span class="op" id="6852596">!=</span>&nbsp;<span class="ident" id="6852599">nil</span>&nbsp;<span class="op" id="6852603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852607">t</span><span class="op" id="6852608">.</span><span class="ident" id="6852609">Fatalf</span><span class="op" id="6852615">(</span><span class="string" id="6852616">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="6852629">,</span>&nbsp;<span class="ident" id="6852631">err</span><span class="op" id="6852634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6852637">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852640">want</span>&nbsp;<span class="op" id="6852645">:=</span>&nbsp;<span class="string" id="6852648">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853089">str</span>&nbsp;<span class="op" id="6853093">:=</span>&nbsp;<span class="builtintype" id="6853096">string</span><span class="op" id="6853102">(</span><span class="ident" id="6853103">data</span><span class="op" id="6853107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853110">if</span>&nbsp;<span class="ident" id="6853113">str</span>&nbsp;<span class="op" id="6853117">!=</span>&nbsp;<span class="ident" id="6853120">want</span>&nbsp;<span class="op" id="6853125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853129">t</span><span class="op" id="6853130">.</span><span class="ident" id="6853131">Errorf</span><span class="op" id="6853137">(</span><span class="string" id="6853138">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="6853172">,</span>&nbsp;<span class="ident" id="6853174">str</span><span class="op" id="6853177">,</span>&nbsp;<span class="ident" id="6853179">want</span><span class="op" id="6853183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853186">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853190">var</span>&nbsp;<span class="ident" id="6853194">dst</span>&nbsp;<span class="ident" id="6853198">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853210">if</span>&nbsp;<span class="ident" id="6853213">err</span>&nbsp;<span class="op" id="6853217">:=</span>&nbsp;<span class="ident" id="6853220">Unmarshal</span><span class="op" id="6853229">(</span><span class="ident" id="6853230">data</span><span class="op" id="6853234">,</span>&nbsp;<span class="op" id="6853236">&amp;</span><span class="ident" id="6853237">dst</span><span class="op" id="6853240">)</span><span class="op" id="6853241">;</span>&nbsp;<span class="ident" id="6853243">err</span>&nbsp;<span class="op" id="6853247">!=</span>&nbsp;<span class="ident" id="6853250">nil</span>&nbsp;<span class="op" id="6853254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853258">t</span><span class="op" id="6853259">.</span><span class="ident" id="6853260">Errorf</span><span class="op" id="6853266">(</span><span class="string" id="6853267">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6853282">,</span>&nbsp;<span class="ident" id="6853284">err</span><span class="op" id="6853287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853290">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853294">if</span>&nbsp;<span class="ident" id="6853297">dst</span>&nbsp;<span class="op" id="6853301">!=</span>&nbsp;<span class="ident" id="6853304">src</span>&nbsp;<span class="op" id="6853308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853312">t</span><span class="op" id="6853313">.</span><span class="ident" id="6853314">Errorf</span><span class="op" id="6853320">(</span><span class="string" id="6853321">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6853346">,</span>&nbsp;<span class="ident" id="6853348">dst</span><span class="op" id="6853351">,</span>&nbsp;<span class="ident" id="6853353">src</span><span class="op" id="6853356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853359">}</span><br>
<span class="lineno"></span><span class="op" id="6853361">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="6853364">type</span>&nbsp;<span class="ident" id="6853369">MyCharData</span>&nbsp;<span class="keyword" id="6853380">struct</span>&nbsp;<span class="op" id="6853387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853390">body</span>&nbsp;<span class="builtintype" id="6853395">string</span><br>
<span class="lineno"></span><span class="op" id="6853402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="6853405">func</span>&nbsp;<span class="op" id="6853410">(</span><span class="ident" id="6853411">m</span>&nbsp;<span class="op" id="6853413">*</span><span class="ident" id="6853414">MyCharData</span><span class="op" id="6853424">)</span>&nbsp;<span class="ident" id="6853426">UnmarshalXML</span><span class="op" id="6853438">(</span><span class="ident" id="6853439">d</span>&nbsp;<span class="op" id="6853441">*</span><span class="ident" id="6853442">Decoder</span><span class="op" id="6853449">,</span>&nbsp;<span class="ident" id="6853451">start</span>&nbsp;<span class="ident" id="6853457">StartElement</span><span class="op" id="6853469">)</span>&nbsp;<span class="builtintype" id="6853471">error</span>&nbsp;<span class="op" id="6853477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853480">for</span>&nbsp;<span class="op" id="6853484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853488">t</span><span class="op" id="6853489">,</span>&nbsp;<span class="ident" id="6853491">err</span>&nbsp;<span class="op" id="6853495">:=</span>&nbsp;<span class="ident" id="6853498">d</span><span class="op" id="6853499">.</span><span class="ident" id="6853500">Token</span><span class="op" id="6853505">(</span><span class="op" id="6853506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853510">if</span>&nbsp;<span class="ident" id="6853513">err</span>&nbsp;<span class="op" id="6853517">==</span>&nbsp;<span class="ident" id="6853520">io</span><span class="op" id="6853522">.</span><span class="ident" id="6853523">EOF</span>&nbsp;<span class="op" id="6853527">{</span>&nbsp;<span class="comment" id="6853529">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853556">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853568">if</span>&nbsp;<span class="ident" id="6853571">err</span>&nbsp;<span class="op" id="6853575">!=</span>&nbsp;<span class="ident" id="6853578">nil</span>&nbsp;<span class="op" id="6853582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853587">return</span>&nbsp;<span class="ident" id="6853594">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853604">if</span>&nbsp;<span class="ident" id="6853607">char</span><span class="op" id="6853611">,</span>&nbsp;<span class="ident" id="6853613">ok</span>&nbsp;<span class="op" id="6853616">:=</span>&nbsp;<span class="ident" id="6853619">t</span><span class="op" id="6853620">.</span><span class="op" id="6853621">(</span><span class="ident" id="6853622">CharData</span><span class="op" id="6853630">)</span><span class="op" id="6853631">;</span>&nbsp;<span class="ident" id="6853633">ok</span>&nbsp;<span class="op" id="6853636">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853641">m</span><span class="op" id="6853642">.</span><span class="ident" id="6853643">body</span>&nbsp;<span class="op" id="6853648">+=</span>&nbsp;<span class="builtintype" id="6853651">string</span><span class="op" id="6853657">(</span><span class="ident" id="6853658">char</span><span class="op" id="6853662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853672">return</span>&nbsp;<span class="ident" id="6853679">nil</span><br>
<span class="lineno"></span><span class="op" id="6853683">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="6853686">var</span>&nbsp;<span class="ident" id="6853690">_</span>&nbsp;<span class="ident" id="6853692">Unmarshaler</span>&nbsp;<span class="op" id="6853704">=</span>&nbsp;<span class="op" id="6853706">(</span><span class="op" id="6853707">*</span><span class="ident" id="6853708">MyCharData</span><span class="op" id="6853718">)</span><span class="op" id="6853719">(</span><span class="ident" id="6853720">nil</span><span class="op" id="6853723">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6853726">func</span>&nbsp;<span class="op" id="6853731">(</span><span class="ident" id="6853732">m</span>&nbsp;<span class="op" id="6853734">*</span><span class="ident" id="6853735">MyCharData</span><span class="op" id="6853745">)</span>&nbsp;<span class="ident" id="6853747">UnmarshalXMLAttr</span><span class="op" id="6853763">(</span><span class="ident" id="6853764">attr</span>&nbsp;<span class="ident" id="6853769">Attr</span><span class="op" id="6853773">)</span>&nbsp;<span class="builtintype" id="6853775">error</span>&nbsp;<span class="op" id="6853781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6853784">panic</span><span class="op" id="6853789">(</span><span class="string" id="6853790">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="6853805">)</span><br>
<span class="lineno">650</span><span class="op" id="6853807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6853810">type</span>&nbsp;<span class="ident" id="6853815">MyAttr</span>&nbsp;<span class="keyword" id="6853822">struct</span>&nbsp;<span class="op" id="6853829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853832">attr</span>&nbsp;<span class="builtintype" id="6853837">string</span><br>
<span class="lineno"></span><span class="op" id="6853844">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="6853847">func</span>&nbsp;<span class="op" id="6853852">(</span><span class="ident" id="6853853">m</span>&nbsp;<span class="op" id="6853855">*</span><span class="ident" id="6853856">MyAttr</span><span class="op" id="6853862">)</span>&nbsp;<span class="ident" id="6853864">UnmarshalXMLAttr</span><span class="op" id="6853880">(</span><span class="ident" id="6853881">attr</span>&nbsp;<span class="ident" id="6853886">Attr</span><span class="op" id="6853890">)</span>&nbsp;<span class="builtintype" id="6853892">error</span>&nbsp;<span class="op" id="6853898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853901">m</span><span class="op" id="6853902">.</span><span class="ident" id="6853903">attr</span>&nbsp;<span class="op" id="6853908">=</span>&nbsp;<span class="ident" id="6853910">attr</span><span class="op" id="6853914">.</span><span class="ident" id="6853915">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853922">return</span>&nbsp;<span class="ident" id="6853929">nil</span><br>
<span class="lineno"></span><span class="op" id="6853933">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="6853936">var</span>&nbsp;<span class="ident" id="6853940">_</span>&nbsp;<span class="ident" id="6853942">UnmarshalerAttr</span>&nbsp;<span class="op" id="6853958">=</span>&nbsp;<span class="op" id="6853960">(</span><span class="op" id="6853961">*</span><span class="ident" id="6853962">MyAttr</span><span class="op" id="6853968">)</span><span class="op" id="6853969">(</span><span class="ident" id="6853970">nil</span><span class="op" id="6853973">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6853976">type</span>&nbsp;<span class="ident" id="6853981">MyStruct</span>&nbsp;<span class="keyword" id="6853990">struct</span>&nbsp;<span class="op" id="6853997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854000">Data</span>&nbsp;<span class="op" id="6854005">*</span><span class="ident" id="6854006">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854018">Attr</span>&nbsp;<span class="op" id="6854023">*</span><span class="ident" id="6854024">MyAttr</span>&nbsp;<span class="string" id="6854031">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854047">Data2</span>&nbsp;<span class="ident" id="6854053">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854065">Attr2</span>&nbsp;<span class="ident" id="6854071">MyAttr</span>&nbsp;<span class="string" id="6854078">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6854092">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="6854095">func</span>&nbsp;<span class="ident" id="6854100">TestUnmarshaler</span><span class="op" id="6854115">(</span><span class="ident" id="6854116">t</span>&nbsp;<span class="op" id="6854118">*</span><span class="ident" id="6854119">testing</span><span class="op" id="6854126">.</span><span class="ident" id="6854127">T</span><span class="op" id="6854128">)</span>&nbsp;<span class="op" id="6854130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854133">xml</span>&nbsp;<span class="op" id="6854137">:=</span>&nbsp;<span class="string" id="6854140">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854327">var</span>&nbsp;<span class="ident" id="6854331">m</span>&nbsp;<span class="ident" id="6854333">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854343">if</span>&nbsp;<span class="ident" id="6854346">err</span>&nbsp;<span class="op" id="6854350">:=</span>&nbsp;<span class="ident" id="6854353">Unmarshal</span><span class="op" id="6854362">(</span><span class="op" id="6854363">[</span><span class="op" id="6854364">]</span><span class="builtintype" id="6854365">byte</span><span class="op" id="6854369">(</span><span class="ident" id="6854370">xml</span><span class="op" id="6854373">)</span><span class="op" id="6854374">,</span>&nbsp;<span class="op" id="6854376">&amp;</span><span class="ident" id="6854377">m</span><span class="op" id="6854378">)</span><span class="op" id="6854379">;</span>&nbsp;<span class="ident" id="6854381">err</span>&nbsp;<span class="op" id="6854385">!=</span>&nbsp;<span class="ident" id="6854388">nil</span>&nbsp;<span class="op" id="6854392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854396">t</span><span class="op" id="6854397">.</span><span class="ident" id="6854398">Fatal</span><span class="op" id="6854403">(</span><span class="ident" id="6854404">err</span><span class="op" id="6854407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6854410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854414">if</span>&nbsp;<span class="ident" id="6854417">m</span><span class="op" id="6854418">.</span><span class="ident" id="6854419">Data</span>&nbsp;<span class="op" id="6854424">==</span>&nbsp;<span class="ident" id="6854427">nil</span>&nbsp;<span class="op" id="6854431">||</span>&nbsp;<span class="ident" id="6854434">m</span><span class="op" id="6854435">.</span><span class="ident" id="6854436">Attr</span>&nbsp;<span class="op" id="6854441">==</span>&nbsp;<span class="ident" id="6854444">nil</span>&nbsp;<span class="op" id="6854448">||</span>&nbsp;<span class="ident" id="6854451">m</span><span class="op" id="6854452">.</span><span class="ident" id="6854453">Data</span><span class="op" id="6854457">.</span><span class="ident" id="6854458">body</span>&nbsp;<span class="op" id="6854463">!=</span>&nbsp;<span class="string" id="6854466">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="6854480">||</span>&nbsp;<span class="ident" id="6854483">m</span><span class="op" id="6854484">.</span><span class="ident" id="6854485">Attr</span><span class="op" id="6854489">.</span><span class="ident" id="6854490">attr</span>&nbsp;<span class="op" id="6854495">!=</span>&nbsp;<span class="string" id="6854498">&#34;attr1&#34;</span>&nbsp;<span class="op" id="6854506">||</span>&nbsp;<span class="ident" id="6854509">m</span><span class="op" id="6854510">.</span><span class="ident" id="6854511">Data2</span><span class="op" id="6854516">.</span><span class="ident" id="6854517">body</span>&nbsp;<span class="op" id="6854522">!=</span>&nbsp;<span class="string" id="6854525">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="6854539">||</span>&nbsp;<span class="ident" id="6854542">m</span><span class="op" id="6854543">.</span><span class="ident" id="6854544">Attr2</span><span class="op" id="6854549">.</span><span class="ident" id="6854550">attr</span>&nbsp;<span class="op" id="6854555">!=</span>&nbsp;<span class="string" id="6854558">&#34;attr2&#34;</span>&nbsp;<span class="op" id="6854566">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854570">t</span><span class="op" id="6854571">.</span><span class="ident" id="6854572">Errorf</span><span class="op" id="6854578">(</span><span class="string" id="6854579">&#34;m=%#+v\n&#34;</span><span class="op" id="6854589">,</span>&nbsp;<span class="ident" id="6854591">m</span><span class="op" id="6854592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6854595">}</span><br>
<span class="lineno"></span><span class="op" id="6854597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6854600">type</span>&nbsp;<span class="ident" id="6854605">Pea</span>&nbsp;<span class="keyword" id="6854609">struct</span>&nbsp;<span class="op" id="6854616">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854619">Cotelydon</span>&nbsp;<span class="builtintype" id="6854629">string</span><br>
<span class="lineno"></span><span class="op" id="6854636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6854639">type</span>&nbsp;<span class="ident" id="6854644">Pod</span>&nbsp;<span class="keyword" id="6854648">struct</span>&nbsp;<span class="op" id="6854655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854658">Pea</span>&nbsp;<span class="keyword" id="6854662">interface</span><span class="op" id="6854671">{</span><span class="op" id="6854672">}</span>&nbsp;<span class="string" id="6854674">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="6854686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6854689">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="6854743">func</span>&nbsp;<span class="ident" id="6854748">TestUnmarshalIntoInterface</span><span class="op" id="6854774">(</span><span class="ident" id="6854775">t</span>&nbsp;<span class="op" id="6854777">*</span><span class="ident" id="6854778">testing</span><span class="op" id="6854785">.</span><span class="ident" id="6854786">T</span><span class="op" id="6854787">)</span>&nbsp;<span class="op" id="6854789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854792">pod</span>&nbsp;<span class="op" id="6854796">:=</span>&nbsp;<span class="builtinfunc" id="6854799">new</span><span class="op" id="6854802">(</span><span class="ident" id="6854803">Pod</span><span class="op" id="6854806">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854809">pod</span><span class="op" id="6854812">.</span><span class="ident" id="6854813">Pea</span>&nbsp;<span class="op" id="6854817">=</span>&nbsp;<span class="builtinfunc" id="6854819">new</span><span class="op" id="6854822">(</span><span class="ident" id="6854823">Pea</span><span class="op" id="6854826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854829">xml</span>&nbsp;<span class="op" id="6854833">:=</span>&nbsp;<span class="string" id="6854836">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854896">err</span>&nbsp;<span class="op" id="6854900">:=</span>&nbsp;<span class="ident" id="6854903">Unmarshal</span><span class="op" id="6854912">(</span><span class="op" id="6854913">[</span><span class="op" id="6854914">]</span><span class="builtintype" id="6854915">byte</span><span class="op" id="6854919">(</span><span class="ident" id="6854920">xml</span><span class="op" id="6854923">)</span><span class="op" id="6854924">,</span>&nbsp;<span class="ident" id="6854926">pod</span><span class="op" id="6854929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854932">if</span>&nbsp;<span class="ident" id="6854935">err</span>&nbsp;<span class="op" id="6854939">!=</span>&nbsp;<span class="ident" id="6854942">nil</span>&nbsp;<span class="op" id="6854946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854950">t</span><span class="op" id="6854951">.</span><span class="ident" id="6854952">Fatalf</span><span class="op" id="6854958">(</span><span class="string" id="6854959">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6854987">,</span>&nbsp;<span class="ident" id="6854989">xml</span><span class="op" id="6854992">,</span>&nbsp;<span class="ident" id="6854994">err</span><span class="op" id="6854997">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855003">pea</span><span class="op" id="6855006">,</span>&nbsp;<span class="ident" id="6855008">ok</span>&nbsp;<span class="op" id="6855011">:=</span>&nbsp;<span class="ident" id="6855014">pod</span><span class="op" id="6855017">.</span><span class="ident" id="6855018">Pea</span><span class="op" id="6855021">.</span><span class="op" id="6855022">(</span><span class="op" id="6855023">*</span><span class="ident" id="6855024">Pea</span><span class="op" id="6855027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855030">if</span>&nbsp;<span class="op" id="6855033">!</span><span class="ident" id="6855034">ok</span>&nbsp;<span class="op" id="6855037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855041">t</span><span class="op" id="6855042">.</span><span class="ident" id="6855043">Fatalf</span><span class="op" id="6855049">(</span><span class="string" id="6855050">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="6855099">,</span>&nbsp;<span class="ident" id="6855101">pod</span><span class="op" id="6855104">.</span><span class="ident" id="6855105">Pea</span><span class="op" id="6855108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855111">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855114">have</span><span class="op" id="6855118">,</span>&nbsp;<span class="ident" id="6855120">want</span>&nbsp;<span class="op" id="6855125">:=</span>&nbsp;<span class="ident" id="6855128">pea</span><span class="op" id="6855131">.</span><span class="ident" id="6855132">Cotelydon</span><span class="op" id="6855141">,</span>&nbsp;<span class="string" id="6855143">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855158">if</span>&nbsp;<span class="ident" id="6855161">have</span>&nbsp;<span class="op" id="6855166">!=</span>&nbsp;<span class="ident" id="6855169">want</span>&nbsp;<span class="op" id="6855174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855178">t</span><span class="op" id="6855179">.</span><span class="ident" id="6855180">Errorf</span><span class="op" id="6855186">(</span><span class="string" id="6855187">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6855240">,</span>&nbsp;<span class="ident" id="6855242">have</span><span class="op" id="6855246">,</span>&nbsp;<span class="ident" id="6855248">want</span><span class="op" id="6855252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855255">}</span><br>
<span class="lineno"></span><span class="op" id="6855257">}</span>
</div>
</body>
</html>
