<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5827403">package</span>&nbsp;<span class="ident" id="5827411">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5827417">import</span>&nbsp;<span class="op" id="5827424">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827427">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5827449">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5827452">var</span>&nbsp;<span class="ident" id="5827456">regNameMap</span>&nbsp;<span class="op" id="5827467">=</span>&nbsp;<span class="keyword" id="5827469">map</span><span class="op" id="5827472">[</span><span class="builtintype" id="5827473">string</span><span class="op" id="5827479">]</span><span class="builtintype" id="5827480">uint32</span><span class="op" id="5827486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827489">&#34;r0&#34;</span><span class="op" id="5827493">:</span>&nbsp;<span class="num" id="5827495">0</span><span class="op" id="5827496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827499">&#34;r1&#34;</span><span class="op" id="5827503">:</span>&nbsp;<span class="num" id="5827505">1</span><span class="op" id="5827506">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827509">&#34;r2&#34;</span><span class="op" id="5827513">:</span>&nbsp;<span class="num" id="5827515">2</span><span class="op" id="5827516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827519">&#34;r3&#34;</span><span class="op" id="5827523">:</span>&nbsp;<span class="num" id="5827525">3</span><span class="op" id="5827526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827529">&#34;r4&#34;</span><span class="op" id="5827533">:</span>&nbsp;<span class="num" id="5827535">4</span><span class="op" id="5827536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827539">&#34;r5&#34;</span><span class="op" id="5827543">:</span>&nbsp;<span class="num" id="5827545">5</span><span class="op" id="5827546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827549">&#34;r6&#34;</span><span class="op" id="5827553">:</span>&nbsp;<span class="num" id="5827555">6</span><span class="op" id="5827556">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827559">&#34;r7&#34;</span><span class="op" id="5827563">:</span>&nbsp;<span class="num" id="5827565">7</span><span class="op" id="5827566">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827570">&#34;sp&#34;</span><span class="op" id="5827574">:</span>&nbsp;&nbsp;<span class="num" id="5827577">5</span><span class="op" id="5827578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827581">&#34;ret&#34;</span><span class="op" id="5827586">:</span>&nbsp;<span class="num" id="5827588">6</span><span class="op" id="5827589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5827592">&#34;pc&#34;</span><span class="op" id="5827596">:</span>&nbsp;&nbsp;<span class="num" id="5827599">7</span><span class="op" id="5827600">,</span><br>
<span class="lineno">20</span><span class="op" id="5827602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5827605">func</span>&nbsp;<span class="ident" id="5827610">parseReg</span><span class="op" id="5827618">(</span><span class="ident" id="5827619">p</span>&nbsp;<span class="op" id="5827621">*</span><span class="ident" id="5827622">parser</span><span class="op" id="5827628">,</span>&nbsp;<span class="ident" id="5827630">op</span>&nbsp;<span class="op" id="5827633">*</span><span class="ident" id="5827634">lex8</span><span class="op" id="5827638">.</span><span class="ident" id="5827639">Token</span><span class="op" id="5827644">)</span>&nbsp;<span class="builtintype" id="5827646">uint32</span>&nbsp;<span class="op" id="5827653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827656">if</span>&nbsp;<span class="ident" id="5827659">op</span><span class="op" id="5827661">.</span><span class="ident" id="5827662">Type</span>&nbsp;<span class="op" id="5827667">!=</span>&nbsp;<span class="ident" id="5827670">Operand</span>&nbsp;<span class="op" id="5827678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5827682">panic</span><span class="op" id="5827687">(</span><span class="string" id="5827688">&#34;not&nbsp;an&nbsp;operand&#34;</span><span class="op" id="5827704">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827711">ret</span><span class="op" id="5827714">,</span>&nbsp;<span class="ident" id="5827716">found</span>&nbsp;<span class="op" id="5827722">:=</span>&nbsp;<span class="ident" id="5827725">regNameMap</span><span class="op" id="5827735">[</span><span class="ident" id="5827736">op</span><span class="op" id="5827738">.</span><span class="ident" id="5827739">Lit</span><span class="op" id="5827742">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827745">if</span>&nbsp;<span class="op" id="5827748">!</span><span class="ident" id="5827749">found</span>&nbsp;<span class="op" id="5827755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827759">p</span><span class="op" id="5827760">.</span><span class="ident" id="5827761">err</span><span class="op" id="5827764">(</span><span class="ident" id="5827765">op</span><span class="op" id="5827767">.</span><span class="ident" id="5827768">Pos</span><span class="op" id="5827771">,</span>&nbsp;<span class="string" id="5827773">&#34;invalid&nbsp;register&nbsp;name&nbsp;%q&#34;</span><span class="op" id="5827799">,</span>&nbsp;<span class="ident" id="5827801">op</span><span class="op" id="5827803">.</span><span class="ident" id="5827804">Lit</span><span class="op" id="5827807">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827811">return</span>&nbsp;<span class="num" id="5827818">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827824">return</span>&nbsp;<span class="ident" id="5827831">ret</span><br>
<span class="lineno"></span><span class="op" id="5827835">}</span>
</div>
</body>
</html>
