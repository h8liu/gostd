<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2426300">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2426356">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2426410">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2426461">//&nbsp;General&nbsp;environment&nbsp;variables.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2426496">package</span>&nbsp;<span class="ident" id="2426504">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2426508">import</span>&nbsp;<span class="string" id="2426515">&#34;syscall&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="2426526">//&nbsp;Expand&nbsp;replaces&nbsp;${var}&nbsp;or&nbsp;$var&nbsp;in&nbsp;the&nbsp;string&nbsp;based&nbsp;on&nbsp;the&nbsp;mapping&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="2426605">//&nbsp;For&nbsp;example,&nbsp;os.ExpandEnv(s)&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;os.Expand(s,&nbsp;os.Getenv).</span><br>
<span class="lineno"></span><span class="keyword" id="2426679">func</span>&nbsp;<span class="ident" id="2426684">Expand</span><span class="op" id="2426690">(</span><span class="ident" id="2426691">s</span>&nbsp;<span class="builtintype" id="2426693">string</span><span class="op" id="2426699">,</span>&nbsp;<span class="ident" id="2426701">mapping</span>&nbsp;<span class="keyword" id="2426709">func</span><span class="op" id="2426713">(</span><span class="builtintype" id="2426714">string</span><span class="op" id="2426720">)</span>&nbsp;<span class="builtintype" id="2426722">string</span><span class="op" id="2426728">)</span>&nbsp;<span class="builtintype" id="2426730">string</span>&nbsp;<span class="op" id="2426737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2426740">buf</span>&nbsp;<span class="op" id="2426744">:=</span>&nbsp;<span class="builtinfunc" id="2426747">make</span><span class="op" id="2426751">(</span><span class="op" id="2426752">[</span><span class="op" id="2426753">]</span><span class="builtintype" id="2426754">byte</span><span class="op" id="2426758">,</span>&nbsp;<span class="num" id="2426760">0</span><span class="op" id="2426761">,</span>&nbsp;<span class="num" id="2426763">2</span><span class="op" id="2426764">*</span><span class="builtinfunc" id="2426765">len</span><span class="op" id="2426768">(</span><span class="ident" id="2426769"><a href="/os/env.go.html#2426691">s</a></span><span class="op" id="2426770">)</span><span class="op" id="2426771">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2426774">//&nbsp;${}&nbsp;is&nbsp;all&nbsp;ASCII,&nbsp;so&nbsp;bytes&nbsp;are&nbsp;fine&nbsp;for&nbsp;this&nbsp;operation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2426834">i</span>&nbsp;<span class="op" id="2426836">:=</span>&nbsp;<span class="num" id="2426839">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426842">for</span>&nbsp;<span class="ident" id="2426846">j</span>&nbsp;<span class="op" id="2426848">:=</span>&nbsp;<span class="num" id="2426851">0</span><span class="op" id="2426852">;</span>&nbsp;<span class="ident" id="2426854"><a href="/os/env.go.html#2426846">j</a></span>&nbsp;<span class="op" id="2426856">&lt;</span>&nbsp;<span class="builtinfunc" id="2426858">len</span><span class="op" id="2426861">(</span><span class="ident" id="2426862"><a href="/os/env.go.html#2426691">s</a></span><span class="op" id="2426863">)</span><span class="op" id="2426864">;</span>&nbsp;<span class="ident" id="2426866"><a href="/os/env.go.html#2426846">j</a></span><span class="op" id="2426867">++</span>&nbsp;<span class="op" id="2426870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426874">if</span>&nbsp;<span class="ident" id="2426877"><a href="/os/env.go.html#2426691">s</a></span><span class="op" id="2426878">[</span><span class="ident" id="2426879"><a href="/os/env.go.html#2426846">j</a></span><span class="op" id="2426880">]</span>&nbsp;<span class="op" id="2426882">==</span>&nbsp;<span class="string" id="2426885">&#39;$&#39;</span>&nbsp;<span class="op" id="2426889">&amp;&amp;</span>&nbsp;<span class="ident" id="2426892"><a href="/os/env.go.html#2426846">j</a></span><span class="op" id="2426893">+</span><span class="num" id="2426894">1</span>&nbsp;<span class="op" id="2426896">&lt;</span>&nbsp;<span class="builtinfunc" id="2426898">len</span><span class="op" id="2426901">(</span><span class="ident" id="2426902"><a href="/os/env.go.html#2426691">s</a></span><span class="op" id="2426903">)</span>&nbsp;<span class="op" id="2426905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2426910"><a href="/os/env.go.html#2426740">buf</a></span>&nbsp;<span class="op" id="2426914">=</span>&nbsp;<span class="builtinfunc" id="2426916">append</span><span class="op" id="2426922">(</span><span class="ident" id="2426923"><a href="/os/env.go.html#2426740">buf</a></span><span class="op" id="2426926">,</span>&nbsp;<span class="ident" id="2426928"><a href="/os/env.go.html#2426691">s</a></span><span class="op" id="2426929">[</span><span class="ident" id="2426930"><a href="/os/env.go.html#2426834">i</a></span><span class="op" id="2426931">:</span><span class="ident" id="2426932"><a href="/os/env.go.html#2426846">j</a></span><span class="op" id="2426933">]</span><span class="op" id="2426934">...</span><span class="op" id="2426937">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2426942">name</span><span class="op" id="2426946">,</span>&nbsp;<span class="ident" id="2426948">w</span>&nbsp;<span class="op" id="2426950">:=</span>&nbsp;<span class="ident" id="2426953"><a href="/os/env.go.html#2428034">getShellName</a></span><span class="op" id="2426965">(</span><span class="ident" id="2426966"><a href="/os/env.go.html#2426691">s</a></span><span class="op" id="2426967">[</span><span class="ident" id="2426968"><a href="/os/env.go.html#2426846">j</a></span><span class="op" id="2426969">+</span><span class="num" id="2426970">1</span><span class="op" id="2426971">:</span><span class="op" id="2426972">]</span><span class="op" id="2426973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2426978"><a href="/os/env.go.html#2426740">buf</a></span>&nbsp;<span class="op" id="2426982">=</span>&nbsp;<span class="builtinfunc" id="2426984">append</span><span class="op" id="2426990">(</span><span class="ident" id="2426991"><a href="/os/env.go.html#2426740">buf</a></span><span class="op" id="2426994">,</span>&nbsp;<span class="ident" id="2426996"><a href="/os/env.go.html#2426701">mapping</a></span><span class="op" id="2427003">(</span><span class="ident" id="2427004"><a href="/os/env.go.html#2426942">name</a></span><span class="op" id="2427008">)</span><span class="op" id="2427009">...</span><span class="op" id="2427012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427017"><a href="/os/env.go.html#2426846">j</a></span>&nbsp;<span class="op" id="2427019">+=</span>&nbsp;<span class="ident" id="2427022"><a href="/os/env.go.html#2426948">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427027"><a href="/os/env.go.html#2426834">i</a></span>&nbsp;<span class="op" id="2427029">=</span>&nbsp;<span class="ident" id="2427031"><a href="/os/env.go.html#2426846">j</a></span>&nbsp;<span class="op" id="2427033">+</span>&nbsp;<span class="num" id="2427035">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427039">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427045">return</span>&nbsp;<span class="builtintype" id="2427052">string</span><span class="op" id="2427058">(</span><span class="ident" id="2427059"><a href="/os/env.go.html#2426740">buf</a></span><span class="op" id="2427062">)</span>&nbsp;<span class="op" id="2427064">+</span>&nbsp;<span class="ident" id="2427066"><a href="/os/env.go.html#2426691">s</a></span><span class="op" id="2427067">[</span><span class="ident" id="2427068"><a href="/os/env.go.html#2426834">i</a></span><span class="op" id="2427069">:</span><span class="op" id="2427070">]</span><br>
<span class="lineno"></span><span class="op" id="2427072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2427075">//&nbsp;ExpandEnv&nbsp;replaces&nbsp;${var}&nbsp;or&nbsp;$var&nbsp;in&nbsp;the&nbsp;string&nbsp;according&nbsp;to&nbsp;the&nbsp;values</span><br>
<span class="lineno">30</span><span class="comment" id="2427150">//&nbsp;of&nbsp;the&nbsp;current&nbsp;environment&nbsp;variables.&nbsp;&nbsp;References&nbsp;to&nbsp;undefined</span><br>
<span class="lineno"></span><span class="comment" id="2427216">//&nbsp;variables&nbsp;are&nbsp;replaced&nbsp;by&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2427263">func</span>&nbsp;<span class="ident" id="2427268">ExpandEnv</span><span class="op" id="2427277">(</span><span class="ident" id="2427278">s</span>&nbsp;<span class="builtintype" id="2427280">string</span><span class="op" id="2427286">)</span>&nbsp;<span class="builtintype" id="2427288">string</span>&nbsp;<span class="op" id="2427295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427298">return</span>&nbsp;<span class="ident" id="2427305"><a href="/os/env.go.html#2426684">Expand</a></span><span class="op" id="2427311">(</span><span class="ident" id="2427312"><a href="/os/env.go.html#2427278">s</a></span><span class="op" id="2427313">,</span>&nbsp;<span class="ident" id="2427315"><a href="/os/env.go.html#2428668">Getenv</a></span><span class="op" id="2427321">)</span><br>
<span class="lineno"></span><span class="op" id="2427323">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2427326">//&nbsp;isSpellSpecialVar&nbsp;reports&nbsp;whether&nbsp;the&nbsp;character&nbsp;identifies&nbsp;a&nbsp;special</span><br>
<span class="lineno"></span><span class="comment" id="2427398">//&nbsp;shell&nbsp;variable&nbsp;such&nbsp;as&nbsp;$*.</span><br>
<span class="lineno"></span><span class="keyword" id="2427428">func</span>&nbsp;<span class="ident" id="2427433">isShellSpecialVar</span><span class="op" id="2427450">(</span><span class="ident" id="2427451">c</span>&nbsp;<span class="builtintype" id="2427453">uint8</span><span class="op" id="2427458">)</span>&nbsp;<span class="builtintype" id="2427460">bool</span>&nbsp;<span class="op" id="2427465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427468">switch</span>&nbsp;<span class="ident" id="2427475"><a href="/os/env.go.html#2427451">c</a></span>&nbsp;<span class="op" id="2427477">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427480">case</span>&nbsp;<span class="string" id="2427485">&#39;*&#39;</span><span class="op" id="2427488">,</span>&nbsp;<span class="string" id="2427490">&#39;#&#39;</span><span class="op" id="2427493">,</span>&nbsp;<span class="string" id="2427495">&#39;$&#39;</span><span class="op" id="2427498">,</span>&nbsp;<span class="string" id="2427500">&#39;@&#39;</span><span class="op" id="2427503">,</span>&nbsp;<span class="string" id="2427505">&#39;!&#39;</span><span class="op" id="2427508">,</span>&nbsp;<span class="string" id="2427510">&#39;?&#39;</span><span class="op" id="2427513">,</span>&nbsp;<span class="string" id="2427515">&#39;0&#39;</span><span class="op" id="2427518">,</span>&nbsp;<span class="string" id="2427520">&#39;1&#39;</span><span class="op" id="2427523">,</span>&nbsp;<span class="string" id="2427525">&#39;2&#39;</span><span class="op" id="2427528">,</span>&nbsp;<span class="string" id="2427530">&#39;3&#39;</span><span class="op" id="2427533">,</span>&nbsp;<span class="string" id="2427535">&#39;4&#39;</span><span class="op" id="2427538">,</span>&nbsp;<span class="string" id="2427540">&#39;5&#39;</span><span class="op" id="2427543">,</span>&nbsp;<span class="string" id="2427545">&#39;6&#39;</span><span class="op" id="2427548">,</span>&nbsp;<span class="string" id="2427550">&#39;7&#39;</span><span class="op" id="2427553">,</span>&nbsp;<span class="string" id="2427555">&#39;8&#39;</span><span class="op" id="2427558">,</span>&nbsp;<span class="string" id="2427560">&#39;9&#39;</span><span class="op" id="2427563">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427567">return</span>&nbsp;<span class="builtintype" id="2427574">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427583">return</span>&nbsp;<span class="builtintype" id="2427590">false</span><br>
<span class="lineno"></span><span class="op" id="2427596">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="2427599">//&nbsp;isAlphaNum&nbsp;reports&nbsp;whether&nbsp;the&nbsp;byte&nbsp;is&nbsp;an&nbsp;ASCII&nbsp;letter,&nbsp;number,&nbsp;or&nbsp;underscore</span><br>
<span class="lineno"></span><span class="keyword" id="2427680">func</span>&nbsp;<span class="ident" id="2427685">isAlphaNum</span><span class="op" id="2427695">(</span><span class="ident" id="2427696">c</span>&nbsp;<span class="builtintype" id="2427698">uint8</span><span class="op" id="2427703">)</span>&nbsp;<span class="builtintype" id="2427705">bool</span>&nbsp;<span class="op" id="2427710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427713">return</span>&nbsp;<span class="ident" id="2427720"><a href="/os/env.go.html#2427696">c</a></span>&nbsp;<span class="op" id="2427722">==</span>&nbsp;<span class="string" id="2427725">&#39;_&#39;</span>&nbsp;<span class="op" id="2427729">||</span>&nbsp;<span class="string" id="2427732">&#39;0&#39;</span>&nbsp;<span class="op" id="2427736">&lt;=</span>&nbsp;<span class="ident" id="2427739"><a href="/os/env.go.html#2427696">c</a></span>&nbsp;<span class="op" id="2427741">&amp;&amp;</span>&nbsp;<span class="ident" id="2427744"><a href="/os/env.go.html#2427696">c</a></span>&nbsp;<span class="op" id="2427746">&lt;=</span>&nbsp;<span class="string" id="2427749">&#39;9&#39;</span>&nbsp;<span class="op" id="2427753">||</span>&nbsp;<span class="string" id="2427756">&#39;a&#39;</span>&nbsp;<span class="op" id="2427760">&lt;=</span>&nbsp;<span class="ident" id="2427763"><a href="/os/env.go.html#2427696">c</a></span>&nbsp;<span class="op" id="2427765">&amp;&amp;</span>&nbsp;<span class="ident" id="2427768"><a href="/os/env.go.html#2427696">c</a></span>&nbsp;<span class="op" id="2427770">&lt;=</span>&nbsp;<span class="string" id="2427773">&#39;z&#39;</span>&nbsp;<span class="op" id="2427777">||</span>&nbsp;<span class="string" id="2427780">&#39;A&#39;</span>&nbsp;<span class="op" id="2427784">&lt;=</span>&nbsp;<span class="ident" id="2427787"><a href="/os/env.go.html#2427696">c</a></span>&nbsp;<span class="op" id="2427789">&amp;&amp;</span>&nbsp;<span class="ident" id="2427792"><a href="/os/env.go.html#2427696">c</a></span>&nbsp;<span class="op" id="2427794">&lt;=</span>&nbsp;<span class="string" id="2427797">&#39;Z&#39;</span><br>
<span class="lineno"></span><span class="op" id="2427801">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2427804">//&nbsp;getName&nbsp;returns&nbsp;the&nbsp;name&nbsp;that&nbsp;begins&nbsp;the&nbsp;string&nbsp;and&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno"></span><span class="comment" id="2427879">//&nbsp;consumed&nbsp;to&nbsp;extract&nbsp;it.&nbsp;&nbsp;If&nbsp;the&nbsp;name&nbsp;is&nbsp;enclosed&nbsp;in&nbsp;{},&nbsp;it&#39;s&nbsp;part&nbsp;of&nbsp;a&nbsp;${}</span><br>
<span class="lineno"></span><span class="comment" id="2427957">//&nbsp;expansion&nbsp;and&nbsp;two&nbsp;more&nbsp;bytes&nbsp;are&nbsp;needed&nbsp;than&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="2428029">func</span>&nbsp;<span class="ident" id="2428034">getShellName</span><span class="op" id="2428046">(</span><span class="ident" id="2428047">s</span>&nbsp;<span class="builtintype" id="2428049">string</span><span class="op" id="2428055">)</span>&nbsp;<span class="op" id="2428057">(</span><span class="builtintype" id="2428058">string</span><span class="op" id="2428064">,</span>&nbsp;<span class="builtintype" id="2428066">int</span><span class="op" id="2428069">)</span>&nbsp;<span class="op" id="2428071">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428074">switch</span>&nbsp;<span class="op" id="2428081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428084">case</span>&nbsp;<span class="ident" id="2428089"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428090">[</span><span class="num" id="2428091">0</span><span class="op" id="2428092">]</span>&nbsp;<span class="op" id="2428094">==</span>&nbsp;<span class="string" id="2428097">&#39;{&#39;</span><span class="op" id="2428100">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428104">if</span>&nbsp;<span class="builtinfunc" id="2428107">len</span><span class="op" id="2428110">(</span><span class="ident" id="2428111"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428112">)</span>&nbsp;<span class="op" id="2428114">&gt;</span>&nbsp;<span class="num" id="2428116">2</span>&nbsp;<span class="op" id="2428118">&amp;&amp;</span>&nbsp;<span class="ident" id="2428121"><a href="/os/env.go.html#2427433">isShellSpecialVar</a></span><span class="op" id="2428138">(</span><span class="ident" id="2428139"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428140">[</span><span class="num" id="2428141">1</span><span class="op" id="2428142">]</span><span class="op" id="2428143">)</span>&nbsp;<span class="op" id="2428145">&amp;&amp;</span>&nbsp;<span class="ident" id="2428148"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428149">[</span><span class="num" id="2428150">2</span><span class="op" id="2428151">]</span>&nbsp;<span class="op" id="2428153">==</span>&nbsp;<span class="string" id="2428156">&#39;}&#39;</span>&nbsp;<span class="op" id="2428160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428165">return</span>&nbsp;<span class="ident" id="2428172"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428173">[</span><span class="num" id="2428174">1</span><span class="op" id="2428175">:</span><span class="num" id="2428176">2</span><span class="op" id="2428177">]</span><span class="op" id="2428178">,</span>&nbsp;<span class="num" id="2428180">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428184">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2428188">//&nbsp;Scan&nbsp;to&nbsp;closing&nbsp;brace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428215">for</span>&nbsp;<span class="ident" id="2428219">i</span>&nbsp;<span class="op" id="2428221">:=</span>&nbsp;<span class="num" id="2428224">1</span><span class="op" id="2428225">;</span>&nbsp;<span class="ident" id="2428227"><a href="/os/env.go.html#2428219">i</a></span>&nbsp;<span class="op" id="2428229">&lt;</span>&nbsp;<span class="builtinfunc" id="2428231">len</span><span class="op" id="2428234">(</span><span class="ident" id="2428235"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428236">)</span><span class="op" id="2428237">;</span>&nbsp;<span class="ident" id="2428239"><a href="/os/env.go.html#2428219">i</a></span><span class="op" id="2428240">++</span>&nbsp;<span class="op" id="2428243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428248">if</span>&nbsp;<span class="ident" id="2428251"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428252">[</span><span class="ident" id="2428253"><a href="/os/env.go.html#2428219">i</a></span><span class="op" id="2428254">]</span>&nbsp;<span class="op" id="2428256">==</span>&nbsp;<span class="string" id="2428259">&#39;}&#39;</span>&nbsp;<span class="op" id="2428263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428269">return</span>&nbsp;<span class="ident" id="2428276"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428277">[</span><span class="num" id="2428278">1</span><span class="op" id="2428279">:</span><span class="ident" id="2428280"><a href="/os/env.go.html#2428219">i</a></span><span class="op" id="2428281">]</span><span class="op" id="2428282">,</span>&nbsp;<span class="ident" id="2428284"><a href="/os/env.go.html#2428219">i</a></span>&nbsp;<span class="op" id="2428286">+</span>&nbsp;<span class="num" id="2428288">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428293">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428301">return</span>&nbsp;<span class="string" id="2428308">&#34;&#34;</span><span class="op" id="2428310">,</span>&nbsp;<span class="num" id="2428312">1</span>&nbsp;<span class="comment" id="2428314">//&nbsp;Bad&nbsp;syntax;&nbsp;just&nbsp;eat&nbsp;the&nbsp;brace.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428350">case</span>&nbsp;<span class="ident" id="2428355"><a href="/os/env.go.html#2427433">isShellSpecialVar</a></span><span class="op" id="2428372">(</span><span class="ident" id="2428373"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428374">[</span><span class="num" id="2428375">0</span><span class="op" id="2428376">]</span><span class="op" id="2428377">)</span><span class="op" id="2428378">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428382">return</span>&nbsp;<span class="ident" id="2428389"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428390">[</span><span class="num" id="2428391">0</span><span class="op" id="2428392">:</span><span class="num" id="2428393">1</span><span class="op" id="2428394">]</span><span class="op" id="2428395">,</span>&nbsp;<span class="num" id="2428397">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428400">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2428403">//&nbsp;Scan&nbsp;alphanumerics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428427">var</span>&nbsp;<span class="ident" id="2428431">i</span>&nbsp;<span class="builtintype" id="2428433">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428438">for</span>&nbsp;<span class="ident" id="2428442"><a href="/os/env.go.html#2428431">i</a></span>&nbsp;<span class="op" id="2428444">=</span>&nbsp;<span class="num" id="2428446">0</span><span class="op" id="2428447">;</span>&nbsp;<span class="ident" id="2428449"><a href="/os/env.go.html#2428431">i</a></span>&nbsp;<span class="op" id="2428451">&lt;</span>&nbsp;<span class="builtinfunc" id="2428453">len</span><span class="op" id="2428456">(</span><span class="ident" id="2428457"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428458">)</span>&nbsp;<span class="op" id="2428460">&amp;&amp;</span>&nbsp;<span class="ident" id="2428463"><a href="/os/env.go.html#2427685">isAlphaNum</a></span><span class="op" id="2428473">(</span><span class="ident" id="2428474"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428475">[</span><span class="ident" id="2428476"><a href="/os/env.go.html#2428431">i</a></span><span class="op" id="2428477">]</span><span class="op" id="2428478">)</span><span class="op" id="2428479">;</span>&nbsp;<span class="ident" id="2428481"><a href="/os/env.go.html#2428431">i</a></span><span class="op" id="2428482">++</span>&nbsp;<span class="op" id="2428485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428491">return</span>&nbsp;<span class="ident" id="2428498"><a href="/os/env.go.html#2428047">s</a></span><span class="op" id="2428499">[</span><span class="op" id="2428500">:</span><span class="ident" id="2428501"><a href="/os/env.go.html#2428431">i</a></span><span class="op" id="2428502">]</span><span class="op" id="2428503">,</span>&nbsp;<span class="ident" id="2428505"><a href="/os/env.go.html#2428431">i</a></span><br>
<span class="lineno">75</span><span class="op" id="2428507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2428510">//&nbsp;Getenv&nbsp;retrieves&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;environment&nbsp;variable&nbsp;named&nbsp;by&nbsp;the&nbsp;key.</span><br>
<span class="lineno"></span><span class="comment" id="2428586">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;value,&nbsp;which&nbsp;will&nbsp;be&nbsp;empty&nbsp;if&nbsp;the&nbsp;variable&nbsp;is&nbsp;not&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2428663">func</span>&nbsp;<span class="ident" id="2428668">Getenv</span><span class="op" id="2428674">(</span><span class="ident" id="2428675">key</span>&nbsp;<span class="builtintype" id="2428679">string</span><span class="op" id="2428685">)</span>&nbsp;<span class="builtintype" id="2428687">string</span>&nbsp;<span class="op" id="2428694">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2428697">v</span><span class="op" id="2428698">,</span>&nbsp;<span class="ident" id="2428700">_</span>&nbsp;<span class="op" id="2428702">:=</span>&nbsp;<span class="ident" id="2428705"><a href="/os/env.go.html#2426515">syscall</a></span><span class="op" id="2428712">.</span><span class="ident" id="2428713">Getenv</span><span class="op" id="2428719">(</span><span class="ident" id="2428720"><a href="/os/env.go.html#2428675">key</a></span><span class="op" id="2428723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428726">return</span>&nbsp;<span class="ident" id="2428733"><a href="/os/env.go.html#2428697">v</a></span><br>
<span class="lineno"></span><span class="op" id="2428735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2428738">//&nbsp;Setenv&nbsp;sets&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;environment&nbsp;variable&nbsp;named&nbsp;by&nbsp;the&nbsp;key.</span><br>
<span class="lineno">85</span><span class="comment" id="2428809">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="keyword" id="2428841">func</span>&nbsp;<span class="ident" id="2428846">Setenv</span><span class="op" id="2428852">(</span><span class="ident" id="2428853">key</span><span class="op" id="2428856">,</span>&nbsp;<span class="ident" id="2428858">value</span>&nbsp;<span class="builtintype" id="2428864">string</span><span class="op" id="2428870">)</span>&nbsp;<span class="builtintype" id="2428872">error</span>&nbsp;<span class="op" id="2428878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2428881">err</span>&nbsp;<span class="op" id="2428885">:=</span>&nbsp;<span class="ident" id="2428888"><a href="/os/env.go.html#2426515">syscall</a></span><span class="op" id="2428895">.</span><span class="ident" id="2428896">Setenv</span><span class="op" id="2428902">(</span><span class="ident" id="2428903"><a href="/os/env.go.html#2428853">key</a></span><span class="op" id="2428906">,</span>&nbsp;<span class="ident" id="2428908"><a href="/os/env.go.html#2428858">value</a></span><span class="op" id="2428913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428916">if</span>&nbsp;<span class="ident" id="2428919"><a href="/os/env.go.html#2428881">err</a></span>&nbsp;<span class="op" id="2428923">!=</span>&nbsp;<span class="ident" id="2428926">nil</span>&nbsp;<span class="op" id="2428930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428934">return</span>&nbsp;<span class="ident" id="2428941"><a href="/os/error.go.html#2430425">NewSyscallError</a></span><span class="op" id="2428956">(</span><span class="string" id="2428957">&#34;setenv&#34;</span><span class="op" id="2428965">,</span>&nbsp;<span class="ident" id="2428967"><a href="/os/env.go.html#2428881">err</a></span><span class="op" id="2428970">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428976">return</span>&nbsp;<span class="ident" id="2428983">nil</span><br>
<span class="lineno"></span><span class="op" id="2428987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2428990">//&nbsp;Unsetenv&nbsp;unsets&nbsp;a&nbsp;single&nbsp;environment&nbsp;variable.</span><br>
<span class="lineno">95</span><span class="keyword" id="2429040">func</span>&nbsp;<span class="ident" id="2429045">Unsetenv</span><span class="op" id="2429053">(</span><span class="ident" id="2429054">key</span>&nbsp;<span class="builtintype" id="2429058">string</span><span class="op" id="2429064">)</span>&nbsp;<span class="builtintype" id="2429066">error</span>&nbsp;<span class="op" id="2429072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2429075">return</span>&nbsp;<span class="ident" id="2429082"><a href="/os/env.go.html#2426515">syscall</a></span><span class="op" id="2429089">.</span><span class="ident" id="2429090">Unsetenv</span><span class="op" id="2429098">(</span><span class="ident" id="2429099"><a href="/os/env.go.html#2429054">key</a></span><span class="op" id="2429102">)</span><br>
<span class="lineno"></span><span class="op" id="2429104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2429107">//&nbsp;Clearenv&nbsp;deletes&nbsp;all&nbsp;environment&nbsp;variables.</span><br>
<span class="lineno">100</span><span class="keyword" id="2429154">func</span>&nbsp;<span class="ident" id="2429159">Clearenv</span><span class="op" id="2429167">(</span><span class="op" id="2429168">)</span>&nbsp;<span class="op" id="2429170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2429173"><a href="/os/env.go.html#2426515">syscall</a></span><span class="op" id="2429180">.</span><span class="ident" id="2429181">Clearenv</span><span class="op" id="2429189">(</span><span class="op" id="2429190">)</span><br>
<span class="lineno"></span><span class="op" id="2429192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2429195">//&nbsp;Environ&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;strings&nbsp;representing&nbsp;the&nbsp;environment,</span><br>
<span class="lineno">105</span><span class="comment" id="2429262">//&nbsp;in&nbsp;the&nbsp;form&nbsp;&#34;key=value&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="2429290">func</span>&nbsp;<span class="ident" id="2429295">Environ</span><span class="op" id="2429302">(</span><span class="op" id="2429303">)</span>&nbsp;<span class="op" id="2429305">[</span><span class="op" id="2429306">]</span><span class="builtintype" id="2429307">string</span>&nbsp;<span class="op" id="2429314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2429317">return</span>&nbsp;<span class="ident" id="2429324"><a href="/os/env.go.html#2426515">syscall</a></span><span class="op" id="2429331">.</span><span class="ident" id="2429332">Environ</span><span class="op" id="2429339">(</span><span class="op" id="2429340">)</span><br>
<span class="lineno"></span><span class="op" id="2429342">}</span>
</div>
</body>
</html>
