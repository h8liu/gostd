<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html" class="current">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6734345">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6734401">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6734455">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6734506">package</span>&nbsp;<span class="ident" id="6734514">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6734519">import</span>&nbsp;<span class="op" id="6734526">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6734529">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6734538">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6734544">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6734554">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6734557">func</span>&nbsp;<span class="ident" id="6734562">checkWrite</span><span class="op" id="6734572">(</span><span class="ident" id="6734573">t</span>&nbsp;<span class="op" id="6734575">*</span><span class="ident" id="6734576">testing</span><span class="op" id="6734583">.</span><span class="ident" id="6734584">T</span><span class="op" id="6734585">,</span>&nbsp;<span class="ident" id="6734587">w</span>&nbsp;<span class="ident" id="6734589">io</span><span class="op" id="6734591">.</span><span class="ident" id="6734592">Writer</span><span class="op" id="6734598">,</span>&nbsp;<span class="ident" id="6734600">data</span>&nbsp;<span class="op" id="6734605">[</span><span class="op" id="6734606">]</span><span class="builtintype" id="6734607">byte</span><span class="op" id="6734611">,</span>&nbsp;<span class="ident" id="6734613">c</span>&nbsp;<span class="keyword" id="6734615">chan</span>&nbsp;<span class="builtintype" id="6734620">int</span><span class="op" id="6734623">)</span>&nbsp;<span class="op" id="6734625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734628">n</span><span class="op" id="6734629">,</span>&nbsp;<span class="ident" id="6734631">err</span>&nbsp;<span class="op" id="6734635">:=</span>&nbsp;<span class="ident" id="6734638">w</span><span class="op" id="6734639">.</span><span class="ident" id="6734640">Write</span><span class="op" id="6734645">(</span><span class="ident" id="6734646">data</span><span class="op" id="6734650">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6734653">if</span>&nbsp;<span class="ident" id="6734656">err</span>&nbsp;<span class="op" id="6734660">!=</span>&nbsp;<span class="builtintype" id="6734663">nil</span>&nbsp;<span class="op" id="6734667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734671">t</span><span class="op" id="6734672">.</span><span class="ident" id="6734673">Errorf</span><span class="op" id="6734679">(</span><span class="string" id="6734680">&#34;write:&nbsp;%v&#34;</span><span class="op" id="6734691">,</span>&nbsp;<span class="ident" id="6734693">err</span><span class="op" id="6734696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6734699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6734702">if</span>&nbsp;<span class="ident" id="6734705">n</span>&nbsp;<span class="op" id="6734707">!=</span>&nbsp;<span class="builtinfunc" id="6734710">len</span><span class="op" id="6734713">(</span><span class="ident" id="6734714">data</span><span class="op" id="6734718">)</span>&nbsp;<span class="op" id="6734720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734724">t</span><span class="op" id="6734725">.</span><span class="ident" id="6734726">Errorf</span><span class="op" id="6734732">(</span><span class="string" id="6734733">&#34;short&nbsp;write:&nbsp;%d&nbsp;!=&nbsp;%d&#34;</span><span class="op" id="6734756">,</span>&nbsp;<span class="ident" id="6734758">n</span><span class="op" id="6734759">,</span>&nbsp;<span class="builtinfunc" id="6734761">len</span><span class="op" id="6734764">(</span><span class="ident" id="6734765">data</span><span class="op" id="6734769">)</span><span class="op" id="6734770">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6734773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734776">c</span>&nbsp;<span class="op" id="6734778">&lt;-</span>&nbsp;<span class="num" id="6734781">0</span><br>
<span class="lineno"></span><span class="op" id="6734783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6734786">func</span>&nbsp;<span class="ident" id="6734791">checkRead</span><span class="op" id="6734800">(</span><span class="ident" id="6734801">t</span>&nbsp;<span class="op" id="6734803">*</span><span class="ident" id="6734804">testing</span><span class="op" id="6734811">.</span><span class="ident" id="6734812">T</span><span class="op" id="6734813">,</span>&nbsp;<span class="ident" id="6734815">r</span>&nbsp;<span class="ident" id="6734817">io</span><span class="op" id="6734819">.</span><span class="ident" id="6734820">Reader</span><span class="op" id="6734826">,</span>&nbsp;<span class="ident" id="6734828">data</span>&nbsp;<span class="op" id="6734833">[</span><span class="op" id="6734834">]</span><span class="builtintype" id="6734835">byte</span><span class="op" id="6734839">,</span>&nbsp;<span class="ident" id="6734841">wantErr</span>&nbsp;<span class="builtintype" id="6734849">error</span><span class="op" id="6734854">)</span>&nbsp;<span class="op" id="6734856">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734859">buf</span>&nbsp;<span class="op" id="6734863">:=</span>&nbsp;<span class="builtinfunc" id="6734866">make</span><span class="op" id="6734870">(</span><span class="op" id="6734871">[</span><span class="op" id="6734872">]</span><span class="builtintype" id="6734873">byte</span><span class="op" id="6734877">,</span>&nbsp;<span class="builtinfunc" id="6734879">len</span><span class="op" id="6734882">(</span><span class="ident" id="6734883">data</span><span class="op" id="6734887">)</span><span class="op" id="6734888">+</span><span class="num" id="6734889">10</span><span class="op" id="6734891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734894">n</span><span class="op" id="6734895">,</span>&nbsp;<span class="ident" id="6734897">err</span>&nbsp;<span class="op" id="6734901">:=</span>&nbsp;<span class="ident" id="6734904">r</span><span class="op" id="6734905">.</span><span class="ident" id="6734906">Read</span><span class="op" id="6734910">(</span><span class="ident" id="6734911">buf</span><span class="op" id="6734914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6734917">if</span>&nbsp;<span class="ident" id="6734920">err</span>&nbsp;<span class="op" id="6734924">!=</span>&nbsp;<span class="ident" id="6734927">wantErr</span>&nbsp;<span class="op" id="6734935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734939">t</span><span class="op" id="6734940">.</span><span class="ident" id="6734941">Errorf</span><span class="op" id="6734947">(</span><span class="string" id="6734948">&#34;read:&nbsp;%v&#34;</span><span class="op" id="6734958">,</span>&nbsp;<span class="ident" id="6734960">err</span><span class="op" id="6734963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6734967">return</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6734975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6734978">if</span>&nbsp;<span class="ident" id="6734981">n</span>&nbsp;<span class="op" id="6734983">!=</span>&nbsp;<span class="builtinfunc" id="6734986">len</span><span class="op" id="6734989">(</span><span class="ident" id="6734990">data</span><span class="op" id="6734994">)</span>&nbsp;<span class="op" id="6734996">||</span>&nbsp;<span class="op" id="6734999">!</span><span class="ident" id="6735000">bytes</span><span class="op" id="6735005">.</span><span class="ident" id="6735006">Equal</span><span class="op" id="6735011">(</span><span class="ident" id="6735012">buf</span><span class="op" id="6735015">[</span><span class="num" id="6735016">0</span><span class="op" id="6735017">:</span><span class="ident" id="6735018">n</span><span class="op" id="6735019">]</span><span class="op" id="6735020">,</span>&nbsp;<span class="ident" id="6735022">data</span><span class="op" id="6735026">)</span>&nbsp;<span class="op" id="6735028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735032">t</span><span class="op" id="6735033">.</span><span class="ident" id="6735034">Errorf</span><span class="op" id="6735040">(</span><span class="string" id="6735041">&#34;bad&nbsp;read:&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6735059">,</span>&nbsp;<span class="ident" id="6735061">buf</span><span class="op" id="6735064">[</span><span class="num" id="6735065">0</span><span class="op" id="6735066">:</span><span class="ident" id="6735067">n</span><span class="op" id="6735068">]</span><span class="op" id="6735069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6735073">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735081">}</span><br>
<span class="lineno">35</span><span class="op" id="6735083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6735086">//&nbsp;Test&nbsp;a&nbsp;simple&nbsp;read/write/close&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="6735130">//&nbsp;Assumes&nbsp;that&nbsp;the&nbsp;underlying&nbsp;io.Pipe&nbsp;implementation</span><br>
<span class="lineno"></span><span class="comment" id="6735184">//&nbsp;is&nbsp;solid&nbsp;and&nbsp;we&#39;re&nbsp;just&nbsp;testing&nbsp;the&nbsp;net&nbsp;wrapping.</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="6735238">func</span>&nbsp;<span class="ident" id="6735243">TestPipe</span><span class="op" id="6735251">(</span><span class="ident" id="6735252">t</span>&nbsp;<span class="op" id="6735254">*</span><span class="ident" id="6735255">testing</span><span class="op" id="6735262">.</span><span class="ident" id="6735263">T</span><span class="op" id="6735264">)</span>&nbsp;<span class="op" id="6735266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735269">c</span>&nbsp;<span class="op" id="6735271">:=</span>&nbsp;<span class="builtinfunc" id="6735274">make</span><span class="op" id="6735278">(</span><span class="keyword" id="6735279">chan</span>&nbsp;<span class="builtintype" id="6735284">int</span><span class="op" id="6735287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735290">cli</span><span class="op" id="6735293">,</span>&nbsp;<span class="ident" id="6735295">srv</span>&nbsp;<span class="op" id="6735299">:=</span>&nbsp;<span class="ident" id="6735302">Pipe</span><span class="op" id="6735306">(</span><span class="op" id="6735307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6735310">go</span>&nbsp;<span class="ident" id="6735313">checkWrite</span><span class="op" id="6735323">(</span><span class="ident" id="6735324">t</span><span class="op" id="6735325">,</span>&nbsp;<span class="ident" id="6735327">cli</span><span class="op" id="6735330">,</span>&nbsp;<span class="op" id="6735332">[</span><span class="op" id="6735333">]</span><span class="builtintype" id="6735334">byte</span><span class="op" id="6735338">(</span><span class="string" id="6735339">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6735353">)</span><span class="op" id="6735354">,</span>&nbsp;<span class="ident" id="6735356">c</span><span class="op" id="6735357">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735360">checkRead</span><span class="op" id="6735369">(</span><span class="ident" id="6735370">t</span><span class="op" id="6735371">,</span>&nbsp;<span class="ident" id="6735373">srv</span><span class="op" id="6735376">,</span>&nbsp;<span class="op" id="6735378">[</span><span class="op" id="6735379">]</span><span class="builtintype" id="6735380">byte</span><span class="op" id="6735384">(</span><span class="string" id="6735385">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6735399">)</span><span class="op" id="6735400">,</span>&nbsp;<span class="builtintype" id="6735402">nil</span><span class="op" id="6735405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735408">&lt;-</span><span class="ident" id="6735410">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6735413">go</span>&nbsp;<span class="ident" id="6735416">checkWrite</span><span class="op" id="6735426">(</span><span class="ident" id="6735427">t</span><span class="op" id="6735428">,</span>&nbsp;<span class="ident" id="6735430">srv</span><span class="op" id="6735433">,</span>&nbsp;<span class="op" id="6735435">[</span><span class="op" id="6735436">]</span><span class="builtintype" id="6735437">byte</span><span class="op" id="6735441">(</span><span class="string" id="6735442">&#34;line&nbsp;2&#34;</span><span class="op" id="6735450">)</span><span class="op" id="6735451">,</span>&nbsp;<span class="ident" id="6735453">c</span><span class="op" id="6735454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735457">checkRead</span><span class="op" id="6735466">(</span><span class="ident" id="6735467">t</span><span class="op" id="6735468">,</span>&nbsp;<span class="ident" id="6735470">cli</span><span class="op" id="6735473">,</span>&nbsp;<span class="op" id="6735475">[</span><span class="op" id="6735476">]</span><span class="builtintype" id="6735477">byte</span><span class="op" id="6735481">(</span><span class="string" id="6735482">&#34;line&nbsp;2&#34;</span><span class="op" id="6735490">)</span><span class="op" id="6735491">,</span>&nbsp;<span class="builtintype" id="6735493">nil</span><span class="op" id="6735496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735499">&lt;-</span><span class="ident" id="6735501">c</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6735504">go</span>&nbsp;<span class="ident" id="6735507">checkWrite</span><span class="op" id="6735517">(</span><span class="ident" id="6735518">t</span><span class="op" id="6735519">,</span>&nbsp;<span class="ident" id="6735521">cli</span><span class="op" id="6735524">,</span>&nbsp;<span class="op" id="6735526">[</span><span class="op" id="6735527">]</span><span class="builtintype" id="6735528">byte</span><span class="op" id="6735532">(</span><span class="string" id="6735533">&#34;a&nbsp;third&nbsp;line&#34;</span><span class="op" id="6735547">)</span><span class="op" id="6735548">,</span>&nbsp;<span class="ident" id="6735550">c</span><span class="op" id="6735551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735554">checkRead</span><span class="op" id="6735563">(</span><span class="ident" id="6735564">t</span><span class="op" id="6735565">,</span>&nbsp;<span class="ident" id="6735567">srv</span><span class="op" id="6735570">,</span>&nbsp;<span class="op" id="6735572">[</span><span class="op" id="6735573">]</span><span class="builtintype" id="6735574">byte</span><span class="op" id="6735578">(</span><span class="string" id="6735579">&#34;a&nbsp;third&nbsp;line&#34;</span><span class="op" id="6735593">)</span><span class="op" id="6735594">,</span>&nbsp;<span class="builtintype" id="6735596">nil</span><span class="op" id="6735599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735602">&lt;-</span><span class="ident" id="6735604">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6735607">go</span>&nbsp;<span class="ident" id="6735610">srv</span><span class="op" id="6735613">.</span><span class="ident" id="6735614">Close</span><span class="op" id="6735619">(</span><span class="op" id="6735620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735623">checkRead</span><span class="op" id="6735632">(</span><span class="ident" id="6735633">t</span><span class="op" id="6735634">,</span>&nbsp;<span class="ident" id="6735636">cli</span><span class="op" id="6735639">,</span>&nbsp;<span class="builtintype" id="6735641">nil</span><span class="op" id="6735644">,</span>&nbsp;<span class="ident" id="6735646">io</span><span class="op" id="6735648">.</span><span class="ident" id="6735649">EOF</span><span class="op" id="6735652">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735655">cli</span><span class="op" id="6735658">.</span><span class="ident" id="6735659">Close</span><span class="op" id="6735664">(</span><span class="op" id="6735665">)</span><br>
<span class="lineno"></span><span class="op" id="6735667">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
