<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5291324">package</span>&nbsp;<span class="ident" id="5291332">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5291339">//&nbsp;InstArch8&nbsp;dispatches&nbsp;and&nbsp;executes&nbsp;an&nbsp;arch8&nbsp;instruction.</span><br>
<span class="lineno"></span><span class="keyword" id="5291398">type</span>&nbsp;<span class="ident" id="5291403">instArch8</span>&nbsp;<span class="keyword" id="5291413">struct</span>&nbsp;<span class="op" id="5291420">{</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291423">reg</span>&nbsp;<span class="ident" id="5291427"><a href="/lonnie.io/e8vm/arch8/inst_reg.go.html#5294268">instReg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291436">imm</span>&nbsp;<span class="ident" id="5291440"><a href="/lonnie.io/e8vm/arch8/inst_imm.go.html#5292632">instImm</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291449">br</span>&nbsp;&nbsp;<span class="ident" id="5291453"><a href="/lonnie.io/e8vm/arch8/inst_br.go.html#5291993">instBr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291461">sys</span>&nbsp;<span class="ident" id="5291465"><a href="/lonnie.io/e8vm/arch8/inst_sys.go.html#5296387">instSys</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291474">jmp</span>&nbsp;<span class="ident" id="5291478"><a href="/lonnie.io/e8vm/arch8/inst_jmp.go.html#5293770">instJmp</a></span><br>
<span class="lineno">10</span><span class="op" id="5291486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5291489">//&nbsp;I&nbsp;executes&nbsp;an&nbsp;arch8&nbsp;instructino</span><br>
<span class="lineno"></span><span class="keyword" id="5291524">func</span>&nbsp;<span class="op" id="5291529">(</span><span class="ident" id="5291530">i</span>&nbsp;<span class="op" id="5291532">*</span><span class="ident" id="5291533"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291403">instArch8</a></span><span class="op" id="5291542">)</span>&nbsp;<span class="ident" id="5291544">I</span><span class="op" id="5291545">(</span><span class="ident" id="5291546">cpu</span>&nbsp;<span class="op" id="5291550">*</span><span class="ident" id="5291551"><a href="/lonnie.io/e8vm/arch8/cpu.go.html#5285853">cpu</a></span><span class="op" id="5291554">,</span>&nbsp;<span class="ident" id="5291556">in</span>&nbsp;<span class="builtintype" id="5291559">uint32</span><span class="op" id="5291565">)</span>&nbsp;<span class="op" id="5291567">*</span><span class="ident" id="5291568"><a href="/lonnie.io/e8vm/arch8/exception.go.html#5290324">Excep</a></span>&nbsp;<span class="op" id="5291574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291577">if</span>&nbsp;<span class="op" id="5291580">(</span><span class="ident" id="5291581"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291556">in</a></span>&nbsp;<span class="op" id="5291584">&gt;&gt;</span>&nbsp;<span class="num" id="5291587">31</span><span class="op" id="5291589">)</span>&nbsp;<span class="op" id="5291591">==</span>&nbsp;<span class="num" id="5291594">0</span>&nbsp;<span class="op" id="5291596">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291600">op</span>&nbsp;<span class="op" id="5291603">:=</span>&nbsp;<span class="op" id="5291606">(</span><span class="ident" id="5291607"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291556">in</a></span>&nbsp;<span class="op" id="5291610">&gt;&gt;</span>&nbsp;<span class="num" id="5291613">24</span><span class="op" id="5291615">)</span>&nbsp;<span class="op" id="5291617">&amp;</span>&nbsp;<span class="num" id="5291619">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291626">switch</span>&nbsp;<span class="op" id="5291633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291637">case</span>&nbsp;<span class="ident" id="5291642"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291600">op</a></span>&nbsp;<span class="op" id="5291645">==</span>&nbsp;<span class="num" id="5291648">0</span><span class="op" id="5291649">:</span>&nbsp;<span class="comment" id="5291651">//&nbsp;op&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291665">return</span>&nbsp;<span class="ident" id="5291672"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291530">i</a></span><span class="op" id="5291673">.</span><span class="ident" id="5291674">reg</span><span class="op" id="5291677">.</span><span class="ident" id="5291678">I</span><span class="op" id="5291679">(</span><span class="ident" id="5291680"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291546">cpu</a></span><span class="op" id="5291683">,</span>&nbsp;<span class="ident" id="5291685"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291556">in</a></span><span class="op" id="5291687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291691">case</span>&nbsp;<span class="ident" id="5291696"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291600">op</a></span>&nbsp;<span class="op" id="5291699">&lt;</span>&nbsp;<span class="num" id="5291701">32</span><span class="op" id="5291703">:</span>&nbsp;<span class="comment" id="5291705">//&nbsp;op&nbsp;in&nbsp;(0,&nbsp;32)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291725">return</span>&nbsp;<span class="ident" id="5291732"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291530">i</a></span><span class="op" id="5291733">.</span><span class="ident" id="5291734">imm</span><span class="op" id="5291737">.</span><span class="ident" id="5291738">I</span><span class="op" id="5291739">(</span><span class="ident" id="5291740"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291546">cpu</a></span><span class="op" id="5291743">,</span>&nbsp;<span class="ident" id="5291745"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291556">in</a></span><span class="op" id="5291747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291751">case</span>&nbsp;<span class="ident" id="5291756"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291600">op</a></span>&nbsp;<span class="op" id="5291759">&lt;</span>&nbsp;<span class="num" id="5291761">64</span><span class="op" id="5291763">:</span>&nbsp;<span class="comment" id="5291765">//&nbsp;op&nbsp;in&nbsp;[32,&nbsp;64)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291786">return</span>&nbsp;<span class="ident" id="5291793"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291530">i</a></span><span class="op" id="5291794">.</span><span class="ident" id="5291795">br</span><span class="op" id="5291797">.</span><span class="ident" id="5291798">I</span><span class="op" id="5291799">(</span><span class="ident" id="5291800"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291546">cpu</a></span><span class="op" id="5291803">,</span>&nbsp;<span class="ident" id="5291805"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291556">in</a></span><span class="op" id="5291807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291811">case</span>&nbsp;<span class="ident" id="5291816"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291600">op</a></span>&nbsp;<span class="op" id="5291819">&lt;</span>&nbsp;<span class="num" id="5291821">128</span><span class="op" id="5291824">:</span>&nbsp;<span class="comment" id="5291826">//&nbsp;op&nbsp;in&nbsp;[64,&nbsp;128)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291848">return</span>&nbsp;<span class="ident" id="5291855"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291530">i</a></span><span class="op" id="5291856">.</span><span class="ident" id="5291857">sys</span><span class="op" id="5291860">.</span><span class="ident" id="5291861">I</span><span class="op" id="5291862">(</span><span class="ident" id="5291863"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291546">cpu</a></span><span class="op" id="5291866">,</span>&nbsp;<span class="ident" id="5291868"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291556">in</a></span><span class="op" id="5291870">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291874">default</span><span class="op" id="5291881">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5291886">panic</span><span class="op" id="5291891">(</span><span class="string" id="5291892">&#34;bug&#34;</span><span class="op" id="5291897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5291901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5291904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291908">return</span>&nbsp;<span class="ident" id="5291915"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291530">i</a></span><span class="op" id="5291916">.</span><span class="ident" id="5291917">jmp</span><span class="op" id="5291920">.</span><span class="ident" id="5291921">I</span><span class="op" id="5291922">(</span><span class="ident" id="5291923"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291546">cpu</a></span><span class="op" id="5291926">,</span>&nbsp;<span class="ident" id="5291928"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5291556">in</a></span><span class="op" id="5291930">)</span><br>
<span class="lineno"></span><span class="op" id="5291932">}</span>
</div>
</body>
</html>
