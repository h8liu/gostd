<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8044868">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8044923">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8044977">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8045028">package</span>&nbsp;<span class="ident" id="8045036">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8045046">import</span>&nbsp;<span class="op" id="8045053">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045056">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045065">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045072">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045083">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8045093">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8045096">func</span>&nbsp;<span class="ident" id="8045101">TestTypedContent</span><span class="op" id="8045117">(</span><span class="ident" id="8045118">t</span>&nbsp;<span class="op" id="8045120">*</span><span class="ident" id="8045121">testing</span><span class="op" id="8045128">.</span><span class="ident" id="8045129">T</span><span class="op" id="8045130">)</span>&nbsp;<span class="op" id="8045132">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045135">data</span>&nbsp;<span class="op" id="8045140">:=</span>&nbsp;<span class="op" id="8045143">[</span><span class="op" id="8045144">]</span><span class="keyword" id="8045145">interface</span><span class="op" id="8045154">{</span><span class="op" id="8045155">}</span><span class="op" id="8045156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045160">`&lt;b&gt;&nbsp;&#34;foo%&#34;&nbsp;O&#39;Reilly&nbsp;&amp;bar;`</span><span class="op" id="8045187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045191">CSS</span><span class="op" id="8045194">(</span><span class="string" id="8045195">`a[href&nbsp;=~&nbsp;&#34;//example.com&#34;]#foo`</span><span class="op" id="8045227">)</span><span class="op" id="8045228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045232">HTML</span><span class="op" id="8045236">(</span><span class="string" id="8045237">`Hello,&nbsp;&lt;b&gt;World&lt;/b&gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="8045267">)</span><span class="op" id="8045268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045272">HTMLAttr</span><span class="op" id="8045280">(</span><span class="string" id="8045281">`&nbsp;dir=&#34;ltr&#34;`</span><span class="op" id="8045293">)</span><span class="op" id="8045294">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045298">JS</span><span class="op" id="8045300">(</span><span class="string" id="8045301">`c&nbsp;&amp;&amp;&nbsp;alert(&#34;Hello,&nbsp;World!&#34;);`</span><span class="op" id="8045331">)</span><span class="op" id="8045332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045336">JSStr</span><span class="op" id="8045341">(</span><span class="string" id="8045342">`Hello,&nbsp;World&nbsp;&amp;&nbsp;O&#39;Reilly\x21`</span><span class="op" id="8045371">)</span><span class="op" id="8045372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045376">URL</span><span class="op" id="8045379">(</span><span class="string" id="8045380">`greeting=H%69&amp;addressee=(World)`</span><span class="op" id="8045413">)</span><span class="op" id="8045414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8045421">//&nbsp;For&nbsp;each&nbsp;content&nbsp;sensitive&nbsp;escaper,&nbsp;see&nbsp;how&nbsp;it&nbsp;does&nbsp;on</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8045480">//&nbsp;each&nbsp;of&nbsp;the&nbsp;typed&nbsp;strings&nbsp;above.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045517">tests</span>&nbsp;<span class="op" id="8045523">:=</span>&nbsp;<span class="op" id="8045526">[</span><span class="op" id="8045527">]</span><span class="keyword" id="8045528">struct</span>&nbsp;<span class="op" id="8045535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8045539">//&nbsp;A&nbsp;template&nbsp;containing&nbsp;a&nbsp;single&nbsp;{{.}}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045582">input</span>&nbsp;<span class="builtintype" id="8045588">string</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045597">want</span>&nbsp;&nbsp;<span class="op" id="8045603">[</span><span class="op" id="8045604">]</span><span class="builtintype" id="8045605">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045613">}</span><span class="op" id="8045614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045623">`&lt;style&gt;{{.}}&nbsp;{&nbsp;color:&nbsp;blue&nbsp;}&lt;/style&gt;`</span><span class="op" id="8045661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045666">[</span><span class="op" id="8045667">]</span><span class="builtintype" id="8045668">string</span><span class="op" id="8045674">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045680">`ZgotmplZ`</span><span class="op" id="8045690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8045696">//&nbsp;Allowed&nbsp;but&nbsp;not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045728">`a[href&nbsp;=~&nbsp;&#34;//example.com&#34;]#foo`</span><span class="op" id="8045760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045766">`ZgotmplZ`</span><span class="op" id="8045776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045782">`ZgotmplZ`</span><span class="op" id="8045792">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045798">`ZgotmplZ`</span><span class="op" id="8045808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045814">`ZgotmplZ`</span><span class="op" id="8045824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045830">`ZgotmplZ`</span><span class="op" id="8045840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045845">}</span><span class="op" id="8045846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045850">}</span><span class="op" id="8045851">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045860">`&lt;div&nbsp;style=&#34;{{.}}&#34;&gt;`</span><span class="op" id="8045881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045886">[</span><span class="op" id="8045887">]</span><span class="builtintype" id="8045888">string</span><span class="op" id="8045894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045900">`ZgotmplZ`</span><span class="op" id="8045910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8045916">//&nbsp;Allowed&nbsp;and&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045949">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="8045989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8045995">`ZgotmplZ`</span><span class="op" id="8046005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046011">`ZgotmplZ`</span><span class="op" id="8046021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046027">`ZgotmplZ`</span><span class="op" id="8046037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046043">`ZgotmplZ`</span><span class="op" id="8046053">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046059">`ZgotmplZ`</span><span class="op" id="8046069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046074">}</span><span class="op" id="8046075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046079">}</span><span class="op" id="8046080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046089">`{{.}}`</span><span class="op" id="8046096">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046101">[</span><span class="op" id="8046102">]</span><span class="builtintype" id="8046103">string</span><span class="op" id="8046109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046115">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="8046164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046170">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="8046210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8046216">//&nbsp;Not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046236">`Hello,&nbsp;&lt;b&gt;World&lt;/b&gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="8046266">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046272">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="8046292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046298">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="8046344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046350">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="8046387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046393">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="8046430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046435">}</span><span class="op" id="8046436">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046440">}</span><span class="op" id="8046441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046450">`&lt;a{{.}}&gt;`</span><span class="op" id="8046460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046465">[</span><span class="op" id="8046466">]</span><span class="builtintype" id="8046467">string</span><span class="op" id="8046473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046479">`ZgotmplZ`</span><span class="op" id="8046489">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046495">`ZgotmplZ`</span><span class="op" id="8046505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046511">`ZgotmplZ`</span><span class="op" id="8046521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8046527">//&nbsp;Allowed&nbsp;and&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046560">`&nbsp;dir=&#34;ltr&#34;`</span><span class="op" id="8046572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046578">`ZgotmplZ`</span><span class="op" id="8046588">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046594">`ZgotmplZ`</span><span class="op" id="8046604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046610">`ZgotmplZ`</span><span class="op" id="8046620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046625">}</span><span class="op" id="8046626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046630">}</span><span class="op" id="8046631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046635">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046640">`&lt;a&nbsp;title={{.}}&gt;`</span><span class="op" id="8046657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046662">[</span><span class="op" id="8046663">]</span><span class="builtintype" id="8046664">string</span><span class="op" id="8046670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046676">`&amp;lt;b&amp;gt;&amp;#32;&amp;#34;foo%&amp;#34;&amp;#32;O&amp;#39;Reilly&amp;#32;&amp;amp;bar;`</span><span class="op" id="8046737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046743">`a[href&amp;#32;&amp;#61;~&amp;#32;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="8046795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8046801">//&nbsp;Tags&nbsp;stripped,&nbsp;spaces&nbsp;escaped,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046862">`Hello,&amp;#32;World&amp;#32;&amp;amp;tc!`</span><span class="op" id="8046893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046899">`&amp;#32;dir&amp;#61;&amp;#34;ltr&amp;#34;`</span><span class="op" id="8046927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046933">`c&amp;#32;&amp;amp;&amp;amp;&amp;#32;alert(&amp;#34;Hello,&amp;#32;World!&amp;#34;);`</span><span class="op" id="8046991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8046997">`Hello,&amp;#32;World&amp;#32;&amp;amp;&amp;#32;O&amp;#39;Reilly\x21`</span><span class="op" id="8047046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047052">`greeting&amp;#61;H%69&amp;amp;addressee&amp;#61;(World)`</span><span class="op" id="8047097">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047102">}</span><span class="op" id="8047103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047107">}</span><span class="op" id="8047108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047117">`&lt;a&nbsp;title=&#39;{{.}}&#39;&gt;`</span><span class="op" id="8047136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047141">[</span><span class="op" id="8047142">]</span><span class="builtintype" id="8047143">string</span><span class="op" id="8047149">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047155">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="8047204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047210">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="8047250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8047256">//&nbsp;Tags&nbsp;stripped,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047301">`Hello,&nbsp;World&nbsp;&amp;amp;tc!`</span><span class="op" id="8047324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047330">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="8047350">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047356">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="8047402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047408">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="8047445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047451">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="8047488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047493">}</span><span class="op" id="8047494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047498">}</span><span class="op" id="8047499">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047508">`&lt;textarea&gt;{{.}}&lt;/textarea&gt;`</span><span class="op" id="8047536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047541">[</span><span class="op" id="8047542">]</span><span class="builtintype" id="8047543">string</span><span class="op" id="8047549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047555">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="8047604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047610">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="8047650">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8047656">//&nbsp;Angle&nbsp;brackets&nbsp;escaped&nbsp;to&nbsp;prevent&nbsp;injection&nbsp;of&nbsp;close&nbsp;tags,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047745">`Hello,&nbsp;&amp;lt;b&amp;gt;World&amp;lt;/b&amp;gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="8047787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047793">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="8047813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047819">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="8047865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047871">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="8047908">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047914">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="8047951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047956">}</span><span class="op" id="8047957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047961">}</span><span class="op" id="8047962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8047971">`&lt;script&gt;alert({{.}})&lt;/script&gt;`</span><span class="op" id="8048002">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048007">[</span><span class="op" id="8048008">]</span><span class="builtintype" id="8048009">string</span><span class="op" id="8048015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048021">`&#34;\u003cb\u003e&nbsp;\&#34;foo%\&#34;&nbsp;O&#39;Reilly&nbsp;\u0026bar;&#34;`</span><span class="op" id="8048067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048073">`&#34;a[href&nbsp;=~&nbsp;\&#34;//example.com\&#34;]#foo&#34;`</span><span class="op" id="8048109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048115">`&#34;Hello,&nbsp;\u003cb\u003eWorld\u003c/b\u003e&nbsp;\u0026amp;tc!&#34;`</span><span class="op" id="8048172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048178">`&#34;&nbsp;dir=\&#34;ltr\&#34;&#34;`</span><span class="op" id="8048194">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8048200">//&nbsp;Not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048220">`c&nbsp;&amp;&amp;&nbsp;alert(&#34;Hello,&nbsp;World!&#34;);`</span><span class="op" id="8048250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8048256">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048297">`&#34;Hello,&nbsp;World&nbsp;&amp;&nbsp;O&#39;Reilly\x21&#34;`</span><span class="op" id="8048328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048334">`&#34;greeting=H%69\u0026addressee=(World)&#34;`</span><span class="op" id="8048374">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048379">}</span><span class="op" id="8048380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048384">}</span><span class="op" id="8048385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048394">`&lt;button&nbsp;onclick=&#34;alert({{.}})&#34;&gt;`</span><span class="op" id="8048427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048432">[</span><span class="op" id="8048433">]</span><span class="builtintype" id="8048434">string</span><span class="op" id="8048440">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048446">`&amp;#34;\u003cb\u003e&nbsp;\&amp;#34;foo%\&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;\u0026bar;&amp;#34;`</span><span class="op" id="8048512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048518">`&amp;#34;a[href&nbsp;=~&nbsp;\&amp;#34;//example.com\&amp;#34;]#foo&amp;#34;`</span><span class="op" id="8048570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048576">`&amp;#34;Hello,&nbsp;\u003cb\u003eWorld\u003c/b\u003e&nbsp;\u0026amp;tc!&amp;#34;`</span><span class="op" id="8048641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048647">`&amp;#34;&nbsp;dir=\&amp;#34;ltr\&amp;#34;&amp;#34;`</span><span class="op" id="8048679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8048685">//&nbsp;Not&nbsp;JS&nbsp;escaped&nbsp;but&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048725">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="8048771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8048777">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048818">`&amp;#34;Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21&amp;#34;`</span><span class="op" id="8048865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048871">`&amp;#34;greeting=H%69\u0026addressee=(World)&amp;#34;`</span><span class="op" id="8048919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048924">}</span><span class="op" id="8048925">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048929">}</span><span class="op" id="8048930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048939">`&lt;script&gt;alert(&#34;{{.}}&#34;)&lt;/script&gt;`</span><span class="op" id="8048972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048977">[</span><span class="op" id="8048978">]</span><span class="builtintype" id="8048979">string</span><span class="op" id="8048985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8048991">`\x3cb\x3e&nbsp;\x22foo%\x22&nbsp;O\x27Reilly&nbsp;\x26bar;`</span><span class="op" id="8049036">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049042">`a[href&nbsp;=~&nbsp;\x22\/\/example.com\x22]#foo`</span><span class="op" id="8049082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049088">`Hello,&nbsp;\x3cb\x3eWorld\x3c\/b\x3e&nbsp;\x26amp;tc!`</span><span class="op" id="8049134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049140">`&nbsp;dir=\x22ltr\x22`</span><span class="op" id="8049158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049164">`c&nbsp;\x26\x26&nbsp;alert(\x22Hello,&nbsp;World!\x22);`</span><span class="op" id="8049206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8049212">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049253">`Hello,&nbsp;World&nbsp;\x26&nbsp;O\x27Reilly\x21`</span><span class="op" id="8049288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049294">`greeting=H%69\x26addressee=(World)`</span><span class="op" id="8049330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049335">}</span><span class="op" id="8049336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049340">}</span><span class="op" id="8049341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049345">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049350">`&lt;button&nbsp;onclick=&#39;alert(&#34;{{.}}&#34;)&#39;&gt;`</span><span class="op" id="8049385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049390">[</span><span class="op" id="8049391">]</span><span class="builtintype" id="8049392">string</span><span class="op" id="8049398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049404">`\x3cb\x3e&nbsp;\x22foo%\x22&nbsp;O\x27Reilly&nbsp;\x26bar;`</span><span class="op" id="8049449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049455">`a[href&nbsp;=~&nbsp;\x22\/\/example.com\x22]#foo`</span><span class="op" id="8049495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049501">`Hello,&nbsp;\x3cb\x3eWorld\x3c\/b\x3e&nbsp;\x26amp;tc!`</span><span class="op" id="8049547">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049553">`&nbsp;dir=\x22ltr\x22`</span><span class="op" id="8049571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049577">`c&nbsp;\x26\x26&nbsp;alert(\x22Hello,&nbsp;World!\x22);`</span><span class="op" id="8049619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8049625">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049666">`Hello,&nbsp;World&nbsp;\x26&nbsp;O\x27Reilly\x21`</span><span class="op" id="8049701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049707">`greeting=H%69\x26addressee=(World)`</span><span class="op" id="8049743">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049748">}</span><span class="op" id="8049749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049753">}</span><span class="op" id="8049754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049763">`&lt;a&nbsp;href=&#34;?q={{.}}&#34;&gt;`</span><span class="op" id="8049784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049789">[</span><span class="op" id="8049790">]</span><span class="builtintype" id="8049791">string</span><span class="op" id="8049797">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049803">`%3cb%3e%20%22foo%25%22%20O%27Reilly%20%26bar%3b`</span><span class="op" id="8049852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049858">`a%5bhref%20%3d~%20%22%2f%2fexample.com%22%5d%23foo`</span><span class="op" id="8049910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049916">`Hello%2c%20%3cb%3eWorld%3c%2fb%3e%20%26amp%3btc%21`</span><span class="op" id="8049968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049974">`%20dir%3d%22ltr%22`</span><span class="op" id="8049994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050000">`c%20%26%26%20alert%28%22Hello%2c%20World%21%22%29%3b`</span><span class="op" id="8050054">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050060">`Hello%2c%20World%20%26%20O%27Reilly%5cx21`</span><span class="op" id="8050103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8050109">//&nbsp;Quotes&nbsp;and&nbsp;parens&nbsp;are&nbsp;escaped&nbsp;but&nbsp;%69&nbsp;is&nbsp;not&nbsp;over-escaped.&nbsp;HTML&nbsp;escaping&nbsp;is&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050198">`greeting=H%69&amp;amp;addressee=%28World%29`</span><span class="op" id="8050239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050244">}</span><span class="op" id="8050245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050249">}</span><span class="op" id="8050250">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050259">`&lt;style&gt;body&nbsp;{&nbsp;background:&nbsp;url(&#39;?img={{.}}&#39;)&nbsp;}&lt;/style&gt;`</span><span class="op" id="8050314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050319">[</span><span class="op" id="8050320">]</span><span class="builtintype" id="8050321">string</span><span class="op" id="8050327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050333">`%3cb%3e%20%22foo%25%22%20O%27Reilly%20%26bar%3b`</span><span class="op" id="8050382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050388">`a%5bhref%20%3d~%20%22%2f%2fexample.com%22%5d%23foo`</span><span class="op" id="8050440">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050446">`Hello%2c%20%3cb%3eWorld%3c%2fb%3e%20%26amp%3btc%21`</span><span class="op" id="8050498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050504">`%20dir%3d%22ltr%22`</span><span class="op" id="8050524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050530">`c%20%26%26%20alert%28%22Hello%2c%20World%21%22%29%3b`</span><span class="op" id="8050584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050590">`Hello%2c%20World%20%26%20O%27Reilly%5cx21`</span><span class="op" id="8050633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8050639">//&nbsp;Quotes&nbsp;and&nbsp;parens&nbsp;are&nbsp;escaped&nbsp;but&nbsp;%69&nbsp;is&nbsp;not&nbsp;over-escaped.&nbsp;HTML&nbsp;escaping&nbsp;is&nbsp;not&nbsp;done.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8050732">`greeting=H%69&amp;addressee=%28World%29`</span><span class="op" id="8050769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050774">}</span><span class="op" id="8050775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050779">}</span><span class="op" id="8050780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8050787">for</span>&nbsp;<span class="ident" id="8050791">_</span><span class="op" id="8050792">,</span>&nbsp;<span class="ident" id="8050794">test</span>&nbsp;<span class="op" id="8050799">:=</span>&nbsp;<span class="keyword" id="8050802">range</span>&nbsp;<span class="ident" id="8050808">tests</span>&nbsp;<span class="op" id="8050814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050818">tmpl</span>&nbsp;<span class="op" id="8050823">:=</span>&nbsp;<span class="ident" id="8050826">Must</span><span class="op" id="8050830">(</span><span class="ident" id="8050831">New</span><span class="op" id="8050834">(</span><span class="string" id="8050835">&#34;x&#34;</span><span class="op" id="8050838">)</span><span class="op" id="8050839">.</span><span class="ident" id="8050840">Parse</span><span class="op" id="8050845">(</span><span class="ident" id="8050846">test</span><span class="op" id="8050850">.</span><span class="ident" id="8050851">input</span><span class="op" id="8050856">)</span><span class="op" id="8050857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050861">pre</span>&nbsp;<span class="op" id="8050865">:=</span>&nbsp;<span class="ident" id="8050868">strings</span><span class="op" id="8050875">.</span><span class="ident" id="8050876">Index</span><span class="op" id="8050881">(</span><span class="ident" id="8050882">test</span><span class="op" id="8050886">.</span><span class="ident" id="8050887">input</span><span class="op" id="8050892">,</span>&nbsp;<span class="string" id="8050894">&#34;{{.}}&#34;</span><span class="op" id="8050901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050905">post</span>&nbsp;<span class="op" id="8050910">:=</span>&nbsp;<span class="builtinfunc" id="8050913">len</span><span class="op" id="8050916">(</span><span class="ident" id="8050917">test</span><span class="op" id="8050921">.</span><span class="ident" id="8050922">input</span><span class="op" id="8050927">)</span>&nbsp;<span class="op" id="8050929">-</span>&nbsp;<span class="op" id="8050931">(</span><span class="ident" id="8050932">pre</span>&nbsp;<span class="op" id="8050936">+</span>&nbsp;<span class="num" id="8050938">5</span><span class="op" id="8050939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8050943">var</span>&nbsp;<span class="ident" id="8050947">b</span>&nbsp;<span class="ident" id="8050949">bytes</span><span class="op" id="8050954">.</span><span class="ident" id="8050955">Buffer</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8050964">for</span>&nbsp;<span class="ident" id="8050968">i</span><span class="op" id="8050969">,</span>&nbsp;<span class="ident" id="8050971">x</span>&nbsp;<span class="op" id="8050973">:=</span>&nbsp;<span class="keyword" id="8050976">range</span>&nbsp;<span class="ident" id="8050982">data</span>&nbsp;<span class="op" id="8050987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050992">b</span><span class="op" id="8050993">.</span><span class="ident" id="8050994">Reset</span><span class="op" id="8050999">(</span><span class="op" id="8051000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051005">if</span>&nbsp;<span class="ident" id="8051008">err</span>&nbsp;<span class="op" id="8051012">:=</span>&nbsp;<span class="ident" id="8051015">tmpl</span><span class="op" id="8051019">.</span><span class="ident" id="8051020">Execute</span><span class="op" id="8051027">(</span><span class="op" id="8051028">&amp;</span><span class="ident" id="8051029">b</span><span class="op" id="8051030">,</span>&nbsp;<span class="ident" id="8051032">x</span><span class="op" id="8051033">)</span><span class="op" id="8051034">;</span>&nbsp;<span class="ident" id="8051036">err</span>&nbsp;<span class="op" id="8051040">!=</span>&nbsp;<span class="ident" id="8051043">nil</span>&nbsp;<span class="op" id="8051047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051053">t</span><span class="op" id="8051054">.</span><span class="ident" id="8051055">Errorf</span><span class="op" id="8051061">(</span><span class="string" id="8051062">&#34;%q&nbsp;with&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="8051078">,</span>&nbsp;<span class="ident" id="8051080">test</span><span class="op" id="8051084">.</span><span class="ident" id="8051085">input</span><span class="op" id="8051090">,</span>&nbsp;<span class="ident" id="8051092">x</span><span class="op" id="8051093">,</span>&nbsp;<span class="ident" id="8051095">err</span><span class="op" id="8051098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051104">continue</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051121">if</span>&nbsp;<span class="ident" id="8051124">want</span><span class="op" id="8051128">,</span>&nbsp;<span class="ident" id="8051130">got</span>&nbsp;<span class="op" id="8051134">:=</span>&nbsp;<span class="ident" id="8051137">test</span><span class="op" id="8051141">.</span><span class="ident" id="8051142">want</span><span class="op" id="8051146">[</span><span class="ident" id="8051147">i</span><span class="op" id="8051148">]</span><span class="op" id="8051149">,</span>&nbsp;<span class="ident" id="8051151">b</span><span class="op" id="8051152">.</span><span class="ident" id="8051153">String</span><span class="op" id="8051159">(</span><span class="op" id="8051160">)</span><span class="op" id="8051161">[</span><span class="ident" id="8051162">pre</span><span class="op" id="8051165">:</span><span class="ident" id="8051166">b</span><span class="op" id="8051167">.</span><span class="ident" id="8051168">Len</span><span class="op" id="8051171">(</span><span class="op" id="8051172">)</span><span class="op" id="8051173">-</span><span class="ident" id="8051174">post</span><span class="op" id="8051178">]</span><span class="op" id="8051179">;</span>&nbsp;<span class="ident" id="8051181">want</span>&nbsp;<span class="op" id="8051186">!=</span>&nbsp;<span class="ident" id="8051189">got</span>&nbsp;<span class="op" id="8051193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051199">t</span><span class="op" id="8051200">.</span><span class="ident" id="8051201">Errorf</span><span class="op" id="8051207">(</span><span class="string" id="8051208">&#34;%q&nbsp;with&nbsp;%v:\nwant\n\t%q,\ngot\n\t%q\n&#34;</span><span class="op" id="8051247">,</span>&nbsp;<span class="ident" id="8051249">test</span><span class="op" id="8051253">.</span><span class="ident" id="8051254">input</span><span class="op" id="8051259">,</span>&nbsp;<span class="ident" id="8051261">x</span><span class="op" id="8051262">,</span>&nbsp;<span class="ident" id="8051264">want</span><span class="op" id="8051268">,</span>&nbsp;<span class="ident" id="8051270">got</span><span class="op" id="8051273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051279">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051291">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051298">}</span><br>
<span class="lineno"></span><span class="op" id="8051300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8051303">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;print&nbsp;using&nbsp;the&nbsp;String&nbsp;method.&nbsp;Was&nbsp;issue&nbsp;3073.</span><br>
<span class="lineno">225</span><span class="keyword" id="8051366">type</span>&nbsp;<span class="ident" id="8051371">stringer</span>&nbsp;<span class="keyword" id="8051380">struct</span>&nbsp;<span class="op" id="8051387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051390">v</span>&nbsp;<span class="builtintype" id="8051392">int</span><br>
<span class="lineno"></span><span class="op" id="8051396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8051399">func</span>&nbsp;<span class="op" id="8051404">(</span><span class="ident" id="8051405">s</span>&nbsp;<span class="op" id="8051407">*</span><span class="ident" id="8051408">stringer</span><span class="op" id="8051416">)</span>&nbsp;<span class="ident" id="8051418">String</span><span class="op" id="8051424">(</span><span class="op" id="8051425">)</span>&nbsp;<span class="builtintype" id="8051427">string</span>&nbsp;<span class="op" id="8051434">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051437">return</span>&nbsp;<span class="ident" id="8051444">fmt</span><span class="op" id="8051447">.</span><span class="ident" id="8051448">Sprintf</span><span class="op" id="8051455">(</span><span class="string" id="8051456">&#34;string=%d&#34;</span><span class="op" id="8051467">,</span>&nbsp;<span class="ident" id="8051469">s</span><span class="op" id="8051470">.</span><span class="ident" id="8051471">v</span><span class="op" id="8051472">)</span><br>
<span class="lineno"></span><span class="op" id="8051474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8051477">type</span>&nbsp;<span class="ident" id="8051482">errorer</span>&nbsp;<span class="keyword" id="8051490">struct</span>&nbsp;<span class="op" id="8051497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051500">v</span>&nbsp;<span class="builtintype" id="8051502">int</span><br>
<span class="lineno">235</span><span class="op" id="8051506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8051509">func</span>&nbsp;<span class="op" id="8051514">(</span><span class="ident" id="8051515">s</span>&nbsp;<span class="op" id="8051517">*</span><span class="ident" id="8051518">errorer</span><span class="op" id="8051525">)</span>&nbsp;<span class="ident" id="8051527">Error</span><span class="op" id="8051532">(</span><span class="op" id="8051533">)</span>&nbsp;<span class="builtintype" id="8051535">string</span>&nbsp;<span class="op" id="8051542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051545">return</span>&nbsp;<span class="ident" id="8051552">fmt</span><span class="op" id="8051555">.</span><span class="ident" id="8051556">Sprintf</span><span class="op" id="8051563">(</span><span class="string" id="8051564">&#34;error=%d&#34;</span><span class="op" id="8051574">,</span>&nbsp;<span class="ident" id="8051576">s</span><span class="op" id="8051577">.</span><span class="ident" id="8051578">v</span><span class="op" id="8051579">)</span><br>
<span class="lineno"></span><span class="op" id="8051581">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span><span class="keyword" id="8051584">func</span>&nbsp;<span class="ident" id="8051589">TestStringer</span><span class="op" id="8051601">(</span><span class="ident" id="8051602">t</span>&nbsp;<span class="op" id="8051604">*</span><span class="ident" id="8051605">testing</span><span class="op" id="8051612">.</span><span class="ident" id="8051613">T</span><span class="op" id="8051614">)</span>&nbsp;<span class="op" id="8051616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051619">s</span>&nbsp;<span class="op" id="8051621">:=</span>&nbsp;<span class="op" id="8051624">&amp;</span><span class="ident" id="8051625">stringer</span><span class="op" id="8051633">{</span><span class="num" id="8051634">3</span><span class="op" id="8051635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051638">b</span>&nbsp;<span class="op" id="8051640">:=</span>&nbsp;<span class="builtinfunc" id="8051643">new</span><span class="op" id="8051646">(</span><span class="ident" id="8051647">bytes</span><span class="op" id="8051652">.</span><span class="ident" id="8051653">Buffer</span><span class="op" id="8051659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051662">tmpl</span>&nbsp;<span class="op" id="8051667">:=</span>&nbsp;<span class="ident" id="8051670">Must</span><span class="op" id="8051674">(</span><span class="ident" id="8051675">New</span><span class="op" id="8051678">(</span><span class="string" id="8051679">&#34;x&#34;</span><span class="op" id="8051682">)</span><span class="op" id="8051683">.</span><span class="ident" id="8051684">Parse</span><span class="op" id="8051689">(</span><span class="string" id="8051690">&#34;{{.}}&#34;</span><span class="op" id="8051697">)</span><span class="op" id="8051698">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051701">if</span>&nbsp;<span class="ident" id="8051704">err</span>&nbsp;<span class="op" id="8051708">:=</span>&nbsp;<span class="ident" id="8051711">tmpl</span><span class="op" id="8051715">.</span><span class="ident" id="8051716">Execute</span><span class="op" id="8051723">(</span><span class="ident" id="8051724">b</span><span class="op" id="8051725">,</span>&nbsp;<span class="ident" id="8051727">s</span><span class="op" id="8051728">)</span><span class="op" id="8051729">;</span>&nbsp;<span class="ident" id="8051731">err</span>&nbsp;<span class="op" id="8051735">!=</span>&nbsp;<span class="ident" id="8051738">nil</span>&nbsp;<span class="op" id="8051742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051746">t</span><span class="op" id="8051747">.</span><span class="ident" id="8051748">Fatal</span><span class="op" id="8051753">(</span><span class="ident" id="8051754">err</span><span class="op" id="8051757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051763">var</span>&nbsp;<span class="ident" id="8051767">expect</span>&nbsp;<span class="op" id="8051774">=</span>&nbsp;<span class="string" id="8051776">&#34;string=3&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051788">if</span>&nbsp;<span class="ident" id="8051791">b</span><span class="op" id="8051792">.</span><span class="ident" id="8051793">String</span><span class="op" id="8051799">(</span><span class="op" id="8051800">)</span>&nbsp;<span class="op" id="8051802">!=</span>&nbsp;<span class="ident" id="8051805">expect</span>&nbsp;<span class="op" id="8051812">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051816">t</span><span class="op" id="8051817">.</span><span class="ident" id="8051818">Errorf</span><span class="op" id="8051824">(</span><span class="string" id="8051825">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8051845">,</span>&nbsp;<span class="ident" id="8051847">expect</span><span class="op" id="8051853">,</span>&nbsp;<span class="ident" id="8051855">b</span><span class="op" id="8051856">.</span><span class="ident" id="8051857">String</span><span class="op" id="8051863">(</span><span class="op" id="8051864">)</span><span class="op" id="8051865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051871">e</span>&nbsp;<span class="op" id="8051873">:=</span>&nbsp;<span class="op" id="8051876">&amp;</span><span class="ident" id="8051877">errorer</span><span class="op" id="8051884">{</span><span class="num" id="8051885">7</span><span class="op" id="8051886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051889">b</span><span class="op" id="8051890">.</span><span class="ident" id="8051891">Reset</span><span class="op" id="8051896">(</span><span class="op" id="8051897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051900">if</span>&nbsp;<span class="ident" id="8051903">err</span>&nbsp;<span class="op" id="8051907">:=</span>&nbsp;<span class="ident" id="8051910">tmpl</span><span class="op" id="8051914">.</span><span class="ident" id="8051915">Execute</span><span class="op" id="8051922">(</span><span class="ident" id="8051923">b</span><span class="op" id="8051924">,</span>&nbsp;<span class="ident" id="8051926">e</span><span class="op" id="8051927">)</span><span class="op" id="8051928">;</span>&nbsp;<span class="ident" id="8051930">err</span>&nbsp;<span class="op" id="8051934">!=</span>&nbsp;<span class="ident" id="8051937">nil</span>&nbsp;<span class="op" id="8051941">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051945">t</span><span class="op" id="8051946">.</span><span class="ident" id="8051947">Fatal</span><span class="op" id="8051952">(</span><span class="ident" id="8051953">err</span><span class="op" id="8051956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051962">expect</span>&nbsp;<span class="op" id="8051969">=</span>&nbsp;<span class="string" id="8051971">&#34;error=7&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051982">if</span>&nbsp;<span class="ident" id="8051985">b</span><span class="op" id="8051986">.</span><span class="ident" id="8051987">String</span><span class="op" id="8051993">(</span><span class="op" id="8051994">)</span>&nbsp;<span class="op" id="8051996">!=</span>&nbsp;<span class="ident" id="8051999">expect</span>&nbsp;<span class="op" id="8052006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052010">t</span><span class="op" id="8052011">.</span><span class="ident" id="8052012">Errorf</span><span class="op" id="8052018">(</span><span class="string" id="8052019">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8052039">,</span>&nbsp;<span class="ident" id="8052041">expect</span><span class="op" id="8052047">,</span>&nbsp;<span class="ident" id="8052049">b</span><span class="op" id="8052050">.</span><span class="ident" id="8052051">String</span><span class="op" id="8052057">(</span><span class="op" id="8052058">)</span><span class="op" id="8052059">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8052062">}</span><br>
<span class="lineno"></span><span class="op" id="8052064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8052067">//&nbsp;https://code.google.com/p/go/issues/detail?id=5982</span><br>
<span class="lineno"></span><span class="keyword" id="8052121">func</span>&nbsp;<span class="ident" id="8052126">TestEscapingNilNonemptyInterfaces</span><span class="op" id="8052159">(</span><span class="ident" id="8052160">t</span>&nbsp;<span class="op" id="8052162">*</span><span class="ident" id="8052163">testing</span><span class="op" id="8052170">.</span><span class="ident" id="8052171">T</span><span class="op" id="8052172">)</span>&nbsp;<span class="op" id="8052174">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052177">tmpl</span>&nbsp;<span class="op" id="8052182">:=</span>&nbsp;<span class="ident" id="8052185">Must</span><span class="op" id="8052189">(</span><span class="ident" id="8052190">New</span><span class="op" id="8052193">(</span><span class="string" id="8052194">&#34;x&#34;</span><span class="op" id="8052197">)</span><span class="op" id="8052198">.</span><span class="ident" id="8052199">Parse</span><span class="op" id="8052204">(</span><span class="string" id="8052205">&#34;{{.E}}&#34;</span><span class="op" id="8052213">)</span><span class="op" id="8052214">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052218">got</span>&nbsp;<span class="op" id="8052222">:=</span>&nbsp;<span class="builtinfunc" id="8052225">new</span><span class="op" id="8052228">(</span><span class="ident" id="8052229">bytes</span><span class="op" id="8052234">.</span><span class="ident" id="8052235">Buffer</span><span class="op" id="8052241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052244">testData</span>&nbsp;<span class="op" id="8052253">:=</span>&nbsp;<span class="keyword" id="8052256">struct</span><span class="op" id="8052262">{</span>&nbsp;<span class="ident" id="8052264">E</span>&nbsp;<span class="builtintype" id="8052266">error</span>&nbsp;<span class="op" id="8052272">}</span><span class="op" id="8052273">{</span><span class="op" id="8052274">}</span>&nbsp;<span class="comment" id="8052276">//&nbsp;any&nbsp;non-empty&nbsp;interface&nbsp;here&nbsp;will&nbsp;do;&nbsp;error&nbsp;is&nbsp;just&nbsp;ready&nbsp;at&nbsp;hand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052346">tmpl</span><span class="op" id="8052350">.</span><span class="ident" id="8052351">Execute</span><span class="op" id="8052358">(</span><span class="ident" id="8052359">got</span><span class="op" id="8052362">,</span>&nbsp;<span class="ident" id="8052364">testData</span><span class="op" id="8052372">)</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8052376">//&nbsp;Use&nbsp;this&nbsp;data&nbsp;instead&nbsp;of&nbsp;just&nbsp;hard-coding&nbsp;&#34;&amp;lt;nil&amp;gt;&#34;&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8052445">//&nbsp;dependencies&nbsp;on&nbsp;the&nbsp;html&nbsp;escaper&nbsp;and&nbsp;the&nbsp;behavior&nbsp;of&nbsp;fmt&nbsp;w.r.t.&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052518">want</span>&nbsp;<span class="op" id="8052523">:=</span>&nbsp;<span class="builtinfunc" id="8052526">new</span><span class="op" id="8052529">(</span><span class="ident" id="8052530">bytes</span><span class="op" id="8052535">.</span><span class="ident" id="8052536">Buffer</span><span class="op" id="8052542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052545">data</span>&nbsp;<span class="op" id="8052550">:=</span>&nbsp;<span class="keyword" id="8052553">struct</span><span class="op" id="8052559">{</span>&nbsp;<span class="ident" id="8052561">E</span>&nbsp;<span class="builtintype" id="8052563">string</span>&nbsp;<span class="op" id="8052570">}</span><span class="op" id="8052571">{</span><span class="ident" id="8052572">E</span><span class="op" id="8052573">:</span>&nbsp;<span class="ident" id="8052575">fmt</span><span class="op" id="8052578">.</span><span class="ident" id="8052579">Sprint</span><span class="op" id="8052585">(</span><span class="ident" id="8052586">nil</span><span class="op" id="8052589">)</span><span class="op" id="8052590">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052593">tmpl</span><span class="op" id="8052597">.</span><span class="ident" id="8052598">Execute</span><span class="op" id="8052605">(</span><span class="ident" id="8052606">want</span><span class="op" id="8052610">,</span>&nbsp;<span class="ident" id="8052612">data</span><span class="op" id="8052616">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052620">if</span>&nbsp;<span class="op" id="8052623">!</span><span class="ident" id="8052624">bytes</span><span class="op" id="8052629">.</span><span class="ident" id="8052630">Equal</span><span class="op" id="8052635">(</span><span class="ident" id="8052636">want</span><span class="op" id="8052640">.</span><span class="ident" id="8052641">Bytes</span><span class="op" id="8052646">(</span><span class="op" id="8052647">)</span><span class="op" id="8052648">,</span>&nbsp;<span class="ident" id="8052650">got</span><span class="op" id="8052653">.</span><span class="ident" id="8052654">Bytes</span><span class="op" id="8052659">(</span><span class="op" id="8052660">)</span><span class="op" id="8052661">)</span>&nbsp;<span class="op" id="8052663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052667">t</span><span class="op" id="8052668">.</span><span class="ident" id="8052669">Errorf</span><span class="op" id="8052675">(</span><span class="string" id="8052676">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8052696">,</span>&nbsp;<span class="builtintype" id="8052698">string</span><span class="op" id="8052704">(</span><span class="ident" id="8052705">want</span><span class="op" id="8052709">.</span><span class="ident" id="8052710">Bytes</span><span class="op" id="8052715">(</span><span class="op" id="8052716">)</span><span class="op" id="8052717">)</span><span class="op" id="8052718">,</span>&nbsp;<span class="builtintype" id="8052720">string</span><span class="op" id="8052726">(</span><span class="ident" id="8052727">got</span><span class="op" id="8052730">.</span><span class="ident" id="8052731">Bytes</span><span class="op" id="8052736">(</span><span class="op" id="8052737">)</span><span class="op" id="8052738">)</span><span class="op" id="8052739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8052742">}</span><br>
<span class="lineno">280</span><span class="op" id="8052744">}</span>
</div>
</body>
</html>
