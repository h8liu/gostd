<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6671731">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6671786">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6671840">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6671891">package</span>&nbsp;<span class="ident" id="6671899">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671904">import</span>&nbsp;<span class="op" id="6671911">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671914">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671923">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671933">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671941">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671949">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671962">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671973">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671984">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671995">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6672002">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6672005">var</span>&nbsp;<span class="ident" id="6672009">doFuzzTests</span>&nbsp;<span class="op" id="6672021">=</span>&nbsp;<span class="ident" id="6672023">flag</span><span class="op" id="6672027">.</span><span class="ident" id="6672028">Bool</span><span class="op" id="6672032">(</span><span class="string" id="6672033">&#34;gob.fuzz&#34;</span><span class="op" id="6672043">,</span>&nbsp;<span class="builtintype" id="6672045">false</span><span class="op" id="6672050">,</span>&nbsp;<span class="string" id="6672052">&#34;run&nbsp;the&nbsp;fuzz&nbsp;tests,&nbsp;which&nbsp;are&nbsp;large&nbsp;and&nbsp;very&nbsp;slow&#34;</span><span class="op" id="6672103">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6672106">//&nbsp;Guarantee&nbsp;encoding&nbsp;format&nbsp;by&nbsp;comparing&nbsp;some&nbsp;encodings&nbsp;to&nbsp;hand-written&nbsp;values</span><br>
<span class="lineno"></span><span class="keyword" id="6672186">type</span>&nbsp;<span class="ident" id="6672191">EncodeT</span>&nbsp;<span class="keyword" id="6672199">struct</span>&nbsp;<span class="op" id="6672206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672209">x</span>&nbsp;<span class="ident" id="6672211">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672219">b</span>&nbsp;<span class="op" id="6672221">[</span><span class="op" id="6672222">]</span><span class="builtintype" id="6672223">byte</span><br>
<span class="lineno">25</span><span class="op" id="6672228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6672231">var</span>&nbsp;<span class="ident" id="6672235">encodeT</span>&nbsp;<span class="op" id="6672243">=</span>&nbsp;<span class="op" id="6672245">[</span><span class="op" id="6672246">]</span><span class="ident" id="6672247">EncodeT</span><span class="op" id="6672254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672257">{</span><span class="num" id="6672258">0x00</span><span class="op" id="6672262">,</span>&nbsp;<span class="op" id="6672264">[</span><span class="op" id="6672265">]</span><span class="builtintype" id="6672266">byte</span><span class="op" id="6672270">{</span><span class="num" id="6672271">0x00</span><span class="op" id="6672275">}</span><span class="op" id="6672276">}</span><span class="op" id="6672277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672280">{</span><span class="num" id="6672281">0x0F</span><span class="op" id="6672285">,</span>&nbsp;<span class="op" id="6672287">[</span><span class="op" id="6672288">]</span><span class="builtintype" id="6672289">byte</span><span class="op" id="6672293">{</span><span class="num" id="6672294">0x0F</span><span class="op" id="6672298">}</span><span class="op" id="6672299">}</span><span class="op" id="6672300">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672303">{</span><span class="num" id="6672304">0xFF</span><span class="op" id="6672308">,</span>&nbsp;<span class="op" id="6672310">[</span><span class="op" id="6672311">]</span><span class="builtintype" id="6672312">byte</span><span class="op" id="6672316">{</span><span class="num" id="6672317">0xFF</span><span class="op" id="6672321">,</span>&nbsp;<span class="num" id="6672323">0xFF</span><span class="op" id="6672327">}</span><span class="op" id="6672328">}</span><span class="op" id="6672329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672332">{</span><span class="num" id="6672333">0xFFFF</span><span class="op" id="6672339">,</span>&nbsp;<span class="op" id="6672341">[</span><span class="op" id="6672342">]</span><span class="builtintype" id="6672343">byte</span><span class="op" id="6672347">{</span><span class="num" id="6672348">0xFE</span><span class="op" id="6672352">,</span>&nbsp;<span class="num" id="6672354">0xFF</span><span class="op" id="6672358">,</span>&nbsp;<span class="num" id="6672360">0xFF</span><span class="op" id="6672364">}</span><span class="op" id="6672365">}</span><span class="op" id="6672366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672369">{</span><span class="num" id="6672370">0xFFFFFF</span><span class="op" id="6672378">,</span>&nbsp;<span class="op" id="6672380">[</span><span class="op" id="6672381">]</span><span class="builtintype" id="6672382">byte</span><span class="op" id="6672386">{</span><span class="num" id="6672387">0xFD</span><span class="op" id="6672391">,</span>&nbsp;<span class="num" id="6672393">0xFF</span><span class="op" id="6672397">,</span>&nbsp;<span class="num" id="6672399">0xFF</span><span class="op" id="6672403">,</span>&nbsp;<span class="num" id="6672405">0xFF</span><span class="op" id="6672409">}</span><span class="op" id="6672410">}</span><span class="op" id="6672411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672414">{</span><span class="num" id="6672415">0xFFFFFFFF</span><span class="op" id="6672425">,</span>&nbsp;<span class="op" id="6672427">[</span><span class="op" id="6672428">]</span><span class="builtintype" id="6672429">byte</span><span class="op" id="6672433">{</span><span class="num" id="6672434">0xFC</span><span class="op" id="6672438">,</span>&nbsp;<span class="num" id="6672440">0xFF</span><span class="op" id="6672444">,</span>&nbsp;<span class="num" id="6672446">0xFF</span><span class="op" id="6672450">,</span>&nbsp;<span class="num" id="6672452">0xFF</span><span class="op" id="6672456">,</span>&nbsp;<span class="num" id="6672458">0xFF</span><span class="op" id="6672462">}</span><span class="op" id="6672463">}</span><span class="op" id="6672464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672467">{</span><span class="num" id="6672468">0xFFFFFFFFFF</span><span class="op" id="6672480">,</span>&nbsp;<span class="op" id="6672482">[</span><span class="op" id="6672483">]</span><span class="builtintype" id="6672484">byte</span><span class="op" id="6672488">{</span><span class="num" id="6672489">0xFB</span><span class="op" id="6672493">,</span>&nbsp;<span class="num" id="6672495">0xFF</span><span class="op" id="6672499">,</span>&nbsp;<span class="num" id="6672501">0xFF</span><span class="op" id="6672505">,</span>&nbsp;<span class="num" id="6672507">0xFF</span><span class="op" id="6672511">,</span>&nbsp;<span class="num" id="6672513">0xFF</span><span class="op" id="6672517">,</span>&nbsp;<span class="num" id="6672519">0xFF</span><span class="op" id="6672523">}</span><span class="op" id="6672524">}</span><span class="op" id="6672525">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672528">{</span><span class="num" id="6672529">0xFFFFFFFFFFFF</span><span class="op" id="6672543">,</span>&nbsp;<span class="op" id="6672545">[</span><span class="op" id="6672546">]</span><span class="builtintype" id="6672547">byte</span><span class="op" id="6672551">{</span><span class="num" id="6672552">0xFA</span><span class="op" id="6672556">,</span>&nbsp;<span class="num" id="6672558">0xFF</span><span class="op" id="6672562">,</span>&nbsp;<span class="num" id="6672564">0xFF</span><span class="op" id="6672568">,</span>&nbsp;<span class="num" id="6672570">0xFF</span><span class="op" id="6672574">,</span>&nbsp;<span class="num" id="6672576">0xFF</span><span class="op" id="6672580">,</span>&nbsp;<span class="num" id="6672582">0xFF</span><span class="op" id="6672586">,</span>&nbsp;<span class="num" id="6672588">0xFF</span><span class="op" id="6672592">}</span><span class="op" id="6672593">}</span><span class="op" id="6672594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672597">{</span><span class="num" id="6672598">0xFFFFFFFFFFFFFF</span><span class="op" id="6672614">,</span>&nbsp;<span class="op" id="6672616">[</span><span class="op" id="6672617">]</span><span class="builtintype" id="6672618">byte</span><span class="op" id="6672622">{</span><span class="num" id="6672623">0xF9</span><span class="op" id="6672627">,</span>&nbsp;<span class="num" id="6672629">0xFF</span><span class="op" id="6672633">,</span>&nbsp;<span class="num" id="6672635">0xFF</span><span class="op" id="6672639">,</span>&nbsp;<span class="num" id="6672641">0xFF</span><span class="op" id="6672645">,</span>&nbsp;<span class="num" id="6672647">0xFF</span><span class="op" id="6672651">,</span>&nbsp;<span class="num" id="6672653">0xFF</span><span class="op" id="6672657">,</span>&nbsp;<span class="num" id="6672659">0xFF</span><span class="op" id="6672663">,</span>&nbsp;<span class="num" id="6672665">0xFF</span><span class="op" id="6672669">}</span><span class="op" id="6672670">}</span><span class="op" id="6672671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672674">{</span><span class="num" id="6672675">0xFFFFFFFFFFFFFFFF</span><span class="op" id="6672693">,</span>&nbsp;<span class="op" id="6672695">[</span><span class="op" id="6672696">]</span><span class="builtintype" id="6672697">byte</span><span class="op" id="6672701">{</span><span class="num" id="6672702">0xF8</span><span class="op" id="6672706">,</span>&nbsp;<span class="num" id="6672708">0xFF</span><span class="op" id="6672712">,</span>&nbsp;<span class="num" id="6672714">0xFF</span><span class="op" id="6672718">,</span>&nbsp;<span class="num" id="6672720">0xFF</span><span class="op" id="6672724">,</span>&nbsp;<span class="num" id="6672726">0xFF</span><span class="op" id="6672730">,</span>&nbsp;<span class="num" id="6672732">0xFF</span><span class="op" id="6672736">,</span>&nbsp;<span class="num" id="6672738">0xFF</span><span class="op" id="6672742">,</span>&nbsp;<span class="num" id="6672744">0xFF</span><span class="op" id="6672748">,</span>&nbsp;<span class="num" id="6672750">0xFF</span><span class="op" id="6672754">}</span><span class="op" id="6672755">}</span><span class="op" id="6672756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672759">{</span><span class="num" id="6672760">0x1111</span><span class="op" id="6672766">,</span>&nbsp;<span class="op" id="6672768">[</span><span class="op" id="6672769">]</span><span class="builtintype" id="6672770">byte</span><span class="op" id="6672774">{</span><span class="num" id="6672775">0xFE</span><span class="op" id="6672779">,</span>&nbsp;<span class="num" id="6672781">0x11</span><span class="op" id="6672785">,</span>&nbsp;<span class="num" id="6672787">0x11</span><span class="op" id="6672791">}</span><span class="op" id="6672792">}</span><span class="op" id="6672793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672796">{</span><span class="num" id="6672797">0x1111111111111111</span><span class="op" id="6672815">,</span>&nbsp;<span class="op" id="6672817">[</span><span class="op" id="6672818">]</span><span class="builtintype" id="6672819">byte</span><span class="op" id="6672823">{</span><span class="num" id="6672824">0xF8</span><span class="op" id="6672828">,</span>&nbsp;<span class="num" id="6672830">0x11</span><span class="op" id="6672834">,</span>&nbsp;<span class="num" id="6672836">0x11</span><span class="op" id="6672840">,</span>&nbsp;<span class="num" id="6672842">0x11</span><span class="op" id="6672846">,</span>&nbsp;<span class="num" id="6672848">0x11</span><span class="op" id="6672852">,</span>&nbsp;<span class="num" id="6672854">0x11</span><span class="op" id="6672858">,</span>&nbsp;<span class="num" id="6672860">0x11</span><span class="op" id="6672864">,</span>&nbsp;<span class="num" id="6672866">0x11</span><span class="op" id="6672870">,</span>&nbsp;<span class="num" id="6672872">0x11</span><span class="op" id="6672876">}</span><span class="op" id="6672877">}</span><span class="op" id="6672878">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672881">{</span><span class="num" id="6672882">0x8888888888888888</span><span class="op" id="6672900">,</span>&nbsp;<span class="op" id="6672902">[</span><span class="op" id="6672903">]</span><span class="builtintype" id="6672904">byte</span><span class="op" id="6672908">{</span><span class="num" id="6672909">0xF8</span><span class="op" id="6672913">,</span>&nbsp;<span class="num" id="6672915">0x88</span><span class="op" id="6672919">,</span>&nbsp;<span class="num" id="6672921">0x88</span><span class="op" id="6672925">,</span>&nbsp;<span class="num" id="6672927">0x88</span><span class="op" id="6672931">,</span>&nbsp;<span class="num" id="6672933">0x88</span><span class="op" id="6672937">,</span>&nbsp;<span class="num" id="6672939">0x88</span><span class="op" id="6672943">,</span>&nbsp;<span class="num" id="6672945">0x88</span><span class="op" id="6672949">,</span>&nbsp;<span class="num" id="6672951">0x88</span><span class="op" id="6672955">,</span>&nbsp;<span class="num" id="6672957">0x88</span><span class="op" id="6672961">}</span><span class="op" id="6672962">}</span><span class="op" id="6672963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672966">{</span><span class="num" id="6672967">1</span>&nbsp;<span class="op" id="6672969">&lt;&lt;</span>&nbsp;<span class="num" id="6672972">63</span><span class="op" id="6672974">,</span>&nbsp;<span class="op" id="6672976">[</span><span class="op" id="6672977">]</span><span class="builtintype" id="6672978">byte</span><span class="op" id="6672982">{</span><span class="num" id="6672983">0xF8</span><span class="op" id="6672987">,</span>&nbsp;<span class="num" id="6672989">0x80</span><span class="op" id="6672993">,</span>&nbsp;<span class="num" id="6672995">0x00</span><span class="op" id="6672999">,</span>&nbsp;<span class="num" id="6673001">0x00</span><span class="op" id="6673005">,</span>&nbsp;<span class="num" id="6673007">0x00</span><span class="op" id="6673011">,</span>&nbsp;<span class="num" id="6673013">0x00</span><span class="op" id="6673017">,</span>&nbsp;<span class="num" id="6673019">0x00</span><span class="op" id="6673023">,</span>&nbsp;<span class="num" id="6673025">0x00</span><span class="op" id="6673029">,</span>&nbsp;<span class="num" id="6673031">0x00</span><span class="op" id="6673035">}</span><span class="op" id="6673036">}</span><span class="op" id="6673037">,</span><br>
<span class="lineno"></span><span class="op" id="6673039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6673042">//&nbsp;testError&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;deferred&nbsp;function&nbsp;to&nbsp;turn&nbsp;a&nbsp;panic(gobError)&nbsp;into&nbsp;a</span><br>
<span class="lineno">45</span><span class="comment" id="6673131">//&nbsp;plain&nbsp;test.Error&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="6673157">func</span>&nbsp;<span class="ident" id="6673162">testError</span><span class="op" id="6673171">(</span><span class="ident" id="6673172">t</span>&nbsp;<span class="op" id="6673174">*</span><span class="ident" id="6673175">testing</span><span class="op" id="6673182">.</span><span class="ident" id="6673183">T</span><span class="op" id="6673184">)</span>&nbsp;<span class="op" id="6673186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673189">if</span>&nbsp;<span class="ident" id="6673192">e</span>&nbsp;<span class="op" id="6673194">:=</span>&nbsp;<span class="builtinfunc" id="6673197">recover</span><span class="op" id="6673204">(</span><span class="op" id="6673205">)</span><span class="op" id="6673206">;</span>&nbsp;<span class="ident" id="6673208">e</span>&nbsp;<span class="op" id="6673210">!=</span>&nbsp;<span class="ident" id="6673213">nil</span>&nbsp;<span class="op" id="6673217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673221">t</span><span class="op" id="6673222">.</span><span class="ident" id="6673223">Error</span><span class="op" id="6673228">(</span><span class="ident" id="6673229">e</span><span class="op" id="6673230">.</span><span class="op" id="6673231">(</span><span class="ident" id="6673232">gobError</span><span class="op" id="6673240">)</span><span class="op" id="6673241">.</span><span class="ident" id="6673242">err</span><span class="op" id="6673245">)</span>&nbsp;<span class="comment" id="6673247">//&nbsp;Will&nbsp;re-panic&nbsp;if&nbsp;not&nbsp;one&nbsp;of&nbsp;our&nbsp;errors,&nbsp;such&nbsp;as&nbsp;a&nbsp;runtime&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673316">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673319">return</span><br>
<span class="lineno"></span><span class="op" id="6673326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6673329">func</span>&nbsp;<span class="ident" id="6673334">newDecBuffer</span><span class="op" id="6673346">(</span><span class="ident" id="6673347">data</span>&nbsp;<span class="op" id="6673352">[</span><span class="op" id="6673353">]</span><span class="builtintype" id="6673354">byte</span><span class="op" id="6673358">)</span>&nbsp;<span class="op" id="6673360">*</span><span class="ident" id="6673361">decBuffer</span>&nbsp;<span class="op" id="6673371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673374">return</span>&nbsp;<span class="op" id="6673381">&amp;</span><span class="ident" id="6673382">decBuffer</span><span class="op" id="6673391">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673395">data</span><span class="op" id="6673399">:</span>&nbsp;<span class="ident" id="6673401">data</span><span class="op" id="6673405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673408">}</span><br>
<span class="lineno"></span><span class="op" id="6673410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6673413">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;unsigned&nbsp;integers</span><br>
<span class="lineno">60</span><span class="keyword" id="6673472">func</span>&nbsp;<span class="ident" id="6673477">TestUintCodec</span><span class="op" id="6673490">(</span><span class="ident" id="6673491">t</span>&nbsp;<span class="op" id="6673493">*</span><span class="ident" id="6673494">testing</span><span class="op" id="6673501">.</span><span class="ident" id="6673502">T</span><span class="op" id="6673503">)</span>&nbsp;<span class="op" id="6673505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673508">defer</span>&nbsp;<span class="ident" id="6673514">testError</span><span class="op" id="6673523">(</span><span class="ident" id="6673524">t</span><span class="op" id="6673525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673528">b</span>&nbsp;<span class="op" id="6673530">:=</span>&nbsp;<span class="builtinfunc" id="6673533">new</span><span class="op" id="6673536">(</span><span class="ident" id="6673537">encBuffer</span><span class="op" id="6673546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673549">encState</span>&nbsp;<span class="op" id="6673558">:=</span>&nbsp;<span class="ident" id="6673561">newEncoderState</span><span class="op" id="6673576">(</span><span class="ident" id="6673577">b</span><span class="op" id="6673578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673581">for</span>&nbsp;<span class="ident" id="6673585">_</span><span class="op" id="6673586">,</span>&nbsp;<span class="ident" id="6673588">tt</span>&nbsp;<span class="op" id="6673591">:=</span>&nbsp;<span class="keyword" id="6673594">range</span>&nbsp;<span class="ident" id="6673600">encodeT</span>&nbsp;<span class="op" id="6673608">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673612">b</span><span class="op" id="6673613">.</span><span class="ident" id="6673614">Reset</span><span class="op" id="6673619">(</span><span class="op" id="6673620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673624">encState</span><span class="op" id="6673632">.</span><span class="ident" id="6673633">encodeUint</span><span class="op" id="6673643">(</span><span class="ident" id="6673644">tt</span><span class="op" id="6673646">.</span><span class="ident" id="6673647">x</span><span class="op" id="6673648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673652">if</span>&nbsp;<span class="op" id="6673655">!</span><span class="ident" id="6673656">bytes</span><span class="op" id="6673661">.</span><span class="ident" id="6673662">Equal</span><span class="op" id="6673667">(</span><span class="ident" id="6673668">tt</span><span class="op" id="6673670">.</span><span class="ident" id="6673671">b</span><span class="op" id="6673672">,</span>&nbsp;<span class="ident" id="6673674">b</span><span class="op" id="6673675">.</span><span class="ident" id="6673676">Bytes</span><span class="op" id="6673681">(</span><span class="op" id="6673682">)</span><span class="op" id="6673683">)</span>&nbsp;<span class="op" id="6673685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673690">t</span><span class="op" id="6673691">.</span><span class="ident" id="6673692">Errorf</span><span class="op" id="6673698">(</span><span class="string" id="6673699">&#34;encodeUint:&nbsp;%#x&nbsp;encode:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6673745">,</span>&nbsp;<span class="ident" id="6673747">tt</span><span class="op" id="6673749">.</span><span class="ident" id="6673750">x</span><span class="op" id="6673751">,</span>&nbsp;<span class="ident" id="6673753">tt</span><span class="op" id="6673755">.</span><span class="ident" id="6673756">b</span><span class="op" id="6673757">,</span>&nbsp;<span class="ident" id="6673759">b</span><span class="op" id="6673760">.</span><span class="ident" id="6673761">Bytes</span><span class="op" id="6673766">(</span><span class="op" id="6673767">)</span><span class="op" id="6673768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673772">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673778">for</span>&nbsp;<span class="ident" id="6673782">u</span>&nbsp;<span class="op" id="6673784">:=</span>&nbsp;<span class="ident" id="6673787">uint64</span><span class="op" id="6673793">(</span><span class="num" id="6673794">0</span><span class="op" id="6673795">)</span><span class="op" id="6673796">;</span>&nbsp;<span class="op" id="6673798">;</span>&nbsp;<span class="ident" id="6673800">u</span>&nbsp;<span class="op" id="6673802">=</span>&nbsp;<span class="op" id="6673804">(</span><span class="ident" id="6673805">u</span>&nbsp;<span class="op" id="6673807">+</span>&nbsp;<span class="num" id="6673809">1</span><span class="op" id="6673810">)</span>&nbsp;<span class="op" id="6673812">*</span>&nbsp;<span class="num" id="6673814">7</span>&nbsp;<span class="op" id="6673816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673820">b</span><span class="op" id="6673821">.</span><span class="ident" id="6673822">Reset</span><span class="op" id="6673827">(</span><span class="op" id="6673828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673832">encState</span><span class="op" id="6673840">.</span><span class="ident" id="6673841">encodeUint</span><span class="op" id="6673851">(</span><span class="ident" id="6673852">u</span><span class="op" id="6673853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673857">decState</span>&nbsp;<span class="op" id="6673866">:=</span>&nbsp;<span class="ident" id="6673869">newDecodeState</span><span class="op" id="6673883">(</span><span class="ident" id="6673884">newDecBuffer</span><span class="op" id="6673896">(</span><span class="ident" id="6673897">b</span><span class="op" id="6673898">.</span><span class="ident" id="6673899">Bytes</span><span class="op" id="6673904">(</span><span class="op" id="6673905">)</span><span class="op" id="6673906">)</span><span class="op" id="6673907">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673911">v</span>&nbsp;<span class="op" id="6673913">:=</span>&nbsp;<span class="ident" id="6673916">decState</span><span class="op" id="6673924">.</span><span class="ident" id="6673925">decodeUint</span><span class="op" id="6673935">(</span><span class="op" id="6673936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673940">if</span>&nbsp;<span class="ident" id="6673943">u</span>&nbsp;<span class="op" id="6673945">!=</span>&nbsp;<span class="ident" id="6673948">v</span>&nbsp;<span class="op" id="6673950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673955">t</span><span class="op" id="6673956">.</span><span class="ident" id="6673957">Errorf</span><span class="op" id="6673963">(</span><span class="string" id="6673964">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="6674002">,</span>&nbsp;<span class="ident" id="6674004">u</span><span class="op" id="6674005">,</span>&nbsp;<span class="ident" id="6674007">v</span><span class="op" id="6674008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6674012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6674016">if</span>&nbsp;<span class="ident" id="6674019">u</span><span class="op" id="6674020">&amp;</span><span class="op" id="6674021">(</span><span class="num" id="6674022">1</span><span class="op" id="6674023">&lt;&lt;</span><span class="num" id="6674025">63</span><span class="op" id="6674027">)</span>&nbsp;<span class="op" id="6674029">!=</span>&nbsp;<span class="num" id="6674032">0</span>&nbsp;<span class="op" id="6674034">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6674039">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6674047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6674050">}</span><br>
<span class="lineno"></span><span class="op" id="6674052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="6674055">func</span>&nbsp;<span class="ident" id="6674060">verifyInt</span><span class="op" id="6674069">(</span><span class="ident" id="6674070">i</span>&nbsp;<span class="ident" id="6674072">int64</span><span class="op" id="6674077">,</span>&nbsp;<span class="ident" id="6674079">t</span>&nbsp;<span class="op" id="6674081">*</span><span class="ident" id="6674082">testing</span><span class="op" id="6674089">.</span><span class="ident" id="6674090">T</span><span class="op" id="6674091">)</span>&nbsp;<span class="op" id="6674093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6674096">defer</span>&nbsp;<span class="ident" id="6674102">testError</span><span class="op" id="6674111">(</span><span class="ident" id="6674112">t</span><span class="op" id="6674113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6674116">var</span>&nbsp;<span class="ident" id="6674120">b</span>&nbsp;<span class="op" id="6674122">=</span>&nbsp;<span class="builtinfunc" id="6674124">new</span><span class="op" id="6674127">(</span><span class="ident" id="6674128">encBuffer</span><span class="op" id="6674137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674140">encState</span>&nbsp;<span class="op" id="6674149">:=</span>&nbsp;<span class="ident" id="6674152">newEncoderState</span><span class="op" id="6674167">(</span><span class="ident" id="6674168">b</span><span class="op" id="6674169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674172">encState</span><span class="op" id="6674180">.</span><span class="ident" id="6674181">encodeInt</span><span class="op" id="6674190">(</span><span class="ident" id="6674191">i</span><span class="op" id="6674192">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674195">decState</span>&nbsp;<span class="op" id="6674204">:=</span>&nbsp;<span class="ident" id="6674207">newDecodeState</span><span class="op" id="6674221">(</span><span class="ident" id="6674222">newDecBuffer</span><span class="op" id="6674234">(</span><span class="ident" id="6674235">b</span><span class="op" id="6674236">.</span><span class="ident" id="6674237">Bytes</span><span class="op" id="6674242">(</span><span class="op" id="6674243">)</span><span class="op" id="6674244">)</span><span class="op" id="6674245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674248">decState</span><span class="op" id="6674256">.</span><span class="ident" id="6674257">buf</span>&nbsp;<span class="op" id="6674261">=</span>&nbsp;<span class="builtinfunc" id="6674263">make</span><span class="op" id="6674267">(</span><span class="op" id="6674268">[</span><span class="op" id="6674269">]</span><span class="builtintype" id="6674270">byte</span><span class="op" id="6674274">,</span>&nbsp;<span class="num" id="6674276">8</span><span class="op" id="6674277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674280">j</span>&nbsp;<span class="op" id="6674282">:=</span>&nbsp;<span class="ident" id="6674285">decState</span><span class="op" id="6674293">.</span><span class="ident" id="6674294">decodeInt</span><span class="op" id="6674303">(</span><span class="op" id="6674304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6674307">if</span>&nbsp;<span class="ident" id="6674310">i</span>&nbsp;<span class="op" id="6674312">!=</span>&nbsp;<span class="ident" id="6674315">j</span>&nbsp;<span class="op" id="6674317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674321">t</span><span class="op" id="6674322">.</span><span class="ident" id="6674323">Errorf</span><span class="op" id="6674329">(</span><span class="string" id="6674330">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="6674368">,</span>&nbsp;<span class="ident" id="6674370">uint64</span><span class="op" id="6674376">(</span><span class="ident" id="6674377">i</span><span class="op" id="6674378">)</span><span class="op" id="6674379">,</span>&nbsp;<span class="ident" id="6674381">uint64</span><span class="op" id="6674387">(</span><span class="ident" id="6674388">j</span><span class="op" id="6674389">)</span><span class="op" id="6674390">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6674393">}</span><br>
<span class="lineno"></span><span class="op" id="6674395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6674398">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;signed&nbsp;integers</span><br>
<span class="lineno"></span><span class="keyword" id="6674455">func</span>&nbsp;<span class="ident" id="6674460">TestIntCodec</span><span class="op" id="6674472">(</span><span class="ident" id="6674473">t</span>&nbsp;<span class="op" id="6674475">*</span><span class="ident" id="6674476">testing</span><span class="op" id="6674483">.</span><span class="ident" id="6674484">T</span><span class="op" id="6674485">)</span>&nbsp;<span class="op" id="6674487">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6674490">for</span>&nbsp;<span class="ident" id="6674494">u</span>&nbsp;<span class="op" id="6674496">:=</span>&nbsp;<span class="ident" id="6674499">uint64</span><span class="op" id="6674505">(</span><span class="num" id="6674506">0</span><span class="op" id="6674507">)</span><span class="op" id="6674508">;</span>&nbsp;<span class="op" id="6674510">;</span>&nbsp;<span class="ident" id="6674512">u</span>&nbsp;<span class="op" id="6674514">=</span>&nbsp;<span class="op" id="6674516">(</span><span class="ident" id="6674517">u</span>&nbsp;<span class="op" id="6674519">+</span>&nbsp;<span class="num" id="6674521">1</span><span class="op" id="6674522">)</span>&nbsp;<span class="op" id="6674524">*</span>&nbsp;<span class="num" id="6674526">7</span>&nbsp;<span class="op" id="6674528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6674532">//&nbsp;Do&nbsp;positive&nbsp;and&nbsp;negative&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674569">i</span>&nbsp;<span class="op" id="6674571">:=</span>&nbsp;<span class="ident" id="6674574">int64</span><span class="op" id="6674579">(</span><span class="ident" id="6674580">u</span><span class="op" id="6674581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674585">verifyInt</span><span class="op" id="6674594">(</span><span class="ident" id="6674595">i</span><span class="op" id="6674596">,</span>&nbsp;<span class="ident" id="6674598">t</span><span class="op" id="6674599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674603">verifyInt</span><span class="op" id="6674612">(</span><span class="op" id="6674613">-</span><span class="ident" id="6674614">i</span><span class="op" id="6674615">,</span>&nbsp;<span class="ident" id="6674617">t</span><span class="op" id="6674618">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674622">verifyInt</span><span class="op" id="6674631">(</span><span class="op" id="6674632">^</span><span class="ident" id="6674633">i</span><span class="op" id="6674634">,</span>&nbsp;<span class="ident" id="6674636">t</span><span class="op" id="6674637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6674641">if</span>&nbsp;<span class="ident" id="6674644">u</span><span class="op" id="6674645">&amp;</span><span class="op" id="6674646">(</span><span class="num" id="6674647">1</span><span class="op" id="6674648">&lt;&lt;</span><span class="num" id="6674650">63</span><span class="op" id="6674652">)</span>&nbsp;<span class="op" id="6674654">!=</span>&nbsp;<span class="num" id="6674657">0</span>&nbsp;<span class="op" id="6674659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6674664">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6674672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6674675">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674678">verifyInt</span><span class="op" id="6674687">(</span><span class="op" id="6674688">-</span><span class="num" id="6674689">1</span><span class="op" id="6674690">&lt;&lt;</span><span class="num" id="6674692">63</span><span class="op" id="6674694">,</span>&nbsp;<span class="ident" id="6674696">t</span><span class="op" id="6674697">)</span>&nbsp;<span class="comment" id="6674699">//&nbsp;a&nbsp;tricky&nbsp;case</span><br>
<span class="lineno"></span><span class="op" id="6674716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6674719">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;true&nbsp;boolean&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="6674780">var</span>&nbsp;<span class="ident" id="6674784">boolResult</span>&nbsp;<span class="op" id="6674795">=</span>&nbsp;<span class="op" id="6674797">[</span><span class="op" id="6674798">]</span><span class="builtintype" id="6674799">byte</span><span class="op" id="6674803">{</span><span class="num" id="6674804">0x07</span><span class="op" id="6674808">,</span>&nbsp;<span class="num" id="6674810">0x01</span><span class="op" id="6674814">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="6674817">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="6674875">var</span>&nbsp;<span class="ident" id="6674879">signedResult</span>&nbsp;<span class="op" id="6674892">=</span>&nbsp;<span class="op" id="6674894">[</span><span class="op" id="6674895">]</span><span class="builtintype" id="6674896">byte</span><span class="op" id="6674900">{</span><span class="num" id="6674901">0x07</span><span class="op" id="6674905">,</span>&nbsp;<span class="num" id="6674907">2</span>&nbsp;<span class="op" id="6674909">*</span>&nbsp;<span class="num" id="6674911">17</span><span class="op" id="6674913">}</span><br>
<span class="lineno"></span><span class="keyword" id="6674915">var</span>&nbsp;<span class="ident" id="6674919">unsignedResult</span>&nbsp;<span class="op" id="6674934">=</span>&nbsp;<span class="op" id="6674936">[</span><span class="op" id="6674937">]</span><span class="builtintype" id="6674938">byte</span><span class="op" id="6674942">{</span><span class="num" id="6674943">0x07</span><span class="op" id="6674947">,</span>&nbsp;<span class="num" id="6674949">17</span><span class="op" id="6674951">}</span><br>
<span class="lineno"></span><span class="keyword" id="6674953">var</span>&nbsp;<span class="ident" id="6674957">floatResult</span>&nbsp;<span class="op" id="6674969">=</span>&nbsp;<span class="op" id="6674971">[</span><span class="op" id="6674972">]</span><span class="builtintype" id="6674973">byte</span><span class="op" id="6674977">{</span><span class="num" id="6674978">0x07</span><span class="op" id="6674982">,</span>&nbsp;<span class="num" id="6674984">0xFE</span><span class="op" id="6674988">,</span>&nbsp;<span class="num" id="6674990">0x31</span><span class="op" id="6674994">,</span>&nbsp;<span class="num" id="6674996">0x40</span><span class="op" id="6675000">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="6675003">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17+19i&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="6675065">var</span>&nbsp;<span class="ident" id="6675069">complexResult</span>&nbsp;<span class="op" id="6675083">=</span>&nbsp;<span class="op" id="6675085">[</span><span class="op" id="6675086">]</span><span class="builtintype" id="6675087">byte</span><span class="op" id="6675091">{</span><span class="num" id="6675092">0x07</span><span class="op" id="6675096">,</span>&nbsp;<span class="num" id="6675098">0xFE</span><span class="op" id="6675102">,</span>&nbsp;<span class="num" id="6675104">0x31</span><span class="op" id="6675108">,</span>&nbsp;<span class="num" id="6675110">0x40</span><span class="op" id="6675114">,</span>&nbsp;<span class="num" id="6675116">0xFE</span><span class="op" id="6675120">,</span>&nbsp;<span class="num" id="6675122">0x33</span><span class="op" id="6675126">,</span>&nbsp;<span class="num" id="6675128">0x40</span><span class="op" id="6675132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6675135">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;&#34;hello&#34;&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno">125</span><span class="keyword" id="6675189">var</span>&nbsp;<span class="ident" id="6675193">bytesResult</span>&nbsp;<span class="op" id="6675205">=</span>&nbsp;<span class="op" id="6675207">[</span><span class="op" id="6675208">]</span><span class="builtintype" id="6675209">byte</span><span class="op" id="6675213">{</span><span class="num" id="6675214">0x07</span><span class="op" id="6675218">,</span>&nbsp;<span class="num" id="6675220">0x05</span><span class="op" id="6675224">,</span>&nbsp;<span class="string" id="6675226">&#39;h&#39;</span><span class="op" id="6675229">,</span>&nbsp;<span class="string" id="6675231">&#39;e&#39;</span><span class="op" id="6675234">,</span>&nbsp;<span class="string" id="6675236">&#39;l&#39;</span><span class="op" id="6675239">,</span>&nbsp;<span class="string" id="6675241">&#39;l&#39;</span><span class="op" id="6675244">,</span>&nbsp;<span class="string" id="6675246">&#39;o&#39;</span><span class="op" id="6675249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6675252">func</span>&nbsp;<span class="ident" id="6675257">newDecodeState</span><span class="op" id="6675271">(</span><span class="ident" id="6675272">buf</span>&nbsp;<span class="op" id="6675276">*</span><span class="ident" id="6675277">decBuffer</span><span class="op" id="6675286">)</span>&nbsp;<span class="op" id="6675288">*</span><span class="ident" id="6675289">decoderState</span>&nbsp;<span class="op" id="6675302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6675305">d</span>&nbsp;<span class="op" id="6675307">:=</span>&nbsp;<span class="builtinfunc" id="6675310">new</span><span class="op" id="6675313">(</span><span class="ident" id="6675314">decoderState</span><span class="op" id="6675326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6675329">d</span><span class="op" id="6675330">.</span><span class="ident" id="6675331">b</span>&nbsp;<span class="op" id="6675333">=</span>&nbsp;<span class="ident" id="6675335">buf</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6675340">d</span><span class="op" id="6675341">.</span><span class="ident" id="6675342">buf</span>&nbsp;<span class="op" id="6675346">=</span>&nbsp;<span class="builtinfunc" id="6675348">make</span><span class="op" id="6675352">(</span><span class="op" id="6675353">[</span><span class="op" id="6675354">]</span><span class="builtintype" id="6675355">byte</span><span class="op" id="6675359">,</span>&nbsp;<span class="ident" id="6675361">uint64Size</span><span class="op" id="6675371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6675374">return</span>&nbsp;<span class="ident" id="6675381">d</span><br>
<span class="lineno"></span><span class="op" id="6675383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6675386">func</span>&nbsp;<span class="ident" id="6675391">newEncoderState</span><span class="op" id="6675406">(</span><span class="ident" id="6675407">b</span>&nbsp;<span class="op" id="6675409">*</span><span class="ident" id="6675410">encBuffer</span><span class="op" id="6675419">)</span>&nbsp;<span class="op" id="6675421">*</span><span class="ident" id="6675422">encoderState</span>&nbsp;<span class="op" id="6675435">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6675438">b</span><span class="op" id="6675439">.</span><span class="ident" id="6675440">Reset</span><span class="op" id="6675445">(</span><span class="op" id="6675446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6675449">state</span>&nbsp;<span class="op" id="6675455">:=</span>&nbsp;<span class="op" id="6675458">&amp;</span><span class="ident" id="6675459">encoderState</span><span class="op" id="6675471">{</span><span class="ident" id="6675472">enc</span><span class="op" id="6675475">:</span>&nbsp;<span class="ident" id="6675477">nil</span><span class="op" id="6675480">,</span>&nbsp;<span class="ident" id="6675482">b</span><span class="op" id="6675483">:</span>&nbsp;<span class="ident" id="6675485">b</span><span class="op" id="6675486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6675489">state</span><span class="op" id="6675494">.</span><span class="ident" id="6675495">fieldnum</span>&nbsp;<span class="op" id="6675504">=</span>&nbsp;<span class="op" id="6675506">-</span><span class="num" id="6675507">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6675510">return</span>&nbsp;<span class="ident" id="6675517">state</span><br>
<span class="lineno"></span><span class="op" id="6675523">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="6675526">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="comment" id="6675570">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="keyword" id="6675653">func</span>&nbsp;<span class="ident" id="6675658">TestScalarEncInstructions</span><span class="op" id="6675683">(</span><span class="ident" id="6675684">t</span>&nbsp;<span class="op" id="6675686">*</span><span class="ident" id="6675687">testing</span><span class="op" id="6675694">.</span><span class="ident" id="6675695">T</span><span class="op" id="6675696">)</span>&nbsp;<span class="op" id="6675698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6675701">var</span>&nbsp;<span class="ident" id="6675705">b</span>&nbsp;<span class="op" id="6675707">=</span>&nbsp;<span class="builtinfunc" id="6675709">new</span><span class="op" id="6675712">(</span><span class="ident" id="6675713">encBuffer</span><span class="op" id="6675722">)</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6675726">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6675735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6675739">var</span>&nbsp;<span class="ident" id="6675743">data</span>&nbsp;<span class="builtintype" id="6675748">bool</span>&nbsp;<span class="op" id="6675753">=</span>&nbsp;<span class="builtintype" id="6675755">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6675762">instr</span>&nbsp;<span class="op" id="6675768">:=</span>&nbsp;<span class="op" id="6675771">&amp;</span><span class="ident" id="6675772">encInstr</span><span class="op" id="6675780">{</span><span class="ident" id="6675781">encBool</span><span class="op" id="6675788">,</span>&nbsp;<span class="num" id="6675790">6</span><span class="op" id="6675791">,</span>&nbsp;<span class="ident" id="6675793">nil</span><span class="op" id="6675796">,</span>&nbsp;<span class="num" id="6675798">0</span><span class="op" id="6675799">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6675803">state</span>&nbsp;<span class="op" id="6675809">:=</span>&nbsp;<span class="ident" id="6675812">newEncoderState</span><span class="op" id="6675827">(</span><span class="ident" id="6675828">b</span><span class="op" id="6675829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6675833">instr</span><span class="op" id="6675838">.</span><span class="ident" id="6675839">op</span><span class="op" id="6675841">(</span><span class="ident" id="6675842">instr</span><span class="op" id="6675847">,</span>&nbsp;<span class="ident" id="6675849">state</span><span class="op" id="6675854">,</span>&nbsp;<span class="ident" id="6675856">reflect</span><span class="op" id="6675863">.</span><span class="ident" id="6675864">ValueOf</span><span class="op" id="6675871">(</span><span class="ident" id="6675872">data</span><span class="op" id="6675876">)</span><span class="op" id="6675877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6675881">if</span>&nbsp;<span class="op" id="6675884">!</span><span class="ident" id="6675885">bytes</span><span class="op" id="6675890">.</span><span class="ident" id="6675891">Equal</span><span class="op" id="6675896">(</span><span class="ident" id="6675897">boolResult</span><span class="op" id="6675907">,</span>&nbsp;<span class="ident" id="6675909">b</span><span class="op" id="6675910">.</span><span class="ident" id="6675911">Bytes</span><span class="op" id="6675916">(</span><span class="op" id="6675917">)</span><span class="op" id="6675918">)</span>&nbsp;<span class="op" id="6675920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6675925">t</span><span class="op" id="6675926">.</span><span class="ident" id="6675927">Errorf</span><span class="op" id="6675933">(</span><span class="string" id="6675934">&#34;bool&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6675979">,</span>&nbsp;<span class="ident" id="6675981">boolResult</span><span class="op" id="6675991">,</span>&nbsp;<span class="ident" id="6675993">b</span><span class="op" id="6675994">.</span><span class="ident" id="6675995">Bytes</span><span class="op" id="6676000">(</span><span class="op" id="6676001">)</span><span class="op" id="6676002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676006">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6676013">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676025">b</span><span class="op" id="6676026">.</span><span class="ident" id="6676027">Reset</span><span class="op" id="6676032">(</span><span class="op" id="6676033">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6676037">var</span>&nbsp;<span class="ident" id="6676041">data</span>&nbsp;<span class="builtintype" id="6676046">int</span>&nbsp;<span class="op" id="6676050">=</span>&nbsp;<span class="num" id="6676052">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676057">instr</span>&nbsp;<span class="op" id="6676063">:=</span>&nbsp;<span class="op" id="6676066">&amp;</span><span class="ident" id="6676067">encInstr</span><span class="op" id="6676075">{</span><span class="ident" id="6676076">encInt</span><span class="op" id="6676082">,</span>&nbsp;<span class="num" id="6676084">6</span><span class="op" id="6676085">,</span>&nbsp;<span class="ident" id="6676087">nil</span><span class="op" id="6676090">,</span>&nbsp;<span class="num" id="6676092">0</span><span class="op" id="6676093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676097">state</span>&nbsp;<span class="op" id="6676103">:=</span>&nbsp;<span class="ident" id="6676106">newEncoderState</span><span class="op" id="6676121">(</span><span class="ident" id="6676122">b</span><span class="op" id="6676123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676127">instr</span><span class="op" id="6676132">.</span><span class="ident" id="6676133">op</span><span class="op" id="6676135">(</span><span class="ident" id="6676136">instr</span><span class="op" id="6676141">,</span>&nbsp;<span class="ident" id="6676143">state</span><span class="op" id="6676148">,</span>&nbsp;<span class="ident" id="6676150">reflect</span><span class="op" id="6676157">.</span><span class="ident" id="6676158">ValueOf</span><span class="op" id="6676165">(</span><span class="ident" id="6676166">data</span><span class="op" id="6676170">)</span><span class="op" id="6676171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6676175">if</span>&nbsp;<span class="op" id="6676178">!</span><span class="ident" id="6676179">bytes</span><span class="op" id="6676184">.</span><span class="ident" id="6676185">Equal</span><span class="op" id="6676190">(</span><span class="ident" id="6676191">signedResult</span><span class="op" id="6676203">,</span>&nbsp;<span class="ident" id="6676205">b</span><span class="op" id="6676206">.</span><span class="ident" id="6676207">Bytes</span><span class="op" id="6676212">(</span><span class="op" id="6676213">)</span><span class="op" id="6676214">)</span>&nbsp;<span class="op" id="6676216">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676221">t</span><span class="op" id="6676222">.</span><span class="ident" id="6676223">Errorf</span><span class="op" id="6676229">(</span><span class="string" id="6676230">&#34;int&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6676274">,</span>&nbsp;<span class="ident" id="6676276">signedResult</span><span class="op" id="6676288">,</span>&nbsp;<span class="ident" id="6676290">b</span><span class="op" id="6676291">.</span><span class="ident" id="6676292">Bytes</span><span class="op" id="6676297">(</span><span class="op" id="6676298">)</span><span class="op" id="6676299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6676310">//&nbsp;uint</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676323">b</span><span class="op" id="6676324">.</span><span class="ident" id="6676325">Reset</span><span class="op" id="6676330">(</span><span class="op" id="6676331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6676335">var</span>&nbsp;<span class="ident" id="6676339">data</span>&nbsp;<span class="builtintype" id="6676344">uint</span>&nbsp;<span class="op" id="6676349">=</span>&nbsp;<span class="num" id="6676351">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676356">instr</span>&nbsp;<span class="op" id="6676362">:=</span>&nbsp;<span class="op" id="6676365">&amp;</span><span class="ident" id="6676366">encInstr</span><span class="op" id="6676374">{</span><span class="ident" id="6676375">encUint</span><span class="op" id="6676382">,</span>&nbsp;<span class="num" id="6676384">6</span><span class="op" id="6676385">,</span>&nbsp;<span class="ident" id="6676387">nil</span><span class="op" id="6676390">,</span>&nbsp;<span class="num" id="6676392">0</span><span class="op" id="6676393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676397">state</span>&nbsp;<span class="op" id="6676403">:=</span>&nbsp;<span class="ident" id="6676406">newEncoderState</span><span class="op" id="6676421">(</span><span class="ident" id="6676422">b</span><span class="op" id="6676423">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676427">instr</span><span class="op" id="6676432">.</span><span class="ident" id="6676433">op</span><span class="op" id="6676435">(</span><span class="ident" id="6676436">instr</span><span class="op" id="6676441">,</span>&nbsp;<span class="ident" id="6676443">state</span><span class="op" id="6676448">,</span>&nbsp;<span class="ident" id="6676450">reflect</span><span class="op" id="6676457">.</span><span class="ident" id="6676458">ValueOf</span><span class="op" id="6676465">(</span><span class="ident" id="6676466">data</span><span class="op" id="6676470">)</span><span class="op" id="6676471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6676475">if</span>&nbsp;<span class="op" id="6676478">!</span><span class="ident" id="6676479">bytes</span><span class="op" id="6676484">.</span><span class="ident" id="6676485">Equal</span><span class="op" id="6676490">(</span><span class="ident" id="6676491">unsignedResult</span><span class="op" id="6676505">,</span>&nbsp;<span class="ident" id="6676507">b</span><span class="op" id="6676508">.</span><span class="ident" id="6676509">Bytes</span><span class="op" id="6676514">(</span><span class="op" id="6676515">)</span><span class="op" id="6676516">)</span>&nbsp;<span class="op" id="6676518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676523">t</span><span class="op" id="6676524">.</span><span class="ident" id="6676525">Errorf</span><span class="op" id="6676531">(</span><span class="string" id="6676532">&#34;uint&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6676577">,</span>&nbsp;<span class="ident" id="6676579">unsignedResult</span><span class="op" id="6676593">,</span>&nbsp;<span class="ident" id="6676595">b</span><span class="op" id="6676596">.</span><span class="ident" id="6676597">Bytes</span><span class="op" id="6676602">(</span><span class="op" id="6676603">)</span><span class="op" id="6676604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676611">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6676615">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676628">b</span><span class="op" id="6676629">.</span><span class="ident" id="6676630">Reset</span><span class="op" id="6676635">(</span><span class="op" id="6676636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6676640">var</span>&nbsp;<span class="ident" id="6676644">data</span>&nbsp;<span class="builtintype" id="6676649">int8</span>&nbsp;<span class="op" id="6676654">=</span>&nbsp;<span class="num" id="6676656">17</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676661">instr</span>&nbsp;<span class="op" id="6676667">:=</span>&nbsp;<span class="op" id="6676670">&amp;</span><span class="ident" id="6676671">encInstr</span><span class="op" id="6676679">{</span><span class="ident" id="6676680">encInt</span><span class="op" id="6676686">,</span>&nbsp;<span class="num" id="6676688">6</span><span class="op" id="6676689">,</span>&nbsp;<span class="ident" id="6676691">nil</span><span class="op" id="6676694">,</span>&nbsp;<span class="num" id="6676696">0</span><span class="op" id="6676697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676701">state</span>&nbsp;<span class="op" id="6676707">:=</span>&nbsp;<span class="ident" id="6676710">newEncoderState</span><span class="op" id="6676725">(</span><span class="ident" id="6676726">b</span><span class="op" id="6676727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676731">instr</span><span class="op" id="6676736">.</span><span class="ident" id="6676737">op</span><span class="op" id="6676739">(</span><span class="ident" id="6676740">instr</span><span class="op" id="6676745">,</span>&nbsp;<span class="ident" id="6676747">state</span><span class="op" id="6676752">,</span>&nbsp;<span class="ident" id="6676754">reflect</span><span class="op" id="6676761">.</span><span class="ident" id="6676762">ValueOf</span><span class="op" id="6676769">(</span><span class="ident" id="6676770">data</span><span class="op" id="6676774">)</span><span class="op" id="6676775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6676779">if</span>&nbsp;<span class="op" id="6676782">!</span><span class="ident" id="6676783">bytes</span><span class="op" id="6676788">.</span><span class="ident" id="6676789">Equal</span><span class="op" id="6676794">(</span><span class="ident" id="6676795">signedResult</span><span class="op" id="6676807">,</span>&nbsp;<span class="ident" id="6676809">b</span><span class="op" id="6676810">.</span><span class="ident" id="6676811">Bytes</span><span class="op" id="6676816">(</span><span class="op" id="6676817">)</span><span class="op" id="6676818">)</span>&nbsp;<span class="op" id="6676820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676825">t</span><span class="op" id="6676826">.</span><span class="ident" id="6676827">Errorf</span><span class="op" id="6676833">(</span><span class="string" id="6676834">&#34;int8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6676879">,</span>&nbsp;<span class="ident" id="6676881">signedResult</span><span class="op" id="6676893">,</span>&nbsp;<span class="ident" id="6676895">b</span><span class="op" id="6676896">.</span><span class="ident" id="6676897">Bytes</span><span class="op" id="6676902">(</span><span class="op" id="6676903">)</span><span class="op" id="6676904">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6676915">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6676925">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676929">b</span><span class="op" id="6676930">.</span><span class="ident" id="6676931">Reset</span><span class="op" id="6676936">(</span><span class="op" id="6676937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6676941">var</span>&nbsp;<span class="ident" id="6676945">data</span>&nbsp;<span class="builtintype" id="6676950">uint8</span>&nbsp;<span class="op" id="6676956">=</span>&nbsp;<span class="num" id="6676958">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6676963">instr</span>&nbsp;<span class="op" id="6676969">:=</span>&nbsp;<span class="op" id="6676972">&amp;</span><span class="ident" id="6676973">encInstr</span><span class="op" id="6676981">{</span><span class="ident" id="6676982">encUint</span><span class="op" id="6676989">,</span>&nbsp;<span class="num" id="6676991">6</span><span class="op" id="6676992">,</span>&nbsp;<span class="ident" id="6676994">nil</span><span class="op" id="6676997">,</span>&nbsp;<span class="num" id="6676999">0</span><span class="op" id="6677000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677004">state</span>&nbsp;<span class="op" id="6677010">:=</span>&nbsp;<span class="ident" id="6677013">newEncoderState</span><span class="op" id="6677028">(</span><span class="ident" id="6677029">b</span><span class="op" id="6677030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677034">instr</span><span class="op" id="6677039">.</span><span class="ident" id="6677040">op</span><span class="op" id="6677042">(</span><span class="ident" id="6677043">instr</span><span class="op" id="6677048">,</span>&nbsp;<span class="ident" id="6677050">state</span><span class="op" id="6677055">,</span>&nbsp;<span class="ident" id="6677057">reflect</span><span class="op" id="6677064">.</span><span class="ident" id="6677065">ValueOf</span><span class="op" id="6677072">(</span><span class="ident" id="6677073">data</span><span class="op" id="6677077">)</span><span class="op" id="6677078">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6677082">if</span>&nbsp;<span class="op" id="6677085">!</span><span class="ident" id="6677086">bytes</span><span class="op" id="6677091">.</span><span class="ident" id="6677092">Equal</span><span class="op" id="6677097">(</span><span class="ident" id="6677098">unsignedResult</span><span class="op" id="6677112">,</span>&nbsp;<span class="ident" id="6677114">b</span><span class="op" id="6677115">.</span><span class="ident" id="6677116">Bytes</span><span class="op" id="6677121">(</span><span class="op" id="6677122">)</span><span class="op" id="6677123">)</span>&nbsp;<span class="op" id="6677125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677130">t</span><span class="op" id="6677131">.</span><span class="ident" id="6677132">Errorf</span><span class="op" id="6677138">(</span><span class="string" id="6677139">&#34;uint8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6677185">,</span>&nbsp;<span class="ident" id="6677187">unsignedResult</span><span class="op" id="6677201">,</span>&nbsp;<span class="ident" id="6677203">b</span><span class="op" id="6677204">.</span><span class="ident" id="6677205">Bytes</span><span class="op" id="6677210">(</span><span class="op" id="6677211">)</span><span class="op" id="6677212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6677216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6677219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6677223">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6677233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677237">b</span><span class="op" id="6677238">.</span><span class="ident" id="6677239">Reset</span><span class="op" id="6677244">(</span><span class="op" id="6677245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6677249">var</span>&nbsp;<span class="ident" id="6677253">data</span>&nbsp;<span class="builtintype" id="6677258">int16</span>&nbsp;<span class="op" id="6677264">=</span>&nbsp;<span class="num" id="6677266">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677271">instr</span>&nbsp;<span class="op" id="6677277">:=</span>&nbsp;<span class="op" id="6677280">&amp;</span><span class="ident" id="6677281">encInstr</span><span class="op" id="6677289">{</span><span class="ident" id="6677290">encInt</span><span class="op" id="6677296">,</span>&nbsp;<span class="num" id="6677298">6</span><span class="op" id="6677299">,</span>&nbsp;<span class="ident" id="6677301">nil</span><span class="op" id="6677304">,</span>&nbsp;<span class="num" id="6677306">0</span><span class="op" id="6677307">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677311">state</span>&nbsp;<span class="op" id="6677317">:=</span>&nbsp;<span class="ident" id="6677320">newEncoderState</span><span class="op" id="6677335">(</span><span class="ident" id="6677336">b</span><span class="op" id="6677337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677341">instr</span><span class="op" id="6677346">.</span><span class="ident" id="6677347">op</span><span class="op" id="6677349">(</span><span class="ident" id="6677350">instr</span><span class="op" id="6677355">,</span>&nbsp;<span class="ident" id="6677357">state</span><span class="op" id="6677362">,</span>&nbsp;<span class="ident" id="6677364">reflect</span><span class="op" id="6677371">.</span><span class="ident" id="6677372">ValueOf</span><span class="op" id="6677379">(</span><span class="ident" id="6677380">data</span><span class="op" id="6677384">)</span><span class="op" id="6677385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6677389">if</span>&nbsp;<span class="op" id="6677392">!</span><span class="ident" id="6677393">bytes</span><span class="op" id="6677398">.</span><span class="ident" id="6677399">Equal</span><span class="op" id="6677404">(</span><span class="ident" id="6677405">signedResult</span><span class="op" id="6677417">,</span>&nbsp;<span class="ident" id="6677419">b</span><span class="op" id="6677420">.</span><span class="ident" id="6677421">Bytes</span><span class="op" id="6677426">(</span><span class="op" id="6677427">)</span><span class="op" id="6677428">)</span>&nbsp;<span class="op" id="6677430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677435">t</span><span class="op" id="6677436">.</span><span class="ident" id="6677437">Errorf</span><span class="op" id="6677443">(</span><span class="string" id="6677444">&#34;int16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6677490">,</span>&nbsp;<span class="ident" id="6677492">signedResult</span><span class="op" id="6677504">,</span>&nbsp;<span class="ident" id="6677506">b</span><span class="op" id="6677507">.</span><span class="ident" id="6677508">Bytes</span><span class="op" id="6677513">(</span><span class="op" id="6677514">)</span><span class="op" id="6677515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6677519">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6677522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6677526">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6677537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677541">b</span><span class="op" id="6677542">.</span><span class="ident" id="6677543">Reset</span><span class="op" id="6677548">(</span><span class="op" id="6677549">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6677553">var</span>&nbsp;<span class="ident" id="6677557">data</span>&nbsp;<span class="builtintype" id="6677562">uint16</span>&nbsp;<span class="op" id="6677569">=</span>&nbsp;<span class="num" id="6677571">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677576">instr</span>&nbsp;<span class="op" id="6677582">:=</span>&nbsp;<span class="op" id="6677585">&amp;</span><span class="ident" id="6677586">encInstr</span><span class="op" id="6677594">{</span><span class="ident" id="6677595">encUint</span><span class="op" id="6677602">,</span>&nbsp;<span class="num" id="6677604">6</span><span class="op" id="6677605">,</span>&nbsp;<span class="ident" id="6677607">nil</span><span class="op" id="6677610">,</span>&nbsp;<span class="num" id="6677612">0</span><span class="op" id="6677613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677617">state</span>&nbsp;<span class="op" id="6677623">:=</span>&nbsp;<span class="ident" id="6677626">newEncoderState</span><span class="op" id="6677641">(</span><span class="ident" id="6677642">b</span><span class="op" id="6677643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677647">instr</span><span class="op" id="6677652">.</span><span class="ident" id="6677653">op</span><span class="op" id="6677655">(</span><span class="ident" id="6677656">instr</span><span class="op" id="6677661">,</span>&nbsp;<span class="ident" id="6677663">state</span><span class="op" id="6677668">,</span>&nbsp;<span class="ident" id="6677670">reflect</span><span class="op" id="6677677">.</span><span class="ident" id="6677678">ValueOf</span><span class="op" id="6677685">(</span><span class="ident" id="6677686">data</span><span class="op" id="6677690">)</span><span class="op" id="6677691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6677695">if</span>&nbsp;<span class="op" id="6677698">!</span><span class="ident" id="6677699">bytes</span><span class="op" id="6677704">.</span><span class="ident" id="6677705">Equal</span><span class="op" id="6677710">(</span><span class="ident" id="6677711">unsignedResult</span><span class="op" id="6677725">,</span>&nbsp;<span class="ident" id="6677727">b</span><span class="op" id="6677728">.</span><span class="ident" id="6677729">Bytes</span><span class="op" id="6677734">(</span><span class="op" id="6677735">)</span><span class="op" id="6677736">)</span>&nbsp;<span class="op" id="6677738">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677743">t</span><span class="op" id="6677744">.</span><span class="ident" id="6677745">Errorf</span><span class="op" id="6677751">(</span><span class="string" id="6677752">&#34;uint16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6677799">,</span>&nbsp;<span class="ident" id="6677801">unsignedResult</span><span class="op" id="6677815">,</span>&nbsp;<span class="ident" id="6677817">b</span><span class="op" id="6677818">.</span><span class="ident" id="6677819">Bytes</span><span class="op" id="6677824">(</span><span class="op" id="6677825">)</span><span class="op" id="6677826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6677830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6677833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6677837">//&nbsp;int32</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6677847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677851">b</span><span class="op" id="6677852">.</span><span class="ident" id="6677853">Reset</span><span class="op" id="6677858">(</span><span class="op" id="6677859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6677863">var</span>&nbsp;<span class="ident" id="6677867">data</span>&nbsp;<span class="builtintype" id="6677872">int32</span>&nbsp;<span class="op" id="6677878">=</span>&nbsp;<span class="num" id="6677880">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677885">instr</span>&nbsp;<span class="op" id="6677891">:=</span>&nbsp;<span class="op" id="6677894">&amp;</span><span class="ident" id="6677895">encInstr</span><span class="op" id="6677903">{</span><span class="ident" id="6677904">encInt</span><span class="op" id="6677910">,</span>&nbsp;<span class="num" id="6677912">6</span><span class="op" id="6677913">,</span>&nbsp;<span class="ident" id="6677915">nil</span><span class="op" id="6677918">,</span>&nbsp;<span class="num" id="6677920">0</span><span class="op" id="6677921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677925">state</span>&nbsp;<span class="op" id="6677931">:=</span>&nbsp;<span class="ident" id="6677934">newEncoderState</span><span class="op" id="6677949">(</span><span class="ident" id="6677950">b</span><span class="op" id="6677951">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6677955">instr</span><span class="op" id="6677960">.</span><span class="ident" id="6677961">op</span><span class="op" id="6677963">(</span><span class="ident" id="6677964">instr</span><span class="op" id="6677969">,</span>&nbsp;<span class="ident" id="6677971">state</span><span class="op" id="6677976">,</span>&nbsp;<span class="ident" id="6677978">reflect</span><span class="op" id="6677985">.</span><span class="ident" id="6677986">ValueOf</span><span class="op" id="6677993">(</span><span class="ident" id="6677994">data</span><span class="op" id="6677998">)</span><span class="op" id="6677999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6678003">if</span>&nbsp;<span class="op" id="6678006">!</span><span class="ident" id="6678007">bytes</span><span class="op" id="6678012">.</span><span class="ident" id="6678013">Equal</span><span class="op" id="6678018">(</span><span class="ident" id="6678019">signedResult</span><span class="op" id="6678031">,</span>&nbsp;<span class="ident" id="6678033">b</span><span class="op" id="6678034">.</span><span class="ident" id="6678035">Bytes</span><span class="op" id="6678040">(</span><span class="op" id="6678041">)</span><span class="op" id="6678042">)</span>&nbsp;<span class="op" id="6678044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678049">t</span><span class="op" id="6678050">.</span><span class="ident" id="6678051">Errorf</span><span class="op" id="6678057">(</span><span class="string" id="6678058">&#34;int32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6678104">,</span>&nbsp;<span class="ident" id="6678106">signedResult</span><span class="op" id="6678118">,</span>&nbsp;<span class="ident" id="6678120">b</span><span class="op" id="6678121">.</span><span class="ident" id="6678122">Bytes</span><span class="op" id="6678127">(</span><span class="op" id="6678128">)</span><span class="op" id="6678129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6678133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6678136">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6678140">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6678151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678155">b</span><span class="op" id="6678156">.</span><span class="ident" id="6678157">Reset</span><span class="op" id="6678162">(</span><span class="op" id="6678163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6678167">var</span>&nbsp;<span class="ident" id="6678171">data</span>&nbsp;<span class="builtintype" id="6678176">uint32</span>&nbsp;<span class="op" id="6678183">=</span>&nbsp;<span class="num" id="6678185">17</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678190">instr</span>&nbsp;<span class="op" id="6678196">:=</span>&nbsp;<span class="op" id="6678199">&amp;</span><span class="ident" id="6678200">encInstr</span><span class="op" id="6678208">{</span><span class="ident" id="6678209">encUint</span><span class="op" id="6678216">,</span>&nbsp;<span class="num" id="6678218">6</span><span class="op" id="6678219">,</span>&nbsp;<span class="ident" id="6678221">nil</span><span class="op" id="6678224">,</span>&nbsp;<span class="num" id="6678226">0</span><span class="op" id="6678227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678231">state</span>&nbsp;<span class="op" id="6678237">:=</span>&nbsp;<span class="ident" id="6678240">newEncoderState</span><span class="op" id="6678255">(</span><span class="ident" id="6678256">b</span><span class="op" id="6678257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678261">instr</span><span class="op" id="6678266">.</span><span class="ident" id="6678267">op</span><span class="op" id="6678269">(</span><span class="ident" id="6678270">instr</span><span class="op" id="6678275">,</span>&nbsp;<span class="ident" id="6678277">state</span><span class="op" id="6678282">,</span>&nbsp;<span class="ident" id="6678284">reflect</span><span class="op" id="6678291">.</span><span class="ident" id="6678292">ValueOf</span><span class="op" id="6678299">(</span><span class="ident" id="6678300">data</span><span class="op" id="6678304">)</span><span class="op" id="6678305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6678309">if</span>&nbsp;<span class="op" id="6678312">!</span><span class="ident" id="6678313">bytes</span><span class="op" id="6678318">.</span><span class="ident" id="6678319">Equal</span><span class="op" id="6678324">(</span><span class="ident" id="6678325">unsignedResult</span><span class="op" id="6678339">,</span>&nbsp;<span class="ident" id="6678341">b</span><span class="op" id="6678342">.</span><span class="ident" id="6678343">Bytes</span><span class="op" id="6678348">(</span><span class="op" id="6678349">)</span><span class="op" id="6678350">)</span>&nbsp;<span class="op" id="6678352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678357">t</span><span class="op" id="6678358">.</span><span class="ident" id="6678359">Errorf</span><span class="op" id="6678365">(</span><span class="string" id="6678366">&#34;uint32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6678413">,</span>&nbsp;<span class="ident" id="6678415">unsignedResult</span><span class="op" id="6678429">,</span>&nbsp;<span class="ident" id="6678431">b</span><span class="op" id="6678432">.</span><span class="ident" id="6678433">Bytes</span><span class="op" id="6678438">(</span><span class="op" id="6678439">)</span><span class="op" id="6678440">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6678444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6678447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6678451">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6678461">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678465">b</span><span class="op" id="6678466">.</span><span class="ident" id="6678467">Reset</span><span class="op" id="6678472">(</span><span class="op" id="6678473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6678477">var</span>&nbsp;<span class="ident" id="6678481">data</span>&nbsp;<span class="ident" id="6678486">int64</span>&nbsp;<span class="op" id="6678492">=</span>&nbsp;<span class="num" id="6678494">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678499">instr</span>&nbsp;<span class="op" id="6678505">:=</span>&nbsp;<span class="op" id="6678508">&amp;</span><span class="ident" id="6678509">encInstr</span><span class="op" id="6678517">{</span><span class="ident" id="6678518">encInt</span><span class="op" id="6678524">,</span>&nbsp;<span class="num" id="6678526">6</span><span class="op" id="6678527">,</span>&nbsp;<span class="ident" id="6678529">nil</span><span class="op" id="6678532">,</span>&nbsp;<span class="num" id="6678534">0</span><span class="op" id="6678535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678539">state</span>&nbsp;<span class="op" id="6678545">:=</span>&nbsp;<span class="ident" id="6678548">newEncoderState</span><span class="op" id="6678563">(</span><span class="ident" id="6678564">b</span><span class="op" id="6678565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678569">instr</span><span class="op" id="6678574">.</span><span class="ident" id="6678575">op</span><span class="op" id="6678577">(</span><span class="ident" id="6678578">instr</span><span class="op" id="6678583">,</span>&nbsp;<span class="ident" id="6678585">state</span><span class="op" id="6678590">,</span>&nbsp;<span class="ident" id="6678592">reflect</span><span class="op" id="6678599">.</span><span class="ident" id="6678600">ValueOf</span><span class="op" id="6678607">(</span><span class="ident" id="6678608">data</span><span class="op" id="6678612">)</span><span class="op" id="6678613">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6678617">if</span>&nbsp;<span class="op" id="6678620">!</span><span class="ident" id="6678621">bytes</span><span class="op" id="6678626">.</span><span class="ident" id="6678627">Equal</span><span class="op" id="6678632">(</span><span class="ident" id="6678633">signedResult</span><span class="op" id="6678645">,</span>&nbsp;<span class="ident" id="6678647">b</span><span class="op" id="6678648">.</span><span class="ident" id="6678649">Bytes</span><span class="op" id="6678654">(</span><span class="op" id="6678655">)</span><span class="op" id="6678656">)</span>&nbsp;<span class="op" id="6678658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678663">t</span><span class="op" id="6678664">.</span><span class="ident" id="6678665">Errorf</span><span class="op" id="6678671">(</span><span class="string" id="6678672">&#34;int64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6678718">,</span>&nbsp;<span class="ident" id="6678720">signedResult</span><span class="op" id="6678732">,</span>&nbsp;<span class="ident" id="6678734">b</span><span class="op" id="6678735">.</span><span class="ident" id="6678736">Bytes</span><span class="op" id="6678741">(</span><span class="op" id="6678742">)</span><span class="op" id="6678743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6678747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6678750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6678754">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6678765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678769">b</span><span class="op" id="6678770">.</span><span class="ident" id="6678771">Reset</span><span class="op" id="6678776">(</span><span class="op" id="6678777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6678781">var</span>&nbsp;<span class="ident" id="6678785">data</span>&nbsp;<span class="ident" id="6678790">uint64</span>&nbsp;<span class="op" id="6678797">=</span>&nbsp;<span class="num" id="6678799">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678804">instr</span>&nbsp;<span class="op" id="6678810">:=</span>&nbsp;<span class="op" id="6678813">&amp;</span><span class="ident" id="6678814">encInstr</span><span class="op" id="6678822">{</span><span class="ident" id="6678823">encUint</span><span class="op" id="6678830">,</span>&nbsp;<span class="num" id="6678832">6</span><span class="op" id="6678833">,</span>&nbsp;<span class="ident" id="6678835">nil</span><span class="op" id="6678838">,</span>&nbsp;<span class="num" id="6678840">0</span><span class="op" id="6678841">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678845">state</span>&nbsp;<span class="op" id="6678851">:=</span>&nbsp;<span class="ident" id="6678854">newEncoderState</span><span class="op" id="6678869">(</span><span class="ident" id="6678870">b</span><span class="op" id="6678871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678875">instr</span><span class="op" id="6678880">.</span><span class="ident" id="6678881">op</span><span class="op" id="6678883">(</span><span class="ident" id="6678884">instr</span><span class="op" id="6678889">,</span>&nbsp;<span class="ident" id="6678891">state</span><span class="op" id="6678896">,</span>&nbsp;<span class="ident" id="6678898">reflect</span><span class="op" id="6678905">.</span><span class="ident" id="6678906">ValueOf</span><span class="op" id="6678913">(</span><span class="ident" id="6678914">data</span><span class="op" id="6678918">)</span><span class="op" id="6678919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6678923">if</span>&nbsp;<span class="op" id="6678926">!</span><span class="ident" id="6678927">bytes</span><span class="op" id="6678932">.</span><span class="ident" id="6678933">Equal</span><span class="op" id="6678938">(</span><span class="ident" id="6678939">unsignedResult</span><span class="op" id="6678953">,</span>&nbsp;<span class="ident" id="6678955">b</span><span class="op" id="6678956">.</span><span class="ident" id="6678957">Bytes</span><span class="op" id="6678962">(</span><span class="op" id="6678963">)</span><span class="op" id="6678964">)</span>&nbsp;<span class="op" id="6678966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678971">t</span><span class="op" id="6678972">.</span><span class="ident" id="6678973">Errorf</span><span class="op" id="6678979">(</span><span class="string" id="6678980">&#34;uint64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6679027">,</span>&nbsp;<span class="ident" id="6679029">unsignedResult</span><span class="op" id="6679043">,</span>&nbsp;<span class="ident" id="6679045">b</span><span class="op" id="6679046">.</span><span class="ident" id="6679047">Bytes</span><span class="op" id="6679052">(</span><span class="op" id="6679053">)</span><span class="op" id="6679054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679058">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6679065">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679081">b</span><span class="op" id="6679082">.</span><span class="ident" id="6679083">Reset</span><span class="op" id="6679088">(</span><span class="op" id="6679089">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6679093">var</span>&nbsp;<span class="ident" id="6679097">data</span>&nbsp;<span class="builtintype" id="6679102">float32</span>&nbsp;<span class="op" id="6679110">=</span>&nbsp;<span class="num" id="6679112">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679117">instr</span>&nbsp;<span class="op" id="6679123">:=</span>&nbsp;<span class="op" id="6679126">&amp;</span><span class="ident" id="6679127">encInstr</span><span class="op" id="6679135">{</span><span class="ident" id="6679136">encFloat</span><span class="op" id="6679144">,</span>&nbsp;<span class="num" id="6679146">6</span><span class="op" id="6679147">,</span>&nbsp;<span class="ident" id="6679149">nil</span><span class="op" id="6679152">,</span>&nbsp;<span class="num" id="6679154">0</span><span class="op" id="6679155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679159">state</span>&nbsp;<span class="op" id="6679165">:=</span>&nbsp;<span class="ident" id="6679168">newEncoderState</span><span class="op" id="6679183">(</span><span class="ident" id="6679184">b</span><span class="op" id="6679185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679189">instr</span><span class="op" id="6679194">.</span><span class="ident" id="6679195">op</span><span class="op" id="6679197">(</span><span class="ident" id="6679198">instr</span><span class="op" id="6679203">,</span>&nbsp;<span class="ident" id="6679205">state</span><span class="op" id="6679210">,</span>&nbsp;<span class="ident" id="6679212">reflect</span><span class="op" id="6679219">.</span><span class="ident" id="6679220">ValueOf</span><span class="op" id="6679227">(</span><span class="ident" id="6679228">data</span><span class="op" id="6679232">)</span><span class="op" id="6679233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6679237">if</span>&nbsp;<span class="op" id="6679240">!</span><span class="ident" id="6679241">bytes</span><span class="op" id="6679246">.</span><span class="ident" id="6679247">Equal</span><span class="op" id="6679252">(</span><span class="ident" id="6679253">floatResult</span><span class="op" id="6679264">,</span>&nbsp;<span class="ident" id="6679266">b</span><span class="op" id="6679267">.</span><span class="ident" id="6679268">Bytes</span><span class="op" id="6679273">(</span><span class="op" id="6679274">)</span><span class="op" id="6679275">)</span>&nbsp;<span class="op" id="6679277">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679282">t</span><span class="op" id="6679283">.</span><span class="ident" id="6679284">Errorf</span><span class="op" id="6679290">(</span><span class="string" id="6679291">&#34;float32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6679339">,</span>&nbsp;<span class="ident" id="6679341">floatResult</span><span class="op" id="6679352">,</span>&nbsp;<span class="ident" id="6679354">b</span><span class="op" id="6679355">.</span><span class="ident" id="6679356">Bytes</span><span class="op" id="6679361">(</span><span class="op" id="6679362">)</span><span class="op" id="6679363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6679374">//&nbsp;float64</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679390">b</span><span class="op" id="6679391">.</span><span class="ident" id="6679392">Reset</span><span class="op" id="6679397">(</span><span class="op" id="6679398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6679402">var</span>&nbsp;<span class="ident" id="6679406">data</span>&nbsp;<span class="builtintype" id="6679411">float64</span>&nbsp;<span class="op" id="6679419">=</span>&nbsp;<span class="num" id="6679421">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679426">instr</span>&nbsp;<span class="op" id="6679432">:=</span>&nbsp;<span class="op" id="6679435">&amp;</span><span class="ident" id="6679436">encInstr</span><span class="op" id="6679444">{</span><span class="ident" id="6679445">encFloat</span><span class="op" id="6679453">,</span>&nbsp;<span class="num" id="6679455">6</span><span class="op" id="6679456">,</span>&nbsp;<span class="ident" id="6679458">nil</span><span class="op" id="6679461">,</span>&nbsp;<span class="num" id="6679463">0</span><span class="op" id="6679464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679468">state</span>&nbsp;<span class="op" id="6679474">:=</span>&nbsp;<span class="ident" id="6679477">newEncoderState</span><span class="op" id="6679492">(</span><span class="ident" id="6679493">b</span><span class="op" id="6679494">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679498">instr</span><span class="op" id="6679503">.</span><span class="ident" id="6679504">op</span><span class="op" id="6679506">(</span><span class="ident" id="6679507">instr</span><span class="op" id="6679512">,</span>&nbsp;<span class="ident" id="6679514">state</span><span class="op" id="6679519">,</span>&nbsp;<span class="ident" id="6679521">reflect</span><span class="op" id="6679528">.</span><span class="ident" id="6679529">ValueOf</span><span class="op" id="6679536">(</span><span class="ident" id="6679537">data</span><span class="op" id="6679541">)</span><span class="op" id="6679542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6679546">if</span>&nbsp;<span class="op" id="6679549">!</span><span class="ident" id="6679550">bytes</span><span class="op" id="6679555">.</span><span class="ident" id="6679556">Equal</span><span class="op" id="6679561">(</span><span class="ident" id="6679562">floatResult</span><span class="op" id="6679573">,</span>&nbsp;<span class="ident" id="6679575">b</span><span class="op" id="6679576">.</span><span class="ident" id="6679577">Bytes</span><span class="op" id="6679582">(</span><span class="op" id="6679583">)</span><span class="op" id="6679584">)</span>&nbsp;<span class="op" id="6679586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679591">t</span><span class="op" id="6679592">.</span><span class="ident" id="6679593">Errorf</span><span class="op" id="6679599">(</span><span class="string" id="6679600">&#34;float64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6679648">,</span>&nbsp;<span class="ident" id="6679650">floatResult</span><span class="op" id="6679661">,</span>&nbsp;<span class="ident" id="6679663">b</span><span class="op" id="6679664">.</span><span class="ident" id="6679665">Bytes</span><span class="op" id="6679670">(</span><span class="op" id="6679671">)</span><span class="op" id="6679672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679679">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6679683">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679708">b</span><span class="op" id="6679709">.</span><span class="ident" id="6679710">Reset</span><span class="op" id="6679715">(</span><span class="op" id="6679716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679720">data</span>&nbsp;<span class="op" id="6679725">:=</span>&nbsp;<span class="op" id="6679728">[</span><span class="op" id="6679729">]</span><span class="builtintype" id="6679730">byte</span><span class="op" id="6679734">(</span><span class="string" id="6679735">&#34;hello&#34;</span><span class="op" id="6679742">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679746">instr</span>&nbsp;<span class="op" id="6679752">:=</span>&nbsp;<span class="op" id="6679755">&amp;</span><span class="ident" id="6679756">encInstr</span><span class="op" id="6679764">{</span><span class="ident" id="6679765">encUint8Array</span><span class="op" id="6679778">,</span>&nbsp;<span class="num" id="6679780">6</span><span class="op" id="6679781">,</span>&nbsp;<span class="ident" id="6679783">nil</span><span class="op" id="6679786">,</span>&nbsp;<span class="num" id="6679788">0</span><span class="op" id="6679789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679793">state</span>&nbsp;<span class="op" id="6679799">:=</span>&nbsp;<span class="ident" id="6679802">newEncoderState</span><span class="op" id="6679817">(</span><span class="ident" id="6679818">b</span><span class="op" id="6679819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679823">instr</span><span class="op" id="6679828">.</span><span class="ident" id="6679829">op</span><span class="op" id="6679831">(</span><span class="ident" id="6679832">instr</span><span class="op" id="6679837">,</span>&nbsp;<span class="ident" id="6679839">state</span><span class="op" id="6679844">,</span>&nbsp;<span class="ident" id="6679846">reflect</span><span class="op" id="6679853">.</span><span class="ident" id="6679854">ValueOf</span><span class="op" id="6679861">(</span><span class="ident" id="6679862">data</span><span class="op" id="6679866">)</span><span class="op" id="6679867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6679871">if</span>&nbsp;<span class="op" id="6679874">!</span><span class="ident" id="6679875">bytes</span><span class="op" id="6679880">.</span><span class="ident" id="6679881">Equal</span><span class="op" id="6679886">(</span><span class="ident" id="6679887">bytesResult</span><span class="op" id="6679898">,</span>&nbsp;<span class="ident" id="6679900">b</span><span class="op" id="6679901">.</span><span class="ident" id="6679902">Bytes</span><span class="op" id="6679907">(</span><span class="op" id="6679908">)</span><span class="op" id="6679909">)</span>&nbsp;<span class="op" id="6679911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679916">t</span><span class="op" id="6679917">.</span><span class="ident" id="6679918">Errorf</span><span class="op" id="6679924">(</span><span class="string" id="6679925">&#34;bytes&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6679971">,</span>&nbsp;<span class="ident" id="6679973">bytesResult</span><span class="op" id="6679984">,</span>&nbsp;<span class="ident" id="6679986">b</span><span class="op" id="6679987">.</span><span class="ident" id="6679988">Bytes</span><span class="op" id="6679993">(</span><span class="op" id="6679994">)</span><span class="op" id="6679995">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6680002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6680006">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6680017">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680021">b</span><span class="op" id="6680022">.</span><span class="ident" id="6680023">Reset</span><span class="op" id="6680028">(</span><span class="op" id="6680029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6680033">var</span>&nbsp;<span class="ident" id="6680037">data</span>&nbsp;<span class="builtintype" id="6680042">string</span>&nbsp;<span class="op" id="6680049">=</span>&nbsp;<span class="string" id="6680051">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680061">instr</span>&nbsp;<span class="op" id="6680067">:=</span>&nbsp;<span class="op" id="6680070">&amp;</span><span class="ident" id="6680071">encInstr</span><span class="op" id="6680079">{</span><span class="ident" id="6680080">encString</span><span class="op" id="6680089">,</span>&nbsp;<span class="num" id="6680091">6</span><span class="op" id="6680092">,</span>&nbsp;<span class="ident" id="6680094">nil</span><span class="op" id="6680097">,</span>&nbsp;<span class="num" id="6680099">0</span><span class="op" id="6680100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680104">state</span>&nbsp;<span class="op" id="6680110">:=</span>&nbsp;<span class="ident" id="6680113">newEncoderState</span><span class="op" id="6680128">(</span><span class="ident" id="6680129">b</span><span class="op" id="6680130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680134">instr</span><span class="op" id="6680139">.</span><span class="ident" id="6680140">op</span><span class="op" id="6680142">(</span><span class="ident" id="6680143">instr</span><span class="op" id="6680148">,</span>&nbsp;<span class="ident" id="6680150">state</span><span class="op" id="6680155">,</span>&nbsp;<span class="ident" id="6680157">reflect</span><span class="op" id="6680164">.</span><span class="ident" id="6680165">ValueOf</span><span class="op" id="6680172">(</span><span class="ident" id="6680173">data</span><span class="op" id="6680177">)</span><span class="op" id="6680178">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6680182">if</span>&nbsp;<span class="op" id="6680185">!</span><span class="ident" id="6680186">bytes</span><span class="op" id="6680191">.</span><span class="ident" id="6680192">Equal</span><span class="op" id="6680197">(</span><span class="ident" id="6680198">bytesResult</span><span class="op" id="6680209">,</span>&nbsp;<span class="ident" id="6680211">b</span><span class="op" id="6680212">.</span><span class="ident" id="6680213">Bytes</span><span class="op" id="6680218">(</span><span class="op" id="6680219">)</span><span class="op" id="6680220">)</span>&nbsp;<span class="op" id="6680222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680227">t</span><span class="op" id="6680228">.</span><span class="ident" id="6680229">Errorf</span><span class="op" id="6680235">(</span><span class="string" id="6680236">&#34;string&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="6680283">,</span>&nbsp;<span class="ident" id="6680285">bytesResult</span><span class="op" id="6680296">,</span>&nbsp;<span class="ident" id="6680298">b</span><span class="op" id="6680299">.</span><span class="ident" id="6680300">Bytes</span><span class="op" id="6680305">(</span><span class="op" id="6680306">)</span><span class="op" id="6680307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6680311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6680314">}</span><br>
<span class="lineno"></span><span class="op" id="6680316">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="6680319">func</span>&nbsp;<span class="ident" id="6680324">execDec</span><span class="op" id="6680331">(</span><span class="ident" id="6680332">typ</span>&nbsp;<span class="builtintype" id="6680336">string</span><span class="op" id="6680342">,</span>&nbsp;<span class="ident" id="6680344">instr</span>&nbsp;<span class="op" id="6680350">*</span><span class="ident" id="6680351">decInstr</span><span class="op" id="6680359">,</span>&nbsp;<span class="ident" id="6680361">state</span>&nbsp;<span class="op" id="6680367">*</span><span class="ident" id="6680368">decoderState</span><span class="op" id="6680380">,</span>&nbsp;<span class="ident" id="6680382">t</span>&nbsp;<span class="op" id="6680384">*</span><span class="ident" id="6680385">testing</span><span class="op" id="6680392">.</span><span class="ident" id="6680393">T</span><span class="op" id="6680394">,</span>&nbsp;<span class="ident" id="6680396">value</span>&nbsp;<span class="ident" id="6680402">reflect</span><span class="op" id="6680409">.</span><span class="ident" id="6680410">Value</span><span class="op" id="6680415">)</span>&nbsp;<span class="op" id="6680417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6680420">defer</span>&nbsp;<span class="ident" id="6680426">testError</span><span class="op" id="6680435">(</span><span class="ident" id="6680436">t</span><span class="op" id="6680437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680440">v</span>&nbsp;<span class="op" id="6680442">:=</span>&nbsp;<span class="builtintype" id="6680445">int</span><span class="op" id="6680448">(</span><span class="ident" id="6680449">state</span><span class="op" id="6680454">.</span><span class="ident" id="6680455">decodeUint</span><span class="op" id="6680465">(</span><span class="op" id="6680466">)</span><span class="op" id="6680467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6680470">if</span>&nbsp;<span class="ident" id="6680473">v</span><span class="op" id="6680474">+</span><span class="ident" id="6680475">state</span><span class="op" id="6680480">.</span><span class="ident" id="6680481">fieldnum</span>&nbsp;<span class="op" id="6680490">!=</span>&nbsp;<span class="num" id="6680493">6</span>&nbsp;<span class="op" id="6680495">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680499">t</span><span class="op" id="6680500">.</span><span class="ident" id="6680501">Fatalf</span><span class="op" id="6680507">(</span><span class="string" id="6680508">&#34;decoding&nbsp;field&nbsp;number&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="6680542">,</span>&nbsp;<span class="num" id="6680544">6</span><span class="op" id="6680545">,</span>&nbsp;<span class="ident" id="6680547">v</span><span class="op" id="6680548">+</span><span class="ident" id="6680549">state</span><span class="op" id="6680554">.</span><span class="ident" id="6680555">fieldnum</span><span class="op" id="6680563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6680566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680569">instr</span><span class="op" id="6680574">.</span><span class="ident" id="6680575">op</span><span class="op" id="6680577">(</span><span class="ident" id="6680578">instr</span><span class="op" id="6680583">,</span>&nbsp;<span class="ident" id="6680585">state</span><span class="op" id="6680590">,</span>&nbsp;<span class="ident" id="6680592">value</span><span class="op" id="6680597">.</span><span class="ident" id="6680598">Elem</span><span class="op" id="6680602">(</span><span class="op" id="6680603">)</span><span class="op" id="6680604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680607">state</span><span class="op" id="6680612">.</span><span class="ident" id="6680613">fieldnum</span>&nbsp;<span class="op" id="6680622">=</span>&nbsp;<span class="num" id="6680624">6</span><br>
<span class="lineno"></span><span class="op" id="6680626">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="6680629">func</span>&nbsp;<span class="ident" id="6680634">newDecodeStateFromData</span><span class="op" id="6680656">(</span><span class="ident" id="6680657">data</span>&nbsp;<span class="op" id="6680662">[</span><span class="op" id="6680663">]</span><span class="builtintype" id="6680664">byte</span><span class="op" id="6680668">)</span>&nbsp;<span class="op" id="6680670">*</span><span class="ident" id="6680671">decoderState</span>&nbsp;<span class="op" id="6680684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680687">b</span>&nbsp;<span class="op" id="6680689">:=</span>&nbsp;<span class="ident" id="6680692">newDecBuffer</span><span class="op" id="6680704">(</span><span class="ident" id="6680705">data</span><span class="op" id="6680709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680712">state</span>&nbsp;<span class="op" id="6680718">:=</span>&nbsp;<span class="ident" id="6680721">newDecodeState</span><span class="op" id="6680735">(</span><span class="ident" id="6680736">b</span><span class="op" id="6680737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680740">state</span><span class="op" id="6680745">.</span><span class="ident" id="6680746">fieldnum</span>&nbsp;<span class="op" id="6680755">=</span>&nbsp;<span class="op" id="6680757">-</span><span class="num" id="6680758">1</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6680761">return</span>&nbsp;<span class="ident" id="6680768">state</span><br>
<span class="lineno"></span><span class="op" id="6680774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6680777">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="comment" id="6680821">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno">345</span><span class="keyword" id="6680904">func</span>&nbsp;<span class="ident" id="6680909">TestScalarDecInstructions</span><span class="op" id="6680934">(</span><span class="ident" id="6680935">t</span>&nbsp;<span class="op" id="6680937">*</span><span class="ident" id="6680938">testing</span><span class="op" id="6680945">.</span><span class="ident" id="6680946">T</span><span class="op" id="6680947">)</span>&nbsp;<span class="op" id="6680949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6680952">ovfl</span>&nbsp;<span class="op" id="6680957">:=</span>&nbsp;<span class="ident" id="6680960">errors</span><span class="op" id="6680966">.</span><span class="ident" id="6680967">New</span><span class="op" id="6680970">(</span><span class="string" id="6680971">&#34;overflow&#34;</span><span class="op" id="6680981">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6680985">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6680994">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6680998">var</span>&nbsp;<span class="ident" id="6681002">data</span>&nbsp;<span class="builtintype" id="6681007">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681014">instr</span>&nbsp;<span class="op" id="6681020">:=</span>&nbsp;<span class="op" id="6681023">&amp;</span><span class="ident" id="6681024">decInstr</span><span class="op" id="6681032">{</span><span class="ident" id="6681033">decBool</span><span class="op" id="6681040">,</span>&nbsp;<span class="num" id="6681042">6</span><span class="op" id="6681043">,</span>&nbsp;<span class="ident" id="6681045">nil</span><span class="op" id="6681048">,</span>&nbsp;<span class="ident" id="6681050">ovfl</span><span class="op" id="6681054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681058">state</span>&nbsp;<span class="op" id="6681064">:=</span>&nbsp;<span class="ident" id="6681067">newDecodeStateFromData</span><span class="op" id="6681089">(</span><span class="ident" id="6681090">boolResult</span><span class="op" id="6681100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681104">execDec</span><span class="op" id="6681111">(</span><span class="string" id="6681112">&#34;bool&#34;</span><span class="op" id="6681118">,</span>&nbsp;<span class="ident" id="6681120">instr</span><span class="op" id="6681125">,</span>&nbsp;<span class="ident" id="6681127">state</span><span class="op" id="6681132">,</span>&nbsp;<span class="ident" id="6681134">t</span><span class="op" id="6681135">,</span>&nbsp;<span class="ident" id="6681137">reflect</span><span class="op" id="6681144">.</span><span class="ident" id="6681145">ValueOf</span><span class="op" id="6681152">(</span><span class="op" id="6681153">&amp;</span><span class="ident" id="6681154">data</span><span class="op" id="6681158">)</span><span class="op" id="6681159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6681163">if</span>&nbsp;<span class="ident" id="6681166">data</span>&nbsp;<span class="op" id="6681171">!=</span>&nbsp;<span class="builtintype" id="6681174">true</span>&nbsp;<span class="op" id="6681179">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681184">t</span><span class="op" id="6681185">.</span><span class="ident" id="6681186">Errorf</span><span class="op" id="6681192">(</span><span class="string" id="6681193">&#34;bool&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;true&#34;</span><span class="op" id="6681215">,</span>&nbsp;<span class="ident" id="6681217">data</span><span class="op" id="6681221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6681231">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681239">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6681243">var</span>&nbsp;<span class="ident" id="6681247">data</span>&nbsp;<span class="builtintype" id="6681252">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681258">instr</span>&nbsp;<span class="op" id="6681264">:=</span>&nbsp;<span class="op" id="6681267">&amp;</span><span class="ident" id="6681268">decInstr</span><span class="op" id="6681276">{</span><span class="ident" id="6681277">decOpTable</span><span class="op" id="6681287">[</span><span class="ident" id="6681288">reflect</span><span class="op" id="6681295">.</span><span class="ident" id="6681296">Int</span><span class="op" id="6681299">]</span><span class="op" id="6681300">,</span>&nbsp;<span class="num" id="6681302">6</span><span class="op" id="6681303">,</span>&nbsp;<span class="ident" id="6681305">nil</span><span class="op" id="6681308">,</span>&nbsp;<span class="ident" id="6681310">ovfl</span><span class="op" id="6681314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681318">state</span>&nbsp;<span class="op" id="6681324">:=</span>&nbsp;<span class="ident" id="6681327">newDecodeStateFromData</span><span class="op" id="6681349">(</span><span class="ident" id="6681350">signedResult</span><span class="op" id="6681362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681366">execDec</span><span class="op" id="6681373">(</span><span class="string" id="6681374">&#34;int&#34;</span><span class="op" id="6681379">,</span>&nbsp;<span class="ident" id="6681381">instr</span><span class="op" id="6681386">,</span>&nbsp;<span class="ident" id="6681388">state</span><span class="op" id="6681393">,</span>&nbsp;<span class="ident" id="6681395">t</span><span class="op" id="6681396">,</span>&nbsp;<span class="ident" id="6681398">reflect</span><span class="op" id="6681405">.</span><span class="ident" id="6681406">ValueOf</span><span class="op" id="6681413">(</span><span class="op" id="6681414">&amp;</span><span class="ident" id="6681415">data</span><span class="op" id="6681419">)</span><span class="op" id="6681420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6681424">if</span>&nbsp;<span class="ident" id="6681427">data</span>&nbsp;<span class="op" id="6681432">!=</span>&nbsp;<span class="num" id="6681435">17</span>&nbsp;<span class="op" id="6681438">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681443">t</span><span class="op" id="6681444">.</span><span class="ident" id="6681445">Errorf</span><span class="op" id="6681451">(</span><span class="string" id="6681452">&#34;int&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6681471">,</span>&nbsp;<span class="ident" id="6681473">data</span><span class="op" id="6681477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6681488">//&nbsp;uint</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6681501">var</span>&nbsp;<span class="ident" id="6681505">data</span>&nbsp;<span class="builtintype" id="6681510">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681517">instr</span>&nbsp;<span class="op" id="6681523">:=</span>&nbsp;<span class="op" id="6681526">&amp;</span><span class="ident" id="6681527">decInstr</span><span class="op" id="6681535">{</span><span class="ident" id="6681536">decOpTable</span><span class="op" id="6681546">[</span><span class="ident" id="6681547">reflect</span><span class="op" id="6681554">.</span><span class="ident" id="6681555">Uint</span><span class="op" id="6681559">]</span><span class="op" id="6681560">,</span>&nbsp;<span class="num" id="6681562">6</span><span class="op" id="6681563">,</span>&nbsp;<span class="ident" id="6681565">nil</span><span class="op" id="6681568">,</span>&nbsp;<span class="ident" id="6681570">ovfl</span><span class="op" id="6681574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681578">state</span>&nbsp;<span class="op" id="6681584">:=</span>&nbsp;<span class="ident" id="6681587">newDecodeStateFromData</span><span class="op" id="6681609">(</span><span class="ident" id="6681610">unsignedResult</span><span class="op" id="6681624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681628">execDec</span><span class="op" id="6681635">(</span><span class="string" id="6681636">&#34;uint&#34;</span><span class="op" id="6681642">,</span>&nbsp;<span class="ident" id="6681644">instr</span><span class="op" id="6681649">,</span>&nbsp;<span class="ident" id="6681651">state</span><span class="op" id="6681656">,</span>&nbsp;<span class="ident" id="6681658">t</span><span class="op" id="6681659">,</span>&nbsp;<span class="ident" id="6681661">reflect</span><span class="op" id="6681668">.</span><span class="ident" id="6681669">ValueOf</span><span class="op" id="6681676">(</span><span class="op" id="6681677">&amp;</span><span class="ident" id="6681678">data</span><span class="op" id="6681682">)</span><span class="op" id="6681683">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6681687">if</span>&nbsp;<span class="ident" id="6681690">data</span>&nbsp;<span class="op" id="6681695">!=</span>&nbsp;<span class="num" id="6681698">17</span>&nbsp;<span class="op" id="6681701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681706">t</span><span class="op" id="6681707">.</span><span class="ident" id="6681708">Errorf</span><span class="op" id="6681714">(</span><span class="string" id="6681715">&#34;uint&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6681735">,</span>&nbsp;<span class="ident" id="6681737">data</span><span class="op" id="6681741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6681752">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6681765">var</span>&nbsp;<span class="ident" id="6681769">data</span>&nbsp;<span class="builtintype" id="6681774">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681781">instr</span>&nbsp;<span class="op" id="6681787">:=</span>&nbsp;<span class="op" id="6681790">&amp;</span><span class="ident" id="6681791">decInstr</span><span class="op" id="6681799">{</span><span class="ident" id="6681800">decInt8</span><span class="op" id="6681807">,</span>&nbsp;<span class="num" id="6681809">6</span><span class="op" id="6681810">,</span>&nbsp;<span class="ident" id="6681812">nil</span><span class="op" id="6681815">,</span>&nbsp;<span class="ident" id="6681817">ovfl</span><span class="op" id="6681821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681825">state</span>&nbsp;<span class="op" id="6681831">:=</span>&nbsp;<span class="ident" id="6681834">newDecodeStateFromData</span><span class="op" id="6681856">(</span><span class="ident" id="6681857">signedResult</span><span class="op" id="6681869">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681873">execDec</span><span class="op" id="6681880">(</span><span class="string" id="6681881">&#34;int8&#34;</span><span class="op" id="6681887">,</span>&nbsp;<span class="ident" id="6681889">instr</span><span class="op" id="6681894">,</span>&nbsp;<span class="ident" id="6681896">state</span><span class="op" id="6681901">,</span>&nbsp;<span class="ident" id="6681903">t</span><span class="op" id="6681904">,</span>&nbsp;<span class="ident" id="6681906">reflect</span><span class="op" id="6681913">.</span><span class="ident" id="6681914">ValueOf</span><span class="op" id="6681921">(</span><span class="op" id="6681922">&amp;</span><span class="ident" id="6681923">data</span><span class="op" id="6681927">)</span><span class="op" id="6681928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6681932">if</span>&nbsp;<span class="ident" id="6681935">data</span>&nbsp;<span class="op" id="6681940">!=</span>&nbsp;<span class="num" id="6681943">17</span>&nbsp;<span class="op" id="6681946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6681951">t</span><span class="op" id="6681952">.</span><span class="ident" id="6681953">Errorf</span><span class="op" id="6681959">(</span><span class="string" id="6681960">&#34;int8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6681980">,</span>&nbsp;<span class="ident" id="6681982">data</span><span class="op" id="6681986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6681993">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6681997">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6682011">var</span>&nbsp;<span class="ident" id="6682015">data</span>&nbsp;<span class="builtintype" id="6682020">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682028">instr</span>&nbsp;<span class="op" id="6682034">:=</span>&nbsp;<span class="op" id="6682037">&amp;</span><span class="ident" id="6682038">decInstr</span><span class="op" id="6682046">{</span><span class="ident" id="6682047">decUint8</span><span class="op" id="6682055">,</span>&nbsp;<span class="num" id="6682057">6</span><span class="op" id="6682058">,</span>&nbsp;<span class="ident" id="6682060">nil</span><span class="op" id="6682063">,</span>&nbsp;<span class="ident" id="6682065">ovfl</span><span class="op" id="6682069">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682073">state</span>&nbsp;<span class="op" id="6682079">:=</span>&nbsp;<span class="ident" id="6682082">newDecodeStateFromData</span><span class="op" id="6682104">(</span><span class="ident" id="6682105">unsignedResult</span><span class="op" id="6682119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682123">execDec</span><span class="op" id="6682130">(</span><span class="string" id="6682131">&#34;uint8&#34;</span><span class="op" id="6682138">,</span>&nbsp;<span class="ident" id="6682140">instr</span><span class="op" id="6682145">,</span>&nbsp;<span class="ident" id="6682147">state</span><span class="op" id="6682152">,</span>&nbsp;<span class="ident" id="6682154">t</span><span class="op" id="6682155">,</span>&nbsp;<span class="ident" id="6682157">reflect</span><span class="op" id="6682164">.</span><span class="ident" id="6682165">ValueOf</span><span class="op" id="6682172">(</span><span class="op" id="6682173">&amp;</span><span class="ident" id="6682174">data</span><span class="op" id="6682178">)</span><span class="op" id="6682179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6682183">if</span>&nbsp;<span class="ident" id="6682186">data</span>&nbsp;<span class="op" id="6682191">!=</span>&nbsp;<span class="num" id="6682194">17</span>&nbsp;<span class="op" id="6682197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682202">t</span><span class="op" id="6682203">.</span><span class="ident" id="6682204">Errorf</span><span class="op" id="6682210">(</span><span class="string" id="6682211">&#34;uint8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6682232">,</span>&nbsp;<span class="ident" id="6682234">data</span><span class="op" id="6682238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682242">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6682249">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6682263">var</span>&nbsp;<span class="ident" id="6682267">data</span>&nbsp;<span class="builtintype" id="6682272">int16</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682280">instr</span>&nbsp;<span class="op" id="6682286">:=</span>&nbsp;<span class="op" id="6682289">&amp;</span><span class="ident" id="6682290">decInstr</span><span class="op" id="6682298">{</span><span class="ident" id="6682299">decInt16</span><span class="op" id="6682307">,</span>&nbsp;<span class="num" id="6682309">6</span><span class="op" id="6682310">,</span>&nbsp;<span class="ident" id="6682312">nil</span><span class="op" id="6682315">,</span>&nbsp;<span class="ident" id="6682317">ovfl</span><span class="op" id="6682321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682325">state</span>&nbsp;<span class="op" id="6682331">:=</span>&nbsp;<span class="ident" id="6682334">newDecodeStateFromData</span><span class="op" id="6682356">(</span><span class="ident" id="6682357">signedResult</span><span class="op" id="6682369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682373">execDec</span><span class="op" id="6682380">(</span><span class="string" id="6682381">&#34;int16&#34;</span><span class="op" id="6682388">,</span>&nbsp;<span class="ident" id="6682390">instr</span><span class="op" id="6682395">,</span>&nbsp;<span class="ident" id="6682397">state</span><span class="op" id="6682402">,</span>&nbsp;<span class="ident" id="6682404">t</span><span class="op" id="6682405">,</span>&nbsp;<span class="ident" id="6682407">reflect</span><span class="op" id="6682414">.</span><span class="ident" id="6682415">ValueOf</span><span class="op" id="6682422">(</span><span class="op" id="6682423">&amp;</span><span class="ident" id="6682424">data</span><span class="op" id="6682428">)</span><span class="op" id="6682429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6682433">if</span>&nbsp;<span class="ident" id="6682436">data</span>&nbsp;<span class="op" id="6682441">!=</span>&nbsp;<span class="num" id="6682444">17</span>&nbsp;<span class="op" id="6682447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682452">t</span><span class="op" id="6682453">.</span><span class="ident" id="6682454">Errorf</span><span class="op" id="6682460">(</span><span class="string" id="6682461">&#34;int16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6682482">,</span>&nbsp;<span class="ident" id="6682484">data</span><span class="op" id="6682488">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6682499">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682510">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6682514">var</span>&nbsp;<span class="ident" id="6682518">data</span>&nbsp;<span class="builtintype" id="6682523">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682532">instr</span>&nbsp;<span class="op" id="6682538">:=</span>&nbsp;<span class="op" id="6682541">&amp;</span><span class="ident" id="6682542">decInstr</span><span class="op" id="6682550">{</span><span class="ident" id="6682551">decUint16</span><span class="op" id="6682560">,</span>&nbsp;<span class="num" id="6682562">6</span><span class="op" id="6682563">,</span>&nbsp;<span class="ident" id="6682565">nil</span><span class="op" id="6682568">,</span>&nbsp;<span class="ident" id="6682570">ovfl</span><span class="op" id="6682574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682578">state</span>&nbsp;<span class="op" id="6682584">:=</span>&nbsp;<span class="ident" id="6682587">newDecodeStateFromData</span><span class="op" id="6682609">(</span><span class="ident" id="6682610">unsignedResult</span><span class="op" id="6682624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682628">execDec</span><span class="op" id="6682635">(</span><span class="string" id="6682636">&#34;uint16&#34;</span><span class="op" id="6682644">,</span>&nbsp;<span class="ident" id="6682646">instr</span><span class="op" id="6682651">,</span>&nbsp;<span class="ident" id="6682653">state</span><span class="op" id="6682658">,</span>&nbsp;<span class="ident" id="6682660">t</span><span class="op" id="6682661">,</span>&nbsp;<span class="ident" id="6682663">reflect</span><span class="op" id="6682670">.</span><span class="ident" id="6682671">ValueOf</span><span class="op" id="6682678">(</span><span class="op" id="6682679">&amp;</span><span class="ident" id="6682680">data</span><span class="op" id="6682684">)</span><span class="op" id="6682685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6682689">if</span>&nbsp;<span class="ident" id="6682692">data</span>&nbsp;<span class="op" id="6682697">!=</span>&nbsp;<span class="num" id="6682700">17</span>&nbsp;<span class="op" id="6682703">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682708">t</span><span class="op" id="6682709">.</span><span class="ident" id="6682710">Errorf</span><span class="op" id="6682716">(</span><span class="string" id="6682717">&#34;uint16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6682739">,</span>&nbsp;<span class="ident" id="6682741">data</span><span class="op" id="6682745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6682756">//&nbsp;int32</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6682770">var</span>&nbsp;<span class="ident" id="6682774">data</span>&nbsp;<span class="builtintype" id="6682779">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682787">instr</span>&nbsp;<span class="op" id="6682793">:=</span>&nbsp;<span class="op" id="6682796">&amp;</span><span class="ident" id="6682797">decInstr</span><span class="op" id="6682805">{</span><span class="ident" id="6682806">decInt32</span><span class="op" id="6682814">,</span>&nbsp;<span class="num" id="6682816">6</span><span class="op" id="6682817">,</span>&nbsp;<span class="ident" id="6682819">nil</span><span class="op" id="6682822">,</span>&nbsp;<span class="ident" id="6682824">ovfl</span><span class="op" id="6682828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682832">state</span>&nbsp;<span class="op" id="6682838">:=</span>&nbsp;<span class="ident" id="6682841">newDecodeStateFromData</span><span class="op" id="6682863">(</span><span class="ident" id="6682864">signedResult</span><span class="op" id="6682876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682880">execDec</span><span class="op" id="6682887">(</span><span class="string" id="6682888">&#34;int32&#34;</span><span class="op" id="6682895">,</span>&nbsp;<span class="ident" id="6682897">instr</span><span class="op" id="6682902">,</span>&nbsp;<span class="ident" id="6682904">state</span><span class="op" id="6682909">,</span>&nbsp;<span class="ident" id="6682911">t</span><span class="op" id="6682912">,</span>&nbsp;<span class="ident" id="6682914">reflect</span><span class="op" id="6682921">.</span><span class="ident" id="6682922">ValueOf</span><span class="op" id="6682929">(</span><span class="op" id="6682930">&amp;</span><span class="ident" id="6682931">data</span><span class="op" id="6682935">)</span><span class="op" id="6682936">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6682940">if</span>&nbsp;<span class="ident" id="6682943">data</span>&nbsp;<span class="op" id="6682948">!=</span>&nbsp;<span class="num" id="6682951">17</span>&nbsp;<span class="op" id="6682954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6682959">t</span><span class="op" id="6682960">.</span><span class="ident" id="6682961">Errorf</span><span class="op" id="6682967">(</span><span class="string" id="6682968">&#34;int32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6682989">,</span>&nbsp;<span class="ident" id="6682991">data</span><span class="op" id="6682995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6682999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6683006">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6683021">var</span>&nbsp;<span class="ident" id="6683025">data</span>&nbsp;<span class="builtintype" id="6683030">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683039">instr</span>&nbsp;<span class="op" id="6683045">:=</span>&nbsp;<span class="op" id="6683048">&amp;</span><span class="ident" id="6683049">decInstr</span><span class="op" id="6683057">{</span><span class="ident" id="6683058">decUint32</span><span class="op" id="6683067">,</span>&nbsp;<span class="num" id="6683069">6</span><span class="op" id="6683070">,</span>&nbsp;<span class="ident" id="6683072">nil</span><span class="op" id="6683075">,</span>&nbsp;<span class="ident" id="6683077">ovfl</span><span class="op" id="6683081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683085">state</span>&nbsp;<span class="op" id="6683091">:=</span>&nbsp;<span class="ident" id="6683094">newDecodeStateFromData</span><span class="op" id="6683116">(</span><span class="ident" id="6683117">unsignedResult</span><span class="op" id="6683131">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683135">execDec</span><span class="op" id="6683142">(</span><span class="string" id="6683143">&#34;uint32&#34;</span><span class="op" id="6683151">,</span>&nbsp;<span class="ident" id="6683153">instr</span><span class="op" id="6683158">,</span>&nbsp;<span class="ident" id="6683160">state</span><span class="op" id="6683165">,</span>&nbsp;<span class="ident" id="6683167">t</span><span class="op" id="6683168">,</span>&nbsp;<span class="ident" id="6683170">reflect</span><span class="op" id="6683177">.</span><span class="ident" id="6683178">ValueOf</span><span class="op" id="6683185">(</span><span class="op" id="6683186">&amp;</span><span class="ident" id="6683187">data</span><span class="op" id="6683191">)</span><span class="op" id="6683192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6683196">if</span>&nbsp;<span class="ident" id="6683199">data</span>&nbsp;<span class="op" id="6683204">!=</span>&nbsp;<span class="num" id="6683207">17</span>&nbsp;<span class="op" id="6683210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683215">t</span><span class="op" id="6683216">.</span><span class="ident" id="6683217">Errorf</span><span class="op" id="6683223">(</span><span class="string" id="6683224">&#34;uint32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6683246">,</span>&nbsp;<span class="ident" id="6683248">data</span><span class="op" id="6683252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683259">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6683263">//&nbsp;uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6683279">var</span>&nbsp;<span class="ident" id="6683283">data</span>&nbsp;<span class="builtintype" id="6683288">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683298">instr</span>&nbsp;<span class="op" id="6683304">:=</span>&nbsp;<span class="op" id="6683307">&amp;</span><span class="ident" id="6683308">decInstr</span><span class="op" id="6683316">{</span><span class="ident" id="6683317">decOpTable</span><span class="op" id="6683327">[</span><span class="ident" id="6683328">reflect</span><span class="op" id="6683335">.</span><span class="ident" id="6683336">Uintptr</span><span class="op" id="6683343">]</span><span class="op" id="6683344">,</span>&nbsp;<span class="num" id="6683346">6</span><span class="op" id="6683347">,</span>&nbsp;<span class="ident" id="6683349">nil</span><span class="op" id="6683352">,</span>&nbsp;<span class="ident" id="6683354">ovfl</span><span class="op" id="6683358">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683362">state</span>&nbsp;<span class="op" id="6683368">:=</span>&nbsp;<span class="ident" id="6683371">newDecodeStateFromData</span><span class="op" id="6683393">(</span><span class="ident" id="6683394">unsignedResult</span><span class="op" id="6683408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683412">execDec</span><span class="op" id="6683419">(</span><span class="string" id="6683420">&#34;uintptr&#34;</span><span class="op" id="6683429">,</span>&nbsp;<span class="ident" id="6683431">instr</span><span class="op" id="6683436">,</span>&nbsp;<span class="ident" id="6683438">state</span><span class="op" id="6683443">,</span>&nbsp;<span class="ident" id="6683445">t</span><span class="op" id="6683446">,</span>&nbsp;<span class="ident" id="6683448">reflect</span><span class="op" id="6683455">.</span><span class="ident" id="6683456">ValueOf</span><span class="op" id="6683463">(</span><span class="op" id="6683464">&amp;</span><span class="ident" id="6683465">data</span><span class="op" id="6683469">)</span><span class="op" id="6683470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6683474">if</span>&nbsp;<span class="ident" id="6683477">data</span>&nbsp;<span class="op" id="6683482">!=</span>&nbsp;<span class="num" id="6683485">17</span>&nbsp;<span class="op" id="6683488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683493">t</span><span class="op" id="6683494">.</span><span class="ident" id="6683495">Errorf</span><span class="op" id="6683501">(</span><span class="string" id="6683502">&#34;uintptr&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6683525">,</span>&nbsp;<span class="ident" id="6683527">data</span><span class="op" id="6683531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683535">}</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6683542">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6683556">var</span>&nbsp;<span class="ident" id="6683560">data</span>&nbsp;<span class="ident" id="6683565">int64</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683573">instr</span>&nbsp;<span class="op" id="6683579">:=</span>&nbsp;<span class="op" id="6683582">&amp;</span><span class="ident" id="6683583">decInstr</span><span class="op" id="6683591">{</span><span class="ident" id="6683592">decInt64</span><span class="op" id="6683600">,</span>&nbsp;<span class="num" id="6683602">6</span><span class="op" id="6683603">,</span>&nbsp;<span class="ident" id="6683605">nil</span><span class="op" id="6683608">,</span>&nbsp;<span class="ident" id="6683610">ovfl</span><span class="op" id="6683614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683618">state</span>&nbsp;<span class="op" id="6683624">:=</span>&nbsp;<span class="ident" id="6683627">newDecodeStateFromData</span><span class="op" id="6683649">(</span><span class="ident" id="6683650">signedResult</span><span class="op" id="6683662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683666">execDec</span><span class="op" id="6683673">(</span><span class="string" id="6683674">&#34;int64&#34;</span><span class="op" id="6683681">,</span>&nbsp;<span class="ident" id="6683683">instr</span><span class="op" id="6683688">,</span>&nbsp;<span class="ident" id="6683690">state</span><span class="op" id="6683695">,</span>&nbsp;<span class="ident" id="6683697">t</span><span class="op" id="6683698">,</span>&nbsp;<span class="ident" id="6683700">reflect</span><span class="op" id="6683707">.</span><span class="ident" id="6683708">ValueOf</span><span class="op" id="6683715">(</span><span class="op" id="6683716">&amp;</span><span class="ident" id="6683717">data</span><span class="op" id="6683721">)</span><span class="op" id="6683722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6683726">if</span>&nbsp;<span class="ident" id="6683729">data</span>&nbsp;<span class="op" id="6683734">!=</span>&nbsp;<span class="num" id="6683737">17</span>&nbsp;<span class="op" id="6683740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683745">t</span><span class="op" id="6683746">.</span><span class="ident" id="6683747">Errorf</span><span class="op" id="6683753">(</span><span class="string" id="6683754">&#34;int64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6683775">,</span>&nbsp;<span class="ident" id="6683777">data</span><span class="op" id="6683781">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6683792">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6683803">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6683807">var</span>&nbsp;<span class="ident" id="6683811">data</span>&nbsp;<span class="ident" id="6683816">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683825">instr</span>&nbsp;<span class="op" id="6683831">:=</span>&nbsp;<span class="op" id="6683834">&amp;</span><span class="ident" id="6683835">decInstr</span><span class="op" id="6683843">{</span><span class="ident" id="6683844">decUint64</span><span class="op" id="6683853">,</span>&nbsp;<span class="num" id="6683855">6</span><span class="op" id="6683856">,</span>&nbsp;<span class="ident" id="6683858">nil</span><span class="op" id="6683861">,</span>&nbsp;<span class="ident" id="6683863">ovfl</span><span class="op" id="6683867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683871">state</span>&nbsp;<span class="op" id="6683877">:=</span>&nbsp;<span class="ident" id="6683880">newDecodeStateFromData</span><span class="op" id="6683902">(</span><span class="ident" id="6683903">unsignedResult</span><span class="op" id="6683917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6683921">execDec</span><span class="op" id="6683928">(</span><span class="string" id="6683929">&#34;uint64&#34;</span><span class="op" id="6683937">,</span>&nbsp;<span class="ident" id="6683939">instr</span><span class="op" id="6683944">,</span>&nbsp;<span class="ident" id="6683946">state</span><span class="op" id="6683951">,</span>&nbsp;<span class="ident" id="6683953">t</span><span class="op" id="6683954">,</span>&nbsp;<span class="ident" id="6683956">reflect</span><span class="op" id="6683963">.</span><span class="ident" id="6683964">ValueOf</span><span class="op" id="6683971">(</span><span class="op" id="6683972">&amp;</span><span class="ident" id="6683973">data</span><span class="op" id="6683977">)</span><span class="op" id="6683978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6683982">if</span>&nbsp;<span class="ident" id="6683985">data</span>&nbsp;<span class="op" id="6683990">!=</span>&nbsp;<span class="num" id="6683993">17</span>&nbsp;<span class="op" id="6683996">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684001">t</span><span class="op" id="6684002">.</span><span class="ident" id="6684003">Errorf</span><span class="op" id="6684009">(</span><span class="string" id="6684010">&#34;uint64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6684032">,</span>&nbsp;<span class="ident" id="6684034">data</span><span class="op" id="6684038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6684049">//&nbsp;float32</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6684065">var</span>&nbsp;<span class="ident" id="6684069">data</span>&nbsp;<span class="builtintype" id="6684074">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684084">instr</span>&nbsp;<span class="op" id="6684090">:=</span>&nbsp;<span class="op" id="6684093">&amp;</span><span class="ident" id="6684094">decInstr</span><span class="op" id="6684102">{</span><span class="ident" id="6684103">decFloat32</span><span class="op" id="6684113">,</span>&nbsp;<span class="num" id="6684115">6</span><span class="op" id="6684116">,</span>&nbsp;<span class="ident" id="6684118">nil</span><span class="op" id="6684121">,</span>&nbsp;<span class="ident" id="6684123">ovfl</span><span class="op" id="6684127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684131">state</span>&nbsp;<span class="op" id="6684137">:=</span>&nbsp;<span class="ident" id="6684140">newDecodeStateFromData</span><span class="op" id="6684162">(</span><span class="ident" id="6684163">floatResult</span><span class="op" id="6684174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684178">execDec</span><span class="op" id="6684185">(</span><span class="string" id="6684186">&#34;float32&#34;</span><span class="op" id="6684195">,</span>&nbsp;<span class="ident" id="6684197">instr</span><span class="op" id="6684202">,</span>&nbsp;<span class="ident" id="6684204">state</span><span class="op" id="6684209">,</span>&nbsp;<span class="ident" id="6684211">t</span><span class="op" id="6684212">,</span>&nbsp;<span class="ident" id="6684214">reflect</span><span class="op" id="6684221">.</span><span class="ident" id="6684222">ValueOf</span><span class="op" id="6684229">(</span><span class="op" id="6684230">&amp;</span><span class="ident" id="6684231">data</span><span class="op" id="6684235">)</span><span class="op" id="6684236">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6684240">if</span>&nbsp;<span class="ident" id="6684243">data</span>&nbsp;<span class="op" id="6684248">!=</span>&nbsp;<span class="num" id="6684251">17</span>&nbsp;<span class="op" id="6684254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684259">t</span><span class="op" id="6684260">.</span><span class="ident" id="6684261">Errorf</span><span class="op" id="6684267">(</span><span class="string" id="6684268">&#34;float32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6684291">,</span>&nbsp;<span class="ident" id="6684293">data</span><span class="op" id="6684297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6684308">//&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6684324">var</span>&nbsp;<span class="ident" id="6684328">data</span>&nbsp;<span class="builtintype" id="6684333">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684343">instr</span>&nbsp;<span class="op" id="6684349">:=</span>&nbsp;<span class="op" id="6684352">&amp;</span><span class="ident" id="6684353">decInstr</span><span class="op" id="6684361">{</span><span class="ident" id="6684362">decFloat64</span><span class="op" id="6684372">,</span>&nbsp;<span class="num" id="6684374">6</span><span class="op" id="6684375">,</span>&nbsp;<span class="ident" id="6684377">nil</span><span class="op" id="6684380">,</span>&nbsp;<span class="ident" id="6684382">ovfl</span><span class="op" id="6684386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684390">state</span>&nbsp;<span class="op" id="6684396">:=</span>&nbsp;<span class="ident" id="6684399">newDecodeStateFromData</span><span class="op" id="6684421">(</span><span class="ident" id="6684422">floatResult</span><span class="op" id="6684433">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684437">execDec</span><span class="op" id="6684444">(</span><span class="string" id="6684445">&#34;float64&#34;</span><span class="op" id="6684454">,</span>&nbsp;<span class="ident" id="6684456">instr</span><span class="op" id="6684461">,</span>&nbsp;<span class="ident" id="6684463">state</span><span class="op" id="6684468">,</span>&nbsp;<span class="ident" id="6684470">t</span><span class="op" id="6684471">,</span>&nbsp;<span class="ident" id="6684473">reflect</span><span class="op" id="6684480">.</span><span class="ident" id="6684481">ValueOf</span><span class="op" id="6684488">(</span><span class="op" id="6684489">&amp;</span><span class="ident" id="6684490">data</span><span class="op" id="6684494">)</span><span class="op" id="6684495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6684499">if</span>&nbsp;<span class="ident" id="6684502">data</span>&nbsp;<span class="op" id="6684507">!=</span>&nbsp;<span class="num" id="6684510">17</span>&nbsp;<span class="op" id="6684513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684518">t</span><span class="op" id="6684519">.</span><span class="ident" id="6684520">Errorf</span><span class="op" id="6684526">(</span><span class="string" id="6684527">&#34;float64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="6684550">,</span>&nbsp;<span class="ident" id="6684552">data</span><span class="op" id="6684556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684563">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6684567">//&nbsp;complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6684585">var</span>&nbsp;<span class="ident" id="6684589">data</span>&nbsp;<span class="builtintype" id="6684594">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684606">instr</span>&nbsp;<span class="op" id="6684612">:=</span>&nbsp;<span class="op" id="6684615">&amp;</span><span class="ident" id="6684616">decInstr</span><span class="op" id="6684624">{</span><span class="ident" id="6684625">decOpTable</span><span class="op" id="6684635">[</span><span class="ident" id="6684636">reflect</span><span class="op" id="6684643">.</span><span class="ident" id="6684644">Complex64</span><span class="op" id="6684653">]</span><span class="op" id="6684654">,</span>&nbsp;<span class="num" id="6684656">6</span><span class="op" id="6684657">,</span>&nbsp;<span class="ident" id="6684659">nil</span><span class="op" id="6684662">,</span>&nbsp;<span class="ident" id="6684664">ovfl</span><span class="op" id="6684668">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684672">state</span>&nbsp;<span class="op" id="6684678">:=</span>&nbsp;<span class="ident" id="6684681">newDecodeStateFromData</span><span class="op" id="6684703">(</span><span class="ident" id="6684704">complexResult</span><span class="op" id="6684717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684721">execDec</span><span class="op" id="6684728">(</span><span class="string" id="6684729">&#34;complex&#34;</span><span class="op" id="6684738">,</span>&nbsp;<span class="ident" id="6684740">instr</span><span class="op" id="6684745">,</span>&nbsp;<span class="ident" id="6684747">state</span><span class="op" id="6684752">,</span>&nbsp;<span class="ident" id="6684754">t</span><span class="op" id="6684755">,</span>&nbsp;<span class="ident" id="6684757">reflect</span><span class="op" id="6684764">.</span><span class="ident" id="6684765">ValueOf</span><span class="op" id="6684772">(</span><span class="op" id="6684773">&amp;</span><span class="ident" id="6684774">data</span><span class="op" id="6684778">)</span><span class="op" id="6684779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6684783">if</span>&nbsp;<span class="ident" id="6684786">data</span>&nbsp;<span class="op" id="6684791">!=</span>&nbsp;<span class="num" id="6684794">17</span><span class="op" id="6684796">+</span><span class="num" id="6684797">19i</span>&nbsp;<span class="op" id="6684801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684806">t</span><span class="op" id="6684807">.</span><span class="ident" id="6684808">Errorf</span><span class="op" id="6684814">(</span><span class="string" id="6684815">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="6684842">,</span>&nbsp;<span class="ident" id="6684844">data</span><span class="op" id="6684848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684852">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6684859">//&nbsp;complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6684874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6684878">var</span>&nbsp;<span class="ident" id="6684882">data</span>&nbsp;<span class="builtintype" id="6684887">complex128</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684900">instr</span>&nbsp;<span class="op" id="6684906">:=</span>&nbsp;<span class="op" id="6684909">&amp;</span><span class="ident" id="6684910">decInstr</span><span class="op" id="6684918">{</span><span class="ident" id="6684919">decOpTable</span><span class="op" id="6684929">[</span><span class="ident" id="6684930">reflect</span><span class="op" id="6684937">.</span><span class="ident" id="6684938">Complex128</span><span class="op" id="6684948">]</span><span class="op" id="6684949">,</span>&nbsp;<span class="num" id="6684951">6</span><span class="op" id="6684952">,</span>&nbsp;<span class="ident" id="6684954">nil</span><span class="op" id="6684957">,</span>&nbsp;<span class="ident" id="6684959">ovfl</span><span class="op" id="6684963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6684967">state</span>&nbsp;<span class="op" id="6684973">:=</span>&nbsp;<span class="ident" id="6684976">newDecodeStateFromData</span><span class="op" id="6684998">(</span><span class="ident" id="6684999">complexResult</span><span class="op" id="6685012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685016">execDec</span><span class="op" id="6685023">(</span><span class="string" id="6685024">&#34;complex&#34;</span><span class="op" id="6685033">,</span>&nbsp;<span class="ident" id="6685035">instr</span><span class="op" id="6685040">,</span>&nbsp;<span class="ident" id="6685042">state</span><span class="op" id="6685047">,</span>&nbsp;<span class="ident" id="6685049">t</span><span class="op" id="6685050">,</span>&nbsp;<span class="ident" id="6685052">reflect</span><span class="op" id="6685059">.</span><span class="ident" id="6685060">ValueOf</span><span class="op" id="6685067">(</span><span class="op" id="6685068">&amp;</span><span class="ident" id="6685069">data</span><span class="op" id="6685073">)</span><span class="op" id="6685074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6685078">if</span>&nbsp;<span class="ident" id="6685081">data</span>&nbsp;<span class="op" id="6685086">!=</span>&nbsp;<span class="num" id="6685089">17</span><span class="op" id="6685091">+</span><span class="num" id="6685092">19i</span>&nbsp;<span class="op" id="6685096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685101">t</span><span class="op" id="6685102">.</span><span class="ident" id="6685103">Errorf</span><span class="op" id="6685109">(</span><span class="string" id="6685110">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="6685137">,</span>&nbsp;<span class="ident" id="6685139">data</span><span class="op" id="6685143">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6685147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6685150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6685154">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6685175">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6685179">var</span>&nbsp;<span class="ident" id="6685183">data</span>&nbsp;<span class="op" id="6685188">[</span><span class="op" id="6685189">]</span><span class="builtintype" id="6685190">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685197">instr</span>&nbsp;<span class="op" id="6685203">:=</span>&nbsp;<span class="op" id="6685206">&amp;</span><span class="ident" id="6685207">decInstr</span><span class="op" id="6685215">{</span><span class="ident" id="6685216">decUint8Slice</span><span class="op" id="6685229">,</span>&nbsp;<span class="num" id="6685231">6</span><span class="op" id="6685232">,</span>&nbsp;<span class="ident" id="6685234">nil</span><span class="op" id="6685237">,</span>&nbsp;<span class="ident" id="6685239">ovfl</span><span class="op" id="6685243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685247">state</span>&nbsp;<span class="op" id="6685253">:=</span>&nbsp;<span class="ident" id="6685256">newDecodeStateFromData</span><span class="op" id="6685278">(</span><span class="ident" id="6685279">bytesResult</span><span class="op" id="6685290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685294">execDec</span><span class="op" id="6685301">(</span><span class="string" id="6685302">&#34;bytes&#34;</span><span class="op" id="6685309">,</span>&nbsp;<span class="ident" id="6685311">instr</span><span class="op" id="6685316">,</span>&nbsp;<span class="ident" id="6685318">state</span><span class="op" id="6685323">,</span>&nbsp;<span class="ident" id="6685325">t</span><span class="op" id="6685326">,</span>&nbsp;<span class="ident" id="6685328">reflect</span><span class="op" id="6685335">.</span><span class="ident" id="6685336">ValueOf</span><span class="op" id="6685343">(</span><span class="op" id="6685344">&amp;</span><span class="ident" id="6685345">data</span><span class="op" id="6685349">)</span><span class="op" id="6685350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6685354">if</span>&nbsp;<span class="builtintype" id="6685357">string</span><span class="op" id="6685363">(</span><span class="ident" id="6685364">data</span><span class="op" id="6685368">)</span>&nbsp;<span class="op" id="6685370">!=</span>&nbsp;<span class="string" id="6685373">&#34;hello&#34;</span>&nbsp;<span class="op" id="6685381">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685386">t</span><span class="op" id="6685387">.</span><span class="ident" id="6685388">Errorf</span><span class="op" id="6685394">(</span><span class="string" id="6685395">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="6685421">,</span>&nbsp;<span class="builtintype" id="6685423">string</span><span class="op" id="6685429">(</span><span class="ident" id="6685430">data</span><span class="op" id="6685434">)</span><span class="op" id="6685435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6685439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6685442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6685446">//&nbsp;string</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6685457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6685461">var</span>&nbsp;<span class="ident" id="6685465">data</span>&nbsp;<span class="builtintype" id="6685470">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685479">instr</span>&nbsp;<span class="op" id="6685485">:=</span>&nbsp;<span class="op" id="6685488">&amp;</span><span class="ident" id="6685489">decInstr</span><span class="op" id="6685497">{</span><span class="ident" id="6685498">decString</span><span class="op" id="6685507">,</span>&nbsp;<span class="num" id="6685509">6</span><span class="op" id="6685510">,</span>&nbsp;<span class="ident" id="6685512">nil</span><span class="op" id="6685515">,</span>&nbsp;<span class="ident" id="6685517">ovfl</span><span class="op" id="6685521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685525">state</span>&nbsp;<span class="op" id="6685531">:=</span>&nbsp;<span class="ident" id="6685534">newDecodeStateFromData</span><span class="op" id="6685556">(</span><span class="ident" id="6685557">bytesResult</span><span class="op" id="6685568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685572">execDec</span><span class="op" id="6685579">(</span><span class="string" id="6685580">&#34;bytes&#34;</span><span class="op" id="6685587">,</span>&nbsp;<span class="ident" id="6685589">instr</span><span class="op" id="6685594">,</span>&nbsp;<span class="ident" id="6685596">state</span><span class="op" id="6685601">,</span>&nbsp;<span class="ident" id="6685603">t</span><span class="op" id="6685604">,</span>&nbsp;<span class="ident" id="6685606">reflect</span><span class="op" id="6685613">.</span><span class="ident" id="6685614">ValueOf</span><span class="op" id="6685621">(</span><span class="op" id="6685622">&amp;</span><span class="ident" id="6685623">data</span><span class="op" id="6685627">)</span><span class="op" id="6685628">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6685632">if</span>&nbsp;<span class="ident" id="6685635">data</span>&nbsp;<span class="op" id="6685640">!=</span>&nbsp;<span class="string" id="6685643">&#34;hello&#34;</span>&nbsp;<span class="op" id="6685651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685656">t</span><span class="op" id="6685657">.</span><span class="ident" id="6685658">Errorf</span><span class="op" id="6685664">(</span><span class="string" id="6685665">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="6685691">,</span>&nbsp;<span class="ident" id="6685693">data</span><span class="op" id="6685697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6685701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6685704">}</span><br>
<span class="lineno"></span><span class="op" id="6685706">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="6685709">func</span>&nbsp;<span class="ident" id="6685714">TestEndToEnd</span><span class="op" id="6685726">(</span><span class="ident" id="6685727">t</span>&nbsp;<span class="op" id="6685729">*</span><span class="ident" id="6685730">testing</span><span class="op" id="6685737">.</span><span class="ident" id="6685738">T</span><span class="op" id="6685739">)</span>&nbsp;<span class="op" id="6685741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6685744">type</span>&nbsp;<span class="ident" id="6685749">T2</span>&nbsp;<span class="keyword" id="6685752">struct</span>&nbsp;<span class="op" id="6685759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685763">T</span>&nbsp;<span class="builtintype" id="6685765">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6685773">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685776">s1</span>&nbsp;<span class="op" id="6685779">:=</span>&nbsp;<span class="string" id="6685782">&#34;string1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685793">s2</span>&nbsp;<span class="op" id="6685796">:=</span>&nbsp;<span class="string" id="6685799">&#34;string2&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6685810">type</span>&nbsp;<span class="ident" id="6685815">T1</span>&nbsp;<span class="keyword" id="6685818">struct</span>&nbsp;<span class="op" id="6685825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685829">A</span><span class="op" id="6685830">,</span>&nbsp;<span class="ident" id="6685832">B</span><span class="op" id="6685833">,</span>&nbsp;<span class="ident" id="6685835">C</span>&nbsp;&nbsp;<span class="builtintype" id="6685838">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685844">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685853">map</span><span class="op" id="6685856">[</span><span class="builtintype" id="6685857">string</span><span class="op" id="6685863">]</span><span class="op" id="6685864">*</span><span class="builtintype" id="6685865">float64</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685875">EmptyMap</span>&nbsp;<span class="keyword" id="6685884">map</span><span class="op" id="6685887">[</span><span class="builtintype" id="6685888">string</span><span class="op" id="6685894">]</span><span class="builtintype" id="6685895">int</span>&nbsp;<span class="comment" id="6685899">//&nbsp;to&nbsp;check&nbsp;that&nbsp;we&nbsp;receive&nbsp;a&nbsp;non-nil&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685944">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685953">*</span><span class="op" id="6685954">[</span><span class="num" id="6685955">3</span><span class="op" id="6685956">]</span><span class="builtintype" id="6685957">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685967">Strs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685976">*</span><span class="op" id="6685977">[</span><span class="num" id="6685978">2</span><span class="op" id="6685979">]</span><span class="builtintype" id="6685980">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6685989">Int64s</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6685998">*</span><span class="op" id="6685999">[</span><span class="op" id="6686000">]</span><span class="ident" id="6686001">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686009">RI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6686018">complex64</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686030">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6686039">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686048">Y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686057">[</span><span class="op" id="6686058">]</span><span class="builtintype" id="6686059">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686066">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686075">*</span><span class="ident" id="6686076">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6686080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686083">pi</span>&nbsp;<span class="op" id="6686086">:=</span>&nbsp;<span class="num" id="6686089">3.14159</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686098">e</span>&nbsp;<span class="op" id="6686100">:=</span>&nbsp;<span class="num" id="6686103">2.71828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686112">t1</span>&nbsp;<span class="op" id="6686115">:=</span>&nbsp;<span class="op" id="6686118">&amp;</span><span class="ident" id="6686119">T1</span><span class="op" id="6686121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686125">A</span><span class="op" id="6686126">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6686135">17</span><span class="op" id="6686137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686141">B</span><span class="op" id="6686142">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6686151">18</span><span class="op" id="6686153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686157">C</span><span class="op" id="6686158">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686167">-</span><span class="num" id="6686168">5</span><span class="op" id="6686169">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686173">M</span><span class="op" id="6686174">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686183">map</span><span class="op" id="6686186">[</span><span class="builtintype" id="6686187">string</span><span class="op" id="6686193">]</span><span class="op" id="6686194">*</span><span class="builtintype" id="6686195">float64</span><span class="op" id="6686202">{</span><span class="string" id="6686203">&#34;pi&#34;</span><span class="op" id="6686207">:</span>&nbsp;<span class="op" id="6686209">&amp;</span><span class="ident" id="6686210">pi</span><span class="op" id="6686212">,</span>&nbsp;<span class="string" id="6686214">&#34;e&#34;</span><span class="op" id="6686217">:</span>&nbsp;<span class="op" id="6686219">&amp;</span><span class="ident" id="6686220">e</span><span class="op" id="6686221">}</span><span class="op" id="6686222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686226">EmptyMap</span><span class="op" id="6686234">:</span>&nbsp;<span class="builtinfunc" id="6686236">make</span><span class="op" id="6686240">(</span><span class="keyword" id="6686241">map</span><span class="op" id="6686244">[</span><span class="builtintype" id="6686245">string</span><span class="op" id="6686251">]</span><span class="builtintype" id="6686252">int</span><span class="op" id="6686255">)</span><span class="op" id="6686256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686260">N</span><span class="op" id="6686261">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686270">&amp;</span><span class="op" id="6686271">[</span><span class="num" id="6686272">3</span><span class="op" id="6686273">]</span><span class="builtintype" id="6686274">float64</span><span class="op" id="6686281">{</span><span class="num" id="6686282">1.5</span><span class="op" id="6686285">,</span>&nbsp;<span class="num" id="6686287">2.5</span><span class="op" id="6686290">,</span>&nbsp;<span class="num" id="6686292">3.5</span><span class="op" id="6686295">}</span><span class="op" id="6686296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686300">Strs</span><span class="op" id="6686304">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686310">&amp;</span><span class="op" id="6686311">[</span><span class="num" id="6686312">2</span><span class="op" id="6686313">]</span><span class="builtintype" id="6686314">string</span><span class="op" id="6686320">{</span><span class="ident" id="6686321">s1</span><span class="op" id="6686323">,</span>&nbsp;<span class="ident" id="6686325">s2</span><span class="op" id="6686327">}</span><span class="op" id="6686328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686332">Int64s</span><span class="op" id="6686338">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6686342">&amp;</span><span class="op" id="6686343">[</span><span class="op" id="6686344">]</span><span class="ident" id="6686345">int64</span><span class="op" id="6686350">{</span><span class="num" id="6686351">77</span><span class="op" id="6686353">,</span>&nbsp;<span class="num" id="6686355">89</span><span class="op" id="6686357">,</span>&nbsp;<span class="num" id="6686359">123412342134</span><span class="op" id="6686371">}</span><span class="op" id="6686372">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686376">RI</span><span class="op" id="6686378">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6686386">17</span>&nbsp;<span class="op" id="6686389">-</span>&nbsp;<span class="num" id="6686391">23i</span><span class="op" id="6686394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686398">S</span><span class="op" id="6686399">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6686408">&#34;Now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="6686425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686429">Y</span><span class="op" id="6686430">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686439">[</span><span class="op" id="6686440">]</span><span class="builtintype" id="6686441">byte</span><span class="op" id="6686445">(</span><span class="string" id="6686446">&#34;hello,&nbsp;sailor&#34;</span><span class="op" id="6686461">)</span><span class="op" id="6686462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686466">T</span><span class="op" id="6686467">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686476">&amp;</span><span class="ident" id="6686477">T2</span><span class="op" id="6686479">{</span><span class="string" id="6686480">&#34;this&nbsp;is&nbsp;T2&#34;</span><span class="op" id="6686492">}</span><span class="op" id="6686493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6686496">}</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686499">b</span>&nbsp;<span class="op" id="6686501">:=</span>&nbsp;<span class="builtinfunc" id="6686504">new</span><span class="op" id="6686507">(</span><span class="ident" id="6686508">bytes</span><span class="op" id="6686513">.</span><span class="ident" id="6686514">Buffer</span><span class="op" id="6686520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686523">err</span>&nbsp;<span class="op" id="6686527">:=</span>&nbsp;<span class="ident" id="6686530">NewEncoder</span><span class="op" id="6686540">(</span><span class="ident" id="6686541">b</span><span class="op" id="6686542">)</span><span class="op" id="6686543">.</span><span class="ident" id="6686544">Encode</span><span class="op" id="6686550">(</span><span class="ident" id="6686551">t1</span><span class="op" id="6686553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6686556">if</span>&nbsp;<span class="ident" id="6686559">err</span>&nbsp;<span class="op" id="6686563">!=</span>&nbsp;<span class="ident" id="6686566">nil</span>&nbsp;<span class="op" id="6686570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686574">t</span><span class="op" id="6686575">.</span><span class="ident" id="6686576">Error</span><span class="op" id="6686581">(</span><span class="string" id="6686582">&#34;encode:&#34;</span><span class="op" id="6686591">,</span>&nbsp;<span class="ident" id="6686593">err</span><span class="op" id="6686596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6686599">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6686602">var</span>&nbsp;<span class="ident" id="6686606">_t1</span>&nbsp;<span class="ident" id="6686610">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686614">err</span>&nbsp;<span class="op" id="6686618">=</span>&nbsp;<span class="ident" id="6686620">NewDecoder</span><span class="op" id="6686630">(</span><span class="ident" id="6686631">b</span><span class="op" id="6686632">)</span><span class="op" id="6686633">.</span><span class="ident" id="6686634">Decode</span><span class="op" id="6686640">(</span><span class="op" id="6686641">&amp;</span><span class="ident" id="6686642">_t1</span><span class="op" id="6686645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6686648">if</span>&nbsp;<span class="ident" id="6686651">err</span>&nbsp;<span class="op" id="6686655">!=</span>&nbsp;<span class="ident" id="6686658">nil</span>&nbsp;<span class="op" id="6686662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686666">t</span><span class="op" id="6686667">.</span><span class="ident" id="6686668">Fatal</span><span class="op" id="6686673">(</span><span class="string" id="6686674">&#34;decode:&#34;</span><span class="op" id="6686683">,</span>&nbsp;<span class="ident" id="6686685">err</span><span class="op" id="6686688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6686691">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6686694">if</span>&nbsp;<span class="op" id="6686697">!</span><span class="ident" id="6686698">reflect</span><span class="op" id="6686705">.</span><span class="ident" id="6686706">DeepEqual</span><span class="op" id="6686715">(</span><span class="ident" id="6686716">t1</span><span class="op" id="6686718">,</span>&nbsp;<span class="op" id="6686720">&amp;</span><span class="ident" id="6686721">_t1</span><span class="op" id="6686724">)</span>&nbsp;<span class="op" id="6686726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686730">t</span><span class="op" id="6686731">.</span><span class="ident" id="6686732">Errorf</span><span class="op" id="6686738">(</span><span class="string" id="6686739">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6686766">,</span>&nbsp;<span class="op" id="6686768">*</span><span class="ident" id="6686769">t1</span><span class="op" id="6686771">,</span>&nbsp;<span class="ident" id="6686773">_t1</span><span class="op" id="6686776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6686779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6686782">//&nbsp;Be&nbsp;absolutely&nbsp;sure&nbsp;the&nbsp;received&nbsp;map&nbsp;is&nbsp;non-nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6686834">if</span>&nbsp;<span class="ident" id="6686837">t1</span><span class="op" id="6686839">.</span><span class="ident" id="6686840">EmptyMap</span>&nbsp;<span class="op" id="6686849">==</span>&nbsp;<span class="ident" id="6686852">nil</span>&nbsp;<span class="op" id="6686856">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686860">t</span><span class="op" id="6686861">.</span><span class="ident" id="6686862">Errorf</span><span class="op" id="6686868">(</span><span class="string" id="6686869">&#34;nil&nbsp;map&nbsp;sent&#34;</span><span class="op" id="6686883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6686886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6686889">if</span>&nbsp;<span class="ident" id="6686892">_t1</span><span class="op" id="6686895">.</span><span class="ident" id="6686896">EmptyMap</span>&nbsp;<span class="op" id="6686905">==</span>&nbsp;<span class="ident" id="6686908">nil</span>&nbsp;<span class="op" id="6686912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6686916">t</span><span class="op" id="6686917">.</span><span class="ident" id="6686918">Errorf</span><span class="op" id="6686924">(</span><span class="string" id="6686925">&#34;nil&nbsp;map&nbsp;received&#34;</span><span class="op" id="6686943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6686946">}</span><br>
<span class="lineno">600</span><span class="op" id="6686948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6686951">func</span>&nbsp;<span class="ident" id="6686956">TestOverflow</span><span class="op" id="6686968">(</span><span class="ident" id="6686969">t</span>&nbsp;<span class="op" id="6686971">*</span><span class="ident" id="6686972">testing</span><span class="op" id="6686979">.</span><span class="ident" id="6686980">T</span><span class="op" id="6686981">)</span>&nbsp;<span class="op" id="6686983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6686986">type</span>&nbsp;<span class="ident" id="6686991">inputT</span>&nbsp;<span class="keyword" id="6686998">struct</span>&nbsp;<span class="op" id="6687005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687009">Maxi</span>&nbsp;<span class="ident" id="6687014">int64</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687022">Mini</span>&nbsp;<span class="ident" id="6687027">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687035">Maxu</span>&nbsp;<span class="ident" id="6687040">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687049">Maxf</span>&nbsp;<span class="builtintype" id="6687054">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687064">Minf</span>&nbsp;<span class="builtintype" id="6687069">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687079">Maxc</span>&nbsp;<span class="builtintype" id="6687084">complex128</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687097">Minc</span>&nbsp;<span class="builtintype" id="6687102">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6687114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6687117">var</span>&nbsp;<span class="ident" id="6687121">it</span>&nbsp;<span class="ident" id="6687124">inputT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6687132">var</span>&nbsp;<span class="ident" id="6687136">err</span>&nbsp;<span class="builtintype" id="6687140">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687147">b</span>&nbsp;<span class="op" id="6687149">:=</span>&nbsp;<span class="builtinfunc" id="6687152">new</span><span class="op" id="6687155">(</span><span class="ident" id="6687156">bytes</span><span class="op" id="6687161">.</span><span class="ident" id="6687162">Buffer</span><span class="op" id="6687168">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687171">enc</span>&nbsp;<span class="op" id="6687175">:=</span>&nbsp;<span class="ident" id="6687178">NewEncoder</span><span class="op" id="6687188">(</span><span class="ident" id="6687189">b</span><span class="op" id="6687190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687193">dec</span>&nbsp;<span class="op" id="6687197">:=</span>&nbsp;<span class="ident" id="6687200">NewDecoder</span><span class="op" id="6687210">(</span><span class="ident" id="6687211">b</span><span class="op" id="6687212">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6687216">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687225">b</span><span class="op" id="6687226">.</span><span class="ident" id="6687227">Reset</span><span class="op" id="6687232">(</span><span class="op" id="6687233">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687236">it</span>&nbsp;<span class="op" id="6687239">=</span>&nbsp;<span class="ident" id="6687241">inputT</span><span class="op" id="6687247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687251">Maxi</span><span class="op" id="6687255">:</span>&nbsp;<span class="ident" id="6687257">math</span><span class="op" id="6687261">.</span><span class="ident" id="6687262">MaxInt8</span>&nbsp;<span class="op" id="6687270">+</span>&nbsp;<span class="num" id="6687272">1</span><span class="op" id="6687273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6687276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6687279">type</span>&nbsp;<span class="ident" id="6687284">outi8</span>&nbsp;<span class="keyword" id="6687290">struct</span>&nbsp;<span class="op" id="6687297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687301">Maxi</span>&nbsp;<span class="builtintype" id="6687306">int8</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687313">Mini</span>&nbsp;<span class="builtintype" id="6687318">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6687324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6687327">var</span>&nbsp;<span class="ident" id="6687331">o1</span>&nbsp;<span class="ident" id="6687334">outi8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687341">enc</span><span class="op" id="6687344">.</span><span class="ident" id="6687345">Encode</span><span class="op" id="6687351">(</span><span class="ident" id="6687352">it</span><span class="op" id="6687354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687357">err</span>&nbsp;<span class="op" id="6687361">=</span>&nbsp;<span class="ident" id="6687363">dec</span><span class="op" id="6687366">.</span><span class="ident" id="6687367">Decode</span><span class="op" id="6687373">(</span><span class="op" id="6687374">&amp;</span><span class="ident" id="6687375">o1</span><span class="op" id="6687377">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6687380">if</span>&nbsp;<span class="ident" id="6687383">err</span>&nbsp;<span class="op" id="6687387">==</span>&nbsp;<span class="ident" id="6687390">nil</span>&nbsp;<span class="op" id="6687394">||</span>&nbsp;<span class="ident" id="6687397">err</span><span class="op" id="6687400">.</span><span class="ident" id="6687401">Error</span><span class="op" id="6687406">(</span><span class="op" id="6687407">)</span>&nbsp;<span class="op" id="6687409">!=</span>&nbsp;<span class="string" id="6687412">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6687444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687448">t</span><span class="op" id="6687449">.</span><span class="ident" id="6687450">Error</span><span class="op" id="6687455">(</span><span class="string" id="6687456">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="6687488">,</span>&nbsp;<span class="ident" id="6687490">err</span><span class="op" id="6687493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6687496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687499">it</span>&nbsp;<span class="op" id="6687502">=</span>&nbsp;<span class="ident" id="6687504">inputT</span><span class="op" id="6687510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687514">Mini</span><span class="op" id="6687518">:</span>&nbsp;<span class="ident" id="6687520">math</span><span class="op" id="6687524">.</span><span class="ident" id="6687525">MinInt8</span>&nbsp;<span class="op" id="6687533">-</span>&nbsp;<span class="num" id="6687535">1</span><span class="op" id="6687536">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6687539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687542">b</span><span class="op" id="6687543">.</span><span class="ident" id="6687544">Reset</span><span class="op" id="6687549">(</span><span class="op" id="6687550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687553">enc</span><span class="op" id="6687556">.</span><span class="ident" id="6687557">Encode</span><span class="op" id="6687563">(</span><span class="ident" id="6687564">it</span><span class="op" id="6687566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687569">err</span>&nbsp;<span class="op" id="6687573">=</span>&nbsp;<span class="ident" id="6687575">dec</span><span class="op" id="6687578">.</span><span class="ident" id="6687579">Decode</span><span class="op" id="6687585">(</span><span class="op" id="6687586">&amp;</span><span class="ident" id="6687587">o1</span><span class="op" id="6687589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6687592">if</span>&nbsp;<span class="ident" id="6687595">err</span>&nbsp;<span class="op" id="6687599">==</span>&nbsp;<span class="ident" id="6687602">nil</span>&nbsp;<span class="op" id="6687606">||</span>&nbsp;<span class="ident" id="6687609">err</span><span class="op" id="6687612">.</span><span class="ident" id="6687613">Error</span><span class="op" id="6687618">(</span><span class="op" id="6687619">)</span>&nbsp;<span class="op" id="6687621">!=</span>&nbsp;<span class="string" id="6687624">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6687656">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687660">t</span><span class="op" id="6687661">.</span><span class="ident" id="6687662">Error</span><span class="op" id="6687667">(</span><span class="string" id="6687668">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="6687701">,</span>&nbsp;<span class="ident" id="6687703">err</span><span class="op" id="6687706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6687709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6687713">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687723">b</span><span class="op" id="6687724">.</span><span class="ident" id="6687725">Reset</span><span class="op" id="6687730">(</span><span class="op" id="6687731">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687734">it</span>&nbsp;<span class="op" id="6687737">=</span>&nbsp;<span class="ident" id="6687739">inputT</span><span class="op" id="6687745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687749">Maxi</span><span class="op" id="6687753">:</span>&nbsp;<span class="ident" id="6687755">math</span><span class="op" id="6687759">.</span><span class="ident" id="6687760">MaxInt16</span>&nbsp;<span class="op" id="6687769">+</span>&nbsp;<span class="num" id="6687771">1</span><span class="op" id="6687772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6687775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6687778">type</span>&nbsp;<span class="ident" id="6687783">outi16</span>&nbsp;<span class="keyword" id="6687790">struct</span>&nbsp;<span class="op" id="6687797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687801">Maxi</span>&nbsp;<span class="builtintype" id="6687806">int16</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687814">Mini</span>&nbsp;<span class="builtintype" id="6687819">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6687826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6687829">var</span>&nbsp;<span class="ident" id="6687833">o2</span>&nbsp;<span class="ident" id="6687836">outi16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687844">enc</span><span class="op" id="6687847">.</span><span class="ident" id="6687848">Encode</span><span class="op" id="6687854">(</span><span class="ident" id="6687855">it</span><span class="op" id="6687857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687860">err</span>&nbsp;<span class="op" id="6687864">=</span>&nbsp;<span class="ident" id="6687866">dec</span><span class="op" id="6687869">.</span><span class="ident" id="6687870">Decode</span><span class="op" id="6687876">(</span><span class="op" id="6687877">&amp;</span><span class="ident" id="6687878">o2</span><span class="op" id="6687880">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6687883">if</span>&nbsp;<span class="ident" id="6687886">err</span>&nbsp;<span class="op" id="6687890">==</span>&nbsp;<span class="ident" id="6687893">nil</span>&nbsp;<span class="op" id="6687897">||</span>&nbsp;<span class="ident" id="6687900">err</span><span class="op" id="6687903">.</span><span class="ident" id="6687904">Error</span><span class="op" id="6687909">(</span><span class="op" id="6687910">)</span>&nbsp;<span class="op" id="6687912">!=</span>&nbsp;<span class="string" id="6687915">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6687947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6687951">t</span><span class="op" id="6687952">.</span><span class="ident" id="6687953">Error</span><span class="op" id="6687958">(</span><span class="string" id="6687959">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="6687992">,</span>&nbsp;<span class="ident" id="6687994">err</span><span class="op" id="6687997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688003">it</span>&nbsp;<span class="op" id="6688006">=</span>&nbsp;<span class="ident" id="6688008">inputT</span><span class="op" id="6688014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688018">Mini</span><span class="op" id="6688022">:</span>&nbsp;<span class="ident" id="6688024">math</span><span class="op" id="6688028">.</span><span class="ident" id="6688029">MinInt16</span>&nbsp;<span class="op" id="6688038">-</span>&nbsp;<span class="num" id="6688040">1</span><span class="op" id="6688041">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688047">b</span><span class="op" id="6688048">.</span><span class="ident" id="6688049">Reset</span><span class="op" id="6688054">(</span><span class="op" id="6688055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688058">enc</span><span class="op" id="6688061">.</span><span class="ident" id="6688062">Encode</span><span class="op" id="6688068">(</span><span class="ident" id="6688069">it</span><span class="op" id="6688071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688074">err</span>&nbsp;<span class="op" id="6688078">=</span>&nbsp;<span class="ident" id="6688080">dec</span><span class="op" id="6688083">.</span><span class="ident" id="6688084">Decode</span><span class="op" id="6688090">(</span><span class="op" id="6688091">&amp;</span><span class="ident" id="6688092">o2</span><span class="op" id="6688094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6688097">if</span>&nbsp;<span class="ident" id="6688100">err</span>&nbsp;<span class="op" id="6688104">==</span>&nbsp;<span class="ident" id="6688107">nil</span>&nbsp;<span class="op" id="6688111">||</span>&nbsp;<span class="ident" id="6688114">err</span><span class="op" id="6688117">.</span><span class="ident" id="6688118">Error</span><span class="op" id="6688123">(</span><span class="op" id="6688124">)</span>&nbsp;<span class="op" id="6688126">!=</span>&nbsp;<span class="string" id="6688129">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6688161">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688165">t</span><span class="op" id="6688166">.</span><span class="ident" id="6688167">Error</span><span class="op" id="6688172">(</span><span class="string" id="6688173">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="6688207">,</span>&nbsp;<span class="ident" id="6688209">err</span><span class="op" id="6688212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6688219">//&nbsp;int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688229">b</span><span class="op" id="6688230">.</span><span class="ident" id="6688231">Reset</span><span class="op" id="6688236">(</span><span class="op" id="6688237">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688240">it</span>&nbsp;<span class="op" id="6688243">=</span>&nbsp;<span class="ident" id="6688245">inputT</span><span class="op" id="6688251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688255">Maxi</span><span class="op" id="6688259">:</span>&nbsp;<span class="ident" id="6688261">math</span><span class="op" id="6688265">.</span><span class="ident" id="6688266">MaxInt32</span>&nbsp;<span class="op" id="6688275">+</span>&nbsp;<span class="num" id="6688277">1</span><span class="op" id="6688278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6688284">type</span>&nbsp;<span class="ident" id="6688289">outi32</span>&nbsp;<span class="keyword" id="6688296">struct</span>&nbsp;<span class="op" id="6688303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688307">Maxi</span>&nbsp;<span class="builtintype" id="6688312">int32</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688320">Mini</span>&nbsp;<span class="builtintype" id="6688325">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6688335">var</span>&nbsp;<span class="ident" id="6688339">o3</span>&nbsp;<span class="ident" id="6688342">outi32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688350">enc</span><span class="op" id="6688353">.</span><span class="ident" id="6688354">Encode</span><span class="op" id="6688360">(</span><span class="ident" id="6688361">it</span><span class="op" id="6688363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688366">err</span>&nbsp;<span class="op" id="6688370">=</span>&nbsp;<span class="ident" id="6688372">dec</span><span class="op" id="6688375">.</span><span class="ident" id="6688376">Decode</span><span class="op" id="6688382">(</span><span class="op" id="6688383">&amp;</span><span class="ident" id="6688384">o3</span><span class="op" id="6688386">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6688389">if</span>&nbsp;<span class="ident" id="6688392">err</span>&nbsp;<span class="op" id="6688396">==</span>&nbsp;<span class="ident" id="6688399">nil</span>&nbsp;<span class="op" id="6688403">||</span>&nbsp;<span class="ident" id="6688406">err</span><span class="op" id="6688409">.</span><span class="ident" id="6688410">Error</span><span class="op" id="6688415">(</span><span class="op" id="6688416">)</span>&nbsp;<span class="op" id="6688418">!=</span>&nbsp;<span class="string" id="6688421">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6688453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688457">t</span><span class="op" id="6688458">.</span><span class="ident" id="6688459">Error</span><span class="op" id="6688464">(</span><span class="string" id="6688465">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="6688498">,</span>&nbsp;<span class="ident" id="6688500">err</span><span class="op" id="6688503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688509">it</span>&nbsp;<span class="op" id="6688512">=</span>&nbsp;<span class="ident" id="6688514">inputT</span><span class="op" id="6688520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688524">Mini</span><span class="op" id="6688528">:</span>&nbsp;<span class="ident" id="6688530">math</span><span class="op" id="6688534">.</span><span class="ident" id="6688535">MinInt32</span>&nbsp;<span class="op" id="6688544">-</span>&nbsp;<span class="num" id="6688546">1</span><span class="op" id="6688547">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688553">b</span><span class="op" id="6688554">.</span><span class="ident" id="6688555">Reset</span><span class="op" id="6688560">(</span><span class="op" id="6688561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688564">enc</span><span class="op" id="6688567">.</span><span class="ident" id="6688568">Encode</span><span class="op" id="6688574">(</span><span class="ident" id="6688575">it</span><span class="op" id="6688577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688580">err</span>&nbsp;<span class="op" id="6688584">=</span>&nbsp;<span class="ident" id="6688586">dec</span><span class="op" id="6688589">.</span><span class="ident" id="6688590">Decode</span><span class="op" id="6688596">(</span><span class="op" id="6688597">&amp;</span><span class="ident" id="6688598">o3</span><span class="op" id="6688600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6688603">if</span>&nbsp;<span class="ident" id="6688606">err</span>&nbsp;<span class="op" id="6688610">==</span>&nbsp;<span class="ident" id="6688613">nil</span>&nbsp;<span class="op" id="6688617">||</span>&nbsp;<span class="ident" id="6688620">err</span><span class="op" id="6688623">.</span><span class="ident" id="6688624">Error</span><span class="op" id="6688629">(</span><span class="op" id="6688630">)</span>&nbsp;<span class="op" id="6688632">!=</span>&nbsp;<span class="string" id="6688635">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6688667">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688671">t</span><span class="op" id="6688672">.</span><span class="ident" id="6688673">Error</span><span class="op" id="6688678">(</span><span class="string" id="6688679">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="6688713">,</span>&nbsp;<span class="ident" id="6688715">err</span><span class="op" id="6688718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6688725">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688735">b</span><span class="op" id="6688736">.</span><span class="ident" id="6688737">Reset</span><span class="op" id="6688742">(</span><span class="op" id="6688743">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688746">it</span>&nbsp;<span class="op" id="6688749">=</span>&nbsp;<span class="ident" id="6688751">inputT</span><span class="op" id="6688757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688761">Maxu</span><span class="op" id="6688765">:</span>&nbsp;<span class="ident" id="6688767">math</span><span class="op" id="6688771">.</span><span class="ident" id="6688772">MaxUint8</span>&nbsp;<span class="op" id="6688781">+</span>&nbsp;<span class="num" id="6688783">1</span><span class="op" id="6688784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6688790">type</span>&nbsp;<span class="ident" id="6688795">outu8</span>&nbsp;<span class="keyword" id="6688801">struct</span>&nbsp;<span class="op" id="6688808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688812">Maxu</span>&nbsp;<span class="builtintype" id="6688817">uint8</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6688827">var</span>&nbsp;<span class="ident" id="6688831">o4</span>&nbsp;<span class="ident" id="6688834">outu8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688841">enc</span><span class="op" id="6688844">.</span><span class="ident" id="6688845">Encode</span><span class="op" id="6688851">(</span><span class="ident" id="6688852">it</span><span class="op" id="6688854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688857">err</span>&nbsp;<span class="op" id="6688861">=</span>&nbsp;<span class="ident" id="6688863">dec</span><span class="op" id="6688866">.</span><span class="ident" id="6688867">Decode</span><span class="op" id="6688873">(</span><span class="op" id="6688874">&amp;</span><span class="ident" id="6688875">o4</span><span class="op" id="6688877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6688880">if</span>&nbsp;<span class="ident" id="6688883">err</span>&nbsp;<span class="op" id="6688887">==</span>&nbsp;<span class="ident" id="6688890">nil</span>&nbsp;<span class="op" id="6688894">||</span>&nbsp;<span class="ident" id="6688897">err</span><span class="op" id="6688900">.</span><span class="ident" id="6688901">Error</span><span class="op" id="6688906">(</span><span class="op" id="6688907">)</span>&nbsp;<span class="op" id="6688909">!=</span>&nbsp;<span class="string" id="6688912">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6688944">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6688948">t</span><span class="op" id="6688949">.</span><span class="ident" id="6688950">Error</span><span class="op" id="6688955">(</span><span class="string" id="6688956">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint8:&#34;</span><span class="op" id="6688989">,</span>&nbsp;<span class="ident" id="6688991">err</span><span class="op" id="6688994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6688997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6689001">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689012">b</span><span class="op" id="6689013">.</span><span class="ident" id="6689014">Reset</span><span class="op" id="6689019">(</span><span class="op" id="6689020">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689023">it</span>&nbsp;<span class="op" id="6689026">=</span>&nbsp;<span class="ident" id="6689028">inputT</span><span class="op" id="6689034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689038">Maxu</span><span class="op" id="6689042">:</span>&nbsp;<span class="ident" id="6689044">math</span><span class="op" id="6689048">.</span><span class="ident" id="6689049">MaxUint16</span>&nbsp;<span class="op" id="6689059">+</span>&nbsp;<span class="num" id="6689061">1</span><span class="op" id="6689062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6689065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6689068">type</span>&nbsp;<span class="ident" id="6689073">outu16</span>&nbsp;<span class="keyword" id="6689080">struct</span>&nbsp;<span class="op" id="6689087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689091">Maxu</span>&nbsp;<span class="builtintype" id="6689096">uint16</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6689104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6689107">var</span>&nbsp;<span class="ident" id="6689111">o5</span>&nbsp;<span class="ident" id="6689114">outu16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689122">enc</span><span class="op" id="6689125">.</span><span class="ident" id="6689126">Encode</span><span class="op" id="6689132">(</span><span class="ident" id="6689133">it</span><span class="op" id="6689135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689138">err</span>&nbsp;<span class="op" id="6689142">=</span>&nbsp;<span class="ident" id="6689144">dec</span><span class="op" id="6689147">.</span><span class="ident" id="6689148">Decode</span><span class="op" id="6689154">(</span><span class="op" id="6689155">&amp;</span><span class="ident" id="6689156">o5</span><span class="op" id="6689158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6689161">if</span>&nbsp;<span class="ident" id="6689164">err</span>&nbsp;<span class="op" id="6689168">==</span>&nbsp;<span class="ident" id="6689171">nil</span>&nbsp;<span class="op" id="6689175">||</span>&nbsp;<span class="ident" id="6689178">err</span><span class="op" id="6689181">.</span><span class="ident" id="6689182">Error</span><span class="op" id="6689187">(</span><span class="op" id="6689188">)</span>&nbsp;<span class="op" id="6689190">!=</span>&nbsp;<span class="string" id="6689193">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6689225">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689229">t</span><span class="op" id="6689230">.</span><span class="ident" id="6689231">Error</span><span class="op" id="6689236">(</span><span class="string" id="6689237">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint16:&#34;</span><span class="op" id="6689271">,</span>&nbsp;<span class="ident" id="6689273">err</span><span class="op" id="6689276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6689279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6689283">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689294">b</span><span class="op" id="6689295">.</span><span class="ident" id="6689296">Reset</span><span class="op" id="6689301">(</span><span class="op" id="6689302">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689305">it</span>&nbsp;<span class="op" id="6689308">=</span>&nbsp;<span class="ident" id="6689310">inputT</span><span class="op" id="6689316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689320">Maxu</span><span class="op" id="6689324">:</span>&nbsp;<span class="ident" id="6689326">math</span><span class="op" id="6689330">.</span><span class="ident" id="6689331">MaxUint32</span>&nbsp;<span class="op" id="6689341">+</span>&nbsp;<span class="num" id="6689343">1</span><span class="op" id="6689344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6689347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6689350">type</span>&nbsp;<span class="ident" id="6689355">outu32</span>&nbsp;<span class="keyword" id="6689362">struct</span>&nbsp;<span class="op" id="6689369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689373">Maxu</span>&nbsp;<span class="builtintype" id="6689378">uint32</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6689386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6689389">var</span>&nbsp;<span class="ident" id="6689393">o6</span>&nbsp;<span class="ident" id="6689396">outu32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689404">enc</span><span class="op" id="6689407">.</span><span class="ident" id="6689408">Encode</span><span class="op" id="6689414">(</span><span class="ident" id="6689415">it</span><span class="op" id="6689417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689420">err</span>&nbsp;<span class="op" id="6689424">=</span>&nbsp;<span class="ident" id="6689426">dec</span><span class="op" id="6689429">.</span><span class="ident" id="6689430">Decode</span><span class="op" id="6689436">(</span><span class="op" id="6689437">&amp;</span><span class="ident" id="6689438">o6</span><span class="op" id="6689440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6689443">if</span>&nbsp;<span class="ident" id="6689446">err</span>&nbsp;<span class="op" id="6689450">==</span>&nbsp;<span class="ident" id="6689453">nil</span>&nbsp;<span class="op" id="6689457">||</span>&nbsp;<span class="ident" id="6689460">err</span><span class="op" id="6689463">.</span><span class="ident" id="6689464">Error</span><span class="op" id="6689469">(</span><span class="op" id="6689470">)</span>&nbsp;<span class="op" id="6689472">!=</span>&nbsp;<span class="string" id="6689475">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6689507">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689511">t</span><span class="op" id="6689512">.</span><span class="ident" id="6689513">Error</span><span class="op" id="6689518">(</span><span class="string" id="6689519">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint32:&#34;</span><span class="op" id="6689553">,</span>&nbsp;<span class="ident" id="6689555">err</span><span class="op" id="6689558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6689561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6689565">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689577">b</span><span class="op" id="6689578">.</span><span class="ident" id="6689579">Reset</span><span class="op" id="6689584">(</span><span class="op" id="6689585">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689588">it</span>&nbsp;<span class="op" id="6689591">=</span>&nbsp;<span class="ident" id="6689593">inputT</span><span class="op" id="6689599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689603">Maxf</span><span class="op" id="6689607">:</span>&nbsp;<span class="ident" id="6689609">math</span><span class="op" id="6689613">.</span><span class="ident" id="6689614">MaxFloat32</span>&nbsp;<span class="op" id="6689625">*</span>&nbsp;<span class="num" id="6689627">2</span><span class="op" id="6689628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6689631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6689634">type</span>&nbsp;<span class="ident" id="6689639">outf32</span>&nbsp;<span class="keyword" id="6689646">struct</span>&nbsp;<span class="op" id="6689653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689657">Maxf</span>&nbsp;<span class="builtintype" id="6689662">float32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689672">Minf</span>&nbsp;<span class="builtintype" id="6689677">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6689686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6689689">var</span>&nbsp;<span class="ident" id="6689693">o7</span>&nbsp;<span class="ident" id="6689696">outf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689704">enc</span><span class="op" id="6689707">.</span><span class="ident" id="6689708">Encode</span><span class="op" id="6689714">(</span><span class="ident" id="6689715">it</span><span class="op" id="6689717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689720">err</span>&nbsp;<span class="op" id="6689724">=</span>&nbsp;<span class="ident" id="6689726">dec</span><span class="op" id="6689729">.</span><span class="ident" id="6689730">Decode</span><span class="op" id="6689736">(</span><span class="op" id="6689737">&amp;</span><span class="ident" id="6689738">o7</span><span class="op" id="6689740">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6689743">if</span>&nbsp;<span class="ident" id="6689746">err</span>&nbsp;<span class="op" id="6689750">==</span>&nbsp;<span class="ident" id="6689753">nil</span>&nbsp;<span class="op" id="6689757">||</span>&nbsp;<span class="ident" id="6689760">err</span><span class="op" id="6689763">.</span><span class="ident" id="6689764">Error</span><span class="op" id="6689769">(</span><span class="op" id="6689770">)</span>&nbsp;<span class="op" id="6689772">!=</span>&nbsp;<span class="string" id="6689775">`value&nbsp;for&nbsp;&#34;Maxf&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6689807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689811">t</span><span class="op" id="6689812">.</span><span class="ident" id="6689813">Error</span><span class="op" id="6689818">(</span><span class="string" id="6689819">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;float32:&#34;</span><span class="op" id="6689854">,</span>&nbsp;<span class="ident" id="6689856">err</span><span class="op" id="6689859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6689862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6689866">//&nbsp;complex64</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689880">b</span><span class="op" id="6689881">.</span><span class="ident" id="6689882">Reset</span><span class="op" id="6689887">(</span><span class="op" id="6689888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689891">it</span>&nbsp;<span class="op" id="6689894">=</span>&nbsp;<span class="ident" id="6689896">inputT</span><span class="op" id="6689902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689906">Maxc</span><span class="op" id="6689910">:</span>&nbsp;<span class="builtinfunc" id="6689912">complex</span><span class="op" id="6689919">(</span><span class="ident" id="6689920">math</span><span class="op" id="6689924">.</span><span class="ident" id="6689925">MaxFloat32</span><span class="op" id="6689935">*</span><span class="num" id="6689936">2</span><span class="op" id="6689937">,</span>&nbsp;<span class="ident" id="6689939">math</span><span class="op" id="6689943">.</span><span class="ident" id="6689944">MaxFloat32</span><span class="op" id="6689954">*</span><span class="num" id="6689955">2</span><span class="op" id="6689956">)</span><span class="op" id="6689957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6689960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6689963">type</span>&nbsp;<span class="ident" id="6689968">outc64</span>&nbsp;<span class="keyword" id="6689975">struct</span>&nbsp;<span class="op" id="6689982">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6689986">Maxc</span>&nbsp;<span class="builtintype" id="6689991">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690003">Minc</span>&nbsp;<span class="builtintype" id="6690008">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6690019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6690022">var</span>&nbsp;<span class="ident" id="6690026">o8</span>&nbsp;<span class="ident" id="6690029">outc64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690037">enc</span><span class="op" id="6690040">.</span><span class="ident" id="6690041">Encode</span><span class="op" id="6690047">(</span><span class="ident" id="6690048">it</span><span class="op" id="6690050">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690053">err</span>&nbsp;<span class="op" id="6690057">=</span>&nbsp;<span class="ident" id="6690059">dec</span><span class="op" id="6690062">.</span><span class="ident" id="6690063">Decode</span><span class="op" id="6690069">(</span><span class="op" id="6690070">&amp;</span><span class="ident" id="6690071">o8</span><span class="op" id="6690073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6690076">if</span>&nbsp;<span class="ident" id="6690079">err</span>&nbsp;<span class="op" id="6690083">==</span>&nbsp;<span class="ident" id="6690086">nil</span>&nbsp;<span class="op" id="6690090">||</span>&nbsp;<span class="ident" id="6690093">err</span><span class="op" id="6690096">.</span><span class="ident" id="6690097">Error</span><span class="op" id="6690102">(</span><span class="op" id="6690103">)</span>&nbsp;<span class="op" id="6690105">!=</span>&nbsp;<span class="string" id="6690108">`value&nbsp;for&nbsp;&#34;Maxc&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="6690140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690144">t</span><span class="op" id="6690145">.</span><span class="ident" id="6690146">Error</span><span class="op" id="6690151">(</span><span class="string" id="6690152">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;complex64:&#34;</span><span class="op" id="6690189">,</span>&nbsp;<span class="ident" id="6690191">err</span><span class="op" id="6690194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6690197">}</span><br>
<span class="lineno"></span><span class="op" id="6690199">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="keyword" id="6690202">func</span>&nbsp;<span class="ident" id="6690207">TestNesting</span><span class="op" id="6690218">(</span><span class="ident" id="6690219">t</span>&nbsp;<span class="op" id="6690221">*</span><span class="ident" id="6690222">testing</span><span class="op" id="6690229">.</span><span class="ident" id="6690230">T</span><span class="op" id="6690231">)</span>&nbsp;<span class="op" id="6690233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6690236">type</span>&nbsp;<span class="ident" id="6690241">RT</span>&nbsp;<span class="keyword" id="6690244">struct</span>&nbsp;<span class="op" id="6690251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690255">A</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6690260">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690269">Next</span>&nbsp;<span class="op" id="6690274">*</span><span class="ident" id="6690275">RT</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6690279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690282">rt</span>&nbsp;<span class="op" id="6690285">:=</span>&nbsp;<span class="builtinfunc" id="6690288">new</span><span class="op" id="6690291">(</span><span class="ident" id="6690292">RT</span><span class="op" id="6690294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690297">rt</span><span class="op" id="6690299">.</span><span class="ident" id="6690300">A</span>&nbsp;<span class="op" id="6690302">=</span>&nbsp;<span class="string" id="6690304">&#34;level1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690314">rt</span><span class="op" id="6690316">.</span><span class="ident" id="6690317">Next</span>&nbsp;<span class="op" id="6690322">=</span>&nbsp;<span class="builtinfunc" id="6690324">new</span><span class="op" id="6690327">(</span><span class="ident" id="6690328">RT</span><span class="op" id="6690330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690333">rt</span><span class="op" id="6690335">.</span><span class="ident" id="6690336">Next</span><span class="op" id="6690340">.</span><span class="ident" id="6690341">A</span>&nbsp;<span class="op" id="6690343">=</span>&nbsp;<span class="string" id="6690345">&#34;level2&#34;</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690355">b</span>&nbsp;<span class="op" id="6690357">:=</span>&nbsp;<span class="builtinfunc" id="6690360">new</span><span class="op" id="6690363">(</span><span class="ident" id="6690364">bytes</span><span class="op" id="6690369">.</span><span class="ident" id="6690370">Buffer</span><span class="op" id="6690376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690379">NewEncoder</span><span class="op" id="6690389">(</span><span class="ident" id="6690390">b</span><span class="op" id="6690391">)</span><span class="op" id="6690392">.</span><span class="ident" id="6690393">Encode</span><span class="op" id="6690399">(</span><span class="ident" id="6690400">rt</span><span class="op" id="6690402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6690405">var</span>&nbsp;<span class="ident" id="6690409">drt</span>&nbsp;<span class="ident" id="6690413">RT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690417">dec</span>&nbsp;<span class="op" id="6690421">:=</span>&nbsp;<span class="ident" id="6690424">NewDecoder</span><span class="op" id="6690434">(</span><span class="ident" id="6690435">b</span><span class="op" id="6690436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690439">err</span>&nbsp;<span class="op" id="6690443">:=</span>&nbsp;<span class="ident" id="6690446">dec</span><span class="op" id="6690449">.</span><span class="ident" id="6690450">Decode</span><span class="op" id="6690456">(</span><span class="op" id="6690457">&amp;</span><span class="ident" id="6690458">drt</span><span class="op" id="6690461">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6690464">if</span>&nbsp;<span class="ident" id="6690467">err</span>&nbsp;<span class="op" id="6690471">!=</span>&nbsp;<span class="ident" id="6690474">nil</span>&nbsp;<span class="op" id="6690478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690482">t</span><span class="op" id="6690483">.</span><span class="ident" id="6690484">Fatal</span><span class="op" id="6690489">(</span><span class="string" id="6690490">&#34;decoder&nbsp;error:&#34;</span><span class="op" id="6690506">,</span>&nbsp;<span class="ident" id="6690508">err</span><span class="op" id="6690511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6690514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6690517">if</span>&nbsp;<span class="ident" id="6690520">drt</span><span class="op" id="6690523">.</span><span class="ident" id="6690524">A</span>&nbsp;<span class="op" id="6690526">!=</span>&nbsp;<span class="ident" id="6690529">rt</span><span class="op" id="6690531">.</span><span class="ident" id="6690532">A</span>&nbsp;<span class="op" id="6690534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690538">t</span><span class="op" id="6690539">.</span><span class="ident" id="6690540">Errorf</span><span class="op" id="6690546">(</span><span class="string" id="6690547">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6690583">,</span>&nbsp;<span class="op" id="6690585">*</span><span class="ident" id="6690586">rt</span><span class="op" id="6690588">,</span>&nbsp;<span class="ident" id="6690590">drt</span><span class="op" id="6690593">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6690596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6690599">if</span>&nbsp;<span class="ident" id="6690602">drt</span><span class="op" id="6690605">.</span><span class="ident" id="6690606">Next</span>&nbsp;<span class="op" id="6690611">==</span>&nbsp;<span class="ident" id="6690614">nil</span>&nbsp;<span class="op" id="6690618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690622">t</span><span class="op" id="6690623">.</span><span class="ident" id="6690624">Errorf</span><span class="op" id="6690630">(</span><span class="string" id="6690631">&#34;nesting:&nbsp;recursion&nbsp;failed&#34;</span><span class="op" id="6690658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6690661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6690664">if</span>&nbsp;<span class="ident" id="6690667">drt</span><span class="op" id="6690670">.</span><span class="ident" id="6690671">Next</span><span class="op" id="6690675">.</span><span class="ident" id="6690676">A</span>&nbsp;<span class="op" id="6690678">!=</span>&nbsp;<span class="ident" id="6690681">rt</span><span class="op" id="6690683">.</span><span class="ident" id="6690684">Next</span><span class="op" id="6690688">.</span><span class="ident" id="6690689">A</span>&nbsp;<span class="op" id="6690691">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690695">t</span><span class="op" id="6690696">.</span><span class="ident" id="6690697">Errorf</span><span class="op" id="6690703">(</span><span class="string" id="6690704">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6690740">,</span>&nbsp;<span class="op" id="6690742">*</span><span class="ident" id="6690743">rt</span><span class="op" id="6690745">.</span><span class="ident" id="6690746">Next</span><span class="op" id="6690750">,</span>&nbsp;<span class="op" id="6690752">*</span><span class="ident" id="6690753">drt</span><span class="op" id="6690756">.</span><span class="ident" id="6690757">Next</span><span class="op" id="6690761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6690764">}</span><br>
<span class="lineno"></span><span class="op" id="6690766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6690769">//&nbsp;These&nbsp;three&nbsp;structures&nbsp;have&nbsp;the&nbsp;same&nbsp;data&nbsp;with&nbsp;different&nbsp;indirections</span><br>
<span class="lineno">800</span><span class="keyword" id="6690842">type</span>&nbsp;<span class="ident" id="6690847">T0</span>&nbsp;<span class="keyword" id="6690850">struct</span>&nbsp;<span class="op" id="6690857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690860">A</span>&nbsp;<span class="builtintype" id="6690862">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690867">B</span>&nbsp;<span class="builtintype" id="6690869">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690874">C</span>&nbsp;<span class="builtintype" id="6690876">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690881">D</span>&nbsp;<span class="builtintype" id="6690883">int</span><br>
<span class="lineno">805</span><span class="op" id="6690887">}</span><br>
<span class="lineno"></span><span class="keyword" id="6690889">type</span>&nbsp;<span class="ident" id="6690894">T1</span>&nbsp;<span class="keyword" id="6690897">struct</span>&nbsp;<span class="op" id="6690904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690907">A</span>&nbsp;<span class="builtintype" id="6690909">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690914">B</span>&nbsp;<span class="op" id="6690916">*</span><span class="builtintype" id="6690917">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690922">C</span>&nbsp;<span class="op" id="6690924">*</span><span class="op" id="6690925">*</span><span class="builtintype" id="6690926">int</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690931">D</span>&nbsp;<span class="op" id="6690933">*</span><span class="op" id="6690934">*</span><span class="op" id="6690935">*</span><span class="builtintype" id="6690936">int</span><br>
<span class="lineno"></span><span class="op" id="6690940">}</span><br>
<span class="lineno"></span><span class="keyword" id="6690942">type</span>&nbsp;<span class="ident" id="6690947">T2</span>&nbsp;<span class="keyword" id="6690950">struct</span>&nbsp;<span class="op" id="6690957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690960">A</span>&nbsp;<span class="op" id="6690962">*</span><span class="op" id="6690963">*</span><span class="op" id="6690964">*</span><span class="builtintype" id="6690965">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690970">B</span>&nbsp;<span class="op" id="6690972">*</span><span class="op" id="6690973">*</span><span class="builtintype" id="6690974">int</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690979">C</span>&nbsp;<span class="op" id="6690981">*</span><span class="builtintype" id="6690982">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6690987">D</span>&nbsp;<span class="builtintype" id="6690989">int</span><br>
<span class="lineno"></span><span class="op" id="6690993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6690996">func</span>&nbsp;<span class="ident" id="6691001">TestAutoIndirection</span><span class="op" id="6691020">(</span><span class="ident" id="6691021">t</span>&nbsp;<span class="op" id="6691023">*</span><span class="ident" id="6691024">testing</span><span class="op" id="6691031">.</span><span class="ident" id="6691032">T</span><span class="op" id="6691033">)</span>&nbsp;<span class="op" id="6691035">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6691038">//&nbsp;First&nbsp;transfer&nbsp;t1&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6691068">var</span>&nbsp;<span class="ident" id="6691072">t1</span>&nbsp;<span class="ident" id="6691075">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691079">t1</span><span class="op" id="6691081">.</span><span class="ident" id="6691082">A</span>&nbsp;<span class="op" id="6691084">=</span>&nbsp;<span class="num" id="6691086">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691090">t1</span><span class="op" id="6691092">.</span><span class="ident" id="6691093">B</span>&nbsp;<span class="op" id="6691095">=</span>&nbsp;<span class="builtinfunc" id="6691097">new</span><span class="op" id="6691100">(</span><span class="builtintype" id="6691101">int</span><span class="op" id="6691104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691107">*</span><span class="ident" id="6691108">t1</span><span class="op" id="6691110">.</span><span class="ident" id="6691111">B</span>&nbsp;<span class="op" id="6691113">=</span>&nbsp;<span class="num" id="6691115">177</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691120">t1</span><span class="op" id="6691122">.</span><span class="ident" id="6691123">C</span>&nbsp;<span class="op" id="6691125">=</span>&nbsp;<span class="builtinfunc" id="6691127">new</span><span class="op" id="6691130">(</span><span class="op" id="6691131">*</span><span class="builtintype" id="6691132">int</span><span class="op" id="6691135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691138">*</span><span class="ident" id="6691139">t1</span><span class="op" id="6691141">.</span><span class="ident" id="6691142">C</span>&nbsp;<span class="op" id="6691144">=</span>&nbsp;<span class="builtinfunc" id="6691146">new</span><span class="op" id="6691149">(</span><span class="builtintype" id="6691150">int</span><span class="op" id="6691153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691156">*</span><span class="op" id="6691157">*</span><span class="ident" id="6691158">t1</span><span class="op" id="6691160">.</span><span class="ident" id="6691161">C</span>&nbsp;<span class="op" id="6691163">=</span>&nbsp;<span class="num" id="6691165">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691171">t1</span><span class="op" id="6691173">.</span><span class="ident" id="6691174">D</span>&nbsp;<span class="op" id="6691176">=</span>&nbsp;<span class="builtinfunc" id="6691178">new</span><span class="op" id="6691181">(</span><span class="op" id="6691182">*</span><span class="op" id="6691183">*</span><span class="builtintype" id="6691184">int</span><span class="op" id="6691187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691190">*</span><span class="ident" id="6691191">t1</span><span class="op" id="6691193">.</span><span class="ident" id="6691194">D</span>&nbsp;<span class="op" id="6691196">=</span>&nbsp;<span class="builtinfunc" id="6691198">new</span><span class="op" id="6691201">(</span><span class="op" id="6691202">*</span><span class="builtintype" id="6691203">int</span><span class="op" id="6691206">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691209">*</span><span class="op" id="6691210">*</span><span class="ident" id="6691211">t1</span><span class="op" id="6691213">.</span><span class="ident" id="6691214">D</span>&nbsp;<span class="op" id="6691216">=</span>&nbsp;<span class="builtinfunc" id="6691218">new</span><span class="op" id="6691221">(</span><span class="builtintype" id="6691222">int</span><span class="op" id="6691225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691228">*</span><span class="op" id="6691229">*</span><span class="op" id="6691230">*</span><span class="ident" id="6691231">t1</span><span class="op" id="6691233">.</span><span class="ident" id="6691234">D</span>&nbsp;<span class="op" id="6691236">=</span>&nbsp;<span class="num" id="6691238">17777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691245">b</span>&nbsp;<span class="op" id="6691247">:=</span>&nbsp;<span class="builtinfunc" id="6691250">new</span><span class="op" id="6691253">(</span><span class="ident" id="6691254">bytes</span><span class="op" id="6691259">.</span><span class="ident" id="6691260">Buffer</span><span class="op" id="6691266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691269">enc</span>&nbsp;<span class="op" id="6691273">:=</span>&nbsp;<span class="ident" id="6691276">NewEncoder</span><span class="op" id="6691286">(</span><span class="ident" id="6691287">b</span><span class="op" id="6691288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691291">enc</span><span class="op" id="6691294">.</span><span class="ident" id="6691295">Encode</span><span class="op" id="6691301">(</span><span class="ident" id="6691302">t1</span><span class="op" id="6691304">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691307">dec</span>&nbsp;<span class="op" id="6691311">:=</span>&nbsp;<span class="ident" id="6691314">NewDecoder</span><span class="op" id="6691324">(</span><span class="ident" id="6691325">b</span><span class="op" id="6691326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6691329">var</span>&nbsp;<span class="ident" id="6691333">t0</span>&nbsp;<span class="ident" id="6691336">T0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691340">dec</span><span class="op" id="6691343">.</span><span class="ident" id="6691344">Decode</span><span class="op" id="6691350">(</span><span class="op" id="6691351">&amp;</span><span class="ident" id="6691352">t0</span><span class="op" id="6691354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6691357">if</span>&nbsp;<span class="ident" id="6691360">t0</span><span class="op" id="6691362">.</span><span class="ident" id="6691363">A</span>&nbsp;<span class="op" id="6691365">!=</span>&nbsp;<span class="num" id="6691368">17</span>&nbsp;<span class="op" id="6691371">||</span>&nbsp;<span class="ident" id="6691374">t0</span><span class="op" id="6691376">.</span><span class="ident" id="6691377">B</span>&nbsp;<span class="op" id="6691379">!=</span>&nbsp;<span class="num" id="6691382">177</span>&nbsp;<span class="op" id="6691386">||</span>&nbsp;<span class="ident" id="6691389">t0</span><span class="op" id="6691391">.</span><span class="ident" id="6691392">C</span>&nbsp;<span class="op" id="6691394">!=</span>&nbsp;<span class="num" id="6691397">1777</span>&nbsp;<span class="op" id="6691402">||</span>&nbsp;<span class="ident" id="6691405">t0</span><span class="op" id="6691407">.</span><span class="ident" id="6691408">D</span>&nbsp;<span class="op" id="6691410">!=</span>&nbsp;<span class="num" id="6691413">17777</span>&nbsp;<span class="op" id="6691419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691423">t</span><span class="op" id="6691424">.</span><span class="ident" id="6691425">Errorf</span><span class="op" id="6691431">(</span><span class="string" id="6691432">&#34;t1-&gt;t0:&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6691478">,</span>&nbsp;<span class="ident" id="6691480">t0</span><span class="op" id="6691482">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6691489">//&nbsp;Now&nbsp;transfer&nbsp;t2&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6691517">var</span>&nbsp;<span class="ident" id="6691521">t2</span>&nbsp;<span class="ident" id="6691524">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691528">t2</span><span class="op" id="6691530">.</span><span class="ident" id="6691531">D</span>&nbsp;<span class="op" id="6691533">=</span>&nbsp;<span class="num" id="6691535">17777</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691542">t2</span><span class="op" id="6691544">.</span><span class="ident" id="6691545">C</span>&nbsp;<span class="op" id="6691547">=</span>&nbsp;<span class="builtinfunc" id="6691549">new</span><span class="op" id="6691552">(</span><span class="builtintype" id="6691553">int</span><span class="op" id="6691556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691559">*</span><span class="ident" id="6691560">t2</span><span class="op" id="6691562">.</span><span class="ident" id="6691563">C</span>&nbsp;<span class="op" id="6691565">=</span>&nbsp;<span class="num" id="6691567">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691573">t2</span><span class="op" id="6691575">.</span><span class="ident" id="6691576">B</span>&nbsp;<span class="op" id="6691578">=</span>&nbsp;<span class="builtinfunc" id="6691580">new</span><span class="op" id="6691583">(</span><span class="op" id="6691584">*</span><span class="builtintype" id="6691585">int</span><span class="op" id="6691588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691591">*</span><span class="ident" id="6691592">t2</span><span class="op" id="6691594">.</span><span class="ident" id="6691595">B</span>&nbsp;<span class="op" id="6691597">=</span>&nbsp;<span class="builtinfunc" id="6691599">new</span><span class="op" id="6691602">(</span><span class="builtintype" id="6691603">int</span><span class="op" id="6691606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691609">*</span><span class="op" id="6691610">*</span><span class="ident" id="6691611">t2</span><span class="op" id="6691613">.</span><span class="ident" id="6691614">B</span>&nbsp;<span class="op" id="6691616">=</span>&nbsp;<span class="num" id="6691618">177</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691623">t2</span><span class="op" id="6691625">.</span><span class="ident" id="6691626">A</span>&nbsp;<span class="op" id="6691628">=</span>&nbsp;<span class="builtinfunc" id="6691630">new</span><span class="op" id="6691633">(</span><span class="op" id="6691634">*</span><span class="op" id="6691635">*</span><span class="builtintype" id="6691636">int</span><span class="op" id="6691639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691642">*</span><span class="ident" id="6691643">t2</span><span class="op" id="6691645">.</span><span class="ident" id="6691646">A</span>&nbsp;<span class="op" id="6691648">=</span>&nbsp;<span class="builtinfunc" id="6691650">new</span><span class="op" id="6691653">(</span><span class="op" id="6691654">*</span><span class="builtintype" id="6691655">int</span><span class="op" id="6691658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691661">*</span><span class="op" id="6691662">*</span><span class="ident" id="6691663">t2</span><span class="op" id="6691665">.</span><span class="ident" id="6691666">A</span>&nbsp;<span class="op" id="6691668">=</span>&nbsp;<span class="builtinfunc" id="6691670">new</span><span class="op" id="6691673">(</span><span class="builtintype" id="6691674">int</span><span class="op" id="6691677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691680">*</span><span class="op" id="6691681">*</span><span class="op" id="6691682">*</span><span class="ident" id="6691683">t2</span><span class="op" id="6691685">.</span><span class="ident" id="6691686">A</span>&nbsp;<span class="op" id="6691688">=</span>&nbsp;<span class="num" id="6691690">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691694">b</span><span class="op" id="6691695">.</span><span class="ident" id="6691696">Reset</span><span class="op" id="6691701">(</span><span class="op" id="6691702">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691705">enc</span><span class="op" id="6691708">.</span><span class="ident" id="6691709">Encode</span><span class="op" id="6691715">(</span><span class="ident" id="6691716">t2</span><span class="op" id="6691718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691721">t0</span>&nbsp;<span class="op" id="6691724">=</span>&nbsp;<span class="ident" id="6691726">T0</span><span class="op" id="6691728">{</span><span class="op" id="6691729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691732">dec</span><span class="op" id="6691735">.</span><span class="ident" id="6691736">Decode</span><span class="op" id="6691742">(</span><span class="op" id="6691743">&amp;</span><span class="ident" id="6691744">t0</span><span class="op" id="6691746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6691749">if</span>&nbsp;<span class="ident" id="6691752">t0</span><span class="op" id="6691754">.</span><span class="ident" id="6691755">A</span>&nbsp;<span class="op" id="6691757">!=</span>&nbsp;<span class="num" id="6691760">17</span>&nbsp;<span class="op" id="6691763">||</span>&nbsp;<span class="ident" id="6691766">t0</span><span class="op" id="6691768">.</span><span class="ident" id="6691769">B</span>&nbsp;<span class="op" id="6691771">!=</span>&nbsp;<span class="num" id="6691774">177</span>&nbsp;<span class="op" id="6691778">||</span>&nbsp;<span class="ident" id="6691781">t0</span><span class="op" id="6691783">.</span><span class="ident" id="6691784">C</span>&nbsp;<span class="op" id="6691786">!=</span>&nbsp;<span class="num" id="6691789">1777</span>&nbsp;<span class="op" id="6691794">||</span>&nbsp;<span class="ident" id="6691797">t0</span><span class="op" id="6691799">.</span><span class="ident" id="6691800">D</span>&nbsp;<span class="op" id="6691802">!=</span>&nbsp;<span class="num" id="6691805">17777</span>&nbsp;<span class="op" id="6691811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691815">t</span><span class="op" id="6691816">.</span><span class="ident" id="6691817">Errorf</span><span class="op" id="6691823">(</span><span class="string" id="6691824">&#34;t2-&gt;t0&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6691869">,</span>&nbsp;<span class="ident" id="6691871">t0</span><span class="op" id="6691873">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6691880">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691908">t0</span>&nbsp;<span class="op" id="6691911">=</span>&nbsp;<span class="ident" id="6691913">T0</span><span class="op" id="6691915">{</span><span class="num" id="6691916">17</span><span class="op" id="6691918">,</span>&nbsp;<span class="num" id="6691920">177</span><span class="op" id="6691923">,</span>&nbsp;<span class="num" id="6691925">1777</span><span class="op" id="6691929">,</span>&nbsp;<span class="num" id="6691931">17777</span><span class="op" id="6691936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691939">b</span><span class="op" id="6691940">.</span><span class="ident" id="6691941">Reset</span><span class="op" id="6691946">(</span><span class="op" id="6691947">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691950">enc</span><span class="op" id="6691953">.</span><span class="ident" id="6691954">Encode</span><span class="op" id="6691960">(</span><span class="ident" id="6691961">t0</span><span class="op" id="6691963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691966">t1</span>&nbsp;<span class="op" id="6691969">=</span>&nbsp;<span class="ident" id="6691971">T1</span><span class="op" id="6691973">{</span><span class="op" id="6691974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691977">dec</span><span class="op" id="6691980">.</span><span class="ident" id="6691981">Decode</span><span class="op" id="6691987">(</span><span class="op" id="6691988">&amp;</span><span class="ident" id="6691989">t1</span><span class="op" id="6691991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6691994">if</span>&nbsp;<span class="ident" id="6691997">t1</span><span class="op" id="6691999">.</span><span class="ident" id="6692000">A</span>&nbsp;<span class="op" id="6692002">!=</span>&nbsp;<span class="num" id="6692005">17</span>&nbsp;<span class="op" id="6692008">||</span>&nbsp;<span class="op" id="6692011">*</span><span class="ident" id="6692012">t1</span><span class="op" id="6692014">.</span><span class="ident" id="6692015">B</span>&nbsp;<span class="op" id="6692017">!=</span>&nbsp;<span class="num" id="6692020">177</span>&nbsp;<span class="op" id="6692024">||</span>&nbsp;<span class="op" id="6692027">*</span><span class="op" id="6692028">*</span><span class="ident" id="6692029">t1</span><span class="op" id="6692031">.</span><span class="ident" id="6692032">C</span>&nbsp;<span class="op" id="6692034">!=</span>&nbsp;<span class="num" id="6692037">1777</span>&nbsp;<span class="op" id="6692042">||</span>&nbsp;<span class="op" id="6692045">*</span><span class="op" id="6692046">*</span><span class="op" id="6692047">*</span><span class="ident" id="6692048">t1</span><span class="op" id="6692050">.</span><span class="ident" id="6692051">D</span>&nbsp;<span class="op" id="6692053">!=</span>&nbsp;<span class="num" id="6692056">17777</span>&nbsp;<span class="op" id="6692062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692066">t</span><span class="op" id="6692067">.</span><span class="ident" id="6692068">Errorf</span><span class="op" id="6692074">(</span><span class="string" id="6692075">&#34;t0-&gt;t1&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="6692131">,</span>&nbsp;<span class="ident" id="6692133">t1</span><span class="op" id="6692135">.</span><span class="ident" id="6692136">A</span><span class="op" id="6692137">,</span>&nbsp;<span class="op" id="6692139">*</span><span class="ident" id="6692140">t1</span><span class="op" id="6692142">.</span><span class="ident" id="6692143">B</span><span class="op" id="6692144">,</span>&nbsp;<span class="op" id="6692146">*</span><span class="op" id="6692147">*</span><span class="ident" id="6692148">t1</span><span class="op" id="6692150">.</span><span class="ident" id="6692151">C</span><span class="op" id="6692152">,</span>&nbsp;<span class="op" id="6692154">*</span><span class="op" id="6692155">*</span><span class="op" id="6692156">*</span><span class="ident" id="6692157">t1</span><span class="op" id="6692159">.</span><span class="ident" id="6692160">D</span><span class="op" id="6692161">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6692168">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692196">b</span><span class="op" id="6692197">.</span><span class="ident" id="6692198">Reset</span><span class="op" id="6692203">(</span><span class="op" id="6692204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692207">enc</span><span class="op" id="6692210">.</span><span class="ident" id="6692211">Encode</span><span class="op" id="6692217">(</span><span class="ident" id="6692218">t0</span><span class="op" id="6692220">)</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692223">t2</span>&nbsp;<span class="op" id="6692226">=</span>&nbsp;<span class="ident" id="6692228">T2</span><span class="op" id="6692230">{</span><span class="op" id="6692231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692234">dec</span><span class="op" id="6692237">.</span><span class="ident" id="6692238">Decode</span><span class="op" id="6692244">(</span><span class="op" id="6692245">&amp;</span><span class="ident" id="6692246">t2</span><span class="op" id="6692248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692251">if</span>&nbsp;<span class="op" id="6692254">*</span><span class="op" id="6692255">*</span><span class="op" id="6692256">*</span><span class="ident" id="6692257">t2</span><span class="op" id="6692259">.</span><span class="ident" id="6692260">A</span>&nbsp;<span class="op" id="6692262">!=</span>&nbsp;<span class="num" id="6692265">17</span>&nbsp;<span class="op" id="6692268">||</span>&nbsp;<span class="op" id="6692271">*</span><span class="op" id="6692272">*</span><span class="ident" id="6692273">t2</span><span class="op" id="6692275">.</span><span class="ident" id="6692276">B</span>&nbsp;<span class="op" id="6692278">!=</span>&nbsp;<span class="num" id="6692281">177</span>&nbsp;<span class="op" id="6692285">||</span>&nbsp;<span class="op" id="6692288">*</span><span class="ident" id="6692289">t2</span><span class="op" id="6692291">.</span><span class="ident" id="6692292">C</span>&nbsp;<span class="op" id="6692294">!=</span>&nbsp;<span class="num" id="6692297">1777</span>&nbsp;<span class="op" id="6692302">||</span>&nbsp;<span class="ident" id="6692305">t2</span><span class="op" id="6692307">.</span><span class="ident" id="6692308">D</span>&nbsp;<span class="op" id="6692310">!=</span>&nbsp;<span class="num" id="6692313">17777</span>&nbsp;<span class="op" id="6692319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692323">t</span><span class="op" id="6692324">.</span><span class="ident" id="6692325">Errorf</span><span class="op" id="6692331">(</span><span class="string" id="6692332">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="6692388">,</span>&nbsp;<span class="op" id="6692390">*</span><span class="op" id="6692391">*</span><span class="op" id="6692392">*</span><span class="ident" id="6692393">t2</span><span class="op" id="6692395">.</span><span class="ident" id="6692396">A</span><span class="op" id="6692397">,</span>&nbsp;<span class="op" id="6692399">*</span><span class="op" id="6692400">*</span><span class="ident" id="6692401">t2</span><span class="op" id="6692403">.</span><span class="ident" id="6692404">B</span><span class="op" id="6692405">,</span>&nbsp;<span class="op" id="6692407">*</span><span class="ident" id="6692408">t2</span><span class="op" id="6692410">.</span><span class="ident" id="6692411">C</span><span class="op" id="6692412">,</span>&nbsp;<span class="ident" id="6692414">t2</span><span class="op" id="6692416">.</span><span class="ident" id="6692417">D</span><span class="op" id="6692418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692421">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6692425">//&nbsp;Now&nbsp;do&nbsp;t2&nbsp;again&nbsp;but&nbsp;without&nbsp;pre-allocated&nbsp;pointers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692481">b</span><span class="op" id="6692482">.</span><span class="ident" id="6692483">Reset</span><span class="op" id="6692488">(</span><span class="op" id="6692489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692492">enc</span><span class="op" id="6692495">.</span><span class="ident" id="6692496">Encode</span><span class="op" id="6692502">(</span><span class="ident" id="6692503">t0</span><span class="op" id="6692505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692508">*</span><span class="op" id="6692509">*</span><span class="op" id="6692510">*</span><span class="ident" id="6692511">t2</span><span class="op" id="6692513">.</span><span class="ident" id="6692514">A</span>&nbsp;<span class="op" id="6692516">=</span>&nbsp;<span class="num" id="6692518">0</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692521">*</span><span class="op" id="6692522">*</span><span class="ident" id="6692523">t2</span><span class="op" id="6692525">.</span><span class="ident" id="6692526">B</span>&nbsp;<span class="op" id="6692528">=</span>&nbsp;<span class="num" id="6692530">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692533">*</span><span class="ident" id="6692534">t2</span><span class="op" id="6692536">.</span><span class="ident" id="6692537">C</span>&nbsp;<span class="op" id="6692539">=</span>&nbsp;<span class="num" id="6692541">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692544">t2</span><span class="op" id="6692546">.</span><span class="ident" id="6692547">D</span>&nbsp;<span class="op" id="6692549">=</span>&nbsp;<span class="num" id="6692551">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692554">dec</span><span class="op" id="6692557">.</span><span class="ident" id="6692558">Decode</span><span class="op" id="6692564">(</span><span class="op" id="6692565">&amp;</span><span class="ident" id="6692566">t2</span><span class="op" id="6692568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692571">if</span>&nbsp;<span class="op" id="6692574">*</span><span class="op" id="6692575">*</span><span class="op" id="6692576">*</span><span class="ident" id="6692577">t2</span><span class="op" id="6692579">.</span><span class="ident" id="6692580">A</span>&nbsp;<span class="op" id="6692582">!=</span>&nbsp;<span class="num" id="6692585">17</span>&nbsp;<span class="op" id="6692588">||</span>&nbsp;<span class="op" id="6692591">*</span><span class="op" id="6692592">*</span><span class="ident" id="6692593">t2</span><span class="op" id="6692595">.</span><span class="ident" id="6692596">B</span>&nbsp;<span class="op" id="6692598">!=</span>&nbsp;<span class="num" id="6692601">177</span>&nbsp;<span class="op" id="6692605">||</span>&nbsp;<span class="op" id="6692608">*</span><span class="ident" id="6692609">t2</span><span class="op" id="6692611">.</span><span class="ident" id="6692612">C</span>&nbsp;<span class="op" id="6692614">!=</span>&nbsp;<span class="num" id="6692617">1777</span>&nbsp;<span class="op" id="6692622">||</span>&nbsp;<span class="ident" id="6692625">t2</span><span class="op" id="6692627">.</span><span class="ident" id="6692628">D</span>&nbsp;<span class="op" id="6692630">!=</span>&nbsp;<span class="num" id="6692633">17777</span>&nbsp;<span class="op" id="6692639">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692643">t</span><span class="op" id="6692644">.</span><span class="ident" id="6692645">Errorf</span><span class="op" id="6692651">(</span><span class="string" id="6692652">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="6692708">,</span>&nbsp;<span class="op" id="6692710">*</span><span class="op" id="6692711">*</span><span class="op" id="6692712">*</span><span class="ident" id="6692713">t2</span><span class="op" id="6692715">.</span><span class="ident" id="6692716">A</span><span class="op" id="6692717">,</span>&nbsp;<span class="op" id="6692719">*</span><span class="op" id="6692720">*</span><span class="ident" id="6692721">t2</span><span class="op" id="6692723">.</span><span class="ident" id="6692724">B</span><span class="op" id="6692725">,</span>&nbsp;<span class="op" id="6692727">*</span><span class="ident" id="6692728">t2</span><span class="op" id="6692730">.</span><span class="ident" id="6692731">C</span><span class="op" id="6692732">,</span>&nbsp;<span class="ident" id="6692734">t2</span><span class="op" id="6692736">.</span><span class="ident" id="6692737">D</span><span class="op" id="6692738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692741">}</span><br>
<span class="lineno"></span><span class="op" id="6692743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6692746">type</span>&nbsp;<span class="ident" id="6692751">RT0</span>&nbsp;<span class="keyword" id="6692755">struct</span>&nbsp;<span class="op" id="6692762">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692765">A</span>&nbsp;<span class="builtintype" id="6692767">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692772">B</span>&nbsp;<span class="builtintype" id="6692774">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692782">C</span>&nbsp;<span class="builtintype" id="6692784">float64</span><br>
<span class="lineno"></span><span class="op" id="6692792">}</span><br>
<span class="lineno"></span><span class="keyword" id="6692794">type</span>&nbsp;<span class="ident" id="6692799">RT1</span>&nbsp;<span class="keyword" id="6692803">struct</span>&nbsp;<span class="op" id="6692810">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692813">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6692820">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692829">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6692836">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692844">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6692851">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692856">NotSet</span>&nbsp;<span class="builtintype" id="6692863">string</span><br>
<span class="lineno"></span><span class="op" id="6692870">}</span><br>
<span class="lineno">905</span><br>
<span class="lineno"></span><span class="keyword" id="6692873">func</span>&nbsp;<span class="ident" id="6692878">TestReorderedFields</span><span class="op" id="6692897">(</span><span class="ident" id="6692898">t</span>&nbsp;<span class="op" id="6692900">*</span><span class="ident" id="6692901">testing</span><span class="op" id="6692908">.</span><span class="ident" id="6692909">T</span><span class="op" id="6692910">)</span>&nbsp;<span class="op" id="6692912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692915">var</span>&nbsp;<span class="ident" id="6692919">rt0</span>&nbsp;<span class="ident" id="6692923">RT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692928">rt0</span><span class="op" id="6692931">.</span><span class="ident" id="6692932">A</span>&nbsp;<span class="op" id="6692934">=</span>&nbsp;<span class="num" id="6692936">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692940">rt0</span><span class="op" id="6692943">.</span><span class="ident" id="6692944">B</span>&nbsp;<span class="op" id="6692946">=</span>&nbsp;<span class="string" id="6692948">&#34;hello&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692957">rt0</span><span class="op" id="6692960">.</span><span class="ident" id="6692961">C</span>&nbsp;<span class="op" id="6692963">=</span>&nbsp;<span class="num" id="6692965">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692974">b</span>&nbsp;<span class="op" id="6692976">:=</span>&nbsp;<span class="builtinfunc" id="6692979">new</span><span class="op" id="6692982">(</span><span class="ident" id="6692983">bytes</span><span class="op" id="6692988">.</span><span class="ident" id="6692989">Buffer</span><span class="op" id="6692995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692998">NewEncoder</span><span class="op" id="6693008">(</span><span class="ident" id="6693009">b</span><span class="op" id="6693010">)</span><span class="op" id="6693011">.</span><span class="ident" id="6693012">Encode</span><span class="op" id="6693018">(</span><span class="ident" id="6693019">rt0</span><span class="op" id="6693022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693025">dec</span>&nbsp;<span class="op" id="6693029">:=</span>&nbsp;<span class="ident" id="6693032">NewDecoder</span><span class="op" id="6693042">(</span><span class="ident" id="6693043">b</span><span class="op" id="6693044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6693047">var</span>&nbsp;<span class="ident" id="6693051">rt1</span>&nbsp;<span class="ident" id="6693055">RT1</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6693060">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;RT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693101">err</span>&nbsp;<span class="op" id="6693105">:=</span>&nbsp;<span class="ident" id="6693108">dec</span><span class="op" id="6693111">.</span><span class="ident" id="6693112">Decode</span><span class="op" id="6693118">(</span><span class="op" id="6693119">&amp;</span><span class="ident" id="6693120">rt1</span><span class="op" id="6693123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6693126">if</span>&nbsp;<span class="ident" id="6693129">err</span>&nbsp;<span class="op" id="6693133">!=</span>&nbsp;<span class="ident" id="6693136">nil</span>&nbsp;<span class="op" id="6693140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693144">t</span><span class="op" id="6693145">.</span><span class="ident" id="6693146">Fatal</span><span class="op" id="6693151">(</span><span class="string" id="6693152">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6693167">,</span>&nbsp;<span class="ident" id="6693169">err</span><span class="op" id="6693172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693175">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6693178">if</span>&nbsp;<span class="ident" id="6693181">rt0</span><span class="op" id="6693184">.</span><span class="ident" id="6693185">A</span>&nbsp;<span class="op" id="6693187">!=</span>&nbsp;<span class="ident" id="6693190">rt1</span><span class="op" id="6693193">.</span><span class="ident" id="6693194">A</span>&nbsp;<span class="op" id="6693196">||</span>&nbsp;<span class="ident" id="6693199">rt0</span><span class="op" id="6693202">.</span><span class="ident" id="6693203">B</span>&nbsp;<span class="op" id="6693205">!=</span>&nbsp;<span class="ident" id="6693208">rt1</span><span class="op" id="6693211">.</span><span class="ident" id="6693212">B</span>&nbsp;<span class="op" id="6693214">||</span>&nbsp;<span class="ident" id="6693217">rt0</span><span class="op" id="6693220">.</span><span class="ident" id="6693221">C</span>&nbsp;<span class="op" id="6693223">!=</span>&nbsp;<span class="ident" id="6693226">rt1</span><span class="op" id="6693229">.</span><span class="ident" id="6693230">C</span>&nbsp;<span class="op" id="6693232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693236">t</span><span class="op" id="6693237">.</span><span class="ident" id="6693238">Errorf</span><span class="op" id="6693244">(</span><span class="string" id="6693245">&#34;rt1-&gt;rt0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6693276">,</span>&nbsp;<span class="ident" id="6693278">rt0</span><span class="op" id="6693281">,</span>&nbsp;<span class="ident" id="6693283">rt1</span><span class="op" id="6693286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693289">}</span><br>
<span class="lineno"></span><span class="op" id="6693291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="comment" id="6693294">//&nbsp;Like&nbsp;an&nbsp;RT0&nbsp;but&nbsp;with&nbsp;fields&nbsp;we&#39;ll&nbsp;ignore&nbsp;on&nbsp;the&nbsp;decode&nbsp;side.</span><br>
<span class="lineno"></span><span class="keyword" id="6693358">type</span>&nbsp;<span class="ident" id="6693363">IT0</span>&nbsp;<span class="keyword" id="6693367">struct</span>&nbsp;<span class="op" id="6693374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693377">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6693386">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693393">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6693402">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693410">Ignore_d</span>&nbsp;<span class="op" id="6693419">[</span><span class="op" id="6693420">]</span><span class="builtintype" id="6693421">int</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693426">Ignore_e</span>&nbsp;<span class="op" id="6693435">[</span><span class="num" id="6693436">3</span><span class="op" id="6693437">]</span><span class="builtintype" id="6693438">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693447">Ignore_f</span>&nbsp;<span class="builtintype" id="6693456">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693462">Ignore_g</span>&nbsp;<span class="builtintype" id="6693471">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693479">Ignore_h</span>&nbsp;<span class="op" id="6693488">[</span><span class="op" id="6693489">]</span><span class="builtintype" id="6693490">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693496">Ignore_i</span>&nbsp;<span class="op" id="6693505">*</span><span class="ident" id="6693506">RT1</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693511">Ignore_m</span>&nbsp;<span class="keyword" id="6693520">map</span><span class="op" id="6693523">[</span><span class="builtintype" id="6693524">string</span><span class="op" id="6693530">]</span><span class="builtintype" id="6693531">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693536">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6693545">float64</span><br>
<span class="lineno"></span><span class="op" id="6693553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6693556">func</span>&nbsp;<span class="ident" id="6693561">TestIgnoredFields</span><span class="op" id="6693578">(</span><span class="ident" id="6693579">t</span>&nbsp;<span class="op" id="6693581">*</span><span class="ident" id="6693582">testing</span><span class="op" id="6693589">.</span><span class="ident" id="6693590">T</span><span class="op" id="6693591">)</span>&nbsp;<span class="op" id="6693593">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6693596">var</span>&nbsp;<span class="ident" id="6693600">it0</span>&nbsp;<span class="ident" id="6693604">IT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693609">it0</span><span class="op" id="6693612">.</span><span class="ident" id="6693613">A</span>&nbsp;<span class="op" id="6693615">=</span>&nbsp;<span class="num" id="6693617">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693621">it0</span><span class="op" id="6693624">.</span><span class="ident" id="6693625">B</span>&nbsp;<span class="op" id="6693627">=</span>&nbsp;<span class="string" id="6693629">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693638">it0</span><span class="op" id="6693641">.</span><span class="ident" id="6693642">C</span>&nbsp;<span class="op" id="6693644">=</span>&nbsp;<span class="num" id="6693646">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693655">it0</span><span class="op" id="6693658">.</span><span class="ident" id="6693659">Ignore_d</span>&nbsp;<span class="op" id="6693668">=</span>&nbsp;<span class="op" id="6693670">[</span><span class="op" id="6693671">]</span><span class="builtintype" id="6693672">int</span><span class="op" id="6693675">{</span><span class="num" id="6693676">1</span><span class="op" id="6693677">,</span>&nbsp;<span class="num" id="6693679">2</span><span class="op" id="6693680">,</span>&nbsp;<span class="num" id="6693682">3</span><span class="op" id="6693683">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693686">it0</span><span class="op" id="6693689">.</span><span class="ident" id="6693690">Ignore_e</span><span class="op" id="6693698">[</span><span class="num" id="6693699">0</span><span class="op" id="6693700">]</span>&nbsp;<span class="op" id="6693702">=</span>&nbsp;<span class="num" id="6693704">1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693709">it0</span><span class="op" id="6693712">.</span><span class="ident" id="6693713">Ignore_e</span><span class="op" id="6693721">[</span><span class="num" id="6693722">1</span><span class="op" id="6693723">]</span>&nbsp;<span class="op" id="6693725">=</span>&nbsp;<span class="num" id="6693727">2.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693732">it0</span><span class="op" id="6693735">.</span><span class="ident" id="6693736">Ignore_e</span><span class="op" id="6693744">[</span><span class="num" id="6693745">2</span><span class="op" id="6693746">]</span>&nbsp;<span class="op" id="6693748">=</span>&nbsp;<span class="num" id="6693750">3.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693755">it0</span><span class="op" id="6693758">.</span><span class="ident" id="6693759">Ignore_f</span>&nbsp;<span class="op" id="6693768">=</span>&nbsp;<span class="builtintype" id="6693770">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693776">it0</span><span class="op" id="6693779">.</span><span class="ident" id="6693780">Ignore_g</span>&nbsp;<span class="op" id="6693789">=</span>&nbsp;<span class="string" id="6693791">&#34;pay&nbsp;no&nbsp;attention&#34;</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693811">it0</span><span class="op" id="6693814">.</span><span class="ident" id="6693815">Ignore_h</span>&nbsp;<span class="op" id="6693824">=</span>&nbsp;<span class="op" id="6693826">[</span><span class="op" id="6693827">]</span><span class="builtintype" id="6693828">byte</span><span class="op" id="6693832">(</span><span class="string" id="6693833">&#34;to&nbsp;the&nbsp;curtain&#34;</span><span class="op" id="6693849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693852">it0</span><span class="op" id="6693855">.</span><span class="ident" id="6693856">Ignore_i</span>&nbsp;<span class="op" id="6693865">=</span>&nbsp;<span class="op" id="6693867">&amp;</span><span class="ident" id="6693868">RT1</span><span class="op" id="6693871">{</span><span class="num" id="6693872">3.1</span><span class="op" id="6693875">,</span>&nbsp;<span class="string" id="6693877">&#34;hi&#34;</span><span class="op" id="6693881">,</span>&nbsp;<span class="num" id="6693883">7</span><span class="op" id="6693884">,</span>&nbsp;<span class="string" id="6693886">&#34;hello&#34;</span><span class="op" id="6693893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693896">it0</span><span class="op" id="6693899">.</span><span class="ident" id="6693900">Ignore_m</span>&nbsp;<span class="op" id="6693909">=</span>&nbsp;<span class="keyword" id="6693911">map</span><span class="op" id="6693914">[</span><span class="builtintype" id="6693915">string</span><span class="op" id="6693921">]</span><span class="builtintype" id="6693922">int</span><span class="op" id="6693925">{</span><span class="string" id="6693926">&#34;one&#34;</span><span class="op" id="6693931">:</span>&nbsp;<span class="num" id="6693933">1</span><span class="op" id="6693934">,</span>&nbsp;<span class="string" id="6693936">&#34;two&#34;</span><span class="op" id="6693941">:</span>&nbsp;<span class="num" id="6693943">2</span><span class="op" id="6693944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693948">b</span>&nbsp;<span class="op" id="6693950">:=</span>&nbsp;<span class="builtinfunc" id="6693953">new</span><span class="op" id="6693956">(</span><span class="ident" id="6693957">bytes</span><span class="op" id="6693962">.</span><span class="ident" id="6693963">Buffer</span><span class="op" id="6693969">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693972">NewEncoder</span><span class="op" id="6693982">(</span><span class="ident" id="6693983">b</span><span class="op" id="6693984">)</span><span class="op" id="6693985">.</span><span class="ident" id="6693986">Encode</span><span class="op" id="6693992">(</span><span class="ident" id="6693993">it0</span><span class="op" id="6693996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693999">dec</span>&nbsp;<span class="op" id="6694003">:=</span>&nbsp;<span class="ident" id="6694006">NewDecoder</span><span class="op" id="6694016">(</span><span class="ident" id="6694017">b</span><span class="op" id="6694018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6694021">var</span>&nbsp;<span class="ident" id="6694025">rt1</span>&nbsp;<span class="ident" id="6694029">RT1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6694034">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;IT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694075">err</span>&nbsp;<span class="op" id="6694079">:=</span>&nbsp;<span class="ident" id="6694082">dec</span><span class="op" id="6694085">.</span><span class="ident" id="6694086">Decode</span><span class="op" id="6694092">(</span><span class="op" id="6694093">&amp;</span><span class="ident" id="6694094">rt1</span><span class="op" id="6694097">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6694100">if</span>&nbsp;<span class="ident" id="6694103">err</span>&nbsp;<span class="op" id="6694107">!=</span>&nbsp;<span class="ident" id="6694110">nil</span>&nbsp;<span class="op" id="6694114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694118">t</span><span class="op" id="6694119">.</span><span class="ident" id="6694120">Error</span><span class="op" id="6694125">(</span><span class="string" id="6694126">&#34;error:&nbsp;&#34;</span><span class="op" id="6694135">,</span>&nbsp;<span class="ident" id="6694137">err</span><span class="op" id="6694140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6694146">if</span>&nbsp;<span class="builtintype" id="6694149">int</span><span class="op" id="6694152">(</span><span class="ident" id="6694153">it0</span><span class="op" id="6694156">.</span><span class="ident" id="6694157">A</span><span class="op" id="6694158">)</span>&nbsp;<span class="op" id="6694160">!=</span>&nbsp;<span class="ident" id="6694163">rt1</span><span class="op" id="6694166">.</span><span class="ident" id="6694167">A</span>&nbsp;<span class="op" id="6694169">||</span>&nbsp;<span class="ident" id="6694172">it0</span><span class="op" id="6694175">.</span><span class="ident" id="6694176">B</span>&nbsp;<span class="op" id="6694178">!=</span>&nbsp;<span class="ident" id="6694181">rt1</span><span class="op" id="6694184">.</span><span class="ident" id="6694185">B</span>&nbsp;<span class="op" id="6694187">||</span>&nbsp;<span class="ident" id="6694190">it0</span><span class="op" id="6694193">.</span><span class="ident" id="6694194">C</span>&nbsp;<span class="op" id="6694196">!=</span>&nbsp;<span class="ident" id="6694199">rt1</span><span class="op" id="6694202">.</span><span class="ident" id="6694203">C</span>&nbsp;<span class="op" id="6694205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694209">t</span><span class="op" id="6694210">.</span><span class="ident" id="6694211">Errorf</span><span class="op" id="6694217">(</span><span class="string" id="6694218">&#34;rt0-&gt;rt1:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6694249">,</span>&nbsp;<span class="ident" id="6694251">it0</span><span class="op" id="6694254">,</span>&nbsp;<span class="ident" id="6694256">rt1</span><span class="op" id="6694259">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694262">}</span><br>
<span class="lineno"></span><span class="op" id="6694264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6694267">func</span>&nbsp;<span class="ident" id="6694272">TestBadRecursiveType</span><span class="op" id="6694292">(</span><span class="ident" id="6694293">t</span>&nbsp;<span class="op" id="6694295">*</span><span class="ident" id="6694296">testing</span><span class="op" id="6694303">.</span><span class="ident" id="6694304">T</span><span class="op" id="6694305">)</span>&nbsp;<span class="op" id="6694307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6694310">type</span>&nbsp;<span class="ident" id="6694315">Rec</span>&nbsp;<span class="op" id="6694319">*</span><span class="op" id="6694320">*</span><span class="op" id="6694321">*</span><span class="ident" id="6694322">Rec</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6694327">var</span>&nbsp;<span class="ident" id="6694331">rec</span>&nbsp;<span class="ident" id="6694335">Rec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694340">b</span>&nbsp;<span class="op" id="6694342">:=</span>&nbsp;<span class="builtinfunc" id="6694345">new</span><span class="op" id="6694348">(</span><span class="ident" id="6694349">bytes</span><span class="op" id="6694354">.</span><span class="ident" id="6694355">Buffer</span><span class="op" id="6694361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694364">err</span>&nbsp;<span class="op" id="6694368">:=</span>&nbsp;<span class="ident" id="6694371">NewEncoder</span><span class="op" id="6694381">(</span><span class="ident" id="6694382">b</span><span class="op" id="6694383">)</span><span class="op" id="6694384">.</span><span class="ident" id="6694385">Encode</span><span class="op" id="6694391">(</span><span class="op" id="6694392">&amp;</span><span class="ident" id="6694393">rec</span><span class="op" id="6694396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6694399">if</span>&nbsp;<span class="ident" id="6694402">err</span>&nbsp;<span class="op" id="6694406">==</span>&nbsp;<span class="ident" id="6694409">nil</span>&nbsp;<span class="op" id="6694413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694417">t</span><span class="op" id="6694418">.</span><span class="ident" id="6694419">Error</span><span class="op" id="6694424">(</span><span class="string" id="6694425">&#34;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6694451">)</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694454">}</span>&nbsp;<span class="keyword" id="6694456">else</span>&nbsp;<span class="keyword" id="6694461">if</span>&nbsp;<span class="ident" id="6694464">strings</span><span class="op" id="6694471">.</span><span class="ident" id="6694472">Index</span><span class="op" id="6694477">(</span><span class="ident" id="6694478">err</span><span class="op" id="6694481">.</span><span class="ident" id="6694482">Error</span><span class="op" id="6694487">(</span><span class="op" id="6694488">)</span><span class="op" id="6694489">,</span>&nbsp;<span class="string" id="6694491">&#34;recursive&#34;</span><span class="op" id="6694502">)</span>&nbsp;<span class="op" id="6694504">&lt;</span>&nbsp;<span class="num" id="6694506">0</span>&nbsp;<span class="op" id="6694508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694512">t</span><span class="op" id="6694513">.</span><span class="ident" id="6694514">Error</span><span class="op" id="6694519">(</span><span class="string" id="6694520">&#34;expected&nbsp;recursive&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="6694556">,</span>&nbsp;<span class="ident" id="6694558">err</span><span class="op" id="6694561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6694567">//&nbsp;Can&#39;t&nbsp;test&nbsp;decode&nbsp;easily&nbsp;because&nbsp;we&nbsp;can&#39;t&nbsp;encode&nbsp;one,&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;pass&nbsp;one&nbsp;to&nbsp;a&nbsp;Decoder.</span><br>
<span class="lineno"></span><span class="op" id="6694659">}</span><br>
<span class="lineno">980</span><br>
<span class="lineno"></span><span class="keyword" id="6694662">type</span>&nbsp;<span class="ident" id="6694667">Indirect</span>&nbsp;<span class="keyword" id="6694676">struct</span>&nbsp;<span class="op" id="6694683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694686">A</span>&nbsp;<span class="op" id="6694688">*</span><span class="op" id="6694689">*</span><span class="op" id="6694690">*</span><span class="op" id="6694691">[</span><span class="num" id="6694692">3</span><span class="op" id="6694693">]</span><span class="builtintype" id="6694694">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694699">S</span>&nbsp;<span class="op" id="6694701">*</span><span class="op" id="6694702">*</span><span class="op" id="6694703">*</span><span class="op" id="6694704">[</span><span class="op" id="6694705">]</span><span class="builtintype" id="6694706">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694711">M</span>&nbsp;<span class="op" id="6694713">*</span><span class="op" id="6694714">*</span><span class="op" id="6694715">*</span><span class="op" id="6694716">*</span><span class="keyword" id="6694717">map</span><span class="op" id="6694720">[</span><span class="builtintype" id="6694721">string</span><span class="op" id="6694727">]</span><span class="builtintype" id="6694728">int</span><br>
<span class="lineno">985</span><span class="op" id="6694732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6694735">type</span>&nbsp;<span class="ident" id="6694740">Direct</span>&nbsp;<span class="keyword" id="6694747">struct</span>&nbsp;<span class="op" id="6694754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694757">A</span>&nbsp;<span class="op" id="6694759">[</span><span class="num" id="6694760">3</span><span class="op" id="6694761">]</span><span class="builtintype" id="6694762">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694767">S</span>&nbsp;<span class="op" id="6694769">[</span><span class="op" id="6694770">]</span><span class="builtintype" id="6694771">int</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694776">M</span>&nbsp;<span class="keyword" id="6694778">map</span><span class="op" id="6694781">[</span><span class="builtintype" id="6694782">string</span><span class="op" id="6694788">]</span><span class="builtintype" id="6694789">int</span><br>
<span class="lineno"></span><span class="op" id="6694793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6694796">func</span>&nbsp;<span class="ident" id="6694801">TestIndirectSliceMapArray</span><span class="op" id="6694826">(</span><span class="ident" id="6694827">t</span>&nbsp;<span class="op" id="6694829">*</span><span class="ident" id="6694830">testing</span><span class="op" id="6694837">.</span><span class="ident" id="6694838">T</span><span class="op" id="6694839">)</span>&nbsp;<span class="op" id="6694841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6694844">//&nbsp;Marshal&nbsp;indirect,&nbsp;unmarshal&nbsp;to&nbsp;direct.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694887">i</span>&nbsp;<span class="op" id="6694889">:=</span>&nbsp;<span class="builtinfunc" id="6694892">new</span><span class="op" id="6694895">(</span><span class="ident" id="6694896">Indirect</span><span class="op" id="6694904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694907">i</span><span class="op" id="6694908">.</span><span class="ident" id="6694909">A</span>&nbsp;<span class="op" id="6694911">=</span>&nbsp;<span class="builtinfunc" id="6694913">new</span><span class="op" id="6694916">(</span><span class="op" id="6694917">*</span><span class="op" id="6694918">*</span><span class="op" id="6694919">[</span><span class="num" id="6694920">3</span><span class="op" id="6694921">]</span><span class="builtintype" id="6694922">int</span><span class="op" id="6694925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694928">*</span><span class="ident" id="6694929">i</span><span class="op" id="6694930">.</span><span class="ident" id="6694931">A</span>&nbsp;<span class="op" id="6694933">=</span>&nbsp;<span class="builtinfunc" id="6694935">new</span><span class="op" id="6694938">(</span><span class="op" id="6694939">*</span><span class="op" id="6694940">[</span><span class="num" id="6694941">3</span><span class="op" id="6694942">]</span><span class="builtintype" id="6694943">int</span><span class="op" id="6694946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694949">*</span><span class="op" id="6694950">*</span><span class="ident" id="6694951">i</span><span class="op" id="6694952">.</span><span class="ident" id="6694953">A</span>&nbsp;<span class="op" id="6694955">=</span>&nbsp;<span class="builtinfunc" id="6694957">new</span><span class="op" id="6694960">(</span><span class="op" id="6694961">[</span><span class="num" id="6694962">3</span><span class="op" id="6694963">]</span><span class="builtintype" id="6694964">int</span><span class="op" id="6694967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694970">*</span><span class="op" id="6694971">*</span><span class="op" id="6694972">*</span><span class="ident" id="6694973">i</span><span class="op" id="6694974">.</span><span class="ident" id="6694975">A</span>&nbsp;<span class="op" id="6694977">=</span>&nbsp;<span class="op" id="6694979">[</span><span class="num" id="6694980">3</span><span class="op" id="6694981">]</span><span class="builtintype" id="6694982">int</span><span class="op" id="6694985">{</span><span class="num" id="6694986">1</span><span class="op" id="6694987">,</span>&nbsp;<span class="num" id="6694989">2</span><span class="op" id="6694990">,</span>&nbsp;<span class="num" id="6694992">3</span><span class="op" id="6694993">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694996">i</span><span class="op" id="6694997">.</span><span class="ident" id="6694998">S</span>&nbsp;<span class="op" id="6695000">=</span>&nbsp;<span class="builtinfunc" id="6695002">new</span><span class="op" id="6695005">(</span><span class="op" id="6695006">*</span><span class="op" id="6695007">*</span><span class="op" id="6695008">[</span><span class="op" id="6695009">]</span><span class="builtintype" id="6695010">int</span><span class="op" id="6695013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695016">*</span><span class="ident" id="6695017">i</span><span class="op" id="6695018">.</span><span class="ident" id="6695019">S</span>&nbsp;<span class="op" id="6695021">=</span>&nbsp;<span class="builtinfunc" id="6695023">new</span><span class="op" id="6695026">(</span><span class="op" id="6695027">*</span><span class="op" id="6695028">[</span><span class="op" id="6695029">]</span><span class="builtintype" id="6695030">int</span><span class="op" id="6695033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695036">*</span><span class="op" id="6695037">*</span><span class="ident" id="6695038">i</span><span class="op" id="6695039">.</span><span class="ident" id="6695040">S</span>&nbsp;<span class="op" id="6695042">=</span>&nbsp;<span class="builtinfunc" id="6695044">new</span><span class="op" id="6695047">(</span><span class="op" id="6695048">[</span><span class="op" id="6695049">]</span><span class="builtintype" id="6695050">int</span><span class="op" id="6695053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695056">*</span><span class="op" id="6695057">*</span><span class="op" id="6695058">*</span><span class="ident" id="6695059">i</span><span class="op" id="6695060">.</span><span class="ident" id="6695061">S</span>&nbsp;<span class="op" id="6695063">=</span>&nbsp;<span class="op" id="6695065">[</span><span class="op" id="6695066">]</span><span class="builtintype" id="6695067">int</span><span class="op" id="6695070">{</span><span class="num" id="6695071">4</span><span class="op" id="6695072">,</span>&nbsp;<span class="num" id="6695074">5</span><span class="op" id="6695075">,</span>&nbsp;<span class="num" id="6695077">6</span><span class="op" id="6695078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695081">i</span><span class="op" id="6695082">.</span><span class="ident" id="6695083">M</span>&nbsp;<span class="op" id="6695085">=</span>&nbsp;<span class="builtinfunc" id="6695087">new</span><span class="op" id="6695090">(</span><span class="op" id="6695091">*</span><span class="op" id="6695092">*</span><span class="op" id="6695093">*</span><span class="keyword" id="6695094">map</span><span class="op" id="6695097">[</span><span class="builtintype" id="6695098">string</span><span class="op" id="6695104">]</span><span class="builtintype" id="6695105">int</span><span class="op" id="6695108">)</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695111">*</span><span class="ident" id="6695112">i</span><span class="op" id="6695113">.</span><span class="ident" id="6695114">M</span>&nbsp;<span class="op" id="6695116">=</span>&nbsp;<span class="builtinfunc" id="6695118">new</span><span class="op" id="6695121">(</span><span class="op" id="6695122">*</span><span class="op" id="6695123">*</span><span class="keyword" id="6695124">map</span><span class="op" id="6695127">[</span><span class="builtintype" id="6695128">string</span><span class="op" id="6695134">]</span><span class="builtintype" id="6695135">int</span><span class="op" id="6695138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695141">*</span><span class="op" id="6695142">*</span><span class="ident" id="6695143">i</span><span class="op" id="6695144">.</span><span class="ident" id="6695145">M</span>&nbsp;<span class="op" id="6695147">=</span>&nbsp;<span class="builtinfunc" id="6695149">new</span><span class="op" id="6695152">(</span><span class="op" id="6695153">*</span><span class="keyword" id="6695154">map</span><span class="op" id="6695157">[</span><span class="builtintype" id="6695158">string</span><span class="op" id="6695164">]</span><span class="builtintype" id="6695165">int</span><span class="op" id="6695168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695171">*</span><span class="op" id="6695172">*</span><span class="op" id="6695173">*</span><span class="ident" id="6695174">i</span><span class="op" id="6695175">.</span><span class="ident" id="6695176">M</span>&nbsp;<span class="op" id="6695178">=</span>&nbsp;<span class="builtinfunc" id="6695180">new</span><span class="op" id="6695183">(</span><span class="keyword" id="6695184">map</span><span class="op" id="6695187">[</span><span class="builtintype" id="6695188">string</span><span class="op" id="6695194">]</span><span class="builtintype" id="6695195">int</span><span class="op" id="6695198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695201">*</span><span class="op" id="6695202">*</span><span class="op" id="6695203">*</span><span class="op" id="6695204">*</span><span class="ident" id="6695205">i</span><span class="op" id="6695206">.</span><span class="ident" id="6695207">M</span>&nbsp;<span class="op" id="6695209">=</span>&nbsp;<span class="keyword" id="6695211">map</span><span class="op" id="6695214">[</span><span class="builtintype" id="6695215">string</span><span class="op" id="6695221">]</span><span class="builtintype" id="6695222">int</span><span class="op" id="6695225">{</span><span class="string" id="6695226">&#34;one&#34;</span><span class="op" id="6695231">:</span>&nbsp;<span class="num" id="6695233">1</span><span class="op" id="6695234">,</span>&nbsp;<span class="string" id="6695236">&#34;two&#34;</span><span class="op" id="6695241">:</span>&nbsp;<span class="num" id="6695243">2</span><span class="op" id="6695244">,</span>&nbsp;<span class="string" id="6695246">&#34;three&#34;</span><span class="op" id="6695253">:</span>&nbsp;<span class="num" id="6695255">3</span><span class="op" id="6695256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695259">b</span>&nbsp;<span class="op" id="6695261">:=</span>&nbsp;<span class="builtinfunc" id="6695264">new</span><span class="op" id="6695267">(</span><span class="ident" id="6695268">bytes</span><span class="op" id="6695273">.</span><span class="ident" id="6695274">Buffer</span><span class="op" id="6695280">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695283">NewEncoder</span><span class="op" id="6695293">(</span><span class="ident" id="6695294">b</span><span class="op" id="6695295">)</span><span class="op" id="6695296">.</span><span class="ident" id="6695297">Encode</span><span class="op" id="6695303">(</span><span class="ident" id="6695304">i</span><span class="op" id="6695305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695308">dec</span>&nbsp;<span class="op" id="6695312">:=</span>&nbsp;<span class="ident" id="6695315">NewDecoder</span><span class="op" id="6695325">(</span><span class="ident" id="6695326">b</span><span class="op" id="6695327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6695330">var</span>&nbsp;<span class="ident" id="6695334">d</span>&nbsp;<span class="ident" id="6695336">Direct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695344">err</span>&nbsp;<span class="op" id="6695348">:=</span>&nbsp;<span class="ident" id="6695351">dec</span><span class="op" id="6695354">.</span><span class="ident" id="6695355">Decode</span><span class="op" id="6695361">(</span><span class="op" id="6695362">&amp;</span><span class="ident" id="6695363">d</span><span class="op" id="6695364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6695367">if</span>&nbsp;<span class="ident" id="6695370">err</span>&nbsp;<span class="op" id="6695374">!=</span>&nbsp;<span class="ident" id="6695377">nil</span>&nbsp;<span class="op" id="6695381">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695385">t</span><span class="op" id="6695386">.</span><span class="ident" id="6695387">Error</span><span class="op" id="6695392">(</span><span class="string" id="6695393">&#34;error:&nbsp;&#34;</span><span class="op" id="6695402">,</span>&nbsp;<span class="ident" id="6695404">err</span><span class="op" id="6695407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6695413">if</span>&nbsp;<span class="builtinfunc" id="6695416">len</span><span class="op" id="6695419">(</span><span class="ident" id="6695420">d</span><span class="op" id="6695421">.</span><span class="ident" id="6695422">A</span><span class="op" id="6695423">)</span>&nbsp;<span class="op" id="6695425">!=</span>&nbsp;<span class="num" id="6695428">3</span>&nbsp;<span class="op" id="6695430">||</span>&nbsp;<span class="ident" id="6695433">d</span><span class="op" id="6695434">.</span><span class="ident" id="6695435">A</span><span class="op" id="6695436">[</span><span class="num" id="6695437">0</span><span class="op" id="6695438">]</span>&nbsp;<span class="op" id="6695440">!=</span>&nbsp;<span class="num" id="6695443">1</span>&nbsp;<span class="op" id="6695445">||</span>&nbsp;<span class="ident" id="6695448">d</span><span class="op" id="6695449">.</span><span class="ident" id="6695450">A</span><span class="op" id="6695451">[</span><span class="num" id="6695452">1</span><span class="op" id="6695453">]</span>&nbsp;<span class="op" id="6695455">!=</span>&nbsp;<span class="num" id="6695458">2</span>&nbsp;<span class="op" id="6695460">||</span>&nbsp;<span class="ident" id="6695463">d</span><span class="op" id="6695464">.</span><span class="ident" id="6695465">A</span><span class="op" id="6695466">[</span><span class="num" id="6695467">2</span><span class="op" id="6695468">]</span>&nbsp;<span class="op" id="6695470">!=</span>&nbsp;<span class="num" id="6695473">3</span>&nbsp;<span class="op" id="6695475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695479">t</span><span class="op" id="6695480">.</span><span class="ident" id="6695481">Errorf</span><span class="op" id="6695487">(</span><span class="string" id="6695488">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="6695526">,</span>&nbsp;<span class="ident" id="6695528">d</span><span class="op" id="6695529">.</span><span class="ident" id="6695530">A</span><span class="op" id="6695531">,</span>&nbsp;<span class="op" id="6695533">*</span><span class="op" id="6695534">*</span><span class="op" id="6695535">*</span><span class="ident" id="6695536">i</span><span class="op" id="6695537">.</span><span class="ident" id="6695538">A</span><span class="op" id="6695539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695542">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6695545">if</span>&nbsp;<span class="builtinfunc" id="6695548">len</span><span class="op" id="6695551">(</span><span class="ident" id="6695552">d</span><span class="op" id="6695553">.</span><span class="ident" id="6695554">S</span><span class="op" id="6695555">)</span>&nbsp;<span class="op" id="6695557">!=</span>&nbsp;<span class="num" id="6695560">3</span>&nbsp;<span class="op" id="6695562">||</span>&nbsp;<span class="ident" id="6695565">d</span><span class="op" id="6695566">.</span><span class="ident" id="6695567">S</span><span class="op" id="6695568">[</span><span class="num" id="6695569">0</span><span class="op" id="6695570">]</span>&nbsp;<span class="op" id="6695572">!=</span>&nbsp;<span class="num" id="6695575">4</span>&nbsp;<span class="op" id="6695577">||</span>&nbsp;<span class="ident" id="6695580">d</span><span class="op" id="6695581">.</span><span class="ident" id="6695582">S</span><span class="op" id="6695583">[</span><span class="num" id="6695584">1</span><span class="op" id="6695585">]</span>&nbsp;<span class="op" id="6695587">!=</span>&nbsp;<span class="num" id="6695590">5</span>&nbsp;<span class="op" id="6695592">||</span>&nbsp;<span class="ident" id="6695595">d</span><span class="op" id="6695596">.</span><span class="ident" id="6695597">S</span><span class="op" id="6695598">[</span><span class="num" id="6695599">2</span><span class="op" id="6695600">]</span>&nbsp;<span class="op" id="6695602">!=</span>&nbsp;<span class="num" id="6695605">6</span>&nbsp;<span class="op" id="6695607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695611">t</span><span class="op" id="6695612">.</span><span class="ident" id="6695613">Errorf</span><span class="op" id="6695619">(</span><span class="string" id="6695620">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="6695658">,</span>&nbsp;<span class="ident" id="6695660">d</span><span class="op" id="6695661">.</span><span class="ident" id="6695662">S</span><span class="op" id="6695663">,</span>&nbsp;<span class="op" id="6695665">*</span><span class="op" id="6695666">*</span><span class="op" id="6695667">*</span><span class="ident" id="6695668">i</span><span class="op" id="6695669">.</span><span class="ident" id="6695670">S</span><span class="op" id="6695671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6695677">if</span>&nbsp;<span class="builtinfunc" id="6695680">len</span><span class="op" id="6695683">(</span><span class="ident" id="6695684">d</span><span class="op" id="6695685">.</span><span class="ident" id="6695686">M</span><span class="op" id="6695687">)</span>&nbsp;<span class="op" id="6695689">!=</span>&nbsp;<span class="num" id="6695692">3</span>&nbsp;<span class="op" id="6695694">||</span>&nbsp;<span class="ident" id="6695697">d</span><span class="op" id="6695698">.</span><span class="ident" id="6695699">M</span><span class="op" id="6695700">[</span><span class="string" id="6695701">&#34;one&#34;</span><span class="op" id="6695706">]</span>&nbsp;<span class="op" id="6695708">!=</span>&nbsp;<span class="num" id="6695711">1</span>&nbsp;<span class="op" id="6695713">||</span>&nbsp;<span class="ident" id="6695716">d</span><span class="op" id="6695717">.</span><span class="ident" id="6695718">M</span><span class="op" id="6695719">[</span><span class="string" id="6695720">&#34;two&#34;</span><span class="op" id="6695725">]</span>&nbsp;<span class="op" id="6695727">!=</span>&nbsp;<span class="num" id="6695730">2</span>&nbsp;<span class="op" id="6695732">||</span>&nbsp;<span class="ident" id="6695735">d</span><span class="op" id="6695736">.</span><span class="ident" id="6695737">M</span><span class="op" id="6695738">[</span><span class="string" id="6695739">&#34;three&#34;</span><span class="op" id="6695746">]</span>&nbsp;<span class="op" id="6695748">!=</span>&nbsp;<span class="num" id="6695751">3</span>&nbsp;<span class="op" id="6695753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695757">t</span><span class="op" id="6695758">.</span><span class="ident" id="6695759">Errorf</span><span class="op" id="6695765">(</span><span class="string" id="6695766">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="6695804">,</span>&nbsp;<span class="ident" id="6695806">d</span><span class="op" id="6695807">.</span><span class="ident" id="6695808">M</span><span class="op" id="6695809">,</span>&nbsp;<span class="op" id="6695811">*</span><span class="op" id="6695812">*</span><span class="op" id="6695813">*</span><span class="ident" id="6695814">i</span><span class="op" id="6695815">.</span><span class="ident" id="6695816">M</span><span class="op" id="6695817">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6695823">//&nbsp;Marshal&nbsp;direct,&nbsp;unmarshal&nbsp;to&nbsp;indirect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695866">d</span><span class="op" id="6695867">.</span><span class="ident" id="6695868">A</span>&nbsp;<span class="op" id="6695870">=</span>&nbsp;<span class="op" id="6695872">[</span><span class="num" id="6695873">3</span><span class="op" id="6695874">]</span><span class="builtintype" id="6695875">int</span><span class="op" id="6695878">{</span><span class="num" id="6695879">11</span><span class="op" id="6695881">,</span>&nbsp;<span class="num" id="6695883">22</span><span class="op" id="6695885">,</span>&nbsp;<span class="num" id="6695887">33</span><span class="op" id="6695889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695892">d</span><span class="op" id="6695893">.</span><span class="ident" id="6695894">S</span>&nbsp;<span class="op" id="6695896">=</span>&nbsp;<span class="op" id="6695898">[</span><span class="op" id="6695899">]</span><span class="builtintype" id="6695900">int</span><span class="op" id="6695903">{</span><span class="num" id="6695904">44</span><span class="op" id="6695906">,</span>&nbsp;<span class="num" id="6695908">55</span><span class="op" id="6695910">,</span>&nbsp;<span class="num" id="6695912">66</span><span class="op" id="6695914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695917">d</span><span class="op" id="6695918">.</span><span class="ident" id="6695919">M</span>&nbsp;<span class="op" id="6695921">=</span>&nbsp;<span class="keyword" id="6695923">map</span><span class="op" id="6695926">[</span><span class="builtintype" id="6695927">string</span><span class="op" id="6695933">]</span><span class="builtintype" id="6695934">int</span><span class="op" id="6695937">{</span><span class="string" id="6695938">&#34;four&#34;</span><span class="op" id="6695944">:</span>&nbsp;<span class="num" id="6695946">4</span><span class="op" id="6695947">,</span>&nbsp;<span class="string" id="6695949">&#34;five&#34;</span><span class="op" id="6695955">:</span>&nbsp;<span class="num" id="6695957">5</span><span class="op" id="6695958">,</span>&nbsp;<span class="string" id="6695960">&#34;six&#34;</span><span class="op" id="6695965">:</span>&nbsp;<span class="num" id="6695967">6</span><span class="op" id="6695968">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695971">i</span>&nbsp;<span class="op" id="6695973">=</span>&nbsp;<span class="builtinfunc" id="6695975">new</span><span class="op" id="6695978">(</span><span class="ident" id="6695979">Indirect</span><span class="op" id="6695987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695990">b</span><span class="op" id="6695991">.</span><span class="ident" id="6695992">Reset</span><span class="op" id="6695997">(</span><span class="op" id="6695998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696001">NewEncoder</span><span class="op" id="6696011">(</span><span class="ident" id="6696012">b</span><span class="op" id="6696013">)</span><span class="op" id="6696014">.</span><span class="ident" id="6696015">Encode</span><span class="op" id="6696021">(</span><span class="ident" id="6696022">d</span><span class="op" id="6696023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696026">dec</span>&nbsp;<span class="op" id="6696030">=</span>&nbsp;<span class="ident" id="6696032">NewDecoder</span><span class="op" id="6696042">(</span><span class="ident" id="6696043">b</span><span class="op" id="6696044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696047">err</span>&nbsp;<span class="op" id="6696051">=</span>&nbsp;<span class="ident" id="6696053">dec</span><span class="op" id="6696056">.</span><span class="ident" id="6696057">Decode</span><span class="op" id="6696063">(</span><span class="op" id="6696064">&amp;</span><span class="ident" id="6696065">i</span><span class="op" id="6696066">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696069">if</span>&nbsp;<span class="ident" id="6696072">err</span>&nbsp;<span class="op" id="6696076">!=</span>&nbsp;<span class="ident" id="6696079">nil</span>&nbsp;<span class="op" id="6696083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696087">t</span><span class="op" id="6696088">.</span><span class="ident" id="6696089">Fatal</span><span class="op" id="6696094">(</span><span class="string" id="6696095">&#34;error:&nbsp;&#34;</span><span class="op" id="6696104">,</span>&nbsp;<span class="ident" id="6696106">err</span><span class="op" id="6696109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696115">if</span>&nbsp;<span class="builtinfunc" id="6696118">len</span><span class="op" id="6696121">(</span><span class="op" id="6696122">*</span><span class="op" id="6696123">*</span><span class="op" id="6696124">*</span><span class="ident" id="6696125">i</span><span class="op" id="6696126">.</span><span class="ident" id="6696127">A</span><span class="op" id="6696128">)</span>&nbsp;<span class="op" id="6696130">!=</span>&nbsp;<span class="num" id="6696133">3</span>&nbsp;<span class="op" id="6696135">||</span>&nbsp;<span class="op" id="6696138">(</span><span class="op" id="6696139">*</span><span class="op" id="6696140">*</span><span class="op" id="6696141">*</span><span class="ident" id="6696142">i</span><span class="op" id="6696143">.</span><span class="ident" id="6696144">A</span><span class="op" id="6696145">)</span><span class="op" id="6696146">[</span><span class="num" id="6696147">0</span><span class="op" id="6696148">]</span>&nbsp;<span class="op" id="6696150">!=</span>&nbsp;<span class="num" id="6696153">11</span>&nbsp;<span class="op" id="6696156">||</span>&nbsp;<span class="op" id="6696159">(</span><span class="op" id="6696160">*</span><span class="op" id="6696161">*</span><span class="op" id="6696162">*</span><span class="ident" id="6696163">i</span><span class="op" id="6696164">.</span><span class="ident" id="6696165">A</span><span class="op" id="6696166">)</span><span class="op" id="6696167">[</span><span class="num" id="6696168">1</span><span class="op" id="6696169">]</span>&nbsp;<span class="op" id="6696171">!=</span>&nbsp;<span class="num" id="6696174">22</span>&nbsp;<span class="op" id="6696177">||</span>&nbsp;<span class="op" id="6696180">(</span><span class="op" id="6696181">*</span><span class="op" id="6696182">*</span><span class="op" id="6696183">*</span><span class="ident" id="6696184">i</span><span class="op" id="6696185">.</span><span class="ident" id="6696186">A</span><span class="op" id="6696187">)</span><span class="op" id="6696188">[</span><span class="num" id="6696189">2</span><span class="op" id="6696190">]</span>&nbsp;<span class="op" id="6696192">!=</span>&nbsp;<span class="num" id="6696195">33</span>&nbsp;<span class="op" id="6696198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696202">t</span><span class="op" id="6696203">.</span><span class="ident" id="6696204">Errorf</span><span class="op" id="6696210">(</span><span class="string" id="6696211">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="6696252">,</span>&nbsp;<span class="op" id="6696254">*</span><span class="op" id="6696255">*</span><span class="op" id="6696256">*</span><span class="ident" id="6696257">i</span><span class="op" id="6696258">.</span><span class="ident" id="6696259">A</span><span class="op" id="6696260">,</span>&nbsp;<span class="ident" id="6696262">d</span><span class="op" id="6696263">.</span><span class="ident" id="6696264">A</span><span class="op" id="6696265">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696271">if</span>&nbsp;<span class="builtinfunc" id="6696274">len</span><span class="op" id="6696277">(</span><span class="op" id="6696278">*</span><span class="op" id="6696279">*</span><span class="op" id="6696280">*</span><span class="ident" id="6696281">i</span><span class="op" id="6696282">.</span><span class="ident" id="6696283">S</span><span class="op" id="6696284">)</span>&nbsp;<span class="op" id="6696286">!=</span>&nbsp;<span class="num" id="6696289">3</span>&nbsp;<span class="op" id="6696291">||</span>&nbsp;<span class="op" id="6696294">(</span><span class="op" id="6696295">*</span><span class="op" id="6696296">*</span><span class="op" id="6696297">*</span><span class="ident" id="6696298">i</span><span class="op" id="6696299">.</span><span class="ident" id="6696300">S</span><span class="op" id="6696301">)</span><span class="op" id="6696302">[</span><span class="num" id="6696303">0</span><span class="op" id="6696304">]</span>&nbsp;<span class="op" id="6696306">!=</span>&nbsp;<span class="num" id="6696309">44</span>&nbsp;<span class="op" id="6696312">||</span>&nbsp;<span class="op" id="6696315">(</span><span class="op" id="6696316">*</span><span class="op" id="6696317">*</span><span class="op" id="6696318">*</span><span class="ident" id="6696319">i</span><span class="op" id="6696320">.</span><span class="ident" id="6696321">S</span><span class="op" id="6696322">)</span><span class="op" id="6696323">[</span><span class="num" id="6696324">1</span><span class="op" id="6696325">]</span>&nbsp;<span class="op" id="6696327">!=</span>&nbsp;<span class="num" id="6696330">55</span>&nbsp;<span class="op" id="6696333">||</span>&nbsp;<span class="op" id="6696336">(</span><span class="op" id="6696337">*</span><span class="op" id="6696338">*</span><span class="op" id="6696339">*</span><span class="ident" id="6696340">i</span><span class="op" id="6696341">.</span><span class="ident" id="6696342">S</span><span class="op" id="6696343">)</span><span class="op" id="6696344">[</span><span class="num" id="6696345">2</span><span class="op" id="6696346">]</span>&nbsp;<span class="op" id="6696348">!=</span>&nbsp;<span class="num" id="6696351">66</span>&nbsp;<span class="op" id="6696354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696358">t</span><span class="op" id="6696359">.</span><span class="ident" id="6696360">Errorf</span><span class="op" id="6696366">(</span><span class="string" id="6696367">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="6696408">,</span>&nbsp;<span class="op" id="6696410">*</span><span class="op" id="6696411">*</span><span class="op" id="6696412">*</span><span class="ident" id="6696413">i</span><span class="op" id="6696414">.</span><span class="ident" id="6696415">S</span><span class="op" id="6696416">,</span>&nbsp;<span class="op" id="6696418">*</span><span class="op" id="6696419">*</span><span class="op" id="6696420">*</span><span class="ident" id="6696421">i</span><span class="op" id="6696422">.</span><span class="ident" id="6696423">S</span><span class="op" id="6696424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696430">if</span>&nbsp;<span class="builtinfunc" id="6696433">len</span><span class="op" id="6696436">(</span><span class="op" id="6696437">*</span><span class="op" id="6696438">*</span><span class="op" id="6696439">*</span><span class="op" id="6696440">*</span><span class="ident" id="6696441">i</span><span class="op" id="6696442">.</span><span class="ident" id="6696443">M</span><span class="op" id="6696444">)</span>&nbsp;<span class="op" id="6696446">!=</span>&nbsp;<span class="num" id="6696449">3</span>&nbsp;<span class="op" id="6696451">||</span>&nbsp;<span class="op" id="6696454">(</span><span class="op" id="6696455">*</span><span class="op" id="6696456">*</span><span class="op" id="6696457">*</span><span class="op" id="6696458">*</span><span class="ident" id="6696459">i</span><span class="op" id="6696460">.</span><span class="ident" id="6696461">M</span><span class="op" id="6696462">)</span><span class="op" id="6696463">[</span><span class="string" id="6696464">&#34;four&#34;</span><span class="op" id="6696470">]</span>&nbsp;<span class="op" id="6696472">!=</span>&nbsp;<span class="num" id="6696475">4</span>&nbsp;<span class="op" id="6696477">||</span>&nbsp;<span class="op" id="6696480">(</span><span class="op" id="6696481">*</span><span class="op" id="6696482">*</span><span class="op" id="6696483">*</span><span class="op" id="6696484">*</span><span class="ident" id="6696485">i</span><span class="op" id="6696486">.</span><span class="ident" id="6696487">M</span><span class="op" id="6696488">)</span><span class="op" id="6696489">[</span><span class="string" id="6696490">&#34;five&#34;</span><span class="op" id="6696496">]</span>&nbsp;<span class="op" id="6696498">!=</span>&nbsp;<span class="num" id="6696501">5</span>&nbsp;<span class="op" id="6696503">||</span>&nbsp;<span class="op" id="6696506">(</span><span class="op" id="6696507">*</span><span class="op" id="6696508">*</span><span class="op" id="6696509">*</span><span class="op" id="6696510">*</span><span class="ident" id="6696511">i</span><span class="op" id="6696512">.</span><span class="ident" id="6696513">M</span><span class="op" id="6696514">)</span><span class="op" id="6696515">[</span><span class="string" id="6696516">&#34;six&#34;</span><span class="op" id="6696521">]</span>&nbsp;<span class="op" id="6696523">!=</span>&nbsp;<span class="num" id="6696526">6</span>&nbsp;<span class="op" id="6696528">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696532">t</span><span class="op" id="6696533">.</span><span class="ident" id="6696534">Errorf</span><span class="op" id="6696540">(</span><span class="string" id="6696541">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;****i.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="6696583">,</span>&nbsp;<span class="op" id="6696585">*</span><span class="op" id="6696586">*</span><span class="op" id="6696587">*</span><span class="op" id="6696588">*</span><span class="ident" id="6696589">i</span><span class="op" id="6696590">.</span><span class="ident" id="6696591">M</span><span class="op" id="6696592">,</span>&nbsp;<span class="ident" id="6696594">d</span><span class="op" id="6696595">.</span><span class="ident" id="6696596">M</span><span class="op" id="6696597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696600">}</span><br>
<span class="lineno"></span><span class="op" id="6696602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6696605">//&nbsp;An&nbsp;interface&nbsp;with&nbsp;several&nbsp;implementations</span><br>
<span class="lineno">1050</span><span class="keyword" id="6696650">type</span>&nbsp;<span class="ident" id="6696655">Squarer</span>&nbsp;<span class="keyword" id="6696663">interface</span>&nbsp;<span class="op" id="6696673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696676">Square</span><span class="op" id="6696682">(</span><span class="op" id="6696683">)</span>&nbsp;<span class="builtintype" id="6696685">int</span><br>
<span class="lineno"></span><span class="op" id="6696689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6696692">type</span>&nbsp;<span class="ident" id="6696697">Int</span>&nbsp;<span class="builtintype" id="6696701">int</span><br>
<span class="lineno">1055</span><br>
<span class="lineno"></span><span class="keyword" id="6696706">func</span>&nbsp;<span class="op" id="6696711">(</span><span class="ident" id="6696712">i</span>&nbsp;<span class="ident" id="6696714">Int</span><span class="op" id="6696717">)</span>&nbsp;<span class="ident" id="6696719">Square</span><span class="op" id="6696725">(</span><span class="op" id="6696726">)</span>&nbsp;<span class="builtintype" id="6696728">int</span>&nbsp;<span class="op" id="6696732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696735">return</span>&nbsp;<span class="builtintype" id="6696742">int</span><span class="op" id="6696745">(</span><span class="ident" id="6696746">i</span>&nbsp;<span class="op" id="6696748">*</span>&nbsp;<span class="ident" id="6696750">i</span><span class="op" id="6696751">)</span><br>
<span class="lineno"></span><span class="op" id="6696753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span><span class="keyword" id="6696756">type</span>&nbsp;<span class="ident" id="6696761">Float</span>&nbsp;<span class="builtintype" id="6696767">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6696776">func</span>&nbsp;<span class="op" id="6696781">(</span><span class="ident" id="6696782">f</span>&nbsp;<span class="ident" id="6696784">Float</span><span class="op" id="6696789">)</span>&nbsp;<span class="ident" id="6696791">Square</span><span class="op" id="6696797">(</span><span class="op" id="6696798">)</span>&nbsp;<span class="builtintype" id="6696800">int</span>&nbsp;<span class="op" id="6696804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696807">return</span>&nbsp;<span class="builtintype" id="6696814">int</span><span class="op" id="6696817">(</span><span class="ident" id="6696818">f</span>&nbsp;<span class="op" id="6696820">*</span>&nbsp;<span class="ident" id="6696822">f</span><span class="op" id="6696823">)</span><br>
<span class="lineno"></span><span class="op" id="6696825">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span><span class="keyword" id="6696828">type</span>&nbsp;<span class="ident" id="6696833">Vector</span>&nbsp;<span class="op" id="6696840">[</span><span class="op" id="6696841">]</span><span class="builtintype" id="6696842">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6696847">func</span>&nbsp;<span class="op" id="6696852">(</span><span class="ident" id="6696853">v</span>&nbsp;<span class="ident" id="6696855">Vector</span><span class="op" id="6696861">)</span>&nbsp;<span class="ident" id="6696863">Square</span><span class="op" id="6696869">(</span><span class="op" id="6696870">)</span>&nbsp;<span class="builtintype" id="6696872">int</span>&nbsp;<span class="op" id="6696876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696879">sum</span>&nbsp;<span class="op" id="6696883">:=</span>&nbsp;<span class="num" id="6696886">0</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696889">for</span>&nbsp;<span class="ident" id="6696893">_</span><span class="op" id="6696894">,</span>&nbsp;<span class="ident" id="6696896">x</span>&nbsp;<span class="op" id="6696898">:=</span>&nbsp;<span class="keyword" id="6696901">range</span>&nbsp;<span class="ident" id="6696907">v</span>&nbsp;<span class="op" id="6696909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696913">sum</span>&nbsp;<span class="op" id="6696917">+=</span>&nbsp;<span class="ident" id="6696920">x</span>&nbsp;<span class="op" id="6696922">*</span>&nbsp;<span class="ident" id="6696924">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696930">return</span>&nbsp;<span class="ident" id="6696937">sum</span><br>
<span class="lineno"></span><span class="op" id="6696941">}</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span><span class="keyword" id="6696944">type</span>&nbsp;<span class="ident" id="6696949">Point</span>&nbsp;<span class="keyword" id="6696955">struct</span>&nbsp;<span class="op" id="6696962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696965">X</span><span class="op" id="6696966">,</span>&nbsp;<span class="ident" id="6696968">Y</span>&nbsp;<span class="builtintype" id="6696970">int</span><br>
<span class="lineno"></span><span class="op" id="6696974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1080</span><span class="keyword" id="6696977">func</span>&nbsp;<span class="op" id="6696982">(</span><span class="ident" id="6696983">p</span>&nbsp;<span class="ident" id="6696985">Point</span><span class="op" id="6696990">)</span>&nbsp;<span class="ident" id="6696992">Square</span><span class="op" id="6696998">(</span><span class="op" id="6696999">)</span>&nbsp;<span class="builtintype" id="6697001">int</span>&nbsp;<span class="op" id="6697005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6697008">return</span>&nbsp;<span class="ident" id="6697015">p</span><span class="op" id="6697016">.</span><span class="ident" id="6697017">X</span><span class="op" id="6697018">*</span><span class="ident" id="6697019">p</span><span class="op" id="6697020">.</span><span class="ident" id="6697021">X</span>&nbsp;<span class="op" id="6697023">+</span>&nbsp;<span class="ident" id="6697025">p</span><span class="op" id="6697026">.</span><span class="ident" id="6697027">Y</span><span class="op" id="6697028">*</span><span class="ident" id="6697029">p</span><span class="op" id="6697030">.</span><span class="ident" id="6697031">Y</span><br>
<span class="lineno"></span><span class="op" id="6697033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6697036">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;interfaces&nbsp;in&nbsp;it.</span><br>
<span class="lineno">1085</span><span class="keyword" id="6697071">type</span>&nbsp;<span class="ident" id="6697076">InterfaceItem</span>&nbsp;<span class="keyword" id="6697090">struct</span>&nbsp;<span class="op" id="6697097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697100">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6697114">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697119">Sq1</span><span class="op" id="6697122">,</span>&nbsp;<span class="ident" id="6697124">Sq2</span><span class="op" id="6697127">,</span>&nbsp;<span class="ident" id="6697129">Sq3</span>&nbsp;<span class="ident" id="6697133">Squarer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697142">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6697156">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697165">Sq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6697179">[</span><span class="op" id="6697180">]</span><span class="ident" id="6697181">Squarer</span><br>
<span class="lineno">1090</span><span class="op" id="6697189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6697192">//&nbsp;The&nbsp;same&nbsp;struct&nbsp;without&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="keyword" id="6697230">type</span>&nbsp;<span class="ident" id="6697235">NoInterfaceItem</span>&nbsp;<span class="keyword" id="6697251">struct</span>&nbsp;<span class="op" id="6697258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697261">I</span>&nbsp;<span class="builtintype" id="6697263">int</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697268">F</span>&nbsp;<span class="builtintype" id="6697270">float64</span><br>
<span class="lineno"></span><span class="op" id="6697278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6697281">func</span>&nbsp;<span class="ident" id="6697286">TestInterface</span><span class="op" id="6697299">(</span><span class="ident" id="6697300">t</span>&nbsp;<span class="op" id="6697302">*</span><span class="ident" id="6697303">testing</span><span class="op" id="6697310">.</span><span class="ident" id="6697311">T</span><span class="op" id="6697312">)</span>&nbsp;<span class="op" id="6697314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697317">iVal</span>&nbsp;<span class="op" id="6697322">:=</span>&nbsp;<span class="ident" id="6697325">Int</span><span class="op" id="6697328">(</span><span class="num" id="6697329">3</span><span class="op" id="6697330">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697333">fVal</span>&nbsp;<span class="op" id="6697338">:=</span>&nbsp;<span class="ident" id="6697341">Float</span><span class="op" id="6697346">(</span><span class="num" id="6697347">5</span><span class="op" id="6697348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6697351">//&nbsp;Sending&nbsp;a&nbsp;Vector&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6697434">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697469">vVal</span>&nbsp;<span class="op" id="6697474">:=</span>&nbsp;<span class="ident" id="6697477">Vector</span><span class="op" id="6697483">{</span><span class="num" id="6697484">1</span><span class="op" id="6697485">,</span>&nbsp;<span class="num" id="6697487">2</span><span class="op" id="6697488">,</span>&nbsp;<span class="num" id="6697490">3</span><span class="op" id="6697491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697494">b</span>&nbsp;<span class="op" id="6697496">:=</span>&nbsp;<span class="builtinfunc" id="6697499">new</span><span class="op" id="6697502">(</span><span class="ident" id="6697503">bytes</span><span class="op" id="6697508">.</span><span class="ident" id="6697509">Buffer</span><span class="op" id="6697515">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697518">item1</span>&nbsp;<span class="op" id="6697524">:=</span>&nbsp;<span class="op" id="6697527">&amp;</span><span class="ident" id="6697528">InterfaceItem</span><span class="op" id="6697541">{</span><span class="num" id="6697542">1</span><span class="op" id="6697543">,</span>&nbsp;<span class="ident" id="6697545">iVal</span><span class="op" id="6697549">,</span>&nbsp;<span class="ident" id="6697551">fVal</span><span class="op" id="6697555">,</span>&nbsp;<span class="ident" id="6697557">vVal</span><span class="op" id="6697561">,</span>&nbsp;<span class="num" id="6697563">11.5</span><span class="op" id="6697567">,</span>&nbsp;<span class="op" id="6697569">[</span><span class="op" id="6697570">]</span><span class="ident" id="6697571">Squarer</span><span class="op" id="6697578">{</span><span class="ident" id="6697579">iVal</span><span class="op" id="6697583">,</span>&nbsp;<span class="ident" id="6697585">fVal</span><span class="op" id="6697589">,</span>&nbsp;<span class="ident" id="6697591">nil</span><span class="op" id="6697594">,</span>&nbsp;<span class="ident" id="6697596">vVal</span><span class="op" id="6697600">}</span><span class="op" id="6697601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6697604">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697628">Register</span><span class="op" id="6697636">(</span><span class="ident" id="6697637">Int</span><span class="op" id="6697640">(</span><span class="num" id="6697641">0</span><span class="op" id="6697642">)</span><span class="op" id="6697643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697646">Register</span><span class="op" id="6697654">(</span><span class="ident" id="6697655">Float</span><span class="op" id="6697660">(</span><span class="num" id="6697661">0</span><span class="op" id="6697662">)</span><span class="op" id="6697663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697666">Register</span><span class="op" id="6697674">(</span><span class="ident" id="6697675">Vector</span><span class="op" id="6697681">{</span><span class="op" id="6697682">}</span><span class="op" id="6697683">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697686">err</span>&nbsp;<span class="op" id="6697690">:=</span>&nbsp;<span class="ident" id="6697693">NewEncoder</span><span class="op" id="6697703">(</span><span class="ident" id="6697704">b</span><span class="op" id="6697705">)</span><span class="op" id="6697706">.</span><span class="ident" id="6697707">Encode</span><span class="op" id="6697713">(</span><span class="ident" id="6697714">item1</span><span class="op" id="6697719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6697722">if</span>&nbsp;<span class="ident" id="6697725">err</span>&nbsp;<span class="op" id="6697729">!=</span>&nbsp;<span class="ident" id="6697732">nil</span>&nbsp;<span class="op" id="6697736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697740">t</span><span class="op" id="6697741">.</span><span class="ident" id="6697742">Error</span><span class="op" id="6697747">(</span><span class="string" id="6697748">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="6697779">,</span>&nbsp;<span class="ident" id="6697781">err</span><span class="op" id="6697784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697791">item2</span>&nbsp;<span class="op" id="6697797">:=</span>&nbsp;<span class="ident" id="6697800">InterfaceItem</span><span class="op" id="6697813">{</span><span class="op" id="6697814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697817">err</span>&nbsp;<span class="op" id="6697821">=</span>&nbsp;<span class="ident" id="6697823">NewDecoder</span><span class="op" id="6697833">(</span><span class="ident" id="6697834">b</span><span class="op" id="6697835">)</span><span class="op" id="6697836">.</span><span class="ident" id="6697837">Decode</span><span class="op" id="6697843">(</span><span class="op" id="6697844">&amp;</span><span class="ident" id="6697845">item2</span><span class="op" id="6697850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6697853">if</span>&nbsp;<span class="ident" id="6697856">err</span>&nbsp;<span class="op" id="6697860">!=</span>&nbsp;<span class="ident" id="6697863">nil</span>&nbsp;<span class="op" id="6697867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697871">t</span><span class="op" id="6697872">.</span><span class="ident" id="6697873">Fatal</span><span class="op" id="6697878">(</span><span class="string" id="6697879">&#34;decode:&#34;</span><span class="op" id="6697888">,</span>&nbsp;<span class="ident" id="6697890">err</span><span class="op" id="6697893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697896">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6697899">if</span>&nbsp;<span class="ident" id="6697902">item2</span><span class="op" id="6697907">.</span><span class="ident" id="6697908">I</span>&nbsp;<span class="op" id="6697910">!=</span>&nbsp;<span class="ident" id="6697913">item1</span><span class="op" id="6697918">.</span><span class="ident" id="6697919">I</span>&nbsp;<span class="op" id="6697921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697925">t</span><span class="op" id="6697926">.</span><span class="ident" id="6697927">Error</span><span class="op" id="6697932">(</span><span class="string" id="6697933">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="6697970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6697976">if</span>&nbsp;<span class="ident" id="6697979">item2</span><span class="op" id="6697984">.</span><span class="ident" id="6697985">Sq1</span>&nbsp;<span class="op" id="6697989">==</span>&nbsp;<span class="ident" id="6697992">nil</span>&nbsp;<span class="op" id="6697996">||</span>&nbsp;<span class="ident" id="6697999">item2</span><span class="op" id="6698004">.</span><span class="ident" id="6698005">Sq1</span><span class="op" id="6698008">.</span><span class="ident" id="6698009">Square</span><span class="op" id="6698015">(</span><span class="op" id="6698016">)</span>&nbsp;<span class="op" id="6698018">!=</span>&nbsp;<span class="ident" id="6698021">iVal</span><span class="op" id="6698025">.</span><span class="ident" id="6698026">Square</span><span class="op" id="6698032">(</span><span class="op" id="6698033">)</span>&nbsp;<span class="op" id="6698035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6698039">t</span><span class="op" id="6698040">.</span><span class="ident" id="6698041">Error</span><span class="op" id="6698046">(</span><span class="string" id="6698047">&#34;Int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="6698077">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6698083">if</span>&nbsp;<span class="ident" id="6698086">item2</span><span class="op" id="6698091">.</span><span class="ident" id="6698092">Sq2</span>&nbsp;<span class="op" id="6698096">==</span>&nbsp;<span class="ident" id="6698099">nil</span>&nbsp;<span class="op" id="6698103">||</span>&nbsp;<span class="ident" id="6698106">item2</span><span class="op" id="6698111">.</span><span class="ident" id="6698112">Sq2</span><span class="op" id="6698115">.</span><span class="ident" id="6698116">Square</span><span class="op" id="6698122">(</span><span class="op" id="6698123">)</span>&nbsp;<span class="op" id="6698125">!=</span>&nbsp;<span class="ident" id="6698128">fVal</span><span class="op" id="6698132">.</span><span class="ident" id="6698133">Square</span><span class="op" id="6698139">(</span><span class="op" id="6698140">)</span>&nbsp;<span class="op" id="6698142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6698146">t</span><span class="op" id="6698147">.</span><span class="ident" id="6698148">Error</span><span class="op" id="6698153">(</span><span class="string" id="6698154">&#34;Float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="6698186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6698192">if</span>&nbsp;<span class="ident" id="6698195">item2</span><span class="op" id="6698200">.</span><span class="ident" id="6698201">Sq3</span>&nbsp;<span class="op" id="6698205">==</span>&nbsp;<span class="ident" id="6698208">nil</span>&nbsp;<span class="op" id="6698212">||</span>&nbsp;<span class="ident" id="6698215">item2</span><span class="op" id="6698220">.</span><span class="ident" id="6698221">Sq3</span><span class="op" id="6698224">.</span><span class="ident" id="6698225">Square</span><span class="op" id="6698231">(</span><span class="op" id="6698232">)</span>&nbsp;<span class="op" id="6698234">!=</span>&nbsp;<span class="ident" id="6698237">vVal</span><span class="op" id="6698241">.</span><span class="ident" id="6698242">Square</span><span class="op" id="6698248">(</span><span class="op" id="6698249">)</span>&nbsp;<span class="op" id="6698251">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6698255">t</span><span class="op" id="6698256">.</span><span class="ident" id="6698257">Error</span><span class="op" id="6698262">(</span><span class="string" id="6698263">&#34;Vector&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="6698296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6698302">if</span>&nbsp;<span class="ident" id="6698305">item2</span><span class="op" id="6698310">.</span><span class="ident" id="6698311">F</span>&nbsp;<span class="op" id="6698313">!=</span>&nbsp;<span class="ident" id="6698316">item1</span><span class="op" id="6698321">.</span><span class="ident" id="6698322">F</span>&nbsp;<span class="op" id="6698324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6698328">t</span><span class="op" id="6698329">.</span><span class="ident" id="6698330">Error</span><span class="op" id="6698335">(</span><span class="string" id="6698336">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="6698375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698378">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6698381">//&nbsp;Now&nbsp;check&nbsp;that&nbsp;we&nbsp;received&nbsp;a&nbsp;slice&nbsp;of&nbsp;Squarers&nbsp;correctly,&nbsp;including&nbsp;a&nbsp;nil&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6698467">if</span>&nbsp;<span class="builtinfunc" id="6698470">len</span><span class="op" id="6698473">(</span><span class="ident" id="6698474">item1</span><span class="op" id="6698479">.</span><span class="ident" id="6698480">Sq</span><span class="op" id="6698482">)</span>&nbsp;<span class="op" id="6698484">!=</span>&nbsp;<span class="builtinfunc" id="6698487">len</span><span class="op" id="6698490">(</span><span class="ident" id="6698491">item2</span><span class="op" id="6698496">.</span><span class="ident" id="6698497">Sq</span><span class="op" id="6698499">)</span>&nbsp;<span class="op" id="6698501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6698505">t</span><span class="op" id="6698506">.</span><span class="ident" id="6698507">Fatalf</span><span class="op" id="6698513">(</span><span class="string" id="6698514">&#34;[]Squarer&nbsp;length&nbsp;wrong:&nbsp;got&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6698559">,</span>&nbsp;<span class="builtinfunc" id="6698561">len</span><span class="op" id="6698564">(</span><span class="ident" id="6698565">item2</span><span class="op" id="6698570">.</span><span class="ident" id="6698571">Sq</span><span class="op" id="6698573">)</span><span class="op" id="6698574">,</span>&nbsp;<span class="builtinfunc" id="6698576">len</span><span class="op" id="6698579">(</span><span class="ident" id="6698580">item1</span><span class="op" id="6698585">.</span><span class="ident" id="6698586">Sq</span><span class="op" id="6698588">)</span><span class="op" id="6698589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6698595">for</span>&nbsp;<span class="ident" id="6698599">i</span><span class="op" id="6698600">,</span>&nbsp;<span class="ident" id="6698602">v1</span>&nbsp;<span class="op" id="6698605">:=</span>&nbsp;<span class="keyword" id="6698608">range</span>&nbsp;<span class="ident" id="6698614">item1</span><span class="op" id="6698619">.</span><span class="ident" id="6698620">Sq</span>&nbsp;<span class="op" id="6698623">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6698627">v2</span>&nbsp;<span class="op" id="6698630">:=</span>&nbsp;<span class="ident" id="6698633">item2</span><span class="op" id="6698638">.</span><span class="ident" id="6698639">Sq</span><span class="op" id="6698641">[</span><span class="ident" id="6698642">i</span><span class="op" id="6698643">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6698647">if</span>&nbsp;<span class="ident" id="6698650">v1</span>&nbsp;<span class="op" id="6698653">==</span>&nbsp;<span class="ident" id="6698656">nil</span>&nbsp;<span class="op" id="6698660">||</span>&nbsp;<span class="ident" id="6698663">v2</span>&nbsp;<span class="op" id="6698666">==</span>&nbsp;<span class="ident" id="6698669">nil</span>&nbsp;<span class="op" id="6698673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6698678">if</span>&nbsp;<span class="ident" id="6698681">v1</span>&nbsp;<span class="op" id="6698684">!=</span>&nbsp;<span class="ident" id="6698687">nil</span>&nbsp;<span class="op" id="6698691">||</span>&nbsp;<span class="ident" id="6698694">v2</span>&nbsp;<span class="op" id="6698697">!=</span>&nbsp;<span class="ident" id="6698700">nil</span>&nbsp;<span class="op" id="6698704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6698710">t</span><span class="op" id="6698711">.</span><span class="ident" id="6698712">Errorf</span><span class="op" id="6698718">(</span><span class="string" id="6698719">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;nils&#34;</span><span class="op" id="6698746">,</span>&nbsp;<span class="ident" id="6698748">i</span><span class="op" id="6698749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698754">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698758">}</span>&nbsp;<span class="keyword" id="6698760">else</span>&nbsp;<span class="keyword" id="6698765">if</span>&nbsp;<span class="ident" id="6698768">v1</span><span class="op" id="6698770">.</span><span class="ident" id="6698771">Square</span><span class="op" id="6698777">(</span><span class="op" id="6698778">)</span>&nbsp;<span class="op" id="6698780">!=</span>&nbsp;<span class="ident" id="6698783">v2</span><span class="op" id="6698785">.</span><span class="ident" id="6698786">Square</span><span class="op" id="6698792">(</span><span class="op" id="6698793">)</span>&nbsp;<span class="op" id="6698795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6698800">t</span><span class="op" id="6698801">.</span><span class="ident" id="6698802">Errorf</span><span class="op" id="6698808">(</span><span class="string" id="6698809">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;values:&nbsp;%v&nbsp;%v&#34;</span><span class="op" id="6698845">,</span>&nbsp;<span class="ident" id="6698847">i</span><span class="op" id="6698848">,</span>&nbsp;<span class="ident" id="6698850">v1</span><span class="op" id="6698852">,</span>&nbsp;<span class="ident" id="6698854">v2</span><span class="op" id="6698856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698863">}</span><br>
<span class="lineno"></span><span class="op" id="6698865">}</span><br>
<span class="lineno">1150</span><br>
<span class="lineno"></span><span class="comment" id="6698868">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;all&nbsp;basic&nbsp;types,&nbsp;stored&nbsp;in&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="keyword" id="6698924">type</span>&nbsp;<span class="ident" id="6698929">BasicInterfaceItem</span>&nbsp;<span class="keyword" id="6698948">struct</span>&nbsp;<span class="op" id="6698955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6698958">Int</span><span class="op" id="6698961">,</span>&nbsp;<span class="ident" id="6698963">Int8</span><span class="op" id="6698967">,</span>&nbsp;<span class="ident" id="6698969">Int16</span><span class="op" id="6698974">,</span>&nbsp;<span class="ident" id="6698976">Int32</span><span class="op" id="6698981">,</span>&nbsp;<span class="ident" id="6698983">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698994">interface</span><span class="op" id="6699003">{</span><span class="op" id="6699004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699007">Uint</span><span class="op" id="6699011">,</span>&nbsp;<span class="ident" id="6699013">Uint8</span><span class="op" id="6699018">,</span>&nbsp;<span class="ident" id="6699020">Uint16</span><span class="op" id="6699026">,</span>&nbsp;<span class="ident" id="6699028">Uint32</span><span class="op" id="6699034">,</span>&nbsp;<span class="ident" id="6699036">Uint64</span>&nbsp;<span class="keyword" id="6699043">interface</span><span class="op" id="6699052">{</span><span class="op" id="6699053">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699056">Float32</span><span class="op" id="6699063">,</span>&nbsp;<span class="ident" id="6699065">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6699092">interface</span><span class="op" id="6699101">{</span><span class="op" id="6699102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699105">Complex64</span><span class="op" id="6699114">,</span>&nbsp;<span class="ident" id="6699116">Complex128</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6699141">interface</span><span class="op" id="6699150">{</span><span class="op" id="6699151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699154">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6699190">interface</span><span class="op" id="6699199">{</span><span class="op" id="6699200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699203">String</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6699239">interface</span><span class="op" id="6699248">{</span><span class="op" id="6699249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699252">Bytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6699288">interface</span><span class="op" id="6699297">{</span><span class="op" id="6699298">}</span><br>
<span class="lineno">1160</span><span class="op" id="6699300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6699303">func</span>&nbsp;<span class="ident" id="6699308">TestInterfaceBasic</span><span class="op" id="6699326">(</span><span class="ident" id="6699327">t</span>&nbsp;<span class="op" id="6699329">*</span><span class="ident" id="6699330">testing</span><span class="op" id="6699337">.</span><span class="ident" id="6699338">T</span><span class="op" id="6699339">)</span>&nbsp;<span class="op" id="6699341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699344">b</span>&nbsp;<span class="op" id="6699346">:=</span>&nbsp;<span class="builtinfunc" id="6699349">new</span><span class="op" id="6699352">(</span><span class="ident" id="6699353">bytes</span><span class="op" id="6699358">.</span><span class="ident" id="6699359">Buffer</span><span class="op" id="6699365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699368">item1</span>&nbsp;<span class="op" id="6699374">:=</span>&nbsp;<span class="op" id="6699377">&amp;</span><span class="ident" id="6699378">BasicInterfaceItem</span><span class="op" id="6699396">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6699400">int</span><span class="op" id="6699403">(</span><span class="num" id="6699404">1</span><span class="op" id="6699405">)</span><span class="op" id="6699406">,</span>&nbsp;<span class="builtintype" id="6699408">int8</span><span class="op" id="6699412">(</span><span class="num" id="6699413">1</span><span class="op" id="6699414">)</span><span class="op" id="6699415">,</span>&nbsp;<span class="builtintype" id="6699417">int16</span><span class="op" id="6699422">(</span><span class="num" id="6699423">1</span><span class="op" id="6699424">)</span><span class="op" id="6699425">,</span>&nbsp;<span class="builtintype" id="6699427">int32</span><span class="op" id="6699432">(</span><span class="num" id="6699433">1</span><span class="op" id="6699434">)</span><span class="op" id="6699435">,</span>&nbsp;<span class="ident" id="6699437">int64</span><span class="op" id="6699442">(</span><span class="num" id="6699443">1</span><span class="op" id="6699444">)</span><span class="op" id="6699445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6699449">uint</span><span class="op" id="6699453">(</span><span class="num" id="6699454">1</span><span class="op" id="6699455">)</span><span class="op" id="6699456">,</span>&nbsp;<span class="builtintype" id="6699458">uint8</span><span class="op" id="6699463">(</span><span class="num" id="6699464">1</span><span class="op" id="6699465">)</span><span class="op" id="6699466">,</span>&nbsp;<span class="builtintype" id="6699468">uint16</span><span class="op" id="6699474">(</span><span class="num" id="6699475">1</span><span class="op" id="6699476">)</span><span class="op" id="6699477">,</span>&nbsp;<span class="builtintype" id="6699479">uint32</span><span class="op" id="6699485">(</span><span class="num" id="6699486">1</span><span class="op" id="6699487">)</span><span class="op" id="6699488">,</span>&nbsp;<span class="ident" id="6699490">uint64</span><span class="op" id="6699496">(</span><span class="num" id="6699497">1</span><span class="op" id="6699498">)</span><span class="op" id="6699499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6699503">float32</span><span class="op" id="6699510">(</span><span class="num" id="6699511">1</span><span class="op" id="6699512">)</span><span class="op" id="6699513">,</span>&nbsp;<span class="num" id="6699515">1.0</span><span class="op" id="6699518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6699522">complex64</span><span class="op" id="6699531">(</span><span class="num" id="6699532">1i</span><span class="op" id="6699534">)</span><span class="op" id="6699535">,</span>&nbsp;<span class="builtintype" id="6699537">complex128</span><span class="op" id="6699547">(</span><span class="num" id="6699548">1i</span><span class="op" id="6699550">)</span><span class="op" id="6699551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6699555">true</span><span class="op" id="6699559">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6699563">&#34;hello&#34;</span><span class="op" id="6699570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6699574">[</span><span class="op" id="6699575">]</span><span class="builtintype" id="6699576">byte</span><span class="op" id="6699580">(</span><span class="string" id="6699581">&#34;sailor&#34;</span><span class="op" id="6699589">)</span><span class="op" id="6699590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6699593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699596">err</span>&nbsp;<span class="op" id="6699600">:=</span>&nbsp;<span class="ident" id="6699603">NewEncoder</span><span class="op" id="6699613">(</span><span class="ident" id="6699614">b</span><span class="op" id="6699615">)</span><span class="op" id="6699616">.</span><span class="ident" id="6699617">Encode</span><span class="op" id="6699623">(</span><span class="ident" id="6699624">item1</span><span class="op" id="6699629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6699632">if</span>&nbsp;<span class="ident" id="6699635">err</span>&nbsp;<span class="op" id="6699639">!=</span>&nbsp;<span class="ident" id="6699642">nil</span>&nbsp;<span class="op" id="6699646">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699650">t</span><span class="op" id="6699651">.</span><span class="ident" id="6699652">Error</span><span class="op" id="6699657">(</span><span class="string" id="6699658">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="6699689">,</span>&nbsp;<span class="ident" id="6699691">err</span><span class="op" id="6699694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6699697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699701">item2</span>&nbsp;<span class="op" id="6699707">:=</span>&nbsp;<span class="op" id="6699710">&amp;</span><span class="ident" id="6699711">BasicInterfaceItem</span><span class="op" id="6699729">{</span><span class="op" id="6699730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699733">err</span>&nbsp;<span class="op" id="6699737">=</span>&nbsp;<span class="ident" id="6699739">NewDecoder</span><span class="op" id="6699749">(</span><span class="ident" id="6699750">b</span><span class="op" id="6699751">)</span><span class="op" id="6699752">.</span><span class="ident" id="6699753">Decode</span><span class="op" id="6699759">(</span><span class="op" id="6699760">&amp;</span><span class="ident" id="6699761">item2</span><span class="op" id="6699766">)</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6699769">if</span>&nbsp;<span class="ident" id="6699772">err</span>&nbsp;<span class="op" id="6699776">!=</span>&nbsp;<span class="ident" id="6699779">nil</span>&nbsp;<span class="op" id="6699783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699787">t</span><span class="op" id="6699788">.</span><span class="ident" id="6699789">Fatal</span><span class="op" id="6699794">(</span><span class="string" id="6699795">&#34;decode:&#34;</span><span class="op" id="6699804">,</span>&nbsp;<span class="ident" id="6699806">err</span><span class="op" id="6699809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6699812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6699815">if</span>&nbsp;<span class="op" id="6699818">!</span><span class="ident" id="6699819">reflect</span><span class="op" id="6699826">.</span><span class="ident" id="6699827">DeepEqual</span><span class="op" id="6699836">(</span><span class="ident" id="6699837">item1</span><span class="op" id="6699842">,</span>&nbsp;<span class="ident" id="6699844">item2</span><span class="op" id="6699849">)</span>&nbsp;<span class="op" id="6699851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699855">t</span><span class="op" id="6699856">.</span><span class="ident" id="6699857">Errorf</span><span class="op" id="6699863">(</span><span class="string" id="6699864">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6699891">,</span>&nbsp;<span class="ident" id="6699893">item1</span><span class="op" id="6699898">,</span>&nbsp;<span class="ident" id="6699900">item2</span><span class="op" id="6699905">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6699908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6699911">//&nbsp;Hand&nbsp;check&nbsp;a&nbsp;couple&nbsp;for&nbsp;correct&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6699954">if</span>&nbsp;<span class="ident" id="6699957">v</span><span class="op" id="6699958">,</span>&nbsp;<span class="ident" id="6699960">ok</span>&nbsp;<span class="op" id="6699963">:=</span>&nbsp;<span class="ident" id="6699966">item2</span><span class="op" id="6699971">.</span><span class="ident" id="6699972">Bool</span><span class="op" id="6699976">.</span><span class="op" id="6699977">(</span><span class="builtintype" id="6699978">bool</span><span class="op" id="6699982">)</span><span class="op" id="6699983">;</span>&nbsp;<span class="op" id="6699985">!</span><span class="ident" id="6699986">ok</span>&nbsp;<span class="op" id="6699989">||</span>&nbsp;<span class="op" id="6699992">!</span><span class="ident" id="6699993">v</span>&nbsp;<span class="op" id="6699995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6699999">t</span><span class="op" id="6700000">.</span><span class="ident" id="6700001">Error</span><span class="op" id="6700006">(</span><span class="string" id="6700007">&#34;boolean&nbsp;should&nbsp;be&nbsp;true&#34;</span><span class="op" id="6700031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700034">}</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6700037">if</span>&nbsp;<span class="ident" id="6700040">v</span><span class="op" id="6700041">,</span>&nbsp;<span class="ident" id="6700043">ok</span>&nbsp;<span class="op" id="6700046">:=</span>&nbsp;<span class="ident" id="6700049">item2</span><span class="op" id="6700054">.</span><span class="ident" id="6700055">String</span><span class="op" id="6700061">.</span><span class="op" id="6700062">(</span><span class="builtintype" id="6700063">string</span><span class="op" id="6700069">)</span><span class="op" id="6700070">;</span>&nbsp;<span class="op" id="6700072">!</span><span class="ident" id="6700073">ok</span>&nbsp;<span class="op" id="6700076">||</span>&nbsp;<span class="ident" id="6700079">v</span>&nbsp;<span class="op" id="6700081">!=</span>&nbsp;<span class="ident" id="6700084">item1</span><span class="op" id="6700089">.</span><span class="ident" id="6700090">String</span><span class="op" id="6700096">.</span><span class="op" id="6700097">(</span><span class="builtintype" id="6700098">string</span><span class="op" id="6700104">)</span>&nbsp;<span class="op" id="6700106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700110">t</span><span class="op" id="6700111">.</span><span class="ident" id="6700112">Errorf</span><span class="op" id="6700118">(</span><span class="string" id="6700119">&#34;string&nbsp;should&nbsp;be&nbsp;%v&nbsp;is&nbsp;%v&#34;</span><span class="op" id="6700146">,</span>&nbsp;<span class="ident" id="6700148">item1</span><span class="op" id="6700153">.</span><span class="ident" id="6700154">String</span><span class="op" id="6700160">,</span>&nbsp;<span class="ident" id="6700162">v</span><span class="op" id="6700163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700166">}</span><br>
<span class="lineno"></span><span class="op" id="6700168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span><span class="keyword" id="6700171">type</span>&nbsp;<span class="ident" id="6700176">String</span>&nbsp;<span class="builtintype" id="6700183">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6700191">type</span>&nbsp;<span class="ident" id="6700196">PtrInterfaceItem</span>&nbsp;<span class="keyword" id="6700213">struct</span>&nbsp;<span class="op" id="6700220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700223">Str1</span>&nbsp;<span class="keyword" id="6700228">interface</span><span class="op" id="6700237">{</span><span class="op" id="6700238">}</span>&nbsp;<span class="comment" id="6700240">//&nbsp;basic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700250">Str2</span>&nbsp;<span class="keyword" id="6700255">interface</span><span class="op" id="6700264">{</span><span class="op" id="6700265">}</span>&nbsp;<span class="comment" id="6700267">//&nbsp;derived</span><br>
<span class="lineno">1200</span><span class="op" id="6700278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6700281">//&nbsp;We&#39;ll&nbsp;send&nbsp;pointers;&nbsp;should&nbsp;receive&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="6700328">//&nbsp;Also&nbsp;check&nbsp;that&nbsp;we&nbsp;can&nbsp;register&nbsp;T&nbsp;but&nbsp;send&nbsp;*T.</span><br>
<span class="lineno"></span><span class="keyword" id="6700378">func</span>&nbsp;<span class="ident" id="6700383">TestInterfacePointer</span><span class="op" id="6700403">(</span><span class="ident" id="6700404">t</span>&nbsp;<span class="op" id="6700406">*</span><span class="ident" id="6700407">testing</span><span class="op" id="6700414">.</span><span class="ident" id="6700415">T</span><span class="op" id="6700416">)</span>&nbsp;<span class="op" id="6700418">{</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700421">b</span>&nbsp;<span class="op" id="6700423">:=</span>&nbsp;<span class="builtinfunc" id="6700426">new</span><span class="op" id="6700429">(</span><span class="ident" id="6700430">bytes</span><span class="op" id="6700435">.</span><span class="ident" id="6700436">Buffer</span><span class="op" id="6700442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700445">str1</span>&nbsp;<span class="op" id="6700450">:=</span>&nbsp;<span class="string" id="6700453">&#34;howdy&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700462">str2</span>&nbsp;<span class="op" id="6700467">:=</span>&nbsp;<span class="ident" id="6700470">String</span><span class="op" id="6700476">(</span><span class="string" id="6700477">&#34;kiddo&#34;</span><span class="op" id="6700484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700487">item1</span>&nbsp;<span class="op" id="6700493">:=</span>&nbsp;<span class="op" id="6700496">&amp;</span><span class="ident" id="6700497">PtrInterfaceItem</span><span class="op" id="6700513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700517">&amp;</span><span class="ident" id="6700518">str1</span><span class="op" id="6700522">,</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700526">&amp;</span><span class="ident" id="6700527">str2</span><span class="op" id="6700531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6700537">//&nbsp;Register&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700560">Register</span><span class="op" id="6700568">(</span><span class="ident" id="6700569">str2</span><span class="op" id="6700573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700576">err</span>&nbsp;<span class="op" id="6700580">:=</span>&nbsp;<span class="ident" id="6700583">NewEncoder</span><span class="op" id="6700593">(</span><span class="ident" id="6700594">b</span><span class="op" id="6700595">)</span><span class="op" id="6700596">.</span><span class="ident" id="6700597">Encode</span><span class="op" id="6700603">(</span><span class="ident" id="6700604">item1</span><span class="op" id="6700609">)</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6700612">if</span>&nbsp;<span class="ident" id="6700615">err</span>&nbsp;<span class="op" id="6700619">!=</span>&nbsp;<span class="ident" id="6700622">nil</span>&nbsp;<span class="op" id="6700626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700630">t</span><span class="op" id="6700631">.</span><span class="ident" id="6700632">Error</span><span class="op" id="6700637">(</span><span class="string" id="6700638">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="6700669">,</span>&nbsp;<span class="ident" id="6700671">err</span><span class="op" id="6700674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700681">item2</span>&nbsp;<span class="op" id="6700687">:=</span>&nbsp;<span class="op" id="6700690">&amp;</span><span class="ident" id="6700691">PtrInterfaceItem</span><span class="op" id="6700707">{</span><span class="op" id="6700708">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700711">err</span>&nbsp;<span class="op" id="6700715">=</span>&nbsp;<span class="ident" id="6700717">NewDecoder</span><span class="op" id="6700727">(</span><span class="ident" id="6700728">b</span><span class="op" id="6700729">)</span><span class="op" id="6700730">.</span><span class="ident" id="6700731">Decode</span><span class="op" id="6700737">(</span><span class="op" id="6700738">&amp;</span><span class="ident" id="6700739">item2</span><span class="op" id="6700744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6700747">if</span>&nbsp;<span class="ident" id="6700750">err</span>&nbsp;<span class="op" id="6700754">!=</span>&nbsp;<span class="ident" id="6700757">nil</span>&nbsp;<span class="op" id="6700761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700765">t</span><span class="op" id="6700766">.</span><span class="ident" id="6700767">Fatal</span><span class="op" id="6700772">(</span><span class="string" id="6700773">&#34;decode:&#34;</span><span class="op" id="6700782">,</span>&nbsp;<span class="ident" id="6700784">err</span><span class="op" id="6700787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6700793">//&nbsp;Hand&nbsp;test&nbsp;for&nbsp;correct&nbsp;types&nbsp;and&nbsp;values.</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6700837">if</span>&nbsp;<span class="ident" id="6700840">v</span><span class="op" id="6700841">,</span>&nbsp;<span class="ident" id="6700843">ok</span>&nbsp;<span class="op" id="6700846">:=</span>&nbsp;<span class="ident" id="6700849">item2</span><span class="op" id="6700854">.</span><span class="ident" id="6700855">Str1</span><span class="op" id="6700859">.</span><span class="op" id="6700860">(</span><span class="builtintype" id="6700861">string</span><span class="op" id="6700867">)</span><span class="op" id="6700868">;</span>&nbsp;<span class="op" id="6700870">!</span><span class="ident" id="6700871">ok</span>&nbsp;<span class="op" id="6700874">||</span>&nbsp;<span class="ident" id="6700877">v</span>&nbsp;<span class="op" id="6700879">!=</span>&nbsp;<span class="ident" id="6700882">str1</span>&nbsp;<span class="op" id="6700887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700891">t</span><span class="op" id="6700892">.</span><span class="ident" id="6700893">Errorf</span><span class="op" id="6700899">(</span><span class="string" id="6700900">&#34;basic&nbsp;string&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="6700938">,</span>&nbsp;<span class="ident" id="6700940">v</span><span class="op" id="6700941">,</span>&nbsp;<span class="ident" id="6700943">str1</span><span class="op" id="6700947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6700953">if</span>&nbsp;<span class="ident" id="6700956">v</span><span class="op" id="6700957">,</span>&nbsp;<span class="ident" id="6700959">ok</span>&nbsp;<span class="op" id="6700962">:=</span>&nbsp;<span class="ident" id="6700965">item2</span><span class="op" id="6700970">.</span><span class="ident" id="6700971">Str2</span><span class="op" id="6700975">.</span><span class="op" id="6700976">(</span><span class="ident" id="6700977">String</span><span class="op" id="6700983">)</span><span class="op" id="6700984">;</span>&nbsp;<span class="op" id="6700986">!</span><span class="ident" id="6700987">ok</span>&nbsp;<span class="op" id="6700990">||</span>&nbsp;<span class="ident" id="6700993">v</span>&nbsp;<span class="op" id="6700995">!=</span>&nbsp;<span class="ident" id="6700998">str2</span>&nbsp;<span class="op" id="6701003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701007">t</span><span class="op" id="6701008">.</span><span class="ident" id="6701009">Errorf</span><span class="op" id="6701015">(</span><span class="string" id="6701016">&#34;derived&nbsp;type&nbsp;String&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="6701061">,</span>&nbsp;<span class="ident" id="6701063">v</span><span class="op" id="6701064">,</span>&nbsp;<span class="ident" id="6701066">str2</span><span class="op" id="6701070">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701073">}</span><br>
<span class="lineno"></span><span class="op" id="6701075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6701078">func</span>&nbsp;<span class="ident" id="6701083">TestIgnoreInterface</span><span class="op" id="6701102">(</span><span class="ident" id="6701103">t</span>&nbsp;<span class="op" id="6701105">*</span><span class="ident" id="6701106">testing</span><span class="op" id="6701113">.</span><span class="ident" id="6701114">T</span><span class="op" id="6701115">)</span>&nbsp;<span class="op" id="6701117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701120">iVal</span>&nbsp;<span class="op" id="6701125">:=</span>&nbsp;<span class="ident" id="6701128">Int</span><span class="op" id="6701131">(</span><span class="num" id="6701132">3</span><span class="op" id="6701133">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701136">fVal</span>&nbsp;<span class="op" id="6701141">:=</span>&nbsp;<span class="ident" id="6701144">Float</span><span class="op" id="6701149">(</span><span class="num" id="6701150">5</span><span class="op" id="6701151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6701154">//&nbsp;Sending&nbsp;a&nbsp;Point&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6701236">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701271">pVal</span>&nbsp;<span class="op" id="6701276">:=</span>&nbsp;<span class="ident" id="6701279">Point</span><span class="op" id="6701284">{</span><span class="num" id="6701285">2</span><span class="op" id="6701286">,</span>&nbsp;<span class="num" id="6701288">3</span><span class="op" id="6701289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701292">b</span>&nbsp;<span class="op" id="6701294">:=</span>&nbsp;<span class="builtinfunc" id="6701297">new</span><span class="op" id="6701300">(</span><span class="ident" id="6701301">bytes</span><span class="op" id="6701306">.</span><span class="ident" id="6701307">Buffer</span><span class="op" id="6701313">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701316">item1</span>&nbsp;<span class="op" id="6701322">:=</span>&nbsp;<span class="op" id="6701325">&amp;</span><span class="ident" id="6701326">InterfaceItem</span><span class="op" id="6701339">{</span><span class="num" id="6701340">1</span><span class="op" id="6701341">,</span>&nbsp;<span class="ident" id="6701343">iVal</span><span class="op" id="6701347">,</span>&nbsp;<span class="ident" id="6701349">fVal</span><span class="op" id="6701353">,</span>&nbsp;<span class="ident" id="6701355">pVal</span><span class="op" id="6701359">,</span>&nbsp;<span class="num" id="6701361">11.5</span><span class="op" id="6701365">,</span>&nbsp;<span class="ident" id="6701367">nil</span><span class="op" id="6701370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6701373">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701397">Register</span><span class="op" id="6701405">(</span><span class="ident" id="6701406">Int</span><span class="op" id="6701409">(</span><span class="num" id="6701410">0</span><span class="op" id="6701411">)</span><span class="op" id="6701412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701415">Register</span><span class="op" id="6701423">(</span><span class="ident" id="6701424">Float</span><span class="op" id="6701429">(</span><span class="num" id="6701430">0</span><span class="op" id="6701431">)</span><span class="op" id="6701432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701435">Register</span><span class="op" id="6701443">(</span><span class="ident" id="6701444">Point</span><span class="op" id="6701449">{</span><span class="op" id="6701450">}</span><span class="op" id="6701451">)</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701454">err</span>&nbsp;<span class="op" id="6701458">:=</span>&nbsp;<span class="ident" id="6701461">NewEncoder</span><span class="op" id="6701471">(</span><span class="ident" id="6701472">b</span><span class="op" id="6701473">)</span><span class="op" id="6701474">.</span><span class="ident" id="6701475">Encode</span><span class="op" id="6701481">(</span><span class="ident" id="6701482">item1</span><span class="op" id="6701487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701490">if</span>&nbsp;<span class="ident" id="6701493">err</span>&nbsp;<span class="op" id="6701497">!=</span>&nbsp;<span class="ident" id="6701500">nil</span>&nbsp;<span class="op" id="6701504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701508">t</span><span class="op" id="6701509">.</span><span class="ident" id="6701510">Error</span><span class="op" id="6701515">(</span><span class="string" id="6701516">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="6701547">,</span>&nbsp;<span class="ident" id="6701549">err</span><span class="op" id="6701552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701559">item2</span>&nbsp;<span class="op" id="6701565">:=</span>&nbsp;<span class="ident" id="6701568">NoInterfaceItem</span><span class="op" id="6701583">{</span><span class="op" id="6701584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701587">err</span>&nbsp;<span class="op" id="6701591">=</span>&nbsp;<span class="ident" id="6701593">NewDecoder</span><span class="op" id="6701603">(</span><span class="ident" id="6701604">b</span><span class="op" id="6701605">)</span><span class="op" id="6701606">.</span><span class="ident" id="6701607">Decode</span><span class="op" id="6701613">(</span><span class="op" id="6701614">&amp;</span><span class="ident" id="6701615">item2</span><span class="op" id="6701620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701623">if</span>&nbsp;<span class="ident" id="6701626">err</span>&nbsp;<span class="op" id="6701630">!=</span>&nbsp;<span class="ident" id="6701633">nil</span>&nbsp;<span class="op" id="6701637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701641">t</span><span class="op" id="6701642">.</span><span class="ident" id="6701643">Fatal</span><span class="op" id="6701648">(</span><span class="string" id="6701649">&#34;decode:&#34;</span><span class="op" id="6701658">,</span>&nbsp;<span class="ident" id="6701660">err</span><span class="op" id="6701663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701666">}</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701669">if</span>&nbsp;<span class="ident" id="6701672">item2</span><span class="op" id="6701677">.</span><span class="ident" id="6701678">I</span>&nbsp;<span class="op" id="6701680">!=</span>&nbsp;<span class="ident" id="6701683">item1</span><span class="op" id="6701688">.</span><span class="ident" id="6701689">I</span>&nbsp;<span class="op" id="6701691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701695">t</span><span class="op" id="6701696">.</span><span class="ident" id="6701697">Error</span><span class="op" id="6701702">(</span><span class="string" id="6701703">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="6701740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701746">if</span>&nbsp;<span class="ident" id="6701749">item2</span><span class="op" id="6701754">.</span><span class="ident" id="6701755">F</span>&nbsp;<span class="op" id="6701757">!=</span>&nbsp;<span class="ident" id="6701760">item2</span><span class="op" id="6701765">.</span><span class="ident" id="6701766">F</span>&nbsp;<span class="op" id="6701768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701772">t</span><span class="op" id="6701773">.</span><span class="ident" id="6701774">Error</span><span class="op" id="6701779">(</span><span class="string" id="6701780">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="6701819">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701822">}</span><br>
<span class="lineno"></span><span class="op" id="6701824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6701827">type</span>&nbsp;<span class="ident" id="6701832">U</span>&nbsp;<span class="keyword" id="6701834">struct</span>&nbsp;<span class="op" id="6701841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701844">A</span>&nbsp;<span class="builtintype" id="6701846">int</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701851">B</span>&nbsp;<span class="builtintype" id="6701853">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701861">c</span>&nbsp;<span class="builtintype" id="6701863">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701872">D</span>&nbsp;<span class="builtintype" id="6701874">uint</span><br>
<span class="lineno"></span><span class="op" id="6701879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1270</span><span class="keyword" id="6701882">func</span>&nbsp;<span class="ident" id="6701887">TestUnexportedFields</span><span class="op" id="6701907">(</span><span class="ident" id="6701908">t</span>&nbsp;<span class="op" id="6701910">*</span><span class="ident" id="6701911">testing</span><span class="op" id="6701918">.</span><span class="ident" id="6701919">T</span><span class="op" id="6701920">)</span>&nbsp;<span class="op" id="6701922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701925">var</span>&nbsp;<span class="ident" id="6701929">u0</span>&nbsp;<span class="ident" id="6701932">U</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701935">u0</span><span class="op" id="6701937">.</span><span class="ident" id="6701938">A</span>&nbsp;<span class="op" id="6701940">=</span>&nbsp;<span class="num" id="6701942">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701946">u0</span><span class="op" id="6701948">.</span><span class="ident" id="6701949">B</span>&nbsp;<span class="op" id="6701951">=</span>&nbsp;<span class="string" id="6701953">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701962">u0</span><span class="op" id="6701964">.</span><span class="ident" id="6701965">c</span>&nbsp;<span class="op" id="6701967">=</span>&nbsp;<span class="num" id="6701969">3.14159</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701978">u0</span><span class="op" id="6701980">.</span><span class="ident" id="6701981">D</span>&nbsp;<span class="op" id="6701983">=</span>&nbsp;<span class="num" id="6701985">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701989">b</span>&nbsp;<span class="op" id="6701991">:=</span>&nbsp;<span class="builtinfunc" id="6701994">new</span><span class="op" id="6701997">(</span><span class="ident" id="6701998">bytes</span><span class="op" id="6702003">.</span><span class="ident" id="6702004">Buffer</span><span class="op" id="6702010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702013">NewEncoder</span><span class="op" id="6702023">(</span><span class="ident" id="6702024">b</span><span class="op" id="6702025">)</span><span class="op" id="6702026">.</span><span class="ident" id="6702027">Encode</span><span class="op" id="6702033">(</span><span class="ident" id="6702034">u0</span><span class="op" id="6702036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702039">dec</span>&nbsp;<span class="op" id="6702043">:=</span>&nbsp;<span class="ident" id="6702046">NewDecoder</span><span class="op" id="6702056">(</span><span class="ident" id="6702057">b</span><span class="op" id="6702058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702061">var</span>&nbsp;<span class="ident" id="6702065">u1</span>&nbsp;<span class="ident" id="6702068">U</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702071">u1</span><span class="op" id="6702073">.</span><span class="ident" id="6702074">c</span>&nbsp;<span class="op" id="6702076">=</span>&nbsp;<span class="num" id="6702078">1234.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702085">err</span>&nbsp;<span class="op" id="6702089">:=</span>&nbsp;<span class="ident" id="6702092">dec</span><span class="op" id="6702095">.</span><span class="ident" id="6702096">Decode</span><span class="op" id="6702102">(</span><span class="op" id="6702103">&amp;</span><span class="ident" id="6702104">u1</span><span class="op" id="6702106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702109">if</span>&nbsp;<span class="ident" id="6702112">err</span>&nbsp;<span class="op" id="6702116">!=</span>&nbsp;<span class="ident" id="6702119">nil</span>&nbsp;<span class="op" id="6702123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702127">t</span><span class="op" id="6702128">.</span><span class="ident" id="6702129">Fatal</span><span class="op" id="6702134">(</span><span class="string" id="6702135">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6702150">,</span>&nbsp;<span class="ident" id="6702152">err</span><span class="op" id="6702155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702158">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702161">if</span>&nbsp;<span class="ident" id="6702164">u0</span><span class="op" id="6702166">.</span><span class="ident" id="6702167">A</span>&nbsp;<span class="op" id="6702169">!=</span>&nbsp;<span class="ident" id="6702172">u0</span><span class="op" id="6702174">.</span><span class="ident" id="6702175">A</span>&nbsp;<span class="op" id="6702177">||</span>&nbsp;<span class="ident" id="6702180">u0</span><span class="op" id="6702182">.</span><span class="ident" id="6702183">B</span>&nbsp;<span class="op" id="6702185">!=</span>&nbsp;<span class="ident" id="6702188">u1</span><span class="op" id="6702190">.</span><span class="ident" id="6702191">B</span>&nbsp;<span class="op" id="6702193">||</span>&nbsp;<span class="ident" id="6702196">u0</span><span class="op" id="6702198">.</span><span class="ident" id="6702199">D</span>&nbsp;<span class="op" id="6702201">!=</span>&nbsp;<span class="ident" id="6702204">u1</span><span class="op" id="6702206">.</span><span class="ident" id="6702207">D</span>&nbsp;<span class="op" id="6702209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702213">t</span><span class="op" id="6702214">.</span><span class="ident" id="6702215">Errorf</span><span class="op" id="6702221">(</span><span class="string" id="6702222">&#34;u1-&gt;u0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6702251">,</span>&nbsp;<span class="ident" id="6702253">u0</span><span class="op" id="6702255">,</span>&nbsp;<span class="ident" id="6702257">u1</span><span class="op" id="6702259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702265">if</span>&nbsp;<span class="ident" id="6702268">u1</span><span class="op" id="6702270">.</span><span class="ident" id="6702271">c</span>&nbsp;<span class="op" id="6702273">!=</span>&nbsp;<span class="num" id="6702276">1234.</span>&nbsp;<span class="op" id="6702282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702286">t</span><span class="op" id="6702287">.</span><span class="ident" id="6702288">Error</span><span class="op" id="6702293">(</span><span class="string" id="6702294">&#34;u1.c&nbsp;modified&#34;</span><span class="op" id="6702309">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702312">}</span><br>
<span class="lineno"></span><span class="op" id="6702314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702317">var</span>&nbsp;<span class="ident" id="6702321">singletons</span>&nbsp;<span class="op" id="6702332">=</span>&nbsp;<span class="op" id="6702334">[</span><span class="op" id="6702335">]</span><span class="keyword" id="6702336">interface</span><span class="op" id="6702345">{</span><span class="op" id="6702346">}</span><span class="op" id="6702347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6702350">true</span><span class="op" id="6702354">,</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6702357">7</span><span class="op" id="6702358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6702361">3.2</span><span class="op" id="6702364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6702367">&#34;hello&#34;</span><span class="op" id="6702374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702377">[</span><span class="num" id="6702378">3</span><span class="op" id="6702379">]</span><span class="builtintype" id="6702380">int</span><span class="op" id="6702383">{</span><span class="num" id="6702384">11</span><span class="op" id="6702386">,</span>&nbsp;<span class="num" id="6702388">22</span><span class="op" id="6702390">,</span>&nbsp;<span class="num" id="6702392">33</span><span class="op" id="6702394">}</span><span class="op" id="6702395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702398">[</span><span class="op" id="6702399">]</span><span class="builtintype" id="6702400">float32</span><span class="op" id="6702407">{</span><span class="num" id="6702408">0.5</span><span class="op" id="6702411">,</span>&nbsp;<span class="num" id="6702413">0.25</span><span class="op" id="6702417">,</span>&nbsp;<span class="num" id="6702419">0.125</span><span class="op" id="6702424">}</span><span class="op" id="6702425">,</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702428">map</span><span class="op" id="6702431">[</span><span class="builtintype" id="6702432">string</span><span class="op" id="6702438">]</span><span class="builtintype" id="6702439">int</span><span class="op" id="6702442">{</span><span class="string" id="6702443">&#34;one&#34;</span><span class="op" id="6702448">:</span>&nbsp;<span class="num" id="6702450">1</span><span class="op" id="6702451">,</span>&nbsp;<span class="string" id="6702453">&#34;two&#34;</span><span class="op" id="6702458">:</span>&nbsp;<span class="num" id="6702460">2</span><span class="op" id="6702461">}</span><span class="op" id="6702462">,</span><br>
<span class="lineno"></span><span class="op" id="6702464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702467">func</span>&nbsp;<span class="ident" id="6702472">TestDebugSingleton</span><span class="op" id="6702490">(</span><span class="ident" id="6702491">t</span>&nbsp;<span class="op" id="6702493">*</span><span class="ident" id="6702494">testing</span><span class="op" id="6702501">.</span><span class="ident" id="6702502">T</span><span class="op" id="6702503">)</span>&nbsp;<span class="op" id="6702505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702508">if</span>&nbsp;<span class="ident" id="6702511">debugFunc</span>&nbsp;<span class="op" id="6702521">==</span>&nbsp;<span class="ident" id="6702524">nil</span>&nbsp;<span class="op" id="6702528">{</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702532">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702543">b</span>&nbsp;<span class="op" id="6702545">:=</span>&nbsp;<span class="builtinfunc" id="6702548">new</span><span class="op" id="6702551">(</span><span class="ident" id="6702552">bytes</span><span class="op" id="6702557">.</span><span class="ident" id="6702558">Buffer</span><span class="op" id="6702564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6702567">//&nbsp;Accumulate&nbsp;a&nbsp;number&nbsp;of&nbsp;values&nbsp;and&nbsp;print&nbsp;them&nbsp;out&nbsp;all&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702633">for</span>&nbsp;<span class="ident" id="6702637">_</span><span class="op" id="6702638">,</span>&nbsp;<span class="ident" id="6702640">x</span>&nbsp;<span class="op" id="6702642">:=</span>&nbsp;<span class="keyword" id="6702645">range</span>&nbsp;<span class="ident" id="6702651">singletons</span>&nbsp;<span class="op" id="6702662">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702666">err</span>&nbsp;<span class="op" id="6702670">:=</span>&nbsp;<span class="ident" id="6702673">NewEncoder</span><span class="op" id="6702683">(</span><span class="ident" id="6702684">b</span><span class="op" id="6702685">)</span><span class="op" id="6702686">.</span><span class="ident" id="6702687">Encode</span><span class="op" id="6702693">(</span><span class="ident" id="6702694">x</span><span class="op" id="6702695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702699">if</span>&nbsp;<span class="ident" id="6702702">err</span>&nbsp;<span class="op" id="6702706">!=</span>&nbsp;<span class="ident" id="6702709">nil</span>&nbsp;<span class="op" id="6702713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702718">t</span><span class="op" id="6702719">.</span><span class="ident" id="6702720">Fatal</span><span class="op" id="6702725">(</span><span class="string" id="6702726">&#34;encode:&#34;</span><span class="op" id="6702735">,</span>&nbsp;<span class="ident" id="6702737">err</span><span class="op" id="6702740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702747">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702750">debugFunc</span><span class="op" id="6702759">(</span><span class="ident" id="6702760">b</span><span class="op" id="6702761">)</span><br>
<span class="lineno"></span><span class="op" id="6702763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6702766">//&nbsp;A&nbsp;type&nbsp;that&nbsp;won&#39;t&nbsp;be&nbsp;defined&nbsp;in&nbsp;the&nbsp;gob&nbsp;until&nbsp;we&nbsp;send&nbsp;it&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="6702849">type</span>&nbsp;<span class="ident" id="6702854">OnTheFly</span>&nbsp;<span class="keyword" id="6702863">struct</span>&nbsp;<span class="op" id="6702870">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702873">A</span>&nbsp;<span class="builtintype" id="6702875">int</span><br>
<span class="lineno"></span><span class="op" id="6702879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702882">type</span>&nbsp;<span class="ident" id="6702887">DT</span>&nbsp;<span class="keyword" id="6702890">struct</span>&nbsp;<span class="op" id="6702897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6702900">//&nbsp;&nbsp;&nbsp;&nbspX&nbsp;OnTheFly</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702915">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6702921">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702926">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6702932">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702940">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6702946">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702955">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6702961">interface</span><span class="op" id="6702970">{</span><span class="op" id="6702971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702974">J</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6702980">interface</span><span class="op" id="6702989">{</span><span class="op" id="6702990">}</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702993">I_nil</span>&nbsp;<span class="keyword" id="6702999">interface</span><span class="op" id="6703008">{</span><span class="op" id="6703009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703012">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6703018">map</span><span class="op" id="6703021">[</span><span class="builtintype" id="6703022">string</span><span class="op" id="6703028">]</span><span class="builtintype" id="6703029">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703034">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703040">[</span><span class="num" id="6703041">3</span><span class="op" id="6703042">]</span><span class="builtintype" id="6703043">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703048">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703054">[</span><span class="op" id="6703055">]</span><span class="builtintype" id="6703056">string</span><br>
<span class="lineno"></span><span class="op" id="6703063">}</span><br>
<span class="lineno">1335</span><br>
<span class="lineno"></span><span class="keyword" id="6703066">func</span>&nbsp;<span class="ident" id="6703071">newDT</span><span class="op" id="6703076">(</span><span class="op" id="6703077">)</span>&nbsp;<span class="ident" id="6703079">DT</span>&nbsp;<span class="op" id="6703082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703085">var</span>&nbsp;<span class="ident" id="6703089">dt</span>&nbsp;<span class="ident" id="6703092">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703096">dt</span><span class="op" id="6703098">.</span><span class="ident" id="6703099">A</span>&nbsp;<span class="op" id="6703101">=</span>&nbsp;<span class="num" id="6703103">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703107">dt</span><span class="op" id="6703109">.</span><span class="ident" id="6703110">B</span>&nbsp;<span class="op" id="6703112">=</span>&nbsp;<span class="string" id="6703114">&#34;hello&#34;</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703123">dt</span><span class="op" id="6703125">.</span><span class="ident" id="6703126">C</span>&nbsp;<span class="op" id="6703128">=</span>&nbsp;<span class="num" id="6703130">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703139">dt</span><span class="op" id="6703141">.</span><span class="ident" id="6703142">I</span>&nbsp;<span class="op" id="6703144">=</span>&nbsp;<span class="num" id="6703146">271828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703154">dt</span><span class="op" id="6703156">.</span><span class="ident" id="6703157">J</span>&nbsp;<span class="op" id="6703159">=</span>&nbsp;<span class="ident" id="6703161">OnTheFly</span><span class="op" id="6703169">{</span><span class="num" id="6703170">3</span><span class="op" id="6703171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703174">dt</span><span class="op" id="6703176">.</span><span class="ident" id="6703177">I_nil</span>&nbsp;<span class="op" id="6703183">=</span>&nbsp;<span class="ident" id="6703185">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703190">dt</span><span class="op" id="6703192">.</span><span class="ident" id="6703193">M</span>&nbsp;<span class="op" id="6703195">=</span>&nbsp;<span class="keyword" id="6703197">map</span><span class="op" id="6703200">[</span><span class="builtintype" id="6703201">string</span><span class="op" id="6703207">]</span><span class="builtintype" id="6703208">int</span><span class="op" id="6703211">{</span><span class="string" id="6703212">&#34;one&#34;</span><span class="op" id="6703217">:</span>&nbsp;<span class="num" id="6703219">1</span><span class="op" id="6703220">,</span>&nbsp;<span class="string" id="6703222">&#34;two&#34;</span><span class="op" id="6703227">:</span>&nbsp;<span class="num" id="6703229">2</span><span class="op" id="6703230">}</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703233">dt</span><span class="op" id="6703235">.</span><span class="ident" id="6703236">T</span>&nbsp;<span class="op" id="6703238">=</span>&nbsp;<span class="op" id="6703240">[</span><span class="num" id="6703241">3</span><span class="op" id="6703242">]</span><span class="builtintype" id="6703243">int</span><span class="op" id="6703246">{</span><span class="num" id="6703247">11</span><span class="op" id="6703249">,</span>&nbsp;<span class="num" id="6703251">22</span><span class="op" id="6703253">,</span>&nbsp;<span class="num" id="6703255">33</span><span class="op" id="6703257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703260">dt</span><span class="op" id="6703262">.</span><span class="ident" id="6703263">S</span>&nbsp;<span class="op" id="6703265">=</span>&nbsp;<span class="op" id="6703267">[</span><span class="op" id="6703268">]</span><span class="builtintype" id="6703269">string</span><span class="op" id="6703275">{</span><span class="string" id="6703276">&#34;hi&#34;</span><span class="op" id="6703280">,</span>&nbsp;<span class="string" id="6703282">&#34;joe&#34;</span><span class="op" id="6703287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703290">return</span>&nbsp;<span class="ident" id="6703297">dt</span><br>
<span class="lineno"></span><span class="op" id="6703300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1350</span><span class="keyword" id="6703303">func</span>&nbsp;<span class="ident" id="6703308">TestDebugStruct</span><span class="op" id="6703323">(</span><span class="ident" id="6703324">t</span>&nbsp;<span class="op" id="6703326">*</span><span class="ident" id="6703327">testing</span><span class="op" id="6703334">.</span><span class="ident" id="6703335">T</span><span class="op" id="6703336">)</span>&nbsp;<span class="op" id="6703338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703341">if</span>&nbsp;<span class="ident" id="6703344">debugFunc</span>&nbsp;<span class="op" id="6703354">==</span>&nbsp;<span class="ident" id="6703357">nil</span>&nbsp;<span class="op" id="6703361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703365">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703376">Register</span><span class="op" id="6703384">(</span><span class="ident" id="6703385">OnTheFly</span><span class="op" id="6703393">{</span><span class="op" id="6703394">}</span><span class="op" id="6703395">)</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703398">dt</span>&nbsp;<span class="op" id="6703401">:=</span>&nbsp;<span class="ident" id="6703404">newDT</span><span class="op" id="6703409">(</span><span class="op" id="6703410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703413">b</span>&nbsp;<span class="op" id="6703415">:=</span>&nbsp;<span class="builtinfunc" id="6703418">new</span><span class="op" id="6703421">(</span><span class="ident" id="6703422">bytes</span><span class="op" id="6703427">.</span><span class="ident" id="6703428">Buffer</span><span class="op" id="6703434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703437">err</span>&nbsp;<span class="op" id="6703441">:=</span>&nbsp;<span class="ident" id="6703444">NewEncoder</span><span class="op" id="6703454">(</span><span class="ident" id="6703455">b</span><span class="op" id="6703456">)</span><span class="op" id="6703457">.</span><span class="ident" id="6703458">Encode</span><span class="op" id="6703464">(</span><span class="ident" id="6703465">dt</span><span class="op" id="6703467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703470">if</span>&nbsp;<span class="ident" id="6703473">err</span>&nbsp;<span class="op" id="6703477">!=</span>&nbsp;<span class="ident" id="6703480">nil</span>&nbsp;<span class="op" id="6703484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703488">t</span><span class="op" id="6703489">.</span><span class="ident" id="6703490">Fatal</span><span class="op" id="6703495">(</span><span class="string" id="6703496">&#34;encode:&#34;</span><span class="op" id="6703505">,</span>&nbsp;<span class="ident" id="6703507">err</span><span class="op" id="6703510">)</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703516">debugBuffer</span>&nbsp;<span class="op" id="6703528">:=</span>&nbsp;<span class="ident" id="6703531">bytes</span><span class="op" id="6703536">.</span><span class="ident" id="6703537">NewBuffer</span><span class="op" id="6703546">(</span><span class="ident" id="6703547">b</span><span class="op" id="6703548">.</span><span class="ident" id="6703549">Bytes</span><span class="op" id="6703554">(</span><span class="op" id="6703555">)</span><span class="op" id="6703556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703559">dt2</span>&nbsp;<span class="op" id="6703563">:=</span>&nbsp;<span class="op" id="6703566">&amp;</span><span class="ident" id="6703567">DT</span><span class="op" id="6703569">{</span><span class="op" id="6703570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703573">err</span>&nbsp;<span class="op" id="6703577">=</span>&nbsp;<span class="ident" id="6703579">NewDecoder</span><span class="op" id="6703589">(</span><span class="ident" id="6703590">b</span><span class="op" id="6703591">)</span><span class="op" id="6703592">.</span><span class="ident" id="6703593">Decode</span><span class="op" id="6703599">(</span><span class="op" id="6703600">&amp;</span><span class="ident" id="6703601">dt2</span><span class="op" id="6703604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703607">if</span>&nbsp;<span class="ident" id="6703610">err</span>&nbsp;<span class="op" id="6703614">!=</span>&nbsp;<span class="ident" id="6703617">nil</span>&nbsp;<span class="op" id="6703621">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703625">t</span><span class="op" id="6703626">.</span><span class="ident" id="6703627">Error</span><span class="op" id="6703632">(</span><span class="string" id="6703633">&#34;decode:&#34;</span><span class="op" id="6703642">,</span>&nbsp;<span class="ident" id="6703644">err</span><span class="op" id="6703647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703653">debugFunc</span><span class="op" id="6703662">(</span><span class="ident" id="6703663">debugBuffer</span><span class="op" id="6703674">)</span><br>
<span class="lineno"></span><span class="op" id="6703676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1370</span><span class="keyword" id="6703679">func</span>&nbsp;<span class="ident" id="6703684">encFuzzDec</span><span class="op" id="6703694">(</span><span class="ident" id="6703695">rng</span>&nbsp;<span class="op" id="6703699">*</span><span class="ident" id="6703700">rand</span><span class="op" id="6703704">.</span><span class="ident" id="6703705">Rand</span><span class="op" id="6703709">,</span>&nbsp;<span class="ident" id="6703711">in</span>&nbsp;<span class="keyword" id="6703714">interface</span><span class="op" id="6703723">{</span><span class="op" id="6703724">}</span><span class="op" id="6703725">)</span>&nbsp;<span class="builtintype" id="6703727">error</span>&nbsp;<span class="op" id="6703733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703736">buf</span>&nbsp;<span class="op" id="6703740">:=</span>&nbsp;<span class="builtinfunc" id="6703743">new</span><span class="op" id="6703746">(</span><span class="ident" id="6703747">bytes</span><span class="op" id="6703752">.</span><span class="ident" id="6703753">Buffer</span><span class="op" id="6703759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703762">enc</span>&nbsp;<span class="op" id="6703766">:=</span>&nbsp;<span class="ident" id="6703769">NewEncoder</span><span class="op" id="6703779">(</span><span class="ident" id="6703780">buf</span><span class="op" id="6703783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703786">if</span>&nbsp;<span class="ident" id="6703789">err</span>&nbsp;<span class="op" id="6703793">:=</span>&nbsp;<span class="ident" id="6703796">enc</span><span class="op" id="6703799">.</span><span class="ident" id="6703800">Encode</span><span class="op" id="6703806">(</span><span class="op" id="6703807">&amp;</span><span class="ident" id="6703808">in</span><span class="op" id="6703810">)</span><span class="op" id="6703811">;</span>&nbsp;<span class="ident" id="6703813">err</span>&nbsp;<span class="op" id="6703817">!=</span>&nbsp;<span class="ident" id="6703820">nil</span>&nbsp;<span class="op" id="6703824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703828">return</span>&nbsp;<span class="ident" id="6703835">err</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703844">b</span>&nbsp;<span class="op" id="6703846">:=</span>&nbsp;<span class="ident" id="6703849">buf</span><span class="op" id="6703852">.</span><span class="ident" id="6703853">Bytes</span><span class="op" id="6703858">(</span><span class="op" id="6703859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703862">for</span>&nbsp;<span class="ident" id="6703866">i</span><span class="op" id="6703867">,</span>&nbsp;<span class="ident" id="6703869">bi</span>&nbsp;<span class="op" id="6703872">:=</span>&nbsp;<span class="keyword" id="6703875">range</span>&nbsp;<span class="ident" id="6703881">b</span>&nbsp;<span class="op" id="6703883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703887">if</span>&nbsp;<span class="ident" id="6703890">rng</span><span class="op" id="6703893">.</span><span class="ident" id="6703894">Intn</span><span class="op" id="6703898">(</span><span class="num" id="6703899">10</span><span class="op" id="6703901">)</span>&nbsp;<span class="op" id="6703903">&lt;</span>&nbsp;<span class="num" id="6703905">3</span>&nbsp;<span class="op" id="6703907">{</span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703912">b</span><span class="op" id="6703913">[</span><span class="ident" id="6703914">i</span><span class="op" id="6703915">]</span>&nbsp;<span class="op" id="6703917">=</span>&nbsp;<span class="ident" id="6703919">bi</span>&nbsp;<span class="op" id="6703922">+</span>&nbsp;<span class="builtintype" id="6703924">uint8</span><span class="op" id="6703929">(</span><span class="ident" id="6703930">rng</span><span class="op" id="6703933">.</span><span class="ident" id="6703934">Intn</span><span class="op" id="6703938">(</span><span class="num" id="6703939">256</span><span class="op" id="6703942">)</span><span class="op" id="6703943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703954">dec</span>&nbsp;<span class="op" id="6703958">:=</span>&nbsp;<span class="ident" id="6703961">NewDecoder</span><span class="op" id="6703971">(</span><span class="ident" id="6703972">buf</span><span class="op" id="6703975">)</span><br>
<span class="lineno">1385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703978">var</span>&nbsp;<span class="ident" id="6703982">e</span>&nbsp;<span class="keyword" id="6703984">interface</span><span class="op" id="6703993">{</span><span class="op" id="6703994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703997">if</span>&nbsp;<span class="ident" id="6704000">err</span>&nbsp;<span class="op" id="6704004">:=</span>&nbsp;<span class="ident" id="6704007">dec</span><span class="op" id="6704010">.</span><span class="ident" id="6704011">Decode</span><span class="op" id="6704017">(</span><span class="op" id="6704018">&amp;</span><span class="ident" id="6704019">e</span><span class="op" id="6704020">)</span><span class="op" id="6704021">;</span>&nbsp;<span class="ident" id="6704023">err</span>&nbsp;<span class="op" id="6704027">!=</span>&nbsp;<span class="ident" id="6704030">nil</span>&nbsp;<span class="op" id="6704034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704038">return</span>&nbsp;<span class="ident" id="6704045">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704053">return</span>&nbsp;<span class="ident" id="6704060">nil</span><br>
<span class="lineno">1390</span><span class="op" id="6704064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6704067">//&nbsp;This&nbsp;does&nbsp;some&nbsp;&#34;fuzz&nbsp;testing&#34;&nbsp;by&nbsp;attempting&nbsp;to&nbsp;decode&nbsp;a&nbsp;sequence&nbsp;of&nbsp;random&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="6704152">func</span>&nbsp;<span class="ident" id="6704157">TestFuzz</span><span class="op" id="6704165">(</span><span class="ident" id="6704166">t</span>&nbsp;<span class="op" id="6704168">*</span><span class="ident" id="6704169">testing</span><span class="op" id="6704176">.</span><span class="ident" id="6704177">T</span><span class="op" id="6704178">)</span>&nbsp;<span class="op" id="6704180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704183">if</span>&nbsp;<span class="op" id="6704186">!</span><span class="op" id="6704187">*</span><span class="ident" id="6704188">doFuzzTests</span>&nbsp;<span class="op" id="6704200">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704204">t</span><span class="op" id="6704205">.</span><span class="ident" id="6704206">Logf</span><span class="op" id="6704210">(</span><span class="string" id="6704211">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="6704251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704255">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6704267">//&nbsp;all&nbsp;possible&nbsp;inputs</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704291">input</span>&nbsp;<span class="op" id="6704297">:=</span>&nbsp;<span class="op" id="6704300">[</span><span class="op" id="6704301">]</span><span class="keyword" id="6704302">interface</span><span class="op" id="6704311">{</span><span class="op" id="6704312">}</span><span class="op" id="6704313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6704317">new</span><span class="op" id="6704320">(</span><span class="builtintype" id="6704321">int</span><span class="op" id="6704324">)</span><span class="op" id="6704325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6704329">new</span><span class="op" id="6704332">(</span><span class="builtintype" id="6704333">float32</span><span class="op" id="6704340">)</span><span class="op" id="6704341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6704345">new</span><span class="op" id="6704348">(</span><span class="builtintype" id="6704349">float64</span><span class="op" id="6704356">)</span><span class="op" id="6704357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6704361">new</span><span class="op" id="6704364">(</span><span class="builtintype" id="6704365">complex128</span><span class="op" id="6704375">)</span><span class="op" id="6704376">,</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704380">&amp;</span><span class="ident" id="6704381">ByteStruct</span><span class="op" id="6704391">{</span><span class="num" id="6704392">255</span><span class="op" id="6704395">}</span><span class="op" id="6704396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704400">&amp;</span><span class="ident" id="6704401">ArrayStruct</span><span class="op" id="6704412">{</span><span class="op" id="6704413">}</span><span class="op" id="6704414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704418">&amp;</span><span class="ident" id="6704419">StringStruct</span><span class="op" id="6704431">{</span><span class="string" id="6704432">&#34;hello&#34;</span><span class="op" id="6704439">}</span><span class="op" id="6704440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704444">&amp;</span><span class="ident" id="6704445">GobTest1</span><span class="op" id="6704453">{</span><span class="num" id="6704454">0</span><span class="op" id="6704455">,</span>&nbsp;<span class="op" id="6704457">&amp;</span><span class="ident" id="6704458">StringStruct</span><span class="op" id="6704470">{</span><span class="string" id="6704471">&#34;hello&#34;</span><span class="op" id="6704478">}</span><span class="op" id="6704479">}</span><span class="op" id="6704480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704483">}</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704486">testFuzz</span><span class="op" id="6704494">(</span><span class="ident" id="6704495">t</span><span class="op" id="6704496">,</span>&nbsp;<span class="ident" id="6704498">time</span><span class="op" id="6704502">.</span><span class="ident" id="6704503">Now</span><span class="op" id="6704506">(</span><span class="op" id="6704507">)</span><span class="op" id="6704508">.</span><span class="ident" id="6704509">UnixNano</span><span class="op" id="6704517">(</span><span class="op" id="6704518">)</span><span class="op" id="6704519">,</span>&nbsp;<span class="num" id="6704521">100</span><span class="op" id="6704524">,</span>&nbsp;<span class="ident" id="6704526">input</span><span class="op" id="6704531">...</span><span class="op" id="6704534">)</span><br>
<span class="lineno"></span><span class="op" id="6704536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6704539">func</span>&nbsp;<span class="ident" id="6704544">TestFuzzRegressions</span><span class="op" id="6704563">(</span><span class="ident" id="6704564">t</span>&nbsp;<span class="op" id="6704566">*</span><span class="ident" id="6704567">testing</span><span class="op" id="6704574">.</span><span class="ident" id="6704575">T</span><span class="op" id="6704576">)</span>&nbsp;<span class="op" id="6704578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704581">if</span>&nbsp;<span class="op" id="6704584">!</span><span class="op" id="6704585">*</span><span class="ident" id="6704586">doFuzzTests</span>&nbsp;<span class="op" id="6704598">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704602">t</span><span class="op" id="6704603">.</span><span class="ident" id="6704604">Logf</span><span class="op" id="6704608">(</span><span class="string" id="6704609">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="6704649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704653">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6704665">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;length&nbsp;~102&nbsp;GB.</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704723">testFuzz</span><span class="op" id="6704731">(</span><span class="ident" id="6704732">t</span><span class="op" id="6704733">,</span>&nbsp;<span class="num" id="6704735">1328492090837718000</span><span class="op" id="6704754">,</span>&nbsp;<span class="num" id="6704756">100</span><span class="op" id="6704759">,</span>&nbsp;<span class="builtinfunc" id="6704761">new</span><span class="op" id="6704764">(</span><span class="builtintype" id="6704765">float32</span><span class="op" id="6704772">)</span><span class="op" id="6704773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6704776">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;1.6&nbsp;GB.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6704826">//&nbsp;Note:&nbsp;can&nbsp;take&nbsp;several&nbsp;minutes&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704869">testFuzz</span><span class="op" id="6704877">(</span><span class="ident" id="6704878">t</span><span class="op" id="6704879">,</span>&nbsp;<span class="num" id="6704881">1330522872628565000</span><span class="op" id="6704900">,</span>&nbsp;<span class="num" id="6704902">100</span><span class="op" id="6704905">,</span>&nbsp;<span class="builtinfunc" id="6704907">new</span><span class="op" id="6704910">(</span><span class="builtintype" id="6704911">int</span><span class="op" id="6704914">)</span><span class="op" id="6704915">)</span><br>
<span class="lineno"></span><span class="op" id="6704917">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="keyword" id="6704920">func</span>&nbsp;<span class="ident" id="6704925">testFuzz</span><span class="op" id="6704933">(</span><span class="ident" id="6704934">t</span>&nbsp;<span class="op" id="6704936">*</span><span class="ident" id="6704937">testing</span><span class="op" id="6704944">.</span><span class="ident" id="6704945">T</span><span class="op" id="6704946">,</span>&nbsp;<span class="ident" id="6704948">seed</span>&nbsp;<span class="ident" id="6704953">int64</span><span class="op" id="6704958">,</span>&nbsp;<span class="ident" id="6704960">n</span>&nbsp;<span class="builtintype" id="6704962">int</span><span class="op" id="6704965">,</span>&nbsp;<span class="ident" id="6704967">input</span>&nbsp;<span class="op" id="6704973">...</span><span class="keyword" id="6704976">interface</span><span class="op" id="6704985">{</span><span class="op" id="6704986">}</span><span class="op" id="6704987">)</span>&nbsp;<span class="op" id="6704989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704992">for</span>&nbsp;<span class="ident" id="6704996">_</span><span class="op" id="6704997">,</span>&nbsp;<span class="ident" id="6704999">e</span>&nbsp;<span class="op" id="6705001">:=</span>&nbsp;<span class="keyword" id="6705004">range</span>&nbsp;<span class="ident" id="6705010">input</span>&nbsp;<span class="op" id="6705016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705020">t</span><span class="op" id="6705021">.</span><span class="ident" id="6705022">Logf</span><span class="op" id="6705026">(</span><span class="string" id="6705027">&#34;seed=%d&nbsp;n=%d&nbsp;e=%T&#34;</span><span class="op" id="6705046">,</span>&nbsp;<span class="ident" id="6705048">seed</span><span class="op" id="6705052">,</span>&nbsp;<span class="ident" id="6705054">n</span><span class="op" id="6705055">,</span>&nbsp;<span class="ident" id="6705057">e</span><span class="op" id="6705058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705062">rng</span>&nbsp;<span class="op" id="6705066">:=</span>&nbsp;<span class="ident" id="6705069">rand</span><span class="op" id="6705073">.</span><span class="ident" id="6705074">New</span><span class="op" id="6705077">(</span><span class="ident" id="6705078">rand</span><span class="op" id="6705082">.</span><span class="ident" id="6705083">NewSource</span><span class="op" id="6705092">(</span><span class="ident" id="6705093">seed</span><span class="op" id="6705097">)</span><span class="op" id="6705098">)</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705102">for</span>&nbsp;<span class="ident" id="6705106">i</span>&nbsp;<span class="op" id="6705108">:=</span>&nbsp;<span class="num" id="6705111">0</span><span class="op" id="6705112">;</span>&nbsp;<span class="ident" id="6705114">i</span>&nbsp;<span class="op" id="6705116">&lt;</span>&nbsp;<span class="ident" id="6705118">n</span><span class="op" id="6705119">;</span>&nbsp;<span class="ident" id="6705121">i</span><span class="op" id="6705122">++</span>&nbsp;<span class="op" id="6705125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705130">encFuzzDec</span><span class="op" id="6705140">(</span><span class="ident" id="6705141">rng</span><span class="op" id="6705144">,</span>&nbsp;<span class="ident" id="6705146">e</span><span class="op" id="6705147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705154">}</span><br>
<span class="lineno"></span><span class="op" id="6705156">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="comment" id="6705159">//&nbsp;TestFuzzOneByte&nbsp;tries&nbsp;to&nbsp;decode&nbsp;corrupted&nbsp;input&nbsp;sequences</span><br>
<span class="lineno"></span><span class="comment" id="6705220">//&nbsp;and&nbsp;checks&nbsp;that&nbsp;no&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="6705256">func</span>&nbsp;<span class="ident" id="6705261">TestFuzzOneByte</span><span class="op" id="6705276">(</span><span class="ident" id="6705277">t</span>&nbsp;<span class="op" id="6705279">*</span><span class="ident" id="6705280">testing</span><span class="op" id="6705287">.</span><span class="ident" id="6705288">T</span><span class="op" id="6705289">)</span>&nbsp;<span class="op" id="6705291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705294">buf</span>&nbsp;<span class="op" id="6705298">:=</span>&nbsp;<span class="builtinfunc" id="6705301">new</span><span class="op" id="6705304">(</span><span class="ident" id="6705305">bytes</span><span class="op" id="6705310">.</span><span class="ident" id="6705311">Buffer</span><span class="op" id="6705317">)</span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705320">Register</span><span class="op" id="6705328">(</span><span class="ident" id="6705329">OnTheFly</span><span class="op" id="6705337">{</span><span class="op" id="6705338">}</span><span class="op" id="6705339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705342">dt</span>&nbsp;<span class="op" id="6705345">:=</span>&nbsp;<span class="ident" id="6705348">newDT</span><span class="op" id="6705353">(</span><span class="op" id="6705354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705357">if</span>&nbsp;<span class="ident" id="6705360">err</span>&nbsp;<span class="op" id="6705364">:=</span>&nbsp;<span class="ident" id="6705367">NewEncoder</span><span class="op" id="6705377">(</span><span class="ident" id="6705378">buf</span><span class="op" id="6705381">)</span><span class="op" id="6705382">.</span><span class="ident" id="6705383">Encode</span><span class="op" id="6705389">(</span><span class="ident" id="6705390">dt</span><span class="op" id="6705392">)</span><span class="op" id="6705393">;</span>&nbsp;<span class="ident" id="6705395">err</span>&nbsp;<span class="op" id="6705399">!=</span>&nbsp;<span class="ident" id="6705402">nil</span>&nbsp;<span class="op" id="6705406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705410">t</span><span class="op" id="6705411">.</span><span class="ident" id="6705412">Fatal</span><span class="op" id="6705417">(</span><span class="ident" id="6705418">err</span><span class="op" id="6705421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705424">}</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705427">s</span>&nbsp;<span class="op" id="6705429">:=</span>&nbsp;<span class="ident" id="6705432">buf</span><span class="op" id="6705435">.</span><span class="ident" id="6705436">String</span><span class="op" id="6705442">(</span><span class="op" id="6705443">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705447">indices</span>&nbsp;<span class="op" id="6705455">:=</span>&nbsp;<span class="builtinfunc" id="6705458">make</span><span class="op" id="6705462">(</span><span class="op" id="6705463">[</span><span class="op" id="6705464">]</span><span class="builtintype" id="6705465">int</span><span class="op" id="6705468">,</span>&nbsp;<span class="num" id="6705470">0</span><span class="op" id="6705471">,</span>&nbsp;<span class="builtinfunc" id="6705473">len</span><span class="op" id="6705476">(</span><span class="ident" id="6705477">s</span><span class="op" id="6705478">)</span><span class="op" id="6705479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705482">for</span>&nbsp;<span class="ident" id="6705486">i</span>&nbsp;<span class="op" id="6705488">:=</span>&nbsp;<span class="num" id="6705491">0</span><span class="op" id="6705492">;</span>&nbsp;<span class="ident" id="6705494">i</span>&nbsp;<span class="op" id="6705496">&lt;</span>&nbsp;<span class="builtinfunc" id="6705498">len</span><span class="op" id="6705501">(</span><span class="ident" id="6705502">s</span><span class="op" id="6705503">)</span><span class="op" id="6705504">;</span>&nbsp;<span class="ident" id="6705506">i</span><span class="op" id="6705507">++</span>&nbsp;<span class="op" id="6705510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705514">switch</span>&nbsp;<span class="ident" id="6705521">i</span>&nbsp;<span class="op" id="6705523">{</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705527">case</span>&nbsp;<span class="num" id="6705532">14</span><span class="op" id="6705534">,</span>&nbsp;<span class="num" id="6705536">167</span><span class="op" id="6705539">,</span>&nbsp;<span class="num" id="6705541">231</span><span class="op" id="6705544">,</span>&nbsp;<span class="num" id="6705546">265</span><span class="op" id="6705549">:</span>&nbsp;<span class="comment" id="6705551">//&nbsp;a&nbsp;slice&nbsp;length,&nbsp;corruptions&nbsp;are&nbsp;not&nbsp;handled&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705606">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705621">indices</span>&nbsp;<span class="op" id="6705629">=</span>&nbsp;<span class="builtinfunc" id="6705631">append</span><span class="op" id="6705637">(</span><span class="ident" id="6705638">indices</span><span class="op" id="6705645">,</span>&nbsp;<span class="ident" id="6705647">i</span><span class="op" id="6705648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705651">}</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705654">if</span>&nbsp;<span class="ident" id="6705657">testing</span><span class="op" id="6705664">.</span><span class="ident" id="6705665">Short</span><span class="op" id="6705670">(</span><span class="op" id="6705671">)</span>&nbsp;<span class="op" id="6705673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705677">indices</span>&nbsp;<span class="op" id="6705685">=</span>&nbsp;<span class="op" id="6705687">[</span><span class="op" id="6705688">]</span><span class="builtintype" id="6705689">int</span><span class="op" id="6705692">{</span><span class="num" id="6705693">1</span><span class="op" id="6705694">,</span>&nbsp;<span class="num" id="6705696">111</span><span class="op" id="6705699">,</span>&nbsp;<span class="num" id="6705701">178</span><span class="op" id="6705704">}</span>&nbsp;<span class="comment" id="6705706">//&nbsp;known&nbsp;fixed&nbsp;panics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705732">for</span>&nbsp;<span class="ident" id="6705736">_</span><span class="op" id="6705737">,</span>&nbsp;<span class="ident" id="6705739">i</span>&nbsp;<span class="op" id="6705741">:=</span>&nbsp;<span class="keyword" id="6705744">range</span>&nbsp;<span class="ident" id="6705750">indices</span>&nbsp;<span class="op" id="6705758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705762">for</span>&nbsp;<span class="ident" id="6705766">j</span>&nbsp;<span class="op" id="6705768">:=</span>&nbsp;<span class="num" id="6705771">0</span><span class="op" id="6705772">;</span>&nbsp;<span class="ident" id="6705774">j</span>&nbsp;<span class="op" id="6705776">&lt;</span>&nbsp;<span class="num" id="6705778">256</span><span class="op" id="6705781">;</span>&nbsp;<span class="ident" id="6705783">j</span>&nbsp;<span class="op" id="6705785">+=</span>&nbsp;<span class="num" id="6705788">3</span>&nbsp;<span class="op" id="6705790">{</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705795">b</span>&nbsp;<span class="op" id="6705797">:=</span>&nbsp;<span class="op" id="6705800">[</span><span class="op" id="6705801">]</span><span class="builtintype" id="6705802">byte</span><span class="op" id="6705806">(</span><span class="ident" id="6705807">s</span><span class="op" id="6705808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705813">b</span><span class="op" id="6705814">[</span><span class="ident" id="6705815">i</span><span class="op" id="6705816">]</span>&nbsp;<span class="op" id="6705818">^=</span>&nbsp;<span class="builtintype" id="6705821">byte</span><span class="op" id="6705825">(</span><span class="ident" id="6705826">j</span><span class="op" id="6705827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705832">var</span>&nbsp;<span class="ident" id="6705836">e</span>&nbsp;<span class="ident" id="6705838">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705844">func</span><span class="op" id="6705848">(</span><span class="op" id="6705849">)</span>&nbsp;<span class="op" id="6705851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705857">defer</span>&nbsp;<span class="keyword" id="6705863">func</span><span class="op" id="6705867">(</span><span class="op" id="6705868">)</span>&nbsp;<span class="op" id="6705870">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705877">if</span>&nbsp;<span class="ident" id="6705880">p</span>&nbsp;<span class="op" id="6705882">:=</span>&nbsp;<span class="builtinfunc" id="6705885">recover</span><span class="op" id="6705892">(</span><span class="op" id="6705893">)</span><span class="op" id="6705894">;</span>&nbsp;<span class="ident" id="6705896">p</span>&nbsp;<span class="op" id="6705898">!=</span>&nbsp;<span class="ident" id="6705901">nil</span>&nbsp;<span class="op" id="6705905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705913">t</span><span class="op" id="6705914">.</span><span class="ident" id="6705915">Errorf</span><span class="op" id="6705921">(</span><span class="string" id="6705922">&#34;crash&nbsp;for&nbsp;b[%d]&nbsp;^=&nbsp;0x%x&#34;</span><span class="op" id="6705947">,</span>&nbsp;<span class="ident" id="6705949">i</span><span class="op" id="6705950">,</span>&nbsp;<span class="ident" id="6705952">j</span><span class="op" id="6705953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6705961">panic</span><span class="op" id="6705966">(</span><span class="ident" id="6705967">p</span><span class="op" id="6705968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705981">}</span><span class="op" id="6705982">(</span><span class="op" id="6705983">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705989">err</span>&nbsp;<span class="op" id="6705993">:=</span>&nbsp;<span class="ident" id="6705996">NewDecoder</span><span class="op" id="6706006">(</span><span class="ident" id="6706007">bytes</span><span class="op" id="6706012">.</span><span class="ident" id="6706013">NewReader</span><span class="op" id="6706022">(</span><span class="ident" id="6706023">b</span><span class="op" id="6706024">)</span><span class="op" id="6706025">)</span><span class="op" id="6706026">.</span><span class="ident" id="6706027">Decode</span><span class="op" id="6706033">(</span><span class="op" id="6706034">&amp;</span><span class="ident" id="6706035">e</span><span class="op" id="6706036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706042">_</span>&nbsp;<span class="op" id="6706044">=</span>&nbsp;<span class="ident" id="6706046">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706053">}</span><span class="op" id="6706054">(</span><span class="op" id="6706055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706062">}</span><br>
<span class="lineno">1475</span><span class="op" id="6706064">}</span>
</div>
</body>
</html>
