<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/build</h2>
<ul>
<li><a href="/gostd/go/build/build.go.html">build.go</a></li>
<li><a href="/gostd/go/build/build_test.go.html">build_test.go</a></li>
<li><a href="/gostd/go/build/deps_test.go.html">deps_test.go</a></li>
<li><a href="/gostd/go/build/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/build/read.go.html">read.go</a></li>
<li><a href="/gostd/go/build/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/go/build/syslist.go.html">syslist.go</a></li>
<li><a href="/gostd/go/build/syslist_test.go.html">syslist_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7118141">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7118197">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7118251">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7118302">package</span>&nbsp;<span class="ident" id="7118310">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7118317">import</span>&nbsp;<span class="op" id="7118324">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118327">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118333">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118344">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7118354">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7118357">const</span>&nbsp;<span class="ident" id="7118363">quote</span>&nbsp;<span class="op" id="7118369">=</span>&nbsp;<span class="string" id="7118371">&#34;`&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7118376">type</span>&nbsp;<span class="ident" id="7118381">readTest</span>&nbsp;<span class="keyword" id="7118390">struct</span>&nbsp;<span class="op" id="7118397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7118400">//&nbsp;Test&nbsp;input&nbsp;contains&nbsp;ℙ&nbsp;where&nbsp;readImports&nbsp;should&nbsp;stop.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118459">in</span>&nbsp;&nbsp;<span class="builtintype" id="7118463">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118471">err</span>&nbsp;<span class="builtintype" id="7118475">string</span><br>
<span class="lineno"></span><span class="op" id="7118482">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7118485">var</span>&nbsp;<span class="ident" id="7118489">readImportsTests</span>&nbsp;<span class="op" id="7118506">=</span>&nbsp;<span class="op" id="7118508">[</span><span class="op" id="7118509">]</span><span class="ident" id="7118510">readTest</span><span class="op" id="7118518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118525">`package&nbsp;p`</span><span class="op" id="7118536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118540">&#34;&#34;</span><span class="op" id="7118542">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118545">}</span><span class="op" id="7118546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118553">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7118576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118580">&#34;&#34;</span><span class="op" id="7118582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118585">}</span><span class="op" id="7118586">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118593">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7118618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118622">&#34;&#34;</span><span class="op" id="7118624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118627">}</span><span class="op" id="7118628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118631">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118635">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;;ℙvar&nbsp;x&nbsp;=&nbsp;1`</span><span class="op" id="7118671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118675">&#34;&#34;</span><span class="op" id="7118677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118680">}</span><span class="op" id="7118681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118688">`package&nbsp;p<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;_&nbsp;&#34;x&#34;<br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;a&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;(<br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;x&#34;&nbsp;/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp_&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspa&nbsp;&#34;x&#34;&nbsp;//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp`</span>&nbsp;<span class="op" id="7118849">+</span>&nbsp;<span class="ident" id="7118851">quote</span>&nbsp;<span class="op" id="7118857">+</span>&nbsp;<span class="string" id="7118859">`x`</span>&nbsp;<span class="op" id="7118863">+</span>&nbsp;<span class="ident" id="7118865">quote</span>&nbsp;<span class="op" id="7118871">+</span>&nbsp;<span class="string" id="7118873">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp_&nbsp;/*comment*/&nbsp;`</span>&nbsp;<span class="op" id="7118894">+</span>&nbsp;<span class="ident" id="7118896">quote</span>&nbsp;<span class="op" id="7118902">+</span>&nbsp;<span class="string" id="7118904">`x`</span>&nbsp;<span class="op" id="7118908">+</span>&nbsp;<span class="ident" id="7118910">quote</span>&nbsp;<span class="op" id="7118916">+</span>&nbsp;<span class="string" id="7118918">`<br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspa&nbsp;`</span>&nbsp;<span class="op" id="7118927">+</span>&nbsp;<span class="ident" id="7118929">quote</span>&nbsp;<span class="op" id="7118935">+</span>&nbsp;<span class="string" id="7118937">`x`</span>&nbsp;<span class="op" id="7118941">+</span>&nbsp;<span class="ident" id="7118943">quote</span>&nbsp;<span class="op" id="7118949">+</span>&nbsp;<span class="string" id="7118951">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;(<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;()<br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport()import()import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport();import();import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspℙvar&nbsp;x&nbsp;=&nbsp;1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp`</span><span class="op" id="7119061">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119065">&#34;&#34;</span><span class="op" id="7119067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119070">}</span><span class="op" id="7119071">,</span><br>
<span class="lineno"></span><span class="op" id="7119073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7119076">var</span>&nbsp;<span class="ident" id="7119080">readCommentsTests</span>&nbsp;<span class="op" id="7119098">=</span>&nbsp;<span class="op" id="7119100">[</span><span class="op" id="7119101">]</span><span class="ident" id="7119102">readTest</span><span class="op" id="7119110">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119117">`ℙpackage&nbsp;p`</span><span class="op" id="7119131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119135">&#34;&#34;</span><span class="op" id="7119137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119140">}</span><span class="op" id="7119141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119144">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119148">`ℙpackage&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7119174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119178">&#34;&#34;</span><span class="op" id="7119180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119183">}</span><span class="op" id="7119184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119191">`ℙpackage&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7119219">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119223">&#34;&#34;</span><span class="op" id="7119225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119228">}</span><span class="op" id="7119229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119236">`//&nbsp;foo<br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;bar&nbsp;*/<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;quux&nbsp;*/&nbsp;//&nbsp;baz<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*/&nbsp;zot&nbsp;*/<br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;asdf<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspℙHello,&nbsp;world`</span><span class="op" id="7119323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119327">&#34;&#34;</span><span class="op" id="7119329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119332">}</span><span class="op" id="7119333">,</span><br>
<span class="lineno">95</span><span class="op" id="7119335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7119338">func</span>&nbsp;<span class="ident" id="7119343">testRead</span><span class="op" id="7119351">(</span><span class="ident" id="7119352">t</span>&nbsp;<span class="op" id="7119354">*</span><span class="ident" id="7119355">testing</span><span class="op" id="7119362">.</span><span class="ident" id="7119363">T</span><span class="op" id="7119364">,</span>&nbsp;<span class="ident" id="7119366">tests</span>&nbsp;<span class="op" id="7119372">[</span><span class="op" id="7119373">]</span><span class="ident" id="7119374">readTest</span><span class="op" id="7119382">,</span>&nbsp;<span class="ident" id="7119384">read</span>&nbsp;<span class="keyword" id="7119389">func</span><span class="op" id="7119393">(</span><span class="ident" id="7119394">io</span><span class="op" id="7119396">.</span><span class="ident" id="7119397">Reader</span><span class="op" id="7119403">)</span>&nbsp;<span class="op" id="7119405">(</span><span class="op" id="7119406">[</span><span class="op" id="7119407">]</span><span class="builtintype" id="7119408">byte</span><span class="op" id="7119412">,</span>&nbsp;<span class="builtintype" id="7119414">error</span><span class="op" id="7119419">)</span><span class="op" id="7119420">)</span>&nbsp;<span class="op" id="7119422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119425">for</span>&nbsp;<span class="ident" id="7119429">i</span><span class="op" id="7119430">,</span>&nbsp;<span class="ident" id="7119432">tt</span>&nbsp;<span class="op" id="7119435">:=</span>&nbsp;<span class="keyword" id="7119438">range</span>&nbsp;<span class="ident" id="7119444">tests</span>&nbsp;<span class="op" id="7119450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119454">var</span>&nbsp;<span class="ident" id="7119458">in</span><span class="op" id="7119460">,</span>&nbsp;<span class="ident" id="7119462">testOut</span>&nbsp;<span class="builtintype" id="7119470">string</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119479">j</span>&nbsp;<span class="op" id="7119481">:=</span>&nbsp;<span class="ident" id="7119484">strings</span><span class="op" id="7119491">.</span><span class="ident" id="7119492">Index</span><span class="op" id="7119497">(</span><span class="ident" id="7119498">tt</span><span class="op" id="7119500">.</span><span class="ident" id="7119501">in</span><span class="op" id="7119503">,</span>&nbsp;<span class="string" id="7119505">&#34;ℙ&#34;</span><span class="op" id="7119510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119514">if</span>&nbsp;<span class="ident" id="7119517">j</span>&nbsp;<span class="op" id="7119519">&lt;</span>&nbsp;<span class="num" id="7119521">0</span>&nbsp;<span class="op" id="7119523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119528">in</span>&nbsp;<span class="op" id="7119531">=</span>&nbsp;<span class="ident" id="7119533">tt</span><span class="op" id="7119535">.</span><span class="ident" id="7119536">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119542">testOut</span>&nbsp;<span class="op" id="7119550">=</span>&nbsp;<span class="ident" id="7119552">tt</span><span class="op" id="7119554">.</span><span class="ident" id="7119555">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119560">}</span>&nbsp;<span class="keyword" id="7119562">else</span>&nbsp;<span class="op" id="7119567">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119572">in</span>&nbsp;<span class="op" id="7119575">=</span>&nbsp;<span class="ident" id="7119577">tt</span><span class="op" id="7119579">.</span><span class="ident" id="7119580">in</span><span class="op" id="7119582">[</span><span class="op" id="7119583">:</span><span class="ident" id="7119584">j</span><span class="op" id="7119585">]</span>&nbsp;<span class="op" id="7119587">+</span>&nbsp;<span class="ident" id="7119589">tt</span><span class="op" id="7119591">.</span><span class="ident" id="7119592">in</span><span class="op" id="7119594">[</span><span class="ident" id="7119595">j</span><span class="op" id="7119596">+</span><span class="builtinfunc" id="7119597">len</span><span class="op" id="7119600">(</span><span class="string" id="7119601">&#34;ℙ&#34;</span><span class="op" id="7119606">)</span><span class="op" id="7119607">:</span><span class="op" id="7119608">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119613">testOut</span>&nbsp;<span class="op" id="7119621">=</span>&nbsp;<span class="ident" id="7119623">tt</span><span class="op" id="7119625">.</span><span class="ident" id="7119626">in</span><span class="op" id="7119628">[</span><span class="op" id="7119629">:</span><span class="ident" id="7119630">j</span><span class="op" id="7119631">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119639">r</span>&nbsp;<span class="op" id="7119641">:=</span>&nbsp;<span class="ident" id="7119644">strings</span><span class="op" id="7119651">.</span><span class="ident" id="7119652">NewReader</span><span class="op" id="7119661">(</span><span class="ident" id="7119662">in</span><span class="op" id="7119664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119668">buf</span><span class="op" id="7119671">,</span>&nbsp;<span class="ident" id="7119673">err</span>&nbsp;<span class="op" id="7119677">:=</span>&nbsp;<span class="ident" id="7119680">read</span><span class="op" id="7119684">(</span><span class="ident" id="7119685">r</span><span class="op" id="7119686">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119690">if</span>&nbsp;<span class="ident" id="7119693">err</span>&nbsp;<span class="op" id="7119697">!=</span>&nbsp;<span class="ident" id="7119700">nil</span>&nbsp;<span class="op" id="7119704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119709">if</span>&nbsp;<span class="ident" id="7119712">tt</span><span class="op" id="7119714">.</span><span class="ident" id="7119715">err</span>&nbsp;<span class="op" id="7119719">==</span>&nbsp;<span class="string" id="7119722">&#34;&#34;</span>&nbsp;<span class="op" id="7119725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119731">t</span><span class="op" id="7119732">.</span><span class="ident" id="7119733">Errorf</span><span class="op" id="7119739">(</span><span class="string" id="7119740">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;success&nbsp;(%q)&#34;</span><span class="op" id="7119776">,</span>&nbsp;<span class="ident" id="7119778">i</span><span class="op" id="7119779">,</span>&nbsp;<span class="ident" id="7119781">err</span><span class="op" id="7119784">,</span>&nbsp;<span class="builtintype" id="7119786">string</span><span class="op" id="7119792">(</span><span class="ident" id="7119793">buf</span><span class="op" id="7119796">)</span><span class="op" id="7119797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119803">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119815">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119820">if</span>&nbsp;<span class="op" id="7119823">!</span><span class="ident" id="7119824">strings</span><span class="op" id="7119831">.</span><span class="ident" id="7119832">Contains</span><span class="op" id="7119840">(</span><span class="ident" id="7119841">err</span><span class="op" id="7119844">.</span><span class="ident" id="7119845">Error</span><span class="op" id="7119850">(</span><span class="op" id="7119851">)</span><span class="op" id="7119852">,</span>&nbsp;<span class="ident" id="7119854">tt</span><span class="op" id="7119856">.</span><span class="ident" id="7119857">err</span><span class="op" id="7119860">)</span>&nbsp;<span class="op" id="7119862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119868">t</span><span class="op" id="7119869">.</span><span class="ident" id="7119870">Errorf</span><span class="op" id="7119876">(</span><span class="string" id="7119877">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7119903">,</span>&nbsp;<span class="ident" id="7119905">i</span><span class="op" id="7119906">,</span>&nbsp;<span class="ident" id="7119908">err</span><span class="op" id="7119911">,</span>&nbsp;<span class="ident" id="7119913">tt</span><span class="op" id="7119915">.</span><span class="ident" id="7119916">err</span><span class="op" id="7119919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119925">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119942">continue</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119957">if</span>&nbsp;<span class="ident" id="7119960">err</span>&nbsp;<span class="op" id="7119964">==</span>&nbsp;<span class="ident" id="7119967">nil</span>&nbsp;<span class="op" id="7119971">&amp;&amp;</span>&nbsp;<span class="ident" id="7119974">tt</span><span class="op" id="7119976">.</span><span class="ident" id="7119977">err</span>&nbsp;<span class="op" id="7119981">!=</span>&nbsp;<span class="string" id="7119984">&#34;&#34;</span>&nbsp;<span class="op" id="7119987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119992">t</span><span class="op" id="7119993">.</span><span class="ident" id="7119994">Errorf</span><span class="op" id="7120000">(</span><span class="string" id="7120001">&#34;#%d:&nbsp;success,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7120028">,</span>&nbsp;<span class="ident" id="7120030">i</span><span class="op" id="7120031">,</span>&nbsp;<span class="ident" id="7120033">tt</span><span class="op" id="7120035">.</span><span class="ident" id="7120036">err</span><span class="op" id="7120039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7120044">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120055">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120060">out</span>&nbsp;<span class="op" id="7120064">:=</span>&nbsp;<span class="builtintype" id="7120067">string</span><span class="op" id="7120073">(</span><span class="ident" id="7120074">buf</span><span class="op" id="7120077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7120081">if</span>&nbsp;<span class="ident" id="7120084">out</span>&nbsp;<span class="op" id="7120088">!=</span>&nbsp;<span class="ident" id="7120091">testOut</span>&nbsp;<span class="op" id="7120099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120104">t</span><span class="op" id="7120105">.</span><span class="ident" id="7120106">Errorf</span><span class="op" id="7120112">(</span><span class="string" id="7120113">&#34;#%d:&nbsp;wrong&nbsp;output:\nhave&nbsp;%q\nwant&nbsp;%q\n&#34;</span><span class="op" id="7120153">,</span>&nbsp;<span class="ident" id="7120155">i</span><span class="op" id="7120156">,</span>&nbsp;<span class="ident" id="7120158">out</span><span class="op" id="7120161">,</span>&nbsp;<span class="ident" id="7120163">testOut</span><span class="op" id="7120170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120174">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120177">}</span><br>
<span class="lineno"></span><span class="op" id="7120179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7120182">func</span>&nbsp;<span class="ident" id="7120187">TestReadImports</span><span class="op" id="7120202">(</span><span class="ident" id="7120203">t</span>&nbsp;<span class="op" id="7120205">*</span><span class="ident" id="7120206">testing</span><span class="op" id="7120213">.</span><span class="ident" id="7120214">T</span><span class="op" id="7120215">)</span>&nbsp;<span class="op" id="7120217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120220">testRead</span><span class="op" id="7120228">(</span><span class="ident" id="7120229">t</span><span class="op" id="7120230">,</span>&nbsp;<span class="ident" id="7120232">readImportsTests</span><span class="op" id="7120248">,</span>&nbsp;<span class="keyword" id="7120250">func</span><span class="op" id="7120254">(</span><span class="ident" id="7120255">r</span>&nbsp;<span class="ident" id="7120257">io</span><span class="op" id="7120259">.</span><span class="ident" id="7120260">Reader</span><span class="op" id="7120266">)</span>&nbsp;<span class="op" id="7120268">(</span><span class="op" id="7120269">[</span><span class="op" id="7120270">]</span><span class="builtintype" id="7120271">byte</span><span class="op" id="7120275">,</span>&nbsp;<span class="builtintype" id="7120277">error</span><span class="op" id="7120282">)</span>&nbsp;<span class="op" id="7120284">{</span>&nbsp;<span class="keyword" id="7120286">return</span>&nbsp;<span class="ident" id="7120293">readImports</span><span class="op" id="7120304">(</span><span class="ident" id="7120305">r</span><span class="op" id="7120306">,</span>&nbsp;<span class="builtintype" id="7120308">true</span><span class="op" id="7120312">)</span>&nbsp;<span class="op" id="7120314">}</span><span class="op" id="7120315">)</span><br>
<span class="lineno">135</span><span class="op" id="7120317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7120320">func</span>&nbsp;<span class="ident" id="7120325">TestReadComments</span><span class="op" id="7120341">(</span><span class="ident" id="7120342">t</span>&nbsp;<span class="op" id="7120344">*</span><span class="ident" id="7120345">testing</span><span class="op" id="7120352">.</span><span class="ident" id="7120353">T</span><span class="op" id="7120354">)</span>&nbsp;<span class="op" id="7120356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120359">testRead</span><span class="op" id="7120367">(</span><span class="ident" id="7120368">t</span><span class="op" id="7120369">,</span>&nbsp;<span class="ident" id="7120371">readCommentsTests</span><span class="op" id="7120388">,</span>&nbsp;<span class="ident" id="7120390">readComments</span><span class="op" id="7120402">)</span><br>
<span class="lineno"></span><span class="op" id="7120404">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="7120407">var</span>&nbsp;<span class="ident" id="7120411">readFailuresTests</span>&nbsp;<span class="op" id="7120429">=</span>&nbsp;<span class="op" id="7120431">[</span><span class="op" id="7120432">]</span><span class="ident" id="7120433">readTest</span><span class="op" id="7120441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120448">`package`</span><span class="op" id="7120457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120461">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7120475">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120478">}</span><span class="op" id="7120479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120486">&#34;package&nbsp;p\n\x00\nimport&nbsp;`math`\n&#34;</span><span class="op" id="7120520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120524">&#34;unexpected&nbsp;NUL&nbsp;in&nbsp;input&#34;</span><span class="op" id="7120549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120552">}</span><span class="op" id="7120553">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120560">`package&nbsp;p;&nbsp;import`</span><span class="op" id="7120579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120583">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7120597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120600">}</span><span class="op" id="7120601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120604">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120608">`package&nbsp;p;&nbsp;import&nbsp;&#34;`</span><span class="op" id="7120629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120633">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7120647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120650">}</span><span class="op" id="7120651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120658">&#34;package&nbsp;p;&nbsp;import&nbsp;`&nbsp;\n\n&#34;</span><span class="op" id="7120684">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120688">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7120702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120705">}</span><span class="op" id="7120706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120713">`package&nbsp;p;&nbsp;import&nbsp;&#34;x`</span><span class="op" id="7120735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120739">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7120753">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120756">}</span><span class="op" id="7120757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120764">`package&nbsp;p;&nbsp;import&nbsp;_`</span><span class="op" id="7120785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120789">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7120803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120806">}</span><span class="op" id="7120807">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120814">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;`</span><span class="op" id="7120837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120841">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7120855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120858">}</span><span class="op" id="7120859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120862">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120866">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;x`</span><span class="op" id="7120890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120894">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7120908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120911">}</span><span class="op" id="7120912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120919">`package&nbsp;p;&nbsp;import&nbsp;.`</span><span class="op" id="7120940">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120944">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7120958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120961">}</span><span class="op" id="7120962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120969">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;`</span><span class="op" id="7120992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120996">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7121010">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121013">}</span><span class="op" id="7121014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7121021">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x`</span><span class="op" id="7121045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7121049">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7121063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121066">}</span><span class="op" id="7121067">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7121074">`package&nbsp;p;&nbsp;import&nbsp;(`</span><span class="op" id="7121095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7121099">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7121113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121116">}</span><span class="op" id="7121117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121120">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7121124">`package&nbsp;p;&nbsp;import&nbsp;(&#34;`</span><span class="op" id="7121146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7121150">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7121164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121167">}</span><span class="op" id="7121168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7121175">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x`</span><span class="op" id="7121198">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7121202">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7121216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121219">}</span><span class="op" id="7121220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7121227">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x&#34;`</span><span class="op" id="7121251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7121255">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7121269">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121272">}</span><span class="op" id="7121273">,</span><br>
<span class="lineno"></span><span class="op" id="7121275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7121278">func</span>&nbsp;<span class="ident" id="7121283">TestReadFailures</span><span class="op" id="7121299">(</span><span class="ident" id="7121300">t</span>&nbsp;<span class="op" id="7121302">*</span><span class="ident" id="7121303">testing</span><span class="op" id="7121310">.</span><span class="ident" id="7121311">T</span><span class="op" id="7121312">)</span>&nbsp;<span class="op" id="7121314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7121317">//&nbsp;Errors&nbsp;should&nbsp;be&nbsp;reported&nbsp;(true&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121374">testRead</span><span class="op" id="7121382">(</span><span class="ident" id="7121383">t</span><span class="op" id="7121384">,</span>&nbsp;<span class="ident" id="7121386">readFailuresTests</span><span class="op" id="7121403">,</span>&nbsp;<span class="keyword" id="7121405">func</span><span class="op" id="7121409">(</span><span class="ident" id="7121410">r</span>&nbsp;<span class="ident" id="7121412">io</span><span class="op" id="7121414">.</span><span class="ident" id="7121415">Reader</span><span class="op" id="7121421">)</span>&nbsp;<span class="op" id="7121423">(</span><span class="op" id="7121424">[</span><span class="op" id="7121425">]</span><span class="builtintype" id="7121426">byte</span><span class="op" id="7121430">,</span>&nbsp;<span class="builtintype" id="7121432">error</span><span class="op" id="7121437">)</span>&nbsp;<span class="op" id="7121439">{</span>&nbsp;<span class="keyword" id="7121441">return</span>&nbsp;<span class="ident" id="7121448">readImports</span><span class="op" id="7121459">(</span><span class="ident" id="7121460">r</span><span class="op" id="7121461">,</span>&nbsp;<span class="builtintype" id="7121463">true</span><span class="op" id="7121467">)</span>&nbsp;<span class="op" id="7121469">}</span><span class="op" id="7121470">)</span><br>
<span class="lineno"></span><span class="op" id="7121472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7121475">func</span>&nbsp;<span class="ident" id="7121480">TestReadFailuresIgnored</span><span class="op" id="7121503">(</span><span class="ident" id="7121504">t</span>&nbsp;<span class="op" id="7121506">*</span><span class="ident" id="7121507">testing</span><span class="op" id="7121514">.</span><span class="ident" id="7121515">T</span><span class="op" id="7121516">)</span>&nbsp;<span class="op" id="7121518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7121521">//&nbsp;Syntax&nbsp;errors&nbsp;should&nbsp;not&nbsp;be&nbsp;reported&nbsp;(false&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7121590">//&nbsp;Instead,&nbsp;entire&nbsp;file&nbsp;should&nbsp;be&nbsp;the&nbsp;output&nbsp;and&nbsp;no&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7121650">//&nbsp;Convert&nbsp;tests&nbsp;not&nbsp;to&nbsp;return&nbsp;syntax&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121697">tests</span>&nbsp;<span class="op" id="7121703">:=</span>&nbsp;<span class="builtinfunc" id="7121706">make</span><span class="op" id="7121710">(</span><span class="op" id="7121711">[</span><span class="op" id="7121712">]</span><span class="ident" id="7121713">readTest</span><span class="op" id="7121721">,</span>&nbsp;<span class="builtinfunc" id="7121723">len</span><span class="op" id="7121726">(</span><span class="ident" id="7121727">readFailuresTests</span><span class="op" id="7121744">)</span><span class="op" id="7121745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7121748">copy</span><span class="op" id="7121752">(</span><span class="ident" id="7121753">tests</span><span class="op" id="7121758">,</span>&nbsp;<span class="ident" id="7121760">readFailuresTests</span><span class="op" id="7121777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7121780">for</span>&nbsp;<span class="ident" id="7121784">i</span>&nbsp;<span class="op" id="7121786">:=</span>&nbsp;<span class="keyword" id="7121789">range</span>&nbsp;<span class="ident" id="7121795">tests</span>&nbsp;<span class="op" id="7121801">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121805">tt</span>&nbsp;<span class="op" id="7121808">:=</span>&nbsp;<span class="op" id="7121811">&amp;</span><span class="ident" id="7121812">tests</span><span class="op" id="7121817">[</span><span class="ident" id="7121818">i</span><span class="op" id="7121819">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7121823">if</span>&nbsp;<span class="op" id="7121826">!</span><span class="ident" id="7121827">strings</span><span class="op" id="7121834">.</span><span class="ident" id="7121835">Contains</span><span class="op" id="7121843">(</span><span class="ident" id="7121844">tt</span><span class="op" id="7121846">.</span><span class="ident" id="7121847">err</span><span class="op" id="7121850">,</span>&nbsp;<span class="string" id="7121852">&#34;NUL&#34;</span><span class="op" id="7121857">)</span>&nbsp;<span class="op" id="7121859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121864">tt</span><span class="op" id="7121866">.</span><span class="ident" id="7121867">err</span>&nbsp;<span class="op" id="7121871">=</span>&nbsp;<span class="string" id="7121873">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121881">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121884">testRead</span><span class="op" id="7121892">(</span><span class="ident" id="7121893">t</span><span class="op" id="7121894">,</span>&nbsp;<span class="ident" id="7121896">tests</span><span class="op" id="7121901">,</span>&nbsp;<span class="keyword" id="7121903">func</span><span class="op" id="7121907">(</span><span class="ident" id="7121908">r</span>&nbsp;<span class="ident" id="7121910">io</span><span class="op" id="7121912">.</span><span class="ident" id="7121913">Reader</span><span class="op" id="7121919">)</span>&nbsp;<span class="op" id="7121921">(</span><span class="op" id="7121922">[</span><span class="op" id="7121923">]</span><span class="builtintype" id="7121924">byte</span><span class="op" id="7121928">,</span>&nbsp;<span class="builtintype" id="7121930">error</span><span class="op" id="7121935">)</span>&nbsp;<span class="op" id="7121937">{</span>&nbsp;<span class="keyword" id="7121939">return</span>&nbsp;<span class="ident" id="7121946">readImports</span><span class="op" id="7121957">(</span><span class="ident" id="7121958">r</span><span class="op" id="7121959">,</span>&nbsp;<span class="builtintype" id="7121961">false</span><span class="op" id="7121966">)</span>&nbsp;<span class="op" id="7121968">}</span><span class="op" id="7121969">)</span><br>
<span class="lineno"></span><span class="op" id="7121971">}</span>
</div>
</body>
</html>
