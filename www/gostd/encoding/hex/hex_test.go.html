<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html" class="current">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8354005">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8354060">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8354114">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8354165">package</span>&nbsp;<span class="ident" id="8354173">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8354178">import</span>&nbsp;<span class="op" id="8354185">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354188">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354197">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8354207">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8354210">type</span>&nbsp;<span class="ident" id="8354215">encDecTest</span>&nbsp;<span class="keyword" id="8354226">struct</span>&nbsp;<span class="op" id="8354233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354236">enc</span>&nbsp;<span class="builtintype" id="8354240">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354248">dec</span>&nbsp;<span class="op" id="8354252">[</span><span class="op" id="8354253">]</span><span class="builtintype" id="8354254">byte</span><br>
<span class="lineno">15</span><span class="op" id="8354259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8354262">var</span>&nbsp;<span class="ident" id="8354266">encDecTests</span>&nbsp;<span class="op" id="8354278">=</span>&nbsp;<span class="op" id="8354280">[</span><span class="op" id="8354281">]</span><span class="ident" id="8354282">encDecTest</span><span class="op" id="8354292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354295">{</span><span class="string" id="8354296">&#34;&#34;</span><span class="op" id="8354298">,</span>&nbsp;<span class="op" id="8354300">[</span><span class="op" id="8354301">]</span><span class="builtintype" id="8354302">byte</span><span class="op" id="8354306">{</span><span class="op" id="8354307">}</span><span class="op" id="8354308">}</span><span class="op" id="8354309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354312">{</span><span class="string" id="8354313">&#34;0001020304050607&#34;</span><span class="op" id="8354331">,</span>&nbsp;<span class="op" id="8354333">[</span><span class="op" id="8354334">]</span><span class="builtintype" id="8354335">byte</span><span class="op" id="8354339">{</span><span class="num" id="8354340">0</span><span class="op" id="8354341">,</span>&nbsp;<span class="num" id="8354343">1</span><span class="op" id="8354344">,</span>&nbsp;<span class="num" id="8354346">2</span><span class="op" id="8354347">,</span>&nbsp;<span class="num" id="8354349">3</span><span class="op" id="8354350">,</span>&nbsp;<span class="num" id="8354352">4</span><span class="op" id="8354353">,</span>&nbsp;<span class="num" id="8354355">5</span><span class="op" id="8354356">,</span>&nbsp;<span class="num" id="8354358">6</span><span class="op" id="8354359">,</span>&nbsp;<span class="num" id="8354361">7</span><span class="op" id="8354362">}</span><span class="op" id="8354363">}</span><span class="op" id="8354364">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354367">{</span><span class="string" id="8354368">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="8354386">,</span>&nbsp;<span class="op" id="8354388">[</span><span class="op" id="8354389">]</span><span class="builtintype" id="8354390">byte</span><span class="op" id="8354394">{</span><span class="num" id="8354395">8</span><span class="op" id="8354396">,</span>&nbsp;<span class="num" id="8354398">9</span><span class="op" id="8354399">,</span>&nbsp;<span class="num" id="8354401">10</span><span class="op" id="8354403">,</span>&nbsp;<span class="num" id="8354405">11</span><span class="op" id="8354407">,</span>&nbsp;<span class="num" id="8354409">12</span><span class="op" id="8354411">,</span>&nbsp;<span class="num" id="8354413">13</span><span class="op" id="8354415">,</span>&nbsp;<span class="num" id="8354417">14</span><span class="op" id="8354419">,</span>&nbsp;<span class="num" id="8354421">15</span><span class="op" id="8354423">}</span><span class="op" id="8354424">}</span><span class="op" id="8354425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354428">{</span><span class="string" id="8354429">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="8354447">,</span>&nbsp;<span class="op" id="8354449">[</span><span class="op" id="8354450">]</span><span class="builtintype" id="8354451">byte</span><span class="op" id="8354455">{</span><span class="num" id="8354456">0xf0</span><span class="op" id="8354460">,</span>&nbsp;<span class="num" id="8354462">0xf1</span><span class="op" id="8354466">,</span>&nbsp;<span class="num" id="8354468">0xf2</span><span class="op" id="8354472">,</span>&nbsp;<span class="num" id="8354474">0xf3</span><span class="op" id="8354478">,</span>&nbsp;<span class="num" id="8354480">0xf4</span><span class="op" id="8354484">,</span>&nbsp;<span class="num" id="8354486">0xf5</span><span class="op" id="8354490">,</span>&nbsp;<span class="num" id="8354492">0xf6</span><span class="op" id="8354496">,</span>&nbsp;<span class="num" id="8354498">0xf7</span><span class="op" id="8354502">}</span><span class="op" id="8354503">}</span><span class="op" id="8354504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354507">{</span><span class="string" id="8354508">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="8354526">,</span>&nbsp;<span class="op" id="8354528">[</span><span class="op" id="8354529">]</span><span class="builtintype" id="8354530">byte</span><span class="op" id="8354534">{</span><span class="num" id="8354535">0xf8</span><span class="op" id="8354539">,</span>&nbsp;<span class="num" id="8354541">0xf9</span><span class="op" id="8354545">,</span>&nbsp;<span class="num" id="8354547">0xfa</span><span class="op" id="8354551">,</span>&nbsp;<span class="num" id="8354553">0xfb</span><span class="op" id="8354557">,</span>&nbsp;<span class="num" id="8354559">0xfc</span><span class="op" id="8354563">,</span>&nbsp;<span class="num" id="8354565">0xfd</span><span class="op" id="8354569">,</span>&nbsp;<span class="num" id="8354571">0xfe</span><span class="op" id="8354575">,</span>&nbsp;<span class="num" id="8354577">0xff</span><span class="op" id="8354581">}</span><span class="op" id="8354582">}</span><span class="op" id="8354583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354586">{</span><span class="string" id="8354587">&#34;67&#34;</span><span class="op" id="8354591">,</span>&nbsp;<span class="op" id="8354593">[</span><span class="op" id="8354594">]</span><span class="builtintype" id="8354595">byte</span><span class="op" id="8354599">{</span><span class="string" id="8354600">&#39;g&#39;</span><span class="op" id="8354603">}</span><span class="op" id="8354604">}</span><span class="op" id="8354605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354608">{</span><span class="string" id="8354609">&#34;e3a1&#34;</span><span class="op" id="8354615">,</span>&nbsp;<span class="op" id="8354617">[</span><span class="op" id="8354618">]</span><span class="builtintype" id="8354619">byte</span><span class="op" id="8354623">{</span><span class="num" id="8354624">0xe3</span><span class="op" id="8354628">,</span>&nbsp;<span class="num" id="8354630">0xa1</span><span class="op" id="8354634">}</span><span class="op" id="8354635">}</span><span class="op" id="8354636">,</span><br>
<span class="lineno">25</span><span class="op" id="8354638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8354641">func</span>&nbsp;<span class="ident" id="8354646">TestEncode</span><span class="op" id="8354656">(</span><span class="ident" id="8354657">t</span>&nbsp;<span class="op" id="8354659">*</span><span class="ident" id="8354660">testing</span><span class="op" id="8354667">.</span><span class="ident" id="8354668">T</span><span class="op" id="8354669">)</span>&nbsp;<span class="op" id="8354671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354674">for</span>&nbsp;<span class="ident" id="8354678">i</span><span class="op" id="8354679">,</span>&nbsp;<span class="ident" id="8354681">test</span>&nbsp;<span class="op" id="8354686">:=</span>&nbsp;<span class="keyword" id="8354689">range</span>&nbsp;<span class="ident" id="8354695">encDecTests</span>&nbsp;<span class="op" id="8354707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354711">dst</span>&nbsp;<span class="op" id="8354715">:=</span>&nbsp;<span class="builtinfunc" id="8354718">make</span><span class="op" id="8354722">(</span><span class="op" id="8354723">[</span><span class="op" id="8354724">]</span><span class="builtintype" id="8354725">byte</span><span class="op" id="8354729">,</span>&nbsp;<span class="ident" id="8354731">EncodedLen</span><span class="op" id="8354741">(</span><span class="builtinfunc" id="8354742">len</span><span class="op" id="8354745">(</span><span class="ident" id="8354746">test</span><span class="op" id="8354750">.</span><span class="ident" id="8354751">dec</span><span class="op" id="8354754">)</span><span class="op" id="8354755">)</span><span class="op" id="8354756">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354760">n</span>&nbsp;<span class="op" id="8354762">:=</span>&nbsp;<span class="ident" id="8354765">Encode</span><span class="op" id="8354771">(</span><span class="ident" id="8354772">dst</span><span class="op" id="8354775">,</span>&nbsp;<span class="ident" id="8354777">test</span><span class="op" id="8354781">.</span><span class="ident" id="8354782">dec</span><span class="op" id="8354785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354789">if</span>&nbsp;<span class="ident" id="8354792">n</span>&nbsp;<span class="op" id="8354794">!=</span>&nbsp;<span class="builtinfunc" id="8354797">len</span><span class="op" id="8354800">(</span><span class="ident" id="8354801">dst</span><span class="op" id="8354804">)</span>&nbsp;<span class="op" id="8354806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354811">t</span><span class="op" id="8354812">.</span><span class="ident" id="8354813">Errorf</span><span class="op" id="8354819">(</span><span class="string" id="8354820">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="8354861">,</span>&nbsp;<span class="ident" id="8354863">i</span><span class="op" id="8354864">,</span>&nbsp;<span class="ident" id="8354866">n</span><span class="op" id="8354867">,</span>&nbsp;<span class="builtinfunc" id="8354869">len</span><span class="op" id="8354872">(</span><span class="ident" id="8354873">dst</span><span class="op" id="8354876">)</span><span class="op" id="8354877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354885">if</span>&nbsp;<span class="builtintype" id="8354888">string</span><span class="op" id="8354894">(</span><span class="ident" id="8354895">dst</span><span class="op" id="8354898">)</span>&nbsp;<span class="op" id="8354900">!=</span>&nbsp;<span class="ident" id="8354903">test</span><span class="op" id="8354907">.</span><span class="ident" id="8354908">enc</span>&nbsp;<span class="op" id="8354912">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354917">t</span><span class="op" id="8354918">.</span><span class="ident" id="8354919">Errorf</span><span class="op" id="8354925">(</span><span class="string" id="8354926">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="8354951">,</span>&nbsp;<span class="ident" id="8354953">i</span><span class="op" id="8354954">,</span>&nbsp;<span class="ident" id="8354956">dst</span><span class="op" id="8354959">,</span>&nbsp;<span class="ident" id="8354961">test</span><span class="op" id="8354965">.</span><span class="ident" id="8354966">enc</span><span class="op" id="8354969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354976">}</span><br>
<span class="lineno"></span><span class="op" id="8354978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8354981">func</span>&nbsp;<span class="ident" id="8354986">TestDecode</span><span class="op" id="8354996">(</span><span class="ident" id="8354997">t</span>&nbsp;<span class="op" id="8354999">*</span><span class="ident" id="8355000">testing</span><span class="op" id="8355007">.</span><span class="ident" id="8355008">T</span><span class="op" id="8355009">)</span>&nbsp;<span class="op" id="8355011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8355014">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8355068">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355102">decTests</span>&nbsp;<span class="op" id="8355111">:=</span>&nbsp;<span class="builtinfunc" id="8355114">append</span><span class="op" id="8355120">(</span><span class="ident" id="8355121">encDecTests</span><span class="op" id="8355132">,</span>&nbsp;<span class="ident" id="8355134">encDecTest</span><span class="op" id="8355144">{</span><span class="string" id="8355145">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="8355163">,</span>&nbsp;<span class="op" id="8355165">[</span><span class="op" id="8355166">]</span><span class="builtintype" id="8355167">byte</span><span class="op" id="8355171">{</span><span class="num" id="8355172">0xf8</span><span class="op" id="8355176">,</span>&nbsp;<span class="num" id="8355178">0xf9</span><span class="op" id="8355182">,</span>&nbsp;<span class="num" id="8355184">0xfa</span><span class="op" id="8355188">,</span>&nbsp;<span class="num" id="8355190">0xfb</span><span class="op" id="8355194">,</span>&nbsp;<span class="num" id="8355196">0xfc</span><span class="op" id="8355200">,</span>&nbsp;<span class="num" id="8355202">0xfd</span><span class="op" id="8355206">,</span>&nbsp;<span class="num" id="8355208">0xfe</span><span class="op" id="8355212">,</span>&nbsp;<span class="num" id="8355214">0xff</span><span class="op" id="8355218">}</span><span class="op" id="8355219">}</span><span class="op" id="8355220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355223">for</span>&nbsp;<span class="ident" id="8355227">i</span><span class="op" id="8355228">,</span>&nbsp;<span class="ident" id="8355230">test</span>&nbsp;<span class="op" id="8355235">:=</span>&nbsp;<span class="keyword" id="8355238">range</span>&nbsp;<span class="ident" id="8355244">decTests</span>&nbsp;<span class="op" id="8355253">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355257">dst</span>&nbsp;<span class="op" id="8355261">:=</span>&nbsp;<span class="builtinfunc" id="8355264">make</span><span class="op" id="8355268">(</span><span class="op" id="8355269">[</span><span class="op" id="8355270">]</span><span class="builtintype" id="8355271">byte</span><span class="op" id="8355275">,</span>&nbsp;<span class="ident" id="8355277">DecodedLen</span><span class="op" id="8355287">(</span><span class="builtinfunc" id="8355288">len</span><span class="op" id="8355291">(</span><span class="ident" id="8355292">test</span><span class="op" id="8355296">.</span><span class="ident" id="8355297">enc</span><span class="op" id="8355300">)</span><span class="op" id="8355301">)</span><span class="op" id="8355302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355306">n</span><span class="op" id="8355307">,</span>&nbsp;<span class="ident" id="8355309">err</span>&nbsp;<span class="op" id="8355313">:=</span>&nbsp;<span class="ident" id="8355316">Decode</span><span class="op" id="8355322">(</span><span class="ident" id="8355323">dst</span><span class="op" id="8355326">,</span>&nbsp;<span class="op" id="8355328">[</span><span class="op" id="8355329">]</span><span class="builtintype" id="8355330">byte</span><span class="op" id="8355334">(</span><span class="ident" id="8355335">test</span><span class="op" id="8355339">.</span><span class="ident" id="8355340">enc</span><span class="op" id="8355343">)</span><span class="op" id="8355344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355348">if</span>&nbsp;<span class="ident" id="8355351">err</span>&nbsp;<span class="op" id="8355355">!=</span>&nbsp;<span class="builtintype" id="8355358">nil</span>&nbsp;<span class="op" id="8355362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355367">t</span><span class="op" id="8355368">.</span><span class="ident" id="8355369">Errorf</span><span class="op" id="8355375">(</span><span class="string" id="8355376">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="8355415">,</span>&nbsp;<span class="ident" id="8355417">i</span><span class="op" id="8355418">,</span>&nbsp;<span class="ident" id="8355420">n</span><span class="op" id="8355421">,</span>&nbsp;<span class="builtinfunc" id="8355423">len</span><span class="op" id="8355426">(</span><span class="ident" id="8355427">dst</span><span class="op" id="8355430">)</span><span class="op" id="8355431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355435">}</span>&nbsp;<span class="keyword" id="8355437">else</span>&nbsp;<span class="keyword" id="8355442">if</span>&nbsp;<span class="op" id="8355445">!</span><span class="ident" id="8355446">bytes</span><span class="op" id="8355451">.</span><span class="ident" id="8355452">Equal</span><span class="op" id="8355457">(</span><span class="ident" id="8355458">dst</span><span class="op" id="8355461">,</span>&nbsp;<span class="ident" id="8355463">test</span><span class="op" id="8355467">.</span><span class="ident" id="8355468">dec</span><span class="op" id="8355471">)</span>&nbsp;<span class="op" id="8355473">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355478">t</span><span class="op" id="8355479">.</span><span class="ident" id="8355480">Errorf</span><span class="op" id="8355486">(</span><span class="string" id="8355487">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="8355512">,</span>&nbsp;<span class="ident" id="8355514">i</span><span class="op" id="8355515">,</span>&nbsp;<span class="ident" id="8355517">dst</span><span class="op" id="8355520">,</span>&nbsp;<span class="ident" id="8355522">test</span><span class="op" id="8355526">.</span><span class="ident" id="8355527">dec</span><span class="op" id="8355530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355537">}</span><br>
<span class="lineno"></span><span class="op" id="8355539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="8355542">func</span>&nbsp;<span class="ident" id="8355547">TestEncodeToString</span><span class="op" id="8355565">(</span><span class="ident" id="8355566">t</span>&nbsp;<span class="op" id="8355568">*</span><span class="ident" id="8355569">testing</span><span class="op" id="8355576">.</span><span class="ident" id="8355577">T</span><span class="op" id="8355578">)</span>&nbsp;<span class="op" id="8355580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355583">for</span>&nbsp;<span class="ident" id="8355587">i</span><span class="op" id="8355588">,</span>&nbsp;<span class="ident" id="8355590">test</span>&nbsp;<span class="op" id="8355595">:=</span>&nbsp;<span class="keyword" id="8355598">range</span>&nbsp;<span class="ident" id="8355604">encDecTests</span>&nbsp;<span class="op" id="8355616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355620">s</span>&nbsp;<span class="op" id="8355622">:=</span>&nbsp;<span class="ident" id="8355625">EncodeToString</span><span class="op" id="8355639">(</span><span class="ident" id="8355640">test</span><span class="op" id="8355644">.</span><span class="ident" id="8355645">dec</span><span class="op" id="8355648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355652">if</span>&nbsp;<span class="ident" id="8355655">s</span>&nbsp;<span class="op" id="8355657">!=</span>&nbsp;<span class="ident" id="8355660">test</span><span class="op" id="8355664">.</span><span class="ident" id="8355665">enc</span>&nbsp;<span class="op" id="8355669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355674">t</span><span class="op" id="8355675">.</span><span class="ident" id="8355676">Errorf</span><span class="op" id="8355682">(</span><span class="string" id="8355683">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="8355703">,</span>&nbsp;<span class="ident" id="8355705">i</span><span class="op" id="8355706">,</span>&nbsp;<span class="ident" id="8355708">s</span><span class="op" id="8355709">,</span>&nbsp;<span class="ident" id="8355711">test</span><span class="op" id="8355715">.</span><span class="ident" id="8355716">enc</span><span class="op" id="8355719">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355726">}</span><br>
<span class="lineno"></span><span class="op" id="8355728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8355731">func</span>&nbsp;<span class="ident" id="8355736">TestDecodeString</span><span class="op" id="8355752">(</span><span class="ident" id="8355753">t</span>&nbsp;<span class="op" id="8355755">*</span><span class="ident" id="8355756">testing</span><span class="op" id="8355763">.</span><span class="ident" id="8355764">T</span><span class="op" id="8355765">)</span>&nbsp;<span class="op" id="8355767">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355770">for</span>&nbsp;<span class="ident" id="8355774">i</span><span class="op" id="8355775">,</span>&nbsp;<span class="ident" id="8355777">test</span>&nbsp;<span class="op" id="8355782">:=</span>&nbsp;<span class="keyword" id="8355785">range</span>&nbsp;<span class="ident" id="8355791">encDecTests</span>&nbsp;<span class="op" id="8355803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355807">dst</span><span class="op" id="8355810">,</span>&nbsp;<span class="ident" id="8355812">err</span>&nbsp;<span class="op" id="8355816">:=</span>&nbsp;<span class="ident" id="8355819">DecodeString</span><span class="op" id="8355831">(</span><span class="ident" id="8355832">test</span><span class="op" id="8355836">.</span><span class="ident" id="8355837">enc</span><span class="op" id="8355840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355844">if</span>&nbsp;<span class="ident" id="8355847">err</span>&nbsp;<span class="op" id="8355851">!=</span>&nbsp;<span class="builtintype" id="8355854">nil</span>&nbsp;<span class="op" id="8355858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355863">t</span><span class="op" id="8355864">.</span><span class="ident" id="8355865">Errorf</span><span class="op" id="8355871">(</span><span class="string" id="8355872">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="8355903">,</span>&nbsp;<span class="ident" id="8355905">i</span><span class="op" id="8355906">,</span>&nbsp;<span class="ident" id="8355908">err</span><span class="op" id="8355911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355916">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355931">if</span>&nbsp;<span class="op" id="8355934">!</span><span class="ident" id="8355935">bytes</span><span class="op" id="8355940">.</span><span class="ident" id="8355941">Equal</span><span class="op" id="8355946">(</span><span class="ident" id="8355947">dst</span><span class="op" id="8355950">,</span>&nbsp;<span class="ident" id="8355952">test</span><span class="op" id="8355956">.</span><span class="ident" id="8355957">dec</span><span class="op" id="8355960">)</span>&nbsp;<span class="op" id="8355962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355967">t</span><span class="op" id="8355968">.</span><span class="ident" id="8355969">Errorf</span><span class="op" id="8355975">(</span><span class="string" id="8355976">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="8356001">,</span>&nbsp;<span class="ident" id="8356003">i</span><span class="op" id="8356004">,</span>&nbsp;<span class="ident" id="8356006">dst</span><span class="op" id="8356009">,</span>&nbsp;<span class="ident" id="8356011">test</span><span class="op" id="8356015">.</span><span class="ident" id="8356016">dec</span><span class="op" id="8356019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356026">}</span><br>
<span class="lineno">75</span><span class="op" id="8356028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8356031">type</span>&nbsp;<span class="ident" id="8356036">errTest</span>&nbsp;<span class="keyword" id="8356044">struct</span>&nbsp;<span class="op" id="8356051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356054">in</span>&nbsp;&nbsp;<span class="builtintype" id="8356058">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356066">err</span>&nbsp;<span class="builtintype" id="8356070">string</span><br>
<span class="lineno">80</span><span class="op" id="8356077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8356080">var</span>&nbsp;<span class="ident" id="8356084">errTests</span>&nbsp;<span class="op" id="8356093">=</span>&nbsp;<span class="op" id="8356095">[</span><span class="op" id="8356096">]</span><span class="ident" id="8356097">errTest</span><span class="op" id="8356104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356107">{</span><span class="string" id="8356108">&#34;0&#34;</span><span class="op" id="8356111">,</span>&nbsp;<span class="string" id="8356113">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="8356150">}</span><span class="op" id="8356151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356154">{</span><span class="string" id="8356155">&#34;0g&#34;</span><span class="op" id="8356159">,</span>&nbsp;<span class="string" id="8356161">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="8356201">}</span><span class="op" id="8356202">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356205">{</span><span class="string" id="8356206">&#34;00gg&#34;</span><span class="op" id="8356212">,</span>&nbsp;<span class="string" id="8356214">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="8356254">}</span><span class="op" id="8356255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356258">{</span><span class="string" id="8356259">&#34;0\x01&#34;</span><span class="op" id="8356266">,</span>&nbsp;<span class="string" id="8356268">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="8356304">}</span><span class="op" id="8356305">,</span><br>
<span class="lineno"></span><span class="op" id="8356307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8356310">func</span>&nbsp;<span class="ident" id="8356315">TestInvalidErr</span><span class="op" id="8356329">(</span><span class="ident" id="8356330">t</span>&nbsp;<span class="op" id="8356332">*</span><span class="ident" id="8356333">testing</span><span class="op" id="8356340">.</span><span class="ident" id="8356341">T</span><span class="op" id="8356342">)</span>&nbsp;<span class="op" id="8356344">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356347">for</span>&nbsp;<span class="ident" id="8356351">i</span><span class="op" id="8356352">,</span>&nbsp;<span class="ident" id="8356354">test</span>&nbsp;<span class="op" id="8356359">:=</span>&nbsp;<span class="keyword" id="8356362">range</span>&nbsp;<span class="ident" id="8356368">errTests</span>&nbsp;<span class="op" id="8356377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356381">dst</span>&nbsp;<span class="op" id="8356385">:=</span>&nbsp;<span class="builtinfunc" id="8356388">make</span><span class="op" id="8356392">(</span><span class="op" id="8356393">[</span><span class="op" id="8356394">]</span><span class="builtintype" id="8356395">byte</span><span class="op" id="8356399">,</span>&nbsp;<span class="ident" id="8356401">DecodedLen</span><span class="op" id="8356411">(</span><span class="builtinfunc" id="8356412">len</span><span class="op" id="8356415">(</span><span class="ident" id="8356416">test</span><span class="op" id="8356420">.</span><span class="ident" id="8356421">in</span><span class="op" id="8356423">)</span><span class="op" id="8356424">)</span><span class="op" id="8356425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356429">_</span><span class="op" id="8356430">,</span>&nbsp;<span class="ident" id="8356432">err</span>&nbsp;<span class="op" id="8356436">:=</span>&nbsp;<span class="ident" id="8356439">Decode</span><span class="op" id="8356445">(</span><span class="ident" id="8356446">dst</span><span class="op" id="8356449">,</span>&nbsp;<span class="op" id="8356451">[</span><span class="op" id="8356452">]</span><span class="builtintype" id="8356453">byte</span><span class="op" id="8356457">(</span><span class="ident" id="8356458">test</span><span class="op" id="8356462">.</span><span class="ident" id="8356463">in</span><span class="op" id="8356465">)</span><span class="op" id="8356466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356470">if</span>&nbsp;<span class="ident" id="8356473">err</span>&nbsp;<span class="op" id="8356477">==</span>&nbsp;<span class="builtintype" id="8356480">nil</span>&nbsp;<span class="op" id="8356484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356489">t</span><span class="op" id="8356490">.</span><span class="ident" id="8356491">Errorf</span><span class="op" id="8356497">(</span><span class="string" id="8356498">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8356529">,</span>&nbsp;<span class="ident" id="8356531">i</span><span class="op" id="8356532">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356536">}</span>&nbsp;<span class="keyword" id="8356538">else</span>&nbsp;<span class="keyword" id="8356543">if</span>&nbsp;<span class="ident" id="8356546">err</span><span class="op" id="8356549">.</span><span class="ident" id="8356550">Error</span><span class="op" id="8356555">(</span><span class="op" id="8356556">)</span>&nbsp;<span class="op" id="8356558">!=</span>&nbsp;<span class="ident" id="8356561">test</span><span class="op" id="8356565">.</span><span class="ident" id="8356566">err</span>&nbsp;<span class="op" id="8356570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356575">t</span><span class="op" id="8356576">.</span><span class="ident" id="8356577">Errorf</span><span class="op" id="8356583">(</span><span class="string" id="8356584">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="8356607">,</span>&nbsp;<span class="ident" id="8356609">i</span><span class="op" id="8356610">,</span>&nbsp;<span class="ident" id="8356612">err</span><span class="op" id="8356615">,</span>&nbsp;<span class="ident" id="8356617">test</span><span class="op" id="8356621">.</span><span class="ident" id="8356622">err</span><span class="op" id="8356625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356632">}</span><br>
<span class="lineno"></span><span class="op" id="8356634">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="8356637">func</span>&nbsp;<span class="ident" id="8356642">TestInvalidStringErr</span><span class="op" id="8356662">(</span><span class="ident" id="8356663">t</span>&nbsp;<span class="op" id="8356665">*</span><span class="ident" id="8356666">testing</span><span class="op" id="8356673">.</span><span class="ident" id="8356674">T</span><span class="op" id="8356675">)</span>&nbsp;<span class="op" id="8356677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356680">for</span>&nbsp;<span class="ident" id="8356684">i</span><span class="op" id="8356685">,</span>&nbsp;<span class="ident" id="8356687">test</span>&nbsp;<span class="op" id="8356692">:=</span>&nbsp;<span class="keyword" id="8356695">range</span>&nbsp;<span class="ident" id="8356701">errTests</span>&nbsp;<span class="op" id="8356710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356714">_</span><span class="op" id="8356715">,</span>&nbsp;<span class="ident" id="8356717">err</span>&nbsp;<span class="op" id="8356721">:=</span>&nbsp;<span class="ident" id="8356724">DecodeString</span><span class="op" id="8356736">(</span><span class="ident" id="8356737">test</span><span class="op" id="8356741">.</span><span class="ident" id="8356742">in</span><span class="op" id="8356744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356748">if</span>&nbsp;<span class="ident" id="8356751">err</span>&nbsp;<span class="op" id="8356755">==</span>&nbsp;<span class="builtintype" id="8356758">nil</span>&nbsp;<span class="op" id="8356762">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356767">t</span><span class="op" id="8356768">.</span><span class="ident" id="8356769">Errorf</span><span class="op" id="8356775">(</span><span class="string" id="8356776">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8356807">,</span>&nbsp;<span class="ident" id="8356809">i</span><span class="op" id="8356810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356814">}</span>&nbsp;<span class="keyword" id="8356816">else</span>&nbsp;<span class="keyword" id="8356821">if</span>&nbsp;<span class="ident" id="8356824">err</span><span class="op" id="8356827">.</span><span class="ident" id="8356828">Error</span><span class="op" id="8356833">(</span><span class="op" id="8356834">)</span>&nbsp;<span class="op" id="8356836">!=</span>&nbsp;<span class="ident" id="8356839">test</span><span class="op" id="8356843">.</span><span class="ident" id="8356844">err</span>&nbsp;<span class="op" id="8356848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356853">t</span><span class="op" id="8356854">.</span><span class="ident" id="8356855">Errorf</span><span class="op" id="8356861">(</span><span class="string" id="8356862">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="8356885">,</span>&nbsp;<span class="ident" id="8356887">i</span><span class="op" id="8356888">,</span>&nbsp;<span class="ident" id="8356890">err</span><span class="op" id="8356893">,</span>&nbsp;<span class="ident" id="8356895">test</span><span class="op" id="8356899">.</span><span class="ident" id="8356900">err</span><span class="op" id="8356903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356910">}</span><br>
<span class="lineno">110</span><span class="op" id="8356912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8356915">func</span>&nbsp;<span class="ident" id="8356920">TestDumper</span><span class="op" id="8356930">(</span><span class="ident" id="8356931">t</span>&nbsp;<span class="op" id="8356933">*</span><span class="ident" id="8356934">testing</span><span class="op" id="8356941">.</span><span class="ident" id="8356942">T</span><span class="op" id="8356943">)</span>&nbsp;<span class="op" id="8356945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356948">var</span>&nbsp;<span class="ident" id="8356952">in</span>&nbsp;<span class="op" id="8356955">[</span><span class="num" id="8356956">40</span><span class="op" id="8356958">]</span><span class="builtintype" id="8356959">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356965">for</span>&nbsp;<span class="ident" id="8356969">i</span>&nbsp;<span class="op" id="8356971">:=</span>&nbsp;<span class="keyword" id="8356974">range</span>&nbsp;<span class="ident" id="8356980">in</span>&nbsp;<span class="op" id="8356983">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356987">in</span><span class="op" id="8356989">[</span><span class="ident" id="8356990">i</span><span class="op" id="8356991">]</span>&nbsp;<span class="op" id="8356993">=</span>&nbsp;<span class="builtintype" id="8356995">byte</span><span class="op" id="8356999">(</span><span class="ident" id="8357000">i</span>&nbsp;<span class="op" id="8357002">+</span>&nbsp;<span class="num" id="8357004">30</span><span class="op" id="8357006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357013">for</span>&nbsp;<span class="ident" id="8357017">stride</span>&nbsp;<span class="op" id="8357024">:=</span>&nbsp;<span class="num" id="8357027">1</span><span class="op" id="8357028">;</span>&nbsp;<span class="ident" id="8357030">stride</span>&nbsp;<span class="op" id="8357037">&lt;</span>&nbsp;<span class="builtinfunc" id="8357039">len</span><span class="op" id="8357042">(</span><span class="ident" id="8357043">in</span><span class="op" id="8357045">)</span><span class="op" id="8357046">;</span>&nbsp;<span class="ident" id="8357048">stride</span><span class="op" id="8357054">++</span>&nbsp;<span class="op" id="8357057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357061">var</span>&nbsp;<span class="ident" id="8357065">out</span>&nbsp;<span class="ident" id="8357069">bytes</span><span class="op" id="8357074">.</span><span class="ident" id="8357075">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357084">dumper</span>&nbsp;<span class="op" id="8357091">:=</span>&nbsp;<span class="ident" id="8357094">Dumper</span><span class="op" id="8357100">(</span><span class="op" id="8357101">&amp;</span><span class="ident" id="8357102">out</span><span class="op" id="8357105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357109">done</span>&nbsp;<span class="op" id="8357114">:=</span>&nbsp;<span class="num" id="8357117">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357121">for</span>&nbsp;<span class="ident" id="8357125">done</span>&nbsp;<span class="op" id="8357130">&lt;</span>&nbsp;<span class="builtinfunc" id="8357132">len</span><span class="op" id="8357135">(</span><span class="ident" id="8357136">in</span><span class="op" id="8357138">)</span>&nbsp;<span class="op" id="8357140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357145">todo</span>&nbsp;<span class="op" id="8357150">:=</span>&nbsp;<span class="ident" id="8357153">done</span>&nbsp;<span class="op" id="8357158">+</span>&nbsp;<span class="ident" id="8357160">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357170">if</span>&nbsp;<span class="ident" id="8357173">todo</span>&nbsp;<span class="op" id="8357178">&gt;</span>&nbsp;<span class="builtinfunc" id="8357180">len</span><span class="op" id="8357183">(</span><span class="ident" id="8357184">in</span><span class="op" id="8357186">)</span>&nbsp;<span class="op" id="8357188">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357194">todo</span>&nbsp;<span class="op" id="8357199">=</span>&nbsp;<span class="builtinfunc" id="8357201">len</span><span class="op" id="8357204">(</span><span class="ident" id="8357205">in</span><span class="op" id="8357207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357217">dumper</span><span class="op" id="8357223">.</span><span class="ident" id="8357224">Write</span><span class="op" id="8357229">(</span><span class="ident" id="8357230">in</span><span class="op" id="8357232">[</span><span class="ident" id="8357233">done</span><span class="op" id="8357237">:</span><span class="ident" id="8357238">todo</span><span class="op" id="8357242">]</span><span class="op" id="8357243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357248">done</span>&nbsp;<span class="op" id="8357253">=</span>&nbsp;<span class="ident" id="8357255">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357262">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357267">dumper</span><span class="op" id="8357273">.</span><span class="ident" id="8357274">Close</span><span class="op" id="8357279">(</span><span class="op" id="8357280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357284">if</span>&nbsp;<span class="op" id="8357287">!</span><span class="ident" id="8357288">bytes</span><span class="op" id="8357293">.</span><span class="ident" id="8357294">Equal</span><span class="op" id="8357299">(</span><span class="ident" id="8357300">out</span><span class="op" id="8357303">.</span><span class="ident" id="8357304">Bytes</span><span class="op" id="8357309">(</span><span class="op" id="8357310">)</span><span class="op" id="8357311">,</span>&nbsp;<span class="ident" id="8357313">expectedHexDump</span><span class="op" id="8357328">)</span>&nbsp;<span class="op" id="8357330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357335">t</span><span class="op" id="8357336">.</span><span class="ident" id="8357337">Errorf</span><span class="op" id="8357343">(</span><span class="string" id="8357344">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="8357384">,</span>&nbsp;<span class="ident" id="8357386">stride</span><span class="op" id="8357392">,</span>&nbsp;<span class="ident" id="8357394">out</span><span class="op" id="8357397">.</span><span class="ident" id="8357398">Bytes</span><span class="op" id="8357403">(</span><span class="op" id="8357404">)</span><span class="op" id="8357405">,</span>&nbsp;<span class="ident" id="8357407">expectedHexDump</span><span class="op" id="8357422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357426">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357429">}</span><br>
<span class="lineno"></span><span class="op" id="8357431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8357434">func</span>&nbsp;<span class="ident" id="8357439">TestDump</span><span class="op" id="8357447">(</span><span class="ident" id="8357448">t</span>&nbsp;<span class="op" id="8357450">*</span><span class="ident" id="8357451">testing</span><span class="op" id="8357458">.</span><span class="ident" id="8357459">T</span><span class="op" id="8357460">)</span>&nbsp;<span class="op" id="8357462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357465">var</span>&nbsp;<span class="ident" id="8357469">in</span>&nbsp;<span class="op" id="8357472">[</span><span class="num" id="8357473">40</span><span class="op" id="8357475">]</span><span class="builtintype" id="8357476">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357482">for</span>&nbsp;<span class="ident" id="8357486">i</span>&nbsp;<span class="op" id="8357488">:=</span>&nbsp;<span class="keyword" id="8357491">range</span>&nbsp;<span class="ident" id="8357497">in</span>&nbsp;<span class="op" id="8357500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357504">in</span><span class="op" id="8357506">[</span><span class="ident" id="8357507">i</span><span class="op" id="8357508">]</span>&nbsp;<span class="op" id="8357510">=</span>&nbsp;<span class="builtintype" id="8357512">byte</span><span class="op" id="8357516">(</span><span class="ident" id="8357517">i</span>&nbsp;<span class="op" id="8357519">+</span>&nbsp;<span class="num" id="8357521">30</span><span class="op" id="8357523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357530">out</span>&nbsp;<span class="op" id="8357534">:=</span>&nbsp;<span class="op" id="8357537">[</span><span class="op" id="8357538">]</span><span class="builtintype" id="8357539">byte</span><span class="op" id="8357543">(</span><span class="ident" id="8357544">Dump</span><span class="op" id="8357548">(</span><span class="ident" id="8357549">in</span><span class="op" id="8357551">[</span><span class="op" id="8357552">:</span><span class="op" id="8357553">]</span><span class="op" id="8357554">)</span><span class="op" id="8357555">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357558">if</span>&nbsp;<span class="op" id="8357561">!</span><span class="ident" id="8357562">bytes</span><span class="op" id="8357567">.</span><span class="ident" id="8357568">Equal</span><span class="op" id="8357573">(</span><span class="ident" id="8357574">out</span><span class="op" id="8357577">,</span>&nbsp;<span class="ident" id="8357579">expectedHexDump</span><span class="op" id="8357594">)</span>&nbsp;<span class="op" id="8357596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357600">t</span><span class="op" id="8357601">.</span><span class="ident" id="8357602">Errorf</span><span class="op" id="8357608">(</span><span class="string" id="8357609">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="8357630">,</span>&nbsp;<span class="ident" id="8357632">out</span><span class="op" id="8357635">,</span>&nbsp;<span class="ident" id="8357637">expectedHexDump</span><span class="op" id="8357652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357655">}</span><br>
<span class="lineno"></span><span class="op" id="8357657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="8357660">var</span>&nbsp;<span class="ident" id="8357664">expectedHexDump</span>&nbsp;<span class="op" id="8357680">=</span>&nbsp;<span class="op" id="8357682">[</span><span class="op" id="8357683">]</span><span class="builtintype" id="8357684">byte</span><span class="op" id="8357688">(</span><span class="string" id="8357689">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="8357920">)</span>
</div>
</body>
</html>
