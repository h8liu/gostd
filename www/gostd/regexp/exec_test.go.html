<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6722901">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6722956">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6723010">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6723061">package</span>&nbsp;<span class="ident" id="6723069">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6723077">import</span>&nbsp;<span class="op" id="6723084">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723087">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723096">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723114">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723121">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723127">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723133">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723150">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723167">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723178">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723189">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6723200">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6723215">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6723218">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="6723280">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="6723348">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="6723414">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="6723478">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6723546">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="6723610">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="6723682">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="6723753">//</span><br>
<span class="lineno">30</span><span class="comment" id="6723756">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="6723811">//</span><br>
<span class="lineno"></span><span class="comment" id="6723814">//&nbsp;&nbsp;&nbsp;&nbspstrings</span><br>
<span class="lineno"></span><span class="comment" id="6723825">//&nbsp;&nbsp;&nbsp;&nbsp&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="6723834">//&nbsp;&nbsp;&nbsp;&nbsp&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="6723844">//&nbsp;&nbsp;&nbsp;&nbspregexps</span><br>
<span class="lineno"></span><span class="comment" id="6723855">//&nbsp;&nbsp;&nbsp;&nbsp&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="6723867">//&nbsp;&nbsp;&nbsp;&nbsp0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="6723878">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="6723885">//&nbsp;&nbsp;&nbsp;&nbsp&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="6723912">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="6723919">//&nbsp;&nbsp;&nbsp;&nbsp-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="6723940">//</span><br>
<span class="lineno"></span><span class="comment" id="6723943">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="6724001">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="6724058">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="6724115">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="6724178">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="6724236">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="6724279">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="6724345">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="6724403">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="6724460">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="6724520">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6724577">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="6724644">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="6724709">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="6724758">//</span><br>
<span class="lineno"></span><span class="comment" id="6724761">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="6724823">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="6724890">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="6724938">//</span><br>
<span class="lineno"></span><span class="comment" id="6724941">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="6725007">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="6725081">//</span><br>
<span class="lineno">65</span><span class="keyword" id="6725084">func</span>&nbsp;<span class="ident" id="6725089">TestRE2Search</span><span class="op" id="6725102">(</span><span class="ident" id="6725103">t</span>&nbsp;<span class="op" id="6725105">*</span><span class="ident" id="6725106">testing</span><span class="op" id="6725113">.</span><span class="ident" id="6725114">T</span><span class="op" id="6725115">)</span>&nbsp;<span class="op" id="6725117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725120">testRE2</span><span class="op" id="6725127">(</span><span class="ident" id="6725128">t</span><span class="op" id="6725129">,</span>&nbsp;<span class="string" id="6725131">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="6725156">)</span><br>
<span class="lineno"></span><span class="op" id="6725158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6725161">func</span>&nbsp;<span class="ident" id="6725166">testRE2</span><span class="op" id="6725173">(</span><span class="ident" id="6725174">t</span>&nbsp;<span class="op" id="6725176">*</span><span class="ident" id="6725177">testing</span><span class="op" id="6725184">.</span><span class="ident" id="6725185">T</span><span class="op" id="6725186">,</span>&nbsp;<span class="ident" id="6725188">file</span>&nbsp;<span class="builtintype" id="6725193">string</span><span class="op" id="6725199">)</span>&nbsp;<span class="op" id="6725201">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725204">f</span><span class="op" id="6725205">,</span>&nbsp;<span class="ident" id="6725207">err</span>&nbsp;<span class="op" id="6725211">:=</span>&nbsp;<span class="ident" id="6725214">os</span><span class="op" id="6725216">.</span><span class="ident" id="6725217">Open</span><span class="op" id="6725221">(</span><span class="ident" id="6725222">file</span><span class="op" id="6725226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725229">if</span>&nbsp;<span class="ident" id="6725232">err</span>&nbsp;<span class="op" id="6725236">!=</span>&nbsp;<span class="ident" id="6725239">nil</span>&nbsp;<span class="op" id="6725243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725247">t</span><span class="op" id="6725248">.</span><span class="ident" id="6725249">Fatal</span><span class="op" id="6725254">(</span><span class="ident" id="6725255">err</span><span class="op" id="6725258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6725261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725264">defer</span>&nbsp;<span class="ident" id="6725270">f</span><span class="op" id="6725271">.</span><span class="ident" id="6725272">Close</span><span class="op" id="6725277">(</span><span class="op" id="6725278">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725281">var</span>&nbsp;<span class="ident" id="6725285">txt</span>&nbsp;<span class="ident" id="6725289">io</span><span class="op" id="6725291">.</span><span class="ident" id="6725292">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725300">if</span>&nbsp;<span class="ident" id="6725303">strings</span><span class="op" id="6725310">.</span><span class="ident" id="6725311">HasSuffix</span><span class="op" id="6725320">(</span><span class="ident" id="6725321">file</span><span class="op" id="6725325">,</span>&nbsp;<span class="string" id="6725327">&#34;.bz2&#34;</span><span class="op" id="6725333">)</span>&nbsp;<span class="op" id="6725335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725339">z</span>&nbsp;<span class="op" id="6725341">:=</span>&nbsp;<span class="ident" id="6725344">bzip2</span><span class="op" id="6725349">.</span><span class="ident" id="6725350">NewReader</span><span class="op" id="6725359">(</span><span class="ident" id="6725360">f</span><span class="op" id="6725361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725365">txt</span>&nbsp;<span class="op" id="6725369">=</span>&nbsp;<span class="ident" id="6725371">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725375">file</span>&nbsp;<span class="op" id="6725380">=</span>&nbsp;<span class="ident" id="6725382">file</span><span class="op" id="6725386">[</span><span class="op" id="6725387">:</span><span class="builtinfunc" id="6725388">len</span><span class="op" id="6725391">(</span><span class="ident" id="6725392">file</span><span class="op" id="6725396">)</span><span class="op" id="6725397">-</span><span class="builtinfunc" id="6725398">len</span><span class="op" id="6725401">(</span><span class="string" id="6725402">&#34;.bz2&#34;</span><span class="op" id="6725408">)</span><span class="op" id="6725409">]</span>&nbsp;<span class="comment" id="6725411">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6725434">}</span>&nbsp;<span class="keyword" id="6725436">else</span>&nbsp;<span class="op" id="6725441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725445">txt</span>&nbsp;<span class="op" id="6725449">=</span>&nbsp;<span class="ident" id="6725451">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6725454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725457">lineno</span>&nbsp;<span class="op" id="6725464">:=</span>&nbsp;<span class="num" id="6725467">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725470">scanner</span>&nbsp;<span class="op" id="6725478">:=</span>&nbsp;<span class="ident" id="6725481">bufio</span><span class="op" id="6725486">.</span><span class="ident" id="6725487">NewScanner</span><span class="op" id="6725497">(</span><span class="ident" id="6725498">txt</span><span class="op" id="6725501">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725504">var</span>&nbsp;<span class="op" id="6725508">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725512">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6725522">[</span><span class="op" id="6725523">]</span><span class="builtintype" id="6725524">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725533">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6725543">[</span><span class="op" id="6725544">]</span><span class="builtintype" id="6725545">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725554">inStrings</span>&nbsp;<span class="builtintype" id="6725564">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725571">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6725581">*</span><span class="ident" id="6725582">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725591">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6725601">*</span><span class="ident" id="6725602">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725611">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6725621">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725627">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6725637">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6725642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725645">for</span>&nbsp;<span class="ident" id="6725649">lineno</span>&nbsp;<span class="op" id="6725656">:=</span>&nbsp;<span class="num" id="6725659">1</span><span class="op" id="6725660">;</span>&nbsp;<span class="ident" id="6725662">scanner</span><span class="op" id="6725669">.</span><span class="ident" id="6725670">Scan</span><span class="op" id="6725674">(</span><span class="op" id="6725675">)</span><span class="op" id="6725676">;</span>&nbsp;<span class="ident" id="6725678">lineno</span><span class="op" id="6725684">++</span>&nbsp;<span class="op" id="6725687">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725691">line</span>&nbsp;<span class="op" id="6725696">:=</span>&nbsp;<span class="ident" id="6725699">scanner</span><span class="op" id="6725706">.</span><span class="ident" id="6725707">Text</span><span class="op" id="6725711">(</span><span class="op" id="6725712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725716">switch</span>&nbsp;<span class="op" id="6725723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725727">case</span>&nbsp;<span class="ident" id="6725732">line</span>&nbsp;<span class="op" id="6725737">==</span>&nbsp;<span class="string" id="6725740">&#34;&#34;</span><span class="op" id="6725742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725747">t</span><span class="op" id="6725748">.</span><span class="ident" id="6725749">Fatalf</span><span class="op" id="6725755">(</span><span class="string" id="6725756">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="6725786">,</span>&nbsp;<span class="ident" id="6725788">file</span><span class="op" id="6725792">,</span>&nbsp;<span class="ident" id="6725794">lineno</span><span class="op" id="6725800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725804">case</span>&nbsp;<span class="ident" id="6725809">line</span><span class="op" id="6725813">[</span><span class="num" id="6725814">0</span><span class="op" id="6725815">]</span>&nbsp;<span class="op" id="6725817">==</span>&nbsp;<span class="string" id="6725820">&#39;#&#39;</span><span class="op" id="6725823">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725828">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725839">case</span>&nbsp;<span class="string" id="6725844">&#39;A&#39;</span>&nbsp;<span class="op" id="6725848">&lt;=</span>&nbsp;<span class="ident" id="6725851">line</span><span class="op" id="6725855">[</span><span class="num" id="6725856">0</span><span class="op" id="6725857">]</span>&nbsp;<span class="op" id="6725859">&amp;&amp;</span>&nbsp;<span class="ident" id="6725862">line</span><span class="op" id="6725866">[</span><span class="num" id="6725867">0</span><span class="op" id="6725868">]</span>&nbsp;<span class="op" id="6725870">&lt;=</span>&nbsp;<span class="string" id="6725873">&#39;Z&#39;</span><span class="op" id="6725876">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6725881">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725898">t</span><span class="op" id="6725899">.</span><span class="ident" id="6725900">Logf</span><span class="op" id="6725904">(</span><span class="string" id="6725905">&#34;%s\n&#34;</span><span class="op" id="6725911">,</span>&nbsp;<span class="ident" id="6725913">line</span><span class="op" id="6725917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725922">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725933">case</span>&nbsp;<span class="ident" id="6725938">line</span>&nbsp;<span class="op" id="6725943">==</span>&nbsp;<span class="string" id="6725946">&#34;strings&#34;</span><span class="op" id="6725955">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725960">str</span>&nbsp;<span class="op" id="6725964">=</span>&nbsp;<span class="ident" id="6725966">str</span><span class="op" id="6725969">[</span><span class="op" id="6725970">:</span><span class="num" id="6725971">0</span><span class="op" id="6725972">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6725977">inStrings</span>&nbsp;<span class="op" id="6725987">=</span>&nbsp;<span class="builtintype" id="6725989">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6725996">case</span>&nbsp;<span class="ident" id="6726001">line</span>&nbsp;<span class="op" id="6726006">==</span>&nbsp;<span class="string" id="6726009">&#34;regexps&#34;</span><span class="op" id="6726018">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726023">inStrings</span>&nbsp;<span class="op" id="6726033">=</span>&nbsp;<span class="builtintype" id="6726035">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726043">case</span>&nbsp;<span class="ident" id="6726048">line</span><span class="op" id="6726052">[</span><span class="num" id="6726053">0</span><span class="op" id="6726054">]</span>&nbsp;<span class="op" id="6726056">==</span>&nbsp;<span class="string" id="6726059">&#39;&#34;&#39;</span><span class="op" id="6726062">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726067">q</span><span class="op" id="6726068">,</span>&nbsp;<span class="ident" id="6726070">err</span>&nbsp;<span class="op" id="6726074">:=</span>&nbsp;<span class="ident" id="6726077">strconv</span><span class="op" id="6726084">.</span><span class="ident" id="6726085">Unquote</span><span class="op" id="6726092">(</span><span class="ident" id="6726093">line</span><span class="op" id="6726097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726102">if</span>&nbsp;<span class="ident" id="6726105">err</span>&nbsp;<span class="op" id="6726109">!=</span>&nbsp;<span class="ident" id="6726112">nil</span>&nbsp;<span class="op" id="6726116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6726122">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726166">t</span><span class="op" id="6726167">.</span><span class="ident" id="6726168">Fatalf</span><span class="op" id="6726174">(</span><span class="string" id="6726175">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6726198">,</span>&nbsp;<span class="ident" id="6726200">file</span><span class="op" id="6726204">,</span>&nbsp;<span class="ident" id="6726206">lineno</span><span class="op" id="6726212">,</span>&nbsp;<span class="ident" id="6726214">line</span><span class="op" id="6726218">,</span>&nbsp;<span class="ident" id="6726220">err</span><span class="op" id="6726223">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726233">if</span>&nbsp;<span class="ident" id="6726236">inStrings</span>&nbsp;<span class="op" id="6726246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726252">str</span>&nbsp;<span class="op" id="6726256">=</span>&nbsp;<span class="builtinfunc" id="6726258">append</span><span class="op" id="6726264">(</span><span class="ident" id="6726265">str</span><span class="op" id="6726268">,</span>&nbsp;<span class="ident" id="6726270">q</span><span class="op" id="6726271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726277">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726289">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6726294">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726313">if</span>&nbsp;<span class="builtinfunc" id="6726316">len</span><span class="op" id="6726319">(</span><span class="ident" id="6726320">input</span><span class="op" id="6726325">)</span>&nbsp;<span class="op" id="6726327">!=</span>&nbsp;<span class="num" id="6726330">0</span>&nbsp;<span class="op" id="6726332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726338">t</span><span class="op" id="6726339">.</span><span class="ident" id="6726340">Fatalf</span><span class="op" id="6726346">(</span><span class="string" id="6726347">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="6726400">,</span>&nbsp;<span class="ident" id="6726402">file</span><span class="op" id="6726406">,</span>&nbsp;<span class="ident" id="6726408">lineno</span><span class="op" id="6726414">,</span>&nbsp;<span class="builtinfunc" id="6726416">len</span><span class="op" id="6726419">(</span><span class="ident" id="6726420">input</span><span class="op" id="6726425">)</span><span class="op" id="6726426">,</span>&nbsp;<span class="ident" id="6726428">q</span><span class="op" id="6726429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726439">re</span><span class="op" id="6726441">,</span>&nbsp;<span class="ident" id="6726443">err</span>&nbsp;<span class="op" id="6726447">=</span>&nbsp;<span class="ident" id="6726449">tryCompile</span><span class="op" id="6726459">(</span><span class="ident" id="6726460">q</span><span class="op" id="6726461">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726466">if</span>&nbsp;<span class="ident" id="6726469">err</span>&nbsp;<span class="op" id="6726473">!=</span>&nbsp;<span class="ident" id="6726476">nil</span>&nbsp;<span class="op" id="6726480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726486">if</span>&nbsp;<span class="ident" id="6726489">err</span><span class="op" id="6726492">.</span><span class="ident" id="6726493">Error</span><span class="op" id="6726498">(</span><span class="op" id="6726499">)</span>&nbsp;<span class="op" id="6726501">==</span>&nbsp;<span class="string" id="6726504">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="6726559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6726566">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726629">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726642">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726648">t</span><span class="op" id="6726649">.</span><span class="ident" id="6726650">Errorf</span><span class="op" id="6726656">(</span><span class="string" id="6726657">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="6726681">,</span>&nbsp;<span class="ident" id="6726683">file</span><span class="op" id="6726687">,</span>&nbsp;<span class="ident" id="6726689">lineno</span><span class="op" id="6726695">,</span>&nbsp;<span class="ident" id="6726697">q</span><span class="op" id="6726698">,</span>&nbsp;<span class="ident" id="6726700">err</span><span class="op" id="6726703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726709">if</span>&nbsp;<span class="ident" id="6726712">nfail</span><span class="op" id="6726717">++</span><span class="op" id="6726719">;</span>&nbsp;<span class="ident" id="6726721">nfail</span>&nbsp;<span class="op" id="6726727">&gt;=</span>&nbsp;<span class="num" id="6726730">100</span>&nbsp;<span class="op" id="6726734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726741">t</span><span class="op" id="6726742">.</span><span class="ident" id="6726743">Fatalf</span><span class="op" id="6726749">(</span><span class="string" id="6726750">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6726776">,</span>&nbsp;<span class="ident" id="6726778">nfail</span><span class="op" id="6726783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726795">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726812">full</span>&nbsp;<span class="op" id="6726817">:=</span>&nbsp;<span class="string" id="6726820">`\A(?:`</span>&nbsp;<span class="op" id="6726828">+</span>&nbsp;<span class="ident" id="6726830">q</span>&nbsp;<span class="op" id="6726832">+</span>&nbsp;<span class="string" id="6726834">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726843">refull</span><span class="op" id="6726849">,</span>&nbsp;<span class="ident" id="6726851">err</span>&nbsp;<span class="op" id="6726855">=</span>&nbsp;<span class="ident" id="6726857">tryCompile</span><span class="op" id="6726867">(</span><span class="ident" id="6726868">full</span><span class="op" id="6726872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726877">if</span>&nbsp;<span class="ident" id="6726880">err</span>&nbsp;<span class="op" id="6726884">!=</span>&nbsp;<span class="ident" id="6726887">nil</span>&nbsp;<span class="op" id="6726891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6726897">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726956">t</span><span class="op" id="6726957">.</span><span class="ident" id="6726958">Fatalf</span><span class="op" id="6726964">(</span><span class="string" id="6726965">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="6726994">,</span>&nbsp;<span class="ident" id="6726996">file</span><span class="op" id="6727000">,</span>&nbsp;<span class="ident" id="6727002">lineno</span><span class="op" id="6727008">,</span>&nbsp;<span class="ident" id="6727010">full</span><span class="op" id="6727014">,</span>&nbsp;<span class="ident" id="6727016">err</span><span class="op" id="6727019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727029">input</span>&nbsp;<span class="op" id="6727035">=</span>&nbsp;<span class="ident" id="6727037">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727043">case</span>&nbsp;<span class="ident" id="6727048">line</span><span class="op" id="6727052">[</span><span class="num" id="6727053">0</span><span class="op" id="6727054">]</span>&nbsp;<span class="op" id="6727056">==</span>&nbsp;<span class="string" id="6727059">&#39;-&#39;</span>&nbsp;<span class="op" id="6727063">||</span>&nbsp;<span class="string" id="6727066">&#39;0&#39;</span>&nbsp;<span class="op" id="6727070">&lt;=</span>&nbsp;<span class="ident" id="6727073">line</span><span class="op" id="6727077">[</span><span class="num" id="6727078">0</span><span class="op" id="6727079">]</span>&nbsp;<span class="op" id="6727081">&amp;&amp;</span>&nbsp;<span class="ident" id="6727084">line</span><span class="op" id="6727088">[</span><span class="num" id="6727089">0</span><span class="op" id="6727090">]</span>&nbsp;<span class="op" id="6727092">&lt;=</span>&nbsp;<span class="string" id="6727095">&#39;9&#39;</span><span class="op" id="6727098">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727103">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727138">ncase</span><span class="op" id="6727143">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727149">if</span>&nbsp;<span class="ident" id="6727152">re</span>&nbsp;<span class="op" id="6727155">==</span>&nbsp;<span class="ident" id="6727158">nil</span>&nbsp;<span class="op" id="6727162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727168">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727208">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727220">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727225">if</span>&nbsp;<span class="builtinfunc" id="6727228">len</span><span class="op" id="6727231">(</span><span class="ident" id="6727232">input</span><span class="op" id="6727237">)</span>&nbsp;<span class="op" id="6727239">==</span>&nbsp;<span class="num" id="6727242">0</span>&nbsp;<span class="op" id="6727244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727250">t</span><span class="op" id="6727251">.</span><span class="ident" id="6727252">Fatalf</span><span class="op" id="6727258">(</span><span class="string" id="6727259">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="6727299">,</span>&nbsp;<span class="ident" id="6727301">file</span><span class="op" id="6727305">,</span>&nbsp;<span class="ident" id="6727307">lineno</span><span class="op" id="6727313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727323">var</span>&nbsp;<span class="ident" id="6727327">text</span>&nbsp;<span class="builtintype" id="6727332">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727342">text</span><span class="op" id="6727346">,</span>&nbsp;<span class="ident" id="6727348">input</span>&nbsp;<span class="op" id="6727354">=</span>&nbsp;<span class="ident" id="6727356">input</span><span class="op" id="6727361">[</span><span class="num" id="6727362">0</span><span class="op" id="6727363">]</span><span class="op" id="6727364">,</span>&nbsp;<span class="ident" id="6727366">input</span><span class="op" id="6727371">[</span><span class="num" id="6727372">1</span><span class="op" id="6727373">:</span><span class="op" id="6727374">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727379">if</span>&nbsp;<span class="op" id="6727382">!</span><span class="ident" id="6727383">isSingleBytes</span><span class="op" id="6727396">(</span><span class="ident" id="6727397">text</span><span class="op" id="6727401">)</span>&nbsp;<span class="op" id="6727403">&amp;&amp;</span>&nbsp;<span class="ident" id="6727406">strings</span><span class="op" id="6727413">.</span><span class="ident" id="6727414">Contains</span><span class="op" id="6727422">(</span><span class="ident" id="6727423">re</span><span class="op" id="6727425">.</span><span class="ident" id="6727426">String</span><span class="op" id="6727432">(</span><span class="op" id="6727433">)</span><span class="op" id="6727434">,</span>&nbsp;<span class="string" id="6727436">`\B`</span><span class="op" id="6727440">)</span>&nbsp;<span class="op" id="6727442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727448">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727495">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727540">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727588">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727639">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727682">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727699">res</span>&nbsp;<span class="op" id="6727703">:=</span>&nbsp;<span class="ident" id="6727706">strings</span><span class="op" id="6727713">.</span><span class="ident" id="6727714">Split</span><span class="op" id="6727719">(</span><span class="ident" id="6727720">line</span><span class="op" id="6727724">,</span>&nbsp;<span class="string" id="6727726">&#34;;&#34;</span><span class="op" id="6727729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727734">if</span>&nbsp;<span class="builtinfunc" id="6727737">len</span><span class="op" id="6727740">(</span><span class="ident" id="6727741">res</span><span class="op" id="6727744">)</span>&nbsp;<span class="op" id="6727746">!=</span>&nbsp;<span class="builtinfunc" id="6727749">len</span><span class="op" id="6727752">(</span><span class="ident" id="6727753">run</span><span class="op" id="6727756">)</span>&nbsp;<span class="op" id="6727758">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727764">t</span><span class="op" id="6727765">.</span><span class="ident" id="6727766">Fatalf</span><span class="op" id="6727772">(</span><span class="string" id="6727773">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6727811">,</span>&nbsp;<span class="ident" id="6727813">file</span><span class="op" id="6727817">,</span>&nbsp;<span class="ident" id="6727819">lineno</span><span class="op" id="6727825">,</span>&nbsp;<span class="builtinfunc" id="6727827">len</span><span class="op" id="6727830">(</span><span class="ident" id="6727831">res</span><span class="op" id="6727834">)</span><span class="op" id="6727835">,</span>&nbsp;<span class="builtinfunc" id="6727837">len</span><span class="op" id="6727840">(</span><span class="ident" id="6727841">run</span><span class="op" id="6727844">)</span><span class="op" id="6727845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727855">for</span>&nbsp;<span class="ident" id="6727859">i</span>&nbsp;<span class="op" id="6727861">:=</span>&nbsp;<span class="keyword" id="6727864">range</span>&nbsp;<span class="ident" id="6727870">res</span>&nbsp;<span class="op" id="6727874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727880">have</span><span class="op" id="6727884">,</span>&nbsp;<span class="ident" id="6727886">suffix</span>&nbsp;<span class="op" id="6727893">:=</span>&nbsp;<span class="ident" id="6727896">run</span><span class="op" id="6727899">[</span><span class="ident" id="6727900">i</span><span class="op" id="6727901">]</span><span class="op" id="6727902">(</span><span class="ident" id="6727903">re</span><span class="op" id="6727905">,</span>&nbsp;<span class="ident" id="6727907">refull</span><span class="op" id="6727913">,</span>&nbsp;<span class="ident" id="6727915">text</span><span class="op" id="6727919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727925">want</span>&nbsp;<span class="op" id="6727930">:=</span>&nbsp;<span class="ident" id="6727933">parseResult</span><span class="op" id="6727944">(</span><span class="ident" id="6727945">t</span><span class="op" id="6727946">,</span>&nbsp;<span class="ident" id="6727948">file</span><span class="op" id="6727952">,</span>&nbsp;<span class="ident" id="6727954">lineno</span><span class="op" id="6727960">,</span>&nbsp;<span class="ident" id="6727962">res</span><span class="op" id="6727965">[</span><span class="ident" id="6727966">i</span><span class="op" id="6727967">]</span><span class="op" id="6727968">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727974">if</span>&nbsp;<span class="op" id="6727977">!</span><span class="ident" id="6727978">same</span><span class="op" id="6727982">(</span><span class="ident" id="6727983">have</span><span class="op" id="6727987">,</span>&nbsp;<span class="ident" id="6727989">want</span><span class="op" id="6727993">)</span>&nbsp;<span class="op" id="6727995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728002">t</span><span class="op" id="6728003">.</span><span class="ident" id="6728004">Errorf</span><span class="op" id="6728010">(</span><span class="string" id="6728011">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6728062">,</span>&nbsp;<span class="ident" id="6728064">file</span><span class="op" id="6728068">,</span>&nbsp;<span class="ident" id="6728070">lineno</span><span class="op" id="6728076">,</span>&nbsp;<span class="ident" id="6728078">re</span><span class="op" id="6728080">,</span>&nbsp;<span class="ident" id="6728082">suffix</span><span class="op" id="6728088">,</span>&nbsp;<span class="ident" id="6728090">text</span><span class="op" id="6728094">,</span>&nbsp;<span class="ident" id="6728096">have</span><span class="op" id="6728100">,</span>&nbsp;<span class="ident" id="6728102">want</span><span class="op" id="6728106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728113">if</span>&nbsp;<span class="ident" id="6728116">nfail</span><span class="op" id="6728121">++</span><span class="op" id="6728123">;</span>&nbsp;<span class="ident" id="6728125">nfail</span>&nbsp;<span class="op" id="6728131">&gt;=</span>&nbsp;<span class="num" id="6728134">100</span>&nbsp;<span class="op" id="6728138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728146">t</span><span class="op" id="6728147">.</span><span class="ident" id="6728148">Fatalf</span><span class="op" id="6728154">(</span><span class="string" id="6728155">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6728181">,</span>&nbsp;<span class="ident" id="6728183">nfail</span><span class="op" id="6728188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728195">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728202">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728221">b</span><span class="op" id="6728222">,</span>&nbsp;<span class="ident" id="6728224">suffix</span>&nbsp;<span class="op" id="6728231">:=</span>&nbsp;<span class="ident" id="6728234">match</span><span class="op" id="6728239">[</span><span class="ident" id="6728240">i</span><span class="op" id="6728241">]</span><span class="op" id="6728242">(</span><span class="ident" id="6728243">re</span><span class="op" id="6728245">,</span>&nbsp;<span class="ident" id="6728247">refull</span><span class="op" id="6728253">,</span>&nbsp;<span class="ident" id="6728255">text</span><span class="op" id="6728259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728265">if</span>&nbsp;<span class="ident" id="6728268">b</span>&nbsp;<span class="op" id="6728270">!=</span>&nbsp;<span class="op" id="6728273">(</span><span class="ident" id="6728274">want</span>&nbsp;<span class="op" id="6728279">!=</span>&nbsp;<span class="ident" id="6728282">nil</span><span class="op" id="6728285">)</span>&nbsp;<span class="op" id="6728287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728294">t</span><span class="op" id="6728295">.</span><span class="ident" id="6728296">Errorf</span><span class="op" id="6728302">(</span><span class="string" id="6728303">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6728348">,</span>&nbsp;<span class="ident" id="6728350">file</span><span class="op" id="6728354">,</span>&nbsp;<span class="ident" id="6728356">lineno</span><span class="op" id="6728362">,</span>&nbsp;<span class="ident" id="6728364">re</span><span class="op" id="6728366">,</span>&nbsp;<span class="ident" id="6728368">suffix</span><span class="op" id="6728374">,</span>&nbsp;<span class="ident" id="6728376">text</span><span class="op" id="6728380">,</span>&nbsp;<span class="ident" id="6728382">b</span><span class="op" id="6728383">,</span>&nbsp;<span class="op" id="6728385">!</span><span class="ident" id="6728386">b</span><span class="op" id="6728387">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728394">if</span>&nbsp;<span class="ident" id="6728397">nfail</span><span class="op" id="6728402">++</span><span class="op" id="6728404">;</span>&nbsp;<span class="ident" id="6728406">nfail</span>&nbsp;<span class="op" id="6728412">&gt;=</span>&nbsp;<span class="num" id="6728415">100</span>&nbsp;<span class="op" id="6728419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728427">t</span><span class="op" id="6728428">.</span><span class="ident" id="6728429">Fatalf</span><span class="op" id="6728435">(</span><span class="string" id="6728436">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6728462">,</span>&nbsp;<span class="ident" id="6728464">nfail</span><span class="op" id="6728469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728483">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728496">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728506">default</span><span class="op" id="6728513">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728518">t</span><span class="op" id="6728519">.</span><span class="ident" id="6728520">Fatalf</span><span class="op" id="6728526">(</span><span class="string" id="6728527">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="6728553">,</span>&nbsp;<span class="ident" id="6728555">file</span><span class="op" id="6728559">,</span>&nbsp;<span class="ident" id="6728561">lineno</span><span class="op" id="6728567">,</span>&nbsp;<span class="ident" id="6728569">line</span><span class="op" id="6728573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728577">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728583">if</span>&nbsp;<span class="ident" id="6728586">err</span>&nbsp;<span class="op" id="6728590">:=</span>&nbsp;<span class="ident" id="6728593">scanner</span><span class="op" id="6728600">.</span><span class="ident" id="6728601">Err</span><span class="op" id="6728604">(</span><span class="op" id="6728605">)</span><span class="op" id="6728606">;</span>&nbsp;<span class="ident" id="6728608">err</span>&nbsp;<span class="op" id="6728612">!=</span>&nbsp;<span class="ident" id="6728615">nil</span>&nbsp;<span class="op" id="6728619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728623">t</span><span class="op" id="6728624">.</span><span class="ident" id="6728625">Fatalf</span><span class="op" id="6728631">(</span><span class="string" id="6728632">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="6728643">,</span>&nbsp;<span class="ident" id="6728645">file</span><span class="op" id="6728649">,</span>&nbsp;<span class="ident" id="6728651">lineno</span><span class="op" id="6728657">,</span>&nbsp;<span class="ident" id="6728659">err</span><span class="op" id="6728662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728668">if</span>&nbsp;<span class="builtinfunc" id="6728671">len</span><span class="op" id="6728674">(</span><span class="ident" id="6728675">input</span><span class="op" id="6728680">)</span>&nbsp;<span class="op" id="6728682">!=</span>&nbsp;<span class="num" id="6728685">0</span>&nbsp;<span class="op" id="6728687">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728691">t</span><span class="op" id="6728692">.</span><span class="ident" id="6728693">Fatalf</span><span class="op" id="6728699">(</span><span class="string" id="6728700">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="6728749">,</span>&nbsp;<span class="ident" id="6728751">file</span><span class="op" id="6728755">,</span>&nbsp;<span class="ident" id="6728757">lineno</span><span class="op" id="6728763">,</span>&nbsp;<span class="builtinfunc" id="6728765">len</span><span class="op" id="6728768">(</span><span class="ident" id="6728769">input</span><span class="op" id="6728774">)</span><span class="op" id="6728775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728781">t</span><span class="op" id="6728782">.</span><span class="ident" id="6728783">Logf</span><span class="op" id="6728787">(</span><span class="string" id="6728788">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="6728805">,</span>&nbsp;<span class="ident" id="6728807">ncase</span><span class="op" id="6728812">)</span><br>
<span class="lineno"></span><span class="op" id="6728814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="6728817">var</span>&nbsp;<span class="ident" id="6728821">run</span>&nbsp;<span class="op" id="6728825">=</span>&nbsp;<span class="op" id="6728827">[</span><span class="op" id="6728828">]</span><span class="keyword" id="6728829">func</span><span class="op" id="6728833">(</span><span class="op" id="6728834">*</span><span class="ident" id="6728835">Regexp</span><span class="op" id="6728841">,</span>&nbsp;<span class="op" id="6728843">*</span><span class="ident" id="6728844">Regexp</span><span class="op" id="6728850">,</span>&nbsp;<span class="builtintype" id="6728852">string</span><span class="op" id="6728858">)</span>&nbsp;<span class="op" id="6728860">(</span><span class="op" id="6728861">[</span><span class="op" id="6728862">]</span><span class="builtintype" id="6728863">int</span><span class="op" id="6728866">,</span>&nbsp;<span class="builtintype" id="6728868">string</span><span class="op" id="6728874">)</span><span class="op" id="6728875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728878">runFull</span><span class="op" id="6728885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728888">runPartial</span><span class="op" id="6728898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728901">runFullLongest</span><span class="op" id="6728915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728918">runPartialLongest</span><span class="op" id="6728935">,</span><br>
<span class="lineno">205</span><span class="op" id="6728937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6728940">func</span>&nbsp;<span class="ident" id="6728945">runFull</span><span class="op" id="6728952">(</span><span class="ident" id="6728953">re</span><span class="op" id="6728955">,</span>&nbsp;<span class="ident" id="6728957">refull</span>&nbsp;<span class="op" id="6728964">*</span><span class="ident" id="6728965">Regexp</span><span class="op" id="6728971">,</span>&nbsp;<span class="ident" id="6728973">text</span>&nbsp;<span class="builtintype" id="6728978">string</span><span class="op" id="6728984">)</span>&nbsp;<span class="op" id="6728986">(</span><span class="op" id="6728987">[</span><span class="op" id="6728988">]</span><span class="builtintype" id="6728989">int</span><span class="op" id="6728992">,</span>&nbsp;<span class="builtintype" id="6728994">string</span><span class="op" id="6729000">)</span>&nbsp;<span class="op" id="6729002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729005">refull</span><span class="op" id="6729011">.</span><span class="ident" id="6729012">longest</span>&nbsp;<span class="op" id="6729020">=</span>&nbsp;<span class="builtintype" id="6729022">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729029">return</span>&nbsp;<span class="ident" id="6729036">refull</span><span class="op" id="6729042">.</span><span class="ident" id="6729043">FindStringSubmatchIndex</span><span class="op" id="6729066">(</span><span class="ident" id="6729067">text</span><span class="op" id="6729071">)</span><span class="op" id="6729072">,</span>&nbsp;<span class="string" id="6729074">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="6729083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6729086">func</span>&nbsp;<span class="ident" id="6729091">runPartial</span><span class="op" id="6729101">(</span><span class="ident" id="6729102">re</span><span class="op" id="6729104">,</span>&nbsp;<span class="ident" id="6729106">refull</span>&nbsp;<span class="op" id="6729113">*</span><span class="ident" id="6729114">Regexp</span><span class="op" id="6729120">,</span>&nbsp;<span class="ident" id="6729122">text</span>&nbsp;<span class="builtintype" id="6729127">string</span><span class="op" id="6729133">)</span>&nbsp;<span class="op" id="6729135">(</span><span class="op" id="6729136">[</span><span class="op" id="6729137">]</span><span class="builtintype" id="6729138">int</span><span class="op" id="6729141">,</span>&nbsp;<span class="builtintype" id="6729143">string</span><span class="op" id="6729149">)</span>&nbsp;<span class="op" id="6729151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729154">re</span><span class="op" id="6729156">.</span><span class="ident" id="6729157">longest</span>&nbsp;<span class="op" id="6729165">=</span>&nbsp;<span class="builtintype" id="6729167">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729174">return</span>&nbsp;<span class="ident" id="6729181">re</span><span class="op" id="6729183">.</span><span class="ident" id="6729184">FindStringSubmatchIndex</span><span class="op" id="6729207">(</span><span class="ident" id="6729208">text</span><span class="op" id="6729212">)</span><span class="op" id="6729213">,</span>&nbsp;<span class="string" id="6729215">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="6729218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6729221">func</span>&nbsp;<span class="ident" id="6729226">runFullLongest</span><span class="op" id="6729240">(</span><span class="ident" id="6729241">re</span><span class="op" id="6729243">,</span>&nbsp;<span class="ident" id="6729245">refull</span>&nbsp;<span class="op" id="6729252">*</span><span class="ident" id="6729253">Regexp</span><span class="op" id="6729259">,</span>&nbsp;<span class="ident" id="6729261">text</span>&nbsp;<span class="builtintype" id="6729266">string</span><span class="op" id="6729272">)</span>&nbsp;<span class="op" id="6729274">(</span><span class="op" id="6729275">[</span><span class="op" id="6729276">]</span><span class="builtintype" id="6729277">int</span><span class="op" id="6729280">,</span>&nbsp;<span class="builtintype" id="6729282">string</span><span class="op" id="6729288">)</span>&nbsp;<span class="op" id="6729290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729293">refull</span><span class="op" id="6729299">.</span><span class="ident" id="6729300">longest</span>&nbsp;<span class="op" id="6729308">=</span>&nbsp;<span class="builtintype" id="6729310">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729316">return</span>&nbsp;<span class="ident" id="6729323">refull</span><span class="op" id="6729329">.</span><span class="ident" id="6729330">FindStringSubmatchIndex</span><span class="op" id="6729353">(</span><span class="ident" id="6729354">text</span><span class="op" id="6729358">)</span><span class="op" id="6729359">,</span>&nbsp;<span class="string" id="6729361">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="6729378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6729381">func</span>&nbsp;<span class="ident" id="6729386">runPartialLongest</span><span class="op" id="6729403">(</span><span class="ident" id="6729404">re</span><span class="op" id="6729406">,</span>&nbsp;<span class="ident" id="6729408">refull</span>&nbsp;<span class="op" id="6729415">*</span><span class="ident" id="6729416">Regexp</span><span class="op" id="6729422">,</span>&nbsp;<span class="ident" id="6729424">text</span>&nbsp;<span class="builtintype" id="6729429">string</span><span class="op" id="6729435">)</span>&nbsp;<span class="op" id="6729437">(</span><span class="op" id="6729438">[</span><span class="op" id="6729439">]</span><span class="builtintype" id="6729440">int</span><span class="op" id="6729443">,</span>&nbsp;<span class="builtintype" id="6729445">string</span><span class="op" id="6729451">)</span>&nbsp;<span class="op" id="6729453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729456">re</span><span class="op" id="6729458">.</span><span class="ident" id="6729459">longest</span>&nbsp;<span class="op" id="6729467">=</span>&nbsp;<span class="builtintype" id="6729469">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729475">return</span>&nbsp;<span class="ident" id="6729482">re</span><span class="op" id="6729484">.</span><span class="ident" id="6729485">FindStringSubmatchIndex</span><span class="op" id="6729508">(</span><span class="ident" id="6729509">text</span><span class="op" id="6729513">)</span><span class="op" id="6729514">,</span>&nbsp;<span class="string" id="6729516">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="6729528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6729531">var</span>&nbsp;<span class="ident" id="6729535">match</span>&nbsp;<span class="op" id="6729541">=</span>&nbsp;<span class="op" id="6729543">[</span><span class="op" id="6729544">]</span><span class="keyword" id="6729545">func</span><span class="op" id="6729549">(</span><span class="op" id="6729550">*</span><span class="ident" id="6729551">Regexp</span><span class="op" id="6729557">,</span>&nbsp;<span class="op" id="6729559">*</span><span class="ident" id="6729560">Regexp</span><span class="op" id="6729566">,</span>&nbsp;<span class="builtintype" id="6729568">string</span><span class="op" id="6729574">)</span>&nbsp;<span class="op" id="6729576">(</span><span class="builtintype" id="6729577">bool</span><span class="op" id="6729581">,</span>&nbsp;<span class="builtintype" id="6729583">string</span><span class="op" id="6729589">)</span><span class="op" id="6729590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729593">matchFull</span><span class="op" id="6729602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729605">matchPartial</span><span class="op" id="6729617">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729620">matchFullLongest</span><span class="op" id="6729636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729639">matchPartialLongest</span><span class="op" id="6729658">,</span><br>
<span class="lineno"></span><span class="op" id="6729660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6729663">func</span>&nbsp;<span class="ident" id="6729668">matchFull</span><span class="op" id="6729677">(</span><span class="ident" id="6729678">re</span><span class="op" id="6729680">,</span>&nbsp;<span class="ident" id="6729682">refull</span>&nbsp;<span class="op" id="6729689">*</span><span class="ident" id="6729690">Regexp</span><span class="op" id="6729696">,</span>&nbsp;<span class="ident" id="6729698">text</span>&nbsp;<span class="builtintype" id="6729703">string</span><span class="op" id="6729709">)</span>&nbsp;<span class="op" id="6729711">(</span><span class="builtintype" id="6729712">bool</span><span class="op" id="6729716">,</span>&nbsp;<span class="builtintype" id="6729718">string</span><span class="op" id="6729724">)</span>&nbsp;<span class="op" id="6729726">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729729">refull</span><span class="op" id="6729735">.</span><span class="ident" id="6729736">longest</span>&nbsp;<span class="op" id="6729744">=</span>&nbsp;<span class="builtintype" id="6729746">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729753">return</span>&nbsp;<span class="ident" id="6729760">refull</span><span class="op" id="6729766">.</span><span class="ident" id="6729767">MatchString</span><span class="op" id="6729778">(</span><span class="ident" id="6729779">text</span><span class="op" id="6729783">)</span><span class="op" id="6729784">,</span>&nbsp;<span class="string" id="6729786">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="6729795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6729798">func</span>&nbsp;<span class="ident" id="6729803">matchPartial</span><span class="op" id="6729815">(</span><span class="ident" id="6729816">re</span><span class="op" id="6729818">,</span>&nbsp;<span class="ident" id="6729820">refull</span>&nbsp;<span class="op" id="6729827">*</span><span class="ident" id="6729828">Regexp</span><span class="op" id="6729834">,</span>&nbsp;<span class="ident" id="6729836">text</span>&nbsp;<span class="builtintype" id="6729841">string</span><span class="op" id="6729847">)</span>&nbsp;<span class="op" id="6729849">(</span><span class="builtintype" id="6729850">bool</span><span class="op" id="6729854">,</span>&nbsp;<span class="builtintype" id="6729856">string</span><span class="op" id="6729862">)</span>&nbsp;<span class="op" id="6729864">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729867">re</span><span class="op" id="6729869">.</span><span class="ident" id="6729870">longest</span>&nbsp;<span class="op" id="6729878">=</span>&nbsp;<span class="builtintype" id="6729880">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729887">return</span>&nbsp;<span class="ident" id="6729894">re</span><span class="op" id="6729896">.</span><span class="ident" id="6729897">MatchString</span><span class="op" id="6729908">(</span><span class="ident" id="6729909">text</span><span class="op" id="6729913">)</span><span class="op" id="6729914">,</span>&nbsp;<span class="string" id="6729916">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6729919">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6729922">func</span>&nbsp;<span class="ident" id="6729927">matchFullLongest</span><span class="op" id="6729943">(</span><span class="ident" id="6729944">re</span><span class="op" id="6729946">,</span>&nbsp;<span class="ident" id="6729948">refull</span>&nbsp;<span class="op" id="6729955">*</span><span class="ident" id="6729956">Regexp</span><span class="op" id="6729962">,</span>&nbsp;<span class="ident" id="6729964">text</span>&nbsp;<span class="builtintype" id="6729969">string</span><span class="op" id="6729975">)</span>&nbsp;<span class="op" id="6729977">(</span><span class="builtintype" id="6729978">bool</span><span class="op" id="6729982">,</span>&nbsp;<span class="builtintype" id="6729984">string</span><span class="op" id="6729990">)</span>&nbsp;<span class="op" id="6729992">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729995">refull</span><span class="op" id="6730001">.</span><span class="ident" id="6730002">longest</span>&nbsp;<span class="op" id="6730010">=</span>&nbsp;<span class="builtintype" id="6730012">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730018">return</span>&nbsp;<span class="ident" id="6730025">refull</span><span class="op" id="6730031">.</span><span class="ident" id="6730032">MatchString</span><span class="op" id="6730043">(</span><span class="ident" id="6730044">text</span><span class="op" id="6730048">)</span><span class="op" id="6730049">,</span>&nbsp;<span class="string" id="6730051">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="6730068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6730071">func</span>&nbsp;<span class="ident" id="6730076">matchPartialLongest</span><span class="op" id="6730095">(</span><span class="ident" id="6730096">re</span><span class="op" id="6730098">,</span>&nbsp;<span class="ident" id="6730100">refull</span>&nbsp;<span class="op" id="6730107">*</span><span class="ident" id="6730108">Regexp</span><span class="op" id="6730114">,</span>&nbsp;<span class="ident" id="6730116">text</span>&nbsp;<span class="builtintype" id="6730121">string</span><span class="op" id="6730127">)</span>&nbsp;<span class="op" id="6730129">(</span><span class="builtintype" id="6730130">bool</span><span class="op" id="6730134">,</span>&nbsp;<span class="builtintype" id="6730136">string</span><span class="op" id="6730142">)</span>&nbsp;<span class="op" id="6730144">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730147">re</span><span class="op" id="6730149">.</span><span class="ident" id="6730150">longest</span>&nbsp;<span class="op" id="6730158">=</span>&nbsp;<span class="builtintype" id="6730160">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730166">return</span>&nbsp;<span class="ident" id="6730173">re</span><span class="op" id="6730175">.</span><span class="ident" id="6730176">MatchString</span><span class="op" id="6730187">(</span><span class="ident" id="6730188">text</span><span class="op" id="6730192">)</span><span class="op" id="6730193">,</span>&nbsp;<span class="string" id="6730195">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="6730207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6730210">func</span>&nbsp;<span class="ident" id="6730215">isSingleBytes</span><span class="op" id="6730228">(</span><span class="ident" id="6730229">s</span>&nbsp;<span class="builtintype" id="6730231">string</span><span class="op" id="6730237">)</span>&nbsp;<span class="builtintype" id="6730239">bool</span>&nbsp;<span class="op" id="6730244">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730247">for</span>&nbsp;<span class="ident" id="6730251">_</span><span class="op" id="6730252">,</span>&nbsp;<span class="ident" id="6730254">c</span>&nbsp;<span class="op" id="6730256">:=</span>&nbsp;<span class="keyword" id="6730259">range</span>&nbsp;<span class="ident" id="6730265">s</span>&nbsp;<span class="op" id="6730267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730271">if</span>&nbsp;<span class="ident" id="6730274">c</span>&nbsp;<span class="op" id="6730276">&gt;=</span>&nbsp;<span class="ident" id="6730279">utf8</span><span class="op" id="6730283">.</span><span class="ident" id="6730284">RuneSelf</span>&nbsp;<span class="op" id="6730293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730298">return</span>&nbsp;<span class="builtintype" id="6730305">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730316">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730319">return</span>&nbsp;<span class="builtintype" id="6730326">true</span><br>
<span class="lineno"></span><span class="op" id="6730331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6730334">func</span>&nbsp;<span class="ident" id="6730339">tryCompile</span><span class="op" id="6730349">(</span><span class="ident" id="6730350">s</span>&nbsp;<span class="builtintype" id="6730352">string</span><span class="op" id="6730358">)</span>&nbsp;<span class="op" id="6730360">(</span><span class="ident" id="6730361">re</span>&nbsp;<span class="op" id="6730364">*</span><span class="ident" id="6730365">Regexp</span><span class="op" id="6730371">,</span>&nbsp;<span class="ident" id="6730373">err</span>&nbsp;<span class="builtintype" id="6730377">error</span><span class="op" id="6730382">)</span>&nbsp;<span class="op" id="6730384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6730387">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730429">defer</span>&nbsp;<span class="keyword" id="6730435">func</span><span class="op" id="6730439">(</span><span class="op" id="6730440">)</span>&nbsp;<span class="op" id="6730442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730446">if</span>&nbsp;<span class="ident" id="6730449">r</span>&nbsp;<span class="op" id="6730451">:=</span>&nbsp;<span class="builtinfunc" id="6730454">recover</span><span class="op" id="6730461">(</span><span class="op" id="6730462">)</span><span class="op" id="6730463">;</span>&nbsp;<span class="ident" id="6730465">r</span>&nbsp;<span class="op" id="6730467">!=</span>&nbsp;<span class="ident" id="6730470">nil</span>&nbsp;<span class="op" id="6730474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730479">err</span>&nbsp;<span class="op" id="6730483">=</span>&nbsp;<span class="ident" id="6730485">fmt</span><span class="op" id="6730488">.</span><span class="ident" id="6730489">Errorf</span><span class="op" id="6730495">(</span><span class="string" id="6730496">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="6730507">,</span>&nbsp;<span class="ident" id="6730509">r</span><span class="op" id="6730510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730517">}</span><span class="op" id="6730518">(</span><span class="op" id="6730519">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730522">return</span>&nbsp;<span class="ident" id="6730529">Compile</span><span class="op" id="6730536">(</span><span class="ident" id="6730537">s</span><span class="op" id="6730538">)</span><br>
<span class="lineno"></span><span class="op" id="6730540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6730543">func</span>&nbsp;<span class="ident" id="6730548">parseResult</span><span class="op" id="6730559">(</span><span class="ident" id="6730560">t</span>&nbsp;<span class="op" id="6730562">*</span><span class="ident" id="6730563">testing</span><span class="op" id="6730570">.</span><span class="ident" id="6730571">T</span><span class="op" id="6730572">,</span>&nbsp;<span class="ident" id="6730574">file</span>&nbsp;<span class="builtintype" id="6730579">string</span><span class="op" id="6730585">,</span>&nbsp;<span class="ident" id="6730587">lineno</span>&nbsp;<span class="builtintype" id="6730594">int</span><span class="op" id="6730597">,</span>&nbsp;<span class="ident" id="6730599">res</span>&nbsp;<span class="builtintype" id="6730603">string</span><span class="op" id="6730609">)</span>&nbsp;<span class="op" id="6730611">[</span><span class="op" id="6730612">]</span><span class="builtintype" id="6730613">int</span>&nbsp;<span class="op" id="6730617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6730620">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730655">if</span>&nbsp;<span class="ident" id="6730658">res</span>&nbsp;<span class="op" id="6730662">==</span>&nbsp;<span class="string" id="6730665">&#34;-&#34;</span>&nbsp;<span class="op" id="6730669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730673">return</span>&nbsp;<span class="ident" id="6730680">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6730688">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730736">n</span>&nbsp;<span class="op" id="6730738">:=</span>&nbsp;<span class="num" id="6730741">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730744">for</span>&nbsp;<span class="ident" id="6730748">j</span>&nbsp;<span class="op" id="6730750">:=</span>&nbsp;<span class="num" id="6730753">0</span><span class="op" id="6730754">;</span>&nbsp;<span class="ident" id="6730756">j</span>&nbsp;<span class="op" id="6730758">&lt;</span>&nbsp;<span class="builtinfunc" id="6730760">len</span><span class="op" id="6730763">(</span><span class="ident" id="6730764">res</span><span class="op" id="6730767">)</span><span class="op" id="6730768">;</span>&nbsp;<span class="ident" id="6730770">j</span><span class="op" id="6730771">++</span>&nbsp;<span class="op" id="6730774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730778">if</span>&nbsp;<span class="ident" id="6730781">res</span><span class="op" id="6730784">[</span><span class="ident" id="6730785">j</span><span class="op" id="6730786">]</span>&nbsp;<span class="op" id="6730788">==</span>&nbsp;<span class="string" id="6730791">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6730795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730800">n</span><span class="op" id="6730801">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730809">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730812">out</span>&nbsp;<span class="op" id="6730816">:=</span>&nbsp;<span class="builtinfunc" id="6730819">make</span><span class="op" id="6730823">(</span><span class="op" id="6730824">[</span><span class="op" id="6730825">]</span><span class="builtintype" id="6730826">int</span><span class="op" id="6730829">,</span>&nbsp;<span class="num" id="6730831">2</span><span class="op" id="6730832">*</span><span class="ident" id="6730833">n</span><span class="op" id="6730834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730837">i</span>&nbsp;<span class="op" id="6730839">:=</span>&nbsp;<span class="num" id="6730842">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730845">n</span>&nbsp;<span class="op" id="6730847">=</span>&nbsp;<span class="num" id="6730849">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730852">for</span>&nbsp;<span class="ident" id="6730856">j</span>&nbsp;<span class="op" id="6730858">:=</span>&nbsp;<span class="num" id="6730861">0</span><span class="op" id="6730862">;</span>&nbsp;<span class="ident" id="6730864">j</span>&nbsp;<span class="op" id="6730866">&lt;=</span>&nbsp;<span class="builtinfunc" id="6730869">len</span><span class="op" id="6730872">(</span><span class="ident" id="6730873">res</span><span class="op" id="6730876">)</span><span class="op" id="6730877">;</span>&nbsp;<span class="ident" id="6730879">j</span><span class="op" id="6730880">++</span>&nbsp;<span class="op" id="6730883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730887">if</span>&nbsp;<span class="ident" id="6730890">j</span>&nbsp;<span class="op" id="6730892">==</span>&nbsp;<span class="builtinfunc" id="6730895">len</span><span class="op" id="6730898">(</span><span class="ident" id="6730899">res</span><span class="op" id="6730902">)</span>&nbsp;<span class="op" id="6730904">||</span>&nbsp;<span class="ident" id="6730907">res</span><span class="op" id="6730910">[</span><span class="ident" id="6730911">j</span><span class="op" id="6730912">]</span>&nbsp;<span class="op" id="6730914">==</span>&nbsp;<span class="string" id="6730917">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6730921">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6730926">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730977">pair</span>&nbsp;<span class="op" id="6730982">:=</span>&nbsp;<span class="ident" id="6730985">res</span><span class="op" id="6730988">[</span><span class="ident" id="6730989">i</span><span class="op" id="6730990">:</span><span class="ident" id="6730991">j</span><span class="op" id="6730992">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730997">if</span>&nbsp;<span class="ident" id="6731000">pair</span>&nbsp;<span class="op" id="6731005">==</span>&nbsp;<span class="string" id="6731008">&#34;-&#34;</span>&nbsp;<span class="op" id="6731012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731018">out</span><span class="op" id="6731021">[</span><span class="ident" id="6731022">n</span><span class="op" id="6731023">]</span>&nbsp;<span class="op" id="6731025">=</span>&nbsp;<span class="op" id="6731027">-</span><span class="num" id="6731028">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731034">out</span><span class="op" id="6731037">[</span><span class="ident" id="6731038">n</span><span class="op" id="6731039">+</span><span class="num" id="6731040">1</span><span class="op" id="6731041">]</span>&nbsp;<span class="op" id="6731043">=</span>&nbsp;<span class="op" id="6731045">-</span><span class="num" id="6731046">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731051">}</span>&nbsp;<span class="keyword" id="6731053">else</span>&nbsp;<span class="op" id="6731058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731064">k</span>&nbsp;<span class="op" id="6731066">:=</span>&nbsp;<span class="ident" id="6731069">strings</span><span class="op" id="6731076">.</span><span class="ident" id="6731077">Index</span><span class="op" id="6731082">(</span><span class="ident" id="6731083">pair</span><span class="op" id="6731087">,</span>&nbsp;<span class="string" id="6731089">&#34;-&#34;</span><span class="op" id="6731092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731098">if</span>&nbsp;<span class="ident" id="6731101">k</span>&nbsp;<span class="op" id="6731103">&lt;</span>&nbsp;<span class="num" id="6731105">0</span>&nbsp;<span class="op" id="6731107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731114">t</span><span class="op" id="6731115">.</span><span class="ident" id="6731116">Fatalf</span><span class="op" id="6731122">(</span><span class="string" id="6731123">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="6731147">,</span>&nbsp;<span class="ident" id="6731149">file</span><span class="op" id="6731153">,</span>&nbsp;<span class="ident" id="6731155">lineno</span><span class="op" id="6731161">,</span>&nbsp;<span class="ident" id="6731163">pair</span><span class="op" id="6731167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731173">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731179">lo</span><span class="op" id="6731181">,</span>&nbsp;<span class="ident" id="6731183">err1</span>&nbsp;<span class="op" id="6731188">:=</span>&nbsp;<span class="ident" id="6731191">strconv</span><span class="op" id="6731198">.</span><span class="ident" id="6731199">Atoi</span><span class="op" id="6731203">(</span><span class="ident" id="6731204">pair</span><span class="op" id="6731208">[</span><span class="op" id="6731209">:</span><span class="ident" id="6731210">k</span><span class="op" id="6731211">]</span><span class="op" id="6731212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731218">hi</span><span class="op" id="6731220">,</span>&nbsp;<span class="ident" id="6731222">err2</span>&nbsp;<span class="op" id="6731227">:=</span>&nbsp;<span class="ident" id="6731230">strconv</span><span class="op" id="6731237">.</span><span class="ident" id="6731238">Atoi</span><span class="op" id="6731242">(</span><span class="ident" id="6731243">pair</span><span class="op" id="6731247">[</span><span class="ident" id="6731248">k</span><span class="op" id="6731249">+</span><span class="num" id="6731250">1</span><span class="op" id="6731251">:</span><span class="op" id="6731252">]</span><span class="op" id="6731253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731259">if</span>&nbsp;<span class="ident" id="6731262">err1</span>&nbsp;<span class="op" id="6731267">!=</span>&nbsp;<span class="ident" id="6731270">nil</span>&nbsp;<span class="op" id="6731274">||</span>&nbsp;<span class="ident" id="6731277">err2</span>&nbsp;<span class="op" id="6731282">!=</span>&nbsp;<span class="ident" id="6731285">nil</span>&nbsp;<span class="op" id="6731289">||</span>&nbsp;<span class="ident" id="6731292">lo</span>&nbsp;<span class="op" id="6731295">&gt;</span>&nbsp;<span class="ident" id="6731297">hi</span>&nbsp;<span class="op" id="6731300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731307">t</span><span class="op" id="6731308">.</span><span class="ident" id="6731309">Fatalf</span><span class="op" id="6731315">(</span><span class="string" id="6731316">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="6731340">,</span>&nbsp;<span class="ident" id="6731342">file</span><span class="op" id="6731346">,</span>&nbsp;<span class="ident" id="6731348">lineno</span><span class="op" id="6731354">,</span>&nbsp;<span class="ident" id="6731356">pair</span><span class="op" id="6731360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731366">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731372">out</span><span class="op" id="6731375">[</span><span class="ident" id="6731376">n</span><span class="op" id="6731377">]</span>&nbsp;<span class="op" id="6731379">=</span>&nbsp;<span class="ident" id="6731381">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731388">out</span><span class="op" id="6731391">[</span><span class="ident" id="6731392">n</span><span class="op" id="6731393">+</span><span class="num" id="6731394">1</span><span class="op" id="6731395">]</span>&nbsp;<span class="op" id="6731397">=</span>&nbsp;<span class="ident" id="6731399">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731410">n</span>&nbsp;<span class="op" id="6731412">+=</span>&nbsp;<span class="num" id="6731415">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731420">i</span>&nbsp;<span class="op" id="6731422">=</span>&nbsp;<span class="ident" id="6731424">j</span>&nbsp;<span class="op" id="6731426">+</span>&nbsp;<span class="num" id="6731428">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731438">return</span>&nbsp;<span class="ident" id="6731445">out</span><br>
<span class="lineno"></span><span class="op" id="6731449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="6731452">func</span>&nbsp;<span class="ident" id="6731457">same</span><span class="op" id="6731461">(</span><span class="ident" id="6731462">x</span><span class="op" id="6731463">,</span>&nbsp;<span class="ident" id="6731465">y</span>&nbsp;<span class="op" id="6731467">[</span><span class="op" id="6731468">]</span><span class="builtintype" id="6731469">int</span><span class="op" id="6731472">)</span>&nbsp;<span class="builtintype" id="6731474">bool</span>&nbsp;<span class="op" id="6731479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731482">if</span>&nbsp;<span class="builtinfunc" id="6731485">len</span><span class="op" id="6731488">(</span><span class="ident" id="6731489">x</span><span class="op" id="6731490">)</span>&nbsp;<span class="op" id="6731492">!=</span>&nbsp;<span class="builtinfunc" id="6731495">len</span><span class="op" id="6731498">(</span><span class="ident" id="6731499">y</span><span class="op" id="6731500">)</span>&nbsp;<span class="op" id="6731502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731506">return</span>&nbsp;<span class="builtintype" id="6731513">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731523">for</span>&nbsp;<span class="ident" id="6731527">i</span><span class="op" id="6731528">,</span>&nbsp;<span class="ident" id="6731530">xi</span>&nbsp;<span class="op" id="6731533">:=</span>&nbsp;<span class="keyword" id="6731536">range</span>&nbsp;<span class="ident" id="6731542">x</span>&nbsp;<span class="op" id="6731544">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731548">if</span>&nbsp;<span class="ident" id="6731551">xi</span>&nbsp;<span class="op" id="6731554">!=</span>&nbsp;<span class="ident" id="6731557">y</span><span class="op" id="6731558">[</span><span class="ident" id="6731559">i</span><span class="op" id="6731560">]</span>&nbsp;<span class="op" id="6731562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731567">return</span>&nbsp;<span class="builtintype" id="6731574">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731588">return</span>&nbsp;<span class="builtintype" id="6731595">true</span><br>
<span class="lineno">325</span><span class="op" id="6731600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6731603">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6731660">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="6731720">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="6731772">func</span>&nbsp;<span class="ident" id="6731777">TestFowler</span><span class="op" id="6731787">(</span><span class="ident" id="6731788">t</span>&nbsp;<span class="op" id="6731790">*</span><span class="ident" id="6731791">testing</span><span class="op" id="6731798">.</span><span class="ident" id="6731799">T</span><span class="op" id="6731800">)</span>&nbsp;<span class="op" id="6731802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731805">files</span><span class="op" id="6731810">,</span>&nbsp;<span class="ident" id="6731812">err</span>&nbsp;<span class="op" id="6731816">:=</span>&nbsp;<span class="ident" id="6731819">filepath</span><span class="op" id="6731827">.</span><span class="ident" id="6731828">Glob</span><span class="op" id="6731832">(</span><span class="string" id="6731833">&#34;testdata/*.dat&#34;</span><span class="op" id="6731849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731852">if</span>&nbsp;<span class="ident" id="6731855">err</span>&nbsp;<span class="op" id="6731859">!=</span>&nbsp;<span class="ident" id="6731862">nil</span>&nbsp;<span class="op" id="6731866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731870">t</span><span class="op" id="6731871">.</span><span class="ident" id="6731872">Fatal</span><span class="op" id="6731877">(</span><span class="ident" id="6731878">err</span><span class="op" id="6731881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731884">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731887">for</span>&nbsp;<span class="ident" id="6731891">_</span><span class="op" id="6731892">,</span>&nbsp;<span class="ident" id="6731894">file</span>&nbsp;<span class="op" id="6731899">:=</span>&nbsp;<span class="keyword" id="6731902">range</span>&nbsp;<span class="ident" id="6731908">files</span>&nbsp;<span class="op" id="6731914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731918">t</span><span class="op" id="6731919">.</span><span class="ident" id="6731920">Log</span><span class="op" id="6731923">(</span><span class="ident" id="6731924">file</span><span class="op" id="6731928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731932">testFowler</span><span class="op" id="6731942">(</span><span class="ident" id="6731943">t</span><span class="op" id="6731944">,</span>&nbsp;<span class="ident" id="6731946">file</span><span class="op" id="6731950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731953">}</span><br>
<span class="lineno"></span><span class="op" id="6731955">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="6731958">var</span>&nbsp;<span class="ident" id="6731962">notab</span>&nbsp;<span class="op" id="6731968">=</span>&nbsp;<span class="ident" id="6731970">MustCompilePOSIX</span><span class="op" id="6731986">(</span><span class="string" id="6731987">`[^\t]+`</span><span class="op" id="6731995">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6731998">func</span>&nbsp;<span class="ident" id="6732003">testFowler</span><span class="op" id="6732013">(</span><span class="ident" id="6732014">t</span>&nbsp;<span class="op" id="6732016">*</span><span class="ident" id="6732017">testing</span><span class="op" id="6732024">.</span><span class="ident" id="6732025">T</span><span class="op" id="6732026">,</span>&nbsp;<span class="ident" id="6732028">file</span>&nbsp;<span class="builtintype" id="6732033">string</span><span class="op" id="6732039">)</span>&nbsp;<span class="op" id="6732041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732044">f</span><span class="op" id="6732045">,</span>&nbsp;<span class="ident" id="6732047">err</span>&nbsp;<span class="op" id="6732051">:=</span>&nbsp;<span class="ident" id="6732054">os</span><span class="op" id="6732056">.</span><span class="ident" id="6732057">Open</span><span class="op" id="6732061">(</span><span class="ident" id="6732062">file</span><span class="op" id="6732066">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732069">if</span>&nbsp;<span class="ident" id="6732072">err</span>&nbsp;<span class="op" id="6732076">!=</span>&nbsp;<span class="ident" id="6732079">nil</span>&nbsp;<span class="op" id="6732083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732087">t</span><span class="op" id="6732088">.</span><span class="ident" id="6732089">Error</span><span class="op" id="6732094">(</span><span class="ident" id="6732095">err</span><span class="op" id="6732098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732102">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6732110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732113">defer</span>&nbsp;<span class="ident" id="6732119">f</span><span class="op" id="6732120">.</span><span class="ident" id="6732121">Close</span><span class="op" id="6732126">(</span><span class="op" id="6732127">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732130">b</span>&nbsp;<span class="op" id="6732132">:=</span>&nbsp;<span class="ident" id="6732135">bufio</span><span class="op" id="6732140">.</span><span class="ident" id="6732141">NewReader</span><span class="op" id="6732150">(</span><span class="ident" id="6732151">f</span><span class="op" id="6732152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732155">lineno</span>&nbsp;<span class="op" id="6732162">:=</span>&nbsp;<span class="num" id="6732165">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732168">lastRegexp</span>&nbsp;<span class="op" id="6732179">:=</span>&nbsp;<span class="string" id="6732182">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="6732185">Reading</span><span class="op" id="6732192">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732195">for</span>&nbsp;<span class="op" id="6732199">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732203">lineno</span><span class="op" id="6732209">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732214">line</span><span class="op" id="6732218">,</span>&nbsp;<span class="ident" id="6732220">err</span>&nbsp;<span class="op" id="6732224">:=</span>&nbsp;<span class="ident" id="6732227">b</span><span class="op" id="6732228">.</span><span class="ident" id="6732229">ReadString</span><span class="op" id="6732239">(</span><span class="string" id="6732240">&#39;\n&#39;</span><span class="op" id="6732244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732248">if</span>&nbsp;<span class="ident" id="6732251">err</span>&nbsp;<span class="op" id="6732255">!=</span>&nbsp;<span class="ident" id="6732258">nil</span>&nbsp;<span class="op" id="6732262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732267">if</span>&nbsp;<span class="ident" id="6732270">err</span>&nbsp;<span class="op" id="6732274">!=</span>&nbsp;<span class="ident" id="6732277">io</span><span class="op" id="6732279">.</span><span class="ident" id="6732280">EOF</span>&nbsp;<span class="op" id="6732284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732290">t</span><span class="op" id="6732291">.</span><span class="ident" id="6732292">Errorf</span><span class="op" id="6732298">(</span><span class="string" id="6732299">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="6732310">,</span>&nbsp;<span class="ident" id="6732312">file</span><span class="op" id="6732316">,</span>&nbsp;<span class="ident" id="6732318">lineno</span><span class="op" id="6732324">,</span>&nbsp;<span class="ident" id="6732326">err</span><span class="op" id="6732329">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6732334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732339">break</span>&nbsp;<span class="ident" id="6732345">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6732355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732360">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732423">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732428">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732446">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732517">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732587">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732658">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732676">if</span>&nbsp;<span class="ident" id="6732679">line</span><span class="op" id="6732683">[</span><span class="num" id="6732684">0</span><span class="op" id="6732685">]</span>&nbsp;<span class="op" id="6732687">==</span>&nbsp;<span class="string" id="6732690">&#39;#&#39;</span>&nbsp;<span class="op" id="6732694">||</span>&nbsp;<span class="ident" id="6732697">line</span><span class="op" id="6732701">[</span><span class="num" id="6732702">0</span><span class="op" id="6732703">]</span>&nbsp;<span class="op" id="6732705">==</span>&nbsp;<span class="string" id="6732708">&#39;\n&#39;</span>&nbsp;<span class="op" id="6732713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732718">continue</span>&nbsp;<span class="ident" id="6732727">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6732737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732741">line</span>&nbsp;<span class="op" id="6732746">=</span>&nbsp;<span class="ident" id="6732748">line</span><span class="op" id="6732752">[</span><span class="op" id="6732753">:</span><span class="builtinfunc" id="6732754">len</span><span class="op" id="6732757">(</span><span class="ident" id="6732758">line</span><span class="op" id="6732762">)</span><span class="op" id="6732763">-</span><span class="num" id="6732764">1</span><span class="op" id="6732765">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732769">field</span>&nbsp;<span class="op" id="6732775">:=</span>&nbsp;<span class="ident" id="6732778">notab</span><span class="op" id="6732783">.</span><span class="ident" id="6732784">FindAllString</span><span class="op" id="6732797">(</span><span class="ident" id="6732798">line</span><span class="op" id="6732802">,</span>&nbsp;<span class="op" id="6732804">-</span><span class="num" id="6732805">1</span><span class="op" id="6732806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732810">for</span>&nbsp;<span class="ident" id="6732814">i</span><span class="op" id="6732815">,</span>&nbsp;<span class="ident" id="6732817">f</span>&nbsp;<span class="op" id="6732819">:=</span>&nbsp;<span class="keyword" id="6732822">range</span>&nbsp;<span class="ident" id="6732828">field</span>&nbsp;<span class="op" id="6732834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732839">if</span>&nbsp;<span class="ident" id="6732842">f</span>&nbsp;<span class="op" id="6732844">==</span>&nbsp;<span class="string" id="6732847">&#34;NULL&#34;</span>&nbsp;<span class="op" id="6732854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732860">field</span><span class="op" id="6732865">[</span><span class="ident" id="6732866">i</span><span class="op" id="6732867">]</span>&nbsp;<span class="op" id="6732869">=</span>&nbsp;<span class="string" id="6732871">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6732877">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732882">if</span>&nbsp;<span class="ident" id="6732885">f</span>&nbsp;<span class="op" id="6732887">==</span>&nbsp;<span class="string" id="6732890">&#34;NIL&#34;</span>&nbsp;<span class="op" id="6732896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732902">t</span><span class="op" id="6732903">.</span><span class="ident" id="6732904">Logf</span><span class="op" id="6732908">(</span><span class="string" id="6732909">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="6732926">,</span>&nbsp;<span class="ident" id="6732928">file</span><span class="op" id="6732932">,</span>&nbsp;<span class="ident" id="6732934">lineno</span><span class="op" id="6732940">,</span>&nbsp;<span class="ident" id="6732942">line</span><span class="op" id="6732946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732952">continue</span>&nbsp;<span class="ident" id="6732961">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6732972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6732976">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732980">if</span>&nbsp;<span class="builtinfunc" id="6732983">len</span><span class="op" id="6732986">(</span><span class="ident" id="6732987">field</span><span class="op" id="6732992">)</span>&nbsp;<span class="op" id="6732994">==</span>&nbsp;<span class="num" id="6732997">0</span>&nbsp;<span class="op" id="6732999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733004">continue</span>&nbsp;<span class="ident" id="6733013">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733028">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733103">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733175">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733247">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733326">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733385">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733390">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbspbasic&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspBRE&nbsp;&nbsp;&nbsp;&nbsp(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733430">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbspREG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspERE&nbsp;&nbsp;&nbsp;&nbsp(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733468">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbspREG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspARE&nbsp;&nbsp;&nbsp;&nbsp(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733520">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbspREG_SHELL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspSRE&nbsp;&nbsp;&nbsp;&nbsp(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733556">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbspREG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbspKRE&nbsp;&nbsp;&nbsp;&nbsp(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733606">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbspREG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspLRE&nbsp;&nbsp;&nbsp;&nbsp(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733642">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733647">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbspREG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733692">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbspREG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733736">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbspREG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733784">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733835">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbspREG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsprhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733879">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbspREG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733935">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbspFNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsptestfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6733997">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbspREG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734045">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbspREG_ICASE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734079">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbspREG_SPAN&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734113">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbspREG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734163">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734198">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbspREG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspminimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734236">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbspREG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734278">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbspREG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734332">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734376">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbspREG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspdelimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734420">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbspREG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734456">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734499">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbspREG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspall&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734558">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbspstandard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734621">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbspREG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734672">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbspREG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspno&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734723">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbspREG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplet&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734769">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspregexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734814">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbspREG_NULL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspNULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734858">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6734931">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735003">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735074">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735079">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735109">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735114">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspset&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735175">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735180">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735258">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735323">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735395">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735444">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspskip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735486">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspend&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735510">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735515">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735565">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735606">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735660">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735692">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735697">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspuse&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735752">flag</span>&nbsp;<span class="op" id="6735757">:=</span>&nbsp;<span class="ident" id="6735760">field</span><span class="op" id="6735765">[</span><span class="num" id="6735766">0</span><span class="op" id="6735767">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735771">switch</span>&nbsp;<span class="ident" id="6735778">flag</span><span class="op" id="6735782">[</span><span class="num" id="6735783">0</span><span class="op" id="6735784">]</span>&nbsp;<span class="op" id="6735786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735790">case</span>&nbsp;<span class="string" id="6735795">&#39;?&#39;</span><span class="op" id="6735798">,</span>&nbsp;<span class="string" id="6735800">&#39;&amp;&#39;</span><span class="op" id="6735803">,</span>&nbsp;<span class="string" id="6735805">&#39;|&#39;</span><span class="op" id="6735808">,</span>&nbsp;<span class="string" id="6735810">&#39;;&#39;</span><span class="op" id="6735813">,</span>&nbsp;<span class="string" id="6735815">&#39;{&#39;</span><span class="op" id="6735818">,</span>&nbsp;<span class="string" id="6735820">&#39;}&#39;</span><span class="op" id="6735823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735828">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6735868">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735895">flag</span>&nbsp;<span class="op" id="6735900">=</span>&nbsp;<span class="ident" id="6735902">flag</span><span class="op" id="6735906">[</span><span class="num" id="6735907">1</span><span class="op" id="6735908">:</span><span class="op" id="6735909">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735914">if</span>&nbsp;<span class="ident" id="6735917">flag</span>&nbsp;<span class="op" id="6735922">==</span>&nbsp;<span class="string" id="6735925">&#34;&#34;</span>&nbsp;<span class="op" id="6735928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735934">continue</span>&nbsp;<span class="ident" id="6735943">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6735954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735958">case</span>&nbsp;<span class="string" id="6735963">&#39;:&#39;</span><span class="op" id="6735966">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735971">i</span>&nbsp;<span class="op" id="6735973">:=</span>&nbsp;<span class="ident" id="6735976">strings</span><span class="op" id="6735983">.</span><span class="ident" id="6735984">Index</span><span class="op" id="6735989">(</span><span class="ident" id="6735990">flag</span><span class="op" id="6735994">[</span><span class="num" id="6735995">1</span><span class="op" id="6735996">:</span><span class="op" id="6735997">]</span><span class="op" id="6735998">,</span>&nbsp;<span class="string" id="6736000">&#34;:&#34;</span><span class="op" id="6736003">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736008">if</span>&nbsp;<span class="ident" id="6736011">i</span>&nbsp;<span class="op" id="6736013">&lt;</span>&nbsp;<span class="num" id="6736015">0</span>&nbsp;<span class="op" id="6736017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736023">t</span><span class="op" id="6736024">.</span><span class="ident" id="6736025">Logf</span><span class="op" id="6736029">(</span><span class="string" id="6736030">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="6736040">,</span>&nbsp;<span class="ident" id="6736042">line</span><span class="op" id="6736046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736052">continue</span>&nbsp;<span class="ident" id="6736061">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6736072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736077">flag</span>&nbsp;<span class="op" id="6736082">=</span>&nbsp;<span class="ident" id="6736084">flag</span><span class="op" id="6736088">[</span><span class="num" id="6736089">1</span><span class="op" id="6736090">+</span><span class="ident" id="6736091">i</span><span class="op" id="6736092">+</span><span class="num" id="6736093">1</span><span class="op" id="6736094">:</span><span class="op" id="6736095">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736099">case</span>&nbsp;<span class="string" id="6736104">&#39;C&#39;</span><span class="op" id="6736107">,</span>&nbsp;<span class="string" id="6736109">&#39;N&#39;</span><span class="op" id="6736112">,</span>&nbsp;<span class="string" id="6736114">&#39;T&#39;</span><span class="op" id="6736117">,</span>&nbsp;<span class="string" id="6736119">&#39;0&#39;</span><span class="op" id="6736122">,</span>&nbsp;<span class="string" id="6736124">&#39;1&#39;</span><span class="op" id="6736127">,</span>&nbsp;<span class="string" id="6736129">&#39;2&#39;</span><span class="op" id="6736132">,</span>&nbsp;<span class="string" id="6736134">&#39;3&#39;</span><span class="op" id="6736137">,</span>&nbsp;<span class="string" id="6736139">&#39;4&#39;</span><span class="op" id="6736142">,</span>&nbsp;<span class="string" id="6736144">&#39;5&#39;</span><span class="op" id="6736147">,</span>&nbsp;<span class="string" id="6736149">&#39;6&#39;</span><span class="op" id="6736152">,</span>&nbsp;<span class="string" id="6736154">&#39;7&#39;</span><span class="op" id="6736157">,</span>&nbsp;<span class="string" id="6736159">&#39;8&#39;</span><span class="op" id="6736162">,</span>&nbsp;<span class="string" id="6736164">&#39;9&#39;</span><span class="op" id="6736167">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736172">t</span><span class="op" id="6736173">.</span><span class="ident" id="6736174">Logf</span><span class="op" id="6736178">(</span><span class="string" id="6736179">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="6736189">,</span>&nbsp;<span class="ident" id="6736191">line</span><span class="op" id="6736195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736200">continue</span>&nbsp;<span class="ident" id="6736209">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6736219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6736224">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736302">if</span>&nbsp;<span class="builtinfunc" id="6736305">len</span><span class="op" id="6736308">(</span><span class="ident" id="6736309">field</span><span class="op" id="6736314">)</span>&nbsp;<span class="op" id="6736316">&lt;</span>&nbsp;<span class="num" id="6736318">4</span>&nbsp;<span class="op" id="6736320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736325">t</span><span class="op" id="6736326">.</span><span class="ident" id="6736327">Errorf</span><span class="op" id="6736333">(</span><span class="string" id="6736334">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="6736361">,</span>&nbsp;<span class="ident" id="6736363">file</span><span class="op" id="6736367">,</span>&nbsp;<span class="ident" id="6736369">lineno</span><span class="op" id="6736375">,</span>&nbsp;<span class="ident" id="6736377">line</span><span class="op" id="6736381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736386">continue</span>&nbsp;<span class="ident" id="6736395">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6736405">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6736410">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736453">if</span>&nbsp;<span class="ident" id="6736456">strings</span><span class="op" id="6736463">.</span><span class="ident" id="6736464">Contains</span><span class="op" id="6736472">(</span><span class="ident" id="6736473">flag</span><span class="op" id="6736477">,</span>&nbsp;<span class="string" id="6736479">&#34;$&#34;</span><span class="op" id="6736482">)</span>&nbsp;<span class="op" id="6736484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736489">f</span>&nbsp;<span class="op" id="6736491">:=</span>&nbsp;<span class="string" id="6736494">`&#34;`</span>&nbsp;<span class="op" id="6736498">+</span>&nbsp;<span class="ident" id="6736500">field</span><span class="op" id="6736505">[</span><span class="num" id="6736506">1</span><span class="op" id="6736507">]</span>&nbsp;<span class="op" id="6736509">+</span>&nbsp;<span class="string" id="6736511">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736518">if</span>&nbsp;<span class="ident" id="6736521">field</span><span class="op" id="6736526">[</span><span class="num" id="6736527">1</span><span class="op" id="6736528">]</span><span class="op" id="6736529">,</span>&nbsp;<span class="ident" id="6736531">err</span>&nbsp;<span class="op" id="6736535">=</span>&nbsp;<span class="ident" id="6736537">strconv</span><span class="op" id="6736544">.</span><span class="ident" id="6736545">Unquote</span><span class="op" id="6736552">(</span><span class="ident" id="6736553">f</span><span class="op" id="6736554">)</span><span class="op" id="6736555">;</span>&nbsp;<span class="ident" id="6736557">err</span>&nbsp;<span class="op" id="6736561">!=</span>&nbsp;<span class="ident" id="6736564">nil</span>&nbsp;<span class="op" id="6736568">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736574">t</span><span class="op" id="6736575">.</span><span class="ident" id="6736576">Errorf</span><span class="op" id="6736582">(</span><span class="string" id="6736583">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="6736609">,</span>&nbsp;<span class="ident" id="6736611">file</span><span class="op" id="6736615">,</span>&nbsp;<span class="ident" id="6736617">lineno</span><span class="op" id="6736623">,</span>&nbsp;<span class="ident" id="6736625">f</span><span class="op" id="6736626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6736631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736636">f</span>&nbsp;<span class="op" id="6736638">=</span>&nbsp;<span class="string" id="6736640">`&#34;`</span>&nbsp;<span class="op" id="6736644">+</span>&nbsp;<span class="ident" id="6736646">field</span><span class="op" id="6736651">[</span><span class="num" id="6736652">2</span><span class="op" id="6736653">]</span>&nbsp;<span class="op" id="6736655">+</span>&nbsp;<span class="string" id="6736657">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736664">if</span>&nbsp;<span class="ident" id="6736667">field</span><span class="op" id="6736672">[</span><span class="num" id="6736673">2</span><span class="op" id="6736674">]</span><span class="op" id="6736675">,</span>&nbsp;<span class="ident" id="6736677">err</span>&nbsp;<span class="op" id="6736681">=</span>&nbsp;<span class="ident" id="6736683">strconv</span><span class="op" id="6736690">.</span><span class="ident" id="6736691">Unquote</span><span class="op" id="6736698">(</span><span class="ident" id="6736699">f</span><span class="op" id="6736700">)</span><span class="op" id="6736701">;</span>&nbsp;<span class="ident" id="6736703">err</span>&nbsp;<span class="op" id="6736707">!=</span>&nbsp;<span class="ident" id="6736710">nil</span>&nbsp;<span class="op" id="6736714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736720">t</span><span class="op" id="6736721">.</span><span class="ident" id="6736722">Errorf</span><span class="op" id="6736728">(</span><span class="string" id="6736729">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="6736755">,</span>&nbsp;<span class="ident" id="6736757">file</span><span class="op" id="6736761">,</span>&nbsp;<span class="ident" id="6736763">lineno</span><span class="op" id="6736769">,</span>&nbsp;<span class="ident" id="6736771">f</span><span class="op" id="6736772">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6736777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6736781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6736786">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6736861">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6736898">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736903">if</span>&nbsp;<span class="ident" id="6736906">field</span><span class="op" id="6736911">[</span><span class="num" id="6736912">1</span><span class="op" id="6736913">]</span>&nbsp;<span class="op" id="6736915">==</span>&nbsp;<span class="string" id="6736918">&#34;SAME&#34;</span>&nbsp;<span class="op" id="6736925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736930">field</span><span class="op" id="6736935">[</span><span class="num" id="6736936">1</span><span class="op" id="6736937">]</span>&nbsp;<span class="op" id="6736939">=</span>&nbsp;<span class="ident" id="6736941">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6736954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736958">lastRegexp</span>&nbsp;<span class="op" id="6736969">=</span>&nbsp;<span class="ident" id="6736971">field</span><span class="op" id="6736976">[</span><span class="num" id="6736977">1</span><span class="op" id="6736978">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6736983">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737020">text</span>&nbsp;<span class="op" id="6737025">:=</span>&nbsp;<span class="ident" id="6737028">field</span><span class="op" id="6737033">[</span><span class="num" id="6737034">2</span><span class="op" id="6737035">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6737040">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737076">ok</span><span class="op" id="6737078">,</span>&nbsp;<span class="ident" id="6737080">shouldCompile</span><span class="op" id="6737093">,</span>&nbsp;<span class="ident" id="6737095">shouldMatch</span><span class="op" id="6737106">,</span>&nbsp;<span class="ident" id="6737108">pos</span>&nbsp;<span class="op" id="6737112">:=</span>&nbsp;<span class="ident" id="6737115">parseFowlerResult</span><span class="op" id="6737132">(</span><span class="ident" id="6737133">field</span><span class="op" id="6737138">[</span><span class="num" id="6737139">3</span><span class="op" id="6737140">]</span><span class="op" id="6737141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737145">if</span>&nbsp;<span class="op" id="6737148">!</span><span class="ident" id="6737149">ok</span>&nbsp;<span class="op" id="6737152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737157">t</span><span class="op" id="6737158">.</span><span class="ident" id="6737159">Errorf</span><span class="op" id="6737165">(</span><span class="string" id="6737166">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="6737198">,</span>&nbsp;<span class="ident" id="6737200">file</span><span class="op" id="6737204">,</span>&nbsp;<span class="ident" id="6737206">lineno</span><span class="op" id="6737212">,</span>&nbsp;<span class="ident" id="6737214">field</span><span class="op" id="6737219">[</span><span class="num" id="6737220">3</span><span class="op" id="6737221">]</span><span class="op" id="6737222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737227">continue</span>&nbsp;<span class="ident" id="6737236">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6737246">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6737251">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737308">Testing</span><span class="op" id="6737315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6737319">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737394">for</span>&nbsp;<span class="ident" id="6737398">_</span><span class="op" id="6737399">,</span>&nbsp;<span class="ident" id="6737401">c</span>&nbsp;<span class="op" id="6737403">:=</span>&nbsp;<span class="keyword" id="6737406">range</span>&nbsp;<span class="ident" id="6737412">flag</span>&nbsp;<span class="op" id="6737417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737422">pattern</span>&nbsp;<span class="op" id="6737430">:=</span>&nbsp;<span class="ident" id="6737433">field</span><span class="op" id="6737438">[</span><span class="num" id="6737439">1</span><span class="op" id="6737440">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737445">syn</span>&nbsp;<span class="op" id="6737449">:=</span>&nbsp;<span class="ident" id="6737452">syntax</span><span class="op" id="6737458">.</span><span class="ident" id="6737459">POSIX</span>&nbsp;<span class="op" id="6737465">|</span>&nbsp;<span class="ident" id="6737467">syntax</span><span class="op" id="6737473">.</span><span class="ident" id="6737474">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737485">switch</span>&nbsp;<span class="ident" id="6737492">c</span>&nbsp;<span class="op" id="6737494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737499">default</span><span class="op" id="6737506">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737512">continue</span>&nbsp;<span class="ident" id="6737521">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737532">case</span>&nbsp;<span class="string" id="6737537">&#39;E&#39;</span><span class="op" id="6737540">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6737546">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737586">case</span>&nbsp;<span class="string" id="6737591">&#39;L&#39;</span><span class="op" id="6737594">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6737600">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737615">pattern</span>&nbsp;<span class="op" id="6737623">=</span>&nbsp;<span class="ident" id="6737625">QuoteMeta</span><span class="op" id="6737634">(</span><span class="ident" id="6737635">pattern</span><span class="op" id="6737642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6737647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737653">for</span>&nbsp;<span class="ident" id="6737657">_</span><span class="op" id="6737658">,</span>&nbsp;<span class="ident" id="6737660">c</span>&nbsp;<span class="op" id="6737662">:=</span>&nbsp;<span class="keyword" id="6737665">range</span>&nbsp;<span class="ident" id="6737671">flag</span>&nbsp;<span class="op" id="6737676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737682">switch</span>&nbsp;<span class="ident" id="6737689">c</span>&nbsp;<span class="op" id="6737691">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737697">case</span>&nbsp;<span class="string" id="6737702">&#39;i&#39;</span><span class="op" id="6737705">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737712">syn</span>&nbsp;<span class="op" id="6737716">|=</span>&nbsp;<span class="ident" id="6737719">syntax</span><span class="op" id="6737725">.</span><span class="ident" id="6737726">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6737739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6737744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737750">re</span><span class="op" id="6737752">,</span>&nbsp;<span class="ident" id="6737754">err</span>&nbsp;<span class="op" id="6737758">:=</span>&nbsp;<span class="ident" id="6737761">compile</span><span class="op" id="6737768">(</span><span class="ident" id="6737769">pattern</span><span class="op" id="6737776">,</span>&nbsp;<span class="ident" id="6737778">syn</span><span class="op" id="6737781">,</span>&nbsp;<span class="builtintype" id="6737783">true</span><span class="op" id="6737787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737792">if</span>&nbsp;<span class="ident" id="6737795">err</span>&nbsp;<span class="op" id="6737799">!=</span>&nbsp;<span class="ident" id="6737802">nil</span>&nbsp;<span class="op" id="6737806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737812">if</span>&nbsp;<span class="ident" id="6737815">shouldCompile</span>&nbsp;<span class="op" id="6737829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737836">t</span><span class="op" id="6737837">.</span><span class="ident" id="6737838">Errorf</span><span class="op" id="6737844">(</span><span class="string" id="6737845">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="6737873">,</span>&nbsp;<span class="ident" id="6737875">file</span><span class="op" id="6737879">,</span>&nbsp;<span class="ident" id="6737881">lineno</span><span class="op" id="6737887">,</span>&nbsp;<span class="ident" id="6737889">pattern</span><span class="op" id="6737896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6737902">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737908">continue</span>&nbsp;<span class="ident" id="6737917">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6737928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6737933">if</span>&nbsp;<span class="op" id="6737936">!</span><span class="ident" id="6737937">shouldCompile</span>&nbsp;<span class="op" id="6737951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6737957">t</span><span class="op" id="6737958">.</span><span class="ident" id="6737959">Errorf</span><span class="op" id="6737965">(</span><span class="string" id="6737966">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="6737997">,</span>&nbsp;<span class="ident" id="6737999">file</span><span class="op" id="6738003">,</span>&nbsp;<span class="ident" id="6738005">lineno</span><span class="op" id="6738011">,</span>&nbsp;<span class="ident" id="6738013">pattern</span><span class="op" id="6738020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6738026">continue</span>&nbsp;<span class="ident" id="6738035">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6738046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6738051">match</span>&nbsp;<span class="op" id="6738057">:=</span>&nbsp;<span class="ident" id="6738060">re</span><span class="op" id="6738062">.</span><span class="ident" id="6738063">MatchString</span><span class="op" id="6738074">(</span><span class="ident" id="6738075">text</span><span class="op" id="6738079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6738084">if</span>&nbsp;<span class="ident" id="6738087">match</span>&nbsp;<span class="op" id="6738093">!=</span>&nbsp;<span class="ident" id="6738096">shouldMatch</span>&nbsp;<span class="op" id="6738108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6738114">t</span><span class="op" id="6738115">.</span><span class="ident" id="6738116">Errorf</span><span class="op" id="6738122">(</span><span class="string" id="6738123">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6738160">,</span>&nbsp;<span class="ident" id="6738162">file</span><span class="op" id="6738166">,</span>&nbsp;<span class="ident" id="6738168">lineno</span><span class="op" id="6738174">,</span>&nbsp;<span class="ident" id="6738176">pattern</span><span class="op" id="6738183">,</span>&nbsp;<span class="ident" id="6738185">text</span><span class="op" id="6738189">,</span>&nbsp;<span class="ident" id="6738191">match</span><span class="op" id="6738196">,</span>&nbsp;<span class="ident" id="6738198">shouldMatch</span><span class="op" id="6738209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6738215">continue</span>&nbsp;<span class="ident" id="6738224">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6738235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6738240">have</span>&nbsp;<span class="op" id="6738245">:=</span>&nbsp;<span class="ident" id="6738248">re</span><span class="op" id="6738250">.</span><span class="ident" id="6738251">FindStringSubmatchIndex</span><span class="op" id="6738274">(</span><span class="ident" id="6738275">text</span><span class="op" id="6738279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6738284">if</span>&nbsp;<span class="op" id="6738287">(</span><span class="builtinfunc" id="6738288">len</span><span class="op" id="6738291">(</span><span class="ident" id="6738292">have</span><span class="op" id="6738296">)</span>&nbsp;<span class="op" id="6738298">&gt;</span>&nbsp;<span class="num" id="6738300">0</span><span class="op" id="6738301">)</span>&nbsp;<span class="op" id="6738303">!=</span>&nbsp;<span class="ident" id="6738306">match</span>&nbsp;<span class="op" id="6738312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6738318">t</span><span class="op" id="6738319">.</span><span class="ident" id="6738320">Errorf</span><span class="op" id="6738326">(</span><span class="string" id="6738327">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="6738392">,</span>&nbsp;<span class="ident" id="6738394">file</span><span class="op" id="6738398">,</span>&nbsp;<span class="ident" id="6738400">lineno</span><span class="op" id="6738406">,</span>&nbsp;<span class="ident" id="6738408">pattern</span><span class="op" id="6738415">,</span>&nbsp;<span class="ident" id="6738417">text</span><span class="op" id="6738421">,</span>&nbsp;<span class="ident" id="6738423">match</span><span class="op" id="6738428">,</span>&nbsp;<span class="ident" id="6738430">pattern</span><span class="op" id="6738437">,</span>&nbsp;<span class="ident" id="6738439">text</span><span class="op" id="6738443">,</span>&nbsp;<span class="ident" id="6738445">have</span><span class="op" id="6738449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6738455">continue</span>&nbsp;<span class="ident" id="6738464">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6738475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6738480">if</span>&nbsp;<span class="builtinfunc" id="6738483">len</span><span class="op" id="6738486">(</span><span class="ident" id="6738487">have</span><span class="op" id="6738491">)</span>&nbsp;<span class="op" id="6738493">&gt;</span>&nbsp;<span class="builtinfunc" id="6738495">len</span><span class="op" id="6738498">(</span><span class="ident" id="6738499">pos</span><span class="op" id="6738502">)</span>&nbsp;<span class="op" id="6738504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6738510">have</span>&nbsp;<span class="op" id="6738515">=</span>&nbsp;<span class="ident" id="6738517">have</span><span class="op" id="6738521">[</span><span class="op" id="6738522">:</span><span class="builtinfunc" id="6738523">len</span><span class="op" id="6738526">(</span><span class="ident" id="6738527">pos</span><span class="op" id="6738530">)</span><span class="op" id="6738531">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6738536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6738541">if</span>&nbsp;<span class="op" id="6738544">!</span><span class="ident" id="6738545">same</span><span class="op" id="6738549">(</span><span class="ident" id="6738550">have</span><span class="op" id="6738554">,</span>&nbsp;<span class="ident" id="6738556">pos</span><span class="op" id="6738559">)</span>&nbsp;<span class="op" id="6738561">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6738567">t</span><span class="op" id="6738568">.</span><span class="ident" id="6738569">Errorf</span><span class="op" id="6738575">(</span><span class="string" id="6738576">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6738625">,</span>&nbsp;<span class="ident" id="6738627">file</span><span class="op" id="6738631">,</span>&nbsp;<span class="ident" id="6738633">lineno</span><span class="op" id="6738639">,</span>&nbsp;<span class="ident" id="6738641">pattern</span><span class="op" id="6738648">,</span>&nbsp;<span class="ident" id="6738650">text</span><span class="op" id="6738654">,</span>&nbsp;<span class="ident" id="6738656">have</span><span class="op" id="6738660">,</span>&nbsp;<span class="ident" id="6738662">pos</span><span class="op" id="6738665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6738670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6738674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6738677">}</span><br>
<span class="lineno"></span><span class="op" id="6738679">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="6738682">func</span>&nbsp;<span class="ident" id="6738687">parseFowlerResult</span><span class="op" id="6738704">(</span><span class="ident" id="6738705">s</span>&nbsp;<span class="builtintype" id="6738707">string</span><span class="op" id="6738713">)</span>&nbsp;<span class="op" id="6738715">(</span><span class="ident" id="6738716">ok</span><span class="op" id="6738718">,</span>&nbsp;<span class="ident" id="6738720">compiled</span><span class="op" id="6738728">,</span>&nbsp;<span class="ident" id="6738730">matched</span>&nbsp;<span class="builtintype" id="6738738">bool</span><span class="op" id="6738742">,</span>&nbsp;<span class="ident" id="6738744">pos</span>&nbsp;<span class="op" id="6738748">[</span><span class="op" id="6738749">]</span><span class="builtintype" id="6738750">int</span><span class="op" id="6738753">)</span>&nbsp;<span class="op" id="6738755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6738758">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6738829">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6738899">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6738968">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739038">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739107">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739178">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739253">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739329">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739402">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739478">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739554">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739626">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739701">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6739719">switch</span>&nbsp;<span class="op" id="6739726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6739729">case</span>&nbsp;<span class="ident" id="6739734">s</span>&nbsp;<span class="op" id="6739736">==</span>&nbsp;<span class="string" id="6739739">&#34;&#34;</span><span class="op" id="6739741">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739745">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6739786">ok</span>&nbsp;<span class="op" id="6739789">=</span>&nbsp;<span class="builtintype" id="6739791">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6739798">compiled</span>&nbsp;<span class="op" id="6739807">=</span>&nbsp;<span class="builtintype" id="6739809">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6739816">matched</span>&nbsp;<span class="op" id="6739824">=</span>&nbsp;<span class="builtintype" id="6739826">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6739833">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6739841">case</span>&nbsp;<span class="ident" id="6739846">s</span>&nbsp;<span class="op" id="6739848">==</span>&nbsp;<span class="string" id="6739851">&#34;NOMATCH&#34;</span><span class="op" id="6739860">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739864">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6739884">ok</span>&nbsp;<span class="op" id="6739887">=</span>&nbsp;<span class="builtintype" id="6739889">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6739896">compiled</span>&nbsp;<span class="op" id="6739905">=</span>&nbsp;<span class="builtintype" id="6739907">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6739914">matched</span>&nbsp;<span class="op" id="6739922">=</span>&nbsp;<span class="builtintype" id="6739924">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6739932">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6739940">case</span>&nbsp;<span class="string" id="6739945">&#39;A&#39;</span>&nbsp;<span class="op" id="6739949">&lt;=</span>&nbsp;<span class="ident" id="6739952">s</span><span class="op" id="6739953">[</span><span class="num" id="6739954">0</span><span class="op" id="6739955">]</span>&nbsp;<span class="op" id="6739957">&amp;&amp;</span>&nbsp;<span class="ident" id="6739960">s</span><span class="op" id="6739961">[</span><span class="num" id="6739962">0</span><span class="op" id="6739963">]</span>&nbsp;<span class="op" id="6739965">&lt;=</span>&nbsp;<span class="string" id="6739968">&#39;Z&#39;</span><span class="op" id="6739971">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6739975">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740026">ok</span>&nbsp;<span class="op" id="6740029">=</span>&nbsp;<span class="builtintype" id="6740031">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740038">compiled</span>&nbsp;<span class="op" id="6740047">=</span>&nbsp;<span class="builtintype" id="6740049">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740057">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740065">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740068">compiled</span>&nbsp;<span class="op" id="6740077">=</span>&nbsp;<span class="builtintype" id="6740079">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740086">var</span>&nbsp;<span class="ident" id="6740090">x</span>&nbsp;<span class="op" id="6740092">[</span><span class="op" id="6740093">]</span><span class="builtintype" id="6740094">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740099">for</span>&nbsp;<span class="ident" id="6740103">s</span>&nbsp;<span class="op" id="6740105">!=</span>&nbsp;<span class="string" id="6740108">&#34;&#34;</span>&nbsp;<span class="op" id="6740111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740115">var</span>&nbsp;<span class="ident" id="6740119">end</span>&nbsp;<span class="builtintype" id="6740123">byte</span>&nbsp;<span class="op" id="6740128">=</span>&nbsp;<span class="string" id="6740130">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740136">if</span>&nbsp;<span class="builtinfunc" id="6740139">len</span><span class="op" id="6740142">(</span><span class="ident" id="6740143">x</span><span class="op" id="6740144">)</span><span class="op" id="6740145">%</span><span class="num" id="6740146">2</span>&nbsp;<span class="op" id="6740148">==</span>&nbsp;<span class="num" id="6740151">0</span>&nbsp;<span class="op" id="6740153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740158">if</span>&nbsp;<span class="ident" id="6740161">s</span><span class="op" id="6740162">[</span><span class="num" id="6740163">0</span><span class="op" id="6740164">]</span>&nbsp;<span class="op" id="6740166">!=</span>&nbsp;<span class="string" id="6740169">&#39;(&#39;</span>&nbsp;<span class="op" id="6740173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740179">ok</span>&nbsp;<span class="op" id="6740182">=</span>&nbsp;<span class="builtintype" id="6740184">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740194">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740204">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740209">s</span>&nbsp;<span class="op" id="6740211">=</span>&nbsp;<span class="ident" id="6740213">s</span><span class="op" id="6740214">[</span><span class="num" id="6740215">1</span><span class="op" id="6740216">:</span><span class="op" id="6740217">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740222">end</span>&nbsp;<span class="op" id="6740226">=</span>&nbsp;<span class="string" id="6740228">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740238">i</span>&nbsp;<span class="op" id="6740240">:=</span>&nbsp;<span class="num" id="6740243">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740247">for</span>&nbsp;<span class="ident" id="6740251">i</span>&nbsp;<span class="op" id="6740253">&lt;</span>&nbsp;<span class="builtinfunc" id="6740255">len</span><span class="op" id="6740258">(</span><span class="ident" id="6740259">s</span><span class="op" id="6740260">)</span>&nbsp;<span class="op" id="6740262">&amp;&amp;</span>&nbsp;<span class="ident" id="6740265">s</span><span class="op" id="6740266">[</span><span class="ident" id="6740267">i</span><span class="op" id="6740268">]</span>&nbsp;<span class="op" id="6740270">!=</span>&nbsp;<span class="ident" id="6740273">end</span>&nbsp;<span class="op" id="6740277">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740282">i</span><span class="op" id="6740283">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740292">if</span>&nbsp;<span class="ident" id="6740295">i</span>&nbsp;<span class="op" id="6740297">==</span>&nbsp;<span class="num" id="6740300">0</span>&nbsp;<span class="op" id="6740302">||</span>&nbsp;<span class="ident" id="6740305">i</span>&nbsp;<span class="op" id="6740307">==</span>&nbsp;<span class="builtinfunc" id="6740310">len</span><span class="op" id="6740313">(</span><span class="ident" id="6740314">s</span><span class="op" id="6740315">)</span>&nbsp;<span class="op" id="6740317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740322">ok</span>&nbsp;<span class="op" id="6740325">=</span>&nbsp;<span class="builtintype" id="6740327">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740336">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740349">var</span>&nbsp;<span class="ident" id="6740353">v</span>&nbsp;<span class="op" id="6740355">=</span>&nbsp;<span class="op" id="6740357">-</span><span class="num" id="6740358">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740362">var</span>&nbsp;<span class="ident" id="6740366">err</span>&nbsp;<span class="builtintype" id="6740370">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740378">if</span>&nbsp;<span class="ident" id="6740381">s</span><span class="op" id="6740382">[</span><span class="op" id="6740383">:</span><span class="ident" id="6740384">i</span><span class="op" id="6740385">]</span>&nbsp;<span class="op" id="6740387">!=</span>&nbsp;<span class="string" id="6740390">&#34;?&#34;</span>&nbsp;<span class="op" id="6740394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740399">v</span><span class="op" id="6740400">,</span>&nbsp;<span class="ident" id="6740402">err</span>&nbsp;<span class="op" id="6740406">=</span>&nbsp;<span class="ident" id="6740408">strconv</span><span class="op" id="6740415">.</span><span class="ident" id="6740416">Atoi</span><span class="op" id="6740420">(</span><span class="ident" id="6740421">s</span><span class="op" id="6740422">[</span><span class="op" id="6740423">:</span><span class="ident" id="6740424">i</span><span class="op" id="6740425">]</span><span class="op" id="6740426">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740431">if</span>&nbsp;<span class="ident" id="6740434">err</span>&nbsp;<span class="op" id="6740438">!=</span>&nbsp;<span class="ident" id="6740441">nil</span>&nbsp;<span class="op" id="6740445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740451">ok</span>&nbsp;<span class="op" id="6740454">=</span>&nbsp;<span class="builtintype" id="6740456">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740466">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740480">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740484">x</span>&nbsp;<span class="op" id="6740486">=</span>&nbsp;<span class="builtinfunc" id="6740488">append</span><span class="op" id="6740494">(</span><span class="ident" id="6740495">x</span><span class="op" id="6740496">,</span>&nbsp;<span class="ident" id="6740498">v</span><span class="op" id="6740499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740503">s</span>&nbsp;<span class="op" id="6740505">=</span>&nbsp;<span class="ident" id="6740507">s</span><span class="op" id="6740508">[</span><span class="ident" id="6740509">i</span><span class="op" id="6740510">+</span><span class="num" id="6740511">1</span><span class="op" id="6740512">:</span><span class="op" id="6740513">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740519">if</span>&nbsp;<span class="builtinfunc" id="6740522">len</span><span class="op" id="6740525">(</span><span class="ident" id="6740526">x</span><span class="op" id="6740527">)</span><span class="op" id="6740528">%</span><span class="num" id="6740529">2</span>&nbsp;<span class="op" id="6740531">!=</span>&nbsp;<span class="num" id="6740534">0</span>&nbsp;<span class="op" id="6740536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740540">ok</span>&nbsp;<span class="op" id="6740543">=</span>&nbsp;<span class="builtintype" id="6740545">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740553">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740564">ok</span>&nbsp;<span class="op" id="6740567">=</span>&nbsp;<span class="builtintype" id="6740569">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740575">matched</span>&nbsp;<span class="op" id="6740583">=</span>&nbsp;<span class="builtintype" id="6740585">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740591">pos</span>&nbsp;<span class="op" id="6740595">=</span>&nbsp;<span class="ident" id="6740597">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740600">return</span><br>
<span class="lineno"></span><span class="op" id="6740607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6740610">var</span>&nbsp;<span class="ident" id="6740614">text</span>&nbsp;<span class="op" id="6740619">[</span><span class="op" id="6740620">]</span><span class="builtintype" id="6740621">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="6740627">func</span>&nbsp;<span class="ident" id="6740632">makeText</span><span class="op" id="6740640">(</span><span class="ident" id="6740641">n</span>&nbsp;<span class="builtintype" id="6740643">int</span><span class="op" id="6740646">)</span>&nbsp;<span class="op" id="6740648">[</span><span class="op" id="6740649">]</span><span class="builtintype" id="6740650">byte</span>&nbsp;<span class="op" id="6740655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740658">if</span>&nbsp;<span class="builtinfunc" id="6740661">len</span><span class="op" id="6740664">(</span><span class="ident" id="6740665">text</span><span class="op" id="6740669">)</span>&nbsp;<span class="op" id="6740671">&gt;=</span>&nbsp;<span class="ident" id="6740674">n</span>&nbsp;<span class="op" id="6740676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740680">return</span>&nbsp;<span class="ident" id="6740687">text</span><span class="op" id="6740691">[</span><span class="op" id="6740692">:</span><span class="ident" id="6740693">n</span><span class="op" id="6740694">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740700">text</span>&nbsp;<span class="op" id="6740705">=</span>&nbsp;<span class="builtinfunc" id="6740707">make</span><span class="op" id="6740711">(</span><span class="op" id="6740712">[</span><span class="op" id="6740713">]</span><span class="builtintype" id="6740714">byte</span><span class="op" id="6740718">,</span>&nbsp;<span class="ident" id="6740720">n</span><span class="op" id="6740721">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740724">x</span>&nbsp;<span class="op" id="6740726">:=</span>&nbsp;<span class="op" id="6740729">^</span><span class="builtintype" id="6740730">uint32</span><span class="op" id="6740736">(</span><span class="num" id="6740737">0</span><span class="op" id="6740738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740741">for</span>&nbsp;<span class="ident" id="6740745">i</span>&nbsp;<span class="op" id="6740747">:=</span>&nbsp;<span class="keyword" id="6740750">range</span>&nbsp;<span class="ident" id="6740756">text</span>&nbsp;<span class="op" id="6740761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740765">x</span>&nbsp;<span class="op" id="6740767">+=</span>&nbsp;<span class="ident" id="6740770">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740774">x</span>&nbsp;<span class="op" id="6740776">^=</span>&nbsp;<span class="num" id="6740779">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740783">if</span>&nbsp;<span class="builtintype" id="6740786">int32</span><span class="op" id="6740791">(</span><span class="ident" id="6740792">x</span><span class="op" id="6740793">)</span>&nbsp;<span class="op" id="6740795">&lt;</span>&nbsp;<span class="num" id="6740797">0</span>&nbsp;<span class="op" id="6740799">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740804">x</span>&nbsp;<span class="op" id="6740806">^=</span>&nbsp;<span class="num" id="6740809">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740826">if</span>&nbsp;<span class="ident" id="6740829">x</span><span class="op" id="6740830">%</span><span class="num" id="6740831">31</span>&nbsp;<span class="op" id="6740834">==</span>&nbsp;<span class="num" id="6740837">0</span>&nbsp;<span class="op" id="6740839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740844">text</span><span class="op" id="6740848">[</span><span class="ident" id="6740849">i</span><span class="op" id="6740850">]</span>&nbsp;<span class="op" id="6740852">=</span>&nbsp;<span class="string" id="6740854">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740861">}</span>&nbsp;<span class="keyword" id="6740863">else</span>&nbsp;<span class="op" id="6740868">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740873">text</span><span class="op" id="6740877">[</span><span class="ident" id="6740878">i</span><span class="op" id="6740879">]</span>&nbsp;<span class="op" id="6740881">=</span>&nbsp;<span class="builtintype" id="6740883">byte</span><span class="op" id="6740887">(</span><span class="ident" id="6740888">x</span><span class="op" id="6740889">%</span><span class="op" id="6740890">(</span><span class="num" id="6740891">0x7E</span><span class="op" id="6740895">+</span><span class="num" id="6740896">1</span><span class="op" id="6740897">-</span><span class="num" id="6740898">0x20</span><span class="op" id="6740902">)</span>&nbsp;<span class="op" id="6740904">+</span>&nbsp;<span class="num" id="6740906">0x20</span><span class="op" id="6740910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6740917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6740920">return</span>&nbsp;<span class="ident" id="6740927">text</span><br>
<span class="lineno"></span><span class="op" id="6740932">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="6740935">func</span>&nbsp;<span class="ident" id="6740940">benchmark</span><span class="op" id="6740949">(</span><span class="ident" id="6740950">b</span>&nbsp;<span class="op" id="6740952">*</span><span class="ident" id="6740953">testing</span><span class="op" id="6740960">.</span><span class="ident" id="6740961">B</span><span class="op" id="6740962">,</span>&nbsp;<span class="ident" id="6740964">re</span>&nbsp;<span class="builtintype" id="6740967">string</span><span class="op" id="6740973">,</span>&nbsp;<span class="ident" id="6740975">n</span>&nbsp;<span class="builtintype" id="6740977">int</span><span class="op" id="6740980">)</span>&nbsp;<span class="op" id="6740982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6740985">r</span>&nbsp;<span class="op" id="6740987">:=</span>&nbsp;<span class="ident" id="6740990">MustCompile</span><span class="op" id="6741001">(</span><span class="ident" id="6741002">re</span><span class="op" id="6741004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6741007">t</span>&nbsp;<span class="op" id="6741009">:=</span>&nbsp;<span class="ident" id="6741012">makeText</span><span class="op" id="6741020">(</span><span class="ident" id="6741021">n</span><span class="op" id="6741022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6741025">b</span><span class="op" id="6741026">.</span><span class="ident" id="6741027">ResetTimer</span><span class="op" id="6741037">(</span><span class="op" id="6741038">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6741041">b</span><span class="op" id="6741042">.</span><span class="ident" id="6741043">SetBytes</span><span class="op" id="6741051">(</span><span class="ident" id="6741052">int64</span><span class="op" id="6741057">(</span><span class="ident" id="6741058">n</span><span class="op" id="6741059">)</span><span class="op" id="6741060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6741063">for</span>&nbsp;<span class="ident" id="6741067">i</span>&nbsp;<span class="op" id="6741069">:=</span>&nbsp;<span class="num" id="6741072">0</span><span class="op" id="6741073">;</span>&nbsp;<span class="ident" id="6741075">i</span>&nbsp;<span class="op" id="6741077">&lt;</span>&nbsp;<span class="ident" id="6741079">b</span><span class="op" id="6741080">.</span><span class="ident" id="6741081">N</span><span class="op" id="6741082">;</span>&nbsp;<span class="ident" id="6741084">i</span><span class="op" id="6741085">++</span>&nbsp;<span class="op" id="6741088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6741092">if</span>&nbsp;<span class="ident" id="6741095">r</span><span class="op" id="6741096">.</span><span class="ident" id="6741097">Match</span><span class="op" id="6741102">(</span><span class="ident" id="6741103">t</span><span class="op" id="6741104">)</span>&nbsp;<span class="op" id="6741106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6741111">b</span><span class="op" id="6741112">.</span><span class="ident" id="6741113">Fatal</span><span class="op" id="6741118">(</span><span class="string" id="6741119">&#34;match!&#34;</span><span class="op" id="6741127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6741131">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6741134">}</span><br>
<span class="lineno"></span><span class="op" id="6741136">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6741139">const</span>&nbsp;<span class="op" id="6741145">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6741148">easy0</span>&nbsp;&nbsp;<span class="op" id="6741155">=</span>&nbsp;<span class="string" id="6741157">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6741188">easy1</span>&nbsp;&nbsp;<span class="op" id="6741195">=</span>&nbsp;<span class="string" id="6741197">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6741248">medium</span>&nbsp;<span class="op" id="6741255">=</span>&nbsp;<span class="string" id="6741257">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6741293">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6741300">=</span>&nbsp;<span class="string" id="6741302">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6741339">parens</span>&nbsp;<span class="op" id="6741346">=</span>&nbsp;<span class="string" id="6741348">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="6741398">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6741402">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="6741445">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6741448">func</span>&nbsp;<span class="ident" id="6741453">BenchmarkMatchEasy0_32</span><span class="op" id="6741475">(</span><span class="ident" id="6741476">b</span>&nbsp;<span class="op" id="6741478">*</span><span class="ident" id="6741479">testing</span><span class="op" id="6741486">.</span><span class="ident" id="6741487">B</span><span class="op" id="6741488">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6741492">{</span>&nbsp;<span class="ident" id="6741494">benchmark</span><span class="op" id="6741503">(</span><span class="ident" id="6741504">b</span><span class="op" id="6741505">,</span>&nbsp;<span class="ident" id="6741507">easy0</span><span class="op" id="6741512">,</span>&nbsp;<span class="num" id="6741514">32</span><span class="op" id="6741516">&lt;&lt;</span><span class="num" id="6741518">0</span><span class="op" id="6741519">)</span>&nbsp;<span class="op" id="6741521">}</span><br>
<span class="lineno"></span><span class="keyword" id="6741523">func</span>&nbsp;<span class="ident" id="6741528">BenchmarkMatchEasy0_1K</span><span class="op" id="6741550">(</span><span class="ident" id="6741551">b</span>&nbsp;<span class="op" id="6741553">*</span><span class="ident" id="6741554">testing</span><span class="op" id="6741561">.</span><span class="ident" id="6741562">B</span><span class="op" id="6741563">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6741567">{</span>&nbsp;<span class="ident" id="6741569">benchmark</span><span class="op" id="6741578">(</span><span class="ident" id="6741579">b</span><span class="op" id="6741580">,</span>&nbsp;<span class="ident" id="6741582">easy0</span><span class="op" id="6741587">,</span>&nbsp;<span class="num" id="6741589">1</span><span class="op" id="6741590">&lt;&lt;</span><span class="num" id="6741592">10</span><span class="op" id="6741594">)</span>&nbsp;<span class="op" id="6741596">}</span><br>
<span class="lineno"></span><span class="keyword" id="6741598">func</span>&nbsp;<span class="ident" id="6741603">BenchmarkMatchEasy0_32K</span><span class="op" id="6741626">(</span><span class="ident" id="6741627">b</span>&nbsp;<span class="op" id="6741629">*</span><span class="ident" id="6741630">testing</span><span class="op" id="6741637">.</span><span class="ident" id="6741638">B</span><span class="op" id="6741639">)</span>&nbsp;&nbsp;<span class="op" id="6741642">{</span>&nbsp;<span class="ident" id="6741644">benchmark</span><span class="op" id="6741653">(</span><span class="ident" id="6741654">b</span><span class="op" id="6741655">,</span>&nbsp;<span class="ident" id="6741657">easy0</span><span class="op" id="6741662">,</span>&nbsp;<span class="num" id="6741664">32</span><span class="op" id="6741666">&lt;&lt;</span><span class="num" id="6741668">10</span><span class="op" id="6741670">)</span>&nbsp;<span class="op" id="6741672">}</span><br>
<span class="lineno">685</span><span class="keyword" id="6741674">func</span>&nbsp;<span class="ident" id="6741679">BenchmarkMatchEasy0_1M</span><span class="op" id="6741701">(</span><span class="ident" id="6741702">b</span>&nbsp;<span class="op" id="6741704">*</span><span class="ident" id="6741705">testing</span><span class="op" id="6741712">.</span><span class="ident" id="6741713">B</span><span class="op" id="6741714">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6741718">{</span>&nbsp;<span class="ident" id="6741720">benchmark</span><span class="op" id="6741729">(</span><span class="ident" id="6741730">b</span><span class="op" id="6741731">,</span>&nbsp;<span class="ident" id="6741733">easy0</span><span class="op" id="6741738">,</span>&nbsp;<span class="num" id="6741740">1</span><span class="op" id="6741741">&lt;&lt;</span><span class="num" id="6741743">20</span><span class="op" id="6741745">)</span>&nbsp;<span class="op" id="6741747">}</span><br>
<span class="lineno"></span><span class="keyword" id="6741749">func</span>&nbsp;<span class="ident" id="6741754">BenchmarkMatchEasy0_32M</span><span class="op" id="6741777">(</span><span class="ident" id="6741778">b</span>&nbsp;<span class="op" id="6741780">*</span><span class="ident" id="6741781">testing</span><span class="op" id="6741788">.</span><span class="ident" id="6741789">B</span><span class="op" id="6741790">)</span>&nbsp;&nbsp;<span class="op" id="6741793">{</span>&nbsp;<span class="ident" id="6741795">benchmark</span><span class="op" id="6741804">(</span><span class="ident" id="6741805">b</span><span class="op" id="6741806">,</span>&nbsp;<span class="ident" id="6741808">easy0</span><span class="op" id="6741813">,</span>&nbsp;<span class="num" id="6741815">32</span><span class="op" id="6741817">&lt;&lt;</span><span class="num" id="6741819">20</span><span class="op" id="6741821">)</span>&nbsp;<span class="op" id="6741823">}</span><br>
<span class="lineno"></span><span class="keyword" id="6741825">func</span>&nbsp;<span class="ident" id="6741830">BenchmarkMatchEasy1_32</span><span class="op" id="6741852">(</span><span class="ident" id="6741853">b</span>&nbsp;<span class="op" id="6741855">*</span><span class="ident" id="6741856">testing</span><span class="op" id="6741863">.</span><span class="ident" id="6741864">B</span><span class="op" id="6741865">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6741869">{</span>&nbsp;<span class="ident" id="6741871">benchmark</span><span class="op" id="6741880">(</span><span class="ident" id="6741881">b</span><span class="op" id="6741882">,</span>&nbsp;<span class="ident" id="6741884">easy1</span><span class="op" id="6741889">,</span>&nbsp;<span class="num" id="6741891">32</span><span class="op" id="6741893">&lt;&lt;</span><span class="num" id="6741895">0</span><span class="op" id="6741896">)</span>&nbsp;<span class="op" id="6741898">}</span><br>
<span class="lineno"></span><span class="keyword" id="6741900">func</span>&nbsp;<span class="ident" id="6741905">BenchmarkMatchEasy1_1K</span><span class="op" id="6741927">(</span><span class="ident" id="6741928">b</span>&nbsp;<span class="op" id="6741930">*</span><span class="ident" id="6741931">testing</span><span class="op" id="6741938">.</span><span class="ident" id="6741939">B</span><span class="op" id="6741940">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6741944">{</span>&nbsp;<span class="ident" id="6741946">benchmark</span><span class="op" id="6741955">(</span><span class="ident" id="6741956">b</span><span class="op" id="6741957">,</span>&nbsp;<span class="ident" id="6741959">easy1</span><span class="op" id="6741964">,</span>&nbsp;<span class="num" id="6741966">1</span><span class="op" id="6741967">&lt;&lt;</span><span class="num" id="6741969">10</span><span class="op" id="6741971">)</span>&nbsp;<span class="op" id="6741973">}</span><br>
<span class="lineno"></span><span class="keyword" id="6741975">func</span>&nbsp;<span class="ident" id="6741980">BenchmarkMatchEasy1_32K</span><span class="op" id="6742003">(</span><span class="ident" id="6742004">b</span>&nbsp;<span class="op" id="6742006">*</span><span class="ident" id="6742007">testing</span><span class="op" id="6742014">.</span><span class="ident" id="6742015">B</span><span class="op" id="6742016">)</span>&nbsp;&nbsp;<span class="op" id="6742019">{</span>&nbsp;<span class="ident" id="6742021">benchmark</span><span class="op" id="6742030">(</span><span class="ident" id="6742031">b</span><span class="op" id="6742032">,</span>&nbsp;<span class="ident" id="6742034">easy1</span><span class="op" id="6742039">,</span>&nbsp;<span class="num" id="6742041">32</span><span class="op" id="6742043">&lt;&lt;</span><span class="num" id="6742045">10</span><span class="op" id="6742047">)</span>&nbsp;<span class="op" id="6742049">}</span><br>
<span class="lineno">690</span><span class="keyword" id="6742051">func</span>&nbsp;<span class="ident" id="6742056">BenchmarkMatchEasy1_1M</span><span class="op" id="6742078">(</span><span class="ident" id="6742079">b</span>&nbsp;<span class="op" id="6742081">*</span><span class="ident" id="6742082">testing</span><span class="op" id="6742089">.</span><span class="ident" id="6742090">B</span><span class="op" id="6742091">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6742095">{</span>&nbsp;<span class="ident" id="6742097">benchmark</span><span class="op" id="6742106">(</span><span class="ident" id="6742107">b</span><span class="op" id="6742108">,</span>&nbsp;<span class="ident" id="6742110">easy1</span><span class="op" id="6742115">,</span>&nbsp;<span class="num" id="6742117">1</span><span class="op" id="6742118">&lt;&lt;</span><span class="num" id="6742120">20</span><span class="op" id="6742122">)</span>&nbsp;<span class="op" id="6742124">}</span><br>
<span class="lineno"></span><span class="keyword" id="6742126">func</span>&nbsp;<span class="ident" id="6742131">BenchmarkMatchEasy1_32M</span><span class="op" id="6742154">(</span><span class="ident" id="6742155">b</span>&nbsp;<span class="op" id="6742157">*</span><span class="ident" id="6742158">testing</span><span class="op" id="6742165">.</span><span class="ident" id="6742166">B</span><span class="op" id="6742167">)</span>&nbsp;&nbsp;<span class="op" id="6742170">{</span>&nbsp;<span class="ident" id="6742172">benchmark</span><span class="op" id="6742181">(</span><span class="ident" id="6742182">b</span><span class="op" id="6742183">,</span>&nbsp;<span class="ident" id="6742185">easy1</span><span class="op" id="6742190">,</span>&nbsp;<span class="num" id="6742192">32</span><span class="op" id="6742194">&lt;&lt;</span><span class="num" id="6742196">20</span><span class="op" id="6742198">)</span>&nbsp;<span class="op" id="6742200">}</span><br>
<span class="lineno"></span><span class="keyword" id="6742202">func</span>&nbsp;<span class="ident" id="6742207">BenchmarkMatchMedium_32</span><span class="op" id="6742230">(</span><span class="ident" id="6742231">b</span>&nbsp;<span class="op" id="6742233">*</span><span class="ident" id="6742234">testing</span><span class="op" id="6742241">.</span><span class="ident" id="6742242">B</span><span class="op" id="6742243">)</span>&nbsp;&nbsp;<span class="op" id="6742246">{</span>&nbsp;<span class="ident" id="6742248">benchmark</span><span class="op" id="6742257">(</span><span class="ident" id="6742258">b</span><span class="op" id="6742259">,</span>&nbsp;<span class="ident" id="6742261">medium</span><span class="op" id="6742267">,</span>&nbsp;<span class="num" id="6742269">32</span><span class="op" id="6742271">&lt;&lt;</span><span class="num" id="6742273">0</span><span class="op" id="6742274">)</span>&nbsp;<span class="op" id="6742276">}</span><br>
<span class="lineno"></span><span class="keyword" id="6742278">func</span>&nbsp;<span class="ident" id="6742283">BenchmarkMatchMedium_1K</span><span class="op" id="6742306">(</span><span class="ident" id="6742307">b</span>&nbsp;<span class="op" id="6742309">*</span><span class="ident" id="6742310">testing</span><span class="op" id="6742317">.</span><span class="ident" id="6742318">B</span><span class="op" id="6742319">)</span>&nbsp;&nbsp;<span class="op" id="6742322">{</span>&nbsp;<span class="ident" id="6742324">benchmark</span><span class="op" id="6742333">(</span><span class="ident" id="6742334">b</span><span class="op" id="6742335">,</span>&nbsp;<span class="ident" id="6742337">medium</span><span class="op" id="6742343">,</span>&nbsp;<span class="num" id="6742345">1</span><span class="op" id="6742346">&lt;&lt;</span><span class="num" id="6742348">10</span><span class="op" id="6742350">)</span>&nbsp;<span class="op" id="6742352">}</span><br>
<span class="lineno"></span><span class="keyword" id="6742354">func</span>&nbsp;<span class="ident" id="6742359">BenchmarkMatchMedium_32K</span><span class="op" id="6742383">(</span><span class="ident" id="6742384">b</span>&nbsp;<span class="op" id="6742386">*</span><span class="ident" id="6742387">testing</span><span class="op" id="6742394">.</span><span class="ident" id="6742395">B</span><span class="op" id="6742396">)</span>&nbsp;<span class="op" id="6742398">{</span>&nbsp;<span class="ident" id="6742400">benchmark</span><span class="op" id="6742409">(</span><span class="ident" id="6742410">b</span><span class="op" id="6742411">,</span>&nbsp;<span class="ident" id="6742413">medium</span><span class="op" id="6742419">,</span>&nbsp;<span class="num" id="6742421">32</span><span class="op" id="6742423">&lt;&lt;</span><span class="num" id="6742425">10</span><span class="op" id="6742427">)</span>&nbsp;<span class="op" id="6742429">}</span><br>
<span class="lineno">695</span><span class="keyword" id="6742431">func</span>&nbsp;<span class="ident" id="6742436">BenchmarkMatchMedium_1M</span><span class="op" id="6742459">(</span><span class="ident" id="6742460">b</span>&nbsp;<span class="op" id="6742462">*</span><span class="ident" id="6742463">testing</span><span class="op" id="6742470">.</span><span class="ident" id="6742471">B</span><span class="op" id="6742472">)</span>&nbsp;&nbsp;<span class="op" id="6742475">{</span>&nbsp;<span class="ident" id="6742477">benchmark</span><span class="op" id="6742486">(</span><span class="ident" id="6742487">b</span><span class="op" id="6742488">,</span>&nbsp;<span class="ident" id="6742490">medium</span><span class="op" id="6742496">,</span>&nbsp;<span class="num" id="6742498">1</span><span class="op" id="6742499">&lt;&lt;</span><span class="num" id="6742501">20</span><span class="op" id="6742503">)</span>&nbsp;<span class="op" id="6742505">}</span><br>
<span class="lineno"></span><span class="keyword" id="6742507">func</span>&nbsp;<span class="ident" id="6742512">BenchmarkMatchMedium_32M</span><span class="op" id="6742536">(</span><span class="ident" id="6742537">b</span>&nbsp;<span class="op" id="6742539">*</span><span class="ident" id="6742540">testing</span><span class="op" id="6742547">.</span><span class="ident" id="6742548">B</span><span class="op" id="6742549">)</span>&nbsp;<span class="op" id="6742551">{</span>&nbsp;<span class="ident" id="6742553">benchmark</span><span class="op" id="6742562">(</span><span class="ident" id="6742563">b</span><span class="op" id="6742564">,</span>&nbsp;<span class="ident" id="6742566">medium</span><span class="op" id="6742572">,</span>&nbsp;<span class="num" id="6742574">32</span><span class="op" id="6742576">&lt;&lt;</span><span class="num" id="6742578">20</span><span class="op" id="6742580">)</span>&nbsp;<span class="op" id="6742582">}</span><br>
<span class="lineno"></span><span class="keyword" id="6742584">func</span>&nbsp;<span class="ident" id="6742589">BenchmarkMatchHard_32</span><span class="op" id="6742610">(</span><span class="ident" id="6742611">b</span>&nbsp;<span class="op" id="6742613">*</span><span class="ident" id="6742614">testing</span><span class="op" id="6742621">.</span><span class="ident" id="6742622">B</span><span class="op" id="6742623">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6742628">{</span>&nbsp;<span class="ident" id="6742630">benchmark</span><span class="op" id="6742639">(</span><span class="ident" id="6742640">b</span><span class="op" id="6742641">,</span>&nbsp;<span class="ident" id="6742643">hard</span><span class="op" id="6742647">,</span>&nbsp;<span class="num" id="6742649">32</span><span class="op" id="6742651">&lt;&lt;</span><span class="num" id="6742653">0</span><span class="op" id="6742654">)</span>&nbsp;<span class="op" id="6742656">}</span><br>
<span class="lineno"></span><span class="keyword" id="6742658">func</span>&nbsp;<span class="ident" id="6742663">BenchmarkMatchHard_1K</span><span class="op" id="6742684">(</span><span class="ident" id="6742685">b</span>&nbsp;<span class="op" id="6742687">*</span><span class="ident" id="6742688">testing</span><span class="op" id="6742695">.</span><span class="ident" id="6742696">B</span><span class="op" id="6742697">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6742702">{</span>&nbsp;<span class="ident" id="6742704">benchmark</span><span class="op" id="6742713">(</span><span class="ident" id="6742714">b</span><span class="op" id="6742715">,</span>&nbsp;<span class="ident" id="6742717">hard</span><span class="op" id="6742721">,</span>&nbsp;<span class="num" id="6742723">1</span><span class="op" id="6742724">&lt;&lt;</span><span class="num" id="6742726">10</span><span class="op" id="6742728">)</span>&nbsp;<span class="op" id="6742730">}</span><br>
<span class="lineno"></span><span class="keyword" id="6742732">func</span>&nbsp;<span class="ident" id="6742737">BenchmarkMatchHard_32K</span><span class="op" id="6742759">(</span><span class="ident" id="6742760">b</span>&nbsp;<span class="op" id="6742762">*</span><span class="ident" id="6742763">testing</span><span class="op" id="6742770">.</span><span class="ident" id="6742771">B</span><span class="op" id="6742772">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6742776">{</span>&nbsp;<span class="ident" id="6742778">benchmark</span><span class="op" id="6742787">(</span><span class="ident" id="6742788">b</span><span class="op" id="6742789">,</span>&nbsp;<span class="ident" id="6742791">hard</span><span class="op" id="6742795">,</span>&nbsp;<span class="num" id="6742797">32</span><span class="op" id="6742799">&lt;&lt;</span><span class="num" id="6742801">10</span><span class="op" id="6742803">)</span>&nbsp;<span class="op" id="6742805">}</span><br>
<span class="lineno">700</span><span class="keyword" id="6742807">func</span>&nbsp;<span class="ident" id="6742812">BenchmarkMatchHard_1M</span><span class="op" id="6742833">(</span><span class="ident" id="6742834">b</span>&nbsp;<span class="op" id="6742836">*</span><span class="ident" id="6742837">testing</span><span class="op" id="6742844">.</span><span class="ident" id="6742845">B</span><span class="op" id="6742846">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6742851">{</span>&nbsp;<span class="ident" id="6742853">benchmark</span><span class="op" id="6742862">(</span><span class="ident" id="6742863">b</span><span class="op" id="6742864">,</span>&nbsp;<span class="ident" id="6742866">hard</span><span class="op" id="6742870">,</span>&nbsp;<span class="num" id="6742872">1</span><span class="op" id="6742873">&lt;&lt;</span><span class="num" id="6742875">20</span><span class="op" id="6742877">)</span>&nbsp;<span class="op" id="6742879">}</span><br>
<span class="lineno"></span><span class="keyword" id="6742881">func</span>&nbsp;<span class="ident" id="6742886">BenchmarkMatchHard_32M</span><span class="op" id="6742908">(</span><span class="ident" id="6742909">b</span>&nbsp;<span class="op" id="6742911">*</span><span class="ident" id="6742912">testing</span><span class="op" id="6742919">.</span><span class="ident" id="6742920">B</span><span class="op" id="6742921">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6742925">{</span>&nbsp;<span class="ident" id="6742927">benchmark</span><span class="op" id="6742936">(</span><span class="ident" id="6742937">b</span><span class="op" id="6742938">,</span>&nbsp;<span class="ident" id="6742940">hard</span><span class="op" id="6742944">,</span>&nbsp;<span class="num" id="6742946">32</span><span class="op" id="6742948">&lt;&lt;</span><span class="num" id="6742950">20</span><span class="op" id="6742952">)</span>&nbsp;<span class="op" id="6742954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6742957">func</span>&nbsp;<span class="ident" id="6742962">TestLongest</span><span class="op" id="6742973">(</span><span class="ident" id="6742974">t</span>&nbsp;<span class="op" id="6742976">*</span><span class="ident" id="6742977">testing</span><span class="op" id="6742984">.</span><span class="ident" id="6742985">T</span><span class="op" id="6742986">)</span>&nbsp;<span class="op" id="6742988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6742991">re</span><span class="op" id="6742993">,</span>&nbsp;<span class="ident" id="6742995">err</span>&nbsp;<span class="op" id="6742999">:=</span>&nbsp;<span class="ident" id="6743002">Compile</span><span class="op" id="6743009">(</span><span class="string" id="6743010">`a(|b)`</span><span class="op" id="6743017">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6743020">if</span>&nbsp;<span class="ident" id="6743023">err</span>&nbsp;<span class="op" id="6743027">!=</span>&nbsp;<span class="ident" id="6743030">nil</span>&nbsp;<span class="op" id="6743034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6743038">t</span><span class="op" id="6743039">.</span><span class="ident" id="6743040">Fatal</span><span class="op" id="6743045">(</span><span class="ident" id="6743046">err</span><span class="op" id="6743049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6743052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6743055">if</span>&nbsp;<span class="ident" id="6743058">g</span><span class="op" id="6743059">,</span>&nbsp;<span class="ident" id="6743061">w</span>&nbsp;<span class="op" id="6743063">:=</span>&nbsp;<span class="ident" id="6743066">re</span><span class="op" id="6743068">.</span><span class="ident" id="6743069">FindString</span><span class="op" id="6743079">(</span><span class="string" id="6743080">&#34;ab&#34;</span><span class="op" id="6743084">)</span><span class="op" id="6743085">,</span>&nbsp;<span class="string" id="6743087">&#34;a&#34;</span><span class="op" id="6743090">;</span>&nbsp;<span class="ident" id="6743092">g</span>&nbsp;<span class="op" id="6743094">!=</span>&nbsp;<span class="ident" id="6743097">w</span>&nbsp;<span class="op" id="6743099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6743103">t</span><span class="op" id="6743104">.</span><span class="ident" id="6743105">Errorf</span><span class="op" id="6743111">(</span><span class="string" id="6743112">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6743141">,</span>&nbsp;<span class="ident" id="6743143">g</span><span class="op" id="6743144">,</span>&nbsp;<span class="ident" id="6743146">w</span><span class="op" id="6743147">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6743150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6743153">re</span><span class="op" id="6743155">.</span><span class="ident" id="6743156">Longest</span><span class="op" id="6743163">(</span><span class="op" id="6743164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6743167">if</span>&nbsp;<span class="ident" id="6743170">g</span><span class="op" id="6743171">,</span>&nbsp;<span class="ident" id="6743173">w</span>&nbsp;<span class="op" id="6743175">:=</span>&nbsp;<span class="ident" id="6743178">re</span><span class="op" id="6743180">.</span><span class="ident" id="6743181">FindString</span><span class="op" id="6743191">(</span><span class="string" id="6743192">&#34;ab&#34;</span><span class="op" id="6743196">)</span><span class="op" id="6743197">,</span>&nbsp;<span class="string" id="6743199">&#34;ab&#34;</span><span class="op" id="6743203">;</span>&nbsp;<span class="ident" id="6743205">g</span>&nbsp;<span class="op" id="6743207">!=</span>&nbsp;<span class="ident" id="6743210">w</span>&nbsp;<span class="op" id="6743212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6743216">t</span><span class="op" id="6743217">.</span><span class="ident" id="6743218">Errorf</span><span class="op" id="6743224">(</span><span class="string" id="6743225">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6743256">,</span>&nbsp;<span class="ident" id="6743258">g</span><span class="op" id="6743259">,</span>&nbsp;<span class="ident" id="6743261">w</span><span class="op" id="6743262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6743265">}</span><br>
<span class="lineno">715</span><span class="op" id="6743267">}</span>
</div>
</body>
</html>
