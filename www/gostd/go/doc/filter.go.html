<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4366137">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4366192">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4366246">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4366297">package</span>&nbsp;<span class="ident" id="4366305">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4366310">import</span>&nbsp;<span class="string" id="4366317">&#34;go/ast&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4366327">type</span>&nbsp;<span class="ident" id="4366332">Filter</span>&nbsp;<span class="keyword" id="4366339">func</span><span class="op" id="4366343">(</span><span class="builtintype" id="4366344">string</span><span class="op" id="4366350">)</span>&nbsp;<span class="builtintype" id="4366352">bool</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="4366358">func</span>&nbsp;<span class="ident" id="4366363">matchFields</span><span class="op" id="4366374">(</span><span class="ident" id="4366375">fields</span>&nbsp;<span class="op" id="4366382">*</span><span class="ident" id="4366383">ast</span><span class="op" id="4366386">.</span><span class="ident" id="4366387">FieldList</span><span class="op" id="4366396">,</span>&nbsp;<span class="ident" id="4366398">f</span>&nbsp;<span class="ident" id="4366400">Filter</span><span class="op" id="4366406">)</span>&nbsp;<span class="builtintype" id="4366408">bool</span>&nbsp;<span class="op" id="4366413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366416">if</span>&nbsp;<span class="ident" id="4366419">fields</span>&nbsp;<span class="op" id="4366426">!=</span>&nbsp;<span class="ident" id="4366429">nil</span>&nbsp;<span class="op" id="4366433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366437">for</span>&nbsp;<span class="ident" id="4366441">_</span><span class="op" id="4366442">,</span>&nbsp;<span class="ident" id="4366444">field</span>&nbsp;<span class="op" id="4366450">:=</span>&nbsp;<span class="keyword" id="4366453">range</span>&nbsp;<span class="ident" id="4366459">fields</span><span class="op" id="4366465">.</span><span class="ident" id="4366466">List</span>&nbsp;<span class="op" id="4366471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366476">for</span>&nbsp;<span class="ident" id="4366480">_</span><span class="op" id="4366481">,</span>&nbsp;<span class="ident" id="4366483">name</span>&nbsp;<span class="op" id="4366488">:=</span>&nbsp;<span class="keyword" id="4366491">range</span>&nbsp;<span class="ident" id="4366497">field</span><span class="op" id="4366502">.</span><span class="ident" id="4366503">Names</span>&nbsp;<span class="op" id="4366509">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366515">if</span>&nbsp;<span class="ident" id="4366518">f</span><span class="op" id="4366519">(</span><span class="ident" id="4366520">name</span><span class="op" id="4366524">.</span><span class="ident" id="4366525">Name</span><span class="op" id="4366529">)</span>&nbsp;<span class="op" id="4366531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366538">return</span>&nbsp;<span class="builtintype" id="4366545">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366563">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366569">return</span>&nbsp;<span class="builtintype" id="4366576">false</span><br>
<span class="lineno"></span><span class="op" id="4366582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4366585">func</span>&nbsp;<span class="ident" id="4366590">matchDecl</span><span class="op" id="4366599">(</span><span class="ident" id="4366600">d</span>&nbsp;<span class="op" id="4366602">*</span><span class="ident" id="4366603">ast</span><span class="op" id="4366606">.</span><span class="ident" id="4366607">GenDecl</span><span class="op" id="4366614">,</span>&nbsp;<span class="ident" id="4366616">f</span>&nbsp;<span class="ident" id="4366618">Filter</span><span class="op" id="4366624">)</span>&nbsp;<span class="builtintype" id="4366626">bool</span>&nbsp;<span class="op" id="4366631">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366634">for</span>&nbsp;<span class="ident" id="4366638">_</span><span class="op" id="4366639">,</span>&nbsp;<span class="ident" id="4366641">d</span>&nbsp;<span class="op" id="4366643">:=</span>&nbsp;<span class="keyword" id="4366646">range</span>&nbsp;<span class="ident" id="4366652">d</span><span class="op" id="4366653">.</span><span class="ident" id="4366654">Specs</span>&nbsp;<span class="op" id="4366660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366664">switch</span>&nbsp;<span class="ident" id="4366671">v</span>&nbsp;<span class="op" id="4366673">:=</span>&nbsp;<span class="ident" id="4366676">d</span><span class="op" id="4366677">.</span><span class="op" id="4366678">(</span><span class="keyword" id="4366679">type</span><span class="op" id="4366683">)</span>&nbsp;<span class="op" id="4366685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366689">case</span>&nbsp;<span class="op" id="4366694">*</span><span class="ident" id="4366695">ast</span><span class="op" id="4366698">.</span><span class="ident" id="4366699">ValueSpec</span><span class="op" id="4366708">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366713">for</span>&nbsp;<span class="ident" id="4366717">_</span><span class="op" id="4366718">,</span>&nbsp;<span class="ident" id="4366720">name</span>&nbsp;<span class="op" id="4366725">:=</span>&nbsp;<span class="keyword" id="4366728">range</span>&nbsp;<span class="ident" id="4366734">v</span><span class="op" id="4366735">.</span><span class="ident" id="4366736">Names</span>&nbsp;<span class="op" id="4366742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366748">if</span>&nbsp;<span class="ident" id="4366751">f</span><span class="op" id="4366752">(</span><span class="ident" id="4366753">name</span><span class="op" id="4366757">.</span><span class="ident" id="4366758">Name</span><span class="op" id="4366762">)</span>&nbsp;<span class="op" id="4366764">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366771">return</span>&nbsp;<span class="builtintype" id="4366778">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366796">case</span>&nbsp;<span class="op" id="4366801">*</span><span class="ident" id="4366802">ast</span><span class="op" id="4366805">.</span><span class="ident" id="4366806">TypeSpec</span><span class="op" id="4366814">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366819">if</span>&nbsp;<span class="ident" id="4366822">f</span><span class="op" id="4366823">(</span><span class="ident" id="4366824">v</span><span class="op" id="4366825">.</span><span class="ident" id="4366826">Name</span><span class="op" id="4366830">.</span><span class="ident" id="4366831">Name</span><span class="op" id="4366835">)</span>&nbsp;<span class="op" id="4366837">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366843">return</span>&nbsp;<span class="builtintype" id="4366850">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366863">switch</span>&nbsp;<span class="ident" id="4366870">t</span>&nbsp;<span class="op" id="4366872">:=</span>&nbsp;<span class="ident" id="4366875">v</span><span class="op" id="4366876">.</span><span class="ident" id="4366877">Type</span><span class="op" id="4366881">.</span><span class="op" id="4366882">(</span><span class="keyword" id="4366883">type</span><span class="op" id="4366887">)</span>&nbsp;<span class="op" id="4366889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366894">case</span>&nbsp;<span class="op" id="4366899">*</span><span class="ident" id="4366900">ast</span><span class="op" id="4366903">.</span><span class="ident" id="4366904">StructType</span><span class="op" id="4366914">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366920">if</span>&nbsp;<span class="ident" id="4366923">matchFields</span><span class="op" id="4366934">(</span><span class="ident" id="4366935">t</span><span class="op" id="4366936">.</span><span class="ident" id="4366937">Fields</span><span class="op" id="4366943">,</span>&nbsp;<span class="ident" id="4366945">f</span><span class="op" id="4366946">)</span>&nbsp;<span class="op" id="4366948">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366955">return</span>&nbsp;<span class="builtintype" id="4366962">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366976">case</span>&nbsp;<span class="op" id="4366981">*</span><span class="ident" id="4366982">ast</span><span class="op" id="4366985">.</span><span class="ident" id="4366986">InterfaceType</span><span class="op" id="4366999">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367005">if</span>&nbsp;<span class="ident" id="4367008">matchFields</span><span class="op" id="4367019">(</span><span class="ident" id="4367020">t</span><span class="op" id="4367021">.</span><span class="ident" id="4367022">Methods</span><span class="op" id="4367029">,</span>&nbsp;<span class="ident" id="4367031">f</span><span class="op" id="4367032">)</span>&nbsp;<span class="op" id="4367034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367041">return</span>&nbsp;<span class="builtintype" id="4367048">true</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367072">return</span>&nbsp;<span class="builtintype" id="4367079">false</span><br>
<span class="lineno">50</span><span class="op" id="4367085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4367088">func</span>&nbsp;<span class="ident" id="4367093">filterValues</span><span class="op" id="4367105">(</span><span class="ident" id="4367106">a</span>&nbsp;<span class="op" id="4367108">[</span><span class="op" id="4367109">]</span><span class="op" id="4367110">*</span><span class="ident" id="4367111">Value</span><span class="op" id="4367116">,</span>&nbsp;<span class="ident" id="4367118">f</span>&nbsp;<span class="ident" id="4367120">Filter</span><span class="op" id="4367126">)</span>&nbsp;<span class="op" id="4367128">[</span><span class="op" id="4367129">]</span><span class="op" id="4367130">*</span><span class="ident" id="4367131">Value</span>&nbsp;<span class="op" id="4367137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367140">w</span>&nbsp;<span class="op" id="4367142">:=</span>&nbsp;<span class="num" id="4367145">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367148">for</span>&nbsp;<span class="ident" id="4367152">_</span><span class="op" id="4367153">,</span>&nbsp;<span class="ident" id="4367155">vd</span>&nbsp;<span class="op" id="4367158">:=</span>&nbsp;<span class="keyword" id="4367161">range</span>&nbsp;<span class="ident" id="4367167">a</span>&nbsp;<span class="op" id="4367169">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367173">if</span>&nbsp;<span class="ident" id="4367176">matchDecl</span><span class="op" id="4367185">(</span><span class="ident" id="4367186">vd</span><span class="op" id="4367188">.</span><span class="ident" id="4367189">Decl</span><span class="op" id="4367193">,</span>&nbsp;<span class="ident" id="4367195">f</span><span class="op" id="4367196">)</span>&nbsp;<span class="op" id="4367198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367203">a</span><span class="op" id="4367204">[</span><span class="ident" id="4367205">w</span><span class="op" id="4367206">]</span>&nbsp;<span class="op" id="4367208">=</span>&nbsp;<span class="ident" id="4367210">vd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367216">w</span><span class="op" id="4367217">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367225">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367228">return</span>&nbsp;<span class="ident" id="4367235">a</span><span class="op" id="4367236">[</span><span class="num" id="4367237">0</span><span class="op" id="4367238">:</span><span class="ident" id="4367239">w</span><span class="op" id="4367240">]</span><br>
<span class="lineno"></span><span class="op" id="4367242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4367245">func</span>&nbsp;<span class="ident" id="4367250">filterFuncs</span><span class="op" id="4367261">(</span><span class="ident" id="4367262">a</span>&nbsp;<span class="op" id="4367264">[</span><span class="op" id="4367265">]</span><span class="op" id="4367266">*</span><span class="ident" id="4367267">Func</span><span class="op" id="4367271">,</span>&nbsp;<span class="ident" id="4367273">f</span>&nbsp;<span class="ident" id="4367275">Filter</span><span class="op" id="4367281">)</span>&nbsp;<span class="op" id="4367283">[</span><span class="op" id="4367284">]</span><span class="op" id="4367285">*</span><span class="ident" id="4367286">Func</span>&nbsp;<span class="op" id="4367291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367294">w</span>&nbsp;<span class="op" id="4367296">:=</span>&nbsp;<span class="num" id="4367299">0</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367302">for</span>&nbsp;<span class="ident" id="4367306">_</span><span class="op" id="4367307">,</span>&nbsp;<span class="ident" id="4367309">fd</span>&nbsp;<span class="op" id="4367312">:=</span>&nbsp;<span class="keyword" id="4367315">range</span>&nbsp;<span class="ident" id="4367321">a</span>&nbsp;<span class="op" id="4367323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367327">if</span>&nbsp;<span class="ident" id="4367330">f</span><span class="op" id="4367331">(</span><span class="ident" id="4367332">fd</span><span class="op" id="4367334">.</span><span class="ident" id="4367335">Name</span><span class="op" id="4367339">)</span>&nbsp;<span class="op" id="4367341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367346">a</span><span class="op" id="4367347">[</span><span class="ident" id="4367348">w</span><span class="op" id="4367349">]</span>&nbsp;<span class="op" id="4367351">=</span>&nbsp;<span class="ident" id="4367353">fd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367359">w</span><span class="op" id="4367360">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367365">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367371">return</span>&nbsp;<span class="ident" id="4367378">a</span><span class="op" id="4367379">[</span><span class="num" id="4367380">0</span><span class="op" id="4367381">:</span><span class="ident" id="4367382">w</span><span class="op" id="4367383">]</span><br>
<span class="lineno"></span><span class="op" id="4367385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4367388">func</span>&nbsp;<span class="ident" id="4367393">filterTypes</span><span class="op" id="4367404">(</span><span class="ident" id="4367405">a</span>&nbsp;<span class="op" id="4367407">[</span><span class="op" id="4367408">]</span><span class="op" id="4367409">*</span><span class="ident" id="4367410">Type</span><span class="op" id="4367414">,</span>&nbsp;<span class="ident" id="4367416">f</span>&nbsp;<span class="ident" id="4367418">Filter</span><span class="op" id="4367424">)</span>&nbsp;<span class="op" id="4367426">[</span><span class="op" id="4367427">]</span><span class="op" id="4367428">*</span><span class="ident" id="4367429">Type</span>&nbsp;<span class="op" id="4367434">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367437">w</span>&nbsp;<span class="op" id="4367439">:=</span>&nbsp;<span class="num" id="4367442">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367445">for</span>&nbsp;<span class="ident" id="4367449">_</span><span class="op" id="4367450">,</span>&nbsp;<span class="ident" id="4367452">td</span>&nbsp;<span class="op" id="4367455">:=</span>&nbsp;<span class="keyword" id="4367458">range</span>&nbsp;<span class="ident" id="4367464">a</span>&nbsp;<span class="op" id="4367466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367470">n</span>&nbsp;<span class="op" id="4367472">:=</span>&nbsp;<span class="num" id="4367475">0</span>&nbsp;<span class="comment" id="4367477">//&nbsp;number&nbsp;of&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367500">if</span>&nbsp;<span class="ident" id="4367503">matchDecl</span><span class="op" id="4367512">(</span><span class="ident" id="4367513">td</span><span class="op" id="4367515">.</span><span class="ident" id="4367516">Decl</span><span class="op" id="4367520">,</span>&nbsp;<span class="ident" id="4367522">f</span><span class="op" id="4367523">)</span>&nbsp;<span class="op" id="4367525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367530">n</span>&nbsp;<span class="op" id="4367532">=</span>&nbsp;<span class="num" id="4367534">1</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367538">}</span>&nbsp;<span class="keyword" id="4367540">else</span>&nbsp;<span class="op" id="4367545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4367550">//&nbsp;type&nbsp;name&nbsp;doesn&#39;t&nbsp;match,&nbsp;but&nbsp;we&nbsp;may&nbsp;have&nbsp;matching&nbsp;consts,&nbsp;vars,&nbsp;factories&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367641">td</span><span class="op" id="4367643">.</span><span class="ident" id="4367644">Consts</span>&nbsp;<span class="op" id="4367651">=</span>&nbsp;<span class="ident" id="4367653">filterValues</span><span class="op" id="4367665">(</span><span class="ident" id="4367666">td</span><span class="op" id="4367668">.</span><span class="ident" id="4367669">Consts</span><span class="op" id="4367675">,</span>&nbsp;<span class="ident" id="4367677">f</span><span class="op" id="4367678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367683">td</span><span class="op" id="4367685">.</span><span class="ident" id="4367686">Vars</span>&nbsp;<span class="op" id="4367691">=</span>&nbsp;<span class="ident" id="4367693">filterValues</span><span class="op" id="4367705">(</span><span class="ident" id="4367706">td</span><span class="op" id="4367708">.</span><span class="ident" id="4367709">Vars</span><span class="op" id="4367713">,</span>&nbsp;<span class="ident" id="4367715">f</span><span class="op" id="4367716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367721">td</span><span class="op" id="4367723">.</span><span class="ident" id="4367724">Funcs</span>&nbsp;<span class="op" id="4367730">=</span>&nbsp;<span class="ident" id="4367732">filterFuncs</span><span class="op" id="4367743">(</span><span class="ident" id="4367744">td</span><span class="op" id="4367746">.</span><span class="ident" id="4367747">Funcs</span><span class="op" id="4367752">,</span>&nbsp;<span class="ident" id="4367754">f</span><span class="op" id="4367755">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367760">td</span><span class="op" id="4367762">.</span><span class="ident" id="4367763">Methods</span>&nbsp;<span class="op" id="4367771">=</span>&nbsp;<span class="ident" id="4367773">filterFuncs</span><span class="op" id="4367784">(</span><span class="ident" id="4367785">td</span><span class="op" id="4367787">.</span><span class="ident" id="4367788">Methods</span><span class="op" id="4367795">,</span>&nbsp;<span class="ident" id="4367797">f</span><span class="op" id="4367798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367803">n</span>&nbsp;<span class="op" id="4367805">+=</span>&nbsp;<span class="builtinfunc" id="4367808">len</span><span class="op" id="4367811">(</span><span class="ident" id="4367812">td</span><span class="op" id="4367814">.</span><span class="ident" id="4367815">Consts</span><span class="op" id="4367821">)</span>&nbsp;<span class="op" id="4367823">+</span>&nbsp;<span class="builtinfunc" id="4367825">len</span><span class="op" id="4367828">(</span><span class="ident" id="4367829">td</span><span class="op" id="4367831">.</span><span class="ident" id="4367832">Vars</span><span class="op" id="4367836">)</span>&nbsp;<span class="op" id="4367838">+</span>&nbsp;<span class="builtinfunc" id="4367840">len</span><span class="op" id="4367843">(</span><span class="ident" id="4367844">td</span><span class="op" id="4367846">.</span><span class="ident" id="4367847">Funcs</span><span class="op" id="4367852">)</span>&nbsp;<span class="op" id="4367854">+</span>&nbsp;<span class="builtinfunc" id="4367856">len</span><span class="op" id="4367859">(</span><span class="ident" id="4367860">td</span><span class="op" id="4367862">.</span><span class="ident" id="4367863">Methods</span><span class="op" id="4367870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367878">if</span>&nbsp;<span class="ident" id="4367881">n</span>&nbsp;<span class="op" id="4367883">&gt;</span>&nbsp;<span class="num" id="4367885">0</span>&nbsp;<span class="op" id="4367887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367892">a</span><span class="op" id="4367893">[</span><span class="ident" id="4367894">w</span><span class="op" id="4367895">]</span>&nbsp;<span class="op" id="4367897">=</span>&nbsp;<span class="ident" id="4367899">td</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367905">w</span><span class="op" id="4367906">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367917">return</span>&nbsp;<span class="ident" id="4367924">a</span><span class="op" id="4367925">[</span><span class="num" id="4367926">0</span><span class="op" id="4367927">:</span><span class="ident" id="4367928">w</span><span class="op" id="4367929">]</span><br>
<span class="lineno"></span><span class="op" id="4367931">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="4367934">//&nbsp;Filter&nbsp;eliminates&nbsp;documentation&nbsp;for&nbsp;names&nbsp;that&nbsp;don&#39;t&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="4368017">//&nbsp;TODO(gri):&nbsp;Recognize&nbsp;&#34;Type.Method&#34;&nbsp;as&nbsp;a&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="4368066">//</span><br>
<span class="lineno"></span><span class="keyword" id="4368069">func</span>&nbsp;<span class="op" id="4368074">(</span><span class="ident" id="4368075">p</span>&nbsp;<span class="op" id="4368077">*</span><span class="ident" id="4368078">Package</span><span class="op" id="4368085">)</span>&nbsp;<span class="ident" id="4368087">Filter</span><span class="op" id="4368093">(</span><span class="ident" id="4368094">f</span>&nbsp;<span class="ident" id="4368096">Filter</span><span class="op" id="4368102">)</span>&nbsp;<span class="op" id="4368104">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368107">p</span><span class="op" id="4368108">.</span><span class="ident" id="4368109">Consts</span>&nbsp;<span class="op" id="4368116">=</span>&nbsp;<span class="ident" id="4368118">filterValues</span><span class="op" id="4368130">(</span><span class="ident" id="4368131">p</span><span class="op" id="4368132">.</span><span class="ident" id="4368133">Consts</span><span class="op" id="4368139">,</span>&nbsp;<span class="ident" id="4368141">f</span><span class="op" id="4368142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368145">p</span><span class="op" id="4368146">.</span><span class="ident" id="4368147">Vars</span>&nbsp;<span class="op" id="4368152">=</span>&nbsp;<span class="ident" id="4368154">filterValues</span><span class="op" id="4368166">(</span><span class="ident" id="4368167">p</span><span class="op" id="4368168">.</span><span class="ident" id="4368169">Vars</span><span class="op" id="4368173">,</span>&nbsp;<span class="ident" id="4368175">f</span><span class="op" id="4368176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368179">p</span><span class="op" id="4368180">.</span><span class="ident" id="4368181">Types</span>&nbsp;<span class="op" id="4368187">=</span>&nbsp;<span class="ident" id="4368189">filterTypes</span><span class="op" id="4368200">(</span><span class="ident" id="4368201">p</span><span class="op" id="4368202">.</span><span class="ident" id="4368203">Types</span><span class="op" id="4368208">,</span>&nbsp;<span class="ident" id="4368210">f</span><span class="op" id="4368211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368214">p</span><span class="op" id="4368215">.</span><span class="ident" id="4368216">Funcs</span>&nbsp;<span class="op" id="4368222">=</span>&nbsp;<span class="ident" id="4368224">filterFuncs</span><span class="op" id="4368235">(</span><span class="ident" id="4368236">p</span><span class="op" id="4368237">.</span><span class="ident" id="4368238">Funcs</span><span class="op" id="4368243">,</span>&nbsp;<span class="ident" id="4368245">f</span><span class="op" id="4368246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368249">p</span><span class="op" id="4368250">.</span><span class="ident" id="4368251">Doc</span>&nbsp;<span class="op" id="4368255">=</span>&nbsp;<span class="string" id="4368257">&#34;&#34;</span>&nbsp;<span class="comment" id="4368260">//&nbsp;don&#39;t&nbsp;show&nbsp;top-level&nbsp;package&nbsp;doc</span><br>
<span class="lineno">105</span><span class="op" id="4368296">}</span>
</div>
</body>
</html>
