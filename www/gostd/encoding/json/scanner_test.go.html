<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html" class="current">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6877122">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6877178">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6877232">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6877283">package</span>&nbsp;<span class="ident" id="6877291">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6877297">import</span>&nbsp;<span class="op" id="6877304">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6877307">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6877316">&#34;math&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6877324">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6877337">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6877348">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6877358">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6877361">//&nbsp;Tests&nbsp;of&nbsp;simple&nbsp;examples.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6877391">type</span>&nbsp;<span class="ident" id="6877396">example</span>&nbsp;<span class="keyword" id="6877404">struct</span>&nbsp;<span class="op" id="6877411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6877414">compact</span>&nbsp;<span class="builtintype" id="6877422">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6877430">indent</span>&nbsp;&nbsp;<span class="builtintype" id="6877438">string</span><br>
<span class="lineno">20</span><span class="op" id="6877445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6877448">var</span>&nbsp;<span class="ident" id="6877452">examples</span>&nbsp;<span class="op" id="6877461">=</span>&nbsp;<span class="op" id="6877463">[</span><span class="op" id="6877464">]</span><span class="ident" id="6877465"><a href="/gostd/encoding/json/scanner_test.go.html#6877396">example</a></span><span class="op" id="6877472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6877475">{</span><span class="string" id="6877476">`1`</span><span class="op" id="6877479">,</span>&nbsp;<span class="string" id="6877481">`1`</span><span class="op" id="6877484">}</span><span class="op" id="6877485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6877488">{</span><span class="string" id="6877489">`{}`</span><span class="op" id="6877493">,</span>&nbsp;<span class="string" id="6877495">`{}`</span><span class="op" id="6877499">}</span><span class="op" id="6877500">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6877503">{</span><span class="string" id="6877504">`[]`</span><span class="op" id="6877508">,</span>&nbsp;<span class="string" id="6877510">`[]`</span><span class="op" id="6877514">}</span><span class="op" id="6877515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6877518">{</span><span class="string" id="6877519">`{&#34;&#34;:2}`</span><span class="op" id="6877527">,</span>&nbsp;<span class="string" id="6877529">&#34;{\n\t\&#34;\&#34;:&nbsp;2\n}&#34;</span><span class="op" id="6877546">}</span><span class="op" id="6877547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6877550">{</span><span class="string" id="6877551">`[3]`</span><span class="op" id="6877556">,</span>&nbsp;<span class="string" id="6877558">&#34;[\n\t3\n]&#34;</span><span class="op" id="6877569">}</span><span class="op" id="6877570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6877573">{</span><span class="string" id="6877574">`[1,2,3]`</span><span class="op" id="6877583">,</span>&nbsp;<span class="string" id="6877585">&#34;[\n\t1,\n\t2,\n\t3\n]&#34;</span><span class="op" id="6877608">}</span><span class="op" id="6877609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6877612">{</span><span class="string" id="6877613">`{&#34;x&#34;:1}`</span><span class="op" id="6877622">,</span>&nbsp;<span class="string" id="6877624">&#34;{\n\t\&#34;x\&#34;:&nbsp;1\n}&#34;</span><span class="op" id="6877642">}</span><span class="op" id="6877643">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6877646">{</span><span class="ident" id="6877647"><a href="/gostd/encoding/json/scanner_test.go.html#6877666">ex1</a></span><span class="op" id="6877650">,</span>&nbsp;<span class="ident" id="6877652"><a href="/gostd/encoding/json/scanner_test.go.html#6877715">ex1i</a></span><span class="op" id="6877656">}</span><span class="op" id="6877657">,</span><br>
<span class="lineno"></span><span class="op" id="6877659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6877662">var</span>&nbsp;<span class="ident" id="6877666">ex1</span>&nbsp;<span class="op" id="6877670">=</span>&nbsp;<span class="string" id="6877672">`[true,false,null,&#34;x&#34;,1,1.5,0,-5e+2]`</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="6877711">var</span>&nbsp;<span class="ident" id="6877715">ex1i</span>&nbsp;<span class="op" id="6877720">=</span>&nbsp;<span class="string" id="6877722">`[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;true,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;false,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&#34;x&#34;,<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;1.5,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;-5e+2<br>
<span class="lineno"></span>]`</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="6877778">func</span>&nbsp;<span class="ident" id="6877783">TestCompact</span><span class="op" id="6877794">(</span><span class="ident" id="6877795">t</span>&nbsp;<span class="op" id="6877797">*</span><span class="ident" id="6877798"><a href="/gostd/encoding/json/scanner_test.go.html#6877348">testing</a></span><span class="op" id="6877805">.</span><span class="ident" id="6877806"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6877807">)</span>&nbsp;<span class="op" id="6877809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6877812">var</span>&nbsp;<span class="ident" id="6877816">buf</span>&nbsp;<span class="ident" id="6877820"><a href="/gostd/encoding/json/scanner_test.go.html#6877307">bytes</a></span><span class="op" id="6877825">.</span><span class="ident" id="6877826"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6877834">for</span>&nbsp;<span class="ident" id="6877838">_</span><span class="op" id="6877839">,</span>&nbsp;<span class="ident" id="6877841">tt</span>&nbsp;<span class="op" id="6877844">:=</span>&nbsp;<span class="keyword" id="6877847">range</span>&nbsp;<span class="ident" id="6877853"><a href="/gostd/encoding/json/scanner_test.go.html#6877452">examples</a></span>&nbsp;<span class="op" id="6877862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6877866"><a href="/gostd/encoding/json/scanner_test.go.html#6877816">buf</a></span><span class="op" id="6877869">.</span><span class="ident" id="6877870"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="6877875">(</span><span class="op" id="6877876">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6877880">if</span>&nbsp;<span class="ident" id="6877883">err</span>&nbsp;<span class="op" id="6877887">:=</span>&nbsp;<span class="ident" id="6877890"><a href="/gostd/encoding/json/indent.go.html#4024330">Compact</a></span><span class="op" id="6877897">(</span><span class="op" id="6877898">&amp;</span><span class="ident" id="6877899"><a href="/gostd/encoding/json/scanner_test.go.html#6877816">buf</a></span><span class="op" id="6877902">,</span>&nbsp;<span class="op" id="6877904">[</span><span class="op" id="6877905">]</span><span class="builtintype" id="6877906">byte</span><span class="op" id="6877910">(</span><span class="ident" id="6877911"><a href="/gostd/encoding/json/scanner_test.go.html#6877841">tt</a></span><span class="op" id="6877913">.</span><span class="ident" id="6877914"><a href="/gostd/encoding/json/scanner_test.go.html#6877414">compact</a></span><span class="op" id="6877921">)</span><span class="op" id="6877922">)</span><span class="op" id="6877923">;</span>&nbsp;<span class="ident" id="6877925"><a href="/gostd/encoding/json/scanner_test.go.html#6877883">err</a></span>&nbsp;<span class="op" id="6877929">!=</span>&nbsp;<span class="builtintype" id="6877932">nil</span>&nbsp;<span class="op" id="6877936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6877941"><a href="/gostd/encoding/json/scanner_test.go.html#6877795">t</a></span><span class="op" id="6877942">.</span><span class="ident" id="6877943"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6877949">(</span><span class="string" id="6877950">&#34;Compact(%#q):&nbsp;%v&#34;</span><span class="op" id="6877968">,</span>&nbsp;<span class="ident" id="6877970"><a href="/gostd/encoding/json/scanner_test.go.html#6877841">tt</a></span><span class="op" id="6877972">.</span><span class="ident" id="6877973"><a href="/gostd/encoding/json/scanner_test.go.html#6877414">compact</a></span><span class="op" id="6877980">,</span>&nbsp;<span class="ident" id="6877982"><a href="/gostd/encoding/json/scanner_test.go.html#6877883">err</a></span><span class="op" id="6877985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6877989">}</span>&nbsp;<span class="keyword" id="6877991">else</span>&nbsp;<span class="keyword" id="6877996">if</span>&nbsp;<span class="ident" id="6877999">s</span>&nbsp;<span class="op" id="6878001">:=</span>&nbsp;<span class="ident" id="6878004"><a href="/gostd/encoding/json/scanner_test.go.html#6877816">buf</a></span><span class="op" id="6878007">.</span><span class="ident" id="6878008"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="6878014">(</span><span class="op" id="6878015">)</span><span class="op" id="6878016">;</span>&nbsp;<span class="ident" id="6878018"><a href="/gostd/encoding/json/scanner_test.go.html#6877999">s</a></span>&nbsp;<span class="op" id="6878020">!=</span>&nbsp;<span class="ident" id="6878023"><a href="/gostd/encoding/json/scanner_test.go.html#6877841">tt</a></span><span class="op" id="6878025">.</span><span class="ident" id="6878026"><a href="/gostd/encoding/json/scanner_test.go.html#6877414">compact</a></span>&nbsp;<span class="op" id="6878034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6878039"><a href="/gostd/encoding/json/scanner_test.go.html#6877795">t</a></span><span class="op" id="6878040">.</span><span class="ident" id="6878041"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6878047">(</span><span class="string" id="6878048">&#34;Compact(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;original&#34;</span><span class="op" id="6878083">,</span>&nbsp;<span class="ident" id="6878085"><a href="/gostd/encoding/json/scanner_test.go.html#6877841">tt</a></span><span class="op" id="6878087">.</span><span class="ident" id="6878088"><a href="/gostd/encoding/json/scanner_test.go.html#6877414">compact</a></span><span class="op" id="6878095">,</span>&nbsp;<span class="ident" id="6878097"><a href="/gostd/encoding/json/scanner_test.go.html#6877999">s</a></span><span class="op" id="6878098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878102">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6878107"><a href="/gostd/encoding/json/scanner_test.go.html#6877816">buf</a></span><span class="op" id="6878110">.</span><span class="ident" id="6878111"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="6878116">(</span><span class="op" id="6878117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6878121">if</span>&nbsp;<span class="ident" id="6878124">err</span>&nbsp;<span class="op" id="6878128">:=</span>&nbsp;<span class="ident" id="6878131"><a href="/gostd/encoding/json/indent.go.html#4024330">Compact</a></span><span class="op" id="6878138">(</span><span class="op" id="6878139">&amp;</span><span class="ident" id="6878140"><a href="/gostd/encoding/json/scanner_test.go.html#6877816">buf</a></span><span class="op" id="6878143">,</span>&nbsp;<span class="op" id="6878145">[</span><span class="op" id="6878146">]</span><span class="builtintype" id="6878147">byte</span><span class="op" id="6878151">(</span><span class="ident" id="6878152"><a href="/gostd/encoding/json/scanner_test.go.html#6877841">tt</a></span><span class="op" id="6878154">.</span><span class="ident" id="6878155"><a href="/gostd/encoding/json/scanner_test.go.html#6877430">indent</a></span><span class="op" id="6878161">)</span><span class="op" id="6878162">)</span><span class="op" id="6878163">;</span>&nbsp;<span class="ident" id="6878165"><a href="/gostd/encoding/json/scanner_test.go.html#6878124">err</a></span>&nbsp;<span class="op" id="6878169">!=</span>&nbsp;<span class="builtintype" id="6878172">nil</span>&nbsp;<span class="op" id="6878176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6878181"><a href="/gostd/encoding/json/scanner_test.go.html#6877795">t</a></span><span class="op" id="6878182">.</span><span class="ident" id="6878183"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6878189">(</span><span class="string" id="6878190">&#34;Compact(%#q):&nbsp;%v&#34;</span><span class="op" id="6878208">,</span>&nbsp;<span class="ident" id="6878210"><a href="/gostd/encoding/json/scanner_test.go.html#6877841">tt</a></span><span class="op" id="6878212">.</span><span class="ident" id="6878213"><a href="/gostd/encoding/json/scanner_test.go.html#6877430">indent</a></span><span class="op" id="6878219">,</span>&nbsp;<span class="ident" id="6878221"><a href="/gostd/encoding/json/scanner_test.go.html#6878124">err</a></span><span class="op" id="6878224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6878229">continue</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878240">}</span>&nbsp;<span class="keyword" id="6878242">else</span>&nbsp;<span class="keyword" id="6878247">if</span>&nbsp;<span class="ident" id="6878250">s</span>&nbsp;<span class="op" id="6878252">:=</span>&nbsp;<span class="ident" id="6878255"><a href="/gostd/encoding/json/scanner_test.go.html#6877816">buf</a></span><span class="op" id="6878258">.</span><span class="ident" id="6878259"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="6878265">(</span><span class="op" id="6878266">)</span><span class="op" id="6878267">;</span>&nbsp;<span class="ident" id="6878269"><a href="/gostd/encoding/json/scanner_test.go.html#6878250">s</a></span>&nbsp;<span class="op" id="6878271">!=</span>&nbsp;<span class="ident" id="6878274"><a href="/gostd/encoding/json/scanner_test.go.html#6877841">tt</a></span><span class="op" id="6878276">.</span><span class="ident" id="6878277"><a href="/gostd/encoding/json/scanner_test.go.html#6877414">compact</a></span>&nbsp;<span class="op" id="6878285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6878290"><a href="/gostd/encoding/json/scanner_test.go.html#6877795">t</a></span><span class="op" id="6878291">.</span><span class="ident" id="6878292"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6878298">(</span><span class="string" id="6878299">&#34;Compact(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="6878329">,</span>&nbsp;<span class="ident" id="6878331"><a href="/gostd/encoding/json/scanner_test.go.html#6877841">tt</a></span><span class="op" id="6878333">.</span><span class="ident" id="6878334"><a href="/gostd/encoding/json/scanner_test.go.html#6877430">indent</a></span><span class="op" id="6878340">,</span>&nbsp;<span class="ident" id="6878342"><a href="/gostd/encoding/json/scanner_test.go.html#6878250">s</a></span><span class="op" id="6878343">,</span>&nbsp;<span class="ident" id="6878345"><a href="/gostd/encoding/json/scanner_test.go.html#6877841">tt</a></span><span class="op" id="6878347">.</span><span class="ident" id="6878348"><a href="/gostd/encoding/json/scanner_test.go.html#6877414">compact</a></span><span class="op" id="6878355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878362">}</span><br>
<span class="lineno"></span><span class="op" id="6878364">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6878367">func</span>&nbsp;<span class="ident" id="6878372">TestCompactSeparators</span><span class="op" id="6878393">(</span><span class="ident" id="6878394">t</span>&nbsp;<span class="op" id="6878396">*</span><span class="ident" id="6878397"><a href="/gostd/encoding/json/scanner_test.go.html#6877348">testing</a></span><span class="op" id="6878404">.</span><span class="ident" id="6878405"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6878406">)</span>&nbsp;<span class="op" id="6878408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6878411">//&nbsp;U+2028&nbsp;and&nbsp;U+2029&nbsp;should&nbsp;be&nbsp;escaped&nbsp;inside&nbsp;strings.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6878467">//&nbsp;They&nbsp;should&nbsp;not&nbsp;appear&nbsp;outside&nbsp;strings.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6878511">tests</span>&nbsp;<span class="op" id="6878517">:=</span>&nbsp;<span class="op" id="6878520">[</span><span class="op" id="6878521">]</span><span class="keyword" id="6878522">struct</span>&nbsp;<span class="op" id="6878529">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6878533">in</span><span class="op" id="6878535">,</span>&nbsp;<span class="ident" id="6878537">compact</span>&nbsp;<span class="builtintype" id="6878545">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878553">}</span><span class="op" id="6878554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878558">{</span><span class="string" id="6878559">&#34;{\&#34;\u2028\&#34;:&nbsp;1}&#34;</span><span class="op" id="6878576">,</span>&nbsp;<span class="string" id="6878578">`{&#34;\u2028&#34;:1}`</span><span class="op" id="6878592">}</span><span class="op" id="6878593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878597">{</span><span class="string" id="6878598">&#34;{\&#34;\u2029\&#34;&nbsp;:2}&#34;</span><span class="op" id="6878615">,</span>&nbsp;<span class="string" id="6878617">`{&#34;\u2029&#34;:2}`</span><span class="op" id="6878631">}</span><span class="op" id="6878632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878635">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6878638">for</span>&nbsp;<span class="ident" id="6878642">_</span><span class="op" id="6878643">,</span>&nbsp;<span class="ident" id="6878645">tt</span>&nbsp;<span class="op" id="6878648">:=</span>&nbsp;<span class="keyword" id="6878651">range</span>&nbsp;<span class="ident" id="6878657"><a href="/gostd/encoding/json/scanner_test.go.html#6878511">tests</a></span>&nbsp;<span class="op" id="6878663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6878667">var</span>&nbsp;<span class="ident" id="6878671">buf</span>&nbsp;<span class="ident" id="6878675"><a href="/gostd/encoding/json/scanner_test.go.html#6877307">bytes</a></span><span class="op" id="6878680">.</span><span class="ident" id="6878681"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6878690">if</span>&nbsp;<span class="ident" id="6878693">err</span>&nbsp;<span class="op" id="6878697">:=</span>&nbsp;<span class="ident" id="6878700"><a href="/gostd/encoding/json/indent.go.html#4024330">Compact</a></span><span class="op" id="6878707">(</span><span class="op" id="6878708">&amp;</span><span class="ident" id="6878709"><a href="/gostd/encoding/json/scanner_test.go.html#6878671">buf</a></span><span class="op" id="6878712">,</span>&nbsp;<span class="op" id="6878714">[</span><span class="op" id="6878715">]</span><span class="builtintype" id="6878716">byte</span><span class="op" id="6878720">(</span><span class="ident" id="6878721"><a href="/gostd/encoding/json/scanner_test.go.html#6878645">tt</a></span><span class="op" id="6878723">.</span><span class="ident" id="6878724"><a href="/gostd/encoding/json/scanner_test.go.html#6878533">in</a></span><span class="op" id="6878726">)</span><span class="op" id="6878727">)</span><span class="op" id="6878728">;</span>&nbsp;<span class="ident" id="6878730"><a href="/gostd/encoding/json/scanner_test.go.html#6878693">err</a></span>&nbsp;<span class="op" id="6878734">!=</span>&nbsp;<span class="builtintype" id="6878737">nil</span>&nbsp;<span class="op" id="6878741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6878746"><a href="/gostd/encoding/json/scanner_test.go.html#6878394">t</a></span><span class="op" id="6878747">.</span><span class="ident" id="6878748"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6878754">(</span><span class="string" id="6878755">&#34;Compact(%q):&nbsp;%v&#34;</span><span class="op" id="6878772">,</span>&nbsp;<span class="ident" id="6878774"><a href="/gostd/encoding/json/scanner_test.go.html#6878645">tt</a></span><span class="op" id="6878776">.</span><span class="ident" id="6878777"><a href="/gostd/encoding/json/scanner_test.go.html#6878533">in</a></span><span class="op" id="6878779">,</span>&nbsp;<span class="ident" id="6878781"><a href="/gostd/encoding/json/scanner_test.go.html#6878693">err</a></span><span class="op" id="6878784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878788">}</span>&nbsp;<span class="keyword" id="6878790">else</span>&nbsp;<span class="keyword" id="6878795">if</span>&nbsp;<span class="ident" id="6878798">s</span>&nbsp;<span class="op" id="6878800">:=</span>&nbsp;<span class="ident" id="6878803"><a href="/gostd/encoding/json/scanner_test.go.html#6878671">buf</a></span><span class="op" id="6878806">.</span><span class="ident" id="6878807"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="6878813">(</span><span class="op" id="6878814">)</span><span class="op" id="6878815">;</span>&nbsp;<span class="ident" id="6878817"><a href="/gostd/encoding/json/scanner_test.go.html#6878798">s</a></span>&nbsp;<span class="op" id="6878819">!=</span>&nbsp;<span class="ident" id="6878822"><a href="/gostd/encoding/json/scanner_test.go.html#6878645">tt</a></span><span class="op" id="6878824">.</span><span class="ident" id="6878825"><a href="/gostd/encoding/json/scanner_test.go.html#6878537">compact</a></span>&nbsp;<span class="op" id="6878833">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6878838"><a href="/gostd/encoding/json/scanner_test.go.html#6878394">t</a></span><span class="op" id="6878839">.</span><span class="ident" id="6878840"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6878846">(</span><span class="string" id="6878847">&#34;Compact(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6878874">,</span>&nbsp;<span class="ident" id="6878876"><a href="/gostd/encoding/json/scanner_test.go.html#6878645">tt</a></span><span class="op" id="6878878">.</span><span class="ident" id="6878879"><a href="/gostd/encoding/json/scanner_test.go.html#6878533">in</a></span><span class="op" id="6878881">,</span>&nbsp;<span class="ident" id="6878883"><a href="/gostd/encoding/json/scanner_test.go.html#6878798">s</a></span><span class="op" id="6878884">,</span>&nbsp;<span class="ident" id="6878886"><a href="/gostd/encoding/json/scanner_test.go.html#6878645">tt</a></span><span class="op" id="6878888">.</span><span class="ident" id="6878889"><a href="/gostd/encoding/json/scanner_test.go.html#6878537">compact</a></span><span class="op" id="6878896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6878903">}</span><br>
<span class="lineno"></span><span class="op" id="6878905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="6878908">func</span>&nbsp;<span class="ident" id="6878913">TestIndent</span><span class="op" id="6878923">(</span><span class="ident" id="6878924">t</span>&nbsp;<span class="op" id="6878926">*</span><span class="ident" id="6878927"><a href="/gostd/encoding/json/scanner_test.go.html#6877348">testing</a></span><span class="op" id="6878934">.</span><span class="ident" id="6878935"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6878936">)</span>&nbsp;<span class="op" id="6878938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6878941">var</span>&nbsp;<span class="ident" id="6878945">buf</span>&nbsp;<span class="ident" id="6878949"><a href="/gostd/encoding/json/scanner_test.go.html#6877307">bytes</a></span><span class="op" id="6878954">.</span><span class="ident" id="6878955"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6878963">for</span>&nbsp;<span class="ident" id="6878967">_</span><span class="op" id="6878968">,</span>&nbsp;<span class="ident" id="6878970">tt</span>&nbsp;<span class="op" id="6878973">:=</span>&nbsp;<span class="keyword" id="6878976">range</span>&nbsp;<span class="ident" id="6878982"><a href="/gostd/encoding/json/scanner_test.go.html#6877452">examples</a></span>&nbsp;<span class="op" id="6878991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6878995"><a href="/gostd/encoding/json/scanner_test.go.html#6878945">buf</a></span><span class="op" id="6878998">.</span><span class="ident" id="6878999"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="6879004">(</span><span class="op" id="6879005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6879009">if</span>&nbsp;<span class="ident" id="6879012">err</span>&nbsp;<span class="op" id="6879016">:=</span>&nbsp;<span class="ident" id="6879019"><a href="/gostd/encoding/json/indent.go.html#4025963">Indent</a></span><span class="op" id="6879025">(</span><span class="op" id="6879026">&amp;</span><span class="ident" id="6879027"><a href="/gostd/encoding/json/scanner_test.go.html#6878945">buf</a></span><span class="op" id="6879030">,</span>&nbsp;<span class="op" id="6879032">[</span><span class="op" id="6879033">]</span><span class="builtintype" id="6879034">byte</span><span class="op" id="6879038">(</span><span class="ident" id="6879039"><a href="/gostd/encoding/json/scanner_test.go.html#6878970">tt</a></span><span class="op" id="6879041">.</span><span class="ident" id="6879042"><a href="/gostd/encoding/json/scanner_test.go.html#6877430">indent</a></span><span class="op" id="6879048">)</span><span class="op" id="6879049">,</span>&nbsp;<span class="string" id="6879051">&#34;&#34;</span><span class="op" id="6879053">,</span>&nbsp;<span class="string" id="6879055">&#34;\t&#34;</span><span class="op" id="6879059">)</span><span class="op" id="6879060">;</span>&nbsp;<span class="ident" id="6879062"><a href="/gostd/encoding/json/scanner_test.go.html#6879012">err</a></span>&nbsp;<span class="op" id="6879066">!=</span>&nbsp;<span class="builtintype" id="6879069">nil</span>&nbsp;<span class="op" id="6879073">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879078"><a href="/gostd/encoding/json/scanner_test.go.html#6878924">t</a></span><span class="op" id="6879079">.</span><span class="ident" id="6879080"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6879086">(</span><span class="string" id="6879087">&#34;Indent(%#q):&nbsp;%v&#34;</span><span class="op" id="6879104">,</span>&nbsp;<span class="ident" id="6879106"><a href="/gostd/encoding/json/scanner_test.go.html#6878970">tt</a></span><span class="op" id="6879108">.</span><span class="ident" id="6879109"><a href="/gostd/encoding/json/scanner_test.go.html#6877430">indent</a></span><span class="op" id="6879115">,</span>&nbsp;<span class="ident" id="6879117"><a href="/gostd/encoding/json/scanner_test.go.html#6879012">err</a></span><span class="op" id="6879120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6879124">}</span>&nbsp;<span class="keyword" id="6879126">else</span>&nbsp;<span class="keyword" id="6879131">if</span>&nbsp;<span class="ident" id="6879134">s</span>&nbsp;<span class="op" id="6879136">:=</span>&nbsp;<span class="ident" id="6879139"><a href="/gostd/encoding/json/scanner_test.go.html#6878945">buf</a></span><span class="op" id="6879142">.</span><span class="ident" id="6879143"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="6879149">(</span><span class="op" id="6879150">)</span><span class="op" id="6879151">;</span>&nbsp;<span class="ident" id="6879153"><a href="/gostd/encoding/json/scanner_test.go.html#6879134">s</a></span>&nbsp;<span class="op" id="6879155">!=</span>&nbsp;<span class="ident" id="6879158"><a href="/gostd/encoding/json/scanner_test.go.html#6878970">tt</a></span><span class="op" id="6879160">.</span><span class="ident" id="6879161"><a href="/gostd/encoding/json/scanner_test.go.html#6877430">indent</a></span>&nbsp;<span class="op" id="6879168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879173"><a href="/gostd/encoding/json/scanner_test.go.html#6878924">t</a></span><span class="op" id="6879174">.</span><span class="ident" id="6879175"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6879181">(</span><span class="string" id="6879182">&#34;Indent(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;original&#34;</span><span class="op" id="6879216">,</span>&nbsp;<span class="ident" id="6879218"><a href="/gostd/encoding/json/scanner_test.go.html#6878970">tt</a></span><span class="op" id="6879220">.</span><span class="ident" id="6879221"><a href="/gostd/encoding/json/scanner_test.go.html#6877430">indent</a></span><span class="op" id="6879227">,</span>&nbsp;<span class="ident" id="6879229"><a href="/gostd/encoding/json/scanner_test.go.html#6879134">s</a></span><span class="op" id="6879230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6879234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879239"><a href="/gostd/encoding/json/scanner_test.go.html#6878945">buf</a></span><span class="op" id="6879242">.</span><span class="ident" id="6879243"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="6879248">(</span><span class="op" id="6879249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6879253">if</span>&nbsp;<span class="ident" id="6879256">err</span>&nbsp;<span class="op" id="6879260">:=</span>&nbsp;<span class="ident" id="6879263"><a href="/gostd/encoding/json/indent.go.html#4025963">Indent</a></span><span class="op" id="6879269">(</span><span class="op" id="6879270">&amp;</span><span class="ident" id="6879271"><a href="/gostd/encoding/json/scanner_test.go.html#6878945">buf</a></span><span class="op" id="6879274">,</span>&nbsp;<span class="op" id="6879276">[</span><span class="op" id="6879277">]</span><span class="builtintype" id="6879278">byte</span><span class="op" id="6879282">(</span><span class="ident" id="6879283"><a href="/gostd/encoding/json/scanner_test.go.html#6878970">tt</a></span><span class="op" id="6879285">.</span><span class="ident" id="6879286"><a href="/gostd/encoding/json/scanner_test.go.html#6877414">compact</a></span><span class="op" id="6879293">)</span><span class="op" id="6879294">,</span>&nbsp;<span class="string" id="6879296">&#34;&#34;</span><span class="op" id="6879298">,</span>&nbsp;<span class="string" id="6879300">&#34;\t&#34;</span><span class="op" id="6879304">)</span><span class="op" id="6879305">;</span>&nbsp;<span class="ident" id="6879307"><a href="/gostd/encoding/json/scanner_test.go.html#6879256">err</a></span>&nbsp;<span class="op" id="6879311">!=</span>&nbsp;<span class="builtintype" id="6879314">nil</span>&nbsp;<span class="op" id="6879318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879323"><a href="/gostd/encoding/json/scanner_test.go.html#6878924">t</a></span><span class="op" id="6879324">.</span><span class="ident" id="6879325"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6879331">(</span><span class="string" id="6879332">&#34;Indent(%#q):&nbsp;%v&#34;</span><span class="op" id="6879349">,</span>&nbsp;<span class="ident" id="6879351"><a href="/gostd/encoding/json/scanner_test.go.html#6878970">tt</a></span><span class="op" id="6879353">.</span><span class="ident" id="6879354"><a href="/gostd/encoding/json/scanner_test.go.html#6877414">compact</a></span><span class="op" id="6879361">,</span>&nbsp;<span class="ident" id="6879363"><a href="/gostd/encoding/json/scanner_test.go.html#6879256">err</a></span><span class="op" id="6879366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6879371">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6879382">}</span>&nbsp;<span class="keyword" id="6879384">else</span>&nbsp;<span class="keyword" id="6879389">if</span>&nbsp;<span class="ident" id="6879392">s</span>&nbsp;<span class="op" id="6879394">:=</span>&nbsp;<span class="ident" id="6879397"><a href="/gostd/encoding/json/scanner_test.go.html#6878945">buf</a></span><span class="op" id="6879400">.</span><span class="ident" id="6879401"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="6879407">(</span><span class="op" id="6879408">)</span><span class="op" id="6879409">;</span>&nbsp;<span class="ident" id="6879411"><a href="/gostd/encoding/json/scanner_test.go.html#6879392">s</a></span>&nbsp;<span class="op" id="6879413">!=</span>&nbsp;<span class="ident" id="6879416"><a href="/gostd/encoding/json/scanner_test.go.html#6878970">tt</a></span><span class="op" id="6879418">.</span><span class="ident" id="6879419"><a href="/gostd/encoding/json/scanner_test.go.html#6877430">indent</a></span>&nbsp;<span class="op" id="6879426">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879431"><a href="/gostd/encoding/json/scanner_test.go.html#6878924">t</a></span><span class="op" id="6879432">.</span><span class="ident" id="6879433"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6879439">(</span><span class="string" id="6879440">&#34;Indent(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="6879469">,</span>&nbsp;<span class="ident" id="6879471"><a href="/gostd/encoding/json/scanner_test.go.html#6878970">tt</a></span><span class="op" id="6879473">.</span><span class="ident" id="6879474"><a href="/gostd/encoding/json/scanner_test.go.html#6877414">compact</a></span><span class="op" id="6879481">,</span>&nbsp;<span class="ident" id="6879483"><a href="/gostd/encoding/json/scanner_test.go.html#6879392">s</a></span><span class="op" id="6879484">,</span>&nbsp;<span class="ident" id="6879486"><a href="/gostd/encoding/json/scanner_test.go.html#6878970">tt</a></span><span class="op" id="6879488">.</span><span class="ident" id="6879489"><a href="/gostd/encoding/json/scanner_test.go.html#6877430">indent</a></span><span class="op" id="6879495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6879499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6879502">}</span><br>
<span class="lineno"></span><span class="op" id="6879504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="6879507">//&nbsp;Tests&nbsp;of&nbsp;a&nbsp;large&nbsp;random&nbsp;structure.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6879546">func</span>&nbsp;<span class="ident" id="6879551">TestCompactBig</span><span class="op" id="6879565">(</span><span class="ident" id="6879566">t</span>&nbsp;<span class="op" id="6879568">*</span><span class="ident" id="6879569"><a href="/gostd/encoding/json/scanner_test.go.html#6877348">testing</a></span><span class="op" id="6879576">.</span><span class="ident" id="6879577"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6879578">)</span>&nbsp;<span class="op" id="6879580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879583"><a href="/gostd/encoding/json/scanner_test.go.html#6882517">initBig</a></span><span class="op" id="6879590">(</span><span class="op" id="6879591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6879594">var</span>&nbsp;<span class="ident" id="6879598">buf</span>&nbsp;<span class="ident" id="6879602"><a href="/gostd/encoding/json/scanner_test.go.html#6877307">bytes</a></span><span class="op" id="6879607">.</span><span class="ident" id="6879608"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6879616">if</span>&nbsp;<span class="ident" id="6879619">err</span>&nbsp;<span class="op" id="6879623">:=</span>&nbsp;<span class="ident" id="6879626"><a href="/gostd/encoding/json/indent.go.html#4024330">Compact</a></span><span class="op" id="6879633">(</span><span class="op" id="6879634">&amp;</span><span class="ident" id="6879635"><a href="/gostd/encoding/json/scanner_test.go.html#6879598">buf</a></span><span class="op" id="6879638">,</span>&nbsp;<span class="ident" id="6879640"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6879647">)</span><span class="op" id="6879648">;</span>&nbsp;<span class="ident" id="6879650"><a href="/gostd/encoding/json/scanner_test.go.html#6879619">err</a></span>&nbsp;<span class="op" id="6879654">!=</span>&nbsp;<span class="builtintype" id="6879657">nil</span>&nbsp;<span class="op" id="6879661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879665"><a href="/gostd/encoding/json/scanner_test.go.html#6879566">t</a></span><span class="op" id="6879666">.</span><span class="ident" id="6879667"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6879673">(</span><span class="string" id="6879674">&#34;Compact:&nbsp;%v&#34;</span><span class="op" id="6879687">,</span>&nbsp;<span class="ident" id="6879689"><a href="/gostd/encoding/json/scanner_test.go.html#6879619">err</a></span><span class="op" id="6879692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6879695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879698">b</span>&nbsp;<span class="op" id="6879700">:=</span>&nbsp;<span class="ident" id="6879703"><a href="/gostd/encoding/json/scanner_test.go.html#6879598">buf</a></span><span class="op" id="6879706">.</span><span class="ident" id="6879707"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="6879712">(</span><span class="op" id="6879713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6879716">if</span>&nbsp;<span class="op" id="6879719">!</span><span class="ident" id="6879720"><a href="/gostd/encoding/json/scanner_test.go.html#6877307">bytes</a></span><span class="op" id="6879725">.</span><span class="ident" id="6879726"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="6879731">(</span><span class="ident" id="6879732"><a href="/gostd/encoding/json/scanner_test.go.html#6879698">b</a></span><span class="op" id="6879733">,</span>&nbsp;<span class="ident" id="6879735"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6879742">)</span>&nbsp;<span class="op" id="6879744">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879748"><a href="/gostd/encoding/json/scanner_test.go.html#6879566">t</a></span><span class="op" id="6879749">.</span><span class="ident" id="6879750"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6879755">(</span><span class="string" id="6879756">&#34;Compact(jsonBig)&nbsp;!=&nbsp;jsonBig&#34;</span><span class="op" id="6879785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879789"><a href="/gostd/encoding/json/scanner_test.go.html#6882132">diff</a></span><span class="op" id="6879793">(</span><span class="ident" id="6879794"><a href="/gostd/encoding/json/scanner_test.go.html#6879566">t</a></span><span class="op" id="6879795">,</span>&nbsp;<span class="ident" id="6879797"><a href="/gostd/encoding/json/scanner_test.go.html#6879698">b</a></span><span class="op" id="6879798">,</span>&nbsp;<span class="ident" id="6879800"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6879807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6879811">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6879819">}</span><br>
<span class="lineno"></span><span class="op" id="6879821">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="6879824">func</span>&nbsp;<span class="ident" id="6879829">TestIndentBig</span><span class="op" id="6879842">(</span><span class="ident" id="6879843">t</span>&nbsp;<span class="op" id="6879845">*</span><span class="ident" id="6879846"><a href="/gostd/encoding/json/scanner_test.go.html#6877348">testing</a></span><span class="op" id="6879853">.</span><span class="ident" id="6879854"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6879855">)</span>&nbsp;<span class="op" id="6879857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879860"><a href="/gostd/encoding/json/scanner_test.go.html#6882517">initBig</a></span><span class="op" id="6879867">(</span><span class="op" id="6879868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6879871">var</span>&nbsp;<span class="ident" id="6879875">buf</span>&nbsp;<span class="ident" id="6879879"><a href="/gostd/encoding/json/scanner_test.go.html#6877307">bytes</a></span><span class="op" id="6879884">.</span><span class="ident" id="6879885"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6879893">if</span>&nbsp;<span class="ident" id="6879896">err</span>&nbsp;<span class="op" id="6879900">:=</span>&nbsp;<span class="ident" id="6879903"><a href="/gostd/encoding/json/indent.go.html#4025963">Indent</a></span><span class="op" id="6879909">(</span><span class="op" id="6879910">&amp;</span><span class="ident" id="6879911"><a href="/gostd/encoding/json/scanner_test.go.html#6879875">buf</a></span><span class="op" id="6879914">,</span>&nbsp;<span class="ident" id="6879916"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6879923">,</span>&nbsp;<span class="string" id="6879925">&#34;&#34;</span><span class="op" id="6879927">,</span>&nbsp;<span class="string" id="6879929">&#34;\t&#34;</span><span class="op" id="6879933">)</span><span class="op" id="6879934">;</span>&nbsp;<span class="ident" id="6879936"><a href="/gostd/encoding/json/scanner_test.go.html#6879896">err</a></span>&nbsp;<span class="op" id="6879940">!=</span>&nbsp;<span class="builtintype" id="6879943">nil</span>&nbsp;<span class="op" id="6879947">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879951"><a href="/gostd/encoding/json/scanner_test.go.html#6879843">t</a></span><span class="op" id="6879952">.</span><span class="ident" id="6879953"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6879959">(</span><span class="string" id="6879960">&#34;Indent1:&nbsp;%v&#34;</span><span class="op" id="6879973">,</span>&nbsp;<span class="ident" id="6879975"><a href="/gostd/encoding/json/scanner_test.go.html#6879896">err</a></span><span class="op" id="6879978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6879981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6879984">b</span>&nbsp;<span class="op" id="6879986">:=</span>&nbsp;<span class="ident" id="6879989"><a href="/gostd/encoding/json/scanner_test.go.html#6879875">buf</a></span><span class="op" id="6879992">.</span><span class="ident" id="6879993"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="6879998">(</span><span class="op" id="6879999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6880002">if</span>&nbsp;<span class="builtinfunc" id="6880005">len</span><span class="op" id="6880008">(</span><span class="ident" id="6880009"><a href="/gostd/encoding/json/scanner_test.go.html#6879984">b</a></span><span class="op" id="6880010">)</span>&nbsp;<span class="op" id="6880012">==</span>&nbsp;<span class="builtinfunc" id="6880015">len</span><span class="op" id="6880018">(</span><span class="ident" id="6880019"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6880026">)</span>&nbsp;<span class="op" id="6880028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6880032">//&nbsp;jsonBig&nbsp;is&nbsp;compact&nbsp;(no&nbsp;unnecessary&nbsp;spaces);</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6880081">//&nbsp;indenting&nbsp;should&nbsp;make&nbsp;it&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880118"><a href="/gostd/encoding/json/scanner_test.go.html#6879843">t</a></span><span class="op" id="6880119">.</span><span class="ident" id="6880120"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6880126">(</span><span class="string" id="6880127">&#34;Indent(jsonBig)&nbsp;did&nbsp;not&nbsp;get&nbsp;bigger&#34;</span><span class="op" id="6880163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6880166">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6880170">//&nbsp;should&nbsp;be&nbsp;idempotent</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6880195">var</span>&nbsp;<span class="ident" id="6880199">buf1</span>&nbsp;<span class="ident" id="6880204"><a href="/gostd/encoding/json/scanner_test.go.html#6877307">bytes</a></span><span class="op" id="6880209">.</span><span class="ident" id="6880210"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6880218">if</span>&nbsp;<span class="ident" id="6880221">err</span>&nbsp;<span class="op" id="6880225">:=</span>&nbsp;<span class="ident" id="6880228"><a href="/gostd/encoding/json/indent.go.html#4025963">Indent</a></span><span class="op" id="6880234">(</span><span class="op" id="6880235">&amp;</span><span class="ident" id="6880236"><a href="/gostd/encoding/json/scanner_test.go.html#6880199">buf1</a></span><span class="op" id="6880240">,</span>&nbsp;<span class="ident" id="6880242"><a href="/gostd/encoding/json/scanner_test.go.html#6879984">b</a></span><span class="op" id="6880243">,</span>&nbsp;<span class="string" id="6880245">&#34;&#34;</span><span class="op" id="6880247">,</span>&nbsp;<span class="string" id="6880249">&#34;\t&#34;</span><span class="op" id="6880253">)</span><span class="op" id="6880254">;</span>&nbsp;<span class="ident" id="6880256"><a href="/gostd/encoding/json/scanner_test.go.html#6880221">err</a></span>&nbsp;<span class="op" id="6880260">!=</span>&nbsp;<span class="builtintype" id="6880263">nil</span>&nbsp;<span class="op" id="6880267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880271"><a href="/gostd/encoding/json/scanner_test.go.html#6879843">t</a></span><span class="op" id="6880272">.</span><span class="ident" id="6880273"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6880279">(</span><span class="string" id="6880280">&#34;Indent2:&nbsp;%v&#34;</span><span class="op" id="6880293">,</span>&nbsp;<span class="ident" id="6880295"><a href="/gostd/encoding/json/scanner_test.go.html#6880221">err</a></span><span class="op" id="6880298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6880301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880304">b1</span>&nbsp;<span class="op" id="6880307">:=</span>&nbsp;<span class="ident" id="6880310"><a href="/gostd/encoding/json/scanner_test.go.html#6880199">buf1</a></span><span class="op" id="6880314">.</span><span class="ident" id="6880315"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="6880320">(</span><span class="op" id="6880321">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6880324">if</span>&nbsp;<span class="op" id="6880327">!</span><span class="ident" id="6880328"><a href="/gostd/encoding/json/scanner_test.go.html#6877307">bytes</a></span><span class="op" id="6880333">.</span><span class="ident" id="6880334"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="6880339">(</span><span class="ident" id="6880340"><a href="/gostd/encoding/json/scanner_test.go.html#6880304">b1</a></span><span class="op" id="6880342">,</span>&nbsp;<span class="ident" id="6880344"><a href="/gostd/encoding/json/scanner_test.go.html#6879984">b</a></span><span class="op" id="6880345">)</span>&nbsp;<span class="op" id="6880347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880351"><a href="/gostd/encoding/json/scanner_test.go.html#6879843">t</a></span><span class="op" id="6880352">.</span><span class="ident" id="6880353"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6880358">(</span><span class="string" id="6880359">&#34;Indent(Indent(jsonBig))&nbsp;!=&nbsp;Indent(jsonBig)&#34;</span><span class="op" id="6880403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880407"><a href="/gostd/encoding/json/scanner_test.go.html#6882132">diff</a></span><span class="op" id="6880411">(</span><span class="ident" id="6880412"><a href="/gostd/encoding/json/scanner_test.go.html#6879843">t</a></span><span class="op" id="6880413">,</span>&nbsp;<span class="ident" id="6880415"><a href="/gostd/encoding/json/scanner_test.go.html#6880304">b1</a></span><span class="op" id="6880417">,</span>&nbsp;<span class="ident" id="6880419"><a href="/gostd/encoding/json/scanner_test.go.html#6879984">b</a></span><span class="op" id="6880420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6880424">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6880432">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6880436">//&nbsp;should&nbsp;get&nbsp;back&nbsp;to&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880468"><a href="/gostd/encoding/json/scanner_test.go.html#6880199">buf1</a></span><span class="op" id="6880472">.</span><span class="ident" id="6880473"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="6880478">(</span><span class="op" id="6880479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6880482">if</span>&nbsp;<span class="ident" id="6880485">err</span>&nbsp;<span class="op" id="6880489">:=</span>&nbsp;<span class="ident" id="6880492"><a href="/gostd/encoding/json/indent.go.html#4024330">Compact</a></span><span class="op" id="6880499">(</span><span class="op" id="6880500">&amp;</span><span class="ident" id="6880501"><a href="/gostd/encoding/json/scanner_test.go.html#6880199">buf1</a></span><span class="op" id="6880505">,</span>&nbsp;<span class="ident" id="6880507"><a href="/gostd/encoding/json/scanner_test.go.html#6879984">b</a></span><span class="op" id="6880508">)</span><span class="op" id="6880509">;</span>&nbsp;<span class="ident" id="6880511"><a href="/gostd/encoding/json/scanner_test.go.html#6880485">err</a></span>&nbsp;<span class="op" id="6880515">!=</span>&nbsp;<span class="builtintype" id="6880518">nil</span>&nbsp;<span class="op" id="6880522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880526"><a href="/gostd/encoding/json/scanner_test.go.html#6879843">t</a></span><span class="op" id="6880527">.</span><span class="ident" id="6880528"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6880534">(</span><span class="string" id="6880535">&#34;Compact:&nbsp;%v&#34;</span><span class="op" id="6880548">,</span>&nbsp;<span class="ident" id="6880550"><a href="/gostd/encoding/json/scanner_test.go.html#6880485">err</a></span><span class="op" id="6880553">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6880556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880559"><a href="/gostd/encoding/json/scanner_test.go.html#6880304">b1</a></span>&nbsp;<span class="op" id="6880562">=</span>&nbsp;<span class="ident" id="6880564"><a href="/gostd/encoding/json/scanner_test.go.html#6880199">buf1</a></span><span class="op" id="6880568">.</span><span class="ident" id="6880569"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="6880574">(</span><span class="op" id="6880575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6880578">if</span>&nbsp;<span class="op" id="6880581">!</span><span class="ident" id="6880582"><a href="/gostd/encoding/json/scanner_test.go.html#6877307">bytes</a></span><span class="op" id="6880587">.</span><span class="ident" id="6880588"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="6880593">(</span><span class="ident" id="6880594"><a href="/gostd/encoding/json/scanner_test.go.html#6880304">b1</a></span><span class="op" id="6880596">,</span>&nbsp;<span class="ident" id="6880598"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6880605">)</span>&nbsp;<span class="op" id="6880607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880611"><a href="/gostd/encoding/json/scanner_test.go.html#6879843">t</a></span><span class="op" id="6880612">.</span><span class="ident" id="6880613"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6880618">(</span><span class="string" id="6880619">&#34;Compact(Indent(jsonBig))&nbsp;!=&nbsp;jsonBig&#34;</span><span class="op" id="6880656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880660"><a href="/gostd/encoding/json/scanner_test.go.html#6882132">diff</a></span><span class="op" id="6880664">(</span><span class="ident" id="6880665"><a href="/gostd/encoding/json/scanner_test.go.html#6879843">t</a></span><span class="op" id="6880666">,</span>&nbsp;<span class="ident" id="6880668"><a href="/gostd/encoding/json/scanner_test.go.html#6880304">b1</a></span><span class="op" id="6880670">,</span>&nbsp;<span class="ident" id="6880672"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6880679">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6880683">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6880691">}</span><br>
<span class="lineno"></span><span class="op" id="6880693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880696">type</span>&nbsp;<span class="ident" id="6880701">indentErrorTest</span>&nbsp;<span class="keyword" id="6880717">struct</span>&nbsp;<span class="op" id="6880724">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880727">in</span>&nbsp;&nbsp;<span class="builtintype" id="6880731">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6880739">err</span>&nbsp;<span class="builtintype" id="6880743">error</span><br>
<span class="lineno"></span><span class="op" id="6880749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880752">var</span>&nbsp;<span class="ident" id="6880756">indentErrorTests</span>&nbsp;<span class="op" id="6880773">=</span>&nbsp;<span class="op" id="6880775">[</span><span class="op" id="6880776">]</span><span class="ident" id="6880777"><a href="/gostd/encoding/json/scanner_test.go.html#6880701">indentErrorTest</a></span><span class="op" id="6880792">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6880795">{</span><span class="string" id="6880796">`{&#34;X&#34;:&nbsp;&#34;foo&#34;,&nbsp;&#34;Y&#34;}`</span><span class="op" id="6880815">,</span>&nbsp;<span class="op" id="6880817">&amp;</span><span class="ident" id="6880818"><a href="/gostd/encoding/json/scanner.go.html#4028827">SyntaxError</a></span><span class="op" id="6880829">{</span><span class="string" id="6880830">&#34;invalid&nbsp;character&nbsp;&#39;}&#39;&nbsp;after&nbsp;object&nbsp;key&#34;</span><span class="op" id="6880870">,</span>&nbsp;<span class="num" id="6880872">17</span><span class="op" id="6880874">}</span><span class="op" id="6880875">}</span><span class="op" id="6880876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6880879">{</span><span class="string" id="6880880">`{&#34;X&#34;:&nbsp;&#34;foo&#34;&nbsp;&#34;Y&#34;:&nbsp;&#34;bar&#34;}`</span><span class="op" id="6880905">,</span>&nbsp;<span class="op" id="6880907">&amp;</span><span class="ident" id="6880908"><a href="/gostd/encoding/json/scanner.go.html#4028827">SyntaxError</a></span><span class="op" id="6880919">{</span><span class="string" id="6880920">&#34;invalid&nbsp;character&nbsp;&#39;\&#34;&#39;&nbsp;after&nbsp;object&nbsp;key:value&nbsp;pair&#34;</span><span class="op" id="6880972">,</span>&nbsp;<span class="num" id="6880974">13</span><span class="op" id="6880976">}</span><span class="op" id="6880977">}</span><span class="op" id="6880978">,</span><br>
<span class="lineno"></span><span class="op" id="6880980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880983">func</span>&nbsp;<span class="ident" id="6880988">TestIndentErrors</span><span class="op" id="6881004">(</span><span class="ident" id="6881005">t</span>&nbsp;<span class="op" id="6881007">*</span><span class="ident" id="6881008"><a href="/gostd/encoding/json/scanner_test.go.html#6877348">testing</a></span><span class="op" id="6881015">.</span><span class="ident" id="6881016"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6881017">)</span>&nbsp;<span class="op" id="6881019">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881022">for</span>&nbsp;<span class="ident" id="6881026">i</span><span class="op" id="6881027">,</span>&nbsp;<span class="ident" id="6881029">tt</span>&nbsp;<span class="op" id="6881032">:=</span>&nbsp;<span class="keyword" id="6881035">range</span>&nbsp;<span class="ident" id="6881041"><a href="/gostd/encoding/json/scanner_test.go.html#6880756">indentErrorTests</a></span>&nbsp;<span class="op" id="6881058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881062">slice</span>&nbsp;<span class="op" id="6881068">:=</span>&nbsp;<span class="builtinfunc" id="6881071">make</span><span class="op" id="6881075">(</span><span class="op" id="6881076">[</span><span class="op" id="6881077">]</span><span class="builtintype" id="6881078">uint8</span><span class="op" id="6881083">,</span>&nbsp;<span class="num" id="6881085">0</span><span class="op" id="6881086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881090">buf</span>&nbsp;<span class="op" id="6881094">:=</span>&nbsp;<span class="ident" id="6881097"><a href="/gostd/encoding/json/scanner_test.go.html#6877307">bytes</a></span><span class="op" id="6881102">.</span><span class="ident" id="6881103"><a href="/gostd/bytes/buffer.go.html#1395573">NewBuffer</a></span><span class="op" id="6881112">(</span><span class="ident" id="6881113"><a href="/gostd/encoding/json/scanner_test.go.html#6881062">slice</a></span><span class="op" id="6881118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881122">if</span>&nbsp;<span class="ident" id="6881125">err</span>&nbsp;<span class="op" id="6881129">:=</span>&nbsp;<span class="ident" id="6881132"><a href="/gostd/encoding/json/indent.go.html#4025963">Indent</a></span><span class="op" id="6881138">(</span><span class="ident" id="6881139"><a href="/gostd/encoding/json/scanner_test.go.html#6881090">buf</a></span><span class="op" id="6881142">,</span>&nbsp;<span class="op" id="6881144">[</span><span class="op" id="6881145">]</span><span class="builtintype" id="6881146">uint8</span><span class="op" id="6881151">(</span><span class="ident" id="6881152"><a href="/gostd/encoding/json/scanner_test.go.html#6881029">tt</a></span><span class="op" id="6881154">.</span><span class="ident" id="6881155"><a href="/gostd/encoding/json/scanner_test.go.html#6880727">in</a></span><span class="op" id="6881157">)</span><span class="op" id="6881158">,</span>&nbsp;<span class="string" id="6881160">&#34;&#34;</span><span class="op" id="6881162">,</span>&nbsp;<span class="string" id="6881164">&#34;&#34;</span><span class="op" id="6881166">)</span><span class="op" id="6881167">;</span>&nbsp;<span class="ident" id="6881169"><a href="/gostd/encoding/json/scanner_test.go.html#6881125">err</a></span>&nbsp;<span class="op" id="6881173">!=</span>&nbsp;<span class="builtintype" id="6881176">nil</span>&nbsp;<span class="op" id="6881180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881185">if</span>&nbsp;<span class="op" id="6881188">!</span><span class="ident" id="6881189"><a href="/gostd/encoding/json/scanner_test.go.html#6877337">reflect</a></span><span class="op" id="6881196">.</span><span class="ident" id="6881197"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="6881206">(</span><span class="ident" id="6881207"><a href="/gostd/encoding/json/scanner_test.go.html#6881125">err</a></span><span class="op" id="6881210">,</span>&nbsp;<span class="ident" id="6881212"><a href="/gostd/encoding/json/scanner_test.go.html#6881029">tt</a></span><span class="op" id="6881214">.</span><span class="ident" id="6881215"><a href="/gostd/encoding/json/scanner_test.go.html#6880739">err</a></span><span class="op" id="6881218">)</span>&nbsp;<span class="op" id="6881220">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881226"><a href="/gostd/encoding/json/scanner_test.go.html#6881005">t</a></span><span class="op" id="6881227">.</span><span class="ident" id="6881228"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6881234">(</span><span class="string" id="6881235">&#34;#%d:&nbsp;Indent:&nbsp;%#v&#34;</span><span class="op" id="6881253">,</span>&nbsp;<span class="ident" id="6881255"><a href="/gostd/encoding/json/scanner_test.go.html#6881026">i</a></span><span class="op" id="6881256">,</span>&nbsp;<span class="ident" id="6881258"><a href="/gostd/encoding/json/scanner_test.go.html#6881125">err</a></span><span class="op" id="6881261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881267">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6881279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6881283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6881286">}</span><br>
<span class="lineno">180</span><span class="op" id="6881288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6881291">func</span>&nbsp;<span class="ident" id="6881296">TestNextValueBig</span><span class="op" id="6881312">(</span><span class="ident" id="6881313">t</span>&nbsp;<span class="op" id="6881315">*</span><span class="ident" id="6881316"><a href="/gostd/encoding/json/scanner_test.go.html#6877348">testing</a></span><span class="op" id="6881323">.</span><span class="ident" id="6881324"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6881325">)</span>&nbsp;<span class="op" id="6881327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881330"><a href="/gostd/encoding/json/scanner_test.go.html#6882517">initBig</a></span><span class="op" id="6881337">(</span><span class="op" id="6881338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881341">var</span>&nbsp;<span class="ident" id="6881345">scan</span>&nbsp;<span class="ident" id="6881350"><a href="/gostd/encoding/json/scanner.go.html#4029661">scanner</a></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881359">item</span><span class="op" id="6881363">,</span>&nbsp;<span class="ident" id="6881365">rest</span><span class="op" id="6881369">,</span>&nbsp;<span class="ident" id="6881371">err</span>&nbsp;<span class="op" id="6881375">:=</span>&nbsp;<span class="ident" id="6881378"><a href="/gostd/encoding/json/scanner.go.html#4028386">nextValue</a></span><span class="op" id="6881387">(</span><span class="ident" id="6881388"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6881395">,</span>&nbsp;<span class="op" id="6881397">&amp;</span><span class="ident" id="6881398"><a href="/gostd/encoding/json/scanner_test.go.html#6881345">scan</a></span><span class="op" id="6881402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881405">if</span>&nbsp;<span class="ident" id="6881408"><a href="/gostd/encoding/json/scanner_test.go.html#6881371">err</a></span>&nbsp;<span class="op" id="6881412">!=</span>&nbsp;<span class="builtintype" id="6881415">nil</span>&nbsp;<span class="op" id="6881419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881423"><a href="/gostd/encoding/json/scanner_test.go.html#6881313">t</a></span><span class="op" id="6881424">.</span><span class="ident" id="6881425"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6881431">(</span><span class="string" id="6881432">&#34;nextValue:&nbsp;%s&#34;</span><span class="op" id="6881447">,</span>&nbsp;<span class="ident" id="6881449"><a href="/gostd/encoding/json/scanner_test.go.html#6881371">err</a></span><span class="op" id="6881452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6881455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881458">if</span>&nbsp;<span class="builtinfunc" id="6881461">len</span><span class="op" id="6881464">(</span><span class="ident" id="6881465"><a href="/gostd/encoding/json/scanner_test.go.html#6881359">item</a></span><span class="op" id="6881469">)</span>&nbsp;<span class="op" id="6881471">!=</span>&nbsp;<span class="builtinfunc" id="6881474">len</span><span class="op" id="6881477">(</span><span class="ident" id="6881478"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6881485">)</span>&nbsp;<span class="op" id="6881487">||</span>&nbsp;<span class="op" id="6881490">&amp;</span><span class="ident" id="6881491"><a href="/gostd/encoding/json/scanner_test.go.html#6881359">item</a></span><span class="op" id="6881495">[</span><span class="num" id="6881496">0</span><span class="op" id="6881497">]</span>&nbsp;<span class="op" id="6881499">!=</span>&nbsp;<span class="op" id="6881502">&amp;</span><span class="ident" id="6881503"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6881510">[</span><span class="num" id="6881511">0</span><span class="op" id="6881512">]</span>&nbsp;<span class="op" id="6881514">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881518"><a href="/gostd/encoding/json/scanner_test.go.html#6881313">t</a></span><span class="op" id="6881519">.</span><span class="ident" id="6881520"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6881526">(</span><span class="string" id="6881527">&#34;invalid&nbsp;item:&nbsp;%d&nbsp;%d&#34;</span><span class="op" id="6881548">,</span>&nbsp;<span class="builtinfunc" id="6881550">len</span><span class="op" id="6881553">(</span><span class="ident" id="6881554"><a href="/gostd/encoding/json/scanner_test.go.html#6881359">item</a></span><span class="op" id="6881558">)</span><span class="op" id="6881559">,</span>&nbsp;<span class="builtinfunc" id="6881561">len</span><span class="op" id="6881564">(</span><span class="ident" id="6881565"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6881572">)</span><span class="op" id="6881573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6881576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881579">if</span>&nbsp;<span class="builtinfunc" id="6881582">len</span><span class="op" id="6881585">(</span><span class="ident" id="6881586"><a href="/gostd/encoding/json/scanner_test.go.html#6881365">rest</a></span><span class="op" id="6881590">)</span>&nbsp;<span class="op" id="6881592">!=</span>&nbsp;<span class="num" id="6881595">0</span>&nbsp;<span class="op" id="6881597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881601"><a href="/gostd/encoding/json/scanner_test.go.html#6881313">t</a></span><span class="op" id="6881602">.</span><span class="ident" id="6881603"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6881609">(</span><span class="string" id="6881610">&#34;invalid&nbsp;rest:&nbsp;%d&#34;</span><span class="op" id="6881628">,</span>&nbsp;<span class="builtinfunc" id="6881630">len</span><span class="op" id="6881633">(</span><span class="ident" id="6881634"><a href="/gostd/encoding/json/scanner_test.go.html#6881365">rest</a></span><span class="op" id="6881638">)</span><span class="op" id="6881639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6881642">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881646"><a href="/gostd/encoding/json/scanner_test.go.html#6881359">item</a></span><span class="op" id="6881650">,</span>&nbsp;<span class="ident" id="6881652"><a href="/gostd/encoding/json/scanner_test.go.html#6881365">rest</a></span><span class="op" id="6881656">,</span>&nbsp;<span class="ident" id="6881658"><a href="/gostd/encoding/json/scanner_test.go.html#6881371">err</a></span>&nbsp;<span class="op" id="6881662">=</span>&nbsp;<span class="ident" id="6881664"><a href="/gostd/encoding/json/scanner.go.html#4028386">nextValue</a></span><span class="op" id="6881673">(</span><span class="builtinfunc" id="6881674">append</span><span class="op" id="6881680">(</span><span class="ident" id="6881681"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6881688">,</span>&nbsp;<span class="string" id="6881690">&#34;HELLO&nbsp;WORLD&#34;</span><span class="op" id="6881703">...</span><span class="op" id="6881706">)</span><span class="op" id="6881707">,</span>&nbsp;<span class="op" id="6881709">&amp;</span><span class="ident" id="6881710"><a href="/gostd/encoding/json/scanner_test.go.html#6881345">scan</a></span><span class="op" id="6881714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881717">if</span>&nbsp;<span class="ident" id="6881720"><a href="/gostd/encoding/json/scanner_test.go.html#6881371">err</a></span>&nbsp;<span class="op" id="6881724">!=</span>&nbsp;<span class="builtintype" id="6881727">nil</span>&nbsp;<span class="op" id="6881731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881735"><a href="/gostd/encoding/json/scanner_test.go.html#6881313">t</a></span><span class="op" id="6881736">.</span><span class="ident" id="6881737"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6881743">(</span><span class="string" id="6881744">&#34;nextValue&nbsp;extra:&nbsp;%s&#34;</span><span class="op" id="6881765">,</span>&nbsp;<span class="ident" id="6881767"><a href="/gostd/encoding/json/scanner_test.go.html#6881371">err</a></span><span class="op" id="6881770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6881773">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881776">if</span>&nbsp;<span class="builtinfunc" id="6881779">len</span><span class="op" id="6881782">(</span><span class="ident" id="6881783"><a href="/gostd/encoding/json/scanner_test.go.html#6881359">item</a></span><span class="op" id="6881787">)</span>&nbsp;<span class="op" id="6881789">!=</span>&nbsp;<span class="builtinfunc" id="6881792">len</span><span class="op" id="6881795">(</span><span class="ident" id="6881796"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6881803">)</span>&nbsp;<span class="op" id="6881805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881809"><a href="/gostd/encoding/json/scanner_test.go.html#6881313">t</a></span><span class="op" id="6881810">.</span><span class="ident" id="6881811"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6881817">(</span><span class="string" id="6881818">&#34;invalid&nbsp;item:&nbsp;%d&nbsp;%d&#34;</span><span class="op" id="6881839">,</span>&nbsp;<span class="builtinfunc" id="6881841">len</span><span class="op" id="6881844">(</span><span class="ident" id="6881845"><a href="/gostd/encoding/json/scanner_test.go.html#6881359">item</a></span><span class="op" id="6881849">)</span><span class="op" id="6881850">,</span>&nbsp;<span class="builtinfunc" id="6881852">len</span><span class="op" id="6881855">(</span><span class="ident" id="6881856"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6881863">)</span><span class="op" id="6881864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6881867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6881870">if</span>&nbsp;<span class="builtintype" id="6881873">string</span><span class="op" id="6881879">(</span><span class="ident" id="6881880"><a href="/gostd/encoding/json/scanner_test.go.html#6881365">rest</a></span><span class="op" id="6881884">)</span>&nbsp;<span class="op" id="6881886">!=</span>&nbsp;<span class="string" id="6881889">&#34;HELLO&nbsp;WORLD&#34;</span>&nbsp;<span class="op" id="6881903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6881907"><a href="/gostd/encoding/json/scanner_test.go.html#6881313">t</a></span><span class="op" id="6881908">.</span><span class="ident" id="6881909"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6881915">(</span><span class="string" id="6881916">&#34;invalid&nbsp;rest:&nbsp;%d&#34;</span><span class="op" id="6881934">,</span>&nbsp;<span class="builtinfunc" id="6881936">len</span><span class="op" id="6881939">(</span><span class="ident" id="6881940"><a href="/gostd/encoding/json/scanner_test.go.html#6881365">rest</a></span><span class="op" id="6881944">)</span><span class="op" id="6881945">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6881948">}</span><br>
<span class="lineno"></span><span class="op" id="6881950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6881953">var</span>&nbsp;<span class="ident" id="6881957">benchScan</span>&nbsp;<span class="ident" id="6881967"><a href="/gostd/encoding/json/scanner.go.html#4029661">scanner</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="keyword" id="6881976">func</span>&nbsp;<span class="ident" id="6881981">BenchmarkSkipValue</span><span class="op" id="6881999">(</span><span class="ident" id="6882000">b</span>&nbsp;<span class="op" id="6882002">*</span><span class="ident" id="6882003"><a href="/gostd/encoding/json/scanner_test.go.html#6877348">testing</a></span><span class="op" id="6882010">.</span><span class="ident" id="6882011"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="6882012">)</span>&nbsp;<span class="op" id="6882014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882017"><a href="/gostd/encoding/json/scanner_test.go.html#6882517">initBig</a></span><span class="op" id="6882024">(</span><span class="op" id="6882025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882028">for</span>&nbsp;<span class="ident" id="6882032">i</span>&nbsp;<span class="op" id="6882034">:=</span>&nbsp;<span class="num" id="6882037">0</span><span class="op" id="6882038">;</span>&nbsp;<span class="ident" id="6882040"><a href="/gostd/encoding/json/scanner_test.go.html#6882032">i</a></span>&nbsp;<span class="op" id="6882042">&lt;</span>&nbsp;<span class="ident" id="6882044"><a href="/gostd/encoding/json/scanner_test.go.html#6882000">b</a></span><span class="op" id="6882045">.</span><span class="ident" id="6882046"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="6882047">;</span>&nbsp;<span class="ident" id="6882049"><a href="/gostd/encoding/json/scanner_test.go.html#6882032">i</a></span><span class="op" id="6882050">++</span>&nbsp;<span class="op" id="6882053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882057"><a href="/gostd/encoding/json/scanner.go.html#4028386">nextValue</a></span><span class="op" id="6882066">(</span><span class="ident" id="6882067"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6882074">,</span>&nbsp;<span class="op" id="6882076">&amp;</span><span class="ident" id="6882077"><a href="/gostd/encoding/json/scanner_test.go.html#6881957">benchScan</a></span><span class="op" id="6882086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6882089">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882092"><a href="/gostd/encoding/json/scanner_test.go.html#6882000">b</a></span><span class="op" id="6882093">.</span><span class="ident" id="6882094"><a href="/gostd/testing/benchmark.go.html#5452834">SetBytes</a></span><span class="op" id="6882102">(</span><span class="builtintype" id="6882103">int64</span><span class="op" id="6882108">(</span><span class="builtinfunc" id="6882109">len</span><span class="op" id="6882112">(</span><span class="ident" id="6882113"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span><span class="op" id="6882120">)</span><span class="op" id="6882121">)</span><span class="op" id="6882122">)</span><br>
<span class="lineno"></span><span class="op" id="6882124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6882127">func</span>&nbsp;<span class="ident" id="6882132">diff</span><span class="op" id="6882136">(</span><span class="ident" id="6882137">t</span>&nbsp;<span class="op" id="6882139">*</span><span class="ident" id="6882140"><a href="/gostd/encoding/json/scanner_test.go.html#6877348">testing</a></span><span class="op" id="6882147">.</span><span class="ident" id="6882148"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6882149">,</span>&nbsp;<span class="ident" id="6882151">a</span><span class="op" id="6882152">,</span>&nbsp;<span class="ident" id="6882154">b</span>&nbsp;<span class="op" id="6882156">[</span><span class="op" id="6882157">]</span><span class="builtintype" id="6882158">byte</span><span class="op" id="6882162">)</span>&nbsp;<span class="op" id="6882164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882167">for</span>&nbsp;<span class="ident" id="6882171">i</span>&nbsp;<span class="op" id="6882173">:=</span>&nbsp;<span class="num" id="6882176">0</span><span class="op" id="6882177">;</span>&nbsp;<span class="op" id="6882179">;</span>&nbsp;<span class="ident" id="6882181"><a href="/gostd/encoding/json/scanner_test.go.html#6882171">i</a></span><span class="op" id="6882182">++</span>&nbsp;<span class="op" id="6882185">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882189">if</span>&nbsp;<span class="ident" id="6882192"><a href="/gostd/encoding/json/scanner_test.go.html#6882171">i</a></span>&nbsp;<span class="op" id="6882194">&gt;=</span>&nbsp;<span class="builtinfunc" id="6882197">len</span><span class="op" id="6882200">(</span><span class="ident" id="6882201"><a href="/gostd/encoding/json/scanner_test.go.html#6882151">a</a></span><span class="op" id="6882202">)</span>&nbsp;<span class="op" id="6882204">||</span>&nbsp;<span class="ident" id="6882207"><a href="/gostd/encoding/json/scanner_test.go.html#6882171">i</a></span>&nbsp;<span class="op" id="6882209">&gt;=</span>&nbsp;<span class="builtinfunc" id="6882212">len</span><span class="op" id="6882215">(</span><span class="ident" id="6882216"><a href="/gostd/encoding/json/scanner_test.go.html#6882154">b</a></span><span class="op" id="6882217">)</span>&nbsp;<span class="op" id="6882219">||</span>&nbsp;<span class="ident" id="6882222"><a href="/gostd/encoding/json/scanner_test.go.html#6882151">a</a></span><span class="op" id="6882223">[</span><span class="ident" id="6882224"><a href="/gostd/encoding/json/scanner_test.go.html#6882171">i</a></span><span class="op" id="6882225">]</span>&nbsp;<span class="op" id="6882227">!=</span>&nbsp;<span class="ident" id="6882230"><a href="/gostd/encoding/json/scanner_test.go.html#6882154">b</a></span><span class="op" id="6882231">[</span><span class="ident" id="6882232"><a href="/gostd/encoding/json/scanner_test.go.html#6882171">i</a></span><span class="op" id="6882233">]</span>&nbsp;<span class="op" id="6882235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882240">j</span>&nbsp;<span class="op" id="6882242">:=</span>&nbsp;<span class="ident" id="6882245"><a href="/gostd/encoding/json/scanner_test.go.html#6882171">i</a></span>&nbsp;<span class="op" id="6882247">-</span>&nbsp;<span class="num" id="6882249">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882255">if</span>&nbsp;<span class="ident" id="6882258"><a href="/gostd/encoding/json/scanner_test.go.html#6882240">j</a></span>&nbsp;<span class="op" id="6882260">&lt;</span>&nbsp;<span class="num" id="6882262">0</span>&nbsp;<span class="op" id="6882264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882270"><a href="/gostd/encoding/json/scanner_test.go.html#6882240">j</a></span>&nbsp;<span class="op" id="6882272">=</span>&nbsp;<span class="num" id="6882274">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6882279">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882284"><a href="/gostd/encoding/json/scanner_test.go.html#6882137">t</a></span><span class="op" id="6882285">.</span><span class="ident" id="6882286"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6882292">(</span><span class="string" id="6882293">&#34;diverge&nbsp;at&nbsp;%d:&nbsp;%s&nbsp;vs&nbsp;%s&#34;</span><span class="op" id="6882326">,</span>&nbsp;<span class="ident" id="6882328"><a href="/gostd/encoding/json/scanner_test.go.html#6882171">i</a></span><span class="op" id="6882329">,</span>&nbsp;<span class="ident" id="6882331"><a href="/gostd/encoding/json/scanner_test.go.html#6882382">trim</a></span><span class="op" id="6882335">(</span><span class="ident" id="6882336"><a href="/gostd/encoding/json/scanner_test.go.html#6882151">a</a></span><span class="op" id="6882337">[</span><span class="ident" id="6882338"><a href="/gostd/encoding/json/scanner_test.go.html#6882240">j</a></span><span class="op" id="6882339">:</span><span class="op" id="6882340">]</span><span class="op" id="6882341">)</span><span class="op" id="6882342">,</span>&nbsp;<span class="ident" id="6882344"><a href="/gostd/encoding/json/scanner_test.go.html#6882382">trim</a></span><span class="op" id="6882348">(</span><span class="ident" id="6882349"><a href="/gostd/encoding/json/scanner_test.go.html#6882154">b</a></span><span class="op" id="6882350">[</span><span class="ident" id="6882351"><a href="/gostd/encoding/json/scanner_test.go.html#6882240">j</a></span><span class="op" id="6882352">:</span><span class="op" id="6882353">]</span><span class="op" id="6882354">)</span><span class="op" id="6882355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882360">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6882369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6882372">}</span><br>
<span class="lineno"></span><span class="op" id="6882374">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="6882377">func</span>&nbsp;<span class="ident" id="6882382">trim</span><span class="op" id="6882386">(</span><span class="ident" id="6882387">b</span>&nbsp;<span class="op" id="6882389">[</span><span class="op" id="6882390">]</span><span class="builtintype" id="6882391">byte</span><span class="op" id="6882395">)</span>&nbsp;<span class="op" id="6882397">[</span><span class="op" id="6882398">]</span><span class="builtintype" id="6882399">byte</span>&nbsp;<span class="op" id="6882404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882407">if</span>&nbsp;<span class="builtinfunc" id="6882410">len</span><span class="op" id="6882413">(</span><span class="ident" id="6882414"><a href="/gostd/encoding/json/scanner_test.go.html#6882387">b</a></span><span class="op" id="6882415">)</span>&nbsp;<span class="op" id="6882417">&gt;</span>&nbsp;<span class="num" id="6882419">20</span>&nbsp;<span class="op" id="6882422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882426">return</span>&nbsp;<span class="ident" id="6882433"><a href="/gostd/encoding/json/scanner_test.go.html#6882387">b</a></span><span class="op" id="6882434">[</span><span class="num" id="6882435">0</span><span class="op" id="6882436">:</span><span class="num" id="6882437">20</span><span class="op" id="6882439">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6882442">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882445">return</span>&nbsp;<span class="ident" id="6882452"><a href="/gostd/encoding/json/scanner_test.go.html#6882387">b</a></span><br>
<span class="lineno"></span><span class="op" id="6882454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6882457">//&nbsp;Generate&nbsp;a&nbsp;random&nbsp;JSON&nbsp;object.</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="keyword" id="6882492">var</span>&nbsp;<span class="ident" id="6882496">jsonBig</span>&nbsp;<span class="op" id="6882504">[</span><span class="op" id="6882505">]</span><span class="builtintype" id="6882506">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6882512">func</span>&nbsp;<span class="ident" id="6882517">initBig</span><span class="op" id="6882524">(</span><span class="op" id="6882525">)</span>&nbsp;<span class="op" id="6882527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882530">n</span>&nbsp;<span class="op" id="6882532">:=</span>&nbsp;<span class="num" id="6882535">10000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882542">if</span>&nbsp;<span class="ident" id="6882545"><a href="/gostd/encoding/json/scanner_test.go.html#6877348">testing</a></span><span class="op" id="6882552">.</span><span class="ident" id="6882553"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6882558">(</span><span class="op" id="6882559">)</span>&nbsp;<span class="op" id="6882561">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882565"><a href="/gostd/encoding/json/scanner_test.go.html#6882530">n</a></span>&nbsp;<span class="op" id="6882567">=</span>&nbsp;<span class="num" id="6882569">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6882574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882577">b</span><span class="op" id="6882578">,</span>&nbsp;<span class="ident" id="6882580">err</span>&nbsp;<span class="op" id="6882584">:=</span>&nbsp;<span class="ident" id="6882587"><a href="/gostd/encoding/json/encode.go.html#3995033">Marshal</a></span><span class="op" id="6882594">(</span><span class="ident" id="6882595"><a href="/gostd/encoding/json/scanner_test.go.html#6882662">genValue</a></span><span class="op" id="6882603">(</span><span class="ident" id="6882604"><a href="/gostd/encoding/json/scanner_test.go.html#6882530">n</a></span><span class="op" id="6882605">)</span><span class="op" id="6882606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882609">if</span>&nbsp;<span class="ident" id="6882612"><a href="/gostd/encoding/json/scanner_test.go.html#6882580">err</a></span>&nbsp;<span class="op" id="6882616">!=</span>&nbsp;<span class="builtintype" id="6882619">nil</span>&nbsp;<span class="op" id="6882623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6882627">panic</span><span class="op" id="6882632">(</span><span class="ident" id="6882633"><a href="/gostd/encoding/json/scanner_test.go.html#6882580">err</a></span><span class="op" id="6882636">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6882639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882642"><a href="/gostd/encoding/json/scanner_test.go.html#6882496">jsonBig</a></span>&nbsp;<span class="op" id="6882650">=</span>&nbsp;<span class="ident" id="6882652"><a href="/gostd/encoding/json/scanner_test.go.html#6882577">b</a></span><br>
<span class="lineno"></span><span class="op" id="6882654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6882657">func</span>&nbsp;<span class="ident" id="6882662">genValue</span><span class="op" id="6882670">(</span><span class="ident" id="6882671">n</span>&nbsp;<span class="builtintype" id="6882673">int</span><span class="op" id="6882676">)</span>&nbsp;<span class="keyword" id="6882678">interface</span><span class="op" id="6882687">{</span><span class="op" id="6882688">}</span>&nbsp;<span class="op" id="6882690">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882693">if</span>&nbsp;<span class="ident" id="6882696"><a href="/gostd/encoding/json/scanner_test.go.html#6882671">n</a></span>&nbsp;<span class="op" id="6882698">&gt;</span>&nbsp;<span class="num" id="6882700">1</span>&nbsp;<span class="op" id="6882702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882706">switch</span>&nbsp;<span class="ident" id="6882713"><a href="/gostd/encoding/json/scanner_test.go.html#6877324">rand</a></span><span class="op" id="6882717">.</span><span class="ident" id="6882718"><a href="/gostd/math/rand/rand.go.html#2927246">Intn</a></span><span class="op" id="6882722">(</span><span class="num" id="6882723">2</span><span class="op" id="6882724">)</span>&nbsp;<span class="op" id="6882726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882730">case</span>&nbsp;<span class="num" id="6882735">0</span><span class="op" id="6882736">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882741">return</span>&nbsp;<span class="ident" id="6882748"><a href="/gostd/encoding/json/scanner_test.go.html#6883223">genArray</a></span><span class="op" id="6882756">(</span><span class="ident" id="6882757"><a href="/gostd/encoding/json/scanner_test.go.html#6882671">n</a></span><span class="op" id="6882758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882762">case</span>&nbsp;<span class="num" id="6882767">1</span><span class="op" id="6882768">:</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882773">return</span>&nbsp;<span class="ident" id="6882780"><a href="/gostd/encoding/json/scanner_test.go.html#6883481">genMap</a></span><span class="op" id="6882786">(</span><span class="ident" id="6882787"><a href="/gostd/encoding/json/scanner_test.go.html#6882671">n</a></span><span class="op" id="6882788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6882792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6882795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882798">switch</span>&nbsp;<span class="ident" id="6882805"><a href="/gostd/encoding/json/scanner_test.go.html#6877324">rand</a></span><span class="op" id="6882809">.</span><span class="ident" id="6882810"><a href="/gostd/math/rand/rand.go.html#2927246">Intn</a></span><span class="op" id="6882814">(</span><span class="num" id="6882815">3</span><span class="op" id="6882816">)</span>&nbsp;<span class="op" id="6882818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882821">case</span>&nbsp;<span class="num" id="6882826">0</span><span class="op" id="6882827">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882831">return</span>&nbsp;<span class="ident" id="6882838"><a href="/gostd/encoding/json/scanner_test.go.html#6877324">rand</a></span><span class="op" id="6882842">.</span><span class="ident" id="6882843"><a href="/gostd/math/rand/rand.go.html#2927246">Intn</a></span><span class="op" id="6882847">(</span><span class="num" id="6882848">2</span><span class="op" id="6882849">)</span>&nbsp;<span class="op" id="6882851">==</span>&nbsp;<span class="num" id="6882854">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882857">case</span>&nbsp;<span class="num" id="6882862">1</span><span class="op" id="6882863">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882867">return</span>&nbsp;<span class="ident" id="6882874"><a href="/gostd/encoding/json/scanner_test.go.html#6877324">rand</a></span><span class="op" id="6882878">.</span><span class="ident" id="6882879"><a href="/gostd/math/rand/rand.go.html#2928122">NormFloat64</a></span><span class="op" id="6882890">(</span><span class="op" id="6882891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882894">case</span>&nbsp;<span class="num" id="6882899">2</span><span class="op" id="6882900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6882904">return</span>&nbsp;<span class="ident" id="6882911"><a href="/gostd/encoding/json/scanner_test.go.html#6882958">genString</a></span><span class="op" id="6882920">(</span><span class="num" id="6882921">30</span><span class="op" id="6882923">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6882926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6882929">panic</span><span class="op" id="6882934">(</span><span class="string" id="6882935">&#34;unreachable&#34;</span><span class="op" id="6882948">)</span><br>
<span class="lineno"></span><span class="op" id="6882950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6882953">func</span>&nbsp;<span class="ident" id="6882958">genString</span><span class="op" id="6882967">(</span><span class="ident" id="6882968">stddev</span>&nbsp;<span class="builtintype" id="6882975">float64</span><span class="op" id="6882982">)</span>&nbsp;<span class="builtintype" id="6882984">string</span>&nbsp;<span class="op" id="6882991">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6882994">n</span>&nbsp;<span class="op" id="6882996">:=</span>&nbsp;<span class="builtintype" id="6882999">int</span><span class="op" id="6883002">(</span><span class="ident" id="6883003"><a href="/gostd/encoding/json/scanner_test.go.html#6877316">math</a></span><span class="op" id="6883007">.</span><span class="ident" id="6883008"><a href="/gostd/math/abs.go.html#2199481">Abs</a></span><span class="op" id="6883011">(</span><span class="ident" id="6883012"><a href="/gostd/encoding/json/scanner_test.go.html#6877324">rand</a></span><span class="op" id="6883016">.</span><span class="ident" id="6883017"><a href="/gostd/math/rand/rand.go.html#2928122">NormFloat64</a></span><span class="op" id="6883028">(</span><span class="op" id="6883029">)</span><span class="op" id="6883030">*</span><span class="ident" id="6883031"><a href="/gostd/encoding/json/scanner_test.go.html#6882968">stddev</a></span>&nbsp;<span class="op" id="6883038">+</span>&nbsp;<span class="ident" id="6883040"><a href="/gostd/encoding/json/scanner_test.go.html#6882968">stddev</a></span><span class="op" id="6883046">/</span><span class="num" id="6883047">2</span><span class="op" id="6883048">)</span><span class="op" id="6883049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883052">c</span>&nbsp;<span class="op" id="6883054">:=</span>&nbsp;<span class="builtinfunc" id="6883057">make</span><span class="op" id="6883061">(</span><span class="op" id="6883062">[</span><span class="op" id="6883063">]</span><span class="builtintype" id="6883064">rune</span><span class="op" id="6883068">,</span>&nbsp;<span class="ident" id="6883070"><a href="/gostd/encoding/json/scanner_test.go.html#6882994">n</a></span><span class="op" id="6883071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883074">for</span>&nbsp;<span class="ident" id="6883078">i</span>&nbsp;<span class="op" id="6883080">:=</span>&nbsp;<span class="keyword" id="6883083">range</span>&nbsp;<span class="ident" id="6883089"><a href="/gostd/encoding/json/scanner_test.go.html#6883052">c</a></span>&nbsp;<span class="op" id="6883091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883095">f</span>&nbsp;<span class="op" id="6883097">:=</span>&nbsp;<span class="ident" id="6883100"><a href="/gostd/encoding/json/scanner_test.go.html#6877316">math</a></span><span class="op" id="6883104">.</span><span class="ident" id="6883105"><a href="/gostd/math/abs.go.html#2199481">Abs</a></span><span class="op" id="6883108">(</span><span class="ident" id="6883109"><a href="/gostd/encoding/json/scanner_test.go.html#6877324">rand</a></span><span class="op" id="6883113">.</span><span class="ident" id="6883114"><a href="/gostd/math/rand/rand.go.html#2928122">NormFloat64</a></span><span class="op" id="6883125">(</span><span class="op" id="6883126">)</span><span class="op" id="6883127">*</span><span class="num" id="6883128">64</span>&nbsp;<span class="op" id="6883131">+</span>&nbsp;<span class="num" id="6883133">32</span><span class="op" id="6883135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883139">if</span>&nbsp;<span class="ident" id="6883142"><a href="/gostd/encoding/json/scanner_test.go.html#6883095">f</a></span>&nbsp;<span class="op" id="6883144">&gt;</span>&nbsp;<span class="num" id="6883146">0x10ffff</span>&nbsp;<span class="op" id="6883155">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883160"><a href="/gostd/encoding/json/scanner_test.go.html#6883095">f</a></span>&nbsp;<span class="op" id="6883162">=</span>&nbsp;<span class="num" id="6883164">0x10ffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883179"><a href="/gostd/encoding/json/scanner_test.go.html#6883052">c</a></span><span class="op" id="6883180">[</span><span class="ident" id="6883181"><a href="/gostd/encoding/json/scanner_test.go.html#6883078">i</a></span><span class="op" id="6883182">]</span>&nbsp;<span class="op" id="6883184">=</span>&nbsp;<span class="builtintype" id="6883186">rune</span><span class="op" id="6883190">(</span><span class="ident" id="6883191"><a href="/gostd/encoding/json/scanner_test.go.html#6883095">f</a></span><span class="op" id="6883192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883198">return</span>&nbsp;<span class="builtintype" id="6883205">string</span><span class="op" id="6883211">(</span><span class="ident" id="6883212"><a href="/gostd/encoding/json/scanner_test.go.html#6883052">c</a></span><span class="op" id="6883213">)</span><br>
<span class="lineno">285</span><span class="op" id="6883215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6883218">func</span>&nbsp;<span class="ident" id="6883223">genArray</span><span class="op" id="6883231">(</span><span class="ident" id="6883232">n</span>&nbsp;<span class="builtintype" id="6883234">int</span><span class="op" id="6883237">)</span>&nbsp;<span class="op" id="6883239">[</span><span class="op" id="6883240">]</span><span class="keyword" id="6883241">interface</span><span class="op" id="6883250">{</span><span class="op" id="6883251">}</span>&nbsp;<span class="op" id="6883253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883256">f</span>&nbsp;<span class="op" id="6883258">:=</span>&nbsp;<span class="builtintype" id="6883261">int</span><span class="op" id="6883264">(</span><span class="ident" id="6883265"><a href="/gostd/encoding/json/scanner_test.go.html#6877316">math</a></span><span class="op" id="6883269">.</span><span class="ident" id="6883270"><a href="/gostd/math/abs.go.html#2199481">Abs</a></span><span class="op" id="6883273">(</span><span class="ident" id="6883274"><a href="/gostd/encoding/json/scanner_test.go.html#6877324">rand</a></span><span class="op" id="6883278">.</span><span class="ident" id="6883279"><a href="/gostd/math/rand/rand.go.html#2928122">NormFloat64</a></span><span class="op" id="6883290">(</span><span class="op" id="6883291">)</span><span class="op" id="6883292">)</span>&nbsp;<span class="op" id="6883294">*</span>&nbsp;<span class="ident" id="6883296"><a href="/gostd/encoding/json/scanner_test.go.html#6877316">math</a></span><span class="op" id="6883300">.</span><span class="ident" id="6883301"><a href="/gostd/math/dim.go.html#2217669">Min</a></span><span class="op" id="6883304">(</span><span class="num" id="6883305">10</span><span class="op" id="6883307">,</span>&nbsp;<span class="builtintype" id="6883309">float64</span><span class="op" id="6883316">(</span><span class="ident" id="6883317"><a href="/gostd/encoding/json/scanner_test.go.html#6883232">n</a></span><span class="op" id="6883318">/</span><span class="num" id="6883319">2</span><span class="op" id="6883320">)</span><span class="op" id="6883321">)</span><span class="op" id="6883322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883325">if</span>&nbsp;<span class="ident" id="6883328"><a href="/gostd/encoding/json/scanner_test.go.html#6883256">f</a></span>&nbsp;<span class="op" id="6883330">&gt;</span>&nbsp;<span class="ident" id="6883332"><a href="/gostd/encoding/json/scanner_test.go.html#6883232">n</a></span>&nbsp;<span class="op" id="6883334">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883338"><a href="/gostd/encoding/json/scanner_test.go.html#6883256">f</a></span>&nbsp;<span class="op" id="6883340">=</span>&nbsp;<span class="ident" id="6883342"><a href="/gostd/encoding/json/scanner_test.go.html#6883232">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883348">if</span>&nbsp;<span class="ident" id="6883351"><a href="/gostd/encoding/json/scanner_test.go.html#6883256">f</a></span>&nbsp;<span class="op" id="6883353">&lt;</span>&nbsp;<span class="num" id="6883355">1</span>&nbsp;<span class="op" id="6883357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883361"><a href="/gostd/encoding/json/scanner_test.go.html#6883256">f</a></span>&nbsp;<span class="op" id="6883363">=</span>&nbsp;<span class="num" id="6883365">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883368">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883371">x</span>&nbsp;<span class="op" id="6883373">:=</span>&nbsp;<span class="builtinfunc" id="6883376">make</span><span class="op" id="6883380">(</span><span class="op" id="6883381">[</span><span class="op" id="6883382">]</span><span class="keyword" id="6883383">interface</span><span class="op" id="6883392">{</span><span class="op" id="6883393">}</span><span class="op" id="6883394">,</span>&nbsp;<span class="ident" id="6883396"><a href="/gostd/encoding/json/scanner_test.go.html#6883256">f</a></span><span class="op" id="6883397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883400">for</span>&nbsp;<span class="ident" id="6883404">i</span>&nbsp;<span class="op" id="6883406">:=</span>&nbsp;<span class="keyword" id="6883409">range</span>&nbsp;<span class="ident" id="6883415"><a href="/gostd/encoding/json/scanner_test.go.html#6883371">x</a></span>&nbsp;<span class="op" id="6883417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883421"><a href="/gostd/encoding/json/scanner_test.go.html#6883371">x</a></span><span class="op" id="6883422">[</span><span class="ident" id="6883423"><a href="/gostd/encoding/json/scanner_test.go.html#6883404">i</a></span><span class="op" id="6883424">]</span>&nbsp;<span class="op" id="6883426">=</span>&nbsp;<span class="ident" id="6883428"><a href="/gostd/encoding/json/scanner_test.go.html#6882662">genValue</a></span><span class="op" id="6883436">(</span><span class="op" id="6883437">(</span><span class="op" id="6883438">(</span><span class="ident" id="6883439"><a href="/gostd/encoding/json/scanner_test.go.html#6883404">i</a></span><span class="op" id="6883440">+</span><span class="num" id="6883441">1</span><span class="op" id="6883442">)</span><span class="op" id="6883443">*</span><span class="ident" id="6883444"><a href="/gostd/encoding/json/scanner_test.go.html#6883232">n</a></span><span class="op" id="6883445">)</span><span class="op" id="6883446">/</span><span class="ident" id="6883447"><a href="/gostd/encoding/json/scanner_test.go.html#6883256">f</a></span>&nbsp;<span class="op" id="6883449">-</span>&nbsp;<span class="op" id="6883451">(</span><span class="ident" id="6883452"><a href="/gostd/encoding/json/scanner_test.go.html#6883404">i</a></span><span class="op" id="6883453">*</span><span class="ident" id="6883454"><a href="/gostd/encoding/json/scanner_test.go.html#6883232">n</a></span><span class="op" id="6883455">)</span><span class="op" id="6883456">/</span><span class="ident" id="6883457"><a href="/gostd/encoding/json/scanner_test.go.html#6883256">f</a></span><span class="op" id="6883458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883464">return</span>&nbsp;<span class="ident" id="6883471"><a href="/gostd/encoding/json/scanner_test.go.html#6883371">x</a></span><br>
<span class="lineno">300</span><span class="op" id="6883473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6883476">func</span>&nbsp;<span class="ident" id="6883481">genMap</span><span class="op" id="6883487">(</span><span class="ident" id="6883488">n</span>&nbsp;<span class="builtintype" id="6883490">int</span><span class="op" id="6883493">)</span>&nbsp;<span class="keyword" id="6883495">map</span><span class="op" id="6883498">[</span><span class="builtintype" id="6883499">string</span><span class="op" id="6883505">]</span><span class="keyword" id="6883506">interface</span><span class="op" id="6883515">{</span><span class="op" id="6883516">}</span>&nbsp;<span class="op" id="6883518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883521">f</span>&nbsp;<span class="op" id="6883523">:=</span>&nbsp;<span class="builtintype" id="6883526">int</span><span class="op" id="6883529">(</span><span class="ident" id="6883530"><a href="/gostd/encoding/json/scanner_test.go.html#6877316">math</a></span><span class="op" id="6883534">.</span><span class="ident" id="6883535"><a href="/gostd/math/abs.go.html#2199481">Abs</a></span><span class="op" id="6883538">(</span><span class="ident" id="6883539"><a href="/gostd/encoding/json/scanner_test.go.html#6877324">rand</a></span><span class="op" id="6883543">.</span><span class="ident" id="6883544"><a href="/gostd/math/rand/rand.go.html#2928122">NormFloat64</a></span><span class="op" id="6883555">(</span><span class="op" id="6883556">)</span><span class="op" id="6883557">)</span>&nbsp;<span class="op" id="6883559">*</span>&nbsp;<span class="ident" id="6883561"><a href="/gostd/encoding/json/scanner_test.go.html#6877316">math</a></span><span class="op" id="6883565">.</span><span class="ident" id="6883566"><a href="/gostd/math/dim.go.html#2217669">Min</a></span><span class="op" id="6883569">(</span><span class="num" id="6883570">10</span><span class="op" id="6883572">,</span>&nbsp;<span class="builtintype" id="6883574">float64</span><span class="op" id="6883581">(</span><span class="ident" id="6883582"><a href="/gostd/encoding/json/scanner_test.go.html#6883488">n</a></span><span class="op" id="6883583">/</span><span class="num" id="6883584">2</span><span class="op" id="6883585">)</span><span class="op" id="6883586">)</span><span class="op" id="6883587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883590">if</span>&nbsp;<span class="ident" id="6883593"><a href="/gostd/encoding/json/scanner_test.go.html#6883521">f</a></span>&nbsp;<span class="op" id="6883595">&gt;</span>&nbsp;<span class="ident" id="6883597"><a href="/gostd/encoding/json/scanner_test.go.html#6883488">n</a></span>&nbsp;<span class="op" id="6883599">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883603"><a href="/gostd/encoding/json/scanner_test.go.html#6883521">f</a></span>&nbsp;<span class="op" id="6883605">=</span>&nbsp;<span class="ident" id="6883607"><a href="/gostd/encoding/json/scanner_test.go.html#6883488">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883613">if</span>&nbsp;<span class="ident" id="6883616"><a href="/gostd/encoding/json/scanner_test.go.html#6883488">n</a></span>&nbsp;<span class="op" id="6883618">&gt;</span>&nbsp;<span class="num" id="6883620">0</span>&nbsp;<span class="op" id="6883622">&amp;&amp;</span>&nbsp;<span class="ident" id="6883625"><a href="/gostd/encoding/json/scanner_test.go.html#6883521">f</a></span>&nbsp;<span class="op" id="6883627">==</span>&nbsp;<span class="num" id="6883630">0</span>&nbsp;<span class="op" id="6883632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883636"><a href="/gostd/encoding/json/scanner_test.go.html#6883521">f</a></span>&nbsp;<span class="op" id="6883638">=</span>&nbsp;<span class="num" id="6883640">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883643">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883646">x</span>&nbsp;<span class="op" id="6883648">:=</span>&nbsp;<span class="builtinfunc" id="6883651">make</span><span class="op" id="6883655">(</span><span class="keyword" id="6883656">map</span><span class="op" id="6883659">[</span><span class="builtintype" id="6883660">string</span><span class="op" id="6883666">]</span><span class="keyword" id="6883667">interface</span><span class="op" id="6883676">{</span><span class="op" id="6883677">}</span><span class="op" id="6883678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883681">for</span>&nbsp;<span class="ident" id="6883685">i</span>&nbsp;<span class="op" id="6883687">:=</span>&nbsp;<span class="num" id="6883690">0</span><span class="op" id="6883691">;</span>&nbsp;<span class="ident" id="6883693"><a href="/gostd/encoding/json/scanner_test.go.html#6883685">i</a></span>&nbsp;<span class="op" id="6883695">&lt;</span>&nbsp;<span class="ident" id="6883697"><a href="/gostd/encoding/json/scanner_test.go.html#6883521">f</a></span><span class="op" id="6883698">;</span>&nbsp;<span class="ident" id="6883700"><a href="/gostd/encoding/json/scanner_test.go.html#6883685">i</a></span><span class="op" id="6883701">++</span>&nbsp;<span class="op" id="6883704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883708"><a href="/gostd/encoding/json/scanner_test.go.html#6883646">x</a></span><span class="op" id="6883709">[</span><span class="ident" id="6883710"><a href="/gostd/encoding/json/scanner_test.go.html#6882958">genString</a></span><span class="op" id="6883719">(</span><span class="num" id="6883720">10</span><span class="op" id="6883722">)</span><span class="op" id="6883723">]</span>&nbsp;<span class="op" id="6883725">=</span>&nbsp;<span class="ident" id="6883727"><a href="/gostd/encoding/json/scanner_test.go.html#6882662">genValue</a></span><span class="op" id="6883735">(</span><span class="op" id="6883736">(</span><span class="op" id="6883737">(</span><span class="ident" id="6883738"><a href="/gostd/encoding/json/scanner_test.go.html#6883685">i</a></span><span class="op" id="6883739">+</span><span class="num" id="6883740">1</span><span class="op" id="6883741">)</span><span class="op" id="6883742">*</span><span class="ident" id="6883743"><a href="/gostd/encoding/json/scanner_test.go.html#6883488">n</a></span><span class="op" id="6883744">)</span><span class="op" id="6883745">/</span><span class="ident" id="6883746"><a href="/gostd/encoding/json/scanner_test.go.html#6883521">f</a></span>&nbsp;<span class="op" id="6883748">-</span>&nbsp;<span class="op" id="6883750">(</span><span class="ident" id="6883751"><a href="/gostd/encoding/json/scanner_test.go.html#6883685">i</a></span><span class="op" id="6883752">*</span><span class="ident" id="6883753"><a href="/gostd/encoding/json/scanner_test.go.html#6883488">n</a></span><span class="op" id="6883754">)</span><span class="op" id="6883755">/</span><span class="ident" id="6883756"><a href="/gostd/encoding/json/scanner_test.go.html#6883521">f</a></span><span class="op" id="6883757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6883763">return</span>&nbsp;<span class="ident" id="6883770"><a href="/gostd/encoding/json/scanner_test.go.html#6883646">x</a></span><br>
<span class="lineno">315</span><span class="op" id="6883772">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
