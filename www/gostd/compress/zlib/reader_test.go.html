<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html" class="current">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8528020">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8528075">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8528129">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8528180">package</span>&nbsp;<span class="ident" id="8528188">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8528194">import</span>&nbsp;<span class="op" id="8528201">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528204">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528213">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528219">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8528229">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8528232">type</span>&nbsp;<span class="ident" id="8528237">zlibTest</span>&nbsp;<span class="keyword" id="8528246">struct</span>&nbsp;<span class="op" id="8528253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8528256">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8528267">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8528275">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8528286">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8528294">compressed</span>&nbsp;<span class="op" id="8528305">[</span><span class="op" id="8528306">]</span><span class="builtintype" id="8528307">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8528313">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528324">[</span><span class="op" id="8528325">]</span><span class="builtintype" id="8528326">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8528332">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8528343">error</span><br>
<span class="lineno"></span><span class="op" id="8528349">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8528352">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="8528428">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8528460">var</span>&nbsp;<span class="ident" id="8528464">zlibTests</span>&nbsp;<span class="op" id="8528474">=</span>&nbsp;<span class="op" id="8528476">[</span><span class="op" id="8528477">]</span><span class="ident" id="8528478">zlibTest</span><span class="op" id="8528486">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528493">&#34;empty&#34;</span><span class="op" id="8528500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528504">&#34;&#34;</span><span class="op" id="8528506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528510">[</span><span class="op" id="8528511">]</span><span class="builtintype" id="8528512">byte</span><span class="op" id="8528516">{</span><span class="num" id="8528517">0x78</span><span class="op" id="8528521">,</span>&nbsp;<span class="num" id="8528523">0x9c</span><span class="op" id="8528527">,</span>&nbsp;<span class="num" id="8528529">0x03</span><span class="op" id="8528533">,</span>&nbsp;<span class="num" id="8528535">0x00</span><span class="op" id="8528539">,</span>&nbsp;<span class="num" id="8528541">0x00</span><span class="op" id="8528545">,</span>&nbsp;<span class="num" id="8528547">0x00</span><span class="op" id="8528551">,</span>&nbsp;<span class="num" id="8528553">0x00</span><span class="op" id="8528557">,</span>&nbsp;<span class="num" id="8528559">0x01</span><span class="op" id="8528563">}</span><span class="op" id="8528564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8528568">nil</span><span class="op" id="8528571">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8528575">nil</span><span class="op" id="8528578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528581">}</span><span class="op" id="8528582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528589">&#34;goodbye&#34;</span><span class="op" id="8528598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528602">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="8528618">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528622">[</span><span class="op" id="8528623">]</span><span class="builtintype" id="8528624">byte</span><span class="op" id="8528628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8528633">0x78</span><span class="op" id="8528637">,</span>&nbsp;<span class="num" id="8528639">0x9c</span><span class="op" id="8528643">,</span>&nbsp;<span class="num" id="8528645">0x4b</span><span class="op" id="8528649">,</span>&nbsp;<span class="num" id="8528651">0xcf</span><span class="op" id="8528655">,</span>&nbsp;<span class="num" id="8528657">0xcf</span><span class="op" id="8528661">,</span>&nbsp;<span class="num" id="8528663">0x4f</span><span class="op" id="8528667">,</span>&nbsp;<span class="num" id="8528669">0x49</span><span class="op" id="8528673">,</span>&nbsp;<span class="num" id="8528675">0xaa</span><span class="op" id="8528679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8528684">0x4c</span><span class="op" id="8528688">,</span>&nbsp;<span class="num" id="8528690">0xd5</span><span class="op" id="8528694">,</span>&nbsp;<span class="num" id="8528696">0x51</span><span class="op" id="8528700">,</span>&nbsp;<span class="num" id="8528702">0x28</span><span class="op" id="8528706">,</span>&nbsp;<span class="num" id="8528708">0xcf</span><span class="op" id="8528712">,</span>&nbsp;<span class="num" id="8528714">0x2f</span><span class="op" id="8528718">,</span>&nbsp;<span class="num" id="8528720">0xca</span><span class="op" id="8528724">,</span>&nbsp;<span class="num" id="8528726">0x49</span><span class="op" id="8528730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8528735">0x01</span><span class="op" id="8528739">,</span>&nbsp;<span class="num" id="8528741">0x00</span><span class="op" id="8528745">,</span>&nbsp;<span class="num" id="8528747">0x28</span><span class="op" id="8528751">,</span>&nbsp;<span class="num" id="8528753">0xa5</span><span class="op" id="8528757">,</span>&nbsp;<span class="num" id="8528759">0x05</span><span class="op" id="8528763">,</span>&nbsp;<span class="num" id="8528765">0x5e</span><span class="op" id="8528769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528773">}</span><span class="op" id="8528774">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8528778">nil</span><span class="op" id="8528781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8528785">nil</span><span class="op" id="8528788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528791">}</span><span class="op" id="8528792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528799">&#34;bad&nbsp;header&#34;</span><span class="op" id="8528811">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528815">&#34;&#34;</span><span class="op" id="8528817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528821">[</span><span class="op" id="8528822">]</span><span class="builtintype" id="8528823">byte</span><span class="op" id="8528827">{</span><span class="num" id="8528828">0x78</span><span class="op" id="8528832">,</span>&nbsp;<span class="num" id="8528834">0x9f</span><span class="op" id="8528838">,</span>&nbsp;<span class="num" id="8528840">0x03</span><span class="op" id="8528844">,</span>&nbsp;<span class="num" id="8528846">0x00</span><span class="op" id="8528850">,</span>&nbsp;<span class="num" id="8528852">0x00</span><span class="op" id="8528856">,</span>&nbsp;<span class="num" id="8528858">0x00</span><span class="op" id="8528862">,</span>&nbsp;<span class="num" id="8528864">0x00</span><span class="op" id="8528868">,</span>&nbsp;<span class="num" id="8528870">0x01</span><span class="op" id="8528874">}</span><span class="op" id="8528875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8528879">nil</span><span class="op" id="8528882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8528886">ErrHeader</span><span class="op" id="8528895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528898">}</span><span class="op" id="8528899">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528906">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="8528920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8528924">&#34;&#34;</span><span class="op" id="8528926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8528930">[</span><span class="op" id="8528931">]</span><span class="builtintype" id="8528932">byte</span><span class="op" id="8528936">{</span><span class="num" id="8528937">0x78</span><span class="op" id="8528941">,</span>&nbsp;<span class="num" id="8528943">0x9c</span><span class="op" id="8528947">,</span>&nbsp;<span class="num" id="8528949">0x03</span><span class="op" id="8528953">,</span>&nbsp;<span class="num" id="8528955">0x00</span><span class="op" id="8528959">,</span>&nbsp;<span class="num" id="8528961">0x00</span><span class="op" id="8528965">,</span>&nbsp;<span class="num" id="8528967">0x00</span><span class="op" id="8528971">,</span>&nbsp;<span class="num" id="8528973">0x00</span><span class="op" id="8528977">,</span>&nbsp;<span class="num" id="8528979">0xff</span><span class="op" id="8528983">}</span><span class="op" id="8528984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8528988">nil</span><span class="op" id="8528991">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8528995">ErrChecksum</span><span class="op" id="8529006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529009">}</span><span class="op" id="8529010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8529017">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="8529034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8529038">&#34;&#34;</span><span class="op" id="8529040">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529044">[</span><span class="op" id="8529045">]</span><span class="builtintype" id="8529046">byte</span><span class="op" id="8529050">{</span><span class="num" id="8529051">0x78</span><span class="op" id="8529055">,</span>&nbsp;<span class="num" id="8529057">0x9c</span><span class="op" id="8529061">,</span>&nbsp;<span class="num" id="8529063">0x03</span><span class="op" id="8529067">,</span>&nbsp;<span class="num" id="8529069">0x00</span><span class="op" id="8529073">,</span>&nbsp;<span class="num" id="8529075">0x00</span><span class="op" id="8529079">,</span>&nbsp;<span class="num" id="8529081">0x00</span><span class="op" id="8529085">}</span><span class="op" id="8529086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8529090">nil</span><span class="op" id="8529093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8529097">io</span><span class="op" id="8529099">.</span><span class="ident" id="8529100">ErrUnexpectedEOF</span><span class="op" id="8529116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529119">}</span><span class="op" id="8529120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529123">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8529127">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="8529160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8529164">&#34;&#34;</span><span class="op" id="8529166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529170">[</span><span class="op" id="8529171">]</span><span class="builtintype" id="8529172">byte</span><span class="op" id="8529176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8529181">0x78</span><span class="op" id="8529185">,</span>&nbsp;<span class="num" id="8529187">0x9c</span><span class="op" id="8529191">,</span>&nbsp;<span class="num" id="8529193">0x03</span><span class="op" id="8529197">,</span>&nbsp;<span class="num" id="8529199">0x00</span><span class="op" id="8529203">,</span>&nbsp;<span class="num" id="8529205">0x00</span><span class="op" id="8529209">,</span>&nbsp;<span class="num" id="8529211">0x00</span><span class="op" id="8529215">,</span>&nbsp;<span class="num" id="8529217">0x00</span><span class="op" id="8529221">,</span>&nbsp;<span class="num" id="8529223">0x01</span><span class="op" id="8529227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8529232">0x78</span><span class="op" id="8529236">,</span>&nbsp;<span class="num" id="8529238">0x9c</span><span class="op" id="8529242">,</span>&nbsp;<span class="num" id="8529244">0xff</span><span class="op" id="8529248">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529252">}</span><span class="op" id="8529253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8529257">nil</span><span class="op" id="8529260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8529264">nil</span><span class="op" id="8529267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529270">}</span><span class="op" id="8529271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529274">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8529278">&#34;dictionary&#34;</span><span class="op" id="8529290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8529294">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="8529311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529315">[</span><span class="op" id="8529316">]</span><span class="builtintype" id="8529317">byte</span><span class="op" id="8529321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8529326">0x78</span><span class="op" id="8529330">,</span>&nbsp;<span class="num" id="8529332">0xbb</span><span class="op" id="8529336">,</span>&nbsp;<span class="num" id="8529338">0x1c</span><span class="op" id="8529342">,</span>&nbsp;<span class="num" id="8529344">0x32</span><span class="op" id="8529348">,</span>&nbsp;<span class="num" id="8529350">0x04</span><span class="op" id="8529354">,</span>&nbsp;<span class="num" id="8529356">0x27</span><span class="op" id="8529360">,</span>&nbsp;<span class="num" id="8529362">0xf3</span><span class="op" id="8529366">,</span>&nbsp;<span class="num" id="8529368">0x00</span><span class="op" id="8529372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8529377">0xb1</span><span class="op" id="8529381">,</span>&nbsp;<span class="num" id="8529383">0x75</span><span class="op" id="8529387">,</span>&nbsp;<span class="num" id="8529389">0x20</span><span class="op" id="8529393">,</span>&nbsp;<span class="num" id="8529395">0x1c</span><span class="op" id="8529399">,</span>&nbsp;<span class="num" id="8529401">0x45</span><span class="op" id="8529405">,</span>&nbsp;<span class="num" id="8529407">0x2e</span><span class="op" id="8529411">,</span>&nbsp;<span class="num" id="8529413">0x00</span><span class="op" id="8529417">,</span>&nbsp;<span class="num" id="8529419">0x24</span><span class="op" id="8529423">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8529428">0x12</span><span class="op" id="8529432">,</span>&nbsp;<span class="num" id="8529434">0x04</span><span class="op" id="8529438">,</span>&nbsp;<span class="num" id="8529440">0x74</span><span class="op" id="8529444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529448">}</span><span class="op" id="8529449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529453">[</span><span class="op" id="8529454">]</span><span class="builtintype" id="8529455">byte</span><span class="op" id="8529459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8529464">0x48</span><span class="op" id="8529468">,</span>&nbsp;<span class="num" id="8529470">0x65</span><span class="op" id="8529474">,</span>&nbsp;<span class="num" id="8529476">0x6c</span><span class="op" id="8529480">,</span>&nbsp;<span class="num" id="8529482">0x6c</span><span class="op" id="8529486">,</span>&nbsp;<span class="num" id="8529488">0x6f</span><span class="op" id="8529492">,</span>&nbsp;<span class="num" id="8529494">0x20</span><span class="op" id="8529498">,</span>&nbsp;<span class="num" id="8529500">0x57</span><span class="op" id="8529504">,</span>&nbsp;<span class="num" id="8529506">0x6f</span><span class="op" id="8529510">,</span>&nbsp;<span class="num" id="8529512">0x72</span><span class="op" id="8529516">,</span>&nbsp;<span class="num" id="8529518">0x6c</span><span class="op" id="8529522">,</span>&nbsp;<span class="num" id="8529524">0x64</span><span class="op" id="8529528">,</span>&nbsp;<span class="num" id="8529530">0x0a</span><span class="op" id="8529534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529538">}</span><span class="op" id="8529539">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8529543">nil</span><span class="op" id="8529546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529549">}</span><span class="op" id="8529550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8529557">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="8529575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8529579">&#34;&#34;</span><span class="op" id="8529581">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529585">[</span><span class="op" id="8529586">]</span><span class="builtintype" id="8529587">byte</span><span class="op" id="8529591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8529596">0x78</span><span class="op" id="8529600">,</span>&nbsp;<span class="num" id="8529602">0xbb</span><span class="op" id="8529606">,</span>&nbsp;<span class="num" id="8529608">0x1c</span><span class="op" id="8529612">,</span>&nbsp;<span class="num" id="8529614">0x32</span><span class="op" id="8529618">,</span>&nbsp;<span class="num" id="8529620">0x04</span><span class="op" id="8529624">,</span>&nbsp;<span class="num" id="8529626">0x27</span><span class="op" id="8529630">,</span>&nbsp;<span class="num" id="8529632">0xf3</span><span class="op" id="8529636">,</span>&nbsp;<span class="num" id="8529638">0x00</span><span class="op" id="8529642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8529647">0xb1</span><span class="op" id="8529651">,</span>&nbsp;<span class="num" id="8529653">0x75</span><span class="op" id="8529657">,</span>&nbsp;<span class="num" id="8529659">0x20</span><span class="op" id="8529663">,</span>&nbsp;<span class="num" id="8529665">0x1c</span><span class="op" id="8529669">,</span>&nbsp;<span class="num" id="8529671">0x45</span><span class="op" id="8529675">,</span>&nbsp;<span class="num" id="8529677">0x2e</span><span class="op" id="8529681">,</span>&nbsp;<span class="num" id="8529683">0x00</span><span class="op" id="8529687">,</span>&nbsp;<span class="num" id="8529689">0x24</span><span class="op" id="8529693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8529698">0x12</span><span class="op" id="8529702">,</span>&nbsp;<span class="num" id="8529704">0x04</span><span class="op" id="8529708">,</span>&nbsp;<span class="num" id="8529710">0x74</span><span class="op" id="8529714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529718">}</span><span class="op" id="8529719">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529723">[</span><span class="op" id="8529724">]</span><span class="builtintype" id="8529725">byte</span><span class="op" id="8529729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8529734">0x48</span><span class="op" id="8529738">,</span>&nbsp;<span class="num" id="8529740">0x65</span><span class="op" id="8529744">,</span>&nbsp;<span class="num" id="8529746">0x6c</span><span class="op" id="8529750">,</span>&nbsp;<span class="num" id="8529752">0x6c</span><span class="op" id="8529756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529760">}</span><span class="op" id="8529761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8529765">ErrDictionary</span><span class="op" id="8529778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8529781">}</span><span class="op" id="8529782">,</span><br>
<span class="lineno">100</span><span class="op" id="8529784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8529787">func</span>&nbsp;<span class="ident" id="8529792">TestDecompressor</span><span class="op" id="8529808">(</span><span class="ident" id="8529809">t</span>&nbsp;<span class="op" id="8529811">*</span><span class="ident" id="8529812">testing</span><span class="op" id="8529819">.</span><span class="ident" id="8529820">T</span><span class="op" id="8529821">)</span>&nbsp;<span class="op" id="8529823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8529826">b</span>&nbsp;<span class="op" id="8529828">:=</span>&nbsp;<span class="builtinfunc" id="8529831">new</span><span class="op" id="8529834">(</span><span class="ident" id="8529835">bytes</span><span class="op" id="8529840">.</span><span class="ident" id="8529841">Buffer</span><span class="op" id="8529847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8529850">for</span>&nbsp;<span class="ident" id="8529854">_</span><span class="op" id="8529855">,</span>&nbsp;<span class="ident" id="8529857">tt</span>&nbsp;<span class="op" id="8529860">:=</span>&nbsp;<span class="keyword" id="8529863">range</span>&nbsp;<span class="ident" id="8529869">zlibTests</span>&nbsp;<span class="op" id="8529879">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8529883">in</span>&nbsp;<span class="op" id="8529886">:=</span>&nbsp;<span class="ident" id="8529889">bytes</span><span class="op" id="8529894">.</span><span class="ident" id="8529895">NewReader</span><span class="op" id="8529904">(</span><span class="ident" id="8529905">tt</span><span class="op" id="8529907">.</span><span class="ident" id="8529908">compressed</span><span class="op" id="8529918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8529922">zlib</span><span class="op" id="8529926">,</span>&nbsp;<span class="ident" id="8529928">err</span>&nbsp;<span class="op" id="8529932">:=</span>&nbsp;<span class="ident" id="8529935">NewReaderDict</span><span class="op" id="8529948">(</span><span class="ident" id="8529949">in</span><span class="op" id="8529951">,</span>&nbsp;<span class="ident" id="8529953">tt</span><span class="op" id="8529955">.</span><span class="ident" id="8529956">dict</span><span class="op" id="8529960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8529964">if</span>&nbsp;<span class="ident" id="8529967">err</span>&nbsp;<span class="op" id="8529971">!=</span>&nbsp;<span class="builtintype" id="8529974">nil</span>&nbsp;<span class="op" id="8529978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8529983">if</span>&nbsp;<span class="ident" id="8529986">err</span>&nbsp;<span class="op" id="8529990">!=</span>&nbsp;<span class="ident" id="8529993">tt</span><span class="op" id="8529995">.</span><span class="ident" id="8529996">err</span>&nbsp;<span class="op" id="8530000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8530006">t</span><span class="op" id="8530007">.</span><span class="ident" id="8530008">Errorf</span><span class="op" id="8530014">(</span><span class="string" id="8530015">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="8530034">,</span>&nbsp;<span class="ident" id="8530036">tt</span><span class="op" id="8530038">.</span><span class="ident" id="8530039">desc</span><span class="op" id="8530043">,</span>&nbsp;<span class="ident" id="8530045">err</span><span class="op" id="8530048">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8530053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8530058">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8530069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8530073">defer</span>&nbsp;<span class="ident" id="8530079">zlib</span><span class="op" id="8530083">.</span><span class="ident" id="8530084">Close</span><span class="op" id="8530089">(</span><span class="op" id="8530090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8530094">b</span><span class="op" id="8530095">.</span><span class="ident" id="8530096">Reset</span><span class="op" id="8530101">(</span><span class="op" id="8530102">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8530106">n</span><span class="op" id="8530107">,</span>&nbsp;<span class="ident" id="8530109">err</span>&nbsp;<span class="op" id="8530113">:=</span>&nbsp;<span class="ident" id="8530116">io</span><span class="op" id="8530118">.</span><span class="ident" id="8530119">Copy</span><span class="op" id="8530123">(</span><span class="ident" id="8530124">b</span><span class="op" id="8530125">,</span>&nbsp;<span class="ident" id="8530127">zlib</span><span class="op" id="8530131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8530135">if</span>&nbsp;<span class="ident" id="8530138">err</span>&nbsp;<span class="op" id="8530142">!=</span>&nbsp;<span class="builtintype" id="8530145">nil</span>&nbsp;<span class="op" id="8530149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8530154">if</span>&nbsp;<span class="ident" id="8530157">err</span>&nbsp;<span class="op" id="8530161">!=</span>&nbsp;<span class="ident" id="8530164">tt</span><span class="op" id="8530166">.</span><span class="ident" id="8530167">err</span>&nbsp;<span class="op" id="8530171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8530177">t</span><span class="op" id="8530178">.</span><span class="ident" id="8530179">Errorf</span><span class="op" id="8530185">(</span><span class="string" id="8530186">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8530211">,</span>&nbsp;<span class="ident" id="8530213">tt</span><span class="op" id="8530215">.</span><span class="ident" id="8530216">desc</span><span class="op" id="8530220">,</span>&nbsp;<span class="ident" id="8530222">err</span><span class="op" id="8530225">,</span>&nbsp;<span class="ident" id="8530227">tt</span><span class="op" id="8530229">.</span><span class="ident" id="8530230">err</span><span class="op" id="8530233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8530238">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8530243">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8530254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8530258">s</span>&nbsp;<span class="op" id="8530260">:=</span>&nbsp;<span class="ident" id="8530263">b</span><span class="op" id="8530264">.</span><span class="ident" id="8530265">String</span><span class="op" id="8530271">(</span><span class="op" id="8530272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8530276">if</span>&nbsp;<span class="ident" id="8530279">s</span>&nbsp;<span class="op" id="8530281">!=</span>&nbsp;<span class="ident" id="8530284">tt</span><span class="op" id="8530286">.</span><span class="ident" id="8530287">raw</span>&nbsp;<span class="op" id="8530291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8530296">t</span><span class="op" id="8530297">.</span><span class="ident" id="8530298">Errorf</span><span class="op" id="8530304">(</span><span class="string" id="8530305">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="8530341">,</span>&nbsp;<span class="ident" id="8530343">tt</span><span class="op" id="8530345">.</span><span class="ident" id="8530346">desc</span><span class="op" id="8530350">,</span>&nbsp;<span class="ident" id="8530352">n</span><span class="op" id="8530353">,</span>&nbsp;<span class="ident" id="8530355">s</span><span class="op" id="8530356">,</span>&nbsp;<span class="builtinfunc" id="8530358">len</span><span class="op" id="8530361">(</span><span class="ident" id="8530362">tt</span><span class="op" id="8530364">.</span><span class="ident" id="8530365">raw</span><span class="op" id="8530368">)</span><span class="op" id="8530369">,</span>&nbsp;<span class="ident" id="8530371">tt</span><span class="op" id="8530373">.</span><span class="ident" id="8530374">raw</span><span class="op" id="8530377">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8530381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8530384">}</span><br>
<span class="lineno"></span><span class="op" id="8530386">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
