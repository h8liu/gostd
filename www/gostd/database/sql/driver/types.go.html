<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>database/sql/driver</h2>
<ul>
<li><a href="/gostd/database/sql/driver/driver.go.html">driver.go</a></li>
<li><a href="/gostd/database/sql/driver/types.go.html" class="current">types.go</a></li>
<li><a href="/gostd/database/sql/driver/types_test.go.html">types_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4666073">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4666128">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4666182">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4666233">package</span>&nbsp;<span class="ident" id="4666241">driver</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4666249">import</span>&nbsp;<span class="op" id="4666256">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4666259">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4666266">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4666277">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4666288">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="4666295">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4666298">//&nbsp;ValueConverter&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;ConvertValue&nbsp;method.</span><br>
<span class="lineno">15</span><span class="comment" id="4666368">//</span><br>
<span class="lineno"></span><span class="comment" id="4666371">//&nbsp;Various&nbsp;implementations&nbsp;of&nbsp;ValueConverter&nbsp;are&nbsp;provided&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4666436">//&nbsp;driver&nbsp;package&nbsp;to&nbsp;provide&nbsp;consistent&nbsp;implementations&nbsp;of&nbsp;conversions</span><br>
<span class="lineno"></span><span class="comment" id="4666507">//&nbsp;between&nbsp;drivers.&nbsp;&nbsp;The&nbsp;ValueConverters&nbsp;have&nbsp;several&nbsp;uses:</span><br>
<span class="lineno"></span><span class="comment" id="4666567">//</span><br>
<span class="lineno">20</span><span class="comment" id="4666570">//&nbsp;&nbsp;*&nbsp;converting&nbsp;from&nbsp;the&nbsp;Value&nbsp;types&nbsp;as&nbsp;provided&nbsp;by&nbsp;the&nbsp;sql&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="4666639">//&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;a&nbsp;database&nbsp;table&#39;s&nbsp;specific&nbsp;column&nbsp;type&nbsp;and&nbsp;making&nbsp;sure&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="4666709">//&nbsp;&nbsp;&nbsp;&nbsp;fits,&nbsp;such&nbsp;as&nbsp;making&nbsp;sure&nbsp;a&nbsp;particular&nbsp;int64&nbsp;fits&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4666770">//&nbsp;&nbsp;&nbsp;&nbsp;table&#39;s&nbsp;uint16&nbsp;column.</span><br>
<span class="lineno"></span><span class="comment" id="4666799">//</span><br>
<span class="lineno">25</span><span class="comment" id="4666802">//&nbsp;&nbsp;*&nbsp;converting&nbsp;a&nbsp;value&nbsp;as&nbsp;given&nbsp;from&nbsp;the&nbsp;database&nbsp;into&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4666870">//&nbsp;&nbsp;&nbsp;&nbsp;driver&nbsp;Value&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="4666896">//</span><br>
<span class="lineno"></span><span class="comment" id="4666899">//&nbsp;&nbsp;*&nbsp;by&nbsp;the&nbsp;sql&nbsp;package,&nbsp;for&nbsp;converting&nbsp;from&nbsp;a&nbsp;driver&#39;s&nbsp;Value&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="4666967">//&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;a&nbsp;user&#39;s&nbsp;type&nbsp;in&nbsp;a&nbsp;scan.</span><br>
<span class="lineno">30</span><span class="keyword" id="4667001">type</span>&nbsp;<span class="ident" id="4667006">ValueConverter</span>&nbsp;<span class="keyword" id="4667021">interface</span>&nbsp;<span class="op" id="4667031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4667034">//&nbsp;ConvertValue&nbsp;converts&nbsp;a&nbsp;value&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4667087">ConvertValue</span><span class="op" id="4667099">(</span><span class="ident" id="4667100">v</span>&nbsp;<span class="keyword" id="4667102">interface</span><span class="op" id="4667111">{</span><span class="op" id="4667112">}</span><span class="op" id="4667113">)</span>&nbsp;<span class="op" id="4667115">(</span><span class="ident" id="4667116">Value</span><span class="op" id="4667121">,</span>&nbsp;<span class="builtintype" id="4667123">error</span><span class="op" id="4667128">)</span><br>
<span class="lineno"></span><span class="op" id="4667130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="4667133">//&nbsp;Valuer&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;Value&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="4667188">//</span><br>
<span class="lineno"></span><span class="comment" id="4667191">//&nbsp;Types&nbsp;implementing&nbsp;Valuer&nbsp;interface&nbsp;are&nbsp;able&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span><span class="comment" id="4667250">//&nbsp;themselves&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span><span class="keyword" id="4667283">type</span>&nbsp;<span class="ident" id="4667288">Valuer</span>&nbsp;<span class="keyword" id="4667295">interface</span>&nbsp;<span class="op" id="4667305">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4667308">//&nbsp;Value&nbsp;returns&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4667342">Value</span><span class="op" id="4667347">(</span><span class="op" id="4667348">)</span>&nbsp;<span class="op" id="4667350">(</span><span class="ident" id="4667351">Value</span><span class="op" id="4667356">,</span>&nbsp;<span class="builtintype" id="4667358">error</span><span class="op" id="4667363">)</span><br>
<span class="lineno"></span><span class="op" id="4667365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4667368">//&nbsp;Bool&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;bools.</span><br>
<span class="lineno">45</span><span class="comment" id="4667433">//</span><br>
<span class="lineno"></span><span class="comment" id="4667436">//&nbsp;The&nbsp;conversion&nbsp;rules&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="4667465">//&nbsp;&nbsp;-&nbsp;booleans&nbsp;are&nbsp;returned&nbsp;unchanged</span><br>
<span class="lineno"></span><span class="comment" id="4667503">//&nbsp;&nbsp;-&nbsp;for&nbsp;integer&nbsp;types,</span><br>
<span class="lineno"></span><span class="comment" id="4667528">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;is&nbsp;true</span><br>
<span class="lineno">50</span><span class="comment" id="4667547">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;is&nbsp;false,</span><br>
<span class="lineno"></span><span class="comment" id="4667568">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;integers&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="4667605">//&nbsp;&nbsp;-&nbsp;for&nbsp;strings&nbsp;and&nbsp;[]byte,&nbsp;same&nbsp;rules&nbsp;as&nbsp;strconv.ParseBool</span><br>
<span class="lineno"></span><span class="comment" id="4667667">//&nbsp;&nbsp;-&nbsp;all&nbsp;other&nbsp;types&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="4667702">var</span>&nbsp;<span class="ident" id="4667706">Bool</span>&nbsp;<span class="ident" id="4667711">boolType</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="4667721">type</span>&nbsp;<span class="ident" id="4667726">boolType</span>&nbsp;<span class="keyword" id="4667735">struct</span><span class="op" id="4667741">{</span><span class="op" id="4667742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4667745">var</span>&nbsp;<span class="ident" id="4667749">_</span>&nbsp;<span class="ident" id="4667751">ValueConverter</span>&nbsp;<span class="op" id="4667766">=</span>&nbsp;<span class="ident" id="4667768">boolType</span><span class="op" id="4667776">{</span><span class="op" id="4667777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="4667780">func</span>&nbsp;<span class="op" id="4667785">(</span><span class="ident" id="4667786">boolType</span><span class="op" id="4667794">)</span>&nbsp;<span class="ident" id="4667796">String</span><span class="op" id="4667802">(</span><span class="op" id="4667803">)</span>&nbsp;<span class="builtintype" id="4667805">string</span>&nbsp;<span class="op" id="4667812">{</span>&nbsp;<span class="keyword" id="4667814">return</span>&nbsp;<span class="string" id="4667821">&#34;Bool&#34;</span>&nbsp;<span class="op" id="4667828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4667831">func</span>&nbsp;<span class="op" id="4667836">(</span><span class="ident" id="4667837">boolType</span><span class="op" id="4667845">)</span>&nbsp;<span class="ident" id="4667847">ConvertValue</span><span class="op" id="4667859">(</span><span class="ident" id="4667860">src</span>&nbsp;<span class="keyword" id="4667864">interface</span><span class="op" id="4667873">{</span><span class="op" id="4667874">}</span><span class="op" id="4667875">)</span>&nbsp;<span class="op" id="4667877">(</span><span class="ident" id="4667878">Value</span><span class="op" id="4667883">,</span>&nbsp;<span class="builtintype" id="4667885">error</span><span class="op" id="4667890">)</span>&nbsp;<span class="op" id="4667892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4667895">switch</span>&nbsp;<span class="ident" id="4667902">s</span>&nbsp;<span class="op" id="4667904">:=</span>&nbsp;<span class="ident" id="4667907">src</span><span class="op" id="4667910">.</span><span class="op" id="4667911">(</span><span class="keyword" id="4667912">type</span><span class="op" id="4667916">)</span>&nbsp;<span class="op" id="4667918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4667921">case</span>&nbsp;<span class="builtintype" id="4667926">bool</span><span class="op" id="4667930">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4667934">return</span>&nbsp;<span class="ident" id="4667941">s</span><span class="op" id="4667942">,</span>&nbsp;<span class="builtintype" id="4667944">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4667949">case</span>&nbsp;<span class="builtintype" id="4667954">string</span><span class="op" id="4667960">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4667964">b</span><span class="op" id="4667965">,</span>&nbsp;<span class="ident" id="4667967">err</span>&nbsp;<span class="op" id="4667971">:=</span>&nbsp;<span class="ident" id="4667974">strconv</span><span class="op" id="4667981">.</span><span class="ident" id="4667982">ParseBool</span><span class="op" id="4667991">(</span><span class="ident" id="4667992">s</span><span class="op" id="4667993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4667997">if</span>&nbsp;<span class="ident" id="4668000">err</span>&nbsp;<span class="op" id="4668004">!=</span>&nbsp;<span class="builtintype" id="4668007">nil</span>&nbsp;<span class="op" id="4668011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668016">return</span>&nbsp;<span class="builtintype" id="4668023">nil</span><span class="op" id="4668026">,</span>&nbsp;<span class="ident" id="4668028">fmt</span><span class="op" id="4668031">.</span><span class="ident" id="4668032">Errorf</span><span class="op" id="4668038">(</span><span class="string" id="4668039">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="4668087">,</span>&nbsp;<span class="ident" id="4668089">s</span><span class="op" id="4668090">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4668094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668098">return</span>&nbsp;<span class="ident" id="4668105">b</span><span class="op" id="4668106">,</span>&nbsp;<span class="builtintype" id="4668108">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668113">case</span>&nbsp;<span class="op" id="4668118">[</span><span class="op" id="4668119">]</span><span class="builtintype" id="4668120">byte</span><span class="op" id="4668124">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4668128">b</span><span class="op" id="4668129">,</span>&nbsp;<span class="ident" id="4668131">err</span>&nbsp;<span class="op" id="4668135">:=</span>&nbsp;<span class="ident" id="4668138">strconv</span><span class="op" id="4668145">.</span><span class="ident" id="4668146">ParseBool</span><span class="op" id="4668155">(</span><span class="builtintype" id="4668156">string</span><span class="op" id="4668162">(</span><span class="ident" id="4668163">s</span><span class="op" id="4668164">)</span><span class="op" id="4668165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668169">if</span>&nbsp;<span class="ident" id="4668172">err</span>&nbsp;<span class="op" id="4668176">!=</span>&nbsp;<span class="builtintype" id="4668179">nil</span>&nbsp;<span class="op" id="4668183">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668188">return</span>&nbsp;<span class="builtintype" id="4668195">nil</span><span class="op" id="4668198">,</span>&nbsp;<span class="ident" id="4668200">fmt</span><span class="op" id="4668203">.</span><span class="ident" id="4668204">Errorf</span><span class="op" id="4668210">(</span><span class="string" id="4668211">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="4668259">,</span>&nbsp;<span class="ident" id="4668261">s</span><span class="op" id="4668262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4668266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668270">return</span>&nbsp;<span class="ident" id="4668277">b</span><span class="op" id="4668278">,</span>&nbsp;<span class="builtintype" id="4668280">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4668285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4668289">sv</span>&nbsp;<span class="op" id="4668292">:=</span>&nbsp;<span class="ident" id="4668295">reflect</span><span class="op" id="4668302">.</span><span class="ident" id="4668303">ValueOf</span><span class="op" id="4668310">(</span><span class="ident" id="4668311">src</span><span class="op" id="4668314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668317">switch</span>&nbsp;<span class="ident" id="4668324">sv</span><span class="op" id="4668326">.</span><span class="ident" id="4668327">Kind</span><span class="op" id="4668331">(</span><span class="op" id="4668332">)</span>&nbsp;<span class="op" id="4668334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668337">case</span>&nbsp;<span class="ident" id="4668342">reflect</span><span class="op" id="4668349">.</span><span class="ident" id="4668350">Int</span><span class="op" id="4668353">,</span>&nbsp;<span class="ident" id="4668355">reflect</span><span class="op" id="4668362">.</span><span class="ident" id="4668363">Int8</span><span class="op" id="4668367">,</span>&nbsp;<span class="ident" id="4668369">reflect</span><span class="op" id="4668376">.</span><span class="ident" id="4668377">Int16</span><span class="op" id="4668382">,</span>&nbsp;<span class="ident" id="4668384">reflect</span><span class="op" id="4668391">.</span><span class="ident" id="4668392">Int32</span><span class="op" id="4668397">,</span>&nbsp;<span class="ident" id="4668399">reflect</span><span class="op" id="4668406">.</span><span class="ident" id="4668407">Int64</span><span class="op" id="4668412">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4668416">iv</span>&nbsp;<span class="op" id="4668419">:=</span>&nbsp;<span class="ident" id="4668422">sv</span><span class="op" id="4668424">.</span><span class="ident" id="4668425">Int</span><span class="op" id="4668428">(</span><span class="op" id="4668429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668433">if</span>&nbsp;<span class="ident" id="4668436">iv</span>&nbsp;<span class="op" id="4668439">==</span>&nbsp;<span class="num" id="4668442">1</span>&nbsp;<span class="op" id="4668444">||</span>&nbsp;<span class="ident" id="4668447">iv</span>&nbsp;<span class="op" id="4668450">==</span>&nbsp;<span class="num" id="4668453">0</span>&nbsp;<span class="op" id="4668455">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668460">return</span>&nbsp;<span class="ident" id="4668467">iv</span>&nbsp;<span class="op" id="4668470">==</span>&nbsp;<span class="num" id="4668473">1</span><span class="op" id="4668474">,</span>&nbsp;<span class="builtintype" id="4668476">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4668482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668486">return</span>&nbsp;<span class="builtintype" id="4668493">nil</span><span class="op" id="4668496">,</span>&nbsp;<span class="ident" id="4668498">fmt</span><span class="op" id="4668501">.</span><span class="ident" id="4668502">Errorf</span><span class="op" id="4668508">(</span><span class="string" id="4668509">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="4668557">,</span>&nbsp;<span class="ident" id="4668559">iv</span><span class="op" id="4668561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668564">case</span>&nbsp;<span class="ident" id="4668569">reflect</span><span class="op" id="4668576">.</span><span class="ident" id="4668577">Uint</span><span class="op" id="4668581">,</span>&nbsp;<span class="ident" id="4668583">reflect</span><span class="op" id="4668590">.</span><span class="ident" id="4668591">Uint8</span><span class="op" id="4668596">,</span>&nbsp;<span class="ident" id="4668598">reflect</span><span class="op" id="4668605">.</span><span class="ident" id="4668606">Uint16</span><span class="op" id="4668612">,</span>&nbsp;<span class="ident" id="4668614">reflect</span><span class="op" id="4668621">.</span><span class="ident" id="4668622">Uint32</span><span class="op" id="4668628">,</span>&nbsp;<span class="ident" id="4668630">reflect</span><span class="op" id="4668637">.</span><span class="ident" id="4668638">Uint64</span><span class="op" id="4668644">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4668648">uv</span>&nbsp;<span class="op" id="4668651">:=</span>&nbsp;<span class="ident" id="4668654">sv</span><span class="op" id="4668656">.</span><span class="ident" id="4668657">Uint</span><span class="op" id="4668661">(</span><span class="op" id="4668662">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668666">if</span>&nbsp;<span class="ident" id="4668669">uv</span>&nbsp;<span class="op" id="4668672">==</span>&nbsp;<span class="num" id="4668675">1</span>&nbsp;<span class="op" id="4668677">||</span>&nbsp;<span class="ident" id="4668680">uv</span>&nbsp;<span class="op" id="4668683">==</span>&nbsp;<span class="num" id="4668686">0</span>&nbsp;<span class="op" id="4668688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668693">return</span>&nbsp;<span class="ident" id="4668700">uv</span>&nbsp;<span class="op" id="4668703">==</span>&nbsp;<span class="num" id="4668706">1</span><span class="op" id="4668707">,</span>&nbsp;<span class="builtintype" id="4668709">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4668715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668719">return</span>&nbsp;<span class="builtintype" id="4668726">nil</span><span class="op" id="4668729">,</span>&nbsp;<span class="ident" id="4668731">fmt</span><span class="op" id="4668734">.</span><span class="ident" id="4668735">Errorf</span><span class="op" id="4668741">(</span><span class="string" id="4668742">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="4668790">,</span>&nbsp;<span class="ident" id="4668792">uv</span><span class="op" id="4668794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4668797">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4668801">return</span>&nbsp;<span class="builtintype" id="4668808">nil</span><span class="op" id="4668811">,</span>&nbsp;<span class="ident" id="4668813">fmt</span><span class="op" id="4668816">.</span><span class="ident" id="4668817">Errorf</span><span class="op" id="4668823">(</span><span class="string" id="4668824">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%v&nbsp;(%T)&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="4668877">,</span>&nbsp;<span class="ident" id="4668879">src</span><span class="op" id="4668882">,</span>&nbsp;<span class="ident" id="4668884">src</span><span class="op" id="4668887">)</span><br>
<span class="lineno"></span><span class="op" id="4668889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4668892">//&nbsp;Int32&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;int64,</span><br>
<span class="lineno">100</span><span class="comment" id="4668958">//&nbsp;respecting&nbsp;the&nbsp;limits&nbsp;of&nbsp;an&nbsp;int32&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="4669002">var</span>&nbsp;<span class="ident" id="4669006">Int32</span>&nbsp;<span class="ident" id="4669012">int32Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4669023">type</span>&nbsp;<span class="ident" id="4669028">int32Type</span>&nbsp;<span class="keyword" id="4669038">struct</span><span class="op" id="4669044">{</span><span class="op" id="4669045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="4669048">var</span>&nbsp;<span class="ident" id="4669052">_</span>&nbsp;<span class="ident" id="4669054">ValueConverter</span>&nbsp;<span class="op" id="4669069">=</span>&nbsp;<span class="ident" id="4669071">int32Type</span><span class="op" id="4669080">{</span><span class="op" id="4669081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4669084">func</span>&nbsp;<span class="op" id="4669089">(</span><span class="ident" id="4669090">int32Type</span><span class="op" id="4669099">)</span>&nbsp;<span class="ident" id="4669101">ConvertValue</span><span class="op" id="4669113">(</span><span class="ident" id="4669114">v</span>&nbsp;<span class="keyword" id="4669116">interface</span><span class="op" id="4669125">{</span><span class="op" id="4669126">}</span><span class="op" id="4669127">)</span>&nbsp;<span class="op" id="4669129">(</span><span class="ident" id="4669130">Value</span><span class="op" id="4669135">,</span>&nbsp;<span class="builtintype" id="4669137">error</span><span class="op" id="4669142">)</span>&nbsp;<span class="op" id="4669144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4669147">rv</span>&nbsp;<span class="op" id="4669150">:=</span>&nbsp;<span class="ident" id="4669153">reflect</span><span class="op" id="4669160">.</span><span class="ident" id="4669161">ValueOf</span><span class="op" id="4669168">(</span><span class="ident" id="4669169">v</span><span class="op" id="4669170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669173">switch</span>&nbsp;<span class="ident" id="4669180">rv</span><span class="op" id="4669182">.</span><span class="ident" id="4669183">Kind</span><span class="op" id="4669187">(</span><span class="op" id="4669188">)</span>&nbsp;<span class="op" id="4669190">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669193">case</span>&nbsp;<span class="ident" id="4669198">reflect</span><span class="op" id="4669205">.</span><span class="ident" id="4669206">Int</span><span class="op" id="4669209">,</span>&nbsp;<span class="ident" id="4669211">reflect</span><span class="op" id="4669218">.</span><span class="ident" id="4669219">Int8</span><span class="op" id="4669223">,</span>&nbsp;<span class="ident" id="4669225">reflect</span><span class="op" id="4669232">.</span><span class="ident" id="4669233">Int16</span><span class="op" id="4669238">,</span>&nbsp;<span class="ident" id="4669240">reflect</span><span class="op" id="4669247">.</span><span class="ident" id="4669248">Int32</span><span class="op" id="4669253">,</span>&nbsp;<span class="ident" id="4669255">reflect</span><span class="op" id="4669262">.</span><span class="ident" id="4669263">Int64</span><span class="op" id="4669268">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4669272">i64</span>&nbsp;<span class="op" id="4669276">:=</span>&nbsp;<span class="ident" id="4669279">rv</span><span class="op" id="4669281">.</span><span class="ident" id="4669282">Int</span><span class="op" id="4669285">(</span><span class="op" id="4669286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669290">if</span>&nbsp;<span class="ident" id="4669293">i64</span>&nbsp;<span class="op" id="4669297">&gt;</span>&nbsp;<span class="op" id="4669299">(</span><span class="num" id="4669300">1</span><span class="op" id="4669301">&lt;&lt;</span><span class="num" id="4669303">31</span><span class="op" id="4669305">)</span><span class="op" id="4669306">-</span><span class="num" id="4669307">1</span>&nbsp;<span class="op" id="4669309">||</span>&nbsp;<span class="ident" id="4669312">i64</span>&nbsp;<span class="op" id="4669316">&lt;</span>&nbsp;<span class="op" id="4669318">-</span><span class="op" id="4669319">(</span><span class="num" id="4669320">1</span><span class="op" id="4669321">&lt;&lt;</span><span class="num" id="4669323">31</span><span class="op" id="4669325">)</span>&nbsp;<span class="op" id="4669327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669332">return</span>&nbsp;<span class="builtintype" id="4669339">nil</span><span class="op" id="4669342">,</span>&nbsp;<span class="ident" id="4669344">fmt</span><span class="op" id="4669347">.</span><span class="ident" id="4669348">Errorf</span><span class="op" id="4669354">(</span><span class="string" id="4669355">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="4669393">,</span>&nbsp;<span class="ident" id="4669395">v</span><span class="op" id="4669396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4669400">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669404">return</span>&nbsp;<span class="ident" id="4669411">i64</span><span class="op" id="4669414">,</span>&nbsp;<span class="builtintype" id="4669416">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669421">case</span>&nbsp;<span class="ident" id="4669426">reflect</span><span class="op" id="4669433">.</span><span class="ident" id="4669434">Uint</span><span class="op" id="4669438">,</span>&nbsp;<span class="ident" id="4669440">reflect</span><span class="op" id="4669447">.</span><span class="ident" id="4669448">Uint8</span><span class="op" id="4669453">,</span>&nbsp;<span class="ident" id="4669455">reflect</span><span class="op" id="4669462">.</span><span class="ident" id="4669463">Uint16</span><span class="op" id="4669469">,</span>&nbsp;<span class="ident" id="4669471">reflect</span><span class="op" id="4669478">.</span><span class="ident" id="4669479">Uint32</span><span class="op" id="4669485">,</span>&nbsp;<span class="ident" id="4669487">reflect</span><span class="op" id="4669494">.</span><span class="ident" id="4669495">Uint64</span><span class="op" id="4669501">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4669505">u64</span>&nbsp;<span class="op" id="4669509">:=</span>&nbsp;<span class="ident" id="4669512">rv</span><span class="op" id="4669514">.</span><span class="ident" id="4669515">Uint</span><span class="op" id="4669519">(</span><span class="op" id="4669520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669524">if</span>&nbsp;<span class="ident" id="4669527">u64</span>&nbsp;<span class="op" id="4669531">&gt;</span>&nbsp;<span class="op" id="4669533">(</span><span class="num" id="4669534">1</span><span class="op" id="4669535">&lt;&lt;</span><span class="num" id="4669537">31</span><span class="op" id="4669539">)</span><span class="op" id="4669540">-</span><span class="num" id="4669541">1</span>&nbsp;<span class="op" id="4669543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669548">return</span>&nbsp;<span class="builtintype" id="4669555">nil</span><span class="op" id="4669558">,</span>&nbsp;<span class="ident" id="4669560">fmt</span><span class="op" id="4669563">.</span><span class="ident" id="4669564">Errorf</span><span class="op" id="4669570">(</span><span class="string" id="4669571">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="4669609">,</span>&nbsp;<span class="ident" id="4669611">v</span><span class="op" id="4669612">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4669616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669620">return</span>&nbsp;<span class="ident" id="4669627">int64</span><span class="op" id="4669632">(</span><span class="ident" id="4669633">u64</span><span class="op" id="4669636">)</span><span class="op" id="4669637">,</span>&nbsp;<span class="builtintype" id="4669639">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669644">case</span>&nbsp;<span class="ident" id="4669649">reflect</span><span class="op" id="4669656">.</span><span class="ident" id="4669657">String</span><span class="op" id="4669663">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4669667">i</span><span class="op" id="4669668">,</span>&nbsp;<span class="ident" id="4669670">err</span>&nbsp;<span class="op" id="4669674">:=</span>&nbsp;<span class="ident" id="4669677">strconv</span><span class="op" id="4669684">.</span><span class="ident" id="4669685">Atoi</span><span class="op" id="4669689">(</span><span class="ident" id="4669690">rv</span><span class="op" id="4669692">.</span><span class="ident" id="4669693">String</span><span class="op" id="4669699">(</span><span class="op" id="4669700">)</span><span class="op" id="4669701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669705">if</span>&nbsp;<span class="ident" id="4669708">err</span>&nbsp;<span class="op" id="4669712">!=</span>&nbsp;<span class="builtintype" id="4669715">nil</span>&nbsp;<span class="op" id="4669719">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669724">return</span>&nbsp;<span class="builtintype" id="4669731">nil</span><span class="op" id="4669734">,</span>&nbsp;<span class="ident" id="4669736">fmt</span><span class="op" id="4669739">.</span><span class="ident" id="4669740">Errorf</span><span class="op" id="4669746">(</span><span class="string" id="4669747">&#34;sql/driver:&nbsp;value&nbsp;%q&nbsp;can&#39;t&nbsp;be&nbsp;converted&nbsp;to&nbsp;int32&#34;</span><span class="op" id="4669797">,</span>&nbsp;<span class="ident" id="4669799">v</span><span class="op" id="4669800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4669804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669808">return</span>&nbsp;<span class="ident" id="4669815">int64</span><span class="op" id="4669820">(</span><span class="ident" id="4669821">i</span><span class="op" id="4669822">)</span><span class="op" id="4669823">,</span>&nbsp;<span class="builtintype" id="4669825">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4669830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4669833">return</span>&nbsp;<span class="builtintype" id="4669840">nil</span><span class="op" id="4669843">,</span>&nbsp;<span class="ident" id="4669845">fmt</span><span class="op" id="4669848">.</span><span class="ident" id="4669849">Errorf</span><span class="op" id="4669855">(</span><span class="string" id="4669856">&#34;sql/driver:&nbsp;unsupported&nbsp;value&nbsp;%v&nbsp;(type&nbsp;%T)&nbsp;converting&nbsp;to&nbsp;int32&#34;</span><span class="op" id="4669920">,</span>&nbsp;<span class="ident" id="4669922">v</span><span class="op" id="4669923">,</span>&nbsp;<span class="ident" id="4669925">v</span><span class="op" id="4669926">)</span><br>
<span class="lineno">130</span><span class="op" id="4669928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4669931">//&nbsp;String&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;its&nbsp;input&nbsp;to&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="4669998">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;already&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte,&nbsp;it&#39;s&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="comment" id="4670061">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;of&nbsp;another&nbsp;type,&nbsp;conversion&nbsp;to&nbsp;string&nbsp;is&nbsp;done</span><br>
<span class="lineno">135</span><span class="comment" id="4670126">//&nbsp;with&nbsp;fmt.Sprintf(&#34;%v&#34;,&nbsp;v).</span><br>
<span class="lineno"></span><span class="keyword" id="4670156">var</span>&nbsp;<span class="ident" id="4670160">String</span>&nbsp;<span class="ident" id="4670167">stringType</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4670179">type</span>&nbsp;<span class="ident" id="4670184">stringType</span>&nbsp;<span class="keyword" id="4670195">struct</span><span class="op" id="4670201">{</span><span class="op" id="4670202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="4670205">func</span>&nbsp;<span class="op" id="4670210">(</span><span class="ident" id="4670211">stringType</span><span class="op" id="4670221">)</span>&nbsp;<span class="ident" id="4670223">ConvertValue</span><span class="op" id="4670235">(</span><span class="ident" id="4670236">v</span>&nbsp;<span class="keyword" id="4670238">interface</span><span class="op" id="4670247">{</span><span class="op" id="4670248">}</span><span class="op" id="4670249">)</span>&nbsp;<span class="op" id="4670251">(</span><span class="ident" id="4670252">Value</span><span class="op" id="4670257">,</span>&nbsp;<span class="builtintype" id="4670259">error</span><span class="op" id="4670264">)</span>&nbsp;<span class="op" id="4670266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4670269">switch</span>&nbsp;<span class="ident" id="4670276">v</span><span class="op" id="4670277">.</span><span class="op" id="4670278">(</span><span class="keyword" id="4670279">type</span><span class="op" id="4670283">)</span>&nbsp;<span class="op" id="4670285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4670288">case</span>&nbsp;<span class="builtintype" id="4670293">string</span><span class="op" id="4670299">,</span>&nbsp;<span class="op" id="4670301">[</span><span class="op" id="4670302">]</span><span class="builtintype" id="4670303">byte</span><span class="op" id="4670307">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4670311">return</span>&nbsp;<span class="ident" id="4670318">v</span><span class="op" id="4670319">,</span>&nbsp;<span class="builtintype" id="4670321">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4670326">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4670329">return</span>&nbsp;<span class="ident" id="4670336">fmt</span><span class="op" id="4670339">.</span><span class="ident" id="4670340">Sprintf</span><span class="op" id="4670347">(</span><span class="string" id="4670348">&#34;%v&#34;</span><span class="op" id="4670352">,</span>&nbsp;<span class="ident" id="4670354">v</span><span class="op" id="4670355">)</span><span class="op" id="4670356">,</span>&nbsp;<span class="builtintype" id="4670358">nil</span><br>
<span class="lineno"></span><span class="op" id="4670362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4670365">//&nbsp;Null&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;allowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="4670430">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno">150</span><span class="keyword" id="4670492">type</span>&nbsp;<span class="ident" id="4670497">Null</span>&nbsp;<span class="keyword" id="4670502">struct</span>&nbsp;<span class="op" id="4670509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4670512">Converter</span>&nbsp;<span class="ident" id="4670522">ValueConverter</span><br>
<span class="lineno"></span><span class="op" id="4670537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4670540">func</span>&nbsp;<span class="op" id="4670545">(</span><span class="ident" id="4670546">n</span>&nbsp;<span class="ident" id="4670548">Null</span><span class="op" id="4670552">)</span>&nbsp;<span class="ident" id="4670554">ConvertValue</span><span class="op" id="4670566">(</span><span class="ident" id="4670567">v</span>&nbsp;<span class="keyword" id="4670569">interface</span><span class="op" id="4670578">{</span><span class="op" id="4670579">}</span><span class="op" id="4670580">)</span>&nbsp;<span class="op" id="4670582">(</span><span class="ident" id="4670583">Value</span><span class="op" id="4670588">,</span>&nbsp;<span class="builtintype" id="4670590">error</span><span class="op" id="4670595">)</span>&nbsp;<span class="op" id="4670597">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4670600">if</span>&nbsp;<span class="ident" id="4670603">v</span>&nbsp;<span class="op" id="4670605">==</span>&nbsp;<span class="builtintype" id="4670608">nil</span>&nbsp;<span class="op" id="4670612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4670616">return</span>&nbsp;<span class="builtintype" id="4670623">nil</span><span class="op" id="4670626">,</span>&nbsp;<span class="builtintype" id="4670628">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4670633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4670636">return</span>&nbsp;<span class="ident" id="4670643">n</span><span class="op" id="4670644">.</span><span class="ident" id="4670645">Converter</span><span class="op" id="4670654">.</span><span class="ident" id="4670655">ConvertValue</span><span class="op" id="4670667">(</span><span class="ident" id="4670668">v</span><span class="op" id="4670669">)</span><br>
<span class="lineno"></span><span class="op" id="4670671">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="comment" id="4670674">//&nbsp;NotNull&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;disallowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="4670745">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno"></span><span class="keyword" id="4670807">type</span>&nbsp;<span class="ident" id="4670812">NotNull</span>&nbsp;<span class="keyword" id="4670820">struct</span>&nbsp;<span class="op" id="4670827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4670830">Converter</span>&nbsp;<span class="ident" id="4670840">ValueConverter</span><br>
<span class="lineno">165</span><span class="op" id="4670855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4670858">func</span>&nbsp;<span class="op" id="4670863">(</span><span class="ident" id="4670864">n</span>&nbsp;<span class="ident" id="4670866">NotNull</span><span class="op" id="4670873">)</span>&nbsp;<span class="ident" id="4670875">ConvertValue</span><span class="op" id="4670887">(</span><span class="ident" id="4670888">v</span>&nbsp;<span class="keyword" id="4670890">interface</span><span class="op" id="4670899">{</span><span class="op" id="4670900">}</span><span class="op" id="4670901">)</span>&nbsp;<span class="op" id="4670903">(</span><span class="ident" id="4670904">Value</span><span class="op" id="4670909">,</span>&nbsp;<span class="builtintype" id="4670911">error</span><span class="op" id="4670916">)</span>&nbsp;<span class="op" id="4670918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4670921">if</span>&nbsp;<span class="ident" id="4670924">v</span>&nbsp;<span class="op" id="4670926">==</span>&nbsp;<span class="builtintype" id="4670929">nil</span>&nbsp;<span class="op" id="4670933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4670937">return</span>&nbsp;<span class="builtintype" id="4670944">nil</span><span class="op" id="4670947">,</span>&nbsp;<span class="ident" id="4670949">fmt</span><span class="op" id="4670952">.</span><span class="ident" id="4670953">Errorf</span><span class="op" id="4670959">(</span><span class="string" id="4670960">&#34;nil&nbsp;value&nbsp;not&nbsp;allowed&#34;</span><span class="op" id="4670983">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4670986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4670989">return</span>&nbsp;<span class="ident" id="4670996">n</span><span class="op" id="4670997">.</span><span class="ident" id="4670998">Converter</span><span class="op" id="4671007">.</span><span class="ident" id="4671008">ConvertValue</span><span class="op" id="4671020">(</span><span class="ident" id="4671021">v</span><span class="op" id="4671022">)</span><br>
<span class="lineno"></span><span class="op" id="4671024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4671027">//&nbsp;IsValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;parameter&nbsp;type.</span><br>
<span class="lineno">175</span><span class="comment" id="4671089">//&nbsp;Unlike&nbsp;IsScanValue,&nbsp;IsValue&nbsp;permits&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4671145">func</span>&nbsp;<span class="ident" id="4671150">IsValue</span><span class="op" id="4671157">(</span><span class="ident" id="4671158">v</span>&nbsp;<span class="keyword" id="4671160">interface</span><span class="op" id="4671169">{</span><span class="op" id="4671170">}</span><span class="op" id="4671171">)</span>&nbsp;<span class="builtintype" id="4671173">bool</span>&nbsp;<span class="op" id="4671178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671181">if</span>&nbsp;<span class="ident" id="4671184">IsScanValue</span><span class="op" id="4671195">(</span><span class="ident" id="4671196">v</span><span class="op" id="4671197">)</span>&nbsp;<span class="op" id="4671199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671203">return</span>&nbsp;<span class="builtintype" id="4671210">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4671216">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671219">if</span>&nbsp;<span class="ident" id="4671222">_</span><span class="op" id="4671223">,</span>&nbsp;<span class="ident" id="4671225">ok</span>&nbsp;<span class="op" id="4671228">:=</span>&nbsp;<span class="ident" id="4671231">v</span><span class="op" id="4671232">.</span><span class="op" id="4671233">(</span><span class="builtintype" id="4671234">string</span><span class="op" id="4671240">)</span><span class="op" id="4671241">;</span>&nbsp;<span class="ident" id="4671243">ok</span>&nbsp;<span class="op" id="4671246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671250">return</span>&nbsp;<span class="builtintype" id="4671257">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4671263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671266">return</span>&nbsp;<span class="builtintype" id="4671273">false</span><br>
<span class="lineno"></span><span class="op" id="4671279">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="comment" id="4671282">//&nbsp;IsScanValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;scan&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="4671343">//&nbsp;Unlike&nbsp;IsValue,&nbsp;IsScanValue&nbsp;does&nbsp;not&nbsp;permit&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4671407">func</span>&nbsp;<span class="ident" id="4671412">IsScanValue</span><span class="op" id="4671423">(</span><span class="ident" id="4671424">v</span>&nbsp;<span class="keyword" id="4671426">interface</span><span class="op" id="4671435">{</span><span class="op" id="4671436">}</span><span class="op" id="4671437">)</span>&nbsp;<span class="builtintype" id="4671439">bool</span>&nbsp;<span class="op" id="4671444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671447">if</span>&nbsp;<span class="ident" id="4671450">v</span>&nbsp;<span class="op" id="4671452">==</span>&nbsp;<span class="builtintype" id="4671455">nil</span>&nbsp;<span class="op" id="4671459">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671463">return</span>&nbsp;<span class="builtintype" id="4671470">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4671476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671479">switch</span>&nbsp;<span class="ident" id="4671486">v</span><span class="op" id="4671487">.</span><span class="op" id="4671488">(</span><span class="keyword" id="4671489">type</span><span class="op" id="4671493">)</span>&nbsp;<span class="op" id="4671495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671498">case</span>&nbsp;<span class="ident" id="4671503">int64</span><span class="op" id="4671508">,</span>&nbsp;<span class="builtintype" id="4671510">float64</span><span class="op" id="4671517">,</span>&nbsp;<span class="op" id="4671519">[</span><span class="op" id="4671520">]</span><span class="builtintype" id="4671521">byte</span><span class="op" id="4671525">,</span>&nbsp;<span class="builtintype" id="4671527">bool</span><span class="op" id="4671531">,</span>&nbsp;<span class="ident" id="4671533">time</span><span class="op" id="4671537">.</span><span class="ident" id="4671538">Time</span><span class="op" id="4671542">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671546">return</span>&nbsp;<span class="builtintype" id="4671553">true</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4671559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4671562">return</span>&nbsp;<span class="builtintype" id="4671569">false</span><br>
<span class="lineno"></span><span class="op" id="4671575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4671578">//&nbsp;DefaultParameterConverter&nbsp;is&nbsp;the&nbsp;default&nbsp;implementation&nbsp;of</span><br>
<span class="lineno">200</span><span class="comment" id="4671640">//&nbsp;ValueConverter&nbsp;that&#39;s&nbsp;used&nbsp;when&nbsp;a&nbsp;Stmt&nbsp;doesn&#39;t&nbsp;implement</span><br>
<span class="lineno"></span><span class="comment" id="4671700">//&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span><span class="comment" id="4671720">//</span><br>
<span class="lineno"></span><span class="comment" id="4671723">//&nbsp;DefaultParameterConverter&nbsp;returns&nbsp;the&nbsp;given&nbsp;value&nbsp;directly&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="4671788">//&nbsp;IsValue(value).&nbsp;&nbsp;Otherwise&nbsp;integer&nbsp;type&nbsp;are&nbsp;converted&nbsp;to</span><br>
<span class="lineno">205</span><span class="comment" id="4671848">//&nbsp;int64,&nbsp;floats&nbsp;to&nbsp;float64,&nbsp;and&nbsp;strings&nbsp;to&nbsp;[]byte.&nbsp;&nbsp;Other&nbsp;types&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="4671917">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="4671930">var</span>&nbsp;<span class="ident" id="4671934">DefaultParameterConverter</span>&nbsp;<span class="ident" id="4671960">defaultConverter</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4671978">type</span>&nbsp;<span class="ident" id="4671983">defaultConverter</span>&nbsp;<span class="keyword" id="4672000">struct</span><span class="op" id="4672006">{</span><span class="op" id="4672007">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="4672010">var</span>&nbsp;<span class="ident" id="4672014">_</span>&nbsp;<span class="ident" id="4672016">ValueConverter</span>&nbsp;<span class="op" id="4672031">=</span>&nbsp;<span class="ident" id="4672033">defaultConverter</span><span class="op" id="4672049">{</span><span class="op" id="4672050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4672053">func</span>&nbsp;<span class="op" id="4672058">(</span><span class="ident" id="4672059">defaultConverter</span><span class="op" id="4672075">)</span>&nbsp;<span class="ident" id="4672077">ConvertValue</span><span class="op" id="4672089">(</span><span class="ident" id="4672090">v</span>&nbsp;<span class="keyword" id="4672092">interface</span><span class="op" id="4672101">{</span><span class="op" id="4672102">}</span><span class="op" id="4672103">)</span>&nbsp;<span class="op" id="4672105">(</span><span class="ident" id="4672106">Value</span><span class="op" id="4672111">,</span>&nbsp;<span class="builtintype" id="4672113">error</span><span class="op" id="4672118">)</span>&nbsp;<span class="op" id="4672120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672123">if</span>&nbsp;<span class="ident" id="4672126">IsValue</span><span class="op" id="4672133">(</span><span class="ident" id="4672134">v</span><span class="op" id="4672135">)</span>&nbsp;<span class="op" id="4672137">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672141">return</span>&nbsp;<span class="ident" id="4672148">v</span><span class="op" id="4672149">,</span>&nbsp;<span class="builtintype" id="4672151">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4672156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672160">if</span>&nbsp;<span class="ident" id="4672163">svi</span><span class="op" id="4672166">,</span>&nbsp;<span class="ident" id="4672168">ok</span>&nbsp;<span class="op" id="4672171">:=</span>&nbsp;<span class="ident" id="4672174">v</span><span class="op" id="4672175">.</span><span class="op" id="4672176">(</span><span class="ident" id="4672177">Valuer</span><span class="op" id="4672183">)</span><span class="op" id="4672184">;</span>&nbsp;<span class="ident" id="4672186">ok</span>&nbsp;<span class="op" id="4672189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4672193">sv</span><span class="op" id="4672195">,</span>&nbsp;<span class="ident" id="4672197">err</span>&nbsp;<span class="op" id="4672201">:=</span>&nbsp;<span class="ident" id="4672204">svi</span><span class="op" id="4672207">.</span><span class="ident" id="4672208">Value</span><span class="op" id="4672213">(</span><span class="op" id="4672214">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672218">if</span>&nbsp;<span class="ident" id="4672221">err</span>&nbsp;<span class="op" id="4672225">!=</span>&nbsp;<span class="builtintype" id="4672228">nil</span>&nbsp;<span class="op" id="4672232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672237">return</span>&nbsp;<span class="builtintype" id="4672244">nil</span><span class="op" id="4672247">,</span>&nbsp;<span class="ident" id="4672249">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4672255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672259">if</span>&nbsp;<span class="op" id="4672262">!</span><span class="ident" id="4672263">IsValue</span><span class="op" id="4672270">(</span><span class="ident" id="4672271">sv</span><span class="op" id="4672273">)</span>&nbsp;<span class="op" id="4672275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672280">return</span>&nbsp;<span class="builtintype" id="4672287">nil</span><span class="op" id="4672290">,</span>&nbsp;<span class="ident" id="4672292">fmt</span><span class="op" id="4672295">.</span><span class="ident" id="4672296">Errorf</span><span class="op" id="4672302">(</span><span class="string" id="4672303">&#34;non-Value&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="4672342">,</span>&nbsp;<span class="ident" id="4672344">sv</span><span class="op" id="4672346">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4672350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672354">return</span>&nbsp;<span class="ident" id="4672361">sv</span><span class="op" id="4672363">,</span>&nbsp;<span class="builtintype" id="4672365">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4672370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4672374">rv</span>&nbsp;<span class="op" id="4672377">:=</span>&nbsp;<span class="ident" id="4672380">reflect</span><span class="op" id="4672387">.</span><span class="ident" id="4672388">ValueOf</span><span class="op" id="4672395">(</span><span class="ident" id="4672396">v</span><span class="op" id="4672397">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672400">switch</span>&nbsp;<span class="ident" id="4672407">rv</span><span class="op" id="4672409">.</span><span class="ident" id="4672410">Kind</span><span class="op" id="4672414">(</span><span class="op" id="4672415">)</span>&nbsp;<span class="op" id="4672417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672420">case</span>&nbsp;<span class="ident" id="4672425">reflect</span><span class="op" id="4672432">.</span><span class="ident" id="4672433">Ptr</span><span class="op" id="4672436">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4672440">//&nbsp;indirect&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672463">if</span>&nbsp;<span class="ident" id="4672466">rv</span><span class="op" id="4672468">.</span><span class="ident" id="4672469">IsNil</span><span class="op" id="4672474">(</span><span class="op" id="4672475">)</span>&nbsp;<span class="op" id="4672477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672482">return</span>&nbsp;<span class="builtintype" id="4672489">nil</span><span class="op" id="4672492">,</span>&nbsp;<span class="builtintype" id="4672494">nil</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4672500">}</span>&nbsp;<span class="keyword" id="4672502">else</span>&nbsp;<span class="op" id="4672507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672512">return</span>&nbsp;<span class="ident" id="4672519">defaultConverter</span><span class="op" id="4672535">{</span><span class="op" id="4672536">}</span><span class="op" id="4672537">.</span><span class="ident" id="4672538">ConvertValue</span><span class="op" id="4672550">(</span><span class="ident" id="4672551">rv</span><span class="op" id="4672553">.</span><span class="ident" id="4672554">Elem</span><span class="op" id="4672558">(</span><span class="op" id="4672559">)</span><span class="op" id="4672560">.</span><span class="ident" id="4672561">Interface</span><span class="op" id="4672570">(</span><span class="op" id="4672571">)</span><span class="op" id="4672572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4672576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672579">case</span>&nbsp;<span class="ident" id="4672584">reflect</span><span class="op" id="4672591">.</span><span class="ident" id="4672592">Int</span><span class="op" id="4672595">,</span>&nbsp;<span class="ident" id="4672597">reflect</span><span class="op" id="4672604">.</span><span class="ident" id="4672605">Int8</span><span class="op" id="4672609">,</span>&nbsp;<span class="ident" id="4672611">reflect</span><span class="op" id="4672618">.</span><span class="ident" id="4672619">Int16</span><span class="op" id="4672624">,</span>&nbsp;<span class="ident" id="4672626">reflect</span><span class="op" id="4672633">.</span><span class="ident" id="4672634">Int32</span><span class="op" id="4672639">,</span>&nbsp;<span class="ident" id="4672641">reflect</span><span class="op" id="4672648">.</span><span class="ident" id="4672649">Int64</span><span class="op" id="4672654">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672658">return</span>&nbsp;<span class="ident" id="4672665">rv</span><span class="op" id="4672667">.</span><span class="ident" id="4672668">Int</span><span class="op" id="4672671">(</span><span class="op" id="4672672">)</span><span class="op" id="4672673">,</span>&nbsp;<span class="builtintype" id="4672675">nil</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672680">case</span>&nbsp;<span class="ident" id="4672685">reflect</span><span class="op" id="4672692">.</span><span class="ident" id="4672693">Uint</span><span class="op" id="4672697">,</span>&nbsp;<span class="ident" id="4672699">reflect</span><span class="op" id="4672706">.</span><span class="ident" id="4672707">Uint8</span><span class="op" id="4672712">,</span>&nbsp;<span class="ident" id="4672714">reflect</span><span class="op" id="4672721">.</span><span class="ident" id="4672722">Uint16</span><span class="op" id="4672728">,</span>&nbsp;<span class="ident" id="4672730">reflect</span><span class="op" id="4672737">.</span><span class="ident" id="4672738">Uint32</span><span class="op" id="4672744">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672748">return</span>&nbsp;<span class="ident" id="4672755">int64</span><span class="op" id="4672760">(</span><span class="ident" id="4672761">rv</span><span class="op" id="4672763">.</span><span class="ident" id="4672764">Uint</span><span class="op" id="4672768">(</span><span class="op" id="4672769">)</span><span class="op" id="4672770">)</span><span class="op" id="4672771">,</span>&nbsp;<span class="builtintype" id="4672773">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672778">case</span>&nbsp;<span class="ident" id="4672783">reflect</span><span class="op" id="4672790">.</span><span class="ident" id="4672791">Uint64</span><span class="op" id="4672797">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4672801">u64</span>&nbsp;<span class="op" id="4672805">:=</span>&nbsp;<span class="ident" id="4672808">rv</span><span class="op" id="4672810">.</span><span class="ident" id="4672811">Uint</span><span class="op" id="4672815">(</span><span class="op" id="4672816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672820">if</span>&nbsp;<span class="ident" id="4672823">u64</span>&nbsp;<span class="op" id="4672827">&gt;=</span>&nbsp;<span class="num" id="4672830">1</span><span class="op" id="4672831">&lt;&lt;</span><span class="num" id="4672833">63</span>&nbsp;<span class="op" id="4672836">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672841">return</span>&nbsp;<span class="builtintype" id="4672848">nil</span><span class="op" id="4672851">,</span>&nbsp;<span class="ident" id="4672853">fmt</span><span class="op" id="4672856">.</span><span class="ident" id="4672857">Errorf</span><span class="op" id="4672863">(</span><span class="string" id="4672864">&#34;uint64&nbsp;values&nbsp;with&nbsp;high&nbsp;bit&nbsp;set&nbsp;are&nbsp;not&nbsp;supported&#34;</span><span class="op" id="4672915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4672919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672923">return</span>&nbsp;<span class="ident" id="4672930">int64</span><span class="op" id="4672935">(</span><span class="ident" id="4672936">u64</span><span class="op" id="4672939">)</span><span class="op" id="4672940">,</span>&nbsp;<span class="builtintype" id="4672942">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672947">case</span>&nbsp;<span class="ident" id="4672952">reflect</span><span class="op" id="4672959">.</span><span class="ident" id="4672960">Float32</span><span class="op" id="4672967">,</span>&nbsp;<span class="ident" id="4672969">reflect</span><span class="op" id="4672976">.</span><span class="ident" id="4672977">Float64</span><span class="op" id="4672984">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4672988">return</span>&nbsp;<span class="ident" id="4672995">rv</span><span class="op" id="4672997">.</span><span class="ident" id="4672998">Float</span><span class="op" id="4673003">(</span><span class="op" id="4673004">)</span><span class="op" id="4673005">,</span>&nbsp;<span class="builtintype" id="4673007">nil</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4673012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4673015">return</span>&nbsp;<span class="builtintype" id="4673022">nil</span><span class="op" id="4673025">,</span>&nbsp;<span class="ident" id="4673027">fmt</span><span class="op" id="4673030">.</span><span class="ident" id="4673031">Errorf</span><span class="op" id="4673037">(</span><span class="string" id="4673038">&#34;unsupported&nbsp;type&nbsp;%T,&nbsp;a&nbsp;%s&#34;</span><span class="op" id="4673065">,</span>&nbsp;<span class="ident" id="4673067">v</span><span class="op" id="4673068">,</span>&nbsp;<span class="ident" id="4673070">rv</span><span class="op" id="4673072">.</span><span class="ident" id="4673073">Kind</span><span class="op" id="4673077">(</span><span class="op" id="4673078">)</span><span class="op" id="4673079">)</span><br>
<span class="lineno"></span><span class="op" id="4673081">}</span>
</div>
</body>
</html>
