<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6571112">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6571167">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6571221">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6571272">package</span>&nbsp;<span class="ident" id="6571280">x509</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6571286">import</span>&nbsp;<span class="op" id="6571293">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6571296">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6571305">&#34;encoding/hex&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6571321">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6571331">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6571334">//&nbsp;Generated&nbsp;using:</span><br>
<span class="lineno"></span><span class="comment" id="6571354">//&nbsp;&nbsp;&nbsp;openssl&nbsp;ecparam&nbsp;-genkey&nbsp;-name&nbsp;secp384r1&nbsp;-outform&nbsp;PEM</span><br>
<span class="lineno">15</span><span class="keyword" id="6571412">var</span>&nbsp;<span class="ident" id="6571416">ecPrivateKeyHex</span>&nbsp;<span class="op" id="6571432">=</span>&nbsp;<span class="string" id="6571434">`3081a40201010430bdb9839c08ee793d1157886a7a758a3c8b2a17a4df48f17ace57c72c56b4723cf21dcda21d4e1ad57ff034f19fcfd98ea00706052b81040022a16403620004feea808b5ee2429cfcce13c32160e1c960990bd050bb0fdf7222f3decd0a55008e32a6aa3c9062051c4cba92a7a3b178b24567412d43cdd2f882fa5addddd726fe3e208d2c26d733a773a597abb749714df7256ead5105fa6e7b3650de236b50`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6571772">func</span>&nbsp;<span class="ident" id="6571777">TestParseECPrivateKey</span><span class="op" id="6571798">(</span><span class="ident" id="6571799">t</span>&nbsp;<span class="op" id="6571801">*</span><span class="ident" id="6571802">testing</span><span class="op" id="6571809">.</span><span class="ident" id="6571810">T</span><span class="op" id="6571811">)</span>&nbsp;<span class="op" id="6571813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571816">derBytes</span><span class="op" id="6571824">,</span>&nbsp;<span class="ident" id="6571826">_</span>&nbsp;<span class="op" id="6571828">:=</span>&nbsp;<span class="ident" id="6571831">hex</span><span class="op" id="6571834">.</span><span class="ident" id="6571835">DecodeString</span><span class="op" id="6571847">(</span><span class="ident" id="6571848">ecPrivateKeyHex</span><span class="op" id="6571863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571866">key</span><span class="op" id="6571869">,</span>&nbsp;<span class="ident" id="6571871">err</span>&nbsp;<span class="op" id="6571875">:=</span>&nbsp;<span class="ident" id="6571878">ParseECPrivateKey</span><span class="op" id="6571895">(</span><span class="ident" id="6571896">derBytes</span><span class="op" id="6571904">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6571907">if</span>&nbsp;<span class="ident" id="6571910">err</span>&nbsp;<span class="op" id="6571914">!=</span>&nbsp;<span class="ident" id="6571917">nil</span>&nbsp;<span class="op" id="6571921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571925">t</span><span class="op" id="6571926">.</span><span class="ident" id="6571927">Errorf</span><span class="op" id="6571933">(</span><span class="string" id="6571934">&#34;failed&nbsp;to&nbsp;decode&nbsp;EC&nbsp;private&nbsp;key:&nbsp;%s&#34;</span><span class="op" id="6571971">,</span>&nbsp;<span class="ident" id="6571973">err</span><span class="op" id="6571976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6571979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571982">serialized</span><span class="op" id="6571992">,</span>&nbsp;<span class="ident" id="6571994">err</span>&nbsp;<span class="op" id="6571998">:=</span>&nbsp;<span class="ident" id="6572001">MarshalECPrivateKey</span><span class="op" id="6572020">(</span><span class="ident" id="6572021">key</span><span class="op" id="6572024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6572027">if</span>&nbsp;<span class="ident" id="6572030">err</span>&nbsp;<span class="op" id="6572034">!=</span>&nbsp;<span class="ident" id="6572037">nil</span>&nbsp;<span class="op" id="6572041">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6572045">t</span><span class="op" id="6572046">.</span><span class="ident" id="6572047">Fatalf</span><span class="op" id="6572053">(</span><span class="string" id="6572054">&#34;failed&nbsp;to&nbsp;encode&nbsp;EC&nbsp;private&nbsp;key:&nbsp;%s&#34;</span><span class="op" id="6572091">,</span>&nbsp;<span class="ident" id="6572093">err</span><span class="op" id="6572096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6572102">if</span>&nbsp;<span class="op" id="6572105">!</span><span class="ident" id="6572106">bytes</span><span class="op" id="6572111">.</span><span class="ident" id="6572112">Equal</span><span class="op" id="6572117">(</span><span class="ident" id="6572118">serialized</span><span class="op" id="6572128">,</span>&nbsp;<span class="ident" id="6572130">derBytes</span><span class="op" id="6572138">)</span>&nbsp;<span class="op" id="6572140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6572144">t</span><span class="op" id="6572145">.</span><span class="ident" id="6572146">Fatalf</span><span class="op" id="6572152">(</span><span class="string" id="6572153">&#34;serialized&nbsp;key&nbsp;differs:&nbsp;got&nbsp;%x,&nbsp;want&nbsp;%x&#34;</span><span class="op" id="6572194">,</span>&nbsp;<span class="ident" id="6572196">serialized</span><span class="op" id="6572206">,</span>&nbsp;<span class="ident" id="6572208">derBytes</span><span class="op" id="6572216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572219">}</span><br>
<span class="lineno">30</span><span class="op" id="6572221">}</span>
</div>
</body>
</html>
