<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html" class="current">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2351254">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2351309">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2351363">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2351414">package</span>&nbsp;<span class="ident" id="2351422">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2351427">import</span>&nbsp;<span class="op" id="2351434">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2351437">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2351447">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2351453">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2351459">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2351470">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2351478">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2351493">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2351496">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="2351562">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="2351599">var</span>&nbsp;<span class="op" id="2351603">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351606">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="2351623">=</span>&nbsp;<span class="op" id="2351625">[</span><span class="op" id="2351626">]</span><span class="builtintype" id="2351627">byte</span><span class="op" id="2351631">(</span><span class="string" id="2351632">&#34;,&nbsp;&#34;</span><span class="op" id="2351636">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351639">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351656">=</span>&nbsp;<span class="op" id="2351658">[</span><span class="op" id="2351659">]</span><span class="builtintype" id="2351660">byte</span><span class="op" id="2351664">(</span><span class="string" id="2351665">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2351672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351675">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351692">=</span>&nbsp;<span class="op" id="2351694">[</span><span class="op" id="2351695">]</span><span class="builtintype" id="2351696">byte</span><span class="op" id="2351700">(</span><span class="string" id="2351701">&#34;(nil)&#34;</span><span class="op" id="2351708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351711">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351728">=</span>&nbsp;<span class="op" id="2351730">[</span><span class="op" id="2351731">]</span><span class="builtintype" id="2351732">byte</span><span class="op" id="2351736">(</span><span class="string" id="2351737">&#34;nil&#34;</span><span class="op" id="2351742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351745">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351762">=</span>&nbsp;<span class="op" id="2351764">[</span><span class="op" id="2351765">]</span><span class="builtintype" id="2351766">byte</span><span class="op" id="2351770">(</span><span class="string" id="2351771">&#34;map[&#34;</span><span class="op" id="2351777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351780">percentBangBytes</span>&nbsp;<span class="op" id="2351797">=</span>&nbsp;<span class="op" id="2351799">[</span><span class="op" id="2351800">]</span><span class="builtintype" id="2351801">byte</span><span class="op" id="2351805">(</span><span class="string" id="2351806">&#34;%!&#34;</span><span class="op" id="2351810">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351813">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351830">=</span>&nbsp;<span class="op" id="2351832">[</span><span class="op" id="2351833">]</span><span class="builtintype" id="2351834">byte</span><span class="op" id="2351838">(</span><span class="string" id="2351839">&#34;(MISSING)&#34;</span><span class="op" id="2351850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351853">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351870">=</span>&nbsp;<span class="op" id="2351872">[</span><span class="op" id="2351873">]</span><span class="builtintype" id="2351874">byte</span><span class="op" id="2351878">(</span><span class="string" id="2351879">&#34;(BADINDEX)&#34;</span><span class="op" id="2351891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351894">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351911">=</span>&nbsp;<span class="op" id="2351913">[</span><span class="op" id="2351914">]</span><span class="builtintype" id="2351915">byte</span><span class="op" id="2351919">(</span><span class="string" id="2351920">&#34;(PANIC=&#34;</span><span class="op" id="2351929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351932">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351949">=</span>&nbsp;<span class="op" id="2351951">[</span><span class="op" id="2351952">]</span><span class="builtintype" id="2351953">byte</span><span class="op" id="2351957">(</span><span class="string" id="2351958">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="2351969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351972">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351989">=</span>&nbsp;<span class="op" id="2351991">[</span><span class="op" id="2351992">]</span><span class="builtintype" id="2351993">byte</span><span class="op" id="2351997">(</span><span class="string" id="2351998">&#34;i)&#34;</span><span class="op" id="2352002">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2352005">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2352022">=</span>&nbsp;<span class="op" id="2352024">[</span><span class="op" id="2352025">]</span><span class="builtintype" id="2352026">byte</span><span class="op" id="2352030">(</span><span class="string" id="2352031">&#34;[]byte{&#34;</span><span class="op" id="2352040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2352043">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2352060">=</span>&nbsp;<span class="op" id="2352062">[</span><span class="op" id="2352063">]</span><span class="builtintype" id="2352064">byte</span><span class="op" id="2352068">(</span><span class="string" id="2352069">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="2352083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2352086">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2352103">=</span>&nbsp;<span class="op" id="2352105">[</span><span class="op" id="2352106">]</span><span class="builtintype" id="2352107">byte</span><span class="op" id="2352111">(</span><span class="string" id="2352112">&#34;%!(BADPREC)&#34;</span><span class="op" id="2352125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2352128">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2352145">=</span>&nbsp;<span class="op" id="2352147">[</span><span class="op" id="2352148">]</span><span class="builtintype" id="2352149">byte</span><span class="op" id="2352153">(</span><span class="string" id="2352154">&#34;%!(NOVERB)&#34;</span><span class="op" id="2352166">)</span><br>
<span class="lineno"></span><span class="op" id="2352168">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2352171">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="2352238">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2352310">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2352371">type</span>&nbsp;<span class="ident" id="2352376">State</span>&nbsp;<span class="keyword" id="2352382">interface</span>&nbsp;<span class="op" id="2352392">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2352395">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2352469">Write</span><span class="op" id="2352474">(</span><span class="ident" id="2352475">b</span>&nbsp;<span class="op" id="2352477">[</span><span class="op" id="2352478">]</span><span class="builtintype" id="2352479">byte</span><span class="op" id="2352483">)</span>&nbsp;<span class="op" id="2352485">(</span><span class="ident" id="2352486">ret</span>&nbsp;<span class="builtintype" id="2352490">int</span><span class="op" id="2352493">,</span>&nbsp;<span class="ident" id="2352495">err</span>&nbsp;<span class="builtintype" id="2352499">error</span><span class="op" id="2352504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2352507">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2352584">Width</span><span class="op" id="2352589">(</span><span class="op" id="2352590">)</span>&nbsp;<span class="op" id="2352592">(</span><span class="ident" id="2352593">wid</span>&nbsp;<span class="builtintype" id="2352597">int</span><span class="op" id="2352600">,</span>&nbsp;<span class="ident" id="2352602">ok</span>&nbsp;<span class="builtintype" id="2352605">bool</span><span class="op" id="2352609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2352612">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2352697">Precision</span><span class="op" id="2352706">(</span><span class="op" id="2352707">)</span>&nbsp;<span class="op" id="2352709">(</span><span class="ident" id="2352710">prec</span>&nbsp;<span class="builtintype" id="2352715">int</span><span class="op" id="2352718">,</span>&nbsp;<span class="ident" id="2352720">ok</span>&nbsp;<span class="builtintype" id="2352723">bool</span><span class="op" id="2352727">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2352731">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2352795">Flag</span><span class="op" id="2352799">(</span><span class="ident" id="2352800">c</span>&nbsp;<span class="builtintype" id="2352802">int</span><span class="op" id="2352805">)</span>&nbsp;<span class="builtintype" id="2352807">bool</span><br>
<span class="lineno"></span><span class="op" id="2352812">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2352815">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="2352892">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="2352961">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="2352988">type</span>&nbsp;<span class="ident" id="2352993">Formatter</span>&nbsp;<span class="keyword" id="2353003">interface</span>&nbsp;<span class="op" id="2353013">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2353016">Format</span><span class="op" id="2353022">(</span><span class="ident" id="2353023">f</span>&nbsp;<span class="ident" id="2353025">State</span><span class="op" id="2353030">,</span>&nbsp;<span class="ident" id="2353032">c</span>&nbsp;<span class="builtintype" id="2353034">rune</span><span class="op" id="2353038">)</span><br>
<span class="lineno"></span><span class="op" id="2353040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2353043">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2353109">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="2353164">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="2353230">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="2353298">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="2353316">type</span>&nbsp;<span class="ident" id="2353321">Stringer</span>&nbsp;<span class="keyword" id="2353330">interface</span>&nbsp;<span class="op" id="2353340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2353343">String</span><span class="op" id="2353349">(</span><span class="op" id="2353350">)</span>&nbsp;<span class="builtintype" id="2353352">string</span><br>
<span class="lineno">65</span><span class="op" id="2353359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2353362">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2353432">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2353479">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="2353547">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2353567">type</span>&nbsp;<span class="ident" id="2353572">GoStringer</span>&nbsp;<span class="keyword" id="2353583">interface</span>&nbsp;<span class="op" id="2353593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2353596">GoString</span><span class="op" id="2353604">(</span><span class="op" id="2353605">)</span>&nbsp;<span class="builtintype" id="2353607">string</span><br>
<span class="lineno"></span><span class="op" id="2353614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2353617">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="2353689">type</span>&nbsp;<span class="ident" id="2353694">buffer</span>&nbsp;<span class="op" id="2353701">[</span><span class="op" id="2353702">]</span><span class="builtintype" id="2353703">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2353709">func</span>&nbsp;<span class="op" id="2353714">(</span><span class="ident" id="2353715">b</span>&nbsp;<span class="op" id="2353717">*</span><span class="ident" id="2353718">buffer</span><span class="op" id="2353724">)</span>&nbsp;<span class="ident" id="2353726">Write</span><span class="op" id="2353731">(</span><span class="ident" id="2353732">p</span>&nbsp;<span class="op" id="2353734">[</span><span class="op" id="2353735">]</span><span class="builtintype" id="2353736">byte</span><span class="op" id="2353740">)</span>&nbsp;<span class="op" id="2353742">(</span><span class="ident" id="2353743">n</span>&nbsp;<span class="builtintype" id="2353745">int</span><span class="op" id="2353748">,</span>&nbsp;<span class="ident" id="2353750">err</span>&nbsp;<span class="builtintype" id="2353754">error</span><span class="op" id="2353759">)</span>&nbsp;<span class="op" id="2353761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2353764">*</span><span class="ident" id="2353765">b</span>&nbsp;<span class="op" id="2353767">=</span>&nbsp;<span class="builtinfunc" id="2353769">append</span><span class="op" id="2353775">(</span><span class="op" id="2353776">*</span><span class="ident" id="2353777">b</span><span class="op" id="2353778">,</span>&nbsp;<span class="ident" id="2353780">p</span><span class="op" id="2353781">...</span><span class="op" id="2353784">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2353787">return</span>&nbsp;<span class="builtinfunc" id="2353794">len</span><span class="op" id="2353797">(</span><span class="ident" id="2353798">p</span><span class="op" id="2353799">)</span><span class="op" id="2353800">,</span>&nbsp;<span class="builtintype" id="2353802">nil</span><br>
<span class="lineno"></span><span class="op" id="2353806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2353809">func</span>&nbsp;<span class="op" id="2353814">(</span><span class="ident" id="2353815">b</span>&nbsp;<span class="op" id="2353817">*</span><span class="ident" id="2353818">buffer</span><span class="op" id="2353824">)</span>&nbsp;<span class="ident" id="2353826">WriteString</span><span class="op" id="2353837">(</span><span class="ident" id="2353838">s</span>&nbsp;<span class="builtintype" id="2353840">string</span><span class="op" id="2353846">)</span>&nbsp;<span class="op" id="2353848">(</span><span class="ident" id="2353849">n</span>&nbsp;<span class="builtintype" id="2353851">int</span><span class="op" id="2353854">,</span>&nbsp;<span class="ident" id="2353856">err</span>&nbsp;<span class="builtintype" id="2353860">error</span><span class="op" id="2353865">)</span>&nbsp;<span class="op" id="2353867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2353870">*</span><span class="ident" id="2353871">b</span>&nbsp;<span class="op" id="2353873">=</span>&nbsp;<span class="builtinfunc" id="2353875">append</span><span class="op" id="2353881">(</span><span class="op" id="2353882">*</span><span class="ident" id="2353883">b</span><span class="op" id="2353884">,</span>&nbsp;<span class="ident" id="2353886">s</span><span class="op" id="2353887">...</span><span class="op" id="2353890">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2353893">return</span>&nbsp;<span class="builtinfunc" id="2353900">len</span><span class="op" id="2353903">(</span><span class="ident" id="2353904">s</span><span class="op" id="2353905">)</span><span class="op" id="2353906">,</span>&nbsp;<span class="builtintype" id="2353908">nil</span><br>
<span class="lineno"></span><span class="op" id="2353912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2353915">func</span>&nbsp;<span class="op" id="2353920">(</span><span class="ident" id="2353921">b</span>&nbsp;<span class="op" id="2353923">*</span><span class="ident" id="2353924">buffer</span><span class="op" id="2353930">)</span>&nbsp;<span class="ident" id="2353932">WriteByte</span><span class="op" id="2353941">(</span><span class="ident" id="2353942">c</span>&nbsp;<span class="builtintype" id="2353944">byte</span><span class="op" id="2353948">)</span>&nbsp;<span class="builtintype" id="2353950">error</span>&nbsp;<span class="op" id="2353956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2353959">*</span><span class="ident" id="2353960">b</span>&nbsp;<span class="op" id="2353962">=</span>&nbsp;<span class="builtinfunc" id="2353964">append</span><span class="op" id="2353970">(</span><span class="op" id="2353971">*</span><span class="ident" id="2353972">b</span><span class="op" id="2353973">,</span>&nbsp;<span class="ident" id="2353975">c</span><span class="op" id="2353976">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2353979">return</span>&nbsp;<span class="builtintype" id="2353986">nil</span><br>
<span class="lineno"></span><span class="op" id="2353990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2353993">func</span>&nbsp;<span class="op" id="2353998">(</span><span class="ident" id="2353999">bp</span>&nbsp;<span class="op" id="2354002">*</span><span class="ident" id="2354003">buffer</span><span class="op" id="2354009">)</span>&nbsp;<span class="ident" id="2354011">WriteRune</span><span class="op" id="2354020">(</span><span class="ident" id="2354021">r</span>&nbsp;<span class="builtintype" id="2354023">rune</span><span class="op" id="2354027">)</span>&nbsp;<span class="builtintype" id="2354029">error</span>&nbsp;<span class="op" id="2354035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2354038">if</span>&nbsp;<span class="ident" id="2354041">r</span>&nbsp;<span class="op" id="2354043">&lt;</span>&nbsp;<span class="ident" id="2354045">utf8</span><span class="op" id="2354049">.</span><span class="ident" id="2354050">RuneSelf</span>&nbsp;<span class="op" id="2354059">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2354063">*</span><span class="ident" id="2354064">bp</span>&nbsp;<span class="op" id="2354067">=</span>&nbsp;<span class="builtinfunc" id="2354069">append</span><span class="op" id="2354075">(</span><span class="op" id="2354076">*</span><span class="ident" id="2354077">bp</span><span class="op" id="2354079">,</span>&nbsp;<span class="builtintype" id="2354081">byte</span><span class="op" id="2354085">(</span><span class="ident" id="2354086">r</span><span class="op" id="2354087">)</span><span class="op" id="2354088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2354092">return</span>&nbsp;<span class="builtintype" id="2354099">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2354104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354108">b</span>&nbsp;<span class="op" id="2354110">:=</span>&nbsp;<span class="op" id="2354113">*</span><span class="ident" id="2354114">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354118">n</span>&nbsp;<span class="op" id="2354120">:=</span>&nbsp;<span class="builtinfunc" id="2354123">len</span><span class="op" id="2354126">(</span><span class="ident" id="2354127">b</span><span class="op" id="2354128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2354131">for</span>&nbsp;<span class="ident" id="2354135">n</span><span class="op" id="2354136">+</span><span class="ident" id="2354137">utf8</span><span class="op" id="2354141">.</span><span class="ident" id="2354142">UTFMax</span>&nbsp;<span class="op" id="2354149">&gt;</span>&nbsp;<span class="builtinfunc" id="2354151">cap</span><span class="op" id="2354154">(</span><span class="ident" id="2354155">b</span><span class="op" id="2354156">)</span>&nbsp;<span class="op" id="2354158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354162">b</span>&nbsp;<span class="op" id="2354164">=</span>&nbsp;<span class="builtinfunc" id="2354166">append</span><span class="op" id="2354172">(</span><span class="ident" id="2354173">b</span><span class="op" id="2354174">,</span>&nbsp;<span class="num" id="2354176">0</span><span class="op" id="2354177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2354180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354183">w</span>&nbsp;<span class="op" id="2354185">:=</span>&nbsp;<span class="ident" id="2354188">utf8</span><span class="op" id="2354192">.</span><span class="ident" id="2354193">EncodeRune</span><span class="op" id="2354203">(</span><span class="ident" id="2354204">b</span><span class="op" id="2354205">[</span><span class="ident" id="2354206">n</span><span class="op" id="2354207">:</span><span class="ident" id="2354208">n</span><span class="op" id="2354209">+</span><span class="ident" id="2354210">utf8</span><span class="op" id="2354214">.</span><span class="ident" id="2354215">UTFMax</span><span class="op" id="2354221">]</span><span class="op" id="2354222">,</span>&nbsp;<span class="ident" id="2354224">r</span><span class="op" id="2354225">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2354228">*</span><span class="ident" id="2354229">bp</span>&nbsp;<span class="op" id="2354232">=</span>&nbsp;<span class="ident" id="2354234">b</span><span class="op" id="2354235">[</span><span class="op" id="2354236">:</span><span class="ident" id="2354237">n</span><span class="op" id="2354238">+</span><span class="ident" id="2354239">w</span><span class="op" id="2354240">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2354243">return</span>&nbsp;<span class="builtintype" id="2354250">nil</span><br>
<span class="lineno"></span><span class="op" id="2354254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2354257">type</span>&nbsp;<span class="ident" id="2354262">pp</span>&nbsp;<span class="keyword" id="2354265">struct</span>&nbsp;<span class="op" id="2354272">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354275">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2354285">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354290">panicking</span>&nbsp;<span class="builtintype" id="2354300">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354306">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="2354316">bool</span>&nbsp;<span class="comment" id="2354321">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354353">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354363">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2354371">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354422">arg</span>&nbsp;<span class="keyword" id="2354426">interface</span><span class="op" id="2354435">{</span><span class="op" id="2354436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2354439">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2354505">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354560">value</span>&nbsp;<span class="ident" id="2354566">reflect</span><span class="op" id="2354573">.</span><span class="ident" id="2354574">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2354581">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354655">reordered</span>&nbsp;<span class="builtintype" id="2354665">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2354671">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354750">goodArgNum</span>&nbsp;<span class="builtintype" id="2354761">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354767">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2354778">[</span><span class="ident" id="2354779">utf8</span><span class="op" id="2354783">.</span><span class="ident" id="2354784">UTFMax</span><span class="op" id="2354790">]</span><span class="builtintype" id="2354791">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354797">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354808">fmt</span><br>
<span class="lineno">125</span><span class="op" id="2354812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2354815">var</span>&nbsp;<span class="ident" id="2354819">ppFree</span>&nbsp;<span class="op" id="2354826">=</span>&nbsp;<span class="ident" id="2354828">sync</span><span class="op" id="2354832">.</span><span class="ident" id="2354833">Pool</span><span class="op" id="2354837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354840">New</span><span class="op" id="2354843">:</span>&nbsp;<span class="keyword" id="2354845">func</span><span class="op" id="2354849">(</span><span class="op" id="2354850">)</span>&nbsp;<span class="keyword" id="2354852">interface</span><span class="op" id="2354861">{</span><span class="op" id="2354862">}</span>&nbsp;<span class="op" id="2354864">{</span>&nbsp;<span class="keyword" id="2354866">return</span>&nbsp;<span class="builtinfunc" id="2354873">new</span><span class="op" id="2354876">(</span><span class="ident" id="2354877">pp</span><span class="op" id="2354879">)</span>&nbsp;<span class="op" id="2354881">}</span><span class="op" id="2354882">,</span><br>
<span class="lineno"></span><span class="op" id="2354884">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2354887">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2354950">func</span>&nbsp;<span class="ident" id="2354955">newPrinter</span><span class="op" id="2354965">(</span><span class="op" id="2354966">)</span>&nbsp;<span class="op" id="2354968">*</span><span class="ident" id="2354969">pp</span>&nbsp;<span class="op" id="2354972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2354975">p</span>&nbsp;<span class="op" id="2354977">:=</span>&nbsp;<span class="ident" id="2354980">ppFree</span><span class="op" id="2354986">.</span><span class="ident" id="2354987">Get</span><span class="op" id="2354990">(</span><span class="op" id="2354991">)</span><span class="op" id="2354992">.</span><span class="op" id="2354993">(</span><span class="op" id="2354994">*</span><span class="ident" id="2354995">pp</span><span class="op" id="2354997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2355000">p</span><span class="op" id="2355001">.</span><span class="ident" id="2355002">panicking</span>&nbsp;<span class="op" id="2355012">=</span>&nbsp;<span class="builtintype" id="2355014">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2355021">p</span><span class="op" id="2355022">.</span><span class="ident" id="2355023">erroring</span>&nbsp;<span class="op" id="2355032">=</span>&nbsp;<span class="builtintype" id="2355034">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2355041">p</span><span class="op" id="2355042">.</span><span class="ident" id="2355043">fmt</span><span class="op" id="2355046">.</span><span class="ident" id="2355047">init</span><span class="op" id="2355051">(</span><span class="op" id="2355052">&amp;</span><span class="ident" id="2355053">p</span><span class="op" id="2355054">.</span><span class="ident" id="2355055">buf</span><span class="op" id="2355058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355061">return</span>&nbsp;<span class="ident" id="2355068">p</span><br>
<span class="lineno"></span><span class="op" id="2355070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2355073">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2355151">func</span>&nbsp;<span class="op" id="2355156">(</span><span class="ident" id="2355157">p</span>&nbsp;<span class="op" id="2355159">*</span><span class="ident" id="2355160">pp</span><span class="op" id="2355162">)</span>&nbsp;<span class="ident" id="2355164">free</span><span class="op" id="2355168">(</span><span class="op" id="2355169">)</span>&nbsp;<span class="op" id="2355171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2355174">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355226">if</span>&nbsp;<span class="builtinfunc" id="2355229">cap</span><span class="op" id="2355232">(</span><span class="ident" id="2355233">p</span><span class="op" id="2355234">.</span><span class="ident" id="2355235">buf</span><span class="op" id="2355238">)</span>&nbsp;<span class="op" id="2355240">&gt;</span>&nbsp;<span class="num" id="2355242">1024</span>&nbsp;<span class="op" id="2355247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355251">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2355259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2355262">p</span><span class="op" id="2355263">.</span><span class="ident" id="2355264">buf</span>&nbsp;<span class="op" id="2355268">=</span>&nbsp;<span class="ident" id="2355270">p</span><span class="op" id="2355271">.</span><span class="ident" id="2355272">buf</span><span class="op" id="2355275">[</span><span class="op" id="2355276">:</span><span class="num" id="2355277">0</span><span class="op" id="2355278">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2355281">p</span><span class="op" id="2355282">.</span><span class="ident" id="2355283">arg</span>&nbsp;<span class="op" id="2355287">=</span>&nbsp;<span class="builtintype" id="2355289">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2355294">p</span><span class="op" id="2355295">.</span><span class="ident" id="2355296">value</span>&nbsp;<span class="op" id="2355302">=</span>&nbsp;<span class="ident" id="2355304">reflect</span><span class="op" id="2355311">.</span><span class="ident" id="2355312">Value</span><span class="op" id="2355317">{</span><span class="op" id="2355318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2355321">ppFree</span><span class="op" id="2355327">.</span><span class="ident" id="2355328">Put</span><span class="op" id="2355331">(</span><span class="ident" id="2355332">p</span><span class="op" id="2355333">)</span><br>
<span class="lineno">150</span><span class="op" id="2355335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2355338">func</span>&nbsp;<span class="op" id="2355343">(</span><span class="ident" id="2355344">p</span>&nbsp;<span class="op" id="2355346">*</span><span class="ident" id="2355347">pp</span><span class="op" id="2355349">)</span>&nbsp;<span class="ident" id="2355351">Width</span><span class="op" id="2355356">(</span><span class="op" id="2355357">)</span>&nbsp;<span class="op" id="2355359">(</span><span class="ident" id="2355360">wid</span>&nbsp;<span class="builtintype" id="2355364">int</span><span class="op" id="2355367">,</span>&nbsp;<span class="ident" id="2355369">ok</span>&nbsp;<span class="builtintype" id="2355372">bool</span><span class="op" id="2355376">)</span>&nbsp;<span class="op" id="2355378">{</span>&nbsp;<span class="keyword" id="2355380">return</span>&nbsp;<span class="ident" id="2355387">p</span><span class="op" id="2355388">.</span><span class="ident" id="2355389">fmt</span><span class="op" id="2355392">.</span><span class="ident" id="2355393">wid</span><span class="op" id="2355396">,</span>&nbsp;<span class="ident" id="2355398">p</span><span class="op" id="2355399">.</span><span class="ident" id="2355400">fmt</span><span class="op" id="2355403">.</span><span class="ident" id="2355404">widPresent</span>&nbsp;<span class="op" id="2355415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2355418">func</span>&nbsp;<span class="op" id="2355423">(</span><span class="ident" id="2355424">p</span>&nbsp;<span class="op" id="2355426">*</span><span class="ident" id="2355427">pp</span><span class="op" id="2355429">)</span>&nbsp;<span class="ident" id="2355431">Precision</span><span class="op" id="2355440">(</span><span class="op" id="2355441">)</span>&nbsp;<span class="op" id="2355443">(</span><span class="ident" id="2355444">prec</span>&nbsp;<span class="builtintype" id="2355449">int</span><span class="op" id="2355452">,</span>&nbsp;<span class="ident" id="2355454">ok</span>&nbsp;<span class="builtintype" id="2355457">bool</span><span class="op" id="2355461">)</span>&nbsp;<span class="op" id="2355463">{</span>&nbsp;<span class="keyword" id="2355465">return</span>&nbsp;<span class="ident" id="2355472">p</span><span class="op" id="2355473">.</span><span class="ident" id="2355474">fmt</span><span class="op" id="2355477">.</span><span class="ident" id="2355478">prec</span><span class="op" id="2355482">,</span>&nbsp;<span class="ident" id="2355484">p</span><span class="op" id="2355485">.</span><span class="ident" id="2355486">fmt</span><span class="op" id="2355489">.</span><span class="ident" id="2355490">precPresent</span>&nbsp;<span class="op" id="2355502">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2355505">func</span>&nbsp;<span class="op" id="2355510">(</span><span class="ident" id="2355511">p</span>&nbsp;<span class="op" id="2355513">*</span><span class="ident" id="2355514">pp</span><span class="op" id="2355516">)</span>&nbsp;<span class="ident" id="2355518">Flag</span><span class="op" id="2355522">(</span><span class="ident" id="2355523">b</span>&nbsp;<span class="builtintype" id="2355525">int</span><span class="op" id="2355528">)</span>&nbsp;<span class="builtintype" id="2355530">bool</span>&nbsp;<span class="op" id="2355535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355538">switch</span>&nbsp;<span class="ident" id="2355545">b</span>&nbsp;<span class="op" id="2355547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355550">case</span>&nbsp;<span class="string" id="2355555">&#39;-&#39;</span><span class="op" id="2355558">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355562">return</span>&nbsp;<span class="ident" id="2355569">p</span><span class="op" id="2355570">.</span><span class="ident" id="2355571">fmt</span><span class="op" id="2355574">.</span><span class="ident" id="2355575">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355582">case</span>&nbsp;<span class="string" id="2355587">&#39;+&#39;</span><span class="op" id="2355590">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355594">return</span>&nbsp;<span class="ident" id="2355601">p</span><span class="op" id="2355602">.</span><span class="ident" id="2355603">fmt</span><span class="op" id="2355606">.</span><span class="ident" id="2355607">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355613">case</span>&nbsp;<span class="string" id="2355618">&#39;#&#39;</span><span class="op" id="2355621">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355625">return</span>&nbsp;<span class="ident" id="2355632">p</span><span class="op" id="2355633">.</span><span class="ident" id="2355634">fmt</span><span class="op" id="2355637">.</span><span class="ident" id="2355638">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355645">case</span>&nbsp;<span class="string" id="2355650">&#39;&nbsp;&#39;</span><span class="op" id="2355653">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355657">return</span>&nbsp;<span class="ident" id="2355664">p</span><span class="op" id="2355665">.</span><span class="ident" id="2355666">fmt</span><span class="op" id="2355669">.</span><span class="ident" id="2355670">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355677">case</span>&nbsp;<span class="string" id="2355682">&#39;0&#39;</span><span class="op" id="2355685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355689">return</span>&nbsp;<span class="ident" id="2355696">p</span><span class="op" id="2355697">.</span><span class="ident" id="2355698">fmt</span><span class="op" id="2355701">.</span><span class="ident" id="2355702">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2355708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355711">return</span>&nbsp;<span class="builtintype" id="2355718">false</span><br>
<span class="lineno">170</span><span class="op" id="2355724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2355727">func</span>&nbsp;<span class="op" id="2355732">(</span><span class="ident" id="2355733">p</span>&nbsp;<span class="op" id="2355735">*</span><span class="ident" id="2355736">pp</span><span class="op" id="2355738">)</span>&nbsp;<span class="ident" id="2355740">add</span><span class="op" id="2355743">(</span><span class="ident" id="2355744">c</span>&nbsp;<span class="builtintype" id="2355746">rune</span><span class="op" id="2355750">)</span>&nbsp;<span class="op" id="2355752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2355755">p</span><span class="op" id="2355756">.</span><span class="ident" id="2355757">buf</span><span class="op" id="2355760">.</span><span class="ident" id="2355761">WriteRune</span><span class="op" id="2355770">(</span><span class="ident" id="2355771">c</span><span class="op" id="2355772">)</span><br>
<span class="lineno"></span><span class="op" id="2355774">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2355777">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2355848">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="2355882">func</span>&nbsp;<span class="op" id="2355887">(</span><span class="ident" id="2355888">p</span>&nbsp;<span class="op" id="2355890">*</span><span class="ident" id="2355891">pp</span><span class="op" id="2355893">)</span>&nbsp;<span class="ident" id="2355895">Write</span><span class="op" id="2355900">(</span><span class="ident" id="2355901">b</span>&nbsp;<span class="op" id="2355903">[</span><span class="op" id="2355904">]</span><span class="builtintype" id="2355905">byte</span><span class="op" id="2355909">)</span>&nbsp;<span class="op" id="2355911">(</span><span class="ident" id="2355912">ret</span>&nbsp;<span class="builtintype" id="2355916">int</span><span class="op" id="2355919">,</span>&nbsp;<span class="ident" id="2355921">err</span>&nbsp;<span class="builtintype" id="2355925">error</span><span class="op" id="2355930">)</span>&nbsp;<span class="op" id="2355932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2355935">return</span>&nbsp;<span class="ident" id="2355942">p</span><span class="op" id="2355943">.</span><span class="ident" id="2355944">buf</span><span class="op" id="2355947">.</span><span class="ident" id="2355948">Write</span><span class="op" id="2355953">(</span><span class="ident" id="2355954">b</span><span class="op" id="2355955">)</span><br>
<span class="lineno">180</span><span class="op" id="2355957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2355960">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2356016">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="2356084">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2356159">func</span>&nbsp;<span class="ident" id="2356164">Fprintf</span><span class="op" id="2356171">(</span><span class="ident" id="2356172">w</span>&nbsp;<span class="ident" id="2356174">io</span><span class="op" id="2356176">.</span><span class="ident" id="2356177">Writer</span><span class="op" id="2356183">,</span>&nbsp;<span class="ident" id="2356185">format</span>&nbsp;<span class="builtintype" id="2356192">string</span><span class="op" id="2356198">,</span>&nbsp;<span class="ident" id="2356200">a</span>&nbsp;<span class="op" id="2356202">...</span><span class="keyword" id="2356205">interface</span><span class="op" id="2356214">{</span><span class="op" id="2356215">}</span><span class="op" id="2356216">)</span>&nbsp;<span class="op" id="2356218">(</span><span class="ident" id="2356219">n</span>&nbsp;<span class="builtintype" id="2356221">int</span><span class="op" id="2356224">,</span>&nbsp;<span class="ident" id="2356226">err</span>&nbsp;<span class="builtintype" id="2356230">error</span><span class="op" id="2356235">)</span>&nbsp;<span class="op" id="2356237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2356240">p</span>&nbsp;<span class="op" id="2356242">:=</span>&nbsp;<span class="ident" id="2356245">newPrinter</span><span class="op" id="2356255">(</span><span class="op" id="2356256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2356259">p</span><span class="op" id="2356260">.</span><span class="ident" id="2356261">doPrintf</span><span class="op" id="2356269">(</span><span class="ident" id="2356270">format</span><span class="op" id="2356276">,</span>&nbsp;<span class="ident" id="2356278">a</span><span class="op" id="2356279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2356282">n</span><span class="op" id="2356283">,</span>&nbsp;<span class="ident" id="2356285">err</span>&nbsp;<span class="op" id="2356289">=</span>&nbsp;<span class="ident" id="2356291">w</span><span class="op" id="2356292">.</span><span class="ident" id="2356293">Write</span><span class="op" id="2356298">(</span><span class="ident" id="2356299">p</span><span class="op" id="2356300">.</span><span class="ident" id="2356301">buf</span><span class="op" id="2356304">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2356307">p</span><span class="op" id="2356308">.</span><span class="ident" id="2356309">free</span><span class="op" id="2356313">(</span><span class="op" id="2356314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2356317">return</span><br>
<span class="lineno"></span><span class="op" id="2356324">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2356327">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="2356408">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2356483">func</span>&nbsp;<span class="ident" id="2356488">Printf</span><span class="op" id="2356494">(</span><span class="ident" id="2356495">format</span>&nbsp;<span class="builtintype" id="2356502">string</span><span class="op" id="2356508">,</span>&nbsp;<span class="ident" id="2356510">a</span>&nbsp;<span class="op" id="2356512">...</span><span class="keyword" id="2356515">interface</span><span class="op" id="2356524">{</span><span class="op" id="2356525">}</span><span class="op" id="2356526">)</span>&nbsp;<span class="op" id="2356528">(</span><span class="ident" id="2356529">n</span>&nbsp;<span class="builtintype" id="2356531">int</span><span class="op" id="2356534">,</span>&nbsp;<span class="ident" id="2356536">err</span>&nbsp;<span class="builtintype" id="2356540">error</span><span class="op" id="2356545">)</span>&nbsp;<span class="op" id="2356547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2356550">return</span>&nbsp;<span class="ident" id="2356557">Fprintf</span><span class="op" id="2356564">(</span><span class="ident" id="2356565">os</span><span class="op" id="2356567">.</span><span class="ident" id="2356568">Stdout</span><span class="op" id="2356574">,</span>&nbsp;<span class="ident" id="2356576">format</span><span class="op" id="2356582">,</span>&nbsp;<span class="ident" id="2356584">a</span><span class="op" id="2356585">...</span><span class="op" id="2356588">)</span><br>
<span class="lineno"></span><span class="op" id="2356590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="2356593">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2356678">func</span>&nbsp;<span class="ident" id="2356683">Sprintf</span><span class="op" id="2356690">(</span><span class="ident" id="2356691">format</span>&nbsp;<span class="builtintype" id="2356698">string</span><span class="op" id="2356704">,</span>&nbsp;<span class="ident" id="2356706">a</span>&nbsp;<span class="op" id="2356708">...</span><span class="keyword" id="2356711">interface</span><span class="op" id="2356720">{</span><span class="op" id="2356721">}</span><span class="op" id="2356722">)</span>&nbsp;<span class="builtintype" id="2356724">string</span>&nbsp;<span class="op" id="2356731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2356734">p</span>&nbsp;<span class="op" id="2356736">:=</span>&nbsp;<span class="ident" id="2356739">newPrinter</span><span class="op" id="2356749">(</span><span class="op" id="2356750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2356753">p</span><span class="op" id="2356754">.</span><span class="ident" id="2356755">doPrintf</span><span class="op" id="2356763">(</span><span class="ident" id="2356764">format</span><span class="op" id="2356770">,</span>&nbsp;<span class="ident" id="2356772">a</span><span class="op" id="2356773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2356776">s</span>&nbsp;<span class="op" id="2356778">:=</span>&nbsp;<span class="builtintype" id="2356781">string</span><span class="op" id="2356787">(</span><span class="ident" id="2356788">p</span><span class="op" id="2356789">.</span><span class="ident" id="2356790">buf</span><span class="op" id="2356793">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2356796">p</span><span class="op" id="2356797">.</span><span class="ident" id="2356798">free</span><span class="op" id="2356802">(</span><span class="op" id="2356803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2356806">return</span>&nbsp;<span class="ident" id="2356813">s</span><br>
<span class="lineno"></span><span class="op" id="2356815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2356818">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="2356891">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2356927">func</span>&nbsp;<span class="ident" id="2356932">Errorf</span><span class="op" id="2356938">(</span><span class="ident" id="2356939">format</span>&nbsp;<span class="builtintype" id="2356946">string</span><span class="op" id="2356952">,</span>&nbsp;<span class="ident" id="2356954">a</span>&nbsp;<span class="op" id="2356956">...</span><span class="keyword" id="2356959">interface</span><span class="op" id="2356968">{</span><span class="op" id="2356969">}</span><span class="op" id="2356970">)</span>&nbsp;<span class="builtintype" id="2356972">error</span>&nbsp;<span class="op" id="2356978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2356981">return</span>&nbsp;<span class="ident" id="2356988">errors</span><span class="op" id="2356994">.</span><span class="ident" id="2356995">New</span><span class="op" id="2356998">(</span><span class="ident" id="2356999">Sprintf</span><span class="op" id="2357006">(</span><span class="ident" id="2357007">format</span><span class="op" id="2357013">,</span>&nbsp;<span class="ident" id="2357015">a</span><span class="op" id="2357016">...</span><span class="op" id="2357019">)</span><span class="op" id="2357020">)</span><br>
<span class="lineno"></span><span class="op" id="2357022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="2357025">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2357072">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="2357150">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2357213">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="2357288">func</span>&nbsp;<span class="ident" id="2357293">Fprint</span><span class="op" id="2357299">(</span><span class="ident" id="2357300">w</span>&nbsp;<span class="ident" id="2357302">io</span><span class="op" id="2357304">.</span><span class="ident" id="2357305">Writer</span><span class="op" id="2357311">,</span>&nbsp;<span class="ident" id="2357313">a</span>&nbsp;<span class="op" id="2357315">...</span><span class="keyword" id="2357318">interface</span><span class="op" id="2357327">{</span><span class="op" id="2357328">}</span><span class="op" id="2357329">)</span>&nbsp;<span class="op" id="2357331">(</span><span class="ident" id="2357332">n</span>&nbsp;<span class="builtintype" id="2357334">int</span><span class="op" id="2357337">,</span>&nbsp;<span class="ident" id="2357339">err</span>&nbsp;<span class="builtintype" id="2357343">error</span><span class="op" id="2357348">)</span>&nbsp;<span class="op" id="2357350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357353">p</span>&nbsp;<span class="op" id="2357355">:=</span>&nbsp;<span class="ident" id="2357358">newPrinter</span><span class="op" id="2357368">(</span><span class="op" id="2357369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357372">p</span><span class="op" id="2357373">.</span><span class="ident" id="2357374">doPrint</span><span class="op" id="2357381">(</span><span class="ident" id="2357382">a</span><span class="op" id="2357383">,</span>&nbsp;<span class="builtintype" id="2357385">false</span><span class="op" id="2357390">,</span>&nbsp;<span class="builtintype" id="2357392">false</span><span class="op" id="2357397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357400">n</span><span class="op" id="2357401">,</span>&nbsp;<span class="ident" id="2357403">err</span>&nbsp;<span class="op" id="2357407">=</span>&nbsp;<span class="ident" id="2357409">w</span><span class="op" id="2357410">.</span><span class="ident" id="2357411">Write</span><span class="op" id="2357416">(</span><span class="ident" id="2357417">p</span><span class="op" id="2357418">.</span><span class="ident" id="2357419">buf</span><span class="op" id="2357422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357425">p</span><span class="op" id="2357426">.</span><span class="ident" id="2357427">free</span><span class="op" id="2357431">(</span><span class="op" id="2357432">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2357435">return</span><br>
<span class="lineno"></span><span class="op" id="2357442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2357445">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2357536">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="2357599">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2357674">func</span>&nbsp;<span class="ident" id="2357679">Print</span><span class="op" id="2357684">(</span><span class="ident" id="2357685">a</span>&nbsp;<span class="op" id="2357687">...</span><span class="keyword" id="2357690">interface</span><span class="op" id="2357699">{</span><span class="op" id="2357700">}</span><span class="op" id="2357701">)</span>&nbsp;<span class="op" id="2357703">(</span><span class="ident" id="2357704">n</span>&nbsp;<span class="builtintype" id="2357706">int</span><span class="op" id="2357709">,</span>&nbsp;<span class="ident" id="2357711">err</span>&nbsp;<span class="builtintype" id="2357715">error</span><span class="op" id="2357720">)</span>&nbsp;<span class="op" id="2357722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2357725">return</span>&nbsp;<span class="ident" id="2357732">Fprint</span><span class="op" id="2357738">(</span><span class="ident" id="2357739">os</span><span class="op" id="2357741">.</span><span class="ident" id="2357742">Stdout</span><span class="op" id="2357748">,</span>&nbsp;<span class="ident" id="2357750">a</span><span class="op" id="2357751">...</span><span class="op" id="2357754">)</span><br>
<span class="lineno"></span><span class="op" id="2357756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="2357759">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2357854">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2357917">func</span>&nbsp;<span class="ident" id="2357922">Sprint</span><span class="op" id="2357928">(</span><span class="ident" id="2357929">a</span>&nbsp;<span class="op" id="2357931">...</span><span class="keyword" id="2357934">interface</span><span class="op" id="2357943">{</span><span class="op" id="2357944">}</span><span class="op" id="2357945">)</span>&nbsp;<span class="builtintype" id="2357947">string</span>&nbsp;<span class="op" id="2357954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357957">p</span>&nbsp;<span class="op" id="2357959">:=</span>&nbsp;<span class="ident" id="2357962">newPrinter</span><span class="op" id="2357972">(</span><span class="op" id="2357973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357976">p</span><span class="op" id="2357977">.</span><span class="ident" id="2357978">doPrint</span><span class="op" id="2357985">(</span><span class="ident" id="2357986">a</span><span class="op" id="2357987">,</span>&nbsp;<span class="builtintype" id="2357989">false</span><span class="op" id="2357994">,</span>&nbsp;<span class="builtintype" id="2357996">false</span><span class="op" id="2358001">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358004">s</span>&nbsp;<span class="op" id="2358006">:=</span>&nbsp;<span class="builtintype" id="2358009">string</span><span class="op" id="2358015">(</span><span class="ident" id="2358016">p</span><span class="op" id="2358017">.</span><span class="ident" id="2358018">buf</span><span class="op" id="2358021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358024">p</span><span class="op" id="2358025">.</span><span class="ident" id="2358026">free</span><span class="op" id="2358030">(</span><span class="op" id="2358031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358034">return</span>&nbsp;<span class="ident" id="2358041">s</span><br>
<span class="lineno"></span><span class="op" id="2358043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2358046">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="2358106">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2358163">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2358191">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="2358271">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2358342">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2358417">func</span>&nbsp;<span class="ident" id="2358422">Fprintln</span><span class="op" id="2358430">(</span><span class="ident" id="2358431">w</span>&nbsp;<span class="ident" id="2358433">io</span><span class="op" id="2358435">.</span><span class="ident" id="2358436">Writer</span><span class="op" id="2358442">,</span>&nbsp;<span class="ident" id="2358444">a</span>&nbsp;<span class="op" id="2358446">...</span><span class="keyword" id="2358449">interface</span><span class="op" id="2358458">{</span><span class="op" id="2358459">}</span><span class="op" id="2358460">)</span>&nbsp;<span class="op" id="2358462">(</span><span class="ident" id="2358463">n</span>&nbsp;<span class="builtintype" id="2358465">int</span><span class="op" id="2358468">,</span>&nbsp;<span class="ident" id="2358470">err</span>&nbsp;<span class="builtintype" id="2358474">error</span><span class="op" id="2358479">)</span>&nbsp;<span class="op" id="2358481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358484">p</span>&nbsp;<span class="op" id="2358486">:=</span>&nbsp;<span class="ident" id="2358489">newPrinter</span><span class="op" id="2358499">(</span><span class="op" id="2358500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358503">p</span><span class="op" id="2358504">.</span><span class="ident" id="2358505">doPrint</span><span class="op" id="2358512">(</span><span class="ident" id="2358513">a</span><span class="op" id="2358514">,</span>&nbsp;<span class="builtintype" id="2358516">true</span><span class="op" id="2358520">,</span>&nbsp;<span class="builtintype" id="2358522">true</span><span class="op" id="2358526">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358529">n</span><span class="op" id="2358530">,</span>&nbsp;<span class="ident" id="2358532">err</span>&nbsp;<span class="op" id="2358536">=</span>&nbsp;<span class="ident" id="2358538">w</span><span class="op" id="2358539">.</span><span class="ident" id="2358540">Write</span><span class="op" id="2358545">(</span><span class="ident" id="2358546">p</span><span class="op" id="2358547">.</span><span class="ident" id="2358548">buf</span><span class="op" id="2358551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358554">p</span><span class="op" id="2358555">.</span><span class="ident" id="2358556">free</span><span class="op" id="2358560">(</span><span class="op" id="2358561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358564">return</span><br>
<span class="lineno"></span><span class="op" id="2358571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="2358574">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2358667">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2358738">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2358813">func</span>&nbsp;<span class="ident" id="2358818">Println</span><span class="op" id="2358825">(</span><span class="ident" id="2358826">a</span>&nbsp;<span class="op" id="2358828">...</span><span class="keyword" id="2358831">interface</span><span class="op" id="2358840">{</span><span class="op" id="2358841">}</span><span class="op" id="2358842">)</span>&nbsp;<span class="op" id="2358844">(</span><span class="ident" id="2358845">n</span>&nbsp;<span class="builtintype" id="2358847">int</span><span class="op" id="2358850">,</span>&nbsp;<span class="ident" id="2358852">err</span>&nbsp;<span class="builtintype" id="2358856">error</span><span class="op" id="2358861">)</span>&nbsp;<span class="op" id="2358863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358866">return</span>&nbsp;<span class="ident" id="2358873">Fprintln</span><span class="op" id="2358881">(</span><span class="ident" id="2358882">os</span><span class="op" id="2358884">.</span><span class="ident" id="2358885">Stdout</span><span class="op" id="2358891">,</span>&nbsp;<span class="ident" id="2358893">a</span><span class="op" id="2358894">...</span><span class="op" id="2358897">)</span><br>
<span class="lineno">265</span><span class="op" id="2358899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2358902">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2358999">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="2359070">func</span>&nbsp;<span class="ident" id="2359075">Sprintln</span><span class="op" id="2359083">(</span><span class="ident" id="2359084">a</span>&nbsp;<span class="op" id="2359086">...</span><span class="keyword" id="2359089">interface</span><span class="op" id="2359098">{</span><span class="op" id="2359099">}</span><span class="op" id="2359100">)</span>&nbsp;<span class="builtintype" id="2359102">string</span>&nbsp;<span class="op" id="2359109">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359112">p</span>&nbsp;<span class="op" id="2359114">:=</span>&nbsp;<span class="ident" id="2359117">newPrinter</span><span class="op" id="2359127">(</span><span class="op" id="2359128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359131">p</span><span class="op" id="2359132">.</span><span class="ident" id="2359133">doPrint</span><span class="op" id="2359140">(</span><span class="ident" id="2359141">a</span><span class="op" id="2359142">,</span>&nbsp;<span class="builtintype" id="2359144">true</span><span class="op" id="2359148">,</span>&nbsp;<span class="builtintype" id="2359150">true</span><span class="op" id="2359154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359157">s</span>&nbsp;<span class="op" id="2359159">:=</span>&nbsp;<span class="builtintype" id="2359162">string</span><span class="op" id="2359168">(</span><span class="ident" id="2359169">p</span><span class="op" id="2359170">.</span><span class="ident" id="2359171">buf</span><span class="op" id="2359174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359177">p</span><span class="op" id="2359178">.</span><span class="ident" id="2359179">free</span><span class="op" id="2359183">(</span><span class="op" id="2359184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359187">return</span>&nbsp;<span class="ident" id="2359194">s</span><br>
<span class="lineno">275</span><span class="op" id="2359196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2359199">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2359252">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2359314">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="2359375">func</span>&nbsp;<span class="ident" id="2359380">getField</span><span class="op" id="2359388">(</span><span class="ident" id="2359389">v</span>&nbsp;<span class="ident" id="2359391">reflect</span><span class="op" id="2359398">.</span><span class="ident" id="2359399">Value</span><span class="op" id="2359404">,</span>&nbsp;<span class="ident" id="2359406">i</span>&nbsp;<span class="builtintype" id="2359408">int</span><span class="op" id="2359411">)</span>&nbsp;<span class="ident" id="2359413">reflect</span><span class="op" id="2359420">.</span><span class="ident" id="2359421">Value</span>&nbsp;<span class="op" id="2359427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359430">val</span>&nbsp;<span class="op" id="2359434">:=</span>&nbsp;<span class="ident" id="2359437">v</span><span class="op" id="2359438">.</span><span class="ident" id="2359439">Field</span><span class="op" id="2359444">(</span><span class="ident" id="2359445">i</span><span class="op" id="2359446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359449">if</span>&nbsp;<span class="ident" id="2359452">val</span><span class="op" id="2359455">.</span><span class="ident" id="2359456">Kind</span><span class="op" id="2359460">(</span><span class="op" id="2359461">)</span>&nbsp;<span class="op" id="2359463">==</span>&nbsp;<span class="ident" id="2359466">reflect</span><span class="op" id="2359473">.</span><span class="ident" id="2359474">Interface</span>&nbsp;<span class="op" id="2359484">&amp;&amp;</span>&nbsp;<span class="op" id="2359487">!</span><span class="ident" id="2359488">val</span><span class="op" id="2359491">.</span><span class="ident" id="2359492">IsNil</span><span class="op" id="2359497">(</span><span class="op" id="2359498">)</span>&nbsp;<span class="op" id="2359500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359504">val</span>&nbsp;<span class="op" id="2359508">=</span>&nbsp;<span class="ident" id="2359510">val</span><span class="op" id="2359513">.</span><span class="ident" id="2359514">Elem</span><span class="op" id="2359518">(</span><span class="op" id="2359519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359522">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359525">return</span>&nbsp;<span class="ident" id="2359532">val</span><br>
<span class="lineno"></span><span class="op" id="2359536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2359539">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2359631">func</span>&nbsp;<span class="ident" id="2359636">parsenum</span><span class="op" id="2359644">(</span><span class="ident" id="2359645">s</span>&nbsp;<span class="builtintype" id="2359647">string</span><span class="op" id="2359653">,</span>&nbsp;<span class="ident" id="2359655">start</span><span class="op" id="2359660">,</span>&nbsp;<span class="ident" id="2359662">end</span>&nbsp;<span class="builtintype" id="2359666">int</span><span class="op" id="2359669">)</span>&nbsp;<span class="op" id="2359671">(</span><span class="ident" id="2359672">num</span>&nbsp;<span class="builtintype" id="2359676">int</span><span class="op" id="2359679">,</span>&nbsp;<span class="ident" id="2359681">isnum</span>&nbsp;<span class="builtintype" id="2359687">bool</span><span class="op" id="2359691">,</span>&nbsp;<span class="ident" id="2359693">newi</span>&nbsp;<span class="builtintype" id="2359698">int</span><span class="op" id="2359701">)</span>&nbsp;<span class="op" id="2359703">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359706">if</span>&nbsp;<span class="ident" id="2359709">start</span>&nbsp;<span class="op" id="2359715">&gt;=</span>&nbsp;<span class="ident" id="2359718">end</span>&nbsp;<span class="op" id="2359722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359726">return</span>&nbsp;<span class="num" id="2359733">0</span><span class="op" id="2359734">,</span>&nbsp;<span class="builtintype" id="2359736">false</span><span class="op" id="2359741">,</span>&nbsp;<span class="ident" id="2359743">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359751">for</span>&nbsp;<span class="ident" id="2359755">newi</span>&nbsp;<span class="op" id="2359760">=</span>&nbsp;<span class="ident" id="2359762">start</span><span class="op" id="2359767">;</span>&nbsp;<span class="ident" id="2359769">newi</span>&nbsp;<span class="op" id="2359774">&lt;</span>&nbsp;<span class="ident" id="2359776">end</span>&nbsp;<span class="op" id="2359780">&amp;&amp;</span>&nbsp;<span class="string" id="2359783">&#39;0&#39;</span>&nbsp;<span class="op" id="2359787">&lt;=</span>&nbsp;<span class="ident" id="2359790">s</span><span class="op" id="2359791">[</span><span class="ident" id="2359792">newi</span><span class="op" id="2359796">]</span>&nbsp;<span class="op" id="2359798">&amp;&amp;</span>&nbsp;<span class="ident" id="2359801">s</span><span class="op" id="2359802">[</span><span class="ident" id="2359803">newi</span><span class="op" id="2359807">]</span>&nbsp;<span class="op" id="2359809">&lt;=</span>&nbsp;<span class="string" id="2359812">&#39;9&#39;</span><span class="op" id="2359815">;</span>&nbsp;<span class="ident" id="2359817">newi</span><span class="op" id="2359821">++</span>&nbsp;<span class="op" id="2359824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359828">num</span>&nbsp;<span class="op" id="2359832">=</span>&nbsp;<span class="ident" id="2359834">num</span><span class="op" id="2359837">*</span><span class="num" id="2359838">10</span>&nbsp;<span class="op" id="2359841">+</span>&nbsp;<span class="builtintype" id="2359843">int</span><span class="op" id="2359846">(</span><span class="ident" id="2359847">s</span><span class="op" id="2359848">[</span><span class="ident" id="2359849">newi</span><span class="op" id="2359853">]</span><span class="op" id="2359854">-</span><span class="string" id="2359855">&#39;0&#39;</span><span class="op" id="2359858">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359862">isnum</span>&nbsp;<span class="op" id="2359868">=</span>&nbsp;<span class="builtintype" id="2359870">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359879">return</span><br>
<span class="lineno"></span><span class="op" id="2359886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="2359889">func</span>&nbsp;<span class="op" id="2359894">(</span><span class="ident" id="2359895">p</span>&nbsp;<span class="op" id="2359897">*</span><span class="ident" id="2359898">pp</span><span class="op" id="2359900">)</span>&nbsp;<span class="ident" id="2359902">unknownType</span><span class="op" id="2359913">(</span><span class="ident" id="2359914">v</span>&nbsp;<span class="ident" id="2359916">reflect</span><span class="op" id="2359923">.</span><span class="ident" id="2359924">Value</span><span class="op" id="2359929">)</span>&nbsp;<span class="op" id="2359931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359934">if</span>&nbsp;<span class="op" id="2359937">!</span><span class="ident" id="2359938">v</span><span class="op" id="2359939">.</span><span class="ident" id="2359940">IsValid</span><span class="op" id="2359947">(</span><span class="op" id="2359948">)</span>&nbsp;<span class="op" id="2359950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359954">p</span><span class="op" id="2359955">.</span><span class="ident" id="2359956">buf</span><span class="op" id="2359959">.</span><span class="ident" id="2359960">Write</span><span class="op" id="2359965">(</span><span class="ident" id="2359966">nilAngleBytes</span><span class="op" id="2359979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359983">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359991">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359994">p</span><span class="op" id="2359995">.</span><span class="ident" id="2359996">buf</span><span class="op" id="2359999">.</span><span class="ident" id="2360000">WriteByte</span><span class="op" id="2360009">(</span><span class="string" id="2360010">&#39;?&#39;</span><span class="op" id="2360013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360016">p</span><span class="op" id="2360017">.</span><span class="ident" id="2360018">buf</span><span class="op" id="2360021">.</span><span class="ident" id="2360022">WriteString</span><span class="op" id="2360033">(</span><span class="ident" id="2360034">v</span><span class="op" id="2360035">.</span><span class="ident" id="2360036">Type</span><span class="op" id="2360040">(</span><span class="op" id="2360041">)</span><span class="op" id="2360042">.</span><span class="ident" id="2360043">String</span><span class="op" id="2360049">(</span><span class="op" id="2360050">)</span><span class="op" id="2360051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360054">p</span><span class="op" id="2360055">.</span><span class="ident" id="2360056">buf</span><span class="op" id="2360059">.</span><span class="ident" id="2360060">WriteByte</span><span class="op" id="2360069">(</span><span class="string" id="2360070">&#39;?&#39;</span><span class="op" id="2360073">)</span><br>
<span class="lineno"></span><span class="op" id="2360075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="2360078">func</span>&nbsp;<span class="op" id="2360083">(</span><span class="ident" id="2360084">p</span>&nbsp;<span class="op" id="2360086">*</span><span class="ident" id="2360087">pp</span><span class="op" id="2360089">)</span>&nbsp;<span class="ident" id="2360091">badVerb</span><span class="op" id="2360098">(</span><span class="ident" id="2360099">verb</span>&nbsp;<span class="builtintype" id="2360104">rune</span><span class="op" id="2360108">)</span>&nbsp;<span class="op" id="2360110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360113">p</span><span class="op" id="2360114">.</span><span class="ident" id="2360115">erroring</span>&nbsp;<span class="op" id="2360124">=</span>&nbsp;<span class="builtintype" id="2360126">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360132">p</span><span class="op" id="2360133">.</span><span class="ident" id="2360134">add</span><span class="op" id="2360137">(</span><span class="string" id="2360138">&#39;%&#39;</span><span class="op" id="2360141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360144">p</span><span class="op" id="2360145">.</span><span class="ident" id="2360146">add</span><span class="op" id="2360149">(</span><span class="string" id="2360150">&#39;!&#39;</span><span class="op" id="2360153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360156">p</span><span class="op" id="2360157">.</span><span class="ident" id="2360158">add</span><span class="op" id="2360161">(</span><span class="ident" id="2360162">verb</span><span class="op" id="2360166">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360169">p</span><span class="op" id="2360170">.</span><span class="ident" id="2360171">add</span><span class="op" id="2360174">(</span><span class="string" id="2360175">&#39;(&#39;</span><span class="op" id="2360178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360181">switch</span>&nbsp;<span class="op" id="2360188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360191">case</span>&nbsp;<span class="ident" id="2360196">p</span><span class="op" id="2360197">.</span><span class="ident" id="2360198">arg</span>&nbsp;<span class="op" id="2360202">!=</span>&nbsp;<span class="builtintype" id="2360205">nil</span><span class="op" id="2360208">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360212">p</span><span class="op" id="2360213">.</span><span class="ident" id="2360214">buf</span><span class="op" id="2360217">.</span><span class="ident" id="2360218">WriteString</span><span class="op" id="2360229">(</span><span class="ident" id="2360230">reflect</span><span class="op" id="2360237">.</span><span class="ident" id="2360238">TypeOf</span><span class="op" id="2360244">(</span><span class="ident" id="2360245">p</span><span class="op" id="2360246">.</span><span class="ident" id="2360247">arg</span><span class="op" id="2360250">)</span><span class="op" id="2360251">.</span><span class="ident" id="2360252">String</span><span class="op" id="2360258">(</span><span class="op" id="2360259">)</span><span class="op" id="2360260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360264">p</span><span class="op" id="2360265">.</span><span class="ident" id="2360266">add</span><span class="op" id="2360269">(</span><span class="string" id="2360270">&#39;=&#39;</span><span class="op" id="2360273">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360277">p</span><span class="op" id="2360278">.</span><span class="ident" id="2360279">printArg</span><span class="op" id="2360287">(</span><span class="ident" id="2360288">p</span><span class="op" id="2360289">.</span><span class="ident" id="2360290">arg</span><span class="op" id="2360293">,</span>&nbsp;<span class="string" id="2360295">&#39;v&#39;</span><span class="op" id="2360298">,</span>&nbsp;<span class="num" id="2360300">0</span><span class="op" id="2360301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360304">case</span>&nbsp;<span class="ident" id="2360309">p</span><span class="op" id="2360310">.</span><span class="ident" id="2360311">value</span><span class="op" id="2360316">.</span><span class="ident" id="2360317">IsValid</span><span class="op" id="2360324">(</span><span class="op" id="2360325">)</span><span class="op" id="2360326">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360330">p</span><span class="op" id="2360331">.</span><span class="ident" id="2360332">buf</span><span class="op" id="2360335">.</span><span class="ident" id="2360336">WriteString</span><span class="op" id="2360347">(</span><span class="ident" id="2360348">p</span><span class="op" id="2360349">.</span><span class="ident" id="2360350">value</span><span class="op" id="2360355">.</span><span class="ident" id="2360356">Type</span><span class="op" id="2360360">(</span><span class="op" id="2360361">)</span><span class="op" id="2360362">.</span><span class="ident" id="2360363">String</span><span class="op" id="2360369">(</span><span class="op" id="2360370">)</span><span class="op" id="2360371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360375">p</span><span class="op" id="2360376">.</span><span class="ident" id="2360377">add</span><span class="op" id="2360380">(</span><span class="string" id="2360381">&#39;=&#39;</span><span class="op" id="2360384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360388">p</span><span class="op" id="2360389">.</span><span class="ident" id="2360390">printValue</span><span class="op" id="2360400">(</span><span class="ident" id="2360401">p</span><span class="op" id="2360402">.</span><span class="ident" id="2360403">value</span><span class="op" id="2360408">,</span>&nbsp;<span class="string" id="2360410">&#39;v&#39;</span><span class="op" id="2360413">,</span>&nbsp;<span class="num" id="2360415">0</span><span class="op" id="2360416">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360419">default</span><span class="op" id="2360426">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360430">p</span><span class="op" id="2360431">.</span><span class="ident" id="2360432">buf</span><span class="op" id="2360435">.</span><span class="ident" id="2360436">Write</span><span class="op" id="2360441">(</span><span class="ident" id="2360442">nilAngleBytes</span><span class="op" id="2360455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2360458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360461">p</span><span class="op" id="2360462">.</span><span class="ident" id="2360463">add</span><span class="op" id="2360466">(</span><span class="string" id="2360467">&#39;)&#39;</span><span class="op" id="2360470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360473">p</span><span class="op" id="2360474">.</span><span class="ident" id="2360475">erroring</span>&nbsp;<span class="op" id="2360484">=</span>&nbsp;<span class="builtintype" id="2360486">false</span><br>
<span class="lineno">330</span><span class="op" id="2360492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2360495">func</span>&nbsp;<span class="op" id="2360500">(</span><span class="ident" id="2360501">p</span>&nbsp;<span class="op" id="2360503">*</span><span class="ident" id="2360504">pp</span><span class="op" id="2360506">)</span>&nbsp;<span class="ident" id="2360508">fmtBool</span><span class="op" id="2360515">(</span><span class="ident" id="2360516">v</span>&nbsp;<span class="builtintype" id="2360518">bool</span><span class="op" id="2360522">,</span>&nbsp;<span class="ident" id="2360524">verb</span>&nbsp;<span class="builtintype" id="2360529">rune</span><span class="op" id="2360533">)</span>&nbsp;<span class="op" id="2360535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360538">switch</span>&nbsp;<span class="ident" id="2360545">verb</span>&nbsp;<span class="op" id="2360550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360553">case</span>&nbsp;<span class="string" id="2360558">&#39;t&#39;</span><span class="op" id="2360561">,</span>&nbsp;<span class="string" id="2360563">&#39;v&#39;</span><span class="op" id="2360566">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360570">p</span><span class="op" id="2360571">.</span><span class="ident" id="2360572">fmt</span><span class="op" id="2360575">.</span><span class="ident" id="2360576">fmt_boolean</span><span class="op" id="2360587">(</span><span class="ident" id="2360588">v</span><span class="op" id="2360589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360592">default</span><span class="op" id="2360599">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360603">p</span><span class="op" id="2360604">.</span><span class="ident" id="2360605">badVerb</span><span class="op" id="2360612">(</span><span class="ident" id="2360613">verb</span><span class="op" id="2360617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2360620">}</span><br>
<span class="lineno"></span><span class="op" id="2360622">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="2360625">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2360668">func</span>&nbsp;<span class="op" id="2360673">(</span><span class="ident" id="2360674">p</span>&nbsp;<span class="op" id="2360676">*</span><span class="ident" id="2360677">pp</span><span class="op" id="2360679">)</span>&nbsp;<span class="ident" id="2360681">fmtC</span><span class="op" id="2360685">(</span><span class="ident" id="2360686">c</span>&nbsp;<span class="ident" id="2360688">int64</span><span class="op" id="2360693">)</span>&nbsp;<span class="op" id="2360695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360698">r</span>&nbsp;<span class="op" id="2360700">:=</span>&nbsp;<span class="builtintype" id="2360703">rune</span><span class="op" id="2360707">(</span><span class="ident" id="2360708">c</span><span class="op" id="2360709">)</span>&nbsp;<span class="comment" id="2360711">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360735">if</span>&nbsp;<span class="ident" id="2360738">int64</span><span class="op" id="2360743">(</span><span class="ident" id="2360744">r</span><span class="op" id="2360745">)</span>&nbsp;<span class="op" id="2360747">!=</span>&nbsp;<span class="ident" id="2360750">c</span>&nbsp;<span class="op" id="2360752">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360756">r</span>&nbsp;<span class="op" id="2360758">=</span>&nbsp;<span class="ident" id="2360760">utf8</span><span class="op" id="2360764">.</span><span class="ident" id="2360765">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2360776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360779">w</span>&nbsp;<span class="op" id="2360781">:=</span>&nbsp;<span class="ident" id="2360784">utf8</span><span class="op" id="2360788">.</span><span class="ident" id="2360789">EncodeRune</span><span class="op" id="2360799">(</span><span class="ident" id="2360800">p</span><span class="op" id="2360801">.</span><span class="ident" id="2360802">runeBuf</span><span class="op" id="2360809">[</span><span class="num" id="2360810">0</span><span class="op" id="2360811">:</span><span class="ident" id="2360812">utf8</span><span class="op" id="2360816">.</span><span class="ident" id="2360817">UTFMax</span><span class="op" id="2360823">]</span><span class="op" id="2360824">,</span>&nbsp;<span class="ident" id="2360826">r</span><span class="op" id="2360827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360830">p</span><span class="op" id="2360831">.</span><span class="ident" id="2360832">fmt</span><span class="op" id="2360835">.</span><span class="ident" id="2360836">pad</span><span class="op" id="2360839">(</span><span class="ident" id="2360840">p</span><span class="op" id="2360841">.</span><span class="ident" id="2360842">runeBuf</span><span class="op" id="2360849">[</span><span class="num" id="2360850">0</span><span class="op" id="2360851">:</span><span class="ident" id="2360852">w</span><span class="op" id="2360853">]</span><span class="op" id="2360854">)</span><br>
<span class="lineno"></span><span class="op" id="2360856">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="2360859">func</span>&nbsp;<span class="op" id="2360864">(</span><span class="ident" id="2360865">p</span>&nbsp;<span class="op" id="2360867">*</span><span class="ident" id="2360868">pp</span><span class="op" id="2360870">)</span>&nbsp;<span class="ident" id="2360872">fmtInt64</span><span class="op" id="2360880">(</span><span class="ident" id="2360881">v</span>&nbsp;<span class="ident" id="2360883">int64</span><span class="op" id="2360888">,</span>&nbsp;<span class="ident" id="2360890">verb</span>&nbsp;<span class="builtintype" id="2360895">rune</span><span class="op" id="2360899">)</span>&nbsp;<span class="op" id="2360901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360904">switch</span>&nbsp;<span class="ident" id="2360911">verb</span>&nbsp;<span class="op" id="2360916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360919">case</span>&nbsp;<span class="string" id="2360924">&#39;b&#39;</span><span class="op" id="2360927">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360931">p</span><span class="op" id="2360932">.</span><span class="ident" id="2360933">fmt</span><span class="op" id="2360936">.</span><span class="ident" id="2360937">integer</span><span class="op" id="2360944">(</span><span class="ident" id="2360945">v</span><span class="op" id="2360946">,</span>&nbsp;<span class="num" id="2360948">2</span><span class="op" id="2360949">,</span>&nbsp;<span class="ident" id="2360951">signed</span><span class="op" id="2360957">,</span>&nbsp;<span class="ident" id="2360959">ldigits</span><span class="op" id="2360966">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360969">case</span>&nbsp;<span class="string" id="2360974">&#39;c&#39;</span><span class="op" id="2360977">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360981">p</span><span class="op" id="2360982">.</span><span class="ident" id="2360983">fmtC</span><span class="op" id="2360987">(</span><span class="ident" id="2360988">v</span><span class="op" id="2360989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360992">case</span>&nbsp;<span class="string" id="2360997">&#39;d&#39;</span><span class="op" id="2361000">,</span>&nbsp;<span class="string" id="2361002">&#39;v&#39;</span><span class="op" id="2361005">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361009">p</span><span class="op" id="2361010">.</span><span class="ident" id="2361011">fmt</span><span class="op" id="2361014">.</span><span class="ident" id="2361015">integer</span><span class="op" id="2361022">(</span><span class="ident" id="2361023">v</span><span class="op" id="2361024">,</span>&nbsp;<span class="num" id="2361026">10</span><span class="op" id="2361028">,</span>&nbsp;<span class="ident" id="2361030">signed</span><span class="op" id="2361036">,</span>&nbsp;<span class="ident" id="2361038">ldigits</span><span class="op" id="2361045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2361048">case</span>&nbsp;<span class="string" id="2361053">&#39;o&#39;</span><span class="op" id="2361056">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361060">p</span><span class="op" id="2361061">.</span><span class="ident" id="2361062">fmt</span><span class="op" id="2361065">.</span><span class="ident" id="2361066">integer</span><span class="op" id="2361073">(</span><span class="ident" id="2361074">v</span><span class="op" id="2361075">,</span>&nbsp;<span class="num" id="2361077">8</span><span class="op" id="2361078">,</span>&nbsp;<span class="ident" id="2361080">signed</span><span class="op" id="2361086">,</span>&nbsp;<span class="ident" id="2361088">ldigits</span><span class="op" id="2361095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2361098">case</span>&nbsp;<span class="string" id="2361103">&#39;q&#39;</span><span class="op" id="2361106">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2361110">if</span>&nbsp;<span class="num" id="2361113">0</span>&nbsp;<span class="op" id="2361115">&lt;=</span>&nbsp;<span class="ident" id="2361118">v</span>&nbsp;<span class="op" id="2361120">&amp;&amp;</span>&nbsp;<span class="ident" id="2361123">v</span>&nbsp;<span class="op" id="2361125">&lt;=</span>&nbsp;<span class="ident" id="2361128">utf8</span><span class="op" id="2361132">.</span><span class="ident" id="2361133">MaxRune</span>&nbsp;<span class="op" id="2361141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361146">p</span><span class="op" id="2361147">.</span><span class="ident" id="2361148">fmt</span><span class="op" id="2361151">.</span><span class="ident" id="2361152">fmt_qc</span><span class="op" id="2361158">(</span><span class="ident" id="2361159">v</span><span class="op" id="2361160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361164">}</span>&nbsp;<span class="keyword" id="2361166">else</span>&nbsp;<span class="op" id="2361171">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361176">p</span><span class="op" id="2361177">.</span><span class="ident" id="2361178">badVerb</span><span class="op" id="2361185">(</span><span class="ident" id="2361186">verb</span><span class="op" id="2361190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2361197">case</span>&nbsp;<span class="string" id="2361202">&#39;x&#39;</span><span class="op" id="2361205">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361209">p</span><span class="op" id="2361210">.</span><span class="ident" id="2361211">fmt</span><span class="op" id="2361214">.</span><span class="ident" id="2361215">integer</span><span class="op" id="2361222">(</span><span class="ident" id="2361223">v</span><span class="op" id="2361224">,</span>&nbsp;<span class="num" id="2361226">16</span><span class="op" id="2361228">,</span>&nbsp;<span class="ident" id="2361230">signed</span><span class="op" id="2361236">,</span>&nbsp;<span class="ident" id="2361238">ldigits</span><span class="op" id="2361245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2361248">case</span>&nbsp;<span class="string" id="2361253">&#39;U&#39;</span><span class="op" id="2361256">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361260">p</span><span class="op" id="2361261">.</span><span class="ident" id="2361262">fmtUnicode</span><span class="op" id="2361272">(</span><span class="ident" id="2361273">v</span><span class="op" id="2361274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2361277">case</span>&nbsp;<span class="string" id="2361282">&#39;X&#39;</span><span class="op" id="2361285">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361289">p</span><span class="op" id="2361290">.</span><span class="ident" id="2361291">fmt</span><span class="op" id="2361294">.</span><span class="ident" id="2361295">integer</span><span class="op" id="2361302">(</span><span class="ident" id="2361303">v</span><span class="op" id="2361304">,</span>&nbsp;<span class="num" id="2361306">16</span><span class="op" id="2361308">,</span>&nbsp;<span class="ident" id="2361310">signed</span><span class="op" id="2361316">,</span>&nbsp;<span class="ident" id="2361318">udigits</span><span class="op" id="2361325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2361328">default</span><span class="op" id="2361335">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361339">p</span><span class="op" id="2361340">.</span><span class="ident" id="2361341">badVerb</span><span class="op" id="2361348">(</span><span class="ident" id="2361349">verb</span><span class="op" id="2361353">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361356">}</span><br>
<span class="lineno"></span><span class="op" id="2361358">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2361361">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2361431">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="2361492">func</span>&nbsp;<span class="op" id="2361497">(</span><span class="ident" id="2361498">p</span>&nbsp;<span class="op" id="2361500">*</span><span class="ident" id="2361501">pp</span><span class="op" id="2361503">)</span>&nbsp;<span class="ident" id="2361505">fmt0x64</span><span class="op" id="2361512">(</span><span class="ident" id="2361513">v</span>&nbsp;<span class="ident" id="2361515">uint64</span><span class="op" id="2361521">,</span>&nbsp;<span class="ident" id="2361523">leading0x</span>&nbsp;<span class="builtintype" id="2361533">bool</span><span class="op" id="2361537">)</span>&nbsp;<span class="op" id="2361539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361542">sharp</span>&nbsp;<span class="op" id="2361548">:=</span>&nbsp;<span class="ident" id="2361551">p</span><span class="op" id="2361552">.</span><span class="ident" id="2361553">fmt</span><span class="op" id="2361556">.</span><span class="ident" id="2361557">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361564">p</span><span class="op" id="2361565">.</span><span class="ident" id="2361566">fmt</span><span class="op" id="2361569">.</span><span class="ident" id="2361570">sharp</span>&nbsp;<span class="op" id="2361576">=</span>&nbsp;<span class="ident" id="2361578">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361589">p</span><span class="op" id="2361590">.</span><span class="ident" id="2361591">fmt</span><span class="op" id="2361594">.</span><span class="ident" id="2361595">integer</span><span class="op" id="2361602">(</span><span class="ident" id="2361603">int64</span><span class="op" id="2361608">(</span><span class="ident" id="2361609">v</span><span class="op" id="2361610">)</span><span class="op" id="2361611">,</span>&nbsp;<span class="num" id="2361613">16</span><span class="op" id="2361615">,</span>&nbsp;<span class="ident" id="2361617">unsigned</span><span class="op" id="2361625">,</span>&nbsp;<span class="ident" id="2361627">ldigits</span><span class="op" id="2361634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361637">p</span><span class="op" id="2361638">.</span><span class="ident" id="2361639">fmt</span><span class="op" id="2361642">.</span><span class="ident" id="2361643">sharp</span>&nbsp;<span class="op" id="2361649">=</span>&nbsp;<span class="ident" id="2361651">sharp</span><br>
<span class="lineno">385</span><span class="op" id="2361657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2361660">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2361709">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="2361780">func</span>&nbsp;<span class="op" id="2361785">(</span><span class="ident" id="2361786">p</span>&nbsp;<span class="op" id="2361788">*</span><span class="ident" id="2361789">pp</span><span class="op" id="2361791">)</span>&nbsp;<span class="ident" id="2361793">fmtUnicode</span><span class="op" id="2361803">(</span><span class="ident" id="2361804">v</span>&nbsp;<span class="ident" id="2361806">int64</span><span class="op" id="2361811">)</span>&nbsp;<span class="op" id="2361813">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361816">precPresent</span>&nbsp;<span class="op" id="2361828">:=</span>&nbsp;<span class="ident" id="2361831">p</span><span class="op" id="2361832">.</span><span class="ident" id="2361833">fmt</span><span class="op" id="2361836">.</span><span class="ident" id="2361837">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361850">sharp</span>&nbsp;<span class="op" id="2361856">:=</span>&nbsp;<span class="ident" id="2361859">p</span><span class="op" id="2361860">.</span><span class="ident" id="2361861">fmt</span><span class="op" id="2361864">.</span><span class="ident" id="2361865">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361872">p</span><span class="op" id="2361873">.</span><span class="ident" id="2361874">fmt</span><span class="op" id="2361877">.</span><span class="ident" id="2361878">sharp</span>&nbsp;<span class="op" id="2361884">=</span>&nbsp;<span class="builtintype" id="2361886">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2361893">prec</span>&nbsp;<span class="op" id="2361898">:=</span>&nbsp;<span class="ident" id="2361901">p</span><span class="op" id="2361902">.</span><span class="ident" id="2361903">fmt</span><span class="op" id="2361906">.</span><span class="ident" id="2361907">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2361913">if</span>&nbsp;<span class="op" id="2361916">!</span><span class="ident" id="2361917">precPresent</span>&nbsp;<span class="op" id="2361929">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361933">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362002">p</span><span class="op" id="2362003">.</span><span class="ident" id="2362004">fmt</span><span class="op" id="2362007">.</span><span class="ident" id="2362008">prec</span>&nbsp;<span class="op" id="2362013">=</span>&nbsp;<span class="num" id="2362015">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362019">p</span><span class="op" id="2362020">.</span><span class="ident" id="2362021">fmt</span><span class="op" id="2362024">.</span><span class="ident" id="2362025">precPresent</span>&nbsp;<span class="op" id="2362037">=</span>&nbsp;<span class="builtintype" id="2362039">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362048">p</span><span class="op" id="2362049">.</span><span class="ident" id="2362050">fmt</span><span class="op" id="2362053">.</span><span class="ident" id="2362054">unicode</span>&nbsp;<span class="op" id="2362062">=</span>&nbsp;<span class="builtintype" id="2362064">true</span>&nbsp;<span class="comment" id="2362069">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362084">p</span><span class="op" id="2362085">.</span><span class="ident" id="2362086">fmt</span><span class="op" id="2362089">.</span><span class="ident" id="2362090">uniQuote</span>&nbsp;<span class="op" id="2362099">=</span>&nbsp;<span class="ident" id="2362101">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362108">p</span><span class="op" id="2362109">.</span><span class="ident" id="2362110">fmt</span><span class="op" id="2362113">.</span><span class="ident" id="2362114">integer</span><span class="op" id="2362121">(</span><span class="ident" id="2362122">int64</span><span class="op" id="2362127">(</span><span class="ident" id="2362128">v</span><span class="op" id="2362129">)</span><span class="op" id="2362130">,</span>&nbsp;<span class="num" id="2362132">16</span><span class="op" id="2362134">,</span>&nbsp;<span class="ident" id="2362136">unsigned</span><span class="op" id="2362144">,</span>&nbsp;<span class="ident" id="2362146">udigits</span><span class="op" id="2362153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362156">p</span><span class="op" id="2362157">.</span><span class="ident" id="2362158">fmt</span><span class="op" id="2362161">.</span><span class="ident" id="2362162">unicode</span>&nbsp;<span class="op" id="2362170">=</span>&nbsp;<span class="builtintype" id="2362172">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362179">p</span><span class="op" id="2362180">.</span><span class="ident" id="2362181">fmt</span><span class="op" id="2362184">.</span><span class="ident" id="2362185">uniQuote</span>&nbsp;<span class="op" id="2362194">=</span>&nbsp;<span class="builtintype" id="2362196">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362203">p</span><span class="op" id="2362204">.</span><span class="ident" id="2362205">fmt</span><span class="op" id="2362208">.</span><span class="ident" id="2362209">prec</span>&nbsp;<span class="op" id="2362214">=</span>&nbsp;<span class="ident" id="2362216">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362222">p</span><span class="op" id="2362223">.</span><span class="ident" id="2362224">fmt</span><span class="op" id="2362227">.</span><span class="ident" id="2362228">precPresent</span>&nbsp;<span class="op" id="2362240">=</span>&nbsp;<span class="ident" id="2362242">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362255">p</span><span class="op" id="2362256">.</span><span class="ident" id="2362257">fmt</span><span class="op" id="2362260">.</span><span class="ident" id="2362261">sharp</span>&nbsp;<span class="op" id="2362267">=</span>&nbsp;<span class="ident" id="2362269">sharp</span><br>
<span class="lineno"></span><span class="op" id="2362275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2362278">func</span>&nbsp;<span class="op" id="2362283">(</span><span class="ident" id="2362284">p</span>&nbsp;<span class="op" id="2362286">*</span><span class="ident" id="2362287">pp</span><span class="op" id="2362289">)</span>&nbsp;<span class="ident" id="2362291">fmtUint64</span><span class="op" id="2362300">(</span><span class="ident" id="2362301">v</span>&nbsp;<span class="ident" id="2362303">uint64</span><span class="op" id="2362309">,</span>&nbsp;<span class="ident" id="2362311">verb</span>&nbsp;<span class="builtintype" id="2362316">rune</span><span class="op" id="2362320">)</span>&nbsp;<span class="op" id="2362322">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362325">switch</span>&nbsp;<span class="ident" id="2362332">verb</span>&nbsp;<span class="op" id="2362337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362340">case</span>&nbsp;<span class="string" id="2362345">&#39;b&#39;</span><span class="op" id="2362348">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362352">p</span><span class="op" id="2362353">.</span><span class="ident" id="2362354">fmt</span><span class="op" id="2362357">.</span><span class="ident" id="2362358">integer</span><span class="op" id="2362365">(</span><span class="ident" id="2362366">int64</span><span class="op" id="2362371">(</span><span class="ident" id="2362372">v</span><span class="op" id="2362373">)</span><span class="op" id="2362374">,</span>&nbsp;<span class="num" id="2362376">2</span><span class="op" id="2362377">,</span>&nbsp;<span class="ident" id="2362379">unsigned</span><span class="op" id="2362387">,</span>&nbsp;<span class="ident" id="2362389">ldigits</span><span class="op" id="2362396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362399">case</span>&nbsp;<span class="string" id="2362404">&#39;c&#39;</span><span class="op" id="2362407">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362411">p</span><span class="op" id="2362412">.</span><span class="ident" id="2362413">fmtC</span><span class="op" id="2362417">(</span><span class="ident" id="2362418">int64</span><span class="op" id="2362423">(</span><span class="ident" id="2362424">v</span><span class="op" id="2362425">)</span><span class="op" id="2362426">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362429">case</span>&nbsp;<span class="string" id="2362434">&#39;d&#39;</span><span class="op" id="2362437">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362441">p</span><span class="op" id="2362442">.</span><span class="ident" id="2362443">fmt</span><span class="op" id="2362446">.</span><span class="ident" id="2362447">integer</span><span class="op" id="2362454">(</span><span class="ident" id="2362455">int64</span><span class="op" id="2362460">(</span><span class="ident" id="2362461">v</span><span class="op" id="2362462">)</span><span class="op" id="2362463">,</span>&nbsp;<span class="num" id="2362465">10</span><span class="op" id="2362467">,</span>&nbsp;<span class="ident" id="2362469">unsigned</span><span class="op" id="2362477">,</span>&nbsp;<span class="ident" id="2362479">ldigits</span><span class="op" id="2362486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362489">case</span>&nbsp;<span class="string" id="2362494">&#39;v&#39;</span><span class="op" id="2362497">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362501">if</span>&nbsp;<span class="ident" id="2362504">p</span><span class="op" id="2362505">.</span><span class="ident" id="2362506">fmt</span><span class="op" id="2362509">.</span><span class="ident" id="2362510">sharpV</span>&nbsp;<span class="op" id="2362517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362522">p</span><span class="op" id="2362523">.</span><span class="ident" id="2362524">fmt0x64</span><span class="op" id="2362531">(</span><span class="ident" id="2362532">v</span><span class="op" id="2362533">,</span>&nbsp;<span class="builtintype" id="2362535">true</span><span class="op" id="2362539">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362543">}</span>&nbsp;<span class="keyword" id="2362545">else</span>&nbsp;<span class="op" id="2362550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362555">p</span><span class="op" id="2362556">.</span><span class="ident" id="2362557">fmt</span><span class="op" id="2362560">.</span><span class="ident" id="2362561">integer</span><span class="op" id="2362568">(</span><span class="ident" id="2362569">int64</span><span class="op" id="2362574">(</span><span class="ident" id="2362575">v</span><span class="op" id="2362576">)</span><span class="op" id="2362577">,</span>&nbsp;<span class="num" id="2362579">10</span><span class="op" id="2362581">,</span>&nbsp;<span class="ident" id="2362583">unsigned</span><span class="op" id="2362591">,</span>&nbsp;<span class="ident" id="2362593">ldigits</span><span class="op" id="2362600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362607">case</span>&nbsp;<span class="string" id="2362612">&#39;o&#39;</span><span class="op" id="2362615">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362619">p</span><span class="op" id="2362620">.</span><span class="ident" id="2362621">fmt</span><span class="op" id="2362624">.</span><span class="ident" id="2362625">integer</span><span class="op" id="2362632">(</span><span class="ident" id="2362633">int64</span><span class="op" id="2362638">(</span><span class="ident" id="2362639">v</span><span class="op" id="2362640">)</span><span class="op" id="2362641">,</span>&nbsp;<span class="num" id="2362643">8</span><span class="op" id="2362644">,</span>&nbsp;<span class="ident" id="2362646">unsigned</span><span class="op" id="2362654">,</span>&nbsp;<span class="ident" id="2362656">ldigits</span><span class="op" id="2362663">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362666">case</span>&nbsp;<span class="string" id="2362671">&#39;q&#39;</span><span class="op" id="2362674">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362678">if</span>&nbsp;<span class="num" id="2362681">0</span>&nbsp;<span class="op" id="2362683">&lt;=</span>&nbsp;<span class="ident" id="2362686">v</span>&nbsp;<span class="op" id="2362688">&amp;&amp;</span>&nbsp;<span class="ident" id="2362691">v</span>&nbsp;<span class="op" id="2362693">&lt;=</span>&nbsp;<span class="ident" id="2362696">utf8</span><span class="op" id="2362700">.</span><span class="ident" id="2362701">MaxRune</span>&nbsp;<span class="op" id="2362709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362714">p</span><span class="op" id="2362715">.</span><span class="ident" id="2362716">fmt</span><span class="op" id="2362719">.</span><span class="ident" id="2362720">fmt_qc</span><span class="op" id="2362726">(</span><span class="ident" id="2362727">int64</span><span class="op" id="2362732">(</span><span class="ident" id="2362733">v</span><span class="op" id="2362734">)</span><span class="op" id="2362735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362739">}</span>&nbsp;<span class="keyword" id="2362741">else</span>&nbsp;<span class="op" id="2362746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362751">p</span><span class="op" id="2362752">.</span><span class="ident" id="2362753">badVerb</span><span class="op" id="2362760">(</span><span class="ident" id="2362761">verb</span><span class="op" id="2362765">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362772">case</span>&nbsp;<span class="string" id="2362777">&#39;x&#39;</span><span class="op" id="2362780">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362784">p</span><span class="op" id="2362785">.</span><span class="ident" id="2362786">fmt</span><span class="op" id="2362789">.</span><span class="ident" id="2362790">integer</span><span class="op" id="2362797">(</span><span class="ident" id="2362798">int64</span><span class="op" id="2362803">(</span><span class="ident" id="2362804">v</span><span class="op" id="2362805">)</span><span class="op" id="2362806">,</span>&nbsp;<span class="num" id="2362808">16</span><span class="op" id="2362810">,</span>&nbsp;<span class="ident" id="2362812">unsigned</span><span class="op" id="2362820">,</span>&nbsp;<span class="ident" id="2362822">ldigits</span><span class="op" id="2362829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362832">case</span>&nbsp;<span class="string" id="2362837">&#39;X&#39;</span><span class="op" id="2362840">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362844">p</span><span class="op" id="2362845">.</span><span class="ident" id="2362846">fmt</span><span class="op" id="2362849">.</span><span class="ident" id="2362850">integer</span><span class="op" id="2362857">(</span><span class="ident" id="2362858">int64</span><span class="op" id="2362863">(</span><span class="ident" id="2362864">v</span><span class="op" id="2362865">)</span><span class="op" id="2362866">,</span>&nbsp;<span class="num" id="2362868">16</span><span class="op" id="2362870">,</span>&nbsp;<span class="ident" id="2362872">unsigned</span><span class="op" id="2362880">,</span>&nbsp;<span class="ident" id="2362882">udigits</span><span class="op" id="2362889">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362892">case</span>&nbsp;<span class="string" id="2362897">&#39;U&#39;</span><span class="op" id="2362900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362904">p</span><span class="op" id="2362905">.</span><span class="ident" id="2362906">fmtUnicode</span><span class="op" id="2362916">(</span><span class="ident" id="2362917">int64</span><span class="op" id="2362922">(</span><span class="ident" id="2362923">v</span><span class="op" id="2362924">)</span><span class="op" id="2362925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362928">default</span><span class="op" id="2362935">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362939">p</span><span class="op" id="2362940">.</span><span class="ident" id="2362941">badVerb</span><span class="op" id="2362948">(</span><span class="ident" id="2362949">verb</span><span class="op" id="2362953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362956">}</span><br>
<span class="lineno">440</span><span class="op" id="2362958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2362961">func</span>&nbsp;<span class="op" id="2362966">(</span><span class="ident" id="2362967">p</span>&nbsp;<span class="op" id="2362969">*</span><span class="ident" id="2362970">pp</span><span class="op" id="2362972">)</span>&nbsp;<span class="ident" id="2362974">fmtFloat32</span><span class="op" id="2362984">(</span><span class="ident" id="2362985">v</span>&nbsp;<span class="builtintype" id="2362987">float32</span><span class="op" id="2362994">,</span>&nbsp;<span class="ident" id="2362996">verb</span>&nbsp;<span class="builtintype" id="2363001">rune</span><span class="op" id="2363005">)</span>&nbsp;<span class="op" id="2363007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363010">switch</span>&nbsp;<span class="ident" id="2363017">verb</span>&nbsp;<span class="op" id="2363022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363025">case</span>&nbsp;<span class="string" id="2363030">&#39;b&#39;</span><span class="op" id="2363033">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363037">p</span><span class="op" id="2363038">.</span><span class="ident" id="2363039">fmt</span><span class="op" id="2363042">.</span><span class="ident" id="2363043">fmt_fb32</span><span class="op" id="2363051">(</span><span class="ident" id="2363052">v</span><span class="op" id="2363053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363056">case</span>&nbsp;<span class="string" id="2363061">&#39;e&#39;</span><span class="op" id="2363064">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363068">p</span><span class="op" id="2363069">.</span><span class="ident" id="2363070">fmt</span><span class="op" id="2363073">.</span><span class="ident" id="2363074">fmt_e32</span><span class="op" id="2363081">(</span><span class="ident" id="2363082">v</span><span class="op" id="2363083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363086">case</span>&nbsp;<span class="string" id="2363091">&#39;E&#39;</span><span class="op" id="2363094">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363098">p</span><span class="op" id="2363099">.</span><span class="ident" id="2363100">fmt</span><span class="op" id="2363103">.</span><span class="ident" id="2363104">fmt_E32</span><span class="op" id="2363111">(</span><span class="ident" id="2363112">v</span><span class="op" id="2363113">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363116">case</span>&nbsp;<span class="string" id="2363121">&#39;f&#39;</span><span class="op" id="2363124">,</span>&nbsp;<span class="string" id="2363126">&#39;F&#39;</span><span class="op" id="2363129">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363133">p</span><span class="op" id="2363134">.</span><span class="ident" id="2363135">fmt</span><span class="op" id="2363138">.</span><span class="ident" id="2363139">fmt_f32</span><span class="op" id="2363146">(</span><span class="ident" id="2363147">v</span><span class="op" id="2363148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363151">case</span>&nbsp;<span class="string" id="2363156">&#39;g&#39;</span><span class="op" id="2363159">,</span>&nbsp;<span class="string" id="2363161">&#39;v&#39;</span><span class="op" id="2363164">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363168">p</span><span class="op" id="2363169">.</span><span class="ident" id="2363170">fmt</span><span class="op" id="2363173">.</span><span class="ident" id="2363174">fmt_g32</span><span class="op" id="2363181">(</span><span class="ident" id="2363182">v</span><span class="op" id="2363183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363186">case</span>&nbsp;<span class="string" id="2363191">&#39;G&#39;</span><span class="op" id="2363194">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363198">p</span><span class="op" id="2363199">.</span><span class="ident" id="2363200">fmt</span><span class="op" id="2363203">.</span><span class="ident" id="2363204">fmt_G32</span><span class="op" id="2363211">(</span><span class="ident" id="2363212">v</span><span class="op" id="2363213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363216">default</span><span class="op" id="2363223">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363227">p</span><span class="op" id="2363228">.</span><span class="ident" id="2363229">badVerb</span><span class="op" id="2363236">(</span><span class="ident" id="2363237">verb</span><span class="op" id="2363241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363244">}</span><br>
<span class="lineno"></span><span class="op" id="2363246">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2363249">func</span>&nbsp;<span class="op" id="2363254">(</span><span class="ident" id="2363255">p</span>&nbsp;<span class="op" id="2363257">*</span><span class="ident" id="2363258">pp</span><span class="op" id="2363260">)</span>&nbsp;<span class="ident" id="2363262">fmtFloat64</span><span class="op" id="2363272">(</span><span class="ident" id="2363273">v</span>&nbsp;<span class="builtintype" id="2363275">float64</span><span class="op" id="2363282">,</span>&nbsp;<span class="ident" id="2363284">verb</span>&nbsp;<span class="builtintype" id="2363289">rune</span><span class="op" id="2363293">)</span>&nbsp;<span class="op" id="2363295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363298">switch</span>&nbsp;<span class="ident" id="2363305">verb</span>&nbsp;<span class="op" id="2363310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363313">case</span>&nbsp;<span class="string" id="2363318">&#39;b&#39;</span><span class="op" id="2363321">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363325">p</span><span class="op" id="2363326">.</span><span class="ident" id="2363327">fmt</span><span class="op" id="2363330">.</span><span class="ident" id="2363331">fmt_fb64</span><span class="op" id="2363339">(</span><span class="ident" id="2363340">v</span><span class="op" id="2363341">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363344">case</span>&nbsp;<span class="string" id="2363349">&#39;e&#39;</span><span class="op" id="2363352">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363356">p</span><span class="op" id="2363357">.</span><span class="ident" id="2363358">fmt</span><span class="op" id="2363361">.</span><span class="ident" id="2363362">fmt_e64</span><span class="op" id="2363369">(</span><span class="ident" id="2363370">v</span><span class="op" id="2363371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363374">case</span>&nbsp;<span class="string" id="2363379">&#39;E&#39;</span><span class="op" id="2363382">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363386">p</span><span class="op" id="2363387">.</span><span class="ident" id="2363388">fmt</span><span class="op" id="2363391">.</span><span class="ident" id="2363392">fmt_E64</span><span class="op" id="2363399">(</span><span class="ident" id="2363400">v</span><span class="op" id="2363401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363404">case</span>&nbsp;<span class="string" id="2363409">&#39;f&#39;</span><span class="op" id="2363412">,</span>&nbsp;<span class="string" id="2363414">&#39;F&#39;</span><span class="op" id="2363417">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363421">p</span><span class="op" id="2363422">.</span><span class="ident" id="2363423">fmt</span><span class="op" id="2363426">.</span><span class="ident" id="2363427">fmt_f64</span><span class="op" id="2363434">(</span><span class="ident" id="2363435">v</span><span class="op" id="2363436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363439">case</span>&nbsp;<span class="string" id="2363444">&#39;g&#39;</span><span class="op" id="2363447">,</span>&nbsp;<span class="string" id="2363449">&#39;v&#39;</span><span class="op" id="2363452">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363456">p</span><span class="op" id="2363457">.</span><span class="ident" id="2363458">fmt</span><span class="op" id="2363461">.</span><span class="ident" id="2363462">fmt_g64</span><span class="op" id="2363469">(</span><span class="ident" id="2363470">v</span><span class="op" id="2363471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363474">case</span>&nbsp;<span class="string" id="2363479">&#39;G&#39;</span><span class="op" id="2363482">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363486">p</span><span class="op" id="2363487">.</span><span class="ident" id="2363488">fmt</span><span class="op" id="2363491">.</span><span class="ident" id="2363492">fmt_G64</span><span class="op" id="2363499">(</span><span class="ident" id="2363500">v</span><span class="op" id="2363501">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363504">default</span><span class="op" id="2363511">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363515">p</span><span class="op" id="2363516">.</span><span class="ident" id="2363517">badVerb</span><span class="op" id="2363524">(</span><span class="ident" id="2363525">verb</span><span class="op" id="2363529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363532">}</span><br>
<span class="lineno"></span><span class="op" id="2363534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="2363537">func</span>&nbsp;<span class="op" id="2363542">(</span><span class="ident" id="2363543">p</span>&nbsp;<span class="op" id="2363545">*</span><span class="ident" id="2363546">pp</span><span class="op" id="2363548">)</span>&nbsp;<span class="ident" id="2363550">fmtComplex64</span><span class="op" id="2363562">(</span><span class="ident" id="2363563">v</span>&nbsp;<span class="builtintype" id="2363565">complex64</span><span class="op" id="2363574">,</span>&nbsp;<span class="ident" id="2363576">verb</span>&nbsp;<span class="builtintype" id="2363581">rune</span><span class="op" id="2363585">)</span>&nbsp;<span class="op" id="2363587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363590">switch</span>&nbsp;<span class="ident" id="2363597">verb</span>&nbsp;<span class="op" id="2363602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363605">case</span>&nbsp;<span class="string" id="2363610">&#39;b&#39;</span><span class="op" id="2363613">,</span>&nbsp;<span class="string" id="2363615">&#39;e&#39;</span><span class="op" id="2363618">,</span>&nbsp;<span class="string" id="2363620">&#39;E&#39;</span><span class="op" id="2363623">,</span>&nbsp;<span class="string" id="2363625">&#39;f&#39;</span><span class="op" id="2363628">,</span>&nbsp;<span class="string" id="2363630">&#39;F&#39;</span><span class="op" id="2363633">,</span>&nbsp;<span class="string" id="2363635">&#39;g&#39;</span><span class="op" id="2363638">,</span>&nbsp;<span class="string" id="2363640">&#39;G&#39;</span><span class="op" id="2363643">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363647">p</span><span class="op" id="2363648">.</span><span class="ident" id="2363649">fmt</span><span class="op" id="2363652">.</span><span class="ident" id="2363653">fmt_c64</span><span class="op" id="2363660">(</span><span class="ident" id="2363661">v</span><span class="op" id="2363662">,</span>&nbsp;<span class="ident" id="2363664">verb</span><span class="op" id="2363668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363671">case</span>&nbsp;<span class="string" id="2363676">&#39;v&#39;</span><span class="op" id="2363679">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363683">p</span><span class="op" id="2363684">.</span><span class="ident" id="2363685">fmt</span><span class="op" id="2363688">.</span><span class="ident" id="2363689">fmt_c64</span><span class="op" id="2363696">(</span><span class="ident" id="2363697">v</span><span class="op" id="2363698">,</span>&nbsp;<span class="string" id="2363700">&#39;g&#39;</span><span class="op" id="2363703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363706">default</span><span class="op" id="2363713">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363717">p</span><span class="op" id="2363718">.</span><span class="ident" id="2363719">badVerb</span><span class="op" id="2363726">(</span><span class="ident" id="2363727">verb</span><span class="op" id="2363731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363734">}</span><br>
<span class="lineno"></span><span class="op" id="2363736">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="2363739">func</span>&nbsp;<span class="op" id="2363744">(</span><span class="ident" id="2363745">p</span>&nbsp;<span class="op" id="2363747">*</span><span class="ident" id="2363748">pp</span><span class="op" id="2363750">)</span>&nbsp;<span class="ident" id="2363752">fmtComplex128</span><span class="op" id="2363765">(</span><span class="ident" id="2363766">v</span>&nbsp;<span class="builtintype" id="2363768">complex128</span><span class="op" id="2363778">,</span>&nbsp;<span class="ident" id="2363780">verb</span>&nbsp;<span class="builtintype" id="2363785">rune</span><span class="op" id="2363789">)</span>&nbsp;<span class="op" id="2363791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363794">switch</span>&nbsp;<span class="ident" id="2363801">verb</span>&nbsp;<span class="op" id="2363806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363809">case</span>&nbsp;<span class="string" id="2363814">&#39;b&#39;</span><span class="op" id="2363817">,</span>&nbsp;<span class="string" id="2363819">&#39;e&#39;</span><span class="op" id="2363822">,</span>&nbsp;<span class="string" id="2363824">&#39;E&#39;</span><span class="op" id="2363827">,</span>&nbsp;<span class="string" id="2363829">&#39;f&#39;</span><span class="op" id="2363832">,</span>&nbsp;<span class="string" id="2363834">&#39;F&#39;</span><span class="op" id="2363837">,</span>&nbsp;<span class="string" id="2363839">&#39;g&#39;</span><span class="op" id="2363842">,</span>&nbsp;<span class="string" id="2363844">&#39;G&#39;</span><span class="op" id="2363847">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363851">p</span><span class="op" id="2363852">.</span><span class="ident" id="2363853">fmt</span><span class="op" id="2363856">.</span><span class="ident" id="2363857">fmt_c128</span><span class="op" id="2363865">(</span><span class="ident" id="2363866">v</span><span class="op" id="2363867">,</span>&nbsp;<span class="ident" id="2363869">verb</span><span class="op" id="2363873">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363876">case</span>&nbsp;<span class="string" id="2363881">&#39;v&#39;</span><span class="op" id="2363884">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363888">p</span><span class="op" id="2363889">.</span><span class="ident" id="2363890">fmt</span><span class="op" id="2363893">.</span><span class="ident" id="2363894">fmt_c128</span><span class="op" id="2363902">(</span><span class="ident" id="2363903">v</span><span class="op" id="2363904">,</span>&nbsp;<span class="string" id="2363906">&#39;g&#39;</span><span class="op" id="2363909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363912">default</span><span class="op" id="2363919">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363923">p</span><span class="op" id="2363924">.</span><span class="ident" id="2363925">badVerb</span><span class="op" id="2363932">(</span><span class="ident" id="2363933">verb</span><span class="op" id="2363937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363940">}</span><br>
<span class="lineno">500</span><span class="op" id="2363942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2363945">func</span>&nbsp;<span class="op" id="2363950">(</span><span class="ident" id="2363951">p</span>&nbsp;<span class="op" id="2363953">*</span><span class="ident" id="2363954">pp</span><span class="op" id="2363956">)</span>&nbsp;<span class="ident" id="2363958">fmtString</span><span class="op" id="2363967">(</span><span class="ident" id="2363968">v</span>&nbsp;<span class="builtintype" id="2363970">string</span><span class="op" id="2363976">,</span>&nbsp;<span class="ident" id="2363978">verb</span>&nbsp;<span class="builtintype" id="2363983">rune</span><span class="op" id="2363987">)</span>&nbsp;<span class="op" id="2363989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363992">switch</span>&nbsp;<span class="ident" id="2363999">verb</span>&nbsp;<span class="op" id="2364004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364007">case</span>&nbsp;<span class="string" id="2364012">&#39;v&#39;</span><span class="op" id="2364015">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364019">if</span>&nbsp;<span class="ident" id="2364022">p</span><span class="op" id="2364023">.</span><span class="ident" id="2364024">fmt</span><span class="op" id="2364027">.</span><span class="ident" id="2364028">sharpV</span>&nbsp;<span class="op" id="2364035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364040">p</span><span class="op" id="2364041">.</span><span class="ident" id="2364042">fmt</span><span class="op" id="2364045">.</span><span class="ident" id="2364046">fmt_q</span><span class="op" id="2364051">(</span><span class="ident" id="2364052">v</span><span class="op" id="2364053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364057">}</span>&nbsp;<span class="keyword" id="2364059">else</span>&nbsp;<span class="op" id="2364064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364069">p</span><span class="op" id="2364070">.</span><span class="ident" id="2364071">fmt</span><span class="op" id="2364074">.</span><span class="ident" id="2364075">fmt_s</span><span class="op" id="2364080">(</span><span class="ident" id="2364081">v</span><span class="op" id="2364082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364086">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364089">case</span>&nbsp;<span class="string" id="2364094">&#39;s&#39;</span><span class="op" id="2364097">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364101">p</span><span class="op" id="2364102">.</span><span class="ident" id="2364103">fmt</span><span class="op" id="2364106">.</span><span class="ident" id="2364107">fmt_s</span><span class="op" id="2364112">(</span><span class="ident" id="2364113">v</span><span class="op" id="2364114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364117">case</span>&nbsp;<span class="string" id="2364122">&#39;x&#39;</span><span class="op" id="2364125">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364129">p</span><span class="op" id="2364130">.</span><span class="ident" id="2364131">fmt</span><span class="op" id="2364134">.</span><span class="ident" id="2364135">fmt_sx</span><span class="op" id="2364141">(</span><span class="ident" id="2364142">v</span><span class="op" id="2364143">,</span>&nbsp;<span class="ident" id="2364145">ldigits</span><span class="op" id="2364152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364155">case</span>&nbsp;<span class="string" id="2364160">&#39;X&#39;</span><span class="op" id="2364163">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364167">p</span><span class="op" id="2364168">.</span><span class="ident" id="2364169">fmt</span><span class="op" id="2364172">.</span><span class="ident" id="2364173">fmt_sx</span><span class="op" id="2364179">(</span><span class="ident" id="2364180">v</span><span class="op" id="2364181">,</span>&nbsp;<span class="ident" id="2364183">udigits</span><span class="op" id="2364190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364193">case</span>&nbsp;<span class="string" id="2364198">&#39;q&#39;</span><span class="op" id="2364201">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364205">p</span><span class="op" id="2364206">.</span><span class="ident" id="2364207">fmt</span><span class="op" id="2364210">.</span><span class="ident" id="2364211">fmt_q</span><span class="op" id="2364216">(</span><span class="ident" id="2364217">v</span><span class="op" id="2364218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364221">default</span><span class="op" id="2364228">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364232">p</span><span class="op" id="2364233">.</span><span class="ident" id="2364234">badVerb</span><span class="op" id="2364241">(</span><span class="ident" id="2364242">verb</span><span class="op" id="2364246">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364249">}</span><br>
<span class="lineno"></span><span class="op" id="2364251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2364254">func</span>&nbsp;<span class="op" id="2364259">(</span><span class="ident" id="2364260">p</span>&nbsp;<span class="op" id="2364262">*</span><span class="ident" id="2364263">pp</span><span class="op" id="2364265">)</span>&nbsp;<span class="ident" id="2364267">fmtBytes</span><span class="op" id="2364275">(</span><span class="ident" id="2364276">v</span>&nbsp;<span class="op" id="2364278">[</span><span class="op" id="2364279">]</span><span class="builtintype" id="2364280">byte</span><span class="op" id="2364284">,</span>&nbsp;<span class="ident" id="2364286">verb</span>&nbsp;<span class="builtintype" id="2364291">rune</span><span class="op" id="2364295">,</span>&nbsp;<span class="ident" id="2364297">typ</span>&nbsp;<span class="ident" id="2364301">reflect</span><span class="op" id="2364308">.</span><span class="ident" id="2364309">Type</span><span class="op" id="2364313">,</span>&nbsp;<span class="ident" id="2364315">depth</span>&nbsp;<span class="builtintype" id="2364321">int</span><span class="op" id="2364324">)</span>&nbsp;<span class="op" id="2364326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364329">if</span>&nbsp;<span class="ident" id="2364332">verb</span>&nbsp;<span class="op" id="2364337">==</span>&nbsp;<span class="string" id="2364340">&#39;v&#39;</span>&nbsp;<span class="op" id="2364344">||</span>&nbsp;<span class="ident" id="2364347">verb</span>&nbsp;<span class="op" id="2364352">==</span>&nbsp;<span class="string" id="2364355">&#39;d&#39;</span>&nbsp;<span class="op" id="2364359">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364363">if</span>&nbsp;<span class="ident" id="2364366">p</span><span class="op" id="2364367">.</span><span class="ident" id="2364368">fmt</span><span class="op" id="2364371">.</span><span class="ident" id="2364372">sharpV</span>&nbsp;<span class="op" id="2364379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364384">if</span>&nbsp;<span class="ident" id="2364387">v</span>&nbsp;<span class="op" id="2364389">==</span>&nbsp;<span class="builtintype" id="2364392">nil</span>&nbsp;<span class="op" id="2364396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364402">if</span>&nbsp;<span class="ident" id="2364405">typ</span>&nbsp;<span class="op" id="2364409">==</span>&nbsp;<span class="builtintype" id="2364412">nil</span>&nbsp;<span class="op" id="2364416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364423">p</span><span class="op" id="2364424">.</span><span class="ident" id="2364425">buf</span><span class="op" id="2364428">.</span><span class="ident" id="2364429">WriteString</span><span class="op" id="2364440">(</span><span class="string" id="2364441">&#34;[]byte(nil)&#34;</span><span class="op" id="2364454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364460">}</span>&nbsp;<span class="keyword" id="2364462">else</span>&nbsp;<span class="op" id="2364467">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364474">p</span><span class="op" id="2364475">.</span><span class="ident" id="2364476">buf</span><span class="op" id="2364479">.</span><span class="ident" id="2364480">WriteString</span><span class="op" id="2364491">(</span><span class="ident" id="2364492">typ</span><span class="op" id="2364495">.</span><span class="ident" id="2364496">String</span><span class="op" id="2364502">(</span><span class="op" id="2364503">)</span><span class="op" id="2364504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364511">p</span><span class="op" id="2364512">.</span><span class="ident" id="2364513">buf</span><span class="op" id="2364516">.</span><span class="ident" id="2364517">Write</span><span class="op" id="2364522">(</span><span class="ident" id="2364523">nilParenBytes</span><span class="op" id="2364536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364548">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364558">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364563">if</span>&nbsp;<span class="ident" id="2364566">typ</span>&nbsp;<span class="op" id="2364570">==</span>&nbsp;<span class="builtintype" id="2364573">nil</span>&nbsp;<span class="op" id="2364577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364583">p</span><span class="op" id="2364584">.</span><span class="ident" id="2364585">buf</span><span class="op" id="2364588">.</span><span class="ident" id="2364589">Write</span><span class="op" id="2364594">(</span><span class="ident" id="2364595">bytesBytes</span><span class="op" id="2364605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364610">}</span>&nbsp;<span class="keyword" id="2364612">else</span>&nbsp;<span class="op" id="2364617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364623">p</span><span class="op" id="2364624">.</span><span class="ident" id="2364625">buf</span><span class="op" id="2364628">.</span><span class="ident" id="2364629">WriteString</span><span class="op" id="2364640">(</span><span class="ident" id="2364641">typ</span><span class="op" id="2364644">.</span><span class="ident" id="2364645">String</span><span class="op" id="2364651">(</span><span class="op" id="2364652">)</span><span class="op" id="2364653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364659">p</span><span class="op" id="2364660">.</span><span class="ident" id="2364661">buf</span><span class="op" id="2364664">.</span><span class="ident" id="2364665">WriteByte</span><span class="op" id="2364674">(</span><span class="string" id="2364675">&#39;{&#39;</span><span class="op" id="2364678">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364687">}</span>&nbsp;<span class="keyword" id="2364689">else</span>&nbsp;<span class="op" id="2364694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364699">p</span><span class="op" id="2364700">.</span><span class="ident" id="2364701">buf</span><span class="op" id="2364704">.</span><span class="ident" id="2364705">WriteByte</span><span class="op" id="2364714">(</span><span class="string" id="2364715">&#39;[&#39;</span><span class="op" id="2364718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364726">for</span>&nbsp;<span class="ident" id="2364730">i</span><span class="op" id="2364731">,</span>&nbsp;<span class="ident" id="2364733">c</span>&nbsp;<span class="op" id="2364735">:=</span>&nbsp;<span class="keyword" id="2364738">range</span>&nbsp;<span class="ident" id="2364744">v</span>&nbsp;<span class="op" id="2364746">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364751">if</span>&nbsp;<span class="ident" id="2364754">i</span>&nbsp;<span class="op" id="2364756">&gt;</span>&nbsp;<span class="num" id="2364758">0</span>&nbsp;<span class="op" id="2364760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364766">if</span>&nbsp;<span class="ident" id="2364769">p</span><span class="op" id="2364770">.</span><span class="ident" id="2364771">fmt</span><span class="op" id="2364774">.</span><span class="ident" id="2364775">sharpV</span>&nbsp;<span class="op" id="2364782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364789">p</span><span class="op" id="2364790">.</span><span class="ident" id="2364791">buf</span><span class="op" id="2364794">.</span><span class="ident" id="2364795">Write</span><span class="op" id="2364800">(</span><span class="ident" id="2364801">commaSpaceBytes</span><span class="op" id="2364816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364822">}</span>&nbsp;<span class="keyword" id="2364824">else</span>&nbsp;<span class="op" id="2364829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364836">p</span><span class="op" id="2364837">.</span><span class="ident" id="2364838">buf</span><span class="op" id="2364841">.</span><span class="ident" id="2364842">WriteByte</span><span class="op" id="2364851">(</span><span class="string" id="2364852">&#39;&nbsp;&#39;</span><span class="op" id="2364855">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364871">p</span><span class="op" id="2364872">.</span><span class="ident" id="2364873">printArg</span><span class="op" id="2364881">(</span><span class="ident" id="2364882">c</span><span class="op" id="2364883">,</span>&nbsp;<span class="string" id="2364885">&#39;v&#39;</span><span class="op" id="2364888">,</span>&nbsp;<span class="ident" id="2364890">depth</span><span class="op" id="2364895">+</span><span class="num" id="2364896">1</span><span class="op" id="2364897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364905">if</span>&nbsp;<span class="ident" id="2364908">p</span><span class="op" id="2364909">.</span><span class="ident" id="2364910">fmt</span><span class="op" id="2364913">.</span><span class="ident" id="2364914">sharpV</span>&nbsp;<span class="op" id="2364921">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364926">p</span><span class="op" id="2364927">.</span><span class="ident" id="2364928">buf</span><span class="op" id="2364931">.</span><span class="ident" id="2364932">WriteByte</span><span class="op" id="2364941">(</span><span class="string" id="2364942">&#39;}&#39;</span><span class="op" id="2364945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364949">}</span>&nbsp;<span class="keyword" id="2364951">else</span>&nbsp;<span class="op" id="2364956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364961">p</span><span class="op" id="2364962">.</span><span class="ident" id="2364963">buf</span><span class="op" id="2364966">.</span><span class="ident" id="2364967">WriteByte</span><span class="op" id="2364976">(</span><span class="string" id="2364977">&#39;]&#39;</span><span class="op" id="2364980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364988">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364999">switch</span>&nbsp;<span class="ident" id="2365006">verb</span>&nbsp;<span class="op" id="2365011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365014">case</span>&nbsp;<span class="string" id="2365019">&#39;s&#39;</span><span class="op" id="2365022">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365026">p</span><span class="op" id="2365027">.</span><span class="ident" id="2365028">fmt</span><span class="op" id="2365031">.</span><span class="ident" id="2365032">fmt_s</span><span class="op" id="2365037">(</span><span class="builtintype" id="2365038">string</span><span class="op" id="2365044">(</span><span class="ident" id="2365045">v</span><span class="op" id="2365046">)</span><span class="op" id="2365047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365050">case</span>&nbsp;<span class="string" id="2365055">&#39;x&#39;</span><span class="op" id="2365058">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365062">p</span><span class="op" id="2365063">.</span><span class="ident" id="2365064">fmt</span><span class="op" id="2365067">.</span><span class="ident" id="2365068">fmt_bx</span><span class="op" id="2365074">(</span><span class="ident" id="2365075">v</span><span class="op" id="2365076">,</span>&nbsp;<span class="ident" id="2365078">ldigits</span><span class="op" id="2365085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365088">case</span>&nbsp;<span class="string" id="2365093">&#39;X&#39;</span><span class="op" id="2365096">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365100">p</span><span class="op" id="2365101">.</span><span class="ident" id="2365102">fmt</span><span class="op" id="2365105">.</span><span class="ident" id="2365106">fmt_bx</span><span class="op" id="2365112">(</span><span class="ident" id="2365113">v</span><span class="op" id="2365114">,</span>&nbsp;<span class="ident" id="2365116">udigits</span><span class="op" id="2365123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365126">case</span>&nbsp;<span class="string" id="2365131">&#39;q&#39;</span><span class="op" id="2365134">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365138">p</span><span class="op" id="2365139">.</span><span class="ident" id="2365140">fmt</span><span class="op" id="2365143">.</span><span class="ident" id="2365144">fmt_q</span><span class="op" id="2365149">(</span><span class="builtintype" id="2365150">string</span><span class="op" id="2365156">(</span><span class="ident" id="2365157">v</span><span class="op" id="2365158">)</span><span class="op" id="2365159">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365162">default</span><span class="op" id="2365169">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365173">p</span><span class="op" id="2365174">.</span><span class="ident" id="2365175">badVerb</span><span class="op" id="2365182">(</span><span class="ident" id="2365183">verb</span><span class="op" id="2365187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365190">}</span><br>
<span class="lineno"></span><span class="op" id="2365192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="2365195">func</span>&nbsp;<span class="op" id="2365200">(</span><span class="ident" id="2365201">p</span>&nbsp;<span class="op" id="2365203">*</span><span class="ident" id="2365204">pp</span><span class="op" id="2365206">)</span>&nbsp;<span class="ident" id="2365208">fmtPointer</span><span class="op" id="2365218">(</span><span class="ident" id="2365219">value</span>&nbsp;<span class="ident" id="2365225">reflect</span><span class="op" id="2365232">.</span><span class="ident" id="2365233">Value</span><span class="op" id="2365238">,</span>&nbsp;<span class="ident" id="2365240">verb</span>&nbsp;<span class="builtintype" id="2365245">rune</span><span class="op" id="2365249">)</span>&nbsp;<span class="op" id="2365251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365254">use0x64</span>&nbsp;<span class="op" id="2365262">:=</span>&nbsp;<span class="builtintype" id="2365265">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365271">switch</span>&nbsp;<span class="ident" id="2365278">verb</span>&nbsp;<span class="op" id="2365283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365286">case</span>&nbsp;<span class="string" id="2365291">&#39;p&#39;</span><span class="op" id="2365294">,</span>&nbsp;<span class="string" id="2365296">&#39;v&#39;</span><span class="op" id="2365299">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2365303">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365310">case</span>&nbsp;<span class="string" id="2365315">&#39;b&#39;</span><span class="op" id="2365318">,</span>&nbsp;<span class="string" id="2365320">&#39;d&#39;</span><span class="op" id="2365323">,</span>&nbsp;<span class="string" id="2365325">&#39;o&#39;</span><span class="op" id="2365328">,</span>&nbsp;<span class="string" id="2365330">&#39;x&#39;</span><span class="op" id="2365333">,</span>&nbsp;<span class="string" id="2365335">&#39;X&#39;</span><span class="op" id="2365338">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365342">use0x64</span>&nbsp;<span class="op" id="2365350">=</span>&nbsp;<span class="builtintype" id="2365352">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2365360">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365367">default</span><span class="op" id="2365374">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365378">p</span><span class="op" id="2365379">.</span><span class="ident" id="2365380">badVerb</span><span class="op" id="2365387">(</span><span class="ident" id="2365388">verb</span><span class="op" id="2365392">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365396">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365408">var</span>&nbsp;<span class="ident" id="2365412">u</span>&nbsp;<span class="builtintype" id="2365414">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365423">switch</span>&nbsp;<span class="ident" id="2365430">value</span><span class="op" id="2365435">.</span><span class="ident" id="2365436">Kind</span><span class="op" id="2365440">(</span><span class="op" id="2365441">)</span>&nbsp;<span class="op" id="2365443">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365446">case</span>&nbsp;<span class="ident" id="2365451">reflect</span><span class="op" id="2365458">.</span><span class="ident" id="2365459">Chan</span><span class="op" id="2365463">,</span>&nbsp;<span class="ident" id="2365465">reflect</span><span class="op" id="2365472">.</span><span class="ident" id="2365473">Func</span><span class="op" id="2365477">,</span>&nbsp;<span class="ident" id="2365479">reflect</span><span class="op" id="2365486">.</span><span class="ident" id="2365487">Map</span><span class="op" id="2365490">,</span>&nbsp;<span class="ident" id="2365492">reflect</span><span class="op" id="2365499">.</span><span class="ident" id="2365500">Ptr</span><span class="op" id="2365503">,</span>&nbsp;<span class="ident" id="2365505">reflect</span><span class="op" id="2365512">.</span><span class="ident" id="2365513">Slice</span><span class="op" id="2365518">,</span>&nbsp;<span class="ident" id="2365520">reflect</span><span class="op" id="2365527">.</span><span class="ident" id="2365528">UnsafePointer</span><span class="op" id="2365541">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365545">u</span>&nbsp;<span class="op" id="2365547">=</span>&nbsp;<span class="ident" id="2365549">value</span><span class="op" id="2365554">.</span><span class="ident" id="2365555">Pointer</span><span class="op" id="2365562">(</span><span class="op" id="2365563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365566">default</span><span class="op" id="2365573">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365577">p</span><span class="op" id="2365578">.</span><span class="ident" id="2365579">badVerb</span><span class="op" id="2365586">(</span><span class="ident" id="2365587">verb</span><span class="op" id="2365591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365595">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365607">if</span>&nbsp;<span class="ident" id="2365610">p</span><span class="op" id="2365611">.</span><span class="ident" id="2365612">fmt</span><span class="op" id="2365615">.</span><span class="ident" id="2365616">sharpV</span>&nbsp;<span class="op" id="2365623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365627">p</span><span class="op" id="2365628">.</span><span class="ident" id="2365629">add</span><span class="op" id="2365632">(</span><span class="string" id="2365633">&#39;(&#39;</span><span class="op" id="2365636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365640">p</span><span class="op" id="2365641">.</span><span class="ident" id="2365642">buf</span><span class="op" id="2365645">.</span><span class="ident" id="2365646">WriteString</span><span class="op" id="2365657">(</span><span class="ident" id="2365658">value</span><span class="op" id="2365663">.</span><span class="ident" id="2365664">Type</span><span class="op" id="2365668">(</span><span class="op" id="2365669">)</span><span class="op" id="2365670">.</span><span class="ident" id="2365671">String</span><span class="op" id="2365677">(</span><span class="op" id="2365678">)</span><span class="op" id="2365679">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365683">p</span><span class="op" id="2365684">.</span><span class="ident" id="2365685">add</span><span class="op" id="2365688">(</span><span class="string" id="2365689">&#39;)&#39;</span><span class="op" id="2365692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365696">p</span><span class="op" id="2365697">.</span><span class="ident" id="2365698">add</span><span class="op" id="2365701">(</span><span class="string" id="2365702">&#39;(&#39;</span><span class="op" id="2365705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365709">if</span>&nbsp;<span class="ident" id="2365712">u</span>&nbsp;<span class="op" id="2365714">==</span>&nbsp;<span class="num" id="2365717">0</span>&nbsp;<span class="op" id="2365719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365724">p</span><span class="op" id="2365725">.</span><span class="ident" id="2365726">buf</span><span class="op" id="2365729">.</span><span class="ident" id="2365730">Write</span><span class="op" id="2365735">(</span><span class="ident" id="2365736">nilBytes</span><span class="op" id="2365744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365748">}</span>&nbsp;<span class="keyword" id="2365750">else</span>&nbsp;<span class="op" id="2365755">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365760">p</span><span class="op" id="2365761">.</span><span class="ident" id="2365762">fmt0x64</span><span class="op" id="2365769">(</span><span class="ident" id="2365770">uint64</span><span class="op" id="2365776">(</span><span class="ident" id="2365777">u</span><span class="op" id="2365778">)</span><span class="op" id="2365779">,</span>&nbsp;<span class="builtintype" id="2365781">true</span><span class="op" id="2365785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365793">p</span><span class="op" id="2365794">.</span><span class="ident" id="2365795">add</span><span class="op" id="2365798">(</span><span class="string" id="2365799">&#39;)&#39;</span><span class="op" id="2365802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365805">}</span>&nbsp;<span class="keyword" id="2365807">else</span>&nbsp;<span class="keyword" id="2365812">if</span>&nbsp;<span class="ident" id="2365815">verb</span>&nbsp;<span class="op" id="2365820">==</span>&nbsp;<span class="string" id="2365823">&#39;v&#39;</span>&nbsp;<span class="op" id="2365827">&amp;&amp;</span>&nbsp;<span class="ident" id="2365830">u</span>&nbsp;<span class="op" id="2365832">==</span>&nbsp;<span class="num" id="2365835">0</span>&nbsp;<span class="op" id="2365837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365841">p</span><span class="op" id="2365842">.</span><span class="ident" id="2365843">buf</span><span class="op" id="2365846">.</span><span class="ident" id="2365847">Write</span><span class="op" id="2365852">(</span><span class="ident" id="2365853">nilAngleBytes</span><span class="op" id="2365866">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365869">}</span>&nbsp;<span class="keyword" id="2365871">else</span>&nbsp;<span class="op" id="2365876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365880">if</span>&nbsp;<span class="ident" id="2365883">use0x64</span>&nbsp;<span class="op" id="2365891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365896">p</span><span class="op" id="2365897">.</span><span class="ident" id="2365898">fmt0x64</span><span class="op" id="2365905">(</span><span class="ident" id="2365906">uint64</span><span class="op" id="2365912">(</span><span class="ident" id="2365913">u</span><span class="op" id="2365914">)</span><span class="op" id="2365915">,</span>&nbsp;<span class="op" id="2365917">!</span><span class="ident" id="2365918">p</span><span class="op" id="2365919">.</span><span class="ident" id="2365920">fmt</span><span class="op" id="2365923">.</span><span class="ident" id="2365924">sharp</span><span class="op" id="2365929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365933">}</span>&nbsp;<span class="keyword" id="2365935">else</span>&nbsp;<span class="op" id="2365940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365945">p</span><span class="op" id="2365946">.</span><span class="ident" id="2365947">fmtUint64</span><span class="op" id="2365956">(</span><span class="ident" id="2365957">uint64</span><span class="op" id="2365963">(</span><span class="ident" id="2365964">u</span><span class="op" id="2365965">)</span><span class="op" id="2365966">,</span>&nbsp;<span class="ident" id="2365968">verb</span><span class="op" id="2365972">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365979">}</span><br>
<span class="lineno"></span><span class="op" id="2365981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2365984">var</span>&nbsp;<span class="op" id="2365988">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365991">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366003">=</span>&nbsp;<span class="ident" id="2366005">reflect</span><span class="op" id="2366012">.</span><span class="ident" id="2366013">TypeOf</span><span class="op" id="2366019">(</span><span class="num" id="2366020">0</span><span class="op" id="2366021">)</span><span class="op" id="2366022">.</span><span class="ident" id="2366023">Bits</span><span class="op" id="2366027">(</span><span class="op" id="2366028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2366031">uintptrBits</span>&nbsp;<span class="op" id="2366043">=</span>&nbsp;<span class="ident" id="2366045">reflect</span><span class="op" id="2366052">.</span><span class="ident" id="2366053">TypeOf</span><span class="op" id="2366059">(</span><span class="builtintype" id="2366060">uintptr</span><span class="op" id="2366067">(</span><span class="num" id="2366068">0</span><span class="op" id="2366069">)</span><span class="op" id="2366070">)</span><span class="op" id="2366071">.</span><span class="ident" id="2366072">Bits</span><span class="op" id="2366076">(</span><span class="op" id="2366077">)</span><br>
<span class="lineno"></span><span class="op" id="2366079">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2366082">func</span>&nbsp;<span class="op" id="2366087">(</span><span class="ident" id="2366088">p</span>&nbsp;<span class="op" id="2366090">*</span><span class="ident" id="2366091">pp</span><span class="op" id="2366093">)</span>&nbsp;<span class="ident" id="2366095">catchPanic</span><span class="op" id="2366105">(</span><span class="ident" id="2366106">arg</span>&nbsp;<span class="keyword" id="2366110">interface</span><span class="op" id="2366119">{</span><span class="op" id="2366120">}</span><span class="op" id="2366121">,</span>&nbsp;<span class="ident" id="2366123">verb</span>&nbsp;<span class="builtintype" id="2366128">rune</span><span class="op" id="2366132">)</span>&nbsp;<span class="op" id="2366134">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2366137">if</span>&nbsp;<span class="ident" id="2366140">err</span>&nbsp;<span class="op" id="2366144">:=</span>&nbsp;<span class="builtinfunc" id="2366147">recover</span><span class="op" id="2366154">(</span><span class="op" id="2366155">)</span><span class="op" id="2366156">;</span>&nbsp;<span class="ident" id="2366158">err</span>&nbsp;<span class="op" id="2366162">!=</span>&nbsp;<span class="builtintype" id="2366165">nil</span>&nbsp;<span class="op" id="2366169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2366173">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2366246">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2366315">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2366382">if</span>&nbsp;<span class="ident" id="2366385">v</span>&nbsp;<span class="op" id="2366387">:=</span>&nbsp;<span class="ident" id="2366390">reflect</span><span class="op" id="2366397">.</span><span class="ident" id="2366398">ValueOf</span><span class="op" id="2366405">(</span><span class="ident" id="2366406">arg</span><span class="op" id="2366409">)</span><span class="op" id="2366410">;</span>&nbsp;<span class="ident" id="2366412">v</span><span class="op" id="2366413">.</span><span class="ident" id="2366414">Kind</span><span class="op" id="2366418">(</span><span class="op" id="2366419">)</span>&nbsp;<span class="op" id="2366421">==</span>&nbsp;<span class="ident" id="2366424">reflect</span><span class="op" id="2366431">.</span><span class="ident" id="2366432">Ptr</span>&nbsp;<span class="op" id="2366436">&amp;&amp;</span>&nbsp;<span class="ident" id="2366439">v</span><span class="op" id="2366440">.</span><span class="ident" id="2366441">IsNil</span><span class="op" id="2366446">(</span><span class="op" id="2366447">)</span>&nbsp;<span class="op" id="2366449">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2366454">p</span><span class="op" id="2366455">.</span><span class="ident" id="2366456">buf</span><span class="op" id="2366459">.</span><span class="ident" id="2366460">Write</span><span class="op" id="2366465">(</span><span class="ident" id="2366466">nilAngleBytes</span><span class="op" id="2366479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2366484">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2366497">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2366570">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2366607">if</span>&nbsp;<span class="ident" id="2366610">p</span><span class="op" id="2366611">.</span><span class="ident" id="2366612">panicking</span>&nbsp;<span class="op" id="2366622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2366627">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2366690">panic</span><span class="op" id="2366695">(</span><span class="ident" id="2366696">err</span><span class="op" id="2366699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2366707">p</span><span class="op" id="2366708">.</span><span class="ident" id="2366709">fmt</span><span class="op" id="2366712">.</span><span class="ident" id="2366713">clearflags</span><span class="op" id="2366723">(</span><span class="op" id="2366724">)</span>&nbsp;<span class="comment" id="2366726">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2366790">p</span><span class="op" id="2366791">.</span><span class="ident" id="2366792">buf</span><span class="op" id="2366795">.</span><span class="ident" id="2366796">Write</span><span class="op" id="2366801">(</span><span class="ident" id="2366802">percentBangBytes</span><span class="op" id="2366818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2366822">p</span><span class="op" id="2366823">.</span><span class="ident" id="2366824">add</span><span class="op" id="2366827">(</span><span class="ident" id="2366828">verb</span><span class="op" id="2366832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2366836">p</span><span class="op" id="2366837">.</span><span class="ident" id="2366838">buf</span><span class="op" id="2366841">.</span><span class="ident" id="2366842">Write</span><span class="op" id="2366847">(</span><span class="ident" id="2366848">panicBytes</span><span class="op" id="2366858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2366862">p</span><span class="op" id="2366863">.</span><span class="ident" id="2366864">panicking</span>&nbsp;<span class="op" id="2366874">=</span>&nbsp;<span class="builtintype" id="2366876">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2366883">p</span><span class="op" id="2366884">.</span><span class="ident" id="2366885">printArg</span><span class="op" id="2366893">(</span><span class="ident" id="2366894">err</span><span class="op" id="2366897">,</span>&nbsp;<span class="string" id="2366899">&#39;v&#39;</span><span class="op" id="2366902">,</span>&nbsp;<span class="num" id="2366904">0</span><span class="op" id="2366905">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2366909">p</span><span class="op" id="2366910">.</span><span class="ident" id="2366911">panicking</span>&nbsp;<span class="op" id="2366921">=</span>&nbsp;<span class="builtintype" id="2366923">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2366931">p</span><span class="op" id="2366932">.</span><span class="ident" id="2366933">buf</span><span class="op" id="2366936">.</span><span class="ident" id="2366937">WriteByte</span><span class="op" id="2366946">(</span><span class="string" id="2366947">&#39;)&#39;</span><span class="op" id="2366950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366953">}</span><br>
<span class="lineno"></span><span class="op" id="2366955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2366958">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="2367047">func</span>&nbsp;<span class="op" id="2367052">(</span><span class="ident" id="2367053">p</span>&nbsp;<span class="op" id="2367055">*</span><span class="ident" id="2367056">pp</span><span class="op" id="2367058">)</span>&nbsp;<span class="ident" id="2367060">clearSpecialFlags</span><span class="op" id="2367077">(</span><span class="op" id="2367078">)</span>&nbsp;<span class="op" id="2367080">(</span><span class="ident" id="2367081">plusV</span><span class="op" id="2367086">,</span>&nbsp;<span class="ident" id="2367088">sharpV</span>&nbsp;<span class="builtintype" id="2367095">bool</span><span class="op" id="2367099">)</span>&nbsp;<span class="op" id="2367101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367104">plusV</span>&nbsp;<span class="op" id="2367110">=</span>&nbsp;<span class="ident" id="2367112">p</span><span class="op" id="2367113">.</span><span class="ident" id="2367114">fmt</span><span class="op" id="2367117">.</span><span class="ident" id="2367118">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367125">if</span>&nbsp;<span class="ident" id="2367128">plusV</span>&nbsp;<span class="op" id="2367134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367138">p</span><span class="op" id="2367139">.</span><span class="ident" id="2367140">fmt</span><span class="op" id="2367143">.</span><span class="ident" id="2367144">plus</span>&nbsp;<span class="op" id="2367149">=</span>&nbsp;<span class="builtintype" id="2367151">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367158">p</span><span class="op" id="2367159">.</span><span class="ident" id="2367160">fmt</span><span class="op" id="2367163">.</span><span class="ident" id="2367164">plusV</span>&nbsp;<span class="op" id="2367170">=</span>&nbsp;<span class="builtintype" id="2367172">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367182">sharpV</span>&nbsp;<span class="op" id="2367189">=</span>&nbsp;<span class="ident" id="2367191">p</span><span class="op" id="2367192">.</span><span class="ident" id="2367193">fmt</span><span class="op" id="2367196">.</span><span class="ident" id="2367197">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367205">if</span>&nbsp;<span class="ident" id="2367208">sharpV</span>&nbsp;<span class="op" id="2367215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367219">p</span><span class="op" id="2367220">.</span><span class="ident" id="2367221">fmt</span><span class="op" id="2367224">.</span><span class="ident" id="2367225">sharp</span>&nbsp;<span class="op" id="2367231">=</span>&nbsp;<span class="builtintype" id="2367233">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367240">p</span><span class="op" id="2367241">.</span><span class="ident" id="2367242">fmt</span><span class="op" id="2367245">.</span><span class="ident" id="2367246">sharpV</span>&nbsp;<span class="op" id="2367253">=</span>&nbsp;<span class="builtintype" id="2367255">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367265">return</span><br>
<span class="lineno"></span><span class="op" id="2367272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="2367275">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="2367353">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="2367408">func</span>&nbsp;<span class="op" id="2367413">(</span><span class="ident" id="2367414">p</span>&nbsp;<span class="op" id="2367416">*</span><span class="ident" id="2367417">pp</span><span class="op" id="2367419">)</span>&nbsp;<span class="ident" id="2367421">restoreSpecialFlags</span><span class="op" id="2367440">(</span><span class="ident" id="2367441">plusV</span><span class="op" id="2367446">,</span>&nbsp;<span class="ident" id="2367448">sharpV</span>&nbsp;<span class="builtintype" id="2367455">bool</span><span class="op" id="2367459">)</span>&nbsp;<span class="op" id="2367461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367464">if</span>&nbsp;<span class="ident" id="2367467">plusV</span>&nbsp;<span class="op" id="2367473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367477">p</span><span class="op" id="2367478">.</span><span class="ident" id="2367479">fmt</span><span class="op" id="2367482">.</span><span class="ident" id="2367483">plus</span>&nbsp;<span class="op" id="2367488">=</span>&nbsp;<span class="builtintype" id="2367490">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367498">p</span><span class="op" id="2367499">.</span><span class="ident" id="2367500">fmt</span><span class="op" id="2367503">.</span><span class="ident" id="2367504">plusV</span>&nbsp;<span class="op" id="2367510">=</span>&nbsp;<span class="builtintype" id="2367512">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367521">if</span>&nbsp;<span class="ident" id="2367524">sharpV</span>&nbsp;<span class="op" id="2367531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367535">p</span><span class="op" id="2367536">.</span><span class="ident" id="2367537">fmt</span><span class="op" id="2367540">.</span><span class="ident" id="2367541">sharp</span>&nbsp;<span class="op" id="2367547">=</span>&nbsp;<span class="builtintype" id="2367549">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367557">p</span><span class="op" id="2367558">.</span><span class="ident" id="2367559">fmt</span><span class="op" id="2367562">.</span><span class="ident" id="2367563">sharpV</span>&nbsp;<span class="op" id="2367570">=</span>&nbsp;<span class="builtintype" id="2367572">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367578">}</span><br>
<span class="lineno"></span><span class="op" id="2367580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2367583">func</span>&nbsp;<span class="op" id="2367588">(</span><span class="ident" id="2367589">p</span>&nbsp;<span class="op" id="2367591">*</span><span class="ident" id="2367592">pp</span><span class="op" id="2367594">)</span>&nbsp;<span class="ident" id="2367596">handleMethods</span><span class="op" id="2367609">(</span><span class="ident" id="2367610">verb</span>&nbsp;<span class="builtintype" id="2367615">rune</span><span class="op" id="2367619">,</span>&nbsp;<span class="ident" id="2367621">depth</span>&nbsp;<span class="builtintype" id="2367627">int</span><span class="op" id="2367630">)</span>&nbsp;<span class="op" id="2367632">(</span><span class="ident" id="2367633">handled</span>&nbsp;<span class="builtintype" id="2367641">bool</span><span class="op" id="2367645">)</span>&nbsp;<span class="op" id="2367647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367650">if</span>&nbsp;<span class="ident" id="2367653">p</span><span class="op" id="2367654">.</span><span class="ident" id="2367655">erroring</span>&nbsp;<span class="op" id="2367664">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367668">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2367679">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367702">if</span>&nbsp;<span class="ident" id="2367705">formatter</span><span class="op" id="2367714">,</span>&nbsp;<span class="ident" id="2367716">ok</span>&nbsp;<span class="op" id="2367719">:=</span>&nbsp;<span class="ident" id="2367722">p</span><span class="op" id="2367723">.</span><span class="ident" id="2367724">arg</span><span class="op" id="2367727">.</span><span class="op" id="2367728">(</span><span class="ident" id="2367729">Formatter</span><span class="op" id="2367738">)</span><span class="op" id="2367739">;</span>&nbsp;<span class="ident" id="2367741">ok</span>&nbsp;<span class="op" id="2367744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367748">handled</span>&nbsp;<span class="op" id="2367756">=</span>&nbsp;<span class="builtintype" id="2367758">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367765">defer</span>&nbsp;<span class="ident" id="2367771">p</span><span class="op" id="2367772">.</span><span class="ident" id="2367773">restoreSpecialFlags</span><span class="op" id="2367792">(</span><span class="ident" id="2367793">p</span><span class="op" id="2367794">.</span><span class="ident" id="2367795">clearSpecialFlags</span><span class="op" id="2367812">(</span><span class="op" id="2367813">)</span><span class="op" id="2367814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367818">defer</span>&nbsp;<span class="ident" id="2367824">p</span><span class="op" id="2367825">.</span><span class="ident" id="2367826">catchPanic</span><span class="op" id="2367836">(</span><span class="ident" id="2367837">p</span><span class="op" id="2367838">.</span><span class="ident" id="2367839">arg</span><span class="op" id="2367842">,</span>&nbsp;<span class="ident" id="2367844">verb</span><span class="op" id="2367848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2367852">formatter</span><span class="op" id="2367861">.</span><span class="ident" id="2367862">Format</span><span class="op" id="2367868">(</span><span class="ident" id="2367869">p</span><span class="op" id="2367870">,</span>&nbsp;<span class="ident" id="2367872">verb</span><span class="op" id="2367876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367880">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367888">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2367892">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2367983">if</span>&nbsp;<span class="ident" id="2367986">p</span><span class="op" id="2367987">.</span><span class="ident" id="2367988">fmt</span><span class="op" id="2367991">.</span><span class="ident" id="2367992">sharpV</span>&nbsp;<span class="op" id="2367999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368003">if</span>&nbsp;<span class="ident" id="2368006">stringer</span><span class="op" id="2368014">,</span>&nbsp;<span class="ident" id="2368016">ok</span>&nbsp;<span class="op" id="2368019">:=</span>&nbsp;<span class="ident" id="2368022">p</span><span class="op" id="2368023">.</span><span class="ident" id="2368024">arg</span><span class="op" id="2368027">.</span><span class="op" id="2368028">(</span><span class="ident" id="2368029">GoStringer</span><span class="op" id="2368039">)</span><span class="op" id="2368040">;</span>&nbsp;<span class="ident" id="2368042">ok</span>&nbsp;<span class="op" id="2368045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2368050">handled</span>&nbsp;<span class="op" id="2368058">=</span>&nbsp;<span class="builtintype" id="2368060">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368068">defer</span>&nbsp;<span class="ident" id="2368074">p</span><span class="op" id="2368075">.</span><span class="ident" id="2368076">catchPanic</span><span class="op" id="2368086">(</span><span class="ident" id="2368087">p</span><span class="op" id="2368088">.</span><span class="ident" id="2368089">arg</span><span class="op" id="2368092">,</span>&nbsp;<span class="ident" id="2368094">verb</span><span class="op" id="2368098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368103">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2368149">p</span><span class="op" id="2368150">.</span><span class="ident" id="2368151">fmt</span><span class="op" id="2368154">.</span><span class="ident" id="2368155">fmt_s</span><span class="op" id="2368160">(</span><span class="ident" id="2368161">stringer</span><span class="op" id="2368169">.</span><span class="ident" id="2368170">GoString</span><span class="op" id="2368178">(</span><span class="op" id="2368179">)</span><span class="op" id="2368180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368185">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368194">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368197">}</span>&nbsp;<span class="keyword" id="2368199">else</span>&nbsp;<span class="op" id="2368204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368208">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368271">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368333">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368390">switch</span>&nbsp;<span class="ident" id="2368397">verb</span>&nbsp;<span class="op" id="2368402">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368406">case</span>&nbsp;<span class="string" id="2368411">&#39;v&#39;</span><span class="op" id="2368414">,</span>&nbsp;<span class="string" id="2368416">&#39;s&#39;</span><span class="op" id="2368419">,</span>&nbsp;<span class="string" id="2368421">&#39;x&#39;</span><span class="op" id="2368424">,</span>&nbsp;<span class="string" id="2368426">&#39;X&#39;</span><span class="op" id="2368429">,</span>&nbsp;<span class="string" id="2368431">&#39;q&#39;</span><span class="op" id="2368434">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368439">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368473">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368523">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368570">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368615">switch</span>&nbsp;<span class="ident" id="2368622">v</span>&nbsp;<span class="op" id="2368624">:=</span>&nbsp;<span class="ident" id="2368627">p</span><span class="op" id="2368628">.</span><span class="ident" id="2368629">arg</span><span class="op" id="2368632">.</span><span class="op" id="2368633">(</span><span class="keyword" id="2368634">type</span><span class="op" id="2368638">)</span>&nbsp;<span class="op" id="2368640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368645">case</span>&nbsp;<span class="builtintype" id="2368650">error</span><span class="op" id="2368655">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2368661">handled</span>&nbsp;<span class="op" id="2368669">=</span>&nbsp;<span class="builtintype" id="2368671">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368680">defer</span>&nbsp;<span class="ident" id="2368686">p</span><span class="op" id="2368687">.</span><span class="ident" id="2368688">catchPanic</span><span class="op" id="2368698">(</span><span class="ident" id="2368699">p</span><span class="op" id="2368700">.</span><span class="ident" id="2368701">arg</span><span class="op" id="2368704">,</span>&nbsp;<span class="ident" id="2368706">verb</span><span class="op" id="2368710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2368716">p</span><span class="op" id="2368717">.</span><span class="ident" id="2368718">printArg</span><span class="op" id="2368726">(</span><span class="ident" id="2368727">v</span><span class="op" id="2368728">.</span><span class="ident" id="2368729">Error</span><span class="op" id="2368734">(</span><span class="op" id="2368735">)</span><span class="op" id="2368736">,</span>&nbsp;<span class="ident" id="2368738">verb</span><span class="op" id="2368742">,</span>&nbsp;<span class="ident" id="2368744">depth</span><span class="op" id="2368749">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368755">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368766">case</span>&nbsp;<span class="ident" id="2368771">Stringer</span><span class="op" id="2368779">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2368785">handled</span>&nbsp;<span class="op" id="2368793">=</span>&nbsp;<span class="builtintype" id="2368795">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368804">defer</span>&nbsp;<span class="ident" id="2368810">p</span><span class="op" id="2368811">.</span><span class="ident" id="2368812">catchPanic</span><span class="op" id="2368822">(</span><span class="ident" id="2368823">p</span><span class="op" id="2368824">.</span><span class="ident" id="2368825">arg</span><span class="op" id="2368828">,</span>&nbsp;<span class="ident" id="2368830">verb</span><span class="op" id="2368834">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2368840">p</span><span class="op" id="2368841">.</span><span class="ident" id="2368842">printArg</span><span class="op" id="2368850">(</span><span class="ident" id="2368851">v</span><span class="op" id="2368852">.</span><span class="ident" id="2368853">String</span><span class="op" id="2368859">(</span><span class="op" id="2368860">)</span><span class="op" id="2368861">,</span>&nbsp;<span class="ident" id="2368863">verb</span><span class="op" id="2368867">,</span>&nbsp;<span class="ident" id="2368869">depth</span><span class="op" id="2368874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368880">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368897">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2368900">return</span>&nbsp;<span class="builtintype" id="2368907">false</span><br>
<span class="lineno"></span><span class="op" id="2368913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2368916">func</span>&nbsp;<span class="op" id="2368921">(</span><span class="ident" id="2368922">p</span>&nbsp;<span class="op" id="2368924">*</span><span class="ident" id="2368925">pp</span><span class="op" id="2368927">)</span>&nbsp;<span class="ident" id="2368929">printArg</span><span class="op" id="2368937">(</span><span class="ident" id="2368938">arg</span>&nbsp;<span class="keyword" id="2368942">interface</span><span class="op" id="2368951">{</span><span class="op" id="2368952">}</span><span class="op" id="2368953">,</span>&nbsp;<span class="ident" id="2368955">verb</span>&nbsp;<span class="builtintype" id="2368960">rune</span><span class="op" id="2368964">,</span>&nbsp;<span class="ident" id="2368966">depth</span>&nbsp;<span class="builtintype" id="2368972">int</span><span class="op" id="2368975">)</span>&nbsp;<span class="op" id="2368977">(</span><span class="ident" id="2368978">wasString</span>&nbsp;<span class="builtintype" id="2368988">bool</span><span class="op" id="2368992">)</span>&nbsp;<span class="op" id="2368994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2368997">p</span><span class="op" id="2368998">.</span><span class="ident" id="2368999">arg</span>&nbsp;<span class="op" id="2369003">=</span>&nbsp;<span class="ident" id="2369005">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369010">p</span><span class="op" id="2369011">.</span><span class="ident" id="2369012">value</span>&nbsp;<span class="op" id="2369018">=</span>&nbsp;<span class="ident" id="2369020">reflect</span><span class="op" id="2369027">.</span><span class="ident" id="2369028">Value</span><span class="op" id="2369033">{</span><span class="op" id="2369034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369038">if</span>&nbsp;<span class="ident" id="2369041">arg</span>&nbsp;<span class="op" id="2369045">==</span>&nbsp;<span class="builtintype" id="2369048">nil</span>&nbsp;<span class="op" id="2369052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369056">if</span>&nbsp;<span class="ident" id="2369059">verb</span>&nbsp;<span class="op" id="2369064">==</span>&nbsp;<span class="string" id="2369067">&#39;T&#39;</span>&nbsp;<span class="op" id="2369071">||</span>&nbsp;<span class="ident" id="2369074">verb</span>&nbsp;<span class="op" id="2369079">==</span>&nbsp;<span class="string" id="2369082">&#39;v&#39;</span>&nbsp;<span class="op" id="2369086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369091">p</span><span class="op" id="2369092">.</span><span class="ident" id="2369093">fmt</span><span class="op" id="2369096">.</span><span class="ident" id="2369097">pad</span><span class="op" id="2369100">(</span><span class="ident" id="2369101">nilAngleBytes</span><span class="op" id="2369114">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369118">}</span>&nbsp;<span class="keyword" id="2369120">else</span>&nbsp;<span class="op" id="2369125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369130">p</span><span class="op" id="2369131">.</span><span class="ident" id="2369132">badVerb</span><span class="op" id="2369139">(</span><span class="ident" id="2369140">verb</span><span class="op" id="2369144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369152">return</span>&nbsp;<span class="builtintype" id="2369159">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369166">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2369170">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2369209">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369294">switch</span>&nbsp;<span class="ident" id="2369301">verb</span>&nbsp;<span class="op" id="2369306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369309">case</span>&nbsp;<span class="string" id="2369314">&#39;T&#39;</span><span class="op" id="2369317">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369321">p</span><span class="op" id="2369322">.</span><span class="ident" id="2369323">printArg</span><span class="op" id="2369331">(</span><span class="ident" id="2369332">reflect</span><span class="op" id="2369339">.</span><span class="ident" id="2369340">TypeOf</span><span class="op" id="2369346">(</span><span class="ident" id="2369347">arg</span><span class="op" id="2369350">)</span><span class="op" id="2369351">.</span><span class="ident" id="2369352">String</span><span class="op" id="2369358">(</span><span class="op" id="2369359">)</span><span class="op" id="2369360">,</span>&nbsp;<span class="string" id="2369362">&#39;s&#39;</span><span class="op" id="2369365">,</span>&nbsp;<span class="num" id="2369367">0</span><span class="op" id="2369368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369372">return</span>&nbsp;<span class="builtintype" id="2369379">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369386">case</span>&nbsp;<span class="string" id="2369391">&#39;p&#39;</span><span class="op" id="2369394">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369398">p</span><span class="op" id="2369399">.</span><span class="ident" id="2369400">fmtPointer</span><span class="op" id="2369410">(</span><span class="ident" id="2369411">reflect</span><span class="op" id="2369418">.</span><span class="ident" id="2369419">ValueOf</span><span class="op" id="2369426">(</span><span class="ident" id="2369427">arg</span><span class="op" id="2369430">)</span><span class="op" id="2369431">,</span>&nbsp;<span class="ident" id="2369433">verb</span><span class="op" id="2369437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369441">return</span>&nbsp;<span class="builtintype" id="2369448">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2369459">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369506">switch</span>&nbsp;<span class="ident" id="2369513">f</span>&nbsp;<span class="op" id="2369515">:=</span>&nbsp;<span class="ident" id="2369518">arg</span><span class="op" id="2369521">.</span><span class="op" id="2369522">(</span><span class="keyword" id="2369523">type</span><span class="op" id="2369527">)</span>&nbsp;<span class="op" id="2369529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369532">case</span>&nbsp;<span class="builtintype" id="2369537">bool</span><span class="op" id="2369541">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369545">p</span><span class="op" id="2369546">.</span><span class="ident" id="2369547">fmtBool</span><span class="op" id="2369554">(</span><span class="ident" id="2369555">f</span><span class="op" id="2369556">,</span>&nbsp;<span class="ident" id="2369558">verb</span><span class="op" id="2369562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369565">case</span>&nbsp;<span class="builtintype" id="2369570">float32</span><span class="op" id="2369577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369581">p</span><span class="op" id="2369582">.</span><span class="ident" id="2369583">fmtFloat32</span><span class="op" id="2369593">(</span><span class="ident" id="2369594">f</span><span class="op" id="2369595">,</span>&nbsp;<span class="ident" id="2369597">verb</span><span class="op" id="2369601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369604">case</span>&nbsp;<span class="builtintype" id="2369609">float64</span><span class="op" id="2369616">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369620">p</span><span class="op" id="2369621">.</span><span class="ident" id="2369622">fmtFloat64</span><span class="op" id="2369632">(</span><span class="ident" id="2369633">f</span><span class="op" id="2369634">,</span>&nbsp;<span class="ident" id="2369636">verb</span><span class="op" id="2369640">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369643">case</span>&nbsp;<span class="builtintype" id="2369648">complex64</span><span class="op" id="2369657">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369661">p</span><span class="op" id="2369662">.</span><span class="ident" id="2369663">fmtComplex64</span><span class="op" id="2369675">(</span><span class="ident" id="2369676">f</span><span class="op" id="2369677">,</span>&nbsp;<span class="ident" id="2369679">verb</span><span class="op" id="2369683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369686">case</span>&nbsp;<span class="builtintype" id="2369691">complex128</span><span class="op" id="2369701">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369705">p</span><span class="op" id="2369706">.</span><span class="ident" id="2369707">fmtComplex128</span><span class="op" id="2369720">(</span><span class="ident" id="2369721">f</span><span class="op" id="2369722">,</span>&nbsp;<span class="ident" id="2369724">verb</span><span class="op" id="2369728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369731">case</span>&nbsp;<span class="builtintype" id="2369736">int</span><span class="op" id="2369739">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369743">p</span><span class="op" id="2369744">.</span><span class="ident" id="2369745">fmtInt64</span><span class="op" id="2369753">(</span><span class="ident" id="2369754">int64</span><span class="op" id="2369759">(</span><span class="ident" id="2369760">f</span><span class="op" id="2369761">)</span><span class="op" id="2369762">,</span>&nbsp;<span class="ident" id="2369764">verb</span><span class="op" id="2369768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369771">case</span>&nbsp;<span class="builtintype" id="2369776">int8</span><span class="op" id="2369780">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369784">p</span><span class="op" id="2369785">.</span><span class="ident" id="2369786">fmtInt64</span><span class="op" id="2369794">(</span><span class="ident" id="2369795">int64</span><span class="op" id="2369800">(</span><span class="ident" id="2369801">f</span><span class="op" id="2369802">)</span><span class="op" id="2369803">,</span>&nbsp;<span class="ident" id="2369805">verb</span><span class="op" id="2369809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369812">case</span>&nbsp;<span class="builtintype" id="2369817">int16</span><span class="op" id="2369822">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369826">p</span><span class="op" id="2369827">.</span><span class="ident" id="2369828">fmtInt64</span><span class="op" id="2369836">(</span><span class="ident" id="2369837">int64</span><span class="op" id="2369842">(</span><span class="ident" id="2369843">f</span><span class="op" id="2369844">)</span><span class="op" id="2369845">,</span>&nbsp;<span class="ident" id="2369847">verb</span><span class="op" id="2369851">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369854">case</span>&nbsp;<span class="builtintype" id="2369859">int32</span><span class="op" id="2369864">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369868">p</span><span class="op" id="2369869">.</span><span class="ident" id="2369870">fmtInt64</span><span class="op" id="2369878">(</span><span class="ident" id="2369879">int64</span><span class="op" id="2369884">(</span><span class="ident" id="2369885">f</span><span class="op" id="2369886">)</span><span class="op" id="2369887">,</span>&nbsp;<span class="ident" id="2369889">verb</span><span class="op" id="2369893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369896">case</span>&nbsp;<span class="ident" id="2369901">int64</span><span class="op" id="2369906">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369910">p</span><span class="op" id="2369911">.</span><span class="ident" id="2369912">fmtInt64</span><span class="op" id="2369920">(</span><span class="ident" id="2369921">f</span><span class="op" id="2369922">,</span>&nbsp;<span class="ident" id="2369924">verb</span><span class="op" id="2369928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369931">case</span>&nbsp;<span class="builtintype" id="2369936">uint</span><span class="op" id="2369940">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369944">p</span><span class="op" id="2369945">.</span><span class="ident" id="2369946">fmtUint64</span><span class="op" id="2369955">(</span><span class="ident" id="2369956">uint64</span><span class="op" id="2369962">(</span><span class="ident" id="2369963">f</span><span class="op" id="2369964">)</span><span class="op" id="2369965">,</span>&nbsp;<span class="ident" id="2369967">verb</span><span class="op" id="2369971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2369974">case</span>&nbsp;<span class="builtintype" id="2369979">uint8</span><span class="op" id="2369984">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2369988">p</span><span class="op" id="2369989">.</span><span class="ident" id="2369990">fmtUint64</span><span class="op" id="2369999">(</span><span class="ident" id="2370000">uint64</span><span class="op" id="2370006">(</span><span class="ident" id="2370007">f</span><span class="op" id="2370008">)</span><span class="op" id="2370009">,</span>&nbsp;<span class="ident" id="2370011">verb</span><span class="op" id="2370015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370018">case</span>&nbsp;<span class="builtintype" id="2370023">uint16</span><span class="op" id="2370029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370033">p</span><span class="op" id="2370034">.</span><span class="ident" id="2370035">fmtUint64</span><span class="op" id="2370044">(</span><span class="ident" id="2370045">uint64</span><span class="op" id="2370051">(</span><span class="ident" id="2370052">f</span><span class="op" id="2370053">)</span><span class="op" id="2370054">,</span>&nbsp;<span class="ident" id="2370056">verb</span><span class="op" id="2370060">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370063">case</span>&nbsp;<span class="builtintype" id="2370068">uint32</span><span class="op" id="2370074">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370078">p</span><span class="op" id="2370079">.</span><span class="ident" id="2370080">fmtUint64</span><span class="op" id="2370089">(</span><span class="ident" id="2370090">uint64</span><span class="op" id="2370096">(</span><span class="ident" id="2370097">f</span><span class="op" id="2370098">)</span><span class="op" id="2370099">,</span>&nbsp;<span class="ident" id="2370101">verb</span><span class="op" id="2370105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370108">case</span>&nbsp;<span class="ident" id="2370113">uint64</span><span class="op" id="2370119">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370123">p</span><span class="op" id="2370124">.</span><span class="ident" id="2370125">fmtUint64</span><span class="op" id="2370134">(</span><span class="ident" id="2370135">f</span><span class="op" id="2370136">,</span>&nbsp;<span class="ident" id="2370138">verb</span><span class="op" id="2370142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370145">case</span>&nbsp;<span class="builtintype" id="2370150">uintptr</span><span class="op" id="2370157">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370161">p</span><span class="op" id="2370162">.</span><span class="ident" id="2370163">fmtUint64</span><span class="op" id="2370172">(</span><span class="ident" id="2370173">uint64</span><span class="op" id="2370179">(</span><span class="ident" id="2370180">f</span><span class="op" id="2370181">)</span><span class="op" id="2370182">,</span>&nbsp;<span class="ident" id="2370184">verb</span><span class="op" id="2370188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370191">case</span>&nbsp;<span class="builtintype" id="2370196">string</span><span class="op" id="2370202">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370206">p</span><span class="op" id="2370207">.</span><span class="ident" id="2370208">fmtString</span><span class="op" id="2370217">(</span><span class="ident" id="2370218">f</span><span class="op" id="2370219">,</span>&nbsp;<span class="ident" id="2370221">verb</span><span class="op" id="2370225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370229">wasString</span>&nbsp;<span class="op" id="2370239">=</span>&nbsp;<span class="ident" id="2370241">verb</span>&nbsp;<span class="op" id="2370246">==</span>&nbsp;<span class="string" id="2370249">&#39;s&#39;</span>&nbsp;<span class="op" id="2370253">||</span>&nbsp;<span class="ident" id="2370256">verb</span>&nbsp;<span class="op" id="2370261">==</span>&nbsp;<span class="string" id="2370264">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370269">case</span>&nbsp;<span class="op" id="2370274">[</span><span class="op" id="2370275">]</span><span class="builtintype" id="2370276">byte</span><span class="op" id="2370280">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370284">p</span><span class="op" id="2370285">.</span><span class="ident" id="2370286">fmtBytes</span><span class="op" id="2370294">(</span><span class="ident" id="2370295">f</span><span class="op" id="2370296">,</span>&nbsp;<span class="ident" id="2370298">verb</span><span class="op" id="2370302">,</span>&nbsp;<span class="builtintype" id="2370304">nil</span><span class="op" id="2370307">,</span>&nbsp;<span class="ident" id="2370309">depth</span><span class="op" id="2370314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370318">wasString</span>&nbsp;<span class="op" id="2370328">=</span>&nbsp;<span class="ident" id="2370330">verb</span>&nbsp;<span class="op" id="2370335">==</span>&nbsp;<span class="string" id="2370338">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370343">default</span><span class="op" id="2370350">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2370354">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370409">if</span>&nbsp;<span class="ident" id="2370412">handled</span>&nbsp;<span class="op" id="2370420">:=</span>&nbsp;<span class="ident" id="2370423">p</span><span class="op" id="2370424">.</span><span class="ident" id="2370425">handleMethods</span><span class="op" id="2370438">(</span><span class="ident" id="2370439">verb</span><span class="op" id="2370443">,</span>&nbsp;<span class="ident" id="2370445">depth</span><span class="op" id="2370450">)</span><span class="op" id="2370451">;</span>&nbsp;<span class="ident" id="2370453">handled</span>&nbsp;<span class="op" id="2370461">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370466">return</span>&nbsp;<span class="builtintype" id="2370473">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2370485">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370513">return</span>&nbsp;<span class="ident" id="2370520">p</span><span class="op" id="2370521">.</span><span class="ident" id="2370522">printReflectValue</span><span class="op" id="2370539">(</span><span class="ident" id="2370540">reflect</span><span class="op" id="2370547">.</span><span class="ident" id="2370548">ValueOf</span><span class="op" id="2370555">(</span><span class="ident" id="2370556">arg</span><span class="op" id="2370559">)</span><span class="op" id="2370560">,</span>&nbsp;<span class="ident" id="2370562">verb</span><span class="op" id="2370566">,</span>&nbsp;<span class="ident" id="2370568">depth</span><span class="op" id="2370573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370576">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370579">p</span><span class="op" id="2370580">.</span><span class="ident" id="2370581">arg</span>&nbsp;<span class="op" id="2370585">=</span>&nbsp;<span class="builtintype" id="2370587">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370592">return</span><br>
<span class="lineno"></span><span class="op" id="2370599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2370602">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="2370692">func</span>&nbsp;<span class="op" id="2370697">(</span><span class="ident" id="2370698">p</span>&nbsp;<span class="op" id="2370700">*</span><span class="ident" id="2370701">pp</span><span class="op" id="2370703">)</span>&nbsp;<span class="ident" id="2370705">printValue</span><span class="op" id="2370715">(</span><span class="ident" id="2370716">value</span>&nbsp;<span class="ident" id="2370722">reflect</span><span class="op" id="2370729">.</span><span class="ident" id="2370730">Value</span><span class="op" id="2370735">,</span>&nbsp;<span class="ident" id="2370737">verb</span>&nbsp;<span class="builtintype" id="2370742">rune</span><span class="op" id="2370746">,</span>&nbsp;<span class="ident" id="2370748">depth</span>&nbsp;<span class="builtintype" id="2370754">int</span><span class="op" id="2370757">)</span>&nbsp;<span class="op" id="2370759">(</span><span class="ident" id="2370760">wasString</span>&nbsp;<span class="builtintype" id="2370770">bool</span><span class="op" id="2370774">)</span>&nbsp;<span class="op" id="2370776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370779">if</span>&nbsp;<span class="op" id="2370782">!</span><span class="ident" id="2370783">value</span><span class="op" id="2370788">.</span><span class="ident" id="2370789">IsValid</span><span class="op" id="2370796">(</span><span class="op" id="2370797">)</span>&nbsp;<span class="op" id="2370799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370803">if</span>&nbsp;<span class="ident" id="2370806">verb</span>&nbsp;<span class="op" id="2370811">==</span>&nbsp;<span class="string" id="2370814">&#39;T&#39;</span>&nbsp;<span class="op" id="2370818">||</span>&nbsp;<span class="ident" id="2370821">verb</span>&nbsp;<span class="op" id="2370826">==</span>&nbsp;<span class="string" id="2370829">&#39;v&#39;</span>&nbsp;<span class="op" id="2370833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370838">p</span><span class="op" id="2370839">.</span><span class="ident" id="2370840">buf</span><span class="op" id="2370843">.</span><span class="ident" id="2370844">Write</span><span class="op" id="2370849">(</span><span class="ident" id="2370850">nilAngleBytes</span><span class="op" id="2370863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370867">}</span>&nbsp;<span class="keyword" id="2370869">else</span>&nbsp;<span class="op" id="2370874">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370879">p</span><span class="op" id="2370880">.</span><span class="ident" id="2370881">badVerb</span><span class="op" id="2370888">(</span><span class="ident" id="2370889">verb</span><span class="op" id="2370893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370901">return</span>&nbsp;<span class="builtintype" id="2370908">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2370919">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2370958">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371043">switch</span>&nbsp;<span class="ident" id="2371050">verb</span>&nbsp;<span class="op" id="2371055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371058">case</span>&nbsp;<span class="string" id="2371063">&#39;T&#39;</span><span class="op" id="2371066">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371070">p</span><span class="op" id="2371071">.</span><span class="ident" id="2371072">printArg</span><span class="op" id="2371080">(</span><span class="ident" id="2371081">value</span><span class="op" id="2371086">.</span><span class="ident" id="2371087">Type</span><span class="op" id="2371091">(</span><span class="op" id="2371092">)</span><span class="op" id="2371093">.</span><span class="ident" id="2371094">String</span><span class="op" id="2371100">(</span><span class="op" id="2371101">)</span><span class="op" id="2371102">,</span>&nbsp;<span class="string" id="2371104">&#39;s&#39;</span><span class="op" id="2371107">,</span>&nbsp;<span class="num" id="2371109">0</span><span class="op" id="2371110">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371114">return</span>&nbsp;<span class="builtintype" id="2371121">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371128">case</span>&nbsp;<span class="string" id="2371133">&#39;p&#39;</span><span class="op" id="2371136">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371140">p</span><span class="op" id="2371141">.</span><span class="ident" id="2371142">fmtPointer</span><span class="op" id="2371152">(</span><span class="ident" id="2371153">value</span><span class="op" id="2371158">,</span>&nbsp;<span class="ident" id="2371160">verb</span><span class="op" id="2371164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371168">return</span>&nbsp;<span class="builtintype" id="2371175">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2371182">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2371186">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2371226">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371313">p</span><span class="op" id="2371314">.</span><span class="ident" id="2371315">arg</span>&nbsp;<span class="op" id="2371319">=</span>&nbsp;<span class="builtintype" id="2371321">nil</span>&nbsp;<span class="comment" id="2371325">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371365">if</span>&nbsp;<span class="ident" id="2371368">value</span><span class="op" id="2371373">.</span><span class="ident" id="2371374">CanInterface</span><span class="op" id="2371386">(</span><span class="op" id="2371387">)</span>&nbsp;<span class="op" id="2371389">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371393">p</span><span class="op" id="2371394">.</span><span class="ident" id="2371395">arg</span>&nbsp;<span class="op" id="2371399">=</span>&nbsp;<span class="ident" id="2371401">value</span><span class="op" id="2371406">.</span><span class="ident" id="2371407">Interface</span><span class="op" id="2371416">(</span><span class="op" id="2371417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2371420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371423">if</span>&nbsp;<span class="ident" id="2371426">handled</span>&nbsp;<span class="op" id="2371434">:=</span>&nbsp;<span class="ident" id="2371437">p</span><span class="op" id="2371438">.</span><span class="ident" id="2371439">handleMethods</span><span class="op" id="2371452">(</span><span class="ident" id="2371453">verb</span><span class="op" id="2371457">,</span>&nbsp;<span class="ident" id="2371459">depth</span><span class="op" id="2371464">)</span><span class="op" id="2371465">;</span>&nbsp;<span class="ident" id="2371467">handled</span>&nbsp;<span class="op" id="2371475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371479">return</span>&nbsp;<span class="builtintype" id="2371486">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2371493">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371497">return</span>&nbsp;<span class="ident" id="2371504">p</span><span class="op" id="2371505">.</span><span class="ident" id="2371506">printReflectValue</span><span class="op" id="2371523">(</span><span class="ident" id="2371524">value</span><span class="op" id="2371529">,</span>&nbsp;<span class="ident" id="2371531">verb</span><span class="op" id="2371535">,</span>&nbsp;<span class="ident" id="2371537">depth</span><span class="op" id="2371542">)</span><br>
<span class="lineno"></span><span class="op" id="2371544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2371547">var</span>&nbsp;<span class="ident" id="2371551">byteType</span>&nbsp;<span class="op" id="2371560">=</span>&nbsp;<span class="ident" id="2371562">reflect</span><span class="op" id="2371569">.</span><span class="ident" id="2371570">TypeOf</span><span class="op" id="2371576">(</span><span class="builtintype" id="2371577">byte</span><span class="op" id="2371581">(</span><span class="num" id="2371582">0</span><span class="op" id="2371583">)</span><span class="op" id="2371584">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="2371587">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="2371658">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2371697">func</span>&nbsp;<span class="op" id="2371702">(</span><span class="ident" id="2371703">p</span>&nbsp;<span class="op" id="2371705">*</span><span class="ident" id="2371706">pp</span><span class="op" id="2371708">)</span>&nbsp;<span class="ident" id="2371710">printReflectValue</span><span class="op" id="2371727">(</span><span class="ident" id="2371728">value</span>&nbsp;<span class="ident" id="2371734">reflect</span><span class="op" id="2371741">.</span><span class="ident" id="2371742">Value</span><span class="op" id="2371747">,</span>&nbsp;<span class="ident" id="2371749">verb</span>&nbsp;<span class="builtintype" id="2371754">rune</span><span class="op" id="2371758">,</span>&nbsp;<span class="ident" id="2371760">depth</span>&nbsp;<span class="builtintype" id="2371766">int</span><span class="op" id="2371769">)</span>&nbsp;<span class="op" id="2371771">(</span><span class="ident" id="2371772">wasString</span>&nbsp;<span class="builtintype" id="2371782">bool</span><span class="op" id="2371786">)</span>&nbsp;<span class="op" id="2371788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371791">oldValue</span>&nbsp;<span class="op" id="2371800">:=</span>&nbsp;<span class="ident" id="2371803">p</span><span class="op" id="2371804">.</span><span class="ident" id="2371805">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371812">p</span><span class="op" id="2371813">.</span><span class="ident" id="2371814">value</span>&nbsp;<span class="op" id="2371820">=</span>&nbsp;<span class="ident" id="2371822">value</span><br>
<span class="lineno"></span><span class="ident" id="2371828">BigSwitch</span><span class="op" id="2371837">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371840">switch</span>&nbsp;<span class="ident" id="2371847">f</span>&nbsp;<span class="op" id="2371849">:=</span>&nbsp;<span class="ident" id="2371852">value</span><span class="op" id="2371857">;</span>&nbsp;<span class="ident" id="2371859">f</span><span class="op" id="2371860">.</span><span class="ident" id="2371861">Kind</span><span class="op" id="2371865">(</span><span class="op" id="2371866">)</span>&nbsp;<span class="op" id="2371868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371871">case</span>&nbsp;<span class="ident" id="2371876">reflect</span><span class="op" id="2371883">.</span><span class="ident" id="2371884">Bool</span><span class="op" id="2371888">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371892">p</span><span class="op" id="2371893">.</span><span class="ident" id="2371894">fmtBool</span><span class="op" id="2371901">(</span><span class="ident" id="2371902">f</span><span class="op" id="2371903">.</span><span class="ident" id="2371904">Bool</span><span class="op" id="2371908">(</span><span class="op" id="2371909">)</span><span class="op" id="2371910">,</span>&nbsp;<span class="ident" id="2371912">verb</span><span class="op" id="2371916">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371919">case</span>&nbsp;<span class="ident" id="2371924">reflect</span><span class="op" id="2371931">.</span><span class="ident" id="2371932">Int</span><span class="op" id="2371935">,</span>&nbsp;<span class="ident" id="2371937">reflect</span><span class="op" id="2371944">.</span><span class="ident" id="2371945">Int8</span><span class="op" id="2371949">,</span>&nbsp;<span class="ident" id="2371951">reflect</span><span class="op" id="2371958">.</span><span class="ident" id="2371959">Int16</span><span class="op" id="2371964">,</span>&nbsp;<span class="ident" id="2371966">reflect</span><span class="op" id="2371973">.</span><span class="ident" id="2371974">Int32</span><span class="op" id="2371979">,</span>&nbsp;<span class="ident" id="2371981">reflect</span><span class="op" id="2371988">.</span><span class="ident" id="2371989">Int64</span><span class="op" id="2371994">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371998">p</span><span class="op" id="2371999">.</span><span class="ident" id="2372000">fmtInt64</span><span class="op" id="2372008">(</span><span class="ident" id="2372009">f</span><span class="op" id="2372010">.</span><span class="ident" id="2372011">Int</span><span class="op" id="2372014">(</span><span class="op" id="2372015">)</span><span class="op" id="2372016">,</span>&nbsp;<span class="ident" id="2372018">verb</span><span class="op" id="2372022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372025">case</span>&nbsp;<span class="ident" id="2372030">reflect</span><span class="op" id="2372037">.</span><span class="ident" id="2372038">Uint</span><span class="op" id="2372042">,</span>&nbsp;<span class="ident" id="2372044">reflect</span><span class="op" id="2372051">.</span><span class="ident" id="2372052">Uint8</span><span class="op" id="2372057">,</span>&nbsp;<span class="ident" id="2372059">reflect</span><span class="op" id="2372066">.</span><span class="ident" id="2372067">Uint16</span><span class="op" id="2372073">,</span>&nbsp;<span class="ident" id="2372075">reflect</span><span class="op" id="2372082">.</span><span class="ident" id="2372083">Uint32</span><span class="op" id="2372089">,</span>&nbsp;<span class="ident" id="2372091">reflect</span><span class="op" id="2372098">.</span><span class="ident" id="2372099">Uint64</span><span class="op" id="2372105">,</span>&nbsp;<span class="ident" id="2372107">reflect</span><span class="op" id="2372114">.</span><span class="ident" id="2372115">Uintptr</span><span class="op" id="2372122">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372126">p</span><span class="op" id="2372127">.</span><span class="ident" id="2372128">fmtUint64</span><span class="op" id="2372137">(</span><span class="ident" id="2372138">f</span><span class="op" id="2372139">.</span><span class="ident" id="2372140">Uint</span><span class="op" id="2372144">(</span><span class="op" id="2372145">)</span><span class="op" id="2372146">,</span>&nbsp;<span class="ident" id="2372148">verb</span><span class="op" id="2372152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372155">case</span>&nbsp;<span class="ident" id="2372160">reflect</span><span class="op" id="2372167">.</span><span class="ident" id="2372168">Float32</span><span class="op" id="2372175">,</span>&nbsp;<span class="ident" id="2372177">reflect</span><span class="op" id="2372184">.</span><span class="ident" id="2372185">Float64</span><span class="op" id="2372192">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372196">if</span>&nbsp;<span class="ident" id="2372199">f</span><span class="op" id="2372200">.</span><span class="ident" id="2372201">Type</span><span class="op" id="2372205">(</span><span class="op" id="2372206">)</span><span class="op" id="2372207">.</span><span class="ident" id="2372208">Size</span><span class="op" id="2372212">(</span><span class="op" id="2372213">)</span>&nbsp;<span class="op" id="2372215">==</span>&nbsp;<span class="num" id="2372218">4</span>&nbsp;<span class="op" id="2372220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372225">p</span><span class="op" id="2372226">.</span><span class="ident" id="2372227">fmtFloat32</span><span class="op" id="2372237">(</span><span class="builtintype" id="2372238">float32</span><span class="op" id="2372245">(</span><span class="ident" id="2372246">f</span><span class="op" id="2372247">.</span><span class="ident" id="2372248">Float</span><span class="op" id="2372253">(</span><span class="op" id="2372254">)</span><span class="op" id="2372255">)</span><span class="op" id="2372256">,</span>&nbsp;<span class="ident" id="2372258">verb</span><span class="op" id="2372262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372266">}</span>&nbsp;<span class="keyword" id="2372268">else</span>&nbsp;<span class="op" id="2372273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372278">p</span><span class="op" id="2372279">.</span><span class="ident" id="2372280">fmtFloat64</span><span class="op" id="2372290">(</span><span class="ident" id="2372291">f</span><span class="op" id="2372292">.</span><span class="ident" id="2372293">Float</span><span class="op" id="2372298">(</span><span class="op" id="2372299">)</span><span class="op" id="2372300">,</span>&nbsp;<span class="ident" id="2372302">verb</span><span class="op" id="2372306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372310">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372313">case</span>&nbsp;<span class="ident" id="2372318">reflect</span><span class="op" id="2372325">.</span><span class="ident" id="2372326">Complex64</span><span class="op" id="2372335">,</span>&nbsp;<span class="ident" id="2372337">reflect</span><span class="op" id="2372344">.</span><span class="ident" id="2372345">Complex128</span><span class="op" id="2372355">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372359">if</span>&nbsp;<span class="ident" id="2372362">f</span><span class="op" id="2372363">.</span><span class="ident" id="2372364">Type</span><span class="op" id="2372368">(</span><span class="op" id="2372369">)</span><span class="op" id="2372370">.</span><span class="ident" id="2372371">Size</span><span class="op" id="2372375">(</span><span class="op" id="2372376">)</span>&nbsp;<span class="op" id="2372378">==</span>&nbsp;<span class="num" id="2372381">8</span>&nbsp;<span class="op" id="2372383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372388">p</span><span class="op" id="2372389">.</span><span class="ident" id="2372390">fmtComplex64</span><span class="op" id="2372402">(</span><span class="builtintype" id="2372403">complex64</span><span class="op" id="2372412">(</span><span class="ident" id="2372413">f</span><span class="op" id="2372414">.</span><span class="ident" id="2372415">Complex</span><span class="op" id="2372422">(</span><span class="op" id="2372423">)</span><span class="op" id="2372424">)</span><span class="op" id="2372425">,</span>&nbsp;<span class="ident" id="2372427">verb</span><span class="op" id="2372431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372435">}</span>&nbsp;<span class="keyword" id="2372437">else</span>&nbsp;<span class="op" id="2372442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372447">p</span><span class="op" id="2372448">.</span><span class="ident" id="2372449">fmtComplex128</span><span class="op" id="2372462">(</span><span class="ident" id="2372463">f</span><span class="op" id="2372464">.</span><span class="ident" id="2372465">Complex</span><span class="op" id="2372472">(</span><span class="op" id="2372473">)</span><span class="op" id="2372474">,</span>&nbsp;<span class="ident" id="2372476">verb</span><span class="op" id="2372480">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372487">case</span>&nbsp;<span class="ident" id="2372492">reflect</span><span class="op" id="2372499">.</span><span class="ident" id="2372500">String</span><span class="op" id="2372506">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372510">p</span><span class="op" id="2372511">.</span><span class="ident" id="2372512">fmtString</span><span class="op" id="2372521">(</span><span class="ident" id="2372522">f</span><span class="op" id="2372523">.</span><span class="ident" id="2372524">String</span><span class="op" id="2372530">(</span><span class="op" id="2372531">)</span><span class="op" id="2372532">,</span>&nbsp;<span class="ident" id="2372534">verb</span><span class="op" id="2372538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372541">case</span>&nbsp;<span class="ident" id="2372546">reflect</span><span class="op" id="2372553">.</span><span class="ident" id="2372554">Map</span><span class="op" id="2372557">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372561">if</span>&nbsp;<span class="ident" id="2372564">p</span><span class="op" id="2372565">.</span><span class="ident" id="2372566">fmt</span><span class="op" id="2372569">.</span><span class="ident" id="2372570">sharpV</span>&nbsp;<span class="op" id="2372577">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372582">p</span><span class="op" id="2372583">.</span><span class="ident" id="2372584">buf</span><span class="op" id="2372587">.</span><span class="ident" id="2372588">WriteString</span><span class="op" id="2372599">(</span><span class="ident" id="2372600">f</span><span class="op" id="2372601">.</span><span class="ident" id="2372602">Type</span><span class="op" id="2372606">(</span><span class="op" id="2372607">)</span><span class="op" id="2372608">.</span><span class="ident" id="2372609">String</span><span class="op" id="2372615">(</span><span class="op" id="2372616">)</span><span class="op" id="2372617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372622">if</span>&nbsp;<span class="ident" id="2372625">f</span><span class="op" id="2372626">.</span><span class="ident" id="2372627">IsNil</span><span class="op" id="2372632">(</span><span class="op" id="2372633">)</span>&nbsp;<span class="op" id="2372635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372641">p</span><span class="op" id="2372642">.</span><span class="ident" id="2372643">buf</span><span class="op" id="2372646">.</span><span class="ident" id="2372647">WriteString</span><span class="op" id="2372658">(</span><span class="string" id="2372659">&#34;(nil)&#34;</span><span class="op" id="2372666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372672">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372681">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372686">p</span><span class="op" id="2372687">.</span><span class="ident" id="2372688">buf</span><span class="op" id="2372691">.</span><span class="ident" id="2372692">WriteByte</span><span class="op" id="2372701">(</span><span class="string" id="2372702">&#39;{&#39;</span><span class="op" id="2372705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372709">}</span>&nbsp;<span class="keyword" id="2372711">else</span>&nbsp;<span class="op" id="2372716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372721">p</span><span class="op" id="2372722">.</span><span class="ident" id="2372723">buf</span><span class="op" id="2372726">.</span><span class="ident" id="2372727">Write</span><span class="op" id="2372732">(</span><span class="ident" id="2372733">mapBytes</span><span class="op" id="2372741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372749">keys</span>&nbsp;<span class="op" id="2372754">:=</span>&nbsp;<span class="ident" id="2372757">f</span><span class="op" id="2372758">.</span><span class="ident" id="2372759">MapKeys</span><span class="op" id="2372766">(</span><span class="op" id="2372767">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372771">for</span>&nbsp;<span class="ident" id="2372775">i</span><span class="op" id="2372776">,</span>&nbsp;<span class="ident" id="2372778">key</span>&nbsp;<span class="op" id="2372782">:=</span>&nbsp;<span class="keyword" id="2372785">range</span>&nbsp;<span class="ident" id="2372791">keys</span>&nbsp;<span class="op" id="2372796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372801">if</span>&nbsp;<span class="ident" id="2372804">i</span>&nbsp;<span class="op" id="2372806">&gt;</span>&nbsp;<span class="num" id="2372808">0</span>&nbsp;<span class="op" id="2372810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372816">if</span>&nbsp;<span class="ident" id="2372819">p</span><span class="op" id="2372820">.</span><span class="ident" id="2372821">fmt</span><span class="op" id="2372824">.</span><span class="ident" id="2372825">sharpV</span>&nbsp;<span class="op" id="2372832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372839">p</span><span class="op" id="2372840">.</span><span class="ident" id="2372841">buf</span><span class="op" id="2372844">.</span><span class="ident" id="2372845">Write</span><span class="op" id="2372850">(</span><span class="ident" id="2372851">commaSpaceBytes</span><span class="op" id="2372866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372872">}</span>&nbsp;<span class="keyword" id="2372874">else</span>&nbsp;<span class="op" id="2372879">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372886">p</span><span class="op" id="2372887">.</span><span class="ident" id="2372888">buf</span><span class="op" id="2372891">.</span><span class="ident" id="2372892">WriteByte</span><span class="op" id="2372901">(</span><span class="string" id="2372902">&#39;&nbsp;&#39;</span><span class="op" id="2372905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372921">p</span><span class="op" id="2372922">.</span><span class="ident" id="2372923">printValue</span><span class="op" id="2372933">(</span><span class="ident" id="2372934">key</span><span class="op" id="2372937">,</span>&nbsp;<span class="ident" id="2372939">verb</span><span class="op" id="2372943">,</span>&nbsp;<span class="ident" id="2372945">depth</span><span class="op" id="2372950">+</span><span class="num" id="2372951">1</span><span class="op" id="2372952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372957">p</span><span class="op" id="2372958">.</span><span class="ident" id="2372959">buf</span><span class="op" id="2372962">.</span><span class="ident" id="2372963">WriteByte</span><span class="op" id="2372972">(</span><span class="string" id="2372973">&#39;:&#39;</span><span class="op" id="2372976">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372981">p</span><span class="op" id="2372982">.</span><span class="ident" id="2372983">printValue</span><span class="op" id="2372993">(</span><span class="ident" id="2372994">f</span><span class="op" id="2372995">.</span><span class="ident" id="2372996">MapIndex</span><span class="op" id="2373004">(</span><span class="ident" id="2373005">key</span><span class="op" id="2373008">)</span><span class="op" id="2373009">,</span>&nbsp;<span class="ident" id="2373011">verb</span><span class="op" id="2373015">,</span>&nbsp;<span class="ident" id="2373017">depth</span><span class="op" id="2373022">+</span><span class="num" id="2373023">1</span><span class="op" id="2373024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373032">if</span>&nbsp;<span class="ident" id="2373035">p</span><span class="op" id="2373036">.</span><span class="ident" id="2373037">fmt</span><span class="op" id="2373040">.</span><span class="ident" id="2373041">sharpV</span>&nbsp;<span class="op" id="2373048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373053">p</span><span class="op" id="2373054">.</span><span class="ident" id="2373055">buf</span><span class="op" id="2373058">.</span><span class="ident" id="2373059">WriteByte</span><span class="op" id="2373068">(</span><span class="string" id="2373069">&#39;}&#39;</span><span class="op" id="2373072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373076">}</span>&nbsp;<span class="keyword" id="2373078">else</span>&nbsp;<span class="op" id="2373083">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373088">p</span><span class="op" id="2373089">.</span><span class="ident" id="2373090">buf</span><span class="op" id="2373093">.</span><span class="ident" id="2373094">WriteByte</span><span class="op" id="2373103">(</span><span class="string" id="2373104">&#39;]&#39;</span><span class="op" id="2373107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373114">case</span>&nbsp;<span class="ident" id="2373119">reflect</span><span class="op" id="2373126">.</span><span class="ident" id="2373127">Struct</span><span class="op" id="2373133">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373137">if</span>&nbsp;<span class="ident" id="2373140">p</span><span class="op" id="2373141">.</span><span class="ident" id="2373142">fmt</span><span class="op" id="2373145">.</span><span class="ident" id="2373146">sharpV</span>&nbsp;<span class="op" id="2373153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373158">p</span><span class="op" id="2373159">.</span><span class="ident" id="2373160">buf</span><span class="op" id="2373163">.</span><span class="ident" id="2373164">WriteString</span><span class="op" id="2373175">(</span><span class="ident" id="2373176">value</span><span class="op" id="2373181">.</span><span class="ident" id="2373182">Type</span><span class="op" id="2373186">(</span><span class="op" id="2373187">)</span><span class="op" id="2373188">.</span><span class="ident" id="2373189">String</span><span class="op" id="2373195">(</span><span class="op" id="2373196">)</span><span class="op" id="2373197">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373205">p</span><span class="op" id="2373206">.</span><span class="ident" id="2373207">add</span><span class="op" id="2373210">(</span><span class="string" id="2373211">&#39;{&#39;</span><span class="op" id="2373214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373218">v</span>&nbsp;<span class="op" id="2373220">:=</span>&nbsp;<span class="ident" id="2373223">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373227">t</span>&nbsp;<span class="op" id="2373229">:=</span>&nbsp;<span class="ident" id="2373232">v</span><span class="op" id="2373233">.</span><span class="ident" id="2373234">Type</span><span class="op" id="2373238">(</span><span class="op" id="2373239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373243">for</span>&nbsp;<span class="ident" id="2373247">i</span>&nbsp;<span class="op" id="2373249">:=</span>&nbsp;<span class="num" id="2373252">0</span><span class="op" id="2373253">;</span>&nbsp;<span class="ident" id="2373255">i</span>&nbsp;<span class="op" id="2373257">&lt;</span>&nbsp;<span class="ident" id="2373259">v</span><span class="op" id="2373260">.</span><span class="ident" id="2373261">NumField</span><span class="op" id="2373269">(</span><span class="op" id="2373270">)</span><span class="op" id="2373271">;</span>&nbsp;<span class="ident" id="2373273">i</span><span class="op" id="2373274">++</span>&nbsp;<span class="op" id="2373277">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373282">if</span>&nbsp;<span class="ident" id="2373285">i</span>&nbsp;<span class="op" id="2373287">&gt;</span>&nbsp;<span class="num" id="2373289">0</span>&nbsp;<span class="op" id="2373291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373297">if</span>&nbsp;<span class="ident" id="2373300">p</span><span class="op" id="2373301">.</span><span class="ident" id="2373302">fmt</span><span class="op" id="2373305">.</span><span class="ident" id="2373306">sharpV</span>&nbsp;<span class="op" id="2373313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373320">p</span><span class="op" id="2373321">.</span><span class="ident" id="2373322">buf</span><span class="op" id="2373325">.</span><span class="ident" id="2373326">Write</span><span class="op" id="2373331">(</span><span class="ident" id="2373332">commaSpaceBytes</span><span class="op" id="2373347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373353">}</span>&nbsp;<span class="keyword" id="2373355">else</span>&nbsp;<span class="op" id="2373360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373367">p</span><span class="op" id="2373368">.</span><span class="ident" id="2373369">buf</span><span class="op" id="2373372">.</span><span class="ident" id="2373373">WriteByte</span><span class="op" id="2373382">(</span><span class="string" id="2373383">&#39;&nbsp;&#39;</span><span class="op" id="2373386">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373402">if</span>&nbsp;<span class="ident" id="2373405">p</span><span class="op" id="2373406">.</span><span class="ident" id="2373407">fmt</span><span class="op" id="2373410">.</span><span class="ident" id="2373411">plusV</span>&nbsp;<span class="op" id="2373417">||</span>&nbsp;<span class="ident" id="2373420">p</span><span class="op" id="2373421">.</span><span class="ident" id="2373422">fmt</span><span class="op" id="2373425">.</span><span class="ident" id="2373426">sharpV</span>&nbsp;<span class="op" id="2373433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373439">if</span>&nbsp;<span class="ident" id="2373442">f</span>&nbsp;<span class="op" id="2373444">:=</span>&nbsp;<span class="ident" id="2373447">t</span><span class="op" id="2373448">.</span><span class="ident" id="2373449">Field</span><span class="op" id="2373454">(</span><span class="ident" id="2373455">i</span><span class="op" id="2373456">)</span><span class="op" id="2373457">;</span>&nbsp;<span class="ident" id="2373459">f</span><span class="op" id="2373460">.</span><span class="ident" id="2373461">Name</span>&nbsp;<span class="op" id="2373466">!=</span>&nbsp;<span class="string" id="2373469">&#34;&#34;</span>&nbsp;<span class="op" id="2373472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373479">p</span><span class="op" id="2373480">.</span><span class="ident" id="2373481">buf</span><span class="op" id="2373484">.</span><span class="ident" id="2373485">WriteString</span><span class="op" id="2373496">(</span><span class="ident" id="2373497">f</span><span class="op" id="2373498">.</span><span class="ident" id="2373499">Name</span><span class="op" id="2373503">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373510">p</span><span class="op" id="2373511">.</span><span class="ident" id="2373512">buf</span><span class="op" id="2373515">.</span><span class="ident" id="2373516">WriteByte</span><span class="op" id="2373525">(</span><span class="string" id="2373526">&#39;:&#39;</span><span class="op" id="2373529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373545">p</span><span class="op" id="2373546">.</span><span class="ident" id="2373547">printValue</span><span class="op" id="2373557">(</span><span class="ident" id="2373558">getField</span><span class="op" id="2373566">(</span><span class="ident" id="2373567">v</span><span class="op" id="2373568">,</span>&nbsp;<span class="ident" id="2373570">i</span><span class="op" id="2373571">)</span><span class="op" id="2373572">,</span>&nbsp;<span class="ident" id="2373574">verb</span><span class="op" id="2373578">,</span>&nbsp;<span class="ident" id="2373580">depth</span><span class="op" id="2373585">+</span><span class="num" id="2373586">1</span><span class="op" id="2373587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373591">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373595">p</span><span class="op" id="2373596">.</span><span class="ident" id="2373597">buf</span><span class="op" id="2373600">.</span><span class="ident" id="2373601">WriteByte</span><span class="op" id="2373610">(</span><span class="string" id="2373611">&#39;}&#39;</span><span class="op" id="2373614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373617">case</span>&nbsp;<span class="ident" id="2373622">reflect</span><span class="op" id="2373629">.</span><span class="ident" id="2373630">Interface</span><span class="op" id="2373639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373643">value</span>&nbsp;<span class="op" id="2373649">:=</span>&nbsp;<span class="ident" id="2373652">f</span><span class="op" id="2373653">.</span><span class="ident" id="2373654">Elem</span><span class="op" id="2373658">(</span><span class="op" id="2373659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373663">if</span>&nbsp;<span class="op" id="2373666">!</span><span class="ident" id="2373667">value</span><span class="op" id="2373672">.</span><span class="ident" id="2373673">IsValid</span><span class="op" id="2373680">(</span><span class="op" id="2373681">)</span>&nbsp;<span class="op" id="2373683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373688">if</span>&nbsp;<span class="ident" id="2373691">p</span><span class="op" id="2373692">.</span><span class="ident" id="2373693">fmt</span><span class="op" id="2373696">.</span><span class="ident" id="2373697">sharpV</span>&nbsp;<span class="op" id="2373704">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373710">p</span><span class="op" id="2373711">.</span><span class="ident" id="2373712">buf</span><span class="op" id="2373715">.</span><span class="ident" id="2373716">WriteString</span><span class="op" id="2373727">(</span><span class="ident" id="2373728">f</span><span class="op" id="2373729">.</span><span class="ident" id="2373730">Type</span><span class="op" id="2373734">(</span><span class="op" id="2373735">)</span><span class="op" id="2373736">.</span><span class="ident" id="2373737">String</span><span class="op" id="2373743">(</span><span class="op" id="2373744">)</span><span class="op" id="2373745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373751">p</span><span class="op" id="2373752">.</span><span class="ident" id="2373753">buf</span><span class="op" id="2373756">.</span><span class="ident" id="2373757">Write</span><span class="op" id="2373762">(</span><span class="ident" id="2373763">nilParenBytes</span><span class="op" id="2373776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373781">}</span>&nbsp;<span class="keyword" id="2373783">else</span>&nbsp;<span class="op" id="2373788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373794">p</span><span class="op" id="2373795">.</span><span class="ident" id="2373796">buf</span><span class="op" id="2373799">.</span><span class="ident" id="2373800">Write</span><span class="op" id="2373805">(</span><span class="ident" id="2373806">nilAngleBytes</span><span class="op" id="2373819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373824">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373828">}</span>&nbsp;<span class="keyword" id="2373830">else</span>&nbsp;<span class="op" id="2373835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373840">wasString</span>&nbsp;<span class="op" id="2373850">=</span>&nbsp;<span class="ident" id="2373852">p</span><span class="op" id="2373853">.</span><span class="ident" id="2373854">printValue</span><span class="op" id="2373864">(</span><span class="ident" id="2373865">value</span><span class="op" id="2373870">,</span>&nbsp;<span class="ident" id="2373872">verb</span><span class="op" id="2373876">,</span>&nbsp;<span class="ident" id="2373878">depth</span><span class="op" id="2373883">+</span><span class="num" id="2373884">1</span><span class="op" id="2373885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2373889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373892">case</span>&nbsp;<span class="ident" id="2373897">reflect</span><span class="op" id="2373904">.</span><span class="ident" id="2373905">Array</span><span class="op" id="2373910">,</span>&nbsp;<span class="ident" id="2373912">reflect</span><span class="op" id="2373919">.</span><span class="ident" id="2373920">Slice</span><span class="op" id="2373925">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2373929">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2373959">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374008">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374076">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374139">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374200">if</span>&nbsp;<span class="ident" id="2374203">typ</span>&nbsp;<span class="op" id="2374207">:=</span>&nbsp;<span class="ident" id="2374210">f</span><span class="op" id="2374211">.</span><span class="ident" id="2374212">Type</span><span class="op" id="2374216">(</span><span class="op" id="2374217">)</span><span class="op" id="2374218">;</span>&nbsp;<span class="ident" id="2374220">typ</span><span class="op" id="2374223">.</span><span class="ident" id="2374224">Elem</span><span class="op" id="2374228">(</span><span class="op" id="2374229">)</span><span class="op" id="2374230">.</span><span class="ident" id="2374231">Kind</span><span class="op" id="2374235">(</span><span class="op" id="2374236">)</span>&nbsp;<span class="op" id="2374238">==</span>&nbsp;<span class="ident" id="2374241">reflect</span><span class="op" id="2374248">.</span><span class="ident" id="2374249">Uint8</span>&nbsp;<span class="op" id="2374255">&amp;&amp;</span>&nbsp;<span class="op" id="2374258">(</span><span class="ident" id="2374259">typ</span><span class="op" id="2374262">.</span><span class="ident" id="2374263">Elem</span><span class="op" id="2374267">(</span><span class="op" id="2374268">)</span>&nbsp;<span class="op" id="2374270">==</span>&nbsp;<span class="ident" id="2374273">byteType</span>&nbsp;<span class="op" id="2374282">||</span>&nbsp;<span class="ident" id="2374285">verb</span>&nbsp;<span class="op" id="2374290">==</span>&nbsp;<span class="string" id="2374293">&#39;s&#39;</span>&nbsp;<span class="op" id="2374297">||</span>&nbsp;<span class="ident" id="2374300">verb</span>&nbsp;<span class="op" id="2374305">==</span>&nbsp;<span class="string" id="2374308">&#39;q&#39;</span>&nbsp;<span class="op" id="2374312">||</span>&nbsp;<span class="ident" id="2374315">verb</span>&nbsp;<span class="op" id="2374320">==</span>&nbsp;<span class="string" id="2374323">&#39;x&#39;</span><span class="op" id="2374326">)</span>&nbsp;<span class="op" id="2374328">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374333">var</span>&nbsp;<span class="ident" id="2374337">bytes</span>&nbsp;<span class="op" id="2374343">[</span><span class="op" id="2374344">]</span><span class="builtintype" id="2374345">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374353">if</span>&nbsp;<span class="ident" id="2374356">f</span><span class="op" id="2374357">.</span><span class="ident" id="2374358">Kind</span><span class="op" id="2374362">(</span><span class="op" id="2374363">)</span>&nbsp;<span class="op" id="2374365">==</span>&nbsp;<span class="ident" id="2374368">reflect</span><span class="op" id="2374375">.</span><span class="ident" id="2374376">Slice</span>&nbsp;<span class="op" id="2374382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374388">bytes</span>&nbsp;<span class="op" id="2374394">=</span>&nbsp;<span class="ident" id="2374396">f</span><span class="op" id="2374397">.</span><span class="ident" id="2374398">Bytes</span><span class="op" id="2374403">(</span><span class="op" id="2374404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2374409">}</span>&nbsp;<span class="keyword" id="2374411">else</span>&nbsp;<span class="keyword" id="2374416">if</span>&nbsp;<span class="ident" id="2374419">f</span><span class="op" id="2374420">.</span><span class="ident" id="2374421">CanAddr</span><span class="op" id="2374428">(</span><span class="op" id="2374429">)</span>&nbsp;<span class="op" id="2374431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374437">bytes</span>&nbsp;<span class="op" id="2374443">=</span>&nbsp;<span class="ident" id="2374445">f</span><span class="op" id="2374446">.</span><span class="ident" id="2374447">Slice</span><span class="op" id="2374452">(</span><span class="num" id="2374453">0</span><span class="op" id="2374454">,</span>&nbsp;<span class="ident" id="2374456">f</span><span class="op" id="2374457">.</span><span class="ident" id="2374458">Len</span><span class="op" id="2374461">(</span><span class="op" id="2374462">)</span><span class="op" id="2374463">)</span><span class="op" id="2374464">.</span><span class="ident" id="2374465">Bytes</span><span class="op" id="2374470">(</span><span class="op" id="2374471">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2374476">}</span>&nbsp;<span class="keyword" id="2374478">else</span>&nbsp;<span class="op" id="2374483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374489">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374561">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374638">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374685">bytes</span>&nbsp;<span class="op" id="2374691">=</span>&nbsp;<span class="builtinfunc" id="2374693">make</span><span class="op" id="2374697">(</span><span class="op" id="2374698">[</span><span class="op" id="2374699">]</span><span class="builtintype" id="2374700">byte</span><span class="op" id="2374704">,</span>&nbsp;<span class="ident" id="2374706">f</span><span class="op" id="2374707">.</span><span class="ident" id="2374708">Len</span><span class="op" id="2374711">(</span><span class="op" id="2374712">)</span><span class="op" id="2374713">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374719">for</span>&nbsp;<span class="ident" id="2374723">i</span>&nbsp;<span class="op" id="2374725">:=</span>&nbsp;<span class="keyword" id="2374728">range</span>&nbsp;<span class="ident" id="2374734">bytes</span>&nbsp;<span class="op" id="2374740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374747">bytes</span><span class="op" id="2374752">[</span><span class="ident" id="2374753">i</span><span class="op" id="2374754">]</span>&nbsp;<span class="op" id="2374756">=</span>&nbsp;<span class="builtintype" id="2374758">byte</span><span class="op" id="2374762">(</span><span class="ident" id="2374763">f</span><span class="op" id="2374764">.</span><span class="ident" id="2374765">Index</span><span class="op" id="2374770">(</span><span class="ident" id="2374771">i</span><span class="op" id="2374772">)</span><span class="op" id="2374773">.</span><span class="ident" id="2374774">Uint</span><span class="op" id="2374778">(</span><span class="op" id="2374779">)</span><span class="op" id="2374780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2374786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2374791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374796">p</span><span class="op" id="2374797">.</span><span class="ident" id="2374798">fmtBytes</span><span class="op" id="2374806">(</span><span class="ident" id="2374807">bytes</span><span class="op" id="2374812">,</span>&nbsp;<span class="ident" id="2374814">verb</span><span class="op" id="2374818">,</span>&nbsp;<span class="ident" id="2374820">typ</span><span class="op" id="2374823">,</span>&nbsp;<span class="ident" id="2374825">depth</span><span class="op" id="2374830">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374835">wasString</span>&nbsp;<span class="op" id="2374845">=</span>&nbsp;<span class="ident" id="2374847">verb</span>&nbsp;<span class="op" id="2374852">==</span>&nbsp;<span class="string" id="2374855">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374862">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2374870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374874">if</span>&nbsp;<span class="ident" id="2374877">p</span><span class="op" id="2374878">.</span><span class="ident" id="2374879">fmt</span><span class="op" id="2374882">.</span><span class="ident" id="2374883">sharpV</span>&nbsp;<span class="op" id="2374890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374895">p</span><span class="op" id="2374896">.</span><span class="ident" id="2374897">buf</span><span class="op" id="2374900">.</span><span class="ident" id="2374901">WriteString</span><span class="op" id="2374912">(</span><span class="ident" id="2374913">value</span><span class="op" id="2374918">.</span><span class="ident" id="2374919">Type</span><span class="op" id="2374923">(</span><span class="op" id="2374924">)</span><span class="op" id="2374925">.</span><span class="ident" id="2374926">String</span><span class="op" id="2374932">(</span><span class="op" id="2374933">)</span><span class="op" id="2374934">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374939">if</span>&nbsp;<span class="ident" id="2374942">f</span><span class="op" id="2374943">.</span><span class="ident" id="2374944">Kind</span><span class="op" id="2374948">(</span><span class="op" id="2374949">)</span>&nbsp;<span class="op" id="2374951">==</span>&nbsp;<span class="ident" id="2374954">reflect</span><span class="op" id="2374961">.</span><span class="ident" id="2374962">Slice</span>&nbsp;<span class="op" id="2374968">&amp;&amp;</span>&nbsp;<span class="ident" id="2374971">f</span><span class="op" id="2374972">.</span><span class="ident" id="2374973">IsNil</span><span class="op" id="2374978">(</span><span class="op" id="2374979">)</span>&nbsp;<span class="op" id="2374981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374987">p</span><span class="op" id="2374988">.</span><span class="ident" id="2374989">buf</span><span class="op" id="2374992">.</span><span class="ident" id="2374993">WriteString</span><span class="op" id="2375004">(</span><span class="string" id="2375005">&#34;(nil)&#34;</span><span class="op" id="2375012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375018">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375032">p</span><span class="op" id="2375033">.</span><span class="ident" id="2375034">buf</span><span class="op" id="2375037">.</span><span class="ident" id="2375038">WriteByte</span><span class="op" id="2375047">(</span><span class="string" id="2375048">&#39;{&#39;</span><span class="op" id="2375051">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375055">}</span>&nbsp;<span class="keyword" id="2375057">else</span>&nbsp;<span class="op" id="2375062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375067">p</span><span class="op" id="2375068">.</span><span class="ident" id="2375069">buf</span><span class="op" id="2375072">.</span><span class="ident" id="2375073">WriteByte</span><span class="op" id="2375082">(</span><span class="string" id="2375083">&#39;[&#39;</span><span class="op" id="2375086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375094">for</span>&nbsp;<span class="ident" id="2375098">i</span>&nbsp;<span class="op" id="2375100">:=</span>&nbsp;<span class="num" id="2375103">0</span><span class="op" id="2375104">;</span>&nbsp;<span class="ident" id="2375106">i</span>&nbsp;<span class="op" id="2375108">&lt;</span>&nbsp;<span class="ident" id="2375110">f</span><span class="op" id="2375111">.</span><span class="ident" id="2375112">Len</span><span class="op" id="2375115">(</span><span class="op" id="2375116">)</span><span class="op" id="2375117">;</span>&nbsp;<span class="ident" id="2375119">i</span><span class="op" id="2375120">++</span>&nbsp;<span class="op" id="2375123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375128">if</span>&nbsp;<span class="ident" id="2375131">i</span>&nbsp;<span class="op" id="2375133">&gt;</span>&nbsp;<span class="num" id="2375135">0</span>&nbsp;<span class="op" id="2375137">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375143">if</span>&nbsp;<span class="ident" id="2375146">p</span><span class="op" id="2375147">.</span><span class="ident" id="2375148">fmt</span><span class="op" id="2375151">.</span><span class="ident" id="2375152">sharpV</span>&nbsp;<span class="op" id="2375159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375166">p</span><span class="op" id="2375167">.</span><span class="ident" id="2375168">buf</span><span class="op" id="2375171">.</span><span class="ident" id="2375172">Write</span><span class="op" id="2375177">(</span><span class="ident" id="2375178">commaSpaceBytes</span><span class="op" id="2375193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375199">}</span>&nbsp;<span class="keyword" id="2375201">else</span>&nbsp;<span class="op" id="2375206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375213">p</span><span class="op" id="2375214">.</span><span class="ident" id="2375215">buf</span><span class="op" id="2375218">.</span><span class="ident" id="2375219">WriteByte</span><span class="op" id="2375228">(</span><span class="string" id="2375229">&#39;&nbsp;&#39;</span><span class="op" id="2375232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375238">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375248">p</span><span class="op" id="2375249">.</span><span class="ident" id="2375250">printValue</span><span class="op" id="2375260">(</span><span class="ident" id="2375261">f</span><span class="op" id="2375262">.</span><span class="ident" id="2375263">Index</span><span class="op" id="2375268">(</span><span class="ident" id="2375269">i</span><span class="op" id="2375270">)</span><span class="op" id="2375271">,</span>&nbsp;<span class="ident" id="2375273">verb</span><span class="op" id="2375277">,</span>&nbsp;<span class="ident" id="2375279">depth</span><span class="op" id="2375284">+</span><span class="num" id="2375285">1</span><span class="op" id="2375286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375294">if</span>&nbsp;<span class="ident" id="2375297">p</span><span class="op" id="2375298">.</span><span class="ident" id="2375299">fmt</span><span class="op" id="2375302">.</span><span class="ident" id="2375303">sharpV</span>&nbsp;<span class="op" id="2375310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375315">p</span><span class="op" id="2375316">.</span><span class="ident" id="2375317">buf</span><span class="op" id="2375320">.</span><span class="ident" id="2375321">WriteByte</span><span class="op" id="2375330">(</span><span class="string" id="2375331">&#39;}&#39;</span><span class="op" id="2375334">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375338">}</span>&nbsp;<span class="keyword" id="2375340">else</span>&nbsp;<span class="op" id="2375345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375350">p</span><span class="op" id="2375351">.</span><span class="ident" id="2375352">buf</span><span class="op" id="2375355">.</span><span class="ident" id="2375356">WriteByte</span><span class="op" id="2375365">(</span><span class="string" id="2375366">&#39;]&#39;</span><span class="op" id="2375369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375376">case</span>&nbsp;<span class="ident" id="2375381">reflect</span><span class="op" id="2375388">.</span><span class="ident" id="2375389">Ptr</span><span class="op" id="2375392">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375396">v</span>&nbsp;<span class="op" id="2375398">:=</span>&nbsp;<span class="ident" id="2375401">f</span><span class="op" id="2375402">.</span><span class="ident" id="2375403">Pointer</span><span class="op" id="2375410">(</span><span class="op" id="2375411">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2375415">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2375474">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375510">if</span>&nbsp;<span class="ident" id="2375513">v</span>&nbsp;<span class="op" id="2375515">!=</span>&nbsp;<span class="num" id="2375518">0</span>&nbsp;<span class="op" id="2375520">&amp;&amp;</span>&nbsp;<span class="ident" id="2375523">depth</span>&nbsp;<span class="op" id="2375529">==</span>&nbsp;<span class="num" id="2375532">0</span>&nbsp;<span class="op" id="2375534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375539">switch</span>&nbsp;<span class="ident" id="2375546">a</span>&nbsp;<span class="op" id="2375548">:=</span>&nbsp;<span class="ident" id="2375551">f</span><span class="op" id="2375552">.</span><span class="ident" id="2375553">Elem</span><span class="op" id="2375557">(</span><span class="op" id="2375558">)</span><span class="op" id="2375559">;</span>&nbsp;<span class="ident" id="2375561">a</span><span class="op" id="2375562">.</span><span class="ident" id="2375563">Kind</span><span class="op" id="2375567">(</span><span class="op" id="2375568">)</span>&nbsp;<span class="op" id="2375570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375575">case</span>&nbsp;<span class="ident" id="2375580">reflect</span><span class="op" id="2375587">.</span><span class="ident" id="2375588">Array</span><span class="op" id="2375593">,</span>&nbsp;<span class="ident" id="2375595">reflect</span><span class="op" id="2375602">.</span><span class="ident" id="2375603">Slice</span><span class="op" id="2375608">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375614">p</span><span class="op" id="2375615">.</span><span class="ident" id="2375616">buf</span><span class="op" id="2375619">.</span><span class="ident" id="2375620">WriteByte</span><span class="op" id="2375629">(</span><span class="string" id="2375630">&#39;&amp;&#39;</span><span class="op" id="2375633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375639">p</span><span class="op" id="2375640">.</span><span class="ident" id="2375641">printValue</span><span class="op" id="2375651">(</span><span class="ident" id="2375652">a</span><span class="op" id="2375653">,</span>&nbsp;<span class="ident" id="2375655">verb</span><span class="op" id="2375659">,</span>&nbsp;<span class="ident" id="2375661">depth</span><span class="op" id="2375666">+</span><span class="num" id="2375667">1</span><span class="op" id="2375668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375674">break</span>&nbsp;<span class="ident" id="2375680">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375693">case</span>&nbsp;<span class="ident" id="2375698">reflect</span><span class="op" id="2375705">.</span><span class="ident" id="2375706">Struct</span><span class="op" id="2375712">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375718">p</span><span class="op" id="2375719">.</span><span class="ident" id="2375720">buf</span><span class="op" id="2375723">.</span><span class="ident" id="2375724">WriteByte</span><span class="op" id="2375733">(</span><span class="string" id="2375734">&#39;&amp;&#39;</span><span class="op" id="2375737">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375743">p</span><span class="op" id="2375744">.</span><span class="ident" id="2375745">printValue</span><span class="op" id="2375755">(</span><span class="ident" id="2375756">a</span><span class="op" id="2375757">,</span>&nbsp;<span class="ident" id="2375759">verb</span><span class="op" id="2375763">,</span>&nbsp;<span class="ident" id="2375765">depth</span><span class="op" id="2375770">+</span><span class="num" id="2375771">1</span><span class="op" id="2375772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375778">break</span>&nbsp;<span class="ident" id="2375784">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375797">case</span>&nbsp;<span class="ident" id="2375802">reflect</span><span class="op" id="2375809">.</span><span class="ident" id="2375810">Map</span><span class="op" id="2375813">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375819">p</span><span class="op" id="2375820">.</span><span class="ident" id="2375821">buf</span><span class="op" id="2375824">.</span><span class="ident" id="2375825">WriteByte</span><span class="op" id="2375834">(</span><span class="string" id="2375835">&#39;&amp;&#39;</span><span class="op" id="2375838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375844">p</span><span class="op" id="2375845">.</span><span class="ident" id="2375846">printValue</span><span class="op" id="2375856">(</span><span class="ident" id="2375857">a</span><span class="op" id="2375858">,</span>&nbsp;<span class="ident" id="2375860">verb</span><span class="op" id="2375864">,</span>&nbsp;<span class="ident" id="2375866">depth</span><span class="op" id="2375871">+</span><span class="num" id="2375872">1</span><span class="op" id="2375873">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375879">break</span>&nbsp;<span class="ident" id="2375885">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375906">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375919">case</span>&nbsp;<span class="ident" id="2375924">reflect</span><span class="op" id="2375931">.</span><span class="ident" id="2375932">Chan</span><span class="op" id="2375936">,</span>&nbsp;<span class="ident" id="2375938">reflect</span><span class="op" id="2375945">.</span><span class="ident" id="2375946">Func</span><span class="op" id="2375950">,</span>&nbsp;<span class="ident" id="2375952">reflect</span><span class="op" id="2375959">.</span><span class="ident" id="2375960">UnsafePointer</span><span class="op" id="2375973">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375977">p</span><span class="op" id="2375978">.</span><span class="ident" id="2375979">fmtPointer</span><span class="op" id="2375989">(</span><span class="ident" id="2375990">value</span><span class="op" id="2375995">,</span>&nbsp;<span class="ident" id="2375997">verb</span><span class="op" id="2376001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376004">default</span><span class="op" id="2376011">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376015">p</span><span class="op" id="2376016">.</span><span class="ident" id="2376017">unknownType</span><span class="op" id="2376028">(</span><span class="ident" id="2376029">f</span><span class="op" id="2376030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2376033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376036">p</span><span class="op" id="2376037">.</span><span class="ident" id="2376038">value</span>&nbsp;<span class="op" id="2376044">=</span>&nbsp;<span class="ident" id="2376046">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376056">return</span>&nbsp;<span class="ident" id="2376063">wasString</span><br>
<span class="lineno"></span><span class="op" id="2376073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2376076">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2376182">func</span>&nbsp;<span class="ident" id="2376187">intFromArg</span><span class="op" id="2376197">(</span><span class="ident" id="2376198">a</span>&nbsp;<span class="op" id="2376200">[</span><span class="op" id="2376201">]</span><span class="keyword" id="2376202">interface</span><span class="op" id="2376211">{</span><span class="op" id="2376212">}</span><span class="op" id="2376213">,</span>&nbsp;<span class="ident" id="2376215">argNum</span>&nbsp;<span class="builtintype" id="2376222">int</span><span class="op" id="2376225">)</span>&nbsp;<span class="op" id="2376227">(</span><span class="ident" id="2376228">num</span>&nbsp;<span class="builtintype" id="2376232">int</span><span class="op" id="2376235">,</span>&nbsp;<span class="ident" id="2376237">isInt</span>&nbsp;<span class="builtintype" id="2376243">bool</span><span class="op" id="2376247">,</span>&nbsp;<span class="ident" id="2376249">newArgNum</span>&nbsp;<span class="builtintype" id="2376259">int</span><span class="op" id="2376262">)</span>&nbsp;<span class="op" id="2376264">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376267">newArgNum</span>&nbsp;<span class="op" id="2376277">=</span>&nbsp;<span class="ident" id="2376279">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376287">if</span>&nbsp;<span class="ident" id="2376290">argNum</span>&nbsp;<span class="op" id="2376297">&lt;</span>&nbsp;<span class="builtinfunc" id="2376299">len</span><span class="op" id="2376302">(</span><span class="ident" id="2376303">a</span><span class="op" id="2376304">)</span>&nbsp;<span class="op" id="2376306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376310">num</span><span class="op" id="2376313">,</span>&nbsp;<span class="ident" id="2376315">isInt</span>&nbsp;<span class="op" id="2376321">=</span>&nbsp;<span class="ident" id="2376323">a</span><span class="op" id="2376324">[</span><span class="ident" id="2376325">argNum</span><span class="op" id="2376331">]</span><span class="op" id="2376332">.</span><span class="op" id="2376333">(</span><span class="builtintype" id="2376334">int</span><span class="op" id="2376337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376341">newArgNum</span>&nbsp;<span class="op" id="2376351">=</span>&nbsp;<span class="ident" id="2376353">argNum</span>&nbsp;<span class="op" id="2376360">+</span>&nbsp;<span class="num" id="2376362">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2376365">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376368">return</span><br>
<span class="lineno"></span><span class="op" id="2376375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2376378">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2376447">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="2376520">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="2376580">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="2376649">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="2376719">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2376789">func</span>&nbsp;<span class="ident" id="2376794">parseArgNumber</span><span class="op" id="2376808">(</span><span class="ident" id="2376809">format</span>&nbsp;<span class="builtintype" id="2376816">string</span><span class="op" id="2376822">)</span>&nbsp;<span class="op" id="2376824">(</span><span class="ident" id="2376825">index</span>&nbsp;<span class="builtintype" id="2376831">int</span><span class="op" id="2376834">,</span>&nbsp;<span class="ident" id="2376836">wid</span>&nbsp;<span class="builtintype" id="2376840">int</span><span class="op" id="2376843">,</span>&nbsp;<span class="ident" id="2376845">ok</span>&nbsp;<span class="builtintype" id="2376848">bool</span><span class="op" id="2376852">)</span>&nbsp;<span class="op" id="2376854">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2376857">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376883">for</span>&nbsp;<span class="ident" id="2376887">i</span>&nbsp;<span class="op" id="2376889">:=</span>&nbsp;<span class="num" id="2376892">1</span><span class="op" id="2376893">;</span>&nbsp;<span class="ident" id="2376895">i</span>&nbsp;<span class="op" id="2376897">&lt;</span>&nbsp;<span class="builtinfunc" id="2376899">len</span><span class="op" id="2376902">(</span><span class="ident" id="2376903">format</span><span class="op" id="2376909">)</span><span class="op" id="2376910">;</span>&nbsp;<span class="ident" id="2376912">i</span><span class="op" id="2376913">++</span>&nbsp;<span class="op" id="2376916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376920">if</span>&nbsp;<span class="ident" id="2376923">format</span><span class="op" id="2376929">[</span><span class="ident" id="2376930">i</span><span class="op" id="2376931">]</span>&nbsp;<span class="op" id="2376933">==</span>&nbsp;<span class="string" id="2376936">&#39;]&#39;</span>&nbsp;<span class="op" id="2376940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376945">width</span><span class="op" id="2376950">,</span>&nbsp;<span class="ident" id="2376952">ok</span><span class="op" id="2376954">,</span>&nbsp;<span class="ident" id="2376956">newi</span>&nbsp;<span class="op" id="2376961">:=</span>&nbsp;<span class="ident" id="2376964">parsenum</span><span class="op" id="2376972">(</span><span class="ident" id="2376973">format</span><span class="op" id="2376979">,</span>&nbsp;<span class="num" id="2376981">1</span><span class="op" id="2376982">,</span>&nbsp;<span class="ident" id="2376984">i</span><span class="op" id="2376985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376990">if</span>&nbsp;<span class="op" id="2376993">!</span><span class="ident" id="2376994">ok</span>&nbsp;<span class="op" id="2376997">||</span>&nbsp;<span class="ident" id="2377000">newi</span>&nbsp;<span class="op" id="2377005">!=</span>&nbsp;<span class="ident" id="2377008">i</span>&nbsp;<span class="op" id="2377010">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377016">return</span>&nbsp;<span class="num" id="2377023">0</span><span class="op" id="2377024">,</span>&nbsp;<span class="ident" id="2377026">i</span>&nbsp;<span class="op" id="2377028">+</span>&nbsp;<span class="num" id="2377030">1</span><span class="op" id="2377031">,</span>&nbsp;<span class="builtintype" id="2377033">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2377042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377047">return</span>&nbsp;<span class="ident" id="2377054">width</span>&nbsp;<span class="op" id="2377060">-</span>&nbsp;<span class="num" id="2377062">1</span><span class="op" id="2377063">,</span>&nbsp;<span class="ident" id="2377065">i</span>&nbsp;<span class="op" id="2377067">+</span>&nbsp;<span class="num" id="2377069">1</span><span class="op" id="2377070">,</span>&nbsp;<span class="builtintype" id="2377072">true</span>&nbsp;<span class="comment" id="2377077">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2377126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2377129">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377132">return</span>&nbsp;<span class="num" id="2377139">0</span><span class="op" id="2377140">,</span>&nbsp;<span class="num" id="2377142">1</span><span class="op" id="2377143">,</span>&nbsp;<span class="builtintype" id="2377145">false</span><br>
<span class="lineno"></span><span class="op" id="2377151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2377154">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="2377249">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="2377337">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2377422">func</span>&nbsp;<span class="op" id="2377427">(</span><span class="ident" id="2377428">p</span>&nbsp;<span class="op" id="2377430">*</span><span class="ident" id="2377431">pp</span><span class="op" id="2377433">)</span>&nbsp;<span class="ident" id="2377435">argNumber</span><span class="op" id="2377444">(</span><span class="ident" id="2377445">argNum</span>&nbsp;<span class="builtintype" id="2377452">int</span><span class="op" id="2377455">,</span>&nbsp;<span class="ident" id="2377457">format</span>&nbsp;<span class="builtintype" id="2377464">string</span><span class="op" id="2377470">,</span>&nbsp;<span class="ident" id="2377472">i</span>&nbsp;<span class="builtintype" id="2377474">int</span><span class="op" id="2377477">,</span>&nbsp;<span class="ident" id="2377479">numArgs</span>&nbsp;<span class="builtintype" id="2377487">int</span><span class="op" id="2377490">)</span>&nbsp;<span class="op" id="2377492">(</span><span class="ident" id="2377493">newArgNum</span><span class="op" id="2377502">,</span>&nbsp;<span class="ident" id="2377504">newi</span>&nbsp;<span class="builtintype" id="2377509">int</span><span class="op" id="2377512">,</span>&nbsp;<span class="ident" id="2377514">found</span>&nbsp;<span class="builtintype" id="2377520">bool</span><span class="op" id="2377524">)</span>&nbsp;<span class="op" id="2377526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377529">if</span>&nbsp;<span class="builtinfunc" id="2377532">len</span><span class="op" id="2377535">(</span><span class="ident" id="2377536">format</span><span class="op" id="2377542">)</span>&nbsp;<span class="op" id="2377544">&lt;=</span>&nbsp;<span class="ident" id="2377547">i</span>&nbsp;<span class="op" id="2377549">||</span>&nbsp;<span class="ident" id="2377552">format</span><span class="op" id="2377558">[</span><span class="ident" id="2377559">i</span><span class="op" id="2377560">]</span>&nbsp;<span class="op" id="2377562">!=</span>&nbsp;<span class="string" id="2377565">&#39;[&#39;</span>&nbsp;<span class="op" id="2377569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377573">return</span>&nbsp;<span class="ident" id="2377580">argNum</span><span class="op" id="2377586">,</span>&nbsp;<span class="ident" id="2377588">i</span><span class="op" id="2377589">,</span>&nbsp;<span class="builtintype" id="2377591">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2377598">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377601">p</span><span class="op" id="2377602">.</span><span class="ident" id="2377603">reordered</span>&nbsp;<span class="op" id="2377613">=</span>&nbsp;<span class="builtintype" id="2377615">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377621">index</span><span class="op" id="2377626">,</span>&nbsp;<span class="ident" id="2377628">wid</span><span class="op" id="2377631">,</span>&nbsp;<span class="ident" id="2377633">ok</span>&nbsp;<span class="op" id="2377636">:=</span>&nbsp;<span class="ident" id="2377639">parseArgNumber</span><span class="op" id="2377653">(</span><span class="ident" id="2377654">format</span><span class="op" id="2377660">[</span><span class="ident" id="2377661">i</span><span class="op" id="2377662">:</span><span class="op" id="2377663">]</span><span class="op" id="2377664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377667">if</span>&nbsp;<span class="ident" id="2377670">ok</span>&nbsp;<span class="op" id="2377673">&amp;&amp;</span>&nbsp;<span class="num" id="2377676">0</span>&nbsp;<span class="op" id="2377678">&lt;=</span>&nbsp;<span class="ident" id="2377681">index</span>&nbsp;<span class="op" id="2377687">&amp;&amp;</span>&nbsp;<span class="ident" id="2377690">index</span>&nbsp;<span class="op" id="2377696">&lt;</span>&nbsp;<span class="ident" id="2377698">numArgs</span>&nbsp;<span class="op" id="2377706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377710">return</span>&nbsp;<span class="ident" id="2377717">index</span><span class="op" id="2377722">,</span>&nbsp;<span class="ident" id="2377724">i</span>&nbsp;<span class="op" id="2377726">+</span>&nbsp;<span class="ident" id="2377728">wid</span><span class="op" id="2377731">,</span>&nbsp;<span class="builtintype" id="2377733">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2377739">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377742">p</span><span class="op" id="2377743">.</span><span class="ident" id="2377744">goodArgNum</span>&nbsp;<span class="op" id="2377755">=</span>&nbsp;<span class="builtintype" id="2377757">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377764">return</span>&nbsp;<span class="ident" id="2377771">argNum</span><span class="op" id="2377777">,</span>&nbsp;<span class="ident" id="2377779">i</span>&nbsp;<span class="op" id="2377781">+</span>&nbsp;<span class="ident" id="2377783">wid</span><span class="op" id="2377786">,</span>&nbsp;<span class="builtintype" id="2377788">true</span><br>
<span class="lineno"></span><span class="op" id="2377793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2377796">func</span>&nbsp;<span class="op" id="2377801">(</span><span class="ident" id="2377802">p</span>&nbsp;<span class="op" id="2377804">*</span><span class="ident" id="2377805">pp</span><span class="op" id="2377807">)</span>&nbsp;<span class="ident" id="2377809">doPrintf</span><span class="op" id="2377817">(</span><span class="ident" id="2377818">format</span>&nbsp;<span class="builtintype" id="2377825">string</span><span class="op" id="2377831">,</span>&nbsp;<span class="ident" id="2377833">a</span>&nbsp;<span class="op" id="2377835">[</span><span class="op" id="2377836">]</span><span class="keyword" id="2377837">interface</span><span class="op" id="2377846">{</span><span class="op" id="2377847">}</span><span class="op" id="2377848">)</span>&nbsp;<span class="op" id="2377850">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377853">end</span>&nbsp;<span class="op" id="2377857">:=</span>&nbsp;<span class="builtinfunc" id="2377860">len</span><span class="op" id="2377863">(</span><span class="ident" id="2377864">format</span><span class="op" id="2377870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377873">argNum</span>&nbsp;<span class="op" id="2377880">:=</span>&nbsp;<span class="num" id="2377883">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2377893">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377944">afterIndex</span>&nbsp;<span class="op" id="2377955">:=</span>&nbsp;<span class="builtintype" id="2377958">false</span>&nbsp;<span class="comment" id="2377964">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378015">p</span><span class="op" id="2378016">.</span><span class="ident" id="2378017">reordered</span>&nbsp;<span class="op" id="2378027">=</span>&nbsp;<span class="builtintype" id="2378029">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378036">for</span>&nbsp;<span class="ident" id="2378040">i</span>&nbsp;<span class="op" id="2378042">:=</span>&nbsp;<span class="num" id="2378045">0</span><span class="op" id="2378046">;</span>&nbsp;<span class="ident" id="2378048">i</span>&nbsp;<span class="op" id="2378050">&lt;</span>&nbsp;<span class="ident" id="2378052">end</span><span class="op" id="2378055">;</span>&nbsp;<span class="op" id="2378057">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378061">p</span><span class="op" id="2378062">.</span><span class="ident" id="2378063">goodArgNum</span>&nbsp;<span class="op" id="2378074">=</span>&nbsp;<span class="builtintype" id="2378076">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378083">lasti</span>&nbsp;<span class="op" id="2378089">:=</span>&nbsp;<span class="ident" id="2378092">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378096">for</span>&nbsp;<span class="ident" id="2378100">i</span>&nbsp;<span class="op" id="2378102">&lt;</span>&nbsp;<span class="ident" id="2378104">end</span>&nbsp;<span class="op" id="2378108">&amp;&amp;</span>&nbsp;<span class="ident" id="2378111">format</span><span class="op" id="2378117">[</span><span class="ident" id="2378118">i</span><span class="op" id="2378119">]</span>&nbsp;<span class="op" id="2378121">!=</span>&nbsp;<span class="string" id="2378124">&#39;%&#39;</span>&nbsp;<span class="op" id="2378128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378133">i</span><span class="op" id="2378134">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378139">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378143">if</span>&nbsp;<span class="ident" id="2378146">i</span>&nbsp;<span class="op" id="2378148">&gt;</span>&nbsp;<span class="ident" id="2378150">lasti</span>&nbsp;<span class="op" id="2378156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378161">p</span><span class="op" id="2378162">.</span><span class="ident" id="2378163">buf</span><span class="op" id="2378166">.</span><span class="ident" id="2378167">WriteString</span><span class="op" id="2378178">(</span><span class="ident" id="2378179">format</span><span class="op" id="2378185">[</span><span class="ident" id="2378186">lasti</span><span class="op" id="2378191">:</span><span class="ident" id="2378192">i</span><span class="op" id="2378193">]</span><span class="op" id="2378194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378202">if</span>&nbsp;<span class="ident" id="2378205">i</span>&nbsp;<span class="op" id="2378207">&gt;=</span>&nbsp;<span class="ident" id="2378210">end</span>&nbsp;<span class="op" id="2378214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2378219">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378255">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2378268">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378290">i</span><span class="op" id="2378291">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2378297">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378320">p</span><span class="op" id="2378321">.</span><span class="ident" id="2378322">fmt</span><span class="op" id="2378325">.</span><span class="ident" id="2378326">clearflags</span><span class="op" id="2378336">(</span><span class="op" id="2378337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378340">F</span><span class="op" id="2378341">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378345">for</span>&nbsp;<span class="op" id="2378349">;</span>&nbsp;<span class="ident" id="2378351">i</span>&nbsp;<span class="op" id="2378353">&lt;</span>&nbsp;<span class="ident" id="2378355">end</span><span class="op" id="2378358">;</span>&nbsp;<span class="ident" id="2378360">i</span><span class="op" id="2378361">++</span>&nbsp;<span class="op" id="2378364">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378369">switch</span>&nbsp;<span class="ident" id="2378376">format</span><span class="op" id="2378382">[</span><span class="ident" id="2378383">i</span><span class="op" id="2378384">]</span>&nbsp;<span class="op" id="2378386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378391">case</span>&nbsp;<span class="string" id="2378396">&#39;#&#39;</span><span class="op" id="2378399">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378405">p</span><span class="op" id="2378406">.</span><span class="ident" id="2378407">fmt</span><span class="op" id="2378410">.</span><span class="ident" id="2378411">sharp</span>&nbsp;<span class="op" id="2378417">=</span>&nbsp;<span class="builtintype" id="2378419">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378427">case</span>&nbsp;<span class="string" id="2378432">&#39;0&#39;</span><span class="op" id="2378435">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378441">p</span><span class="op" id="2378442">.</span><span class="ident" id="2378443">fmt</span><span class="op" id="2378446">.</span><span class="ident" id="2378447">zero</span>&nbsp;<span class="op" id="2378452">=</span>&nbsp;<span class="builtintype" id="2378454">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378462">case</span>&nbsp;<span class="string" id="2378467">&#39;+&#39;</span><span class="op" id="2378470">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378476">p</span><span class="op" id="2378477">.</span><span class="ident" id="2378478">fmt</span><span class="op" id="2378481">.</span><span class="ident" id="2378482">plus</span>&nbsp;<span class="op" id="2378487">=</span>&nbsp;<span class="builtintype" id="2378489">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378497">case</span>&nbsp;<span class="string" id="2378502">&#39;-&#39;</span><span class="op" id="2378505">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378511">p</span><span class="op" id="2378512">.</span><span class="ident" id="2378513">fmt</span><span class="op" id="2378516">.</span><span class="ident" id="2378517">minus</span>&nbsp;<span class="op" id="2378523">=</span>&nbsp;<span class="builtintype" id="2378525">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378533">case</span>&nbsp;<span class="string" id="2378538">&#39;&nbsp;&#39;</span><span class="op" id="2378541">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378547">p</span><span class="op" id="2378548">.</span><span class="ident" id="2378549">fmt</span><span class="op" id="2378552">.</span><span class="ident" id="2378553">space</span>&nbsp;<span class="op" id="2378559">=</span>&nbsp;<span class="builtintype" id="2378561">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378569">default</span><span class="op" id="2378576">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378582">break</span>&nbsp;<span class="ident" id="2378588">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378597">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2378602">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378646">argNum</span><span class="op" id="2378652">,</span>&nbsp;<span class="ident" id="2378654">i</span><span class="op" id="2378655">,</span>&nbsp;<span class="ident" id="2378657">afterIndex</span>&nbsp;<span class="op" id="2378668">=</span>&nbsp;<span class="ident" id="2378670">p</span><span class="op" id="2378671">.</span><span class="ident" id="2378672">argNumber</span><span class="op" id="2378681">(</span><span class="ident" id="2378682">argNum</span><span class="op" id="2378688">,</span>&nbsp;<span class="ident" id="2378690">format</span><span class="op" id="2378696">,</span>&nbsp;<span class="ident" id="2378698">i</span><span class="op" id="2378699">,</span>&nbsp;<span class="builtinfunc" id="2378701">len</span><span class="op" id="2378704">(</span><span class="ident" id="2378705">a</span><span class="op" id="2378706">)</span><span class="op" id="2378707">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2378712">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378735">if</span>&nbsp;<span class="ident" id="2378738">i</span>&nbsp;<span class="op" id="2378740">&lt;</span>&nbsp;<span class="ident" id="2378742">end</span>&nbsp;<span class="op" id="2378746">&amp;&amp;</span>&nbsp;<span class="ident" id="2378749">format</span><span class="op" id="2378755">[</span><span class="ident" id="2378756">i</span><span class="op" id="2378757">]</span>&nbsp;<span class="op" id="2378759">==</span>&nbsp;<span class="string" id="2378762">&#39;*&#39;</span>&nbsp;<span class="op" id="2378766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378771">i</span><span class="op" id="2378772">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378778">p</span><span class="op" id="2378779">.</span><span class="ident" id="2378780">fmt</span><span class="op" id="2378783">.</span><span class="ident" id="2378784">wid</span><span class="op" id="2378787">,</span>&nbsp;<span class="ident" id="2378789">p</span><span class="op" id="2378790">.</span><span class="ident" id="2378791">fmt</span><span class="op" id="2378794">.</span><span class="ident" id="2378795">widPresent</span><span class="op" id="2378805">,</span>&nbsp;<span class="ident" id="2378807">argNum</span>&nbsp;<span class="op" id="2378814">=</span>&nbsp;<span class="ident" id="2378816">intFromArg</span><span class="op" id="2378826">(</span><span class="ident" id="2378827">a</span><span class="op" id="2378828">,</span>&nbsp;<span class="ident" id="2378830">argNum</span><span class="op" id="2378836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378841">if</span>&nbsp;<span class="op" id="2378844">!</span><span class="ident" id="2378845">p</span><span class="op" id="2378846">.</span><span class="ident" id="2378847">fmt</span><span class="op" id="2378850">.</span><span class="ident" id="2378851">widPresent</span>&nbsp;<span class="op" id="2378862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378868">p</span><span class="op" id="2378869">.</span><span class="ident" id="2378870">buf</span><span class="op" id="2378873">.</span><span class="ident" id="2378874">Write</span><span class="op" id="2378879">(</span><span class="ident" id="2378880">badWidthBytes</span><span class="op" id="2378893">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378903">afterIndex</span>&nbsp;<span class="op" id="2378914">=</span>&nbsp;<span class="builtintype" id="2378916">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378924">}</span>&nbsp;<span class="keyword" id="2378926">else</span>&nbsp;<span class="op" id="2378931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378936">p</span><span class="op" id="2378937">.</span><span class="ident" id="2378938">fmt</span><span class="op" id="2378941">.</span><span class="ident" id="2378942">wid</span><span class="op" id="2378945">,</span>&nbsp;<span class="ident" id="2378947">p</span><span class="op" id="2378948">.</span><span class="ident" id="2378949">fmt</span><span class="op" id="2378952">.</span><span class="ident" id="2378953">widPresent</span><span class="op" id="2378963">,</span>&nbsp;<span class="ident" id="2378965">i</span>&nbsp;<span class="op" id="2378967">=</span>&nbsp;<span class="ident" id="2378969">parsenum</span><span class="op" id="2378977">(</span><span class="ident" id="2378978">format</span><span class="op" id="2378984">,</span>&nbsp;<span class="ident" id="2378986">i</span><span class="op" id="2378987">,</span>&nbsp;<span class="ident" id="2378989">end</span><span class="op" id="2378992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378997">if</span>&nbsp;<span class="ident" id="2379000">afterIndex</span>&nbsp;<span class="op" id="2379011">&amp;&amp;</span>&nbsp;<span class="ident" id="2379014">p</span><span class="op" id="2379015">.</span><span class="ident" id="2379016">fmt</span><span class="op" id="2379019">.</span><span class="ident" id="2379020">widPresent</span>&nbsp;<span class="op" id="2379031">{</span>&nbsp;<span class="comment" id="2379033">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379049">p</span><span class="op" id="2379050">.</span><span class="ident" id="2379051">goodArgNum</span>&nbsp;<span class="op" id="2379062">=</span>&nbsp;<span class="builtintype" id="2379064">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379082">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379109">if</span>&nbsp;<span class="ident" id="2379112">i</span><span class="op" id="2379113">+</span><span class="num" id="2379114">1</span>&nbsp;<span class="op" id="2379116">&lt;</span>&nbsp;<span class="ident" id="2379118">end</span>&nbsp;<span class="op" id="2379122">&amp;&amp;</span>&nbsp;<span class="ident" id="2379125">format</span><span class="op" id="2379131">[</span><span class="ident" id="2379132">i</span><span class="op" id="2379133">]</span>&nbsp;<span class="op" id="2379135">==</span>&nbsp;<span class="string" id="2379138">&#39;.&#39;</span>&nbsp;<span class="op" id="2379142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379147">i</span><span class="op" id="2379148">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379154">if</span>&nbsp;<span class="ident" id="2379157">afterIndex</span>&nbsp;<span class="op" id="2379168">{</span>&nbsp;<span class="comment" id="2379170">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379187">p</span><span class="op" id="2379188">.</span><span class="ident" id="2379189">goodArgNum</span>&nbsp;<span class="op" id="2379200">=</span>&nbsp;<span class="builtintype" id="2379202">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379211">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379216">argNum</span><span class="op" id="2379222">,</span>&nbsp;<span class="ident" id="2379224">i</span><span class="op" id="2379225">,</span>&nbsp;<span class="ident" id="2379227">afterIndex</span>&nbsp;<span class="op" id="2379238">=</span>&nbsp;<span class="ident" id="2379240">p</span><span class="op" id="2379241">.</span><span class="ident" id="2379242">argNumber</span><span class="op" id="2379251">(</span><span class="ident" id="2379252">argNum</span><span class="op" id="2379258">,</span>&nbsp;<span class="ident" id="2379260">format</span><span class="op" id="2379266">,</span>&nbsp;<span class="ident" id="2379268">i</span><span class="op" id="2379269">,</span>&nbsp;<span class="builtinfunc" id="2379271">len</span><span class="op" id="2379274">(</span><span class="ident" id="2379275">a</span><span class="op" id="2379276">)</span><span class="op" id="2379277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379282">if</span>&nbsp;<span class="ident" id="2379285">format</span><span class="op" id="2379291">[</span><span class="ident" id="2379292">i</span><span class="op" id="2379293">]</span>&nbsp;<span class="op" id="2379295">==</span>&nbsp;<span class="string" id="2379298">&#39;*&#39;</span>&nbsp;<span class="op" id="2379302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379308">i</span><span class="op" id="2379309">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379316">p</span><span class="op" id="2379317">.</span><span class="ident" id="2379318">fmt</span><span class="op" id="2379321">.</span><span class="ident" id="2379322">prec</span><span class="op" id="2379326">,</span>&nbsp;<span class="ident" id="2379328">p</span><span class="op" id="2379329">.</span><span class="ident" id="2379330">fmt</span><span class="op" id="2379333">.</span><span class="ident" id="2379334">precPresent</span><span class="op" id="2379345">,</span>&nbsp;<span class="ident" id="2379347">argNum</span>&nbsp;<span class="op" id="2379354">=</span>&nbsp;<span class="ident" id="2379356">intFromArg</span><span class="op" id="2379366">(</span><span class="ident" id="2379367">a</span><span class="op" id="2379368">,</span>&nbsp;<span class="ident" id="2379370">argNum</span><span class="op" id="2379376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379382">if</span>&nbsp;<span class="op" id="2379385">!</span><span class="ident" id="2379386">p</span><span class="op" id="2379387">.</span><span class="ident" id="2379388">fmt</span><span class="op" id="2379391">.</span><span class="ident" id="2379392">precPresent</span>&nbsp;<span class="op" id="2379404">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379411">p</span><span class="op" id="2379412">.</span><span class="ident" id="2379413">buf</span><span class="op" id="2379416">.</span><span class="ident" id="2379417">Write</span><span class="op" id="2379422">(</span><span class="ident" id="2379423">badPrecBytes</span><span class="op" id="2379435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379447">afterIndex</span>&nbsp;<span class="op" id="2379458">=</span>&nbsp;<span class="builtintype" id="2379460">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379469">}</span>&nbsp;<span class="keyword" id="2379471">else</span>&nbsp;<span class="op" id="2379476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379482">p</span><span class="op" id="2379483">.</span><span class="ident" id="2379484">fmt</span><span class="op" id="2379487">.</span><span class="ident" id="2379488">prec</span><span class="op" id="2379492">,</span>&nbsp;<span class="ident" id="2379494">p</span><span class="op" id="2379495">.</span><span class="ident" id="2379496">fmt</span><span class="op" id="2379499">.</span><span class="ident" id="2379500">precPresent</span><span class="op" id="2379511">,</span>&nbsp;<span class="ident" id="2379513">i</span>&nbsp;<span class="op" id="2379515">=</span>&nbsp;<span class="ident" id="2379517">parsenum</span><span class="op" id="2379525">(</span><span class="ident" id="2379526">format</span><span class="op" id="2379532">,</span>&nbsp;<span class="ident" id="2379534">i</span><span class="op" id="2379535">,</span>&nbsp;<span class="ident" id="2379537">end</span><span class="op" id="2379540">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379546">if</span>&nbsp;<span class="op" id="2379549">!</span><span class="ident" id="2379550">p</span><span class="op" id="2379551">.</span><span class="ident" id="2379552">fmt</span><span class="op" id="2379555">.</span><span class="ident" id="2379556">precPresent</span>&nbsp;<span class="op" id="2379568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379575">p</span><span class="op" id="2379576">.</span><span class="ident" id="2379577">fmt</span><span class="op" id="2379580">.</span><span class="ident" id="2379581">prec</span>&nbsp;<span class="op" id="2379586">=</span>&nbsp;<span class="num" id="2379588">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379595">p</span><span class="op" id="2379596">.</span><span class="ident" id="2379597">fmt</span><span class="op" id="2379600">.</span><span class="ident" id="2379601">precPresent</span>&nbsp;<span class="op" id="2379613">=</span>&nbsp;<span class="builtintype" id="2379615">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379629">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379638">if</span>&nbsp;<span class="op" id="2379641">!</span><span class="ident" id="2379642">afterIndex</span>&nbsp;<span class="op" id="2379653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379658">argNum</span><span class="op" id="2379664">,</span>&nbsp;<span class="ident" id="2379666">i</span><span class="op" id="2379667">,</span>&nbsp;<span class="ident" id="2379669">afterIndex</span>&nbsp;<span class="op" id="2379680">=</span>&nbsp;<span class="ident" id="2379682">p</span><span class="op" id="2379683">.</span><span class="ident" id="2379684">argNumber</span><span class="op" id="2379693">(</span><span class="ident" id="2379694">argNum</span><span class="op" id="2379700">,</span>&nbsp;<span class="ident" id="2379702">format</span><span class="op" id="2379708">,</span>&nbsp;<span class="ident" id="2379710">i</span><span class="op" id="2379711">,</span>&nbsp;<span class="builtinfunc" id="2379713">len</span><span class="op" id="2379716">(</span><span class="ident" id="2379717">a</span><span class="op" id="2379718">)</span><span class="op" id="2379719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379723">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379728">if</span>&nbsp;<span class="ident" id="2379731">i</span>&nbsp;<span class="op" id="2379733">&gt;=</span>&nbsp;<span class="ident" id="2379736">end</span>&nbsp;<span class="op" id="2379740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379745">p</span><span class="op" id="2379746">.</span><span class="ident" id="2379747">buf</span><span class="op" id="2379750">.</span><span class="ident" id="2379751">Write</span><span class="op" id="2379756">(</span><span class="ident" id="2379757">noVerbBytes</span><span class="op" id="2379768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379773">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379784">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379788">c</span><span class="op" id="2379789">,</span>&nbsp;<span class="ident" id="2379791">w</span>&nbsp;<span class="op" id="2379793">:=</span>&nbsp;<span class="ident" id="2379796">utf8</span><span class="op" id="2379800">.</span><span class="ident" id="2379801">DecodeRuneInString</span><span class="op" id="2379819">(</span><span class="ident" id="2379820">format</span><span class="op" id="2379826">[</span><span class="ident" id="2379827">i</span><span class="op" id="2379828">:</span><span class="op" id="2379829">]</span><span class="op" id="2379830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379834">i</span>&nbsp;<span class="op" id="2379836">+=</span>&nbsp;<span class="ident" id="2379839">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379843">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379888">if</span>&nbsp;<span class="ident" id="2379891">c</span>&nbsp;<span class="op" id="2379893">==</span>&nbsp;<span class="string" id="2379896">&#39;%&#39;</span>&nbsp;<span class="op" id="2379900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379905">p</span><span class="op" id="2379906">.</span><span class="ident" id="2379907">buf</span><span class="op" id="2379910">.</span><span class="ident" id="2379911">WriteByte</span><span class="op" id="2379920">(</span><span class="string" id="2379921">&#39;%&#39;</span><span class="op" id="2379924">)</span>&nbsp;<span class="comment" id="2379926">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379958">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379973">if</span>&nbsp;<span class="op" id="2379976">!</span><span class="ident" id="2379977">p</span><span class="op" id="2379978">.</span><span class="ident" id="2379979">goodArgNum</span>&nbsp;<span class="op" id="2379990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379995">p</span><span class="op" id="2379996">.</span><span class="ident" id="2379997">buf</span><span class="op" id="2380000">.</span><span class="ident" id="2380001">Write</span><span class="op" id="2380006">(</span><span class="ident" id="2380007">percentBangBytes</span><span class="op" id="2380023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380028">p</span><span class="op" id="2380029">.</span><span class="ident" id="2380030">add</span><span class="op" id="2380033">(</span><span class="ident" id="2380034">c</span><span class="op" id="2380035">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380040">p</span><span class="op" id="2380041">.</span><span class="ident" id="2380042">buf</span><span class="op" id="2380045">.</span><span class="ident" id="2380046">Write</span><span class="op" id="2380051">(</span><span class="ident" id="2380052">badIndexBytes</span><span class="op" id="2380065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380070">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380081">}</span>&nbsp;<span class="keyword" id="2380083">else</span>&nbsp;<span class="keyword" id="2380088">if</span>&nbsp;<span class="ident" id="2380091">argNum</span>&nbsp;<span class="op" id="2380098">&gt;=</span>&nbsp;<span class="builtinfunc" id="2380101">len</span><span class="op" id="2380104">(</span><span class="ident" id="2380105">a</span><span class="op" id="2380106">)</span>&nbsp;<span class="op" id="2380108">{</span>&nbsp;<span class="comment" id="2380110">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380132">p</span><span class="op" id="2380133">.</span><span class="ident" id="2380134">buf</span><span class="op" id="2380137">.</span><span class="ident" id="2380138">Write</span><span class="op" id="2380143">(</span><span class="ident" id="2380144">percentBangBytes</span><span class="op" id="2380160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380165">p</span><span class="op" id="2380166">.</span><span class="ident" id="2380167">add</span><span class="op" id="2380170">(</span><span class="ident" id="2380171">c</span><span class="op" id="2380172">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380177">p</span><span class="op" id="2380178">.</span><span class="ident" id="2380179">buf</span><span class="op" id="2380182">.</span><span class="ident" id="2380183">Write</span><span class="op" id="2380188">(</span><span class="ident" id="2380189">missingBytes</span><span class="op" id="2380201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380206">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380221">arg</span>&nbsp;<span class="op" id="2380225">:=</span>&nbsp;<span class="ident" id="2380228">a</span><span class="op" id="2380229">[</span><span class="ident" id="2380230">argNum</span><span class="op" id="2380236">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380240">argNum</span><span class="op" id="2380246">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380252">if</span>&nbsp;<span class="ident" id="2380255">c</span>&nbsp;<span class="op" id="2380257">==</span>&nbsp;<span class="string" id="2380260">&#39;v&#39;</span>&nbsp;<span class="op" id="2380264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380269">if</span>&nbsp;<span class="ident" id="2380272">p</span><span class="op" id="2380273">.</span><span class="ident" id="2380274">fmt</span><span class="op" id="2380277">.</span><span class="ident" id="2380278">sharp</span>&nbsp;<span class="op" id="2380284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2380290">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380358">p</span><span class="op" id="2380359">.</span><span class="ident" id="2380360">fmt</span><span class="op" id="2380363">.</span><span class="ident" id="2380364">sharp</span>&nbsp;<span class="op" id="2380370">=</span>&nbsp;<span class="builtintype" id="2380372">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380382">p</span><span class="op" id="2380383">.</span><span class="ident" id="2380384">fmt</span><span class="op" id="2380387">.</span><span class="ident" id="2380388">sharpV</span>&nbsp;<span class="op" id="2380395">=</span>&nbsp;<span class="builtintype" id="2380397">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380410">if</span>&nbsp;<span class="ident" id="2380413">p</span><span class="op" id="2380414">.</span><span class="ident" id="2380415">fmt</span><span class="op" id="2380418">.</span><span class="ident" id="2380419">plus</span>&nbsp;<span class="op" id="2380424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2380430">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380507">p</span><span class="op" id="2380508">.</span><span class="ident" id="2380509">fmt</span><span class="op" id="2380512">.</span><span class="ident" id="2380513">plus</span>&nbsp;<span class="op" id="2380518">=</span>&nbsp;<span class="builtintype" id="2380520">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380530">p</span><span class="op" id="2380531">.</span><span class="ident" id="2380532">fmt</span><span class="op" id="2380535">.</span><span class="ident" id="2380536">plusV</span>&nbsp;<span class="op" id="2380542">=</span>&nbsp;<span class="builtintype" id="2380544">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380560">p</span><span class="op" id="2380561">.</span><span class="ident" id="2380562">printArg</span><span class="op" id="2380570">(</span><span class="ident" id="2380571">arg</span><span class="op" id="2380574">,</span>&nbsp;<span class="ident" id="2380576">c</span><span class="op" id="2380577">,</span>&nbsp;<span class="num" id="2380579">0</span><span class="op" id="2380580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380583">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2380587">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2380656">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2380732">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380778">if</span>&nbsp;<span class="op" id="2380781">!</span><span class="ident" id="2380782">p</span><span class="op" id="2380783">.</span><span class="ident" id="2380784">reordered</span>&nbsp;<span class="op" id="2380794">&amp;&amp;</span>&nbsp;<span class="ident" id="2380797">argNum</span>&nbsp;<span class="op" id="2380804">&lt;</span>&nbsp;<span class="builtinfunc" id="2380806">len</span><span class="op" id="2380809">(</span><span class="ident" id="2380810">a</span><span class="op" id="2380811">)</span>&nbsp;<span class="op" id="2380813">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380817">p</span><span class="op" id="2380818">.</span><span class="ident" id="2380819">buf</span><span class="op" id="2380822">.</span><span class="ident" id="2380823">Write</span><span class="op" id="2380828">(</span><span class="ident" id="2380829">extraBytes</span><span class="op" id="2380839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380843">for</span>&nbsp;<span class="op" id="2380847">;</span>&nbsp;<span class="ident" id="2380849">argNum</span>&nbsp;<span class="op" id="2380856">&lt;</span>&nbsp;<span class="builtinfunc" id="2380858">len</span><span class="op" id="2380861">(</span><span class="ident" id="2380862">a</span><span class="op" id="2380863">)</span><span class="op" id="2380864">;</span>&nbsp;<span class="ident" id="2380866">argNum</span><span class="op" id="2380872">++</span>&nbsp;<span class="op" id="2380875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380880">arg</span>&nbsp;<span class="op" id="2380884">:=</span>&nbsp;<span class="ident" id="2380887">a</span><span class="op" id="2380888">[</span><span class="ident" id="2380889">argNum</span><span class="op" id="2380895">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380900">if</span>&nbsp;<span class="ident" id="2380903">arg</span>&nbsp;<span class="op" id="2380907">!=</span>&nbsp;<span class="builtintype" id="2380910">nil</span>&nbsp;<span class="op" id="2380914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380920">p</span><span class="op" id="2380921">.</span><span class="ident" id="2380922">buf</span><span class="op" id="2380925">.</span><span class="ident" id="2380926">WriteString</span><span class="op" id="2380937">(</span><span class="ident" id="2380938">reflect</span><span class="op" id="2380945">.</span><span class="ident" id="2380946">TypeOf</span><span class="op" id="2380952">(</span><span class="ident" id="2380953">arg</span><span class="op" id="2380956">)</span><span class="op" id="2380957">.</span><span class="ident" id="2380958">String</span><span class="op" id="2380964">(</span><span class="op" id="2380965">)</span><span class="op" id="2380966">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380972">p</span><span class="op" id="2380973">.</span><span class="ident" id="2380974">buf</span><span class="op" id="2380977">.</span><span class="ident" id="2380978">WriteByte</span><span class="op" id="2380987">(</span><span class="string" id="2380988">&#39;=&#39;</span><span class="op" id="2380991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381001">p</span><span class="op" id="2381002">.</span><span class="ident" id="2381003">printArg</span><span class="op" id="2381011">(</span><span class="ident" id="2381012">arg</span><span class="op" id="2381015">,</span>&nbsp;<span class="string" id="2381017">&#39;v&#39;</span><span class="op" id="2381020">,</span>&nbsp;<span class="num" id="2381022">0</span><span class="op" id="2381023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381028">if</span>&nbsp;<span class="ident" id="2381031">argNum</span><span class="op" id="2381037">+</span><span class="num" id="2381038">1</span>&nbsp;<span class="op" id="2381040">&lt;</span>&nbsp;<span class="builtinfunc" id="2381042">len</span><span class="op" id="2381045">(</span><span class="ident" id="2381046">a</span><span class="op" id="2381047">)</span>&nbsp;<span class="op" id="2381049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381055">p</span><span class="op" id="2381056">.</span><span class="ident" id="2381057">buf</span><span class="op" id="2381060">.</span><span class="ident" id="2381061">Write</span><span class="op" id="2381066">(</span><span class="ident" id="2381067">commaSpaceBytes</span><span class="op" id="2381082">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381095">p</span><span class="op" id="2381096">.</span><span class="ident" id="2381097">buf</span><span class="op" id="2381100">.</span><span class="ident" id="2381101">WriteByte</span><span class="op" id="2381110">(</span><span class="string" id="2381111">&#39;)&#39;</span><span class="op" id="2381114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381117">}</span><br>
<span class="lineno"></span><span class="op" id="2381119">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="2381122">func</span>&nbsp;<span class="op" id="2381127">(</span><span class="ident" id="2381128">p</span>&nbsp;<span class="op" id="2381130">*</span><span class="ident" id="2381131">pp</span><span class="op" id="2381133">)</span>&nbsp;<span class="ident" id="2381135">doPrint</span><span class="op" id="2381142">(</span><span class="ident" id="2381143">a</span>&nbsp;<span class="op" id="2381145">[</span><span class="op" id="2381146">]</span><span class="keyword" id="2381147">interface</span><span class="op" id="2381156">{</span><span class="op" id="2381157">}</span><span class="op" id="2381158">,</span>&nbsp;<span class="ident" id="2381160">addspace</span><span class="op" id="2381168">,</span>&nbsp;<span class="ident" id="2381170">addnewline</span>&nbsp;<span class="builtintype" id="2381181">bool</span><span class="op" id="2381185">)</span>&nbsp;<span class="op" id="2381187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381190">prevString</span>&nbsp;<span class="op" id="2381201">:=</span>&nbsp;<span class="builtintype" id="2381204">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381211">for</span>&nbsp;<span class="ident" id="2381215">argNum</span>&nbsp;<span class="op" id="2381222">:=</span>&nbsp;<span class="num" id="2381225">0</span><span class="op" id="2381226">;</span>&nbsp;<span class="ident" id="2381228">argNum</span>&nbsp;<span class="op" id="2381235">&lt;</span>&nbsp;<span class="builtinfunc" id="2381237">len</span><span class="op" id="2381240">(</span><span class="ident" id="2381241">a</span><span class="op" id="2381242">)</span><span class="op" id="2381243">;</span>&nbsp;<span class="ident" id="2381245">argNum</span><span class="op" id="2381251">++</span>&nbsp;<span class="op" id="2381254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381258">p</span><span class="op" id="2381259">.</span><span class="ident" id="2381260">fmt</span><span class="op" id="2381263">.</span><span class="ident" id="2381264">clearflags</span><span class="op" id="2381274">(</span><span class="op" id="2381275">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2381279">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381325">arg</span>&nbsp;<span class="op" id="2381329">:=</span>&nbsp;<span class="ident" id="2381332">a</span><span class="op" id="2381333">[</span><span class="ident" id="2381334">argNum</span><span class="op" id="2381340">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381344">if</span>&nbsp;<span class="ident" id="2381347">argNum</span>&nbsp;<span class="op" id="2381354">&gt;</span>&nbsp;<span class="num" id="2381356">0</span>&nbsp;<span class="op" id="2381358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381363">isString</span>&nbsp;<span class="op" id="2381372">:=</span>&nbsp;<span class="ident" id="2381375">arg</span>&nbsp;<span class="op" id="2381379">!=</span>&nbsp;<span class="builtintype" id="2381382">nil</span>&nbsp;<span class="op" id="2381386">&amp;&amp;</span>&nbsp;<span class="ident" id="2381389">reflect</span><span class="op" id="2381396">.</span><span class="ident" id="2381397">TypeOf</span><span class="op" id="2381403">(</span><span class="ident" id="2381404">arg</span><span class="op" id="2381407">)</span><span class="op" id="2381408">.</span><span class="ident" id="2381409">Kind</span><span class="op" id="2381413">(</span><span class="op" id="2381414">)</span>&nbsp;<span class="op" id="2381416">==</span>&nbsp;<span class="ident" id="2381419">reflect</span><span class="op" id="2381426">.</span><span class="ident" id="2381427">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381437">if</span>&nbsp;<span class="ident" id="2381440">addspace</span>&nbsp;<span class="op" id="2381449">||</span>&nbsp;<span class="op" id="2381452">!</span><span class="ident" id="2381453">isString</span>&nbsp;<span class="op" id="2381462">&amp;&amp;</span>&nbsp;<span class="op" id="2381465">!</span><span class="ident" id="2381466">prevString</span>&nbsp;<span class="op" id="2381477">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381483">p</span><span class="op" id="2381484">.</span><span class="ident" id="2381485">buf</span><span class="op" id="2381488">.</span><span class="ident" id="2381489">WriteByte</span><span class="op" id="2381498">(</span><span class="string" id="2381499">&#39;&nbsp;&#39;</span><span class="op" id="2381502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381515">prevString</span>&nbsp;<span class="op" id="2381526">=</span>&nbsp;<span class="ident" id="2381528">p</span><span class="op" id="2381529">.</span><span class="ident" id="2381530">printArg</span><span class="op" id="2381538">(</span><span class="ident" id="2381539">arg</span><span class="op" id="2381542">,</span>&nbsp;<span class="string" id="2381544">&#39;v&#39;</span><span class="op" id="2381547">,</span>&nbsp;<span class="num" id="2381549">0</span><span class="op" id="2381550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381553">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381556">if</span>&nbsp;<span class="ident" id="2381559">addnewline</span>&nbsp;<span class="op" id="2381570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381574">p</span><span class="op" id="2381575">.</span><span class="ident" id="2381576">buf</span><span class="op" id="2381579">.</span><span class="ident" id="2381580">WriteByte</span><span class="op" id="2381589">(</span><span class="string" id="2381590">&#39;\n&#39;</span><span class="op" id="2381594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381597">}</span><br>
<span class="lineno"></span><span class="op" id="2381599">}</span>
</div>
</body>
</html>
