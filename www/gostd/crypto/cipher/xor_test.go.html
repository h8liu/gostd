<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>crypto/cipher</h2>
<ul>
<li><a href="/gostd/crypto/cipher/benchmark_test.go.html">benchmark_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cbc.go.html">cbc.go</a></li>
<li><a href="/gostd/crypto/cipher/cbc_aes_test.go.html">cbc_aes_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cfb.go.html">cfb.go</a></li>
<li><a href="/gostd/crypto/cipher/cfb_test.go.html">cfb_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cipher.go.html">cipher.go</a></li>
<li><a href="/gostd/crypto/cipher/cipher_test.go.html">cipher_test.go</a></li>
<li><a href="/gostd/crypto/cipher/common_test.go.html">common_test.go</a></li>
<li><a href="/gostd/crypto/cipher/ctr.go.html">ctr.go</a></li>
<li><a href="/gostd/crypto/cipher/ctr_aes_test.go.html">ctr_aes_test.go</a></li>
<li><a href="/gostd/crypto/cipher/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/crypto/cipher/gcm.go.html">gcm.go</a></li>
<li><a href="/gostd/crypto/cipher/gcm_test.go.html">gcm_test.go</a></li>
<li><a href="/gostd/crypto/cipher/io.go.html">io.go</a></li>
<li><a href="/gostd/crypto/cipher/ofb.go.html">ofb.go</a></li>
<li><a href="/gostd/crypto/cipher/ofb_test.go.html">ofb_test.go</a></li>
<li><a href="/gostd/crypto/cipher/xor.go.html">xor.go</a></li>
<li><a href="/gostd/crypto/cipher/xor_test.go.html">xor_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7398005">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7398060">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7398114">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7398165">package</span>&nbsp;<span class="ident" id="7398173">cipher</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7398181">import</span>&nbsp;<span class="op" id="7398188">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7398191">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7398200">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7398210">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7398213">func</span>&nbsp;<span class="ident" id="7398218">TestXOR</span><span class="op" id="7398225">(</span><span class="ident" id="7398226">t</span>&nbsp;<span class="op" id="7398228">*</span><span class="ident" id="7398229">testing</span><span class="op" id="7398236">.</span><span class="ident" id="7398237">T</span><span class="op" id="7398238">)</span>&nbsp;<span class="op" id="7398240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398243">for</span>&nbsp;<span class="ident" id="7398247">alignP</span>&nbsp;<span class="op" id="7398254">:=</span>&nbsp;<span class="num" id="7398257">0</span><span class="op" id="7398258">;</span>&nbsp;<span class="ident" id="7398260">alignP</span>&nbsp;<span class="op" id="7398267">&lt;</span>&nbsp;<span class="num" id="7398269">2</span><span class="op" id="7398270">;</span>&nbsp;<span class="ident" id="7398272">alignP</span><span class="op" id="7398278">++</span>&nbsp;<span class="op" id="7398281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398285">for</span>&nbsp;<span class="ident" id="7398289">alignQ</span>&nbsp;<span class="op" id="7398296">:=</span>&nbsp;<span class="num" id="7398299">0</span><span class="op" id="7398300">;</span>&nbsp;<span class="ident" id="7398302">alignQ</span>&nbsp;<span class="op" id="7398309">&lt;</span>&nbsp;<span class="num" id="7398311">2</span><span class="op" id="7398312">;</span>&nbsp;<span class="ident" id="7398314">alignQ</span><span class="op" id="7398320">++</span>&nbsp;<span class="op" id="7398323">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398328">for</span>&nbsp;<span class="ident" id="7398332">alignD</span>&nbsp;<span class="op" id="7398339">:=</span>&nbsp;<span class="num" id="7398342">0</span><span class="op" id="7398343">;</span>&nbsp;<span class="ident" id="7398345">alignD</span>&nbsp;<span class="op" id="7398352">&lt;</span>&nbsp;<span class="num" id="7398354">2</span><span class="op" id="7398355">;</span>&nbsp;<span class="ident" id="7398357">alignD</span><span class="op" id="7398363">++</span>&nbsp;<span class="op" id="7398366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398372">p</span>&nbsp;<span class="op" id="7398374">:=</span>&nbsp;<span class="builtinfunc" id="7398377">make</span><span class="op" id="7398381">(</span><span class="op" id="7398382">[</span><span class="op" id="7398383">]</span><span class="builtintype" id="7398384">byte</span><span class="op" id="7398388">,</span>&nbsp;<span class="num" id="7398390">1024</span><span class="op" id="7398394">)</span><span class="op" id="7398395">[</span><span class="ident" id="7398396">alignP</span><span class="op" id="7398402">:</span><span class="op" id="7398403">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398409">q</span>&nbsp;<span class="op" id="7398411">:=</span>&nbsp;<span class="builtinfunc" id="7398414">make</span><span class="op" id="7398418">(</span><span class="op" id="7398419">[</span><span class="op" id="7398420">]</span><span class="builtintype" id="7398421">byte</span><span class="op" id="7398425">,</span>&nbsp;<span class="num" id="7398427">1024</span><span class="op" id="7398431">)</span><span class="op" id="7398432">[</span><span class="ident" id="7398433">alignQ</span><span class="op" id="7398439">:</span><span class="op" id="7398440">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398446">d1</span>&nbsp;<span class="op" id="7398449">:=</span>&nbsp;<span class="builtinfunc" id="7398452">make</span><span class="op" id="7398456">(</span><span class="op" id="7398457">[</span><span class="op" id="7398458">]</span><span class="builtintype" id="7398459">byte</span><span class="op" id="7398463">,</span>&nbsp;<span class="num" id="7398465">1024</span><span class="op" id="7398469">+</span><span class="ident" id="7398470">alignD</span><span class="op" id="7398476">)</span><span class="op" id="7398477">[</span><span class="ident" id="7398478">alignD</span><span class="op" id="7398484">:</span><span class="op" id="7398485">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398491">d2</span>&nbsp;<span class="op" id="7398494">:=</span>&nbsp;<span class="builtinfunc" id="7398497">make</span><span class="op" id="7398501">(</span><span class="op" id="7398502">[</span><span class="op" id="7398503">]</span><span class="builtintype" id="7398504">byte</span><span class="op" id="7398508">,</span>&nbsp;<span class="num" id="7398510">1024</span><span class="op" id="7398514">+</span><span class="ident" id="7398515">alignD</span><span class="op" id="7398521">)</span><span class="op" id="7398522">[</span><span class="ident" id="7398523">alignD</span><span class="op" id="7398529">:</span><span class="op" id="7398530">]</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398536">xorBytes</span><span class="op" id="7398544">(</span><span class="ident" id="7398545">d1</span><span class="op" id="7398547">,</span>&nbsp;<span class="ident" id="7398549">p</span><span class="op" id="7398550">,</span>&nbsp;<span class="ident" id="7398552">q</span><span class="op" id="7398553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398559">safeXORBytes</span><span class="op" id="7398571">(</span><span class="ident" id="7398572">d2</span><span class="op" id="7398574">,</span>&nbsp;<span class="ident" id="7398576">p</span><span class="op" id="7398577">,</span>&nbsp;<span class="ident" id="7398579">q</span><span class="op" id="7398580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398586">if</span>&nbsp;<span class="ident" id="7398589">bytes</span><span class="op" id="7398594">.</span><span class="ident" id="7398595">Compare</span><span class="op" id="7398602">(</span><span class="ident" id="7398603">d1</span><span class="op" id="7398605">,</span>&nbsp;<span class="ident" id="7398607">d2</span><span class="op" id="7398609">)</span>&nbsp;<span class="op" id="7398611">!=</span>&nbsp;<span class="num" id="7398614">0</span>&nbsp;<span class="op" id="7398616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398623">t</span><span class="op" id="7398624">.</span><span class="ident" id="7398625">Error</span><span class="op" id="7398630">(</span><span class="string" id="7398631">&#34;not&nbsp;equal&#34;</span><span class="op" id="7398642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7398648">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7398653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7398657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7398660">}</span><br>
<span class="lineno"></span><span class="op" id="7398662">}</span>
</div>
</body>
</html>
