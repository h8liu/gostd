<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8163591">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8163647">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8163701">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8163752">package</span>&nbsp;<span class="ident" id="8163760">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8163766">import</span>&nbsp;<span class="op" id="8163773">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8163776">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8163786">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8163789">func</span>&nbsp;<span class="ident" id="8163794">TestTagParsing</span><span class="op" id="8163808">(</span><span class="ident" id="8163809">t</span>&nbsp;<span class="op" id="8163811">*</span><span class="ident" id="8163812">testing</span><span class="op" id="8163819">.</span><span class="ident" id="8163820">T</span><span class="op" id="8163821">)</span>&nbsp;<span class="op" id="8163823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8163826">name</span><span class="op" id="8163830">,</span>&nbsp;<span class="ident" id="8163832">opts</span>&nbsp;<span class="op" id="8163837">:=</span>&nbsp;<span class="ident" id="8163840">parseTag</span><span class="op" id="8163848">(</span><span class="string" id="8163849">&#34;field,foobar,foo&#34;</span><span class="op" id="8163867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8163870">if</span>&nbsp;<span class="ident" id="8163873">name</span>&nbsp;<span class="op" id="8163878">!=</span>&nbsp;<span class="string" id="8163881">&#34;field&#34;</span>&nbsp;<span class="op" id="8163889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8163893">t</span><span class="op" id="8163894">.</span><span class="ident" id="8163895">Fatalf</span><span class="op" id="8163901">(</span><span class="string" id="8163902">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="8163925">,</span>&nbsp;<span class="ident" id="8163927">name</span><span class="op" id="8163931">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8163934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8163937">for</span>&nbsp;<span class="ident" id="8163941">_</span><span class="op" id="8163942">,</span>&nbsp;<span class="ident" id="8163944">tt</span>&nbsp;<span class="op" id="8163947">:=</span>&nbsp;<span class="keyword" id="8163950">range</span>&nbsp;<span class="op" id="8163956">[</span><span class="op" id="8163957">]</span><span class="keyword" id="8163958">struct</span>&nbsp;<span class="op" id="8163965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8163969">opt</span>&nbsp;&nbsp;<span class="builtintype" id="8163974">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8163983">want</span>&nbsp;<span class="builtintype" id="8163988">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8163994">}</span><span class="op" id="8163995">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8163999">{</span><span class="string" id="8164000">&#34;foobar&#34;</span><span class="op" id="8164008">,</span>&nbsp;<span class="builtintype" id="8164010">true</span><span class="op" id="8164014">}</span><span class="op" id="8164015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8164019">{</span><span class="string" id="8164020">&#34;foo&#34;</span><span class="op" id="8164025">,</span>&nbsp;<span class="builtintype" id="8164027">true</span><span class="op" id="8164031">}</span><span class="op" id="8164032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8164036">{</span><span class="string" id="8164037">&#34;bar&#34;</span><span class="op" id="8164042">,</span>&nbsp;<span class="builtintype" id="8164044">false</span><span class="op" id="8164049">}</span><span class="op" id="8164050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8164053">}</span>&nbsp;<span class="op" id="8164055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8164059">if</span>&nbsp;<span class="ident" id="8164062">opts</span><span class="op" id="8164066">.</span><span class="ident" id="8164067">Contains</span><span class="op" id="8164075">(</span><span class="ident" id="8164076">tt</span><span class="op" id="8164078">.</span><span class="ident" id="8164079">opt</span><span class="op" id="8164082">)</span>&nbsp;<span class="op" id="8164084">!=</span>&nbsp;<span class="ident" id="8164087">tt</span><span class="op" id="8164089">.</span><span class="ident" id="8164090">want</span>&nbsp;<span class="op" id="8164095">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8164100">t</span><span class="op" id="8164101">.</span><span class="ident" id="8164102">Errorf</span><span class="op" id="8164108">(</span><span class="string" id="8164109">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="8164128">,</span>&nbsp;<span class="ident" id="8164130">tt</span><span class="op" id="8164132">.</span><span class="ident" id="8164133">opt</span><span class="op" id="8164136">,</span>&nbsp;<span class="op" id="8164138">!</span><span class="ident" id="8164139">tt</span><span class="op" id="8164141">.</span><span class="ident" id="8164142">want</span><span class="op" id="8164146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8164150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8164153">}</span><br>
<span class="lineno"></span><span class="op" id="8164155">}</span>
</div>
</body>
</html>
