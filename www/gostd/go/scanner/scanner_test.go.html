<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8458701">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8458756">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8458810">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8458861">package</span>&nbsp;<span class="ident" id="8458869">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8458878">import</span>&nbsp;<span class="op" id="8458885">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8458888">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8458900">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8458913">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8458919">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8458936">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8458947">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8458957">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8458960">var</span>&nbsp;<span class="ident" id="8458964">fset</span>&nbsp;<span class="op" id="8458969">=</span>&nbsp;<span class="ident" id="8458971">token</span><span class="op" id="8458976">.</span><span class="ident" id="8458977">NewFileSet</span><span class="op" id="8458987">(</span><span class="op" id="8458988">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8458991">const</span>&nbsp;<span class="comment" id="8458997">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="8459009">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8459012">special</span>&nbsp;<span class="op" id="8459020">=</span>&nbsp;<span class="ident" id="8459022">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8459028">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8459037">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8459047">keyword</span><br>
<span class="lineno"></span><span class="op" id="8459055">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8459058">func</span>&nbsp;<span class="ident" id="8459063">tokenclass</span><span class="op" id="8459073">(</span><span class="ident" id="8459074">tok</span>&nbsp;<span class="ident" id="8459078">token</span><span class="op" id="8459083">.</span><span class="ident" id="8459084">Token</span><span class="op" id="8459089">)</span>&nbsp;<span class="builtintype" id="8459091">int</span>&nbsp;<span class="op" id="8459095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8459098">switch</span>&nbsp;<span class="op" id="8459105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8459108">case</span>&nbsp;<span class="ident" id="8459113">tok</span><span class="op" id="8459116">.</span><span class="ident" id="8459117">IsLiteral</span><span class="op" id="8459126">(</span><span class="op" id="8459127">)</span><span class="op" id="8459128">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8459132">return</span>&nbsp;<span class="ident" id="8459139">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8459148">case</span>&nbsp;<span class="ident" id="8459153">tok</span><span class="op" id="8459156">.</span><span class="ident" id="8459157">IsOperator</span><span class="op" id="8459167">(</span><span class="op" id="8459168">)</span><span class="op" id="8459169">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8459173">return</span>&nbsp;<span class="ident" id="8459180">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8459190">case</span>&nbsp;<span class="ident" id="8459195">tok</span><span class="op" id="8459198">.</span><span class="ident" id="8459199">IsKeyword</span><span class="op" id="8459208">(</span><span class="op" id="8459209">)</span><span class="op" id="8459210">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8459214">return</span>&nbsp;<span class="ident" id="8459221">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8459233">return</span>&nbsp;<span class="ident" id="8459240">special</span><br>
<span class="lineno">35</span><span class="op" id="8459248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8459251">type</span>&nbsp;<span class="ident" id="8459256">elt</span>&nbsp;<span class="keyword" id="8459260">struct</span>&nbsp;<span class="op" id="8459267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8459270">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8459276">token</span><span class="op" id="8459281">.</span><span class="ident" id="8459282">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8459289">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8459295">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8459303">class</span>&nbsp;<span class="builtintype" id="8459309">int</span><br>
<span class="lineno"></span><span class="op" id="8459313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8459316">var</span>&nbsp;<span class="ident" id="8459320">tokens</span>&nbsp;<span class="op" id="8459327">=</span>&nbsp;<span class="op" id="8459329">[</span><span class="op" id="8459330">...</span><span class="op" id="8459333">]</span><span class="ident" id="8459334">elt</span><span class="op" id="8459337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8459340">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459359">{</span><span class="ident" id="8459360">token</span><span class="op" id="8459365">.</span><span class="ident" id="8459366">COMMENT</span><span class="op" id="8459373">,</span>&nbsp;<span class="string" id="8459375">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8459392">,</span>&nbsp;<span class="ident" id="8459394">special</span><span class="op" id="8459401">}</span><span class="op" id="8459402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459405">{</span><span class="ident" id="8459406">token</span><span class="op" id="8459411">.</span><span class="ident" id="8459412">COMMENT</span><span class="op" id="8459419">,</span>&nbsp;<span class="string" id="8459421">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="8459438">,</span>&nbsp;<span class="ident" id="8459440">special</span><span class="op" id="8459447">}</span><span class="op" id="8459448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459451">{</span><span class="ident" id="8459452">token</span><span class="op" id="8459457">.</span><span class="ident" id="8459458">COMMENT</span><span class="op" id="8459465">,</span>&nbsp;<span class="string" id="8459467">&#34;/*\r*/&#34;</span><span class="op" id="8459475">,</span>&nbsp;<span class="ident" id="8459477">special</span><span class="op" id="8459484">}</span><span class="op" id="8459485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459488">{</span><span class="ident" id="8459489">token</span><span class="op" id="8459494">.</span><span class="ident" id="8459495">COMMENT</span><span class="op" id="8459502">,</span>&nbsp;<span class="string" id="8459504">&#34;//\r\n&#34;</span><span class="op" id="8459512">,</span>&nbsp;<span class="ident" id="8459514">special</span><span class="op" id="8459521">}</span><span class="op" id="8459522">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8459526">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459566">{</span><span class="ident" id="8459567">token</span><span class="op" id="8459572">.</span><span class="ident" id="8459573">IDENT</span><span class="op" id="8459578">,</span>&nbsp;<span class="string" id="8459580">&#34;foobar&#34;</span><span class="op" id="8459588">,</span>&nbsp;<span class="ident" id="8459590">literal</span><span class="op" id="8459597">}</span><span class="op" id="8459598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459601">{</span><span class="ident" id="8459602">token</span><span class="op" id="8459607">.</span><span class="ident" id="8459608">IDENT</span><span class="op" id="8459613">,</span>&nbsp;<span class="string" id="8459615">&#34;a۰۱۸&#34;</span><span class="op" id="8459624">,</span>&nbsp;<span class="ident" id="8459626">literal</span><span class="op" id="8459633">}</span><span class="op" id="8459634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459637">{</span><span class="ident" id="8459638">token</span><span class="op" id="8459643">.</span><span class="ident" id="8459644">IDENT</span><span class="op" id="8459649">,</span>&nbsp;<span class="string" id="8459651">&#34;foo६४&#34;</span><span class="op" id="8459662">,</span>&nbsp;<span class="ident" id="8459664">literal</span><span class="op" id="8459671">}</span><span class="op" id="8459672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459675">{</span><span class="ident" id="8459676">token</span><span class="op" id="8459681">.</span><span class="ident" id="8459682">IDENT</span><span class="op" id="8459687">,</span>&nbsp;<span class="string" id="8459689">&#34;bar９８７６&#34;</span><span class="op" id="8459706">,</span>&nbsp;<span class="ident" id="8459708">literal</span><span class="op" id="8459715">}</span><span class="op" id="8459716">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459719">{</span><span class="ident" id="8459720">token</span><span class="op" id="8459725">.</span><span class="ident" id="8459726">IDENT</span><span class="op" id="8459731">,</span>&nbsp;<span class="string" id="8459733">&#34;ŝ&#34;</span><span class="op" id="8459737">,</span>&nbsp;<span class="ident" id="8459739">literal</span><span class="op" id="8459746">}</span><span class="op" id="8459747">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8459752">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459777">{</span><span class="ident" id="8459778">token</span><span class="op" id="8459783">.</span><span class="ident" id="8459784">IDENT</span><span class="op" id="8459789">,</span>&nbsp;<span class="string" id="8459791">&#34;ŝfoo&#34;</span><span class="op" id="8459798">,</span>&nbsp;<span class="ident" id="8459800">literal</span><span class="op" id="8459807">}</span><span class="op" id="8459808">,</span>&nbsp;<span class="comment" id="8459810">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459835">{</span><span class="ident" id="8459836">token</span><span class="op" id="8459841">.</span><span class="ident" id="8459842">INT</span><span class="op" id="8459845">,</span>&nbsp;<span class="string" id="8459847">&#34;0&#34;</span><span class="op" id="8459850">,</span>&nbsp;<span class="ident" id="8459852">literal</span><span class="op" id="8459859">}</span><span class="op" id="8459860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459863">{</span><span class="ident" id="8459864">token</span><span class="op" id="8459869">.</span><span class="ident" id="8459870">INT</span><span class="op" id="8459873">,</span>&nbsp;<span class="string" id="8459875">&#34;1&#34;</span><span class="op" id="8459878">,</span>&nbsp;<span class="ident" id="8459880">literal</span><span class="op" id="8459887">}</span><span class="op" id="8459888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459891">{</span><span class="ident" id="8459892">token</span><span class="op" id="8459897">.</span><span class="ident" id="8459898">INT</span><span class="op" id="8459901">,</span>&nbsp;<span class="string" id="8459903">&#34;123456789012345678890&#34;</span><span class="op" id="8459926">,</span>&nbsp;<span class="ident" id="8459928">literal</span><span class="op" id="8459935">}</span><span class="op" id="8459936">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459939">{</span><span class="ident" id="8459940">token</span><span class="op" id="8459945">.</span><span class="ident" id="8459946">INT</span><span class="op" id="8459949">,</span>&nbsp;<span class="string" id="8459951">&#34;01234567&#34;</span><span class="op" id="8459961">,</span>&nbsp;<span class="ident" id="8459963">literal</span><span class="op" id="8459970">}</span><span class="op" id="8459971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8459974">{</span><span class="ident" id="8459975">token</span><span class="op" id="8459980">.</span><span class="ident" id="8459981">INT</span><span class="op" id="8459984">,</span>&nbsp;<span class="string" id="8459986">&#34;0xcafebabe&#34;</span><span class="op" id="8459998">,</span>&nbsp;<span class="ident" id="8460000">literal</span><span class="op" id="8460007">}</span><span class="op" id="8460008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460011">{</span><span class="ident" id="8460012">token</span><span class="op" id="8460017">.</span><span class="ident" id="8460018">FLOAT</span><span class="op" id="8460023">,</span>&nbsp;<span class="string" id="8460025">&#34;0.&#34;</span><span class="op" id="8460029">,</span>&nbsp;<span class="ident" id="8460031">literal</span><span class="op" id="8460038">}</span><span class="op" id="8460039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460042">{</span><span class="ident" id="8460043">token</span><span class="op" id="8460048">.</span><span class="ident" id="8460049">FLOAT</span><span class="op" id="8460054">,</span>&nbsp;<span class="string" id="8460056">&#34;.0&#34;</span><span class="op" id="8460060">,</span>&nbsp;<span class="ident" id="8460062">literal</span><span class="op" id="8460069">}</span><span class="op" id="8460070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460073">{</span><span class="ident" id="8460074">token</span><span class="op" id="8460079">.</span><span class="ident" id="8460080">FLOAT</span><span class="op" id="8460085">,</span>&nbsp;<span class="string" id="8460087">&#34;3.14159265&#34;</span><span class="op" id="8460099">,</span>&nbsp;<span class="ident" id="8460101">literal</span><span class="op" id="8460108">}</span><span class="op" id="8460109">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460112">{</span><span class="ident" id="8460113">token</span><span class="op" id="8460118">.</span><span class="ident" id="8460119">FLOAT</span><span class="op" id="8460124">,</span>&nbsp;<span class="string" id="8460126">&#34;1e0&#34;</span><span class="op" id="8460131">,</span>&nbsp;<span class="ident" id="8460133">literal</span><span class="op" id="8460140">}</span><span class="op" id="8460141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460144">{</span><span class="ident" id="8460145">token</span><span class="op" id="8460150">.</span><span class="ident" id="8460151">FLOAT</span><span class="op" id="8460156">,</span>&nbsp;<span class="string" id="8460158">&#34;1e+100&#34;</span><span class="op" id="8460166">,</span>&nbsp;<span class="ident" id="8460168">literal</span><span class="op" id="8460175">}</span><span class="op" id="8460176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460179">{</span><span class="ident" id="8460180">token</span><span class="op" id="8460185">.</span><span class="ident" id="8460186">FLOAT</span><span class="op" id="8460191">,</span>&nbsp;<span class="string" id="8460193">&#34;1e-100&#34;</span><span class="op" id="8460201">,</span>&nbsp;<span class="ident" id="8460203">literal</span><span class="op" id="8460210">}</span><span class="op" id="8460211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460214">{</span><span class="ident" id="8460215">token</span><span class="op" id="8460220">.</span><span class="ident" id="8460221">FLOAT</span><span class="op" id="8460226">,</span>&nbsp;<span class="string" id="8460228">&#34;2.71828e-1000&#34;</span><span class="op" id="8460243">,</span>&nbsp;<span class="ident" id="8460245">literal</span><span class="op" id="8460252">}</span><span class="op" id="8460253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460256">{</span><span class="ident" id="8460257">token</span><span class="op" id="8460262">.</span><span class="ident" id="8460263">IMAG</span><span class="op" id="8460267">,</span>&nbsp;<span class="string" id="8460269">&#34;0i&#34;</span><span class="op" id="8460273">,</span>&nbsp;<span class="ident" id="8460275">literal</span><span class="op" id="8460282">}</span><span class="op" id="8460283">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460286">{</span><span class="ident" id="8460287">token</span><span class="op" id="8460292">.</span><span class="ident" id="8460293">IMAG</span><span class="op" id="8460297">,</span>&nbsp;<span class="string" id="8460299">&#34;1i&#34;</span><span class="op" id="8460303">,</span>&nbsp;<span class="ident" id="8460305">literal</span><span class="op" id="8460312">}</span><span class="op" id="8460313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460316">{</span><span class="ident" id="8460317">token</span><span class="op" id="8460322">.</span><span class="ident" id="8460323">IMAG</span><span class="op" id="8460327">,</span>&nbsp;<span class="string" id="8460329">&#34;012345678901234567889i&#34;</span><span class="op" id="8460353">,</span>&nbsp;<span class="ident" id="8460355">literal</span><span class="op" id="8460362">}</span><span class="op" id="8460363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460366">{</span><span class="ident" id="8460367">token</span><span class="op" id="8460372">.</span><span class="ident" id="8460373">IMAG</span><span class="op" id="8460377">,</span>&nbsp;<span class="string" id="8460379">&#34;123456789012345678890i&#34;</span><span class="op" id="8460403">,</span>&nbsp;<span class="ident" id="8460405">literal</span><span class="op" id="8460412">}</span><span class="op" id="8460413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460416">{</span><span class="ident" id="8460417">token</span><span class="op" id="8460422">.</span><span class="ident" id="8460423">IMAG</span><span class="op" id="8460427">,</span>&nbsp;<span class="string" id="8460429">&#34;0.i&#34;</span><span class="op" id="8460434">,</span>&nbsp;<span class="ident" id="8460436">literal</span><span class="op" id="8460443">}</span><span class="op" id="8460444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460447">{</span><span class="ident" id="8460448">token</span><span class="op" id="8460453">.</span><span class="ident" id="8460454">IMAG</span><span class="op" id="8460458">,</span>&nbsp;<span class="string" id="8460460">&#34;.0i&#34;</span><span class="op" id="8460465">,</span>&nbsp;<span class="ident" id="8460467">literal</span><span class="op" id="8460474">}</span><span class="op" id="8460475">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460478">{</span><span class="ident" id="8460479">token</span><span class="op" id="8460484">.</span><span class="ident" id="8460485">IMAG</span><span class="op" id="8460489">,</span>&nbsp;<span class="string" id="8460491">&#34;3.14159265i&#34;</span><span class="op" id="8460504">,</span>&nbsp;<span class="ident" id="8460506">literal</span><span class="op" id="8460513">}</span><span class="op" id="8460514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460517">{</span><span class="ident" id="8460518">token</span><span class="op" id="8460523">.</span><span class="ident" id="8460524">IMAG</span><span class="op" id="8460528">,</span>&nbsp;<span class="string" id="8460530">&#34;1e0i&#34;</span><span class="op" id="8460536">,</span>&nbsp;<span class="ident" id="8460538">literal</span><span class="op" id="8460545">}</span><span class="op" id="8460546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460549">{</span><span class="ident" id="8460550">token</span><span class="op" id="8460555">.</span><span class="ident" id="8460556">IMAG</span><span class="op" id="8460560">,</span>&nbsp;<span class="string" id="8460562">&#34;1e+100i&#34;</span><span class="op" id="8460571">,</span>&nbsp;<span class="ident" id="8460573">literal</span><span class="op" id="8460580">}</span><span class="op" id="8460581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460584">{</span><span class="ident" id="8460585">token</span><span class="op" id="8460590">.</span><span class="ident" id="8460591">IMAG</span><span class="op" id="8460595">,</span>&nbsp;<span class="string" id="8460597">&#34;1e-100i&#34;</span><span class="op" id="8460606">,</span>&nbsp;<span class="ident" id="8460608">literal</span><span class="op" id="8460615">}</span><span class="op" id="8460616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460619">{</span><span class="ident" id="8460620">token</span><span class="op" id="8460625">.</span><span class="ident" id="8460626">IMAG</span><span class="op" id="8460630">,</span>&nbsp;<span class="string" id="8460632">&#34;2.71828e-1000i&#34;</span><span class="op" id="8460648">,</span>&nbsp;<span class="ident" id="8460650">literal</span><span class="op" id="8460657">}</span><span class="op" id="8460658">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460661">{</span><span class="ident" id="8460662">token</span><span class="op" id="8460667">.</span><span class="ident" id="8460668">CHAR</span><span class="op" id="8460672">,</span>&nbsp;<span class="string" id="8460674">&#34;&#39;a&#39;&#34;</span><span class="op" id="8460679">,</span>&nbsp;<span class="ident" id="8460681">literal</span><span class="op" id="8460688">}</span><span class="op" id="8460689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460692">{</span><span class="ident" id="8460693">token</span><span class="op" id="8460698">.</span><span class="ident" id="8460699">CHAR</span><span class="op" id="8460703">,</span>&nbsp;<span class="string" id="8460705">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="8460714">,</span>&nbsp;<span class="ident" id="8460716">literal</span><span class="op" id="8460723">}</span><span class="op" id="8460724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460727">{</span><span class="ident" id="8460728">token</span><span class="op" id="8460733">.</span><span class="ident" id="8460734">CHAR</span><span class="op" id="8460738">,</span>&nbsp;<span class="string" id="8460740">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="8460749">,</span>&nbsp;<span class="ident" id="8460751">literal</span><span class="op" id="8460758">}</span><span class="op" id="8460759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460762">{</span><span class="ident" id="8460763">token</span><span class="op" id="8460768">.</span><span class="ident" id="8460769">CHAR</span><span class="op" id="8460773">,</span>&nbsp;<span class="string" id="8460775">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="8460786">,</span>&nbsp;<span class="ident" id="8460788">literal</span><span class="op" id="8460795">}</span><span class="op" id="8460796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460799">{</span><span class="ident" id="8460800">token</span><span class="op" id="8460805">.</span><span class="ident" id="8460806">CHAR</span><span class="op" id="8460810">,</span>&nbsp;<span class="string" id="8460812">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="8460827">,</span>&nbsp;<span class="ident" id="8460829">literal</span><span class="op" id="8460836">}</span><span class="op" id="8460837">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460840">{</span><span class="ident" id="8460841">token</span><span class="op" id="8460846">.</span><span class="ident" id="8460847">STRING</span><span class="op" id="8460853">,</span>&nbsp;<span class="string" id="8460855">&#34;`foobar`&#34;</span><span class="op" id="8460865">,</span>&nbsp;<span class="ident" id="8460867">literal</span><span class="op" id="8460874">}</span><span class="op" id="8460875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460878">{</span><span class="ident" id="8460879">token</span><span class="op" id="8460884">.</span><span class="ident" id="8460885">STRING</span><span class="op" id="8460891">,</span>&nbsp;<span class="string" id="8460893">&#34;`&#34;</span>&nbsp;<span class="op" id="8460897">+</span>&nbsp;<span class="string" id="8460899">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="8460934">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8460938">&#34;`&#34;</span><span class="op" id="8460941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8460945">literal</span><span class="op" id="8460952">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460955">}</span><span class="op" id="8460956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460959">{</span><span class="ident" id="8460960">token</span><span class="op" id="8460965">.</span><span class="ident" id="8460966">STRING</span><span class="op" id="8460972">,</span>&nbsp;<span class="string" id="8460974">&#34;`\r`&#34;</span><span class="op" id="8460980">,</span>&nbsp;<span class="ident" id="8460982">literal</span><span class="op" id="8460989">}</span><span class="op" id="8460990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8460993">{</span><span class="ident" id="8460994">token</span><span class="op" id="8460999">.</span><span class="ident" id="8461000">STRING</span><span class="op" id="8461006">,</span>&nbsp;<span class="string" id="8461008">&#34;`foo\r\nbar`&#34;</span><span class="op" id="8461022">,</span>&nbsp;<span class="ident" id="8461024">literal</span><span class="op" id="8461031">}</span><span class="op" id="8461032">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8461036">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461065">{</span><span class="ident" id="8461066">token</span><span class="op" id="8461071">.</span><span class="ident" id="8461072">ADD</span><span class="op" id="8461075">,</span>&nbsp;<span class="string" id="8461077">&#34;+&#34;</span><span class="op" id="8461080">,</span>&nbsp;<span class="ident" id="8461082">operator</span><span class="op" id="8461090">}</span><span class="op" id="8461091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461094">{</span><span class="ident" id="8461095">token</span><span class="op" id="8461100">.</span><span class="ident" id="8461101">SUB</span><span class="op" id="8461104">,</span>&nbsp;<span class="string" id="8461106">&#34;-&#34;</span><span class="op" id="8461109">,</span>&nbsp;<span class="ident" id="8461111">operator</span><span class="op" id="8461119">}</span><span class="op" id="8461120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461123">{</span><span class="ident" id="8461124">token</span><span class="op" id="8461129">.</span><span class="ident" id="8461130">MUL</span><span class="op" id="8461133">,</span>&nbsp;<span class="string" id="8461135">&#34;*&#34;</span><span class="op" id="8461138">,</span>&nbsp;<span class="ident" id="8461140">operator</span><span class="op" id="8461148">}</span><span class="op" id="8461149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461152">{</span><span class="ident" id="8461153">token</span><span class="op" id="8461158">.</span><span class="ident" id="8461159">QUO</span><span class="op" id="8461162">,</span>&nbsp;<span class="string" id="8461164">&#34;/&#34;</span><span class="op" id="8461167">,</span>&nbsp;<span class="ident" id="8461169">operator</span><span class="op" id="8461177">}</span><span class="op" id="8461178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461181">{</span><span class="ident" id="8461182">token</span><span class="op" id="8461187">.</span><span class="ident" id="8461188">REM</span><span class="op" id="8461191">,</span>&nbsp;<span class="string" id="8461193">&#34;%&#34;</span><span class="op" id="8461196">,</span>&nbsp;<span class="ident" id="8461198">operator</span><span class="op" id="8461206">}</span><span class="op" id="8461207">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461211">{</span><span class="ident" id="8461212">token</span><span class="op" id="8461217">.</span><span class="ident" id="8461218">AND</span><span class="op" id="8461221">,</span>&nbsp;<span class="string" id="8461223">&#34;&amp;&#34;</span><span class="op" id="8461226">,</span>&nbsp;<span class="ident" id="8461228">operator</span><span class="op" id="8461236">}</span><span class="op" id="8461237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461240">{</span><span class="ident" id="8461241">token</span><span class="op" id="8461246">.</span><span class="ident" id="8461247">OR</span><span class="op" id="8461249">,</span>&nbsp;<span class="string" id="8461251">&#34;|&#34;</span><span class="op" id="8461254">,</span>&nbsp;<span class="ident" id="8461256">operator</span><span class="op" id="8461264">}</span><span class="op" id="8461265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461268">{</span><span class="ident" id="8461269">token</span><span class="op" id="8461274">.</span><span class="ident" id="8461275">XOR</span><span class="op" id="8461278">,</span>&nbsp;<span class="string" id="8461280">&#34;^&#34;</span><span class="op" id="8461283">,</span>&nbsp;<span class="ident" id="8461285">operator</span><span class="op" id="8461293">}</span><span class="op" id="8461294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461297">{</span><span class="ident" id="8461298">token</span><span class="op" id="8461303">.</span><span class="ident" id="8461304">SHL</span><span class="op" id="8461307">,</span>&nbsp;<span class="string" id="8461309">&#34;&lt;&lt;&#34;</span><span class="op" id="8461313">,</span>&nbsp;<span class="ident" id="8461315">operator</span><span class="op" id="8461323">}</span><span class="op" id="8461324">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461327">{</span><span class="ident" id="8461328">token</span><span class="op" id="8461333">.</span><span class="ident" id="8461334">SHR</span><span class="op" id="8461337">,</span>&nbsp;<span class="string" id="8461339">&#34;&gt;&gt;&#34;</span><span class="op" id="8461343">,</span>&nbsp;<span class="ident" id="8461345">operator</span><span class="op" id="8461353">}</span><span class="op" id="8461354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461357">{</span><span class="ident" id="8461358">token</span><span class="op" id="8461363">.</span><span class="ident" id="8461364">AND_NOT</span><span class="op" id="8461371">,</span>&nbsp;<span class="string" id="8461373">&#34;&amp;^&#34;</span><span class="op" id="8461377">,</span>&nbsp;<span class="ident" id="8461379">operator</span><span class="op" id="8461387">}</span><span class="op" id="8461388">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461392">{</span><span class="ident" id="8461393">token</span><span class="op" id="8461398">.</span><span class="ident" id="8461399">ADD_ASSIGN</span><span class="op" id="8461409">,</span>&nbsp;<span class="string" id="8461411">&#34;+=&#34;</span><span class="op" id="8461415">,</span>&nbsp;<span class="ident" id="8461417">operator</span><span class="op" id="8461425">}</span><span class="op" id="8461426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461429">{</span><span class="ident" id="8461430">token</span><span class="op" id="8461435">.</span><span class="ident" id="8461436">SUB_ASSIGN</span><span class="op" id="8461446">,</span>&nbsp;<span class="string" id="8461448">&#34;-=&#34;</span><span class="op" id="8461452">,</span>&nbsp;<span class="ident" id="8461454">operator</span><span class="op" id="8461462">}</span><span class="op" id="8461463">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461466">{</span><span class="ident" id="8461467">token</span><span class="op" id="8461472">.</span><span class="ident" id="8461473">MUL_ASSIGN</span><span class="op" id="8461483">,</span>&nbsp;<span class="string" id="8461485">&#34;*=&#34;</span><span class="op" id="8461489">,</span>&nbsp;<span class="ident" id="8461491">operator</span><span class="op" id="8461499">}</span><span class="op" id="8461500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461503">{</span><span class="ident" id="8461504">token</span><span class="op" id="8461509">.</span><span class="ident" id="8461510">QUO_ASSIGN</span><span class="op" id="8461520">,</span>&nbsp;<span class="string" id="8461522">&#34;/=&#34;</span><span class="op" id="8461526">,</span>&nbsp;<span class="ident" id="8461528">operator</span><span class="op" id="8461536">}</span><span class="op" id="8461537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461540">{</span><span class="ident" id="8461541">token</span><span class="op" id="8461546">.</span><span class="ident" id="8461547">REM_ASSIGN</span><span class="op" id="8461557">,</span>&nbsp;<span class="string" id="8461559">&#34;%=&#34;</span><span class="op" id="8461563">,</span>&nbsp;<span class="ident" id="8461565">operator</span><span class="op" id="8461573">}</span><span class="op" id="8461574">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461578">{</span><span class="ident" id="8461579">token</span><span class="op" id="8461584">.</span><span class="ident" id="8461585">AND_ASSIGN</span><span class="op" id="8461595">,</span>&nbsp;<span class="string" id="8461597">&#34;&amp;=&#34;</span><span class="op" id="8461601">,</span>&nbsp;<span class="ident" id="8461603">operator</span><span class="op" id="8461611">}</span><span class="op" id="8461612">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461615">{</span><span class="ident" id="8461616">token</span><span class="op" id="8461621">.</span><span class="ident" id="8461622">OR_ASSIGN</span><span class="op" id="8461631">,</span>&nbsp;<span class="string" id="8461633">&#34;|=&#34;</span><span class="op" id="8461637">,</span>&nbsp;<span class="ident" id="8461639">operator</span><span class="op" id="8461647">}</span><span class="op" id="8461648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461651">{</span><span class="ident" id="8461652">token</span><span class="op" id="8461657">.</span><span class="ident" id="8461658">XOR_ASSIGN</span><span class="op" id="8461668">,</span>&nbsp;<span class="string" id="8461670">&#34;^=&#34;</span><span class="op" id="8461674">,</span>&nbsp;<span class="ident" id="8461676">operator</span><span class="op" id="8461684">}</span><span class="op" id="8461685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461688">{</span><span class="ident" id="8461689">token</span><span class="op" id="8461694">.</span><span class="ident" id="8461695">SHL_ASSIGN</span><span class="op" id="8461705">,</span>&nbsp;<span class="string" id="8461707">&#34;&lt;&lt;=&#34;</span><span class="op" id="8461712">,</span>&nbsp;<span class="ident" id="8461714">operator</span><span class="op" id="8461722">}</span><span class="op" id="8461723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461726">{</span><span class="ident" id="8461727">token</span><span class="op" id="8461732">.</span><span class="ident" id="8461733">SHR_ASSIGN</span><span class="op" id="8461743">,</span>&nbsp;<span class="string" id="8461745">&#34;&gt;&gt;=&#34;</span><span class="op" id="8461750">,</span>&nbsp;<span class="ident" id="8461752">operator</span><span class="op" id="8461760">}</span><span class="op" id="8461761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461764">{</span><span class="ident" id="8461765">token</span><span class="op" id="8461770">.</span><span class="ident" id="8461771">AND_NOT_ASSIGN</span><span class="op" id="8461785">,</span>&nbsp;<span class="string" id="8461787">&#34;&amp;^=&#34;</span><span class="op" id="8461792">,</span>&nbsp;<span class="ident" id="8461794">operator</span><span class="op" id="8461802">}</span><span class="op" id="8461803">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461807">{</span><span class="ident" id="8461808">token</span><span class="op" id="8461813">.</span><span class="ident" id="8461814">LAND</span><span class="op" id="8461818">,</span>&nbsp;<span class="string" id="8461820">&#34;&amp;&amp;&#34;</span><span class="op" id="8461824">,</span>&nbsp;<span class="ident" id="8461826">operator</span><span class="op" id="8461834">}</span><span class="op" id="8461835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461838">{</span><span class="ident" id="8461839">token</span><span class="op" id="8461844">.</span><span class="ident" id="8461845">LOR</span><span class="op" id="8461848">,</span>&nbsp;<span class="string" id="8461850">&#34;||&#34;</span><span class="op" id="8461854">,</span>&nbsp;<span class="ident" id="8461856">operator</span><span class="op" id="8461864">}</span><span class="op" id="8461865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461868">{</span><span class="ident" id="8461869">token</span><span class="op" id="8461874">.</span><span class="ident" id="8461875">ARROW</span><span class="op" id="8461880">,</span>&nbsp;<span class="string" id="8461882">&#34;&lt;-&#34;</span><span class="op" id="8461886">,</span>&nbsp;<span class="ident" id="8461888">operator</span><span class="op" id="8461896">}</span><span class="op" id="8461897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461900">{</span><span class="ident" id="8461901">token</span><span class="op" id="8461906">.</span><span class="ident" id="8461907">INC</span><span class="op" id="8461910">,</span>&nbsp;<span class="string" id="8461912">&#34;++&#34;</span><span class="op" id="8461916">,</span>&nbsp;<span class="ident" id="8461918">operator</span><span class="op" id="8461926">}</span><span class="op" id="8461927">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461930">{</span><span class="ident" id="8461931">token</span><span class="op" id="8461936">.</span><span class="ident" id="8461937">DEC</span><span class="op" id="8461940">,</span>&nbsp;<span class="string" id="8461942">&#34;--&#34;</span><span class="op" id="8461946">,</span>&nbsp;<span class="ident" id="8461948">operator</span><span class="op" id="8461956">}</span><span class="op" id="8461957">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461961">{</span><span class="ident" id="8461962">token</span><span class="op" id="8461967">.</span><span class="ident" id="8461968">EQL</span><span class="op" id="8461971">,</span>&nbsp;<span class="string" id="8461973">&#34;==&#34;</span><span class="op" id="8461977">,</span>&nbsp;<span class="ident" id="8461979">operator</span><span class="op" id="8461987">}</span><span class="op" id="8461988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8461991">{</span><span class="ident" id="8461992">token</span><span class="op" id="8461997">.</span><span class="ident" id="8461998">LSS</span><span class="op" id="8462001">,</span>&nbsp;<span class="string" id="8462003">&#34;&lt;&#34;</span><span class="op" id="8462006">,</span>&nbsp;<span class="ident" id="8462008">operator</span><span class="op" id="8462016">}</span><span class="op" id="8462017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462020">{</span><span class="ident" id="8462021">token</span><span class="op" id="8462026">.</span><span class="ident" id="8462027">GTR</span><span class="op" id="8462030">,</span>&nbsp;<span class="string" id="8462032">&#34;&gt;&#34;</span><span class="op" id="8462035">,</span>&nbsp;<span class="ident" id="8462037">operator</span><span class="op" id="8462045">}</span><span class="op" id="8462046">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462049">{</span><span class="ident" id="8462050">token</span><span class="op" id="8462055">.</span><span class="ident" id="8462056">ASSIGN</span><span class="op" id="8462062">,</span>&nbsp;<span class="string" id="8462064">&#34;=&#34;</span><span class="op" id="8462067">,</span>&nbsp;<span class="ident" id="8462069">operator</span><span class="op" id="8462077">}</span><span class="op" id="8462078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462081">{</span><span class="ident" id="8462082">token</span><span class="op" id="8462087">.</span><span class="ident" id="8462088">NOT</span><span class="op" id="8462091">,</span>&nbsp;<span class="string" id="8462093">&#34;!&#34;</span><span class="op" id="8462096">,</span>&nbsp;<span class="ident" id="8462098">operator</span><span class="op" id="8462106">}</span><span class="op" id="8462107">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462111">{</span><span class="ident" id="8462112">token</span><span class="op" id="8462117">.</span><span class="ident" id="8462118">NEQ</span><span class="op" id="8462121">,</span>&nbsp;<span class="string" id="8462123">&#34;!=&#34;</span><span class="op" id="8462127">,</span>&nbsp;<span class="ident" id="8462129">operator</span><span class="op" id="8462137">}</span><span class="op" id="8462138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462141">{</span><span class="ident" id="8462142">token</span><span class="op" id="8462147">.</span><span class="ident" id="8462148">LEQ</span><span class="op" id="8462151">,</span>&nbsp;<span class="string" id="8462153">&#34;&lt;=&#34;</span><span class="op" id="8462157">,</span>&nbsp;<span class="ident" id="8462159">operator</span><span class="op" id="8462167">}</span><span class="op" id="8462168">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462171">{</span><span class="ident" id="8462172">token</span><span class="op" id="8462177">.</span><span class="ident" id="8462178">GEQ</span><span class="op" id="8462181">,</span>&nbsp;<span class="string" id="8462183">&#34;&gt;=&#34;</span><span class="op" id="8462187">,</span>&nbsp;<span class="ident" id="8462189">operator</span><span class="op" id="8462197">}</span><span class="op" id="8462198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462201">{</span><span class="ident" id="8462202">token</span><span class="op" id="8462207">.</span><span class="ident" id="8462208">DEFINE</span><span class="op" id="8462214">,</span>&nbsp;<span class="string" id="8462216">&#34;:=&#34;</span><span class="op" id="8462220">,</span>&nbsp;<span class="ident" id="8462222">operator</span><span class="op" id="8462230">}</span><span class="op" id="8462231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462234">{</span><span class="ident" id="8462235">token</span><span class="op" id="8462240">.</span><span class="ident" id="8462241">ELLIPSIS</span><span class="op" id="8462249">,</span>&nbsp;<span class="string" id="8462251">&#34;...&#34;</span><span class="op" id="8462256">,</span>&nbsp;<span class="ident" id="8462258">operator</span><span class="op" id="8462266">}</span><span class="op" id="8462267">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462271">{</span><span class="ident" id="8462272">token</span><span class="op" id="8462277">.</span><span class="ident" id="8462278">LPAREN</span><span class="op" id="8462284">,</span>&nbsp;<span class="string" id="8462286">&#34;(&#34;</span><span class="op" id="8462289">,</span>&nbsp;<span class="ident" id="8462291">operator</span><span class="op" id="8462299">}</span><span class="op" id="8462300">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462303">{</span><span class="ident" id="8462304">token</span><span class="op" id="8462309">.</span><span class="ident" id="8462310">LBRACK</span><span class="op" id="8462316">,</span>&nbsp;<span class="string" id="8462318">&#34;[&#34;</span><span class="op" id="8462321">,</span>&nbsp;<span class="ident" id="8462323">operator</span><span class="op" id="8462331">}</span><span class="op" id="8462332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462335">{</span><span class="ident" id="8462336">token</span><span class="op" id="8462341">.</span><span class="ident" id="8462342">LBRACE</span><span class="op" id="8462348">,</span>&nbsp;<span class="string" id="8462350">&#34;{&#34;</span><span class="op" id="8462353">,</span>&nbsp;<span class="ident" id="8462355">operator</span><span class="op" id="8462363">}</span><span class="op" id="8462364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462367">{</span><span class="ident" id="8462368">token</span><span class="op" id="8462373">.</span><span class="ident" id="8462374">COMMA</span><span class="op" id="8462379">,</span>&nbsp;<span class="string" id="8462381">&#34;,&#34;</span><span class="op" id="8462384">,</span>&nbsp;<span class="ident" id="8462386">operator</span><span class="op" id="8462394">}</span><span class="op" id="8462395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462398">{</span><span class="ident" id="8462399">token</span><span class="op" id="8462404">.</span><span class="ident" id="8462405">PERIOD</span><span class="op" id="8462411">,</span>&nbsp;<span class="string" id="8462413">&#34;.&#34;</span><span class="op" id="8462416">,</span>&nbsp;<span class="ident" id="8462418">operator</span><span class="op" id="8462426">}</span><span class="op" id="8462427">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462431">{</span><span class="ident" id="8462432">token</span><span class="op" id="8462437">.</span><span class="ident" id="8462438">RPAREN</span><span class="op" id="8462444">,</span>&nbsp;<span class="string" id="8462446">&#34;)&#34;</span><span class="op" id="8462449">,</span>&nbsp;<span class="ident" id="8462451">operator</span><span class="op" id="8462459">}</span><span class="op" id="8462460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462463">{</span><span class="ident" id="8462464">token</span><span class="op" id="8462469">.</span><span class="ident" id="8462470">RBRACK</span><span class="op" id="8462476">,</span>&nbsp;<span class="string" id="8462478">&#34;]&#34;</span><span class="op" id="8462481">,</span>&nbsp;<span class="ident" id="8462483">operator</span><span class="op" id="8462491">}</span><span class="op" id="8462492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462495">{</span><span class="ident" id="8462496">token</span><span class="op" id="8462501">.</span><span class="ident" id="8462502">RBRACE</span><span class="op" id="8462508">,</span>&nbsp;<span class="string" id="8462510">&#34;}&#34;</span><span class="op" id="8462513">,</span>&nbsp;<span class="ident" id="8462515">operator</span><span class="op" id="8462523">}</span><span class="op" id="8462524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462527">{</span><span class="ident" id="8462528">token</span><span class="op" id="8462533">.</span><span class="ident" id="8462534">SEMICOLON</span><span class="op" id="8462543">,</span>&nbsp;<span class="string" id="8462545">&#34;;&#34;</span><span class="op" id="8462548">,</span>&nbsp;<span class="ident" id="8462550">operator</span><span class="op" id="8462558">}</span><span class="op" id="8462559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462562">{</span><span class="ident" id="8462563">token</span><span class="op" id="8462568">.</span><span class="ident" id="8462569">COLON</span><span class="op" id="8462574">,</span>&nbsp;<span class="string" id="8462576">&#34;:&#34;</span><span class="op" id="8462579">,</span>&nbsp;<span class="ident" id="8462581">operator</span><span class="op" id="8462589">}</span><span class="op" id="8462590">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8462594">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462607">{</span><span class="ident" id="8462608">token</span><span class="op" id="8462613">.</span><span class="ident" id="8462614">BREAK</span><span class="op" id="8462619">,</span>&nbsp;<span class="string" id="8462621">&#34;break&#34;</span><span class="op" id="8462628">,</span>&nbsp;<span class="ident" id="8462630">keyword</span><span class="op" id="8462637">}</span><span class="op" id="8462638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462641">{</span><span class="ident" id="8462642">token</span><span class="op" id="8462647">.</span><span class="ident" id="8462648">CASE</span><span class="op" id="8462652">,</span>&nbsp;<span class="string" id="8462654">&#34;case&#34;</span><span class="op" id="8462660">,</span>&nbsp;<span class="ident" id="8462662">keyword</span><span class="op" id="8462669">}</span><span class="op" id="8462670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462673">{</span><span class="ident" id="8462674">token</span><span class="op" id="8462679">.</span><span class="ident" id="8462680">CHAN</span><span class="op" id="8462684">,</span>&nbsp;<span class="string" id="8462686">&#34;chan&#34;</span><span class="op" id="8462692">,</span>&nbsp;<span class="ident" id="8462694">keyword</span><span class="op" id="8462701">}</span><span class="op" id="8462702">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462705">{</span><span class="ident" id="8462706">token</span><span class="op" id="8462711">.</span><span class="ident" id="8462712">CONST</span><span class="op" id="8462717">,</span>&nbsp;<span class="string" id="8462719">&#34;const&#34;</span><span class="op" id="8462726">,</span>&nbsp;<span class="ident" id="8462728">keyword</span><span class="op" id="8462735">}</span><span class="op" id="8462736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462739">{</span><span class="ident" id="8462740">token</span><span class="op" id="8462745">.</span><span class="ident" id="8462746">CONTINUE</span><span class="op" id="8462754">,</span>&nbsp;<span class="string" id="8462756">&#34;continue&#34;</span><span class="op" id="8462766">,</span>&nbsp;<span class="ident" id="8462768">keyword</span><span class="op" id="8462775">}</span><span class="op" id="8462776">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462780">{</span><span class="ident" id="8462781">token</span><span class="op" id="8462786">.</span><span class="ident" id="8462787">DEFAULT</span><span class="op" id="8462794">,</span>&nbsp;<span class="string" id="8462796">&#34;default&#34;</span><span class="op" id="8462805">,</span>&nbsp;<span class="ident" id="8462807">keyword</span><span class="op" id="8462814">}</span><span class="op" id="8462815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462818">{</span><span class="ident" id="8462819">token</span><span class="op" id="8462824">.</span><span class="ident" id="8462825">DEFER</span><span class="op" id="8462830">,</span>&nbsp;<span class="string" id="8462832">&#34;defer&#34;</span><span class="op" id="8462839">,</span>&nbsp;<span class="ident" id="8462841">keyword</span><span class="op" id="8462848">}</span><span class="op" id="8462849">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462852">{</span><span class="ident" id="8462853">token</span><span class="op" id="8462858">.</span><span class="ident" id="8462859">ELSE</span><span class="op" id="8462863">,</span>&nbsp;<span class="string" id="8462865">&#34;else&#34;</span><span class="op" id="8462871">,</span>&nbsp;<span class="ident" id="8462873">keyword</span><span class="op" id="8462880">}</span><span class="op" id="8462881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462884">{</span><span class="ident" id="8462885">token</span><span class="op" id="8462890">.</span><span class="ident" id="8462891">FALLTHROUGH</span><span class="op" id="8462902">,</span>&nbsp;<span class="string" id="8462904">&#34;fallthrough&#34;</span><span class="op" id="8462917">,</span>&nbsp;<span class="ident" id="8462919">keyword</span><span class="op" id="8462926">}</span><span class="op" id="8462927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462930">{</span><span class="ident" id="8462931">token</span><span class="op" id="8462936">.</span><span class="ident" id="8462937">FOR</span><span class="op" id="8462940">,</span>&nbsp;<span class="string" id="8462942">&#34;for&#34;</span><span class="op" id="8462947">,</span>&nbsp;<span class="ident" id="8462949">keyword</span><span class="op" id="8462956">}</span><span class="op" id="8462957">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462961">{</span><span class="ident" id="8462962">token</span><span class="op" id="8462967">.</span><span class="ident" id="8462968">FUNC</span><span class="op" id="8462972">,</span>&nbsp;<span class="string" id="8462974">&#34;func&#34;</span><span class="op" id="8462980">,</span>&nbsp;<span class="ident" id="8462982">keyword</span><span class="op" id="8462989">}</span><span class="op" id="8462990">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8462993">{</span><span class="ident" id="8462994">token</span><span class="op" id="8462999">.</span><span class="ident" id="8463000">GO</span><span class="op" id="8463002">,</span>&nbsp;<span class="string" id="8463004">&#34;go&#34;</span><span class="op" id="8463008">,</span>&nbsp;<span class="ident" id="8463010">keyword</span><span class="op" id="8463017">}</span><span class="op" id="8463018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463021">{</span><span class="ident" id="8463022">token</span><span class="op" id="8463027">.</span><span class="ident" id="8463028">GOTO</span><span class="op" id="8463032">,</span>&nbsp;<span class="string" id="8463034">&#34;goto&#34;</span><span class="op" id="8463040">,</span>&nbsp;<span class="ident" id="8463042">keyword</span><span class="op" id="8463049">}</span><span class="op" id="8463050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463053">{</span><span class="ident" id="8463054">token</span><span class="op" id="8463059">.</span><span class="ident" id="8463060">IF</span><span class="op" id="8463062">,</span>&nbsp;<span class="string" id="8463064">&#34;if&#34;</span><span class="op" id="8463068">,</span>&nbsp;<span class="ident" id="8463070">keyword</span><span class="op" id="8463077">}</span><span class="op" id="8463078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463081">{</span><span class="ident" id="8463082">token</span><span class="op" id="8463087">.</span><span class="ident" id="8463088">IMPORT</span><span class="op" id="8463094">,</span>&nbsp;<span class="string" id="8463096">&#34;import&#34;</span><span class="op" id="8463104">,</span>&nbsp;<span class="ident" id="8463106">keyword</span><span class="op" id="8463113">}</span><span class="op" id="8463114">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463118">{</span><span class="ident" id="8463119">token</span><span class="op" id="8463124">.</span><span class="ident" id="8463125">INTERFACE</span><span class="op" id="8463134">,</span>&nbsp;<span class="string" id="8463136">&#34;interface&#34;</span><span class="op" id="8463147">,</span>&nbsp;<span class="ident" id="8463149">keyword</span><span class="op" id="8463156">}</span><span class="op" id="8463157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463160">{</span><span class="ident" id="8463161">token</span><span class="op" id="8463166">.</span><span class="ident" id="8463167">MAP</span><span class="op" id="8463170">,</span>&nbsp;<span class="string" id="8463172">&#34;map&#34;</span><span class="op" id="8463177">,</span>&nbsp;<span class="ident" id="8463179">keyword</span><span class="op" id="8463186">}</span><span class="op" id="8463187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463190">{</span><span class="ident" id="8463191">token</span><span class="op" id="8463196">.</span><span class="ident" id="8463197">PACKAGE</span><span class="op" id="8463204">,</span>&nbsp;<span class="string" id="8463206">&#34;package&#34;</span><span class="op" id="8463215">,</span>&nbsp;<span class="ident" id="8463217">keyword</span><span class="op" id="8463224">}</span><span class="op" id="8463225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463228">{</span><span class="ident" id="8463229">token</span><span class="op" id="8463234">.</span><span class="ident" id="8463235">RANGE</span><span class="op" id="8463240">,</span>&nbsp;<span class="string" id="8463242">&#34;range&#34;</span><span class="op" id="8463249">,</span>&nbsp;<span class="ident" id="8463251">keyword</span><span class="op" id="8463258">}</span><span class="op" id="8463259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463262">{</span><span class="ident" id="8463263">token</span><span class="op" id="8463268">.</span><span class="ident" id="8463269">RETURN</span><span class="op" id="8463275">,</span>&nbsp;<span class="string" id="8463277">&#34;return&#34;</span><span class="op" id="8463285">,</span>&nbsp;<span class="ident" id="8463287">keyword</span><span class="op" id="8463294">}</span><span class="op" id="8463295">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463299">{</span><span class="ident" id="8463300">token</span><span class="op" id="8463305">.</span><span class="ident" id="8463306">SELECT</span><span class="op" id="8463312">,</span>&nbsp;<span class="string" id="8463314">&#34;select&#34;</span><span class="op" id="8463322">,</span>&nbsp;<span class="ident" id="8463324">keyword</span><span class="op" id="8463331">}</span><span class="op" id="8463332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463335">{</span><span class="ident" id="8463336">token</span><span class="op" id="8463341">.</span><span class="ident" id="8463342">STRUCT</span><span class="op" id="8463348">,</span>&nbsp;<span class="string" id="8463350">&#34;struct&#34;</span><span class="op" id="8463358">,</span>&nbsp;<span class="ident" id="8463360">keyword</span><span class="op" id="8463367">}</span><span class="op" id="8463368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463371">{</span><span class="ident" id="8463372">token</span><span class="op" id="8463377">.</span><span class="ident" id="8463378">SWITCH</span><span class="op" id="8463384">,</span>&nbsp;<span class="string" id="8463386">&#34;switch&#34;</span><span class="op" id="8463394">,</span>&nbsp;<span class="ident" id="8463396">keyword</span><span class="op" id="8463403">}</span><span class="op" id="8463404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463407">{</span><span class="ident" id="8463408">token</span><span class="op" id="8463413">.</span><span class="ident" id="8463414">TYPE</span><span class="op" id="8463418">,</span>&nbsp;<span class="string" id="8463420">&#34;type&#34;</span><span class="op" id="8463426">,</span>&nbsp;<span class="ident" id="8463428">keyword</span><span class="op" id="8463435">}</span><span class="op" id="8463436">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463439">{</span><span class="ident" id="8463440">token</span><span class="op" id="8463445">.</span><span class="ident" id="8463446">VAR</span><span class="op" id="8463449">,</span>&nbsp;<span class="string" id="8463451">&#34;var&#34;</span><span class="op" id="8463456">,</span>&nbsp;<span class="ident" id="8463458">keyword</span><span class="op" id="8463465">}</span><span class="op" id="8463466">,</span><br>
<span class="lineno"></span><span class="op" id="8463468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8463471">const</span>&nbsp;<span class="ident" id="8463477">whitespace</span>&nbsp;<span class="op" id="8463488">=</span>&nbsp;<span class="string" id="8463490">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="8463505">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="8463528">var</span>&nbsp;<span class="ident" id="8463532">source</span>&nbsp;<span class="op" id="8463539">=</span>&nbsp;<span class="keyword" id="8463541">func</span><span class="op" id="8463545">(</span><span class="op" id="8463546">)</span>&nbsp;<span class="op" id="8463548">[</span><span class="op" id="8463549">]</span><span class="builtintype" id="8463550">byte</span>&nbsp;<span class="op" id="8463555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8463558">var</span>&nbsp;<span class="ident" id="8463562">src</span>&nbsp;<span class="op" id="8463566">[</span><span class="op" id="8463567">]</span><span class="builtintype" id="8463568">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8463574">for</span>&nbsp;<span class="ident" id="8463578">_</span><span class="op" id="8463579">,</span>&nbsp;<span class="ident" id="8463581">t</span>&nbsp;<span class="op" id="8463583">:=</span>&nbsp;<span class="keyword" id="8463586">range</span>&nbsp;<span class="ident" id="8463592">tokens</span>&nbsp;<span class="op" id="8463599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8463603">src</span>&nbsp;<span class="op" id="8463607">=</span>&nbsp;<span class="builtinfunc" id="8463609">append</span><span class="op" id="8463615">(</span><span class="ident" id="8463616">src</span><span class="op" id="8463619">,</span>&nbsp;<span class="ident" id="8463621">t</span><span class="op" id="8463622">.</span><span class="ident" id="8463623">lit</span><span class="op" id="8463626">...</span><span class="op" id="8463629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8463633">src</span>&nbsp;<span class="op" id="8463637">=</span>&nbsp;<span class="builtinfunc" id="8463639">append</span><span class="op" id="8463645">(</span><span class="ident" id="8463646">src</span><span class="op" id="8463649">,</span>&nbsp;<span class="ident" id="8463651">whitespace</span><span class="op" id="8463661">...</span><span class="op" id="8463664">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8463670">return</span>&nbsp;<span class="ident" id="8463677">src</span><br>
<span class="lineno"></span><span class="op" id="8463681">}</span><span class="op" id="8463682">(</span><span class="op" id="8463683">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8463686">func</span>&nbsp;<span class="ident" id="8463691">newlineCount</span><span class="op" id="8463703">(</span><span class="ident" id="8463704">s</span>&nbsp;<span class="builtintype" id="8463706">string</span><span class="op" id="8463712">)</span>&nbsp;<span class="builtintype" id="8463714">int</span>&nbsp;<span class="op" id="8463718">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8463721">n</span>&nbsp;<span class="op" id="8463723">:=</span>&nbsp;<span class="num" id="8463726">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8463729">for</span>&nbsp;<span class="ident" id="8463733">i</span>&nbsp;<span class="op" id="8463735">:=</span>&nbsp;<span class="num" id="8463738">0</span><span class="op" id="8463739">;</span>&nbsp;<span class="ident" id="8463741">i</span>&nbsp;<span class="op" id="8463743">&lt;</span>&nbsp;<span class="builtinfunc" id="8463745">len</span><span class="op" id="8463748">(</span><span class="ident" id="8463749">s</span><span class="op" id="8463750">)</span><span class="op" id="8463751">;</span>&nbsp;<span class="ident" id="8463753">i</span><span class="op" id="8463754">++</span>&nbsp;<span class="op" id="8463757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8463761">if</span>&nbsp;<span class="ident" id="8463764">s</span><span class="op" id="8463765">[</span><span class="ident" id="8463766">i</span><span class="op" id="8463767">]</span>&nbsp;<span class="op" id="8463769">==</span>&nbsp;<span class="string" id="8463772">&#39;\n&#39;</span>&nbsp;<span class="op" id="8463777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8463782">n</span><span class="op" id="8463783">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463788">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8463791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8463794">return</span>&nbsp;<span class="ident" id="8463801">n</span><br>
<span class="lineno"></span><span class="op" id="8463803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8463806">func</span>&nbsp;<span class="ident" id="8463811">checkPos</span><span class="op" id="8463819">(</span><span class="ident" id="8463820">t</span>&nbsp;<span class="op" id="8463822">*</span><span class="ident" id="8463823">testing</span><span class="op" id="8463830">.</span><span class="ident" id="8463831">T</span><span class="op" id="8463832">,</span>&nbsp;<span class="ident" id="8463834">lit</span>&nbsp;<span class="builtintype" id="8463838">string</span><span class="op" id="8463844">,</span>&nbsp;<span class="ident" id="8463846">p</span>&nbsp;<span class="ident" id="8463848">token</span><span class="op" id="8463853">.</span><span class="ident" id="8463854">Pos</span><span class="op" id="8463857">,</span>&nbsp;<span class="ident" id="8463859">expected</span>&nbsp;<span class="ident" id="8463868">token</span><span class="op" id="8463873">.</span><span class="ident" id="8463874">Position</span><span class="op" id="8463882">)</span>&nbsp;<span class="op" id="8463884">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8463887">pos</span>&nbsp;<span class="op" id="8463891">:=</span>&nbsp;<span class="ident" id="8463894">fset</span><span class="op" id="8463898">.</span><span class="ident" id="8463899">Position</span><span class="op" id="8463907">(</span><span class="ident" id="8463908">p</span><span class="op" id="8463909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8463912">if</span>&nbsp;<span class="ident" id="8463915">pos</span><span class="op" id="8463918">.</span><span class="ident" id="8463919">Filename</span>&nbsp;<span class="op" id="8463928">!=</span>&nbsp;<span class="ident" id="8463931">expected</span><span class="op" id="8463939">.</span><span class="ident" id="8463940">Filename</span>&nbsp;<span class="op" id="8463949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8463953">t</span><span class="op" id="8463954">.</span><span class="ident" id="8463955">Errorf</span><span class="op" id="8463961">(</span><span class="string" id="8463962">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8464004">,</span>&nbsp;<span class="ident" id="8464006">lit</span><span class="op" id="8464009">,</span>&nbsp;<span class="ident" id="8464011">pos</span><span class="op" id="8464014">.</span><span class="ident" id="8464015">Filename</span><span class="op" id="8464023">,</span>&nbsp;<span class="ident" id="8464025">expected</span><span class="op" id="8464033">.</span><span class="ident" id="8464034">Filename</span><span class="op" id="8464042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8464045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8464048">if</span>&nbsp;<span class="ident" id="8464051">pos</span><span class="op" id="8464054">.</span><span class="ident" id="8464055">Offset</span>&nbsp;<span class="op" id="8464062">!=</span>&nbsp;<span class="ident" id="8464065">expected</span><span class="op" id="8464073">.</span><span class="ident" id="8464074">Offset</span>&nbsp;<span class="op" id="8464081">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464085">t</span><span class="op" id="8464086">.</span><span class="ident" id="8464087">Errorf</span><span class="op" id="8464093">(</span><span class="string" id="8464094">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8464136">,</span>&nbsp;<span class="ident" id="8464138">lit</span><span class="op" id="8464141">,</span>&nbsp;<span class="ident" id="8464143">pos</span><span class="op" id="8464146">.</span><span class="ident" id="8464147">Offset</span><span class="op" id="8464153">,</span>&nbsp;<span class="ident" id="8464155">expected</span><span class="op" id="8464163">.</span><span class="ident" id="8464164">Offset</span><span class="op" id="8464170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8464173">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8464176">if</span>&nbsp;<span class="ident" id="8464179">pos</span><span class="op" id="8464182">.</span><span class="ident" id="8464183">Line</span>&nbsp;<span class="op" id="8464188">!=</span>&nbsp;<span class="ident" id="8464191">expected</span><span class="op" id="8464199">.</span><span class="ident" id="8464200">Line</span>&nbsp;<span class="op" id="8464205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464209">t</span><span class="op" id="8464210">.</span><span class="ident" id="8464211">Errorf</span><span class="op" id="8464217">(</span><span class="string" id="8464218">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8464256">,</span>&nbsp;<span class="ident" id="8464258">lit</span><span class="op" id="8464261">,</span>&nbsp;<span class="ident" id="8464263">pos</span><span class="op" id="8464266">.</span><span class="ident" id="8464267">Line</span><span class="op" id="8464271">,</span>&nbsp;<span class="ident" id="8464273">expected</span><span class="op" id="8464281">.</span><span class="ident" id="8464282">Line</span><span class="op" id="8464286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8464289">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8464292">if</span>&nbsp;<span class="ident" id="8464295">pos</span><span class="op" id="8464298">.</span><span class="ident" id="8464299">Column</span>&nbsp;<span class="op" id="8464306">!=</span>&nbsp;<span class="ident" id="8464309">expected</span><span class="op" id="8464317">.</span><span class="ident" id="8464318">Column</span>&nbsp;<span class="op" id="8464325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464329">t</span><span class="op" id="8464330">.</span><span class="ident" id="8464331">Errorf</span><span class="op" id="8464337">(</span><span class="string" id="8464338">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8464378">,</span>&nbsp;<span class="ident" id="8464380">lit</span><span class="op" id="8464383">,</span>&nbsp;<span class="ident" id="8464385">pos</span><span class="op" id="8464388">.</span><span class="ident" id="8464389">Column</span><span class="op" id="8464395">,</span>&nbsp;<span class="ident" id="8464397">expected</span><span class="op" id="8464405">.</span><span class="ident" id="8464406">Column</span><span class="op" id="8464412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8464415">}</span><br>
<span class="lineno"></span><span class="op" id="8464417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="8464420">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="8464480">func</span>&nbsp;<span class="ident" id="8464485">TestScan</span><span class="op" id="8464493">(</span><span class="ident" id="8464494">t</span>&nbsp;<span class="op" id="8464496">*</span><span class="ident" id="8464497">testing</span><span class="op" id="8464504">.</span><span class="ident" id="8464505">T</span><span class="op" id="8464506">)</span>&nbsp;<span class="op" id="8464508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464511">whitespace_linecount</span>&nbsp;<span class="op" id="8464532">:=</span>&nbsp;<span class="ident" id="8464535">newlineCount</span><span class="op" id="8464547">(</span><span class="ident" id="8464548">whitespace</span><span class="op" id="8464558">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8464562">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464580">eh</span>&nbsp;<span class="op" id="8464583">:=</span>&nbsp;<span class="keyword" id="8464586">func</span><span class="op" id="8464590">(</span><span class="ident" id="8464591">_</span>&nbsp;<span class="ident" id="8464593">token</span><span class="op" id="8464598">.</span><span class="ident" id="8464599">Position</span><span class="op" id="8464607">,</span>&nbsp;<span class="ident" id="8464609">msg</span>&nbsp;<span class="builtintype" id="8464613">string</span><span class="op" id="8464619">)</span>&nbsp;<span class="op" id="8464621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464625">t</span><span class="op" id="8464626">.</span><span class="ident" id="8464627">Errorf</span><span class="op" id="8464633">(</span><span class="string" id="8464634">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="8464667">,</span>&nbsp;<span class="ident" id="8464669">msg</span><span class="op" id="8464672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8464675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8464679">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8464695">var</span>&nbsp;<span class="ident" id="8464699">s</span>&nbsp;<span class="ident" id="8464701">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464710">s</span><span class="op" id="8464711">.</span><span class="ident" id="8464712">Init</span><span class="op" id="8464716">(</span><span class="ident" id="8464717">fset</span><span class="op" id="8464721">.</span><span class="ident" id="8464722">AddFile</span><span class="op" id="8464729">(</span><span class="string" id="8464730">&#34;&#34;</span><span class="op" id="8464732">,</span>&nbsp;<span class="ident" id="8464734">fset</span><span class="op" id="8464738">.</span><span class="ident" id="8464739">Base</span><span class="op" id="8464743">(</span><span class="op" id="8464744">)</span><span class="op" id="8464745">,</span>&nbsp;<span class="builtinfunc" id="8464747">len</span><span class="op" id="8464750">(</span><span class="ident" id="8464751">source</span><span class="op" id="8464757">)</span><span class="op" id="8464758">)</span><span class="op" id="8464759">,</span>&nbsp;<span class="ident" id="8464761">source</span><span class="op" id="8464767">,</span>&nbsp;<span class="ident" id="8464769">eh</span><span class="op" id="8464771">,</span>&nbsp;<span class="ident" id="8464773">ScanComments</span><span class="op" id="8464785">|</span><span class="ident" id="8464786">dontInsertSemis</span><span class="op" id="8464801">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8464805">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464834">epos</span>&nbsp;<span class="op" id="8464839">:=</span>&nbsp;<span class="ident" id="8464842">token</span><span class="op" id="8464847">.</span><span class="ident" id="8464848">Position</span><span class="op" id="8464856">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464860">Filename</span><span class="op" id="8464868">:</span>&nbsp;<span class="string" id="8464870">&#34;&#34;</span><span class="op" id="8464872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464876">Offset</span><span class="op" id="8464882">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8464886">0</span><span class="op" id="8464887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464891">Line</span><span class="op" id="8464895">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8464901">1</span><span class="op" id="8464902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464906">Column</span><span class="op" id="8464912">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8464916">1</span><span class="op" id="8464917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8464920">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464924">index</span>&nbsp;<span class="op" id="8464930">:=</span>&nbsp;<span class="num" id="8464933">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8464936">for</span>&nbsp;<span class="op" id="8464940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8464944">pos</span><span class="op" id="8464947">,</span>&nbsp;<span class="ident" id="8464949">tok</span><span class="op" id="8464952">,</span>&nbsp;<span class="ident" id="8464954">lit</span>&nbsp;<span class="op" id="8464958">:=</span>&nbsp;<span class="ident" id="8464961">s</span><span class="op" id="8464962">.</span><span class="ident" id="8464963">Scan</span><span class="op" id="8464967">(</span><span class="op" id="8464968">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8464973">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8464993">if</span>&nbsp;<span class="ident" id="8464996">tok</span>&nbsp;<span class="op" id="8465000">==</span>&nbsp;<span class="ident" id="8465003">token</span><span class="op" id="8465008">.</span><span class="ident" id="8465009">EOF</span>&nbsp;<span class="op" id="8465013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8465018">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465043">epos</span><span class="op" id="8465047">.</span><span class="ident" id="8465048">Line</span>&nbsp;<span class="op" id="8465053">=</span>&nbsp;<span class="ident" id="8465055">newlineCount</span><span class="op" id="8465067">(</span><span class="builtintype" id="8465068">string</span><span class="op" id="8465074">(</span><span class="ident" id="8465075">source</span><span class="op" id="8465081">)</span><span class="op" id="8465082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465087">epos</span><span class="op" id="8465091">.</span><span class="ident" id="8465092">Column</span>&nbsp;<span class="op" id="8465099">=</span>&nbsp;<span class="num" id="8465101">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8465105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465109">checkPos</span><span class="op" id="8465117">(</span><span class="ident" id="8465118">t</span><span class="op" id="8465119">,</span>&nbsp;<span class="ident" id="8465121">lit</span><span class="op" id="8465124">,</span>&nbsp;<span class="ident" id="8465126">pos</span><span class="op" id="8465129">,</span>&nbsp;<span class="ident" id="8465131">epos</span><span class="op" id="8465135">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8465140">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465157">e</span>&nbsp;<span class="op" id="8465159">:=</span>&nbsp;<span class="ident" id="8465162">elt</span><span class="op" id="8465165">{</span><span class="ident" id="8465166">token</span><span class="op" id="8465171">.</span><span class="ident" id="8465172">EOF</span><span class="op" id="8465175">,</span>&nbsp;<span class="string" id="8465177">&#34;&#34;</span><span class="op" id="8465179">,</span>&nbsp;<span class="ident" id="8465181">special</span><span class="op" id="8465188">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465192">if</span>&nbsp;<span class="ident" id="8465195">index</span>&nbsp;<span class="op" id="8465201">&lt;</span>&nbsp;<span class="builtinfunc" id="8465203">len</span><span class="op" id="8465206">(</span><span class="ident" id="8465207">tokens</span><span class="op" id="8465213">)</span>&nbsp;<span class="op" id="8465215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465220">e</span>&nbsp;<span class="op" id="8465222">=</span>&nbsp;<span class="ident" id="8465224">tokens</span><span class="op" id="8465230">[</span><span class="ident" id="8465231">index</span><span class="op" id="8465236">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465241">index</span><span class="op" id="8465246">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8465251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465255">if</span>&nbsp;<span class="ident" id="8465258">tok</span>&nbsp;<span class="op" id="8465262">!=</span>&nbsp;<span class="ident" id="8465265">e</span><span class="op" id="8465266">.</span><span class="ident" id="8465267">tok</span>&nbsp;<span class="op" id="8465271">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465276">t</span><span class="op" id="8465277">.</span><span class="ident" id="8465278">Errorf</span><span class="op" id="8465284">(</span><span class="string" id="8465285">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8465324">,</span>&nbsp;<span class="ident" id="8465326">lit</span><span class="op" id="8465329">,</span>&nbsp;<span class="ident" id="8465331">tok</span><span class="op" id="8465334">,</span>&nbsp;<span class="ident" id="8465336">e</span><span class="op" id="8465337">.</span><span class="ident" id="8465338">tok</span><span class="op" id="8465341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8465345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8465350">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465373">if</span>&nbsp;<span class="ident" id="8465376">tokenclass</span><span class="op" id="8465386">(</span><span class="ident" id="8465387">tok</span><span class="op" id="8465390">)</span>&nbsp;<span class="op" id="8465392">!=</span>&nbsp;<span class="ident" id="8465395">e</span><span class="op" id="8465396">.</span><span class="ident" id="8465397">class</span>&nbsp;<span class="op" id="8465403">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465408">t</span><span class="op" id="8465409">.</span><span class="ident" id="8465410">Errorf</span><span class="op" id="8465416">(</span><span class="string" id="8465417">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8465456">,</span>&nbsp;<span class="ident" id="8465458">lit</span><span class="op" id="8465461">,</span>&nbsp;<span class="ident" id="8465463">tokenclass</span><span class="op" id="8465473">(</span><span class="ident" id="8465474">tok</span><span class="op" id="8465477">)</span><span class="op" id="8465478">,</span>&nbsp;<span class="ident" id="8465480">e</span><span class="op" id="8465481">.</span><span class="ident" id="8465482">class</span><span class="op" id="8465487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8465491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8465496">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465515">elit</span>&nbsp;<span class="op" id="8465520">:=</span>&nbsp;<span class="string" id="8465523">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465528">switch</span>&nbsp;<span class="ident" id="8465535">e</span><span class="op" id="8465536">.</span><span class="ident" id="8465537">tok</span>&nbsp;<span class="op" id="8465541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465545">case</span>&nbsp;<span class="ident" id="8465550">token</span><span class="op" id="8465555">.</span><span class="ident" id="8465556">COMMENT</span><span class="op" id="8465563">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8465568">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465593">elit</span>&nbsp;<span class="op" id="8465598">=</span>&nbsp;<span class="builtintype" id="8465600">string</span><span class="op" id="8465606">(</span><span class="ident" id="8465607">stripCR</span><span class="op" id="8465614">(</span><span class="op" id="8465615">[</span><span class="op" id="8465616">]</span><span class="builtintype" id="8465617">byte</span><span class="op" id="8465621">(</span><span class="ident" id="8465622">e</span><span class="op" id="8465623">.</span><span class="ident" id="8465624">lit</span><span class="op" id="8465627">)</span><span class="op" id="8465628">)</span><span class="op" id="8465629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8465634">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465686">if</span>&nbsp;<span class="ident" id="8465689">elit</span><span class="op" id="8465693">[</span><span class="num" id="8465694">1</span><span class="op" id="8465695">]</span>&nbsp;<span class="op" id="8465697">==</span>&nbsp;<span class="string" id="8465700">&#39;/&#39;</span>&nbsp;<span class="op" id="8465704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465710">elit</span>&nbsp;<span class="op" id="8465715">=</span>&nbsp;<span class="ident" id="8465717">elit</span><span class="op" id="8465721">[</span><span class="num" id="8465722">0</span>&nbsp;<span class="op" id="8465724">:</span>&nbsp;<span class="builtinfunc" id="8465726">len</span><span class="op" id="8465729">(</span><span class="ident" id="8465730">elit</span><span class="op" id="8465734">)</span><span class="op" id="8465735">-</span><span class="num" id="8465736">1</span><span class="op" id="8465737">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8465742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465746">case</span>&nbsp;<span class="ident" id="8465751">token</span><span class="op" id="8465756">.</span><span class="ident" id="8465757">IDENT</span><span class="op" id="8465762">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465767">elit</span>&nbsp;<span class="op" id="8465772">=</span>&nbsp;<span class="ident" id="8465774">e</span><span class="op" id="8465775">.</span><span class="ident" id="8465776">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465782">case</span>&nbsp;<span class="ident" id="8465787">token</span><span class="op" id="8465792">.</span><span class="ident" id="8465793">SEMICOLON</span><span class="op" id="8465802">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465807">elit</span>&nbsp;<span class="op" id="8465812">=</span>&nbsp;<span class="string" id="8465814">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465820">default</span><span class="op" id="8465827">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465832">if</span>&nbsp;<span class="ident" id="8465835">e</span><span class="op" id="8465836">.</span><span class="ident" id="8465837">tok</span><span class="op" id="8465840">.</span><span class="ident" id="8465841">IsLiteral</span><span class="op" id="8465850">(</span><span class="op" id="8465851">)</span>&nbsp;<span class="op" id="8465853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8465859">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465896">elit</span>&nbsp;<span class="op" id="8465901">=</span>&nbsp;<span class="ident" id="8465903">e</span><span class="op" id="8465904">.</span><span class="ident" id="8465905">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8465913">if</span>&nbsp;<span class="ident" id="8465916">elit</span><span class="op" id="8465920">[</span><span class="num" id="8465921">0</span><span class="op" id="8465922">]</span>&nbsp;<span class="op" id="8465924">==</span>&nbsp;<span class="string" id="8465927">&#39;`&#39;</span>&nbsp;<span class="op" id="8465931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8465938">elit</span>&nbsp;<span class="op" id="8465943">=</span>&nbsp;<span class="builtintype" id="8465945">string</span><span class="op" id="8465951">(</span><span class="ident" id="8465952">stripCR</span><span class="op" id="8465959">(</span><span class="op" id="8465960">[</span><span class="op" id="8465961">]</span><span class="builtintype" id="8465962">byte</span><span class="op" id="8465966">(</span><span class="ident" id="8465967">elit</span><span class="op" id="8465971">)</span><span class="op" id="8465972">)</span><span class="op" id="8465973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8465979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8465984">}</span>&nbsp;<span class="keyword" id="8465986">else</span>&nbsp;<span class="keyword" id="8465991">if</span>&nbsp;<span class="ident" id="8465994">e</span><span class="op" id="8465995">.</span><span class="ident" id="8465996">tok</span><span class="op" id="8465999">.</span><span class="ident" id="8466000">IsKeyword</span><span class="op" id="8466009">(</span><span class="op" id="8466010">)</span>&nbsp;<span class="op" id="8466012">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466018">elit</span>&nbsp;<span class="op" id="8466023">=</span>&nbsp;<span class="ident" id="8466025">e</span><span class="op" id="8466026">.</span><span class="ident" id="8466027">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8466034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8466038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466042">if</span>&nbsp;<span class="ident" id="8466045">lit</span>&nbsp;<span class="op" id="8466049">!=</span>&nbsp;<span class="ident" id="8466052">elit</span>&nbsp;<span class="op" id="8466057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466062">t</span><span class="op" id="8466063">.</span><span class="ident" id="8466064">Errorf</span><span class="op" id="8466070">(</span><span class="string" id="8466071">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8466112">,</span>&nbsp;<span class="ident" id="8466114">lit</span><span class="op" id="8466117">,</span>&nbsp;<span class="ident" id="8466119">lit</span><span class="op" id="8466122">,</span>&nbsp;<span class="ident" id="8466124">elit</span><span class="op" id="8466128">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8466132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466137">if</span>&nbsp;<span class="ident" id="8466140">tok</span>&nbsp;<span class="op" id="8466144">==</span>&nbsp;<span class="ident" id="8466147">token</span><span class="op" id="8466152">.</span><span class="ident" id="8466153">EOF</span>&nbsp;<span class="op" id="8466157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466162">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8466170">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8466175">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466196">epos</span><span class="op" id="8466200">.</span><span class="ident" id="8466201">Offset</span>&nbsp;<span class="op" id="8466208">+=</span>&nbsp;<span class="builtinfunc" id="8466211">len</span><span class="op" id="8466214">(</span><span class="ident" id="8466215">e</span><span class="op" id="8466216">.</span><span class="ident" id="8466217">lit</span><span class="op" id="8466220">)</span>&nbsp;<span class="op" id="8466222">+</span>&nbsp;<span class="builtinfunc" id="8466224">len</span><span class="op" id="8466227">(</span><span class="ident" id="8466228">whitespace</span><span class="op" id="8466238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466242">epos</span><span class="op" id="8466246">.</span><span class="ident" id="8466247">Line</span>&nbsp;<span class="op" id="8466252">+=</span>&nbsp;<span class="ident" id="8466255">newlineCount</span><span class="op" id="8466267">(</span><span class="ident" id="8466268">e</span><span class="op" id="8466269">.</span><span class="ident" id="8466270">lit</span><span class="op" id="8466273">)</span>&nbsp;<span class="op" id="8466275">+</span>&nbsp;<span class="ident" id="8466277">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8466300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466304">if</span>&nbsp;<span class="ident" id="8466307">s</span><span class="op" id="8466308">.</span><span class="ident" id="8466309">ErrorCount</span>&nbsp;<span class="op" id="8466320">!=</span>&nbsp;<span class="num" id="8466323">0</span>&nbsp;<span class="op" id="8466325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466329">t</span><span class="op" id="8466330">.</span><span class="ident" id="8466331">Errorf</span><span class="op" id="8466337">(</span><span class="string" id="8466338">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8466355">,</span>&nbsp;<span class="ident" id="8466357">s</span><span class="op" id="8466358">.</span><span class="ident" id="8466359">ErrorCount</span><span class="op" id="8466369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8466372">}</span><br>
<span class="lineno">310</span><span class="op" id="8466374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8466377">func</span>&nbsp;<span class="ident" id="8466382">checkSemi</span><span class="op" id="8466391">(</span><span class="ident" id="8466392">t</span>&nbsp;<span class="op" id="8466394">*</span><span class="ident" id="8466395">testing</span><span class="op" id="8466402">.</span><span class="ident" id="8466403">T</span><span class="op" id="8466404">,</span>&nbsp;<span class="ident" id="8466406">line</span>&nbsp;<span class="builtintype" id="8466411">string</span><span class="op" id="8466417">,</span>&nbsp;<span class="ident" id="8466419">mode</span>&nbsp;<span class="ident" id="8466424">Mode</span><span class="op" id="8466428">)</span>&nbsp;<span class="op" id="8466430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466433">var</span>&nbsp;<span class="ident" id="8466437">S</span>&nbsp;<span class="ident" id="8466439">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466448">file</span>&nbsp;<span class="op" id="8466453">:=</span>&nbsp;<span class="ident" id="8466456">fset</span><span class="op" id="8466460">.</span><span class="ident" id="8466461">AddFile</span><span class="op" id="8466468">(</span><span class="string" id="8466469">&#34;TestSemis&#34;</span><span class="op" id="8466480">,</span>&nbsp;<span class="ident" id="8466482">fset</span><span class="op" id="8466486">.</span><span class="ident" id="8466487">Base</span><span class="op" id="8466491">(</span><span class="op" id="8466492">)</span><span class="op" id="8466493">,</span>&nbsp;<span class="builtinfunc" id="8466495">len</span><span class="op" id="8466498">(</span><span class="ident" id="8466499">line</span><span class="op" id="8466503">)</span><span class="op" id="8466504">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466507">S</span><span class="op" id="8466508">.</span><span class="ident" id="8466509">Init</span><span class="op" id="8466513">(</span><span class="ident" id="8466514">file</span><span class="op" id="8466518">,</span>&nbsp;<span class="op" id="8466520">[</span><span class="op" id="8466521">]</span><span class="builtintype" id="8466522">byte</span><span class="op" id="8466526">(</span><span class="ident" id="8466527">line</span><span class="op" id="8466531">)</span><span class="op" id="8466532">,</span>&nbsp;<span class="ident" id="8466534">nil</span><span class="op" id="8466537">,</span>&nbsp;<span class="ident" id="8466539">mode</span><span class="op" id="8466543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466546">pos</span><span class="op" id="8466549">,</span>&nbsp;<span class="ident" id="8466551">tok</span><span class="op" id="8466554">,</span>&nbsp;<span class="ident" id="8466556">lit</span>&nbsp;<span class="op" id="8466560">:=</span>&nbsp;<span class="ident" id="8466563">S</span><span class="op" id="8466564">.</span><span class="ident" id="8466565">Scan</span><span class="op" id="8466569">(</span><span class="op" id="8466570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466573">for</span>&nbsp;<span class="ident" id="8466577">tok</span>&nbsp;<span class="op" id="8466581">!=</span>&nbsp;<span class="ident" id="8466584">token</span><span class="op" id="8466589">.</span><span class="ident" id="8466590">EOF</span>&nbsp;<span class="op" id="8466594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466598">if</span>&nbsp;<span class="ident" id="8466601">tok</span>&nbsp;<span class="op" id="8466605">==</span>&nbsp;<span class="ident" id="8466608">token</span><span class="op" id="8466613">.</span><span class="ident" id="8466614">ILLEGAL</span>&nbsp;<span class="op" id="8466622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8466627">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8466674">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466716">semiLit</span>&nbsp;<span class="op" id="8466724">:=</span>&nbsp;<span class="string" id="8466727">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466735">if</span>&nbsp;<span class="ident" id="8466738">lit</span><span class="op" id="8466741">[</span><span class="num" id="8466742">0</span><span class="op" id="8466743">]</span>&nbsp;<span class="op" id="8466745">==</span>&nbsp;<span class="string" id="8466748">&#39;#&#39;</span>&nbsp;<span class="op" id="8466752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466758">semiLit</span>&nbsp;<span class="op" id="8466766">=</span>&nbsp;<span class="string" id="8466768">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8466775">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8466780">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466817">semiPos</span>&nbsp;<span class="op" id="8466825">:=</span>&nbsp;<span class="ident" id="8466828">file</span><span class="op" id="8466832">.</span><span class="ident" id="8466833">Position</span><span class="op" id="8466841">(</span><span class="ident" id="8466842">pos</span><span class="op" id="8466845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466850">semiPos</span><span class="op" id="8466857">.</span><span class="ident" id="8466858">Offset</span><span class="op" id="8466864">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466870">semiPos</span><span class="op" id="8466877">.</span><span class="ident" id="8466878">Column</span><span class="op" id="8466884">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466890">pos</span><span class="op" id="8466893">,</span>&nbsp;<span class="ident" id="8466895">tok</span><span class="op" id="8466898">,</span>&nbsp;<span class="ident" id="8466900">lit</span>&nbsp;<span class="op" id="8466904">=</span>&nbsp;<span class="ident" id="8466906">S</span><span class="op" id="8466907">.</span><span class="ident" id="8466908">Scan</span><span class="op" id="8466912">(</span><span class="op" id="8466913">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466918">if</span>&nbsp;<span class="ident" id="8466921">tok</span>&nbsp;<span class="op" id="8466925">==</span>&nbsp;<span class="ident" id="8466928">token</span><span class="op" id="8466933">.</span><span class="ident" id="8466934">SEMICOLON</span>&nbsp;<span class="op" id="8466944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466950">if</span>&nbsp;<span class="ident" id="8466953">lit</span>&nbsp;<span class="op" id="8466957">!=</span>&nbsp;<span class="ident" id="8466960">semiLit</span>&nbsp;<span class="op" id="8466968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466975">t</span><span class="op" id="8466976">.</span><span class="ident" id="8466977">Errorf</span><span class="op" id="8466983">(</span><span class="string" id="8466984">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="8467025">,</span>&nbsp;<span class="ident" id="8467027">line</span><span class="op" id="8467031">,</span>&nbsp;<span class="ident" id="8467033">lit</span><span class="op" id="8467036">,</span>&nbsp;<span class="ident" id="8467038">semiLit</span><span class="op" id="8467045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467057">checkPos</span><span class="op" id="8467065">(</span><span class="ident" id="8467066">t</span><span class="op" id="8467067">,</span>&nbsp;<span class="ident" id="8467069">line</span><span class="op" id="8467073">,</span>&nbsp;<span class="ident" id="8467075">pos</span><span class="op" id="8467078">,</span>&nbsp;<span class="ident" id="8467080">semiPos</span><span class="op" id="8467087">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467092">}</span>&nbsp;<span class="keyword" id="8467094">else</span>&nbsp;<span class="op" id="8467099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467105">t</span><span class="op" id="8467106">.</span><span class="ident" id="8467107">Errorf</span><span class="op" id="8467113">(</span><span class="string" id="8467114">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="8467152">,</span>&nbsp;<span class="ident" id="8467154">line</span><span class="op" id="8467158">,</span>&nbsp;<span class="ident" id="8467160">tok</span><span class="op" id="8467163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467172">}</span>&nbsp;<span class="keyword" id="8467174">else</span>&nbsp;<span class="keyword" id="8467179">if</span>&nbsp;<span class="ident" id="8467182">tok</span>&nbsp;<span class="op" id="8467186">==</span>&nbsp;<span class="ident" id="8467189">token</span><span class="op" id="8467194">.</span><span class="ident" id="8467195">SEMICOLON</span>&nbsp;<span class="op" id="8467205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467210">t</span><span class="op" id="8467211">.</span><span class="ident" id="8467212">Errorf</span><span class="op" id="8467218">(</span><span class="string" id="8467219">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="8467259">,</span>&nbsp;<span class="ident" id="8467261">line</span><span class="op" id="8467265">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467273">pos</span><span class="op" id="8467276">,</span>&nbsp;<span class="ident" id="8467278">tok</span><span class="op" id="8467281">,</span>&nbsp;<span class="ident" id="8467283">lit</span>&nbsp;<span class="op" id="8467287">=</span>&nbsp;<span class="ident" id="8467289">S</span><span class="op" id="8467290">.</span><span class="ident" id="8467291">Scan</span><span class="op" id="8467295">(</span><span class="op" id="8467296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467299">}</span><br>
<span class="lineno"></span><span class="op" id="8467301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="8467304">var</span>&nbsp;<span class="ident" id="8467308">lines</span>&nbsp;<span class="op" id="8467314">=</span>&nbsp;<span class="op" id="8467316">[</span><span class="op" id="8467317">]</span><span class="builtintype" id="8467318">string</span><span class="op" id="8467324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8467327">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8467377">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467429">&#34;&#34;</span><span class="op" id="8467431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467434">&#34;\ufeff#;&#34;</span><span class="op" id="8467444">,</span>&nbsp;<span class="comment" id="8467446">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467471">&#34;#;&#34;</span><span class="op" id="8467475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467478">&#34;foo$\n&#34;</span><span class="op" id="8467486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467489">&#34;123$\n&#34;</span><span class="op" id="8467497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467500">&#34;1.2$\n&#34;</span><span class="op" id="8467508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467511">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="8467519">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467522">`&#34;x&#34;`</span>&nbsp;<span class="op" id="8467528">+</span>&nbsp;<span class="string" id="8467530">&#34;$\n&#34;</span><span class="op" id="8467535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467538">&#34;`x`$\n&#34;</span><span class="op" id="8467546">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467550">&#34;+\n&#34;</span><span class="op" id="8467555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467558">&#34;-\n&#34;</span><span class="op" id="8467563">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467566">&#34;*\n&#34;</span><span class="op" id="8467571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467574">&#34;/\n&#34;</span><span class="op" id="8467579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467582">&#34;%\n&#34;</span><span class="op" id="8467587">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467591">&#34;&amp;\n&#34;</span><span class="op" id="8467596">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467599">&#34;|\n&#34;</span><span class="op" id="8467604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467607">&#34;^\n&#34;</span><span class="op" id="8467612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467615">&#34;&lt;&lt;\n&#34;</span><span class="op" id="8467621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467624">&#34;&gt;&gt;\n&#34;</span><span class="op" id="8467630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467633">&#34;&amp;^\n&#34;</span><span class="op" id="8467639">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467643">&#34;+=\n&#34;</span><span class="op" id="8467649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467652">&#34;-=\n&#34;</span><span class="op" id="8467658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467661">&#34;*=\n&#34;</span><span class="op" id="8467667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467670">&#34;/=\n&#34;</span><span class="op" id="8467676">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467679">&#34;%=\n&#34;</span><span class="op" id="8467685">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467689">&#34;&amp;=\n&#34;</span><span class="op" id="8467695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467698">&#34;|=\n&#34;</span><span class="op" id="8467704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467707">&#34;^=\n&#34;</span><span class="op" id="8467713">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467716">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="8467723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467726">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="8467733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467736">&#34;&amp;^=\n&#34;</span><span class="op" id="8467743">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467747">&#34;&amp;&amp;\n&#34;</span><span class="op" id="8467753">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467756">&#34;||\n&#34;</span><span class="op" id="8467762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467765">&#34;&lt;-\n&#34;</span><span class="op" id="8467771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467774">&#34;++$\n&#34;</span><span class="op" id="8467781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467784">&#34;--$\n&#34;</span><span class="op" id="8467791">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467795">&#34;==\n&#34;</span><span class="op" id="8467801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467804">&#34;&lt;\n&#34;</span><span class="op" id="8467809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467812">&#34;&gt;\n&#34;</span><span class="op" id="8467817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467820">&#34;=\n&#34;</span><span class="op" id="8467825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467828">&#34;!\n&#34;</span><span class="op" id="8467833">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467837">&#34;!=\n&#34;</span><span class="op" id="8467843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467846">&#34;&lt;=\n&#34;</span><span class="op" id="8467852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467855">&#34;&gt;=\n&#34;</span><span class="op" id="8467861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467864">&#34;:=\n&#34;</span><span class="op" id="8467870">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467873">&#34;...\n&#34;</span><span class="op" id="8467880">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467884">&#34;(\n&#34;</span><span class="op" id="8467889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467892">&#34;[\n&#34;</span><span class="op" id="8467897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467900">&#34;{\n&#34;</span><span class="op" id="8467905">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467908">&#34;,\n&#34;</span><span class="op" id="8467913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467916">&#34;.\n&#34;</span><span class="op" id="8467921">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467925">&#34;)$\n&#34;</span><span class="op" id="8467931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467934">&#34;]$\n&#34;</span><span class="op" id="8467940">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467943">&#34;}$\n&#34;</span><span class="op" id="8467949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467952">&#34;#;\n&#34;</span><span class="op" id="8467958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467961">&#34;:\n&#34;</span><span class="op" id="8467966">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467970">&#34;break$\n&#34;</span><span class="op" id="8467980">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467983">&#34;case\n&#34;</span><span class="op" id="8467991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8467994">&#34;chan\n&#34;</span><span class="op" id="8468002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468005">&#34;const\n&#34;</span><span class="op" id="8468014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468017">&#34;continue$\n&#34;</span><span class="op" id="8468030">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468034">&#34;default\n&#34;</span><span class="op" id="8468045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468048">&#34;defer\n&#34;</span><span class="op" id="8468057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468060">&#34;else\n&#34;</span><span class="op" id="8468068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468071">&#34;fallthrough$\n&#34;</span><span class="op" id="8468087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468090">&#34;for\n&#34;</span><span class="op" id="8468097">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468101">&#34;func\n&#34;</span><span class="op" id="8468109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468112">&#34;go\n&#34;</span><span class="op" id="8468118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468121">&#34;goto\n&#34;</span><span class="op" id="8468129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468132">&#34;if\n&#34;</span><span class="op" id="8468138">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468141">&#34;import\n&#34;</span><span class="op" id="8468151">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468155">&#34;interface\n&#34;</span><span class="op" id="8468168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468171">&#34;map\n&#34;</span><span class="op" id="8468178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468181">&#34;package\n&#34;</span><span class="op" id="8468192">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468195">&#34;range\n&#34;</span><span class="op" id="8468204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468207">&#34;return$\n&#34;</span><span class="op" id="8468218">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468222">&#34;select\n&#34;</span><span class="op" id="8468232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468235">&#34;struct\n&#34;</span><span class="op" id="8468245">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468248">&#34;switch\n&#34;</span><span class="op" id="8468258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468261">&#34;type\n&#34;</span><span class="op" id="8468269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468272">&#34;var\n&#34;</span><span class="op" id="8468279">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468283">&#34;foo$//comment\n&#34;</span><span class="op" id="8468300">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468303">&#34;foo$//comment&#34;</span><span class="op" id="8468318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468321">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="8468340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468343">&#34;foo$/*\n*/&#34;</span><span class="op" id="8468355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468358">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8468381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468384">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8468400">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468404">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="8468426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468429">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="8468449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468452">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="8468475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468478">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="8468494">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468497">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="8468533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468536">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="8468565">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468569">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8468596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468599">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8468632">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468635">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="8468706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468709">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="8468749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468752">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="8468795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468798">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="8468841">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468845">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="8468912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8468915">&#34;package&nbsp;main$&#34;</span><span class="op" id="8468930">,</span><br>
<span class="lineno"></span><span class="op" id="8468932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8468935">func</span>&nbsp;<span class="ident" id="8468940">TestSemis</span><span class="op" id="8468949">(</span><span class="ident" id="8468950">t</span>&nbsp;<span class="op" id="8468952">*</span><span class="ident" id="8468953">testing</span><span class="op" id="8468960">.</span><span class="ident" id="8468961">T</span><span class="op" id="8468962">)</span>&nbsp;<span class="op" id="8468964">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468967">for</span>&nbsp;<span class="ident" id="8468971">_</span><span class="op" id="8468972">,</span>&nbsp;<span class="ident" id="8468974">line</span>&nbsp;<span class="op" id="8468979">:=</span>&nbsp;<span class="keyword" id="8468982">range</span>&nbsp;<span class="ident" id="8468988">lines</span>&nbsp;<span class="op" id="8468994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468998">checkSemi</span><span class="op" id="8469007">(</span><span class="ident" id="8469008">t</span><span class="op" id="8469009">,</span>&nbsp;<span class="ident" id="8469011">line</span><span class="op" id="8469015">,</span>&nbsp;<span class="num" id="8469017">0</span><span class="op" id="8469018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469022">checkSemi</span><span class="op" id="8469031">(</span><span class="ident" id="8469032">t</span><span class="op" id="8469033">,</span>&nbsp;<span class="ident" id="8469035">line</span><span class="op" id="8469039">,</span>&nbsp;<span class="ident" id="8469041">ScanComments</span><span class="op" id="8469053">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8469058">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8469123">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8469164">for</span>&nbsp;<span class="ident" id="8469168">i</span>&nbsp;<span class="op" id="8469170">:=</span>&nbsp;<span class="builtinfunc" id="8469173">len</span><span class="op" id="8469176">(</span><span class="ident" id="8469177">line</span><span class="op" id="8469181">)</span>&nbsp;<span class="op" id="8469183">-</span>&nbsp;<span class="num" id="8469185">1</span><span class="op" id="8469186">;</span>&nbsp;<span class="ident" id="8469188">i</span>&nbsp;<span class="op" id="8469190">&gt;=</span>&nbsp;<span class="num" id="8469193">0</span>&nbsp;<span class="op" id="8469195">&amp;&amp;</span>&nbsp;<span class="ident" id="8469198">line</span><span class="op" id="8469202">[</span><span class="ident" id="8469203">i</span><span class="op" id="8469204">]</span>&nbsp;<span class="op" id="8469206">==</span>&nbsp;<span class="string" id="8469209">&#39;\n&#39;</span><span class="op" id="8469213">;</span>&nbsp;<span class="ident" id="8469215">i</span><span class="op" id="8469216">--</span>&nbsp;<span class="op" id="8469219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469224">checkSemi</span><span class="op" id="8469233">(</span><span class="ident" id="8469234">t</span><span class="op" id="8469235">,</span>&nbsp;<span class="ident" id="8469237">line</span><span class="op" id="8469241">[</span><span class="num" id="8469242">0</span><span class="op" id="8469243">:</span><span class="ident" id="8469244">i</span><span class="op" id="8469245">]</span><span class="op" id="8469246">,</span>&nbsp;<span class="num" id="8469248">0</span><span class="op" id="8469249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469254">checkSemi</span><span class="op" id="8469263">(</span><span class="ident" id="8469264">t</span><span class="op" id="8469265">,</span>&nbsp;<span class="ident" id="8469267">line</span><span class="op" id="8469271">[</span><span class="num" id="8469272">0</span><span class="op" id="8469273">:</span><span class="ident" id="8469274">i</span><span class="op" id="8469275">]</span><span class="op" id="8469276">,</span>&nbsp;<span class="ident" id="8469278">ScanComments</span><span class="op" id="8469290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469294">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469297">}</span><br>
<span class="lineno"></span><span class="op" id="8469299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8469302">type</span>&nbsp;<span class="ident" id="8469307">segment</span>&nbsp;<span class="keyword" id="8469315">struct</span>&nbsp;<span class="op" id="8469322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469325">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="8469334">string</span>&nbsp;<span class="comment" id="8469341">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469367">filename</span>&nbsp;<span class="builtintype" id="8469376">string</span>&nbsp;<span class="comment" id="8469383">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469414">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8469423">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8469430">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="8469463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8469466">var</span>&nbsp;<span class="ident" id="8469470">segments</span>&nbsp;<span class="op" id="8469479">=</span>&nbsp;<span class="op" id="8469481">[</span><span class="op" id="8469482">]</span><span class="ident" id="8469483">segment</span><span class="op" id="8469490">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8469493">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469570">{</span><span class="string" id="8469571">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="8469580">,</span>&nbsp;<span class="ident" id="8469582">filepath</span><span class="op" id="8469590">.</span><span class="ident" id="8469591">Join</span><span class="op" id="8469595">(</span><span class="string" id="8469596">&#34;dir&#34;</span><span class="op" id="8469601">,</span>&nbsp;<span class="string" id="8469603">&#34;TestLineComments&#34;</span><span class="op" id="8469621">)</span><span class="op" id="8469622">,</span>&nbsp;<span class="num" id="8469624">1</span><span class="op" id="8469625">}</span><span class="op" id="8469626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469629">{</span><span class="string" id="8469630">&#34;\nline2&#34;</span><span class="op" id="8469639">,</span>&nbsp;<span class="ident" id="8469641">filepath</span><span class="op" id="8469649">.</span><span class="ident" id="8469650">Join</span><span class="op" id="8469654">(</span><span class="string" id="8469655">&#34;dir&#34;</span><span class="op" id="8469660">,</span>&nbsp;<span class="string" id="8469662">&#34;TestLineComments&#34;</span><span class="op" id="8469680">)</span><span class="op" id="8469681">,</span>&nbsp;<span class="num" id="8469683">2</span><span class="op" id="8469684">}</span><span class="op" id="8469685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469688">{</span><span class="string" id="8469689">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="8469719">,</span>&nbsp;<span class="ident" id="8469721">filepath</span><span class="op" id="8469729">.</span><span class="ident" id="8469730">Join</span><span class="op" id="8469734">(</span><span class="string" id="8469735">&#34;dir&#34;</span><span class="op" id="8469740">,</span>&nbsp;<span class="string" id="8469742">&#34;TestLineComments&#34;</span><span class="op" id="8469760">)</span><span class="op" id="8469761">,</span>&nbsp;<span class="num" id="8469763">3</span><span class="op" id="8469764">}</span><span class="op" id="8469765">,</span>&nbsp;<span class="comment" id="8469767">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469797">{</span><span class="string" id="8469798">&#34;\nline4&#34;</span><span class="op" id="8469807">,</span>&nbsp;<span class="ident" id="8469809">filepath</span><span class="op" id="8469817">.</span><span class="ident" id="8469818">Join</span><span class="op" id="8469822">(</span><span class="string" id="8469823">&#34;dir&#34;</span><span class="op" id="8469828">,</span>&nbsp;<span class="string" id="8469830">&#34;TestLineComments&#34;</span><span class="op" id="8469848">)</span><span class="op" id="8469849">,</span>&nbsp;<span class="num" id="8469851">4</span><span class="op" id="8469852">}</span><span class="op" id="8469853">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469856">{</span><span class="string" id="8469857">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8469891">,</span>&nbsp;<span class="ident" id="8469893">filepath</span><span class="op" id="8469901">.</span><span class="ident" id="8469902">Join</span><span class="op" id="8469906">(</span><span class="string" id="8469907">&#34;dir&#34;</span><span class="op" id="8469912">,</span>&nbsp;<span class="string" id="8469914">&#34;File1.go&#34;</span><span class="op" id="8469924">)</span><span class="op" id="8469925">,</span>&nbsp;<span class="num" id="8469927">100</span><span class="op" id="8469930">}</span><span class="op" id="8469931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469934">{</span><span class="string" id="8469935">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="8469962">,</span>&nbsp;<span class="string" id="8469964">&#34;&#34;</span><span class="op" id="8469966">,</span>&nbsp;<span class="num" id="8469968">42</span><span class="op" id="8469970">}</span><span class="op" id="8469971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469974">{</span><span class="string" id="8469975">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="8470009">,</span>&nbsp;<span class="ident" id="8470011">filepath</span><span class="op" id="8470019">.</span><span class="ident" id="8470020">Join</span><span class="op" id="8470024">(</span><span class="string" id="8470025">&#34;dir&#34;</span><span class="op" id="8470030">,</span>&nbsp;<span class="string" id="8470032">&#34;File2.go&#34;</span><span class="op" id="8470042">)</span><span class="op" id="8470043">,</span>&nbsp;<span class="num" id="8470045">200</span><span class="op" id="8470048">}</span><span class="op" id="8470049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8470052">{</span><span class="string" id="8470053">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8470082">,</span>&nbsp;<span class="ident" id="8470084">filepath</span><span class="op" id="8470092">.</span><span class="ident" id="8470093">Join</span><span class="op" id="8470097">(</span><span class="string" id="8470098">&#34;dir&#34;</span><span class="op" id="8470103">,</span>&nbsp;<span class="string" id="8470105">&#34;foo&#34;</span><span class="op" id="8470110">)</span><span class="op" id="8470111">,</span>&nbsp;<span class="num" id="8470113">42</span><span class="op" id="8470115">}</span><span class="op" id="8470116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8470119">{</span><span class="string" id="8470120">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="8470148">,</span>&nbsp;<span class="ident" id="8470150">filepath</span><span class="op" id="8470158">.</span><span class="ident" id="8470159">Join</span><span class="op" id="8470163">(</span><span class="string" id="8470164">&#34;dir&#34;</span><span class="op" id="8470169">,</span>&nbsp;<span class="string" id="8470171">&#34;foo&#34;</span><span class="op" id="8470176">)</span><span class="op" id="8470177">,</span>&nbsp;<span class="num" id="8470179">44</span><span class="op" id="8470181">}</span><span class="op" id="8470182">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8470194">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8470224">{</span><span class="string" id="8470225">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="8470252">,</span>&nbsp;<span class="ident" id="8470254">filepath</span><span class="op" id="8470262">.</span><span class="ident" id="8470263">Join</span><span class="op" id="8470267">(</span><span class="string" id="8470268">&#34;dir&#34;</span><span class="op" id="8470273">,</span>&nbsp;<span class="string" id="8470275">&#34;foo&#34;</span><span class="op" id="8470280">)</span><span class="op" id="8470281">,</span>&nbsp;<span class="num" id="8470283">46</span><span class="op" id="8470285">}</span><span class="op" id="8470286">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8470299">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8470329">{</span><span class="string" id="8470330">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="8470368">,</span>&nbsp;<span class="ident" id="8470370">filepath</span><span class="op" id="8470378">.</span><span class="ident" id="8470379">Join</span><span class="op" id="8470383">(</span><span class="string" id="8470384">&#34;dir&#34;</span><span class="op" id="8470389">,</span>&nbsp;<span class="string" id="8470391">&#34;foo&#34;</span><span class="op" id="8470396">)</span><span class="op" id="8470397">,</span>&nbsp;<span class="num" id="8470399">48</span><span class="op" id="8470401">}</span><span class="op" id="8470402">,</span>&nbsp;<span class="comment" id="8470404">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8470434">{</span><span class="string" id="8470435">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8470464">,</span>&nbsp;<span class="ident" id="8470466">filepath</span><span class="op" id="8470474">.</span><span class="ident" id="8470475">Join</span><span class="op" id="8470479">(</span><span class="string" id="8470480">&#34;dir&#34;</span><span class="op" id="8470485">,</span>&nbsp;<span class="string" id="8470487">&#34;foo&#34;</span><span class="op" id="8470492">)</span><span class="op" id="8470493">,</span>&nbsp;<span class="num" id="8470495">42</span><span class="op" id="8470497">}</span><span class="op" id="8470498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8470501">{</span><span class="string" id="8470502">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8470542">,</span>&nbsp;<span class="ident" id="8470544">filepath</span><span class="op" id="8470552">.</span><span class="ident" id="8470553">Join</span><span class="op" id="8470557">(</span><span class="string" id="8470558">&#34;dir&#34;</span><span class="op" id="8470563">,</span>&nbsp;<span class="string" id="8470565">&#34;a&#34;</span><span class="op" id="8470568">,</span>&nbsp;<span class="string" id="8470570">&#34;b&#34;</span><span class="op" id="8470573">,</span>&nbsp;<span class="string" id="8470575">&#34;c&#34;</span><span class="op" id="8470578">,</span>&nbsp;<span class="string" id="8470580">&#34;File1.go&#34;</span><span class="op" id="8470590">)</span><span class="op" id="8470591">,</span>&nbsp;<span class="num" id="8470593">100</span><span class="op" id="8470596">}</span><span class="op" id="8470597">,</span><br>
<span class="lineno"></span><span class="op" id="8470599">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="8470602">var</span>&nbsp;<span class="ident" id="8470606">unixsegments</span>&nbsp;<span class="op" id="8470619">=</span>&nbsp;<span class="op" id="8470621">[</span><span class="op" id="8470622">]</span><span class="ident" id="8470623">segment</span><span class="op" id="8470630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8470633">{</span><span class="string" id="8470634">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8470662">,</span>&nbsp;<span class="string" id="8470664">&#34;/bar&#34;</span><span class="op" id="8470670">,</span>&nbsp;<span class="num" id="8470672">42</span><span class="op" id="8470674">}</span><span class="op" id="8470675">,</span><br>
<span class="lineno"></span><span class="op" id="8470677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="8470680">var</span>&nbsp;<span class="ident" id="8470684">winsegments</span>&nbsp;<span class="op" id="8470696">=</span>&nbsp;<span class="op" id="8470698">[</span><span class="op" id="8470699">]</span><span class="ident" id="8470700">segment</span><span class="op" id="8470707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8470710">{</span><span class="string" id="8470711">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8470742">,</span>&nbsp;<span class="string" id="8470744">&#34;c:\\bar&#34;</span><span class="op" id="8470753">,</span>&nbsp;<span class="num" id="8470755">42</span><span class="op" id="8470757">}</span><span class="op" id="8470758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8470761">{</span><span class="string" id="8470762">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8470805">,</span>&nbsp;<span class="string" id="8470807">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="8470826">,</span>&nbsp;<span class="num" id="8470828">100</span><span class="op" id="8470831">}</span><span class="op" id="8470832">,</span><br>
<span class="lineno"></span><span class="op" id="8470834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="8470837">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="8470923">func</span>&nbsp;<span class="ident" id="8470928">TestLineComments</span><span class="op" id="8470944">(</span><span class="ident" id="8470945">t</span>&nbsp;<span class="op" id="8470947">*</span><span class="ident" id="8470948">testing</span><span class="op" id="8470955">.</span><span class="ident" id="8470956">T</span><span class="op" id="8470957">)</span>&nbsp;<span class="op" id="8470959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8470962">segs</span>&nbsp;<span class="op" id="8470967">:=</span>&nbsp;<span class="ident" id="8470970">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8470980">if</span>&nbsp;<span class="ident" id="8470983">runtime</span><span class="op" id="8470990">.</span><span class="ident" id="8470991">GOOS</span>&nbsp;<span class="op" id="8470996">==</span>&nbsp;<span class="string" id="8470999">&#34;windows&#34;</span>&nbsp;<span class="op" id="8471009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471013">segs</span>&nbsp;<span class="op" id="8471018">=</span>&nbsp;<span class="builtinfunc" id="8471020">append</span><span class="op" id="8471026">(</span><span class="ident" id="8471027">segs</span><span class="op" id="8471031">,</span>&nbsp;<span class="ident" id="8471033">winsegments</span><span class="op" id="8471044">...</span><span class="op" id="8471047">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8471050">}</span>&nbsp;<span class="keyword" id="8471052">else</span>&nbsp;<span class="op" id="8471057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471061">segs</span>&nbsp;<span class="op" id="8471066">=</span>&nbsp;<span class="builtinfunc" id="8471068">append</span><span class="op" id="8471074">(</span><span class="ident" id="8471075">segs</span><span class="op" id="8471079">,</span>&nbsp;<span class="ident" id="8471081">unixsegments</span><span class="op" id="8471093">...</span><span class="op" id="8471096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8471099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8471103">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8471119">var</span>&nbsp;<span class="ident" id="8471123">src</span>&nbsp;<span class="builtintype" id="8471127">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8471135">for</span>&nbsp;<span class="ident" id="8471139">_</span><span class="op" id="8471140">,</span>&nbsp;<span class="ident" id="8471142">e</span>&nbsp;<span class="op" id="8471144">:=</span>&nbsp;<span class="keyword" id="8471147">range</span>&nbsp;<span class="ident" id="8471153">segs</span>&nbsp;<span class="op" id="8471158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471162">src</span>&nbsp;<span class="op" id="8471166">+=</span>&nbsp;<span class="ident" id="8471169">e</span><span class="op" id="8471170">.</span><span class="ident" id="8471171">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8471180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8471184">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8471200">var</span>&nbsp;<span class="ident" id="8471204">S</span>&nbsp;<span class="ident" id="8471206">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471215">file</span>&nbsp;<span class="op" id="8471220">:=</span>&nbsp;<span class="ident" id="8471223">fset</span><span class="op" id="8471227">.</span><span class="ident" id="8471228">AddFile</span><span class="op" id="8471235">(</span><span class="ident" id="8471236">filepath</span><span class="op" id="8471244">.</span><span class="ident" id="8471245">Join</span><span class="op" id="8471249">(</span><span class="string" id="8471250">&#34;dir&#34;</span><span class="op" id="8471255">,</span>&nbsp;<span class="string" id="8471257">&#34;TestLineComments&#34;</span><span class="op" id="8471275">)</span><span class="op" id="8471276">,</span>&nbsp;<span class="ident" id="8471278">fset</span><span class="op" id="8471282">.</span><span class="ident" id="8471283">Base</span><span class="op" id="8471287">(</span><span class="op" id="8471288">)</span><span class="op" id="8471289">,</span>&nbsp;<span class="builtinfunc" id="8471291">len</span><span class="op" id="8471294">(</span><span class="ident" id="8471295">src</span><span class="op" id="8471298">)</span><span class="op" id="8471299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471302">S</span><span class="op" id="8471303">.</span><span class="ident" id="8471304">Init</span><span class="op" id="8471308">(</span><span class="ident" id="8471309">file</span><span class="op" id="8471313">,</span>&nbsp;<span class="op" id="8471315">[</span><span class="op" id="8471316">]</span><span class="builtintype" id="8471317">byte</span><span class="op" id="8471321">(</span><span class="ident" id="8471322">src</span><span class="op" id="8471325">)</span><span class="op" id="8471326">,</span>&nbsp;<span class="ident" id="8471328">nil</span><span class="op" id="8471331">,</span>&nbsp;<span class="ident" id="8471333">dontInsertSemis</span><span class="op" id="8471348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8471351">for</span>&nbsp;<span class="ident" id="8471355">_</span><span class="op" id="8471356">,</span>&nbsp;<span class="ident" id="8471358">s</span>&nbsp;<span class="op" id="8471360">:=</span>&nbsp;<span class="keyword" id="8471363">range</span>&nbsp;<span class="ident" id="8471369">segs</span>&nbsp;<span class="op" id="8471374">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471378">p</span><span class="op" id="8471379">,</span>&nbsp;<span class="ident" id="8471381">_</span><span class="op" id="8471382">,</span>&nbsp;<span class="ident" id="8471384">lit</span>&nbsp;<span class="op" id="8471388">:=</span>&nbsp;<span class="ident" id="8471391">S</span><span class="op" id="8471392">.</span><span class="ident" id="8471393">Scan</span><span class="op" id="8471397">(</span><span class="op" id="8471398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471402">pos</span>&nbsp;<span class="op" id="8471406">:=</span>&nbsp;<span class="ident" id="8471409">file</span><span class="op" id="8471413">.</span><span class="ident" id="8471414">Position</span><span class="op" id="8471422">(</span><span class="ident" id="8471423">p</span><span class="op" id="8471424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471428">checkPos</span><span class="op" id="8471436">(</span><span class="ident" id="8471437">t</span><span class="op" id="8471438">,</span>&nbsp;<span class="ident" id="8471440">lit</span><span class="op" id="8471443">,</span>&nbsp;<span class="ident" id="8471445">p</span><span class="op" id="8471446">,</span>&nbsp;<span class="ident" id="8471448">token</span><span class="op" id="8471453">.</span><span class="ident" id="8471454">Position</span><span class="op" id="8471462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471467">Filename</span><span class="op" id="8471475">:</span>&nbsp;<span class="ident" id="8471477">s</span><span class="op" id="8471478">.</span><span class="ident" id="8471479">filename</span><span class="op" id="8471487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471492">Offset</span><span class="op" id="8471498">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8471502">pos</span><span class="op" id="8471505">.</span><span class="ident" id="8471506">Offset</span><span class="op" id="8471512">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471517">Line</span><span class="op" id="8471521">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8471527">s</span><span class="op" id="8471528">.</span><span class="ident" id="8471529">line</span><span class="op" id="8471533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471538">Column</span><span class="op" id="8471544">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8471548">pos</span><span class="op" id="8471551">.</span><span class="ident" id="8471552">Column</span><span class="op" id="8471558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8471562">}</span><span class="op" id="8471563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8471566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8471570">if</span>&nbsp;<span class="ident" id="8471573">S</span><span class="op" id="8471574">.</span><span class="ident" id="8471575">ErrorCount</span>&nbsp;<span class="op" id="8471586">!=</span>&nbsp;<span class="num" id="8471589">0</span>&nbsp;<span class="op" id="8471591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471595">t</span><span class="op" id="8471596">.</span><span class="ident" id="8471597">Errorf</span><span class="op" id="8471603">(</span><span class="string" id="8471604">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8471621">,</span>&nbsp;<span class="ident" id="8471623">S</span><span class="op" id="8471624">.</span><span class="ident" id="8471625">ErrorCount</span><span class="op" id="8471635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8471638">}</span><br>
<span class="lineno"></span><span class="op" id="8471640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="8471643">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="8471720">func</span>&nbsp;<span class="ident" id="8471725">TestInit</span><span class="op" id="8471733">(</span><span class="ident" id="8471734">t</span>&nbsp;<span class="op" id="8471736">*</span><span class="ident" id="8471737">testing</span><span class="op" id="8471744">.</span><span class="ident" id="8471745">T</span><span class="op" id="8471746">)</span>&nbsp;<span class="op" id="8471748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8471751">var</span>&nbsp;<span class="ident" id="8471755">s</span>&nbsp;<span class="ident" id="8471757">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8471767">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471780">src1</span>&nbsp;<span class="op" id="8471785">:=</span>&nbsp;<span class="string" id="8471788">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471803">f1</span>&nbsp;<span class="op" id="8471806">:=</span>&nbsp;<span class="ident" id="8471809">fset</span><span class="op" id="8471813">.</span><span class="ident" id="8471814">AddFile</span><span class="op" id="8471821">(</span><span class="string" id="8471822">&#34;src1&#34;</span><span class="op" id="8471828">,</span>&nbsp;<span class="ident" id="8471830">fset</span><span class="op" id="8471834">.</span><span class="ident" id="8471835">Base</span><span class="op" id="8471839">(</span><span class="op" id="8471840">)</span><span class="op" id="8471841">,</span>&nbsp;<span class="builtinfunc" id="8471843">len</span><span class="op" id="8471846">(</span><span class="ident" id="8471847">src1</span><span class="op" id="8471851">)</span><span class="op" id="8471852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471855">s</span><span class="op" id="8471856">.</span><span class="ident" id="8471857">Init</span><span class="op" id="8471861">(</span><span class="ident" id="8471862">f1</span><span class="op" id="8471864">,</span>&nbsp;<span class="op" id="8471866">[</span><span class="op" id="8471867">]</span><span class="builtintype" id="8471868">byte</span><span class="op" id="8471872">(</span><span class="ident" id="8471873">src1</span><span class="op" id="8471877">)</span><span class="op" id="8471878">,</span>&nbsp;<span class="ident" id="8471880">nil</span><span class="op" id="8471883">,</span>&nbsp;<span class="ident" id="8471885">dontInsertSemis</span><span class="op" id="8471900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8471903">if</span>&nbsp;<span class="ident" id="8471906">f1</span><span class="op" id="8471908">.</span><span class="ident" id="8471909">Size</span><span class="op" id="8471913">(</span><span class="op" id="8471914">)</span>&nbsp;<span class="op" id="8471916">!=</span>&nbsp;<span class="builtinfunc" id="8471919">len</span><span class="op" id="8471922">(</span><span class="ident" id="8471923">src1</span><span class="op" id="8471927">)</span>&nbsp;<span class="op" id="8471929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8471933">t</span><span class="op" id="8471934">.</span><span class="ident" id="8471935">Errorf</span><span class="op" id="8471941">(</span><span class="string" id="8471942">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8471978">,</span>&nbsp;<span class="ident" id="8471980">f1</span><span class="op" id="8471982">.</span><span class="ident" id="8471983">Size</span><span class="op" id="8471987">(</span><span class="op" id="8471988">)</span><span class="op" id="8471989">,</span>&nbsp;<span class="builtinfunc" id="8471991">len</span><span class="op" id="8471994">(</span><span class="ident" id="8471995">src1</span><span class="op" id="8471999">)</span><span class="op" id="8472000">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8472003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472006">s</span><span class="op" id="8472007">.</span><span class="ident" id="8472008">Scan</span><span class="op" id="8472012">(</span><span class="op" id="8472013">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8472028">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472035">s</span><span class="op" id="8472036">.</span><span class="ident" id="8472037">Scan</span><span class="op" id="8472041">(</span><span class="op" id="8472042">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8472057">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472066">_</span><span class="op" id="8472067">,</span>&nbsp;<span class="ident" id="8472069">tok</span><span class="op" id="8472072">,</span>&nbsp;<span class="ident" id="8472074">_</span>&nbsp;<span class="op" id="8472076">:=</span>&nbsp;<span class="ident" id="8472079">s</span><span class="op" id="8472080">.</span><span class="ident" id="8472081">Scan</span><span class="op" id="8472085">(</span><span class="op" id="8472086">)</span>&nbsp;<span class="comment" id="8472088">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8472094">if</span>&nbsp;<span class="ident" id="8472097">tok</span>&nbsp;<span class="op" id="8472101">!=</span>&nbsp;<span class="ident" id="8472104">token</span><span class="op" id="8472109">.</span><span class="ident" id="8472110">LBRACE</span>&nbsp;<span class="op" id="8472117">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472121">t</span><span class="op" id="8472122">.</span><span class="ident" id="8472123">Errorf</span><span class="op" id="8472129">(</span><span class="string" id="8472130">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8472162">,</span>&nbsp;<span class="ident" id="8472164">tok</span><span class="op" id="8472167">,</span>&nbsp;<span class="ident" id="8472169">token</span><span class="op" id="8472174">.</span><span class="ident" id="8472175">LBRACE</span><span class="op" id="8472181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8472184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8472188">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472201">src2</span>&nbsp;<span class="op" id="8472206">:=</span>&nbsp;<span class="string" id="8472209">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472224">f2</span>&nbsp;<span class="op" id="8472227">:=</span>&nbsp;<span class="ident" id="8472230">fset</span><span class="op" id="8472234">.</span><span class="ident" id="8472235">AddFile</span><span class="op" id="8472242">(</span><span class="string" id="8472243">&#34;src2&#34;</span><span class="op" id="8472249">,</span>&nbsp;<span class="ident" id="8472251">fset</span><span class="op" id="8472255">.</span><span class="ident" id="8472256">Base</span><span class="op" id="8472260">(</span><span class="op" id="8472261">)</span><span class="op" id="8472262">,</span>&nbsp;<span class="builtinfunc" id="8472264">len</span><span class="op" id="8472267">(</span><span class="ident" id="8472268">src2</span><span class="op" id="8472272">)</span><span class="op" id="8472273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472276">s</span><span class="op" id="8472277">.</span><span class="ident" id="8472278">Init</span><span class="op" id="8472282">(</span><span class="ident" id="8472283">f2</span><span class="op" id="8472285">,</span>&nbsp;<span class="op" id="8472287">[</span><span class="op" id="8472288">]</span><span class="builtintype" id="8472289">byte</span><span class="op" id="8472293">(</span><span class="ident" id="8472294">src2</span><span class="op" id="8472298">)</span><span class="op" id="8472299">,</span>&nbsp;<span class="ident" id="8472301">nil</span><span class="op" id="8472304">,</span>&nbsp;<span class="ident" id="8472306">dontInsertSemis</span><span class="op" id="8472321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8472324">if</span>&nbsp;<span class="ident" id="8472327">f2</span><span class="op" id="8472329">.</span><span class="ident" id="8472330">Size</span><span class="op" id="8472334">(</span><span class="op" id="8472335">)</span>&nbsp;<span class="op" id="8472337">!=</span>&nbsp;<span class="builtinfunc" id="8472340">len</span><span class="op" id="8472343">(</span><span class="ident" id="8472344">src2</span><span class="op" id="8472348">)</span>&nbsp;<span class="op" id="8472350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472354">t</span><span class="op" id="8472355">.</span><span class="ident" id="8472356">Errorf</span><span class="op" id="8472362">(</span><span class="string" id="8472363">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8472399">,</span>&nbsp;<span class="ident" id="8472401">f2</span><span class="op" id="8472403">.</span><span class="ident" id="8472404">Size</span><span class="op" id="8472408">(</span><span class="op" id="8472409">)</span><span class="op" id="8472410">,</span>&nbsp;<span class="builtinfunc" id="8472412">len</span><span class="op" id="8472415">(</span><span class="ident" id="8472416">src2</span><span class="op" id="8472420">)</span><span class="op" id="8472421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8472424">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472427">_</span><span class="op" id="8472428">,</span>&nbsp;<span class="ident" id="8472430">tok</span><span class="op" id="8472433">,</span>&nbsp;<span class="ident" id="8472435">_</span>&nbsp;<span class="op" id="8472437">=</span>&nbsp;<span class="ident" id="8472439">s</span><span class="op" id="8472440">.</span><span class="ident" id="8472441">Scan</span><span class="op" id="8472445">(</span><span class="op" id="8472446">)</span>&nbsp;<span class="comment" id="8472448">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8472455">if</span>&nbsp;<span class="ident" id="8472458">tok</span>&nbsp;<span class="op" id="8472462">!=</span>&nbsp;<span class="ident" id="8472465">token</span><span class="op" id="8472470">.</span><span class="ident" id="8472471">GO</span>&nbsp;<span class="op" id="8472474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472478">t</span><span class="op" id="8472479">.</span><span class="ident" id="8472480">Errorf</span><span class="op" id="8472486">(</span><span class="string" id="8472487">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8472519">,</span>&nbsp;<span class="ident" id="8472521">tok</span><span class="op" id="8472524">,</span>&nbsp;<span class="ident" id="8472526">token</span><span class="op" id="8472531">.</span><span class="ident" id="8472532">GO</span><span class="op" id="8472534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8472537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8472541">if</span>&nbsp;<span class="ident" id="8472544">s</span><span class="op" id="8472545">.</span><span class="ident" id="8472546">ErrorCount</span>&nbsp;<span class="op" id="8472557">!=</span>&nbsp;<span class="num" id="8472560">0</span>&nbsp;<span class="op" id="8472562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472566">t</span><span class="op" id="8472567">.</span><span class="ident" id="8472568">Errorf</span><span class="op" id="8472574">(</span><span class="string" id="8472575">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8472592">,</span>&nbsp;<span class="ident" id="8472594">s</span><span class="op" id="8472595">.</span><span class="ident" id="8472596">ErrorCount</span><span class="op" id="8472606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8472609">}</span><br>
<span class="lineno"></span><span class="op" id="8472611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="8472614">func</span>&nbsp;<span class="ident" id="8472619">TestStdErrorHander</span><span class="op" id="8472637">(</span><span class="ident" id="8472638">t</span>&nbsp;<span class="op" id="8472640">*</span><span class="ident" id="8472641">testing</span><span class="op" id="8472648">.</span><span class="ident" id="8472649">T</span><span class="op" id="8472650">)</span>&nbsp;<span class="op" id="8472652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8472655">const</span>&nbsp;<span class="ident" id="8472661">src</span>&nbsp;<span class="op" id="8472665">=</span>&nbsp;<span class="string" id="8472667">&#34;@\n&#34;</span>&nbsp;<span class="op" id="8472673">+</span>&nbsp;<span class="comment" id="8472675">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8472714">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="8472722">+</span>&nbsp;<span class="comment" id="8472724">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8472757">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="8472777">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8472781">&#34;@\n&#34;</span>&nbsp;<span class="op" id="8472787">+</span>&nbsp;<span class="comment" id="8472789">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8472824">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="8472843">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8472847">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="8472855">+</span>&nbsp;<span class="comment" id="8472857">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8472896">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="8472915">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8472919">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="8472927">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8472960">var</span>&nbsp;<span class="ident" id="8472964">list</span>&nbsp;<span class="ident" id="8472969">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8472980">eh</span>&nbsp;<span class="op" id="8472983">:=</span>&nbsp;<span class="keyword" id="8472986">func</span><span class="op" id="8472990">(</span><span class="ident" id="8472991">pos</span>&nbsp;<span class="ident" id="8472995">token</span><span class="op" id="8473000">.</span><span class="ident" id="8473001">Position</span><span class="op" id="8473009">,</span>&nbsp;<span class="ident" id="8473011">msg</span>&nbsp;<span class="builtintype" id="8473015">string</span><span class="op" id="8473021">)</span>&nbsp;<span class="op" id="8473023">{</span>&nbsp;<span class="ident" id="8473025">list</span><span class="op" id="8473029">.</span><span class="ident" id="8473030">Add</span><span class="op" id="8473033">(</span><span class="ident" id="8473034">pos</span><span class="op" id="8473037">,</span>&nbsp;<span class="ident" id="8473039">msg</span><span class="op" id="8473042">)</span>&nbsp;<span class="op" id="8473044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8473048">var</span>&nbsp;<span class="ident" id="8473052">s</span>&nbsp;<span class="ident" id="8473054">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473063">s</span><span class="op" id="8473064">.</span><span class="ident" id="8473065">Init</span><span class="op" id="8473069">(</span><span class="ident" id="8473070">fset</span><span class="op" id="8473074">.</span><span class="ident" id="8473075">AddFile</span><span class="op" id="8473082">(</span><span class="string" id="8473083">&#34;File1&#34;</span><span class="op" id="8473090">,</span>&nbsp;<span class="ident" id="8473092">fset</span><span class="op" id="8473096">.</span><span class="ident" id="8473097">Base</span><span class="op" id="8473101">(</span><span class="op" id="8473102">)</span><span class="op" id="8473103">,</span>&nbsp;<span class="builtinfunc" id="8473105">len</span><span class="op" id="8473108">(</span><span class="ident" id="8473109">src</span><span class="op" id="8473112">)</span><span class="op" id="8473113">)</span><span class="op" id="8473114">,</span>&nbsp;<span class="op" id="8473116">[</span><span class="op" id="8473117">]</span><span class="builtintype" id="8473118">byte</span><span class="op" id="8473122">(</span><span class="ident" id="8473123">src</span><span class="op" id="8473126">)</span><span class="op" id="8473127">,</span>&nbsp;<span class="ident" id="8473129">eh</span><span class="op" id="8473131">,</span>&nbsp;<span class="ident" id="8473133">dontInsertSemis</span><span class="op" id="8473148">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8473151">for</span>&nbsp;<span class="op" id="8473155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8473159">if</span>&nbsp;<span class="ident" id="8473162">_</span><span class="op" id="8473163">,</span>&nbsp;<span class="ident" id="8473165">tok</span><span class="op" id="8473168">,</span>&nbsp;<span class="ident" id="8473170">_</span>&nbsp;<span class="op" id="8473172">:=</span>&nbsp;<span class="ident" id="8473175">s</span><span class="op" id="8473176">.</span><span class="ident" id="8473177">Scan</span><span class="op" id="8473181">(</span><span class="op" id="8473182">)</span><span class="op" id="8473183">;</span>&nbsp;<span class="ident" id="8473185">tok</span>&nbsp;<span class="op" id="8473189">==</span>&nbsp;<span class="ident" id="8473192">token</span><span class="op" id="8473197">.</span><span class="ident" id="8473198">EOF</span>&nbsp;<span class="op" id="8473202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8473207">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8473215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8473218">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8473222">if</span>&nbsp;<span class="builtinfunc" id="8473225">len</span><span class="op" id="8473228">(</span><span class="ident" id="8473229">list</span><span class="op" id="8473233">)</span>&nbsp;<span class="op" id="8473235">!=</span>&nbsp;<span class="ident" id="8473238">s</span><span class="op" id="8473239">.</span><span class="ident" id="8473240">ErrorCount</span>&nbsp;<span class="op" id="8473251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473255">t</span><span class="op" id="8473256">.</span><span class="ident" id="8473257">Errorf</span><span class="op" id="8473263">(</span><span class="string" id="8473264">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8473294">,</span>&nbsp;<span class="builtinfunc" id="8473296">len</span><span class="op" id="8473299">(</span><span class="ident" id="8473300">list</span><span class="op" id="8473304">)</span><span class="op" id="8473305">,</span>&nbsp;<span class="ident" id="8473307">s</span><span class="op" id="8473308">.</span><span class="ident" id="8473309">ErrorCount</span><span class="op" id="8473319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8473322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8473326">if</span>&nbsp;<span class="builtinfunc" id="8473329">len</span><span class="op" id="8473332">(</span><span class="ident" id="8473333">list</span><span class="op" id="8473337">)</span>&nbsp;<span class="op" id="8473339">!=</span>&nbsp;<span class="num" id="8473342">9</span>&nbsp;<span class="op" id="8473344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473348">t</span><span class="op" id="8473349">.</span><span class="ident" id="8473350">Errorf</span><span class="op" id="8473356">(</span><span class="string" id="8473357">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="8473390">,</span>&nbsp;<span class="builtinfunc" id="8473392">len</span><span class="op" id="8473395">(</span><span class="ident" id="8473396">list</span><span class="op" id="8473400">)</span><span class="op" id="8473401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473405">PrintError</span><span class="op" id="8473415">(</span><span class="ident" id="8473416">os</span><span class="op" id="8473418">.</span><span class="ident" id="8473419">Stderr</span><span class="op" id="8473425">,</span>&nbsp;<span class="ident" id="8473427">list</span><span class="op" id="8473431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8473434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473438">list</span><span class="op" id="8473442">.</span><span class="ident" id="8473443">Sort</span><span class="op" id="8473447">(</span><span class="op" id="8473448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8473451">if</span>&nbsp;<span class="builtinfunc" id="8473454">len</span><span class="op" id="8473457">(</span><span class="ident" id="8473458">list</span><span class="op" id="8473462">)</span>&nbsp;<span class="op" id="8473464">!=</span>&nbsp;<span class="num" id="8473467">9</span>&nbsp;<span class="op" id="8473469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473473">t</span><span class="op" id="8473474">.</span><span class="ident" id="8473475">Errorf</span><span class="op" id="8473481">(</span><span class="string" id="8473482">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="8473518">,</span>&nbsp;<span class="builtinfunc" id="8473520">len</span><span class="op" id="8473523">(</span><span class="ident" id="8473524">list</span><span class="op" id="8473528">)</span><span class="op" id="8473529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473533">PrintError</span><span class="op" id="8473543">(</span><span class="ident" id="8473544">os</span><span class="op" id="8473546">.</span><span class="ident" id="8473547">Stderr</span><span class="op" id="8473553">,</span>&nbsp;<span class="ident" id="8473555">list</span><span class="op" id="8473559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8473562">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473566">list</span><span class="op" id="8473570">.</span><span class="ident" id="8473571">RemoveMultiples</span><span class="op" id="8473586">(</span><span class="op" id="8473587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8473590">if</span>&nbsp;<span class="builtinfunc" id="8473593">len</span><span class="op" id="8473596">(</span><span class="ident" id="8473597">list</span><span class="op" id="8473601">)</span>&nbsp;<span class="op" id="8473603">!=</span>&nbsp;<span class="num" id="8473606">4</span>&nbsp;<span class="op" id="8473608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473612">t</span><span class="op" id="8473613">.</span><span class="ident" id="8473614">Errorf</span><span class="op" id="8473620">(</span><span class="string" id="8473621">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="8473663">,</span>&nbsp;<span class="builtinfunc" id="8473665">len</span><span class="op" id="8473668">(</span><span class="ident" id="8473669">list</span><span class="op" id="8473673">)</span><span class="op" id="8473674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473678">PrintError</span><span class="op" id="8473688">(</span><span class="ident" id="8473689">os</span><span class="op" id="8473691">.</span><span class="ident" id="8473692">Stderr</span><span class="op" id="8473698">,</span>&nbsp;<span class="ident" id="8473700">list</span><span class="op" id="8473704">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8473707">}</span><br>
<span class="lineno"></span><span class="op" id="8473709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8473712">type</span>&nbsp;<span class="ident" id="8473717">errorCollector</span>&nbsp;<span class="keyword" id="8473732">struct</span>&nbsp;<span class="op" id="8473739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473742">cnt</span>&nbsp;<span class="builtintype" id="8473746">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8473761">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473794">msg</span>&nbsp;<span class="builtintype" id="8473798">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8473813">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8473848">pos</span>&nbsp;<span class="ident" id="8473852">token</span><span class="op" id="8473857">.</span><span class="ident" id="8473858">Position</span>&nbsp;<span class="comment" id="8473867">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="8473902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8473905">func</span>&nbsp;<span class="ident" id="8473910">checkError</span><span class="op" id="8473920">(</span><span class="ident" id="8473921">t</span>&nbsp;<span class="op" id="8473923">*</span><span class="ident" id="8473924">testing</span><span class="op" id="8473931">.</span><span class="ident" id="8473932">T</span><span class="op" id="8473933">,</span>&nbsp;<span class="ident" id="8473935">src</span>&nbsp;<span class="builtintype" id="8473939">string</span><span class="op" id="8473945">,</span>&nbsp;<span class="ident" id="8473947">tok</span>&nbsp;<span class="ident" id="8473951">token</span><span class="op" id="8473956">.</span><span class="ident" id="8473957">Token</span><span class="op" id="8473962">,</span>&nbsp;<span class="ident" id="8473964">pos</span>&nbsp;<span class="builtintype" id="8473968">int</span><span class="op" id="8473971">,</span>&nbsp;<span class="ident" id="8473973">lit</span><span class="op" id="8473976">,</span>&nbsp;<span class="ident" id="8473978">err</span>&nbsp;<span class="builtintype" id="8473982">string</span><span class="op" id="8473988">)</span>&nbsp;<span class="op" id="8473990">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8473993">var</span>&nbsp;<span class="ident" id="8473997">s</span>&nbsp;<span class="ident" id="8473999">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8474008">var</span>&nbsp;<span class="ident" id="8474012">h</span>&nbsp;<span class="ident" id="8474014">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474030">eh</span>&nbsp;<span class="op" id="8474033">:=</span>&nbsp;<span class="keyword" id="8474036">func</span><span class="op" id="8474040">(</span><span class="ident" id="8474041">pos</span>&nbsp;<span class="ident" id="8474045">token</span><span class="op" id="8474050">.</span><span class="ident" id="8474051">Position</span><span class="op" id="8474059">,</span>&nbsp;<span class="ident" id="8474061">msg</span>&nbsp;<span class="builtintype" id="8474065">string</span><span class="op" id="8474071">)</span>&nbsp;<span class="op" id="8474073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474077">h</span><span class="op" id="8474078">.</span><span class="ident" id="8474079">cnt</span><span class="op" id="8474082">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474087">h</span><span class="op" id="8474088">.</span><span class="ident" id="8474089">msg</span>&nbsp;<span class="op" id="8474093">=</span>&nbsp;<span class="ident" id="8474095">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474101">h</span><span class="op" id="8474102">.</span><span class="ident" id="8474103">pos</span>&nbsp;<span class="op" id="8474107">=</span>&nbsp;<span class="ident" id="8474109">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8474114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474117">s</span><span class="op" id="8474118">.</span><span class="ident" id="8474119">Init</span><span class="op" id="8474123">(</span><span class="ident" id="8474124">fset</span><span class="op" id="8474128">.</span><span class="ident" id="8474129">AddFile</span><span class="op" id="8474136">(</span><span class="string" id="8474137">&#34;&#34;</span><span class="op" id="8474139">,</span>&nbsp;<span class="ident" id="8474141">fset</span><span class="op" id="8474145">.</span><span class="ident" id="8474146">Base</span><span class="op" id="8474150">(</span><span class="op" id="8474151">)</span><span class="op" id="8474152">,</span>&nbsp;<span class="builtinfunc" id="8474154">len</span><span class="op" id="8474157">(</span><span class="ident" id="8474158">src</span><span class="op" id="8474161">)</span><span class="op" id="8474162">)</span><span class="op" id="8474163">,</span>&nbsp;<span class="op" id="8474165">[</span><span class="op" id="8474166">]</span><span class="builtintype" id="8474167">byte</span><span class="op" id="8474171">(</span><span class="ident" id="8474172">src</span><span class="op" id="8474175">)</span><span class="op" id="8474176">,</span>&nbsp;<span class="ident" id="8474178">eh</span><span class="op" id="8474180">,</span>&nbsp;<span class="ident" id="8474182">ScanComments</span><span class="op" id="8474194">|</span><span class="ident" id="8474195">dontInsertSemis</span><span class="op" id="8474210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474213">_</span><span class="op" id="8474214">,</span>&nbsp;<span class="ident" id="8474216">tok0</span><span class="op" id="8474220">,</span>&nbsp;<span class="ident" id="8474222">lit0</span>&nbsp;<span class="op" id="8474227">:=</span>&nbsp;<span class="ident" id="8474230">s</span><span class="op" id="8474231">.</span><span class="ident" id="8474232">Scan</span><span class="op" id="8474236">(</span><span class="op" id="8474237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8474240">if</span>&nbsp;<span class="ident" id="8474243">tok0</span>&nbsp;<span class="op" id="8474248">!=</span>&nbsp;<span class="ident" id="8474251">tok</span>&nbsp;<span class="op" id="8474255">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474259">t</span><span class="op" id="8474260">.</span><span class="ident" id="8474261">Errorf</span><span class="op" id="8474267">(</span><span class="string" id="8474268">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8474293">,</span>&nbsp;<span class="ident" id="8474295">src</span><span class="op" id="8474298">,</span>&nbsp;<span class="ident" id="8474300">tok0</span><span class="op" id="8474304">,</span>&nbsp;<span class="ident" id="8474306">tok</span><span class="op" id="8474309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8474312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8474315">if</span>&nbsp;<span class="ident" id="8474318">tok0</span>&nbsp;<span class="op" id="8474323">!=</span>&nbsp;<span class="ident" id="8474326">token</span><span class="op" id="8474331">.</span><span class="ident" id="8474332">ILLEGAL</span>&nbsp;<span class="op" id="8474340">&amp;&amp;</span>&nbsp;<span class="ident" id="8474343">lit0</span>&nbsp;<span class="op" id="8474348">!=</span>&nbsp;<span class="ident" id="8474351">lit</span>&nbsp;<span class="op" id="8474355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474359">t</span><span class="op" id="8474360">.</span><span class="ident" id="8474361">Errorf</span><span class="op" id="8474367">(</span><span class="string" id="8474368">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8474401">,</span>&nbsp;<span class="ident" id="8474403">src</span><span class="op" id="8474406">,</span>&nbsp;<span class="ident" id="8474408">lit0</span><span class="op" id="8474412">,</span>&nbsp;<span class="ident" id="8474414">lit</span><span class="op" id="8474417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8474420">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474423">cnt</span>&nbsp;<span class="op" id="8474427">:=</span>&nbsp;<span class="num" id="8474430">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8474433">if</span>&nbsp;<span class="ident" id="8474436">err</span>&nbsp;<span class="op" id="8474440">!=</span>&nbsp;<span class="string" id="8474443">&#34;&#34;</span>&nbsp;<span class="op" id="8474446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474450">cnt</span>&nbsp;<span class="op" id="8474454">=</span>&nbsp;<span class="num" id="8474456">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8474459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8474462">if</span>&nbsp;<span class="ident" id="8474465">h</span><span class="op" id="8474466">.</span><span class="ident" id="8474467">cnt</span>&nbsp;<span class="op" id="8474471">!=</span>&nbsp;<span class="ident" id="8474474">cnt</span>&nbsp;<span class="op" id="8474478">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474482">t</span><span class="op" id="8474483">.</span><span class="ident" id="8474484">Errorf</span><span class="op" id="8474490">(</span><span class="string" id="8474491">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8474520">,</span>&nbsp;<span class="ident" id="8474522">src</span><span class="op" id="8474525">,</span>&nbsp;<span class="ident" id="8474527">h</span><span class="op" id="8474528">.</span><span class="ident" id="8474529">cnt</span><span class="op" id="8474532">,</span>&nbsp;<span class="ident" id="8474534">cnt</span><span class="op" id="8474537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8474540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8474543">if</span>&nbsp;<span class="ident" id="8474546">h</span><span class="op" id="8474547">.</span><span class="ident" id="8474548">msg</span>&nbsp;<span class="op" id="8474552">!=</span>&nbsp;<span class="ident" id="8474555">err</span>&nbsp;<span class="op" id="8474559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474563">t</span><span class="op" id="8474564">.</span><span class="ident" id="8474565">Errorf</span><span class="op" id="8474571">(</span><span class="string" id="8474572">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8474601">,</span>&nbsp;<span class="ident" id="8474603">src</span><span class="op" id="8474606">,</span>&nbsp;<span class="ident" id="8474608">h</span><span class="op" id="8474609">.</span><span class="ident" id="8474610">msg</span><span class="op" id="8474613">,</span>&nbsp;<span class="ident" id="8474615">err</span><span class="op" id="8474618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8474621">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8474624">if</span>&nbsp;<span class="ident" id="8474627">h</span><span class="op" id="8474628">.</span><span class="ident" id="8474629">pos</span><span class="op" id="8474632">.</span><span class="ident" id="8474633">Offset</span>&nbsp;<span class="op" id="8474640">!=</span>&nbsp;<span class="ident" id="8474643">pos</span>&nbsp;<span class="op" id="8474647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474651">t</span><span class="op" id="8474652">.</span><span class="ident" id="8474653">Errorf</span><span class="op" id="8474659">(</span><span class="string" id="8474660">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8474692">,</span>&nbsp;<span class="ident" id="8474694">src</span><span class="op" id="8474697">,</span>&nbsp;<span class="ident" id="8474699">h</span><span class="op" id="8474700">.</span><span class="ident" id="8474701">pos</span><span class="op" id="8474704">.</span><span class="ident" id="8474705">Offset</span><span class="op" id="8474711">,</span>&nbsp;<span class="ident" id="8474713">pos</span><span class="op" id="8474716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8474719">}</span><br>
<span class="lineno"></span><span class="op" id="8474721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="8474724">var</span>&nbsp;<span class="ident" id="8474728">errors</span>&nbsp;<span class="op" id="8474735">=</span>&nbsp;<span class="op" id="8474737">[</span><span class="op" id="8474738">]</span><span class="keyword" id="8474739">struct</span>&nbsp;<span class="op" id="8474746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474749">src</span>&nbsp;<span class="builtintype" id="8474753">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474761">tok</span>&nbsp;<span class="ident" id="8474765">token</span><span class="op" id="8474770">.</span><span class="ident" id="8474771">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474778">pos</span>&nbsp;<span class="builtintype" id="8474782">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474787">lit</span>&nbsp;<span class="builtintype" id="8474791">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8474799">err</span>&nbsp;<span class="builtintype" id="8474803">string</span><br>
<span class="lineno"></span><span class="op" id="8474810">}</span><span class="op" id="8474811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8474814">{</span><span class="string" id="8474815">&#34;\a&#34;</span><span class="op" id="8474819">,</span>&nbsp;<span class="ident" id="8474821">token</span><span class="op" id="8474826">.</span><span class="ident" id="8474827">ILLEGAL</span><span class="op" id="8474834">,</span>&nbsp;<span class="num" id="8474836">0</span><span class="op" id="8474837">,</span>&nbsp;<span class="string" id="8474839">&#34;&#34;</span><span class="op" id="8474841">,</span>&nbsp;<span class="string" id="8474843">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="8474869">}</span><span class="op" id="8474870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8474873">{</span><span class="string" id="8474874">`#`</span><span class="op" id="8474877">,</span>&nbsp;<span class="ident" id="8474879">token</span><span class="op" id="8474884">.</span><span class="ident" id="8474885">ILLEGAL</span><span class="op" id="8474892">,</span>&nbsp;<span class="num" id="8474894">0</span><span class="op" id="8474895">,</span>&nbsp;<span class="string" id="8474897">&#34;&#34;</span><span class="op" id="8474899">,</span>&nbsp;<span class="string" id="8474901">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="8474931">}</span><span class="op" id="8474932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8474935">{</span><span class="string" id="8474936">`…`</span><span class="op" id="8474941">,</span>&nbsp;<span class="ident" id="8474943">token</span><span class="op" id="8474948">.</span><span class="ident" id="8474949">ILLEGAL</span><span class="op" id="8474956">,</span>&nbsp;<span class="num" id="8474958">0</span><span class="op" id="8474959">,</span>&nbsp;<span class="string" id="8474961">&#34;&#34;</span><span class="op" id="8474963">,</span>&nbsp;<span class="string" id="8474965">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="8474997">}</span><span class="op" id="8474998">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475001">{</span><span class="string" id="8475002">`&#39;&nbsp;&#39;`</span><span class="op" id="8475007">,</span>&nbsp;<span class="ident" id="8475009">token</span><span class="op" id="8475014">.</span><span class="ident" id="8475015">CHAR</span><span class="op" id="8475019">,</span>&nbsp;<span class="num" id="8475021">0</span><span class="op" id="8475022">,</span>&nbsp;<span class="string" id="8475024">`&#39;&nbsp;&#39;`</span><span class="op" id="8475029">,</span>&nbsp;<span class="string" id="8475031">&#34;&#34;</span><span class="op" id="8475033">}</span><span class="op" id="8475034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475037">{</span><span class="string" id="8475038">`&#39;&#39;`</span><span class="op" id="8475042">,</span>&nbsp;<span class="ident" id="8475044">token</span><span class="op" id="8475049">.</span><span class="ident" id="8475050">CHAR</span><span class="op" id="8475054">,</span>&nbsp;<span class="num" id="8475056">0</span><span class="op" id="8475057">,</span>&nbsp;<span class="string" id="8475059">`&#39;&#39;`</span><span class="op" id="8475063">,</span>&nbsp;<span class="string" id="8475065">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8475087">}</span><span class="op" id="8475088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475091">{</span><span class="string" id="8475092">`&#39;12&#39;`</span><span class="op" id="8475098">,</span>&nbsp;<span class="ident" id="8475100">token</span><span class="op" id="8475105">.</span><span class="ident" id="8475106">CHAR</span><span class="op" id="8475110">,</span>&nbsp;<span class="num" id="8475112">0</span><span class="op" id="8475113">,</span>&nbsp;<span class="string" id="8475115">`&#39;12&#39;`</span><span class="op" id="8475121">,</span>&nbsp;<span class="string" id="8475123">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8475145">}</span><span class="op" id="8475146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475149">{</span><span class="string" id="8475150">`&#39;123&#39;`</span><span class="op" id="8475157">,</span>&nbsp;<span class="ident" id="8475159">token</span><span class="op" id="8475164">.</span><span class="ident" id="8475165">CHAR</span><span class="op" id="8475169">,</span>&nbsp;<span class="num" id="8475171">0</span><span class="op" id="8475172">,</span>&nbsp;<span class="string" id="8475174">`&#39;123&#39;`</span><span class="op" id="8475181">,</span>&nbsp;<span class="string" id="8475183">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8475205">}</span><span class="op" id="8475206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475209">{</span><span class="string" id="8475210">`&#39;\0&#39;`</span><span class="op" id="8475216">,</span>&nbsp;<span class="ident" id="8475218">token</span><span class="op" id="8475223">.</span><span class="ident" id="8475224">CHAR</span><span class="op" id="8475228">,</span>&nbsp;<span class="num" id="8475230">3</span><span class="op" id="8475231">,</span>&nbsp;<span class="string" id="8475233">`&#39;\0&#39;`</span><span class="op" id="8475239">,</span>&nbsp;<span class="string" id="8475241">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8475290">}</span><span class="op" id="8475291">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475294">{</span><span class="string" id="8475295">`&#39;\07&#39;`</span><span class="op" id="8475302">,</span>&nbsp;<span class="ident" id="8475304">token</span><span class="op" id="8475309">.</span><span class="ident" id="8475310">CHAR</span><span class="op" id="8475314">,</span>&nbsp;<span class="num" id="8475316">4</span><span class="op" id="8475317">,</span>&nbsp;<span class="string" id="8475319">`&#39;\07&#39;`</span><span class="op" id="8475326">,</span>&nbsp;<span class="string" id="8475328">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8475377">}</span><span class="op" id="8475378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475381">{</span><span class="string" id="8475382">`&#39;\8&#39;`</span><span class="op" id="8475388">,</span>&nbsp;<span class="ident" id="8475390">token</span><span class="op" id="8475395">.</span><span class="ident" id="8475396">CHAR</span><span class="op" id="8475400">,</span>&nbsp;<span class="num" id="8475402">2</span><span class="op" id="8475403">,</span>&nbsp;<span class="string" id="8475405">`&#39;\8&#39;`</span><span class="op" id="8475411">,</span>&nbsp;<span class="string" id="8475413">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8475438">}</span><span class="op" id="8475439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475442">{</span><span class="string" id="8475443">`&#39;\08&#39;`</span><span class="op" id="8475450">,</span>&nbsp;<span class="ident" id="8475452">token</span><span class="op" id="8475457">.</span><span class="ident" id="8475458">CHAR</span><span class="op" id="8475462">,</span>&nbsp;<span class="num" id="8475464">3</span><span class="op" id="8475465">,</span>&nbsp;<span class="string" id="8475467">`&#39;\08&#39;`</span><span class="op" id="8475474">,</span>&nbsp;<span class="string" id="8475476">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8475525">}</span><span class="op" id="8475526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475529">{</span><span class="string" id="8475530">`&#39;\x&#39;`</span><span class="op" id="8475536">,</span>&nbsp;<span class="ident" id="8475538">token</span><span class="op" id="8475543">.</span><span class="ident" id="8475544">CHAR</span><span class="op" id="8475548">,</span>&nbsp;<span class="num" id="8475550">3</span><span class="op" id="8475551">,</span>&nbsp;<span class="string" id="8475553">`&#39;\x&#39;`</span><span class="op" id="8475559">,</span>&nbsp;<span class="string" id="8475561">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8475610">}</span><span class="op" id="8475611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475614">{</span><span class="string" id="8475615">`&#39;\x0&#39;`</span><span class="op" id="8475622">,</span>&nbsp;<span class="ident" id="8475624">token</span><span class="op" id="8475629">.</span><span class="ident" id="8475630">CHAR</span><span class="op" id="8475634">,</span>&nbsp;<span class="num" id="8475636">4</span><span class="op" id="8475637">,</span>&nbsp;<span class="string" id="8475639">`&#39;\x0&#39;`</span><span class="op" id="8475646">,</span>&nbsp;<span class="string" id="8475648">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8475697">}</span><span class="op" id="8475698">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475701">{</span><span class="string" id="8475702">`&#39;\x0g&#39;`</span><span class="op" id="8475710">,</span>&nbsp;<span class="ident" id="8475712">token</span><span class="op" id="8475717">.</span><span class="ident" id="8475718">CHAR</span><span class="op" id="8475722">,</span>&nbsp;<span class="num" id="8475724">4</span><span class="op" id="8475725">,</span>&nbsp;<span class="string" id="8475727">`&#39;\x0g&#39;`</span><span class="op" id="8475735">,</span>&nbsp;<span class="string" id="8475737">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8475786">}</span><span class="op" id="8475787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475790">{</span><span class="string" id="8475791">`&#39;\u&#39;`</span><span class="op" id="8475797">,</span>&nbsp;<span class="ident" id="8475799">token</span><span class="op" id="8475804">.</span><span class="ident" id="8475805">CHAR</span><span class="op" id="8475809">,</span>&nbsp;<span class="num" id="8475811">3</span><span class="op" id="8475812">,</span>&nbsp;<span class="string" id="8475814">`&#39;\u&#39;`</span><span class="op" id="8475820">,</span>&nbsp;<span class="string" id="8475822">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8475871">}</span><span class="op" id="8475872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475875">{</span><span class="string" id="8475876">`&#39;\u0&#39;`</span><span class="op" id="8475883">,</span>&nbsp;<span class="ident" id="8475885">token</span><span class="op" id="8475890">.</span><span class="ident" id="8475891">CHAR</span><span class="op" id="8475895">,</span>&nbsp;<span class="num" id="8475897">4</span><span class="op" id="8475898">,</span>&nbsp;<span class="string" id="8475900">`&#39;\u0&#39;`</span><span class="op" id="8475907">,</span>&nbsp;<span class="string" id="8475909">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8475958">}</span><span class="op" id="8475959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8475962">{</span><span class="string" id="8475963">`&#39;\u00&#39;`</span><span class="op" id="8475971">,</span>&nbsp;<span class="ident" id="8475973">token</span><span class="op" id="8475978">.</span><span class="ident" id="8475979">CHAR</span><span class="op" id="8475983">,</span>&nbsp;<span class="num" id="8475985">5</span><span class="op" id="8475986">,</span>&nbsp;<span class="string" id="8475988">`&#39;\u00&#39;`</span><span class="op" id="8475996">,</span>&nbsp;<span class="string" id="8475998">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476047">}</span><span class="op" id="8476048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476051">{</span><span class="string" id="8476052">`&#39;\u000&#39;`</span><span class="op" id="8476061">,</span>&nbsp;<span class="ident" id="8476063">token</span><span class="op" id="8476068">.</span><span class="ident" id="8476069">CHAR</span><span class="op" id="8476073">,</span>&nbsp;<span class="num" id="8476075">6</span><span class="op" id="8476076">,</span>&nbsp;<span class="string" id="8476078">`&#39;\u000&#39;`</span><span class="op" id="8476087">,</span>&nbsp;<span class="string" id="8476089">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476138">}</span><span class="op" id="8476139">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476142">{</span><span class="string" id="8476143">`&#39;\u000`</span><span class="op" id="8476151">,</span>&nbsp;<span class="ident" id="8476153">token</span><span class="op" id="8476158">.</span><span class="ident" id="8476159">CHAR</span><span class="op" id="8476163">,</span>&nbsp;<span class="num" id="8476165">6</span><span class="op" id="8476166">,</span>&nbsp;<span class="string" id="8476168">`&#39;\u000`</span><span class="op" id="8476176">,</span>&nbsp;<span class="string" id="8476178">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8476210">}</span><span class="op" id="8476211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476214">{</span><span class="string" id="8476215">`&#39;\u0000&#39;`</span><span class="op" id="8476225">,</span>&nbsp;<span class="ident" id="8476227">token</span><span class="op" id="8476232">.</span><span class="ident" id="8476233">CHAR</span><span class="op" id="8476237">,</span>&nbsp;<span class="num" id="8476239">0</span><span class="op" id="8476240">,</span>&nbsp;<span class="string" id="8476242">`&#39;\u0000&#39;`</span><span class="op" id="8476252">,</span>&nbsp;<span class="string" id="8476254">&#34;&#34;</span><span class="op" id="8476256">}</span><span class="op" id="8476257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476260">{</span><span class="string" id="8476261">`&#39;\U&#39;`</span><span class="op" id="8476267">,</span>&nbsp;<span class="ident" id="8476269">token</span><span class="op" id="8476274">.</span><span class="ident" id="8476275">CHAR</span><span class="op" id="8476279">,</span>&nbsp;<span class="num" id="8476281">3</span><span class="op" id="8476282">,</span>&nbsp;<span class="string" id="8476284">`&#39;\U&#39;`</span><span class="op" id="8476290">,</span>&nbsp;<span class="string" id="8476292">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476341">}</span><span class="op" id="8476342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476345">{</span><span class="string" id="8476346">`&#39;\U0&#39;`</span><span class="op" id="8476353">,</span>&nbsp;<span class="ident" id="8476355">token</span><span class="op" id="8476360">.</span><span class="ident" id="8476361">CHAR</span><span class="op" id="8476365">,</span>&nbsp;<span class="num" id="8476367">4</span><span class="op" id="8476368">,</span>&nbsp;<span class="string" id="8476370">`&#39;\U0&#39;`</span><span class="op" id="8476377">,</span>&nbsp;<span class="string" id="8476379">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476428">}</span><span class="op" id="8476429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476432">{</span><span class="string" id="8476433">`&#39;\U00&#39;`</span><span class="op" id="8476441">,</span>&nbsp;<span class="ident" id="8476443">token</span><span class="op" id="8476448">.</span><span class="ident" id="8476449">CHAR</span><span class="op" id="8476453">,</span>&nbsp;<span class="num" id="8476455">5</span><span class="op" id="8476456">,</span>&nbsp;<span class="string" id="8476458">`&#39;\U00&#39;`</span><span class="op" id="8476466">,</span>&nbsp;<span class="string" id="8476468">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476517">}</span><span class="op" id="8476518">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476521">{</span><span class="string" id="8476522">`&#39;\U000&#39;`</span><span class="op" id="8476531">,</span>&nbsp;<span class="ident" id="8476533">token</span><span class="op" id="8476538">.</span><span class="ident" id="8476539">CHAR</span><span class="op" id="8476543">,</span>&nbsp;<span class="num" id="8476545">6</span><span class="op" id="8476546">,</span>&nbsp;<span class="string" id="8476548">`&#39;\U000&#39;`</span><span class="op" id="8476557">,</span>&nbsp;<span class="string" id="8476559">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476608">}</span><span class="op" id="8476609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476612">{</span><span class="string" id="8476613">`&#39;\U0000&#39;`</span><span class="op" id="8476623">,</span>&nbsp;<span class="ident" id="8476625">token</span><span class="op" id="8476630">.</span><span class="ident" id="8476631">CHAR</span><span class="op" id="8476635">,</span>&nbsp;<span class="num" id="8476637">7</span><span class="op" id="8476638">,</span>&nbsp;<span class="string" id="8476640">`&#39;\U0000&#39;`</span><span class="op" id="8476650">,</span>&nbsp;<span class="string" id="8476652">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476701">}</span><span class="op" id="8476702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476705">{</span><span class="string" id="8476706">`&#39;\U00000&#39;`</span><span class="op" id="8476717">,</span>&nbsp;<span class="ident" id="8476719">token</span><span class="op" id="8476724">.</span><span class="ident" id="8476725">CHAR</span><span class="op" id="8476729">,</span>&nbsp;<span class="num" id="8476731">8</span><span class="op" id="8476732">,</span>&nbsp;<span class="string" id="8476734">`&#39;\U00000&#39;`</span><span class="op" id="8476745">,</span>&nbsp;<span class="string" id="8476747">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476796">}</span><span class="op" id="8476797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476800">{</span><span class="string" id="8476801">`&#39;\U000000&#39;`</span><span class="op" id="8476813">,</span>&nbsp;<span class="ident" id="8476815">token</span><span class="op" id="8476820">.</span><span class="ident" id="8476821">CHAR</span><span class="op" id="8476825">,</span>&nbsp;<span class="num" id="8476827">9</span><span class="op" id="8476828">,</span>&nbsp;<span class="string" id="8476830">`&#39;\U000000&#39;`</span><span class="op" id="8476842">,</span>&nbsp;<span class="string" id="8476844">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476893">}</span><span class="op" id="8476894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476897">{</span><span class="string" id="8476898">`&#39;\U0000000&#39;`</span><span class="op" id="8476911">,</span>&nbsp;<span class="ident" id="8476913">token</span><span class="op" id="8476918">.</span><span class="ident" id="8476919">CHAR</span><span class="op" id="8476923">,</span>&nbsp;<span class="num" id="8476925">10</span><span class="op" id="8476927">,</span>&nbsp;<span class="string" id="8476929">`&#39;\U0000000&#39;`</span><span class="op" id="8476942">,</span>&nbsp;<span class="string" id="8476944">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476993">}</span><span class="op" id="8476994">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8476997">{</span><span class="string" id="8476998">`&#39;\U0000000`</span><span class="op" id="8477010">,</span>&nbsp;<span class="ident" id="8477012">token</span><span class="op" id="8477017">.</span><span class="ident" id="8477018">CHAR</span><span class="op" id="8477022">,</span>&nbsp;<span class="num" id="8477024">10</span><span class="op" id="8477026">,</span>&nbsp;<span class="string" id="8477028">`&#39;\U0000000`</span><span class="op" id="8477040">,</span>&nbsp;<span class="string" id="8477042">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477074">}</span><span class="op" id="8477075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477078">{</span><span class="string" id="8477079">`&#39;\U00000000&#39;`</span><span class="op" id="8477093">,</span>&nbsp;<span class="ident" id="8477095">token</span><span class="op" id="8477100">.</span><span class="ident" id="8477101">CHAR</span><span class="op" id="8477105">,</span>&nbsp;<span class="num" id="8477107">0</span><span class="op" id="8477108">,</span>&nbsp;<span class="string" id="8477110">`&#39;\U00000000&#39;`</span><span class="op" id="8477124">,</span>&nbsp;<span class="string" id="8477126">&#34;&#34;</span><span class="op" id="8477128">}</span><span class="op" id="8477129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477132">{</span><span class="string" id="8477133">`&#39;\Uffffffff&#39;`</span><span class="op" id="8477147">,</span>&nbsp;<span class="ident" id="8477149">token</span><span class="op" id="8477154">.</span><span class="ident" id="8477155">CHAR</span><span class="op" id="8477159">,</span>&nbsp;<span class="num" id="8477161">2</span><span class="op" id="8477162">,</span>&nbsp;<span class="string" id="8477164">`&#39;\Uffffffff&#39;`</span><span class="op" id="8477178">,</span>&nbsp;<span class="string" id="8477180">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="8477227">}</span><span class="op" id="8477228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477231">{</span><span class="string" id="8477232">`&#39;`</span><span class="op" id="8477235">,</span>&nbsp;<span class="ident" id="8477237">token</span><span class="op" id="8477242">.</span><span class="ident" id="8477243">CHAR</span><span class="op" id="8477247">,</span>&nbsp;<span class="num" id="8477249">0</span><span class="op" id="8477250">,</span>&nbsp;<span class="string" id="8477252">`&#39;`</span><span class="op" id="8477255">,</span>&nbsp;<span class="string" id="8477257">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477286">}</span><span class="op" id="8477287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477290">{</span><span class="string" id="8477291">`&#39;\`</span><span class="op" id="8477295">,</span>&nbsp;<span class="ident" id="8477297">token</span><span class="op" id="8477302">.</span><span class="ident" id="8477303">CHAR</span><span class="op" id="8477307">,</span>&nbsp;<span class="num" id="8477309">2</span><span class="op" id="8477310">,</span>&nbsp;<span class="string" id="8477312">`&#39;\`</span><span class="op" id="8477316">,</span>&nbsp;<span class="string" id="8477318">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477350">}</span><span class="op" id="8477351">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477354">{</span><span class="string" id="8477355">&#34;&#39;\n&#34;</span><span class="op" id="8477360">,</span>&nbsp;<span class="ident" id="8477362">token</span><span class="op" id="8477367">.</span><span class="ident" id="8477368">CHAR</span><span class="op" id="8477372">,</span>&nbsp;<span class="num" id="8477374">0</span><span class="op" id="8477375">,</span>&nbsp;<span class="string" id="8477377">&#34;&#39;&#34;</span><span class="op" id="8477380">,</span>&nbsp;<span class="string" id="8477382">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477411">}</span><span class="op" id="8477412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477415">{</span><span class="string" id="8477416">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8477424">,</span>&nbsp;<span class="ident" id="8477426">token</span><span class="op" id="8477431">.</span><span class="ident" id="8477432">CHAR</span><span class="op" id="8477436">,</span>&nbsp;<span class="num" id="8477438">0</span><span class="op" id="8477439">,</span>&nbsp;<span class="string" id="8477441">&#34;&#39;&#34;</span><span class="op" id="8477444">,</span>&nbsp;<span class="string" id="8477446">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477475">}</span><span class="op" id="8477476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477479">{</span><span class="string" id="8477480">`&#34;&#34;`</span><span class="op" id="8477484">,</span>&nbsp;<span class="ident" id="8477486">token</span><span class="op" id="8477491">.</span><span class="ident" id="8477492">STRING</span><span class="op" id="8477498">,</span>&nbsp;<span class="num" id="8477500">0</span><span class="op" id="8477501">,</span>&nbsp;<span class="string" id="8477503">`&#34;&#34;`</span><span class="op" id="8477507">,</span>&nbsp;<span class="string" id="8477509">&#34;&#34;</span><span class="op" id="8477511">}</span><span class="op" id="8477512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477515">{</span><span class="string" id="8477516">`&#34;abc`</span><span class="op" id="8477522">,</span>&nbsp;<span class="ident" id="8477524">token</span><span class="op" id="8477529">.</span><span class="ident" id="8477530">STRING</span><span class="op" id="8477536">,</span>&nbsp;<span class="num" id="8477538">0</span><span class="op" id="8477539">,</span>&nbsp;<span class="string" id="8477541">`&#34;abc`</span><span class="op" id="8477547">,</span>&nbsp;<span class="string" id="8477549">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477580">}</span><span class="op" id="8477581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477584">{</span><span class="string" id="8477585">&#34;\&#34;abc\n&#34;</span><span class="op" id="8477594">,</span>&nbsp;<span class="ident" id="8477596">token</span><span class="op" id="8477601">.</span><span class="ident" id="8477602">STRING</span><span class="op" id="8477608">,</span>&nbsp;<span class="num" id="8477610">0</span><span class="op" id="8477611">,</span>&nbsp;<span class="string" id="8477613">`&#34;abc`</span><span class="op" id="8477619">,</span>&nbsp;<span class="string" id="8477621">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477652">}</span><span class="op" id="8477653">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477656">{</span><span class="string" id="8477657">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8477669">,</span>&nbsp;<span class="ident" id="8477671">token</span><span class="op" id="8477676">.</span><span class="ident" id="8477677">STRING</span><span class="op" id="8477683">,</span>&nbsp;<span class="num" id="8477685">0</span><span class="op" id="8477686">,</span>&nbsp;<span class="string" id="8477688">`&#34;abc`</span><span class="op" id="8477694">,</span>&nbsp;<span class="string" id="8477696">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477727">}</span><span class="op" id="8477728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477731">{</span><span class="string" id="8477732">&#34;``&#34;</span><span class="op" id="8477736">,</span>&nbsp;<span class="ident" id="8477738">token</span><span class="op" id="8477743">.</span><span class="ident" id="8477744">STRING</span><span class="op" id="8477750">,</span>&nbsp;<span class="num" id="8477752">0</span><span class="op" id="8477753">,</span>&nbsp;<span class="string" id="8477755">&#34;``&#34;</span><span class="op" id="8477759">,</span>&nbsp;<span class="string" id="8477761">&#34;&#34;</span><span class="op" id="8477763">}</span><span class="op" id="8477764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477767">{</span><span class="string" id="8477768">&#34;`&#34;</span><span class="op" id="8477771">,</span>&nbsp;<span class="ident" id="8477773">token</span><span class="op" id="8477778">.</span><span class="ident" id="8477779">STRING</span><span class="op" id="8477785">,</span>&nbsp;<span class="num" id="8477787">0</span><span class="op" id="8477788">,</span>&nbsp;<span class="string" id="8477790">&#34;`&#34;</span><span class="op" id="8477793">,</span>&nbsp;<span class="string" id="8477795">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477830">}</span><span class="op" id="8477831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477834">{</span><span class="string" id="8477835">&#34;/**/&#34;</span><span class="op" id="8477841">,</span>&nbsp;<span class="ident" id="8477843">token</span><span class="op" id="8477848">.</span><span class="ident" id="8477849">COMMENT</span><span class="op" id="8477856">,</span>&nbsp;<span class="num" id="8477858">0</span><span class="op" id="8477859">,</span>&nbsp;<span class="string" id="8477861">&#34;/**/&#34;</span><span class="op" id="8477867">,</span>&nbsp;<span class="string" id="8477869">&#34;&#34;</span><span class="op" id="8477871">}</span><span class="op" id="8477872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477875">{</span><span class="string" id="8477876">&#34;/*&#34;</span><span class="op" id="8477880">,</span>&nbsp;<span class="ident" id="8477882">token</span><span class="op" id="8477887">.</span><span class="ident" id="8477888">COMMENT</span><span class="op" id="8477895">,</span>&nbsp;<span class="num" id="8477897">0</span><span class="op" id="8477898">,</span>&nbsp;<span class="string" id="8477900">&#34;/*&#34;</span><span class="op" id="8477904">,</span>&nbsp;<span class="string" id="8477906">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477930">}</span><span class="op" id="8477931">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477934">{</span><span class="string" id="8477935">&#34;077&#34;</span><span class="op" id="8477940">,</span>&nbsp;<span class="ident" id="8477942">token</span><span class="op" id="8477947">.</span><span class="ident" id="8477948">INT</span><span class="op" id="8477951">,</span>&nbsp;<span class="num" id="8477953">0</span><span class="op" id="8477954">,</span>&nbsp;<span class="string" id="8477956">&#34;077&#34;</span><span class="op" id="8477961">,</span>&nbsp;<span class="string" id="8477963">&#34;&#34;</span><span class="op" id="8477965">}</span><span class="op" id="8477966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8477969">{</span><span class="string" id="8477970">&#34;078.&#34;</span><span class="op" id="8477976">,</span>&nbsp;<span class="ident" id="8477978">token</span><span class="op" id="8477983">.</span><span class="ident" id="8477984">FLOAT</span><span class="op" id="8477989">,</span>&nbsp;<span class="num" id="8477991">0</span><span class="op" id="8477992">,</span>&nbsp;<span class="string" id="8477994">&#34;078.&#34;</span><span class="op" id="8478000">,</span>&nbsp;<span class="string" id="8478002">&#34;&#34;</span><span class="op" id="8478004">}</span><span class="op" id="8478005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478008">{</span><span class="string" id="8478009">&#34;07801234567.&#34;</span><span class="op" id="8478023">,</span>&nbsp;<span class="ident" id="8478025">token</span><span class="op" id="8478030">.</span><span class="ident" id="8478031">FLOAT</span><span class="op" id="8478036">,</span>&nbsp;<span class="num" id="8478038">0</span><span class="op" id="8478039">,</span>&nbsp;<span class="string" id="8478041">&#34;07801234567.&#34;</span><span class="op" id="8478055">,</span>&nbsp;<span class="string" id="8478057">&#34;&#34;</span><span class="op" id="8478059">}</span><span class="op" id="8478060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478063">{</span><span class="string" id="8478064">&#34;078e0&#34;</span><span class="op" id="8478071">,</span>&nbsp;<span class="ident" id="8478073">token</span><span class="op" id="8478078">.</span><span class="ident" id="8478079">FLOAT</span><span class="op" id="8478084">,</span>&nbsp;<span class="num" id="8478086">0</span><span class="op" id="8478087">,</span>&nbsp;<span class="string" id="8478089">&#34;078e0&#34;</span><span class="op" id="8478096">,</span>&nbsp;<span class="string" id="8478098">&#34;&#34;</span><span class="op" id="8478100">}</span><span class="op" id="8478101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478104">{</span><span class="string" id="8478105">&#34;078&#34;</span><span class="op" id="8478110">,</span>&nbsp;<span class="ident" id="8478112">token</span><span class="op" id="8478117">.</span><span class="ident" id="8478118">INT</span><span class="op" id="8478121">,</span>&nbsp;<span class="num" id="8478123">0</span><span class="op" id="8478124">,</span>&nbsp;<span class="string" id="8478126">&#34;078&#34;</span><span class="op" id="8478131">,</span>&nbsp;<span class="string" id="8478133">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8478155">}</span><span class="op" id="8478156">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478159">{</span><span class="string" id="8478160">&#34;07800000009&#34;</span><span class="op" id="8478173">,</span>&nbsp;<span class="ident" id="8478175">token</span><span class="op" id="8478180">.</span><span class="ident" id="8478181">INT</span><span class="op" id="8478184">,</span>&nbsp;<span class="num" id="8478186">0</span><span class="op" id="8478187">,</span>&nbsp;<span class="string" id="8478189">&#34;07800000009&#34;</span><span class="op" id="8478202">,</span>&nbsp;<span class="string" id="8478204">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8478226">}</span><span class="op" id="8478227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478230">{</span><span class="string" id="8478231">&#34;0x&#34;</span><span class="op" id="8478235">,</span>&nbsp;<span class="ident" id="8478237">token</span><span class="op" id="8478242">.</span><span class="ident" id="8478243">INT</span><span class="op" id="8478246">,</span>&nbsp;<span class="num" id="8478248">0</span><span class="op" id="8478249">,</span>&nbsp;<span class="string" id="8478251">&#34;0x&#34;</span><span class="op" id="8478255">,</span>&nbsp;<span class="string" id="8478257">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8478285">}</span><span class="op" id="8478286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478289">{</span><span class="string" id="8478290">&#34;0X&#34;</span><span class="op" id="8478294">,</span>&nbsp;<span class="ident" id="8478296">token</span><span class="op" id="8478301">.</span><span class="ident" id="8478302">INT</span><span class="op" id="8478305">,</span>&nbsp;<span class="num" id="8478307">0</span><span class="op" id="8478308">,</span>&nbsp;<span class="string" id="8478310">&#34;0X&#34;</span><span class="op" id="8478314">,</span>&nbsp;<span class="string" id="8478316">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8478344">}</span><span class="op" id="8478345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478348">{</span><span class="string" id="8478349">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="8478365">,</span>&nbsp;<span class="ident" id="8478367">token</span><span class="op" id="8478372">.</span><span class="ident" id="8478373">STRING</span><span class="op" id="8478379">,</span>&nbsp;<span class="num" id="8478381">4</span><span class="op" id="8478382">,</span>&nbsp;<span class="string" id="8478384">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="8478400">,</span>&nbsp;<span class="string" id="8478402">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8478425">}</span><span class="op" id="8478426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478429">{</span><span class="string" id="8478430">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="8478446">,</span>&nbsp;<span class="ident" id="8478448">token</span><span class="op" id="8478453">.</span><span class="ident" id="8478454">STRING</span><span class="op" id="8478460">,</span>&nbsp;<span class="num" id="8478462">4</span><span class="op" id="8478463">,</span>&nbsp;<span class="string" id="8478465">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="8478481">,</span>&nbsp;<span class="string" id="8478483">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8478507">}</span><span class="op" id="8478508">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478511">{</span><span class="string" id="8478512">&#34;\ufeff\ufeff&#34;</span><span class="op" id="8478526">,</span>&nbsp;<span class="ident" id="8478528">token</span><span class="op" id="8478533">.</span><span class="ident" id="8478534">ILLEGAL</span><span class="op" id="8478541">,</span>&nbsp;<span class="num" id="8478543">3</span><span class="op" id="8478544">,</span>&nbsp;<span class="string" id="8478546">&#34;\ufeff\ufeff&#34;</span><span class="op" id="8478560">,</span>&nbsp;<span class="string" id="8478562">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8478587">}</span><span class="op" id="8478588">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8478613">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478643">{</span><span class="string" id="8478644">&#34;//\ufeff&#34;</span><span class="op" id="8478654">,</span>&nbsp;<span class="ident" id="8478656">token</span><span class="op" id="8478661">.</span><span class="ident" id="8478662">COMMENT</span><span class="op" id="8478669">,</span>&nbsp;<span class="num" id="8478671">2</span><span class="op" id="8478672">,</span>&nbsp;<span class="string" id="8478674">&#34;//\ufeff&#34;</span><span class="op" id="8478684">,</span>&nbsp;<span class="string" id="8478686">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8478711">}</span><span class="op" id="8478712">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8478745">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478775">{</span><span class="string" id="8478776">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="8478786">+</span>&nbsp;<span class="string" id="8478788">`&#39;`</span><span class="op" id="8478791">,</span>&nbsp;<span class="ident" id="8478793">token</span><span class="op" id="8478798">.</span><span class="ident" id="8478799">CHAR</span><span class="op" id="8478803">,</span>&nbsp;<span class="num" id="8478805">1</span><span class="op" id="8478806">,</span>&nbsp;<span class="string" id="8478808">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="8478818">+</span>&nbsp;<span class="string" id="8478820">`&#39;`</span><span class="op" id="8478823">,</span>&nbsp;<span class="string" id="8478825">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8478850">}</span><span class="op" id="8478851">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8478877">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8478907">{</span><span class="string" id="8478908">`&#34;`</span>&nbsp;<span class="op" id="8478912">+</span>&nbsp;<span class="string" id="8478914">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="8478929">+</span>&nbsp;<span class="string" id="8478931">`&#34;`</span><span class="op" id="8478934">,</span>&nbsp;<span class="ident" id="8478936">token</span><span class="op" id="8478941">.</span><span class="ident" id="8478942">STRING</span><span class="op" id="8478948">,</span>&nbsp;<span class="num" id="8478950">4</span><span class="op" id="8478951">,</span>&nbsp;<span class="string" id="8478953">`&#34;`</span>&nbsp;<span class="op" id="8478957">+</span>&nbsp;<span class="string" id="8478959">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="8478974">+</span>&nbsp;<span class="string" id="8478976">`&#34;`</span><span class="op" id="8478979">,</span>&nbsp;<span class="string" id="8478981">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8479006">}</span><span class="op" id="8479007">,</span>&nbsp;<span class="comment" id="8479009">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="8479038">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="8479041">func</span>&nbsp;<span class="ident" id="8479046">TestScanErrors</span><span class="op" id="8479060">(</span><span class="ident" id="8479061">t</span>&nbsp;<span class="op" id="8479063">*</span><span class="ident" id="8479064">testing</span><span class="op" id="8479071">.</span><span class="ident" id="8479072">T</span><span class="op" id="8479073">)</span>&nbsp;<span class="op" id="8479075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479078">for</span>&nbsp;<span class="ident" id="8479082">_</span><span class="op" id="8479083">,</span>&nbsp;<span class="ident" id="8479085">e</span>&nbsp;<span class="op" id="8479087">:=</span>&nbsp;<span class="keyword" id="8479090">range</span>&nbsp;<span class="ident" id="8479096">errors</span>&nbsp;<span class="op" id="8479103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479107">checkError</span><span class="op" id="8479117">(</span><span class="ident" id="8479118">t</span><span class="op" id="8479119">,</span>&nbsp;<span class="ident" id="8479121">e</span><span class="op" id="8479122">.</span><span class="ident" id="8479123">src</span><span class="op" id="8479126">,</span>&nbsp;<span class="ident" id="8479128">e</span><span class="op" id="8479129">.</span><span class="ident" id="8479130">tok</span><span class="op" id="8479133">,</span>&nbsp;<span class="ident" id="8479135">e</span><span class="op" id="8479136">.</span><span class="ident" id="8479137">pos</span><span class="op" id="8479140">,</span>&nbsp;<span class="ident" id="8479142">e</span><span class="op" id="8479143">.</span><span class="ident" id="8479144">lit</span><span class="op" id="8479147">,</span>&nbsp;<span class="ident" id="8479149">e</span><span class="op" id="8479150">.</span><span class="ident" id="8479151">err</span><span class="op" id="8479154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8479157">}</span><br>
<span class="lineno">735</span><span class="op" id="8479159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8479162">func</span>&nbsp;<span class="ident" id="8479167">BenchmarkScan</span><span class="op" id="8479180">(</span><span class="ident" id="8479181">b</span>&nbsp;<span class="op" id="8479183">*</span><span class="ident" id="8479184">testing</span><span class="op" id="8479191">.</span><span class="ident" id="8479192">B</span><span class="op" id="8479193">)</span>&nbsp;<span class="op" id="8479195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479198">b</span><span class="op" id="8479199">.</span><span class="ident" id="8479200">StopTimer</span><span class="op" id="8479209">(</span><span class="op" id="8479210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479213">fset</span>&nbsp;<span class="op" id="8479218">:=</span>&nbsp;<span class="ident" id="8479221">token</span><span class="op" id="8479226">.</span><span class="ident" id="8479227">NewFileSet</span><span class="op" id="8479237">(</span><span class="op" id="8479238">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479241">file</span>&nbsp;<span class="op" id="8479246">:=</span>&nbsp;<span class="ident" id="8479249">fset</span><span class="op" id="8479253">.</span><span class="ident" id="8479254">AddFile</span><span class="op" id="8479261">(</span><span class="string" id="8479262">&#34;&#34;</span><span class="op" id="8479264">,</span>&nbsp;<span class="ident" id="8479266">fset</span><span class="op" id="8479270">.</span><span class="ident" id="8479271">Base</span><span class="op" id="8479275">(</span><span class="op" id="8479276">)</span><span class="op" id="8479277">,</span>&nbsp;<span class="builtinfunc" id="8479279">len</span><span class="op" id="8479282">(</span><span class="ident" id="8479283">source</span><span class="op" id="8479289">)</span><span class="op" id="8479290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479293">var</span>&nbsp;<span class="ident" id="8479297">s</span>&nbsp;<span class="ident" id="8479299">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479308">b</span><span class="op" id="8479309">.</span><span class="ident" id="8479310">StartTimer</span><span class="op" id="8479320">(</span><span class="op" id="8479321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479324">for</span>&nbsp;<span class="ident" id="8479328">i</span>&nbsp;<span class="op" id="8479330">:=</span>&nbsp;<span class="num" id="8479333">0</span><span class="op" id="8479334">;</span>&nbsp;<span class="ident" id="8479336">i</span>&nbsp;<span class="op" id="8479338">&lt;</span>&nbsp;<span class="ident" id="8479340">b</span><span class="op" id="8479341">.</span><span class="ident" id="8479342">N</span><span class="op" id="8479343">;</span>&nbsp;<span class="ident" id="8479345">i</span><span class="op" id="8479346">++</span>&nbsp;<span class="op" id="8479349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479353">s</span><span class="op" id="8479354">.</span><span class="ident" id="8479355">Init</span><span class="op" id="8479359">(</span><span class="ident" id="8479360">file</span><span class="op" id="8479364">,</span>&nbsp;<span class="ident" id="8479366">source</span><span class="op" id="8479372">,</span>&nbsp;<span class="ident" id="8479374">nil</span><span class="op" id="8479377">,</span>&nbsp;<span class="ident" id="8479379">ScanComments</span><span class="op" id="8479391">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479395">for</span>&nbsp;<span class="op" id="8479399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479404">_</span><span class="op" id="8479405">,</span>&nbsp;<span class="ident" id="8479407">tok</span><span class="op" id="8479410">,</span>&nbsp;<span class="ident" id="8479412">_</span>&nbsp;<span class="op" id="8479414">:=</span>&nbsp;<span class="ident" id="8479417">s</span><span class="op" id="8479418">.</span><span class="ident" id="8479419">Scan</span><span class="op" id="8479423">(</span><span class="op" id="8479424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479429">if</span>&nbsp;<span class="ident" id="8479432">tok</span>&nbsp;<span class="op" id="8479436">==</span>&nbsp;<span class="ident" id="8479439">token</span><span class="op" id="8479444">.</span><span class="ident" id="8479445">EOF</span>&nbsp;<span class="op" id="8479449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479455">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8479464">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8479468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8479471">}</span><br>
<span class="lineno"></span><span class="op" id="8479473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8479476">func</span>&nbsp;<span class="ident" id="8479481">BenchmarkScanFile</span><span class="op" id="8479498">(</span><span class="ident" id="8479499">b</span>&nbsp;<span class="op" id="8479501">*</span><span class="ident" id="8479502">testing</span><span class="op" id="8479509">.</span><span class="ident" id="8479510">B</span><span class="op" id="8479511">)</span>&nbsp;<span class="op" id="8479513">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479516">b</span><span class="op" id="8479517">.</span><span class="ident" id="8479518">StopTimer</span><span class="op" id="8479527">(</span><span class="op" id="8479528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479531">const</span>&nbsp;<span class="ident" id="8479537">filename</span>&nbsp;<span class="op" id="8479546">=</span>&nbsp;<span class="string" id="8479548">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479562">src</span><span class="op" id="8479565">,</span>&nbsp;<span class="ident" id="8479567">err</span>&nbsp;<span class="op" id="8479571">:=</span>&nbsp;<span class="ident" id="8479574">ioutil</span><span class="op" id="8479580">.</span><span class="ident" id="8479581">ReadFile</span><span class="op" id="8479589">(</span><span class="ident" id="8479590">filename</span><span class="op" id="8479598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479601">if</span>&nbsp;<span class="ident" id="8479604">err</span>&nbsp;<span class="op" id="8479608">!=</span>&nbsp;<span class="ident" id="8479611">nil</span>&nbsp;<span class="op" id="8479615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8479619">panic</span><span class="op" id="8479624">(</span><span class="ident" id="8479625">err</span><span class="op" id="8479628">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8479631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479634">fset</span>&nbsp;<span class="op" id="8479639">:=</span>&nbsp;<span class="ident" id="8479642">token</span><span class="op" id="8479647">.</span><span class="ident" id="8479648">NewFileSet</span><span class="op" id="8479658">(</span><span class="op" id="8479659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479662">file</span>&nbsp;<span class="op" id="8479667">:=</span>&nbsp;<span class="ident" id="8479670">fset</span><span class="op" id="8479674">.</span><span class="ident" id="8479675">AddFile</span><span class="op" id="8479682">(</span><span class="ident" id="8479683">filename</span><span class="op" id="8479691">,</span>&nbsp;<span class="ident" id="8479693">fset</span><span class="op" id="8479697">.</span><span class="ident" id="8479698">Base</span><span class="op" id="8479702">(</span><span class="op" id="8479703">)</span><span class="op" id="8479704">,</span>&nbsp;<span class="builtinfunc" id="8479706">len</span><span class="op" id="8479709">(</span><span class="ident" id="8479710">src</span><span class="op" id="8479713">)</span><span class="op" id="8479714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479717">b</span><span class="op" id="8479718">.</span><span class="ident" id="8479719">SetBytes</span><span class="op" id="8479727">(</span><span class="ident" id="8479728">int64</span><span class="op" id="8479733">(</span><span class="builtinfunc" id="8479734">len</span><span class="op" id="8479737">(</span><span class="ident" id="8479738">src</span><span class="op" id="8479741">)</span><span class="op" id="8479742">)</span><span class="op" id="8479743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479746">var</span>&nbsp;<span class="ident" id="8479750">s</span>&nbsp;<span class="ident" id="8479752">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479761">b</span><span class="op" id="8479762">.</span><span class="ident" id="8479763">StartTimer</span><span class="op" id="8479773">(</span><span class="op" id="8479774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479777">for</span>&nbsp;<span class="ident" id="8479781">i</span>&nbsp;<span class="op" id="8479783">:=</span>&nbsp;<span class="num" id="8479786">0</span><span class="op" id="8479787">;</span>&nbsp;<span class="ident" id="8479789">i</span>&nbsp;<span class="op" id="8479791">&lt;</span>&nbsp;<span class="ident" id="8479793">b</span><span class="op" id="8479794">.</span><span class="ident" id="8479795">N</span><span class="op" id="8479796">;</span>&nbsp;<span class="ident" id="8479798">i</span><span class="op" id="8479799">++</span>&nbsp;<span class="op" id="8479802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479806">s</span><span class="op" id="8479807">.</span><span class="ident" id="8479808">Init</span><span class="op" id="8479812">(</span><span class="ident" id="8479813">file</span><span class="op" id="8479817">,</span>&nbsp;<span class="ident" id="8479819">src</span><span class="op" id="8479822">,</span>&nbsp;<span class="ident" id="8479824">nil</span><span class="op" id="8479827">,</span>&nbsp;<span class="ident" id="8479829">ScanComments</span><span class="op" id="8479841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479845">for</span>&nbsp;<span class="op" id="8479849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8479854">_</span><span class="op" id="8479855">,</span>&nbsp;<span class="ident" id="8479857">tok</span><span class="op" id="8479860">,</span>&nbsp;<span class="ident" id="8479862">_</span>&nbsp;<span class="op" id="8479864">:=</span>&nbsp;<span class="ident" id="8479867">s</span><span class="op" id="8479868">.</span><span class="ident" id="8479869">Scan</span><span class="op" id="8479873">(</span><span class="op" id="8479874">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479879">if</span>&nbsp;<span class="ident" id="8479882">tok</span>&nbsp;<span class="op" id="8479886">==</span>&nbsp;<span class="ident" id="8479889">token</span><span class="op" id="8479894">.</span><span class="ident" id="8479895">EOF</span>&nbsp;<span class="op" id="8479899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8479905">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8479914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8479918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8479921">}</span><br>
<span class="lineno">775</span><span class="op" id="8479923">}</span>
</div>
</body>
</html>
