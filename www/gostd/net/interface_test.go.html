<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8390167">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8390223">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8390277">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8390328">package</span>&nbsp;<span class="ident" id="8390336">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8390341">import</span>&nbsp;<span class="op" id="8390348">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8390351">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8390362">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8390372">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8390375">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="8390443">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="8390510">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="8390520">func</span>&nbsp;<span class="ident" id="8390525">loopbackInterface</span><span class="op" id="8390542">(</span><span class="op" id="8390543">)</span>&nbsp;<span class="op" id="8390545">*</span><span class="ident" id="8390546">Interface</span>&nbsp;<span class="op" id="8390556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8390559">ift</span><span class="op" id="8390562">,</span>&nbsp;<span class="ident" id="8390564">err</span>&nbsp;<span class="op" id="8390568">:=</span>&nbsp;<span class="ident" id="8390571">Interfaces</span><span class="op" id="8390581">(</span><span class="op" id="8390582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390585">if</span>&nbsp;<span class="ident" id="8390588">err</span>&nbsp;<span class="op" id="8390592">!=</span>&nbsp;<span class="ident" id="8390595">nil</span>&nbsp;<span class="op" id="8390599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390603">return</span>&nbsp;<span class="ident" id="8390610">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8390615">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390618">for</span>&nbsp;<span class="ident" id="8390622">_</span><span class="op" id="8390623">,</span>&nbsp;<span class="ident" id="8390625">ifi</span>&nbsp;<span class="op" id="8390629">:=</span>&nbsp;<span class="keyword" id="8390632">range</span>&nbsp;<span class="ident" id="8390638">ift</span>&nbsp;<span class="op" id="8390642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390646">if</span>&nbsp;<span class="ident" id="8390649">ifi</span><span class="op" id="8390652">.</span><span class="ident" id="8390653">Flags</span><span class="op" id="8390658">&amp;</span><span class="ident" id="8390659">FlagLoopback</span>&nbsp;<span class="op" id="8390672">!=</span>&nbsp;<span class="num" id="8390675">0</span>&nbsp;<span class="op" id="8390677">&amp;&amp;</span>&nbsp;<span class="ident" id="8390680">ifi</span><span class="op" id="8390683">.</span><span class="ident" id="8390684">Flags</span><span class="op" id="8390689">&amp;</span><span class="ident" id="8390690">FlagUp</span>&nbsp;<span class="op" id="8390697">!=</span>&nbsp;<span class="num" id="8390700">0</span>&nbsp;<span class="op" id="8390702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390707">return</span>&nbsp;<span class="op" id="8390714">&amp;</span><span class="ident" id="8390715">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8390721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8390724">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390727">return</span>&nbsp;<span class="ident" id="8390734">nil</span><br>
<span class="lineno"></span><span class="op" id="8390738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8390741">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="8390812">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="8390877">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="8390907">func</span>&nbsp;<span class="ident" id="8390912">ipv6LinkLocalUnicastAddr</span><span class="op" id="8390936">(</span><span class="ident" id="8390937">ifi</span>&nbsp;<span class="op" id="8390941">*</span><span class="ident" id="8390942">Interface</span><span class="op" id="8390951">)</span>&nbsp;<span class="builtintype" id="8390953">string</span>&nbsp;<span class="op" id="8390960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390963">if</span>&nbsp;<span class="ident" id="8390966">ifi</span>&nbsp;<span class="op" id="8390970">==</span>&nbsp;<span class="ident" id="8390973">nil</span>&nbsp;<span class="op" id="8390977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390981">return</span>&nbsp;<span class="string" id="8390988">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8390992">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8390995">ifat</span><span class="op" id="8390999">,</span>&nbsp;<span class="ident" id="8391001">err</span>&nbsp;<span class="op" id="8391005">:=</span>&nbsp;<span class="ident" id="8391008">ifi</span><span class="op" id="8391011">.</span><span class="ident" id="8391012">Addrs</span><span class="op" id="8391017">(</span><span class="op" id="8391018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391021">if</span>&nbsp;<span class="ident" id="8391024">err</span>&nbsp;<span class="op" id="8391028">!=</span>&nbsp;<span class="ident" id="8391031">nil</span>&nbsp;<span class="op" id="8391035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391039">return</span>&nbsp;<span class="string" id="8391046">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8391050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391053">for</span>&nbsp;<span class="ident" id="8391057">_</span><span class="op" id="8391058">,</span>&nbsp;<span class="ident" id="8391060">ifa</span>&nbsp;<span class="op" id="8391064">:=</span>&nbsp;<span class="keyword" id="8391067">range</span>&nbsp;<span class="ident" id="8391073">ifat</span>&nbsp;<span class="op" id="8391078">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391082">switch</span>&nbsp;<span class="ident" id="8391089">ifa</span>&nbsp;<span class="op" id="8391093">:=</span>&nbsp;<span class="ident" id="8391096">ifa</span><span class="op" id="8391099">.</span><span class="op" id="8391100">(</span><span class="keyword" id="8391101">type</span><span class="op" id="8391105">)</span>&nbsp;<span class="op" id="8391107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391111">case</span>&nbsp;<span class="op" id="8391116">*</span><span class="ident" id="8391117">IPAddr</span><span class="op" id="8391123">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391128">if</span>&nbsp;<span class="ident" id="8391131">ifa</span><span class="op" id="8391134">.</span><span class="ident" id="8391135">IP</span><span class="op" id="8391137">.</span><span class="ident" id="8391138">To4</span><span class="op" id="8391141">(</span><span class="op" id="8391142">)</span>&nbsp;<span class="op" id="8391144">==</span>&nbsp;<span class="ident" id="8391147">nil</span>&nbsp;<span class="op" id="8391151">&amp;&amp;</span>&nbsp;<span class="ident" id="8391154">ifa</span><span class="op" id="8391157">.</span><span class="ident" id="8391158">IP</span><span class="op" id="8391160">.</span><span class="ident" id="8391161">IsLinkLocalUnicast</span><span class="op" id="8391179">(</span><span class="op" id="8391180">)</span>&nbsp;<span class="op" id="8391182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391188">return</span>&nbsp;<span class="ident" id="8391195">ifa</span><span class="op" id="8391198">.</span><span class="ident" id="8391199">IP</span><span class="op" id="8391201">.</span><span class="ident" id="8391202">String</span><span class="op" id="8391208">(</span><span class="op" id="8391209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8391214">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391218">case</span>&nbsp;<span class="op" id="8391223">*</span><span class="ident" id="8391224">IPNet</span><span class="op" id="8391229">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391234">if</span>&nbsp;<span class="ident" id="8391237">ifa</span><span class="op" id="8391240">.</span><span class="ident" id="8391241">IP</span><span class="op" id="8391243">.</span><span class="ident" id="8391244">To4</span><span class="op" id="8391247">(</span><span class="op" id="8391248">)</span>&nbsp;<span class="op" id="8391250">==</span>&nbsp;<span class="ident" id="8391253">nil</span>&nbsp;<span class="op" id="8391257">&amp;&amp;</span>&nbsp;<span class="ident" id="8391260">ifa</span><span class="op" id="8391263">.</span><span class="ident" id="8391264">IP</span><span class="op" id="8391266">.</span><span class="ident" id="8391267">IsLinkLocalUnicast</span><span class="op" id="8391285">(</span><span class="op" id="8391286">)</span>&nbsp;<span class="op" id="8391288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391294">return</span>&nbsp;<span class="ident" id="8391301">ifa</span><span class="op" id="8391304">.</span><span class="ident" id="8391305">IP</span><span class="op" id="8391307">.</span><span class="ident" id="8391308">String</span><span class="op" id="8391314">(</span><span class="op" id="8391315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8391320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8391324">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8391327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391330">return</span>&nbsp;<span class="string" id="8391337">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="8391340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8391343">func</span>&nbsp;<span class="ident" id="8391348">TestInterfaces</span><span class="op" id="8391362">(</span><span class="ident" id="8391363">t</span>&nbsp;<span class="op" id="8391365">*</span><span class="ident" id="8391366">testing</span><span class="op" id="8391373">.</span><span class="ident" id="8391374">T</span><span class="op" id="8391375">)</span>&nbsp;<span class="op" id="8391377">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8391380">ift</span><span class="op" id="8391383">,</span>&nbsp;<span class="ident" id="8391385">err</span>&nbsp;<span class="op" id="8391389">:=</span>&nbsp;<span class="ident" id="8391392">Interfaces</span><span class="op" id="8391402">(</span><span class="op" id="8391403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391406">if</span>&nbsp;<span class="ident" id="8391409">err</span>&nbsp;<span class="op" id="8391413">!=</span>&nbsp;<span class="ident" id="8391416">nil</span>&nbsp;<span class="op" id="8391420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8391424">t</span><span class="op" id="8391425">.</span><span class="ident" id="8391426">Fatalf</span><span class="op" id="8391432">(</span><span class="string" id="8391433">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8391456">,</span>&nbsp;<span class="ident" id="8391458">err</span><span class="op" id="8391461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8391464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8391467">t</span><span class="op" id="8391468">.</span><span class="ident" id="8391469">Logf</span><span class="op" id="8391473">(</span><span class="string" id="8391474">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="8391498">,</span>&nbsp;<span class="builtinfunc" id="8391500">len</span><span class="op" id="8391503">(</span><span class="ident" id="8391504">ift</span><span class="op" id="8391507">)</span><span class="op" id="8391508">,</span>&nbsp;<span class="builtinfunc" id="8391510">cap</span><span class="op" id="8391513">(</span><span class="ident" id="8391514">ift</span><span class="op" id="8391517">)</span><span class="op" id="8391518">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391522">for</span>&nbsp;<span class="ident" id="8391526">_</span><span class="op" id="8391527">,</span>&nbsp;<span class="ident" id="8391529">ifi</span>&nbsp;<span class="op" id="8391533">:=</span>&nbsp;<span class="keyword" id="8391536">range</span>&nbsp;<span class="ident" id="8391542">ift</span>&nbsp;<span class="op" id="8391546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8391550">ifxi</span><span class="op" id="8391554">,</span>&nbsp;<span class="ident" id="8391556">err</span>&nbsp;<span class="op" id="8391560">:=</span>&nbsp;<span class="ident" id="8391563">InterfaceByIndex</span><span class="op" id="8391579">(</span><span class="ident" id="8391580">ifi</span><span class="op" id="8391583">.</span><span class="ident" id="8391584">Index</span><span class="op" id="8391589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391593">if</span>&nbsp;<span class="ident" id="8391596">err</span>&nbsp;<span class="op" id="8391600">!=</span>&nbsp;<span class="ident" id="8391603">nil</span>&nbsp;<span class="op" id="8391607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8391612">t</span><span class="op" id="8391613">.</span><span class="ident" id="8391614">Fatalf</span><span class="op" id="8391620">(</span><span class="string" id="8391621">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8391654">,</span>&nbsp;<span class="ident" id="8391656">ifi</span><span class="op" id="8391659">.</span><span class="ident" id="8391660">Index</span><span class="op" id="8391665">,</span>&nbsp;<span class="ident" id="8391667">err</span><span class="op" id="8391670">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8391674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391678">if</span>&nbsp;<span class="op" id="8391681">!</span><span class="ident" id="8391682">reflect</span><span class="op" id="8391689">.</span><span class="ident" id="8391690">DeepEqual</span><span class="op" id="8391699">(</span><span class="ident" id="8391700">ifxi</span><span class="op" id="8391704">,</span>&nbsp;<span class="op" id="8391706">&amp;</span><span class="ident" id="8391707">ifi</span><span class="op" id="8391710">)</span>&nbsp;<span class="op" id="8391712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8391717">t</span><span class="op" id="8391718">.</span><span class="ident" id="8391719">Fatalf</span><span class="op" id="8391725">(</span><span class="string" id="8391726">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8391762">,</span>&nbsp;<span class="ident" id="8391764">ifi</span><span class="op" id="8391767">.</span><span class="ident" id="8391768">Index</span><span class="op" id="8391773">,</span>&nbsp;<span class="ident" id="8391775">ifxi</span><span class="op" id="8391779">,</span>&nbsp;<span class="ident" id="8391781">ifi</span><span class="op" id="8391784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8391788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8391792">ifxn</span><span class="op" id="8391796">,</span>&nbsp;<span class="ident" id="8391798">err</span>&nbsp;<span class="op" id="8391802">:=</span>&nbsp;<span class="ident" id="8391805">InterfaceByName</span><span class="op" id="8391820">(</span><span class="ident" id="8391821">ifi</span><span class="op" id="8391824">.</span><span class="ident" id="8391825">Name</span><span class="op" id="8391829">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391833">if</span>&nbsp;<span class="ident" id="8391836">err</span>&nbsp;<span class="op" id="8391840">!=</span>&nbsp;<span class="ident" id="8391843">nil</span>&nbsp;<span class="op" id="8391847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8391852">t</span><span class="op" id="8391853">.</span><span class="ident" id="8391854">Fatalf</span><span class="op" id="8391860">(</span><span class="string" id="8391861">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8391893">,</span>&nbsp;<span class="ident" id="8391895">ifi</span><span class="op" id="8391898">.</span><span class="ident" id="8391899">Name</span><span class="op" id="8391903">,</span>&nbsp;<span class="ident" id="8391905">err</span><span class="op" id="8391908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8391912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8391916">if</span>&nbsp;<span class="op" id="8391919">!</span><span class="ident" id="8391920">reflect</span><span class="op" id="8391927">.</span><span class="ident" id="8391928">DeepEqual</span><span class="op" id="8391937">(</span><span class="ident" id="8391938">ifxn</span><span class="op" id="8391942">,</span>&nbsp;<span class="op" id="8391944">&amp;</span><span class="ident" id="8391945">ifi</span><span class="op" id="8391948">)</span>&nbsp;<span class="op" id="8391950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8391955">t</span><span class="op" id="8391956">.</span><span class="ident" id="8391957">Fatalf</span><span class="op" id="8391963">(</span><span class="string" id="8391964">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8391999">,</span>&nbsp;<span class="ident" id="8392001">ifi</span><span class="op" id="8392004">.</span><span class="ident" id="8392005">Name</span><span class="op" id="8392009">,</span>&nbsp;<span class="ident" id="8392011">ifxn</span><span class="op" id="8392015">,</span>&nbsp;<span class="ident" id="8392017">ifi</span><span class="op" id="8392020">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8392024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392028">t</span><span class="op" id="8392029">.</span><span class="ident" id="8392030">Logf</span><span class="op" id="8392034">(</span><span class="string" id="8392035">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="8392069">,</span>&nbsp;<span class="ident" id="8392071">ifi</span><span class="op" id="8392074">.</span><span class="ident" id="8392075">Name</span><span class="op" id="8392079">,</span>&nbsp;<span class="ident" id="8392081">ifi</span><span class="op" id="8392084">.</span><span class="ident" id="8392085">Flags</span><span class="op" id="8392090">.</span><span class="ident" id="8392091">String</span><span class="op" id="8392097">(</span><span class="op" id="8392098">)</span><span class="op" id="8392099">,</span>&nbsp;<span class="ident" id="8392101">ifi</span><span class="op" id="8392104">.</span><span class="ident" id="8392105">Index</span><span class="op" id="8392110">,</span>&nbsp;<span class="ident" id="8392112">ifi</span><span class="op" id="8392115">.</span><span class="ident" id="8392116">MTU</span><span class="op" id="8392119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392123">t</span><span class="op" id="8392124">.</span><span class="ident" id="8392125">Logf</span><span class="op" id="8392129">(</span><span class="string" id="8392130">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8392153">,</span>&nbsp;<span class="ident" id="8392155">ifi</span><span class="op" id="8392158">.</span><span class="ident" id="8392159">HardwareAddr</span><span class="op" id="8392171">.</span><span class="ident" id="8392172">String</span><span class="op" id="8392178">(</span><span class="op" id="8392179">)</span><span class="op" id="8392180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392184">testInterfaceAddrs</span><span class="op" id="8392202">(</span><span class="ident" id="8392203">t</span><span class="op" id="8392204">,</span>&nbsp;<span class="op" id="8392206">&amp;</span><span class="ident" id="8392207">ifi</span><span class="op" id="8392210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392214">testInterfaceMulticastAddrs</span><span class="op" id="8392241">(</span><span class="ident" id="8392242">t</span><span class="op" id="8392243">,</span>&nbsp;<span class="op" id="8392245">&amp;</span><span class="ident" id="8392246">ifi</span><span class="op" id="8392249">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8392252">}</span><br>
<span class="lineno"></span><span class="op" id="8392254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8392257">func</span>&nbsp;<span class="ident" id="8392262">TestInterfaceAddrs</span><span class="op" id="8392280">(</span><span class="ident" id="8392281">t</span>&nbsp;<span class="op" id="8392283">*</span><span class="ident" id="8392284">testing</span><span class="op" id="8392291">.</span><span class="ident" id="8392292">T</span><span class="op" id="8392293">)</span>&nbsp;<span class="op" id="8392295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392298">ifat</span><span class="op" id="8392302">,</span>&nbsp;<span class="ident" id="8392304">err</span>&nbsp;<span class="op" id="8392308">:=</span>&nbsp;<span class="ident" id="8392311">InterfaceAddrs</span><span class="op" id="8392325">(</span><span class="op" id="8392326">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8392329">if</span>&nbsp;<span class="ident" id="8392332">err</span>&nbsp;<span class="op" id="8392336">!=</span>&nbsp;<span class="ident" id="8392339">nil</span>&nbsp;<span class="op" id="8392343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392347">t</span><span class="op" id="8392348">.</span><span class="ident" id="8392349">Fatalf</span><span class="op" id="8392355">(</span><span class="string" id="8392356">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8392383">,</span>&nbsp;<span class="ident" id="8392385">err</span><span class="op" id="8392388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8392391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392394">t</span><span class="op" id="8392395">.</span><span class="ident" id="8392396">Logf</span><span class="op" id="8392400">(</span><span class="string" id="8392401">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="8392425">,</span>&nbsp;<span class="builtinfunc" id="8392427">len</span><span class="op" id="8392430">(</span><span class="ident" id="8392431">ifat</span><span class="op" id="8392435">)</span><span class="op" id="8392436">,</span>&nbsp;<span class="builtinfunc" id="8392438">cap</span><span class="op" id="8392441">(</span><span class="ident" id="8392442">ifat</span><span class="op" id="8392446">)</span><span class="op" id="8392447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392450">testAddrs</span><span class="op" id="8392459">(</span><span class="ident" id="8392460">t</span><span class="op" id="8392461">,</span>&nbsp;<span class="ident" id="8392463">ifat</span><span class="op" id="8392467">)</span><br>
<span class="lineno">90</span><span class="op" id="8392469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8392472">func</span>&nbsp;<span class="ident" id="8392477">testInterfaceAddrs</span><span class="op" id="8392495">(</span><span class="ident" id="8392496">t</span>&nbsp;<span class="op" id="8392498">*</span><span class="ident" id="8392499">testing</span><span class="op" id="8392506">.</span><span class="ident" id="8392507">T</span><span class="op" id="8392508">,</span>&nbsp;<span class="ident" id="8392510">ifi</span>&nbsp;<span class="op" id="8392514">*</span><span class="ident" id="8392515">Interface</span><span class="op" id="8392524">)</span>&nbsp;<span class="op" id="8392526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392529">ifat</span><span class="op" id="8392533">,</span>&nbsp;<span class="ident" id="8392535">err</span>&nbsp;<span class="op" id="8392539">:=</span>&nbsp;<span class="ident" id="8392542">ifi</span><span class="op" id="8392545">.</span><span class="ident" id="8392546">Addrs</span><span class="op" id="8392551">(</span><span class="op" id="8392552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8392555">if</span>&nbsp;<span class="ident" id="8392558">err</span>&nbsp;<span class="op" id="8392562">!=</span>&nbsp;<span class="ident" id="8392565">nil</span>&nbsp;<span class="op" id="8392569">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392573">t</span><span class="op" id="8392574">.</span><span class="ident" id="8392575">Fatalf</span><span class="op" id="8392581">(</span><span class="string" id="8392582">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8392610">,</span>&nbsp;<span class="ident" id="8392612">err</span><span class="op" id="8392615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8392618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392621">testAddrs</span><span class="op" id="8392630">(</span><span class="ident" id="8392631">t</span><span class="op" id="8392632">,</span>&nbsp;<span class="ident" id="8392634">ifat</span><span class="op" id="8392638">)</span><br>
<span class="lineno"></span><span class="op" id="8392640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="8392643">func</span>&nbsp;<span class="ident" id="8392648">testInterfaceMulticastAddrs</span><span class="op" id="8392675">(</span><span class="ident" id="8392676">t</span>&nbsp;<span class="op" id="8392678">*</span><span class="ident" id="8392679">testing</span><span class="op" id="8392686">.</span><span class="ident" id="8392687">T</span><span class="op" id="8392688">,</span>&nbsp;<span class="ident" id="8392690">ifi</span>&nbsp;<span class="op" id="8392694">*</span><span class="ident" id="8392695">Interface</span><span class="op" id="8392704">)</span>&nbsp;<span class="op" id="8392706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392709">ifmat</span><span class="op" id="8392714">,</span>&nbsp;<span class="ident" id="8392716">err</span>&nbsp;<span class="op" id="8392720">:=</span>&nbsp;<span class="ident" id="8392723">ifi</span><span class="op" id="8392726">.</span><span class="ident" id="8392727">MulticastAddrs</span><span class="op" id="8392741">(</span><span class="op" id="8392742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8392745">if</span>&nbsp;<span class="ident" id="8392748">err</span>&nbsp;<span class="op" id="8392752">!=</span>&nbsp;<span class="ident" id="8392755">nil</span>&nbsp;<span class="op" id="8392759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392763">t</span><span class="op" id="8392764">.</span><span class="ident" id="8392765">Fatalf</span><span class="op" id="8392771">(</span><span class="string" id="8392772">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8392809">,</span>&nbsp;<span class="ident" id="8392811">err</span><span class="op" id="8392814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8392817">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8392820">testMulticastAddrs</span><span class="op" id="8392838">(</span><span class="ident" id="8392839">t</span><span class="op" id="8392840">,</span>&nbsp;<span class="ident" id="8392842">ifmat</span><span class="op" id="8392847">)</span><br>
<span class="lineno"></span><span class="op" id="8392849">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8392852">func</span>&nbsp;<span class="ident" id="8392857">testAddrs</span><span class="op" id="8392866">(</span><span class="ident" id="8392867">t</span>&nbsp;<span class="op" id="8392869">*</span><span class="ident" id="8392870">testing</span><span class="op" id="8392877">.</span><span class="ident" id="8392878">T</span><span class="op" id="8392879">,</span>&nbsp;<span class="ident" id="8392881">ifat</span>&nbsp;<span class="op" id="8392886">[</span><span class="op" id="8392887">]</span><span class="ident" id="8392888">Addr</span><span class="op" id="8392892">)</span>&nbsp;<span class="op" id="8392894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8392897">for</span>&nbsp;<span class="ident" id="8392901">_</span><span class="op" id="8392902">,</span>&nbsp;<span class="ident" id="8392904">ifa</span>&nbsp;<span class="op" id="8392908">:=</span>&nbsp;<span class="keyword" id="8392911">range</span>&nbsp;<span class="ident" id="8392917">ifat</span>&nbsp;<span class="op" id="8392922">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8392926">switch</span>&nbsp;<span class="ident" id="8392933">ifa</span>&nbsp;<span class="op" id="8392937">:=</span>&nbsp;<span class="ident" id="8392940">ifa</span><span class="op" id="8392943">.</span><span class="op" id="8392944">(</span><span class="keyword" id="8392945">type</span><span class="op" id="8392949">)</span>&nbsp;<span class="op" id="8392951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8392955">case</span>&nbsp;<span class="op" id="8392960">*</span><span class="ident" id="8392961">IPAddr</span><span class="op" id="8392967">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8392972">if</span>&nbsp;<span class="ident" id="8392975">ifa</span>&nbsp;<span class="op" id="8392979">==</span>&nbsp;<span class="ident" id="8392982">nil</span>&nbsp;<span class="op" id="8392986">||</span>&nbsp;<span class="ident" id="8392989">ifa</span><span class="op" id="8392992">.</span><span class="ident" id="8392993">IP</span>&nbsp;<span class="op" id="8392996">==</span>&nbsp;<span class="ident" id="8392999">nil</span>&nbsp;<span class="op" id="8393003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8393009">t</span><span class="op" id="8393010">.</span><span class="ident" id="8393011">Errorf</span><span class="op" id="8393017">(</span><span class="string" id="8393018">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8393046">,</span>&nbsp;<span class="ident" id="8393048">ifa</span><span class="op" id="8393051">,</span>&nbsp;<span class="ident" id="8393053">ifa</span><span class="op" id="8393056">.</span><span class="ident" id="8393057">IP</span><span class="op" id="8393059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393064">}</span>&nbsp;<span class="keyword" id="8393066">else</span>&nbsp;<span class="op" id="8393071">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8393077">t</span><span class="op" id="8393078">.</span><span class="ident" id="8393079">Logf</span><span class="op" id="8393083">(</span><span class="string" id="8393084">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8393108">,</span>&nbsp;<span class="ident" id="8393110">ifa</span><span class="op" id="8393113">.</span><span class="ident" id="8393114">String</span><span class="op" id="8393120">(</span><span class="op" id="8393121">)</span><span class="op" id="8393122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8393131">case</span>&nbsp;<span class="op" id="8393136">*</span><span class="ident" id="8393137">IPNet</span><span class="op" id="8393142">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8393147">if</span>&nbsp;<span class="ident" id="8393150">ifa</span>&nbsp;<span class="op" id="8393154">==</span>&nbsp;<span class="ident" id="8393157">nil</span>&nbsp;<span class="op" id="8393161">||</span>&nbsp;<span class="ident" id="8393164">ifa</span><span class="op" id="8393167">.</span><span class="ident" id="8393168">IP</span>&nbsp;<span class="op" id="8393171">==</span>&nbsp;<span class="ident" id="8393174">nil</span>&nbsp;<span class="op" id="8393178">||</span>&nbsp;<span class="ident" id="8393181">ifa</span><span class="op" id="8393184">.</span><span class="ident" id="8393185">Mask</span>&nbsp;<span class="op" id="8393190">==</span>&nbsp;<span class="ident" id="8393193">nil</span>&nbsp;<span class="op" id="8393197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8393203">t</span><span class="op" id="8393204">.</span><span class="ident" id="8393205">Errorf</span><span class="op" id="8393211">(</span><span class="string" id="8393212">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8393244">,</span>&nbsp;<span class="ident" id="8393246">ifa</span><span class="op" id="8393249">,</span>&nbsp;<span class="ident" id="8393251">ifa</span><span class="op" id="8393254">.</span><span class="ident" id="8393255">IP</span><span class="op" id="8393257">,</span>&nbsp;<span class="ident" id="8393259">ifa</span><span class="op" id="8393262">.</span><span class="ident" id="8393263">Mask</span><span class="op" id="8393267">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393272">}</span>&nbsp;<span class="keyword" id="8393274">else</span>&nbsp;<span class="op" id="8393279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8393285">_</span><span class="op" id="8393286">,</span>&nbsp;<span class="ident" id="8393288">prefixLen</span>&nbsp;<span class="op" id="8393298">:=</span>&nbsp;<span class="ident" id="8393301">ifa</span><span class="op" id="8393304">.</span><span class="ident" id="8393305">Mask</span><span class="op" id="8393309">.</span><span class="ident" id="8393310">Size</span><span class="op" id="8393314">(</span><span class="op" id="8393315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8393321">if</span>&nbsp;<span class="ident" id="8393324">ifa</span><span class="op" id="8393327">.</span><span class="ident" id="8393328">IP</span><span class="op" id="8393330">.</span><span class="ident" id="8393331">To4</span><span class="op" id="8393334">(</span><span class="op" id="8393335">)</span>&nbsp;<span class="op" id="8393337">!=</span>&nbsp;<span class="ident" id="8393340">nil</span>&nbsp;<span class="op" id="8393344">&amp;&amp;</span>&nbsp;<span class="ident" id="8393347">prefixLen</span>&nbsp;<span class="op" id="8393357">!=</span>&nbsp;<span class="num" id="8393360">8</span><span class="op" id="8393361">*</span><span class="ident" id="8393362">IPv4len</span>&nbsp;<span class="op" id="8393370">||</span>&nbsp;<span class="ident" id="8393373">ifa</span><span class="op" id="8393376">.</span><span class="ident" id="8393377">IP</span><span class="op" id="8393379">.</span><span class="ident" id="8393380">To16</span><span class="op" id="8393384">(</span><span class="op" id="8393385">)</span>&nbsp;<span class="op" id="8393387">!=</span>&nbsp;<span class="ident" id="8393390">nil</span>&nbsp;<span class="op" id="8393394">&amp;&amp;</span>&nbsp;<span class="ident" id="8393397">ifa</span><span class="op" id="8393400">.</span><span class="ident" id="8393401">IP</span><span class="op" id="8393403">.</span><span class="ident" id="8393404">To4</span><span class="op" id="8393407">(</span><span class="op" id="8393408">)</span>&nbsp;<span class="op" id="8393410">==</span>&nbsp;<span class="ident" id="8393413">nil</span>&nbsp;<span class="op" id="8393417">&amp;&amp;</span>&nbsp;<span class="ident" id="8393420">prefixLen</span>&nbsp;<span class="op" id="8393430">!=</span>&nbsp;<span class="num" id="8393433">8</span><span class="op" id="8393434">*</span><span class="ident" id="8393435">IPv6len</span>&nbsp;<span class="op" id="8393443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8393450">t</span><span class="op" id="8393451">.</span><span class="ident" id="8393452">Errorf</span><span class="op" id="8393458">(</span><span class="string" id="8393459">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8393495">,</span>&nbsp;<span class="ident" id="8393497">ifa</span><span class="op" id="8393500">,</span>&nbsp;<span class="ident" id="8393502">ifa</span><span class="op" id="8393505">.</span><span class="ident" id="8393506">IP</span><span class="op" id="8393508">,</span>&nbsp;<span class="ident" id="8393510">ifa</span><span class="op" id="8393513">.</span><span class="ident" id="8393514">Mask</span><span class="op" id="8393518">,</span>&nbsp;<span class="ident" id="8393520">prefixLen</span><span class="op" id="8393529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393535">}</span>&nbsp;<span class="keyword" id="8393537">else</span>&nbsp;<span class="op" id="8393542">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8393549">t</span><span class="op" id="8393550">.</span><span class="ident" id="8393551">Logf</span><span class="op" id="8393555">(</span><span class="string" id="8393556">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8393580">,</span>&nbsp;<span class="ident" id="8393582">ifa</span><span class="op" id="8393585">.</span><span class="ident" id="8393586">String</span><span class="op" id="8393592">(</span><span class="op" id="8393593">)</span><span class="op" id="8393594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8393609">default</span><span class="op" id="8393616">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8393621">t</span><span class="op" id="8393622">.</span><span class="ident" id="8393623">Errorf</span><span class="op" id="8393629">(</span><span class="string" id="8393630">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="8393653">,</span>&nbsp;<span class="ident" id="8393655">ifa</span><span class="op" id="8393658">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393665">}</span><br>
<span class="lineno"></span><span class="op" id="8393667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8393670">func</span>&nbsp;<span class="ident" id="8393675">testMulticastAddrs</span><span class="op" id="8393693">(</span><span class="ident" id="8393694">t</span>&nbsp;<span class="op" id="8393696">*</span><span class="ident" id="8393697">testing</span><span class="op" id="8393704">.</span><span class="ident" id="8393705">T</span><span class="op" id="8393706">,</span>&nbsp;<span class="ident" id="8393708">ifmat</span>&nbsp;<span class="op" id="8393714">[</span><span class="op" id="8393715">]</span><span class="ident" id="8393716">Addr</span><span class="op" id="8393720">)</span>&nbsp;<span class="op" id="8393722">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8393725">for</span>&nbsp;<span class="ident" id="8393729">_</span><span class="op" id="8393730">,</span>&nbsp;<span class="ident" id="8393732">ifma</span>&nbsp;<span class="op" id="8393737">:=</span>&nbsp;<span class="keyword" id="8393740">range</span>&nbsp;<span class="ident" id="8393746">ifmat</span>&nbsp;<span class="op" id="8393752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8393756">switch</span>&nbsp;<span class="ident" id="8393763">ifma</span>&nbsp;<span class="op" id="8393768">:=</span>&nbsp;<span class="ident" id="8393771">ifma</span><span class="op" id="8393775">.</span><span class="op" id="8393776">(</span><span class="keyword" id="8393777">type</span><span class="op" id="8393781">)</span>&nbsp;<span class="op" id="8393783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8393787">case</span>&nbsp;<span class="op" id="8393792">*</span><span class="ident" id="8393793">IPAddr</span><span class="op" id="8393799">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8393804">if</span>&nbsp;<span class="ident" id="8393807">ifma</span>&nbsp;<span class="op" id="8393812">==</span>&nbsp;<span class="ident" id="8393815">nil</span>&nbsp;<span class="op" id="8393819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8393825">t</span><span class="op" id="8393826">.</span><span class="ident" id="8393827">Errorf</span><span class="op" id="8393833">(</span><span class="string" id="8393834">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="8393858">,</span>&nbsp;<span class="ident" id="8393860">ifma</span><span class="op" id="8393864">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393869">}</span>&nbsp;<span class="keyword" id="8393871">else</span>&nbsp;<span class="op" id="8393876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8393882">t</span><span class="op" id="8393883">.</span><span class="ident" id="8393884">Logf</span><span class="op" id="8393888">(</span><span class="string" id="8393889">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8393916">,</span>&nbsp;<span class="ident" id="8393918">ifma</span><span class="op" id="8393922">.</span><span class="ident" id="8393923">String</span><span class="op" id="8393929">(</span><span class="op" id="8393930">)</span><span class="op" id="8393931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8393940">default</span><span class="op" id="8393947">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8393952">t</span><span class="op" id="8393953">.</span><span class="ident" id="8393954">Errorf</span><span class="op" id="8393960">(</span><span class="string" id="8393961">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="8393984">,</span>&nbsp;<span class="ident" id="8393986">ifma</span><span class="op" id="8393990">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8393997">}</span><br>
<span class="lineno"></span><span class="op" id="8393999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8394002">func</span>&nbsp;<span class="ident" id="8394007">BenchmarkInterfaces</span><span class="op" id="8394026">(</span><span class="ident" id="8394027">b</span>&nbsp;<span class="op" id="8394029">*</span><span class="ident" id="8394030">testing</span><span class="op" id="8394037">.</span><span class="ident" id="8394038">B</span><span class="op" id="8394039">)</span>&nbsp;<span class="op" id="8394041">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394044">for</span>&nbsp;<span class="ident" id="8394048">i</span>&nbsp;<span class="op" id="8394050">:=</span>&nbsp;<span class="num" id="8394053">0</span><span class="op" id="8394054">;</span>&nbsp;<span class="ident" id="8394056">i</span>&nbsp;<span class="op" id="8394058">&lt;</span>&nbsp;<span class="ident" id="8394060">b</span><span class="op" id="8394061">.</span><span class="ident" id="8394062">N</span><span class="op" id="8394063">;</span>&nbsp;<span class="ident" id="8394065">i</span><span class="op" id="8394066">++</span>&nbsp;<span class="op" id="8394069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394073">if</span>&nbsp;<span class="ident" id="8394076">_</span><span class="op" id="8394077">,</span>&nbsp;<span class="ident" id="8394079">err</span>&nbsp;<span class="op" id="8394083">:=</span>&nbsp;<span class="ident" id="8394086">Interfaces</span><span class="op" id="8394096">(</span><span class="op" id="8394097">)</span><span class="op" id="8394098">;</span>&nbsp;<span class="ident" id="8394100">err</span>&nbsp;<span class="op" id="8394104">!=</span>&nbsp;<span class="ident" id="8394107">nil</span>&nbsp;<span class="op" id="8394111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8394116">b</span><span class="op" id="8394117">.</span><span class="ident" id="8394118">Fatalf</span><span class="op" id="8394124">(</span><span class="string" id="8394125">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8394148">,</span>&nbsp;<span class="ident" id="8394150">err</span><span class="op" id="8394153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8394157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8394160">}</span><br>
<span class="lineno">155</span><span class="op" id="8394162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8394165">func</span>&nbsp;<span class="ident" id="8394170">BenchmarkInterfaceByIndex</span><span class="op" id="8394195">(</span><span class="ident" id="8394196">b</span>&nbsp;<span class="op" id="8394198">*</span><span class="ident" id="8394199">testing</span><span class="op" id="8394206">.</span><span class="ident" id="8394207">B</span><span class="op" id="8394208">)</span>&nbsp;<span class="op" id="8394210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8394213">ifi</span>&nbsp;<span class="op" id="8394217">:=</span>&nbsp;<span class="ident" id="8394220">loopbackInterface</span><span class="op" id="8394237">(</span><span class="op" id="8394238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394241">if</span>&nbsp;<span class="ident" id="8394244">ifi</span>&nbsp;<span class="op" id="8394248">==</span>&nbsp;<span class="ident" id="8394251">nil</span>&nbsp;<span class="op" id="8394255">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8394259">b</span><span class="op" id="8394260">.</span><span class="ident" id="8394261">Skip</span><span class="op" id="8394265">(</span><span class="string" id="8394266">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8394296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8394299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394302">for</span>&nbsp;<span class="ident" id="8394306">i</span>&nbsp;<span class="op" id="8394308">:=</span>&nbsp;<span class="num" id="8394311">0</span><span class="op" id="8394312">;</span>&nbsp;<span class="ident" id="8394314">i</span>&nbsp;<span class="op" id="8394316">&lt;</span>&nbsp;<span class="ident" id="8394318">b</span><span class="op" id="8394319">.</span><span class="ident" id="8394320">N</span><span class="op" id="8394321">;</span>&nbsp;<span class="ident" id="8394323">i</span><span class="op" id="8394324">++</span>&nbsp;<span class="op" id="8394327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394331">if</span>&nbsp;<span class="ident" id="8394334">_</span><span class="op" id="8394335">,</span>&nbsp;<span class="ident" id="8394337">err</span>&nbsp;<span class="op" id="8394341">:=</span>&nbsp;<span class="ident" id="8394344">InterfaceByIndex</span><span class="op" id="8394360">(</span><span class="ident" id="8394361">ifi</span><span class="op" id="8394364">.</span><span class="ident" id="8394365">Index</span><span class="op" id="8394370">)</span><span class="op" id="8394371">;</span>&nbsp;<span class="ident" id="8394373">err</span>&nbsp;<span class="op" id="8394377">!=</span>&nbsp;<span class="ident" id="8394380">nil</span>&nbsp;<span class="op" id="8394384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8394389">b</span><span class="op" id="8394390">.</span><span class="ident" id="8394391">Fatalf</span><span class="op" id="8394397">(</span><span class="string" id="8394398">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8394427">,</span>&nbsp;<span class="ident" id="8394429">err</span><span class="op" id="8394432">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8394436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8394439">}</span><br>
<span class="lineno"></span><span class="op" id="8394441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8394444">func</span>&nbsp;<span class="ident" id="8394449">BenchmarkInterfaceByName</span><span class="op" id="8394473">(</span><span class="ident" id="8394474">b</span>&nbsp;<span class="op" id="8394476">*</span><span class="ident" id="8394477">testing</span><span class="op" id="8394484">.</span><span class="ident" id="8394485">B</span><span class="op" id="8394486">)</span>&nbsp;<span class="op" id="8394488">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8394491">ifi</span>&nbsp;<span class="op" id="8394495">:=</span>&nbsp;<span class="ident" id="8394498">loopbackInterface</span><span class="op" id="8394515">(</span><span class="op" id="8394516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394519">if</span>&nbsp;<span class="ident" id="8394522">ifi</span>&nbsp;<span class="op" id="8394526">==</span>&nbsp;<span class="ident" id="8394529">nil</span>&nbsp;<span class="op" id="8394533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8394537">b</span><span class="op" id="8394538">.</span><span class="ident" id="8394539">Skip</span><span class="op" id="8394543">(</span><span class="string" id="8394544">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8394574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8394577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394580">for</span>&nbsp;<span class="ident" id="8394584">i</span>&nbsp;<span class="op" id="8394586">:=</span>&nbsp;<span class="num" id="8394589">0</span><span class="op" id="8394590">;</span>&nbsp;<span class="ident" id="8394592">i</span>&nbsp;<span class="op" id="8394594">&lt;</span>&nbsp;<span class="ident" id="8394596">b</span><span class="op" id="8394597">.</span><span class="ident" id="8394598">N</span><span class="op" id="8394599">;</span>&nbsp;<span class="ident" id="8394601">i</span><span class="op" id="8394602">++</span>&nbsp;<span class="op" id="8394605">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394609">if</span>&nbsp;<span class="ident" id="8394612">_</span><span class="op" id="8394613">,</span>&nbsp;<span class="ident" id="8394615">err</span>&nbsp;<span class="op" id="8394619">:=</span>&nbsp;<span class="ident" id="8394622">InterfaceByName</span><span class="op" id="8394637">(</span><span class="ident" id="8394638">ifi</span><span class="op" id="8394641">.</span><span class="ident" id="8394642">Name</span><span class="op" id="8394646">)</span><span class="op" id="8394647">;</span>&nbsp;<span class="ident" id="8394649">err</span>&nbsp;<span class="op" id="8394653">!=</span>&nbsp;<span class="ident" id="8394656">nil</span>&nbsp;<span class="op" id="8394660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8394665">b</span><span class="op" id="8394666">.</span><span class="ident" id="8394667">Fatalf</span><span class="op" id="8394673">(</span><span class="string" id="8394674">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8394702">,</span>&nbsp;<span class="ident" id="8394704">err</span><span class="op" id="8394707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8394711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8394714">}</span><br>
<span class="lineno"></span><span class="op" id="8394716">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="8394719">func</span>&nbsp;<span class="ident" id="8394724">BenchmarkInterfaceAddrs</span><span class="op" id="8394747">(</span><span class="ident" id="8394748">b</span>&nbsp;<span class="op" id="8394750">*</span><span class="ident" id="8394751">testing</span><span class="op" id="8394758">.</span><span class="ident" id="8394759">B</span><span class="op" id="8394760">)</span>&nbsp;<span class="op" id="8394762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394765">for</span>&nbsp;<span class="ident" id="8394769">i</span>&nbsp;<span class="op" id="8394771">:=</span>&nbsp;<span class="num" id="8394774">0</span><span class="op" id="8394775">;</span>&nbsp;<span class="ident" id="8394777">i</span>&nbsp;<span class="op" id="8394779">&lt;</span>&nbsp;<span class="ident" id="8394781">b</span><span class="op" id="8394782">.</span><span class="ident" id="8394783">N</span><span class="op" id="8394784">;</span>&nbsp;<span class="ident" id="8394786">i</span><span class="op" id="8394787">++</span>&nbsp;<span class="op" id="8394790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394794">if</span>&nbsp;<span class="ident" id="8394797">_</span><span class="op" id="8394798">,</span>&nbsp;<span class="ident" id="8394800">err</span>&nbsp;<span class="op" id="8394804">:=</span>&nbsp;<span class="ident" id="8394807">InterfaceAddrs</span><span class="op" id="8394821">(</span><span class="op" id="8394822">)</span><span class="op" id="8394823">;</span>&nbsp;<span class="ident" id="8394825">err</span>&nbsp;<span class="op" id="8394829">!=</span>&nbsp;<span class="ident" id="8394832">nil</span>&nbsp;<span class="op" id="8394836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8394841">b</span><span class="op" id="8394842">.</span><span class="ident" id="8394843">Fatalf</span><span class="op" id="8394849">(</span><span class="string" id="8394850">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8394877">,</span>&nbsp;<span class="ident" id="8394879">err</span><span class="op" id="8394882">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8394886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8394889">}</span><br>
<span class="lineno"></span><span class="op" id="8394891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8394894">func</span>&nbsp;<span class="ident" id="8394899">BenchmarkInterfacesAndAddrs</span><span class="op" id="8394926">(</span><span class="ident" id="8394927">b</span>&nbsp;<span class="op" id="8394929">*</span><span class="ident" id="8394930">testing</span><span class="op" id="8394937">.</span><span class="ident" id="8394938">B</span><span class="op" id="8394939">)</span>&nbsp;<span class="op" id="8394941">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8394944">ifi</span>&nbsp;<span class="op" id="8394948">:=</span>&nbsp;<span class="ident" id="8394951">loopbackInterface</span><span class="op" id="8394968">(</span><span class="op" id="8394969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8394972">if</span>&nbsp;<span class="ident" id="8394975">ifi</span>&nbsp;<span class="op" id="8394979">==</span>&nbsp;<span class="ident" id="8394982">nil</span>&nbsp;<span class="op" id="8394986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8394990">b</span><span class="op" id="8394991">.</span><span class="ident" id="8394992">Skip</span><span class="op" id="8394996">(</span><span class="string" id="8394997">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8395027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8395030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8395033">for</span>&nbsp;<span class="ident" id="8395037">i</span>&nbsp;<span class="op" id="8395039">:=</span>&nbsp;<span class="num" id="8395042">0</span><span class="op" id="8395043">;</span>&nbsp;<span class="ident" id="8395045">i</span>&nbsp;<span class="op" id="8395047">&lt;</span>&nbsp;<span class="ident" id="8395049">b</span><span class="op" id="8395050">.</span><span class="ident" id="8395051">N</span><span class="op" id="8395052">;</span>&nbsp;<span class="ident" id="8395054">i</span><span class="op" id="8395055">++</span>&nbsp;<span class="op" id="8395058">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8395062">if</span>&nbsp;<span class="ident" id="8395065">_</span><span class="op" id="8395066">,</span>&nbsp;<span class="ident" id="8395068">err</span>&nbsp;<span class="op" id="8395072">:=</span>&nbsp;<span class="ident" id="8395075">ifi</span><span class="op" id="8395078">.</span><span class="ident" id="8395079">Addrs</span><span class="op" id="8395084">(</span><span class="op" id="8395085">)</span><span class="op" id="8395086">;</span>&nbsp;<span class="ident" id="8395088">err</span>&nbsp;<span class="op" id="8395092">!=</span>&nbsp;<span class="ident" id="8395095">nil</span>&nbsp;<span class="op" id="8395099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395104">b</span><span class="op" id="8395105">.</span><span class="ident" id="8395106">Fatalf</span><span class="op" id="8395112">(</span><span class="string" id="8395113">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8395141">,</span>&nbsp;<span class="ident" id="8395143">err</span><span class="op" id="8395146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8395150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8395153">}</span><br>
<span class="lineno"></span><span class="op" id="8395155">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="8395158">func</span>&nbsp;<span class="ident" id="8395163">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="8395199">(</span><span class="ident" id="8395200">b</span>&nbsp;<span class="op" id="8395202">*</span><span class="ident" id="8395203">testing</span><span class="op" id="8395210">.</span><span class="ident" id="8395211">B</span><span class="op" id="8395212">)</span>&nbsp;<span class="op" id="8395214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395217">ifi</span>&nbsp;<span class="op" id="8395221">:=</span>&nbsp;<span class="ident" id="8395224">loopbackInterface</span><span class="op" id="8395241">(</span><span class="op" id="8395242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8395245">if</span>&nbsp;<span class="ident" id="8395248">ifi</span>&nbsp;<span class="op" id="8395252">==</span>&nbsp;<span class="ident" id="8395255">nil</span>&nbsp;<span class="op" id="8395259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395263">b</span><span class="op" id="8395264">.</span><span class="ident" id="8395265">Skip</span><span class="op" id="8395269">(</span><span class="string" id="8395270">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8395300">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8395303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8395306">for</span>&nbsp;<span class="ident" id="8395310">i</span>&nbsp;<span class="op" id="8395312">:=</span>&nbsp;<span class="num" id="8395315">0</span><span class="op" id="8395316">;</span>&nbsp;<span class="ident" id="8395318">i</span>&nbsp;<span class="op" id="8395320">&lt;</span>&nbsp;<span class="ident" id="8395322">b</span><span class="op" id="8395323">.</span><span class="ident" id="8395324">N</span><span class="op" id="8395325">;</span>&nbsp;<span class="ident" id="8395327">i</span><span class="op" id="8395328">++</span>&nbsp;<span class="op" id="8395331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8395335">if</span>&nbsp;<span class="ident" id="8395338">_</span><span class="op" id="8395339">,</span>&nbsp;<span class="ident" id="8395341">err</span>&nbsp;<span class="op" id="8395345">:=</span>&nbsp;<span class="ident" id="8395348">ifi</span><span class="op" id="8395351">.</span><span class="ident" id="8395352">MulticastAddrs</span><span class="op" id="8395366">(</span><span class="op" id="8395367">)</span><span class="op" id="8395368">;</span>&nbsp;<span class="ident" id="8395370">err</span>&nbsp;<span class="op" id="8395374">!=</span>&nbsp;<span class="ident" id="8395377">nil</span>&nbsp;<span class="op" id="8395381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395386">b</span><span class="op" id="8395387">.</span><span class="ident" id="8395388">Fatalf</span><span class="op" id="8395394">(</span><span class="string" id="8395395">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8395432">,</span>&nbsp;<span class="ident" id="8395434">err</span><span class="op" id="8395437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8395441">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8395444">}</span><br>
<span class="lineno"></span><span class="op" id="8395446">}</span>
</div>
</body>
</html>
