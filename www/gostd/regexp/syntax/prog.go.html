<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html" class="current">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3658653">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3658708">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3658762">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3658813">package</span>&nbsp;<span class="ident" id="3658821">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3658829">import</span>&nbsp;<span class="op" id="3658836">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3658839">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3658848">&#34;strconv&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3658859">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="3658869">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3658872">//&nbsp;Compiled&nbsp;program.</span><br>
<span class="lineno"></span><span class="comment" id="3658893">//&nbsp;May&nbsp;not&nbsp;belong&nbsp;in&nbsp;this&nbsp;package,&nbsp;but&nbsp;convenient&nbsp;for&nbsp;now.</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3658953">//&nbsp;A&nbsp;Prog&nbsp;is&nbsp;a&nbsp;compiled&nbsp;regular&nbsp;expression&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="3659005">type</span>&nbsp;<span class="ident" id="3659010">Prog</span>&nbsp;<span class="keyword" id="3659015">struct</span>&nbsp;<span class="op" id="3659022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659025">Inst</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3659032">[</span><span class="op" id="3659033">]</span><span class="ident" id="3659034"><a href="/gostd/regexp/syntax/prog.go.html#3661062">Inst</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659040">Start</span>&nbsp;&nbsp;<span class="builtintype" id="3659047">int</span>&nbsp;<span class="comment" id="3659051">//&nbsp;index&nbsp;of&nbsp;start&nbsp;instruction</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659082">NumCap</span>&nbsp;<span class="builtintype" id="3659089">int</span>&nbsp;<span class="comment" id="3659093">//&nbsp;number&nbsp;of&nbsp;InstCapture&nbsp;insts&nbsp;in&nbsp;re</span><br>
<span class="lineno"></span><span class="op" id="3659130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3659133">//&nbsp;An&nbsp;InstOp&nbsp;is&nbsp;an&nbsp;instruction&nbsp;opcode.</span><br>
<span class="lineno"></span><span class="keyword" id="3659172">type</span>&nbsp;<span class="ident" id="3659177">InstOp</span>&nbsp;<span class="builtintype" id="3659184">uint8</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3659191">const</span>&nbsp;<span class="op" id="3659197">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659200">InstAlt</span>&nbsp;<span class="ident" id="3659208"><a href="/gostd/regexp/syntax/prog.go.html#3659177">InstOp</a></span>&nbsp;<span class="op" id="3659215">=</span>&nbsp;<span class="ident" id="3659217">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659223">InstAltMatch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659237">InstCapture</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659250">InstEmptyWidth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659266">InstMatch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659277">InstFail</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659287">InstNop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659296">InstRune</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659306">InstRune1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659317">InstRuneAny</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659330">InstRuneAnyNotNL</span><br>
<span class="lineno"></span><span class="op" id="3659347">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="3659350">var</span>&nbsp;<span class="ident" id="3659354">instOpNames</span>&nbsp;<span class="op" id="3659366">=</span>&nbsp;<span class="op" id="3659368">[</span><span class="op" id="3659369">]</span><span class="builtintype" id="3659370">string</span><span class="op" id="3659376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659379">&#34;InstAlt&#34;</span><span class="op" id="3659388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659391">&#34;InstAltMatch&#34;</span><span class="op" id="3659405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659408">&#34;InstCapture&#34;</span><span class="op" id="3659421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659424">&#34;InstEmptyWidth&#34;</span><span class="op" id="3659440">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659443">&#34;InstMatch&#34;</span><span class="op" id="3659454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659457">&#34;InstFail&#34;</span><span class="op" id="3659467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659470">&#34;InstNop&#34;</span><span class="op" id="3659479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659482">&#34;InstRune&#34;</span><span class="op" id="3659492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659495">&#34;InstRune1&#34;</span><span class="op" id="3659506">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659509">&#34;InstRuneAny&#34;</span><span class="op" id="3659522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3659525">&#34;InstRuneAnyNotNL&#34;</span><span class="op" id="3659543">,</span><br>
<span class="lineno"></span><span class="op" id="3659545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3659548">func</span>&nbsp;<span class="op" id="3659553">(</span><span class="ident" id="3659554">i</span>&nbsp;<span class="ident" id="3659556"><a href="/gostd/regexp/syntax/prog.go.html#3659177">InstOp</a></span><span class="op" id="3659562">)</span>&nbsp;<span class="ident" id="3659564">String</span><span class="op" id="3659570">(</span><span class="op" id="3659571">)</span>&nbsp;<span class="builtintype" id="3659573">string</span>&nbsp;<span class="op" id="3659580">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3659583">if</span>&nbsp;<span class="builtintype" id="3659586">uint</span><span class="op" id="3659590">(</span><span class="ident" id="3659591"><a href="/gostd/regexp/syntax/prog.go.html#3659554">i</a></span><span class="op" id="3659592">)</span>&nbsp;<span class="op" id="3659594">&gt;=</span>&nbsp;<span class="builtintype" id="3659597">uint</span><span class="op" id="3659601">(</span><span class="builtinfunc" id="3659602">len</span><span class="op" id="3659605">(</span><span class="ident" id="3659606"><a href="/gostd/regexp/syntax/prog.go.html#3659354">instOpNames</a></span><span class="op" id="3659617">)</span><span class="op" id="3659618">)</span>&nbsp;<span class="op" id="3659620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3659624">return</span>&nbsp;<span class="string" id="3659631">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3659635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3659638">return</span>&nbsp;<span class="ident" id="3659645"><a href="/gostd/regexp/syntax/prog.go.html#3659354">instOpNames</a></span><span class="op" id="3659656">[</span><span class="ident" id="3659657"><a href="/gostd/regexp/syntax/prog.go.html#3659554">i</a></span><span class="op" id="3659658">]</span><br>
<span class="lineno"></span><span class="op" id="3659660">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3659663">//&nbsp;An&nbsp;EmptyOp&nbsp;specifies&nbsp;a&nbsp;kind&nbsp;or&nbsp;mixture&nbsp;of&nbsp;zero-width&nbsp;assertions.</span><br>
<span class="lineno"></span><span class="keyword" id="3659731">type</span>&nbsp;<span class="ident" id="3659736">EmptyOp</span>&nbsp;<span class="builtintype" id="3659744">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3659751">const</span>&nbsp;<span class="op" id="3659757">(</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659760">EmptyBeginLine</span>&nbsp;<span class="ident" id="3659775"><a href="/gostd/regexp/syntax/prog.go.html#3659736">EmptyOp</a></span>&nbsp;<span class="op" id="3659783">=</span>&nbsp;<span class="num" id="3659785">1</span>&nbsp;<span class="op" id="3659787">&lt;&lt;</span>&nbsp;<span class="ident" id="3659790">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659796">EmptyEndLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659810">EmptyBeginText</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659826">EmptyEndText</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659840">EmptyWordBoundary</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3659859">EmptyNoWordBoundary</span><br>
<span class="lineno"></span><span class="op" id="3659879">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3659882">//&nbsp;EmptyOpContext&nbsp;returns&nbsp;the&nbsp;zero-width&nbsp;assertions</span><br>
<span class="lineno"></span><span class="comment" id="3659934">//&nbsp;satisfied&nbsp;at&nbsp;the&nbsp;position&nbsp;between&nbsp;the&nbsp;runes&nbsp;r1&nbsp;and&nbsp;r2.</span><br>
<span class="lineno">75</span><span class="comment" id="3659992">//&nbsp;Passing&nbsp;r1&nbsp;==&nbsp;-1&nbsp;indicates&nbsp;that&nbsp;the&nbsp;position&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3660043">//&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;text.</span><br>
<span class="lineno"></span><span class="comment" id="3660076">//&nbsp;Passing&nbsp;r2&nbsp;==&nbsp;-1&nbsp;indicates&nbsp;that&nbsp;the&nbsp;position&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3660127">//&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;text.</span><br>
<span class="lineno"></span><span class="keyword" id="3660154">func</span>&nbsp;<span class="ident" id="3660159">EmptyOpContext</span><span class="op" id="3660173">(</span><span class="ident" id="3660174">r1</span><span class="op" id="3660176">,</span>&nbsp;<span class="ident" id="3660178">r2</span>&nbsp;<span class="builtintype" id="3660181">rune</span><span class="op" id="3660185">)</span>&nbsp;<span class="ident" id="3660187"><a href="/gostd/regexp/syntax/prog.go.html#3659736">EmptyOp</a></span>&nbsp;<span class="op" id="3660195">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660198">var</span>&nbsp;<span class="ident" id="3660202">op</span>&nbsp;<span class="ident" id="3660205"><a href="/gostd/regexp/syntax/prog.go.html#3659736">EmptyOp</a></span>&nbsp;<span class="op" id="3660213">=</span>&nbsp;<span class="ident" id="3660215"><a href="/gostd/regexp/syntax/prog.go.html#3659859">EmptyNoWordBoundary</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660236">var</span>&nbsp;<span class="ident" id="3660240">boundary</span>&nbsp;<span class="builtintype" id="3660249">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660255">switch</span>&nbsp;<span class="op" id="3660262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660265">case</span>&nbsp;<span class="ident" id="3660270"><a href="/gostd/regexp/syntax/prog.go.html#3660871">IsWordChar</a></span><span class="op" id="3660280">(</span><span class="ident" id="3660281"><a href="/gostd/regexp/syntax/prog.go.html#3660174">r1</a></span><span class="op" id="3660283">)</span><span class="op" id="3660284">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3660288"><a href="/gostd/regexp/syntax/prog.go.html#3660240">boundary</a></span>&nbsp;<span class="op" id="3660297">=</span>&nbsp;<span class="num" id="3660299">1</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660302">case</span>&nbsp;<span class="ident" id="3660307"><a href="/gostd/regexp/syntax/prog.go.html#3660174">r1</a></span>&nbsp;<span class="op" id="3660310">==</span>&nbsp;<span class="string" id="3660313">&#39;\n&#39;</span><span class="op" id="3660317">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3660321"><a href="/gostd/regexp/syntax/prog.go.html#3660202">op</a></span>&nbsp;<span class="op" id="3660324">|=</span>&nbsp;<span class="ident" id="3660327"><a href="/gostd/regexp/syntax/prog.go.html#3659760">EmptyBeginLine</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660343">case</span>&nbsp;<span class="ident" id="3660348"><a href="/gostd/regexp/syntax/prog.go.html#3660174">r1</a></span>&nbsp;<span class="op" id="3660351">&lt;</span>&nbsp;<span class="num" id="3660353">0</span><span class="op" id="3660354">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3660358"><a href="/gostd/regexp/syntax/prog.go.html#3660202">op</a></span>&nbsp;<span class="op" id="3660361">|=</span>&nbsp;<span class="ident" id="3660364"><a href="/gostd/regexp/syntax/prog.go.html#3659810">EmptyBeginText</a></span>&nbsp;<span class="op" id="3660379">|</span>&nbsp;<span class="ident" id="3660381"><a href="/gostd/regexp/syntax/prog.go.html#3659760">EmptyBeginLine</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3660397">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660400">switch</span>&nbsp;<span class="op" id="3660407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660410">case</span>&nbsp;<span class="ident" id="3660415"><a href="/gostd/regexp/syntax/prog.go.html#3660871">IsWordChar</a></span><span class="op" id="3660425">(</span><span class="ident" id="3660426"><a href="/gostd/regexp/syntax/prog.go.html#3660178">r2</a></span><span class="op" id="3660428">)</span><span class="op" id="3660429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3660433"><a href="/gostd/regexp/syntax/prog.go.html#3660240">boundary</a></span>&nbsp;<span class="op" id="3660442">^=</span>&nbsp;<span class="num" id="3660445">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660448">case</span>&nbsp;<span class="ident" id="3660453"><a href="/gostd/regexp/syntax/prog.go.html#3660178">r2</a></span>&nbsp;<span class="op" id="3660456">==</span>&nbsp;<span class="string" id="3660459">&#39;\n&#39;</span><span class="op" id="3660463">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3660467"><a href="/gostd/regexp/syntax/prog.go.html#3660202">op</a></span>&nbsp;<span class="op" id="3660470">|=</span>&nbsp;<span class="ident" id="3660473"><a href="/gostd/regexp/syntax/prog.go.html#3659796">EmptyEndLine</a></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660487">case</span>&nbsp;<span class="ident" id="3660492"><a href="/gostd/regexp/syntax/prog.go.html#3660178">r2</a></span>&nbsp;<span class="op" id="3660495">&lt;</span>&nbsp;<span class="num" id="3660497">0</span><span class="op" id="3660498">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3660502"><a href="/gostd/regexp/syntax/prog.go.html#3660202">op</a></span>&nbsp;<span class="op" id="3660505">|=</span>&nbsp;<span class="ident" id="3660508"><a href="/gostd/regexp/syntax/prog.go.html#3659826">EmptyEndText</a></span>&nbsp;<span class="op" id="3660521">|</span>&nbsp;<span class="ident" id="3660523"><a href="/gostd/regexp/syntax/prog.go.html#3659796">EmptyEndLine</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3660537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660540">if</span>&nbsp;<span class="ident" id="3660543"><a href="/gostd/regexp/syntax/prog.go.html#3660240">boundary</a></span>&nbsp;<span class="op" id="3660552">!=</span>&nbsp;<span class="num" id="3660555">0</span>&nbsp;<span class="op" id="3660557">{</span>&nbsp;<span class="comment" id="3660559">//&nbsp;IsWordChar(r1)&nbsp;!=&nbsp;IsWordChar(r2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3660597"><a href="/gostd/regexp/syntax/prog.go.html#3660202">op</a></span>&nbsp;<span class="op" id="3660600">^=</span>&nbsp;<span class="op" id="3660603">(</span><span class="ident" id="3660604"><a href="/gostd/regexp/syntax/prog.go.html#3659840">EmptyWordBoundary</a></span>&nbsp;<span class="op" id="3660622">|</span>&nbsp;<span class="ident" id="3660624"><a href="/gostd/regexp/syntax/prog.go.html#3659859">EmptyNoWordBoundary</a></span><span class="op" id="3660643">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3660646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660649">return</span>&nbsp;<span class="ident" id="3660656"><a href="/gostd/regexp/syntax/prog.go.html#3660202">op</a></span><br>
<span class="lineno"></span><span class="op" id="3660659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3660662">//&nbsp;IsWordChar&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;consider&nbsp;a&nbsp;``word&nbsp;character&#39;&#39;</span><br>
<span class="lineno">105</span><span class="comment" id="3660727">//&nbsp;during&nbsp;the&nbsp;evaluation&nbsp;of&nbsp;the&nbsp;\b&nbsp;and&nbsp;\B&nbsp;zero-width&nbsp;assertions.</span><br>
<span class="lineno"></span><span class="comment" id="3660792">//&nbsp;These&nbsp;assertions&nbsp;are&nbsp;ASCII-only:&nbsp;the&nbsp;word&nbsp;characters&nbsp;are&nbsp;[A-Za-z0-9_].</span><br>
<span class="lineno"></span><span class="keyword" id="3660866">func</span>&nbsp;<span class="ident" id="3660871">IsWordChar</span><span class="op" id="3660881">(</span><span class="ident" id="3660882">r</span>&nbsp;<span class="builtintype" id="3660884">rune</span><span class="op" id="3660888">)</span>&nbsp;<span class="builtintype" id="3660890">bool</span>&nbsp;<span class="op" id="3660895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3660898">return</span>&nbsp;<span class="string" id="3660905">&#39;A&#39;</span>&nbsp;<span class="op" id="3660909">&lt;=</span>&nbsp;<span class="ident" id="3660912"><a href="/gostd/regexp/syntax/prog.go.html#3660882">r</a></span>&nbsp;<span class="op" id="3660914">&amp;&amp;</span>&nbsp;<span class="ident" id="3660917"><a href="/gostd/regexp/syntax/prog.go.html#3660882">r</a></span>&nbsp;<span class="op" id="3660919">&lt;=</span>&nbsp;<span class="string" id="3660922">&#39;Z&#39;</span>&nbsp;<span class="op" id="3660926">||</span>&nbsp;<span class="string" id="3660929">&#39;a&#39;</span>&nbsp;<span class="op" id="3660933">&lt;=</span>&nbsp;<span class="ident" id="3660936"><a href="/gostd/regexp/syntax/prog.go.html#3660882">r</a></span>&nbsp;<span class="op" id="3660938">&amp;&amp;</span>&nbsp;<span class="ident" id="3660941"><a href="/gostd/regexp/syntax/prog.go.html#3660882">r</a></span>&nbsp;<span class="op" id="3660943">&lt;=</span>&nbsp;<span class="string" id="3660946">&#39;z&#39;</span>&nbsp;<span class="op" id="3660950">||</span>&nbsp;<span class="string" id="3660953">&#39;0&#39;</span>&nbsp;<span class="op" id="3660957">&lt;=</span>&nbsp;<span class="ident" id="3660960"><a href="/gostd/regexp/syntax/prog.go.html#3660882">r</a></span>&nbsp;<span class="op" id="3660962">&amp;&amp;</span>&nbsp;<span class="ident" id="3660965"><a href="/gostd/regexp/syntax/prog.go.html#3660882">r</a></span>&nbsp;<span class="op" id="3660967">&lt;=</span>&nbsp;<span class="string" id="3660970">&#39;9&#39;</span>&nbsp;<span class="op" id="3660974">||</span>&nbsp;<span class="ident" id="3660977"><a href="/gostd/regexp/syntax/prog.go.html#3660882">r</a></span>&nbsp;<span class="op" id="3660979">==</span>&nbsp;<span class="string" id="3660982">&#39;_&#39;</span><br>
<span class="lineno"></span><span class="op" id="3660986">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="3660989">//&nbsp;An&nbsp;Inst&nbsp;is&nbsp;a&nbsp;single&nbsp;instruction&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="3661057">type</span>&nbsp;<span class="ident" id="3661062">Inst</span>&nbsp;<span class="keyword" id="3661067">struct</span>&nbsp;<span class="op" id="3661074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661077">Op</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3661082"><a href="/gostd/regexp/syntax/prog.go.html#3659177">InstOp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661090">Out</span>&nbsp;&nbsp;<span class="builtintype" id="3661095">uint32</span>&nbsp;<span class="comment" id="3661102">//&nbsp;all&nbsp;but&nbsp;InstMatch,&nbsp;InstFail</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661134">Arg</span>&nbsp;&nbsp;<span class="builtintype" id="3661139">uint32</span>&nbsp;<span class="comment" id="3661146">//&nbsp;InstAlt,&nbsp;InstAltMatch,&nbsp;InstCapture,&nbsp;InstEmptyWidth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661201">Rune</span>&nbsp;<span class="op" id="3661206">[</span><span class="op" id="3661207">]</span><span class="builtintype" id="3661208">rune</span><br>
<span class="lineno"></span><span class="op" id="3661213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3661216">func</span>&nbsp;<span class="op" id="3661221">(</span><span class="ident" id="3661222">p</span>&nbsp;<span class="op" id="3661224">*</span><span class="ident" id="3661225"><a href="/gostd/regexp/syntax/prog.go.html#3659010">Prog</a></span><span class="op" id="3661229">)</span>&nbsp;<span class="ident" id="3661231">String</span><span class="op" id="3661237">(</span><span class="op" id="3661238">)</span>&nbsp;<span class="builtintype" id="3661240">string</span>&nbsp;<span class="op" id="3661247">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3661250">var</span>&nbsp;<span class="ident" id="3661254">b</span>&nbsp;<span class="ident" id="3661256"><a href="/gostd/regexp/syntax/prog.go.html#3658839">bytes</a></span><span class="op" id="3661261">.</span><span class="ident" id="3661262"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661270"><a href="/gostd/regexp/syntax/prog.go.html#3665279">dumpProg</a></span><span class="op" id="3661278">(</span><span class="op" id="3661279">&amp;</span><span class="ident" id="3661280"><a href="/gostd/regexp/syntax/prog.go.html#3661254">b</a></span><span class="op" id="3661281">,</span>&nbsp;<span class="ident" id="3661283"><a href="/gostd/regexp/syntax/prog.go.html#3661222">p</a></span><span class="op" id="3661284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3661287">return</span>&nbsp;<span class="ident" id="3661294"><a href="/gostd/regexp/syntax/prog.go.html#3661254">b</a></span><span class="op" id="3661295">.</span><span class="ident" id="3661296"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="3661302">(</span><span class="op" id="3661303">)</span><br>
<span class="lineno"></span><span class="op" id="3661305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="comment" id="3661308">//&nbsp;skipNop&nbsp;follows&nbsp;any&nbsp;no-op&nbsp;or&nbsp;capturing&nbsp;instructions</span><br>
<span class="lineno"></span><span class="comment" id="3661363">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;pc.</span><br>
<span class="lineno"></span><span class="keyword" id="3661396">func</span>&nbsp;<span class="op" id="3661401">(</span><span class="ident" id="3661402">p</span>&nbsp;<span class="op" id="3661404">*</span><span class="ident" id="3661405"><a href="/gostd/regexp/syntax/prog.go.html#3659010">Prog</a></span><span class="op" id="3661409">)</span>&nbsp;<span class="ident" id="3661411">skipNop</span><span class="op" id="3661418">(</span><span class="ident" id="3661419">pc</span>&nbsp;<span class="builtintype" id="3661422">uint32</span><span class="op" id="3661428">)</span>&nbsp;<span class="op" id="3661430">(</span><span class="op" id="3661431">*</span><span class="ident" id="3661432"><a href="/gostd/regexp/syntax/prog.go.html#3661062">Inst</a></span><span class="op" id="3661436">,</span>&nbsp;<span class="builtintype" id="3661438">uint32</span><span class="op" id="3661444">)</span>&nbsp;<span class="op" id="3661446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661449">i</span>&nbsp;<span class="op" id="3661451">:=</span>&nbsp;<span class="op" id="3661454">&amp;</span><span class="ident" id="3661455"><a href="/gostd/regexp/syntax/prog.go.html#3661402">p</a></span><span class="op" id="3661456">.</span><span class="ident" id="3661457"><a href="/gostd/regexp/syntax/prog.go.html#3659025">Inst</a></span><span class="op" id="3661461">[</span><span class="ident" id="3661462"><a href="/gostd/regexp/syntax/prog.go.html#3661419">pc</a></span><span class="op" id="3661464">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3661467">for</span>&nbsp;<span class="ident" id="3661471"><a href="/gostd/regexp/syntax/prog.go.html#3661449">i</a></span><span class="op" id="3661472">.</span><span class="ident" id="3661473"><a href="/gostd/regexp/syntax/prog.go.html#3661077">Op</a></span>&nbsp;<span class="op" id="3661476">==</span>&nbsp;<span class="ident" id="3661479"><a href="/gostd/regexp/syntax/prog.go.html#3659287">InstNop</a></span>&nbsp;<span class="op" id="3661487">||</span>&nbsp;<span class="ident" id="3661490"><a href="/gostd/regexp/syntax/prog.go.html#3661449">i</a></span><span class="op" id="3661491">.</span><span class="ident" id="3661492"><a href="/gostd/regexp/syntax/prog.go.html#3661077">Op</a></span>&nbsp;<span class="op" id="3661495">==</span>&nbsp;<span class="ident" id="3661498"><a href="/gostd/regexp/syntax/prog.go.html#3659237">InstCapture</a></span>&nbsp;<span class="op" id="3661510">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661514"><a href="/gostd/regexp/syntax/prog.go.html#3661419">pc</a></span>&nbsp;<span class="op" id="3661517">=</span>&nbsp;<span class="ident" id="3661519"><a href="/gostd/regexp/syntax/prog.go.html#3661449">i</a></span><span class="op" id="3661520">.</span><span class="ident" id="3661521"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661527"><a href="/gostd/regexp/syntax/prog.go.html#3661449">i</a></span>&nbsp;<span class="op" id="3661529">=</span>&nbsp;<span class="op" id="3661531">&amp;</span><span class="ident" id="3661532"><a href="/gostd/regexp/syntax/prog.go.html#3661402">p</a></span><span class="op" id="3661533">.</span><span class="ident" id="3661534"><a href="/gostd/regexp/syntax/prog.go.html#3659025">Inst</a></span><span class="op" id="3661538">[</span><span class="ident" id="3661539"><a href="/gostd/regexp/syntax/prog.go.html#3661419">pc</a></span><span class="op" id="3661541">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3661544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3661547">return</span>&nbsp;<span class="ident" id="3661554"><a href="/gostd/regexp/syntax/prog.go.html#3661449">i</a></span><span class="op" id="3661555">,</span>&nbsp;<span class="ident" id="3661557"><a href="/gostd/regexp/syntax/prog.go.html#3661419">pc</a></span><br>
<span class="lineno"></span><span class="op" id="3661560">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="comment" id="3661563">//&nbsp;op&nbsp;returns&nbsp;i.Op&nbsp;but&nbsp;merges&nbsp;all&nbsp;the&nbsp;Rune&nbsp;special&nbsp;cases&nbsp;into&nbsp;InstRune</span><br>
<span class="lineno"></span><span class="keyword" id="3661634">func</span>&nbsp;<span class="op" id="3661639">(</span><span class="ident" id="3661640">i</span>&nbsp;<span class="op" id="3661642">*</span><span class="ident" id="3661643"><a href="/gostd/regexp/syntax/prog.go.html#3661062">Inst</a></span><span class="op" id="3661647">)</span>&nbsp;<span class="ident" id="3661649">op</span><span class="op" id="3661651">(</span><span class="op" id="3661652">)</span>&nbsp;<span class="ident" id="3661654"><a href="/gostd/regexp/syntax/prog.go.html#3659177">InstOp</a></span>&nbsp;<span class="op" id="3661661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661664">op</span>&nbsp;<span class="op" id="3661667">:=</span>&nbsp;<span class="ident" id="3661670"><a href="/gostd/regexp/syntax/prog.go.html#3661640">i</a></span><span class="op" id="3661671">.</span><span class="ident" id="3661672"><a href="/gostd/regexp/syntax/prog.go.html#3661077">Op</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3661676">switch</span>&nbsp;<span class="ident" id="3661683"><a href="/gostd/regexp/syntax/prog.go.html#3661664">op</a></span>&nbsp;<span class="op" id="3661686">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3661689">case</span>&nbsp;<span class="ident" id="3661694"><a href="/gostd/regexp/syntax/prog.go.html#3659306">InstRune1</a></span><span class="op" id="3661703">,</span>&nbsp;<span class="ident" id="3661705"><a href="/gostd/regexp/syntax/prog.go.html#3659317">InstRuneAny</a></span><span class="op" id="3661716">,</span>&nbsp;<span class="ident" id="3661718"><a href="/gostd/regexp/syntax/prog.go.html#3659330">InstRuneAnyNotNL</a></span><span class="op" id="3661734">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661738"><a href="/gostd/regexp/syntax/prog.go.html#3661664">op</a></span>&nbsp;<span class="op" id="3661741">=</span>&nbsp;<span class="ident" id="3661743"><a href="/gostd/regexp/syntax/prog.go.html#3659296">InstRune</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3661753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3661756">return</span>&nbsp;<span class="ident" id="3661763"><a href="/gostd/regexp/syntax/prog.go.html#3661664">op</a></span><br>
<span class="lineno"></span><span class="op" id="3661766">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="3661769">//&nbsp;Prefix&nbsp;returns&nbsp;a&nbsp;literal&nbsp;string&nbsp;that&nbsp;all&nbsp;matches&nbsp;for&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3661829">//&nbsp;regexp&nbsp;must&nbsp;start&nbsp;with.&nbsp;&nbsp;Complete&nbsp;is&nbsp;true&nbsp;if&nbsp;the&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="3661888">//&nbsp;is&nbsp;the&nbsp;entire&nbsp;match.</span><br>
<span class="lineno"></span><span class="keyword" id="3661912">func</span>&nbsp;<span class="op" id="3661917">(</span><span class="ident" id="3661918">p</span>&nbsp;<span class="op" id="3661920">*</span><span class="ident" id="3661921"><a href="/gostd/regexp/syntax/prog.go.html#3659010">Prog</a></span><span class="op" id="3661925">)</span>&nbsp;<span class="ident" id="3661927">Prefix</span><span class="op" id="3661933">(</span><span class="op" id="3661934">)</span>&nbsp;<span class="op" id="3661936">(</span><span class="ident" id="3661937">prefix</span>&nbsp;<span class="builtintype" id="3661944">string</span><span class="op" id="3661950">,</span>&nbsp;<span class="ident" id="3661952">complete</span>&nbsp;<span class="builtintype" id="3661961">bool</span><span class="op" id="3661965">)</span>&nbsp;<span class="op" id="3661967">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3661970">i</span><span class="op" id="3661971">,</span>&nbsp;<span class="ident" id="3661973">_</span>&nbsp;<span class="op" id="3661975">:=</span>&nbsp;<span class="ident" id="3661978"><a href="/gostd/regexp/syntax/prog.go.html#3661918">p</a></span><span class="op" id="3661979">.</span><span class="ident" id="3661980"><a href="/gostd/regexp/syntax/prog.go.html#3661411">skipNop</a></span><span class="op" id="3661987">(</span><span class="builtintype" id="3661988">uint32</span><span class="op" id="3661994">(</span><span class="ident" id="3661995"><a href="/gostd/regexp/syntax/prog.go.html#3661918">p</a></span><span class="op" id="3661996">.</span><span class="ident" id="3661997"><a href="/gostd/regexp/syntax/prog.go.html#3659040">Start</a></span><span class="op" id="3662002">)</span><span class="op" id="3662003">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3662007">//&nbsp;Avoid&nbsp;allocation&nbsp;of&nbsp;buffer&nbsp;if&nbsp;prefix&nbsp;is&nbsp;empty.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662058">if</span>&nbsp;<span class="ident" id="3662061"><a href="/gostd/regexp/syntax/prog.go.html#3661970">i</a></span><span class="op" id="3662062">.</span><span class="ident" id="3662063"><a href="/gostd/regexp/syntax/prog.go.html#3661649">op</a></span><span class="op" id="3662065">(</span><span class="op" id="3662066">)</span>&nbsp;<span class="op" id="3662068">!=</span>&nbsp;<span class="ident" id="3662071"><a href="/gostd/regexp/syntax/prog.go.html#3659296">InstRune</a></span>&nbsp;<span class="op" id="3662080">||</span>&nbsp;<span class="builtinfunc" id="3662083">len</span><span class="op" id="3662086">(</span><span class="ident" id="3662087"><a href="/gostd/regexp/syntax/prog.go.html#3661970">i</a></span><span class="op" id="3662088">.</span><span class="ident" id="3662089"><a href="/gostd/regexp/syntax/prog.go.html#3661201">Rune</a></span><span class="op" id="3662093">)</span>&nbsp;<span class="op" id="3662095">!=</span>&nbsp;<span class="num" id="3662098">1</span>&nbsp;<span class="op" id="3662100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662104">return</span>&nbsp;<span class="string" id="3662111">&#34;&#34;</span><span class="op" id="3662113">,</span>&nbsp;<span class="ident" id="3662115"><a href="/gostd/regexp/syntax/prog.go.html#3661970">i</a></span><span class="op" id="3662116">.</span><span class="ident" id="3662117"><a href="/gostd/regexp/syntax/prog.go.html#3661077">Op</a></span>&nbsp;<span class="op" id="3662120">==</span>&nbsp;<span class="ident" id="3662123"><a href="/gostd/regexp/syntax/prog.go.html#3659266">InstMatch</a></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3662134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3662138">//&nbsp;Have&nbsp;prefix;&nbsp;gather&nbsp;characters.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662174">var</span>&nbsp;<span class="ident" id="3662178">buf</span>&nbsp;<span class="ident" id="3662182"><a href="/gostd/regexp/syntax/prog.go.html#3658839">bytes</a></span><span class="op" id="3662187">.</span><span class="ident" id="3662188"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662196">for</span>&nbsp;<span class="ident" id="3662200"><a href="/gostd/regexp/syntax/prog.go.html#3661970">i</a></span><span class="op" id="3662201">.</span><span class="ident" id="3662202"><a href="/gostd/regexp/syntax/prog.go.html#3661649">op</a></span><span class="op" id="3662204">(</span><span class="op" id="3662205">)</span>&nbsp;<span class="op" id="3662207">==</span>&nbsp;<span class="ident" id="3662210"><a href="/gostd/regexp/syntax/prog.go.html#3659296">InstRune</a></span>&nbsp;<span class="op" id="3662219">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3662222">len</span><span class="op" id="3662225">(</span><span class="ident" id="3662226"><a href="/gostd/regexp/syntax/prog.go.html#3661970">i</a></span><span class="op" id="3662227">.</span><span class="ident" id="3662228"><a href="/gostd/regexp/syntax/prog.go.html#3661201">Rune</a></span><span class="op" id="3662232">)</span>&nbsp;<span class="op" id="3662234">==</span>&nbsp;<span class="num" id="3662237">1</span>&nbsp;<span class="op" id="3662239">&amp;&amp;</span>&nbsp;<span class="ident" id="3662242"><a href="/gostd/regexp/syntax/parse.go.html#3611149">Flags</a></span><span class="op" id="3662247">(</span><span class="ident" id="3662248"><a href="/gostd/regexp/syntax/prog.go.html#3661970">i</a></span><span class="op" id="3662249">.</span><span class="ident" id="3662250"><a href="/gostd/regexp/syntax/prog.go.html#3661134">Arg</a></span><span class="op" id="3662253">)</span><span class="op" id="3662254">&amp;</span><span class="ident" id="3662255"><a href="/gostd/regexp/syntax/parse.go.html#3611172">FoldCase</a></span>&nbsp;<span class="op" id="3662264">==</span>&nbsp;<span class="num" id="3662267">0</span>&nbsp;<span class="op" id="3662269">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3662273"><a href="/gostd/regexp/syntax/prog.go.html#3662178">buf</a></span><span class="op" id="3662276">.</span><span class="ident" id="3662277"><a href="/gostd/bytes/buffer.go.html#1390522">WriteRune</a></span><span class="op" id="3662286">(</span><span class="ident" id="3662287"><a href="/gostd/regexp/syntax/prog.go.html#3661970">i</a></span><span class="op" id="3662288">.</span><span class="ident" id="3662289"><a href="/gostd/regexp/syntax/prog.go.html#3661201">Rune</a></span><span class="op" id="3662293">[</span><span class="num" id="3662294">0</span><span class="op" id="3662295">]</span><span class="op" id="3662296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3662300"><a href="/gostd/regexp/syntax/prog.go.html#3661970">i</a></span><span class="op" id="3662301">,</span>&nbsp;<span class="ident" id="3662303">_</span>&nbsp;<span class="op" id="3662305">=</span>&nbsp;<span class="ident" id="3662307"><a href="/gostd/regexp/syntax/prog.go.html#3661918">p</a></span><span class="op" id="3662308">.</span><span class="ident" id="3662309"><a href="/gostd/regexp/syntax/prog.go.html#3661411">skipNop</a></span><span class="op" id="3662316">(</span><span class="ident" id="3662317"><a href="/gostd/regexp/syntax/prog.go.html#3661970">i</a></span><span class="op" id="3662318">.</span><span class="ident" id="3662319"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><span class="op" id="3662322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3662325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662328">return</span>&nbsp;<span class="ident" id="3662335"><a href="/gostd/regexp/syntax/prog.go.html#3662178">buf</a></span><span class="op" id="3662338">.</span><span class="ident" id="3662339"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="3662345">(</span><span class="op" id="3662346">)</span><span class="op" id="3662347">,</span>&nbsp;<span class="ident" id="3662349"><a href="/gostd/regexp/syntax/prog.go.html#3661970">i</a></span><span class="op" id="3662350">.</span><span class="ident" id="3662351"><a href="/gostd/regexp/syntax/prog.go.html#3661077">Op</a></span>&nbsp;<span class="op" id="3662354">==</span>&nbsp;<span class="ident" id="3662357"><a href="/gostd/regexp/syntax/prog.go.html#3659266">InstMatch</a></span><br>
<span class="lineno"></span><span class="op" id="3662367">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="comment" id="3662370">//&nbsp;StartCond&nbsp;returns&nbsp;the&nbsp;leading&nbsp;empty-width&nbsp;conditions&nbsp;that&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="3662436">//&nbsp;be&nbsp;true&nbsp;in&nbsp;any&nbsp;match.&nbsp;&nbsp;It&nbsp;returns&nbsp;^EmptyOp(0)&nbsp;if&nbsp;no&nbsp;matches&nbsp;are&nbsp;possible.</span><br>
<span class="lineno"></span><span class="keyword" id="3662513">func</span>&nbsp;<span class="op" id="3662518">(</span><span class="ident" id="3662519">p</span>&nbsp;<span class="op" id="3662521">*</span><span class="ident" id="3662522"><a href="/gostd/regexp/syntax/prog.go.html#3659010">Prog</a></span><span class="op" id="3662526">)</span>&nbsp;<span class="ident" id="3662528">StartCond</span><span class="op" id="3662537">(</span><span class="op" id="3662538">)</span>&nbsp;<span class="ident" id="3662540"><a href="/gostd/regexp/syntax/prog.go.html#3659736">EmptyOp</a></span>&nbsp;<span class="op" id="3662548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662551">var</span>&nbsp;<span class="ident" id="3662555">flag</span>&nbsp;<span class="ident" id="3662560"><a href="/gostd/regexp/syntax/prog.go.html#3659736">EmptyOp</a></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3662569">pc</span>&nbsp;<span class="op" id="3662572">:=</span>&nbsp;<span class="builtintype" id="3662575">uint32</span><span class="op" id="3662581">(</span><span class="ident" id="3662582"><a href="/gostd/regexp/syntax/prog.go.html#3662519">p</a></span><span class="op" id="3662583">.</span><span class="ident" id="3662584"><a href="/gostd/regexp/syntax/prog.go.html#3659040">Start</a></span><span class="op" id="3662589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3662592">i</span>&nbsp;<span class="op" id="3662594">:=</span>&nbsp;<span class="op" id="3662597">&amp;</span><span class="ident" id="3662598"><a href="/gostd/regexp/syntax/prog.go.html#3662519">p</a></span><span class="op" id="3662599">.</span><span class="ident" id="3662600"><a href="/gostd/regexp/syntax/prog.go.html#3659025">Inst</a></span><span class="op" id="3662604">[</span><span class="ident" id="3662605"><a href="/gostd/regexp/syntax/prog.go.html#3662569">pc</a></span><span class="op" id="3662607">]</span><br>
<span class="lineno"></span><span class="ident" id="3662609">Loop</span><span class="op" id="3662613">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662616">for</span>&nbsp;<span class="op" id="3662620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662624">switch</span>&nbsp;<span class="ident" id="3662631"><a href="/gostd/regexp/syntax/prog.go.html#3662592">i</a></span><span class="op" id="3662632">.</span><span class="ident" id="3662633"><a href="/gostd/regexp/syntax/prog.go.html#3661077">Op</a></span>&nbsp;<span class="op" id="3662636">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662640">case</span>&nbsp;<span class="ident" id="3662645"><a href="/gostd/regexp/syntax/prog.go.html#3659250">InstEmptyWidth</a></span><span class="op" id="3662659">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3662664"><a href="/gostd/regexp/syntax/prog.go.html#3662555">flag</a></span>&nbsp;<span class="op" id="3662669">|=</span>&nbsp;<span class="ident" id="3662672"><a href="/gostd/regexp/syntax/prog.go.html#3659736">EmptyOp</a></span><span class="op" id="3662679">(</span><span class="ident" id="3662680"><a href="/gostd/regexp/syntax/prog.go.html#3662592">i</a></span><span class="op" id="3662681">.</span><span class="ident" id="3662682"><a href="/gostd/regexp/syntax/prog.go.html#3661134">Arg</a></span><span class="op" id="3662685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662689">case</span>&nbsp;<span class="ident" id="3662694"><a href="/gostd/regexp/syntax/prog.go.html#3659277">InstFail</a></span><span class="op" id="3662702">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662707">return</span>&nbsp;<span class="op" id="3662714">^</span><span class="ident" id="3662715"><a href="/gostd/regexp/syntax/prog.go.html#3659736">EmptyOp</a></span><span class="op" id="3662722">(</span><span class="num" id="3662723">0</span><span class="op" id="3662724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662728">case</span>&nbsp;<span class="ident" id="3662733"><a href="/gostd/regexp/syntax/prog.go.html#3659237">InstCapture</a></span><span class="op" id="3662744">,</span>&nbsp;<span class="ident" id="3662746"><a href="/gostd/regexp/syntax/prog.go.html#3659287">InstNop</a></span><span class="op" id="3662753">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3662758">//&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662768">default</span><span class="op" id="3662775">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662780">break</span>&nbsp;<span class="ident" id="3662786"><a href="/gostd/regexp/syntax/prog.go.html#3662609">Loop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3662793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3662797"><a href="/gostd/regexp/syntax/prog.go.html#3662569">pc</a></span>&nbsp;<span class="op" id="3662800">=</span>&nbsp;<span class="ident" id="3662802"><a href="/gostd/regexp/syntax/prog.go.html#3662592">i</a></span><span class="op" id="3662803">.</span><span class="ident" id="3662804"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3662810"><a href="/gostd/regexp/syntax/prog.go.html#3662592">i</a></span>&nbsp;<span class="op" id="3662812">=</span>&nbsp;<span class="op" id="3662814">&amp;</span><span class="ident" id="3662815"><a href="/gostd/regexp/syntax/prog.go.html#3662519">p</a></span><span class="op" id="3662816">.</span><span class="ident" id="3662817"><a href="/gostd/regexp/syntax/prog.go.html#3659025">Inst</a></span><span class="op" id="3662821">[</span><span class="ident" id="3662822"><a href="/gostd/regexp/syntax/prog.go.html#3662569">pc</a></span><span class="op" id="3662824">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3662827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3662830">return</span>&nbsp;<span class="ident" id="3662837"><a href="/gostd/regexp/syntax/prog.go.html#3662555">flag</a></span><br>
<span class="lineno"></span><span class="op" id="3662842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="3662845">const</span>&nbsp;<span class="ident" id="3662851">noMatch</span>&nbsp;<span class="op" id="3662859">=</span>&nbsp;<span class="op" id="3662861">-</span><span class="num" id="3662862">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3662865">//&nbsp;MatchRune&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;instruction&nbsp;matches&nbsp;(and&nbsp;consumes)&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="3662936">//&nbsp;It&nbsp;should&nbsp;only&nbsp;be&nbsp;called&nbsp;when&nbsp;i.Op&nbsp;==&nbsp;InstRune.</span><br>
<span class="lineno"></span><span class="keyword" id="3662987">func</span>&nbsp;<span class="op" id="3662992">(</span><span class="ident" id="3662993">i</span>&nbsp;<span class="op" id="3662995">*</span><span class="ident" id="3662996"><a href="/gostd/regexp/syntax/prog.go.html#3661062">Inst</a></span><span class="op" id="3663000">)</span>&nbsp;<span class="ident" id="3663002">MatchRune</span><span class="op" id="3663011">(</span><span class="ident" id="3663012">r</span>&nbsp;<span class="builtintype" id="3663014">rune</span><span class="op" id="3663018">)</span>&nbsp;<span class="builtintype" id="3663020">bool</span>&nbsp;<span class="op" id="3663025">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663028">return</span>&nbsp;<span class="ident" id="3663035"><a href="/gostd/regexp/syntax/prog.go.html#3662993">i</a></span><span class="op" id="3663036">.</span><span class="ident" id="3663037"><a href="/gostd/regexp/syntax/prog.go.html#3663367">MatchRunePos</a></span><span class="op" id="3663049">(</span><span class="ident" id="3663050"><a href="/gostd/regexp/syntax/prog.go.html#3663012">r</a></span><span class="op" id="3663051">)</span>&nbsp;<span class="op" id="3663053">!=</span>&nbsp;<span class="ident" id="3663056"><a href="/gostd/regexp/syntax/prog.go.html#3662851">noMatch</a></span><br>
<span class="lineno"></span><span class="op" id="3663064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3663067">//&nbsp;MatchRunePos&nbsp;checks&nbsp;whether&nbsp;the&nbsp;instruction&nbsp;matches&nbsp;(and&nbsp;consumes)&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="3663140">//&nbsp;If&nbsp;so,&nbsp;MatchRunePos&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;matching&nbsp;rune&nbsp;pair</span><br>
<span class="lineno">200</span><span class="comment" id="3663207">//&nbsp;(or,&nbsp;when&nbsp;len(i.Rune)&nbsp;==&nbsp;1,&nbsp;rune&nbsp;singleton).</span><br>
<span class="lineno"></span><span class="comment" id="3663255">//&nbsp;If&nbsp;not,&nbsp;MatchRunePos&nbsp;returns&nbsp;-1.</span><br>
<span class="lineno"></span><span class="comment" id="3663291">//&nbsp;MatchRunePos&nbsp;should&nbsp;only&nbsp;be&nbsp;called&nbsp;when&nbsp;i.Op&nbsp;==&nbsp;InstRune.</span><br>
<span class="lineno"></span><span class="keyword" id="3663352">func</span>&nbsp;<span class="op" id="3663357">(</span><span class="ident" id="3663358">i</span>&nbsp;<span class="op" id="3663360">*</span><span class="ident" id="3663361"><a href="/gostd/regexp/syntax/prog.go.html#3661062">Inst</a></span><span class="op" id="3663365">)</span>&nbsp;<span class="ident" id="3663367">MatchRunePos</span><span class="op" id="3663379">(</span><span class="ident" id="3663380">r</span>&nbsp;<span class="builtintype" id="3663382">rune</span><span class="op" id="3663386">)</span>&nbsp;<span class="builtintype" id="3663388">int</span>&nbsp;<span class="op" id="3663392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3663395">rune</span>&nbsp;<span class="op" id="3663400">:=</span>&nbsp;<span class="ident" id="3663403"><a href="/gostd/regexp/syntax/prog.go.html#3663358">i</a></span><span class="op" id="3663404">.</span><span class="ident" id="3663405"><a href="/gostd/regexp/syntax/prog.go.html#3661201">Rune</a></span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3663412">//&nbsp;Special&nbsp;case:&nbsp;single-rune&nbsp;slice&nbsp;is&nbsp;from&nbsp;literal&nbsp;string,&nbsp;not&nbsp;char&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663488">if</span>&nbsp;<span class="builtinfunc" id="3663491">len</span><span class="op" id="3663494">(</span><span class="builtintype" id="3663495"><a href="/gostd/regexp/syntax/prog.go.html#3663395">rune</a></span><span class="op" id="3663499">)</span>&nbsp;<span class="op" id="3663501">==</span>&nbsp;<span class="num" id="3663504">1</span>&nbsp;<span class="op" id="3663506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3663510">r0</span>&nbsp;<span class="op" id="3663513">:=</span>&nbsp;<span class="builtintype" id="3663516"><a href="/gostd/regexp/syntax/prog.go.html#3663395">rune</a></span><span class="op" id="3663520">[</span><span class="num" id="3663521">0</span><span class="op" id="3663522">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663526">if</span>&nbsp;<span class="ident" id="3663529"><a href="/gostd/regexp/syntax/prog.go.html#3663380">r</a></span>&nbsp;<span class="op" id="3663531">==</span>&nbsp;<span class="ident" id="3663534"><a href="/gostd/regexp/syntax/prog.go.html#3663510">r0</a></span>&nbsp;<span class="op" id="3663537">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663542">return</span>&nbsp;<span class="num" id="3663549">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3663553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663557">if</span>&nbsp;<span class="ident" id="3663560"><a href="/gostd/regexp/syntax/parse.go.html#3611149">Flags</a></span><span class="op" id="3663565">(</span><span class="ident" id="3663566"><a href="/gostd/regexp/syntax/prog.go.html#3663358">i</a></span><span class="op" id="3663567">.</span><span class="ident" id="3663568"><a href="/gostd/regexp/syntax/prog.go.html#3661134">Arg</a></span><span class="op" id="3663571">)</span><span class="op" id="3663572">&amp;</span><span class="ident" id="3663573"><a href="/gostd/regexp/syntax/parse.go.html#3611172">FoldCase</a></span>&nbsp;<span class="op" id="3663582">!=</span>&nbsp;<span class="num" id="3663585">0</span>&nbsp;<span class="op" id="3663587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663592">for</span>&nbsp;<span class="ident" id="3663596">r1</span>&nbsp;<span class="op" id="3663599">:=</span>&nbsp;<span class="ident" id="3663602"><a href="/gostd/regexp/syntax/prog.go.html#3658859">unicode</a></span><span class="op" id="3663609">.</span><span class="ident" id="3663610"><a href="/gostd/unicode/letter.go.html#1830259">SimpleFold</a></span><span class="op" id="3663620">(</span><span class="ident" id="3663621"><a href="/gostd/regexp/syntax/prog.go.html#3663510">r0</a></span><span class="op" id="3663623">)</span><span class="op" id="3663624">;</span>&nbsp;<span class="ident" id="3663626"><a href="/gostd/regexp/syntax/prog.go.html#3663596">r1</a></span>&nbsp;<span class="op" id="3663629">!=</span>&nbsp;<span class="ident" id="3663632"><a href="/gostd/regexp/syntax/prog.go.html#3663510">r0</a></span><span class="op" id="3663634">;</span>&nbsp;<span class="ident" id="3663636"><a href="/gostd/regexp/syntax/prog.go.html#3663596">r1</a></span>&nbsp;<span class="op" id="3663639">=</span>&nbsp;<span class="ident" id="3663641"><a href="/gostd/regexp/syntax/prog.go.html#3658859">unicode</a></span><span class="op" id="3663648">.</span><span class="ident" id="3663649"><a href="/gostd/unicode/letter.go.html#1830259">SimpleFold</a></span><span class="op" id="3663659">(</span><span class="ident" id="3663660"><a href="/gostd/regexp/syntax/prog.go.html#3663596">r1</a></span><span class="op" id="3663662">)</span>&nbsp;<span class="op" id="3663664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663670">if</span>&nbsp;<span class="ident" id="3663673"><a href="/gostd/regexp/syntax/prog.go.html#3663380">r</a></span>&nbsp;<span class="op" id="3663675">==</span>&nbsp;<span class="ident" id="3663678"><a href="/gostd/regexp/syntax/prog.go.html#3663596">r1</a></span>&nbsp;<span class="op" id="3663681">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663688">return</span>&nbsp;<span class="num" id="3663695">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3663701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3663706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3663710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663714">return</span>&nbsp;<span class="ident" id="3663721"><a href="/gostd/regexp/syntax/prog.go.html#3662851">noMatch</a></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3663730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3663734">//&nbsp;Peek&nbsp;at&nbsp;the&nbsp;first&nbsp;few&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3663767">//&nbsp;Should&nbsp;handle&nbsp;ASCII&nbsp;well.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663797">for</span>&nbsp;<span class="ident" id="3663801">j</span>&nbsp;<span class="op" id="3663803">:=</span>&nbsp;<span class="num" id="3663806">0</span><span class="op" id="3663807">;</span>&nbsp;<span class="ident" id="3663809"><a href="/gostd/regexp/syntax/prog.go.html#3663801">j</a></span>&nbsp;<span class="op" id="3663811">&lt;</span>&nbsp;<span class="builtinfunc" id="3663813">len</span><span class="op" id="3663816">(</span><span class="builtintype" id="3663817"><a href="/gostd/regexp/syntax/prog.go.html#3663395">rune</a></span><span class="op" id="3663821">)</span>&nbsp;<span class="op" id="3663823">&amp;&amp;</span>&nbsp;<span class="ident" id="3663826"><a href="/gostd/regexp/syntax/prog.go.html#3663801">j</a></span>&nbsp;<span class="op" id="3663828">&lt;=</span>&nbsp;<span class="num" id="3663831">8</span><span class="op" id="3663832">;</span>&nbsp;<span class="ident" id="3663834"><a href="/gostd/regexp/syntax/prog.go.html#3663801">j</a></span>&nbsp;<span class="op" id="3663836">+=</span>&nbsp;<span class="num" id="3663839">2</span>&nbsp;<span class="op" id="3663841">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663845">if</span>&nbsp;<span class="ident" id="3663848"><a href="/gostd/regexp/syntax/prog.go.html#3663380">r</a></span>&nbsp;<span class="op" id="3663850">&lt;</span>&nbsp;<span class="builtintype" id="3663852"><a href="/gostd/regexp/syntax/prog.go.html#3663395">rune</a></span><span class="op" id="3663856">[</span><span class="ident" id="3663857"><a href="/gostd/regexp/syntax/prog.go.html#3663801">j</a></span><span class="op" id="3663858">]</span>&nbsp;<span class="op" id="3663860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663865">return</span>&nbsp;<span class="ident" id="3663872"><a href="/gostd/regexp/syntax/prog.go.html#3662851">noMatch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3663882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663886">if</span>&nbsp;<span class="ident" id="3663889"><a href="/gostd/regexp/syntax/prog.go.html#3663380">r</a></span>&nbsp;<span class="op" id="3663891">&lt;=</span>&nbsp;<span class="builtintype" id="3663894"><a href="/gostd/regexp/syntax/prog.go.html#3663395">rune</a></span><span class="op" id="3663898">[</span><span class="ident" id="3663899"><a href="/gostd/regexp/syntax/prog.go.html#3663801">j</a></span><span class="op" id="3663900">+</span><span class="num" id="3663901">1</span><span class="op" id="3663902">]</span>&nbsp;<span class="op" id="3663904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663909">return</span>&nbsp;<span class="ident" id="3663916"><a href="/gostd/regexp/syntax/prog.go.html#3663801">j</a></span>&nbsp;<span class="op" id="3663918">/</span>&nbsp;<span class="num" id="3663920">2</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3663924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3663927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3663931">//&nbsp;Otherwise&nbsp;binary&nbsp;search.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3663960">lo</span>&nbsp;<span class="op" id="3663963">:=</span>&nbsp;<span class="num" id="3663966">0</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3663969">hi</span>&nbsp;<span class="op" id="3663972">:=</span>&nbsp;<span class="builtinfunc" id="3663975">len</span><span class="op" id="3663978">(</span><span class="builtintype" id="3663979"><a href="/gostd/regexp/syntax/prog.go.html#3663395">rune</a></span><span class="op" id="3663983">)</span>&nbsp;<span class="op" id="3663985">/</span>&nbsp;<span class="num" id="3663987">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3663990">for</span>&nbsp;<span class="ident" id="3663994"><a href="/gostd/regexp/syntax/prog.go.html#3663960">lo</a></span>&nbsp;<span class="op" id="3663997">&lt;</span>&nbsp;<span class="ident" id="3663999"><a href="/gostd/regexp/syntax/prog.go.html#3663969">hi</a></span>&nbsp;<span class="op" id="3664002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3664006">m</span>&nbsp;<span class="op" id="3664008">:=</span>&nbsp;<span class="ident" id="3664011"><a href="/gostd/regexp/syntax/prog.go.html#3663960">lo</a></span>&nbsp;<span class="op" id="3664014">+</span>&nbsp;<span class="op" id="3664016">(</span><span class="ident" id="3664017"><a href="/gostd/regexp/syntax/prog.go.html#3663969">hi</a></span><span class="op" id="3664019">-</span><span class="ident" id="3664020"><a href="/gostd/regexp/syntax/prog.go.html#3663960">lo</a></span><span class="op" id="3664022">)</span><span class="op" id="3664023">/</span><span class="num" id="3664024">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664028">if</span>&nbsp;<span class="ident" id="3664031">c</span>&nbsp;<span class="op" id="3664033">:=</span>&nbsp;<span class="builtintype" id="3664036"><a href="/gostd/regexp/syntax/prog.go.html#3663395">rune</a></span><span class="op" id="3664040">[</span><span class="num" id="3664041">2</span><span class="op" id="3664042">*</span><span class="ident" id="3664043"><a href="/gostd/regexp/syntax/prog.go.html#3664006">m</a></span><span class="op" id="3664044">]</span><span class="op" id="3664045">;</span>&nbsp;<span class="ident" id="3664047"><a href="/gostd/regexp/syntax/prog.go.html#3664031">c</a></span>&nbsp;<span class="op" id="3664049">&lt;=</span>&nbsp;<span class="ident" id="3664052"><a href="/gostd/regexp/syntax/prog.go.html#3663380">r</a></span>&nbsp;<span class="op" id="3664054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664059">if</span>&nbsp;<span class="ident" id="3664062"><a href="/gostd/regexp/syntax/prog.go.html#3663380">r</a></span>&nbsp;<span class="op" id="3664064">&lt;=</span>&nbsp;<span class="builtintype" id="3664067"><a href="/gostd/regexp/syntax/prog.go.html#3663395">rune</a></span><span class="op" id="3664071">[</span><span class="num" id="3664072">2</span><span class="op" id="3664073">*</span><span class="ident" id="3664074"><a href="/gostd/regexp/syntax/prog.go.html#3664006">m</a></span><span class="op" id="3664075">+</span><span class="num" id="3664076">1</span><span class="op" id="3664077">]</span>&nbsp;<span class="op" id="3664079">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664085">return</span>&nbsp;<span class="ident" id="3664092"><a href="/gostd/regexp/syntax/prog.go.html#3664006">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3664097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3664102"><a href="/gostd/regexp/syntax/prog.go.html#3663960">lo</a></span>&nbsp;<span class="op" id="3664105">=</span>&nbsp;<span class="ident" id="3664107"><a href="/gostd/regexp/syntax/prog.go.html#3664006">m</a></span>&nbsp;<span class="op" id="3664109">+</span>&nbsp;<span class="num" id="3664111">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3664115">}</span>&nbsp;<span class="keyword" id="3664117">else</span>&nbsp;<span class="op" id="3664122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3664127"><a href="/gostd/regexp/syntax/prog.go.html#3663969">hi</a></span>&nbsp;<span class="op" id="3664130">=</span>&nbsp;<span class="ident" id="3664132"><a href="/gostd/regexp/syntax/prog.go.html#3664006">m</a></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3664136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3664139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664142">return</span>&nbsp;<span class="ident" id="3664149"><a href="/gostd/regexp/syntax/prog.go.html#3662851">noMatch</a></span><br>
<span class="lineno"></span><span class="op" id="3664157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="comment" id="3664160">//&nbsp;As&nbsp;per&nbsp;re2&#39;s&nbsp;Prog::IsWordChar.&nbsp;Determines&nbsp;whether&nbsp;rune&nbsp;is&nbsp;an&nbsp;ASCII&nbsp;word&nbsp;char.</span><br>
<span class="lineno"></span><span class="comment" id="3664241">//&nbsp;Since&nbsp;we&nbsp;act&nbsp;on&nbsp;runes,&nbsp;it&nbsp;would&nbsp;be&nbsp;easy&nbsp;to&nbsp;support&nbsp;Unicode&nbsp;here.</span><br>
<span class="lineno"></span><span class="keyword" id="3664309">func</span>&nbsp;<span class="ident" id="3664314">wordRune</span><span class="op" id="3664322">(</span><span class="ident" id="3664323">r</span>&nbsp;<span class="builtintype" id="3664325">rune</span><span class="op" id="3664329">)</span>&nbsp;<span class="builtintype" id="3664331">bool</span>&nbsp;<span class="op" id="3664336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664339">return</span>&nbsp;<span class="ident" id="3664346"><a href="/gostd/regexp/syntax/prog.go.html#3664323">r</a></span>&nbsp;<span class="op" id="3664348">==</span>&nbsp;<span class="string" id="3664351">&#39;_&#39;</span>&nbsp;<span class="op" id="3664355">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3664360">(</span><span class="string" id="3664361">&#39;A&#39;</span>&nbsp;<span class="op" id="3664365">&lt;=</span>&nbsp;<span class="ident" id="3664368"><a href="/gostd/regexp/syntax/prog.go.html#3664323">r</a></span>&nbsp;<span class="op" id="3664370">&amp;&amp;</span>&nbsp;<span class="ident" id="3664373"><a href="/gostd/regexp/syntax/prog.go.html#3664323">r</a></span>&nbsp;<span class="op" id="3664375">&lt;=</span>&nbsp;<span class="string" id="3664378">&#39;Z&#39;</span><span class="op" id="3664381">)</span>&nbsp;<span class="op" id="3664383">||</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3664388">(</span><span class="string" id="3664389">&#39;a&#39;</span>&nbsp;<span class="op" id="3664393">&lt;=</span>&nbsp;<span class="ident" id="3664396"><a href="/gostd/regexp/syntax/prog.go.html#3664323">r</a></span>&nbsp;<span class="op" id="3664398">&amp;&amp;</span>&nbsp;<span class="ident" id="3664401"><a href="/gostd/regexp/syntax/prog.go.html#3664323">r</a></span>&nbsp;<span class="op" id="3664403">&lt;=</span>&nbsp;<span class="string" id="3664406">&#39;z&#39;</span><span class="op" id="3664409">)</span>&nbsp;<span class="op" id="3664411">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3664416">(</span><span class="string" id="3664417">&#39;0&#39;</span>&nbsp;<span class="op" id="3664421">&lt;=</span>&nbsp;<span class="ident" id="3664424"><a href="/gostd/regexp/syntax/prog.go.html#3664323">r</a></span>&nbsp;<span class="op" id="3664426">&amp;&amp;</span>&nbsp;<span class="ident" id="3664429"><a href="/gostd/regexp/syntax/prog.go.html#3664323">r</a></span>&nbsp;<span class="op" id="3664431">&lt;=</span>&nbsp;<span class="string" id="3664434">&#39;9&#39;</span><span class="op" id="3664437">)</span><br>
<span class="lineno"></span><span class="op" id="3664439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3664442">//&nbsp;MatchEmptyWidth&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;instruction&nbsp;matches</span><br>
<span class="lineno">260</span><span class="comment" id="3664501">//&nbsp;an&nbsp;empty&nbsp;string&nbsp;between&nbsp;the&nbsp;runes&nbsp;before&nbsp;and&nbsp;after.</span><br>
<span class="lineno"></span><span class="comment" id="3664556">//&nbsp;It&nbsp;should&nbsp;only&nbsp;be&nbsp;called&nbsp;when&nbsp;i.Op&nbsp;==&nbsp;InstEmptyWidth.</span><br>
<span class="lineno"></span><span class="keyword" id="3664613">func</span>&nbsp;<span class="op" id="3664618">(</span><span class="ident" id="3664619">i</span>&nbsp;<span class="op" id="3664621">*</span><span class="ident" id="3664622"><a href="/gostd/regexp/syntax/prog.go.html#3661062">Inst</a></span><span class="op" id="3664626">)</span>&nbsp;<span class="ident" id="3664628">MatchEmptyWidth</span><span class="op" id="3664643">(</span><span class="ident" id="3664644">before</span>&nbsp;<span class="builtintype" id="3664651">rune</span><span class="op" id="3664655">,</span>&nbsp;<span class="ident" id="3664657">after</span>&nbsp;<span class="builtintype" id="3664663">rune</span><span class="op" id="3664667">)</span>&nbsp;<span class="builtintype" id="3664669">bool</span>&nbsp;<span class="op" id="3664674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664677">switch</span>&nbsp;<span class="ident" id="3664684"><a href="/gostd/regexp/syntax/prog.go.html#3659736">EmptyOp</a></span><span class="op" id="3664691">(</span><span class="ident" id="3664692"><a href="/gostd/regexp/syntax/prog.go.html#3664619">i</a></span><span class="op" id="3664693">.</span><span class="ident" id="3664694"><a href="/gostd/regexp/syntax/prog.go.html#3661134">Arg</a></span><span class="op" id="3664697">)</span>&nbsp;<span class="op" id="3664699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664702">case</span>&nbsp;<span class="ident" id="3664707"><a href="/gostd/regexp/syntax/prog.go.html#3659760">EmptyBeginLine</a></span><span class="op" id="3664721">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664725">return</span>&nbsp;<span class="ident" id="3664732"><a href="/gostd/regexp/syntax/prog.go.html#3664644">before</a></span>&nbsp;<span class="op" id="3664739">==</span>&nbsp;<span class="string" id="3664742">&#39;\n&#39;</span>&nbsp;<span class="op" id="3664747">||</span>&nbsp;<span class="ident" id="3664750"><a href="/gostd/regexp/syntax/prog.go.html#3664644">before</a></span>&nbsp;<span class="op" id="3664757">==</span>&nbsp;<span class="op" id="3664760">-</span><span class="num" id="3664761">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664764">case</span>&nbsp;<span class="ident" id="3664769"><a href="/gostd/regexp/syntax/prog.go.html#3659796">EmptyEndLine</a></span><span class="op" id="3664781">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664785">return</span>&nbsp;<span class="ident" id="3664792"><a href="/gostd/regexp/syntax/prog.go.html#3664657">after</a></span>&nbsp;<span class="op" id="3664798">==</span>&nbsp;<span class="string" id="3664801">&#39;\n&#39;</span>&nbsp;<span class="op" id="3664806">||</span>&nbsp;<span class="ident" id="3664809"><a href="/gostd/regexp/syntax/prog.go.html#3664657">after</a></span>&nbsp;<span class="op" id="3664815">==</span>&nbsp;<span class="op" id="3664818">-</span><span class="num" id="3664819">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664822">case</span>&nbsp;<span class="ident" id="3664827"><a href="/gostd/regexp/syntax/prog.go.html#3659810">EmptyBeginText</a></span><span class="op" id="3664841">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664845">return</span>&nbsp;<span class="ident" id="3664852"><a href="/gostd/regexp/syntax/prog.go.html#3664644">before</a></span>&nbsp;<span class="op" id="3664859">==</span>&nbsp;<span class="op" id="3664862">-</span><span class="num" id="3664863">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664866">case</span>&nbsp;<span class="ident" id="3664871"><a href="/gostd/regexp/syntax/prog.go.html#3659826">EmptyEndText</a></span><span class="op" id="3664883">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664887">return</span>&nbsp;<span class="ident" id="3664894"><a href="/gostd/regexp/syntax/prog.go.html#3664657">after</a></span>&nbsp;<span class="op" id="3664900">==</span>&nbsp;<span class="op" id="3664903">-</span><span class="num" id="3664904">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664907">case</span>&nbsp;<span class="ident" id="3664912"><a href="/gostd/regexp/syntax/prog.go.html#3659840">EmptyWordBoundary</a></span><span class="op" id="3664929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664933">return</span>&nbsp;<span class="ident" id="3664940"><a href="/gostd/regexp/syntax/prog.go.html#3664314">wordRune</a></span><span class="op" id="3664948">(</span><span class="ident" id="3664949"><a href="/gostd/regexp/syntax/prog.go.html#3664644">before</a></span><span class="op" id="3664955">)</span>&nbsp;<span class="op" id="3664957">!=</span>&nbsp;<span class="ident" id="3664960"><a href="/gostd/regexp/syntax/prog.go.html#3664314">wordRune</a></span><span class="op" id="3664968">(</span><span class="ident" id="3664969"><a href="/gostd/regexp/syntax/prog.go.html#3664657">after</a></span><span class="op" id="3664974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3664977">case</span>&nbsp;<span class="ident" id="3664982"><a href="/gostd/regexp/syntax/prog.go.html#3659859">EmptyNoWordBoundary</a></span><span class="op" id="3665001">:</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665005">return</span>&nbsp;<span class="ident" id="3665012"><a href="/gostd/regexp/syntax/prog.go.html#3664314">wordRune</a></span><span class="op" id="3665020">(</span><span class="ident" id="3665021"><a href="/gostd/regexp/syntax/prog.go.html#3664644">before</a></span><span class="op" id="3665027">)</span>&nbsp;<span class="op" id="3665029">==</span>&nbsp;<span class="ident" id="3665032"><a href="/gostd/regexp/syntax/prog.go.html#3664314">wordRune</a></span><span class="op" id="3665040">(</span><span class="ident" id="3665041"><a href="/gostd/regexp/syntax/prog.go.html#3664657">after</a></span><span class="op" id="3665046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3665049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3665052">panic</span><span class="op" id="3665057">(</span><span class="string" id="3665058">&#34;unknown&nbsp;empty&nbsp;width&nbsp;arg&#34;</span><span class="op" id="3665083">)</span><br>
<span class="lineno"></span><span class="op" id="3665085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="3665088">func</span>&nbsp;<span class="op" id="3665093">(</span><span class="ident" id="3665094">i</span>&nbsp;<span class="op" id="3665096">*</span><span class="ident" id="3665097"><a href="/gostd/regexp/syntax/prog.go.html#3661062">Inst</a></span><span class="op" id="3665101">)</span>&nbsp;<span class="ident" id="3665103">String</span><span class="op" id="3665109">(</span><span class="op" id="3665110">)</span>&nbsp;<span class="builtintype" id="3665112">string</span>&nbsp;<span class="op" id="3665119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665122">var</span>&nbsp;<span class="ident" id="3665126">b</span>&nbsp;<span class="ident" id="3665128"><a href="/gostd/regexp/syntax/prog.go.html#3658839">bytes</a></span><span class="op" id="3665133">.</span><span class="ident" id="3665134"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665142"><a href="/gostd/regexp/syntax/prog.go.html#3665610">dumpInst</a></span><span class="op" id="3665150">(</span><span class="op" id="3665151">&amp;</span><span class="ident" id="3665152"><a href="/gostd/regexp/syntax/prog.go.html#3665126">b</a></span><span class="op" id="3665153">,</span>&nbsp;<span class="ident" id="3665155"><a href="/gostd/regexp/syntax/prog.go.html#3665094">i</a></span><span class="op" id="3665156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665159">return</span>&nbsp;<span class="ident" id="3665166"><a href="/gostd/regexp/syntax/prog.go.html#3665126">b</a></span><span class="op" id="3665167">.</span><span class="ident" id="3665168"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="3665174">(</span><span class="op" id="3665175">)</span><br>
<span class="lineno"></span><span class="op" id="3665177">}</span><br>
<span class="lineno">285</span><br>
<span class="lineno"></span><span class="keyword" id="3665180">func</span>&nbsp;<span class="ident" id="3665185">bw</span><span class="op" id="3665187">(</span><span class="ident" id="3665188">b</span>&nbsp;<span class="op" id="3665190">*</span><span class="ident" id="3665191"><a href="/gostd/regexp/syntax/prog.go.html#3658839">bytes</a></span><span class="op" id="3665196">.</span><span class="ident" id="3665197"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="3665203">,</span>&nbsp;<span class="ident" id="3665205">args</span>&nbsp;<span class="op" id="3665210">...</span><span class="builtintype" id="3665213">string</span><span class="op" id="3665219">)</span>&nbsp;<span class="op" id="3665221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665224">for</span>&nbsp;<span class="ident" id="3665228">_</span><span class="op" id="3665229">,</span>&nbsp;<span class="ident" id="3665231">s</span>&nbsp;<span class="op" id="3665233">:=</span>&nbsp;<span class="keyword" id="3665236">range</span>&nbsp;<span class="ident" id="3665242"><a href="/gostd/regexp/syntax/prog.go.html#3665205">args</a></span>&nbsp;<span class="op" id="3665247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665251"><a href="/gostd/regexp/syntax/prog.go.html#3665188">b</a></span><span class="op" id="3665252">.</span><span class="ident" id="3665253"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="3665264">(</span><span class="ident" id="3665265"><a href="/gostd/regexp/syntax/prog.go.html#3665231">s</a></span><span class="op" id="3665266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3665269">}</span><br>
<span class="lineno">290</span><span class="op" id="3665271">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3665274">func</span>&nbsp;<span class="ident" id="3665279">dumpProg</span><span class="op" id="3665287">(</span><span class="ident" id="3665288">b</span>&nbsp;<span class="op" id="3665290">*</span><span class="ident" id="3665291"><a href="/gostd/regexp/syntax/prog.go.html#3658839">bytes</a></span><span class="op" id="3665296">.</span><span class="ident" id="3665297"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="3665303">,</span>&nbsp;<span class="ident" id="3665305">p</span>&nbsp;<span class="op" id="3665307">*</span><span class="ident" id="3665308"><a href="/gostd/regexp/syntax/prog.go.html#3659010">Prog</a></span><span class="op" id="3665312">)</span>&nbsp;<span class="op" id="3665314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665317">for</span>&nbsp;<span class="ident" id="3665321">j</span>&nbsp;<span class="op" id="3665323">:=</span>&nbsp;<span class="keyword" id="3665326">range</span>&nbsp;<span class="ident" id="3665332"><a href="/gostd/regexp/syntax/prog.go.html#3665305">p</a></span><span class="op" id="3665333">.</span><span class="ident" id="3665334"><a href="/gostd/regexp/syntax/prog.go.html#3659025">Inst</a></span>&nbsp;<span class="op" id="3665339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665343">i</span>&nbsp;<span class="op" id="3665345">:=</span>&nbsp;<span class="op" id="3665348">&amp;</span><span class="ident" id="3665349"><a href="/gostd/regexp/syntax/prog.go.html#3665305">p</a></span><span class="op" id="3665350">.</span><span class="ident" id="3665351"><a href="/gostd/regexp/syntax/prog.go.html#3659025">Inst</a></span><span class="op" id="3665355">[</span><span class="ident" id="3665356"><a href="/gostd/regexp/syntax/prog.go.html#3665321">j</a></span><span class="op" id="3665357">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665361">pc</span>&nbsp;<span class="op" id="3665364">:=</span>&nbsp;<span class="ident" id="3665367"><a href="/gostd/regexp/syntax/prog.go.html#3658848">strconv</a></span><span class="op" id="3665374">.</span><span class="ident" id="3665375"><a href="/gostd/strconv/itoa.go.html#2407288">Itoa</a></span><span class="op" id="3665379">(</span><span class="ident" id="3665380"><a href="/gostd/regexp/syntax/prog.go.html#3665321">j</a></span><span class="op" id="3665381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665385">if</span>&nbsp;<span class="builtinfunc" id="3665388">len</span><span class="op" id="3665391">(</span><span class="ident" id="3665392"><a href="/gostd/regexp/syntax/prog.go.html#3665361">pc</a></span><span class="op" id="3665394">)</span>&nbsp;<span class="op" id="3665396">&lt;</span>&nbsp;<span class="num" id="3665398">3</span>&nbsp;<span class="op" id="3665400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665405"><a href="/gostd/regexp/syntax/prog.go.html#3665288">b</a></span><span class="op" id="3665406">.</span><span class="ident" id="3665407"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="3665418">(</span><span class="string" id="3665419">&#34;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="3665424">[</span><span class="builtinfunc" id="3665425">len</span><span class="op" id="3665428">(</span><span class="ident" id="3665429"><a href="/gostd/regexp/syntax/prog.go.html#3665361">pc</a></span><span class="op" id="3665431">)</span><span class="op" id="3665432">:</span><span class="op" id="3665433">]</span><span class="op" id="3665434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3665438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665442">if</span>&nbsp;<span class="ident" id="3665445"><a href="/gostd/regexp/syntax/prog.go.html#3665321">j</a></span>&nbsp;<span class="op" id="3665447">==</span>&nbsp;<span class="ident" id="3665450"><a href="/gostd/regexp/syntax/prog.go.html#3665305">p</a></span><span class="op" id="3665451">.</span><span class="ident" id="3665452"><a href="/gostd/regexp/syntax/prog.go.html#3659040">Start</a></span>&nbsp;<span class="op" id="3665458">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665463"><a href="/gostd/regexp/syntax/prog.go.html#3665361">pc</a></span>&nbsp;<span class="op" id="3665466">+=</span>&nbsp;<span class="string" id="3665469">&#34;*&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3665475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665479"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3665481">(</span><span class="ident" id="3665482"><a href="/gostd/regexp/syntax/prog.go.html#3665288">b</a></span><span class="op" id="3665483">,</span>&nbsp;<span class="ident" id="3665485"><a href="/gostd/regexp/syntax/prog.go.html#3665361">pc</a></span><span class="op" id="3665487">,</span>&nbsp;<span class="string" id="3665489">&#34;\t&#34;</span><span class="op" id="3665493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665497"><a href="/gostd/regexp/syntax/prog.go.html#3665610">dumpInst</a></span><span class="op" id="3665505">(</span><span class="ident" id="3665506"><a href="/gostd/regexp/syntax/prog.go.html#3665288">b</a></span><span class="op" id="3665507">,</span>&nbsp;<span class="ident" id="3665509"><a href="/gostd/regexp/syntax/prog.go.html#3665343">i</a></span><span class="op" id="3665510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665514"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3665516">(</span><span class="ident" id="3665517"><a href="/gostd/regexp/syntax/prog.go.html#3665288">b</a></span><span class="op" id="3665518">,</span>&nbsp;<span class="string" id="3665520">&#34;\n&#34;</span><span class="op" id="3665524">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3665527">}</span><br>
<span class="lineno"></span><span class="op" id="3665529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3665532">func</span>&nbsp;<span class="ident" id="3665537">u32</span><span class="op" id="3665540">(</span><span class="ident" id="3665541">i</span>&nbsp;<span class="builtintype" id="3665543">uint32</span><span class="op" id="3665549">)</span>&nbsp;<span class="builtintype" id="3665551">string</span>&nbsp;<span class="op" id="3665558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665561">return</span>&nbsp;<span class="ident" id="3665568"><a href="/gostd/regexp/syntax/prog.go.html#3658848">strconv</a></span><span class="op" id="3665575">.</span><span class="ident" id="3665576"><a href="/gostd/strconv/itoa.go.html#2406855">FormatUint</a></span><span class="op" id="3665586">(</span><span class="builtintype" id="3665587">uint64</span><span class="op" id="3665593">(</span><span class="ident" id="3665594"><a href="/gostd/regexp/syntax/prog.go.html#3665541">i</a></span><span class="op" id="3665595">)</span><span class="op" id="3665596">,</span>&nbsp;<span class="num" id="3665598">10</span><span class="op" id="3665600">)</span><br>
<span class="lineno">310</span><span class="op" id="3665602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3665605">func</span>&nbsp;<span class="ident" id="3665610">dumpInst</span><span class="op" id="3665618">(</span><span class="ident" id="3665619">b</span>&nbsp;<span class="op" id="3665621">*</span><span class="ident" id="3665622"><a href="/gostd/regexp/syntax/prog.go.html#3658839">bytes</a></span><span class="op" id="3665627">.</span><span class="ident" id="3665628"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="3665634">,</span>&nbsp;<span class="ident" id="3665636">i</span>&nbsp;<span class="op" id="3665638">*</span><span class="ident" id="3665639"><a href="/gostd/regexp/syntax/prog.go.html#3661062">Inst</a></span><span class="op" id="3665643">)</span>&nbsp;<span class="op" id="3665645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665648">switch</span>&nbsp;<span class="ident" id="3665655"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3665656">.</span><span class="ident" id="3665657"><a href="/gostd/regexp/syntax/prog.go.html#3661077">Op</a></span>&nbsp;<span class="op" id="3665660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665663">case</span>&nbsp;<span class="ident" id="3665668"><a href="/gostd/regexp/syntax/prog.go.html#3659200">InstAlt</a></span><span class="op" id="3665675">:</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665679"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3665681">(</span><span class="ident" id="3665682"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3665683">,</span>&nbsp;<span class="string" id="3665685">&#34;alt&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="3665694">,</span>&nbsp;<span class="ident" id="3665696"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3665699">(</span><span class="ident" id="3665700"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3665701">.</span><span class="ident" id="3665702"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><span class="op" id="3665705">)</span><span class="op" id="3665706">,</span>&nbsp;<span class="string" id="3665708">&#34;,&nbsp;&#34;</span><span class="op" id="3665712">,</span>&nbsp;<span class="ident" id="3665714"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3665717">(</span><span class="ident" id="3665718"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3665719">.</span><span class="ident" id="3665720"><a href="/gostd/regexp/syntax/prog.go.html#3661134">Arg</a></span><span class="op" id="3665723">)</span><span class="op" id="3665724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665727">case</span>&nbsp;<span class="ident" id="3665732"><a href="/gostd/regexp/syntax/prog.go.html#3659223">InstAltMatch</a></span><span class="op" id="3665744">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665748"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3665750">(</span><span class="ident" id="3665751"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3665752">,</span>&nbsp;<span class="string" id="3665754">&#34;altmatch&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="3665768">,</span>&nbsp;<span class="ident" id="3665770"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3665773">(</span><span class="ident" id="3665774"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3665775">.</span><span class="ident" id="3665776"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><span class="op" id="3665779">)</span><span class="op" id="3665780">,</span>&nbsp;<span class="string" id="3665782">&#34;,&nbsp;&#34;</span><span class="op" id="3665786">,</span>&nbsp;<span class="ident" id="3665788"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3665791">(</span><span class="ident" id="3665792"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3665793">.</span><span class="ident" id="3665794"><a href="/gostd/regexp/syntax/prog.go.html#3661134">Arg</a></span><span class="op" id="3665797">)</span><span class="op" id="3665798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665801">case</span>&nbsp;<span class="ident" id="3665806"><a href="/gostd/regexp/syntax/prog.go.html#3659237">InstCapture</a></span><span class="op" id="3665817">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665821"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3665823">(</span><span class="ident" id="3665824"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3665825">,</span>&nbsp;<span class="string" id="3665827">&#34;cap&nbsp;&#34;</span><span class="op" id="3665833">,</span>&nbsp;<span class="ident" id="3665835"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3665838">(</span><span class="ident" id="3665839"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3665840">.</span><span class="ident" id="3665841"><a href="/gostd/regexp/syntax/prog.go.html#3661134">Arg</a></span><span class="op" id="3665844">)</span><span class="op" id="3665845">,</span>&nbsp;<span class="string" id="3665847">&#34;&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="3665853">,</span>&nbsp;<span class="ident" id="3665855"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3665858">(</span><span class="ident" id="3665859"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3665860">.</span><span class="ident" id="3665861"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><span class="op" id="3665864">)</span><span class="op" id="3665865">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665868">case</span>&nbsp;<span class="ident" id="3665873"><a href="/gostd/regexp/syntax/prog.go.html#3659250">InstEmptyWidth</a></span><span class="op" id="3665887">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665891"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3665893">(</span><span class="ident" id="3665894"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3665895">,</span>&nbsp;<span class="string" id="3665897">&#34;empty&nbsp;&#34;</span><span class="op" id="3665905">,</span>&nbsp;<span class="ident" id="3665907"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3665910">(</span><span class="ident" id="3665911"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3665912">.</span><span class="ident" id="3665913"><a href="/gostd/regexp/syntax/prog.go.html#3661134">Arg</a></span><span class="op" id="3665916">)</span><span class="op" id="3665917">,</span>&nbsp;<span class="string" id="3665919">&#34;&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="3665925">,</span>&nbsp;<span class="ident" id="3665927"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3665930">(</span><span class="ident" id="3665931"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3665932">.</span><span class="ident" id="3665933"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><span class="op" id="3665936">)</span><span class="op" id="3665937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665940">case</span>&nbsp;<span class="ident" id="3665945"><a href="/gostd/regexp/syntax/prog.go.html#3659266">InstMatch</a></span><span class="op" id="3665954">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665958"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3665960">(</span><span class="ident" id="3665961"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3665962">,</span>&nbsp;<span class="string" id="3665964">&#34;match&#34;</span><span class="op" id="3665971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3665974">case</span>&nbsp;<span class="ident" id="3665979"><a href="/gostd/regexp/syntax/prog.go.html#3659277">InstFail</a></span><span class="op" id="3665987">:</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3665991"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3665993">(</span><span class="ident" id="3665994"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3665995">,</span>&nbsp;<span class="string" id="3665997">&#34;fail&#34;</span><span class="op" id="3666003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3666006">case</span>&nbsp;<span class="ident" id="3666011"><a href="/gostd/regexp/syntax/prog.go.html#3659287">InstNop</a></span><span class="op" id="3666018">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3666022"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3666024">(</span><span class="ident" id="3666025"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3666026">,</span>&nbsp;<span class="string" id="3666028">&#34;nop&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="3666037">,</span>&nbsp;<span class="ident" id="3666039"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3666042">(</span><span class="ident" id="3666043"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3666044">.</span><span class="ident" id="3666045"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><span class="op" id="3666048">)</span><span class="op" id="3666049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3666052">case</span>&nbsp;<span class="ident" id="3666057"><a href="/gostd/regexp/syntax/prog.go.html#3659296">InstRune</a></span><span class="op" id="3666065">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3666069">if</span>&nbsp;<span class="ident" id="3666072"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3666073">.</span><span class="ident" id="3666074"><a href="/gostd/regexp/syntax/prog.go.html#3661201">Rune</a></span>&nbsp;<span class="op" id="3666079">==</span>&nbsp;<span class="builtintype" id="3666082">nil</span>&nbsp;<span class="op" id="3666086">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3666091">//&nbsp;shouldn&#39;t&nbsp;happen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3666114"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3666116">(</span><span class="ident" id="3666117"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3666118">,</span>&nbsp;<span class="string" id="3666120">&#34;rune&nbsp;&lt;nil&gt;&#34;</span><span class="op" id="3666132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3666136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3666140"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3666142">(</span><span class="ident" id="3666143"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3666144">,</span>&nbsp;<span class="string" id="3666146">&#34;rune&nbsp;&#34;</span><span class="op" id="3666153">,</span>&nbsp;<span class="ident" id="3666155"><a href="/gostd/regexp/syntax/prog.go.html#3658848">strconv</a></span><span class="op" id="3666162">.</span><span class="ident" id="3666163"><a href="/gostd/strconv/quote.go.html#2412546">QuoteToASCII</a></span><span class="op" id="3666175">(</span><span class="builtintype" id="3666176">string</span><span class="op" id="3666182">(</span><span class="ident" id="3666183"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3666184">.</span><span class="ident" id="3666185"><a href="/gostd/regexp/syntax/prog.go.html#3661201">Rune</a></span><span class="op" id="3666189">)</span><span class="op" id="3666190">)</span><span class="op" id="3666191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3666195">if</span>&nbsp;<span class="ident" id="3666198"><a href="/gostd/regexp/syntax/parse.go.html#3611149">Flags</a></span><span class="op" id="3666203">(</span><span class="ident" id="3666204"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3666205">.</span><span class="ident" id="3666206"><a href="/gostd/regexp/syntax/prog.go.html#3661134">Arg</a></span><span class="op" id="3666209">)</span><span class="op" id="3666210">&amp;</span><span class="ident" id="3666211"><a href="/gostd/regexp/syntax/parse.go.html#3611172">FoldCase</a></span>&nbsp;<span class="op" id="3666220">!=</span>&nbsp;<span class="num" id="3666223">0</span>&nbsp;<span class="op" id="3666225">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3666230"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3666232">(</span><span class="ident" id="3666233"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3666234">,</span>&nbsp;<span class="string" id="3666236">&#34;/i&#34;</span><span class="op" id="3666240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3666244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3666248"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3666250">(</span><span class="ident" id="3666251"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3666252">,</span>&nbsp;<span class="string" id="3666254">&#34;&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="3666260">,</span>&nbsp;<span class="ident" id="3666262"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3666265">(</span><span class="ident" id="3666266"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3666267">.</span><span class="ident" id="3666268"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><span class="op" id="3666271">)</span><span class="op" id="3666272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3666275">case</span>&nbsp;<span class="ident" id="3666280"><a href="/gostd/regexp/syntax/prog.go.html#3659306">InstRune1</a></span><span class="op" id="3666289">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3666293"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3666295">(</span><span class="ident" id="3666296"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3666297">,</span>&nbsp;<span class="string" id="3666299">&#34;rune1&nbsp;&#34;</span><span class="op" id="3666307">,</span>&nbsp;<span class="ident" id="3666309"><a href="/gostd/regexp/syntax/prog.go.html#3658848">strconv</a></span><span class="op" id="3666316">.</span><span class="ident" id="3666317"><a href="/gostd/strconv/quote.go.html#2412546">QuoteToASCII</a></span><span class="op" id="3666329">(</span><span class="builtintype" id="3666330">string</span><span class="op" id="3666336">(</span><span class="ident" id="3666337"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3666338">.</span><span class="ident" id="3666339"><a href="/gostd/regexp/syntax/prog.go.html#3661201">Rune</a></span><span class="op" id="3666343">)</span><span class="op" id="3666344">)</span><span class="op" id="3666345">,</span>&nbsp;<span class="string" id="3666347">&#34;&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="3666353">,</span>&nbsp;<span class="ident" id="3666355"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3666358">(</span><span class="ident" id="3666359"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3666360">.</span><span class="ident" id="3666361"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><span class="op" id="3666364">)</span><span class="op" id="3666365">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3666368">case</span>&nbsp;<span class="ident" id="3666373"><a href="/gostd/regexp/syntax/prog.go.html#3659317">InstRuneAny</a></span><span class="op" id="3666384">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3666388"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3666390">(</span><span class="ident" id="3666391"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3666392">,</span>&nbsp;<span class="string" id="3666394">&#34;any&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="3666403">,</span>&nbsp;<span class="ident" id="3666405"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3666408">(</span><span class="ident" id="3666409"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3666410">.</span><span class="ident" id="3666411"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><span class="op" id="3666414">)</span><span class="op" id="3666415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3666418">case</span>&nbsp;<span class="ident" id="3666423"><a href="/gostd/regexp/syntax/prog.go.html#3659330">InstRuneAnyNotNL</a></span><span class="op" id="3666439">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3666443"><a href="/gostd/regexp/syntax/prog.go.html#3665185">bw</a></span><span class="op" id="3666445">(</span><span class="ident" id="3666446"><a href="/gostd/regexp/syntax/prog.go.html#3665619">b</a></span><span class="op" id="3666447">,</span>&nbsp;<span class="string" id="3666449">&#34;anynotnl&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="3666463">,</span>&nbsp;<span class="ident" id="3666465"><a href="/gostd/regexp/syntax/prog.go.html#3665537">u32</a></span><span class="op" id="3666468">(</span><span class="ident" id="3666469"><a href="/gostd/regexp/syntax/prog.go.html#3665636">i</a></span><span class="op" id="3666470">.</span><span class="ident" id="3666471"><a href="/gostd/regexp/syntax/prog.go.html#3661090">Out</a></span><span class="op" id="3666474">)</span><span class="op" id="3666475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3666478">}</span><br>
<span class="lineno">345</span><span class="op" id="3666480">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
