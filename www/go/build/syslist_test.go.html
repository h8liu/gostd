<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7759183">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7759239">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7759293">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7759344">package</span>&nbsp;<span class="ident" id="7759352">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7759359">import</span>&nbsp;<span class="op" id="7759366">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7759369">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7759380">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7759390">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7759393">var</span>&nbsp;<span class="op" id="7759397">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7759400">thisOS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7759410">=</span>&nbsp;<span class="ident" id="7759412"><a href="/go/build/syslist_test.go.html#7759369">runtime</a></span><span class="op" id="7759419">.</span><span class="ident" id="7759420">GOOS</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7759426">thisArch</span>&nbsp;&nbsp;<span class="op" id="7759436">=</span>&nbsp;<span class="ident" id="7759438"><a href="/go/build/syslist_test.go.html#7759369">runtime</a></span><span class="op" id="7759445">.</span><span class="ident" id="7759446">GOARCH</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7759454">otherOS</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7759464">=</span>&nbsp;<span class="ident" id="7759466"><a href="/go/build/syslist_test.go.html#7759513">anotherOS</a></span><span class="op" id="7759475">(</span><span class="op" id="7759476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7759479">otherArch</span>&nbsp;<span class="op" id="7759489">=</span>&nbsp;<span class="ident" id="7759491"><a href="/go/build/syslist_test.go.html#7759604">anotherArch</a></span><span class="op" id="7759502">(</span><span class="op" id="7759503">)</span><br>
<span class="lineno"></span><span class="op" id="7759505">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7759508">func</span>&nbsp;<span class="ident" id="7759513">anotherOS</span><span class="op" id="7759522">(</span><span class="op" id="7759523">)</span>&nbsp;<span class="builtintype" id="7759525">string</span>&nbsp;<span class="op" id="7759532">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7759535">if</span>&nbsp;<span class="ident" id="7759538"><a href="/go/build/syslist_test.go.html#7759400">thisOS</a></span>&nbsp;<span class="op" id="7759545">!=</span>&nbsp;<span class="string" id="7759548">&#34;darwin&#34;</span>&nbsp;<span class="op" id="7759557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7759561">return</span>&nbsp;<span class="string" id="7759568">&#34;darwin&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7759581">return</span>&nbsp;<span class="string" id="7759588">&#34;linux&#34;</span><br>
<span class="lineno"></span><span class="op" id="7759596">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7759599">func</span>&nbsp;<span class="ident" id="7759604">anotherArch</span><span class="op" id="7759615">(</span><span class="op" id="7759616">)</span>&nbsp;<span class="builtintype" id="7759618">string</span>&nbsp;<span class="op" id="7759625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7759628">if</span>&nbsp;<span class="ident" id="7759631"><a href="/go/build/syslist_test.go.html#7759426">thisArch</a></span>&nbsp;<span class="op" id="7759640">!=</span>&nbsp;<span class="string" id="7759643">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7759651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7759655">return</span>&nbsp;<span class="string" id="7759662">&#34;amd64&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759671">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7759674">return</span>&nbsp;<span class="string" id="7759681">&#34;386&#34;</span><br>
<span class="lineno"></span><span class="op" id="7759687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7759690">type</span>&nbsp;<span class="ident" id="7759695">GoodFileTest</span>&nbsp;<span class="keyword" id="7759708">struct</span>&nbsp;<span class="op" id="7759715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7759718">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7759725">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7759733">result</span>&nbsp;<span class="builtintype" id="7759740">bool</span><br>
<span class="lineno"></span><span class="op" id="7759745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7759748">var</span>&nbsp;<span class="ident" id="7759752">tests</span>&nbsp;<span class="op" id="7759758">=</span>&nbsp;<span class="op" id="7759760">[</span><span class="op" id="7759761">]</span><span class="ident" id="7759762"><a href="/go/build/syslist_test.go.html#7759695">GoodFileTest</a></span><span class="op" id="7759774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759777">{</span><span class="string" id="7759778">&#34;file.go&#34;</span><span class="op" id="7759787">,</span>&nbsp;<span class="builtintype" id="7759789">true</span><span class="op" id="7759793">}</span><span class="op" id="7759794">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759797">{</span><span class="string" id="7759798">&#34;file.c&#34;</span><span class="op" id="7759806">,</span>&nbsp;<span class="builtintype" id="7759808">true</span><span class="op" id="7759812">}</span><span class="op" id="7759813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759816">{</span><span class="string" id="7759817">&#34;file_foo.go&#34;</span><span class="op" id="7759830">,</span>&nbsp;<span class="builtintype" id="7759832">true</span><span class="op" id="7759836">}</span><span class="op" id="7759837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759840">{</span><span class="string" id="7759841">&#34;file_&#34;</span>&nbsp;<span class="op" id="7759849">+</span>&nbsp;<span class="ident" id="7759851"><a href="/go/build/syslist_test.go.html#7759426">thisArch</a></span>&nbsp;<span class="op" id="7759860">+</span>&nbsp;<span class="string" id="7759862">&#34;.go&#34;</span><span class="op" id="7759867">,</span>&nbsp;<span class="builtintype" id="7759869">true</span><span class="op" id="7759873">}</span><span class="op" id="7759874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759877">{</span><span class="string" id="7759878">&#34;file_&#34;</span>&nbsp;<span class="op" id="7759886">+</span>&nbsp;<span class="ident" id="7759888"><a href="/go/build/syslist_test.go.html#7759479">otherArch</a></span>&nbsp;<span class="op" id="7759898">+</span>&nbsp;<span class="string" id="7759900">&#34;.go&#34;</span><span class="op" id="7759905">,</span>&nbsp;<span class="builtintype" id="7759907">false</span><span class="op" id="7759912">}</span><span class="op" id="7759913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759916">{</span><span class="string" id="7759917">&#34;file_&#34;</span>&nbsp;<span class="op" id="7759925">+</span>&nbsp;<span class="ident" id="7759927"><a href="/go/build/syslist_test.go.html#7759400">thisOS</a></span>&nbsp;<span class="op" id="7759934">+</span>&nbsp;<span class="string" id="7759936">&#34;.go&#34;</span><span class="op" id="7759941">,</span>&nbsp;<span class="builtintype" id="7759943">true</span><span class="op" id="7759947">}</span><span class="op" id="7759948">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759951">{</span><span class="string" id="7759952">&#34;file_&#34;</span>&nbsp;<span class="op" id="7759960">+</span>&nbsp;<span class="ident" id="7759962"><a href="/go/build/syslist_test.go.html#7759454">otherOS</a></span>&nbsp;<span class="op" id="7759970">+</span>&nbsp;<span class="string" id="7759972">&#34;.go&#34;</span><span class="op" id="7759977">,</span>&nbsp;<span class="builtintype" id="7759979">false</span><span class="op" id="7759984">}</span><span class="op" id="7759985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759988">{</span><span class="string" id="7759989">&#34;file_&#34;</span>&nbsp;<span class="op" id="7759997">+</span>&nbsp;<span class="ident" id="7759999"><a href="/go/build/syslist_test.go.html#7759400">thisOS</a></span>&nbsp;<span class="op" id="7760006">+</span>&nbsp;<span class="string" id="7760008">&#34;_&#34;</span>&nbsp;<span class="op" id="7760012">+</span>&nbsp;<span class="ident" id="7760014"><a href="/go/build/syslist_test.go.html#7759426">thisArch</a></span>&nbsp;<span class="op" id="7760023">+</span>&nbsp;<span class="string" id="7760025">&#34;.go&#34;</span><span class="op" id="7760030">,</span>&nbsp;<span class="builtintype" id="7760032">true</span><span class="op" id="7760036">}</span><span class="op" id="7760037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760040">{</span><span class="string" id="7760041">&#34;file_&#34;</span>&nbsp;<span class="op" id="7760049">+</span>&nbsp;<span class="ident" id="7760051"><a href="/go/build/syslist_test.go.html#7759454">otherOS</a></span>&nbsp;<span class="op" id="7760059">+</span>&nbsp;<span class="string" id="7760061">&#34;_&#34;</span>&nbsp;<span class="op" id="7760065">+</span>&nbsp;<span class="ident" id="7760067"><a href="/go/build/syslist_test.go.html#7759426">thisArch</a></span>&nbsp;<span class="op" id="7760076">+</span>&nbsp;<span class="string" id="7760078">&#34;.go&#34;</span><span class="op" id="7760083">,</span>&nbsp;<span class="builtintype" id="7760085">false</span><span class="op" id="7760090">}</span><span class="op" id="7760091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760094">{</span><span class="string" id="7760095">&#34;file_&#34;</span>&nbsp;<span class="op" id="7760103">+</span>&nbsp;<span class="ident" id="7760105"><a href="/go/build/syslist_test.go.html#7759400">thisOS</a></span>&nbsp;<span class="op" id="7760112">+</span>&nbsp;<span class="string" id="7760114">&#34;_&#34;</span>&nbsp;<span class="op" id="7760118">+</span>&nbsp;<span class="ident" id="7760120"><a href="/go/build/syslist_test.go.html#7759479">otherArch</a></span>&nbsp;<span class="op" id="7760130">+</span>&nbsp;<span class="string" id="7760132">&#34;.go&#34;</span><span class="op" id="7760137">,</span>&nbsp;<span class="builtintype" id="7760139">false</span><span class="op" id="7760144">}</span><span class="op" id="7760145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760148">{</span><span class="string" id="7760149">&#34;file_&#34;</span>&nbsp;<span class="op" id="7760157">+</span>&nbsp;<span class="ident" id="7760159"><a href="/go/build/syslist_test.go.html#7759454">otherOS</a></span>&nbsp;<span class="op" id="7760167">+</span>&nbsp;<span class="string" id="7760169">&#34;_&#34;</span>&nbsp;<span class="op" id="7760173">+</span>&nbsp;<span class="ident" id="7760175"><a href="/go/build/syslist_test.go.html#7759479">otherArch</a></span>&nbsp;<span class="op" id="7760185">+</span>&nbsp;<span class="string" id="7760187">&#34;.go&#34;</span><span class="op" id="7760192">,</span>&nbsp;<span class="builtintype" id="7760194">false</span><span class="op" id="7760199">}</span><span class="op" id="7760200">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760203">{</span><span class="string" id="7760204">&#34;file_foo_&#34;</span>&nbsp;<span class="op" id="7760216">+</span>&nbsp;<span class="ident" id="7760218"><a href="/go/build/syslist_test.go.html#7759426">thisArch</a></span>&nbsp;<span class="op" id="7760227">+</span>&nbsp;<span class="string" id="7760229">&#34;.go&#34;</span><span class="op" id="7760234">,</span>&nbsp;<span class="builtintype" id="7760236">true</span><span class="op" id="7760240">}</span><span class="op" id="7760241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760244">{</span><span class="string" id="7760245">&#34;file_foo_&#34;</span>&nbsp;<span class="op" id="7760257">+</span>&nbsp;<span class="ident" id="7760259"><a href="/go/build/syslist_test.go.html#7759479">otherArch</a></span>&nbsp;<span class="op" id="7760269">+</span>&nbsp;<span class="string" id="7760271">&#34;.go&#34;</span><span class="op" id="7760276">,</span>&nbsp;<span class="builtintype" id="7760278">false</span><span class="op" id="7760283">}</span><span class="op" id="7760284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760287">{</span><span class="string" id="7760288">&#34;file_&#34;</span>&nbsp;<span class="op" id="7760296">+</span>&nbsp;<span class="ident" id="7760298"><a href="/go/build/syslist_test.go.html#7759400">thisOS</a></span>&nbsp;<span class="op" id="7760305">+</span>&nbsp;<span class="string" id="7760307">&#34;.c&#34;</span><span class="op" id="7760311">,</span>&nbsp;<span class="builtintype" id="7760313">true</span><span class="op" id="7760317">}</span><span class="op" id="7760318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760321">{</span><span class="string" id="7760322">&#34;file_&#34;</span>&nbsp;<span class="op" id="7760330">+</span>&nbsp;<span class="ident" id="7760332"><a href="/go/build/syslist_test.go.html#7759454">otherOS</a></span>&nbsp;<span class="op" id="7760340">+</span>&nbsp;<span class="string" id="7760342">&#34;.c&#34;</span><span class="op" id="7760346">,</span>&nbsp;<span class="builtintype" id="7760348">false</span><span class="op" id="7760353">}</span><span class="op" id="7760354">,</span><br>
<span class="lineno"></span><span class="op" id="7760356">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="7760359">func</span>&nbsp;<span class="ident" id="7760364">TestGoodOSArch</span><span class="op" id="7760378">(</span><span class="ident" id="7760379">t</span>&nbsp;<span class="op" id="7760381">*</span><span class="ident" id="7760382"><a href="/go/build/syslist_test.go.html#7759380">testing</a></span><span class="op" id="7760389">.</span><span class="ident" id="7760390">T</span><span class="op" id="7760391">)</span>&nbsp;<span class="op" id="7760393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7760396">for</span>&nbsp;<span class="ident" id="7760400">_</span><span class="op" id="7760401">,</span>&nbsp;<span class="ident" id="7760403">test</span>&nbsp;<span class="op" id="7760408">:=</span>&nbsp;<span class="keyword" id="7760411">range</span>&nbsp;<span class="ident" id="7760417"><a href="/go/build/syslist_test.go.html#7759752">tests</a></span>&nbsp;<span class="op" id="7760423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7760427">if</span>&nbsp;<span class="ident" id="7760430"><a href="/go/build/build.go.html#6433773">Default</a></span><span class="op" id="7760437">.</span><span class="ident" id="7760438">goodOSArchFile</span><span class="op" id="7760452">(</span><span class="ident" id="7760453"><a href="/go/build/syslist_test.go.html#7760403">test</a></span><span class="op" id="7760457">.</span><span class="ident" id="7760458">name</span><span class="op" id="7760462">,</span>&nbsp;<span class="builtinfunc" id="7760464">make</span><span class="op" id="7760468">(</span><span class="keyword" id="7760469">map</span><span class="op" id="7760472">[</span><span class="builtintype" id="7760473">string</span><span class="op" id="7760479">]</span><span class="builtintype" id="7760480">bool</span><span class="op" id="7760484">)</span><span class="op" id="7760485">)</span>&nbsp;<span class="op" id="7760487">!=</span>&nbsp;<span class="ident" id="7760490"><a href="/go/build/syslist_test.go.html#7760403">test</a></span><span class="op" id="7760494">.</span><span class="ident" id="7760495">result</span>&nbsp;<span class="op" id="7760502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760507"><a href="/go/build/syslist_test.go.html#7760379">t</a></span><span class="op" id="7760508">.</span><span class="ident" id="7760509">Fatalf</span><span class="op" id="7760515">(</span><span class="string" id="7760516">&#34;goodOSArchFile(%q)&nbsp;!=&nbsp;%v&#34;</span><span class="op" id="7760542">,</span>&nbsp;<span class="ident" id="7760544"><a href="/go/build/syslist_test.go.html#7760403">test</a></span><span class="op" id="7760548">.</span><span class="ident" id="7760549">name</span><span class="op" id="7760553">,</span>&nbsp;<span class="ident" id="7760555"><a href="/go/build/syslist_test.go.html#7760403">test</a></span><span class="op" id="7760559">.</span><span class="ident" id="7760560">result</span><span class="op" id="7760566">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760573">}</span><br>
<span class="lineno"></span><span class="op" id="7760575">}</span>
</div>
</body>
</html>
