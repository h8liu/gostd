<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html" class="current">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4007935">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4007990">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4008044">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4008095">//&nbsp;Package&nbsp;hex&nbsp;implements&nbsp;hexadecimal&nbsp;encoding&nbsp;and&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4008156">package</span>&nbsp;<span class="ident" id="4008164">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4008169">import</span>&nbsp;<span class="op" id="4008176">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4008179">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4008188">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4008198">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4008205">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4008210">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="4008213">const</span>&nbsp;<span class="ident" id="4008219">hextable</span>&nbsp;<span class="op" id="4008228">=</span>&nbsp;<span class="string" id="4008230">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4008250">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="4008317">func</span>&nbsp;<span class="ident" id="4008322">EncodedLen</span><span class="op" id="4008332">(</span><span class="ident" id="4008333">n</span>&nbsp;<span class="builtintype" id="4008335">int</span><span class="op" id="4008338">)</span>&nbsp;<span class="builtintype" id="4008340">int</span>&nbsp;<span class="op" id="4008344">{</span>&nbsp;<span class="keyword" id="4008346">return</span>&nbsp;<span class="ident" id="4008353">n</span>&nbsp;<span class="op" id="4008355">*</span>&nbsp;<span class="num" id="4008357">2</span>&nbsp;<span class="op" id="4008359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="4008362">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;EncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="4008410">//&nbsp;bytes&nbsp;of&nbsp;dst.&nbsp;&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="4008468">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst,&nbsp;but&nbsp;this&nbsp;value&nbsp;is&nbsp;always&nbsp;EncodedLen(len(src)).</span><br>
<span class="lineno"></span><span class="comment" id="4008543">//&nbsp;Encode&nbsp;implements&nbsp;hexadecimal&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4008586">func</span>&nbsp;<span class="ident" id="4008591">Encode</span><span class="op" id="4008597">(</span><span class="ident" id="4008598">dst</span><span class="op" id="4008601">,</span>&nbsp;<span class="ident" id="4008603">src</span>&nbsp;<span class="op" id="4008607">[</span><span class="op" id="4008608">]</span><span class="builtintype" id="4008609">byte</span><span class="op" id="4008613">)</span>&nbsp;<span class="builtintype" id="4008615">int</span>&nbsp;<span class="op" id="4008619">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4008622">for</span>&nbsp;<span class="ident" id="4008626">i</span><span class="op" id="4008627">,</span>&nbsp;<span class="ident" id="4008629">v</span>&nbsp;<span class="op" id="4008631">:=</span>&nbsp;<span class="keyword" id="4008634">range</span>&nbsp;<span class="ident" id="4008640">src</span>&nbsp;<span class="op" id="4008644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4008648">dst</span><span class="op" id="4008651">[</span><span class="ident" id="4008652">i</span><span class="op" id="4008653">*</span><span class="num" id="4008654">2</span><span class="op" id="4008655">]</span>&nbsp;<span class="op" id="4008657">=</span>&nbsp;<span class="ident" id="4008659">hextable</span><span class="op" id="4008667">[</span><span class="ident" id="4008668">v</span><span class="op" id="4008669">&gt;&gt;</span><span class="num" id="4008671">4</span><span class="op" id="4008672">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4008676">dst</span><span class="op" id="4008679">[</span><span class="ident" id="4008680">i</span><span class="op" id="4008681">*</span><span class="num" id="4008682">2</span><span class="op" id="4008683">+</span><span class="num" id="4008684">1</span><span class="op" id="4008685">]</span>&nbsp;<span class="op" id="4008687">=</span>&nbsp;<span class="ident" id="4008689">hextable</span><span class="op" id="4008697">[</span><span class="ident" id="4008698">v</span><span class="op" id="4008699">&amp;</span><span class="num" id="4008700">0x0f</span><span class="op" id="4008704">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4008707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4008711">return</span>&nbsp;<span class="builtinfunc" id="4008718">len</span><span class="op" id="4008721">(</span><span class="ident" id="4008722">src</span><span class="op" id="4008725">)</span>&nbsp;<span class="op" id="4008727">*</span>&nbsp;<span class="num" id="4008729">2</span><br>
<span class="lineno"></span><span class="op" id="4008731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4008734">//&nbsp;ErrLength&nbsp;results&nbsp;from&nbsp;decoding&nbsp;an&nbsp;odd&nbsp;length&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="4008790">var</span>&nbsp;<span class="ident" id="4008794">ErrLength</span>&nbsp;<span class="op" id="4008804">=</span>&nbsp;<span class="ident" id="4008806">errors</span><span class="op" id="4008812">.</span><span class="ident" id="4008813">New</span><span class="op" id="4008816">(</span><span class="string" id="4008817">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="4008854">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4008857">//&nbsp;InvalidByteError&nbsp;values&nbsp;describe&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;an&nbsp;invalid&nbsp;byte&nbsp;in&nbsp;a&nbsp;hex&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4008948">type</span>&nbsp;<span class="ident" id="4008953">InvalidByteError</span>&nbsp;<span class="builtintype" id="4008970">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4008976">func</span>&nbsp;<span class="op" id="4008981">(</span><span class="ident" id="4008982">e</span>&nbsp;<span class="ident" id="4008984">InvalidByteError</span><span class="op" id="4009000">)</span>&nbsp;<span class="ident" id="4009002">Error</span><span class="op" id="4009007">(</span><span class="op" id="4009008">)</span>&nbsp;<span class="builtintype" id="4009010">string</span>&nbsp;<span class="op" id="4009017">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009020">return</span>&nbsp;<span class="ident" id="4009027">fmt</span><span class="op" id="4009030">.</span><span class="ident" id="4009031">Sprintf</span><span class="op" id="4009038">(</span><span class="string" id="4009039">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;%#U&#34;</span><span class="op" id="4009072">,</span>&nbsp;<span class="builtintype" id="4009074">rune</span><span class="op" id="4009078">(</span><span class="ident" id="4009079">e</span><span class="op" id="4009080">)</span><span class="op" id="4009081">)</span><br>
<span class="lineno"></span><span class="op" id="4009083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4009086">func</span>&nbsp;<span class="ident" id="4009091">DecodedLen</span><span class="op" id="4009101">(</span><span class="ident" id="4009102">x</span>&nbsp;<span class="builtintype" id="4009104">int</span><span class="op" id="4009107">)</span>&nbsp;<span class="builtintype" id="4009109">int</span>&nbsp;<span class="op" id="4009113">{</span>&nbsp;<span class="keyword" id="4009115">return</span>&nbsp;<span class="ident" id="4009122">x</span>&nbsp;<span class="op" id="4009124">/</span>&nbsp;<span class="num" id="4009126">2</span>&nbsp;<span class="op" id="4009128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="4009131">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;DecodedLen(len(src))&nbsp;bytes,&nbsp;returning&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="4009207">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="4009242">//</span><br>
<span class="lineno"></span><span class="comment" id="4009245">//&nbsp;If&nbsp;Decode&nbsp;encounters&nbsp;invalid&nbsp;input,&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="keyword" id="4009328">func</span>&nbsp;<span class="ident" id="4009333">Decode</span><span class="op" id="4009339">(</span><span class="ident" id="4009340">dst</span><span class="op" id="4009343">,</span>&nbsp;<span class="ident" id="4009345">src</span>&nbsp;<span class="op" id="4009349">[</span><span class="op" id="4009350">]</span><span class="builtintype" id="4009351">byte</span><span class="op" id="4009355">)</span>&nbsp;<span class="op" id="4009357">(</span><span class="builtintype" id="4009358">int</span><span class="op" id="4009361">,</span>&nbsp;<span class="builtintype" id="4009363">error</span><span class="op" id="4009368">)</span>&nbsp;<span class="op" id="4009370">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009373">if</span>&nbsp;<span class="builtinfunc" id="4009376">len</span><span class="op" id="4009379">(</span><span class="ident" id="4009380">src</span><span class="op" id="4009383">)</span><span class="op" id="4009384">%</span><span class="num" id="4009385">2</span>&nbsp;<span class="op" id="4009387">==</span>&nbsp;<span class="num" id="4009390">1</span>&nbsp;<span class="op" id="4009392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009396">return</span>&nbsp;<span class="num" id="4009403">0</span><span class="op" id="4009404">,</span>&nbsp;<span class="ident" id="4009406">ErrLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4009417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009421">for</span>&nbsp;<span class="ident" id="4009425">i</span>&nbsp;<span class="op" id="4009427">:=</span>&nbsp;<span class="num" id="4009430">0</span><span class="op" id="4009431">;</span>&nbsp;<span class="ident" id="4009433">i</span>&nbsp;<span class="op" id="4009435">&lt;</span>&nbsp;<span class="builtinfunc" id="4009437">len</span><span class="op" id="4009440">(</span><span class="ident" id="4009441">src</span><span class="op" id="4009444">)</span><span class="op" id="4009445">/</span><span class="num" id="4009446">2</span><span class="op" id="4009447">;</span>&nbsp;<span class="ident" id="4009449">i</span><span class="op" id="4009450">++</span>&nbsp;<span class="op" id="4009453">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4009457">a</span><span class="op" id="4009458">,</span>&nbsp;<span class="ident" id="4009460">ok</span>&nbsp;<span class="op" id="4009463">:=</span>&nbsp;<span class="ident" id="4009466">fromHexChar</span><span class="op" id="4009477">(</span><span class="ident" id="4009478">src</span><span class="op" id="4009481">[</span><span class="ident" id="4009482">i</span><span class="op" id="4009483">*</span><span class="num" id="4009484">2</span><span class="op" id="4009485">]</span><span class="op" id="4009486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009490">if</span>&nbsp;<span class="op" id="4009493">!</span><span class="ident" id="4009494">ok</span>&nbsp;<span class="op" id="4009497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009502">return</span>&nbsp;<span class="num" id="4009509">0</span><span class="op" id="4009510">,</span>&nbsp;<span class="ident" id="4009512">InvalidByteError</span><span class="op" id="4009528">(</span><span class="ident" id="4009529">src</span><span class="op" id="4009532">[</span><span class="ident" id="4009533">i</span><span class="op" id="4009534">*</span><span class="num" id="4009535">2</span><span class="op" id="4009536">]</span><span class="op" id="4009537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4009541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4009545">b</span><span class="op" id="4009546">,</span>&nbsp;<span class="ident" id="4009548">ok</span>&nbsp;<span class="op" id="4009551">:=</span>&nbsp;<span class="ident" id="4009554">fromHexChar</span><span class="op" id="4009565">(</span><span class="ident" id="4009566">src</span><span class="op" id="4009569">[</span><span class="ident" id="4009570">i</span><span class="op" id="4009571">*</span><span class="num" id="4009572">2</span><span class="op" id="4009573">+</span><span class="num" id="4009574">1</span><span class="op" id="4009575">]</span><span class="op" id="4009576">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009580">if</span>&nbsp;<span class="op" id="4009583">!</span><span class="ident" id="4009584">ok</span>&nbsp;<span class="op" id="4009587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009592">return</span>&nbsp;<span class="num" id="4009599">0</span><span class="op" id="4009600">,</span>&nbsp;<span class="ident" id="4009602">InvalidByteError</span><span class="op" id="4009618">(</span><span class="ident" id="4009619">src</span><span class="op" id="4009622">[</span><span class="ident" id="4009623">i</span><span class="op" id="4009624">*</span><span class="num" id="4009625">2</span><span class="op" id="4009626">+</span><span class="num" id="4009627">1</span><span class="op" id="4009628">]</span><span class="op" id="4009629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4009633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4009637">dst</span><span class="op" id="4009640">[</span><span class="ident" id="4009641">i</span><span class="op" id="4009642">]</span>&nbsp;<span class="op" id="4009644">=</span>&nbsp;<span class="op" id="4009646">(</span><span class="ident" id="4009647">a</span>&nbsp;<span class="op" id="4009649">&lt;&lt;</span>&nbsp;<span class="num" id="4009652">4</span><span class="op" id="4009653">)</span>&nbsp;<span class="op" id="4009655">|</span>&nbsp;<span class="ident" id="4009657">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4009660">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009664">return</span>&nbsp;<span class="builtinfunc" id="4009671">len</span><span class="op" id="4009674">(</span><span class="ident" id="4009675">src</span><span class="op" id="4009678">)</span>&nbsp;<span class="op" id="4009680">/</span>&nbsp;<span class="num" id="4009682">2</span><span class="op" id="4009683">,</span>&nbsp;<span class="builtintype" id="4009685">nil</span><br>
<span class="lineno"></span><span class="op" id="4009689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4009692">//&nbsp;fromHexChar&nbsp;converts&nbsp;a&nbsp;hex&nbsp;character&nbsp;into&nbsp;its&nbsp;value&nbsp;and&nbsp;a&nbsp;success&nbsp;flag.</span><br>
<span class="lineno">70</span><span class="keyword" id="4009767">func</span>&nbsp;<span class="ident" id="4009772">fromHexChar</span><span class="op" id="4009783">(</span><span class="ident" id="4009784">c</span>&nbsp;<span class="builtintype" id="4009786">byte</span><span class="op" id="4009790">)</span>&nbsp;<span class="op" id="4009792">(</span><span class="builtintype" id="4009793">byte</span><span class="op" id="4009797">,</span>&nbsp;<span class="builtintype" id="4009799">bool</span><span class="op" id="4009803">)</span>&nbsp;<span class="op" id="4009805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009808">switch</span>&nbsp;<span class="op" id="4009815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009818">case</span>&nbsp;<span class="string" id="4009823">&#39;0&#39;</span>&nbsp;<span class="op" id="4009827">&lt;=</span>&nbsp;<span class="ident" id="4009830">c</span>&nbsp;<span class="op" id="4009832">&amp;&amp;</span>&nbsp;<span class="ident" id="4009835">c</span>&nbsp;<span class="op" id="4009837">&lt;=</span>&nbsp;<span class="string" id="4009840">&#39;9&#39;</span><span class="op" id="4009843">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009847">return</span>&nbsp;<span class="ident" id="4009854">c</span>&nbsp;<span class="op" id="4009856">-</span>&nbsp;<span class="string" id="4009858">&#39;0&#39;</span><span class="op" id="4009861">,</span>&nbsp;<span class="builtintype" id="4009863">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009869">case</span>&nbsp;<span class="string" id="4009874">&#39;a&#39;</span>&nbsp;<span class="op" id="4009878">&lt;=</span>&nbsp;<span class="ident" id="4009881">c</span>&nbsp;<span class="op" id="4009883">&amp;&amp;</span>&nbsp;<span class="ident" id="4009886">c</span>&nbsp;<span class="op" id="4009888">&lt;=</span>&nbsp;<span class="string" id="4009891">&#39;f&#39;</span><span class="op" id="4009894">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009898">return</span>&nbsp;<span class="ident" id="4009905">c</span>&nbsp;<span class="op" id="4009907">-</span>&nbsp;<span class="string" id="4009909">&#39;a&#39;</span>&nbsp;<span class="op" id="4009913">+</span>&nbsp;<span class="num" id="4009915">10</span><span class="op" id="4009917">,</span>&nbsp;<span class="builtintype" id="4009919">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009925">case</span>&nbsp;<span class="string" id="4009930">&#39;A&#39;</span>&nbsp;<span class="op" id="4009934">&lt;=</span>&nbsp;<span class="ident" id="4009937">c</span>&nbsp;<span class="op" id="4009939">&amp;&amp;</span>&nbsp;<span class="ident" id="4009942">c</span>&nbsp;<span class="op" id="4009944">&lt;=</span>&nbsp;<span class="string" id="4009947">&#39;F&#39;</span><span class="op" id="4009950">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009954">return</span>&nbsp;<span class="ident" id="4009961">c</span>&nbsp;<span class="op" id="4009963">-</span>&nbsp;<span class="string" id="4009965">&#39;A&#39;</span>&nbsp;<span class="op" id="4009969">+</span>&nbsp;<span class="num" id="4009971">10</span><span class="op" id="4009973">,</span>&nbsp;<span class="builtintype" id="4009975">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4009981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4009985">return</span>&nbsp;<span class="num" id="4009992">0</span><span class="op" id="4009993">,</span>&nbsp;<span class="builtintype" id="4009995">false</span><br>
<span class="lineno"></span><span class="op" id="4010001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4010004">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="4010063">func</span>&nbsp;<span class="ident" id="4010068">EncodeToString</span><span class="op" id="4010082">(</span><span class="ident" id="4010083">src</span>&nbsp;<span class="op" id="4010087">[</span><span class="op" id="4010088">]</span><span class="builtintype" id="4010089">byte</span><span class="op" id="4010093">)</span>&nbsp;<span class="builtintype" id="4010095">string</span>&nbsp;<span class="op" id="4010102">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4010105">dst</span>&nbsp;<span class="op" id="4010109">:=</span>&nbsp;<span class="builtinfunc" id="4010112">make</span><span class="op" id="4010116">(</span><span class="op" id="4010117">[</span><span class="op" id="4010118">]</span><span class="builtintype" id="4010119">byte</span><span class="op" id="4010123">,</span>&nbsp;<span class="ident" id="4010125">EncodedLen</span><span class="op" id="4010135">(</span><span class="builtinfunc" id="4010136">len</span><span class="op" id="4010139">(</span><span class="ident" id="4010140">src</span><span class="op" id="4010143">)</span><span class="op" id="4010144">)</span><span class="op" id="4010145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4010148">Encode</span><span class="op" id="4010154">(</span><span class="ident" id="4010155">dst</span><span class="op" id="4010158">,</span>&nbsp;<span class="ident" id="4010160">src</span><span class="op" id="4010163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4010166">return</span>&nbsp;<span class="builtintype" id="4010173">string</span><span class="op" id="4010179">(</span><span class="ident" id="4010180">dst</span><span class="op" id="4010183">)</span><br>
<span class="lineno"></span><span class="op" id="4010185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="4010188">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;hexadecimal&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4010263">func</span>&nbsp;<span class="ident" id="4010268">DecodeString</span><span class="op" id="4010280">(</span><span class="ident" id="4010281">s</span>&nbsp;<span class="builtintype" id="4010283">string</span><span class="op" id="4010289">)</span>&nbsp;<span class="op" id="4010291">(</span><span class="op" id="4010292">[</span><span class="op" id="4010293">]</span><span class="builtintype" id="4010294">byte</span><span class="op" id="4010298">,</span>&nbsp;<span class="builtintype" id="4010300">error</span><span class="op" id="4010305">)</span>&nbsp;<span class="op" id="4010307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4010310">src</span>&nbsp;<span class="op" id="4010314">:=</span>&nbsp;<span class="op" id="4010317">[</span><span class="op" id="4010318">]</span><span class="builtintype" id="4010319">byte</span><span class="op" id="4010323">(</span><span class="ident" id="4010324">s</span><span class="op" id="4010325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4010328">dst</span>&nbsp;<span class="op" id="4010332">:=</span>&nbsp;<span class="builtinfunc" id="4010335">make</span><span class="op" id="4010339">(</span><span class="op" id="4010340">[</span><span class="op" id="4010341">]</span><span class="builtintype" id="4010342">byte</span><span class="op" id="4010346">,</span>&nbsp;<span class="ident" id="4010348">DecodedLen</span><span class="op" id="4010358">(</span><span class="builtinfunc" id="4010359">len</span><span class="op" id="4010362">(</span><span class="ident" id="4010363">src</span><span class="op" id="4010366">)</span><span class="op" id="4010367">)</span><span class="op" id="4010368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4010371">_</span><span class="op" id="4010372">,</span>&nbsp;<span class="ident" id="4010374">err</span>&nbsp;<span class="op" id="4010378">:=</span>&nbsp;<span class="ident" id="4010381">Decode</span><span class="op" id="4010387">(</span><span class="ident" id="4010388">dst</span><span class="op" id="4010391">,</span>&nbsp;<span class="ident" id="4010393">src</span><span class="op" id="4010396">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4010399">if</span>&nbsp;<span class="ident" id="4010402">err</span>&nbsp;<span class="op" id="4010406">!=</span>&nbsp;<span class="builtintype" id="4010409">nil</span>&nbsp;<span class="op" id="4010413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4010417">return</span>&nbsp;<span class="builtintype" id="4010424">nil</span><span class="op" id="4010427">,</span>&nbsp;<span class="ident" id="4010429">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4010434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4010437">return</span>&nbsp;<span class="ident" id="4010444">dst</span><span class="op" id="4010447">,</span>&nbsp;<span class="builtintype" id="4010449">nil</span><br>
<span class="lineno"></span><span class="op" id="4010453">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4010456">//&nbsp;Dump&nbsp;returns&nbsp;a&nbsp;string&nbsp;that&nbsp;contains&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;The&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4010536">//&nbsp;of&nbsp;the&nbsp;hex&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4010611">func</span>&nbsp;<span class="ident" id="4010616">Dump</span><span class="op" id="4010620">(</span><span class="ident" id="4010621">data</span>&nbsp;<span class="op" id="4010626">[</span><span class="op" id="4010627">]</span><span class="builtintype" id="4010628">byte</span><span class="op" id="4010632">)</span>&nbsp;<span class="builtintype" id="4010634">string</span>&nbsp;<span class="op" id="4010641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4010644">var</span>&nbsp;<span class="ident" id="4010648">buf</span>&nbsp;<span class="ident" id="4010652">bytes</span><span class="op" id="4010657">.</span><span class="ident" id="4010658">Buffer</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4010666">dumper</span>&nbsp;<span class="op" id="4010673">:=</span>&nbsp;<span class="ident" id="4010676">Dumper</span><span class="op" id="4010682">(</span><span class="op" id="4010683">&amp;</span><span class="ident" id="4010684">buf</span><span class="op" id="4010687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4010690">dumper</span><span class="op" id="4010696">.</span><span class="ident" id="4010697">Write</span><span class="op" id="4010702">(</span><span class="ident" id="4010703">data</span><span class="op" id="4010707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4010710">dumper</span><span class="op" id="4010716">.</span><span class="ident" id="4010717">Close</span><span class="op" id="4010722">(</span><span class="op" id="4010723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4010726">return</span>&nbsp;<span class="builtintype" id="4010733">string</span><span class="op" id="4010739">(</span><span class="ident" id="4010740">buf</span><span class="op" id="4010743">.</span><span class="ident" id="4010744">Bytes</span><span class="op" id="4010749">(</span><span class="op" id="4010750">)</span><span class="op" id="4010751">)</span><br>
<span class="lineno"></span><span class="op" id="4010753">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4010756">//&nbsp;Dumper&nbsp;returns&nbsp;a&nbsp;WriteCloser&nbsp;that&nbsp;writes&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;all&nbsp;written&nbsp;data&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4010834">//&nbsp;w.&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span><span class="comment" id="4010913">//&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4010922">func</span>&nbsp;<span class="ident" id="4010927">Dumper</span><span class="op" id="4010933">(</span><span class="ident" id="4010934">w</span>&nbsp;<span class="ident" id="4010936">io</span><span class="op" id="4010938">.</span><span class="ident" id="4010939">Writer</span><span class="op" id="4010945">)</span>&nbsp;<span class="ident" id="4010947">io</span><span class="op" id="4010949">.</span><span class="ident" id="4010950">WriteCloser</span>&nbsp;<span class="op" id="4010962">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4010965">return</span>&nbsp;<span class="op" id="4010972">&amp;</span><span class="ident" id="4010973">dumper</span><span class="op" id="4010979">{</span><span class="ident" id="4010980">w</span><span class="op" id="4010981">:</span>&nbsp;<span class="ident" id="4010983">w</span><span class="op" id="4010984">}</span><br>
<span class="lineno"></span><span class="op" id="4010986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4010989">type</span>&nbsp;<span class="ident" id="4010994">dumper</span>&nbsp;<span class="keyword" id="4011001">struct</span>&nbsp;<span class="op" id="4011008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011011">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011022">io</span><span class="op" id="4011024">.</span><span class="ident" id="4011025">Writer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011033">rightChars</span>&nbsp;<span class="op" id="4011044">[</span><span class="num" id="4011045">18</span><span class="op" id="4011047">]</span><span class="builtintype" id="4011048">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011054">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4011065">[</span><span class="num" id="4011066">14</span><span class="op" id="4011068">]</span><span class="builtintype" id="4011069">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011075">used</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4011086">int</span>&nbsp;&nbsp;<span class="comment" id="4011091">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011131">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4011142">uint</span>&nbsp;<span class="comment" id="4011147">//&nbsp;number&nbsp;of&nbsp;bytes,&nbsp;total</span><br>
<span class="lineno"></span><span class="op" id="4011173">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="4011176">func</span>&nbsp;<span class="ident" id="4011181">toChar</span><span class="op" id="4011187">(</span><span class="ident" id="4011188">b</span>&nbsp;<span class="builtintype" id="4011190">byte</span><span class="op" id="4011194">)</span>&nbsp;<span class="builtintype" id="4011196">byte</span>&nbsp;<span class="op" id="4011201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4011204">if</span>&nbsp;<span class="ident" id="4011207">b</span>&nbsp;<span class="op" id="4011209">&lt;</span>&nbsp;<span class="num" id="4011211">32</span>&nbsp;<span class="op" id="4011214">||</span>&nbsp;<span class="ident" id="4011217">b</span>&nbsp;<span class="op" id="4011219">&gt;</span>&nbsp;<span class="num" id="4011221">126</span>&nbsp;<span class="op" id="4011225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4011229">return</span>&nbsp;<span class="string" id="4011236">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4011241">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4011244">return</span>&nbsp;<span class="ident" id="4011251">b</span><br>
<span class="lineno"></span><span class="op" id="4011253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4011256">func</span>&nbsp;<span class="op" id="4011261">(</span><span class="ident" id="4011262">h</span>&nbsp;<span class="op" id="4011264">*</span><span class="ident" id="4011265">dumper</span><span class="op" id="4011271">)</span>&nbsp;<span class="ident" id="4011273">Write</span><span class="op" id="4011278">(</span><span class="ident" id="4011279">data</span>&nbsp;<span class="op" id="4011284">[</span><span class="op" id="4011285">]</span><span class="builtintype" id="4011286">byte</span><span class="op" id="4011290">)</span>&nbsp;<span class="op" id="4011292">(</span><span class="ident" id="4011293">n</span>&nbsp;<span class="builtintype" id="4011295">int</span><span class="op" id="4011298">,</span>&nbsp;<span class="ident" id="4011300">err</span>&nbsp;<span class="builtintype" id="4011304">error</span><span class="op" id="4011309">)</span>&nbsp;<span class="op" id="4011311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4011314">//&nbsp;Output&nbsp;lines&nbsp;look&nbsp;like:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4011342">//&nbsp;00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4011425">//&nbsp;^&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;extra&nbsp;space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;ASCII&nbsp;of&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4011507">for</span>&nbsp;<span class="ident" id="4011511">i</span>&nbsp;<span class="op" id="4011513">:=</span>&nbsp;<span class="keyword" id="4011516">range</span>&nbsp;<span class="ident" id="4011522">data</span>&nbsp;<span class="op" id="4011527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4011531">if</span>&nbsp;<span class="ident" id="4011534">h</span><span class="op" id="4011535">.</span><span class="ident" id="4011536">used</span>&nbsp;<span class="op" id="4011541">==</span>&nbsp;<span class="num" id="4011544">0</span>&nbsp;<span class="op" id="4011546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4011551">//&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;line&nbsp;we&nbsp;print&nbsp;the&nbsp;current</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4011605">//&nbsp;offset&nbsp;in&nbsp;hex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011626">h</span><span class="op" id="4011627">.</span><span class="ident" id="4011628">buf</span><span class="op" id="4011631">[</span><span class="num" id="4011632">0</span><span class="op" id="4011633">]</span>&nbsp;<span class="op" id="4011635">=</span>&nbsp;<span class="builtintype" id="4011637">byte</span><span class="op" id="4011641">(</span><span class="ident" id="4011642">h</span><span class="op" id="4011643">.</span><span class="ident" id="4011644">n</span>&nbsp;<span class="op" id="4011646">&gt;&gt;</span>&nbsp;<span class="num" id="4011649">24</span><span class="op" id="4011651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011656">h</span><span class="op" id="4011657">.</span><span class="ident" id="4011658">buf</span><span class="op" id="4011661">[</span><span class="num" id="4011662">1</span><span class="op" id="4011663">]</span>&nbsp;<span class="op" id="4011665">=</span>&nbsp;<span class="builtintype" id="4011667">byte</span><span class="op" id="4011671">(</span><span class="ident" id="4011672">h</span><span class="op" id="4011673">.</span><span class="ident" id="4011674">n</span>&nbsp;<span class="op" id="4011676">&gt;&gt;</span>&nbsp;<span class="num" id="4011679">16</span><span class="op" id="4011681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011686">h</span><span class="op" id="4011687">.</span><span class="ident" id="4011688">buf</span><span class="op" id="4011691">[</span><span class="num" id="4011692">2</span><span class="op" id="4011693">]</span>&nbsp;<span class="op" id="4011695">=</span>&nbsp;<span class="builtintype" id="4011697">byte</span><span class="op" id="4011701">(</span><span class="ident" id="4011702">h</span><span class="op" id="4011703">.</span><span class="ident" id="4011704">n</span>&nbsp;<span class="op" id="4011706">&gt;&gt;</span>&nbsp;<span class="num" id="4011709">8</span><span class="op" id="4011710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011715">h</span><span class="op" id="4011716">.</span><span class="ident" id="4011717">buf</span><span class="op" id="4011720">[</span><span class="num" id="4011721">3</span><span class="op" id="4011722">]</span>&nbsp;<span class="op" id="4011724">=</span>&nbsp;<span class="builtintype" id="4011726">byte</span><span class="op" id="4011730">(</span><span class="ident" id="4011731">h</span><span class="op" id="4011732">.</span><span class="ident" id="4011733">n</span><span class="op" id="4011734">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011739">Encode</span><span class="op" id="4011745">(</span><span class="ident" id="4011746">h</span><span class="op" id="4011747">.</span><span class="ident" id="4011748">buf</span><span class="op" id="4011751">[</span><span class="num" id="4011752">4</span><span class="op" id="4011753">:</span><span class="op" id="4011754">]</span><span class="op" id="4011755">,</span>&nbsp;<span class="ident" id="4011757">h</span><span class="op" id="4011758">.</span><span class="ident" id="4011759">buf</span><span class="op" id="4011762">[</span><span class="op" id="4011763">:</span><span class="num" id="4011764">4</span><span class="op" id="4011765">]</span><span class="op" id="4011766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011771">h</span><span class="op" id="4011772">.</span><span class="ident" id="4011773">buf</span><span class="op" id="4011776">[</span><span class="num" id="4011777">12</span><span class="op" id="4011779">]</span>&nbsp;<span class="op" id="4011781">=</span>&nbsp;<span class="string" id="4011783">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011790">h</span><span class="op" id="4011791">.</span><span class="ident" id="4011792">buf</span><span class="op" id="4011795">[</span><span class="num" id="4011796">13</span><span class="op" id="4011798">]</span>&nbsp;<span class="op" id="4011800">=</span>&nbsp;<span class="string" id="4011802">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011809">_</span><span class="op" id="4011810">,</span>&nbsp;<span class="ident" id="4011812">err</span>&nbsp;<span class="op" id="4011816">=</span>&nbsp;<span class="ident" id="4011818">h</span><span class="op" id="4011819">.</span><span class="ident" id="4011820">w</span><span class="op" id="4011821">.</span><span class="ident" id="4011822">Write</span><span class="op" id="4011827">(</span><span class="ident" id="4011828">h</span><span class="op" id="4011829">.</span><span class="ident" id="4011830">buf</span><span class="op" id="4011833">[</span><span class="num" id="4011834">4</span><span class="op" id="4011835">:</span><span class="op" id="4011836">]</span><span class="op" id="4011837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4011842">if</span>&nbsp;<span class="ident" id="4011845">err</span>&nbsp;<span class="op" id="4011849">!=</span>&nbsp;<span class="builtintype" id="4011852">nil</span>&nbsp;<span class="op" id="4011856">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4011862">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4011872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4011876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011880">Encode</span><span class="op" id="4011886">(</span><span class="ident" id="4011887">h</span><span class="op" id="4011888">.</span><span class="ident" id="4011889">buf</span><span class="op" id="4011892">[</span><span class="op" id="4011893">:</span><span class="op" id="4011894">]</span><span class="op" id="4011895">,</span>&nbsp;<span class="ident" id="4011897">data</span><span class="op" id="4011901">[</span><span class="ident" id="4011902">i</span><span class="op" id="4011903">:</span><span class="ident" id="4011904">i</span><span class="op" id="4011905">+</span><span class="num" id="4011906">1</span><span class="op" id="4011907">]</span><span class="op" id="4011908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011912">h</span><span class="op" id="4011913">.</span><span class="ident" id="4011914">buf</span><span class="op" id="4011917">[</span><span class="num" id="4011918">2</span><span class="op" id="4011919">]</span>&nbsp;<span class="op" id="4011921">=</span>&nbsp;<span class="string" id="4011923">&#39;&nbsp;&#39;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4011929">l</span>&nbsp;<span class="op" id="4011931">:=</span>&nbsp;<span class="num" id="4011934">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4011938">if</span>&nbsp;<span class="ident" id="4011941">h</span><span class="op" id="4011942">.</span><span class="ident" id="4011943">used</span>&nbsp;<span class="op" id="4011948">==</span>&nbsp;<span class="num" id="4011951">7</span>&nbsp;<span class="op" id="4011953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4011958">//&nbsp;There&#39;s&nbsp;an&nbsp;additional&nbsp;space&nbsp;after&nbsp;the&nbsp;8th&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012012">h</span><span class="op" id="4012013">.</span><span class="ident" id="4012014">buf</span><span class="op" id="4012017">[</span><span class="num" id="4012018">3</span><span class="op" id="4012019">]</span>&nbsp;<span class="op" id="4012021">=</span>&nbsp;<span class="string" id="4012023">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012030">l</span>&nbsp;<span class="op" id="4012032">=</span>&nbsp;<span class="num" id="4012034">4</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012038">}</span>&nbsp;<span class="keyword" id="4012040">else</span>&nbsp;<span class="keyword" id="4012045">if</span>&nbsp;<span class="ident" id="4012048">h</span><span class="op" id="4012049">.</span><span class="ident" id="4012050">used</span>&nbsp;<span class="op" id="4012055">==</span>&nbsp;<span class="num" id="4012058">15</span>&nbsp;<span class="op" id="4012061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4012066">//&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line&nbsp;there&#39;s&nbsp;an&nbsp;extra&nbsp;space&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4012122">//&nbsp;the&nbsp;bar&nbsp;for&nbsp;the&nbsp;right&nbsp;column.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012158">h</span><span class="op" id="4012159">.</span><span class="ident" id="4012160">buf</span><span class="op" id="4012163">[</span><span class="num" id="4012164">3</span><span class="op" id="4012165">]</span>&nbsp;<span class="op" id="4012167">=</span>&nbsp;<span class="string" id="4012169">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012176">h</span><span class="op" id="4012177">.</span><span class="ident" id="4012178">buf</span><span class="op" id="4012181">[</span><span class="num" id="4012182">4</span><span class="op" id="4012183">]</span>&nbsp;<span class="op" id="4012185">=</span>&nbsp;<span class="string" id="4012187">&#39;|&#39;</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012194">l</span>&nbsp;<span class="op" id="4012196">=</span>&nbsp;<span class="num" id="4012198">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012206">_</span><span class="op" id="4012207">,</span>&nbsp;<span class="ident" id="4012209">err</span>&nbsp;<span class="op" id="4012213">=</span>&nbsp;<span class="ident" id="4012215">h</span><span class="op" id="4012216">.</span><span class="ident" id="4012217">w</span><span class="op" id="4012218">.</span><span class="ident" id="4012219">Write</span><span class="op" id="4012224">(</span><span class="ident" id="4012225">h</span><span class="op" id="4012226">.</span><span class="ident" id="4012227">buf</span><span class="op" id="4012230">[</span><span class="op" id="4012231">:</span><span class="ident" id="4012232">l</span><span class="op" id="4012233">]</span><span class="op" id="4012234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012238">if</span>&nbsp;<span class="ident" id="4012241">err</span>&nbsp;<span class="op" id="4012245">!=</span>&nbsp;<span class="builtintype" id="4012248">nil</span>&nbsp;<span class="op" id="4012252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012257">return</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012270">n</span><span class="op" id="4012271">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012276">h</span><span class="op" id="4012277">.</span><span class="ident" id="4012278">rightChars</span><span class="op" id="4012288">[</span><span class="ident" id="4012289">h</span><span class="op" id="4012290">.</span><span class="ident" id="4012291">used</span><span class="op" id="4012295">]</span>&nbsp;<span class="op" id="4012297">=</span>&nbsp;<span class="ident" id="4012299">toChar</span><span class="op" id="4012305">(</span><span class="ident" id="4012306">data</span><span class="op" id="4012310">[</span><span class="ident" id="4012311">i</span><span class="op" id="4012312">]</span><span class="op" id="4012313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012317">h</span><span class="op" id="4012318">.</span><span class="ident" id="4012319">used</span><span class="op" id="4012323">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012328">h</span><span class="op" id="4012329">.</span><span class="ident" id="4012330">n</span><span class="op" id="4012331">++</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012336">if</span>&nbsp;<span class="ident" id="4012339">h</span><span class="op" id="4012340">.</span><span class="ident" id="4012341">used</span>&nbsp;<span class="op" id="4012346">==</span>&nbsp;<span class="num" id="4012349">16</span>&nbsp;<span class="op" id="4012352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012357">h</span><span class="op" id="4012358">.</span><span class="ident" id="4012359">rightChars</span><span class="op" id="4012369">[</span><span class="num" id="4012370">16</span><span class="op" id="4012372">]</span>&nbsp;<span class="op" id="4012374">=</span>&nbsp;<span class="string" id="4012376">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012383">h</span><span class="op" id="4012384">.</span><span class="ident" id="4012385">rightChars</span><span class="op" id="4012395">[</span><span class="num" id="4012396">17</span><span class="op" id="4012398">]</span>&nbsp;<span class="op" id="4012400">=</span>&nbsp;<span class="string" id="4012402">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012410">_</span><span class="op" id="4012411">,</span>&nbsp;<span class="ident" id="4012413">err</span>&nbsp;<span class="op" id="4012417">=</span>&nbsp;<span class="ident" id="4012419">h</span><span class="op" id="4012420">.</span><span class="ident" id="4012421">w</span><span class="op" id="4012422">.</span><span class="ident" id="4012423">Write</span><span class="op" id="4012428">(</span><span class="ident" id="4012429">h</span><span class="op" id="4012430">.</span><span class="ident" id="4012431">rightChars</span><span class="op" id="4012441">[</span><span class="op" id="4012442">:</span><span class="op" id="4012443">]</span><span class="op" id="4012444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012449">if</span>&nbsp;<span class="ident" id="4012452">err</span>&nbsp;<span class="op" id="4012456">!=</span>&nbsp;<span class="builtintype" id="4012459">nil</span>&nbsp;<span class="op" id="4012463">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012469">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012484">h</span><span class="op" id="4012485">.</span><span class="ident" id="4012486">used</span>&nbsp;<span class="op" id="4012491">=</span>&nbsp;<span class="num" id="4012493">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012500">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012503">return</span><br>
<span class="lineno"></span><span class="op" id="4012510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4012513">func</span>&nbsp;<span class="op" id="4012518">(</span><span class="ident" id="4012519">h</span>&nbsp;<span class="op" id="4012521">*</span><span class="ident" id="4012522">dumper</span><span class="op" id="4012528">)</span>&nbsp;<span class="ident" id="4012530">Close</span><span class="op" id="4012535">(</span><span class="op" id="4012536">)</span>&nbsp;<span class="op" id="4012538">(</span><span class="ident" id="4012539">err</span>&nbsp;<span class="builtintype" id="4012543">error</span><span class="op" id="4012548">)</span>&nbsp;<span class="op" id="4012550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4012553">//&nbsp;See&nbsp;the&nbsp;comments&nbsp;in&nbsp;Write()&nbsp;for&nbsp;the&nbsp;details&nbsp;of&nbsp;this&nbsp;format.</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012617">if</span>&nbsp;<span class="ident" id="4012620">h</span><span class="op" id="4012621">.</span><span class="ident" id="4012622">used</span>&nbsp;<span class="op" id="4012627">==</span>&nbsp;<span class="num" id="4012630">0</span>&nbsp;<span class="op" id="4012632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012636">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012647">h</span><span class="op" id="4012648">.</span><span class="ident" id="4012649">buf</span><span class="op" id="4012652">[</span><span class="num" id="4012653">0</span><span class="op" id="4012654">]</span>&nbsp;<span class="op" id="4012656">=</span>&nbsp;<span class="string" id="4012658">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012663">h</span><span class="op" id="4012664">.</span><span class="ident" id="4012665">buf</span><span class="op" id="4012668">[</span><span class="num" id="4012669">1</span><span class="op" id="4012670">]</span>&nbsp;<span class="op" id="4012672">=</span>&nbsp;<span class="string" id="4012674">&#39;&nbsp;&#39;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012679">h</span><span class="op" id="4012680">.</span><span class="ident" id="4012681">buf</span><span class="op" id="4012684">[</span><span class="num" id="4012685">2</span><span class="op" id="4012686">]</span>&nbsp;<span class="op" id="4012688">=</span>&nbsp;<span class="string" id="4012690">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012695">h</span><span class="op" id="4012696">.</span><span class="ident" id="4012697">buf</span><span class="op" id="4012700">[</span><span class="num" id="4012701">3</span><span class="op" id="4012702">]</span>&nbsp;<span class="op" id="4012704">=</span>&nbsp;<span class="string" id="4012706">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012711">h</span><span class="op" id="4012712">.</span><span class="ident" id="4012713">buf</span><span class="op" id="4012716">[</span><span class="num" id="4012717">4</span><span class="op" id="4012718">]</span>&nbsp;<span class="op" id="4012720">=</span>&nbsp;<span class="string" id="4012722">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012727">nBytes</span>&nbsp;<span class="op" id="4012734">:=</span>&nbsp;<span class="ident" id="4012737">h</span><span class="op" id="4012738">.</span><span class="ident" id="4012739">used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012745">for</span>&nbsp;<span class="ident" id="4012749">h</span><span class="op" id="4012750">.</span><span class="ident" id="4012751">used</span>&nbsp;<span class="op" id="4012756">&lt;</span>&nbsp;<span class="num" id="4012758">16</span>&nbsp;<span class="op" id="4012761">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012765">l</span>&nbsp;<span class="op" id="4012767">:=</span>&nbsp;<span class="num" id="4012770">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012774">if</span>&nbsp;<span class="ident" id="4012777">h</span><span class="op" id="4012778">.</span><span class="ident" id="4012779">used</span>&nbsp;<span class="op" id="4012784">==</span>&nbsp;<span class="num" id="4012787">7</span>&nbsp;<span class="op" id="4012789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012794">l</span>&nbsp;<span class="op" id="4012796">=</span>&nbsp;<span class="num" id="4012798">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012802">}</span>&nbsp;<span class="keyword" id="4012804">else</span>&nbsp;<span class="keyword" id="4012809">if</span>&nbsp;<span class="ident" id="4012812">h</span><span class="op" id="4012813">.</span><span class="ident" id="4012814">used</span>&nbsp;<span class="op" id="4012819">==</span>&nbsp;<span class="num" id="4012822">15</span>&nbsp;<span class="op" id="4012825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012830">l</span>&nbsp;<span class="op" id="4012832">=</span>&nbsp;<span class="num" id="4012834">5</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012842">_</span><span class="op" id="4012843">,</span>&nbsp;<span class="ident" id="4012845">err</span>&nbsp;<span class="op" id="4012849">=</span>&nbsp;<span class="ident" id="4012851">h</span><span class="op" id="4012852">.</span><span class="ident" id="4012853">w</span><span class="op" id="4012854">.</span><span class="ident" id="4012855">Write</span><span class="op" id="4012860">(</span><span class="ident" id="4012861">h</span><span class="op" id="4012862">.</span><span class="ident" id="4012863">buf</span><span class="op" id="4012866">[</span><span class="op" id="4012867">:</span><span class="ident" id="4012868">l</span><span class="op" id="4012869">]</span><span class="op" id="4012870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012874">if</span>&nbsp;<span class="ident" id="4012877">err</span>&nbsp;<span class="op" id="4012881">!=</span>&nbsp;<span class="builtintype" id="4012884">nil</span>&nbsp;<span class="op" id="4012888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4012893">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012902">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012906">h</span><span class="op" id="4012907">.</span><span class="ident" id="4012908">used</span><span class="op" id="4012912">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4012916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012919">h</span><span class="op" id="4012920">.</span><span class="ident" id="4012921">rightChars</span><span class="op" id="4012931">[</span><span class="ident" id="4012932">nBytes</span><span class="op" id="4012938">]</span>&nbsp;<span class="op" id="4012940">=</span>&nbsp;<span class="string" id="4012942">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012947">h</span><span class="op" id="4012948">.</span><span class="ident" id="4012949">rightChars</span><span class="op" id="4012959">[</span><span class="ident" id="4012960">nBytes</span><span class="op" id="4012966">+</span><span class="num" id="4012967">1</span><span class="op" id="4012968">]</span>&nbsp;<span class="op" id="4012970">=</span>&nbsp;<span class="string" id="4012972">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4012978">_</span><span class="op" id="4012979">,</span>&nbsp;<span class="ident" id="4012981">err</span>&nbsp;<span class="op" id="4012985">=</span>&nbsp;<span class="ident" id="4012987">h</span><span class="op" id="4012988">.</span><span class="ident" id="4012989">w</span><span class="op" id="4012990">.</span><span class="ident" id="4012991">Write</span><span class="op" id="4012996">(</span><span class="ident" id="4012997">h</span><span class="op" id="4012998">.</span><span class="ident" id="4012999">rightChars</span><span class="op" id="4013009">[</span><span class="op" id="4013010">:</span><span class="ident" id="4013011">nBytes</span><span class="op" id="4013017">+</span><span class="num" id="4013018">2</span><span class="op" id="4013019">]</span><span class="op" id="4013020">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4013023">return</span><br>
<span class="lineno"></span><span class="op" id="4013030">}</span>
</div>
</body>
</html>
