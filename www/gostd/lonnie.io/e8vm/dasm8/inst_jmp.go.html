<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="4351914">package</span>&nbsp;<span class="ident" id="4351922">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4351929">import</span>&nbsp;<span class="op" id="4351936">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4351939">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4351945">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4351948">var</span>&nbsp;<span class="op" id="4351952">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351955">opJmpMap</span>&nbsp;<span class="op" id="4351964">=</span>&nbsp;<span class="keyword" id="4351966">map</span><span class="op" id="4351969">[</span><span class="builtintype" id="4351970">uint32</span><span class="op" id="4351976">]</span><span class="builtintype" id="4351977">string</span><span class="op" id="4351983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4351987">2</span><span class="op" id="4351988">:</span>&nbsp;<span class="string" id="4351990">&#34;j&#34;</span><span class="op" id="4351993">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4351997">3</span><span class="op" id="4351998">:</span>&nbsp;<span class="string" id="4352000">&#34;jal&#34;</span><span class="op" id="4352005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4352008">}</span><br>
<span class="lineno"></span><span class="op" id="4352010">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4352013">func</span>&nbsp;<span class="ident" id="4352018">instJmp</span><span class="op" id="4352025">(</span><span class="ident" id="4352026">addr</span>&nbsp;<span class="builtintype" id="4352031">uint32</span><span class="op" id="4352037">,</span>&nbsp;<span class="ident" id="4352039">in</span>&nbsp;<span class="builtintype" id="4352042">uint32</span><span class="op" id="4352048">)</span>&nbsp;<span class="op" id="4352050">*</span><span class="ident" id="4352051">Line</span>&nbsp;<span class="op" id="4352056">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4352059">op</span>&nbsp;<span class="op" id="4352062">:=</span>&nbsp;<span class="op" id="4352065">(</span><span class="ident" id="4352066">in</span>&nbsp;<span class="op" id="4352069">&gt;&gt;</span>&nbsp;<span class="num" id="4352072">30</span><span class="op" id="4352074">)</span>&nbsp;<span class="op" id="4352076">&amp;</span>&nbsp;<span class="num" id="4352078">0x3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4352083">off</span>&nbsp;<span class="op" id="4352087">:=</span>&nbsp;<span class="builtintype" id="4352090">int32</span><span class="op" id="4352095">(</span><span class="op" id="4352096">(</span><span class="ident" id="4352097">in</span>&nbsp;<span class="op" id="4352100">&amp;</span>&nbsp;<span class="num" id="4352102">0x3fffffff</span><span class="op" id="4352112">)</span>&nbsp;<span class="op" id="4352114">&lt;&lt;</span>&nbsp;<span class="num" id="4352117">2</span><span class="op" id="4352118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4352121">ret</span>&nbsp;<span class="op" id="4352125">:=</span>&nbsp;<span class="ident" id="4352128">newLine</span><span class="op" id="4352135">(</span><span class="ident" id="4352136">addr</span><span class="op" id="4352140">,</span>&nbsp;<span class="ident" id="4352142">in</span><span class="op" id="4352144">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4352148">if</span>&nbsp;<span class="ident" id="4352151">opStr</span><span class="op" id="4352156">,</span>&nbsp;<span class="ident" id="4352158">found</span>&nbsp;<span class="op" id="4352164">:=</span>&nbsp;<span class="ident" id="4352167">opJmpMap</span><span class="op" id="4352175">[</span><span class="ident" id="4352176">op</span><span class="op" id="4352178">]</span><span class="op" id="4352179">;</span>&nbsp;<span class="ident" id="4352181">found</span>&nbsp;<span class="op" id="4352187">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4352191">s</span>&nbsp;<span class="op" id="4352193">:=</span>&nbsp;<span class="ident" id="4352196">fmt</span><span class="op" id="4352199">.</span><span class="ident" id="4352200">Sprintf</span><span class="op" id="4352207">(</span><span class="string" id="4352208">&#34;%s&nbsp;%d&#34;</span><span class="op" id="4352215">,</span>&nbsp;<span class="ident" id="4352217">opStr</span><span class="op" id="4352222">,</span>&nbsp;<span class="ident" id="4352224">off</span><span class="op" id="4352227">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4352232">ret</span><span class="op" id="4352235">.</span><span class="ident" id="4352236">Str</span>&nbsp;<span class="op" id="4352240">=</span>&nbsp;<span class="ident" id="4352242">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4352246">ret</span><span class="op" id="4352249">.</span><span class="ident" id="4352250">IsJump</span>&nbsp;<span class="op" id="4352257">=</span>&nbsp;<span class="builtintype" id="4352259">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4352266">ret</span><span class="op" id="4352269">.</span><span class="ident" id="4352270">To</span>&nbsp;<span class="op" id="4352273">=</span>&nbsp;<span class="ident" id="4352275">addr</span>&nbsp;<span class="op" id="4352280">+</span>&nbsp;<span class="num" id="4352282">4</span>&nbsp;<span class="op" id="4352284">+</span>&nbsp;<span class="builtintype" id="4352286">uint32</span><span class="op" id="4352292">(</span><span class="ident" id="4352293">off</span><span class="op" id="4352296">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4352299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4352303">return</span>&nbsp;<span class="ident" id="4352310">ret</span><br>
<span class="lineno"></span><span class="op" id="4352314">}</span>
</div>
</body>
</html>
