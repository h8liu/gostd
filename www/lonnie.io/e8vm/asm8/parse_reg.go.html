<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5349116">package</span>&nbsp;<span class="ident" id="5349124">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5349130">import</span>&nbsp;<span class="op" id="5349137">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349140">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5349162">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5349165">var</span>&nbsp;<span class="ident" id="5349169">regNameMap</span>&nbsp;<span class="op" id="5349180">=</span>&nbsp;<span class="keyword" id="5349182">map</span><span class="op" id="5349185">[</span><span class="builtintype" id="5349186">string</span><span class="op" id="5349192">]</span><span class="builtintype" id="5349193">uint32</span><span class="op" id="5349199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349202">&#34;r0&#34;</span><span class="op" id="5349206">:</span>&nbsp;<span class="num" id="5349208">0</span><span class="op" id="5349209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349212">&#34;r1&#34;</span><span class="op" id="5349216">:</span>&nbsp;<span class="num" id="5349218">1</span><span class="op" id="5349219">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349222">&#34;r2&#34;</span><span class="op" id="5349226">:</span>&nbsp;<span class="num" id="5349228">2</span><span class="op" id="5349229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349232">&#34;r3&#34;</span><span class="op" id="5349236">:</span>&nbsp;<span class="num" id="5349238">3</span><span class="op" id="5349239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349242">&#34;r4&#34;</span><span class="op" id="5349246">:</span>&nbsp;<span class="num" id="5349248">4</span><span class="op" id="5349249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349252">&#34;r5&#34;</span><span class="op" id="5349256">:</span>&nbsp;<span class="num" id="5349258">5</span><span class="op" id="5349259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349262">&#34;r6&#34;</span><span class="op" id="5349266">:</span>&nbsp;<span class="num" id="5349268">6</span><span class="op" id="5349269">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349272">&#34;r7&#34;</span><span class="op" id="5349276">:</span>&nbsp;<span class="num" id="5349278">7</span><span class="op" id="5349279">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349283">&#34;sp&#34;</span><span class="op" id="5349287">:</span>&nbsp;&nbsp;<span class="num" id="5349290">5</span><span class="op" id="5349291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349294">&#34;ret&#34;</span><span class="op" id="5349299">:</span>&nbsp;<span class="num" id="5349301">6</span><span class="op" id="5349302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5349305">&#34;pc&#34;</span><span class="op" id="5349309">:</span>&nbsp;&nbsp;<span class="num" id="5349312">7</span><span class="op" id="5349313">,</span><br>
<span class="lineno">20</span><span class="op" id="5349315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5349318">func</span>&nbsp;<span class="ident" id="5349323">parseReg</span><span class="op" id="5349331">(</span><span class="ident" id="5349332">p</span>&nbsp;<span class="op" id="5349334">*</span><span class="ident" id="5349335"><a href="/lonnie.io/e8vm/asm8/parser.go.html#5352831">parser</a></span><span class="op" id="5349341">,</span>&nbsp;<span class="ident" id="5349343">op</span>&nbsp;<span class="op" id="5349346">*</span><span class="ident" id="5349347"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#5349140">lex8</a></span><span class="op" id="5349351">.</span><span class="ident" id="5349352">Token</span><span class="op" id="5349357">)</span>&nbsp;<span class="builtintype" id="5349359">uint32</span>&nbsp;<span class="op" id="5349366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5349369">if</span>&nbsp;<span class="ident" id="5349372"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#5349343">op</a></span><span class="op" id="5349374">.</span><span class="ident" id="5349375">Type</span>&nbsp;<span class="op" id="5349380">!=</span>&nbsp;<span class="ident" id="5349383"><a href="/lonnie.io/e8vm/asm8/token.go.html#5359834">Operand</a></span>&nbsp;<span class="op" id="5349391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5349395">panic</span><span class="op" id="5349400">(</span><span class="string" id="5349401">&#34;not&nbsp;an&nbsp;operand&#34;</span><span class="op" id="5349417">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5349420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5349424">ret</span><span class="op" id="5349427">,</span>&nbsp;<span class="ident" id="5349429">found</span>&nbsp;<span class="op" id="5349435">:=</span>&nbsp;<span class="ident" id="5349438"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#5349169">regNameMap</a></span><span class="op" id="5349448">[</span><span class="ident" id="5349449"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#5349343">op</a></span><span class="op" id="5349451">.</span><span class="ident" id="5349452">Lit</span><span class="op" id="5349455">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5349458">if</span>&nbsp;<span class="op" id="5349461">!</span><span class="ident" id="5349462"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#5349429">found</a></span>&nbsp;<span class="op" id="5349468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5349472"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#5349332">p</a></span><span class="op" id="5349473">.</span><span class="ident" id="5349474">err</span><span class="op" id="5349477">(</span><span class="ident" id="5349478"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#5349343">op</a></span><span class="op" id="5349480">.</span><span class="ident" id="5349481">Pos</span><span class="op" id="5349484">,</span>&nbsp;<span class="string" id="5349486">&#34;invalid&nbsp;register&nbsp;name&nbsp;%q&#34;</span><span class="op" id="5349512">,</span>&nbsp;<span class="ident" id="5349514"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#5349343">op</a></span><span class="op" id="5349516">.</span><span class="ident" id="5349517">Lit</span><span class="op" id="5349520">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5349524">return</span>&nbsp;<span class="num" id="5349531">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5349534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5349537">return</span>&nbsp;<span class="ident" id="5349544"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#5349424">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5349548">}</span>
</div>
</body>
</html>
