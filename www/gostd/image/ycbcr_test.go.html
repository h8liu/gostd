<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html" class="current">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7312507">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7312562">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7312616">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7312667">package</span>&nbsp;<span class="ident" id="7312675">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7312682">import</span>&nbsp;<span class="op" id="7312689">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7312692">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7312707">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7312717">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7312720">func</span>&nbsp;<span class="ident" id="7312725">TestYCbCr</span><span class="op" id="7312734">(</span><span class="ident" id="7312735">t</span>&nbsp;<span class="op" id="7312737">*</span><span class="ident" id="7312738"><a href="/gostd/image/ycbcr_test.go.html#7312707">testing</a></span><span class="op" id="7312745">.</span><span class="ident" id="7312746"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7312747">)</span>&nbsp;<span class="op" id="7312749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312752">rects</span>&nbsp;<span class="op" id="7312758">:=</span>&nbsp;<span class="op" id="7312761">[</span><span class="op" id="7312762">]</span><span class="ident" id="7312763"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="7312772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312776"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312780">(</span><span class="num" id="7312781">0</span><span class="op" id="7312782">,</span>&nbsp;<span class="num" id="7312784">0</span><span class="op" id="7312785">,</span>&nbsp;<span class="num" id="7312787">16</span><span class="op" id="7312789">,</span>&nbsp;<span class="num" id="7312791">16</span><span class="op" id="7312793">)</span><span class="op" id="7312794">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312798"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312802">(</span><span class="num" id="7312803">1</span><span class="op" id="7312804">,</span>&nbsp;<span class="num" id="7312806">0</span><span class="op" id="7312807">,</span>&nbsp;<span class="num" id="7312809">16</span><span class="op" id="7312811">,</span>&nbsp;<span class="num" id="7312813">16</span><span class="op" id="7312815">)</span><span class="op" id="7312816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312820"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312824">(</span><span class="num" id="7312825">0</span><span class="op" id="7312826">,</span>&nbsp;<span class="num" id="7312828">1</span><span class="op" id="7312829">,</span>&nbsp;<span class="num" id="7312831">16</span><span class="op" id="7312833">,</span>&nbsp;<span class="num" id="7312835">16</span><span class="op" id="7312837">)</span><span class="op" id="7312838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312842"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312846">(</span><span class="num" id="7312847">1</span><span class="op" id="7312848">,</span>&nbsp;<span class="num" id="7312850">1</span><span class="op" id="7312851">,</span>&nbsp;<span class="num" id="7312853">16</span><span class="op" id="7312855">,</span>&nbsp;<span class="num" id="7312857">16</span><span class="op" id="7312859">)</span><span class="op" id="7312860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312864"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312868">(</span><span class="num" id="7312869">1</span><span class="op" id="7312870">,</span>&nbsp;<span class="num" id="7312872">1</span><span class="op" id="7312873">,</span>&nbsp;<span class="num" id="7312875">15</span><span class="op" id="7312877">,</span>&nbsp;<span class="num" id="7312879">16</span><span class="op" id="7312881">)</span><span class="op" id="7312882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312886"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312890">(</span><span class="num" id="7312891">1</span><span class="op" id="7312892">,</span>&nbsp;<span class="num" id="7312894">1</span><span class="op" id="7312895">,</span>&nbsp;<span class="num" id="7312897">16</span><span class="op" id="7312899">,</span>&nbsp;<span class="num" id="7312901">15</span><span class="op" id="7312903">)</span><span class="op" id="7312904">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312908"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312912">(</span><span class="num" id="7312913">1</span><span class="op" id="7312914">,</span>&nbsp;<span class="num" id="7312916">1</span><span class="op" id="7312917">,</span>&nbsp;<span class="num" id="7312919">15</span><span class="op" id="7312921">,</span>&nbsp;<span class="num" id="7312923">15</span><span class="op" id="7312925">)</span><span class="op" id="7312926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312930"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312934">(</span><span class="num" id="7312935">2</span><span class="op" id="7312936">,</span>&nbsp;<span class="num" id="7312938">3</span><span class="op" id="7312939">,</span>&nbsp;<span class="num" id="7312941">14</span><span class="op" id="7312943">,</span>&nbsp;<span class="num" id="7312945">15</span><span class="op" id="7312947">)</span><span class="op" id="7312948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312952"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312956">(</span><span class="num" id="7312957">7</span><span class="op" id="7312958">,</span>&nbsp;<span class="num" id="7312960">0</span><span class="op" id="7312961">,</span>&nbsp;<span class="num" id="7312963">7</span><span class="op" id="7312964">,</span>&nbsp;<span class="num" id="7312966">16</span><span class="op" id="7312968">)</span><span class="op" id="7312969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312973"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312977">(</span><span class="num" id="7312978">0</span><span class="op" id="7312979">,</span>&nbsp;<span class="num" id="7312981">8</span><span class="op" id="7312982">,</span>&nbsp;<span class="num" id="7312984">16</span><span class="op" id="7312986">,</span>&nbsp;<span class="num" id="7312988">8</span><span class="op" id="7312989">)</span><span class="op" id="7312990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7312994"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7312998">(</span><span class="num" id="7312999">0</span><span class="op" id="7313000">,</span>&nbsp;<span class="num" id="7313002">0</span><span class="op" id="7313003">,</span>&nbsp;<span class="num" id="7313005">10</span><span class="op" id="7313007">,</span>&nbsp;<span class="num" id="7313009">11</span><span class="op" id="7313011">)</span><span class="op" id="7313012">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313016"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7313020">(</span><span class="num" id="7313021">5</span><span class="op" id="7313022">,</span>&nbsp;<span class="num" id="7313024">6</span><span class="op" id="7313025">,</span>&nbsp;<span class="num" id="7313027">16</span><span class="op" id="7313029">,</span>&nbsp;<span class="num" id="7313031">16</span><span class="op" id="7313033">)</span><span class="op" id="7313034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313038"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7313042">(</span><span class="num" id="7313043">7</span><span class="op" id="7313044">,</span>&nbsp;<span class="num" id="7313046">7</span><span class="op" id="7313047">,</span>&nbsp;<span class="num" id="7313049">8</span><span class="op" id="7313050">,</span>&nbsp;<span class="num" id="7313052">8</span><span class="op" id="7313053">)</span><span class="op" id="7313054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313058"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7313062">(</span><span class="num" id="7313063">7</span><span class="op" id="7313064">,</span>&nbsp;<span class="num" id="7313066">8</span><span class="op" id="7313067">,</span>&nbsp;<span class="num" id="7313069">8</span><span class="op" id="7313070">,</span>&nbsp;<span class="num" id="7313072">9</span><span class="op" id="7313073">)</span><span class="op" id="7313074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313078"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7313082">(</span><span class="num" id="7313083">8</span><span class="op" id="7313084">,</span>&nbsp;<span class="num" id="7313086">7</span><span class="op" id="7313087">,</span>&nbsp;<span class="num" id="7313089">9</span><span class="op" id="7313090">,</span>&nbsp;<span class="num" id="7313092">8</span><span class="op" id="7313093">)</span><span class="op" id="7313094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313098"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7313102">(</span><span class="num" id="7313103">8</span><span class="op" id="7313104">,</span>&nbsp;<span class="num" id="7313106">8</span><span class="op" id="7313107">,</span>&nbsp;<span class="num" id="7313109">9</span><span class="op" id="7313110">,</span>&nbsp;<span class="num" id="7313112">9</span><span class="op" id="7313113">)</span><span class="op" id="7313114">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313118"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7313122">(</span><span class="num" id="7313123">7</span><span class="op" id="7313124">,</span>&nbsp;<span class="num" id="7313126">7</span><span class="op" id="7313127">,</span>&nbsp;<span class="num" id="7313129">17</span><span class="op" id="7313131">,</span>&nbsp;<span class="num" id="7313133">17</span><span class="op" id="7313135">)</span><span class="op" id="7313136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313140"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7313144">(</span><span class="num" id="7313145">8</span><span class="op" id="7313146">,</span>&nbsp;<span class="num" id="7313148">8</span><span class="op" id="7313149">,</span>&nbsp;<span class="num" id="7313151">17</span><span class="op" id="7313153">,</span>&nbsp;<span class="num" id="7313155">17</span><span class="op" id="7313157">)</span><span class="op" id="7313158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313162"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7313166">(</span><span class="num" id="7313167">9</span><span class="op" id="7313168">,</span>&nbsp;<span class="num" id="7313170">9</span><span class="op" id="7313171">,</span>&nbsp;<span class="num" id="7313173">17</span><span class="op" id="7313175">,</span>&nbsp;<span class="num" id="7313177">17</span><span class="op" id="7313179">)</span><span class="op" id="7313180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313184"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7313188">(</span><span class="num" id="7313189">10</span><span class="op" id="7313191">,</span>&nbsp;<span class="num" id="7313193">10</span><span class="op" id="7313195">,</span>&nbsp;<span class="num" id="7313197">17</span><span class="op" id="7313199">,</span>&nbsp;<span class="num" id="7313201">17</span><span class="op" id="7313203">)</span><span class="op" id="7313204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313207">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313210">subsampleRatios</span>&nbsp;<span class="op" id="7313226">:=</span>&nbsp;<span class="op" id="7313229">[</span><span class="op" id="7313230">]</span><span class="ident" id="7313231"><a href="/gostd/image/ycbcr.go.html#5180677">YCbCrSubsampleRatio</a></span><span class="op" id="7313250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313254"><a href="/gostd/image/ycbcr.go.html#5180711">YCbCrSubsampleRatio444</a></span><span class="op" id="7313276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313280"><a href="/gostd/image/ycbcr.go.html#5180762">YCbCrSubsampleRatio422</a></span><span class="op" id="7313302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313306"><a href="/gostd/image/ycbcr.go.html#5180786">YCbCrSubsampleRatio420</a></span><span class="op" id="7313328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313332"><a href="/gostd/image/ycbcr.go.html#5180810">YCbCrSubsampleRatio440</a></span><span class="op" id="7313354">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313360">deltas</span>&nbsp;<span class="op" id="7313367">:=</span>&nbsp;<span class="op" id="7313370">[</span><span class="op" id="7313371">]</span><span class="ident" id="7313372"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="7313377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313381"><a href="/gostd/image/geom.go.html#5149691">Pt</a></span><span class="op" id="7313383">(</span><span class="num" id="7313384">0</span><span class="op" id="7313385">,</span>&nbsp;<span class="num" id="7313387">0</span><span class="op" id="7313388">)</span><span class="op" id="7313389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313393"><a href="/gostd/image/geom.go.html#5149691">Pt</a></span><span class="op" id="7313395">(</span><span class="num" id="7313396">1000</span><span class="op" id="7313400">,</span>&nbsp;<span class="num" id="7313402">1001</span><span class="op" id="7313406">)</span><span class="op" id="7313407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313411"><a href="/gostd/image/geom.go.html#5149691">Pt</a></span><span class="op" id="7313413">(</span><span class="num" id="7313414">5001</span><span class="op" id="7313418">,</span>&nbsp;<span class="op" id="7313420">-</span><span class="num" id="7313421">400</span><span class="op" id="7313424">)</span><span class="op" id="7313425">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313429"><a href="/gostd/image/geom.go.html#5149691">Pt</a></span><span class="op" id="7313431">(</span><span class="op" id="7313432">-</span><span class="num" id="7313433">701</span><span class="op" id="7313436">,</span>&nbsp;<span class="op" id="7313438">-</span><span class="num" id="7313439">801</span><span class="op" id="7313442">)</span><span class="op" id="7313443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7313449">for</span>&nbsp;<span class="ident" id="7313453">_</span><span class="op" id="7313454">,</span>&nbsp;<span class="ident" id="7313456">r</span>&nbsp;<span class="op" id="7313458">:=</span>&nbsp;<span class="keyword" id="7313461">range</span>&nbsp;<span class="ident" id="7313467"><a href="/gostd/image/ycbcr_test.go.html#7312752">rects</a></span>&nbsp;<span class="op" id="7313473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7313477">for</span>&nbsp;<span class="ident" id="7313481">_</span><span class="op" id="7313482">,</span>&nbsp;<span class="ident" id="7313484">subsampleRatio</span>&nbsp;<span class="op" id="7313499">:=</span>&nbsp;<span class="keyword" id="7313502">range</span>&nbsp;<span class="ident" id="7313508"><a href="/gostd/image/ycbcr_test.go.html#7313210">subsampleRatios</a></span>&nbsp;<span class="op" id="7313524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7313529">for</span>&nbsp;<span class="ident" id="7313533">_</span><span class="op" id="7313534">,</span>&nbsp;<span class="ident" id="7313536">delta</span>&nbsp;<span class="op" id="7313542">:=</span>&nbsp;<span class="keyword" id="7313545">range</span>&nbsp;<span class="ident" id="7313551"><a href="/gostd/image/ycbcr_test.go.html#7313360">deltas</a></span>&nbsp;<span class="op" id="7313558">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313564"><a href="/gostd/image/ycbcr_test.go.html#7313659">testYCbCr</a></span><span class="op" id="7313573">(</span><span class="ident" id="7313574"><a href="/gostd/image/ycbcr_test.go.html#7312735">t</a></span><span class="op" id="7313575">,</span>&nbsp;<span class="ident" id="7313577"><a href="/gostd/image/ycbcr_test.go.html#7313456">r</a></span><span class="op" id="7313578">,</span>&nbsp;<span class="ident" id="7313580"><a href="/gostd/image/ycbcr_test.go.html#7313484">subsampleRatio</a></span><span class="op" id="7313594">,</span>&nbsp;<span class="ident" id="7313596"><a href="/gostd/image/ycbcr_test.go.html#7313536">delta</a></span><span class="op" id="7313601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7313614">if</span>&nbsp;<span class="ident" id="7313617"><a href="/gostd/image/ycbcr_test.go.html#7312707">testing</a></span><span class="op" id="7313624">.</span><span class="ident" id="7313625"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="7313630">(</span><span class="op" id="7313631">)</span>&nbsp;<span class="op" id="7313633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7313638">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313649">}</span><br>
<span class="lineno"></span><span class="op" id="7313651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7313654">func</span>&nbsp;<span class="ident" id="7313659">testYCbCr</span><span class="op" id="7313668">(</span><span class="ident" id="7313669">t</span>&nbsp;<span class="op" id="7313671">*</span><span class="ident" id="7313672"><a href="/gostd/image/ycbcr_test.go.html#7312707">testing</a></span><span class="op" id="7313679">.</span><span class="ident" id="7313680"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7313681">,</span>&nbsp;<span class="ident" id="7313683">r</span>&nbsp;<span class="ident" id="7313685"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="7313694">,</span>&nbsp;<span class="ident" id="7313696">subsampleRatio</span>&nbsp;<span class="ident" id="7313711"><a href="/gostd/image/ycbcr.go.html#5180677">YCbCrSubsampleRatio</a></span><span class="op" id="7313730">,</span>&nbsp;<span class="ident" id="7313732">delta</span>&nbsp;<span class="ident" id="7313738"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="7313743">)</span>&nbsp;<span class="op" id="7313745">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7313748">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313829">r1</span>&nbsp;<span class="op" id="7313832">:=</span>&nbsp;<span class="ident" id="7313835"><a href="/gostd/image/ycbcr_test.go.html#7313683">r</a></span><span class="op" id="7313836">.</span><span class="ident" id="7313837"><a href="/gostd/image/geom.go.html#5150558">Add</a></span><span class="op" id="7313840">(</span><span class="ident" id="7313841"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7313846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7313849">m</span>&nbsp;<span class="op" id="7313851">:=</span>&nbsp;<span class="ident" id="7313854"><a href="/gostd/image/ycbcr.go.html#5184142">NewYCbCr</a></span><span class="op" id="7313862">(</span><span class="ident" id="7313863"><a href="/gostd/image/ycbcr_test.go.html#7313829">r1</a></span><span class="op" id="7313865">,</span>&nbsp;<span class="ident" id="7313867"><a href="/gostd/image/ycbcr_test.go.html#7313696">subsampleRatio</a></span><span class="op" id="7313881">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7313885">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7313987">if</span>&nbsp;<span class="builtinfunc" id="7313990">len</span><span class="op" id="7313993">(</span><span class="ident" id="7313994"><a href="/gostd/image/ycbcr_test.go.html#7313849">m</a></span><span class="op" id="7313995">.</span><span class="ident" id="7313996"><a href="/gostd/image/ycbcr.go.html#5181929">Y</a></span><span class="op" id="7313997">)</span>&nbsp;<span class="op" id="7313999">&gt;</span>&nbsp;<span class="num" id="7314001">100</span><span class="op" id="7314004">*</span><span class="num" id="7314005">100</span>&nbsp;<span class="op" id="7314009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7314013"><a href="/gostd/image/ycbcr_test.go.html#7313669">t</a></span><span class="op" id="7314014">.</span><span class="ident" id="7314015"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7314021">(</span><span class="string" id="7314022">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="7314084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7314089"><a href="/gostd/image/ycbcr_test.go.html#7313683">r</a></span><span class="op" id="7314090">,</span>&nbsp;<span class="ident" id="7314092"><a href="/gostd/image/ycbcr_test.go.html#7313696">subsampleRatio</a></span><span class="op" id="7314106">,</span>&nbsp;<span class="ident" id="7314108"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7314113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7314117">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7314125">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7314129">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7314216">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7314298">for</span>&nbsp;<span class="ident" id="7314302">y</span>&nbsp;<span class="op" id="7314304">:=</span>&nbsp;<span class="ident" id="7314307"><a href="/gostd/image/ycbcr_test.go.html#7313829">r1</a></span><span class="op" id="7314309">.</span><span class="ident" id="7314310"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="7314313">.</span><span class="ident" id="7314314"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="7314315">;</span>&nbsp;<span class="ident" id="7314317"><a href="/gostd/image/ycbcr_test.go.html#7314302">y</a></span>&nbsp;<span class="op" id="7314319">&lt;</span>&nbsp;<span class="ident" id="7314321"><a href="/gostd/image/ycbcr_test.go.html#7313829">r1</a></span><span class="op" id="7314323">.</span><span class="ident" id="7314324"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="7314327">.</span><span class="ident" id="7314328"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="7314329">;</span>&nbsp;<span class="ident" id="7314331"><a href="/gostd/image/ycbcr_test.go.html#7314302">y</a></span><span class="op" id="7314332">++</span>&nbsp;<span class="op" id="7314335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7314339">for</span>&nbsp;<span class="ident" id="7314343">x</span>&nbsp;<span class="op" id="7314345">:=</span>&nbsp;<span class="ident" id="7314348"><a href="/gostd/image/ycbcr_test.go.html#7313829">r1</a></span><span class="op" id="7314350">.</span><span class="ident" id="7314351"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="7314354">.</span><span class="ident" id="7314355"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="7314356">;</span>&nbsp;<span class="ident" id="7314358"><a href="/gostd/image/ycbcr_test.go.html#7314343">x</a></span>&nbsp;<span class="op" id="7314360">&lt;</span>&nbsp;<span class="ident" id="7314362"><a href="/gostd/image/ycbcr_test.go.html#7313829">r1</a></span><span class="op" id="7314364">.</span><span class="ident" id="7314365"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="7314368">.</span><span class="ident" id="7314369"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="7314370">;</span>&nbsp;<span class="ident" id="7314372"><a href="/gostd/image/ycbcr_test.go.html#7314343">x</a></span><span class="op" id="7314373">++</span>&nbsp;<span class="op" id="7314376">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7314381">yi</span>&nbsp;<span class="op" id="7314384">:=</span>&nbsp;<span class="ident" id="7314387"><a href="/gostd/image/ycbcr_test.go.html#7313849">m</a></span><span class="op" id="7314388">.</span><span class="ident" id="7314389"><a href="/gostd/image/ycbcr.go.html#5182582">YOffset</a></span><span class="op" id="7314396">(</span><span class="ident" id="7314397"><a href="/gostd/image/ycbcr_test.go.html#7314343">x</a></span><span class="op" id="7314398">,</span>&nbsp;<span class="ident" id="7314400"><a href="/gostd/image/ycbcr_test.go.html#7314302">y</a></span><span class="op" id="7314401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7314406">ci</span>&nbsp;<span class="op" id="7314409">:=</span>&nbsp;<span class="ident" id="7314412"><a href="/gostd/image/ycbcr_test.go.html#7313849">m</a></span><span class="op" id="7314413">.</span><span class="ident" id="7314414"><a href="/gostd/image/ycbcr.go.html#5182787">COffset</a></span><span class="op" id="7314421">(</span><span class="ident" id="7314422"><a href="/gostd/image/ycbcr_test.go.html#7314343">x</a></span><span class="op" id="7314423">,</span>&nbsp;<span class="ident" id="7314425"><a href="/gostd/image/ycbcr_test.go.html#7314302">y</a></span><span class="op" id="7314426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7314431"><a href="/gostd/image/ycbcr_test.go.html#7313849">m</a></span><span class="op" id="7314432">.</span><span class="ident" id="7314433"><a href="/gostd/image/ycbcr.go.html#5181929">Y</a></span><span class="op" id="7314434">[</span><span class="ident" id="7314435"><a href="/gostd/image/ycbcr_test.go.html#7314381">yi</a></span><span class="op" id="7314437">]</span>&nbsp;<span class="op" id="7314439">=</span>&nbsp;<span class="builtintype" id="7314441">uint8</span><span class="op" id="7314446">(</span><span class="num" id="7314447">16</span><span class="op" id="7314449">*</span><span class="ident" id="7314450"><a href="/gostd/image/ycbcr_test.go.html#7314302">y</a></span>&nbsp;<span class="op" id="7314452">+</span>&nbsp;<span class="ident" id="7314454"><a href="/gostd/image/ycbcr_test.go.html#7314343">x</a></span><span class="op" id="7314455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7314460"><a href="/gostd/image/ycbcr_test.go.html#7313849">m</a></span><span class="op" id="7314461">.</span><span class="ident" id="7314462"><a href="/gostd/image/ycbcr.go.html#5181932">Cb</a></span><span class="op" id="7314464">[</span><span class="ident" id="7314465"><a href="/gostd/image/ycbcr_test.go.html#7314406">ci</a></span><span class="op" id="7314467">]</span>&nbsp;<span class="op" id="7314469">=</span>&nbsp;<span class="builtintype" id="7314471">uint8</span><span class="op" id="7314476">(</span><span class="ident" id="7314477"><a href="/gostd/image/ycbcr_test.go.html#7314302">y</a></span>&nbsp;<span class="op" id="7314479">+</span>&nbsp;<span class="num" id="7314481">16</span><span class="op" id="7314483">*</span><span class="ident" id="7314484"><a href="/gostd/image/ycbcr_test.go.html#7314343">x</a></span><span class="op" id="7314485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7314490"><a href="/gostd/image/ycbcr_test.go.html#7313849">m</a></span><span class="op" id="7314491">.</span><span class="ident" id="7314492"><a href="/gostd/image/ycbcr.go.html#5181936">Cr</a></span><span class="op" id="7314494">[</span><span class="ident" id="7314495"><a href="/gostd/image/ycbcr_test.go.html#7314406">ci</a></span><span class="op" id="7314497">]</span>&nbsp;<span class="op" id="7314499">=</span>&nbsp;<span class="builtintype" id="7314501">uint8</span><span class="op" id="7314506">(</span><span class="ident" id="7314507"><a href="/gostd/image/ycbcr_test.go.html#7314302">y</a></span>&nbsp;<span class="op" id="7314509">+</span>&nbsp;<span class="num" id="7314511">16</span><span class="op" id="7314513">*</span><span class="ident" id="7314514"><a href="/gostd/image/ycbcr_test.go.html#7314343">x</a></span><span class="op" id="7314515">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7314519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7314522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7314526">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7314560">for</span>&nbsp;<span class="ident" id="7314564">y0</span>&nbsp;<span class="op" id="7314567">:=</span>&nbsp;<span class="ident" id="7314570"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7314575">.</span><span class="ident" id="7314576"><a href="/gostd/image/geom.go.html#5148454">Y</a></span>&nbsp;<span class="op" id="7314578">+</span>&nbsp;<span class="num" id="7314580">3</span><span class="op" id="7314581">;</span>&nbsp;<span class="ident" id="7314583"><a href="/gostd/image/ycbcr_test.go.html#7314564">y0</a></span>&nbsp;<span class="op" id="7314586">&lt;</span>&nbsp;<span class="ident" id="7314588"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7314593">.</span><span class="ident" id="7314594"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="7314595">+</span><span class="num" id="7314596">7</span><span class="op" id="7314597">;</span>&nbsp;<span class="ident" id="7314599"><a href="/gostd/image/ycbcr_test.go.html#7314564">y0</a></span><span class="op" id="7314601">++</span>&nbsp;<span class="op" id="7314604">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7314608">for</span>&nbsp;<span class="ident" id="7314612">y1</span>&nbsp;<span class="op" id="7314615">:=</span>&nbsp;<span class="ident" id="7314618"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7314623">.</span><span class="ident" id="7314624"><a href="/gostd/image/geom.go.html#5148454">Y</a></span>&nbsp;<span class="op" id="7314626">+</span>&nbsp;<span class="num" id="7314628">8</span><span class="op" id="7314629">;</span>&nbsp;<span class="ident" id="7314631"><a href="/gostd/image/ycbcr_test.go.html#7314612">y1</a></span>&nbsp;<span class="op" id="7314634">&lt;</span>&nbsp;<span class="ident" id="7314636"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7314641">.</span><span class="ident" id="7314642"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="7314643">+</span><span class="num" id="7314644">13</span><span class="op" id="7314646">;</span>&nbsp;<span class="ident" id="7314648"><a href="/gostd/image/ycbcr_test.go.html#7314612">y1</a></span><span class="op" id="7314650">++</span>&nbsp;<span class="op" id="7314653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7314658">for</span>&nbsp;<span class="ident" id="7314662">x0</span>&nbsp;<span class="op" id="7314665">:=</span>&nbsp;<span class="ident" id="7314668"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7314673">.</span><span class="ident" id="7314674"><a href="/gostd/image/geom.go.html#5148451">X</a></span>&nbsp;<span class="op" id="7314676">+</span>&nbsp;<span class="num" id="7314678">3</span><span class="op" id="7314679">;</span>&nbsp;<span class="ident" id="7314681"><a href="/gostd/image/ycbcr_test.go.html#7314662">x0</a></span>&nbsp;<span class="op" id="7314684">&lt;</span>&nbsp;<span class="ident" id="7314686"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7314691">.</span><span class="ident" id="7314692"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="7314693">+</span><span class="num" id="7314694">7</span><span class="op" id="7314695">;</span>&nbsp;<span class="ident" id="7314697"><a href="/gostd/image/ycbcr_test.go.html#7314662">x0</a></span><span class="op" id="7314699">++</span>&nbsp;<span class="op" id="7314702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7314708">for</span>&nbsp;<span class="ident" id="7314712">x1</span>&nbsp;<span class="op" id="7314715">:=</span>&nbsp;<span class="ident" id="7314718"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7314723">.</span><span class="ident" id="7314724"><a href="/gostd/image/geom.go.html#5148451">X</a></span>&nbsp;<span class="op" id="7314726">+</span>&nbsp;<span class="num" id="7314728">8</span><span class="op" id="7314729">;</span>&nbsp;<span class="ident" id="7314731"><a href="/gostd/image/ycbcr_test.go.html#7314712">x1</a></span>&nbsp;<span class="op" id="7314734">&lt;</span>&nbsp;<span class="ident" id="7314736"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7314741">.</span><span class="ident" id="7314742"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="7314743">+</span><span class="num" id="7314744">13</span><span class="op" id="7314746">;</span>&nbsp;<span class="ident" id="7314748"><a href="/gostd/image/ycbcr_test.go.html#7314712">x1</a></span><span class="op" id="7314750">++</span>&nbsp;<span class="op" id="7314753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7314760">subRect</span>&nbsp;<span class="op" id="7314768">:=</span>&nbsp;<span class="ident" id="7314771"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="7314775">(</span><span class="ident" id="7314776"><a href="/gostd/image/ycbcr_test.go.html#7314662">x0</a></span><span class="op" id="7314778">,</span>&nbsp;<span class="ident" id="7314780"><a href="/gostd/image/ycbcr_test.go.html#7314564">y0</a></span><span class="op" id="7314782">,</span>&nbsp;<span class="ident" id="7314784"><a href="/gostd/image/ycbcr_test.go.html#7314712">x1</a></span><span class="op" id="7314786">,</span>&nbsp;<span class="ident" id="7314788"><a href="/gostd/image/ycbcr_test.go.html#7314612">y1</a></span><span class="op" id="7314790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7314797">sub</span>&nbsp;<span class="op" id="7314801">:=</span>&nbsp;<span class="ident" id="7314804"><a href="/gostd/image/ycbcr_test.go.html#7313849">m</a></span><span class="op" id="7314805">.</span><span class="ident" id="7314806"><a href="/gostd/image/ycbcr.go.html#5183376">SubImage</a></span><span class="op" id="7314814">(</span><span class="ident" id="7314815"><a href="/gostd/image/ycbcr_test.go.html#7314760">subRect</a></span><span class="op" id="7314822">)</span><span class="op" id="7314823">.</span><span class="op" id="7314824">(</span><span class="op" id="7314825">*</span><span class="ident" id="7314826"><a href="/gostd/image/ycbcr.go.html#5181913">YCbCr</a></span><span class="op" id="7314831">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7314839">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7314932">for</span>&nbsp;<span class="ident" id="7314936">y</span>&nbsp;<span class="op" id="7314938">:=</span>&nbsp;<span class="ident" id="7314941"><a href="/gostd/image/ycbcr_test.go.html#7314797">sub</a></span><span class="op" id="7314944">.</span><span class="ident" id="7314945"><a href="/gostd/image/ycbcr.go.html#5182029">Rect</a></span><span class="op" id="7314949">.</span><span class="ident" id="7314950"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="7314953">.</span><span class="ident" id="7314954"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="7314955">;</span>&nbsp;<span class="ident" id="7314957"><a href="/gostd/image/ycbcr_test.go.html#7314936">y</a></span>&nbsp;<span class="op" id="7314959">&lt;</span>&nbsp;<span class="ident" id="7314961"><a href="/gostd/image/ycbcr_test.go.html#7314797">sub</a></span><span class="op" id="7314964">.</span><span class="ident" id="7314965"><a href="/gostd/image/ycbcr.go.html#5182029">Rect</a></span><span class="op" id="7314969">.</span><span class="ident" id="7314970"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="7314973">.</span><span class="ident" id="7314974"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="7314975">;</span>&nbsp;<span class="ident" id="7314977"><a href="/gostd/image/ycbcr_test.go.html#7314936">y</a></span><span class="op" id="7314978">++</span>&nbsp;<span class="op" id="7314981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7314989">for</span>&nbsp;<span class="ident" id="7314993">x</span>&nbsp;<span class="op" id="7314995">:=</span>&nbsp;<span class="ident" id="7314998"><a href="/gostd/image/ycbcr_test.go.html#7314797">sub</a></span><span class="op" id="7315001">.</span><span class="ident" id="7315002"><a href="/gostd/image/ycbcr.go.html#5182029">Rect</a></span><span class="op" id="7315006">.</span><span class="ident" id="7315007"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="7315010">.</span><span class="ident" id="7315011"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="7315012">;</span>&nbsp;<span class="ident" id="7315014"><a href="/gostd/image/ycbcr_test.go.html#7314993">x</a></span>&nbsp;<span class="op" id="7315016">&lt;</span>&nbsp;<span class="ident" id="7315018"><a href="/gostd/image/ycbcr_test.go.html#7314797">sub</a></span><span class="op" id="7315021">.</span><span class="ident" id="7315022"><a href="/gostd/image/ycbcr.go.html#5182029">Rect</a></span><span class="op" id="7315026">.</span><span class="ident" id="7315027"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="7315030">.</span><span class="ident" id="7315031"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="7315032">;</span>&nbsp;<span class="ident" id="7315034"><a href="/gostd/image/ycbcr_test.go.html#7314993">x</a></span><span class="op" id="7315035">++</span>&nbsp;<span class="op" id="7315038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7315047">color0</span>&nbsp;<span class="op" id="7315054">:=</span>&nbsp;<span class="ident" id="7315057"><a href="/gostd/image/ycbcr_test.go.html#7313849">m</a></span><span class="op" id="7315058">.</span><span class="ident" id="7315059"><a href="/gostd/image/ycbcr.go.html#5182199">At</a></span><span class="op" id="7315061">(</span><span class="ident" id="7315062"><a href="/gostd/image/ycbcr_test.go.html#7314993">x</a></span><span class="op" id="7315063">,</span>&nbsp;<span class="ident" id="7315065"><a href="/gostd/image/ycbcr_test.go.html#7314936">y</a></span><span class="op" id="7315066">)</span><span class="op" id="7315067">.</span><span class="op" id="7315068">(</span><span class="ident" id="7315069"><a href="/gostd/image/ycbcr_test.go.html#7312692">color</a></span><span class="op" id="7315074">.</span><span class="ident" id="7315075"><a href="/gostd/image/color/ycbcr.go.html#5193795">YCbCr</a></span><span class="op" id="7315080">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7315089">color1</span>&nbsp;<span class="op" id="7315096">:=</span>&nbsp;<span class="ident" id="7315099"><a href="/gostd/image/ycbcr_test.go.html#7314797">sub</a></span><span class="op" id="7315102">.</span><span class="ident" id="7315103"><a href="/gostd/image/ycbcr.go.html#5182199">At</a></span><span class="op" id="7315105">(</span><span class="ident" id="7315106"><a href="/gostd/image/ycbcr_test.go.html#7314993">x</a></span><span class="op" id="7315107">,</span>&nbsp;<span class="ident" id="7315109"><a href="/gostd/image/ycbcr_test.go.html#7314936">y</a></span><span class="op" id="7315110">)</span><span class="op" id="7315111">.</span><span class="op" id="7315112">(</span><span class="ident" id="7315113"><a href="/gostd/image/ycbcr_test.go.html#7312692">color</a></span><span class="op" id="7315118">.</span><span class="ident" id="7315119"><a href="/gostd/image/color/ycbcr.go.html#5193795">YCbCr</a></span><span class="op" id="7315124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7315133">if</span>&nbsp;<span class="ident" id="7315136"><a href="/gostd/image/ycbcr_test.go.html#7315047">color0</a></span>&nbsp;<span class="op" id="7315143">!=</span>&nbsp;<span class="ident" id="7315146"><a href="/gostd/image/ycbcr_test.go.html#7315089">color1</a></span>&nbsp;<span class="op" id="7315153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7315163"><a href="/gostd/image/ycbcr_test.go.html#7313669">t</a></span><span class="op" id="7315164">.</span><span class="ident" id="7315165"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7315171">(</span><span class="string" id="7315172">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="7315241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7315252"><a href="/gostd/image/ycbcr_test.go.html#7313683">r</a></span><span class="op" id="7315253">,</span>&nbsp;<span class="ident" id="7315255"><a href="/gostd/image/ycbcr_test.go.html#7313696">subsampleRatio</a></span><span class="op" id="7315269">,</span>&nbsp;<span class="ident" id="7315271"><a href="/gostd/image/ycbcr_test.go.html#7313732">delta</a></span><span class="op" id="7315276">,</span>&nbsp;<span class="ident" id="7315278"><a href="/gostd/image/ycbcr_test.go.html#7314993">x</a></span><span class="op" id="7315279">,</span>&nbsp;<span class="ident" id="7315281"><a href="/gostd/image/ycbcr_test.go.html#7314936">y</a></span><span class="op" id="7315282">,</span>&nbsp;<span class="ident" id="7315284"><a href="/gostd/image/ycbcr_test.go.html#7315047">color0</a></span><span class="op" id="7315290">,</span>&nbsp;<span class="ident" id="7315292"><a href="/gostd/image/ycbcr_test.go.html#7315089">color1</a></span><span class="op" id="7315298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7315308">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7315322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7315330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7315337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7315343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7315348">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7315352">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7315355">}</span><br>
<span class="lineno"></span><span class="op" id="7315357">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
