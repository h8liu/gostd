<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/build</h2>
<ul>
<li><a href="/gostd/go/build/build.go.html">build.go</a></li>
<li><a href="/gostd/go/build/build_test.go.html">build_test.go</a></li>
<li><a href="/gostd/go/build/deps_test.go.html">deps_test.go</a></li>
<li><a href="/gostd/go/build/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/build/read.go.html">read.go</a></li>
<li><a href="/gostd/go/build/read_test.go.html" class="current">read_test.go</a></li>
<li><a href="/gostd/go/build/syslist.go.html">syslist.go</a></li>
<li><a href="/gostd/go/build/syslist_test.go.html">syslist_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7391278">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7391334">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7391388">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7391439">package</span>&nbsp;<span class="ident" id="7391447">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7391454">import</span>&nbsp;<span class="op" id="7391461">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391464">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391470">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391481">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7391491">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7391494">const</span>&nbsp;<span class="ident" id="7391500">quote</span>&nbsp;<span class="op" id="7391506">=</span>&nbsp;<span class="string" id="7391508">&#34;`&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7391513">type</span>&nbsp;<span class="ident" id="7391518">readTest</span>&nbsp;<span class="keyword" id="7391527">struct</span>&nbsp;<span class="op" id="7391534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7391537">//&nbsp;Test&nbsp;input&nbsp;contains&nbsp;ℙ&nbsp;where&nbsp;readImports&nbsp;should&nbsp;stop.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7391596">in</span>&nbsp;&nbsp;<span class="builtintype" id="7391600">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7391608">err</span>&nbsp;<span class="builtintype" id="7391612">string</span><br>
<span class="lineno"></span><span class="op" id="7391619">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7391622">var</span>&nbsp;<span class="ident" id="7391626">readImportsTests</span>&nbsp;<span class="op" id="7391643">=</span>&nbsp;<span class="op" id="7391645">[</span><span class="op" id="7391646">]</span><span class="ident" id="7391647">readTest</span><span class="op" id="7391655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7391658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391662">`package&nbsp;p`</span><span class="op" id="7391673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391677">&#34;&#34;</span><span class="op" id="7391679">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7391682">}</span><span class="op" id="7391683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7391686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391690">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7391713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391717">&#34;&#34;</span><span class="op" id="7391719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7391722">}</span><span class="op" id="7391723">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7391726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391730">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7391755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391759">&#34;&#34;</span><span class="op" id="7391761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7391764">}</span><span class="op" id="7391765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7391768">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391772">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;;ℙvar&nbsp;x&nbsp;=&nbsp;1`</span><span class="op" id="7391808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391812">&#34;&#34;</span><span class="op" id="7391814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7391817">}</span><span class="op" id="7391818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7391821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7391825">`package&nbsp;p<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;_&nbsp;&#34;x&#34;<br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;a&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;(<br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;x&#34;&nbsp;/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&#34;x&#34;&nbsp;//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`</span>&nbsp;<span class="op" id="7391986">+</span>&nbsp;<span class="ident" id="7391988">quote</span>&nbsp;<span class="op" id="7391994">+</span>&nbsp;<span class="string" id="7391996">`x`</span>&nbsp;<span class="op" id="7392000">+</span>&nbsp;<span class="ident" id="7392002">quote</span>&nbsp;<span class="op" id="7392008">+</span>&nbsp;<span class="string" id="7392010">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;/*comment*/&nbsp;`</span>&nbsp;<span class="op" id="7392031">+</span>&nbsp;<span class="ident" id="7392033">quote</span>&nbsp;<span class="op" id="7392039">+</span>&nbsp;<span class="string" id="7392041">`x`</span>&nbsp;<span class="op" id="7392045">+</span>&nbsp;<span class="ident" id="7392047">quote</span>&nbsp;<span class="op" id="7392053">+</span>&nbsp;<span class="string" id="7392055">`<br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;`</span>&nbsp;<span class="op" id="7392064">+</span>&nbsp;<span class="ident" id="7392066">quote</span>&nbsp;<span class="op" id="7392072">+</span>&nbsp;<span class="string" id="7392074">`x`</span>&nbsp;<span class="op" id="7392078">+</span>&nbsp;<span class="ident" id="7392080">quote</span>&nbsp;<span class="op" id="7392086">+</span>&nbsp;<span class="string" id="7392088">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;(<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;()<br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import()import()import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import();import();import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ℙvar&nbsp;x&nbsp;=&nbsp;1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`</span><span class="op" id="7392198">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7392202">&#34;&#34;</span><span class="op" id="7392204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392207">}</span><span class="op" id="7392208">,</span><br>
<span class="lineno"></span><span class="op" id="7392210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7392213">var</span>&nbsp;<span class="ident" id="7392217">readCommentsTests</span>&nbsp;<span class="op" id="7392235">=</span>&nbsp;<span class="op" id="7392237">[</span><span class="op" id="7392238">]</span><span class="ident" id="7392239">readTest</span><span class="op" id="7392247">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7392254">`ℙpackage&nbsp;p`</span><span class="op" id="7392268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7392272">&#34;&#34;</span><span class="op" id="7392274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392277">}</span><span class="op" id="7392278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392281">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7392285">`ℙpackage&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7392311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7392315">&#34;&#34;</span><span class="op" id="7392317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392320">}</span><span class="op" id="7392321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7392328">`ℙpackage&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7392356">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7392360">&#34;&#34;</span><span class="op" id="7392362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392365">}</span><span class="op" id="7392366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7392373">`//&nbsp;foo<br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;bar&nbsp;*/<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;quux&nbsp;*/&nbsp;//&nbsp;baz<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*/&nbsp;zot&nbsp;*/<br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;asdf<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ℙHello,&nbsp;world`</span><span class="op" id="7392460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7392464">&#34;&#34;</span><span class="op" id="7392466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392469">}</span><span class="op" id="7392470">,</span><br>
<span class="lineno">95</span><span class="op" id="7392472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7392475">func</span>&nbsp;<span class="ident" id="7392480">testRead</span><span class="op" id="7392488">(</span><span class="ident" id="7392489">t</span>&nbsp;<span class="op" id="7392491">*</span><span class="ident" id="7392492">testing</span><span class="op" id="7392499">.</span><span class="ident" id="7392500">T</span><span class="op" id="7392501">,</span>&nbsp;<span class="ident" id="7392503">tests</span>&nbsp;<span class="op" id="7392509">[</span><span class="op" id="7392510">]</span><span class="ident" id="7392511">readTest</span><span class="op" id="7392519">,</span>&nbsp;<span class="ident" id="7392521">read</span>&nbsp;<span class="keyword" id="7392526">func</span><span class="op" id="7392530">(</span><span class="ident" id="7392531">io</span><span class="op" id="7392533">.</span><span class="ident" id="7392534">Reader</span><span class="op" id="7392540">)</span>&nbsp;<span class="op" id="7392542">(</span><span class="op" id="7392543">[</span><span class="op" id="7392544">]</span><span class="builtintype" id="7392545">byte</span><span class="op" id="7392549">,</span>&nbsp;<span class="builtintype" id="7392551">error</span><span class="op" id="7392556">)</span><span class="op" id="7392557">)</span>&nbsp;<span class="op" id="7392559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7392562">for</span>&nbsp;<span class="ident" id="7392566">i</span><span class="op" id="7392567">,</span>&nbsp;<span class="ident" id="7392569">tt</span>&nbsp;<span class="op" id="7392572">:=</span>&nbsp;<span class="keyword" id="7392575">range</span>&nbsp;<span class="ident" id="7392581">tests</span>&nbsp;<span class="op" id="7392587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7392591">var</span>&nbsp;<span class="ident" id="7392595">in</span><span class="op" id="7392597">,</span>&nbsp;<span class="ident" id="7392599">testOut</span>&nbsp;<span class="builtintype" id="7392607">string</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7392616">j</span>&nbsp;<span class="op" id="7392618">:=</span>&nbsp;<span class="ident" id="7392621">strings</span><span class="op" id="7392628">.</span><span class="ident" id="7392629">Index</span><span class="op" id="7392634">(</span><span class="ident" id="7392635">tt</span><span class="op" id="7392637">.</span><span class="ident" id="7392638">in</span><span class="op" id="7392640">,</span>&nbsp;<span class="string" id="7392642">&#34;ℙ&#34;</span><span class="op" id="7392647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7392651">if</span>&nbsp;<span class="ident" id="7392654">j</span>&nbsp;<span class="op" id="7392656">&lt;</span>&nbsp;<span class="num" id="7392658">0</span>&nbsp;<span class="op" id="7392660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7392665">in</span>&nbsp;<span class="op" id="7392668">=</span>&nbsp;<span class="ident" id="7392670">tt</span><span class="op" id="7392672">.</span><span class="ident" id="7392673">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7392679">testOut</span>&nbsp;<span class="op" id="7392687">=</span>&nbsp;<span class="ident" id="7392689">tt</span><span class="op" id="7392691">.</span><span class="ident" id="7392692">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392697">}</span>&nbsp;<span class="keyword" id="7392699">else</span>&nbsp;<span class="op" id="7392704">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7392709">in</span>&nbsp;<span class="op" id="7392712">=</span>&nbsp;<span class="ident" id="7392714">tt</span><span class="op" id="7392716">.</span><span class="ident" id="7392717">in</span><span class="op" id="7392719">[</span><span class="op" id="7392720">:</span><span class="ident" id="7392721">j</span><span class="op" id="7392722">]</span>&nbsp;<span class="op" id="7392724">+</span>&nbsp;<span class="ident" id="7392726">tt</span><span class="op" id="7392728">.</span><span class="ident" id="7392729">in</span><span class="op" id="7392731">[</span><span class="ident" id="7392732">j</span><span class="op" id="7392733">+</span><span class="builtinfunc" id="7392734">len</span><span class="op" id="7392737">(</span><span class="string" id="7392738">&#34;ℙ&#34;</span><span class="op" id="7392743">)</span><span class="op" id="7392744">:</span><span class="op" id="7392745">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7392750">testOut</span>&nbsp;<span class="op" id="7392758">=</span>&nbsp;<span class="ident" id="7392760">tt</span><span class="op" id="7392762">.</span><span class="ident" id="7392763">in</span><span class="op" id="7392765">[</span><span class="op" id="7392766">:</span><span class="ident" id="7392767">j</span><span class="op" id="7392768">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7392776">r</span>&nbsp;<span class="op" id="7392778">:=</span>&nbsp;<span class="ident" id="7392781">strings</span><span class="op" id="7392788">.</span><span class="ident" id="7392789">NewReader</span><span class="op" id="7392798">(</span><span class="ident" id="7392799">in</span><span class="op" id="7392801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7392805">buf</span><span class="op" id="7392808">,</span>&nbsp;<span class="ident" id="7392810">err</span>&nbsp;<span class="op" id="7392814">:=</span>&nbsp;<span class="ident" id="7392817">read</span><span class="op" id="7392821">(</span><span class="ident" id="7392822">r</span><span class="op" id="7392823">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7392827">if</span>&nbsp;<span class="ident" id="7392830">err</span>&nbsp;<span class="op" id="7392834">!=</span>&nbsp;<span class="builtintype" id="7392837">nil</span>&nbsp;<span class="op" id="7392841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7392846">if</span>&nbsp;<span class="ident" id="7392849">tt</span><span class="op" id="7392851">.</span><span class="ident" id="7392852">err</span>&nbsp;<span class="op" id="7392856">==</span>&nbsp;<span class="string" id="7392859">&#34;&#34;</span>&nbsp;<span class="op" id="7392862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7392868">t</span><span class="op" id="7392869">.</span><span class="ident" id="7392870">Errorf</span><span class="op" id="7392876">(</span><span class="string" id="7392877">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;success&nbsp;(%q)&#34;</span><span class="op" id="7392913">,</span>&nbsp;<span class="ident" id="7392915">i</span><span class="op" id="7392916">,</span>&nbsp;<span class="ident" id="7392918">err</span><span class="op" id="7392921">,</span>&nbsp;<span class="builtintype" id="7392923">string</span><span class="op" id="7392929">(</span><span class="ident" id="7392930">buf</span><span class="op" id="7392933">)</span><span class="op" id="7392934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7392940">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7392952">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7392957">if</span>&nbsp;<span class="op" id="7392960">!</span><span class="ident" id="7392961">strings</span><span class="op" id="7392968">.</span><span class="ident" id="7392969">Contains</span><span class="op" id="7392977">(</span><span class="ident" id="7392978">err</span><span class="op" id="7392981">.</span><span class="ident" id="7392982">Error</span><span class="op" id="7392987">(</span><span class="op" id="7392988">)</span><span class="op" id="7392989">,</span>&nbsp;<span class="ident" id="7392991">tt</span><span class="op" id="7392993">.</span><span class="ident" id="7392994">err</span><span class="op" id="7392997">)</span>&nbsp;<span class="op" id="7392999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7393005">t</span><span class="op" id="7393006">.</span><span class="ident" id="7393007">Errorf</span><span class="op" id="7393013">(</span><span class="string" id="7393014">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7393040">,</span>&nbsp;<span class="ident" id="7393042">i</span><span class="op" id="7393043">,</span>&nbsp;<span class="ident" id="7393045">err</span><span class="op" id="7393048">,</span>&nbsp;<span class="ident" id="7393050">tt</span><span class="op" id="7393052">.</span><span class="ident" id="7393053">err</span><span class="op" id="7393056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7393062">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7393079">continue</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7393094">if</span>&nbsp;<span class="ident" id="7393097">err</span>&nbsp;<span class="op" id="7393101">==</span>&nbsp;<span class="builtintype" id="7393104">nil</span>&nbsp;<span class="op" id="7393108">&amp;&amp;</span>&nbsp;<span class="ident" id="7393111">tt</span><span class="op" id="7393113">.</span><span class="ident" id="7393114">err</span>&nbsp;<span class="op" id="7393118">!=</span>&nbsp;<span class="string" id="7393121">&#34;&#34;</span>&nbsp;<span class="op" id="7393124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7393129">t</span><span class="op" id="7393130">.</span><span class="ident" id="7393131">Errorf</span><span class="op" id="7393137">(</span><span class="string" id="7393138">&#34;#%d:&nbsp;success,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7393165">,</span>&nbsp;<span class="ident" id="7393167">i</span><span class="op" id="7393168">,</span>&nbsp;<span class="ident" id="7393170">tt</span><span class="op" id="7393172">.</span><span class="ident" id="7393173">err</span><span class="op" id="7393176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7393181">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393192">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7393197">out</span>&nbsp;<span class="op" id="7393201">:=</span>&nbsp;<span class="builtintype" id="7393204">string</span><span class="op" id="7393210">(</span><span class="ident" id="7393211">buf</span><span class="op" id="7393214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7393218">if</span>&nbsp;<span class="ident" id="7393221">out</span>&nbsp;<span class="op" id="7393225">!=</span>&nbsp;<span class="ident" id="7393228">testOut</span>&nbsp;<span class="op" id="7393236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7393241">t</span><span class="op" id="7393242">.</span><span class="ident" id="7393243">Errorf</span><span class="op" id="7393249">(</span><span class="string" id="7393250">&#34;#%d:&nbsp;wrong&nbsp;output:\nhave&nbsp;%q\nwant&nbsp;%q\n&#34;</span><span class="op" id="7393290">,</span>&nbsp;<span class="ident" id="7393292">i</span><span class="op" id="7393293">,</span>&nbsp;<span class="ident" id="7393295">out</span><span class="op" id="7393298">,</span>&nbsp;<span class="ident" id="7393300">testOut</span><span class="op" id="7393307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393311">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393314">}</span><br>
<span class="lineno"></span><span class="op" id="7393316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7393319">func</span>&nbsp;<span class="ident" id="7393324">TestReadImports</span><span class="op" id="7393339">(</span><span class="ident" id="7393340">t</span>&nbsp;<span class="op" id="7393342">*</span><span class="ident" id="7393343">testing</span><span class="op" id="7393350">.</span><span class="ident" id="7393351">T</span><span class="op" id="7393352">)</span>&nbsp;<span class="op" id="7393354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7393357">testRead</span><span class="op" id="7393365">(</span><span class="ident" id="7393366">t</span><span class="op" id="7393367">,</span>&nbsp;<span class="ident" id="7393369">readImportsTests</span><span class="op" id="7393385">,</span>&nbsp;<span class="keyword" id="7393387">func</span><span class="op" id="7393391">(</span><span class="ident" id="7393392">r</span>&nbsp;<span class="ident" id="7393394">io</span><span class="op" id="7393396">.</span><span class="ident" id="7393397">Reader</span><span class="op" id="7393403">)</span>&nbsp;<span class="op" id="7393405">(</span><span class="op" id="7393406">[</span><span class="op" id="7393407">]</span><span class="builtintype" id="7393408">byte</span><span class="op" id="7393412">,</span>&nbsp;<span class="builtintype" id="7393414">error</span><span class="op" id="7393419">)</span>&nbsp;<span class="op" id="7393421">{</span>&nbsp;<span class="keyword" id="7393423">return</span>&nbsp;<span class="ident" id="7393430">readImports</span><span class="op" id="7393441">(</span><span class="ident" id="7393442">r</span><span class="op" id="7393443">,</span>&nbsp;<span class="builtintype" id="7393445">true</span><span class="op" id="7393449">)</span>&nbsp;<span class="op" id="7393451">}</span><span class="op" id="7393452">)</span><br>
<span class="lineno">135</span><span class="op" id="7393454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7393457">func</span>&nbsp;<span class="ident" id="7393462">TestReadComments</span><span class="op" id="7393478">(</span><span class="ident" id="7393479">t</span>&nbsp;<span class="op" id="7393481">*</span><span class="ident" id="7393482">testing</span><span class="op" id="7393489">.</span><span class="ident" id="7393490">T</span><span class="op" id="7393491">)</span>&nbsp;<span class="op" id="7393493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7393496">testRead</span><span class="op" id="7393504">(</span><span class="ident" id="7393505">t</span><span class="op" id="7393506">,</span>&nbsp;<span class="ident" id="7393508">readCommentsTests</span><span class="op" id="7393525">,</span>&nbsp;<span class="ident" id="7393527">readComments</span><span class="op" id="7393539">)</span><br>
<span class="lineno"></span><span class="op" id="7393541">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="7393544">var</span>&nbsp;<span class="ident" id="7393548">readFailuresTests</span>&nbsp;<span class="op" id="7393566">=</span>&nbsp;<span class="op" id="7393568">[</span><span class="op" id="7393569">]</span><span class="ident" id="7393570">readTest</span><span class="op" id="7393578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393585">`package`</span><span class="op" id="7393594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393598">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7393612">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393615">}</span><span class="op" id="7393616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393623">&#34;package&nbsp;p\n\x00\nimport&nbsp;`math`\n&#34;</span><span class="op" id="7393657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393661">&#34;unexpected&nbsp;NUL&nbsp;in&nbsp;input&#34;</span><span class="op" id="7393686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393689">}</span><span class="op" id="7393690">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393697">`package&nbsp;p;&nbsp;import`</span><span class="op" id="7393716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393720">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7393734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393737">}</span><span class="op" id="7393738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393741">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393745">`package&nbsp;p;&nbsp;import&nbsp;&#34;`</span><span class="op" id="7393766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393770">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7393784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393787">}</span><span class="op" id="7393788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393795">&#34;package&nbsp;p;&nbsp;import&nbsp;`&nbsp;\n\n&#34;</span><span class="op" id="7393821">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393825">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7393839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393842">}</span><span class="op" id="7393843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393850">`package&nbsp;p;&nbsp;import&nbsp;&#34;x`</span><span class="op" id="7393872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393876">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7393890">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393893">}</span><span class="op" id="7393894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393901">`package&nbsp;p;&nbsp;import&nbsp;_`</span><span class="op" id="7393922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393926">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7393940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393943">}</span><span class="op" id="7393944">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393951">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;`</span><span class="op" id="7393974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7393978">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7393992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393995">}</span><span class="op" id="7393996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7393999">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394003">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;x`</span><span class="op" id="7394027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394031">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7394045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394048">}</span><span class="op" id="7394049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394056">`package&nbsp;p;&nbsp;import&nbsp;.`</span><span class="op" id="7394077">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394081">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7394095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394098">}</span><span class="op" id="7394099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394106">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;`</span><span class="op" id="7394129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394133">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7394147">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394150">}</span><span class="op" id="7394151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394158">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x`</span><span class="op" id="7394182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394186">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7394200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394203">}</span><span class="op" id="7394204">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394211">`package&nbsp;p;&nbsp;import&nbsp;(`</span><span class="op" id="7394232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394236">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7394250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394253">}</span><span class="op" id="7394254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394257">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394261">`package&nbsp;p;&nbsp;import&nbsp;(&#34;`</span><span class="op" id="7394283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394287">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7394301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394304">}</span><span class="op" id="7394305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394312">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x`</span><span class="op" id="7394335">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394339">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7394353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394356">}</span><span class="op" id="7394357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394364">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x&#34;`</span><span class="op" id="7394388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394392">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7394406">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394409">}</span><span class="op" id="7394410">,</span><br>
<span class="lineno"></span><span class="op" id="7394412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7394415">func</span>&nbsp;<span class="ident" id="7394420">TestReadFailures</span><span class="op" id="7394436">(</span><span class="ident" id="7394437">t</span>&nbsp;<span class="op" id="7394439">*</span><span class="ident" id="7394440">testing</span><span class="op" id="7394447">.</span><span class="ident" id="7394448">T</span><span class="op" id="7394449">)</span>&nbsp;<span class="op" id="7394451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7394454">//&nbsp;Errors&nbsp;should&nbsp;be&nbsp;reported&nbsp;(true&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7394511">testRead</span><span class="op" id="7394519">(</span><span class="ident" id="7394520">t</span><span class="op" id="7394521">,</span>&nbsp;<span class="ident" id="7394523">readFailuresTests</span><span class="op" id="7394540">,</span>&nbsp;<span class="keyword" id="7394542">func</span><span class="op" id="7394546">(</span><span class="ident" id="7394547">r</span>&nbsp;<span class="ident" id="7394549">io</span><span class="op" id="7394551">.</span><span class="ident" id="7394552">Reader</span><span class="op" id="7394558">)</span>&nbsp;<span class="op" id="7394560">(</span><span class="op" id="7394561">[</span><span class="op" id="7394562">]</span><span class="builtintype" id="7394563">byte</span><span class="op" id="7394567">,</span>&nbsp;<span class="builtintype" id="7394569">error</span><span class="op" id="7394574">)</span>&nbsp;<span class="op" id="7394576">{</span>&nbsp;<span class="keyword" id="7394578">return</span>&nbsp;<span class="ident" id="7394585">readImports</span><span class="op" id="7394596">(</span><span class="ident" id="7394597">r</span><span class="op" id="7394598">,</span>&nbsp;<span class="builtintype" id="7394600">true</span><span class="op" id="7394604">)</span>&nbsp;<span class="op" id="7394606">}</span><span class="op" id="7394607">)</span><br>
<span class="lineno"></span><span class="op" id="7394609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7394612">func</span>&nbsp;<span class="ident" id="7394617">TestReadFailuresIgnored</span><span class="op" id="7394640">(</span><span class="ident" id="7394641">t</span>&nbsp;<span class="op" id="7394643">*</span><span class="ident" id="7394644">testing</span><span class="op" id="7394651">.</span><span class="ident" id="7394652">T</span><span class="op" id="7394653">)</span>&nbsp;<span class="op" id="7394655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7394658">//&nbsp;Syntax&nbsp;errors&nbsp;should&nbsp;not&nbsp;be&nbsp;reported&nbsp;(false&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7394727">//&nbsp;Instead,&nbsp;entire&nbsp;file&nbsp;should&nbsp;be&nbsp;the&nbsp;output&nbsp;and&nbsp;no&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7394787">//&nbsp;Convert&nbsp;tests&nbsp;not&nbsp;to&nbsp;return&nbsp;syntax&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7394834">tests</span>&nbsp;<span class="op" id="7394840">:=</span>&nbsp;<span class="builtinfunc" id="7394843">make</span><span class="op" id="7394847">(</span><span class="op" id="7394848">[</span><span class="op" id="7394849">]</span><span class="ident" id="7394850">readTest</span><span class="op" id="7394858">,</span>&nbsp;<span class="builtinfunc" id="7394860">len</span><span class="op" id="7394863">(</span><span class="ident" id="7394864">readFailuresTests</span><span class="op" id="7394881">)</span><span class="op" id="7394882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7394885">copy</span><span class="op" id="7394889">(</span><span class="ident" id="7394890">tests</span><span class="op" id="7394895">,</span>&nbsp;<span class="ident" id="7394897">readFailuresTests</span><span class="op" id="7394914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7394917">for</span>&nbsp;<span class="ident" id="7394921">i</span>&nbsp;<span class="op" id="7394923">:=</span>&nbsp;<span class="keyword" id="7394926">range</span>&nbsp;<span class="ident" id="7394932">tests</span>&nbsp;<span class="op" id="7394938">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7394942">tt</span>&nbsp;<span class="op" id="7394945">:=</span>&nbsp;<span class="op" id="7394948">&amp;</span><span class="ident" id="7394949">tests</span><span class="op" id="7394954">[</span><span class="ident" id="7394955">i</span><span class="op" id="7394956">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7394960">if</span>&nbsp;<span class="op" id="7394963">!</span><span class="ident" id="7394964">strings</span><span class="op" id="7394971">.</span><span class="ident" id="7394972">Contains</span><span class="op" id="7394980">(</span><span class="ident" id="7394981">tt</span><span class="op" id="7394983">.</span><span class="ident" id="7394984">err</span><span class="op" id="7394987">,</span>&nbsp;<span class="string" id="7394989">&#34;NUL&#34;</span><span class="op" id="7394994">)</span>&nbsp;<span class="op" id="7394996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7395001">tt</span><span class="op" id="7395003">.</span><span class="ident" id="7395004">err</span>&nbsp;<span class="op" id="7395008">=</span>&nbsp;<span class="string" id="7395010">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395018">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7395021">testRead</span><span class="op" id="7395029">(</span><span class="ident" id="7395030">t</span><span class="op" id="7395031">,</span>&nbsp;<span class="ident" id="7395033">tests</span><span class="op" id="7395038">,</span>&nbsp;<span class="keyword" id="7395040">func</span><span class="op" id="7395044">(</span><span class="ident" id="7395045">r</span>&nbsp;<span class="ident" id="7395047">io</span><span class="op" id="7395049">.</span><span class="ident" id="7395050">Reader</span><span class="op" id="7395056">)</span>&nbsp;<span class="op" id="7395058">(</span><span class="op" id="7395059">[</span><span class="op" id="7395060">]</span><span class="builtintype" id="7395061">byte</span><span class="op" id="7395065">,</span>&nbsp;<span class="builtintype" id="7395067">error</span><span class="op" id="7395072">)</span>&nbsp;<span class="op" id="7395074">{</span>&nbsp;<span class="keyword" id="7395076">return</span>&nbsp;<span class="ident" id="7395083">readImports</span><span class="op" id="7395094">(</span><span class="ident" id="7395095">r</span><span class="op" id="7395096">,</span>&nbsp;<span class="builtintype" id="7395098">false</span><span class="op" id="7395103">)</span>&nbsp;<span class="op" id="7395105">}</span><span class="op" id="7395106">)</span><br>
<span class="lineno"></span><span class="op" id="7395108">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
