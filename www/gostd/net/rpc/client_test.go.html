<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/rpc</h2>
<ul>
<li><a href="/gostd/net/rpc/client.go.html">client.go</a></li>
<li><a href="/gostd/net/rpc/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/rpc/debug.go.html">debug.go</a></li>
<li><a href="/gostd/net/rpc/server.go.html">server.go</a></li>
<li><a href="/gostd/net/rpc/server_test.go.html">server_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6531348">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6531403">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6531457">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6531508">package</span>&nbsp;<span class="ident" id="6531516">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6531521">import</span>&nbsp;<span class="op" id="6531528">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6531531">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6531541">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6531548">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6531555">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6531566">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6531577">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6531587">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6531590">type</span>&nbsp;<span class="ident" id="6531595">shutdownCodec</span>&nbsp;<span class="keyword" id="6531609">struct</span>&nbsp;<span class="op" id="6531616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6531619">responded</span>&nbsp;<span class="keyword" id="6531629">chan</span>&nbsp;<span class="builtintype" id="6531634">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6531639">closed</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6531649">bool</span><br>
<span class="lineno"></span><span class="op" id="6531654">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6531657">func</span>&nbsp;<span class="op" id="6531662">(</span><span class="ident" id="6531663">c</span>&nbsp;<span class="op" id="6531665">*</span><span class="ident" id="6531666">shutdownCodec</span><span class="op" id="6531679">)</span>&nbsp;<span class="ident" id="6531681">WriteRequest</span><span class="op" id="6531693">(</span><span class="op" id="6531694">*</span><span class="ident" id="6531695">Request</span><span class="op" id="6531702">,</span>&nbsp;<span class="keyword" id="6531704">interface</span><span class="op" id="6531713">{</span><span class="op" id="6531714">}</span><span class="op" id="6531715">)</span>&nbsp;<span class="builtintype" id="6531717">error</span>&nbsp;<span class="op" id="6531723">{</span>&nbsp;<span class="keyword" id="6531725">return</span>&nbsp;<span class="ident" id="6531732">nil</span>&nbsp;<span class="op" id="6531736">}</span><br>
<span class="lineno"></span><span class="keyword" id="6531738">func</span>&nbsp;<span class="op" id="6531743">(</span><span class="ident" id="6531744">c</span>&nbsp;<span class="op" id="6531746">*</span><span class="ident" id="6531747">shutdownCodec</span><span class="op" id="6531760">)</span>&nbsp;<span class="ident" id="6531762">ReadResponseBody</span><span class="op" id="6531778">(</span><span class="keyword" id="6531779">interface</span><span class="op" id="6531788">{</span><span class="op" id="6531789">}</span><span class="op" id="6531790">)</span>&nbsp;<span class="builtintype" id="6531792">error</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6531804">{</span>&nbsp;<span class="keyword" id="6531806">return</span>&nbsp;<span class="ident" id="6531813">nil</span>&nbsp;<span class="op" id="6531817">}</span><br>
<span class="lineno"></span><span class="keyword" id="6531819">func</span>&nbsp;<span class="op" id="6531824">(</span><span class="ident" id="6531825">c</span>&nbsp;<span class="op" id="6531827">*</span><span class="ident" id="6531828">shutdownCodec</span><span class="op" id="6531841">)</span>&nbsp;<span class="ident" id="6531843">ReadResponseHeader</span><span class="op" id="6531861">(</span><span class="op" id="6531862">*</span><span class="ident" id="6531863">Response</span><span class="op" id="6531871">)</span>&nbsp;<span class="builtintype" id="6531873">error</span>&nbsp;<span class="op" id="6531879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6531882">c</span><span class="op" id="6531883">.</span><span class="ident" id="6531884">responded</span>&nbsp;<span class="op" id="6531894">&lt;-</span>&nbsp;<span class="num" id="6531897">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6531900">return</span>&nbsp;<span class="ident" id="6531907">errors</span><span class="op" id="6531913">.</span><span class="ident" id="6531914">New</span><span class="op" id="6531917">(</span><span class="string" id="6531918">&#34;shutdownCodec&nbsp;ReadResponseHeader&#34;</span><span class="op" id="6531952">)</span><br>
<span class="lineno"></span><span class="op" id="6531954">}</span><br>
<span class="lineno"></span><span class="keyword" id="6531956">func</span>&nbsp;<span class="op" id="6531961">(</span><span class="ident" id="6531962">c</span>&nbsp;<span class="op" id="6531964">*</span><span class="ident" id="6531965">shutdownCodec</span><span class="op" id="6531978">)</span>&nbsp;<span class="ident" id="6531980">Close</span><span class="op" id="6531985">(</span><span class="op" id="6531986">)</span>&nbsp;<span class="builtintype" id="6531988">error</span>&nbsp;<span class="op" id="6531994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6531997">c</span><span class="op" id="6531998">.</span><span class="ident" id="6531999">closed</span>&nbsp;<span class="op" id="6532006">=</span>&nbsp;<span class="builtintype" id="6532008">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6532014">return</span>&nbsp;<span class="ident" id="6532021">nil</span><br>
<span class="lineno">30</span><span class="op" id="6532025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6532028">func</span>&nbsp;<span class="ident" id="6532033">TestCloseCodec</span><span class="op" id="6532047">(</span><span class="ident" id="6532048">t</span>&nbsp;<span class="op" id="6532050">*</span><span class="ident" id="6532051">testing</span><span class="op" id="6532058">.</span><span class="ident" id="6532059">T</span><span class="op" id="6532060">)</span>&nbsp;<span class="op" id="6532062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532065">codec</span>&nbsp;<span class="op" id="6532071">:=</span>&nbsp;<span class="op" id="6532074">&amp;</span><span class="ident" id="6532075">shutdownCodec</span><span class="op" id="6532088">{</span><span class="ident" id="6532089">responded</span><span class="op" id="6532098">:</span>&nbsp;<span class="builtinfunc" id="6532100">make</span><span class="op" id="6532104">(</span><span class="keyword" id="6532105">chan</span>&nbsp;<span class="builtintype" id="6532110">int</span><span class="op" id="6532113">)</span><span class="op" id="6532114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532117">client</span>&nbsp;<span class="op" id="6532124">:=</span>&nbsp;<span class="ident" id="6532127">NewClientWithCodec</span><span class="op" id="6532145">(</span><span class="ident" id="6532146">codec</span><span class="op" id="6532151">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6532154">&lt;-</span><span class="ident" id="6532156">codec</span><span class="op" id="6532161">.</span><span class="ident" id="6532162">responded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532173">client</span><span class="op" id="6532179">.</span><span class="ident" id="6532180">Close</span><span class="op" id="6532185">(</span><span class="op" id="6532186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6532189">if</span>&nbsp;<span class="op" id="6532192">!</span><span class="ident" id="6532193">codec</span><span class="op" id="6532198">.</span><span class="ident" id="6532199">closed</span>&nbsp;<span class="op" id="6532206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532210">t</span><span class="op" id="6532211">.</span><span class="ident" id="6532212">Error</span><span class="op" id="6532217">(</span><span class="string" id="6532218">&#34;client.Close&nbsp;did&nbsp;not&nbsp;close&nbsp;codec&#34;</span><span class="op" id="6532252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6532255">}</span><br>
<span class="lineno">40</span><span class="op" id="6532257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6532260">//&nbsp;Test&nbsp;that&nbsp;errors&nbsp;in&nbsp;gob&nbsp;shut&nbsp;down&nbsp;the&nbsp;connection.&nbsp;Issue&nbsp;7689.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6532326">type</span>&nbsp;<span class="ident" id="6532331">R</span>&nbsp;<span class="keyword" id="6532333">struct</span>&nbsp;<span class="op" id="6532340">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532343">msg</span>&nbsp;<span class="op" id="6532347">[</span><span class="op" id="6532348">]</span><span class="builtintype" id="6532349">byte</span>&nbsp;<span class="comment" id="6532354">//&nbsp;Not&nbsp;exported,&nbsp;so&nbsp;R&nbsp;does&nbsp;not&nbsp;work&nbsp;with&nbsp;gob.</span><br>
<span class="lineno"></span><span class="op" id="6532400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6532403">type</span>&nbsp;<span class="ident" id="6532408">S</span>&nbsp;<span class="keyword" id="6532410">struct</span><span class="op" id="6532416">{</span><span class="op" id="6532417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="6532420">func</span>&nbsp;<span class="op" id="6532425">(</span><span class="ident" id="6532426">s</span>&nbsp;<span class="op" id="6532428">*</span><span class="ident" id="6532429">S</span><span class="op" id="6532430">)</span>&nbsp;<span class="ident" id="6532432">Recv</span><span class="op" id="6532436">(</span><span class="ident" id="6532437">nul</span>&nbsp;<span class="op" id="6532441">*</span><span class="keyword" id="6532442">struct</span><span class="op" id="6532448">{</span><span class="op" id="6532449">}</span><span class="op" id="6532450">,</span>&nbsp;<span class="ident" id="6532452">reply</span>&nbsp;<span class="op" id="6532458">*</span><span class="ident" id="6532459">R</span><span class="op" id="6532460">)</span>&nbsp;<span class="builtintype" id="6532462">error</span>&nbsp;<span class="op" id="6532468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6532471">*</span><span class="ident" id="6532472">reply</span>&nbsp;<span class="op" id="6532478">=</span>&nbsp;<span class="ident" id="6532480">R</span><span class="op" id="6532481">{</span><span class="op" id="6532482">[</span><span class="op" id="6532483">]</span><span class="builtintype" id="6532484">byte</span><span class="op" id="6532488">(</span><span class="string" id="6532489">&#34;foo&#34;</span><span class="op" id="6532494">)</span><span class="op" id="6532495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6532498">return</span>&nbsp;<span class="ident" id="6532505">nil</span><br>
<span class="lineno"></span><span class="op" id="6532509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="6532512">func</span>&nbsp;<span class="ident" id="6532517">TestGobError</span><span class="op" id="6532529">(</span><span class="ident" id="6532530">t</span>&nbsp;<span class="op" id="6532532">*</span><span class="ident" id="6532533">testing</span><span class="op" id="6532540">.</span><span class="ident" id="6532541">T</span><span class="op" id="6532542">)</span>&nbsp;<span class="op" id="6532544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6532547">if</span>&nbsp;<span class="ident" id="6532550">runtime</span><span class="op" id="6532557">.</span><span class="ident" id="6532558">GOOS</span>&nbsp;<span class="op" id="6532563">==</span>&nbsp;<span class="string" id="6532566">&#34;plan9&#34;</span>&nbsp;<span class="op" id="6532574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532578">t</span><span class="op" id="6532579">.</span><span class="ident" id="6532580">Skip</span><span class="op" id="6532584">(</span><span class="string" id="6532585">&#34;skipping&nbsp;test;&nbsp;see&nbsp;http://golang.org/issue/8908&#34;</span><span class="op" id="6532634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6532637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6532640">defer</span>&nbsp;<span class="keyword" id="6532646">func</span><span class="op" id="6532650">(</span><span class="op" id="6532651">)</span>&nbsp;<span class="op" id="6532653">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532657">err</span>&nbsp;<span class="op" id="6532661">:=</span>&nbsp;<span class="builtinfunc" id="6532664">recover</span><span class="op" id="6532671">(</span><span class="op" id="6532672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6532676">if</span>&nbsp;<span class="ident" id="6532679">err</span>&nbsp;<span class="op" id="6532683">==</span>&nbsp;<span class="ident" id="6532686">nil</span>&nbsp;<span class="op" id="6532690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532695">t</span><span class="op" id="6532696">.</span><span class="ident" id="6532697">Fatal</span><span class="op" id="6532702">(</span><span class="string" id="6532703">&#34;no&nbsp;error&#34;</span><span class="op" id="6532713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6532717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6532721">if</span>&nbsp;<span class="op" id="6532724">!</span><span class="ident" id="6532725">strings</span><span class="op" id="6532732">.</span><span class="ident" id="6532733">Contains</span><span class="op" id="6532741">(</span><span class="string" id="6532742">&#34;reading&nbsp;body&nbsp;EOF&#34;</span><span class="op" id="6532760">,</span>&nbsp;<span class="ident" id="6532762">err</span><span class="op" id="6532765">.</span><span class="op" id="6532766">(</span><span class="builtintype" id="6532767">error</span><span class="op" id="6532772">)</span><span class="op" id="6532773">.</span><span class="ident" id="6532774">Error</span><span class="op" id="6532779">(</span><span class="op" id="6532780">)</span><span class="op" id="6532781">)</span>&nbsp;<span class="op" id="6532783">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532788">t</span><span class="op" id="6532789">.</span><span class="ident" id="6532790">Fatal</span><span class="op" id="6532795">(</span><span class="string" id="6532796">&#34;expected&nbsp;`reading&nbsp;body&nbsp;EOF&#39;,&nbsp;got&#34;</span><span class="op" id="6532830">,</span>&nbsp;<span class="ident" id="6532832">err</span><span class="op" id="6532835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6532839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6532842">}</span><span class="op" id="6532843">(</span><span class="op" id="6532844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532847">Register</span><span class="op" id="6532855">(</span><span class="builtinfunc" id="6532856">new</span><span class="op" id="6532859">(</span><span class="ident" id="6532860">S</span><span class="op" id="6532861">)</span><span class="op" id="6532862">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532866">listen</span><span class="op" id="6532872">,</span>&nbsp;<span class="ident" id="6532874">err</span>&nbsp;<span class="op" id="6532878">:=</span>&nbsp;<span class="ident" id="6532881">net</span><span class="op" id="6532884">.</span><span class="ident" id="6532885">Listen</span><span class="op" id="6532891">(</span><span class="string" id="6532892">&#34;tcp&#34;</span><span class="op" id="6532897">,</span>&nbsp;<span class="string" id="6532899">&#34;127.0.0.1:0&#34;</span><span class="op" id="6532912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6532915">if</span>&nbsp;<span class="ident" id="6532918">err</span>&nbsp;<span class="op" id="6532922">!=</span>&nbsp;<span class="ident" id="6532925">nil</span>&nbsp;<span class="op" id="6532929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6532933">panic</span><span class="op" id="6532938">(</span><span class="ident" id="6532939">err</span><span class="op" id="6532942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6532945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6532948">go</span>&nbsp;<span class="ident" id="6532951">Accept</span><span class="op" id="6532957">(</span><span class="ident" id="6532958">listen</span><span class="op" id="6532964">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6532968">client</span><span class="op" id="6532974">,</span>&nbsp;<span class="ident" id="6532976">err</span>&nbsp;<span class="op" id="6532980">:=</span>&nbsp;<span class="ident" id="6532983">Dial</span><span class="op" id="6532987">(</span><span class="string" id="6532988">&#34;tcp&#34;</span><span class="op" id="6532993">,</span>&nbsp;<span class="ident" id="6532995">listen</span><span class="op" id="6533001">.</span><span class="ident" id="6533002">Addr</span><span class="op" id="6533006">(</span><span class="op" id="6533007">)</span><span class="op" id="6533008">.</span><span class="ident" id="6533009">String</span><span class="op" id="6533015">(</span><span class="op" id="6533016">)</span><span class="op" id="6533017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6533020">if</span>&nbsp;<span class="ident" id="6533023">err</span>&nbsp;<span class="op" id="6533027">!=</span>&nbsp;<span class="ident" id="6533030">nil</span>&nbsp;<span class="op" id="6533034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6533038">panic</span><span class="op" id="6533043">(</span><span class="ident" id="6533044">err</span><span class="op" id="6533047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6533050">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6533054">var</span>&nbsp;<span class="ident" id="6533058">reply</span>&nbsp;<span class="ident" id="6533064">Reply</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6533071">err</span>&nbsp;<span class="op" id="6533075">=</span>&nbsp;<span class="ident" id="6533077">client</span><span class="op" id="6533083">.</span><span class="ident" id="6533084">Call</span><span class="op" id="6533088">(</span><span class="string" id="6533089">&#34;S.Recv&#34;</span><span class="op" id="6533097">,</span>&nbsp;<span class="op" id="6533099">&amp;</span><span class="keyword" id="6533100">struct</span><span class="op" id="6533106">{</span><span class="op" id="6533107">}</span><span class="op" id="6533108">{</span><span class="op" id="6533109">}</span><span class="op" id="6533110">,</span>&nbsp;<span class="op" id="6533112">&amp;</span><span class="ident" id="6533113">reply</span><span class="op" id="6533118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6533121">if</span>&nbsp;<span class="ident" id="6533124">err</span>&nbsp;<span class="op" id="6533128">!=</span>&nbsp;<span class="ident" id="6533131">nil</span>&nbsp;<span class="op" id="6533135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6533139">panic</span><span class="op" id="6533144">(</span><span class="ident" id="6533145">err</span><span class="op" id="6533148">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6533151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6533155">fmt</span><span class="op" id="6533158">.</span><span class="ident" id="6533159">Printf</span><span class="op" id="6533165">(</span><span class="string" id="6533166">&#34;%#v\n&#34;</span><span class="op" id="6533173">,</span>&nbsp;<span class="ident" id="6533175">reply</span><span class="op" id="6533180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6533183">client</span><span class="op" id="6533189">.</span><span class="ident" id="6533190">Close</span><span class="op" id="6533195">(</span><span class="op" id="6533196">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6533200">listen</span><span class="op" id="6533206">.</span><span class="ident" id="6533207">Close</span><span class="op" id="6533212">(</span><span class="op" id="6533213">)</span><br>
<span class="lineno"></span><span class="op" id="6533215">}</span>
</div>
</body>
</html>
