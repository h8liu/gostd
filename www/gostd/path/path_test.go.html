<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path</h2>
<ul>
<li><a href="/gostd/path/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/path/match.go.html">match.go</a></li>
<li><a href="/gostd/path/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/path.go.html">path.go</a></li>
<li><a href="/gostd/path/path_test.go.html" class="current">path_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6586701">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6586756">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6586810">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6586861">package</span>&nbsp;<span class="ident" id="6586869">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6586875">import</span>&nbsp;<span class="op" id="6586882">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6586885">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6586896">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6586906">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6586909">type</span>&nbsp;<span class="ident" id="6586914">PathTest</span>&nbsp;<span class="keyword" id="6586923">struct</span>&nbsp;<span class="op" id="6586930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6586933">path</span><span class="op" id="6586937">,</span>&nbsp;<span class="ident" id="6586939">result</span>&nbsp;<span class="builtintype" id="6586946">string</span><br>
<span class="lineno"></span><span class="op" id="6586953">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6586956">var</span>&nbsp;<span class="ident" id="6586960">cleantests</span>&nbsp;<span class="op" id="6586971">=</span>&nbsp;<span class="op" id="6586973">[</span><span class="op" id="6586974">]</span><span class="ident" id="6586975">PathTest</span><span class="op" id="6586983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6586986">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587004">{</span><span class="string" id="6587005">&#34;&#34;</span><span class="op" id="6587007">,</span>&nbsp;<span class="string" id="6587009">&#34;.&#34;</span><span class="op" id="6587012">}</span><span class="op" id="6587013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587016">{</span><span class="string" id="6587017">&#34;abc&#34;</span><span class="op" id="6587022">,</span>&nbsp;<span class="string" id="6587024">&#34;abc&#34;</span><span class="op" id="6587029">}</span><span class="op" id="6587030">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587033">{</span><span class="string" id="6587034">&#34;abc/def&#34;</span><span class="op" id="6587043">,</span>&nbsp;<span class="string" id="6587045">&#34;abc/def&#34;</span><span class="op" id="6587054">}</span><span class="op" id="6587055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587058">{</span><span class="string" id="6587059">&#34;a/b/c&#34;</span><span class="op" id="6587066">,</span>&nbsp;<span class="string" id="6587068">&#34;a/b/c&#34;</span><span class="op" id="6587075">}</span><span class="op" id="6587076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587079">{</span><span class="string" id="6587080">&#34;.&#34;</span><span class="op" id="6587083">,</span>&nbsp;<span class="string" id="6587085">&#34;.&#34;</span><span class="op" id="6587088">}</span><span class="op" id="6587089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587092">{</span><span class="string" id="6587093">&#34;..&#34;</span><span class="op" id="6587097">,</span>&nbsp;<span class="string" id="6587099">&#34;..&#34;</span><span class="op" id="6587103">}</span><span class="op" id="6587104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587107">{</span><span class="string" id="6587108">&#34;../..&#34;</span><span class="op" id="6587115">,</span>&nbsp;<span class="string" id="6587117">&#34;../..&#34;</span><span class="op" id="6587124">}</span><span class="op" id="6587125">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587128">{</span><span class="string" id="6587129">&#34;../../abc&#34;</span><span class="op" id="6587140">,</span>&nbsp;<span class="string" id="6587142">&#34;../../abc&#34;</span><span class="op" id="6587153">}</span><span class="op" id="6587154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587157">{</span><span class="string" id="6587158">&#34;/abc&#34;</span><span class="op" id="6587164">,</span>&nbsp;<span class="string" id="6587166">&#34;/abc&#34;</span><span class="op" id="6587172">}</span><span class="op" id="6587173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587176">{</span><span class="string" id="6587177">&#34;/&#34;</span><span class="op" id="6587180">,</span>&nbsp;<span class="string" id="6587182">&#34;/&#34;</span><span class="op" id="6587185">}</span><span class="op" id="6587186">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6587190">//&nbsp;Remove&nbsp;trailing&nbsp;slash</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587216">{</span><span class="string" id="6587217">&#34;abc/&#34;</span><span class="op" id="6587223">,</span>&nbsp;<span class="string" id="6587225">&#34;abc&#34;</span><span class="op" id="6587230">}</span><span class="op" id="6587231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587234">{</span><span class="string" id="6587235">&#34;abc/def/&#34;</span><span class="op" id="6587245">,</span>&nbsp;<span class="string" id="6587247">&#34;abc/def&#34;</span><span class="op" id="6587256">}</span><span class="op" id="6587257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587260">{</span><span class="string" id="6587261">&#34;a/b/c/&#34;</span><span class="op" id="6587269">,</span>&nbsp;<span class="string" id="6587271">&#34;a/b/c&#34;</span><span class="op" id="6587278">}</span><span class="op" id="6587279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587282">{</span><span class="string" id="6587283">&#34;./&#34;</span><span class="op" id="6587287">,</span>&nbsp;<span class="string" id="6587289">&#34;.&#34;</span><span class="op" id="6587292">}</span><span class="op" id="6587293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587296">{</span><span class="string" id="6587297">&#34;../&#34;</span><span class="op" id="6587302">,</span>&nbsp;<span class="string" id="6587304">&#34;..&#34;</span><span class="op" id="6587308">}</span><span class="op" id="6587309">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587312">{</span><span class="string" id="6587313">&#34;../../&#34;</span><span class="op" id="6587321">,</span>&nbsp;<span class="string" id="6587323">&#34;../..&#34;</span><span class="op" id="6587330">}</span><span class="op" id="6587331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587334">{</span><span class="string" id="6587335">&#34;/abc/&#34;</span><span class="op" id="6587342">,</span>&nbsp;<span class="string" id="6587344">&#34;/abc&#34;</span><span class="op" id="6587350">}</span><span class="op" id="6587351">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6587355">//&nbsp;Remove&nbsp;doubled&nbsp;slash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587380">{</span><span class="string" id="6587381">&#34;abc//def//ghi&#34;</span><span class="op" id="6587396">,</span>&nbsp;<span class="string" id="6587398">&#34;abc/def/ghi&#34;</span><span class="op" id="6587411">}</span><span class="op" id="6587412">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587415">{</span><span class="string" id="6587416">&#34;//abc&#34;</span><span class="op" id="6587423">,</span>&nbsp;<span class="string" id="6587425">&#34;/abc&#34;</span><span class="op" id="6587431">}</span><span class="op" id="6587432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587435">{</span><span class="string" id="6587436">&#34;///abc&#34;</span><span class="op" id="6587444">,</span>&nbsp;<span class="string" id="6587446">&#34;/abc&#34;</span><span class="op" id="6587452">}</span><span class="op" id="6587453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587456">{</span><span class="string" id="6587457">&#34;//abc//&#34;</span><span class="op" id="6587466">,</span>&nbsp;<span class="string" id="6587468">&#34;/abc&#34;</span><span class="op" id="6587474">}</span><span class="op" id="6587475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587478">{</span><span class="string" id="6587479">&#34;abc//&#34;</span><span class="op" id="6587486">,</span>&nbsp;<span class="string" id="6587488">&#34;abc&#34;</span><span class="op" id="6587493">}</span><span class="op" id="6587494">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6587498">//&nbsp;Remove&nbsp;.&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587520">{</span><span class="string" id="6587521">&#34;abc/./def&#34;</span><span class="op" id="6587532">,</span>&nbsp;<span class="string" id="6587534">&#34;abc/def&#34;</span><span class="op" id="6587543">}</span><span class="op" id="6587544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587547">{</span><span class="string" id="6587548">&#34;/./abc/def&#34;</span><span class="op" id="6587560">,</span>&nbsp;<span class="string" id="6587562">&#34;/abc/def&#34;</span><span class="op" id="6587572">}</span><span class="op" id="6587573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587576">{</span><span class="string" id="6587577">&#34;abc/.&#34;</span><span class="op" id="6587584">,</span>&nbsp;<span class="string" id="6587586">&#34;abc&#34;</span><span class="op" id="6587591">}</span><span class="op" id="6587592">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6587596">//&nbsp;Remove&nbsp;..&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587619">{</span><span class="string" id="6587620">&#34;abc/def/ghi/../jkl&#34;</span><span class="op" id="6587640">,</span>&nbsp;<span class="string" id="6587642">&#34;abc/def/jkl&#34;</span><span class="op" id="6587655">}</span><span class="op" id="6587656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587659">{</span><span class="string" id="6587660">&#34;abc/def/../ghi/../jkl&#34;</span><span class="op" id="6587683">,</span>&nbsp;<span class="string" id="6587685">&#34;abc/jkl&#34;</span><span class="op" id="6587694">}</span><span class="op" id="6587695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587698">{</span><span class="string" id="6587699">&#34;abc/def/..&#34;</span><span class="op" id="6587711">,</span>&nbsp;<span class="string" id="6587713">&#34;abc&#34;</span><span class="op" id="6587718">}</span><span class="op" id="6587719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587722">{</span><span class="string" id="6587723">&#34;abc/def/../..&#34;</span><span class="op" id="6587738">,</span>&nbsp;<span class="string" id="6587740">&#34;.&#34;</span><span class="op" id="6587743">}</span><span class="op" id="6587744">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587747">{</span><span class="string" id="6587748">&#34;/abc/def/../..&#34;</span><span class="op" id="6587764">,</span>&nbsp;<span class="string" id="6587766">&#34;/&#34;</span><span class="op" id="6587769">}</span><span class="op" id="6587770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587773">{</span><span class="string" id="6587774">&#34;abc/def/../../..&#34;</span><span class="op" id="6587792">,</span>&nbsp;<span class="string" id="6587794">&#34;..&#34;</span><span class="op" id="6587798">}</span><span class="op" id="6587799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587802">{</span><span class="string" id="6587803">&#34;/abc/def/../../..&#34;</span><span class="op" id="6587822">,</span>&nbsp;<span class="string" id="6587824">&#34;/&#34;</span><span class="op" id="6587827">}</span><span class="op" id="6587828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587831">{</span><span class="string" id="6587832">&#34;abc/def/../../../ghi/jkl/../../../mno&#34;</span><span class="op" id="6587871">,</span>&nbsp;<span class="string" id="6587873">&#34;../../mno&#34;</span><span class="op" id="6587884">}</span><span class="op" id="6587885">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6587889">//&nbsp;Combinations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587906">{</span><span class="string" id="6587907">&#34;abc/./../def&#34;</span><span class="op" id="6587921">,</span>&nbsp;<span class="string" id="6587923">&#34;def&#34;</span><span class="op" id="6587928">}</span><span class="op" id="6587929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587932">{</span><span class="string" id="6587933">&#34;abc//./../def&#34;</span><span class="op" id="6587948">,</span>&nbsp;<span class="string" id="6587950">&#34;def&#34;</span><span class="op" id="6587955">}</span><span class="op" id="6587956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587959">{</span><span class="string" id="6587960">&#34;abc/../../././../def&#34;</span><span class="op" id="6587982">,</span>&nbsp;<span class="string" id="6587984">&#34;../../def&#34;</span><span class="op" id="6587995">}</span><span class="op" id="6587996">,</span><br>
<span class="lineno"></span><span class="op" id="6587998">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6588001">func</span>&nbsp;<span class="ident" id="6588006">TestClean</span><span class="op" id="6588015">(</span><span class="ident" id="6588016">t</span>&nbsp;<span class="op" id="6588018">*</span><span class="ident" id="6588019">testing</span><span class="op" id="6588026">.</span><span class="ident" id="6588027">T</span><span class="op" id="6588028">)</span>&nbsp;<span class="op" id="6588030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588033">for</span>&nbsp;<span class="ident" id="6588037">_</span><span class="op" id="6588038">,</span>&nbsp;<span class="ident" id="6588040">test</span>&nbsp;<span class="op" id="6588045">:=</span>&nbsp;<span class="keyword" id="6588048">range</span>&nbsp;<span class="ident" id="6588054">cleantests</span>&nbsp;<span class="op" id="6588065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588069">if</span>&nbsp;<span class="ident" id="6588072">s</span>&nbsp;<span class="op" id="6588074">:=</span>&nbsp;<span class="ident" id="6588077">Clean</span><span class="op" id="6588082">(</span><span class="ident" id="6588083">test</span><span class="op" id="6588087">.</span><span class="ident" id="6588088">path</span><span class="op" id="6588092">)</span><span class="op" id="6588093">;</span>&nbsp;<span class="ident" id="6588095">s</span>&nbsp;<span class="op" id="6588097">!=</span>&nbsp;<span class="ident" id="6588100">test</span><span class="op" id="6588104">.</span><span class="ident" id="6588105">result</span>&nbsp;<span class="op" id="6588112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588117">t</span><span class="op" id="6588118">.</span><span class="ident" id="6588119">Errorf</span><span class="op" id="6588125">(</span><span class="string" id="6588126">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6588151">,</span>&nbsp;<span class="ident" id="6588153">test</span><span class="op" id="6588157">.</span><span class="ident" id="6588158">path</span><span class="op" id="6588162">,</span>&nbsp;<span class="ident" id="6588164">s</span><span class="op" id="6588165">,</span>&nbsp;<span class="ident" id="6588167">test</span><span class="op" id="6588171">.</span><span class="ident" id="6588172">result</span><span class="op" id="6588178">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588186">if</span>&nbsp;<span class="ident" id="6588189">s</span>&nbsp;<span class="op" id="6588191">:=</span>&nbsp;<span class="ident" id="6588194">Clean</span><span class="op" id="6588199">(</span><span class="ident" id="6588200">test</span><span class="op" id="6588204">.</span><span class="ident" id="6588205">result</span><span class="op" id="6588211">)</span><span class="op" id="6588212">;</span>&nbsp;<span class="ident" id="6588214">s</span>&nbsp;<span class="op" id="6588216">!=</span>&nbsp;<span class="ident" id="6588219">test</span><span class="op" id="6588223">.</span><span class="ident" id="6588224">result</span>&nbsp;<span class="op" id="6588231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588236">t</span><span class="op" id="6588237">.</span><span class="ident" id="6588238">Errorf</span><span class="op" id="6588244">(</span><span class="string" id="6588245">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6588270">,</span>&nbsp;<span class="ident" id="6588272">test</span><span class="op" id="6588276">.</span><span class="ident" id="6588277">result</span><span class="op" id="6588283">,</span>&nbsp;<span class="ident" id="6588285">s</span><span class="op" id="6588286">,</span>&nbsp;<span class="ident" id="6588288">test</span><span class="op" id="6588292">.</span><span class="ident" id="6588293">result</span><span class="op" id="6588299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588306">}</span><br>
<span class="lineno">75</span><span class="op" id="6588308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6588311">func</span>&nbsp;<span class="ident" id="6588316">TestCleanMallocs</span><span class="op" id="6588332">(</span><span class="ident" id="6588333">t</span>&nbsp;<span class="op" id="6588335">*</span><span class="ident" id="6588336">testing</span><span class="op" id="6588343">.</span><span class="ident" id="6588344">T</span><span class="op" id="6588345">)</span>&nbsp;<span class="op" id="6588347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588350">if</span>&nbsp;<span class="ident" id="6588353">testing</span><span class="op" id="6588360">.</span><span class="ident" id="6588361">Short</span><span class="op" id="6588366">(</span><span class="op" id="6588367">)</span>&nbsp;<span class="op" id="6588369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588373">t</span><span class="op" id="6588374">.</span><span class="ident" id="6588375">Skip</span><span class="op" id="6588379">(</span><span class="string" id="6588380">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6588417">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588423">if</span>&nbsp;<span class="ident" id="6588426">runtime</span><span class="op" id="6588433">.</span><span class="ident" id="6588434">GOMAXPROCS</span><span class="op" id="6588444">(</span><span class="num" id="6588445">0</span><span class="op" id="6588446">)</span>&nbsp;<span class="op" id="6588448">&gt;</span>&nbsp;<span class="num" id="6588450">1</span>&nbsp;<span class="op" id="6588452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588456">t</span><span class="op" id="6588457">.</span><span class="ident" id="6588458">Log</span><span class="op" id="6588461">(</span><span class="string" id="6588462">&#34;skipping&nbsp;AllocsPerRun&nbsp;checks;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="6588506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588510">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588518">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588522">for</span>&nbsp;<span class="ident" id="6588526">_</span><span class="op" id="6588527">,</span>&nbsp;<span class="ident" id="6588529">test</span>&nbsp;<span class="op" id="6588534">:=</span>&nbsp;<span class="keyword" id="6588537">range</span>&nbsp;<span class="ident" id="6588543">cleantests</span>&nbsp;<span class="op" id="6588554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588558">allocs</span>&nbsp;<span class="op" id="6588565">:=</span>&nbsp;<span class="ident" id="6588568">testing</span><span class="op" id="6588575">.</span><span class="ident" id="6588576">AllocsPerRun</span><span class="op" id="6588588">(</span><span class="num" id="6588589">100</span><span class="op" id="6588592">,</span>&nbsp;<span class="keyword" id="6588594">func</span><span class="op" id="6588598">(</span><span class="op" id="6588599">)</span>&nbsp;<span class="op" id="6588601">{</span>&nbsp;<span class="ident" id="6588603">Clean</span><span class="op" id="6588608">(</span><span class="ident" id="6588609">test</span><span class="op" id="6588613">.</span><span class="ident" id="6588614">result</span><span class="op" id="6588620">)</span>&nbsp;<span class="op" id="6588622">}</span><span class="op" id="6588623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588627">if</span>&nbsp;<span class="ident" id="6588630">allocs</span>&nbsp;<span class="op" id="6588637">&gt;</span>&nbsp;<span class="num" id="6588639">0</span>&nbsp;<span class="op" id="6588641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588646">t</span><span class="op" id="6588647">.</span><span class="ident" id="6588648">Errorf</span><span class="op" id="6588654">(</span><span class="string" id="6588655">&#34;Clean(%q):&nbsp;%v&nbsp;allocs,&nbsp;want&nbsp;zero&#34;</span><span class="op" id="6588688">,</span>&nbsp;<span class="ident" id="6588690">test</span><span class="op" id="6588694">.</span><span class="ident" id="6588695">result</span><span class="op" id="6588701">,</span>&nbsp;<span class="ident" id="6588703">allocs</span><span class="op" id="6588709">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588716">}</span><br>
<span class="lineno"></span><span class="op" id="6588718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6588721">type</span>&nbsp;<span class="ident" id="6588726">SplitTest</span>&nbsp;<span class="keyword" id="6588736">struct</span>&nbsp;<span class="op" id="6588743">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588746">path</span><span class="op" id="6588750">,</span>&nbsp;<span class="ident" id="6588752">dir</span><span class="op" id="6588755">,</span>&nbsp;<span class="ident" id="6588757">file</span>&nbsp;<span class="builtintype" id="6588762">string</span><br>
<span class="lineno"></span><span class="op" id="6588769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6588772">var</span>&nbsp;<span class="ident" id="6588776">splittests</span>&nbsp;<span class="op" id="6588787">=</span>&nbsp;<span class="op" id="6588789">[</span><span class="op" id="6588790">]</span><span class="ident" id="6588791">SplitTest</span><span class="op" id="6588800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588803">{</span><span class="string" id="6588804">&#34;a/b&#34;</span><span class="op" id="6588809">,</span>&nbsp;<span class="string" id="6588811">&#34;a/&#34;</span><span class="op" id="6588815">,</span>&nbsp;<span class="string" id="6588817">&#34;b&#34;</span><span class="op" id="6588820">}</span><span class="op" id="6588821">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588824">{</span><span class="string" id="6588825">&#34;a/b/&#34;</span><span class="op" id="6588831">,</span>&nbsp;<span class="string" id="6588833">&#34;a/b/&#34;</span><span class="op" id="6588839">,</span>&nbsp;<span class="string" id="6588841">&#34;&#34;</span><span class="op" id="6588843">}</span><span class="op" id="6588844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588847">{</span><span class="string" id="6588848">&#34;a/&#34;</span><span class="op" id="6588852">,</span>&nbsp;<span class="string" id="6588854">&#34;a/&#34;</span><span class="op" id="6588858">,</span>&nbsp;<span class="string" id="6588860">&#34;&#34;</span><span class="op" id="6588862">}</span><span class="op" id="6588863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588866">{</span><span class="string" id="6588867">&#34;a&#34;</span><span class="op" id="6588870">,</span>&nbsp;<span class="string" id="6588872">&#34;&#34;</span><span class="op" id="6588874">,</span>&nbsp;<span class="string" id="6588876">&#34;a&#34;</span><span class="op" id="6588879">}</span><span class="op" id="6588880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588883">{</span><span class="string" id="6588884">&#34;/&#34;</span><span class="op" id="6588887">,</span>&nbsp;<span class="string" id="6588889">&#34;/&#34;</span><span class="op" id="6588892">,</span>&nbsp;<span class="string" id="6588894">&#34;&#34;</span><span class="op" id="6588896">}</span><span class="op" id="6588897">,</span><br>
<span class="lineno"></span><span class="op" id="6588899">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="6588902">func</span>&nbsp;<span class="ident" id="6588907">TestSplit</span><span class="op" id="6588916">(</span><span class="ident" id="6588917">t</span>&nbsp;<span class="op" id="6588919">*</span><span class="ident" id="6588920">testing</span><span class="op" id="6588927">.</span><span class="ident" id="6588928">T</span><span class="op" id="6588929">)</span>&nbsp;<span class="op" id="6588931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588934">for</span>&nbsp;<span class="ident" id="6588938">_</span><span class="op" id="6588939">,</span>&nbsp;<span class="ident" id="6588941">test</span>&nbsp;<span class="op" id="6588946">:=</span>&nbsp;<span class="keyword" id="6588949">range</span>&nbsp;<span class="ident" id="6588955">splittests</span>&nbsp;<span class="op" id="6588966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588970">if</span>&nbsp;<span class="ident" id="6588973">d</span><span class="op" id="6588974">,</span>&nbsp;<span class="ident" id="6588976">f</span>&nbsp;<span class="op" id="6588978">:=</span>&nbsp;<span class="ident" id="6588981">Split</span><span class="op" id="6588986">(</span><span class="ident" id="6588987">test</span><span class="op" id="6588991">.</span><span class="ident" id="6588992">path</span><span class="op" id="6588996">)</span><span class="op" id="6588997">;</span>&nbsp;<span class="ident" id="6588999">d</span>&nbsp;<span class="op" id="6589001">!=</span>&nbsp;<span class="ident" id="6589004">test</span><span class="op" id="6589008">.</span><span class="ident" id="6589009">dir</span>&nbsp;<span class="op" id="6589013">||</span>&nbsp;<span class="ident" id="6589016">f</span>&nbsp;<span class="op" id="6589018">!=</span>&nbsp;<span class="ident" id="6589021">test</span><span class="op" id="6589025">.</span><span class="ident" id="6589026">file</span>&nbsp;<span class="op" id="6589031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589036">t</span><span class="op" id="6589037">.</span><span class="ident" id="6589038">Errorf</span><span class="op" id="6589044">(</span><span class="string" id="6589045">&#34;Split(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;want&nbsp;%q,&nbsp;%q&#34;</span><span class="op" id="6589078">,</span>&nbsp;<span class="ident" id="6589080">test</span><span class="op" id="6589084">.</span><span class="ident" id="6589085">path</span><span class="op" id="6589089">,</span>&nbsp;<span class="ident" id="6589091">d</span><span class="op" id="6589092">,</span>&nbsp;<span class="ident" id="6589094">f</span><span class="op" id="6589095">,</span>&nbsp;<span class="ident" id="6589097">test</span><span class="op" id="6589101">.</span><span class="ident" id="6589102">dir</span><span class="op" id="6589105">,</span>&nbsp;<span class="ident" id="6589107">test</span><span class="op" id="6589111">.</span><span class="ident" id="6589112">file</span><span class="op" id="6589116">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589123">}</span><br>
<span class="lineno"></span><span class="op" id="6589125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6589128">type</span>&nbsp;<span class="ident" id="6589133">JoinTest</span>&nbsp;<span class="keyword" id="6589142">struct</span>&nbsp;<span class="op" id="6589149">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589152">elem</span>&nbsp;<span class="op" id="6589157">[</span><span class="op" id="6589158">]</span><span class="builtintype" id="6589159">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589167">path</span>&nbsp;<span class="builtintype" id="6589172">string</span><br>
<span class="lineno"></span><span class="op" id="6589179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6589182">var</span>&nbsp;<span class="ident" id="6589186">jointests</span>&nbsp;<span class="op" id="6589196">=</span>&nbsp;<span class="op" id="6589198">[</span><span class="op" id="6589199">]</span><span class="ident" id="6589200">JoinTest</span><span class="op" id="6589208">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6589211">//&nbsp;zero&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589231">{</span><span class="op" id="6589232">[</span><span class="op" id="6589233">]</span><span class="builtintype" id="6589234">string</span><span class="op" id="6589240">{</span><span class="op" id="6589241">}</span><span class="op" id="6589242">,</span>&nbsp;<span class="string" id="6589244">&#34;&#34;</span><span class="op" id="6589246">}</span><span class="op" id="6589247">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6589251">//&nbsp;one&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589269">{</span><span class="op" id="6589270">[</span><span class="op" id="6589271">]</span><span class="builtintype" id="6589272">string</span><span class="op" id="6589278">{</span><span class="string" id="6589279">&#34;&#34;</span><span class="op" id="6589281">}</span><span class="op" id="6589282">,</span>&nbsp;<span class="string" id="6589284">&#34;&#34;</span><span class="op" id="6589286">}</span><span class="op" id="6589287">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589290">{</span><span class="op" id="6589291">[</span><span class="op" id="6589292">]</span><span class="builtintype" id="6589293">string</span><span class="op" id="6589299">{</span><span class="string" id="6589300">&#34;a&#34;</span><span class="op" id="6589303">}</span><span class="op" id="6589304">,</span>&nbsp;<span class="string" id="6589306">&#34;a&#34;</span><span class="op" id="6589309">}</span><span class="op" id="6589310">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6589314">//&nbsp;two&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589333">{</span><span class="op" id="6589334">[</span><span class="op" id="6589335">]</span><span class="builtintype" id="6589336">string</span><span class="op" id="6589342">{</span><span class="string" id="6589343">&#34;a&#34;</span><span class="op" id="6589346">,</span>&nbsp;<span class="string" id="6589348">&#34;b&#34;</span><span class="op" id="6589351">}</span><span class="op" id="6589352">,</span>&nbsp;<span class="string" id="6589354">&#34;a/b&#34;</span><span class="op" id="6589359">}</span><span class="op" id="6589360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589363">{</span><span class="op" id="6589364">[</span><span class="op" id="6589365">]</span><span class="builtintype" id="6589366">string</span><span class="op" id="6589372">{</span><span class="string" id="6589373">&#34;a&#34;</span><span class="op" id="6589376">,</span>&nbsp;<span class="string" id="6589378">&#34;&#34;</span><span class="op" id="6589380">}</span><span class="op" id="6589381">,</span>&nbsp;<span class="string" id="6589383">&#34;a&#34;</span><span class="op" id="6589386">}</span><span class="op" id="6589387">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589390">{</span><span class="op" id="6589391">[</span><span class="op" id="6589392">]</span><span class="builtintype" id="6589393">string</span><span class="op" id="6589399">{</span><span class="string" id="6589400">&#34;&#34;</span><span class="op" id="6589402">,</span>&nbsp;<span class="string" id="6589404">&#34;b&#34;</span><span class="op" id="6589407">}</span><span class="op" id="6589408">,</span>&nbsp;<span class="string" id="6589410">&#34;b&#34;</span><span class="op" id="6589413">}</span><span class="op" id="6589414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589417">{</span><span class="op" id="6589418">[</span><span class="op" id="6589419">]</span><span class="builtintype" id="6589420">string</span><span class="op" id="6589426">{</span><span class="string" id="6589427">&#34;/&#34;</span><span class="op" id="6589430">,</span>&nbsp;<span class="string" id="6589432">&#34;a&#34;</span><span class="op" id="6589435">}</span><span class="op" id="6589436">,</span>&nbsp;<span class="string" id="6589438">&#34;/a&#34;</span><span class="op" id="6589442">}</span><span class="op" id="6589443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589446">{</span><span class="op" id="6589447">[</span><span class="op" id="6589448">]</span><span class="builtintype" id="6589449">string</span><span class="op" id="6589455">{</span><span class="string" id="6589456">&#34;/&#34;</span><span class="op" id="6589459">,</span>&nbsp;<span class="string" id="6589461">&#34;&#34;</span><span class="op" id="6589463">}</span><span class="op" id="6589464">,</span>&nbsp;<span class="string" id="6589466">&#34;/&#34;</span><span class="op" id="6589469">}</span><span class="op" id="6589470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589473">{</span><span class="op" id="6589474">[</span><span class="op" id="6589475">]</span><span class="builtintype" id="6589476">string</span><span class="op" id="6589482">{</span><span class="string" id="6589483">&#34;a/&#34;</span><span class="op" id="6589487">,</span>&nbsp;<span class="string" id="6589489">&#34;b&#34;</span><span class="op" id="6589492">}</span><span class="op" id="6589493">,</span>&nbsp;<span class="string" id="6589495">&#34;a/b&#34;</span><span class="op" id="6589500">}</span><span class="op" id="6589501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589504">{</span><span class="op" id="6589505">[</span><span class="op" id="6589506">]</span><span class="builtintype" id="6589507">string</span><span class="op" id="6589513">{</span><span class="string" id="6589514">&#34;a/&#34;</span><span class="op" id="6589518">,</span>&nbsp;<span class="string" id="6589520">&#34;&#34;</span><span class="op" id="6589522">}</span><span class="op" id="6589523">,</span>&nbsp;<span class="string" id="6589525">&#34;a&#34;</span><span class="op" id="6589528">}</span><span class="op" id="6589529">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589532">{</span><span class="op" id="6589533">[</span><span class="op" id="6589534">]</span><span class="builtintype" id="6589535">string</span><span class="op" id="6589541">{</span><span class="string" id="6589542">&#34;&#34;</span><span class="op" id="6589544">,</span>&nbsp;<span class="string" id="6589546">&#34;&#34;</span><span class="op" id="6589548">}</span><span class="op" id="6589549">,</span>&nbsp;<span class="string" id="6589551">&#34;&#34;</span><span class="op" id="6589553">}</span><span class="op" id="6589554">,</span><br>
<span class="lineno"></span><span class="op" id="6589556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6589559">//&nbsp;join&nbsp;takes&nbsp;a&nbsp;[]string&nbsp;and&nbsp;passes&nbsp;it&nbsp;to&nbsp;Join.</span><br>
<span class="lineno"></span><span class="keyword" id="6589607">func</span>&nbsp;<span class="ident" id="6589612">join</span><span class="op" id="6589616">(</span><span class="ident" id="6589617">elem</span>&nbsp;<span class="op" id="6589622">[</span><span class="op" id="6589623">]</span><span class="builtintype" id="6589624">string</span><span class="op" id="6589630">,</span>&nbsp;<span class="ident" id="6589632">args</span>&nbsp;<span class="op" id="6589637">...</span><span class="builtintype" id="6589640">string</span><span class="op" id="6589646">)</span>&nbsp;<span class="builtintype" id="6589648">string</span>&nbsp;<span class="op" id="6589655">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589658">args</span>&nbsp;<span class="op" id="6589663">=</span>&nbsp;<span class="ident" id="6589665">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589671">return</span>&nbsp;<span class="ident" id="6589678">Join</span><span class="op" id="6589682">(</span><span class="ident" id="6589683">args</span><span class="op" id="6589687">...</span><span class="op" id="6589690">)</span><br>
<span class="lineno"></span><span class="op" id="6589692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6589695">func</span>&nbsp;<span class="ident" id="6589700">TestJoin</span><span class="op" id="6589708">(</span><span class="ident" id="6589709">t</span>&nbsp;<span class="op" id="6589711">*</span><span class="ident" id="6589712">testing</span><span class="op" id="6589719">.</span><span class="ident" id="6589720">T</span><span class="op" id="6589721">)</span>&nbsp;<span class="op" id="6589723">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589726">for</span>&nbsp;<span class="ident" id="6589730">_</span><span class="op" id="6589731">,</span>&nbsp;<span class="ident" id="6589733">test</span>&nbsp;<span class="op" id="6589738">:=</span>&nbsp;<span class="keyword" id="6589741">range</span>&nbsp;<span class="ident" id="6589747">jointests</span>&nbsp;<span class="op" id="6589757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589761">if</span>&nbsp;<span class="ident" id="6589764">p</span>&nbsp;<span class="op" id="6589766">:=</span>&nbsp;<span class="ident" id="6589769">join</span><span class="op" id="6589773">(</span><span class="ident" id="6589774">test</span><span class="op" id="6589778">.</span><span class="ident" id="6589779">elem</span><span class="op" id="6589783">)</span><span class="op" id="6589784">;</span>&nbsp;<span class="ident" id="6589786">p</span>&nbsp;<span class="op" id="6589788">!=</span>&nbsp;<span class="ident" id="6589791">test</span><span class="op" id="6589795">.</span><span class="ident" id="6589796">path</span>&nbsp;<span class="op" id="6589801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589806">t</span><span class="op" id="6589807">.</span><span class="ident" id="6589808">Errorf</span><span class="op" id="6589814">(</span><span class="string" id="6589815">&#34;join(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6589839">,</span>&nbsp;<span class="ident" id="6589841">test</span><span class="op" id="6589845">.</span><span class="ident" id="6589846">elem</span><span class="op" id="6589850">,</span>&nbsp;<span class="ident" id="6589852">p</span><span class="op" id="6589853">,</span>&nbsp;<span class="ident" id="6589855">test</span><span class="op" id="6589859">.</span><span class="ident" id="6589860">path</span><span class="op" id="6589864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589871">}</span><br>
<span class="lineno">150</span><span class="op" id="6589873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6589876">type</span>&nbsp;<span class="ident" id="6589881">ExtTest</span>&nbsp;<span class="keyword" id="6589889">struct</span>&nbsp;<span class="op" id="6589896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589899">path</span><span class="op" id="6589903">,</span>&nbsp;<span class="ident" id="6589905">ext</span>&nbsp;<span class="builtintype" id="6589909">string</span><br>
<span class="lineno"></span><span class="op" id="6589916">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="6589919">var</span>&nbsp;<span class="ident" id="6589923">exttests</span>&nbsp;<span class="op" id="6589932">=</span>&nbsp;<span class="op" id="6589934">[</span><span class="op" id="6589935">]</span><span class="ident" id="6589936">ExtTest</span><span class="op" id="6589943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589946">{</span><span class="string" id="6589947">&#34;path.go&#34;</span><span class="op" id="6589956">,</span>&nbsp;<span class="string" id="6589958">&#34;.go&#34;</span><span class="op" id="6589963">}</span><span class="op" id="6589964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589967">{</span><span class="string" id="6589968">&#34;path.pb.go&#34;</span><span class="op" id="6589980">,</span>&nbsp;<span class="string" id="6589982">&#34;.go&#34;</span><span class="op" id="6589987">}</span><span class="op" id="6589988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589991">{</span><span class="string" id="6589992">&#34;a.dir/b&#34;</span><span class="op" id="6590001">,</span>&nbsp;<span class="string" id="6590003">&#34;&#34;</span><span class="op" id="6590005">}</span><span class="op" id="6590006">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590009">{</span><span class="string" id="6590010">&#34;a.dir/b.go&#34;</span><span class="op" id="6590022">,</span>&nbsp;<span class="string" id="6590024">&#34;.go&#34;</span><span class="op" id="6590029">}</span><span class="op" id="6590030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590033">{</span><span class="string" id="6590034">&#34;a.dir/&#34;</span><span class="op" id="6590042">,</span>&nbsp;<span class="string" id="6590044">&#34;&#34;</span><span class="op" id="6590046">}</span><span class="op" id="6590047">,</span><br>
<span class="lineno"></span><span class="op" id="6590049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6590052">func</span>&nbsp;<span class="ident" id="6590057">TestExt</span><span class="op" id="6590064">(</span><span class="ident" id="6590065">t</span>&nbsp;<span class="op" id="6590067">*</span><span class="ident" id="6590068">testing</span><span class="op" id="6590075">.</span><span class="ident" id="6590076">T</span><span class="op" id="6590077">)</span>&nbsp;<span class="op" id="6590079">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6590082">for</span>&nbsp;<span class="ident" id="6590086">_</span><span class="op" id="6590087">,</span>&nbsp;<span class="ident" id="6590089">test</span>&nbsp;<span class="op" id="6590094">:=</span>&nbsp;<span class="keyword" id="6590097">range</span>&nbsp;<span class="ident" id="6590103">exttests</span>&nbsp;<span class="op" id="6590112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6590116">if</span>&nbsp;<span class="ident" id="6590119">x</span>&nbsp;<span class="op" id="6590121">:=</span>&nbsp;<span class="ident" id="6590124">Ext</span><span class="op" id="6590127">(</span><span class="ident" id="6590128">test</span><span class="op" id="6590132">.</span><span class="ident" id="6590133">path</span><span class="op" id="6590137">)</span><span class="op" id="6590138">;</span>&nbsp;<span class="ident" id="6590140">x</span>&nbsp;<span class="op" id="6590142">!=</span>&nbsp;<span class="ident" id="6590145">test</span><span class="op" id="6590149">.</span><span class="ident" id="6590150">ext</span>&nbsp;<span class="op" id="6590154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590159">t</span><span class="op" id="6590160">.</span><span class="ident" id="6590161">Errorf</span><span class="op" id="6590167">(</span><span class="string" id="6590168">&#34;Ext(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6590191">,</span>&nbsp;<span class="ident" id="6590193">test</span><span class="op" id="6590197">.</span><span class="ident" id="6590198">path</span><span class="op" id="6590202">,</span>&nbsp;<span class="ident" id="6590204">x</span><span class="op" id="6590205">,</span>&nbsp;<span class="ident" id="6590207">test</span><span class="op" id="6590211">.</span><span class="ident" id="6590212">ext</span><span class="op" id="6590215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590222">}</span><br>
<span class="lineno">170</span><span class="op" id="6590224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6590227">var</span>&nbsp;<span class="ident" id="6590231">basetests</span>&nbsp;<span class="op" id="6590241">=</span>&nbsp;<span class="op" id="6590243">[</span><span class="op" id="6590244">]</span><span class="ident" id="6590245">PathTest</span><span class="op" id="6590253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6590256">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590274">{</span><span class="string" id="6590275">&#34;&#34;</span><span class="op" id="6590277">,</span>&nbsp;<span class="string" id="6590279">&#34;.&#34;</span><span class="op" id="6590282">}</span><span class="op" id="6590283">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590286">{</span><span class="string" id="6590287">&#34;.&#34;</span><span class="op" id="6590290">,</span>&nbsp;<span class="string" id="6590292">&#34;.&#34;</span><span class="op" id="6590295">}</span><span class="op" id="6590296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590299">{</span><span class="string" id="6590300">&#34;/.&#34;</span><span class="op" id="6590304">,</span>&nbsp;<span class="string" id="6590306">&#34;.&#34;</span><span class="op" id="6590309">}</span><span class="op" id="6590310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590313">{</span><span class="string" id="6590314">&#34;/&#34;</span><span class="op" id="6590317">,</span>&nbsp;<span class="string" id="6590319">&#34;/&#34;</span><span class="op" id="6590322">}</span><span class="op" id="6590323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590326">{</span><span class="string" id="6590327">&#34;////&#34;</span><span class="op" id="6590333">,</span>&nbsp;<span class="string" id="6590335">&#34;/&#34;</span><span class="op" id="6590338">}</span><span class="op" id="6590339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590342">{</span><span class="string" id="6590343">&#34;x/&#34;</span><span class="op" id="6590347">,</span>&nbsp;<span class="string" id="6590349">&#34;x&#34;</span><span class="op" id="6590352">}</span><span class="op" id="6590353">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590356">{</span><span class="string" id="6590357">&#34;abc&#34;</span><span class="op" id="6590362">,</span>&nbsp;<span class="string" id="6590364">&#34;abc&#34;</span><span class="op" id="6590369">}</span><span class="op" id="6590370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590373">{</span><span class="string" id="6590374">&#34;abc/def&#34;</span><span class="op" id="6590383">,</span>&nbsp;<span class="string" id="6590385">&#34;def&#34;</span><span class="op" id="6590390">}</span><span class="op" id="6590391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590394">{</span><span class="string" id="6590395">&#34;a/b/.x&#34;</span><span class="op" id="6590403">,</span>&nbsp;<span class="string" id="6590405">&#34;.x&#34;</span><span class="op" id="6590409">}</span><span class="op" id="6590410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590413">{</span><span class="string" id="6590414">&#34;a/b/c.&#34;</span><span class="op" id="6590422">,</span>&nbsp;<span class="string" id="6590424">&#34;c.&#34;</span><span class="op" id="6590428">}</span><span class="op" id="6590429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590432">{</span><span class="string" id="6590433">&#34;a/b/c.x&#34;</span><span class="op" id="6590442">,</span>&nbsp;<span class="string" id="6590444">&#34;c.x&#34;</span><span class="op" id="6590449">}</span><span class="op" id="6590450">,</span><br>
<span class="lineno">185</span><span class="op" id="6590452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6590455">func</span>&nbsp;<span class="ident" id="6590460">TestBase</span><span class="op" id="6590468">(</span><span class="ident" id="6590469">t</span>&nbsp;<span class="op" id="6590471">*</span><span class="ident" id="6590472">testing</span><span class="op" id="6590479">.</span><span class="ident" id="6590480">T</span><span class="op" id="6590481">)</span>&nbsp;<span class="op" id="6590483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6590486">for</span>&nbsp;<span class="ident" id="6590490">_</span><span class="op" id="6590491">,</span>&nbsp;<span class="ident" id="6590493">test</span>&nbsp;<span class="op" id="6590498">:=</span>&nbsp;<span class="keyword" id="6590501">range</span>&nbsp;<span class="ident" id="6590507">basetests</span>&nbsp;<span class="op" id="6590517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6590521">if</span>&nbsp;<span class="ident" id="6590524">s</span>&nbsp;<span class="op" id="6590526">:=</span>&nbsp;<span class="ident" id="6590529">Base</span><span class="op" id="6590533">(</span><span class="ident" id="6590534">test</span><span class="op" id="6590538">.</span><span class="ident" id="6590539">path</span><span class="op" id="6590543">)</span><span class="op" id="6590544">;</span>&nbsp;<span class="ident" id="6590546">s</span>&nbsp;<span class="op" id="6590548">!=</span>&nbsp;<span class="ident" id="6590551">test</span><span class="op" id="6590555">.</span><span class="ident" id="6590556">result</span>&nbsp;<span class="op" id="6590563">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590568">t</span><span class="op" id="6590569">.</span><span class="ident" id="6590570">Errorf</span><span class="op" id="6590576">(</span><span class="string" id="6590577">&#34;Base(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6590601">,</span>&nbsp;<span class="ident" id="6590603">test</span><span class="op" id="6590607">.</span><span class="ident" id="6590608">path</span><span class="op" id="6590612">,</span>&nbsp;<span class="ident" id="6590614">s</span><span class="op" id="6590615">,</span>&nbsp;<span class="ident" id="6590617">test</span><span class="op" id="6590621">.</span><span class="ident" id="6590622">result</span><span class="op" id="6590628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590635">}</span><br>
<span class="lineno"></span><span class="op" id="6590637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="6590640">var</span>&nbsp;<span class="ident" id="6590644">dirtests</span>&nbsp;<span class="op" id="6590653">=</span>&nbsp;<span class="op" id="6590655">[</span><span class="op" id="6590656">]</span><span class="ident" id="6590657">PathTest</span><span class="op" id="6590665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590668">{</span><span class="string" id="6590669">&#34;&#34;</span><span class="op" id="6590671">,</span>&nbsp;<span class="string" id="6590673">&#34;.&#34;</span><span class="op" id="6590676">}</span><span class="op" id="6590677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590680">{</span><span class="string" id="6590681">&#34;.&#34;</span><span class="op" id="6590684">,</span>&nbsp;<span class="string" id="6590686">&#34;.&#34;</span><span class="op" id="6590689">}</span><span class="op" id="6590690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590693">{</span><span class="string" id="6590694">&#34;/.&#34;</span><span class="op" id="6590698">,</span>&nbsp;<span class="string" id="6590700">&#34;/&#34;</span><span class="op" id="6590703">}</span><span class="op" id="6590704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590707">{</span><span class="string" id="6590708">&#34;/&#34;</span><span class="op" id="6590711">,</span>&nbsp;<span class="string" id="6590713">&#34;/&#34;</span><span class="op" id="6590716">}</span><span class="op" id="6590717">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590720">{</span><span class="string" id="6590721">&#34;////&#34;</span><span class="op" id="6590727">,</span>&nbsp;<span class="string" id="6590729">&#34;/&#34;</span><span class="op" id="6590732">}</span><span class="op" id="6590733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590736">{</span><span class="string" id="6590737">&#34;/foo&#34;</span><span class="op" id="6590743">,</span>&nbsp;<span class="string" id="6590745">&#34;/&#34;</span><span class="op" id="6590748">}</span><span class="op" id="6590749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590752">{</span><span class="string" id="6590753">&#34;x/&#34;</span><span class="op" id="6590757">,</span>&nbsp;<span class="string" id="6590759">&#34;x&#34;</span><span class="op" id="6590762">}</span><span class="op" id="6590763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590766">{</span><span class="string" id="6590767">&#34;abc&#34;</span><span class="op" id="6590772">,</span>&nbsp;<span class="string" id="6590774">&#34;.&#34;</span><span class="op" id="6590777">}</span><span class="op" id="6590778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590781">{</span><span class="string" id="6590782">&#34;abc/def&#34;</span><span class="op" id="6590791">,</span>&nbsp;<span class="string" id="6590793">&#34;abc&#34;</span><span class="op" id="6590798">}</span><span class="op" id="6590799">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590802">{</span><span class="string" id="6590803">&#34;abc////def&#34;</span><span class="op" id="6590815">,</span>&nbsp;<span class="string" id="6590817">&#34;abc&#34;</span><span class="op" id="6590822">}</span><span class="op" id="6590823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590826">{</span><span class="string" id="6590827">&#34;a/b/.x&#34;</span><span class="op" id="6590835">,</span>&nbsp;<span class="string" id="6590837">&#34;a/b&#34;</span><span class="op" id="6590842">}</span><span class="op" id="6590843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590846">{</span><span class="string" id="6590847">&#34;a/b/c.&#34;</span><span class="op" id="6590855">,</span>&nbsp;<span class="string" id="6590857">&#34;a/b&#34;</span><span class="op" id="6590862">}</span><span class="op" id="6590863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590866">{</span><span class="string" id="6590867">&#34;a/b/c.x&#34;</span><span class="op" id="6590876">,</span>&nbsp;<span class="string" id="6590878">&#34;a/b&#34;</span><span class="op" id="6590883">}</span><span class="op" id="6590884">,</span><br>
<span class="lineno"></span><span class="op" id="6590886">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="6590889">func</span>&nbsp;<span class="ident" id="6590894">TestDir</span><span class="op" id="6590901">(</span><span class="ident" id="6590902">t</span>&nbsp;<span class="op" id="6590904">*</span><span class="ident" id="6590905">testing</span><span class="op" id="6590912">.</span><span class="ident" id="6590913">T</span><span class="op" id="6590914">)</span>&nbsp;<span class="op" id="6590916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6590919">for</span>&nbsp;<span class="ident" id="6590923">_</span><span class="op" id="6590924">,</span>&nbsp;<span class="ident" id="6590926">test</span>&nbsp;<span class="op" id="6590931">:=</span>&nbsp;<span class="keyword" id="6590934">range</span>&nbsp;<span class="ident" id="6590940">dirtests</span>&nbsp;<span class="op" id="6590949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6590953">if</span>&nbsp;<span class="ident" id="6590956">s</span>&nbsp;<span class="op" id="6590958">:=</span>&nbsp;<span class="ident" id="6590961">Dir</span><span class="op" id="6590964">(</span><span class="ident" id="6590965">test</span><span class="op" id="6590969">.</span><span class="ident" id="6590970">path</span><span class="op" id="6590974">)</span><span class="op" id="6590975">;</span>&nbsp;<span class="ident" id="6590977">s</span>&nbsp;<span class="op" id="6590979">!=</span>&nbsp;<span class="ident" id="6590982">test</span><span class="op" id="6590986">.</span><span class="ident" id="6590987">result</span>&nbsp;<span class="op" id="6590994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590999">t</span><span class="op" id="6591000">.</span><span class="ident" id="6591001">Errorf</span><span class="op" id="6591007">(</span><span class="string" id="6591008">&#34;Dir(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6591031">,</span>&nbsp;<span class="ident" id="6591033">test</span><span class="op" id="6591037">.</span><span class="ident" id="6591038">path</span><span class="op" id="6591042">,</span>&nbsp;<span class="ident" id="6591044">s</span><span class="op" id="6591045">,</span>&nbsp;<span class="ident" id="6591047">test</span><span class="op" id="6591051">.</span><span class="ident" id="6591052">result</span><span class="op" id="6591058">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591065">}</span><br>
<span class="lineno"></span><span class="op" id="6591067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6591070">type</span>&nbsp;<span class="ident" id="6591075">IsAbsTest</span>&nbsp;<span class="keyword" id="6591085">struct</span>&nbsp;<span class="op" id="6591092">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6591095">path</span>&nbsp;&nbsp;<span class="builtintype" id="6591101">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6591109">isAbs</span>&nbsp;<span class="builtintype" id="6591115">bool</span><br>
<span class="lineno"></span><span class="op" id="6591120">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6591123">var</span>&nbsp;<span class="ident" id="6591127">isAbsTests</span>&nbsp;<span class="op" id="6591138">=</span>&nbsp;<span class="op" id="6591140">[</span><span class="op" id="6591141">]</span><span class="ident" id="6591142">IsAbsTest</span><span class="op" id="6591151">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591154">{</span><span class="string" id="6591155">&#34;&#34;</span><span class="op" id="6591157">,</span>&nbsp;<span class="builtintype" id="6591159">false</span><span class="op" id="6591164">}</span><span class="op" id="6591165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591168">{</span><span class="string" id="6591169">&#34;/&#34;</span><span class="op" id="6591172">,</span>&nbsp;<span class="builtintype" id="6591174">true</span><span class="op" id="6591178">}</span><span class="op" id="6591179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591182">{</span><span class="string" id="6591183">&#34;/usr/bin/gcc&#34;</span><span class="op" id="6591197">,</span>&nbsp;<span class="builtintype" id="6591199">true</span><span class="op" id="6591203">}</span><span class="op" id="6591204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591207">{</span><span class="string" id="6591208">&#34;..&#34;</span><span class="op" id="6591212">,</span>&nbsp;<span class="builtintype" id="6591214">false</span><span class="op" id="6591219">}</span><span class="op" id="6591220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591223">{</span><span class="string" id="6591224">&#34;/a/../bb&#34;</span><span class="op" id="6591234">,</span>&nbsp;<span class="builtintype" id="6591236">true</span><span class="op" id="6591240">}</span><span class="op" id="6591241">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591244">{</span><span class="string" id="6591245">&#34;.&#34;</span><span class="op" id="6591248">,</span>&nbsp;<span class="builtintype" id="6591250">false</span><span class="op" id="6591255">}</span><span class="op" id="6591256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591259">{</span><span class="string" id="6591260">&#34;./&#34;</span><span class="op" id="6591264">,</span>&nbsp;<span class="builtintype" id="6591266">false</span><span class="op" id="6591271">}</span><span class="op" id="6591272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591275">{</span><span class="string" id="6591276">&#34;lala&#34;</span><span class="op" id="6591282">,</span>&nbsp;<span class="builtintype" id="6591284">false</span><span class="op" id="6591289">}</span><span class="op" id="6591290">,</span><br>
<span class="lineno"></span><span class="op" id="6591292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="6591295">func</span>&nbsp;<span class="ident" id="6591300">TestIsAbs</span><span class="op" id="6591309">(</span><span class="ident" id="6591310">t</span>&nbsp;<span class="op" id="6591312">*</span><span class="ident" id="6591313">testing</span><span class="op" id="6591320">.</span><span class="ident" id="6591321">T</span><span class="op" id="6591322">)</span>&nbsp;<span class="op" id="6591324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6591327">for</span>&nbsp;<span class="ident" id="6591331">_</span><span class="op" id="6591332">,</span>&nbsp;<span class="ident" id="6591334">test</span>&nbsp;<span class="op" id="6591339">:=</span>&nbsp;<span class="keyword" id="6591342">range</span>&nbsp;<span class="ident" id="6591348">isAbsTests</span>&nbsp;<span class="op" id="6591359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6591363">if</span>&nbsp;<span class="ident" id="6591366">r</span>&nbsp;<span class="op" id="6591368">:=</span>&nbsp;<span class="ident" id="6591371">IsAbs</span><span class="op" id="6591376">(</span><span class="ident" id="6591377">test</span><span class="op" id="6591381">.</span><span class="ident" id="6591382">path</span><span class="op" id="6591386">)</span><span class="op" id="6591387">;</span>&nbsp;<span class="ident" id="6591389">r</span>&nbsp;<span class="op" id="6591391">!=</span>&nbsp;<span class="ident" id="6591394">test</span><span class="op" id="6591398">.</span><span class="ident" id="6591399">isAbs</span>&nbsp;<span class="op" id="6591405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6591410">t</span><span class="op" id="6591411">.</span><span class="ident" id="6591412">Errorf</span><span class="op" id="6591418">(</span><span class="string" id="6591419">&#34;IsAbs(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6591444">,</span>&nbsp;<span class="ident" id="6591446">test</span><span class="op" id="6591450">.</span><span class="ident" id="6591451">path</span><span class="op" id="6591455">,</span>&nbsp;<span class="ident" id="6591457">r</span><span class="op" id="6591458">,</span>&nbsp;<span class="ident" id="6591460">test</span><span class="op" id="6591464">.</span><span class="ident" id="6591465">isAbs</span><span class="op" id="6591470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591474">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591477">}</span><br>
<span class="lineno"></span><span class="op" id="6591479">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
