<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/textproto</h2>
<ul>
<li><a href="/gostd/net/textproto/header.go.html">header.go</a></li>
<li><a href="/gostd/net/textproto/pipeline.go.html">pipeline.go</a></li>
<li><a href="/gostd/net/textproto/reader.go.html">reader.go</a></li>
<li><a href="/gostd/net/textproto/reader_test.go.html" class="current">reader_test.go</a></li>
<li><a href="/gostd/net/textproto/textproto.go.html">textproto.go</a></li>
<li><a href="/gostd/net/textproto/writer.go.html">writer.go</a></li>
<li><a href="/gostd/net/textproto/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7248280">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7248336">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7248390">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7248441">package</span>&nbsp;<span class="ident" id="7248449">textproto</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7248460">import</span>&nbsp;<span class="op" id="7248467">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7248470">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7248479">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7248488">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7248494">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7248505">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7248516">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7248526">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7248529">type</span>&nbsp;<span class="ident" id="7248534">canonicalHeaderKeyTest</span>&nbsp;<span class="keyword" id="7248557">struct</span>&nbsp;<span class="op" id="7248564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7248567">in</span><span class="op" id="7248569">,</span>&nbsp;<span class="ident" id="7248571">out</span>&nbsp;<span class="builtintype" id="7248575">string</span><br>
<span class="lineno"></span><span class="op" id="7248582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="keyword" id="7248585">var</span>&nbsp;<span class="ident" id="7248589">canonicalHeaderKeyTests</span>&nbsp;<span class="op" id="7248613">=</span>&nbsp;<span class="op" id="7248615">[</span><span class="op" id="7248616">]</span><span class="ident" id="7248617"><a href="/gostd/net/textproto/reader_test.go.html#7248534">canonicalHeaderKeyTest</a></span><span class="op" id="7248639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248642">{</span><span class="string" id="7248643">&#34;a-b-c&#34;</span><span class="op" id="7248650">,</span>&nbsp;<span class="string" id="7248652">&#34;A-B-C&#34;</span><span class="op" id="7248659">}</span><span class="op" id="7248660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248663">{</span><span class="string" id="7248664">&#34;a-1-c&#34;</span><span class="op" id="7248671">,</span>&nbsp;<span class="string" id="7248673">&#34;A-1-C&#34;</span><span class="op" id="7248680">}</span><span class="op" id="7248681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248684">{</span><span class="string" id="7248685">&#34;User-Agent&#34;</span><span class="op" id="7248697">,</span>&nbsp;<span class="string" id="7248699">&#34;User-Agent&#34;</span><span class="op" id="7248711">}</span><span class="op" id="7248712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248715">{</span><span class="string" id="7248716">&#34;uSER-aGENT&#34;</span><span class="op" id="7248728">,</span>&nbsp;<span class="string" id="7248730">&#34;User-Agent&#34;</span><span class="op" id="7248742">}</span><span class="op" id="7248743">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248746">{</span><span class="string" id="7248747">&#34;user-agent&#34;</span><span class="op" id="7248759">,</span>&nbsp;<span class="string" id="7248761">&#34;User-Agent&#34;</span><span class="op" id="7248773">}</span><span class="op" id="7248774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248777">{</span><span class="string" id="7248778">&#34;USER-AGENT&#34;</span><span class="op" id="7248790">,</span>&nbsp;<span class="string" id="7248792">&#34;User-Agent&#34;</span><span class="op" id="7248804">}</span><span class="op" id="7248805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248808">{</span><span class="string" id="7248809">&#34;üser-agenT&#34;</span><span class="op" id="7248822">,</span>&nbsp;<span class="string" id="7248824">&#34;üser-Agent&#34;</span><span class="op" id="7248837">}</span><span class="op" id="7248838">,</span>&nbsp;<span class="comment" id="7248840">//&nbsp;non-ASCII&nbsp;unchanged</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7248865">//&nbsp;This&nbsp;caused&nbsp;a&nbsp;panic&nbsp;due&nbsp;to&nbsp;mishandling&nbsp;of&nbsp;a&nbsp;space:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248920">{</span><span class="string" id="7248921">&#34;C&nbsp;Ontent-Transfer-Encoding&#34;</span><span class="op" id="7248949">,</span>&nbsp;<span class="string" id="7248951">&#34;C-Ontent-Transfer-Encoding&#34;</span><span class="op" id="7248979">}</span><span class="op" id="7248980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248983">{</span><span class="string" id="7248984">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7248993">,</span>&nbsp;<span class="string" id="7248995">&#34;Foo-Bar&#34;</span><span class="op" id="7249004">}</span><span class="op" id="7249005">,</span><br>
<span class="lineno"></span><span class="op" id="7249007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7249010">func</span>&nbsp;<span class="ident" id="7249015">TestCanonicalMIMEHeaderKey</span><span class="op" id="7249041">(</span><span class="ident" id="7249042">t</span>&nbsp;<span class="op" id="7249044">*</span><span class="ident" id="7249045"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7249052">.</span><span class="ident" id="7249053"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7249054">)</span>&nbsp;<span class="op" id="7249056">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249059">for</span>&nbsp;<span class="ident" id="7249063">_</span><span class="op" id="7249064">,</span>&nbsp;<span class="ident" id="7249066">tt</span>&nbsp;<span class="op" id="7249069">:=</span>&nbsp;<span class="keyword" id="7249072">range</span>&nbsp;<span class="ident" id="7249078"><a href="/gostd/net/textproto/reader_test.go.html#7248589">canonicalHeaderKeyTests</a></span>&nbsp;<span class="op" id="7249102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249106">if</span>&nbsp;<span class="ident" id="7249109">s</span>&nbsp;<span class="op" id="7249111">:=</span>&nbsp;<span class="ident" id="7249114"><a href="/gostd/net/textproto/reader.go.html#4346917">CanonicalMIMEHeaderKey</a></span><span class="op" id="7249136">(</span><span class="ident" id="7249137"><a href="/gostd/net/textproto/reader_test.go.html#7249066">tt</a></span><span class="op" id="7249139">.</span><span class="ident" id="7249140"><a href="/gostd/net/textproto/reader_test.go.html#7248567">in</a></span><span class="op" id="7249142">)</span><span class="op" id="7249143">;</span>&nbsp;<span class="ident" id="7249145"><a href="/gostd/net/textproto/reader_test.go.html#7249109">s</a></span>&nbsp;<span class="op" id="7249147">!=</span>&nbsp;<span class="ident" id="7249150"><a href="/gostd/net/textproto/reader_test.go.html#7249066">tt</a></span><span class="op" id="7249152">.</span><span class="ident" id="7249153"><a href="/gostd/net/textproto/reader_test.go.html#7248571">out</a></span>&nbsp;<span class="op" id="7249157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249162"><a href="/gostd/net/textproto/reader_test.go.html#7249042">t</a></span><span class="op" id="7249163">.</span><span class="ident" id="7249164"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7249170">(</span><span class="string" id="7249171">&#34;CanonicalMIMEHeaderKey(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7249213">,</span>&nbsp;<span class="ident" id="7249215"><a href="/gostd/net/textproto/reader_test.go.html#7249066">tt</a></span><span class="op" id="7249217">.</span><span class="ident" id="7249218"><a href="/gostd/net/textproto/reader_test.go.html#7248567">in</a></span><span class="op" id="7249220">,</span>&nbsp;<span class="ident" id="7249222"><a href="/gostd/net/textproto/reader_test.go.html#7249109">s</a></span><span class="op" id="7249223">,</span>&nbsp;<span class="ident" id="7249225"><a href="/gostd/net/textproto/reader_test.go.html#7249066">tt</a></span><span class="op" id="7249227">.</span><span class="ident" id="7249228"><a href="/gostd/net/textproto/reader_test.go.html#7248571">out</a></span><span class="op" id="7249231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249238">}</span><br>
<span class="lineno">40</span><span class="op" id="7249240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7249243">func</span>&nbsp;<span class="ident" id="7249248">reader</span><span class="op" id="7249254">(</span><span class="ident" id="7249255">s</span>&nbsp;<span class="builtintype" id="7249257">string</span><span class="op" id="7249263">)</span>&nbsp;<span class="op" id="7249265">*</span><span class="ident" id="7249266"><a href="/gostd/net/textproto/reader.go.html#4333179">Reader</a></span>&nbsp;<span class="op" id="7249273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249276">return</span>&nbsp;<span class="ident" id="7249283"><a href="/gostd/net/textproto/reader.go.html#4333349">NewReader</a></span><span class="op" id="7249292">(</span><span class="ident" id="7249293"><a href="/gostd/net/textproto/reader_test.go.html#7248470">bufio</a></span><span class="op" id="7249298">.</span><span class="ident" id="7249299"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7249308">(</span><span class="ident" id="7249309"><a href="/gostd/net/textproto/reader_test.go.html#7248505">strings</a></span><span class="op" id="7249316">.</span><span class="ident" id="7249317"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7249326">(</span><span class="ident" id="7249327"><a href="/gostd/net/textproto/reader_test.go.html#7249255">s</a></span><span class="op" id="7249328">)</span><span class="op" id="7249329">)</span><span class="op" id="7249330">)</span><br>
<span class="lineno"></span><span class="op" id="7249332">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7249335">func</span>&nbsp;<span class="ident" id="7249340">TestReadLine</span><span class="op" id="7249352">(</span><span class="ident" id="7249353">t</span>&nbsp;<span class="op" id="7249355">*</span><span class="ident" id="7249356"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7249363">.</span><span class="ident" id="7249364"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7249365">)</span>&nbsp;<span class="op" id="7249367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249370">r</span>&nbsp;<span class="op" id="7249372">:=</span>&nbsp;<span class="ident" id="7249375"><a href="/gostd/net/textproto/reader_test.go.html#7249248">reader</a></span><span class="op" id="7249381">(</span><span class="string" id="7249382">&#34;line1\nline2\n&#34;</span><span class="op" id="7249398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249401">s</span><span class="op" id="7249402">,</span>&nbsp;<span class="ident" id="7249404">err</span>&nbsp;<span class="op" id="7249408">:=</span>&nbsp;<span class="ident" id="7249411"><a href="/gostd/net/textproto/reader_test.go.html#7249370">r</a></span><span class="op" id="7249412">.</span><span class="ident" id="7249413"><a href="/gostd/net/textproto/reader.go.html#4333526">ReadLine</a></span><span class="op" id="7249421">(</span><span class="op" id="7249422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249425">if</span>&nbsp;<span class="ident" id="7249428"><a href="/gostd/net/textproto/reader_test.go.html#7249401">s</a></span>&nbsp;<span class="op" id="7249430">!=</span>&nbsp;<span class="string" id="7249433">&#34;line1&#34;</span>&nbsp;<span class="op" id="7249441">||</span>&nbsp;<span class="ident" id="7249444"><a href="/gostd/net/textproto/reader_test.go.html#7249404">err</a></span>&nbsp;<span class="op" id="7249448">!=</span>&nbsp;<span class="builtintype" id="7249451">nil</span>&nbsp;<span class="op" id="7249455">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249459"><a href="/gostd/net/textproto/reader_test.go.html#7249353">t</a></span><span class="op" id="7249460">.</span><span class="ident" id="7249461"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7249467">(</span><span class="string" id="7249468">&#34;Line&nbsp;1:&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7249484">,</span>&nbsp;<span class="ident" id="7249486"><a href="/gostd/net/textproto/reader_test.go.html#7249401">s</a></span><span class="op" id="7249487">,</span>&nbsp;<span class="ident" id="7249489"><a href="/gostd/net/textproto/reader_test.go.html#7249404">err</a></span><span class="op" id="7249492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249498"><a href="/gostd/net/textproto/reader_test.go.html#7249401">s</a></span><span class="op" id="7249499">,</span>&nbsp;<span class="ident" id="7249501"><a href="/gostd/net/textproto/reader_test.go.html#7249404">err</a></span>&nbsp;<span class="op" id="7249505">=</span>&nbsp;<span class="ident" id="7249507"><a href="/gostd/net/textproto/reader_test.go.html#7249370">r</a></span><span class="op" id="7249508">.</span><span class="ident" id="7249509"><a href="/gostd/net/textproto/reader.go.html#4333526">ReadLine</a></span><span class="op" id="7249517">(</span><span class="op" id="7249518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249521">if</span>&nbsp;<span class="ident" id="7249524"><a href="/gostd/net/textproto/reader_test.go.html#7249401">s</a></span>&nbsp;<span class="op" id="7249526">!=</span>&nbsp;<span class="string" id="7249529">&#34;line2&#34;</span>&nbsp;<span class="op" id="7249537">||</span>&nbsp;<span class="ident" id="7249540"><a href="/gostd/net/textproto/reader_test.go.html#7249404">err</a></span>&nbsp;<span class="op" id="7249544">!=</span>&nbsp;<span class="builtintype" id="7249547">nil</span>&nbsp;<span class="op" id="7249551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249555"><a href="/gostd/net/textproto/reader_test.go.html#7249353">t</a></span><span class="op" id="7249556">.</span><span class="ident" id="7249557"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7249563">(</span><span class="string" id="7249564">&#34;Line&nbsp;2:&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7249580">,</span>&nbsp;<span class="ident" id="7249582"><a href="/gostd/net/textproto/reader_test.go.html#7249401">s</a></span><span class="op" id="7249583">,</span>&nbsp;<span class="ident" id="7249585"><a href="/gostd/net/textproto/reader_test.go.html#7249404">err</a></span><span class="op" id="7249588">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249594"><a href="/gostd/net/textproto/reader_test.go.html#7249401">s</a></span><span class="op" id="7249595">,</span>&nbsp;<span class="ident" id="7249597"><a href="/gostd/net/textproto/reader_test.go.html#7249404">err</a></span>&nbsp;<span class="op" id="7249601">=</span>&nbsp;<span class="ident" id="7249603"><a href="/gostd/net/textproto/reader_test.go.html#7249370">r</a></span><span class="op" id="7249604">.</span><span class="ident" id="7249605"><a href="/gostd/net/textproto/reader.go.html#4333526">ReadLine</a></span><span class="op" id="7249613">(</span><span class="op" id="7249614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249617">if</span>&nbsp;<span class="ident" id="7249620"><a href="/gostd/net/textproto/reader_test.go.html#7249401">s</a></span>&nbsp;<span class="op" id="7249622">!=</span>&nbsp;<span class="string" id="7249625">&#34;&#34;</span>&nbsp;<span class="op" id="7249628">||</span>&nbsp;<span class="ident" id="7249631"><a href="/gostd/net/textproto/reader_test.go.html#7249404">err</a></span>&nbsp;<span class="op" id="7249635">!=</span>&nbsp;<span class="ident" id="7249638"><a href="/gostd/net/textproto/reader_test.go.html#7248488">io</a></span><span class="op" id="7249640">.</span><span class="ident" id="7249641"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="7249645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249649"><a href="/gostd/net/textproto/reader_test.go.html#7249353">t</a></span><span class="op" id="7249650">.</span><span class="ident" id="7249651"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7249657">(</span><span class="string" id="7249658">&#34;EOF:&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7249671">,</span>&nbsp;<span class="ident" id="7249673"><a href="/gostd/net/textproto/reader_test.go.html#7249401">s</a></span><span class="op" id="7249674">,</span>&nbsp;<span class="ident" id="7249676"><a href="/gostd/net/textproto/reader_test.go.html#7249404">err</a></span><span class="op" id="7249679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249682">}</span><br>
<span class="lineno">60</span><span class="op" id="7249684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7249687">func</span>&nbsp;<span class="ident" id="7249692">TestReadContinuedLine</span><span class="op" id="7249713">(</span><span class="ident" id="7249714">t</span>&nbsp;<span class="op" id="7249716">*</span><span class="ident" id="7249717"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7249724">.</span><span class="ident" id="7249725"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7249726">)</span>&nbsp;<span class="op" id="7249728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249731">r</span>&nbsp;<span class="op" id="7249733">:=</span>&nbsp;<span class="ident" id="7249736"><a href="/gostd/net/textproto/reader_test.go.html#7249248">reader</a></span><span class="op" id="7249742">(</span><span class="string" id="7249743">&#34;line1\nline\n&nbsp;2\nline3\n&#34;</span><span class="op" id="7249769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249772">s</span><span class="op" id="7249773">,</span>&nbsp;<span class="ident" id="7249775">err</span>&nbsp;<span class="op" id="7249779">:=</span>&nbsp;<span class="ident" id="7249782"><a href="/gostd/net/textproto/reader_test.go.html#7249731">r</a></span><span class="op" id="7249783">.</span><span class="ident" id="7249784"><a href="/gostd/net/textproto/reader.go.html#4334885">ReadContinuedLine</a></span><span class="op" id="7249801">(</span><span class="op" id="7249802">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249805">if</span>&nbsp;<span class="ident" id="7249808"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span>&nbsp;<span class="op" id="7249810">!=</span>&nbsp;<span class="string" id="7249813">&#34;line1&#34;</span>&nbsp;<span class="op" id="7249821">||</span>&nbsp;<span class="ident" id="7249824"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span>&nbsp;<span class="op" id="7249828">!=</span>&nbsp;<span class="builtintype" id="7249831">nil</span>&nbsp;<span class="op" id="7249835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249839"><a href="/gostd/net/textproto/reader_test.go.html#7249714">t</a></span><span class="op" id="7249840">.</span><span class="ident" id="7249841"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7249847">(</span><span class="string" id="7249848">&#34;Line&nbsp;1:&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7249864">,</span>&nbsp;<span class="ident" id="7249866"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span><span class="op" id="7249867">,</span>&nbsp;<span class="ident" id="7249869"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span><span class="op" id="7249872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249878"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span><span class="op" id="7249879">,</span>&nbsp;<span class="ident" id="7249881"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span>&nbsp;<span class="op" id="7249885">=</span>&nbsp;<span class="ident" id="7249887"><a href="/gostd/net/textproto/reader_test.go.html#7249731">r</a></span><span class="op" id="7249888">.</span><span class="ident" id="7249889"><a href="/gostd/net/textproto/reader.go.html#4334885">ReadContinuedLine</a></span><span class="op" id="7249906">(</span><span class="op" id="7249907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249910">if</span>&nbsp;<span class="ident" id="7249913"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span>&nbsp;<span class="op" id="7249915">!=</span>&nbsp;<span class="string" id="7249918">&#34;line&nbsp;2&#34;</span>&nbsp;<span class="op" id="7249927">||</span>&nbsp;<span class="ident" id="7249930"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span>&nbsp;<span class="op" id="7249934">!=</span>&nbsp;<span class="builtintype" id="7249937">nil</span>&nbsp;<span class="op" id="7249941">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249945"><a href="/gostd/net/textproto/reader_test.go.html#7249714">t</a></span><span class="op" id="7249946">.</span><span class="ident" id="7249947"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7249953">(</span><span class="string" id="7249954">&#34;Line&nbsp;2:&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7249970">,</span>&nbsp;<span class="ident" id="7249972"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span><span class="op" id="7249973">,</span>&nbsp;<span class="ident" id="7249975"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span><span class="op" id="7249978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249984"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span><span class="op" id="7249985">,</span>&nbsp;<span class="ident" id="7249987"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span>&nbsp;<span class="op" id="7249991">=</span>&nbsp;<span class="ident" id="7249993"><a href="/gostd/net/textproto/reader_test.go.html#7249731">r</a></span><span class="op" id="7249994">.</span><span class="ident" id="7249995"><a href="/gostd/net/textproto/reader.go.html#4334885">ReadContinuedLine</a></span><span class="op" id="7250012">(</span><span class="op" id="7250013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7250016">if</span>&nbsp;<span class="ident" id="7250019"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span>&nbsp;<span class="op" id="7250021">!=</span>&nbsp;<span class="string" id="7250024">&#34;line3&#34;</span>&nbsp;<span class="op" id="7250032">||</span>&nbsp;<span class="ident" id="7250035"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span>&nbsp;<span class="op" id="7250039">!=</span>&nbsp;<span class="builtintype" id="7250042">nil</span>&nbsp;<span class="op" id="7250046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250050"><a href="/gostd/net/textproto/reader_test.go.html#7249714">t</a></span><span class="op" id="7250051">.</span><span class="ident" id="7250052"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7250058">(</span><span class="string" id="7250059">&#34;Line&nbsp;3:&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7250075">,</span>&nbsp;<span class="ident" id="7250077"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span><span class="op" id="7250078">,</span>&nbsp;<span class="ident" id="7250080"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span><span class="op" id="7250083">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250089"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span><span class="op" id="7250090">,</span>&nbsp;<span class="ident" id="7250092"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span>&nbsp;<span class="op" id="7250096">=</span>&nbsp;<span class="ident" id="7250098"><a href="/gostd/net/textproto/reader_test.go.html#7249731">r</a></span><span class="op" id="7250099">.</span><span class="ident" id="7250100"><a href="/gostd/net/textproto/reader.go.html#4334885">ReadContinuedLine</a></span><span class="op" id="7250117">(</span><span class="op" id="7250118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7250121">if</span>&nbsp;<span class="ident" id="7250124"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span>&nbsp;<span class="op" id="7250126">!=</span>&nbsp;<span class="string" id="7250129">&#34;&#34;</span>&nbsp;<span class="op" id="7250132">||</span>&nbsp;<span class="ident" id="7250135"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span>&nbsp;<span class="op" id="7250139">!=</span>&nbsp;<span class="ident" id="7250142"><a href="/gostd/net/textproto/reader_test.go.html#7248488">io</a></span><span class="op" id="7250144">.</span><span class="ident" id="7250145"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="7250149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250153"><a href="/gostd/net/textproto/reader_test.go.html#7249714">t</a></span><span class="op" id="7250154">.</span><span class="ident" id="7250155"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7250161">(</span><span class="string" id="7250162">&#34;EOF:&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7250175">,</span>&nbsp;<span class="ident" id="7250177"><a href="/gostd/net/textproto/reader_test.go.html#7249772">s</a></span><span class="op" id="7250178">,</span>&nbsp;<span class="ident" id="7250180"><a href="/gostd/net/textproto/reader_test.go.html#7249775">err</a></span><span class="op" id="7250183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250186">}</span><br>
<span class="lineno">80</span><span class="op" id="7250188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7250191">func</span>&nbsp;<span class="ident" id="7250196">TestReadCodeLine</span><span class="op" id="7250212">(</span><span class="ident" id="7250213">t</span>&nbsp;<span class="op" id="7250215">*</span><span class="ident" id="7250216"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7250223">.</span><span class="ident" id="7250224"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7250225">)</span>&nbsp;<span class="op" id="7250227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250230">r</span>&nbsp;<span class="op" id="7250232">:=</span>&nbsp;<span class="ident" id="7250235"><a href="/gostd/net/textproto/reader_test.go.html#7249248">reader</a></span><span class="op" id="7250241">(</span><span class="string" id="7250242">&#34;123&nbsp;hi\n234&nbsp;bye\n345&nbsp;no&nbsp;way\n&#34;</span><span class="op" id="7250273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250276">code</span><span class="op" id="7250280">,</span>&nbsp;<span class="ident" id="7250282">msg</span><span class="op" id="7250285">,</span>&nbsp;<span class="ident" id="7250287">err</span>&nbsp;<span class="op" id="7250291">:=</span>&nbsp;<span class="ident" id="7250294"><a href="/gostd/net/textproto/reader_test.go.html#7250230">r</a></span><span class="op" id="7250295">.</span><span class="ident" id="7250296"><a href="/gostd/net/textproto/reader.go.html#4338336">ReadCodeLine</a></span><span class="op" id="7250308">(</span><span class="num" id="7250309">0</span><span class="op" id="7250310">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7250313">if</span>&nbsp;<span class="ident" id="7250316"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span>&nbsp;<span class="op" id="7250321">!=</span>&nbsp;<span class="num" id="7250324">123</span>&nbsp;<span class="op" id="7250328">||</span>&nbsp;<span class="ident" id="7250331"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span>&nbsp;<span class="op" id="7250335">!=</span>&nbsp;<span class="string" id="7250338">&#34;hi&#34;</span>&nbsp;<span class="op" id="7250343">||</span>&nbsp;<span class="ident" id="7250346"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span>&nbsp;<span class="op" id="7250350">!=</span>&nbsp;<span class="builtintype" id="7250353">nil</span>&nbsp;<span class="op" id="7250357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250361"><a href="/gostd/net/textproto/reader_test.go.html#7250213">t</a></span><span class="op" id="7250362">.</span><span class="ident" id="7250363"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7250369">(</span><span class="string" id="7250370">&#34;Line&nbsp;1:&nbsp;%d,&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7250390">,</span>&nbsp;<span class="ident" id="7250392"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span><span class="op" id="7250396">,</span>&nbsp;<span class="ident" id="7250398"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span><span class="op" id="7250401">,</span>&nbsp;<span class="ident" id="7250403"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span><span class="op" id="7250406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250412"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span><span class="op" id="7250416">,</span>&nbsp;<span class="ident" id="7250418"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span><span class="op" id="7250421">,</span>&nbsp;<span class="ident" id="7250423"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span>&nbsp;<span class="op" id="7250427">=</span>&nbsp;<span class="ident" id="7250429"><a href="/gostd/net/textproto/reader_test.go.html#7250230">r</a></span><span class="op" id="7250430">.</span><span class="ident" id="7250431"><a href="/gostd/net/textproto/reader.go.html#4338336">ReadCodeLine</a></span><span class="op" id="7250443">(</span><span class="num" id="7250444">23</span><span class="op" id="7250446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7250449">if</span>&nbsp;<span class="ident" id="7250452"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span>&nbsp;<span class="op" id="7250457">!=</span>&nbsp;<span class="num" id="7250460">234</span>&nbsp;<span class="op" id="7250464">||</span>&nbsp;<span class="ident" id="7250467"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span>&nbsp;<span class="op" id="7250471">!=</span>&nbsp;<span class="string" id="7250474">&#34;bye&#34;</span>&nbsp;<span class="op" id="7250480">||</span>&nbsp;<span class="ident" id="7250483"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span>&nbsp;<span class="op" id="7250487">!=</span>&nbsp;<span class="builtintype" id="7250490">nil</span>&nbsp;<span class="op" id="7250494">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250498"><a href="/gostd/net/textproto/reader_test.go.html#7250213">t</a></span><span class="op" id="7250499">.</span><span class="ident" id="7250500"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7250506">(</span><span class="string" id="7250507">&#34;Line&nbsp;2:&nbsp;%d,&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7250527">,</span>&nbsp;<span class="ident" id="7250529"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span><span class="op" id="7250533">,</span>&nbsp;<span class="ident" id="7250535"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span><span class="op" id="7250538">,</span>&nbsp;<span class="ident" id="7250540"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span><span class="op" id="7250543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250549"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span><span class="op" id="7250553">,</span>&nbsp;<span class="ident" id="7250555"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span><span class="op" id="7250558">,</span>&nbsp;<span class="ident" id="7250560"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span>&nbsp;<span class="op" id="7250564">=</span>&nbsp;<span class="ident" id="7250566"><a href="/gostd/net/textproto/reader_test.go.html#7250230">r</a></span><span class="op" id="7250567">.</span><span class="ident" id="7250568"><a href="/gostd/net/textproto/reader.go.html#4338336">ReadCodeLine</a></span><span class="op" id="7250580">(</span><span class="num" id="7250581">346</span><span class="op" id="7250584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7250587">if</span>&nbsp;<span class="ident" id="7250590"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span>&nbsp;<span class="op" id="7250595">!=</span>&nbsp;<span class="num" id="7250598">345</span>&nbsp;<span class="op" id="7250602">||</span>&nbsp;<span class="ident" id="7250605"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span>&nbsp;<span class="op" id="7250609">!=</span>&nbsp;<span class="string" id="7250612">&#34;no&nbsp;way&#34;</span>&nbsp;<span class="op" id="7250621">||</span>&nbsp;<span class="ident" id="7250624"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span>&nbsp;<span class="op" id="7250628">==</span>&nbsp;<span class="builtintype" id="7250631">nil</span>&nbsp;<span class="op" id="7250635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250639"><a href="/gostd/net/textproto/reader_test.go.html#7250213">t</a></span><span class="op" id="7250640">.</span><span class="ident" id="7250641"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7250647">(</span><span class="string" id="7250648">&#34;Line&nbsp;3:&nbsp;%d,&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7250668">,</span>&nbsp;<span class="ident" id="7250670"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span><span class="op" id="7250674">,</span>&nbsp;<span class="ident" id="7250676"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span><span class="op" id="7250679">,</span>&nbsp;<span class="ident" id="7250681"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span><span class="op" id="7250684">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7250690">if</span>&nbsp;<span class="ident" id="7250693">e</span><span class="op" id="7250694">,</span>&nbsp;<span class="ident" id="7250696">ok</span>&nbsp;<span class="op" id="7250699">:=</span>&nbsp;<span class="ident" id="7250702"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span><span class="op" id="7250705">.</span><span class="op" id="7250706">(</span><span class="op" id="7250707">*</span><span class="ident" id="7250708"><a href="/gostd/net/textproto/textproto.go.html#4349882">Error</a></span><span class="op" id="7250713">)</span><span class="op" id="7250714">;</span>&nbsp;<span class="op" id="7250716">!</span><span class="ident" id="7250717"><a href="/gostd/net/textproto/reader_test.go.html#7250696">ok</a></span>&nbsp;<span class="op" id="7250720">||</span>&nbsp;<span class="ident" id="7250723"><a href="/gostd/net/textproto/reader_test.go.html#7250693">e</a></span><span class="op" id="7250724">.</span><span class="ident" id="7250725"><a href="/gostd/net/textproto/textproto.go.html#4349898">Code</a></span>&nbsp;<span class="op" id="7250730">!=</span>&nbsp;<span class="ident" id="7250733"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span>&nbsp;<span class="op" id="7250738">||</span>&nbsp;<span class="ident" id="7250741"><a href="/gostd/net/textproto/reader_test.go.html#7250693">e</a></span><span class="op" id="7250742">.</span><span class="ident" id="7250743"><a href="/gostd/net/textproto/textproto.go.html#4349908">Msg</a></span>&nbsp;<span class="op" id="7250747">!=</span>&nbsp;<span class="ident" id="7250750"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span>&nbsp;<span class="op" id="7250754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250758"><a href="/gostd/net/textproto/reader_test.go.html#7250213">t</a></span><span class="op" id="7250759">.</span><span class="ident" id="7250760"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7250766">(</span><span class="string" id="7250767">&#34;Line&nbsp;3:&nbsp;wrong&nbsp;error&nbsp;%v\n&#34;</span><span class="op" id="7250793">,</span>&nbsp;<span class="ident" id="7250795"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span><span class="op" id="7250798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250804"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span><span class="op" id="7250808">,</span>&nbsp;<span class="ident" id="7250810"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span><span class="op" id="7250813">,</span>&nbsp;<span class="ident" id="7250815"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span>&nbsp;<span class="op" id="7250819">=</span>&nbsp;<span class="ident" id="7250821"><a href="/gostd/net/textproto/reader_test.go.html#7250230">r</a></span><span class="op" id="7250822">.</span><span class="ident" id="7250823"><a href="/gostd/net/textproto/reader.go.html#4338336">ReadCodeLine</a></span><span class="op" id="7250835">(</span><span class="num" id="7250836">1</span><span class="op" id="7250837">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7250840">if</span>&nbsp;<span class="ident" id="7250843"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span>&nbsp;<span class="op" id="7250848">!=</span>&nbsp;<span class="num" id="7250851">0</span>&nbsp;<span class="op" id="7250853">||</span>&nbsp;<span class="ident" id="7250856"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span>&nbsp;<span class="op" id="7250860">!=</span>&nbsp;<span class="string" id="7250863">&#34;&#34;</span>&nbsp;<span class="op" id="7250866">||</span>&nbsp;<span class="ident" id="7250869"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span>&nbsp;<span class="op" id="7250873">!=</span>&nbsp;<span class="ident" id="7250876"><a href="/gostd/net/textproto/reader_test.go.html#7248488">io</a></span><span class="op" id="7250878">.</span><span class="ident" id="7250879"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="7250883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250887"><a href="/gostd/net/textproto/reader_test.go.html#7250213">t</a></span><span class="op" id="7250888">.</span><span class="ident" id="7250889"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7250895">(</span><span class="string" id="7250896">&#34;EOF:&nbsp;%d,&nbsp;%s,&nbsp;%v&#34;</span><span class="op" id="7250913">,</span>&nbsp;<span class="ident" id="7250915"><a href="/gostd/net/textproto/reader_test.go.html#7250276">code</a></span><span class="op" id="7250919">,</span>&nbsp;<span class="ident" id="7250921"><a href="/gostd/net/textproto/reader_test.go.html#7250282">msg</a></span><span class="op" id="7250924">,</span>&nbsp;<span class="ident" id="7250926"><a href="/gostd/net/textproto/reader_test.go.html#7250287">err</a></span><span class="op" id="7250929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250932">}</span><br>
<span class="lineno"></span><span class="op" id="7250934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="7250937">func</span>&nbsp;<span class="ident" id="7250942">TestReadDotLines</span><span class="op" id="7250958">(</span><span class="ident" id="7250959">t</span>&nbsp;<span class="op" id="7250961">*</span><span class="ident" id="7250962"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7250969">.</span><span class="ident" id="7250970"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7250971">)</span>&nbsp;<span class="op" id="7250973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250976">r</span>&nbsp;<span class="op" id="7250978">:=</span>&nbsp;<span class="ident" id="7250981"><a href="/gostd/net/textproto/reader_test.go.html#7249248">reader</a></span><span class="op" id="7250987">(</span><span class="string" id="7250988">&#34;dotlines\r\n.foo\r\n..bar\n...baz\nquux\r\n\r\n.\r\nanother\n&#34;</span><span class="op" id="7251051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251054">s</span><span class="op" id="7251055">,</span>&nbsp;<span class="ident" id="7251057">err</span>&nbsp;<span class="op" id="7251061">:=</span>&nbsp;<span class="ident" id="7251064"><a href="/gostd/net/textproto/reader_test.go.html#7250976">r</a></span><span class="op" id="7251065">.</span><span class="ident" id="7251066"><a href="/gostd/net/textproto/reader.go.html#4343439">ReadDotLines</a></span><span class="op" id="7251078">(</span><span class="op" id="7251079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251082">want</span>&nbsp;<span class="op" id="7251087">:=</span>&nbsp;<span class="op" id="7251090">[</span><span class="op" id="7251091">]</span><span class="builtintype" id="7251092">string</span><span class="op" id="7251098">{</span><span class="string" id="7251099">&#34;dotlines&#34;</span><span class="op" id="7251109">,</span>&nbsp;<span class="string" id="7251111">&#34;foo&#34;</span><span class="op" id="7251116">,</span>&nbsp;<span class="string" id="7251118">&#34;.bar&#34;</span><span class="op" id="7251124">,</span>&nbsp;<span class="string" id="7251126">&#34;..baz&#34;</span><span class="op" id="7251133">,</span>&nbsp;<span class="string" id="7251135">&#34;quux&#34;</span><span class="op" id="7251141">,</span>&nbsp;<span class="string" id="7251143">&#34;&#34;</span><span class="op" id="7251145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7251148">if</span>&nbsp;<span class="op" id="7251151">!</span><span class="ident" id="7251152"><a href="/gostd/net/textproto/reader_test.go.html#7248494">reflect</a></span><span class="op" id="7251159">.</span><span class="ident" id="7251160"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7251169">(</span><span class="ident" id="7251170"><a href="/gostd/net/textproto/reader_test.go.html#7251054">s</a></span><span class="op" id="7251171">,</span>&nbsp;<span class="ident" id="7251173"><a href="/gostd/net/textproto/reader_test.go.html#7251082">want</a></span><span class="op" id="7251177">)</span>&nbsp;<span class="op" id="7251179">||</span>&nbsp;<span class="ident" id="7251182"><a href="/gostd/net/textproto/reader_test.go.html#7251057">err</a></span>&nbsp;<span class="op" id="7251186">!=</span>&nbsp;<span class="builtintype" id="7251189">nil</span>&nbsp;<span class="op" id="7251193">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251197"><a href="/gostd/net/textproto/reader_test.go.html#7250959">t</a></span><span class="op" id="7251198">.</span><span class="ident" id="7251199"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7251205">(</span><span class="string" id="7251206">&#34;ReadDotLines:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7251228">,</span>&nbsp;<span class="ident" id="7251230"><a href="/gostd/net/textproto/reader_test.go.html#7251054">s</a></span><span class="op" id="7251231">,</span>&nbsp;<span class="ident" id="7251233"><a href="/gostd/net/textproto/reader_test.go.html#7251057">err</a></span><span class="op" id="7251236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251243"><a href="/gostd/net/textproto/reader_test.go.html#7251054">s</a></span><span class="op" id="7251244">,</span>&nbsp;<span class="ident" id="7251246"><a href="/gostd/net/textproto/reader_test.go.html#7251057">err</a></span>&nbsp;<span class="op" id="7251250">=</span>&nbsp;<span class="ident" id="7251252"><a href="/gostd/net/textproto/reader_test.go.html#7250976">r</a></span><span class="op" id="7251253">.</span><span class="ident" id="7251254"><a href="/gostd/net/textproto/reader.go.html#4343439">ReadDotLines</a></span><span class="op" id="7251266">(</span><span class="op" id="7251267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251270"><a href="/gostd/net/textproto/reader_test.go.html#7251082">want</a></span>&nbsp;<span class="op" id="7251275">=</span>&nbsp;<span class="op" id="7251277">[</span><span class="op" id="7251278">]</span><span class="builtintype" id="7251279">string</span><span class="op" id="7251285">{</span><span class="string" id="7251286">&#34;another&#34;</span><span class="op" id="7251295">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7251298">if</span>&nbsp;<span class="op" id="7251301">!</span><span class="ident" id="7251302"><a href="/gostd/net/textproto/reader_test.go.html#7248494">reflect</a></span><span class="op" id="7251309">.</span><span class="ident" id="7251310"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7251319">(</span><span class="ident" id="7251320"><a href="/gostd/net/textproto/reader_test.go.html#7251054">s</a></span><span class="op" id="7251321">,</span>&nbsp;<span class="ident" id="7251323"><a href="/gostd/net/textproto/reader_test.go.html#7251082">want</a></span><span class="op" id="7251327">)</span>&nbsp;<span class="op" id="7251329">||</span>&nbsp;<span class="ident" id="7251332"><a href="/gostd/net/textproto/reader_test.go.html#7251057">err</a></span>&nbsp;<span class="op" id="7251336">!=</span>&nbsp;<span class="ident" id="7251339"><a href="/gostd/net/textproto/reader_test.go.html#7248488">io</a></span><span class="op" id="7251341">.</span><span class="ident" id="7251342"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span>&nbsp;<span class="op" id="7251359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251363"><a href="/gostd/net/textproto/reader_test.go.html#7250959">t</a></span><span class="op" id="7251364">.</span><span class="ident" id="7251365"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7251371">(</span><span class="string" id="7251372">&#34;ReadDotLines2:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7251395">,</span>&nbsp;<span class="ident" id="7251397"><a href="/gostd/net/textproto/reader_test.go.html#7251054">s</a></span><span class="op" id="7251398">,</span>&nbsp;<span class="ident" id="7251400"><a href="/gostd/net/textproto/reader_test.go.html#7251057">err</a></span><span class="op" id="7251403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251406">}</span><br>
<span class="lineno"></span><span class="op" id="7251408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="7251411">func</span>&nbsp;<span class="ident" id="7251416">TestReadDotBytes</span><span class="op" id="7251432">(</span><span class="ident" id="7251433">t</span>&nbsp;<span class="op" id="7251435">*</span><span class="ident" id="7251436"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7251443">.</span><span class="ident" id="7251444"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7251445">)</span>&nbsp;<span class="op" id="7251447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251450">r</span>&nbsp;<span class="op" id="7251452">:=</span>&nbsp;<span class="ident" id="7251455"><a href="/gostd/net/textproto/reader_test.go.html#7249248">reader</a></span><span class="op" id="7251461">(</span><span class="string" id="7251462">&#34;dotlines\r\n.foo\r\n..bar\n...baz\nquux\r\n\r\n.\r\nanot.her\r\n&#34;</span><span class="op" id="7251528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251531">b</span><span class="op" id="7251532">,</span>&nbsp;<span class="ident" id="7251534">err</span>&nbsp;<span class="op" id="7251538">:=</span>&nbsp;<span class="ident" id="7251541"><a href="/gostd/net/textproto/reader_test.go.html#7251450">r</a></span><span class="op" id="7251542">.</span><span class="ident" id="7251543"><a href="/gostd/net/textproto/reader.go.html#4343129">ReadDotBytes</a></span><span class="op" id="7251555">(</span><span class="op" id="7251556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251559">want</span>&nbsp;<span class="op" id="7251564">:=</span>&nbsp;<span class="op" id="7251567">[</span><span class="op" id="7251568">]</span><span class="builtintype" id="7251569">byte</span><span class="op" id="7251573">(</span><span class="string" id="7251574">&#34;dotlines\nfoo\n.bar\n..baz\nquux\n\n&#34;</span><span class="op" id="7251612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7251615">if</span>&nbsp;<span class="op" id="7251618">!</span><span class="ident" id="7251619"><a href="/gostd/net/textproto/reader_test.go.html#7248494">reflect</a></span><span class="op" id="7251626">.</span><span class="ident" id="7251627"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7251636">(</span><span class="ident" id="7251637"><a href="/gostd/net/textproto/reader_test.go.html#7251531">b</a></span><span class="op" id="7251638">,</span>&nbsp;<span class="ident" id="7251640"><a href="/gostd/net/textproto/reader_test.go.html#7251559">want</a></span><span class="op" id="7251644">)</span>&nbsp;<span class="op" id="7251646">||</span>&nbsp;<span class="ident" id="7251649"><a href="/gostd/net/textproto/reader_test.go.html#7251534">err</a></span>&nbsp;<span class="op" id="7251653">!=</span>&nbsp;<span class="builtintype" id="7251656">nil</span>&nbsp;<span class="op" id="7251660">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251664"><a href="/gostd/net/textproto/reader_test.go.html#7251433">t</a></span><span class="op" id="7251665">.</span><span class="ident" id="7251666"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7251672">(</span><span class="string" id="7251673">&#34;ReadDotBytes:&nbsp;%q,&nbsp;%v&#34;</span><span class="op" id="7251695">,</span>&nbsp;<span class="ident" id="7251697"><a href="/gostd/net/textproto/reader_test.go.html#7251531">b</a></span><span class="op" id="7251698">,</span>&nbsp;<span class="ident" id="7251700"><a href="/gostd/net/textproto/reader_test.go.html#7251534">err</a></span><span class="op" id="7251703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251710"><a href="/gostd/net/textproto/reader_test.go.html#7251531">b</a></span><span class="op" id="7251711">,</span>&nbsp;<span class="ident" id="7251713"><a href="/gostd/net/textproto/reader_test.go.html#7251534">err</a></span>&nbsp;<span class="op" id="7251717">=</span>&nbsp;<span class="ident" id="7251719"><a href="/gostd/net/textproto/reader_test.go.html#7251450">r</a></span><span class="op" id="7251720">.</span><span class="ident" id="7251721"><a href="/gostd/net/textproto/reader.go.html#4343129">ReadDotBytes</a></span><span class="op" id="7251733">(</span><span class="op" id="7251734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251737"><a href="/gostd/net/textproto/reader_test.go.html#7251559">want</a></span>&nbsp;<span class="op" id="7251742">=</span>&nbsp;<span class="op" id="7251744">[</span><span class="op" id="7251745">]</span><span class="builtintype" id="7251746">byte</span><span class="op" id="7251750">(</span><span class="string" id="7251751">&#34;anot.her\n&#34;</span><span class="op" id="7251763">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7251766">if</span>&nbsp;<span class="op" id="7251769">!</span><span class="ident" id="7251770"><a href="/gostd/net/textproto/reader_test.go.html#7248494">reflect</a></span><span class="op" id="7251777">.</span><span class="ident" id="7251778"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7251787">(</span><span class="ident" id="7251788"><a href="/gostd/net/textproto/reader_test.go.html#7251531">b</a></span><span class="op" id="7251789">,</span>&nbsp;<span class="ident" id="7251791"><a href="/gostd/net/textproto/reader_test.go.html#7251559">want</a></span><span class="op" id="7251795">)</span>&nbsp;<span class="op" id="7251797">||</span>&nbsp;<span class="ident" id="7251800"><a href="/gostd/net/textproto/reader_test.go.html#7251534">err</a></span>&nbsp;<span class="op" id="7251804">!=</span>&nbsp;<span class="ident" id="7251807"><a href="/gostd/net/textproto/reader_test.go.html#7248488">io</a></span><span class="op" id="7251809">.</span><span class="ident" id="7251810"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span>&nbsp;<span class="op" id="7251827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251831"><a href="/gostd/net/textproto/reader_test.go.html#7251433">t</a></span><span class="op" id="7251832">.</span><span class="ident" id="7251833"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7251839">(</span><span class="string" id="7251840">&#34;ReadDotBytes2:&nbsp;%q,&nbsp;%v&#34;</span><span class="op" id="7251863">,</span>&nbsp;<span class="ident" id="7251865"><a href="/gostd/net/textproto/reader_test.go.html#7251531">b</a></span><span class="op" id="7251866">,</span>&nbsp;<span class="ident" id="7251868"><a href="/gostd/net/textproto/reader_test.go.html#7251534">err</a></span><span class="op" id="7251871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251874">}</span><br>
<span class="lineno"></span><span class="op" id="7251876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7251879">func</span>&nbsp;<span class="ident" id="7251884">TestReadMIMEHeader</span><span class="op" id="7251902">(</span><span class="ident" id="7251903">t</span>&nbsp;<span class="op" id="7251905">*</span><span class="ident" id="7251906"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7251913">.</span><span class="ident" id="7251914"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7251915">)</span>&nbsp;<span class="op" id="7251917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251920">r</span>&nbsp;<span class="op" id="7251922">:=</span>&nbsp;<span class="ident" id="7251925"><a href="/gostd/net/textproto/reader_test.go.html#7249248">reader</a></span><span class="op" id="7251931">(</span><span class="string" id="7251932">&#34;my-key:&nbsp;Value&nbsp;1&nbsp;&nbsp;\r\nLong-key:&nbsp;Even&nbsp;\n&nbsp;Longer&nbsp;Value\r\nmy-Key:&nbsp;Value&nbsp;2\r\n\n&#34;</span><span class="op" id="7252010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252013">m</span><span class="op" id="7252014">,</span>&nbsp;<span class="ident" id="7252016">err</span>&nbsp;<span class="op" id="7252020">:=</span>&nbsp;<span class="ident" id="7252023"><a href="/gostd/net/textproto/reader_test.go.html#7251920">r</a></span><span class="op" id="7252024">.</span><span class="ident" id="7252025"><a href="/gostd/net/textproto/reader.go.html#4344573">ReadMIMEHeader</a></span><span class="op" id="7252039">(</span><span class="op" id="7252040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252043">want</span>&nbsp;<span class="op" id="7252048">:=</span>&nbsp;<span class="ident" id="7252051"><a href="/gostd/net/textproto/header.go.html#4328626">MIMEHeader</a></span><span class="op" id="7252061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7252065">&#34;My-Key&#34;</span><span class="op" id="7252073">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7252077">{</span><span class="string" id="7252078">&#34;Value&nbsp;1&#34;</span><span class="op" id="7252087">,</span>&nbsp;<span class="string" id="7252089">&#34;Value&nbsp;2&#34;</span><span class="op" id="7252098">}</span><span class="op" id="7252099">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7252103">&#34;Long-Key&#34;</span><span class="op" id="7252113">:</span>&nbsp;<span class="op" id="7252115">{</span><span class="string" id="7252116">&#34;Even&nbsp;Longer&nbsp;Value&#34;</span><span class="op" id="7252135">}</span><span class="op" id="7252136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7252142">if</span>&nbsp;<span class="op" id="7252145">!</span><span class="ident" id="7252146"><a href="/gostd/net/textproto/reader_test.go.html#7248494">reflect</a></span><span class="op" id="7252153">.</span><span class="ident" id="7252154"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7252163">(</span><span class="ident" id="7252164"><a href="/gostd/net/textproto/reader_test.go.html#7252013">m</a></span><span class="op" id="7252165">,</span>&nbsp;<span class="ident" id="7252167"><a href="/gostd/net/textproto/reader_test.go.html#7252043">want</a></span><span class="op" id="7252171">)</span>&nbsp;<span class="op" id="7252173">||</span>&nbsp;<span class="ident" id="7252176"><a href="/gostd/net/textproto/reader_test.go.html#7252016">err</a></span>&nbsp;<span class="op" id="7252180">!=</span>&nbsp;<span class="builtintype" id="7252183">nil</span>&nbsp;<span class="op" id="7252187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252191"><a href="/gostd/net/textproto/reader_test.go.html#7251903">t</a></span><span class="op" id="7252192">.</span><span class="ident" id="7252193"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7252199">(</span><span class="string" id="7252200">&#34;ReadMIMEHeader:&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7252233">,</span>&nbsp;<span class="ident" id="7252235"><a href="/gostd/net/textproto/reader_test.go.html#7252013">m</a></span><span class="op" id="7252236">,</span>&nbsp;<span class="ident" id="7252238"><a href="/gostd/net/textproto/reader_test.go.html#7252016">err</a></span><span class="op" id="7252241">,</span>&nbsp;<span class="ident" id="7252243"><a href="/gostd/net/textproto/reader_test.go.html#7252043">want</a></span><span class="op" id="7252247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252250">}</span><br>
<span class="lineno">145</span><span class="op" id="7252252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7252255">func</span>&nbsp;<span class="ident" id="7252260">TestReadMIMEHeaderSingle</span><span class="op" id="7252284">(</span><span class="ident" id="7252285">t</span>&nbsp;<span class="op" id="7252287">*</span><span class="ident" id="7252288"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7252295">.</span><span class="ident" id="7252296"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7252297">)</span>&nbsp;<span class="op" id="7252299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252302">r</span>&nbsp;<span class="op" id="7252304">:=</span>&nbsp;<span class="ident" id="7252307"><a href="/gostd/net/textproto/reader_test.go.html#7249248">reader</a></span><span class="op" id="7252313">(</span><span class="string" id="7252314">&#34;Foo:&nbsp;bar\n\n&#34;</span><span class="op" id="7252328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252331">m</span><span class="op" id="7252332">,</span>&nbsp;<span class="ident" id="7252334">err</span>&nbsp;<span class="op" id="7252338">:=</span>&nbsp;<span class="ident" id="7252341"><a href="/gostd/net/textproto/reader_test.go.html#7252302">r</a></span><span class="op" id="7252342">.</span><span class="ident" id="7252343"><a href="/gostd/net/textproto/reader.go.html#4344573">ReadMIMEHeader</a></span><span class="op" id="7252357">(</span><span class="op" id="7252358">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252361">want</span>&nbsp;<span class="op" id="7252366">:=</span>&nbsp;<span class="ident" id="7252369"><a href="/gostd/net/textproto/header.go.html#4328626">MIMEHeader</a></span><span class="op" id="7252379">{</span><span class="string" id="7252380">&#34;Foo&#34;</span><span class="op" id="7252385">:</span>&nbsp;<span class="op" id="7252387">{</span><span class="string" id="7252388">&#34;bar&#34;</span><span class="op" id="7252393">}</span><span class="op" id="7252394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7252397">if</span>&nbsp;<span class="op" id="7252400">!</span><span class="ident" id="7252401"><a href="/gostd/net/textproto/reader_test.go.html#7248494">reflect</a></span><span class="op" id="7252408">.</span><span class="ident" id="7252409"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7252418">(</span><span class="ident" id="7252419"><a href="/gostd/net/textproto/reader_test.go.html#7252331">m</a></span><span class="op" id="7252420">,</span>&nbsp;<span class="ident" id="7252422"><a href="/gostd/net/textproto/reader_test.go.html#7252361">want</a></span><span class="op" id="7252426">)</span>&nbsp;<span class="op" id="7252428">||</span>&nbsp;<span class="ident" id="7252431"><a href="/gostd/net/textproto/reader_test.go.html#7252334">err</a></span>&nbsp;<span class="op" id="7252435">!=</span>&nbsp;<span class="builtintype" id="7252438">nil</span>&nbsp;<span class="op" id="7252442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252446"><a href="/gostd/net/textproto/reader_test.go.html#7252285">t</a></span><span class="op" id="7252447">.</span><span class="ident" id="7252448"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7252454">(</span><span class="string" id="7252455">&#34;ReadMIMEHeader:&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7252488">,</span>&nbsp;<span class="ident" id="7252490"><a href="/gostd/net/textproto/reader_test.go.html#7252331">m</a></span><span class="op" id="7252491">,</span>&nbsp;<span class="ident" id="7252493"><a href="/gostd/net/textproto/reader_test.go.html#7252334">err</a></span><span class="op" id="7252496">,</span>&nbsp;<span class="ident" id="7252498"><a href="/gostd/net/textproto/reader_test.go.html#7252361">want</a></span><span class="op" id="7252502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252505">}</span><br>
<span class="lineno"></span><span class="op" id="7252507">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7252510">func</span>&nbsp;<span class="ident" id="7252515">TestLargeReadMIMEHeader</span><span class="op" id="7252538">(</span><span class="ident" id="7252539">t</span>&nbsp;<span class="op" id="7252541">*</span><span class="ident" id="7252542"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7252549">.</span><span class="ident" id="7252550"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7252551">)</span>&nbsp;<span class="op" id="7252553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252556">data</span>&nbsp;<span class="op" id="7252561">:=</span>&nbsp;<span class="builtinfunc" id="7252564">make</span><span class="op" id="7252568">(</span><span class="op" id="7252569">[</span><span class="op" id="7252570">]</span><span class="builtintype" id="7252571">byte</span><span class="op" id="7252575">,</span>&nbsp;<span class="num" id="7252577">16</span><span class="op" id="7252579">*</span><span class="num" id="7252580">1024</span><span class="op" id="7252584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7252587">for</span>&nbsp;<span class="ident" id="7252591">i</span>&nbsp;<span class="op" id="7252593">:=</span>&nbsp;<span class="num" id="7252596">0</span><span class="op" id="7252597">;</span>&nbsp;<span class="ident" id="7252599"><a href="/gostd/net/textproto/reader_test.go.html#7252591">i</a></span>&nbsp;<span class="op" id="7252601">&lt;</span>&nbsp;<span class="builtinfunc" id="7252603">len</span><span class="op" id="7252606">(</span><span class="ident" id="7252607"><a href="/gostd/net/textproto/reader_test.go.html#7252556">data</a></span><span class="op" id="7252611">)</span><span class="op" id="7252612">;</span>&nbsp;<span class="ident" id="7252614"><a href="/gostd/net/textproto/reader_test.go.html#7252591">i</a></span><span class="op" id="7252615">++</span>&nbsp;<span class="op" id="7252618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252622"><a href="/gostd/net/textproto/reader_test.go.html#7252556">data</a></span><span class="op" id="7252626">[</span><span class="ident" id="7252627"><a href="/gostd/net/textproto/reader_test.go.html#7252591">i</a></span><span class="op" id="7252628">]</span>&nbsp;<span class="op" id="7252630">=</span>&nbsp;<span class="string" id="7252632">&#39;x&#39;</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252640">sdata</span>&nbsp;<span class="op" id="7252646">:=</span>&nbsp;<span class="builtintype" id="7252649">string</span><span class="op" id="7252655">(</span><span class="ident" id="7252656"><a href="/gostd/net/textproto/reader_test.go.html#7252556">data</a></span><span class="op" id="7252660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252663">r</span>&nbsp;<span class="op" id="7252665">:=</span>&nbsp;<span class="ident" id="7252668"><a href="/gostd/net/textproto/reader_test.go.html#7249248">reader</a></span><span class="op" id="7252674">(</span><span class="string" id="7252675">&#34;Cookie:&nbsp;&#34;</span>&nbsp;<span class="op" id="7252686">+</span>&nbsp;<span class="ident" id="7252688"><a href="/gostd/net/textproto/reader_test.go.html#7252640">sdata</a></span>&nbsp;<span class="op" id="7252694">+</span>&nbsp;<span class="string" id="7252696">&#34;\r\n\n&#34;</span><span class="op" id="7252704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252707">m</span><span class="op" id="7252708">,</span>&nbsp;<span class="ident" id="7252710">err</span>&nbsp;<span class="op" id="7252714">:=</span>&nbsp;<span class="ident" id="7252717"><a href="/gostd/net/textproto/reader_test.go.html#7252663">r</a></span><span class="op" id="7252718">.</span><span class="ident" id="7252719"><a href="/gostd/net/textproto/reader.go.html#4344573">ReadMIMEHeader</a></span><span class="op" id="7252733">(</span><span class="op" id="7252734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7252737">if</span>&nbsp;<span class="ident" id="7252740"><a href="/gostd/net/textproto/reader_test.go.html#7252710">err</a></span>&nbsp;<span class="op" id="7252744">!=</span>&nbsp;<span class="builtintype" id="7252747">nil</span>&nbsp;<span class="op" id="7252751">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252755"><a href="/gostd/net/textproto/reader_test.go.html#7252539">t</a></span><span class="op" id="7252756">.</span><span class="ident" id="7252757"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7252763">(</span><span class="string" id="7252764">&#34;ReadMIMEHeader:&nbsp;%v&#34;</span><span class="op" id="7252784">,</span>&nbsp;<span class="ident" id="7252786"><a href="/gostd/net/textproto/reader_test.go.html#7252710">err</a></span><span class="op" id="7252789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252795">cookie</span>&nbsp;<span class="op" id="7252802">:=</span>&nbsp;<span class="ident" id="7252805"><a href="/gostd/net/textproto/reader_test.go.html#7252707">m</a></span><span class="op" id="7252806">.</span><span class="ident" id="7252807"><a href="/gostd/net/textproto/header.go.html#4329349">Get</a></span><span class="op" id="7252810">(</span><span class="string" id="7252811">&#34;Cookie&#34;</span><span class="op" id="7252819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7252822">if</span>&nbsp;<span class="ident" id="7252825"><a href="/gostd/net/textproto/reader_test.go.html#7252795">cookie</a></span>&nbsp;<span class="op" id="7252832">!=</span>&nbsp;<span class="ident" id="7252835"><a href="/gostd/net/textproto/reader_test.go.html#7252640">sdata</a></span>&nbsp;<span class="op" id="7252841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252845"><a href="/gostd/net/textproto/reader_test.go.html#7252539">t</a></span><span class="op" id="7252846">.</span><span class="ident" id="7252847"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7252853">(</span><span class="string" id="7252854">&#34;ReadMIMEHeader:&nbsp;%v&nbsp;bytes,&nbsp;want&nbsp;%v&nbsp;bytes&#34;</span><span class="op" id="7252895">,</span>&nbsp;<span class="builtinfunc" id="7252897">len</span><span class="op" id="7252900">(</span><span class="ident" id="7252901"><a href="/gostd/net/textproto/reader_test.go.html#7252795">cookie</a></span><span class="op" id="7252907">)</span><span class="op" id="7252908">,</span>&nbsp;<span class="builtinfunc" id="7252910">len</span><span class="op" id="7252913">(</span><span class="ident" id="7252914"><a href="/gostd/net/textproto/reader_test.go.html#7252640">sdata</a></span><span class="op" id="7252919">)</span><span class="op" id="7252920">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252923">}</span><br>
<span class="lineno"></span><span class="op" id="7252925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7252928">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;read&nbsp;slightly-bogus&nbsp;MIME&nbsp;headers&nbsp;seen&nbsp;in&nbsp;the&nbsp;wild,</span><br>
<span class="lineno"></span><span class="comment" id="7252995">//&nbsp;with&nbsp;spaces&nbsp;before&nbsp;colons,&nbsp;and&nbsp;spaces&nbsp;in&nbsp;keys.</span><br>
<span class="lineno">175</span><span class="keyword" id="7253045">func</span>&nbsp;<span class="ident" id="7253050">TestReadMIMEHeaderNonCompliant</span><span class="op" id="7253080">(</span><span class="ident" id="7253081">t</span>&nbsp;<span class="op" id="7253083">*</span><span class="ident" id="7253084"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7253091">.</span><span class="ident" id="7253092"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7253093">)</span>&nbsp;<span class="op" id="7253095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7253098">//&nbsp;Invalid&nbsp;HTTP&nbsp;response&nbsp;header&nbsp;as&nbsp;sent&nbsp;by&nbsp;an&nbsp;Axis&nbsp;security</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7253159">//&nbsp;camera:&nbsp;(this&nbsp;is&nbsp;handled&nbsp;by&nbsp;IE,&nbsp;Firefox,&nbsp;Chrome,&nbsp;curl,&nbsp;etc.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253224">r</span>&nbsp;<span class="op" id="7253226">:=</span>&nbsp;<span class="ident" id="7253229"><a href="/gostd/net/textproto/reader_test.go.html#7249248">reader</a></span><span class="op" id="7253235">(</span><span class="string" id="7253236">&#34;Foo:&nbsp;bar\r\n&#34;</span>&nbsp;<span class="op" id="7253251">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253255">&#34;Content-Language:&nbsp;en\r\n&#34;</span>&nbsp;<span class="op" id="7253282">+</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253286">&#34;SID&nbsp;:&nbsp;0\r\n&#34;</span>&nbsp;<span class="op" id="7253300">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253304">&#34;Audio&nbsp;Mode&nbsp;:&nbsp;None\r\n&#34;</span>&nbsp;<span class="op" id="7253328">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253332">&#34;Privilege&nbsp;:&nbsp;127\r\n\r\n&#34;</span><span class="op" id="7253357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253360">m</span><span class="op" id="7253361">,</span>&nbsp;<span class="ident" id="7253363">err</span>&nbsp;<span class="op" id="7253367">:=</span>&nbsp;<span class="ident" id="7253370"><a href="/gostd/net/textproto/reader_test.go.html#7253224">r</a></span><span class="op" id="7253371">.</span><span class="ident" id="7253372"><a href="/gostd/net/textproto/reader.go.html#4344573">ReadMIMEHeader</a></span><span class="op" id="7253386">(</span><span class="op" id="7253387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253390">want</span>&nbsp;<span class="op" id="7253395">:=</span>&nbsp;<span class="ident" id="7253398"><a href="/gostd/net/textproto/header.go.html#4328626">MIMEHeader</a></span><span class="op" id="7253408">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253412">&#34;Foo&#34;</span><span class="op" id="7253417">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253432">{</span><span class="string" id="7253433">&#34;bar&#34;</span><span class="op" id="7253438">}</span><span class="op" id="7253439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253443">&#34;Content-Language&#34;</span><span class="op" id="7253461">:</span>&nbsp;<span class="op" id="7253463">{</span><span class="string" id="7253464">&#34;en&#34;</span><span class="op" id="7253468">}</span><span class="op" id="7253469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253473">&#34;Sid&#34;</span><span class="op" id="7253478">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253493">{</span><span class="string" id="7253494">&#34;0&#34;</span><span class="op" id="7253497">}</span><span class="op" id="7253498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253502">&#34;Audio-Mode&#34;</span><span class="op" id="7253514">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253522">{</span><span class="string" id="7253523">&#34;None&#34;</span><span class="op" id="7253529">}</span><span class="op" id="7253530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253534">&#34;Privilege&#34;</span><span class="op" id="7253545">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253554">{</span><span class="string" id="7253555">&#34;127&#34;</span><span class="op" id="7253560">}</span><span class="op" id="7253561">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7253567">if</span>&nbsp;<span class="op" id="7253570">!</span><span class="ident" id="7253571"><a href="/gostd/net/textproto/reader_test.go.html#7248494">reflect</a></span><span class="op" id="7253578">.</span><span class="ident" id="7253579"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7253588">(</span><span class="ident" id="7253589"><a href="/gostd/net/textproto/reader_test.go.html#7253360">m</a></span><span class="op" id="7253590">,</span>&nbsp;<span class="ident" id="7253592"><a href="/gostd/net/textproto/reader_test.go.html#7253390">want</a></span><span class="op" id="7253596">)</span>&nbsp;<span class="op" id="7253598">||</span>&nbsp;<span class="ident" id="7253601"><a href="/gostd/net/textproto/reader_test.go.html#7253363">err</a></span>&nbsp;<span class="op" id="7253605">!=</span>&nbsp;<span class="builtintype" id="7253608">nil</span>&nbsp;<span class="op" id="7253612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253616"><a href="/gostd/net/textproto/reader_test.go.html#7253081">t</a></span><span class="op" id="7253617">.</span><span class="ident" id="7253618"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7253624">(</span><span class="string" id="7253625">&#34;ReadMIMEHeader&nbsp;=\n%v,&nbsp;%v;&nbsp;want:\n%v&#34;</span><span class="op" id="7253662">,</span>&nbsp;<span class="ident" id="7253664"><a href="/gostd/net/textproto/reader_test.go.html#7253360">m</a></span><span class="op" id="7253665">,</span>&nbsp;<span class="ident" id="7253667"><a href="/gostd/net/textproto/reader_test.go.html#7253363">err</a></span><span class="op" id="7253670">,</span>&nbsp;<span class="ident" id="7253672"><a href="/gostd/net/textproto/reader_test.go.html#7253390">want</a></span><span class="op" id="7253676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253679">}</span><br>
<span class="lineno"></span><span class="op" id="7253681">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="7253684">type</span>&nbsp;<span class="ident" id="7253689">readResponseTest</span>&nbsp;<span class="keyword" id="7253706">struct</span>&nbsp;<span class="op" id="7253713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253716">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7253725">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253733">inCode</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7253742">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253747">wantCode</span>&nbsp;<span class="builtintype" id="7253756">int</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253761">wantMsg</span>&nbsp;&nbsp;<span class="builtintype" id="7253770">string</span><br>
<span class="lineno"></span><span class="op" id="7253777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7253780">var</span>&nbsp;<span class="ident" id="7253784">readResponseTests</span>&nbsp;<span class="op" id="7253802">=</span>&nbsp;<span class="op" id="7253804">[</span><span class="op" id="7253805">]</span><span class="ident" id="7253806"><a href="/gostd/net/textproto/reader_test.go.html#7253689">readResponseTest</a></span><span class="op" id="7253822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253825">{</span><span class="string" id="7253826">&#34;230-Anonymous&nbsp;access&nbsp;granted,&nbsp;restrictions&nbsp;apply\n&#34;</span>&nbsp;<span class="op" id="7253879">+</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253883">&#34;Read&nbsp;the&nbsp;file&nbsp;README.txt,\n&#34;</span>&nbsp;<span class="op" id="7253913">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253917">&#34;230&nbsp;&nbsp;please&#34;</span><span class="op" id="7253930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7253934">23</span><span class="op" id="7253936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7253940">230</span><span class="op" id="7253943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253947">&#34;Anonymous&nbsp;access&nbsp;granted,&nbsp;restrictions&nbsp;apply\nRead&nbsp;the&nbsp;file&nbsp;README.txt,\n&nbsp;please&#34;</span><span class="op" id="7254029">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254032">}</span><span class="op" id="7254033">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254037">{</span><span class="string" id="7254038">&#34;230&nbsp;Anonymous&nbsp;access&nbsp;granted,&nbsp;restrictions&nbsp;apply\n&#34;</span><span class="op" id="7254090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7254094">23</span><span class="op" id="7254096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7254100">230</span><span class="op" id="7254103">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254107">&#34;Anonymous&nbsp;access&nbsp;granted,&nbsp;restrictions&nbsp;apply&#34;</span><span class="op" id="7254153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254156">}</span><span class="op" id="7254157">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254161">{</span><span class="string" id="7254162">&#34;400-A\n400-B\n400&nbsp;C&#34;</span><span class="op" id="7254183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7254187">4</span><span class="op" id="7254188">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7254192">400</span><span class="op" id="7254195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254199">&#34;A\nB\nC&#34;</span><span class="op" id="7254208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254211">}</span><span class="op" id="7254212">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254216">{</span><span class="string" id="7254217">&#34;400-A\r\n400-B\r\n400&nbsp;C\r\n&#34;</span><span class="op" id="7254246">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7254250">4</span><span class="op" id="7254251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7254255">400</span><span class="op" id="7254258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254262">&#34;A\nB\nC&#34;</span><span class="op" id="7254271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254274">}</span><span class="op" id="7254275">,</span><br>
<span class="lineno"></span><span class="op" id="7254277">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="comment" id="7254280">//&nbsp;See&nbsp;http://www.ietf.org/rfc/rfc959.txt&nbsp;page&nbsp;36.</span><br>
<span class="lineno"></span><span class="keyword" id="7254331">func</span>&nbsp;<span class="ident" id="7254336">TestRFC959Lines</span><span class="op" id="7254351">(</span><span class="ident" id="7254352">t</span>&nbsp;<span class="op" id="7254354">*</span><span class="ident" id="7254355"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7254362">.</span><span class="ident" id="7254363"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7254364">)</span>&nbsp;<span class="op" id="7254366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7254369">for</span>&nbsp;<span class="ident" id="7254373">i</span><span class="op" id="7254374">,</span>&nbsp;<span class="ident" id="7254376">tt</span>&nbsp;<span class="op" id="7254379">:=</span>&nbsp;<span class="keyword" id="7254382">range</span>&nbsp;<span class="ident" id="7254388"><a href="/gostd/net/textproto/reader_test.go.html#7253784">readResponseTests</a></span>&nbsp;<span class="op" id="7254406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254410">r</span>&nbsp;<span class="op" id="7254412">:=</span>&nbsp;<span class="ident" id="7254415"><a href="/gostd/net/textproto/reader_test.go.html#7249248">reader</a></span><span class="op" id="7254421">(</span><span class="ident" id="7254422"><a href="/gostd/net/textproto/reader_test.go.html#7254376">tt</a></span><span class="op" id="7254424">.</span><span class="ident" id="7254425"><a href="/gostd/net/textproto/reader_test.go.html#7253716">in</a></span>&nbsp;<span class="op" id="7254428">+</span>&nbsp;<span class="string" id="7254430">&#34;\nFOLLOWING&nbsp;DATA&#34;</span><span class="op" id="7254448">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254452">code</span><span class="op" id="7254456">,</span>&nbsp;<span class="ident" id="7254458">msg</span><span class="op" id="7254461">,</span>&nbsp;<span class="ident" id="7254463">err</span>&nbsp;<span class="op" id="7254467">:=</span>&nbsp;<span class="ident" id="7254470"><a href="/gostd/net/textproto/reader_test.go.html#7254410">r</a></span><span class="op" id="7254471">.</span><span class="ident" id="7254472"><a href="/gostd/net/textproto/reader.go.html#4339377">ReadResponse</a></span><span class="op" id="7254484">(</span><span class="ident" id="7254485"><a href="/gostd/net/textproto/reader_test.go.html#7254376">tt</a></span><span class="op" id="7254487">.</span><span class="ident" id="7254488"><a href="/gostd/net/textproto/reader_test.go.html#7253733">inCode</a></span><span class="op" id="7254494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7254498">if</span>&nbsp;<span class="ident" id="7254501"><a href="/gostd/net/textproto/reader_test.go.html#7254463">err</a></span>&nbsp;<span class="op" id="7254505">!=</span>&nbsp;<span class="builtintype" id="7254508">nil</span>&nbsp;<span class="op" id="7254512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254517"><a href="/gostd/net/textproto/reader_test.go.html#7254352">t</a></span><span class="op" id="7254518">.</span><span class="ident" id="7254519"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7254525">(</span><span class="string" id="7254526">&#34;#%d:&nbsp;ReadResponse:&nbsp;%v&#34;</span><span class="op" id="7254549">,</span>&nbsp;<span class="ident" id="7254551"><a href="/gostd/net/textproto/reader_test.go.html#7254373">i</a></span><span class="op" id="7254552">,</span>&nbsp;<span class="ident" id="7254554"><a href="/gostd/net/textproto/reader_test.go.html#7254463">err</a></span><span class="op" id="7254557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7254562">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254573">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7254577">if</span>&nbsp;<span class="ident" id="7254580"><a href="/gostd/net/textproto/reader_test.go.html#7254452">code</a></span>&nbsp;<span class="op" id="7254585">!=</span>&nbsp;<span class="ident" id="7254588"><a href="/gostd/net/textproto/reader_test.go.html#7254376">tt</a></span><span class="op" id="7254590">.</span><span class="ident" id="7254591"><a href="/gostd/net/textproto/reader_test.go.html#7253747">wantCode</a></span>&nbsp;<span class="op" id="7254600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254605"><a href="/gostd/net/textproto/reader_test.go.html#7254352">t</a></span><span class="op" id="7254606">.</span><span class="ident" id="7254607"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7254613">(</span><span class="string" id="7254614">&#34;#%d:&nbsp;code=%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7254637">,</span>&nbsp;<span class="ident" id="7254639"><a href="/gostd/net/textproto/reader_test.go.html#7254373">i</a></span><span class="op" id="7254640">,</span>&nbsp;<span class="ident" id="7254642"><a href="/gostd/net/textproto/reader_test.go.html#7254452">code</a></span><span class="op" id="7254646">,</span>&nbsp;<span class="ident" id="7254648"><a href="/gostd/net/textproto/reader_test.go.html#7254376">tt</a></span><span class="op" id="7254650">.</span><span class="ident" id="7254651"><a href="/gostd/net/textproto/reader_test.go.html#7253747">wantCode</a></span><span class="op" id="7254659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7254667">if</span>&nbsp;<span class="ident" id="7254670"><a href="/gostd/net/textproto/reader_test.go.html#7254458">msg</a></span>&nbsp;<span class="op" id="7254674">!=</span>&nbsp;<span class="ident" id="7254677"><a href="/gostd/net/textproto/reader_test.go.html#7254376">tt</a></span><span class="op" id="7254679">.</span><span class="ident" id="7254680"><a href="/gostd/net/textproto/reader_test.go.html#7253761">wantMsg</a></span>&nbsp;<span class="op" id="7254688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254693"><a href="/gostd/net/textproto/reader_test.go.html#7254352">t</a></span><span class="op" id="7254694">.</span><span class="ident" id="7254695"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7254701">(</span><span class="string" id="7254702">&#34;#%d:&nbsp;msg=%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7254724">,</span>&nbsp;<span class="ident" id="7254726"><a href="/gostd/net/textproto/reader_test.go.html#7254373">i</a></span><span class="op" id="7254727">,</span>&nbsp;<span class="ident" id="7254729"><a href="/gostd/net/textproto/reader_test.go.html#7254458">msg</a></span><span class="op" id="7254732">,</span>&nbsp;<span class="ident" id="7254734"><a href="/gostd/net/textproto/reader_test.go.html#7254376">tt</a></span><span class="op" id="7254736">.</span><span class="ident" id="7254737"><a href="/gostd/net/textproto/reader_test.go.html#7253761">wantMsg</a></span><span class="op" id="7254744">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254751">}</span><br>
<span class="lineno"></span><span class="op" id="7254753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7254756">func</span>&nbsp;<span class="ident" id="7254761">TestCommonHeaders</span><span class="op" id="7254778">(</span><span class="ident" id="7254779">t</span>&nbsp;<span class="op" id="7254781">*</span><span class="ident" id="7254782"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7254789">.</span><span class="ident" id="7254790"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7254791">)</span>&nbsp;<span class="op" id="7254793">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7254796">for</span>&nbsp;<span class="ident" id="7254800">h</span>&nbsp;<span class="op" id="7254802">:=</span>&nbsp;<span class="keyword" id="7254805">range</span>&nbsp;<span class="ident" id="7254811"><a href="/gostd/net/textproto/reader.go.html#4348181">commonHeader</a></span>&nbsp;<span class="op" id="7254824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7254828">if</span>&nbsp;<span class="ident" id="7254831"><a href="/gostd/net/textproto/reader_test.go.html#7254800">h</a></span>&nbsp;<span class="op" id="7254833">!=</span>&nbsp;<span class="ident" id="7254836"><a href="/gostd/net/textproto/reader.go.html#4346917">CanonicalMIMEHeaderKey</a></span><span class="op" id="7254858">(</span><span class="ident" id="7254859"><a href="/gostd/net/textproto/reader_test.go.html#7254800">h</a></span><span class="op" id="7254860">)</span>&nbsp;<span class="op" id="7254862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254867"><a href="/gostd/net/textproto/reader_test.go.html#7254779">t</a></span><span class="op" id="7254868">.</span><span class="ident" id="7254869"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7254875">(</span><span class="string" id="7254876">&#34;Non-canonical&nbsp;header&nbsp;%q&nbsp;in&nbsp;commonHeader&#34;</span><span class="op" id="7254917">,</span>&nbsp;<span class="ident" id="7254919"><a href="/gostd/net/textproto/reader_test.go.html#7254800">h</a></span><span class="op" id="7254920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254927">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254930">b</span>&nbsp;<span class="op" id="7254932">:=</span>&nbsp;<span class="op" id="7254935">[</span><span class="op" id="7254936">]</span><span class="builtintype" id="7254937">byte</span><span class="op" id="7254941">(</span><span class="string" id="7254942">&#34;content-Length&#34;</span><span class="op" id="7254958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254961">want</span>&nbsp;<span class="op" id="7254966">:=</span>&nbsp;<span class="string" id="7254969">&#34;Content-Length&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254987">n</span>&nbsp;<span class="op" id="7254989">:=</span>&nbsp;<span class="ident" id="7254992"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7254999">.</span><span class="ident" id="7255000"><a href="/gostd/testing/allocs.go.html#5449197">AllocsPerRun</a></span><span class="op" id="7255012">(</span><span class="num" id="7255013">200</span><span class="op" id="7255016">,</span>&nbsp;<span class="keyword" id="7255018">func</span><span class="op" id="7255022">(</span><span class="op" id="7255023">)</span>&nbsp;<span class="op" id="7255025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7255029">if</span>&nbsp;<span class="ident" id="7255032">x</span>&nbsp;<span class="op" id="7255034">:=</span>&nbsp;<span class="ident" id="7255037"><a href="/gostd/net/textproto/reader.go.html#4347436">canonicalMIMEHeaderKey</a></span><span class="op" id="7255059">(</span><span class="ident" id="7255060"><a href="/gostd/net/textproto/reader_test.go.html#7254930">b</a></span><span class="op" id="7255061">)</span><span class="op" id="7255062">;</span>&nbsp;<span class="ident" id="7255064"><a href="/gostd/net/textproto/reader_test.go.html#7255032">x</a></span>&nbsp;<span class="op" id="7255066">!=</span>&nbsp;<span class="ident" id="7255069"><a href="/gostd/net/textproto/reader_test.go.html#7254961">want</a></span>&nbsp;<span class="op" id="7255074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255079"><a href="/gostd/net/textproto/reader_test.go.html#7254779">t</a></span><span class="op" id="7255080">.</span><span class="ident" id="7255081"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7255087">(</span><span class="string" id="7255088">&#34;canonicalMIMEHeaderKey(%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7255130">,</span>&nbsp;<span class="ident" id="7255132"><a href="/gostd/net/textproto/reader_test.go.html#7254930">b</a></span><span class="op" id="7255133">,</span>&nbsp;<span class="ident" id="7255135"><a href="/gostd/net/textproto/reader_test.go.html#7255032">x</a></span><span class="op" id="7255136">,</span>&nbsp;<span class="ident" id="7255138"><a href="/gostd/net/textproto/reader_test.go.html#7254961">want</a></span><span class="op" id="7255142">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255149">}</span><span class="op" id="7255150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7255153">if</span>&nbsp;<span class="ident" id="7255156"><a href="/gostd/net/textproto/reader_test.go.html#7254987">n</a></span>&nbsp;<span class="op" id="7255158">&gt;</span>&nbsp;<span class="num" id="7255160">0</span>&nbsp;<span class="op" id="7255162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255166"><a href="/gostd/net/textproto/reader_test.go.html#7254779">t</a></span><span class="op" id="7255167">.</span><span class="ident" id="7255168"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7255174">(</span><span class="string" id="7255175">&#34;canonicalMIMEHeaderKey&nbsp;allocs&nbsp;=&nbsp;%v;&nbsp;want&nbsp;0&#34;</span><span class="op" id="7255219">,</span>&nbsp;<span class="ident" id="7255221"><a href="/gostd/net/textproto/reader_test.go.html#7254987">n</a></span><span class="op" id="7255222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255225">}</span><br>
<span class="lineno">265</span><span class="op" id="7255227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7255230">var</span>&nbsp;<span class="ident" id="7255234">clientHeaders</span>&nbsp;<span class="op" id="7255248">=</span>&nbsp;<span class="ident" id="7255250"><a href="/gostd/net/textproto/reader_test.go.html#7248505">strings</a></span><span class="op" id="7255257">.</span><span class="ident" id="7255258"><a href="/gostd/strings/strings.go.html#2983409">Replace</a></span><span class="op" id="7255265">(</span><span class="string" id="7255266">`Host:&nbsp;golang.org<br>
<span class="lineno"></span>Connection:&nbsp;keep-alive<br>
<span class="lineno"></span>Cache-Control:&nbsp;max-age=0<br>
<span class="lineno">270</span>Accept:&nbsp;application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5<br>
<span class="lineno"></span>User-Agent:&nbsp;Mozilla/5.0&nbsp;(X11;&nbsp;U;&nbsp;Linux&nbsp;x86_64;&nbsp;en-US)&nbsp;AppleWebKit/534.3&nbsp;(KHTML,&nbsp;like&nbsp;Gecko)&nbsp;Chrome/6.0.472.63&nbsp;Safari/534.3<br>
<span class="lineno"></span>Accept-Encoding:&nbsp;gzip,deflate,sdch<br>
<span class="lineno"></span>Accept-Language:&nbsp;en-US,en;q=0.8,fr-CH;q=0.6<br>
<span class="lineno"></span>Accept-Charset:&nbsp;ISO-8859-1,utf-8;q=0.7,*;q=0.3<br>
<span class="lineno">275</span>COOKIE:&nbsp;__utma=000000000.0000000000.0000000000.0000000000.0000000000.00;&nbsp;__utmb=000000000.0.00.0000000000;&nbsp;__utmc=000000000;&nbsp;__utmz=000000000.0000000000.00.0.utmcsr=code.google.com|utmccn=(referral)|utmcmd=referral|utmcct=/p/go/issues/detail<br>
<span class="lineno"></span>Non-Interned:&nbsp;test<br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="7255943">,</span>&nbsp;<span class="string" id="7255945">&#34;\n&#34;</span><span class="op" id="7255949">,</span>&nbsp;<span class="string" id="7255951">&#34;\r\n&#34;</span><span class="op" id="7255957">,</span>&nbsp;<span class="op" id="7255959">-</span><span class="num" id="7255960">1</span><span class="op" id="7255961">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="7255964">var</span>&nbsp;<span class="ident" id="7255968">serverHeaders</span>&nbsp;<span class="op" id="7255982">=</span>&nbsp;<span class="ident" id="7255984"><a href="/gostd/net/textproto/reader_test.go.html#7248505">strings</a></span><span class="op" id="7255991">.</span><span class="ident" id="7255992"><a href="/gostd/strings/strings.go.html#2983409">Replace</a></span><span class="op" id="7255999">(</span><span class="string" id="7256000">`Content-Type:&nbsp;text/html;&nbsp;charset=utf-8<br>
<span class="lineno"></span>Content-Encoding:&nbsp;gzip<br>
<span class="lineno"></span>Date:&nbsp;Thu,&nbsp;27&nbsp;Sep&nbsp;2012&nbsp;09:03:33&nbsp;GMT<br>
<span class="lineno"></span>Server:&nbsp;Google&nbsp;Frontend<br>
<span class="lineno"></span>Cache-Control:&nbsp;private<br>
<span class="lineno">285</span>Content-Length:&nbsp;2298<br>
<span class="lineno"></span>VIA:&nbsp;1.1&nbsp;proxy.example.com:80&nbsp;(XXX/n.n.n-nnn)<br>
<span class="lineno"></span>Connection:&nbsp;Close<br>
<span class="lineno"></span>Non-Interned:&nbsp;test<br>
<span class="lineno"></span><br>
<span class="lineno">290</span>`</span><span class="op" id="7256252">,</span>&nbsp;<span class="string" id="7256254">&#34;\n&#34;</span><span class="op" id="7256258">,</span>&nbsp;<span class="string" id="7256260">&#34;\r\n&#34;</span><span class="op" id="7256266">,</span>&nbsp;<span class="op" id="7256268">-</span><span class="num" id="7256269">1</span><span class="op" id="7256270">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7256273">func</span>&nbsp;<span class="ident" id="7256278">BenchmarkReadMIMEHeader</span><span class="op" id="7256301">(</span><span class="ident" id="7256302">b</span>&nbsp;<span class="op" id="7256304">*</span><span class="ident" id="7256305"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7256312">.</span><span class="ident" id="7256313"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="7256314">)</span>&nbsp;<span class="op" id="7256316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256319"><a href="/gostd/net/textproto/reader_test.go.html#7256302">b</a></span><span class="op" id="7256320">.</span><span class="ident" id="7256321"><a href="/gostd/testing/benchmark.go.html#5453061">ReportAllocs</a></span><span class="op" id="7256333">(</span><span class="op" id="7256334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256337">var</span>&nbsp;<span class="ident" id="7256341">buf</span>&nbsp;<span class="ident" id="7256345"><a href="/gostd/net/textproto/reader_test.go.html#7248479">bytes</a></span><span class="op" id="7256350">.</span><span class="ident" id="7256351"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256359">br</span>&nbsp;<span class="op" id="7256362">:=</span>&nbsp;<span class="ident" id="7256365"><a href="/gostd/net/textproto/reader_test.go.html#7248470">bufio</a></span><span class="op" id="7256370">.</span><span class="ident" id="7256371"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7256380">(</span><span class="op" id="7256381">&amp;</span><span class="ident" id="7256382"><a href="/gostd/net/textproto/reader_test.go.html#7256341">buf</a></span><span class="op" id="7256385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256388">r</span>&nbsp;<span class="op" id="7256390">:=</span>&nbsp;<span class="ident" id="7256393"><a href="/gostd/net/textproto/reader.go.html#4333349">NewReader</a></span><span class="op" id="7256402">(</span><span class="ident" id="7256403"><a href="/gostd/net/textproto/reader_test.go.html#7256359">br</a></span><span class="op" id="7256405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256408">for</span>&nbsp;<span class="ident" id="7256412">i</span>&nbsp;<span class="op" id="7256414">:=</span>&nbsp;<span class="num" id="7256417">0</span><span class="op" id="7256418">;</span>&nbsp;<span class="ident" id="7256420"><a href="/gostd/net/textproto/reader_test.go.html#7256412">i</a></span>&nbsp;<span class="op" id="7256422">&lt;</span>&nbsp;<span class="ident" id="7256424"><a href="/gostd/net/textproto/reader_test.go.html#7256302">b</a></span><span class="op" id="7256425">.</span><span class="ident" id="7256426"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="7256427">;</span>&nbsp;<span class="ident" id="7256429"><a href="/gostd/net/textproto/reader_test.go.html#7256412">i</a></span><span class="op" id="7256430">++</span>&nbsp;<span class="op" id="7256433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256437">var</span>&nbsp;<span class="ident" id="7256441">want</span>&nbsp;<span class="builtintype" id="7256446">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256452">var</span>&nbsp;<span class="ident" id="7256456">find</span>&nbsp;<span class="builtintype" id="7256461">string</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256470">if</span>&nbsp;<span class="op" id="7256473">(</span><span class="ident" id="7256474"><a href="/gostd/net/textproto/reader_test.go.html#7256412">i</a></span>&nbsp;<span class="op" id="7256476">&amp;</span>&nbsp;<span class="num" id="7256478">1</span><span class="op" id="7256479">)</span>&nbsp;<span class="op" id="7256481">==</span>&nbsp;<span class="num" id="7256484">1</span>&nbsp;<span class="op" id="7256486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256491"><a href="/gostd/net/textproto/reader_test.go.html#7256341">buf</a></span><span class="op" id="7256494">.</span><span class="ident" id="7256495"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7256506">(</span><span class="ident" id="7256507"><a href="/gostd/net/textproto/reader_test.go.html#7255234">clientHeaders</a></span><span class="op" id="7256520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256525"><a href="/gostd/net/textproto/reader_test.go.html#7256441">want</a></span>&nbsp;<span class="op" id="7256530">=</span>&nbsp;<span class="num" id="7256532">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256538"><a href="/gostd/net/textproto/reader_test.go.html#7256456">find</a></span>&nbsp;<span class="op" id="7256543">=</span>&nbsp;<span class="string" id="7256545">&#34;Cookie&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256556">}</span>&nbsp;<span class="keyword" id="7256558">else</span>&nbsp;<span class="op" id="7256563">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256568"><a href="/gostd/net/textproto/reader_test.go.html#7256341">buf</a></span><span class="op" id="7256571">.</span><span class="ident" id="7256572"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7256583">(</span><span class="ident" id="7256584"><a href="/gostd/net/textproto/reader_test.go.html#7255968">serverHeaders</a></span><span class="op" id="7256597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256602"><a href="/gostd/net/textproto/reader_test.go.html#7256441">want</a></span>&nbsp;<span class="op" id="7256607">=</span>&nbsp;<span class="num" id="7256609">9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256614"><a href="/gostd/net/textproto/reader_test.go.html#7256456">find</a></span>&nbsp;<span class="op" id="7256619">=</span>&nbsp;<span class="string" id="7256621">&#34;Via&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256633">h</span><span class="op" id="7256634">,</span>&nbsp;<span class="ident" id="7256636">err</span>&nbsp;<span class="op" id="7256640">:=</span>&nbsp;<span class="ident" id="7256643"><a href="/gostd/net/textproto/reader_test.go.html#7256388">r</a></span><span class="op" id="7256644">.</span><span class="ident" id="7256645"><a href="/gostd/net/textproto/reader.go.html#4344573">ReadMIMEHeader</a></span><span class="op" id="7256659">(</span><span class="op" id="7256660">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256664">if</span>&nbsp;<span class="ident" id="7256667"><a href="/gostd/net/textproto/reader_test.go.html#7256636">err</a></span>&nbsp;<span class="op" id="7256671">!=</span>&nbsp;<span class="builtintype" id="7256674">nil</span>&nbsp;<span class="op" id="7256678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256683"><a href="/gostd/net/textproto/reader_test.go.html#7256302">b</a></span><span class="op" id="7256684">.</span><span class="ident" id="7256685"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="7256690">(</span><span class="ident" id="7256691"><a href="/gostd/net/textproto/reader_test.go.html#7256636">err</a></span><span class="op" id="7256694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256702">if</span>&nbsp;<span class="builtinfunc" id="7256705">len</span><span class="op" id="7256708">(</span><span class="ident" id="7256709"><a href="/gostd/net/textproto/reader_test.go.html#7256633">h</a></span><span class="op" id="7256710">)</span>&nbsp;<span class="op" id="7256712">!=</span>&nbsp;<span class="ident" id="7256715"><a href="/gostd/net/textproto/reader_test.go.html#7256441">want</a></span>&nbsp;<span class="op" id="7256720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256725"><a href="/gostd/net/textproto/reader_test.go.html#7256302">b</a></span><span class="op" id="7256726">.</span><span class="ident" id="7256727"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7256733">(</span><span class="string" id="7256734">&#34;wrong&nbsp;number&nbsp;of&nbsp;headers:&nbsp;got&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7256776">,</span>&nbsp;<span class="builtinfunc" id="7256778">len</span><span class="op" id="7256781">(</span><span class="ident" id="7256782"><a href="/gostd/net/textproto/reader_test.go.html#7256633">h</a></span><span class="op" id="7256783">)</span><span class="op" id="7256784">,</span>&nbsp;<span class="ident" id="7256786"><a href="/gostd/net/textproto/reader_test.go.html#7256441">want</a></span><span class="op" id="7256790">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256798">if</span>&nbsp;<span class="ident" id="7256801">_</span><span class="op" id="7256802">,</span>&nbsp;<span class="ident" id="7256804">ok</span>&nbsp;<span class="op" id="7256807">:=</span>&nbsp;<span class="ident" id="7256810"><a href="/gostd/net/textproto/reader_test.go.html#7256633">h</a></span><span class="op" id="7256811">[</span><span class="ident" id="7256812"><a href="/gostd/net/textproto/reader_test.go.html#7256456">find</a></span><span class="op" id="7256816">]</span><span class="op" id="7256817">;</span>&nbsp;<span class="op" id="7256819">!</span><span class="ident" id="7256820"><a href="/gostd/net/textproto/reader_test.go.html#7256804">ok</a></span>&nbsp;<span class="op" id="7256823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256828"><a href="/gostd/net/textproto/reader_test.go.html#7256302">b</a></span><span class="op" id="7256829">.</span><span class="ident" id="7256830"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7256836">(</span><span class="string" id="7256837">&#34;did&nbsp;not&nbsp;find&nbsp;key&nbsp;%s&#34;</span><span class="op" id="7256858">,</span>&nbsp;<span class="ident" id="7256860"><a href="/gostd/net/textproto/reader_test.go.html#7256456">find</a></span><span class="op" id="7256864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256871">}</span><br>
<span class="lineno">320</span><span class="op" id="7256873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7256876">func</span>&nbsp;<span class="ident" id="7256881">BenchmarkUncommon</span><span class="op" id="7256898">(</span><span class="ident" id="7256899">b</span>&nbsp;<span class="op" id="7256901">*</span><span class="ident" id="7256902"><a href="/gostd/net/textproto/reader_test.go.html#7248516">testing</a></span><span class="op" id="7256909">.</span><span class="ident" id="7256910"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="7256911">)</span>&nbsp;<span class="op" id="7256913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256916"><a href="/gostd/net/textproto/reader_test.go.html#7256899">b</a></span><span class="op" id="7256917">.</span><span class="ident" id="7256918"><a href="/gostd/testing/benchmark.go.html#5453061">ReportAllocs</a></span><span class="op" id="7256930">(</span><span class="op" id="7256931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256934">var</span>&nbsp;<span class="ident" id="7256938">buf</span>&nbsp;<span class="ident" id="7256942"><a href="/gostd/net/textproto/reader_test.go.html#7248479">bytes</a></span><span class="op" id="7256947">.</span><span class="ident" id="7256948"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256956">br</span>&nbsp;<span class="op" id="7256959">:=</span>&nbsp;<span class="ident" id="7256962"><a href="/gostd/net/textproto/reader_test.go.html#7248470">bufio</a></span><span class="op" id="7256967">.</span><span class="ident" id="7256968"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7256977">(</span><span class="op" id="7256978">&amp;</span><span class="ident" id="7256979"><a href="/gostd/net/textproto/reader_test.go.html#7256938">buf</a></span><span class="op" id="7256982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256985">r</span>&nbsp;<span class="op" id="7256987">:=</span>&nbsp;<span class="ident" id="7256990"><a href="/gostd/net/textproto/reader.go.html#4333349">NewReader</a></span><span class="op" id="7256999">(</span><span class="ident" id="7257000"><a href="/gostd/net/textproto/reader_test.go.html#7256956">br</a></span><span class="op" id="7257002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7257005">for</span>&nbsp;<span class="ident" id="7257009">i</span>&nbsp;<span class="op" id="7257011">:=</span>&nbsp;<span class="num" id="7257014">0</span><span class="op" id="7257015">;</span>&nbsp;<span class="ident" id="7257017"><a href="/gostd/net/textproto/reader_test.go.html#7257009">i</a></span>&nbsp;<span class="op" id="7257019">&lt;</span>&nbsp;<span class="ident" id="7257021"><a href="/gostd/net/textproto/reader_test.go.html#7256899">b</a></span><span class="op" id="7257022">.</span><span class="ident" id="7257023"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="7257024">;</span>&nbsp;<span class="ident" id="7257026"><a href="/gostd/net/textproto/reader_test.go.html#7257009">i</a></span><span class="op" id="7257027">++</span>&nbsp;<span class="op" id="7257030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257034"><a href="/gostd/net/textproto/reader_test.go.html#7256938">buf</a></span><span class="op" id="7257037">.</span><span class="ident" id="7257038"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7257049">(</span><span class="string" id="7257050">&#34;uncommon-header-for-benchmark:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7257094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257098">h</span><span class="op" id="7257099">,</span>&nbsp;<span class="ident" id="7257101">err</span>&nbsp;<span class="op" id="7257105">:=</span>&nbsp;<span class="ident" id="7257108"><a href="/gostd/net/textproto/reader_test.go.html#7256985">r</a></span><span class="op" id="7257109">.</span><span class="ident" id="7257110"><a href="/gostd/net/textproto/reader.go.html#4344573">ReadMIMEHeader</a></span><span class="op" id="7257124">(</span><span class="op" id="7257125">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7257129">if</span>&nbsp;<span class="ident" id="7257132"><a href="/gostd/net/textproto/reader_test.go.html#7257101">err</a></span>&nbsp;<span class="op" id="7257136">!=</span>&nbsp;<span class="builtintype" id="7257139">nil</span>&nbsp;<span class="op" id="7257143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257148"><a href="/gostd/net/textproto/reader_test.go.html#7256899">b</a></span><span class="op" id="7257149">.</span><span class="ident" id="7257150"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="7257155">(</span><span class="ident" id="7257156"><a href="/gostd/net/textproto/reader_test.go.html#7257101">err</a></span><span class="op" id="7257159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7257167">if</span>&nbsp;<span class="ident" id="7257170">_</span><span class="op" id="7257171">,</span>&nbsp;<span class="ident" id="7257173">ok</span>&nbsp;<span class="op" id="7257176">:=</span>&nbsp;<span class="ident" id="7257179"><a href="/gostd/net/textproto/reader_test.go.html#7257098">h</a></span><span class="op" id="7257180">[</span><span class="string" id="7257181">&#34;Uncommon-Header-For-Benchmark&#34;</span><span class="op" id="7257212">]</span><span class="op" id="7257213">;</span>&nbsp;<span class="op" id="7257215">!</span><span class="ident" id="7257216"><a href="/gostd/net/textproto/reader_test.go.html#7257173">ok</a></span>&nbsp;<span class="op" id="7257219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257224"><a href="/gostd/net/textproto/reader_test.go.html#7256899">b</a></span><span class="op" id="7257225">.</span><span class="ident" id="7257226"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="7257231">(</span><span class="string" id="7257232">&#34;Missing&nbsp;result&nbsp;header.&#34;</span><span class="op" id="7257256">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257263">}</span><br>
<span class="lineno"></span><span class="op" id="7257265">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
