<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html" class="current">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4872739">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4872798">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4872853">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="4872907">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4872958">package</span>&nbsp;<span class="ident" id="4872966">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4872971">import</span>&nbsp;<span class="op" id="4872978">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4872981">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4872989">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="4872999">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4873002">var</span>&nbsp;<span class="ident" id="4873006">decArrayHelper</span>&nbsp;<span class="op" id="4873021">=</span>&nbsp;<span class="keyword" id="4873023">map</span><span class="op" id="4873026">[</span><span class="ident" id="4873027">reflect</span><span class="op" id="4873034">.</span><span class="ident" id="4873035">Kind</span><span class="op" id="4873039">]</span><span class="ident" id="4873040">decHelper</span><span class="op" id="4873049">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873052">reflect</span><span class="op" id="4873059">.</span><span class="ident" id="4873060">Bool</span><span class="op" id="4873064">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873072">decBoolArray</span><span class="op" id="4873084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873087">reflect</span><span class="op" id="4873094">.</span><span class="ident" id="4873095">Complex64</span><span class="op" id="4873104">:</span>&nbsp;&nbsp;<span class="ident" id="4873107">decComplex64Array</span><span class="op" id="4873124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873127">reflect</span><span class="op" id="4873134">.</span><span class="ident" id="4873135">Complex128</span><span class="op" id="4873145">:</span>&nbsp;<span class="ident" id="4873147">decComplex128Array</span><span class="op" id="4873165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873168">reflect</span><span class="op" id="4873175">.</span><span class="ident" id="4873176">Float32</span><span class="op" id="4873183">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873188">decFloat32Array</span><span class="op" id="4873203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873206">reflect</span><span class="op" id="4873213">.</span><span class="ident" id="4873214">Float64</span><span class="op" id="4873221">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873226">decFloat64Array</span><span class="op" id="4873241">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873244">reflect</span><span class="op" id="4873251">.</span><span class="ident" id="4873252">Int</span><span class="op" id="4873255">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873264">decIntArray</span><span class="op" id="4873275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873278">reflect</span><span class="op" id="4873285">.</span><span class="ident" id="4873286">Int16</span><span class="op" id="4873291">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873298">decInt16Array</span><span class="op" id="4873311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873314">reflect</span><span class="op" id="4873321">.</span><span class="ident" id="4873322">Int32</span><span class="op" id="4873327">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873334">decInt32Array</span><span class="op" id="4873347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873350">reflect</span><span class="op" id="4873357">.</span><span class="ident" id="4873358">Int64</span><span class="op" id="4873363">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873370">decInt64Array</span><span class="op" id="4873383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873386">reflect</span><span class="op" id="4873393">.</span><span class="ident" id="4873394">Int8</span><span class="op" id="4873398">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873406">decInt8Array</span><span class="op" id="4873418">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873421">reflect</span><span class="op" id="4873428">.</span><span class="ident" id="4873429">String</span><span class="op" id="4873435">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873441">decStringArray</span><span class="op" id="4873455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873458">reflect</span><span class="op" id="4873465">.</span><span class="ident" id="4873466">Uint</span><span class="op" id="4873470">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873478">decUintArray</span><span class="op" id="4873490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873493">reflect</span><span class="op" id="4873500">.</span><span class="ident" id="4873501">Uint16</span><span class="op" id="4873507">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873513">decUint16Array</span><span class="op" id="4873527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873530">reflect</span><span class="op" id="4873537">.</span><span class="ident" id="4873538">Uint32</span><span class="op" id="4873544">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873550">decUint32Array</span><span class="op" id="4873564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873567">reflect</span><span class="op" id="4873574">.</span><span class="ident" id="4873575">Uint64</span><span class="op" id="4873581">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873587">decUint64Array</span><span class="op" id="4873601">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873604">reflect</span><span class="op" id="4873611">.</span><span class="ident" id="4873612">Uintptr</span><span class="op" id="4873619">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873624">decUintptrArray</span><span class="op" id="4873639">,</span><br>
<span class="lineno"></span><span class="op" id="4873641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4873644">var</span>&nbsp;<span class="ident" id="4873648">decSliceHelper</span>&nbsp;<span class="op" id="4873663">=</span>&nbsp;<span class="keyword" id="4873665">map</span><span class="op" id="4873668">[</span><span class="ident" id="4873669">reflect</span><span class="op" id="4873676">.</span><span class="ident" id="4873677">Kind</span><span class="op" id="4873681">]</span><span class="ident" id="4873682">decHelper</span><span class="op" id="4873691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873694">reflect</span><span class="op" id="4873701">.</span><span class="ident" id="4873702">Bool</span><span class="op" id="4873706">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873714">decBoolSlice</span><span class="op" id="4873726">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873729">reflect</span><span class="op" id="4873736">.</span><span class="ident" id="4873737">Complex64</span><span class="op" id="4873746">:</span>&nbsp;&nbsp;<span class="ident" id="4873749">decComplex64Slice</span><span class="op" id="4873766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873769">reflect</span><span class="op" id="4873776">.</span><span class="ident" id="4873777">Complex128</span><span class="op" id="4873787">:</span>&nbsp;<span class="ident" id="4873789">decComplex128Slice</span><span class="op" id="4873807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873810">reflect</span><span class="op" id="4873817">.</span><span class="ident" id="4873818">Float32</span><span class="op" id="4873825">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873830">decFloat32Slice</span><span class="op" id="4873845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873848">reflect</span><span class="op" id="4873855">.</span><span class="ident" id="4873856">Float64</span><span class="op" id="4873863">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873868">decFloat64Slice</span><span class="op" id="4873883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873886">reflect</span><span class="op" id="4873893">.</span><span class="ident" id="4873894">Int</span><span class="op" id="4873897">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873906">decIntSlice</span><span class="op" id="4873917">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873920">reflect</span><span class="op" id="4873927">.</span><span class="ident" id="4873928">Int16</span><span class="op" id="4873933">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873940">decInt16Slice</span><span class="op" id="4873953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873956">reflect</span><span class="op" id="4873963">.</span><span class="ident" id="4873964">Int32</span><span class="op" id="4873969">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873976">decInt32Slice</span><span class="op" id="4873989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4873992">reflect</span><span class="op" id="4873999">.</span><span class="ident" id="4874000">Int64</span><span class="op" id="4874005">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874012">decInt64Slice</span><span class="op" id="4874025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874028">reflect</span><span class="op" id="4874035">.</span><span class="ident" id="4874036">Int8</span><span class="op" id="4874040">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874048">decInt8Slice</span><span class="op" id="4874060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874063">reflect</span><span class="op" id="4874070">.</span><span class="ident" id="4874071">String</span><span class="op" id="4874077">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874083">decStringSlice</span><span class="op" id="4874097">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874100">reflect</span><span class="op" id="4874107">.</span><span class="ident" id="4874108">Uint</span><span class="op" id="4874112">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874120">decUintSlice</span><span class="op" id="4874132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874135">reflect</span><span class="op" id="4874142">.</span><span class="ident" id="4874143">Uint16</span><span class="op" id="4874149">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874155">decUint16Slice</span><span class="op" id="4874169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874172">reflect</span><span class="op" id="4874179">.</span><span class="ident" id="4874180">Uint32</span><span class="op" id="4874186">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874192">decUint32Slice</span><span class="op" id="4874206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874209">reflect</span><span class="op" id="4874216">.</span><span class="ident" id="4874217">Uint64</span><span class="op" id="4874223">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874229">decUint64Slice</span><span class="op" id="4874243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874246">reflect</span><span class="op" id="4874253">.</span><span class="ident" id="4874254">Uintptr</span><span class="op" id="4874261">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874266">decUintptrSlice</span><span class="op" id="4874281">,</span><br>
<span class="lineno">50</span><span class="op" id="4874283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4874286">func</span>&nbsp;<span class="ident" id="4874291">decBoolArray</span><span class="op" id="4874303">(</span><span class="ident" id="4874304">state</span>&nbsp;<span class="op" id="4874310">*</span><span class="ident" id="4874311">decoderState</span><span class="op" id="4874323">,</span>&nbsp;<span class="ident" id="4874325">v</span>&nbsp;<span class="ident" id="4874327">reflect</span><span class="op" id="4874334">.</span><span class="ident" id="4874335">Value</span><span class="op" id="4874340">,</span>&nbsp;<span class="ident" id="4874342">length</span>&nbsp;<span class="builtintype" id="4874349">int</span><span class="op" id="4874352">,</span>&nbsp;<span class="ident" id="4874354">ovfl</span>&nbsp;<span class="builtintype" id="4874359">error</span><span class="op" id="4874364">)</span>&nbsp;<span class="builtintype" id="4874366">bool</span>&nbsp;<span class="op" id="4874371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4874374">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4874415">if</span>&nbsp;<span class="op" id="4874418">!</span><span class="ident" id="4874419">v</span><span class="op" id="4874420">.</span><span class="ident" id="4874421">CanAddr</span><span class="op" id="4874428">(</span><span class="op" id="4874429">)</span>&nbsp;<span class="op" id="4874431">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4874435">return</span>&nbsp;<span class="builtintype" id="4874442">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4874449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4874452">return</span>&nbsp;<span class="ident" id="4874459">decBoolSlice</span><span class="op" id="4874471">(</span><span class="ident" id="4874472">state</span><span class="op" id="4874477">,</span>&nbsp;<span class="ident" id="4874479">v</span><span class="op" id="4874480">.</span><span class="ident" id="4874481">Slice</span><span class="op" id="4874486">(</span><span class="num" id="4874487">0</span><span class="op" id="4874488">,</span>&nbsp;<span class="ident" id="4874490">v</span><span class="op" id="4874491">.</span><span class="ident" id="4874492">Len</span><span class="op" id="4874495">(</span><span class="op" id="4874496">)</span><span class="op" id="4874497">)</span><span class="op" id="4874498">,</span>&nbsp;<span class="ident" id="4874500">length</span><span class="op" id="4874506">,</span>&nbsp;<span class="ident" id="4874508">ovfl</span><span class="op" id="4874512">)</span><br>
<span class="lineno"></span><span class="op" id="4874514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="4874517">func</span>&nbsp;<span class="ident" id="4874522">decBoolSlice</span><span class="op" id="4874534">(</span><span class="ident" id="4874535">state</span>&nbsp;<span class="op" id="4874541">*</span><span class="ident" id="4874542">decoderState</span><span class="op" id="4874554">,</span>&nbsp;<span class="ident" id="4874556">v</span>&nbsp;<span class="ident" id="4874558">reflect</span><span class="op" id="4874565">.</span><span class="ident" id="4874566">Value</span><span class="op" id="4874571">,</span>&nbsp;<span class="ident" id="4874573">length</span>&nbsp;<span class="builtintype" id="4874580">int</span><span class="op" id="4874583">,</span>&nbsp;<span class="ident" id="4874585">ovfl</span>&nbsp;<span class="builtintype" id="4874590">error</span><span class="op" id="4874595">)</span>&nbsp;<span class="builtintype" id="4874597">bool</span>&nbsp;<span class="op" id="4874602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874605">slice</span><span class="op" id="4874610">,</span>&nbsp;<span class="ident" id="4874612">ok</span>&nbsp;<span class="op" id="4874615">:=</span>&nbsp;<span class="ident" id="4874618">v</span><span class="op" id="4874619">.</span><span class="ident" id="4874620">Interface</span><span class="op" id="4874629">(</span><span class="op" id="4874630">)</span><span class="op" id="4874631">.</span><span class="op" id="4874632">(</span><span class="op" id="4874633">[</span><span class="op" id="4874634">]</span><span class="builtintype" id="4874635">bool</span><span class="op" id="4874639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4874642">if</span>&nbsp;<span class="op" id="4874645">!</span><span class="ident" id="4874646">ok</span>&nbsp;<span class="op" id="4874649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4874653">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4874728">return</span>&nbsp;<span class="builtintype" id="4874735">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4874742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4874745">for</span>&nbsp;<span class="ident" id="4874749">i</span>&nbsp;<span class="op" id="4874751">:=</span>&nbsp;<span class="num" id="4874754">0</span><span class="op" id="4874755">;</span>&nbsp;<span class="ident" id="4874757">i</span>&nbsp;<span class="op" id="4874759">&lt;</span>&nbsp;<span class="ident" id="4874761">length</span><span class="op" id="4874767">;</span>&nbsp;<span class="ident" id="4874769">i</span><span class="op" id="4874770">++</span>&nbsp;<span class="op" id="4874773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4874777">if</span>&nbsp;<span class="ident" id="4874780">state</span><span class="op" id="4874785">.</span><span class="ident" id="4874786">b</span><span class="op" id="4874787">.</span><span class="ident" id="4874788">Len</span><span class="op" id="4874791">(</span><span class="op" id="4874792">)</span>&nbsp;<span class="op" id="4874794">==</span>&nbsp;<span class="num" id="4874797">0</span>&nbsp;<span class="op" id="4874799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874804">errorf</span><span class="op" id="4874810">(</span><span class="string" id="4874811">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4874882">,</span>&nbsp;<span class="ident" id="4874884">length</span><span class="op" id="4874890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4874894">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4874898">slice</span><span class="op" id="4874903">[</span><span class="ident" id="4874904">i</span><span class="op" id="4874905">]</span>&nbsp;<span class="op" id="4874907">=</span>&nbsp;<span class="ident" id="4874909">state</span><span class="op" id="4874914">.</span><span class="ident" id="4874915">decodeUint</span><span class="op" id="4874925">(</span><span class="op" id="4874926">)</span>&nbsp;<span class="op" id="4874928">!=</span>&nbsp;<span class="num" id="4874931">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4874934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4874937">return</span>&nbsp;<span class="builtintype" id="4874944">true</span><br>
<span class="lineno"></span><span class="op" id="4874949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="4874952">func</span>&nbsp;<span class="ident" id="4874957">decComplex64Array</span><span class="op" id="4874974">(</span><span class="ident" id="4874975">state</span>&nbsp;<span class="op" id="4874981">*</span><span class="ident" id="4874982">decoderState</span><span class="op" id="4874994">,</span>&nbsp;<span class="ident" id="4874996">v</span>&nbsp;<span class="ident" id="4874998">reflect</span><span class="op" id="4875005">.</span><span class="ident" id="4875006">Value</span><span class="op" id="4875011">,</span>&nbsp;<span class="ident" id="4875013">length</span>&nbsp;<span class="builtintype" id="4875020">int</span><span class="op" id="4875023">,</span>&nbsp;<span class="ident" id="4875025">ovfl</span>&nbsp;<span class="builtintype" id="4875030">error</span><span class="op" id="4875035">)</span>&nbsp;<span class="builtintype" id="4875037">bool</span>&nbsp;<span class="op" id="4875042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4875045">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875086">if</span>&nbsp;<span class="op" id="4875089">!</span><span class="ident" id="4875090">v</span><span class="op" id="4875091">.</span><span class="ident" id="4875092">CanAddr</span><span class="op" id="4875099">(</span><span class="op" id="4875100">)</span>&nbsp;<span class="op" id="4875102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875106">return</span>&nbsp;<span class="builtintype" id="4875113">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4875120">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875123">return</span>&nbsp;<span class="ident" id="4875130">decComplex64Slice</span><span class="op" id="4875147">(</span><span class="ident" id="4875148">state</span><span class="op" id="4875153">,</span>&nbsp;<span class="ident" id="4875155">v</span><span class="op" id="4875156">.</span><span class="ident" id="4875157">Slice</span><span class="op" id="4875162">(</span><span class="num" id="4875163">0</span><span class="op" id="4875164">,</span>&nbsp;<span class="ident" id="4875166">v</span><span class="op" id="4875167">.</span><span class="ident" id="4875168">Len</span><span class="op" id="4875171">(</span><span class="op" id="4875172">)</span><span class="op" id="4875173">)</span><span class="op" id="4875174">,</span>&nbsp;<span class="ident" id="4875176">length</span><span class="op" id="4875182">,</span>&nbsp;<span class="ident" id="4875184">ovfl</span><span class="op" id="4875188">)</span><br>
<span class="lineno"></span><span class="op" id="4875190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4875193">func</span>&nbsp;<span class="ident" id="4875198">decComplex64Slice</span><span class="op" id="4875215">(</span><span class="ident" id="4875216">state</span>&nbsp;<span class="op" id="4875222">*</span><span class="ident" id="4875223">decoderState</span><span class="op" id="4875235">,</span>&nbsp;<span class="ident" id="4875237">v</span>&nbsp;<span class="ident" id="4875239">reflect</span><span class="op" id="4875246">.</span><span class="ident" id="4875247">Value</span><span class="op" id="4875252">,</span>&nbsp;<span class="ident" id="4875254">length</span>&nbsp;<span class="builtintype" id="4875261">int</span><span class="op" id="4875264">,</span>&nbsp;<span class="ident" id="4875266">ovfl</span>&nbsp;<span class="builtintype" id="4875271">error</span><span class="op" id="4875276">)</span>&nbsp;<span class="builtintype" id="4875278">bool</span>&nbsp;<span class="op" id="4875283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4875286">slice</span><span class="op" id="4875291">,</span>&nbsp;<span class="ident" id="4875293">ok</span>&nbsp;<span class="op" id="4875296">:=</span>&nbsp;<span class="ident" id="4875299">v</span><span class="op" id="4875300">.</span><span class="ident" id="4875301">Interface</span><span class="op" id="4875310">(</span><span class="op" id="4875311">)</span><span class="op" id="4875312">.</span><span class="op" id="4875313">(</span><span class="op" id="4875314">[</span><span class="op" id="4875315">]</span><span class="builtintype" id="4875316">complex64</span><span class="op" id="4875325">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875328">if</span>&nbsp;<span class="op" id="4875331">!</span><span class="ident" id="4875332">ok</span>&nbsp;<span class="op" id="4875335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4875339">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875424">return</span>&nbsp;<span class="builtintype" id="4875431">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4875438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875441">for</span>&nbsp;<span class="ident" id="4875445">i</span>&nbsp;<span class="op" id="4875447">:=</span>&nbsp;<span class="num" id="4875450">0</span><span class="op" id="4875451">;</span>&nbsp;<span class="ident" id="4875453">i</span>&nbsp;<span class="op" id="4875455">&lt;</span>&nbsp;<span class="ident" id="4875457">length</span><span class="op" id="4875463">;</span>&nbsp;<span class="ident" id="4875465">i</span><span class="op" id="4875466">++</span>&nbsp;<span class="op" id="4875469">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875473">if</span>&nbsp;<span class="ident" id="4875476">state</span><span class="op" id="4875481">.</span><span class="ident" id="4875482">b</span><span class="op" id="4875483">.</span><span class="ident" id="4875484">Len</span><span class="op" id="4875487">(</span><span class="op" id="4875488">)</span>&nbsp;<span class="op" id="4875490">==</span>&nbsp;<span class="num" id="4875493">0</span>&nbsp;<span class="op" id="4875495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4875500">errorf</span><span class="op" id="4875506">(</span><span class="string" id="4875507">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4875583">,</span>&nbsp;<span class="ident" id="4875585">length</span><span class="op" id="4875591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4875595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4875599">real</span>&nbsp;<span class="op" id="4875604">:=</span>&nbsp;<span class="ident" id="4875607">float32FromBits</span><span class="op" id="4875622">(</span><span class="ident" id="4875623">state</span><span class="op" id="4875628">.</span><span class="ident" id="4875629">decodeUint</span><span class="op" id="4875639">(</span><span class="op" id="4875640">)</span><span class="op" id="4875641">,</span>&nbsp;<span class="ident" id="4875643">ovfl</span><span class="op" id="4875647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4875651">imag</span>&nbsp;<span class="op" id="4875656">:=</span>&nbsp;<span class="ident" id="4875659">float32FromBits</span><span class="op" id="4875674">(</span><span class="ident" id="4875675">state</span><span class="op" id="4875680">.</span><span class="ident" id="4875681">decodeUint</span><span class="op" id="4875691">(</span><span class="op" id="4875692">)</span><span class="op" id="4875693">,</span>&nbsp;<span class="ident" id="4875695">ovfl</span><span class="op" id="4875699">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4875703">slice</span><span class="op" id="4875708">[</span><span class="ident" id="4875709">i</span><span class="op" id="4875710">]</span>&nbsp;<span class="op" id="4875712">=</span>&nbsp;<span class="builtinfunc" id="4875714">complex</span><span class="op" id="4875721">(</span><span class="builtintype" id="4875722">float32</span><span class="op" id="4875729">(</span><span class="builtinfunc" id="4875730">real</span><span class="op" id="4875734">)</span><span class="op" id="4875735">,</span>&nbsp;<span class="builtintype" id="4875737">float32</span><span class="op" id="4875744">(</span><span class="builtinfunc" id="4875745">imag</span><span class="op" id="4875749">)</span><span class="op" id="4875750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4875753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875756">return</span>&nbsp;<span class="builtintype" id="4875763">true</span><br>
<span class="lineno"></span><span class="op" id="4875768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="4875771">func</span>&nbsp;<span class="ident" id="4875776">decComplex128Array</span><span class="op" id="4875794">(</span><span class="ident" id="4875795">state</span>&nbsp;<span class="op" id="4875801">*</span><span class="ident" id="4875802">decoderState</span><span class="op" id="4875814">,</span>&nbsp;<span class="ident" id="4875816">v</span>&nbsp;<span class="ident" id="4875818">reflect</span><span class="op" id="4875825">.</span><span class="ident" id="4875826">Value</span><span class="op" id="4875831">,</span>&nbsp;<span class="ident" id="4875833">length</span>&nbsp;<span class="builtintype" id="4875840">int</span><span class="op" id="4875843">,</span>&nbsp;<span class="ident" id="4875845">ovfl</span>&nbsp;<span class="builtintype" id="4875850">error</span><span class="op" id="4875855">)</span>&nbsp;<span class="builtintype" id="4875857">bool</span>&nbsp;<span class="op" id="4875862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4875865">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875906">if</span>&nbsp;<span class="op" id="4875909">!</span><span class="ident" id="4875910">v</span><span class="op" id="4875911">.</span><span class="ident" id="4875912">CanAddr</span><span class="op" id="4875919">(</span><span class="op" id="4875920">)</span>&nbsp;<span class="op" id="4875922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875926">return</span>&nbsp;<span class="builtintype" id="4875933">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4875940">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4875943">return</span>&nbsp;<span class="ident" id="4875950">decComplex128Slice</span><span class="op" id="4875968">(</span><span class="ident" id="4875969">state</span><span class="op" id="4875974">,</span>&nbsp;<span class="ident" id="4875976">v</span><span class="op" id="4875977">.</span><span class="ident" id="4875978">Slice</span><span class="op" id="4875983">(</span><span class="num" id="4875984">0</span><span class="op" id="4875985">,</span>&nbsp;<span class="ident" id="4875987">v</span><span class="op" id="4875988">.</span><span class="ident" id="4875989">Len</span><span class="op" id="4875992">(</span><span class="op" id="4875993">)</span><span class="op" id="4875994">)</span><span class="op" id="4875995">,</span>&nbsp;<span class="ident" id="4875997">length</span><span class="op" id="4876003">,</span>&nbsp;<span class="ident" id="4876005">ovfl</span><span class="op" id="4876009">)</span><br>
<span class="lineno"></span><span class="op" id="4876011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4876014">func</span>&nbsp;<span class="ident" id="4876019">decComplex128Slice</span><span class="op" id="4876037">(</span><span class="ident" id="4876038">state</span>&nbsp;<span class="op" id="4876044">*</span><span class="ident" id="4876045">decoderState</span><span class="op" id="4876057">,</span>&nbsp;<span class="ident" id="4876059">v</span>&nbsp;<span class="ident" id="4876061">reflect</span><span class="op" id="4876068">.</span><span class="ident" id="4876069">Value</span><span class="op" id="4876074">,</span>&nbsp;<span class="ident" id="4876076">length</span>&nbsp;<span class="builtintype" id="4876083">int</span><span class="op" id="4876086">,</span>&nbsp;<span class="ident" id="4876088">ovfl</span>&nbsp;<span class="builtintype" id="4876093">error</span><span class="op" id="4876098">)</span>&nbsp;<span class="builtintype" id="4876100">bool</span>&nbsp;<span class="op" id="4876105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4876108">slice</span><span class="op" id="4876113">,</span>&nbsp;<span class="ident" id="4876115">ok</span>&nbsp;<span class="op" id="4876118">:=</span>&nbsp;<span class="ident" id="4876121">v</span><span class="op" id="4876122">.</span><span class="ident" id="4876123">Interface</span><span class="op" id="4876132">(</span><span class="op" id="4876133">)</span><span class="op" id="4876134">.</span><span class="op" id="4876135">(</span><span class="op" id="4876136">[</span><span class="op" id="4876137">]</span><span class="builtintype" id="4876138">complex128</span><span class="op" id="4876148">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4876151">if</span>&nbsp;<span class="op" id="4876154">!</span><span class="ident" id="4876155">ok</span>&nbsp;<span class="op" id="4876158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4876162">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4876249">return</span>&nbsp;<span class="builtintype" id="4876256">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4876263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4876266">for</span>&nbsp;<span class="ident" id="4876270">i</span>&nbsp;<span class="op" id="4876272">:=</span>&nbsp;<span class="num" id="4876275">0</span><span class="op" id="4876276">;</span>&nbsp;<span class="ident" id="4876278">i</span>&nbsp;<span class="op" id="4876280">&lt;</span>&nbsp;<span class="ident" id="4876282">length</span><span class="op" id="4876288">;</span>&nbsp;<span class="ident" id="4876290">i</span><span class="op" id="4876291">++</span>&nbsp;<span class="op" id="4876294">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4876298">if</span>&nbsp;<span class="ident" id="4876301">state</span><span class="op" id="4876306">.</span><span class="ident" id="4876307">b</span><span class="op" id="4876308">.</span><span class="ident" id="4876309">Len</span><span class="op" id="4876312">(</span><span class="op" id="4876313">)</span>&nbsp;<span class="op" id="4876315">==</span>&nbsp;<span class="num" id="4876318">0</span>&nbsp;<span class="op" id="4876320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4876325">errorf</span><span class="op" id="4876331">(</span><span class="string" id="4876332">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4876409">,</span>&nbsp;<span class="ident" id="4876411">length</span><span class="op" id="4876417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4876421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4876425">real</span>&nbsp;<span class="op" id="4876430">:=</span>&nbsp;<span class="ident" id="4876433">float64FromBits</span><span class="op" id="4876448">(</span><span class="ident" id="4876449">state</span><span class="op" id="4876454">.</span><span class="ident" id="4876455">decodeUint</span><span class="op" id="4876465">(</span><span class="op" id="4876466">)</span><span class="op" id="4876467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4876471">imag</span>&nbsp;<span class="op" id="4876476">:=</span>&nbsp;<span class="ident" id="4876479">float64FromBits</span><span class="op" id="4876494">(</span><span class="ident" id="4876495">state</span><span class="op" id="4876500">.</span><span class="ident" id="4876501">decodeUint</span><span class="op" id="4876511">(</span><span class="op" id="4876512">)</span><span class="op" id="4876513">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4876517">slice</span><span class="op" id="4876522">[</span><span class="ident" id="4876523">i</span><span class="op" id="4876524">]</span>&nbsp;<span class="op" id="4876526">=</span>&nbsp;<span class="builtinfunc" id="4876528">complex</span><span class="op" id="4876535">(</span><span class="builtinfunc" id="4876536">real</span><span class="op" id="4876540">,</span>&nbsp;<span class="builtinfunc" id="4876542">imag</span><span class="op" id="4876546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4876549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4876552">return</span>&nbsp;<span class="builtintype" id="4876559">true</span><br>
<span class="lineno"></span><span class="op" id="4876564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="4876567">func</span>&nbsp;<span class="ident" id="4876572">decFloat32Array</span><span class="op" id="4876587">(</span><span class="ident" id="4876588">state</span>&nbsp;<span class="op" id="4876594">*</span><span class="ident" id="4876595">decoderState</span><span class="op" id="4876607">,</span>&nbsp;<span class="ident" id="4876609">v</span>&nbsp;<span class="ident" id="4876611">reflect</span><span class="op" id="4876618">.</span><span class="ident" id="4876619">Value</span><span class="op" id="4876624">,</span>&nbsp;<span class="ident" id="4876626">length</span>&nbsp;<span class="builtintype" id="4876633">int</span><span class="op" id="4876636">,</span>&nbsp;<span class="ident" id="4876638">ovfl</span>&nbsp;<span class="builtintype" id="4876643">error</span><span class="op" id="4876648">)</span>&nbsp;<span class="builtintype" id="4876650">bool</span>&nbsp;<span class="op" id="4876655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4876658">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4876699">if</span>&nbsp;<span class="op" id="4876702">!</span><span class="ident" id="4876703">v</span><span class="op" id="4876704">.</span><span class="ident" id="4876705">CanAddr</span><span class="op" id="4876712">(</span><span class="op" id="4876713">)</span>&nbsp;<span class="op" id="4876715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4876719">return</span>&nbsp;<span class="builtintype" id="4876726">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4876733">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4876736">return</span>&nbsp;<span class="ident" id="4876743">decFloat32Slice</span><span class="op" id="4876758">(</span><span class="ident" id="4876759">state</span><span class="op" id="4876764">,</span>&nbsp;<span class="ident" id="4876766">v</span><span class="op" id="4876767">.</span><span class="ident" id="4876768">Slice</span><span class="op" id="4876773">(</span><span class="num" id="4876774">0</span><span class="op" id="4876775">,</span>&nbsp;<span class="ident" id="4876777">v</span><span class="op" id="4876778">.</span><span class="ident" id="4876779">Len</span><span class="op" id="4876782">(</span><span class="op" id="4876783">)</span><span class="op" id="4876784">)</span><span class="op" id="4876785">,</span>&nbsp;<span class="ident" id="4876787">length</span><span class="op" id="4876793">,</span>&nbsp;<span class="ident" id="4876795">ovfl</span><span class="op" id="4876799">)</span><br>
<span class="lineno"></span><span class="op" id="4876801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4876804">func</span>&nbsp;<span class="ident" id="4876809">decFloat32Slice</span><span class="op" id="4876824">(</span><span class="ident" id="4876825">state</span>&nbsp;<span class="op" id="4876831">*</span><span class="ident" id="4876832">decoderState</span><span class="op" id="4876844">,</span>&nbsp;<span class="ident" id="4876846">v</span>&nbsp;<span class="ident" id="4876848">reflect</span><span class="op" id="4876855">.</span><span class="ident" id="4876856">Value</span><span class="op" id="4876861">,</span>&nbsp;<span class="ident" id="4876863">length</span>&nbsp;<span class="builtintype" id="4876870">int</span><span class="op" id="4876873">,</span>&nbsp;<span class="ident" id="4876875">ovfl</span>&nbsp;<span class="builtintype" id="4876880">error</span><span class="op" id="4876885">)</span>&nbsp;<span class="builtintype" id="4876887">bool</span>&nbsp;<span class="op" id="4876892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4876895">slice</span><span class="op" id="4876900">,</span>&nbsp;<span class="ident" id="4876902">ok</span>&nbsp;<span class="op" id="4876905">:=</span>&nbsp;<span class="ident" id="4876908">v</span><span class="op" id="4876909">.</span><span class="ident" id="4876910">Interface</span><span class="op" id="4876919">(</span><span class="op" id="4876920">)</span><span class="op" id="4876921">.</span><span class="op" id="4876922">(</span><span class="op" id="4876923">[</span><span class="op" id="4876924">]</span><span class="builtintype" id="4876925">float32</span><span class="op" id="4876932">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4876935">if</span>&nbsp;<span class="op" id="4876938">!</span><span class="ident" id="4876939">ok</span>&nbsp;<span class="op" id="4876942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4876946">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877027">return</span>&nbsp;<span class="builtintype" id="4877034">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4877041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877044">for</span>&nbsp;<span class="ident" id="4877048">i</span>&nbsp;<span class="op" id="4877050">:=</span>&nbsp;<span class="num" id="4877053">0</span><span class="op" id="4877054">;</span>&nbsp;<span class="ident" id="4877056">i</span>&nbsp;<span class="op" id="4877058">&lt;</span>&nbsp;<span class="ident" id="4877060">length</span><span class="op" id="4877066">;</span>&nbsp;<span class="ident" id="4877068">i</span><span class="op" id="4877069">++</span>&nbsp;<span class="op" id="4877072">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877076">if</span>&nbsp;<span class="ident" id="4877079">state</span><span class="op" id="4877084">.</span><span class="ident" id="4877085">b</span><span class="op" id="4877086">.</span><span class="ident" id="4877087">Len</span><span class="op" id="4877090">(</span><span class="op" id="4877091">)</span>&nbsp;<span class="op" id="4877093">==</span>&nbsp;<span class="num" id="4877096">0</span>&nbsp;<span class="op" id="4877098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4877103">errorf</span><span class="op" id="4877109">(</span><span class="string" id="4877110">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4877184">,</span>&nbsp;<span class="ident" id="4877186">length</span><span class="op" id="4877192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4877196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4877200">slice</span><span class="op" id="4877205">[</span><span class="ident" id="4877206">i</span><span class="op" id="4877207">]</span>&nbsp;<span class="op" id="4877209">=</span>&nbsp;<span class="builtintype" id="4877211">float32</span><span class="op" id="4877218">(</span><span class="ident" id="4877219">float32FromBits</span><span class="op" id="4877234">(</span><span class="ident" id="4877235">state</span><span class="op" id="4877240">.</span><span class="ident" id="4877241">decodeUint</span><span class="op" id="4877251">(</span><span class="op" id="4877252">)</span><span class="op" id="4877253">,</span>&nbsp;<span class="ident" id="4877255">ovfl</span><span class="op" id="4877259">)</span><span class="op" id="4877260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4877263">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877266">return</span>&nbsp;<span class="builtintype" id="4877273">true</span><br>
<span class="lineno"></span><span class="op" id="4877278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4877281">func</span>&nbsp;<span class="ident" id="4877286">decFloat64Array</span><span class="op" id="4877301">(</span><span class="ident" id="4877302">state</span>&nbsp;<span class="op" id="4877308">*</span><span class="ident" id="4877309">decoderState</span><span class="op" id="4877321">,</span>&nbsp;<span class="ident" id="4877323">v</span>&nbsp;<span class="ident" id="4877325">reflect</span><span class="op" id="4877332">.</span><span class="ident" id="4877333">Value</span><span class="op" id="4877338">,</span>&nbsp;<span class="ident" id="4877340">length</span>&nbsp;<span class="builtintype" id="4877347">int</span><span class="op" id="4877350">,</span>&nbsp;<span class="ident" id="4877352">ovfl</span>&nbsp;<span class="builtintype" id="4877357">error</span><span class="op" id="4877362">)</span>&nbsp;<span class="builtintype" id="4877364">bool</span>&nbsp;<span class="op" id="4877369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4877372">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877413">if</span>&nbsp;<span class="op" id="4877416">!</span><span class="ident" id="4877417">v</span><span class="op" id="4877418">.</span><span class="ident" id="4877419">CanAddr</span><span class="op" id="4877426">(</span><span class="op" id="4877427">)</span>&nbsp;<span class="op" id="4877429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877433">return</span>&nbsp;<span class="builtintype" id="4877440">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4877447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877450">return</span>&nbsp;<span class="ident" id="4877457">decFloat64Slice</span><span class="op" id="4877472">(</span><span class="ident" id="4877473">state</span><span class="op" id="4877478">,</span>&nbsp;<span class="ident" id="4877480">v</span><span class="op" id="4877481">.</span><span class="ident" id="4877482">Slice</span><span class="op" id="4877487">(</span><span class="num" id="4877488">0</span><span class="op" id="4877489">,</span>&nbsp;<span class="ident" id="4877491">v</span><span class="op" id="4877492">.</span><span class="ident" id="4877493">Len</span><span class="op" id="4877496">(</span><span class="op" id="4877497">)</span><span class="op" id="4877498">)</span><span class="op" id="4877499">,</span>&nbsp;<span class="ident" id="4877501">length</span><span class="op" id="4877507">,</span>&nbsp;<span class="ident" id="4877509">ovfl</span><span class="op" id="4877513">)</span><br>
<span class="lineno"></span><span class="op" id="4877515">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="4877518">func</span>&nbsp;<span class="ident" id="4877523">decFloat64Slice</span><span class="op" id="4877538">(</span><span class="ident" id="4877539">state</span>&nbsp;<span class="op" id="4877545">*</span><span class="ident" id="4877546">decoderState</span><span class="op" id="4877558">,</span>&nbsp;<span class="ident" id="4877560">v</span>&nbsp;<span class="ident" id="4877562">reflect</span><span class="op" id="4877569">.</span><span class="ident" id="4877570">Value</span><span class="op" id="4877575">,</span>&nbsp;<span class="ident" id="4877577">length</span>&nbsp;<span class="builtintype" id="4877584">int</span><span class="op" id="4877587">,</span>&nbsp;<span class="ident" id="4877589">ovfl</span>&nbsp;<span class="builtintype" id="4877594">error</span><span class="op" id="4877599">)</span>&nbsp;<span class="builtintype" id="4877601">bool</span>&nbsp;<span class="op" id="4877606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4877609">slice</span><span class="op" id="4877614">,</span>&nbsp;<span class="ident" id="4877616">ok</span>&nbsp;<span class="op" id="4877619">:=</span>&nbsp;<span class="ident" id="4877622">v</span><span class="op" id="4877623">.</span><span class="ident" id="4877624">Interface</span><span class="op" id="4877633">(</span><span class="op" id="4877634">)</span><span class="op" id="4877635">.</span><span class="op" id="4877636">(</span><span class="op" id="4877637">[</span><span class="op" id="4877638">]</span><span class="builtintype" id="4877639">float64</span><span class="op" id="4877646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877649">if</span>&nbsp;<span class="op" id="4877652">!</span><span class="ident" id="4877653">ok</span>&nbsp;<span class="op" id="4877656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4877660">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877741">return</span>&nbsp;<span class="builtintype" id="4877748">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4877755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877758">for</span>&nbsp;<span class="ident" id="4877762">i</span>&nbsp;<span class="op" id="4877764">:=</span>&nbsp;<span class="num" id="4877767">0</span><span class="op" id="4877768">;</span>&nbsp;<span class="ident" id="4877770">i</span>&nbsp;<span class="op" id="4877772">&lt;</span>&nbsp;<span class="ident" id="4877774">length</span><span class="op" id="4877780">;</span>&nbsp;<span class="ident" id="4877782">i</span><span class="op" id="4877783">++</span>&nbsp;<span class="op" id="4877786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877790">if</span>&nbsp;<span class="ident" id="4877793">state</span><span class="op" id="4877798">.</span><span class="ident" id="4877799">b</span><span class="op" id="4877800">.</span><span class="ident" id="4877801">Len</span><span class="op" id="4877804">(</span><span class="op" id="4877805">)</span>&nbsp;<span class="op" id="4877807">==</span>&nbsp;<span class="num" id="4877810">0</span>&nbsp;<span class="op" id="4877812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4877817">errorf</span><span class="op" id="4877823">(</span><span class="string" id="4877824">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4877898">,</span>&nbsp;<span class="ident" id="4877900">length</span><span class="op" id="4877906">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4877910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4877914">slice</span><span class="op" id="4877919">[</span><span class="ident" id="4877920">i</span><span class="op" id="4877921">]</span>&nbsp;<span class="op" id="4877923">=</span>&nbsp;<span class="ident" id="4877925">float64FromBits</span><span class="op" id="4877940">(</span><span class="ident" id="4877941">state</span><span class="op" id="4877946">.</span><span class="ident" id="4877947">decodeUint</span><span class="op" id="4877957">(</span><span class="op" id="4877958">)</span><span class="op" id="4877959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4877962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4877965">return</span>&nbsp;<span class="builtintype" id="4877972">true</span><br>
<span class="lineno"></span><span class="op" id="4877977">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="4877980">func</span>&nbsp;<span class="ident" id="4877985">decIntArray</span><span class="op" id="4877996">(</span><span class="ident" id="4877997">state</span>&nbsp;<span class="op" id="4878003">*</span><span class="ident" id="4878004">decoderState</span><span class="op" id="4878016">,</span>&nbsp;<span class="ident" id="4878018">v</span>&nbsp;<span class="ident" id="4878020">reflect</span><span class="op" id="4878027">.</span><span class="ident" id="4878028">Value</span><span class="op" id="4878033">,</span>&nbsp;<span class="ident" id="4878035">length</span>&nbsp;<span class="builtintype" id="4878042">int</span><span class="op" id="4878045">,</span>&nbsp;<span class="ident" id="4878047">ovfl</span>&nbsp;<span class="builtintype" id="4878052">error</span><span class="op" id="4878057">)</span>&nbsp;<span class="builtintype" id="4878059">bool</span>&nbsp;<span class="op" id="4878064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4878067">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878108">if</span>&nbsp;<span class="op" id="4878111">!</span><span class="ident" id="4878112">v</span><span class="op" id="4878113">.</span><span class="ident" id="4878114">CanAddr</span><span class="op" id="4878121">(</span><span class="op" id="4878122">)</span>&nbsp;<span class="op" id="4878124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878128">return</span>&nbsp;<span class="builtintype" id="4878135">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4878142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878145">return</span>&nbsp;<span class="ident" id="4878152">decIntSlice</span><span class="op" id="4878163">(</span><span class="ident" id="4878164">state</span><span class="op" id="4878169">,</span>&nbsp;<span class="ident" id="4878171">v</span><span class="op" id="4878172">.</span><span class="ident" id="4878173">Slice</span><span class="op" id="4878178">(</span><span class="num" id="4878179">0</span><span class="op" id="4878180">,</span>&nbsp;<span class="ident" id="4878182">v</span><span class="op" id="4878183">.</span><span class="ident" id="4878184">Len</span><span class="op" id="4878187">(</span><span class="op" id="4878188">)</span><span class="op" id="4878189">)</span><span class="op" id="4878190">,</span>&nbsp;<span class="ident" id="4878192">length</span><span class="op" id="4878198">,</span>&nbsp;<span class="ident" id="4878200">ovfl</span><span class="op" id="4878204">)</span><br>
<span class="lineno"></span><span class="op" id="4878206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4878209">func</span>&nbsp;<span class="ident" id="4878214">decIntSlice</span><span class="op" id="4878225">(</span><span class="ident" id="4878226">state</span>&nbsp;<span class="op" id="4878232">*</span><span class="ident" id="4878233">decoderState</span><span class="op" id="4878245">,</span>&nbsp;<span class="ident" id="4878247">v</span>&nbsp;<span class="ident" id="4878249">reflect</span><span class="op" id="4878256">.</span><span class="ident" id="4878257">Value</span><span class="op" id="4878262">,</span>&nbsp;<span class="ident" id="4878264">length</span>&nbsp;<span class="builtintype" id="4878271">int</span><span class="op" id="4878274">,</span>&nbsp;<span class="ident" id="4878276">ovfl</span>&nbsp;<span class="builtintype" id="4878281">error</span><span class="op" id="4878286">)</span>&nbsp;<span class="builtintype" id="4878288">bool</span>&nbsp;<span class="op" id="4878293">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4878296">slice</span><span class="op" id="4878301">,</span>&nbsp;<span class="ident" id="4878303">ok</span>&nbsp;<span class="op" id="4878306">:=</span>&nbsp;<span class="ident" id="4878309">v</span><span class="op" id="4878310">.</span><span class="ident" id="4878311">Interface</span><span class="op" id="4878320">(</span><span class="op" id="4878321">)</span><span class="op" id="4878322">.</span><span class="op" id="4878323">(</span><span class="op" id="4878324">[</span><span class="op" id="4878325">]</span><span class="builtintype" id="4878326">int</span><span class="op" id="4878329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878332">if</span>&nbsp;<span class="op" id="4878335">!</span><span class="ident" id="4878336">ok</span>&nbsp;<span class="op" id="4878339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4878343">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878416">return</span>&nbsp;<span class="builtintype" id="4878423">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4878430">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878433">for</span>&nbsp;<span class="ident" id="4878437">i</span>&nbsp;<span class="op" id="4878439">:=</span>&nbsp;<span class="num" id="4878442">0</span><span class="op" id="4878443">;</span>&nbsp;<span class="ident" id="4878445">i</span>&nbsp;<span class="op" id="4878447">&lt;</span>&nbsp;<span class="ident" id="4878449">length</span><span class="op" id="4878455">;</span>&nbsp;<span class="ident" id="4878457">i</span><span class="op" id="4878458">++</span>&nbsp;<span class="op" id="4878461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878465">if</span>&nbsp;<span class="ident" id="4878468">state</span><span class="op" id="4878473">.</span><span class="ident" id="4878474">b</span><span class="op" id="4878475">.</span><span class="ident" id="4878476">Len</span><span class="op" id="4878479">(</span><span class="op" id="4878480">)</span>&nbsp;<span class="op" id="4878482">==</span>&nbsp;<span class="num" id="4878485">0</span>&nbsp;<span class="op" id="4878487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4878492">errorf</span><span class="op" id="4878498">(</span><span class="string" id="4878499">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4878569">,</span>&nbsp;<span class="ident" id="4878571">length</span><span class="op" id="4878577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4878581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4878585">x</span>&nbsp;<span class="op" id="4878587">:=</span>&nbsp;<span class="ident" id="4878590">state</span><span class="op" id="4878595">.</span><span class="ident" id="4878596">decodeInt</span><span class="op" id="4878605">(</span><span class="op" id="4878606">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4878610">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878633">if</span>&nbsp;<span class="ident" id="4878636">x</span>&nbsp;<span class="op" id="4878638">&lt;</span>&nbsp;<span class="op" id="4878640">^</span><span class="ident" id="4878641">int64</span><span class="op" id="4878646">(</span><span class="op" id="4878647">^</span><span class="builtintype" id="4878648">uint</span><span class="op" id="4878652">(</span><span class="num" id="4878653">0</span><span class="op" id="4878654">)</span><span class="op" id="4878655">&gt;&gt;</span><span class="num" id="4878657">1</span><span class="op" id="4878658">)</span>&nbsp;<span class="op" id="4878660">||</span>&nbsp;<span class="ident" id="4878663">int64</span><span class="op" id="4878668">(</span><span class="op" id="4878669">^</span><span class="builtintype" id="4878670">uint</span><span class="op" id="4878674">(</span><span class="num" id="4878675">0</span><span class="op" id="4878676">)</span><span class="op" id="4878677">&gt;&gt;</span><span class="num" id="4878679">1</span><span class="op" id="4878680">)</span>&nbsp;<span class="op" id="4878682">&lt;</span>&nbsp;<span class="ident" id="4878684">x</span>&nbsp;<span class="op" id="4878686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4878691">error_</span><span class="op" id="4878697">(</span><span class="ident" id="4878698">ovfl</span><span class="op" id="4878702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4878706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4878710">slice</span><span class="op" id="4878715">[</span><span class="ident" id="4878716">i</span><span class="op" id="4878717">]</span>&nbsp;<span class="op" id="4878719">=</span>&nbsp;<span class="builtintype" id="4878721">int</span><span class="op" id="4878724">(</span><span class="ident" id="4878725">x</span><span class="op" id="4878726">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4878729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878732">return</span>&nbsp;<span class="builtintype" id="4878739">true</span><br>
<span class="lineno"></span><span class="op" id="4878744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4878747">func</span>&nbsp;<span class="ident" id="4878752">decInt16Array</span><span class="op" id="4878765">(</span><span class="ident" id="4878766">state</span>&nbsp;<span class="op" id="4878772">*</span><span class="ident" id="4878773">decoderState</span><span class="op" id="4878785">,</span>&nbsp;<span class="ident" id="4878787">v</span>&nbsp;<span class="ident" id="4878789">reflect</span><span class="op" id="4878796">.</span><span class="ident" id="4878797">Value</span><span class="op" id="4878802">,</span>&nbsp;<span class="ident" id="4878804">length</span>&nbsp;<span class="builtintype" id="4878811">int</span><span class="op" id="4878814">,</span>&nbsp;<span class="ident" id="4878816">ovfl</span>&nbsp;<span class="builtintype" id="4878821">error</span><span class="op" id="4878826">)</span>&nbsp;<span class="builtintype" id="4878828">bool</span>&nbsp;<span class="op" id="4878833">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4878836">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878877">if</span>&nbsp;<span class="op" id="4878880">!</span><span class="ident" id="4878881">v</span><span class="op" id="4878882">.</span><span class="ident" id="4878883">CanAddr</span><span class="op" id="4878890">(</span><span class="op" id="4878891">)</span>&nbsp;<span class="op" id="4878893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878897">return</span>&nbsp;<span class="builtintype" id="4878904">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4878911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4878914">return</span>&nbsp;<span class="ident" id="4878921">decInt16Slice</span><span class="op" id="4878934">(</span><span class="ident" id="4878935">state</span><span class="op" id="4878940">,</span>&nbsp;<span class="ident" id="4878942">v</span><span class="op" id="4878943">.</span><span class="ident" id="4878944">Slice</span><span class="op" id="4878949">(</span><span class="num" id="4878950">0</span><span class="op" id="4878951">,</span>&nbsp;<span class="ident" id="4878953">v</span><span class="op" id="4878954">.</span><span class="ident" id="4878955">Len</span><span class="op" id="4878958">(</span><span class="op" id="4878959">)</span><span class="op" id="4878960">)</span><span class="op" id="4878961">,</span>&nbsp;<span class="ident" id="4878963">length</span><span class="op" id="4878969">,</span>&nbsp;<span class="ident" id="4878971">ovfl</span><span class="op" id="4878975">)</span><br>
<span class="lineno">205</span><span class="op" id="4878977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4878980">func</span>&nbsp;<span class="ident" id="4878985">decInt16Slice</span><span class="op" id="4878998">(</span><span class="ident" id="4878999">state</span>&nbsp;<span class="op" id="4879005">*</span><span class="ident" id="4879006">decoderState</span><span class="op" id="4879018">,</span>&nbsp;<span class="ident" id="4879020">v</span>&nbsp;<span class="ident" id="4879022">reflect</span><span class="op" id="4879029">.</span><span class="ident" id="4879030">Value</span><span class="op" id="4879035">,</span>&nbsp;<span class="ident" id="4879037">length</span>&nbsp;<span class="builtintype" id="4879044">int</span><span class="op" id="4879047">,</span>&nbsp;<span class="ident" id="4879049">ovfl</span>&nbsp;<span class="builtintype" id="4879054">error</span><span class="op" id="4879059">)</span>&nbsp;<span class="builtintype" id="4879061">bool</span>&nbsp;<span class="op" id="4879066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4879069">slice</span><span class="op" id="4879074">,</span>&nbsp;<span class="ident" id="4879076">ok</span>&nbsp;<span class="op" id="4879079">:=</span>&nbsp;<span class="ident" id="4879082">v</span><span class="op" id="4879083">.</span><span class="ident" id="4879084">Interface</span><span class="op" id="4879093">(</span><span class="op" id="4879094">)</span><span class="op" id="4879095">.</span><span class="op" id="4879096">(</span><span class="op" id="4879097">[</span><span class="op" id="4879098">]</span><span class="builtintype" id="4879099">int16</span><span class="op" id="4879104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879107">if</span>&nbsp;<span class="op" id="4879110">!</span><span class="ident" id="4879111">ok</span>&nbsp;<span class="op" id="4879114">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4879118">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879195">return</span>&nbsp;<span class="builtintype" id="4879202">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4879209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879212">for</span>&nbsp;<span class="ident" id="4879216">i</span>&nbsp;<span class="op" id="4879218">:=</span>&nbsp;<span class="num" id="4879221">0</span><span class="op" id="4879222">;</span>&nbsp;<span class="ident" id="4879224">i</span>&nbsp;<span class="op" id="4879226">&lt;</span>&nbsp;<span class="ident" id="4879228">length</span><span class="op" id="4879234">;</span>&nbsp;<span class="ident" id="4879236">i</span><span class="op" id="4879237">++</span>&nbsp;<span class="op" id="4879240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879244">if</span>&nbsp;<span class="ident" id="4879247">state</span><span class="op" id="4879252">.</span><span class="ident" id="4879253">b</span><span class="op" id="4879254">.</span><span class="ident" id="4879255">Len</span><span class="op" id="4879258">(</span><span class="op" id="4879259">)</span>&nbsp;<span class="op" id="4879261">==</span>&nbsp;<span class="num" id="4879264">0</span>&nbsp;<span class="op" id="4879266">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4879271">errorf</span><span class="op" id="4879277">(</span><span class="string" id="4879278">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4879350">,</span>&nbsp;<span class="ident" id="4879352">length</span><span class="op" id="4879358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4879362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4879366">x</span>&nbsp;<span class="op" id="4879368">:=</span>&nbsp;<span class="ident" id="4879371">state</span><span class="op" id="4879376">.</span><span class="ident" id="4879377">decodeInt</span><span class="op" id="4879386">(</span><span class="op" id="4879387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879391">if</span>&nbsp;<span class="ident" id="4879394">x</span>&nbsp;<span class="op" id="4879396">&lt;</span>&nbsp;<span class="ident" id="4879398">math</span><span class="op" id="4879402">.</span><span class="ident" id="4879403">MinInt16</span>&nbsp;<span class="op" id="4879412">||</span>&nbsp;<span class="ident" id="4879415">math</span><span class="op" id="4879419">.</span><span class="ident" id="4879420">MaxInt16</span>&nbsp;<span class="op" id="4879429">&lt;</span>&nbsp;<span class="ident" id="4879431">x</span>&nbsp;<span class="op" id="4879433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4879438">error_</span><span class="op" id="4879444">(</span><span class="ident" id="4879445">ovfl</span><span class="op" id="4879449">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4879453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4879457">slice</span><span class="op" id="4879462">[</span><span class="ident" id="4879463">i</span><span class="op" id="4879464">]</span>&nbsp;<span class="op" id="4879466">=</span>&nbsp;<span class="builtintype" id="4879468">int16</span><span class="op" id="4879473">(</span><span class="ident" id="4879474">x</span><span class="op" id="4879475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4879478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879481">return</span>&nbsp;<span class="builtintype" id="4879488">true</span><br>
<span class="lineno"></span><span class="op" id="4879493">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="4879496">func</span>&nbsp;<span class="ident" id="4879501">decInt32Array</span><span class="op" id="4879514">(</span><span class="ident" id="4879515">state</span>&nbsp;<span class="op" id="4879521">*</span><span class="ident" id="4879522">decoderState</span><span class="op" id="4879534">,</span>&nbsp;<span class="ident" id="4879536">v</span>&nbsp;<span class="ident" id="4879538">reflect</span><span class="op" id="4879545">.</span><span class="ident" id="4879546">Value</span><span class="op" id="4879551">,</span>&nbsp;<span class="ident" id="4879553">length</span>&nbsp;<span class="builtintype" id="4879560">int</span><span class="op" id="4879563">,</span>&nbsp;<span class="ident" id="4879565">ovfl</span>&nbsp;<span class="builtintype" id="4879570">error</span><span class="op" id="4879575">)</span>&nbsp;<span class="builtintype" id="4879577">bool</span>&nbsp;<span class="op" id="4879582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4879585">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879626">if</span>&nbsp;<span class="op" id="4879629">!</span><span class="ident" id="4879630">v</span><span class="op" id="4879631">.</span><span class="ident" id="4879632">CanAddr</span><span class="op" id="4879639">(</span><span class="op" id="4879640">)</span>&nbsp;<span class="op" id="4879642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879646">return</span>&nbsp;<span class="builtintype" id="4879653">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4879660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879663">return</span>&nbsp;<span class="ident" id="4879670">decInt32Slice</span><span class="op" id="4879683">(</span><span class="ident" id="4879684">state</span><span class="op" id="4879689">,</span>&nbsp;<span class="ident" id="4879691">v</span><span class="op" id="4879692">.</span><span class="ident" id="4879693">Slice</span><span class="op" id="4879698">(</span><span class="num" id="4879699">0</span><span class="op" id="4879700">,</span>&nbsp;<span class="ident" id="4879702">v</span><span class="op" id="4879703">.</span><span class="ident" id="4879704">Len</span><span class="op" id="4879707">(</span><span class="op" id="4879708">)</span><span class="op" id="4879709">)</span><span class="op" id="4879710">,</span>&nbsp;<span class="ident" id="4879712">length</span><span class="op" id="4879718">,</span>&nbsp;<span class="ident" id="4879720">ovfl</span><span class="op" id="4879724">)</span><br>
<span class="lineno"></span><span class="op" id="4879726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4879729">func</span>&nbsp;<span class="ident" id="4879734">decInt32Slice</span><span class="op" id="4879747">(</span><span class="ident" id="4879748">state</span>&nbsp;<span class="op" id="4879754">*</span><span class="ident" id="4879755">decoderState</span><span class="op" id="4879767">,</span>&nbsp;<span class="ident" id="4879769">v</span>&nbsp;<span class="ident" id="4879771">reflect</span><span class="op" id="4879778">.</span><span class="ident" id="4879779">Value</span><span class="op" id="4879784">,</span>&nbsp;<span class="ident" id="4879786">length</span>&nbsp;<span class="builtintype" id="4879793">int</span><span class="op" id="4879796">,</span>&nbsp;<span class="ident" id="4879798">ovfl</span>&nbsp;<span class="builtintype" id="4879803">error</span><span class="op" id="4879808">)</span>&nbsp;<span class="builtintype" id="4879810">bool</span>&nbsp;<span class="op" id="4879815">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4879818">slice</span><span class="op" id="4879823">,</span>&nbsp;<span class="ident" id="4879825">ok</span>&nbsp;<span class="op" id="4879828">:=</span>&nbsp;<span class="ident" id="4879831">v</span><span class="op" id="4879832">.</span><span class="ident" id="4879833">Interface</span><span class="op" id="4879842">(</span><span class="op" id="4879843">)</span><span class="op" id="4879844">.</span><span class="op" id="4879845">(</span><span class="op" id="4879846">[</span><span class="op" id="4879847">]</span><span class="builtintype" id="4879848">int32</span><span class="op" id="4879853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879856">if</span>&nbsp;<span class="op" id="4879859">!</span><span class="ident" id="4879860">ok</span>&nbsp;<span class="op" id="4879863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4879867">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879944">return</span>&nbsp;<span class="builtintype" id="4879951">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4879958">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879961">for</span>&nbsp;<span class="ident" id="4879965">i</span>&nbsp;<span class="op" id="4879967">:=</span>&nbsp;<span class="num" id="4879970">0</span><span class="op" id="4879971">;</span>&nbsp;<span class="ident" id="4879973">i</span>&nbsp;<span class="op" id="4879975">&lt;</span>&nbsp;<span class="ident" id="4879977">length</span><span class="op" id="4879983">;</span>&nbsp;<span class="ident" id="4879985">i</span><span class="op" id="4879986">++</span>&nbsp;<span class="op" id="4879989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4879993">if</span>&nbsp;<span class="ident" id="4879996">state</span><span class="op" id="4880001">.</span><span class="ident" id="4880002">b</span><span class="op" id="4880003">.</span><span class="ident" id="4880004">Len</span><span class="op" id="4880007">(</span><span class="op" id="4880008">)</span>&nbsp;<span class="op" id="4880010">==</span>&nbsp;<span class="num" id="4880013">0</span>&nbsp;<span class="op" id="4880015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4880020">errorf</span><span class="op" id="4880026">(</span><span class="string" id="4880027">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4880099">,</span>&nbsp;<span class="ident" id="4880101">length</span><span class="op" id="4880107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4880111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4880115">x</span>&nbsp;<span class="op" id="4880117">:=</span>&nbsp;<span class="ident" id="4880120">state</span><span class="op" id="4880125">.</span><span class="ident" id="4880126">decodeInt</span><span class="op" id="4880135">(</span><span class="op" id="4880136">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4880140">if</span>&nbsp;<span class="ident" id="4880143">x</span>&nbsp;<span class="op" id="4880145">&lt;</span>&nbsp;<span class="ident" id="4880147">math</span><span class="op" id="4880151">.</span><span class="ident" id="4880152">MinInt32</span>&nbsp;<span class="op" id="4880161">||</span>&nbsp;<span class="ident" id="4880164">math</span><span class="op" id="4880168">.</span><span class="ident" id="4880169">MaxInt32</span>&nbsp;<span class="op" id="4880178">&lt;</span>&nbsp;<span class="ident" id="4880180">x</span>&nbsp;<span class="op" id="4880182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4880187">error_</span><span class="op" id="4880193">(</span><span class="ident" id="4880194">ovfl</span><span class="op" id="4880198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4880202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4880206">slice</span><span class="op" id="4880211">[</span><span class="ident" id="4880212">i</span><span class="op" id="4880213">]</span>&nbsp;<span class="op" id="4880215">=</span>&nbsp;<span class="builtintype" id="4880217">int32</span><span class="op" id="4880222">(</span><span class="ident" id="4880223">x</span><span class="op" id="4880224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4880227">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4880230">return</span>&nbsp;<span class="builtintype" id="4880237">true</span><br>
<span class="lineno"></span><span class="op" id="4880242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4880245">func</span>&nbsp;<span class="ident" id="4880250">decInt64Array</span><span class="op" id="4880263">(</span><span class="ident" id="4880264">state</span>&nbsp;<span class="op" id="4880270">*</span><span class="ident" id="4880271">decoderState</span><span class="op" id="4880283">,</span>&nbsp;<span class="ident" id="4880285">v</span>&nbsp;<span class="ident" id="4880287">reflect</span><span class="op" id="4880294">.</span><span class="ident" id="4880295">Value</span><span class="op" id="4880300">,</span>&nbsp;<span class="ident" id="4880302">length</span>&nbsp;<span class="builtintype" id="4880309">int</span><span class="op" id="4880312">,</span>&nbsp;<span class="ident" id="4880314">ovfl</span>&nbsp;<span class="builtintype" id="4880319">error</span><span class="op" id="4880324">)</span>&nbsp;<span class="builtintype" id="4880326">bool</span>&nbsp;<span class="op" id="4880331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4880334">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4880375">if</span>&nbsp;<span class="op" id="4880378">!</span><span class="ident" id="4880379">v</span><span class="op" id="4880380">.</span><span class="ident" id="4880381">CanAddr</span><span class="op" id="4880388">(</span><span class="op" id="4880389">)</span>&nbsp;<span class="op" id="4880391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4880395">return</span>&nbsp;<span class="builtintype" id="4880402">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4880409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4880412">return</span>&nbsp;<span class="ident" id="4880419">decInt64Slice</span><span class="op" id="4880432">(</span><span class="ident" id="4880433">state</span><span class="op" id="4880438">,</span>&nbsp;<span class="ident" id="4880440">v</span><span class="op" id="4880441">.</span><span class="ident" id="4880442">Slice</span><span class="op" id="4880447">(</span><span class="num" id="4880448">0</span><span class="op" id="4880449">,</span>&nbsp;<span class="ident" id="4880451">v</span><span class="op" id="4880452">.</span><span class="ident" id="4880453">Len</span><span class="op" id="4880456">(</span><span class="op" id="4880457">)</span><span class="op" id="4880458">)</span><span class="op" id="4880459">,</span>&nbsp;<span class="ident" id="4880461">length</span><span class="op" id="4880467">,</span>&nbsp;<span class="ident" id="4880469">ovfl</span><span class="op" id="4880473">)</span><br>
<span class="lineno"></span><span class="op" id="4880475">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="4880478">func</span>&nbsp;<span class="ident" id="4880483">decInt64Slice</span><span class="op" id="4880496">(</span><span class="ident" id="4880497">state</span>&nbsp;<span class="op" id="4880503">*</span><span class="ident" id="4880504">decoderState</span><span class="op" id="4880516">,</span>&nbsp;<span class="ident" id="4880518">v</span>&nbsp;<span class="ident" id="4880520">reflect</span><span class="op" id="4880527">.</span><span class="ident" id="4880528">Value</span><span class="op" id="4880533">,</span>&nbsp;<span class="ident" id="4880535">length</span>&nbsp;<span class="builtintype" id="4880542">int</span><span class="op" id="4880545">,</span>&nbsp;<span class="ident" id="4880547">ovfl</span>&nbsp;<span class="builtintype" id="4880552">error</span><span class="op" id="4880557">)</span>&nbsp;<span class="builtintype" id="4880559">bool</span>&nbsp;<span class="op" id="4880564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4880567">slice</span><span class="op" id="4880572">,</span>&nbsp;<span class="ident" id="4880574">ok</span>&nbsp;<span class="op" id="4880577">:=</span>&nbsp;<span class="ident" id="4880580">v</span><span class="op" id="4880581">.</span><span class="ident" id="4880582">Interface</span><span class="op" id="4880591">(</span><span class="op" id="4880592">)</span><span class="op" id="4880593">.</span><span class="op" id="4880594">(</span><span class="op" id="4880595">[</span><span class="op" id="4880596">]</span><span class="ident" id="4880597">int64</span><span class="op" id="4880602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4880605">if</span>&nbsp;<span class="op" id="4880608">!</span><span class="ident" id="4880609">ok</span>&nbsp;<span class="op" id="4880612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4880616">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4880693">return</span>&nbsp;<span class="builtintype" id="4880700">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4880707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4880710">for</span>&nbsp;<span class="ident" id="4880714">i</span>&nbsp;<span class="op" id="4880716">:=</span>&nbsp;<span class="num" id="4880719">0</span><span class="op" id="4880720">;</span>&nbsp;<span class="ident" id="4880722">i</span>&nbsp;<span class="op" id="4880724">&lt;</span>&nbsp;<span class="ident" id="4880726">length</span><span class="op" id="4880732">;</span>&nbsp;<span class="ident" id="4880734">i</span><span class="op" id="4880735">++</span>&nbsp;<span class="op" id="4880738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4880742">if</span>&nbsp;<span class="ident" id="4880745">state</span><span class="op" id="4880750">.</span><span class="ident" id="4880751">b</span><span class="op" id="4880752">.</span><span class="ident" id="4880753">Len</span><span class="op" id="4880756">(</span><span class="op" id="4880757">)</span>&nbsp;<span class="op" id="4880759">==</span>&nbsp;<span class="num" id="4880762">0</span>&nbsp;<span class="op" id="4880764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4880769">errorf</span><span class="op" id="4880775">(</span><span class="string" id="4880776">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4880848">,</span>&nbsp;<span class="ident" id="4880850">length</span><span class="op" id="4880856">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4880860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4880864">slice</span><span class="op" id="4880869">[</span><span class="ident" id="4880870">i</span><span class="op" id="4880871">]</span>&nbsp;<span class="op" id="4880873">=</span>&nbsp;<span class="ident" id="4880875">state</span><span class="op" id="4880880">.</span><span class="ident" id="4880881">decodeInt</span><span class="op" id="4880890">(</span><span class="op" id="4880891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4880894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4880897">return</span>&nbsp;<span class="builtintype" id="4880904">true</span><br>
<span class="lineno"></span><span class="op" id="4880909">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="4880912">func</span>&nbsp;<span class="ident" id="4880917">decInt8Array</span><span class="op" id="4880929">(</span><span class="ident" id="4880930">state</span>&nbsp;<span class="op" id="4880936">*</span><span class="ident" id="4880937">decoderState</span><span class="op" id="4880949">,</span>&nbsp;<span class="ident" id="4880951">v</span>&nbsp;<span class="ident" id="4880953">reflect</span><span class="op" id="4880960">.</span><span class="ident" id="4880961">Value</span><span class="op" id="4880966">,</span>&nbsp;<span class="ident" id="4880968">length</span>&nbsp;<span class="builtintype" id="4880975">int</span><span class="op" id="4880978">,</span>&nbsp;<span class="ident" id="4880980">ovfl</span>&nbsp;<span class="builtintype" id="4880985">error</span><span class="op" id="4880990">)</span>&nbsp;<span class="builtintype" id="4880992">bool</span>&nbsp;<span class="op" id="4880997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4881000">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881041">if</span>&nbsp;<span class="op" id="4881044">!</span><span class="ident" id="4881045">v</span><span class="op" id="4881046">.</span><span class="ident" id="4881047">CanAddr</span><span class="op" id="4881054">(</span><span class="op" id="4881055">)</span>&nbsp;<span class="op" id="4881057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881061">return</span>&nbsp;<span class="builtintype" id="4881068">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4881075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881078">return</span>&nbsp;<span class="ident" id="4881085">decInt8Slice</span><span class="op" id="4881097">(</span><span class="ident" id="4881098">state</span><span class="op" id="4881103">,</span>&nbsp;<span class="ident" id="4881105">v</span><span class="op" id="4881106">.</span><span class="ident" id="4881107">Slice</span><span class="op" id="4881112">(</span><span class="num" id="4881113">0</span><span class="op" id="4881114">,</span>&nbsp;<span class="ident" id="4881116">v</span><span class="op" id="4881117">.</span><span class="ident" id="4881118">Len</span><span class="op" id="4881121">(</span><span class="op" id="4881122">)</span><span class="op" id="4881123">)</span><span class="op" id="4881124">,</span>&nbsp;<span class="ident" id="4881126">length</span><span class="op" id="4881132">,</span>&nbsp;<span class="ident" id="4881134">ovfl</span><span class="op" id="4881138">)</span><br>
<span class="lineno"></span><span class="op" id="4881140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4881143">func</span>&nbsp;<span class="ident" id="4881148">decInt8Slice</span><span class="op" id="4881160">(</span><span class="ident" id="4881161">state</span>&nbsp;<span class="op" id="4881167">*</span><span class="ident" id="4881168">decoderState</span><span class="op" id="4881180">,</span>&nbsp;<span class="ident" id="4881182">v</span>&nbsp;<span class="ident" id="4881184">reflect</span><span class="op" id="4881191">.</span><span class="ident" id="4881192">Value</span><span class="op" id="4881197">,</span>&nbsp;<span class="ident" id="4881199">length</span>&nbsp;<span class="builtintype" id="4881206">int</span><span class="op" id="4881209">,</span>&nbsp;<span class="ident" id="4881211">ovfl</span>&nbsp;<span class="builtintype" id="4881216">error</span><span class="op" id="4881221">)</span>&nbsp;<span class="builtintype" id="4881223">bool</span>&nbsp;<span class="op" id="4881228">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4881231">slice</span><span class="op" id="4881236">,</span>&nbsp;<span class="ident" id="4881238">ok</span>&nbsp;<span class="op" id="4881241">:=</span>&nbsp;<span class="ident" id="4881244">v</span><span class="op" id="4881245">.</span><span class="ident" id="4881246">Interface</span><span class="op" id="4881255">(</span><span class="op" id="4881256">)</span><span class="op" id="4881257">.</span><span class="op" id="4881258">(</span><span class="op" id="4881259">[</span><span class="op" id="4881260">]</span><span class="builtintype" id="4881261">int8</span><span class="op" id="4881265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881268">if</span>&nbsp;<span class="op" id="4881271">!</span><span class="ident" id="4881272">ok</span>&nbsp;<span class="op" id="4881275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4881279">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881354">return</span>&nbsp;<span class="builtintype" id="4881361">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4881368">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881371">for</span>&nbsp;<span class="ident" id="4881375">i</span>&nbsp;<span class="op" id="4881377">:=</span>&nbsp;<span class="num" id="4881380">0</span><span class="op" id="4881381">;</span>&nbsp;<span class="ident" id="4881383">i</span>&nbsp;<span class="op" id="4881385">&lt;</span>&nbsp;<span class="ident" id="4881387">length</span><span class="op" id="4881393">;</span>&nbsp;<span class="ident" id="4881395">i</span><span class="op" id="4881396">++</span>&nbsp;<span class="op" id="4881399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881403">if</span>&nbsp;<span class="ident" id="4881406">state</span><span class="op" id="4881411">.</span><span class="ident" id="4881412">b</span><span class="op" id="4881413">.</span><span class="ident" id="4881414">Len</span><span class="op" id="4881417">(</span><span class="op" id="4881418">)</span>&nbsp;<span class="op" id="4881420">==</span>&nbsp;<span class="num" id="4881423">0</span>&nbsp;<span class="op" id="4881425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4881430">errorf</span><span class="op" id="4881436">(</span><span class="string" id="4881437">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4881508">,</span>&nbsp;<span class="ident" id="4881510">length</span><span class="op" id="4881516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4881520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4881524">x</span>&nbsp;<span class="op" id="4881526">:=</span>&nbsp;<span class="ident" id="4881529">state</span><span class="op" id="4881534">.</span><span class="ident" id="4881535">decodeInt</span><span class="op" id="4881544">(</span><span class="op" id="4881545">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881549">if</span>&nbsp;<span class="ident" id="4881552">x</span>&nbsp;<span class="op" id="4881554">&lt;</span>&nbsp;<span class="ident" id="4881556">math</span><span class="op" id="4881560">.</span><span class="ident" id="4881561">MinInt8</span>&nbsp;<span class="op" id="4881569">||</span>&nbsp;<span class="ident" id="4881572">math</span><span class="op" id="4881576">.</span><span class="ident" id="4881577">MaxInt8</span>&nbsp;<span class="op" id="4881585">&lt;</span>&nbsp;<span class="ident" id="4881587">x</span>&nbsp;<span class="op" id="4881589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4881594">error_</span><span class="op" id="4881600">(</span><span class="ident" id="4881601">ovfl</span><span class="op" id="4881605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4881609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4881613">slice</span><span class="op" id="4881618">[</span><span class="ident" id="4881619">i</span><span class="op" id="4881620">]</span>&nbsp;<span class="op" id="4881622">=</span>&nbsp;<span class="builtintype" id="4881624">int8</span><span class="op" id="4881628">(</span><span class="ident" id="4881629">x</span><span class="op" id="4881630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4881633">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881636">return</span>&nbsp;<span class="builtintype" id="4881643">true</span><br>
<span class="lineno"></span><span class="op" id="4881648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4881651">func</span>&nbsp;<span class="ident" id="4881656">decStringArray</span><span class="op" id="4881670">(</span><span class="ident" id="4881671">state</span>&nbsp;<span class="op" id="4881677">*</span><span class="ident" id="4881678">decoderState</span><span class="op" id="4881690">,</span>&nbsp;<span class="ident" id="4881692">v</span>&nbsp;<span class="ident" id="4881694">reflect</span><span class="op" id="4881701">.</span><span class="ident" id="4881702">Value</span><span class="op" id="4881707">,</span>&nbsp;<span class="ident" id="4881709">length</span>&nbsp;<span class="builtintype" id="4881716">int</span><span class="op" id="4881719">,</span>&nbsp;<span class="ident" id="4881721">ovfl</span>&nbsp;<span class="builtintype" id="4881726">error</span><span class="op" id="4881731">)</span>&nbsp;<span class="builtintype" id="4881733">bool</span>&nbsp;<span class="op" id="4881738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4881741">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881782">if</span>&nbsp;<span class="op" id="4881785">!</span><span class="ident" id="4881786">v</span><span class="op" id="4881787">.</span><span class="ident" id="4881788">CanAddr</span><span class="op" id="4881795">(</span><span class="op" id="4881796">)</span>&nbsp;<span class="op" id="4881798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881802">return</span>&nbsp;<span class="builtintype" id="4881809">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4881816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4881819">return</span>&nbsp;<span class="ident" id="4881826">decStringSlice</span><span class="op" id="4881840">(</span><span class="ident" id="4881841">state</span><span class="op" id="4881846">,</span>&nbsp;<span class="ident" id="4881848">v</span><span class="op" id="4881849">.</span><span class="ident" id="4881850">Slice</span><span class="op" id="4881855">(</span><span class="num" id="4881856">0</span><span class="op" id="4881857">,</span>&nbsp;<span class="ident" id="4881859">v</span><span class="op" id="4881860">.</span><span class="ident" id="4881861">Len</span><span class="op" id="4881864">(</span><span class="op" id="4881865">)</span><span class="op" id="4881866">)</span><span class="op" id="4881867">,</span>&nbsp;<span class="ident" id="4881869">length</span><span class="op" id="4881875">,</span>&nbsp;<span class="ident" id="4881877">ovfl</span><span class="op" id="4881881">)</span><br>
<span class="lineno"></span><span class="op" id="4881883">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="4881886">func</span>&nbsp;<span class="ident" id="4881891">decStringSlice</span><span class="op" id="4881905">(</span><span class="ident" id="4881906">state</span>&nbsp;<span class="op" id="4881912">*</span><span class="ident" id="4881913">decoderState</span><span class="op" id="4881925">,</span>&nbsp;<span class="ident" id="4881927">v</span>&nbsp;<span class="ident" id="4881929">reflect</span><span class="op" id="4881936">.</span><span class="ident" id="4881937">Value</span><span class="op" id="4881942">,</span>&nbsp;<span class="ident" id="4881944">length</span>&nbsp;<span class="builtintype" id="4881951">int</span><span class="op" id="4881954">,</span>&nbsp;<span class="ident" id="4881956">ovfl</span>&nbsp;<span class="builtintype" id="4881961">error</span><span class="op" id="4881966">)</span>&nbsp;<span class="builtintype" id="4881968">bool</span>&nbsp;<span class="op" id="4881973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4881976">slice</span><span class="op" id="4881981">,</span>&nbsp;<span class="ident" id="4881983">ok</span>&nbsp;<span class="op" id="4881986">:=</span>&nbsp;<span class="ident" id="4881989">v</span><span class="op" id="4881990">.</span><span class="ident" id="4881991">Interface</span><span class="op" id="4882000">(</span><span class="op" id="4882001">)</span><span class="op" id="4882002">.</span><span class="op" id="4882003">(</span><span class="op" id="4882004">[</span><span class="op" id="4882005">]</span><span class="builtintype" id="4882006">string</span><span class="op" id="4882012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882015">if</span>&nbsp;<span class="op" id="4882018">!</span><span class="ident" id="4882019">ok</span>&nbsp;<span class="op" id="4882022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4882026">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882105">return</span>&nbsp;<span class="builtintype" id="4882112">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4882119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882122">for</span>&nbsp;<span class="ident" id="4882126">i</span>&nbsp;<span class="op" id="4882128">:=</span>&nbsp;<span class="num" id="4882131">0</span><span class="op" id="4882132">;</span>&nbsp;<span class="ident" id="4882134">i</span>&nbsp;<span class="op" id="4882136">&lt;</span>&nbsp;<span class="ident" id="4882138">length</span><span class="op" id="4882144">;</span>&nbsp;<span class="ident" id="4882146">i</span><span class="op" id="4882147">++</span>&nbsp;<span class="op" id="4882150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882154">if</span>&nbsp;<span class="ident" id="4882157">state</span><span class="op" id="4882162">.</span><span class="ident" id="4882163">b</span><span class="op" id="4882164">.</span><span class="ident" id="4882165">Len</span><span class="op" id="4882168">(</span><span class="op" id="4882169">)</span>&nbsp;<span class="op" id="4882171">==</span>&nbsp;<span class="num" id="4882174">0</span>&nbsp;<span class="op" id="4882176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4882181">errorf</span><span class="op" id="4882187">(</span><span class="string" id="4882188">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4882261">,</span>&nbsp;<span class="ident" id="4882263">length</span><span class="op" id="4882269">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4882273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4882277">u</span>&nbsp;<span class="op" id="4882279">:=</span>&nbsp;<span class="ident" id="4882282">state</span><span class="op" id="4882287">.</span><span class="ident" id="4882288">decodeUint</span><span class="op" id="4882298">(</span><span class="op" id="4882299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4882303">n</span>&nbsp;<span class="op" id="4882305">:=</span>&nbsp;<span class="builtintype" id="4882308">int</span><span class="op" id="4882311">(</span><span class="ident" id="4882312">u</span><span class="op" id="4882313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882317">if</span>&nbsp;<span class="ident" id="4882320">n</span>&nbsp;<span class="op" id="4882322">&lt;</span>&nbsp;<span class="num" id="4882324">0</span>&nbsp;<span class="op" id="4882326">||</span>&nbsp;<span class="ident" id="4882329">uint64</span><span class="op" id="4882335">(</span><span class="ident" id="4882336">n</span><span class="op" id="4882337">)</span>&nbsp;<span class="op" id="4882339">!=</span>&nbsp;<span class="ident" id="4882342">u</span>&nbsp;<span class="op" id="4882344">||</span>&nbsp;<span class="ident" id="4882347">n</span>&nbsp;<span class="op" id="4882349">&gt;</span>&nbsp;<span class="ident" id="4882351">state</span><span class="op" id="4882356">.</span><span class="ident" id="4882357">b</span><span class="op" id="4882358">.</span><span class="ident" id="4882359">Len</span><span class="op" id="4882362">(</span><span class="op" id="4882363">)</span>&nbsp;<span class="op" id="4882365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4882370">errorf</span><span class="op" id="4882376">(</span><span class="string" id="4882377">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="4882425">,</span>&nbsp;<span class="ident" id="4882427">u</span><span class="op" id="4882428">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4882432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882436">if</span>&nbsp;<span class="ident" id="4882439">n</span>&nbsp;<span class="op" id="4882441">&gt;</span>&nbsp;<span class="ident" id="4882443">state</span><span class="op" id="4882448">.</span><span class="ident" id="4882449">b</span><span class="op" id="4882450">.</span><span class="ident" id="4882451">Len</span><span class="op" id="4882454">(</span><span class="op" id="4882455">)</span>&nbsp;<span class="op" id="4882457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4882462">errorf</span><span class="op" id="4882468">(</span><span class="string" id="4882469">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="4882506">,</span>&nbsp;<span class="ident" id="4882508">n</span><span class="op" id="4882509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4882513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4882517">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4882537">data</span>&nbsp;<span class="op" id="4882542">:=</span>&nbsp;<span class="builtinfunc" id="4882545">make</span><span class="op" id="4882549">(</span><span class="op" id="4882550">[</span><span class="op" id="4882551">]</span><span class="builtintype" id="4882552">byte</span><span class="op" id="4882556">,</span>&nbsp;<span class="ident" id="4882558">n</span><span class="op" id="4882559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882563">if</span>&nbsp;<span class="ident" id="4882566">_</span><span class="op" id="4882567">,</span>&nbsp;<span class="ident" id="4882569">err</span>&nbsp;<span class="op" id="4882573">:=</span>&nbsp;<span class="ident" id="4882576">state</span><span class="op" id="4882581">.</span><span class="ident" id="4882582">b</span><span class="op" id="4882583">.</span><span class="ident" id="4882584">Read</span><span class="op" id="4882588">(</span><span class="ident" id="4882589">data</span><span class="op" id="4882593">)</span><span class="op" id="4882594">;</span>&nbsp;<span class="ident" id="4882596">err</span>&nbsp;<span class="op" id="4882600">!=</span>&nbsp;<span class="ident" id="4882603">nil</span>&nbsp;<span class="op" id="4882607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4882612">errorf</span><span class="op" id="4882618">(</span><span class="string" id="4882619">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="4882646">,</span>&nbsp;<span class="ident" id="4882648">err</span><span class="op" id="4882651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4882655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4882659">slice</span><span class="op" id="4882664">[</span><span class="ident" id="4882665">i</span><span class="op" id="4882666">]</span>&nbsp;<span class="op" id="4882668">=</span>&nbsp;<span class="builtintype" id="4882670">string</span><span class="op" id="4882676">(</span><span class="ident" id="4882677">data</span><span class="op" id="4882681">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4882684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882687">return</span>&nbsp;<span class="builtintype" id="4882694">true</span><br>
<span class="lineno"></span><span class="op" id="4882699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4882702">func</span>&nbsp;<span class="ident" id="4882707">decUintArray</span><span class="op" id="4882719">(</span><span class="ident" id="4882720">state</span>&nbsp;<span class="op" id="4882726">*</span><span class="ident" id="4882727">decoderState</span><span class="op" id="4882739">,</span>&nbsp;<span class="ident" id="4882741">v</span>&nbsp;<span class="ident" id="4882743">reflect</span><span class="op" id="4882750">.</span><span class="ident" id="4882751">Value</span><span class="op" id="4882756">,</span>&nbsp;<span class="ident" id="4882758">length</span>&nbsp;<span class="builtintype" id="4882765">int</span><span class="op" id="4882768">,</span>&nbsp;<span class="ident" id="4882770">ovfl</span>&nbsp;<span class="builtintype" id="4882775">error</span><span class="op" id="4882780">)</span>&nbsp;<span class="builtintype" id="4882782">bool</span>&nbsp;<span class="op" id="4882787">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4882790">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882831">if</span>&nbsp;<span class="op" id="4882834">!</span><span class="ident" id="4882835">v</span><span class="op" id="4882836">.</span><span class="ident" id="4882837">CanAddr</span><span class="op" id="4882844">(</span><span class="op" id="4882845">)</span>&nbsp;<span class="op" id="4882847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882851">return</span>&nbsp;<span class="builtintype" id="4882858">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4882865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4882868">return</span>&nbsp;<span class="ident" id="4882875">decUintSlice</span><span class="op" id="4882887">(</span><span class="ident" id="4882888">state</span><span class="op" id="4882893">,</span>&nbsp;<span class="ident" id="4882895">v</span><span class="op" id="4882896">.</span><span class="ident" id="4882897">Slice</span><span class="op" id="4882902">(</span><span class="num" id="4882903">0</span><span class="op" id="4882904">,</span>&nbsp;<span class="ident" id="4882906">v</span><span class="op" id="4882907">.</span><span class="ident" id="4882908">Len</span><span class="op" id="4882911">(</span><span class="op" id="4882912">)</span><span class="op" id="4882913">)</span><span class="op" id="4882914">,</span>&nbsp;<span class="ident" id="4882916">length</span><span class="op" id="4882922">,</span>&nbsp;<span class="ident" id="4882924">ovfl</span><span class="op" id="4882928">)</span><br>
<span class="lineno">345</span><span class="op" id="4882930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4882933">func</span>&nbsp;<span class="ident" id="4882938">decUintSlice</span><span class="op" id="4882950">(</span><span class="ident" id="4882951">state</span>&nbsp;<span class="op" id="4882957">*</span><span class="ident" id="4882958">decoderState</span><span class="op" id="4882970">,</span>&nbsp;<span class="ident" id="4882972">v</span>&nbsp;<span class="ident" id="4882974">reflect</span><span class="op" id="4882981">.</span><span class="ident" id="4882982">Value</span><span class="op" id="4882987">,</span>&nbsp;<span class="ident" id="4882989">length</span>&nbsp;<span class="builtintype" id="4882996">int</span><span class="op" id="4882999">,</span>&nbsp;<span class="ident" id="4883001">ovfl</span>&nbsp;<span class="builtintype" id="4883006">error</span><span class="op" id="4883011">)</span>&nbsp;<span class="builtintype" id="4883013">bool</span>&nbsp;<span class="op" id="4883018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4883021">slice</span><span class="op" id="4883026">,</span>&nbsp;<span class="ident" id="4883028">ok</span>&nbsp;<span class="op" id="4883031">:=</span>&nbsp;<span class="ident" id="4883034">v</span><span class="op" id="4883035">.</span><span class="ident" id="4883036">Interface</span><span class="op" id="4883045">(</span><span class="op" id="4883046">)</span><span class="op" id="4883047">.</span><span class="op" id="4883048">(</span><span class="op" id="4883049">[</span><span class="op" id="4883050">]</span><span class="builtintype" id="4883051">uint</span><span class="op" id="4883055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883058">if</span>&nbsp;<span class="op" id="4883061">!</span><span class="ident" id="4883062">ok</span>&nbsp;<span class="op" id="4883065">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4883069">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883144">return</span>&nbsp;<span class="builtintype" id="4883151">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4883158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883161">for</span>&nbsp;<span class="ident" id="4883165">i</span>&nbsp;<span class="op" id="4883167">:=</span>&nbsp;<span class="num" id="4883170">0</span><span class="op" id="4883171">;</span>&nbsp;<span class="ident" id="4883173">i</span>&nbsp;<span class="op" id="4883175">&lt;</span>&nbsp;<span class="ident" id="4883177">length</span><span class="op" id="4883183">;</span>&nbsp;<span class="ident" id="4883185">i</span><span class="op" id="4883186">++</span>&nbsp;<span class="op" id="4883189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883193">if</span>&nbsp;<span class="ident" id="4883196">state</span><span class="op" id="4883201">.</span><span class="ident" id="4883202">b</span><span class="op" id="4883203">.</span><span class="ident" id="4883204">Len</span><span class="op" id="4883207">(</span><span class="op" id="4883208">)</span>&nbsp;<span class="op" id="4883210">==</span>&nbsp;<span class="num" id="4883213">0</span>&nbsp;<span class="op" id="4883215">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4883220">errorf</span><span class="op" id="4883226">(</span><span class="string" id="4883227">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4883298">,</span>&nbsp;<span class="ident" id="4883300">length</span><span class="op" id="4883306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4883310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4883314">x</span>&nbsp;<span class="op" id="4883316">:=</span>&nbsp;<span class="ident" id="4883319">state</span><span class="op" id="4883324">.</span><span class="ident" id="4883325">decodeUint</span><span class="op" id="4883335">(</span><span class="op" id="4883336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4883340">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4883395">slice</span><span class="op" id="4883400">[</span><span class="ident" id="4883401">i</span><span class="op" id="4883402">]</span>&nbsp;<span class="op" id="4883404">=</span>&nbsp;<span class="builtintype" id="4883406">uint</span><span class="op" id="4883410">(</span><span class="ident" id="4883411">x</span><span class="op" id="4883412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4883415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883418">return</span>&nbsp;<span class="builtintype" id="4883425">true</span><br>
<span class="lineno"></span><span class="op" id="4883430">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="4883433">func</span>&nbsp;<span class="ident" id="4883438">decUint16Array</span><span class="op" id="4883452">(</span><span class="ident" id="4883453">state</span>&nbsp;<span class="op" id="4883459">*</span><span class="ident" id="4883460">decoderState</span><span class="op" id="4883472">,</span>&nbsp;<span class="ident" id="4883474">v</span>&nbsp;<span class="ident" id="4883476">reflect</span><span class="op" id="4883483">.</span><span class="ident" id="4883484">Value</span><span class="op" id="4883489">,</span>&nbsp;<span class="ident" id="4883491">length</span>&nbsp;<span class="builtintype" id="4883498">int</span><span class="op" id="4883501">,</span>&nbsp;<span class="ident" id="4883503">ovfl</span>&nbsp;<span class="builtintype" id="4883508">error</span><span class="op" id="4883513">)</span>&nbsp;<span class="builtintype" id="4883515">bool</span>&nbsp;<span class="op" id="4883520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4883523">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883564">if</span>&nbsp;<span class="op" id="4883567">!</span><span class="ident" id="4883568">v</span><span class="op" id="4883569">.</span><span class="ident" id="4883570">CanAddr</span><span class="op" id="4883577">(</span><span class="op" id="4883578">)</span>&nbsp;<span class="op" id="4883580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883584">return</span>&nbsp;<span class="builtintype" id="4883591">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4883598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883601">return</span>&nbsp;<span class="ident" id="4883608">decUint16Slice</span><span class="op" id="4883622">(</span><span class="ident" id="4883623">state</span><span class="op" id="4883628">,</span>&nbsp;<span class="ident" id="4883630">v</span><span class="op" id="4883631">.</span><span class="ident" id="4883632">Slice</span><span class="op" id="4883637">(</span><span class="num" id="4883638">0</span><span class="op" id="4883639">,</span>&nbsp;<span class="ident" id="4883641">v</span><span class="op" id="4883642">.</span><span class="ident" id="4883643">Len</span><span class="op" id="4883646">(</span><span class="op" id="4883647">)</span><span class="op" id="4883648">)</span><span class="op" id="4883649">,</span>&nbsp;<span class="ident" id="4883651">length</span><span class="op" id="4883657">,</span>&nbsp;<span class="ident" id="4883659">ovfl</span><span class="op" id="4883663">)</span><br>
<span class="lineno"></span><span class="op" id="4883665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4883668">func</span>&nbsp;<span class="ident" id="4883673">decUint16Slice</span><span class="op" id="4883687">(</span><span class="ident" id="4883688">state</span>&nbsp;<span class="op" id="4883694">*</span><span class="ident" id="4883695">decoderState</span><span class="op" id="4883707">,</span>&nbsp;<span class="ident" id="4883709">v</span>&nbsp;<span class="ident" id="4883711">reflect</span><span class="op" id="4883718">.</span><span class="ident" id="4883719">Value</span><span class="op" id="4883724">,</span>&nbsp;<span class="ident" id="4883726">length</span>&nbsp;<span class="builtintype" id="4883733">int</span><span class="op" id="4883736">,</span>&nbsp;<span class="ident" id="4883738">ovfl</span>&nbsp;<span class="builtintype" id="4883743">error</span><span class="op" id="4883748">)</span>&nbsp;<span class="builtintype" id="4883750">bool</span>&nbsp;<span class="op" id="4883755">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4883758">slice</span><span class="op" id="4883763">,</span>&nbsp;<span class="ident" id="4883765">ok</span>&nbsp;<span class="op" id="4883768">:=</span>&nbsp;<span class="ident" id="4883771">v</span><span class="op" id="4883772">.</span><span class="ident" id="4883773">Interface</span><span class="op" id="4883782">(</span><span class="op" id="4883783">)</span><span class="op" id="4883784">.</span><span class="op" id="4883785">(</span><span class="op" id="4883786">[</span><span class="op" id="4883787">]</span><span class="builtintype" id="4883788">uint16</span><span class="op" id="4883794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883797">if</span>&nbsp;<span class="op" id="4883800">!</span><span class="ident" id="4883801">ok</span>&nbsp;<span class="op" id="4883804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4883808">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883887">return</span>&nbsp;<span class="builtintype" id="4883894">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4883901">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883904">for</span>&nbsp;<span class="ident" id="4883908">i</span>&nbsp;<span class="op" id="4883910">:=</span>&nbsp;<span class="num" id="4883913">0</span><span class="op" id="4883914">;</span>&nbsp;<span class="ident" id="4883916">i</span>&nbsp;<span class="op" id="4883918">&lt;</span>&nbsp;<span class="ident" id="4883920">length</span><span class="op" id="4883926">;</span>&nbsp;<span class="ident" id="4883928">i</span><span class="op" id="4883929">++</span>&nbsp;<span class="op" id="4883932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4883936">if</span>&nbsp;<span class="ident" id="4883939">state</span><span class="op" id="4883944">.</span><span class="ident" id="4883945">b</span><span class="op" id="4883946">.</span><span class="ident" id="4883947">Len</span><span class="op" id="4883950">(</span><span class="op" id="4883951">)</span>&nbsp;<span class="op" id="4883953">==</span>&nbsp;<span class="num" id="4883956">0</span>&nbsp;<span class="op" id="4883958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4883963">errorf</span><span class="op" id="4883969">(</span><span class="string" id="4883970">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4884043">,</span>&nbsp;<span class="ident" id="4884045">length</span><span class="op" id="4884051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4884055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4884059">x</span>&nbsp;<span class="op" id="4884061">:=</span>&nbsp;<span class="ident" id="4884064">state</span><span class="op" id="4884069">.</span><span class="ident" id="4884070">decodeUint</span><span class="op" id="4884080">(</span><span class="op" id="4884081">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884085">if</span>&nbsp;<span class="ident" id="4884088">math</span><span class="op" id="4884092">.</span><span class="ident" id="4884093">MaxUint16</span>&nbsp;<span class="op" id="4884103">&lt;</span>&nbsp;<span class="ident" id="4884105">x</span>&nbsp;<span class="op" id="4884107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4884112">error_</span><span class="op" id="4884118">(</span><span class="ident" id="4884119">ovfl</span><span class="op" id="4884123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4884127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4884131">slice</span><span class="op" id="4884136">[</span><span class="ident" id="4884137">i</span><span class="op" id="4884138">]</span>&nbsp;<span class="op" id="4884140">=</span>&nbsp;<span class="builtintype" id="4884142">uint16</span><span class="op" id="4884148">(</span><span class="ident" id="4884149">x</span><span class="op" id="4884150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4884153">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884156">return</span>&nbsp;<span class="builtintype" id="4884163">true</span><br>
<span class="lineno"></span><span class="op" id="4884168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4884171">func</span>&nbsp;<span class="ident" id="4884176">decUint32Array</span><span class="op" id="4884190">(</span><span class="ident" id="4884191">state</span>&nbsp;<span class="op" id="4884197">*</span><span class="ident" id="4884198">decoderState</span><span class="op" id="4884210">,</span>&nbsp;<span class="ident" id="4884212">v</span>&nbsp;<span class="ident" id="4884214">reflect</span><span class="op" id="4884221">.</span><span class="ident" id="4884222">Value</span><span class="op" id="4884227">,</span>&nbsp;<span class="ident" id="4884229">length</span>&nbsp;<span class="builtintype" id="4884236">int</span><span class="op" id="4884239">,</span>&nbsp;<span class="ident" id="4884241">ovfl</span>&nbsp;<span class="builtintype" id="4884246">error</span><span class="op" id="4884251">)</span>&nbsp;<span class="builtintype" id="4884253">bool</span>&nbsp;<span class="op" id="4884258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4884261">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884302">if</span>&nbsp;<span class="op" id="4884305">!</span><span class="ident" id="4884306">v</span><span class="op" id="4884307">.</span><span class="ident" id="4884308">CanAddr</span><span class="op" id="4884315">(</span><span class="op" id="4884316">)</span>&nbsp;<span class="op" id="4884318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884322">return</span>&nbsp;<span class="builtintype" id="4884329">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4884336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884339">return</span>&nbsp;<span class="ident" id="4884346">decUint32Slice</span><span class="op" id="4884360">(</span><span class="ident" id="4884361">state</span><span class="op" id="4884366">,</span>&nbsp;<span class="ident" id="4884368">v</span><span class="op" id="4884369">.</span><span class="ident" id="4884370">Slice</span><span class="op" id="4884375">(</span><span class="num" id="4884376">0</span><span class="op" id="4884377">,</span>&nbsp;<span class="ident" id="4884379">v</span><span class="op" id="4884380">.</span><span class="ident" id="4884381">Len</span><span class="op" id="4884384">(</span><span class="op" id="4884385">)</span><span class="op" id="4884386">)</span><span class="op" id="4884387">,</span>&nbsp;<span class="ident" id="4884389">length</span><span class="op" id="4884395">,</span>&nbsp;<span class="ident" id="4884397">ovfl</span><span class="op" id="4884401">)</span><br>
<span class="lineno"></span><span class="op" id="4884403">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="4884406">func</span>&nbsp;<span class="ident" id="4884411">decUint32Slice</span><span class="op" id="4884425">(</span><span class="ident" id="4884426">state</span>&nbsp;<span class="op" id="4884432">*</span><span class="ident" id="4884433">decoderState</span><span class="op" id="4884445">,</span>&nbsp;<span class="ident" id="4884447">v</span>&nbsp;<span class="ident" id="4884449">reflect</span><span class="op" id="4884456">.</span><span class="ident" id="4884457">Value</span><span class="op" id="4884462">,</span>&nbsp;<span class="ident" id="4884464">length</span>&nbsp;<span class="builtintype" id="4884471">int</span><span class="op" id="4884474">,</span>&nbsp;<span class="ident" id="4884476">ovfl</span>&nbsp;<span class="builtintype" id="4884481">error</span><span class="op" id="4884486">)</span>&nbsp;<span class="builtintype" id="4884488">bool</span>&nbsp;<span class="op" id="4884493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4884496">slice</span><span class="op" id="4884501">,</span>&nbsp;<span class="ident" id="4884503">ok</span>&nbsp;<span class="op" id="4884506">:=</span>&nbsp;<span class="ident" id="4884509">v</span><span class="op" id="4884510">.</span><span class="ident" id="4884511">Interface</span><span class="op" id="4884520">(</span><span class="op" id="4884521">)</span><span class="op" id="4884522">.</span><span class="op" id="4884523">(</span><span class="op" id="4884524">[</span><span class="op" id="4884525">]</span><span class="builtintype" id="4884526">uint32</span><span class="op" id="4884532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884535">if</span>&nbsp;<span class="op" id="4884538">!</span><span class="ident" id="4884539">ok</span>&nbsp;<span class="op" id="4884542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4884546">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884625">return</span>&nbsp;<span class="builtintype" id="4884632">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4884639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884642">for</span>&nbsp;<span class="ident" id="4884646">i</span>&nbsp;<span class="op" id="4884648">:=</span>&nbsp;<span class="num" id="4884651">0</span><span class="op" id="4884652">;</span>&nbsp;<span class="ident" id="4884654">i</span>&nbsp;<span class="op" id="4884656">&lt;</span>&nbsp;<span class="ident" id="4884658">length</span><span class="op" id="4884664">;</span>&nbsp;<span class="ident" id="4884666">i</span><span class="op" id="4884667">++</span>&nbsp;<span class="op" id="4884670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884674">if</span>&nbsp;<span class="ident" id="4884677">state</span><span class="op" id="4884682">.</span><span class="ident" id="4884683">b</span><span class="op" id="4884684">.</span><span class="ident" id="4884685">Len</span><span class="op" id="4884688">(</span><span class="op" id="4884689">)</span>&nbsp;<span class="op" id="4884691">==</span>&nbsp;<span class="num" id="4884694">0</span>&nbsp;<span class="op" id="4884696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4884701">errorf</span><span class="op" id="4884707">(</span><span class="string" id="4884708">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4884781">,</span>&nbsp;<span class="ident" id="4884783">length</span><span class="op" id="4884789">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4884793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4884797">x</span>&nbsp;<span class="op" id="4884799">:=</span>&nbsp;<span class="ident" id="4884802">state</span><span class="op" id="4884807">.</span><span class="ident" id="4884808">decodeUint</span><span class="op" id="4884818">(</span><span class="op" id="4884819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884823">if</span>&nbsp;<span class="ident" id="4884826">math</span><span class="op" id="4884830">.</span><span class="ident" id="4884831">MaxUint32</span>&nbsp;<span class="op" id="4884841">&lt;</span>&nbsp;<span class="ident" id="4884843">x</span>&nbsp;<span class="op" id="4884845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4884850">error_</span><span class="op" id="4884856">(</span><span class="ident" id="4884857">ovfl</span><span class="op" id="4884861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4884865">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4884869">slice</span><span class="op" id="4884874">[</span><span class="ident" id="4884875">i</span><span class="op" id="4884876">]</span>&nbsp;<span class="op" id="4884878">=</span>&nbsp;<span class="builtintype" id="4884880">uint32</span><span class="op" id="4884886">(</span><span class="ident" id="4884887">x</span><span class="op" id="4884888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4884891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4884894">return</span>&nbsp;<span class="builtintype" id="4884901">true</span><br>
<span class="lineno"></span><span class="op" id="4884906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="4884909">func</span>&nbsp;<span class="ident" id="4884914">decUint64Array</span><span class="op" id="4884928">(</span><span class="ident" id="4884929">state</span>&nbsp;<span class="op" id="4884935">*</span><span class="ident" id="4884936">decoderState</span><span class="op" id="4884948">,</span>&nbsp;<span class="ident" id="4884950">v</span>&nbsp;<span class="ident" id="4884952">reflect</span><span class="op" id="4884959">.</span><span class="ident" id="4884960">Value</span><span class="op" id="4884965">,</span>&nbsp;<span class="ident" id="4884967">length</span>&nbsp;<span class="builtintype" id="4884974">int</span><span class="op" id="4884977">,</span>&nbsp;<span class="ident" id="4884979">ovfl</span>&nbsp;<span class="builtintype" id="4884984">error</span><span class="op" id="4884989">)</span>&nbsp;<span class="builtintype" id="4884991">bool</span>&nbsp;<span class="op" id="4884996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4884999">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885040">if</span>&nbsp;<span class="op" id="4885043">!</span><span class="ident" id="4885044">v</span><span class="op" id="4885045">.</span><span class="ident" id="4885046">CanAddr</span><span class="op" id="4885053">(</span><span class="op" id="4885054">)</span>&nbsp;<span class="op" id="4885056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885060">return</span>&nbsp;<span class="builtintype" id="4885067">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4885074">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885077">return</span>&nbsp;<span class="ident" id="4885084">decUint64Slice</span><span class="op" id="4885098">(</span><span class="ident" id="4885099">state</span><span class="op" id="4885104">,</span>&nbsp;<span class="ident" id="4885106">v</span><span class="op" id="4885107">.</span><span class="ident" id="4885108">Slice</span><span class="op" id="4885113">(</span><span class="num" id="4885114">0</span><span class="op" id="4885115">,</span>&nbsp;<span class="ident" id="4885117">v</span><span class="op" id="4885118">.</span><span class="ident" id="4885119">Len</span><span class="op" id="4885122">(</span><span class="op" id="4885123">)</span><span class="op" id="4885124">)</span><span class="op" id="4885125">,</span>&nbsp;<span class="ident" id="4885127">length</span><span class="op" id="4885133">,</span>&nbsp;<span class="ident" id="4885135">ovfl</span><span class="op" id="4885139">)</span><br>
<span class="lineno"></span><span class="op" id="4885141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4885144">func</span>&nbsp;<span class="ident" id="4885149">decUint64Slice</span><span class="op" id="4885163">(</span><span class="ident" id="4885164">state</span>&nbsp;<span class="op" id="4885170">*</span><span class="ident" id="4885171">decoderState</span><span class="op" id="4885183">,</span>&nbsp;<span class="ident" id="4885185">v</span>&nbsp;<span class="ident" id="4885187">reflect</span><span class="op" id="4885194">.</span><span class="ident" id="4885195">Value</span><span class="op" id="4885200">,</span>&nbsp;<span class="ident" id="4885202">length</span>&nbsp;<span class="builtintype" id="4885209">int</span><span class="op" id="4885212">,</span>&nbsp;<span class="ident" id="4885214">ovfl</span>&nbsp;<span class="builtintype" id="4885219">error</span><span class="op" id="4885224">)</span>&nbsp;<span class="builtintype" id="4885226">bool</span>&nbsp;<span class="op" id="4885231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4885234">slice</span><span class="op" id="4885239">,</span>&nbsp;<span class="ident" id="4885241">ok</span>&nbsp;<span class="op" id="4885244">:=</span>&nbsp;<span class="ident" id="4885247">v</span><span class="op" id="4885248">.</span><span class="ident" id="4885249">Interface</span><span class="op" id="4885258">(</span><span class="op" id="4885259">)</span><span class="op" id="4885260">.</span><span class="op" id="4885261">(</span><span class="op" id="4885262">[</span><span class="op" id="4885263">]</span><span class="ident" id="4885264">uint64</span><span class="op" id="4885270">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885273">if</span>&nbsp;<span class="op" id="4885276">!</span><span class="ident" id="4885277">ok</span>&nbsp;<span class="op" id="4885280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4885284">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885363">return</span>&nbsp;<span class="builtintype" id="4885370">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4885377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885380">for</span>&nbsp;<span class="ident" id="4885384">i</span>&nbsp;<span class="op" id="4885386">:=</span>&nbsp;<span class="num" id="4885389">0</span><span class="op" id="4885390">;</span>&nbsp;<span class="ident" id="4885392">i</span>&nbsp;<span class="op" id="4885394">&lt;</span>&nbsp;<span class="ident" id="4885396">length</span><span class="op" id="4885402">;</span>&nbsp;<span class="ident" id="4885404">i</span><span class="op" id="4885405">++</span>&nbsp;<span class="op" id="4885408">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885412">if</span>&nbsp;<span class="ident" id="4885415">state</span><span class="op" id="4885420">.</span><span class="ident" id="4885421">b</span><span class="op" id="4885422">.</span><span class="ident" id="4885423">Len</span><span class="op" id="4885426">(</span><span class="op" id="4885427">)</span>&nbsp;<span class="op" id="4885429">==</span>&nbsp;<span class="num" id="4885432">0</span>&nbsp;<span class="op" id="4885434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4885439">errorf</span><span class="op" id="4885445">(</span><span class="string" id="4885446">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4885519">,</span>&nbsp;<span class="ident" id="4885521">length</span><span class="op" id="4885527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4885531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4885535">slice</span><span class="op" id="4885540">[</span><span class="ident" id="4885541">i</span><span class="op" id="4885542">]</span>&nbsp;<span class="op" id="4885544">=</span>&nbsp;<span class="ident" id="4885546">state</span><span class="op" id="4885551">.</span><span class="ident" id="4885552">decodeUint</span><span class="op" id="4885562">(</span><span class="op" id="4885563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4885566">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885569">return</span>&nbsp;<span class="builtintype" id="4885576">true</span><br>
<span class="lineno"></span><span class="op" id="4885581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4885584">func</span>&nbsp;<span class="ident" id="4885589">decUintptrArray</span><span class="op" id="4885604">(</span><span class="ident" id="4885605">state</span>&nbsp;<span class="op" id="4885611">*</span><span class="ident" id="4885612">decoderState</span><span class="op" id="4885624">,</span>&nbsp;<span class="ident" id="4885626">v</span>&nbsp;<span class="ident" id="4885628">reflect</span><span class="op" id="4885635">.</span><span class="ident" id="4885636">Value</span><span class="op" id="4885641">,</span>&nbsp;<span class="ident" id="4885643">length</span>&nbsp;<span class="builtintype" id="4885650">int</span><span class="op" id="4885653">,</span>&nbsp;<span class="ident" id="4885655">ovfl</span>&nbsp;<span class="builtintype" id="4885660">error</span><span class="op" id="4885665">)</span>&nbsp;<span class="builtintype" id="4885667">bool</span>&nbsp;<span class="op" id="4885672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4885675">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885716">if</span>&nbsp;<span class="op" id="4885719">!</span><span class="ident" id="4885720">v</span><span class="op" id="4885721">.</span><span class="ident" id="4885722">CanAddr</span><span class="op" id="4885729">(</span><span class="op" id="4885730">)</span>&nbsp;<span class="op" id="4885732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885736">return</span>&nbsp;<span class="builtintype" id="4885743">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4885750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885753">return</span>&nbsp;<span class="ident" id="4885760">decUintptrSlice</span><span class="op" id="4885775">(</span><span class="ident" id="4885776">state</span><span class="op" id="4885781">,</span>&nbsp;<span class="ident" id="4885783">v</span><span class="op" id="4885784">.</span><span class="ident" id="4885785">Slice</span><span class="op" id="4885790">(</span><span class="num" id="4885791">0</span><span class="op" id="4885792">,</span>&nbsp;<span class="ident" id="4885794">v</span><span class="op" id="4885795">.</span><span class="ident" id="4885796">Len</span><span class="op" id="4885799">(</span><span class="op" id="4885800">)</span><span class="op" id="4885801">)</span><span class="op" id="4885802">,</span>&nbsp;<span class="ident" id="4885804">length</span><span class="op" id="4885810">,</span>&nbsp;<span class="ident" id="4885812">ovfl</span><span class="op" id="4885816">)</span><br>
<span class="lineno"></span><span class="op" id="4885818">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="4885821">func</span>&nbsp;<span class="ident" id="4885826">decUintptrSlice</span><span class="op" id="4885841">(</span><span class="ident" id="4885842">state</span>&nbsp;<span class="op" id="4885848">*</span><span class="ident" id="4885849">decoderState</span><span class="op" id="4885861">,</span>&nbsp;<span class="ident" id="4885863">v</span>&nbsp;<span class="ident" id="4885865">reflect</span><span class="op" id="4885872">.</span><span class="ident" id="4885873">Value</span><span class="op" id="4885878">,</span>&nbsp;<span class="ident" id="4885880">length</span>&nbsp;<span class="builtintype" id="4885887">int</span><span class="op" id="4885890">,</span>&nbsp;<span class="ident" id="4885892">ovfl</span>&nbsp;<span class="builtintype" id="4885897">error</span><span class="op" id="4885902">)</span>&nbsp;<span class="builtintype" id="4885904">bool</span>&nbsp;<span class="op" id="4885909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4885912">slice</span><span class="op" id="4885917">,</span>&nbsp;<span class="ident" id="4885919">ok</span>&nbsp;<span class="op" id="4885922">:=</span>&nbsp;<span class="ident" id="4885925">v</span><span class="op" id="4885926">.</span><span class="ident" id="4885927">Interface</span><span class="op" id="4885936">(</span><span class="op" id="4885937">)</span><span class="op" id="4885938">.</span><span class="op" id="4885939">(</span><span class="op" id="4885940">[</span><span class="op" id="4885941">]</span><span class="builtintype" id="4885942">uintptr</span><span class="op" id="4885949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4885952">if</span>&nbsp;<span class="op" id="4885955">!</span><span class="ident" id="4885956">ok</span>&nbsp;<span class="op" id="4885959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4885963">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4886044">return</span>&nbsp;<span class="builtintype" id="4886051">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4886058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4886061">for</span>&nbsp;<span class="ident" id="4886065">i</span>&nbsp;<span class="op" id="4886067">:=</span>&nbsp;<span class="num" id="4886070">0</span><span class="op" id="4886071">;</span>&nbsp;<span class="ident" id="4886073">i</span>&nbsp;<span class="op" id="4886075">&lt;</span>&nbsp;<span class="ident" id="4886077">length</span><span class="op" id="4886083">;</span>&nbsp;<span class="ident" id="4886085">i</span><span class="op" id="4886086">++</span>&nbsp;<span class="op" id="4886089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4886093">if</span>&nbsp;<span class="ident" id="4886096">state</span><span class="op" id="4886101">.</span><span class="ident" id="4886102">b</span><span class="op" id="4886103">.</span><span class="ident" id="4886104">Len</span><span class="op" id="4886107">(</span><span class="op" id="4886108">)</span>&nbsp;<span class="op" id="4886110">==</span>&nbsp;<span class="num" id="4886113">0</span>&nbsp;<span class="op" id="4886115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4886120">errorf</span><span class="op" id="4886126">(</span><span class="string" id="4886127">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4886201">,</span>&nbsp;<span class="ident" id="4886203">length</span><span class="op" id="4886209">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4886213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4886217">x</span>&nbsp;<span class="op" id="4886219">:=</span>&nbsp;<span class="ident" id="4886222">state</span><span class="op" id="4886227">.</span><span class="ident" id="4886228">decodeUint</span><span class="op" id="4886238">(</span><span class="op" id="4886239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4886243">if</span>&nbsp;<span class="ident" id="4886246">uint64</span><span class="op" id="4886252">(</span><span class="op" id="4886253">^</span><span class="builtintype" id="4886254">uintptr</span><span class="op" id="4886261">(</span><span class="num" id="4886262">0</span><span class="op" id="4886263">)</span><span class="op" id="4886264">)</span>&nbsp;<span class="op" id="4886266">&lt;</span>&nbsp;<span class="ident" id="4886268">x</span>&nbsp;<span class="op" id="4886270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4886275">error_</span><span class="op" id="4886281">(</span><span class="ident" id="4886282">ovfl</span><span class="op" id="4886286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4886290">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4886294">slice</span><span class="op" id="4886299">[</span><span class="ident" id="4886300">i</span><span class="op" id="4886301">]</span>&nbsp;<span class="op" id="4886303">=</span>&nbsp;<span class="builtintype" id="4886305">uintptr</span><span class="op" id="4886312">(</span><span class="ident" id="4886313">x</span><span class="op" id="4886314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4886317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4886320">return</span>&nbsp;<span class="builtintype" id="4886327">true</span><br>
<span class="lineno"></span><span class="op" id="4886332">}</span>
</div>
</body>
</html>
