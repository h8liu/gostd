<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math</h2>
<ul>
<li><a href="/gostd/math/abs.go.html">abs.go</a></li>
<li><a href="/gostd/math/acosh.go.html">acosh.go</a></li>
<li><a href="/gostd/math/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/math/asin.go.html">asin.go</a></li>
<li><a href="/gostd/math/asinh.go.html">asinh.go</a></li>
<li><a href="/gostd/math/atan.go.html">atan.go</a></li>
<li><a href="/gostd/math/atan2.go.html">atan2.go</a></li>
<li><a href="/gostd/math/atanh.go.html">atanh.go</a></li>
<li><a href="/gostd/math/bits.go.html">bits.go</a></li>
<li><a href="/gostd/math/cbrt.go.html">cbrt.go</a></li>
<li><a href="/gostd/math/const.go.html">const.go</a></li>
<li><a href="/gostd/math/copysign.go.html">copysign.go</a></li>
<li><a href="/gostd/math/dim.go.html">dim.go</a></li>
<li><a href="/gostd/math/erf.go.html">erf.go</a></li>
<li><a href="/gostd/math/exp.go.html">exp.go</a></li>
<li><a href="/gostd/math/expm1.go.html">expm1.go</a></li>
<li><a href="/gostd/math/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/math/floor.go.html">floor.go</a></li>
<li><a href="/gostd/math/frexp.go.html">frexp.go</a></li>
<li><a href="/gostd/math/gamma.go.html">gamma.go</a></li>
<li><a href="/gostd/math/hypot.go.html">hypot.go</a></li>
<li><a href="/gostd/math/j0.go.html">j0.go</a></li>
<li><a href="/gostd/math/j1.go.html">j1.go</a></li>
<li><a href="/gostd/math/jn.go.html">jn.go</a></li>
<li><a href="/gostd/math/ldexp.go.html">ldexp.go</a></li>
<li><a href="/gostd/math/lgamma.go.html">lgamma.go</a></li>
<li><a href="/gostd/math/log.go.html">log.go</a></li>
<li><a href="/gostd/math/log10.go.html">log10.go</a></li>
<li><a href="/gostd/math/log1p.go.html">log1p.go</a></li>
<li><a href="/gostd/math/logb.go.html">logb.go</a></li>
<li><a href="/gostd/math/mod.go.html">mod.go</a></li>
<li><a href="/gostd/math/modf.go.html">modf.go</a></li>
<li><a href="/gostd/math/nextafter.go.html">nextafter.go</a></li>
<li><a href="/gostd/math/pow.go.html">pow.go</a></li>
<li><a href="/gostd/math/pow10.go.html">pow10.go</a></li>
<li><a href="/gostd/math/remainder.go.html">remainder.go</a></li>
<li><a href="/gostd/math/signbit.go.html">signbit.go</a></li>
<li><a href="/gostd/math/sin.go.html">sin.go</a></li>
<li><a href="/gostd/math/sincos.go.html">sincos.go</a></li>
<li><a href="/gostd/math/sinh.go.html">sinh.go</a></li>
<li><a href="/gostd/math/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/math/tan.go.html">tan.go</a></li>
<li><a href="/gostd/math/tanh.go.html">tanh.go</a></li>
<li><a href="/gostd/math/unsafe.go.html">unsafe.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1815578">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1815633">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1815687">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1815738">package</span>&nbsp;<span class="ident" id="1815746">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1815752">//&nbsp;Atan2&nbsp;returns&nbsp;the&nbsp;arc&nbsp;tangent&nbsp;of&nbsp;y/x,&nbsp;using</span><br>
<span class="lineno"></span><span class="comment" id="1815799">//&nbsp;the&nbsp;signs&nbsp;of&nbsp;the&nbsp;two&nbsp;to&nbsp;determine&nbsp;the&nbsp;quadrant</span><br>
<span class="lineno"></span><span class="comment" id="1815849">//&nbsp;of&nbsp;the&nbsp;return&nbsp;value.</span><br>
<span class="lineno">10</span><span class="comment" id="1815873">//</span><br>
<span class="lineno"></span><span class="comment" id="1815876">//&nbsp;Special&nbsp;cases&nbsp;are&nbsp;(in&nbsp;order):</span><br>
<span class="lineno"></span><span class="comment" id="1815909">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1815932">//&nbsp;&nbsp;&nbsp;&nbspAtan2(NaN,&nbsp;x)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1815955">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+0,&nbsp;x&gt;=0)&nbsp;=&nbsp;+0</span><br>
<span class="lineno">15</span><span class="comment" id="1815979">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-0,&nbsp;x&gt;=0)&nbsp;=&nbsp;-0</span><br>
<span class="lineno"></span><span class="comment" id="1816003">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+0,&nbsp;x&lt;=-0)&nbsp;=&nbsp;+Pi</span><br>
<span class="lineno"></span><span class="comment" id="1816029">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-0,&nbsp;x&lt;=-0)&nbsp;=&nbsp;-Pi</span><br>
<span class="lineno"></span><span class="comment" id="1816055">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&gt;0,&nbsp;0)&nbsp;=&nbsp;+Pi/2</span><br>
<span class="lineno"></span><span class="comment" id="1816080">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&lt;0,&nbsp;0)&nbsp;=&nbsp;-Pi/2</span><br>
<span class="lineno">20</span><span class="comment" id="1816105">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;+Inf)&nbsp;=&nbsp;+Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="1816134">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;+Inf)&nbsp;=&nbsp;-Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="1816163">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;-Inf)&nbsp;=&nbsp;3Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="1816192">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;-Inf)&nbsp;=&nbsp;-3Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="1816222">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y,&nbsp;+Inf)&nbsp;=&nbsp;0</span><br>
<span class="lineno">25</span><span class="comment" id="1816244">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&gt;0,&nbsp;-Inf)&nbsp;=&nbsp;+Pi</span><br>
<span class="lineno"></span><span class="comment" id="1816270">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&lt;0,&nbsp;-Inf)&nbsp;=&nbsp;-Pi</span><br>
<span class="lineno"></span><span class="comment" id="1816296">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;x)&nbsp;=&nbsp;+Pi/2</span><br>
<span class="lineno"></span><span class="comment" id="1816322">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;x)&nbsp;=&nbsp;-Pi/2</span><br>
<span class="lineno"></span><span class="keyword" id="1816348">func</span>&nbsp;<span class="ident" id="1816353">Atan2</span><span class="op" id="1816358">(</span><span class="ident" id="1816359">y</span><span class="op" id="1816360">,</span>&nbsp;<span class="ident" id="1816362">x</span>&nbsp;<span class="builtintype" id="1816364">float64</span><span class="op" id="1816371">)</span>&nbsp;<span class="builtintype" id="1816373">float64</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="1816382">func</span>&nbsp;<span class="ident" id="1816387">atan2</span><span class="op" id="1816392">(</span><span class="ident" id="1816393">y</span><span class="op" id="1816394">,</span>&nbsp;<span class="ident" id="1816396">x</span>&nbsp;<span class="builtintype" id="1816398">float64</span><span class="op" id="1816405">)</span>&nbsp;<span class="builtintype" id="1816407">float64</span>&nbsp;<span class="op" id="1816415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1816418">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816436">switch</span>&nbsp;<span class="op" id="1816443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816446">case</span>&nbsp;<span class="ident" id="1816451">IsNaN</span><span class="op" id="1816456">(</span><span class="ident" id="1816457">y</span><span class="op" id="1816458">)</span>&nbsp;<span class="op" id="1816460">||</span>&nbsp;<span class="ident" id="1816463">IsNaN</span><span class="op" id="1816468">(</span><span class="ident" id="1816469">x</span><span class="op" id="1816470">)</span><span class="op" id="1816471">:</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816475">return</span>&nbsp;<span class="ident" id="1816482">NaN</span><span class="op" id="1816485">(</span><span class="op" id="1816486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816489">case</span>&nbsp;<span class="ident" id="1816494">y</span>&nbsp;<span class="op" id="1816496">==</span>&nbsp;<span class="num" id="1816499">0</span><span class="op" id="1816500">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816504">if</span>&nbsp;<span class="ident" id="1816507">x</span>&nbsp;<span class="op" id="1816509">&gt;=</span>&nbsp;<span class="num" id="1816512">0</span>&nbsp;<span class="op" id="1816514">&amp;&amp;</span>&nbsp;<span class="op" id="1816517">!</span><span class="ident" id="1816518">Signbit</span><span class="op" id="1816525">(</span><span class="ident" id="1816526">x</span><span class="op" id="1816527">)</span>&nbsp;<span class="op" id="1816529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816534">return</span>&nbsp;<span class="ident" id="1816541">Copysign</span><span class="op" id="1816549">(</span><span class="num" id="1816550">0</span><span class="op" id="1816551">,</span>&nbsp;<span class="ident" id="1816553">y</span><span class="op" id="1816554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816558">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816562">return</span>&nbsp;<span class="ident" id="1816569">Copysign</span><span class="op" id="1816577">(</span><span class="ident" id="1816578">Pi</span><span class="op" id="1816580">,</span>&nbsp;<span class="ident" id="1816582">y</span><span class="op" id="1816583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816586">case</span>&nbsp;<span class="ident" id="1816591">x</span>&nbsp;<span class="op" id="1816593">==</span>&nbsp;<span class="num" id="1816596">0</span><span class="op" id="1816597">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816601">return</span>&nbsp;<span class="ident" id="1816608">Copysign</span><span class="op" id="1816616">(</span><span class="ident" id="1816617">Pi</span><span class="op" id="1816619">/</span><span class="num" id="1816620">2</span><span class="op" id="1816621">,</span>&nbsp;<span class="ident" id="1816623">y</span><span class="op" id="1816624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816627">case</span>&nbsp;<span class="ident" id="1816632">IsInf</span><span class="op" id="1816637">(</span><span class="ident" id="1816638">x</span><span class="op" id="1816639">,</span>&nbsp;<span class="num" id="1816641">0</span><span class="op" id="1816642">)</span><span class="op" id="1816643">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816647">if</span>&nbsp;<span class="ident" id="1816650">IsInf</span><span class="op" id="1816655">(</span><span class="ident" id="1816656">x</span><span class="op" id="1816657">,</span>&nbsp;<span class="num" id="1816659">1</span><span class="op" id="1816660">)</span>&nbsp;<span class="op" id="1816662">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816667">switch</span>&nbsp;<span class="op" id="1816674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816679">case</span>&nbsp;<span class="ident" id="1816684">IsInf</span><span class="op" id="1816689">(</span><span class="ident" id="1816690">y</span><span class="op" id="1816691">,</span>&nbsp;<span class="num" id="1816693">0</span><span class="op" id="1816694">)</span><span class="op" id="1816695">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816701">return</span>&nbsp;<span class="ident" id="1816708">Copysign</span><span class="op" id="1816716">(</span><span class="ident" id="1816717">Pi</span><span class="op" id="1816719">/</span><span class="num" id="1816720">4</span><span class="op" id="1816721">,</span>&nbsp;<span class="ident" id="1816723">y</span><span class="op" id="1816724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816729">default</span><span class="op" id="1816736">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816742">return</span>&nbsp;<span class="ident" id="1816749">Copysign</span><span class="op" id="1816757">(</span><span class="num" id="1816758">0</span><span class="op" id="1816759">,</span>&nbsp;<span class="ident" id="1816761">y</span><span class="op" id="1816762">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816775">switch</span>&nbsp;<span class="op" id="1816782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816786">case</span>&nbsp;<span class="ident" id="1816791">IsInf</span><span class="op" id="1816796">(</span><span class="ident" id="1816797">y</span><span class="op" id="1816798">,</span>&nbsp;<span class="num" id="1816800">0</span><span class="op" id="1816801">)</span><span class="op" id="1816802">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816807">return</span>&nbsp;<span class="ident" id="1816814">Copysign</span><span class="op" id="1816822">(</span><span class="num" id="1816823">3</span><span class="op" id="1816824">*</span><span class="ident" id="1816825">Pi</span><span class="op" id="1816827">/</span><span class="num" id="1816828">4</span><span class="op" id="1816829">,</span>&nbsp;<span class="ident" id="1816831">y</span><span class="op" id="1816832">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816836">default</span><span class="op" id="1816843">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816848">return</span>&nbsp;<span class="ident" id="1816855">Copysign</span><span class="op" id="1816863">(</span><span class="ident" id="1816864">Pi</span><span class="op" id="1816866">,</span>&nbsp;<span class="ident" id="1816868">y</span><span class="op" id="1816869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816876">case</span>&nbsp;<span class="ident" id="1816881">IsInf</span><span class="op" id="1816886">(</span><span class="ident" id="1816887">y</span><span class="op" id="1816888">,</span>&nbsp;<span class="num" id="1816890">0</span><span class="op" id="1816891">)</span><span class="op" id="1816892">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816896">return</span>&nbsp;<span class="ident" id="1816903">Copysign</span><span class="op" id="1816911">(</span><span class="ident" id="1816912">Pi</span><span class="op" id="1816914">/</span><span class="num" id="1816915">2</span><span class="op" id="1816916">,</span>&nbsp;<span class="ident" id="1816918">y</span><span class="op" id="1816919">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1816926">//&nbsp;Call&nbsp;atan&nbsp;and&nbsp;determine&nbsp;the&nbsp;quadrant.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1816968">q</span>&nbsp;<span class="op" id="1816970">:=</span>&nbsp;<span class="ident" id="1816973">Atan</span><span class="op" id="1816977">(</span><span class="ident" id="1816978">y</span>&nbsp;<span class="op" id="1816980">/</span>&nbsp;<span class="ident" id="1816982">x</span><span class="op" id="1816983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816986">if</span>&nbsp;<span class="ident" id="1816989">x</span>&nbsp;<span class="op" id="1816991">&lt;</span>&nbsp;<span class="num" id="1816993">0</span>&nbsp;<span class="op" id="1816995">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816999">if</span>&nbsp;<span class="ident" id="1817002">q</span>&nbsp;<span class="op" id="1817004">&lt;=</span>&nbsp;<span class="num" id="1817007">0</span>&nbsp;<span class="op" id="1817009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817014">return</span>&nbsp;<span class="ident" id="1817021">q</span>&nbsp;<span class="op" id="1817023">+</span>&nbsp;<span class="ident" id="1817025">Pi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1817030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817034">return</span>&nbsp;<span class="ident" id="1817041">q</span>&nbsp;<span class="op" id="1817043">-</span>&nbsp;<span class="ident" id="1817045">Pi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1817049">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817052">return</span>&nbsp;<span class="ident" id="1817059">q</span><br>
<span class="lineno"></span><span class="op" id="1817061">}</span>
</div>
</body>
</html>
