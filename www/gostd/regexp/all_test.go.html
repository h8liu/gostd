<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7041824">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7041879">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7041933">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7041984">package</span>&nbsp;<span class="ident" id="7041992">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7042000">import</span>&nbsp;<span class="op" id="7042007">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042010">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042021">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042038">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042049">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7042059">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7042062">var</span>&nbsp;<span class="ident" id="7042066">good_re</span>&nbsp;<span class="op" id="7042074">=</span>&nbsp;<span class="op" id="7042076">[</span><span class="op" id="7042077">]</span><span class="builtintype" id="7042078">string</span><span class="op" id="7042084">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042087">``</span><span class="op" id="7042089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042092">`.`</span><span class="op" id="7042095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042098">`^.$`</span><span class="op" id="7042103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042106">`a`</span><span class="op" id="7042109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042112">`a*`</span><span class="op" id="7042116">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042119">`a+`</span><span class="op" id="7042123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042126">`a?`</span><span class="op" id="7042130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042133">`a|b`</span><span class="op" id="7042138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042141">`a*|b*`</span><span class="op" id="7042148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042151">`(a*|b)(c*|d)`</span><span class="op" id="7042165">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042168">`[a-z]`</span><span class="op" id="7042175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042178">`[a-abc-c\-\]\[]`</span><span class="op" id="7042195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042198">`[a-z]+`</span><span class="op" id="7042206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042209">`[abc]`</span><span class="op" id="7042216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042219">`[^1234]`</span><span class="op" id="7042228">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042231">`[^\n]`</span><span class="op" id="7042238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7042241">`\!\\`</span><span class="op" id="7042247">,</span><br>
<span class="lineno"></span><span class="op" id="7042249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7042252">type</span>&nbsp;<span class="ident" id="7042257">stringError</span>&nbsp;<span class="keyword" id="7042269">struct</span>&nbsp;<span class="op" id="7042276">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042279">re</span>&nbsp;&nbsp;<span class="builtintype" id="7042283">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042291">err</span>&nbsp;<span class="builtintype" id="7042295">string</span><br>
<span class="lineno"></span><span class="op" id="7042302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7042305">var</span>&nbsp;<span class="ident" id="7042309">bad_re</span>&nbsp;<span class="op" id="7042316">=</span>&nbsp;<span class="op" id="7042318">[</span><span class="op" id="7042319">]</span><span class="ident" id="7042320">stringError</span><span class="op" id="7042331">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042334">{</span><span class="string" id="7042335">`*`</span><span class="op" id="7042338">,</span>&nbsp;<span class="string" id="7042340">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`*`&#34;</span><span class="op" id="7042386">}</span><span class="op" id="7042387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042390">{</span><span class="string" id="7042391">`+`</span><span class="op" id="7042394">,</span>&nbsp;<span class="string" id="7042396">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`+`&#34;</span><span class="op" id="7042442">}</span><span class="op" id="7042443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042446">{</span><span class="string" id="7042447">`?`</span><span class="op" id="7042450">,</span>&nbsp;<span class="string" id="7042452">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`?`&#34;</span><span class="op" id="7042498">}</span><span class="op" id="7042499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042502">{</span><span class="string" id="7042503">`(abc`</span><span class="op" id="7042509">,</span>&nbsp;<span class="string" id="7042511">&#34;missing&nbsp;closing&nbsp;):&nbsp;`(abc`&#34;</span><span class="op" id="7042538">}</span><span class="op" id="7042539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042542">{</span><span class="string" id="7042543">`abc)`</span><span class="op" id="7042549">,</span>&nbsp;<span class="string" id="7042551">&#34;unexpected&nbsp;):&nbsp;`abc)`&#34;</span><span class="op" id="7042573">}</span><span class="op" id="7042574">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042577">{</span><span class="string" id="7042578">`x[a-z`</span><span class="op" id="7042585">,</span>&nbsp;<span class="string" id="7042587">&#34;missing&nbsp;closing&nbsp;]:&nbsp;`[a-z`&#34;</span><span class="op" id="7042614">}</span><span class="op" id="7042615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042618">{</span><span class="string" id="7042619">`[z-a]`</span><span class="op" id="7042626">,</span>&nbsp;<span class="string" id="7042628">&#34;invalid&nbsp;character&nbsp;class&nbsp;range:&nbsp;`z-a`&#34;</span><span class="op" id="7042666">}</span><span class="op" id="7042667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042670">{</span><span class="string" id="7042671">`abc\`</span><span class="op" id="7042677">,</span>&nbsp;<span class="string" id="7042679">&#34;trailing&nbsp;backslash&nbsp;at&nbsp;end&nbsp;of&nbsp;expression&#34;</span><span class="op" id="7042720">}</span><span class="op" id="7042721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042724">{</span><span class="string" id="7042725">`a**`</span><span class="op" id="7042730">,</span>&nbsp;<span class="string" id="7042732">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`**`&#34;</span><span class="op" id="7042774">}</span><span class="op" id="7042775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042778">{</span><span class="string" id="7042779">`a*+`</span><span class="op" id="7042784">,</span>&nbsp;<span class="string" id="7042786">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`*+`&#34;</span><span class="op" id="7042828">}</span><span class="op" id="7042829">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042832">{</span><span class="string" id="7042833">`\x`</span><span class="op" id="7042837">,</span>&nbsp;<span class="string" id="7042839">&#34;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\x`&#34;</span><span class="op" id="7042871">}</span><span class="op" id="7042872">,</span><br>
<span class="lineno"></span><span class="op" id="7042874">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7042877">func</span>&nbsp;<span class="ident" id="7042882">compileTest</span><span class="op" id="7042893">(</span><span class="ident" id="7042894">t</span>&nbsp;<span class="op" id="7042896">*</span><span class="ident" id="7042897">testing</span><span class="op" id="7042904">.</span><span class="ident" id="7042905">T</span><span class="op" id="7042906">,</span>&nbsp;<span class="ident" id="7042908">expr</span>&nbsp;<span class="builtintype" id="7042913">string</span><span class="op" id="7042919">,</span>&nbsp;<span class="builtintype" id="7042921">error</span>&nbsp;<span class="builtintype" id="7042927">string</span><span class="op" id="7042933">)</span>&nbsp;<span class="op" id="7042935">*</span><span class="ident" id="7042936">Regexp</span>&nbsp;<span class="op" id="7042943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042946">re</span><span class="op" id="7042948">,</span>&nbsp;<span class="ident" id="7042950">err</span>&nbsp;<span class="op" id="7042954">:=</span>&nbsp;<span class="ident" id="7042957">Compile</span><span class="op" id="7042964">(</span><span class="ident" id="7042965">expr</span><span class="op" id="7042969">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7042972">if</span>&nbsp;<span class="builtintype" id="7042975">error</span>&nbsp;<span class="op" id="7042981">==</span>&nbsp;<span class="string" id="7042984">&#34;&#34;</span>&nbsp;<span class="op" id="7042987">&amp;&amp;</span>&nbsp;<span class="ident" id="7042990">err</span>&nbsp;<span class="op" id="7042994">!=</span>&nbsp;<span class="ident" id="7042997">nil</span>&nbsp;<span class="op" id="7043001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7043005">t</span><span class="op" id="7043006">.</span><span class="ident" id="7043007">Error</span><span class="op" id="7043012">(</span><span class="string" id="7043013">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7043026">,</span>&nbsp;<span class="ident" id="7043028">expr</span><span class="op" id="7043032">,</span>&nbsp;<span class="string" id="7043034">&#34;`;&nbsp;unexpected&nbsp;error:&nbsp;&#34;</span><span class="op" id="7043057">,</span>&nbsp;<span class="ident" id="7043059">err</span><span class="op" id="7043062">.</span><span class="ident" id="7043063">Error</span><span class="op" id="7043068">(</span><span class="op" id="7043069">)</span><span class="op" id="7043070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7043073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7043076">if</span>&nbsp;<span class="builtintype" id="7043079">error</span>&nbsp;<span class="op" id="7043085">!=</span>&nbsp;<span class="string" id="7043088">&#34;&#34;</span>&nbsp;<span class="op" id="7043091">&amp;&amp;</span>&nbsp;<span class="ident" id="7043094">err</span>&nbsp;<span class="op" id="7043098">==</span>&nbsp;<span class="ident" id="7043101">nil</span>&nbsp;<span class="op" id="7043105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7043109">t</span><span class="op" id="7043110">.</span><span class="ident" id="7043111">Error</span><span class="op" id="7043116">(</span><span class="string" id="7043117">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7043130">,</span>&nbsp;<span class="ident" id="7043132">expr</span><span class="op" id="7043136">,</span>&nbsp;<span class="string" id="7043138">&#34;`;&nbsp;missing&nbsp;error&#34;</span><span class="op" id="7043156">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7043159">}</span>&nbsp;<span class="keyword" id="7043161">else</span>&nbsp;<span class="keyword" id="7043166">if</span>&nbsp;<span class="builtintype" id="7043169">error</span>&nbsp;<span class="op" id="7043175">!=</span>&nbsp;<span class="string" id="7043178">&#34;&#34;</span>&nbsp;<span class="op" id="7043181">&amp;&amp;</span>&nbsp;<span class="op" id="7043184">!</span><span class="ident" id="7043185">strings</span><span class="op" id="7043192">.</span><span class="ident" id="7043193">Contains</span><span class="op" id="7043201">(</span><span class="ident" id="7043202">err</span><span class="op" id="7043205">.</span><span class="ident" id="7043206">Error</span><span class="op" id="7043211">(</span><span class="op" id="7043212">)</span><span class="op" id="7043213">,</span>&nbsp;<span class="builtintype" id="7043215">error</span><span class="op" id="7043220">)</span>&nbsp;<span class="op" id="7043222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7043226">t</span><span class="op" id="7043227">.</span><span class="ident" id="7043228">Error</span><span class="op" id="7043233">(</span><span class="string" id="7043234">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7043247">,</span>&nbsp;<span class="ident" id="7043249">expr</span><span class="op" id="7043253">,</span>&nbsp;<span class="string" id="7043255">&#34;`;&nbsp;wrong&nbsp;error:&nbsp;&#34;</span><span class="op" id="7043273">,</span>&nbsp;<span class="ident" id="7043275">err</span><span class="op" id="7043278">.</span><span class="ident" id="7043279">Error</span><span class="op" id="7043284">(</span><span class="op" id="7043285">)</span><span class="op" id="7043286">,</span>&nbsp;<span class="string" id="7043288">&#34;;&nbsp;want&nbsp;&#34;</span><span class="op" id="7043297">,</span>&nbsp;<span class="builtintype" id="7043299">error</span><span class="op" id="7043304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7043307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7043310">return</span>&nbsp;<span class="ident" id="7043317">re</span><br>
<span class="lineno"></span><span class="op" id="7043320">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7043323">func</span>&nbsp;<span class="ident" id="7043328">TestGoodCompile</span><span class="op" id="7043343">(</span><span class="ident" id="7043344">t</span>&nbsp;<span class="op" id="7043346">*</span><span class="ident" id="7043347">testing</span><span class="op" id="7043354">.</span><span class="ident" id="7043355">T</span><span class="op" id="7043356">)</span>&nbsp;<span class="op" id="7043358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7043361">for</span>&nbsp;<span class="ident" id="7043365">i</span>&nbsp;<span class="op" id="7043367">:=</span>&nbsp;<span class="num" id="7043370">0</span><span class="op" id="7043371">;</span>&nbsp;<span class="ident" id="7043373">i</span>&nbsp;<span class="op" id="7043375">&lt;</span>&nbsp;<span class="builtinfunc" id="7043377">len</span><span class="op" id="7043380">(</span><span class="ident" id="7043381">good_re</span><span class="op" id="7043388">)</span><span class="op" id="7043389">;</span>&nbsp;<span class="ident" id="7043391">i</span><span class="op" id="7043392">++</span>&nbsp;<span class="op" id="7043395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7043399">compileTest</span><span class="op" id="7043410">(</span><span class="ident" id="7043411">t</span><span class="op" id="7043412">,</span>&nbsp;<span class="ident" id="7043414">good_re</span><span class="op" id="7043421">[</span><span class="ident" id="7043422">i</span><span class="op" id="7043423">]</span><span class="op" id="7043424">,</span>&nbsp;<span class="string" id="7043426">&#34;&#34;</span><span class="op" id="7043428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7043431">}</span><br>
<span class="lineno">70</span><span class="op" id="7043433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7043436">func</span>&nbsp;<span class="ident" id="7043441">TestBadCompile</span><span class="op" id="7043455">(</span><span class="ident" id="7043456">t</span>&nbsp;<span class="op" id="7043458">*</span><span class="ident" id="7043459">testing</span><span class="op" id="7043466">.</span><span class="ident" id="7043467">T</span><span class="op" id="7043468">)</span>&nbsp;<span class="op" id="7043470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7043473">for</span>&nbsp;<span class="ident" id="7043477">i</span>&nbsp;<span class="op" id="7043479">:=</span>&nbsp;<span class="num" id="7043482">0</span><span class="op" id="7043483">;</span>&nbsp;<span class="ident" id="7043485">i</span>&nbsp;<span class="op" id="7043487">&lt;</span>&nbsp;<span class="builtinfunc" id="7043489">len</span><span class="op" id="7043492">(</span><span class="ident" id="7043493">bad_re</span><span class="op" id="7043499">)</span><span class="op" id="7043500">;</span>&nbsp;<span class="ident" id="7043502">i</span><span class="op" id="7043503">++</span>&nbsp;<span class="op" id="7043506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7043510">compileTest</span><span class="op" id="7043521">(</span><span class="ident" id="7043522">t</span><span class="op" id="7043523">,</span>&nbsp;<span class="ident" id="7043525">bad_re</span><span class="op" id="7043531">[</span><span class="ident" id="7043532">i</span><span class="op" id="7043533">]</span><span class="op" id="7043534">.</span><span class="ident" id="7043535">re</span><span class="op" id="7043537">,</span>&nbsp;<span class="ident" id="7043539">bad_re</span><span class="op" id="7043545">[</span><span class="ident" id="7043546">i</span><span class="op" id="7043547">]</span><span class="op" id="7043548">.</span><span class="ident" id="7043549">err</span><span class="op" id="7043552">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7043555">}</span><br>
<span class="lineno"></span><span class="op" id="7043557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7043560">func</span>&nbsp;<span class="ident" id="7043565">matchTest</span><span class="op" id="7043574">(</span><span class="ident" id="7043575">t</span>&nbsp;<span class="op" id="7043577">*</span><span class="ident" id="7043578">testing</span><span class="op" id="7043585">.</span><span class="ident" id="7043586">T</span><span class="op" id="7043587">,</span>&nbsp;<span class="ident" id="7043589">test</span>&nbsp;<span class="op" id="7043594">*</span><span class="ident" id="7043595">FindTest</span><span class="op" id="7043603">)</span>&nbsp;<span class="op" id="7043605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7043608">re</span>&nbsp;<span class="op" id="7043611">:=</span>&nbsp;<span class="ident" id="7043614">compileTest</span><span class="op" id="7043625">(</span><span class="ident" id="7043626">t</span><span class="op" id="7043627">,</span>&nbsp;<span class="ident" id="7043629">test</span><span class="op" id="7043633">.</span><span class="ident" id="7043634">pat</span><span class="op" id="7043637">,</span>&nbsp;<span class="string" id="7043639">&#34;&#34;</span><span class="op" id="7043641">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7043644">if</span>&nbsp;<span class="ident" id="7043647">re</span>&nbsp;<span class="op" id="7043650">==</span>&nbsp;<span class="ident" id="7043653">nil</span>&nbsp;<span class="op" id="7043657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7043661">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7043669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7043672">m</span>&nbsp;<span class="op" id="7043674">:=</span>&nbsp;<span class="ident" id="7043677">re</span><span class="op" id="7043679">.</span><span class="ident" id="7043680">MatchString</span><span class="op" id="7043691">(</span><span class="ident" id="7043692">test</span><span class="op" id="7043696">.</span><span class="ident" id="7043697">text</span><span class="op" id="7043701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7043704">if</span>&nbsp;<span class="ident" id="7043707">m</span>&nbsp;<span class="op" id="7043709">!=</span>&nbsp;<span class="op" id="7043712">(</span><span class="builtinfunc" id="7043713">len</span><span class="op" id="7043716">(</span><span class="ident" id="7043717">test</span><span class="op" id="7043721">.</span><span class="ident" id="7043722">matches</span><span class="op" id="7043729">)</span>&nbsp;<span class="op" id="7043731">&gt;</span>&nbsp;<span class="num" id="7043733">0</span><span class="op" id="7043734">)</span>&nbsp;<span class="op" id="7043736">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7043740">t</span><span class="op" id="7043741">.</span><span class="ident" id="7043742">Errorf</span><span class="op" id="7043748">(</span><span class="string" id="7043749">&#34;MatchString&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7043793">,</span>&nbsp;<span class="ident" id="7043795">test</span><span class="op" id="7043799">,</span>&nbsp;<span class="ident" id="7043801">m</span><span class="op" id="7043802">,</span>&nbsp;<span class="builtinfunc" id="7043804">len</span><span class="op" id="7043807">(</span><span class="ident" id="7043808">test</span><span class="op" id="7043812">.</span><span class="ident" id="7043813">matches</span><span class="op" id="7043820">)</span>&nbsp;<span class="op" id="7043822">&gt;</span>&nbsp;<span class="num" id="7043824">0</span><span class="op" id="7043825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7043828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7043831">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7043849">m</span>&nbsp;<span class="op" id="7043851">=</span>&nbsp;<span class="ident" id="7043853">re</span><span class="op" id="7043855">.</span><span class="ident" id="7043856">Match</span><span class="op" id="7043861">(</span><span class="op" id="7043862">[</span><span class="op" id="7043863">]</span><span class="builtintype" id="7043864">byte</span><span class="op" id="7043868">(</span><span class="ident" id="7043869">test</span><span class="op" id="7043873">.</span><span class="ident" id="7043874">text</span><span class="op" id="7043878">)</span><span class="op" id="7043879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7043882">if</span>&nbsp;<span class="ident" id="7043885">m</span>&nbsp;<span class="op" id="7043887">!=</span>&nbsp;<span class="op" id="7043890">(</span><span class="builtinfunc" id="7043891">len</span><span class="op" id="7043894">(</span><span class="ident" id="7043895">test</span><span class="op" id="7043899">.</span><span class="ident" id="7043900">matches</span><span class="op" id="7043907">)</span>&nbsp;<span class="op" id="7043909">&gt;</span>&nbsp;<span class="num" id="7043911">0</span><span class="op" id="7043912">)</span>&nbsp;<span class="op" id="7043914">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7043918">t</span><span class="op" id="7043919">.</span><span class="ident" id="7043920">Errorf</span><span class="op" id="7043926">(</span><span class="string" id="7043927">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7043965">,</span>&nbsp;<span class="ident" id="7043967">test</span><span class="op" id="7043971">,</span>&nbsp;<span class="ident" id="7043973">m</span><span class="op" id="7043974">,</span>&nbsp;<span class="builtinfunc" id="7043976">len</span><span class="op" id="7043979">(</span><span class="ident" id="7043980">test</span><span class="op" id="7043984">.</span><span class="ident" id="7043985">matches</span><span class="op" id="7043992">)</span>&nbsp;<span class="op" id="7043994">&gt;</span>&nbsp;<span class="num" id="7043996">0</span><span class="op" id="7043997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044000">}</span><br>
<span class="lineno"></span><span class="op" id="7044002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7044005">func</span>&nbsp;<span class="ident" id="7044010">TestMatch</span><span class="op" id="7044019">(</span><span class="ident" id="7044020">t</span>&nbsp;<span class="op" id="7044022">*</span><span class="ident" id="7044023">testing</span><span class="op" id="7044030">.</span><span class="ident" id="7044031">T</span><span class="op" id="7044032">)</span>&nbsp;<span class="op" id="7044034">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7044037">for</span>&nbsp;<span class="ident" id="7044041">_</span><span class="op" id="7044042">,</span>&nbsp;<span class="ident" id="7044044">test</span>&nbsp;<span class="op" id="7044049">:=</span>&nbsp;<span class="keyword" id="7044052">range</span>&nbsp;<span class="ident" id="7044058">findTests</span>&nbsp;<span class="op" id="7044068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7044072">matchTest</span><span class="op" id="7044081">(</span><span class="ident" id="7044082">t</span><span class="op" id="7044083">,</span>&nbsp;<span class="op" id="7044085">&amp;</span><span class="ident" id="7044086">test</span><span class="op" id="7044090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044093">}</span><br>
<span class="lineno"></span><span class="op" id="7044095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7044098">func</span>&nbsp;<span class="ident" id="7044103">matchFunctionTest</span><span class="op" id="7044120">(</span><span class="ident" id="7044121">t</span>&nbsp;<span class="op" id="7044123">*</span><span class="ident" id="7044124">testing</span><span class="op" id="7044131">.</span><span class="ident" id="7044132">T</span><span class="op" id="7044133">,</span>&nbsp;<span class="ident" id="7044135">test</span>&nbsp;<span class="op" id="7044140">*</span><span class="ident" id="7044141">FindTest</span><span class="op" id="7044149">)</span>&nbsp;<span class="op" id="7044151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7044154">m</span><span class="op" id="7044155">,</span>&nbsp;<span class="ident" id="7044157">err</span>&nbsp;<span class="op" id="7044161">:=</span>&nbsp;<span class="ident" id="7044164">MatchString</span><span class="op" id="7044175">(</span><span class="ident" id="7044176">test</span><span class="op" id="7044180">.</span><span class="ident" id="7044181">pat</span><span class="op" id="7044184">,</span>&nbsp;<span class="ident" id="7044186">test</span><span class="op" id="7044190">.</span><span class="ident" id="7044191">text</span><span class="op" id="7044195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7044198">if</span>&nbsp;<span class="ident" id="7044201">err</span>&nbsp;<span class="op" id="7044205">==</span>&nbsp;<span class="ident" id="7044208">nil</span>&nbsp;<span class="op" id="7044212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7044216">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044224">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7044227">if</span>&nbsp;<span class="ident" id="7044230">m</span>&nbsp;<span class="op" id="7044232">!=</span>&nbsp;<span class="op" id="7044235">(</span><span class="builtinfunc" id="7044236">len</span><span class="op" id="7044239">(</span><span class="ident" id="7044240">test</span><span class="op" id="7044244">.</span><span class="ident" id="7044245">matches</span><span class="op" id="7044252">)</span>&nbsp;<span class="op" id="7044254">&gt;</span>&nbsp;<span class="num" id="7044256">0</span><span class="op" id="7044257">)</span>&nbsp;<span class="op" id="7044259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7044263">t</span><span class="op" id="7044264">.</span><span class="ident" id="7044265">Errorf</span><span class="op" id="7044271">(</span><span class="string" id="7044272">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7044310">,</span>&nbsp;<span class="ident" id="7044312">test</span><span class="op" id="7044316">,</span>&nbsp;<span class="ident" id="7044318">m</span><span class="op" id="7044319">,</span>&nbsp;<span class="builtinfunc" id="7044321">len</span><span class="op" id="7044324">(</span><span class="ident" id="7044325">test</span><span class="op" id="7044329">.</span><span class="ident" id="7044330">matches</span><span class="op" id="7044337">)</span>&nbsp;<span class="op" id="7044339">&gt;</span>&nbsp;<span class="num" id="7044341">0</span><span class="op" id="7044342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044345">}</span><br>
<span class="lineno"></span><span class="op" id="7044347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7044350">func</span>&nbsp;<span class="ident" id="7044355">TestMatchFunction</span><span class="op" id="7044372">(</span><span class="ident" id="7044373">t</span>&nbsp;<span class="op" id="7044375">*</span><span class="ident" id="7044376">testing</span><span class="op" id="7044383">.</span><span class="ident" id="7044384">T</span><span class="op" id="7044385">)</span>&nbsp;<span class="op" id="7044387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7044390">for</span>&nbsp;<span class="ident" id="7044394">_</span><span class="op" id="7044395">,</span>&nbsp;<span class="ident" id="7044397">test</span>&nbsp;<span class="op" id="7044402">:=</span>&nbsp;<span class="keyword" id="7044405">range</span>&nbsp;<span class="ident" id="7044411">findTests</span>&nbsp;<span class="op" id="7044421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7044425">matchFunctionTest</span><span class="op" id="7044442">(</span><span class="ident" id="7044443">t</span><span class="op" id="7044444">,</span>&nbsp;<span class="op" id="7044446">&amp;</span><span class="ident" id="7044447">test</span><span class="op" id="7044451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044454">}</span><br>
<span class="lineno"></span><span class="op" id="7044456">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="keyword" id="7044459">type</span>&nbsp;<span class="ident" id="7044464">ReplaceTest</span>&nbsp;<span class="keyword" id="7044476">struct</span>&nbsp;<span class="op" id="7044483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7044486">pattern</span><span class="op" id="7044493">,</span>&nbsp;<span class="ident" id="7044495">replacement</span><span class="op" id="7044506">,</span>&nbsp;<span class="ident" id="7044508">input</span><span class="op" id="7044513">,</span>&nbsp;<span class="ident" id="7044515">output</span>&nbsp;<span class="builtintype" id="7044522">string</span><br>
<span class="lineno"></span><span class="op" id="7044529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="7044532">var</span>&nbsp;<span class="ident" id="7044536">replaceTests</span>&nbsp;<span class="op" id="7044549">=</span>&nbsp;<span class="op" id="7044551">[</span><span class="op" id="7044552">]</span><span class="ident" id="7044553">ReplaceTest</span><span class="op" id="7044564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7044567">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;matches&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044652">{</span><span class="string" id="7044653">&#34;&#34;</span><span class="op" id="7044655">,</span>&nbsp;<span class="string" id="7044657">&#34;&#34;</span><span class="op" id="7044659">,</span>&nbsp;<span class="string" id="7044661">&#34;&#34;</span><span class="op" id="7044663">,</span>&nbsp;<span class="string" id="7044665">&#34;&#34;</span><span class="op" id="7044667">}</span><span class="op" id="7044668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044671">{</span><span class="string" id="7044672">&#34;&#34;</span><span class="op" id="7044674">,</span>&nbsp;<span class="string" id="7044676">&#34;x&#34;</span><span class="op" id="7044679">,</span>&nbsp;<span class="string" id="7044681">&#34;&#34;</span><span class="op" id="7044683">,</span>&nbsp;<span class="string" id="7044685">&#34;x&#34;</span><span class="op" id="7044688">}</span><span class="op" id="7044689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044692">{</span><span class="string" id="7044693">&#34;&#34;</span><span class="op" id="7044695">,</span>&nbsp;<span class="string" id="7044697">&#34;&#34;</span><span class="op" id="7044699">,</span>&nbsp;<span class="string" id="7044701">&#34;abc&#34;</span><span class="op" id="7044706">,</span>&nbsp;<span class="string" id="7044708">&#34;abc&#34;</span><span class="op" id="7044713">}</span><span class="op" id="7044714">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044717">{</span><span class="string" id="7044718">&#34;&#34;</span><span class="op" id="7044720">,</span>&nbsp;<span class="string" id="7044722">&#34;x&#34;</span><span class="op" id="7044725">,</span>&nbsp;<span class="string" id="7044727">&#34;abc&#34;</span><span class="op" id="7044732">,</span>&nbsp;<span class="string" id="7044734">&#34;xaxbxcx&#34;</span><span class="op" id="7044743">}</span><span class="op" id="7044744">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7044748">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044840">{</span><span class="string" id="7044841">&#34;b&#34;</span><span class="op" id="7044844">,</span>&nbsp;<span class="string" id="7044846">&#34;&#34;</span><span class="op" id="7044848">,</span>&nbsp;<span class="string" id="7044850">&#34;&#34;</span><span class="op" id="7044852">,</span>&nbsp;<span class="string" id="7044854">&#34;&#34;</span><span class="op" id="7044856">}</span><span class="op" id="7044857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044860">{</span><span class="string" id="7044861">&#34;b&#34;</span><span class="op" id="7044864">,</span>&nbsp;<span class="string" id="7044866">&#34;x&#34;</span><span class="op" id="7044869">,</span>&nbsp;<span class="string" id="7044871">&#34;&#34;</span><span class="op" id="7044873">,</span>&nbsp;<span class="string" id="7044875">&#34;&#34;</span><span class="op" id="7044877">}</span><span class="op" id="7044878">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044881">{</span><span class="string" id="7044882">&#34;b&#34;</span><span class="op" id="7044885">,</span>&nbsp;<span class="string" id="7044887">&#34;&#34;</span><span class="op" id="7044889">,</span>&nbsp;<span class="string" id="7044891">&#34;abc&#34;</span><span class="op" id="7044896">,</span>&nbsp;<span class="string" id="7044898">&#34;ac&#34;</span><span class="op" id="7044902">}</span><span class="op" id="7044903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044906">{</span><span class="string" id="7044907">&#34;b&#34;</span><span class="op" id="7044910">,</span>&nbsp;<span class="string" id="7044912">&#34;x&#34;</span><span class="op" id="7044915">,</span>&nbsp;<span class="string" id="7044917">&#34;abc&#34;</span><span class="op" id="7044922">,</span>&nbsp;<span class="string" id="7044924">&#34;axc&#34;</span><span class="op" id="7044929">}</span><span class="op" id="7044930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044933">{</span><span class="string" id="7044934">&#34;y&#34;</span><span class="op" id="7044937">,</span>&nbsp;<span class="string" id="7044939">&#34;&#34;</span><span class="op" id="7044941">,</span>&nbsp;<span class="string" id="7044943">&#34;&#34;</span><span class="op" id="7044945">,</span>&nbsp;<span class="string" id="7044947">&#34;&#34;</span><span class="op" id="7044949">}</span><span class="op" id="7044950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044953">{</span><span class="string" id="7044954">&#34;y&#34;</span><span class="op" id="7044957">,</span>&nbsp;<span class="string" id="7044959">&#34;x&#34;</span><span class="op" id="7044962">,</span>&nbsp;<span class="string" id="7044964">&#34;&#34;</span><span class="op" id="7044966">,</span>&nbsp;<span class="string" id="7044968">&#34;&#34;</span><span class="op" id="7044970">}</span><span class="op" id="7044971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7044974">{</span><span class="string" id="7044975">&#34;y&#34;</span><span class="op" id="7044978">,</span>&nbsp;<span class="string" id="7044980">&#34;&#34;</span><span class="op" id="7044982">,</span>&nbsp;<span class="string" id="7044984">&#34;abc&#34;</span><span class="op" id="7044989">,</span>&nbsp;<span class="string" id="7044991">&#34;abc&#34;</span><span class="op" id="7044996">}</span><span class="op" id="7044997">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045000">{</span><span class="string" id="7045001">&#34;y&#34;</span><span class="op" id="7045004">,</span>&nbsp;<span class="string" id="7045006">&#34;x&#34;</span><span class="op" id="7045009">,</span>&nbsp;<span class="string" id="7045011">&#34;abc&#34;</span><span class="op" id="7045016">,</span>&nbsp;<span class="string" id="7045018">&#34;abc&#34;</span><span class="op" id="7045023">}</span><span class="op" id="7045024">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7045028">//&nbsp;Multibyte&nbsp;characters&nbsp;--&nbsp;verify&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;match&nbsp;in&nbsp;the&nbsp;middle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7045104">//&nbsp;of&nbsp;a&nbsp;character.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045124">{</span><span class="string" id="7045125">&#34;[a-c]*&#34;</span><span class="op" id="7045133">,</span>&nbsp;<span class="string" id="7045135">&#34;x&#34;</span><span class="op" id="7045138">,</span>&nbsp;<span class="string" id="7045140">&#34;\u65e5&#34;</span><span class="op" id="7045148">,</span>&nbsp;<span class="string" id="7045150">&#34;x\u65e5x&#34;</span><span class="op" id="7045160">}</span><span class="op" id="7045161">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045164">{</span><span class="string" id="7045165">&#34;[^\u65e5]&#34;</span><span class="op" id="7045176">,</span>&nbsp;<span class="string" id="7045178">&#34;x&#34;</span><span class="op" id="7045181">,</span>&nbsp;<span class="string" id="7045183">&#34;abc\u65e5def&#34;</span><span class="op" id="7045197">,</span>&nbsp;<span class="string" id="7045199">&#34;xxx\u65e5xxx&#34;</span><span class="op" id="7045213">}</span><span class="op" id="7045214">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7045218">//&nbsp;Start&nbsp;and&nbsp;end&nbsp;of&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045249">{</span><span class="string" id="7045250">&#34;^[a-c]*&#34;</span><span class="op" id="7045259">,</span>&nbsp;<span class="string" id="7045261">&#34;x&#34;</span><span class="op" id="7045264">,</span>&nbsp;<span class="string" id="7045266">&#34;abcdabc&#34;</span><span class="op" id="7045275">,</span>&nbsp;<span class="string" id="7045277">&#34;xdabc&#34;</span><span class="op" id="7045284">}</span><span class="op" id="7045285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045288">{</span><span class="string" id="7045289">&#34;[a-c]*$&#34;</span><span class="op" id="7045298">,</span>&nbsp;<span class="string" id="7045300">&#34;x&#34;</span><span class="op" id="7045303">,</span>&nbsp;<span class="string" id="7045305">&#34;abcdabc&#34;</span><span class="op" id="7045314">,</span>&nbsp;<span class="string" id="7045316">&#34;abcdx&#34;</span><span class="op" id="7045323">}</span><span class="op" id="7045324">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045327">{</span><span class="string" id="7045328">&#34;^[a-c]*$&#34;</span><span class="op" id="7045338">,</span>&nbsp;<span class="string" id="7045340">&#34;x&#34;</span><span class="op" id="7045343">,</span>&nbsp;<span class="string" id="7045345">&#34;abcdabc&#34;</span><span class="op" id="7045354">,</span>&nbsp;<span class="string" id="7045356">&#34;abcdabc&#34;</span><span class="op" id="7045365">}</span><span class="op" id="7045366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045369">{</span><span class="string" id="7045370">&#34;^[a-c]*&#34;</span><span class="op" id="7045379">,</span>&nbsp;<span class="string" id="7045381">&#34;x&#34;</span><span class="op" id="7045384">,</span>&nbsp;<span class="string" id="7045386">&#34;abc&#34;</span><span class="op" id="7045391">,</span>&nbsp;<span class="string" id="7045393">&#34;x&#34;</span><span class="op" id="7045396">}</span><span class="op" id="7045397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045400">{</span><span class="string" id="7045401">&#34;[a-c]*$&#34;</span><span class="op" id="7045410">,</span>&nbsp;<span class="string" id="7045412">&#34;x&#34;</span><span class="op" id="7045415">,</span>&nbsp;<span class="string" id="7045417">&#34;abc&#34;</span><span class="op" id="7045422">,</span>&nbsp;<span class="string" id="7045424">&#34;x&#34;</span><span class="op" id="7045427">}</span><span class="op" id="7045428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045431">{</span><span class="string" id="7045432">&#34;^[a-c]*$&#34;</span><span class="op" id="7045442">,</span>&nbsp;<span class="string" id="7045444">&#34;x&#34;</span><span class="op" id="7045447">,</span>&nbsp;<span class="string" id="7045449">&#34;abc&#34;</span><span class="op" id="7045454">,</span>&nbsp;<span class="string" id="7045456">&#34;x&#34;</span><span class="op" id="7045459">}</span><span class="op" id="7045460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045463">{</span><span class="string" id="7045464">&#34;^[a-c]*&#34;</span><span class="op" id="7045473">,</span>&nbsp;<span class="string" id="7045475">&#34;x&#34;</span><span class="op" id="7045478">,</span>&nbsp;<span class="string" id="7045480">&#34;dabce&#34;</span><span class="op" id="7045487">,</span>&nbsp;<span class="string" id="7045489">&#34;xdabce&#34;</span><span class="op" id="7045497">}</span><span class="op" id="7045498">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045501">{</span><span class="string" id="7045502">&#34;[a-c]*$&#34;</span><span class="op" id="7045511">,</span>&nbsp;<span class="string" id="7045513">&#34;x&#34;</span><span class="op" id="7045516">,</span>&nbsp;<span class="string" id="7045518">&#34;dabce&#34;</span><span class="op" id="7045525">,</span>&nbsp;<span class="string" id="7045527">&#34;dabcex&#34;</span><span class="op" id="7045535">}</span><span class="op" id="7045536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045539">{</span><span class="string" id="7045540">&#34;^[a-c]*$&#34;</span><span class="op" id="7045550">,</span>&nbsp;<span class="string" id="7045552">&#34;x&#34;</span><span class="op" id="7045555">,</span>&nbsp;<span class="string" id="7045557">&#34;dabce&#34;</span><span class="op" id="7045564">,</span>&nbsp;<span class="string" id="7045566">&#34;dabce&#34;</span><span class="op" id="7045573">}</span><span class="op" id="7045574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045577">{</span><span class="string" id="7045578">&#34;^[a-c]*&#34;</span><span class="op" id="7045587">,</span>&nbsp;<span class="string" id="7045589">&#34;x&#34;</span><span class="op" id="7045592">,</span>&nbsp;<span class="string" id="7045594">&#34;&#34;</span><span class="op" id="7045596">,</span>&nbsp;<span class="string" id="7045598">&#34;x&#34;</span><span class="op" id="7045601">}</span><span class="op" id="7045602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045605">{</span><span class="string" id="7045606">&#34;[a-c]*$&#34;</span><span class="op" id="7045615">,</span>&nbsp;<span class="string" id="7045617">&#34;x&#34;</span><span class="op" id="7045620">,</span>&nbsp;<span class="string" id="7045622">&#34;&#34;</span><span class="op" id="7045624">,</span>&nbsp;<span class="string" id="7045626">&#34;x&#34;</span><span class="op" id="7045629">}</span><span class="op" id="7045630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045633">{</span><span class="string" id="7045634">&#34;^[a-c]*$&#34;</span><span class="op" id="7045644">,</span>&nbsp;<span class="string" id="7045646">&#34;x&#34;</span><span class="op" id="7045649">,</span>&nbsp;<span class="string" id="7045651">&#34;&#34;</span><span class="op" id="7045653">,</span>&nbsp;<span class="string" id="7045655">&#34;x&#34;</span><span class="op" id="7045658">}</span><span class="op" id="7045659">,</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045663">{</span><span class="string" id="7045664">&#34;^[a-c]+&#34;</span><span class="op" id="7045673">,</span>&nbsp;<span class="string" id="7045675">&#34;x&#34;</span><span class="op" id="7045678">,</span>&nbsp;<span class="string" id="7045680">&#34;abcdabc&#34;</span><span class="op" id="7045689">,</span>&nbsp;<span class="string" id="7045691">&#34;xdabc&#34;</span><span class="op" id="7045698">}</span><span class="op" id="7045699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045702">{</span><span class="string" id="7045703">&#34;[a-c]+$&#34;</span><span class="op" id="7045712">,</span>&nbsp;<span class="string" id="7045714">&#34;x&#34;</span><span class="op" id="7045717">,</span>&nbsp;<span class="string" id="7045719">&#34;abcdabc&#34;</span><span class="op" id="7045728">,</span>&nbsp;<span class="string" id="7045730">&#34;abcdx&#34;</span><span class="op" id="7045737">}</span><span class="op" id="7045738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045741">{</span><span class="string" id="7045742">&#34;^[a-c]+$&#34;</span><span class="op" id="7045752">,</span>&nbsp;<span class="string" id="7045754">&#34;x&#34;</span><span class="op" id="7045757">,</span>&nbsp;<span class="string" id="7045759">&#34;abcdabc&#34;</span><span class="op" id="7045768">,</span>&nbsp;<span class="string" id="7045770">&#34;abcdabc&#34;</span><span class="op" id="7045779">}</span><span class="op" id="7045780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045783">{</span><span class="string" id="7045784">&#34;^[a-c]+&#34;</span><span class="op" id="7045793">,</span>&nbsp;<span class="string" id="7045795">&#34;x&#34;</span><span class="op" id="7045798">,</span>&nbsp;<span class="string" id="7045800">&#34;abc&#34;</span><span class="op" id="7045805">,</span>&nbsp;<span class="string" id="7045807">&#34;x&#34;</span><span class="op" id="7045810">}</span><span class="op" id="7045811">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045814">{</span><span class="string" id="7045815">&#34;[a-c]+$&#34;</span><span class="op" id="7045824">,</span>&nbsp;<span class="string" id="7045826">&#34;x&#34;</span><span class="op" id="7045829">,</span>&nbsp;<span class="string" id="7045831">&#34;abc&#34;</span><span class="op" id="7045836">,</span>&nbsp;<span class="string" id="7045838">&#34;x&#34;</span><span class="op" id="7045841">}</span><span class="op" id="7045842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045845">{</span><span class="string" id="7045846">&#34;^[a-c]+$&#34;</span><span class="op" id="7045856">,</span>&nbsp;<span class="string" id="7045858">&#34;x&#34;</span><span class="op" id="7045861">,</span>&nbsp;<span class="string" id="7045863">&#34;abc&#34;</span><span class="op" id="7045868">,</span>&nbsp;<span class="string" id="7045870">&#34;x&#34;</span><span class="op" id="7045873">}</span><span class="op" id="7045874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045877">{</span><span class="string" id="7045878">&#34;^[a-c]+&#34;</span><span class="op" id="7045887">,</span>&nbsp;<span class="string" id="7045889">&#34;x&#34;</span><span class="op" id="7045892">,</span>&nbsp;<span class="string" id="7045894">&#34;dabce&#34;</span><span class="op" id="7045901">,</span>&nbsp;<span class="string" id="7045903">&#34;dabce&#34;</span><span class="op" id="7045910">}</span><span class="op" id="7045911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045914">{</span><span class="string" id="7045915">&#34;[a-c]+$&#34;</span><span class="op" id="7045924">,</span>&nbsp;<span class="string" id="7045926">&#34;x&#34;</span><span class="op" id="7045929">,</span>&nbsp;<span class="string" id="7045931">&#34;dabce&#34;</span><span class="op" id="7045938">,</span>&nbsp;<span class="string" id="7045940">&#34;dabce&#34;</span><span class="op" id="7045947">}</span><span class="op" id="7045948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045951">{</span><span class="string" id="7045952">&#34;^[a-c]+$&#34;</span><span class="op" id="7045962">,</span>&nbsp;<span class="string" id="7045964">&#34;x&#34;</span><span class="op" id="7045967">,</span>&nbsp;<span class="string" id="7045969">&#34;dabce&#34;</span><span class="op" id="7045976">,</span>&nbsp;<span class="string" id="7045978">&#34;dabce&#34;</span><span class="op" id="7045985">}</span><span class="op" id="7045986">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045989">{</span><span class="string" id="7045990">&#34;^[a-c]+&#34;</span><span class="op" id="7045999">,</span>&nbsp;<span class="string" id="7046001">&#34;x&#34;</span><span class="op" id="7046004">,</span>&nbsp;<span class="string" id="7046006">&#34;&#34;</span><span class="op" id="7046008">,</span>&nbsp;<span class="string" id="7046010">&#34;&#34;</span><span class="op" id="7046012">}</span><span class="op" id="7046013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046016">{</span><span class="string" id="7046017">&#34;[a-c]+$&#34;</span><span class="op" id="7046026">,</span>&nbsp;<span class="string" id="7046028">&#34;x&#34;</span><span class="op" id="7046031">,</span>&nbsp;<span class="string" id="7046033">&#34;&#34;</span><span class="op" id="7046035">,</span>&nbsp;<span class="string" id="7046037">&#34;&#34;</span><span class="op" id="7046039">}</span><span class="op" id="7046040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046043">{</span><span class="string" id="7046044">&#34;^[a-c]+$&#34;</span><span class="op" id="7046054">,</span>&nbsp;<span class="string" id="7046056">&#34;x&#34;</span><span class="op" id="7046059">,</span>&nbsp;<span class="string" id="7046061">&#34;&#34;</span><span class="op" id="7046063">,</span>&nbsp;<span class="string" id="7046065">&#34;&#34;</span><span class="op" id="7046067">}</span><span class="op" id="7046068">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7046072">//&nbsp;Other&nbsp;cases.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046089">{</span><span class="string" id="7046090">&#34;abc&#34;</span><span class="op" id="7046095">,</span>&nbsp;<span class="string" id="7046097">&#34;def&#34;</span><span class="op" id="7046102">,</span>&nbsp;<span class="string" id="7046104">&#34;abcdefg&#34;</span><span class="op" id="7046113">,</span>&nbsp;<span class="string" id="7046115">&#34;defdefg&#34;</span><span class="op" id="7046124">}</span><span class="op" id="7046125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046128">{</span><span class="string" id="7046129">&#34;bc&#34;</span><span class="op" id="7046133">,</span>&nbsp;<span class="string" id="7046135">&#34;BC&#34;</span><span class="op" id="7046139">,</span>&nbsp;<span class="string" id="7046141">&#34;abcbcdcdedef&#34;</span><span class="op" id="7046155">,</span>&nbsp;<span class="string" id="7046157">&#34;aBCBCdcdedef&#34;</span><span class="op" id="7046171">}</span><span class="op" id="7046172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046175">{</span><span class="string" id="7046176">&#34;abc&#34;</span><span class="op" id="7046181">,</span>&nbsp;<span class="string" id="7046183">&#34;&#34;</span><span class="op" id="7046185">,</span>&nbsp;<span class="string" id="7046187">&#34;abcdabc&#34;</span><span class="op" id="7046196">,</span>&nbsp;<span class="string" id="7046198">&#34;d&#34;</span><span class="op" id="7046201">}</span><span class="op" id="7046202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046205">{</span><span class="string" id="7046206">&#34;x&#34;</span><span class="op" id="7046209">,</span>&nbsp;<span class="string" id="7046211">&#34;xXx&#34;</span><span class="op" id="7046216">,</span>&nbsp;<span class="string" id="7046218">&#34;xxxXxxx&#34;</span><span class="op" id="7046227">,</span>&nbsp;<span class="string" id="7046229">&#34;xXxxXxxXxXxXxxXxxXx&#34;</span><span class="op" id="7046250">}</span><span class="op" id="7046251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046254">{</span><span class="string" id="7046255">&#34;abc&#34;</span><span class="op" id="7046260">,</span>&nbsp;<span class="string" id="7046262">&#34;d&#34;</span><span class="op" id="7046265">,</span>&nbsp;<span class="string" id="7046267">&#34;&#34;</span><span class="op" id="7046269">,</span>&nbsp;<span class="string" id="7046271">&#34;&#34;</span><span class="op" id="7046273">}</span><span class="op" id="7046274">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046277">{</span><span class="string" id="7046278">&#34;abc&#34;</span><span class="op" id="7046283">,</span>&nbsp;<span class="string" id="7046285">&#34;d&#34;</span><span class="op" id="7046288">,</span>&nbsp;<span class="string" id="7046290">&#34;abc&#34;</span><span class="op" id="7046295">,</span>&nbsp;<span class="string" id="7046297">&#34;d&#34;</span><span class="op" id="7046300">}</span><span class="op" id="7046301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046304">{</span><span class="string" id="7046305">&#34;.+&#34;</span><span class="op" id="7046309">,</span>&nbsp;<span class="string" id="7046311">&#34;x&#34;</span><span class="op" id="7046314">,</span>&nbsp;<span class="string" id="7046316">&#34;abc&#34;</span><span class="op" id="7046321">,</span>&nbsp;<span class="string" id="7046323">&#34;x&#34;</span><span class="op" id="7046326">}</span><span class="op" id="7046327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046330">{</span><span class="string" id="7046331">&#34;[a-c]*&#34;</span><span class="op" id="7046339">,</span>&nbsp;<span class="string" id="7046341">&#34;x&#34;</span><span class="op" id="7046344">,</span>&nbsp;<span class="string" id="7046346">&#34;def&#34;</span><span class="op" id="7046351">,</span>&nbsp;<span class="string" id="7046353">&#34;xdxexfx&#34;</span><span class="op" id="7046362">}</span><span class="op" id="7046363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046366">{</span><span class="string" id="7046367">&#34;[a-c]+&#34;</span><span class="op" id="7046375">,</span>&nbsp;<span class="string" id="7046377">&#34;x&#34;</span><span class="op" id="7046380">,</span>&nbsp;<span class="string" id="7046382">&#34;abcbcdcdedef&#34;</span><span class="op" id="7046396">,</span>&nbsp;<span class="string" id="7046398">&#34;xdxdedef&#34;</span><span class="op" id="7046408">}</span><span class="op" id="7046409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046412">{</span><span class="string" id="7046413">&#34;[a-c]*&#34;</span><span class="op" id="7046421">,</span>&nbsp;<span class="string" id="7046423">&#34;x&#34;</span><span class="op" id="7046426">,</span>&nbsp;<span class="string" id="7046428">&#34;abcbcdcdedef&#34;</span><span class="op" id="7046442">,</span>&nbsp;<span class="string" id="7046444">&#34;xdxdxexdxexfx&#34;</span><span class="op" id="7046459">}</span><span class="op" id="7046460">,</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7046464">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046482">{</span><span class="string" id="7046483">&#34;a+&#34;</span><span class="op" id="7046487">,</span>&nbsp;<span class="string" id="7046489">&#34;($0)&#34;</span><span class="op" id="7046495">,</span>&nbsp;<span class="string" id="7046497">&#34;banana&#34;</span><span class="op" id="7046505">,</span>&nbsp;<span class="string" id="7046507">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="7046521">}</span><span class="op" id="7046522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046525">{</span><span class="string" id="7046526">&#34;a+&#34;</span><span class="op" id="7046530">,</span>&nbsp;<span class="string" id="7046532">&#34;(${0})&#34;</span><span class="op" id="7046540">,</span>&nbsp;<span class="string" id="7046542">&#34;banana&#34;</span><span class="op" id="7046550">,</span>&nbsp;<span class="string" id="7046552">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="7046566">}</span><span class="op" id="7046567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046570">{</span><span class="string" id="7046571">&#34;a+&#34;</span><span class="op" id="7046575">,</span>&nbsp;<span class="string" id="7046577">&#34;(${0})$0&#34;</span><span class="op" id="7046587">,</span>&nbsp;<span class="string" id="7046589">&#34;banana&#34;</span><span class="op" id="7046597">,</span>&nbsp;<span class="string" id="7046599">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="7046616">}</span><span class="op" id="7046617">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046620">{</span><span class="string" id="7046621">&#34;a+&#34;</span><span class="op" id="7046625">,</span>&nbsp;<span class="string" id="7046627">&#34;(${0})$0&#34;</span><span class="op" id="7046637">,</span>&nbsp;<span class="string" id="7046639">&#34;banana&#34;</span><span class="op" id="7046647">,</span>&nbsp;<span class="string" id="7046649">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="7046666">}</span><span class="op" id="7046667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046670">{</span><span class="string" id="7046671">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7046684">,</span>&nbsp;<span class="string" id="7046686">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7046701">,</span>&nbsp;<span class="string" id="7046703">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7046717">,</span>&nbsp;<span class="string" id="7046719">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7046735">}</span><span class="op" id="7046736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046739">{</span><span class="string" id="7046740">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7046753">,</span>&nbsp;<span class="string" id="7046755">&#34;goodbye,&nbsp;$1x&#34;</span><span class="op" id="7046769">,</span>&nbsp;<span class="string" id="7046771">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7046785">,</span>&nbsp;<span class="string" id="7046787">&#34;goodbye,&nbsp;&#34;</span><span class="op" id="7046798">}</span><span class="op" id="7046799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046802">{</span><span class="string" id="7046803">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7046816">,</span>&nbsp;<span class="string" id="7046818">&#34;goodbye,&nbsp;${1}x&#34;</span><span class="op" id="7046834">,</span>&nbsp;<span class="string" id="7046836">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7046850">,</span>&nbsp;<span class="string" id="7046852">&#34;goodbye,&nbsp;worldx&#34;</span><span class="op" id="7046869">}</span><span class="op" id="7046870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046873">{</span><span class="string" id="7046874">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7046887">,</span>&nbsp;<span class="string" id="7046889">&#34;&lt;$0&gt;&lt;$1&gt;&lt;$2&gt;&lt;$3&gt;&#34;</span><span class="op" id="7046907">,</span>&nbsp;<span class="string" id="7046909">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7046923">,</span>&nbsp;<span class="string" id="7046925">&#34;&lt;hello,&nbsp;world&gt;&lt;world&gt;&lt;&gt;&lt;&gt;&#34;</span><span class="op" id="7046952">}</span><span class="op" id="7046953">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046956">{</span><span class="string" id="7046957">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7046978">,</span>&nbsp;<span class="string" id="7046980">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7046997">,</span>&nbsp;<span class="string" id="7046999">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7047013">,</span>&nbsp;<span class="string" id="7047015">&#34;goodbye,&nbsp;world!&#34;</span><span class="op" id="7047032">}</span><span class="op" id="7047033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047036">{</span><span class="string" id="7047037">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7047058">,</span>&nbsp;<span class="string" id="7047060">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7047078">,</span>&nbsp;<span class="string" id="7047080">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7047094">,</span>&nbsp;<span class="string" id="7047096">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7047112">}</span><span class="op" id="7047113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047116">{</span><span class="string" id="7047117">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7047139">,</span>&nbsp;<span class="string" id="7047141">&#34;$x$x$x&#34;</span><span class="op" id="7047149">,</span>&nbsp;<span class="string" id="7047151">&#34;hi&#34;</span><span class="op" id="7047155">,</span>&nbsp;<span class="string" id="7047157">&#34;hihihi&#34;</span><span class="op" id="7047165">}</span><span class="op" id="7047166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047169">{</span><span class="string" id="7047170">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7047192">,</span>&nbsp;<span class="string" id="7047194">&#34;$x$x$x&#34;</span><span class="op" id="7047202">,</span>&nbsp;<span class="string" id="7047204">&#34;bye&#34;</span><span class="op" id="7047209">,</span>&nbsp;<span class="string" id="7047211">&#34;byebyebye&#34;</span><span class="op" id="7047222">}</span><span class="op" id="7047223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047226">{</span><span class="string" id="7047227">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7047249">,</span>&nbsp;<span class="string" id="7047251">&#34;$xyz&#34;</span><span class="op" id="7047257">,</span>&nbsp;<span class="string" id="7047259">&#34;hi&#34;</span><span class="op" id="7047263">,</span>&nbsp;<span class="string" id="7047265">&#34;&#34;</span><span class="op" id="7047267">}</span><span class="op" id="7047268">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047271">{</span><span class="string" id="7047272">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7047294">,</span>&nbsp;<span class="string" id="7047296">&#34;${x}yz&#34;</span><span class="op" id="7047304">,</span>&nbsp;<span class="string" id="7047306">&#34;hi&#34;</span><span class="op" id="7047310">,</span>&nbsp;<span class="string" id="7047312">&#34;hiyz&#34;</span><span class="op" id="7047318">}</span><span class="op" id="7047319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047322">{</span><span class="string" id="7047323">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7047345">,</span>&nbsp;<span class="string" id="7047347">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7047358">,</span>&nbsp;<span class="string" id="7047360">&#34;hi&#34;</span><span class="op" id="7047364">,</span>&nbsp;<span class="string" id="7047366">&#34;hello&nbsp;$x&#34;</span><span class="op" id="7047376">}</span><span class="op" id="7047377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047380">{</span><span class="string" id="7047381">&#34;a+&#34;</span><span class="op" id="7047385">,</span>&nbsp;<span class="string" id="7047387">&#34;${oops&#34;</span><span class="op" id="7047395">,</span>&nbsp;<span class="string" id="7047397">&#34;aaa&#34;</span><span class="op" id="7047402">,</span>&nbsp;<span class="string" id="7047404">&#34;${oops&#34;</span><span class="op" id="7047412">}</span><span class="op" id="7047413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047416">{</span><span class="string" id="7047417">&#34;a+&#34;</span><span class="op" id="7047421">,</span>&nbsp;<span class="string" id="7047423">&#34;$$&#34;</span><span class="op" id="7047427">,</span>&nbsp;<span class="string" id="7047429">&#34;aaa&#34;</span><span class="op" id="7047434">,</span>&nbsp;<span class="string" id="7047436">&#34;$&#34;</span><span class="op" id="7047439">}</span><span class="op" id="7047440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047443">{</span><span class="string" id="7047444">&#34;a+&#34;</span><span class="op" id="7047448">,</span>&nbsp;<span class="string" id="7047450">&#34;$&#34;</span><span class="op" id="7047453">,</span>&nbsp;<span class="string" id="7047455">&#34;aaa&#34;</span><span class="op" id="7047460">,</span>&nbsp;<span class="string" id="7047462">&#34;$&#34;</span><span class="op" id="7047465">}</span><span class="op" id="7047466">,</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7047470">//&nbsp;Substitution&nbsp;when&nbsp;subexpression&nbsp;isn&#39;t&nbsp;found</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047518">{</span><span class="string" id="7047519">&#34;(x)?&#34;</span><span class="op" id="7047525">,</span>&nbsp;<span class="string" id="7047527">&#34;$1&#34;</span><span class="op" id="7047531">,</span>&nbsp;<span class="string" id="7047533">&#34;123&#34;</span><span class="op" id="7047538">,</span>&nbsp;<span class="string" id="7047540">&#34;123&#34;</span><span class="op" id="7047545">}</span><span class="op" id="7047546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047549">{</span><span class="string" id="7047550">&#34;abc&#34;</span><span class="op" id="7047555">,</span>&nbsp;<span class="string" id="7047557">&#34;$1&#34;</span><span class="op" id="7047561">,</span>&nbsp;<span class="string" id="7047563">&#34;123&#34;</span><span class="op" id="7047568">,</span>&nbsp;<span class="string" id="7047570">&#34;123&#34;</span><span class="op" id="7047575">}</span><span class="op" id="7047576">,</span><br>
<span class="lineno"></span><span class="op" id="7047578">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="7047581">var</span>&nbsp;<span class="ident" id="7047585">replaceLiteralTests</span>&nbsp;<span class="op" id="7047605">=</span>&nbsp;<span class="op" id="7047607">[</span><span class="op" id="7047608">]</span><span class="ident" id="7047609">ReplaceTest</span><span class="op" id="7047620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7047623">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047641">{</span><span class="string" id="7047642">&#34;a+&#34;</span><span class="op" id="7047646">,</span>&nbsp;<span class="string" id="7047648">&#34;($0)&#34;</span><span class="op" id="7047654">,</span>&nbsp;<span class="string" id="7047656">&#34;banana&#34;</span><span class="op" id="7047664">,</span>&nbsp;<span class="string" id="7047666">&#34;b($0)n($0)n($0)&#34;</span><span class="op" id="7047683">}</span><span class="op" id="7047684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047687">{</span><span class="string" id="7047688">&#34;a+&#34;</span><span class="op" id="7047692">,</span>&nbsp;<span class="string" id="7047694">&#34;(${0})&#34;</span><span class="op" id="7047702">,</span>&nbsp;<span class="string" id="7047704">&#34;banana&#34;</span><span class="op" id="7047712">,</span>&nbsp;<span class="string" id="7047714">&#34;b(${0})n(${0})n(${0})&#34;</span><span class="op" id="7047737">}</span><span class="op" id="7047738">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047741">{</span><span class="string" id="7047742">&#34;a+&#34;</span><span class="op" id="7047746">,</span>&nbsp;<span class="string" id="7047748">&#34;(${0})$0&#34;</span><span class="op" id="7047758">,</span>&nbsp;<span class="string" id="7047760">&#34;banana&#34;</span><span class="op" id="7047768">,</span>&nbsp;<span class="string" id="7047770">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="7047799">}</span><span class="op" id="7047800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047803">{</span><span class="string" id="7047804">&#34;a+&#34;</span><span class="op" id="7047808">,</span>&nbsp;<span class="string" id="7047810">&#34;(${0})$0&#34;</span><span class="op" id="7047820">,</span>&nbsp;<span class="string" id="7047822">&#34;banana&#34;</span><span class="op" id="7047830">,</span>&nbsp;<span class="string" id="7047832">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="7047861">}</span><span class="op" id="7047862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047865">{</span><span class="string" id="7047866">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7047879">,</span>&nbsp;<span class="string" id="7047881">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7047896">,</span>&nbsp;<span class="string" id="7047898">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7047912">,</span>&nbsp;<span class="string" id="7047914">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7047929">}</span><span class="op" id="7047930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047933">{</span><span class="string" id="7047934">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7047955">,</span>&nbsp;<span class="string" id="7047957">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7047974">,</span>&nbsp;<span class="string" id="7047976">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7047990">,</span>&nbsp;<span class="string" id="7047992">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7048009">}</span><span class="op" id="7048010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048013">{</span><span class="string" id="7048014">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7048035">,</span>&nbsp;<span class="string" id="7048037">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7048055">,</span>&nbsp;<span class="string" id="7048057">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7048071">,</span>&nbsp;<span class="string" id="7048073">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7048091">}</span><span class="op" id="7048092">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048095">{</span><span class="string" id="7048096">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7048118">,</span>&nbsp;<span class="string" id="7048120">&#34;$x$x$x&#34;</span><span class="op" id="7048128">,</span>&nbsp;<span class="string" id="7048130">&#34;hi&#34;</span><span class="op" id="7048134">,</span>&nbsp;<span class="string" id="7048136">&#34;$x$x$x&#34;</span><span class="op" id="7048144">}</span><span class="op" id="7048145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048148">{</span><span class="string" id="7048149">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7048171">,</span>&nbsp;<span class="string" id="7048173">&#34;$x$x$x&#34;</span><span class="op" id="7048181">,</span>&nbsp;<span class="string" id="7048183">&#34;bye&#34;</span><span class="op" id="7048188">,</span>&nbsp;<span class="string" id="7048190">&#34;$x$x$x&#34;</span><span class="op" id="7048198">}</span><span class="op" id="7048199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048202">{</span><span class="string" id="7048203">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7048225">,</span>&nbsp;<span class="string" id="7048227">&#34;$xyz&#34;</span><span class="op" id="7048233">,</span>&nbsp;<span class="string" id="7048235">&#34;hi&#34;</span><span class="op" id="7048239">,</span>&nbsp;<span class="string" id="7048241">&#34;$xyz&#34;</span><span class="op" id="7048247">}</span><span class="op" id="7048248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048251">{</span><span class="string" id="7048252">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7048274">,</span>&nbsp;<span class="string" id="7048276">&#34;${x}yz&#34;</span><span class="op" id="7048284">,</span>&nbsp;<span class="string" id="7048286">&#34;hi&#34;</span><span class="op" id="7048290">,</span>&nbsp;<span class="string" id="7048292">&#34;${x}yz&#34;</span><span class="op" id="7048300">}</span><span class="op" id="7048301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048304">{</span><span class="string" id="7048305">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7048327">,</span>&nbsp;<span class="string" id="7048329">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7048340">,</span>&nbsp;<span class="string" id="7048342">&#34;hi&#34;</span><span class="op" id="7048346">,</span>&nbsp;<span class="string" id="7048348">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7048359">}</span><span class="op" id="7048360">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048363">{</span><span class="string" id="7048364">&#34;a+&#34;</span><span class="op" id="7048368">,</span>&nbsp;<span class="string" id="7048370">&#34;${oops&#34;</span><span class="op" id="7048378">,</span>&nbsp;<span class="string" id="7048380">&#34;aaa&#34;</span><span class="op" id="7048385">,</span>&nbsp;<span class="string" id="7048387">&#34;${oops&#34;</span><span class="op" id="7048395">}</span><span class="op" id="7048396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048399">{</span><span class="string" id="7048400">&#34;a+&#34;</span><span class="op" id="7048404">,</span>&nbsp;<span class="string" id="7048406">&#34;$$&#34;</span><span class="op" id="7048410">,</span>&nbsp;<span class="string" id="7048412">&#34;aaa&#34;</span><span class="op" id="7048417">,</span>&nbsp;<span class="string" id="7048419">&#34;$$&#34;</span><span class="op" id="7048423">}</span><span class="op" id="7048424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048427">{</span><span class="string" id="7048428">&#34;a+&#34;</span><span class="op" id="7048432">,</span>&nbsp;<span class="string" id="7048434">&#34;$&#34;</span><span class="op" id="7048437">,</span>&nbsp;<span class="string" id="7048439">&#34;aaa&#34;</span><span class="op" id="7048444">,</span>&nbsp;<span class="string" id="7048446">&#34;$&#34;</span><span class="op" id="7048449">}</span><span class="op" id="7048450">,</span><br>
<span class="lineno"></span><span class="op" id="7048452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="7048455">type</span>&nbsp;<span class="ident" id="7048460">ReplaceFuncTest</span>&nbsp;<span class="keyword" id="7048476">struct</span>&nbsp;<span class="op" id="7048483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048486">pattern</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7048500">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048508">replacement</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="7048522">func</span><span class="op" id="7048526">(</span><span class="builtintype" id="7048527">string</span><span class="op" id="7048533">)</span>&nbsp;<span class="builtintype" id="7048535">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048543">input</span><span class="op" id="7048548">,</span>&nbsp;<span class="ident" id="7048550">output</span>&nbsp;<span class="builtintype" id="7048557">string</span><br>
<span class="lineno"></span><span class="op" id="7048564">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7048567">var</span>&nbsp;<span class="ident" id="7048571">replaceFuncTests</span>&nbsp;<span class="op" id="7048588">=</span>&nbsp;<span class="op" id="7048590">[</span><span class="op" id="7048591">]</span><span class="ident" id="7048592">ReplaceFuncTest</span><span class="op" id="7048607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048610">{</span><span class="string" id="7048611">&#34;[a-c]&#34;</span><span class="op" id="7048618">,</span>&nbsp;<span class="keyword" id="7048620">func</span><span class="op" id="7048624">(</span><span class="ident" id="7048625">s</span>&nbsp;<span class="builtintype" id="7048627">string</span><span class="op" id="7048633">)</span>&nbsp;<span class="builtintype" id="7048635">string</span>&nbsp;<span class="op" id="7048642">{</span>&nbsp;<span class="keyword" id="7048644">return</span>&nbsp;<span class="string" id="7048651">&#34;x&#34;</span>&nbsp;<span class="op" id="7048655">+</span>&nbsp;<span class="ident" id="7048657">s</span>&nbsp;<span class="op" id="7048659">+</span>&nbsp;<span class="string" id="7048661">&#34;y&#34;</span>&nbsp;<span class="op" id="7048665">}</span><span class="op" id="7048666">,</span>&nbsp;<span class="string" id="7048668">&#34;defabcdef&#34;</span><span class="op" id="7048679">,</span>&nbsp;<span class="string" id="7048681">&#34;defxayxbyxcydef&#34;</span><span class="op" id="7048698">}</span><span class="op" id="7048699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048702">{</span><span class="string" id="7048703">&#34;[a-c]+&#34;</span><span class="op" id="7048711">,</span>&nbsp;<span class="keyword" id="7048713">func</span><span class="op" id="7048717">(</span><span class="ident" id="7048718">s</span>&nbsp;<span class="builtintype" id="7048720">string</span><span class="op" id="7048726">)</span>&nbsp;<span class="builtintype" id="7048728">string</span>&nbsp;<span class="op" id="7048735">{</span>&nbsp;<span class="keyword" id="7048737">return</span>&nbsp;<span class="string" id="7048744">&#34;x&#34;</span>&nbsp;<span class="op" id="7048748">+</span>&nbsp;<span class="ident" id="7048750">s</span>&nbsp;<span class="op" id="7048752">+</span>&nbsp;<span class="string" id="7048754">&#34;y&#34;</span>&nbsp;<span class="op" id="7048758">}</span><span class="op" id="7048759">,</span>&nbsp;<span class="string" id="7048761">&#34;defabcdef&#34;</span><span class="op" id="7048772">,</span>&nbsp;<span class="string" id="7048774">&#34;defxabcydef&#34;</span><span class="op" id="7048787">}</span><span class="op" id="7048788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048791">{</span><span class="string" id="7048792">&#34;[a-c]*&#34;</span><span class="op" id="7048800">,</span>&nbsp;<span class="keyword" id="7048802">func</span><span class="op" id="7048806">(</span><span class="ident" id="7048807">s</span>&nbsp;<span class="builtintype" id="7048809">string</span><span class="op" id="7048815">)</span>&nbsp;<span class="builtintype" id="7048817">string</span>&nbsp;<span class="op" id="7048824">{</span>&nbsp;<span class="keyword" id="7048826">return</span>&nbsp;<span class="string" id="7048833">&#34;x&#34;</span>&nbsp;<span class="op" id="7048837">+</span>&nbsp;<span class="ident" id="7048839">s</span>&nbsp;<span class="op" id="7048841">+</span>&nbsp;<span class="string" id="7048843">&#34;y&#34;</span>&nbsp;<span class="op" id="7048847">}</span><span class="op" id="7048848">,</span>&nbsp;<span class="string" id="7048850">&#34;defabcdef&#34;</span><span class="op" id="7048861">,</span>&nbsp;<span class="string" id="7048863">&#34;xydxyexyfxabcydxyexyfxy&#34;</span><span class="op" id="7048888">}</span><span class="op" id="7048889">,</span><br>
<span class="lineno">235</span><span class="op" id="7048891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7048894">func</span>&nbsp;<span class="ident" id="7048899">TestReplaceAll</span><span class="op" id="7048913">(</span><span class="ident" id="7048914">t</span>&nbsp;<span class="op" id="7048916">*</span><span class="ident" id="7048917">testing</span><span class="op" id="7048924">.</span><span class="ident" id="7048925">T</span><span class="op" id="7048926">)</span>&nbsp;<span class="op" id="7048928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048931">for</span>&nbsp;<span class="ident" id="7048935">_</span><span class="op" id="7048936">,</span>&nbsp;<span class="ident" id="7048938">tc</span>&nbsp;<span class="op" id="7048941">:=</span>&nbsp;<span class="keyword" id="7048944">range</span>&nbsp;<span class="ident" id="7048950">replaceTests</span>&nbsp;<span class="op" id="7048963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048967">re</span><span class="op" id="7048969">,</span>&nbsp;<span class="ident" id="7048971">err</span>&nbsp;<span class="op" id="7048975">:=</span>&nbsp;<span class="ident" id="7048978">Compile</span><span class="op" id="7048985">(</span><span class="ident" id="7048986">tc</span><span class="op" id="7048988">.</span><span class="ident" id="7048989">pattern</span><span class="op" id="7048996">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049000">if</span>&nbsp;<span class="ident" id="7049003">err</span>&nbsp;<span class="op" id="7049007">!=</span>&nbsp;<span class="ident" id="7049010">nil</span>&nbsp;<span class="op" id="7049014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049019">t</span><span class="op" id="7049020">.</span><span class="ident" id="7049021">Errorf</span><span class="op" id="7049027">(</span><span class="string" id="7049028">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7049063">,</span>&nbsp;<span class="ident" id="7049065">tc</span><span class="op" id="7049067">.</span><span class="ident" id="7049068">pattern</span><span class="op" id="7049075">,</span>&nbsp;<span class="ident" id="7049077">err</span><span class="op" id="7049080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049085">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049100">actual</span>&nbsp;<span class="op" id="7049107">:=</span>&nbsp;<span class="ident" id="7049110">re</span><span class="op" id="7049112">.</span><span class="ident" id="7049113">ReplaceAllString</span><span class="op" id="7049129">(</span><span class="ident" id="7049130">tc</span><span class="op" id="7049132">.</span><span class="ident" id="7049133">input</span><span class="op" id="7049138">,</span>&nbsp;<span class="ident" id="7049140">tc</span><span class="op" id="7049142">.</span><span class="ident" id="7049143">replacement</span><span class="op" id="7049154">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049158">if</span>&nbsp;<span class="ident" id="7049161">actual</span>&nbsp;<span class="op" id="7049168">!=</span>&nbsp;<span class="ident" id="7049171">tc</span><span class="op" id="7049173">.</span><span class="ident" id="7049174">output</span>&nbsp;<span class="op" id="7049181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049186">t</span><span class="op" id="7049187">.</span><span class="ident" id="7049188">Errorf</span><span class="op" id="7049194">(</span><span class="string" id="7049195">&#34;%q.ReplaceAllString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7049237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049243">tc</span><span class="op" id="7049245">.</span><span class="ident" id="7049246">pattern</span><span class="op" id="7049253">,</span>&nbsp;<span class="ident" id="7049255">tc</span><span class="op" id="7049257">.</span><span class="ident" id="7049258">input</span><span class="op" id="7049263">,</span>&nbsp;<span class="ident" id="7049265">tc</span><span class="op" id="7049267">.</span><span class="ident" id="7049268">replacement</span><span class="op" id="7049279">,</span>&nbsp;<span class="ident" id="7049281">actual</span><span class="op" id="7049287">,</span>&nbsp;<span class="ident" id="7049289">tc</span><span class="op" id="7049291">.</span><span class="ident" id="7049292">output</span><span class="op" id="7049298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7049306">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049325">actual</span>&nbsp;<span class="op" id="7049332">=</span>&nbsp;<span class="builtintype" id="7049334">string</span><span class="op" id="7049340">(</span><span class="ident" id="7049341">re</span><span class="op" id="7049343">.</span><span class="ident" id="7049344">ReplaceAll</span><span class="op" id="7049354">(</span><span class="op" id="7049355">[</span><span class="op" id="7049356">]</span><span class="builtintype" id="7049357">byte</span><span class="op" id="7049361">(</span><span class="ident" id="7049362">tc</span><span class="op" id="7049364">.</span><span class="ident" id="7049365">input</span><span class="op" id="7049370">)</span><span class="op" id="7049371">,</span>&nbsp;<span class="op" id="7049373">[</span><span class="op" id="7049374">]</span><span class="builtintype" id="7049375">byte</span><span class="op" id="7049379">(</span><span class="ident" id="7049380">tc</span><span class="op" id="7049382">.</span><span class="ident" id="7049383">replacement</span><span class="op" id="7049394">)</span><span class="op" id="7049395">)</span><span class="op" id="7049396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049400">if</span>&nbsp;<span class="ident" id="7049403">actual</span>&nbsp;<span class="op" id="7049410">!=</span>&nbsp;<span class="ident" id="7049413">tc</span><span class="op" id="7049415">.</span><span class="ident" id="7049416">output</span>&nbsp;<span class="op" id="7049423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049428">t</span><span class="op" id="7049429">.</span><span class="ident" id="7049430">Errorf</span><span class="op" id="7049436">(</span><span class="string" id="7049437">&#34;%q.ReplaceAll(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7049473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049479">tc</span><span class="op" id="7049481">.</span><span class="ident" id="7049482">pattern</span><span class="op" id="7049489">,</span>&nbsp;<span class="ident" id="7049491">tc</span><span class="op" id="7049493">.</span><span class="ident" id="7049494">input</span><span class="op" id="7049499">,</span>&nbsp;<span class="ident" id="7049501">tc</span><span class="op" id="7049503">.</span><span class="ident" id="7049504">replacement</span><span class="op" id="7049515">,</span>&nbsp;<span class="ident" id="7049517">actual</span><span class="op" id="7049523">,</span>&nbsp;<span class="ident" id="7049525">tc</span><span class="op" id="7049527">.</span><span class="ident" id="7049528">output</span><span class="op" id="7049534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049538">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049541">}</span><br>
<span class="lineno"></span><span class="op" id="7049543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7049546">func</span>&nbsp;<span class="ident" id="7049551">TestReplaceAllLiteral</span><span class="op" id="7049572">(</span><span class="ident" id="7049573">t</span>&nbsp;<span class="op" id="7049575">*</span><span class="ident" id="7049576">testing</span><span class="op" id="7049583">.</span><span class="ident" id="7049584">T</span><span class="op" id="7049585">)</span>&nbsp;<span class="op" id="7049587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7049590">//&nbsp;Run&nbsp;ReplaceAll&nbsp;tests&nbsp;that&nbsp;do&nbsp;not&nbsp;have&nbsp;$&nbsp;expansions.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049646">for</span>&nbsp;<span class="ident" id="7049650">_</span><span class="op" id="7049651">,</span>&nbsp;<span class="ident" id="7049653">tc</span>&nbsp;<span class="op" id="7049656">:=</span>&nbsp;<span class="keyword" id="7049659">range</span>&nbsp;<span class="ident" id="7049665">replaceTests</span>&nbsp;<span class="op" id="7049678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049682">if</span>&nbsp;<span class="ident" id="7049685">strings</span><span class="op" id="7049692">.</span><span class="ident" id="7049693">Contains</span><span class="op" id="7049701">(</span><span class="ident" id="7049702">tc</span><span class="op" id="7049704">.</span><span class="ident" id="7049705">replacement</span><span class="op" id="7049716">,</span>&nbsp;<span class="string" id="7049718">&#34;$&#34;</span><span class="op" id="7049721">)</span>&nbsp;<span class="op" id="7049723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049728">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049743">re</span><span class="op" id="7049745">,</span>&nbsp;<span class="ident" id="7049747">err</span>&nbsp;<span class="op" id="7049751">:=</span>&nbsp;<span class="ident" id="7049754">Compile</span><span class="op" id="7049761">(</span><span class="ident" id="7049762">tc</span><span class="op" id="7049764">.</span><span class="ident" id="7049765">pattern</span><span class="op" id="7049772">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049776">if</span>&nbsp;<span class="ident" id="7049779">err</span>&nbsp;<span class="op" id="7049783">!=</span>&nbsp;<span class="ident" id="7049786">nil</span>&nbsp;<span class="op" id="7049790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049795">t</span><span class="op" id="7049796">.</span><span class="ident" id="7049797">Errorf</span><span class="op" id="7049803">(</span><span class="string" id="7049804">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7049839">,</span>&nbsp;<span class="ident" id="7049841">tc</span><span class="op" id="7049843">.</span><span class="ident" id="7049844">pattern</span><span class="op" id="7049851">,</span>&nbsp;<span class="ident" id="7049853">err</span><span class="op" id="7049856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049861">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049876">actual</span>&nbsp;<span class="op" id="7049883">:=</span>&nbsp;<span class="ident" id="7049886">re</span><span class="op" id="7049888">.</span><span class="ident" id="7049889">ReplaceAllLiteralString</span><span class="op" id="7049912">(</span><span class="ident" id="7049913">tc</span><span class="op" id="7049915">.</span><span class="ident" id="7049916">input</span><span class="op" id="7049921">,</span>&nbsp;<span class="ident" id="7049923">tc</span><span class="op" id="7049925">.</span><span class="ident" id="7049926">replacement</span><span class="op" id="7049937">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049941">if</span>&nbsp;<span class="ident" id="7049944">actual</span>&nbsp;<span class="op" id="7049951">!=</span>&nbsp;<span class="ident" id="7049954">tc</span><span class="op" id="7049956">.</span><span class="ident" id="7049957">output</span>&nbsp;<span class="op" id="7049964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049969">t</span><span class="op" id="7049970">.</span><span class="ident" id="7049971">Errorf</span><span class="op" id="7049977">(</span><span class="string" id="7049978">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7050027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050033">tc</span><span class="op" id="7050035">.</span><span class="ident" id="7050036">pattern</span><span class="op" id="7050043">,</span>&nbsp;<span class="ident" id="7050045">tc</span><span class="op" id="7050047">.</span><span class="ident" id="7050048">input</span><span class="op" id="7050053">,</span>&nbsp;<span class="ident" id="7050055">tc</span><span class="op" id="7050057">.</span><span class="ident" id="7050058">replacement</span><span class="op" id="7050069">,</span>&nbsp;<span class="ident" id="7050071">actual</span><span class="op" id="7050077">,</span>&nbsp;<span class="ident" id="7050079">tc</span><span class="op" id="7050081">.</span><span class="ident" id="7050082">output</span><span class="op" id="7050088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7050096">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050115">actual</span>&nbsp;<span class="op" id="7050122">=</span>&nbsp;<span class="builtintype" id="7050124">string</span><span class="op" id="7050130">(</span><span class="ident" id="7050131">re</span><span class="op" id="7050133">.</span><span class="ident" id="7050134">ReplaceAllLiteral</span><span class="op" id="7050151">(</span><span class="op" id="7050152">[</span><span class="op" id="7050153">]</span><span class="builtintype" id="7050154">byte</span><span class="op" id="7050158">(</span><span class="ident" id="7050159">tc</span><span class="op" id="7050161">.</span><span class="ident" id="7050162">input</span><span class="op" id="7050167">)</span><span class="op" id="7050168">,</span>&nbsp;<span class="op" id="7050170">[</span><span class="op" id="7050171">]</span><span class="builtintype" id="7050172">byte</span><span class="op" id="7050176">(</span><span class="ident" id="7050177">tc</span><span class="op" id="7050179">.</span><span class="ident" id="7050180">replacement</span><span class="op" id="7050191">)</span><span class="op" id="7050192">)</span><span class="op" id="7050193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050197">if</span>&nbsp;<span class="ident" id="7050200">actual</span>&nbsp;<span class="op" id="7050207">!=</span>&nbsp;<span class="ident" id="7050210">tc</span><span class="op" id="7050212">.</span><span class="ident" id="7050213">output</span>&nbsp;<span class="op" id="7050220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050225">t</span><span class="op" id="7050226">.</span><span class="ident" id="7050227">Errorf</span><span class="op" id="7050233">(</span><span class="string" id="7050234">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7050277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050283">tc</span><span class="op" id="7050285">.</span><span class="ident" id="7050286">pattern</span><span class="op" id="7050293">,</span>&nbsp;<span class="ident" id="7050295">tc</span><span class="op" id="7050297">.</span><span class="ident" id="7050298">input</span><span class="op" id="7050303">,</span>&nbsp;<span class="ident" id="7050305">tc</span><span class="op" id="7050307">.</span><span class="ident" id="7050308">replacement</span><span class="op" id="7050319">,</span>&nbsp;<span class="ident" id="7050321">actual</span><span class="op" id="7050327">,</span>&nbsp;<span class="ident" id="7050329">tc</span><span class="op" id="7050331">.</span><span class="ident" id="7050332">output</span><span class="op" id="7050338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050342">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7050349">//&nbsp;Run&nbsp;literal-specific&nbsp;tests.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050381">for</span>&nbsp;<span class="ident" id="7050385">_</span><span class="op" id="7050386">,</span>&nbsp;<span class="ident" id="7050388">tc</span>&nbsp;<span class="op" id="7050391">:=</span>&nbsp;<span class="keyword" id="7050394">range</span>&nbsp;<span class="ident" id="7050400">replaceLiteralTests</span>&nbsp;<span class="op" id="7050420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050424">re</span><span class="op" id="7050426">,</span>&nbsp;<span class="ident" id="7050428">err</span>&nbsp;<span class="op" id="7050432">:=</span>&nbsp;<span class="ident" id="7050435">Compile</span><span class="op" id="7050442">(</span><span class="ident" id="7050443">tc</span><span class="op" id="7050445">.</span><span class="ident" id="7050446">pattern</span><span class="op" id="7050453">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050457">if</span>&nbsp;<span class="ident" id="7050460">err</span>&nbsp;<span class="op" id="7050464">!=</span>&nbsp;<span class="ident" id="7050467">nil</span>&nbsp;<span class="op" id="7050471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050476">t</span><span class="op" id="7050477">.</span><span class="ident" id="7050478">Errorf</span><span class="op" id="7050484">(</span><span class="string" id="7050485">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7050520">,</span>&nbsp;<span class="ident" id="7050522">tc</span><span class="op" id="7050524">.</span><span class="ident" id="7050525">pattern</span><span class="op" id="7050532">,</span>&nbsp;<span class="ident" id="7050534">err</span><span class="op" id="7050537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050542">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050557">actual</span>&nbsp;<span class="op" id="7050564">:=</span>&nbsp;<span class="ident" id="7050567">re</span><span class="op" id="7050569">.</span><span class="ident" id="7050570">ReplaceAllLiteralString</span><span class="op" id="7050593">(</span><span class="ident" id="7050594">tc</span><span class="op" id="7050596">.</span><span class="ident" id="7050597">input</span><span class="op" id="7050602">,</span>&nbsp;<span class="ident" id="7050604">tc</span><span class="op" id="7050606">.</span><span class="ident" id="7050607">replacement</span><span class="op" id="7050618">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050622">if</span>&nbsp;<span class="ident" id="7050625">actual</span>&nbsp;<span class="op" id="7050632">!=</span>&nbsp;<span class="ident" id="7050635">tc</span><span class="op" id="7050637">.</span><span class="ident" id="7050638">output</span>&nbsp;<span class="op" id="7050645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050650">t</span><span class="op" id="7050651">.</span><span class="ident" id="7050652">Errorf</span><span class="op" id="7050658">(</span><span class="string" id="7050659">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7050708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050714">tc</span><span class="op" id="7050716">.</span><span class="ident" id="7050717">pattern</span><span class="op" id="7050724">,</span>&nbsp;<span class="ident" id="7050726">tc</span><span class="op" id="7050728">.</span><span class="ident" id="7050729">input</span><span class="op" id="7050734">,</span>&nbsp;<span class="ident" id="7050736">tc</span><span class="op" id="7050738">.</span><span class="ident" id="7050739">replacement</span><span class="op" id="7050750">,</span>&nbsp;<span class="ident" id="7050752">actual</span><span class="op" id="7050758">,</span>&nbsp;<span class="ident" id="7050760">tc</span><span class="op" id="7050762">.</span><span class="ident" id="7050763">output</span><span class="op" id="7050769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7050777">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050796">actual</span>&nbsp;<span class="op" id="7050803">=</span>&nbsp;<span class="builtintype" id="7050805">string</span><span class="op" id="7050811">(</span><span class="ident" id="7050812">re</span><span class="op" id="7050814">.</span><span class="ident" id="7050815">ReplaceAllLiteral</span><span class="op" id="7050832">(</span><span class="op" id="7050833">[</span><span class="op" id="7050834">]</span><span class="builtintype" id="7050835">byte</span><span class="op" id="7050839">(</span><span class="ident" id="7050840">tc</span><span class="op" id="7050842">.</span><span class="ident" id="7050843">input</span><span class="op" id="7050848">)</span><span class="op" id="7050849">,</span>&nbsp;<span class="op" id="7050851">[</span><span class="op" id="7050852">]</span><span class="builtintype" id="7050853">byte</span><span class="op" id="7050857">(</span><span class="ident" id="7050858">tc</span><span class="op" id="7050860">.</span><span class="ident" id="7050861">replacement</span><span class="op" id="7050872">)</span><span class="op" id="7050873">)</span><span class="op" id="7050874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050878">if</span>&nbsp;<span class="ident" id="7050881">actual</span>&nbsp;<span class="op" id="7050888">!=</span>&nbsp;<span class="ident" id="7050891">tc</span><span class="op" id="7050893">.</span><span class="ident" id="7050894">output</span>&nbsp;<span class="op" id="7050901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050906">t</span><span class="op" id="7050907">.</span><span class="ident" id="7050908">Errorf</span><span class="op" id="7050914">(</span><span class="string" id="7050915">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7050958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050964">tc</span><span class="op" id="7050966">.</span><span class="ident" id="7050967">pattern</span><span class="op" id="7050974">,</span>&nbsp;<span class="ident" id="7050976">tc</span><span class="op" id="7050978">.</span><span class="ident" id="7050979">input</span><span class="op" id="7050984">,</span>&nbsp;<span class="ident" id="7050986">tc</span><span class="op" id="7050988">.</span><span class="ident" id="7050989">replacement</span><span class="op" id="7051000">,</span>&nbsp;<span class="ident" id="7051002">actual</span><span class="op" id="7051008">,</span>&nbsp;<span class="ident" id="7051010">tc</span><span class="op" id="7051012">.</span><span class="ident" id="7051013">output</span><span class="op" id="7051019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051023">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051026">}</span><br>
<span class="lineno"></span><span class="op" id="7051028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7051031">func</span>&nbsp;<span class="ident" id="7051036">TestReplaceAllFunc</span><span class="op" id="7051054">(</span><span class="ident" id="7051055">t</span>&nbsp;<span class="op" id="7051057">*</span><span class="ident" id="7051058">testing</span><span class="op" id="7051065">.</span><span class="ident" id="7051066">T</span><span class="op" id="7051067">)</span>&nbsp;<span class="op" id="7051069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051072">for</span>&nbsp;<span class="ident" id="7051076">_</span><span class="op" id="7051077">,</span>&nbsp;<span class="ident" id="7051079">tc</span>&nbsp;<span class="op" id="7051082">:=</span>&nbsp;<span class="keyword" id="7051085">range</span>&nbsp;<span class="ident" id="7051091">replaceFuncTests</span>&nbsp;<span class="op" id="7051108">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051112">re</span><span class="op" id="7051114">,</span>&nbsp;<span class="ident" id="7051116">err</span>&nbsp;<span class="op" id="7051120">:=</span>&nbsp;<span class="ident" id="7051123">Compile</span><span class="op" id="7051130">(</span><span class="ident" id="7051131">tc</span><span class="op" id="7051133">.</span><span class="ident" id="7051134">pattern</span><span class="op" id="7051141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051145">if</span>&nbsp;<span class="ident" id="7051148">err</span>&nbsp;<span class="op" id="7051152">!=</span>&nbsp;<span class="ident" id="7051155">nil</span>&nbsp;<span class="op" id="7051159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051164">t</span><span class="op" id="7051165">.</span><span class="ident" id="7051166">Errorf</span><span class="op" id="7051172">(</span><span class="string" id="7051173">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7051208">,</span>&nbsp;<span class="ident" id="7051210">tc</span><span class="op" id="7051212">.</span><span class="ident" id="7051213">pattern</span><span class="op" id="7051220">,</span>&nbsp;<span class="ident" id="7051222">err</span><span class="op" id="7051225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051230">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051241">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051245">actual</span>&nbsp;<span class="op" id="7051252">:=</span>&nbsp;<span class="ident" id="7051255">re</span><span class="op" id="7051257">.</span><span class="ident" id="7051258">ReplaceAllStringFunc</span><span class="op" id="7051278">(</span><span class="ident" id="7051279">tc</span><span class="op" id="7051281">.</span><span class="ident" id="7051282">input</span><span class="op" id="7051287">,</span>&nbsp;<span class="ident" id="7051289">tc</span><span class="op" id="7051291">.</span><span class="ident" id="7051292">replacement</span><span class="op" id="7051303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051307">if</span>&nbsp;<span class="ident" id="7051310">actual</span>&nbsp;<span class="op" id="7051317">!=</span>&nbsp;<span class="ident" id="7051320">tc</span><span class="op" id="7051322">.</span><span class="ident" id="7051323">output</span>&nbsp;<span class="op" id="7051330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051335">t</span><span class="op" id="7051336">.</span><span class="ident" id="7051337">Errorf</span><span class="op" id="7051343">(</span><span class="string" id="7051344">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7051381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051387">tc</span><span class="op" id="7051389">.</span><span class="ident" id="7051390">pattern</span><span class="op" id="7051397">,</span>&nbsp;<span class="ident" id="7051399">tc</span><span class="op" id="7051401">.</span><span class="ident" id="7051402">input</span><span class="op" id="7051407">,</span>&nbsp;<span class="ident" id="7051409">actual</span><span class="op" id="7051415">,</span>&nbsp;<span class="ident" id="7051417">tc</span><span class="op" id="7051419">.</span><span class="ident" id="7051420">output</span><span class="op" id="7051426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051430">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7051434">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051453">actual</span>&nbsp;<span class="op" id="7051460">=</span>&nbsp;<span class="builtintype" id="7051462">string</span><span class="op" id="7051468">(</span><span class="ident" id="7051469">re</span><span class="op" id="7051471">.</span><span class="ident" id="7051472">ReplaceAllFunc</span><span class="op" id="7051486">(</span><span class="op" id="7051487">[</span><span class="op" id="7051488">]</span><span class="builtintype" id="7051489">byte</span><span class="op" id="7051493">(</span><span class="ident" id="7051494">tc</span><span class="op" id="7051496">.</span><span class="ident" id="7051497">input</span><span class="op" id="7051502">)</span><span class="op" id="7051503">,</span>&nbsp;<span class="keyword" id="7051505">func</span><span class="op" id="7051509">(</span><span class="ident" id="7051510">s</span>&nbsp;<span class="op" id="7051512">[</span><span class="op" id="7051513">]</span><span class="builtintype" id="7051514">byte</span><span class="op" id="7051518">)</span>&nbsp;<span class="op" id="7051520">[</span><span class="op" id="7051521">]</span><span class="builtintype" id="7051522">byte</span>&nbsp;<span class="op" id="7051527">{</span>&nbsp;<span class="keyword" id="7051529">return</span>&nbsp;<span class="op" id="7051536">[</span><span class="op" id="7051537">]</span><span class="builtintype" id="7051538">byte</span><span class="op" id="7051542">(</span><span class="ident" id="7051543">tc</span><span class="op" id="7051545">.</span><span class="ident" id="7051546">replacement</span><span class="op" id="7051557">(</span><span class="builtintype" id="7051558">string</span><span class="op" id="7051564">(</span><span class="ident" id="7051565">s</span><span class="op" id="7051566">)</span><span class="op" id="7051567">)</span><span class="op" id="7051568">)</span>&nbsp;<span class="op" id="7051570">}</span><span class="op" id="7051571">)</span><span class="op" id="7051572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051576">if</span>&nbsp;<span class="ident" id="7051579">actual</span>&nbsp;<span class="op" id="7051586">!=</span>&nbsp;<span class="ident" id="7051589">tc</span><span class="op" id="7051591">.</span><span class="ident" id="7051592">output</span>&nbsp;<span class="op" id="7051599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051604">t</span><span class="op" id="7051605">.</span><span class="ident" id="7051606">Errorf</span><span class="op" id="7051612">(</span><span class="string" id="7051613">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7051650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051656">tc</span><span class="op" id="7051658">.</span><span class="ident" id="7051659">pattern</span><span class="op" id="7051666">,</span>&nbsp;<span class="ident" id="7051668">tc</span><span class="op" id="7051670">.</span><span class="ident" id="7051671">input</span><span class="op" id="7051676">,</span>&nbsp;<span class="ident" id="7051678">actual</span><span class="op" id="7051684">,</span>&nbsp;<span class="ident" id="7051686">tc</span><span class="op" id="7051688">.</span><span class="ident" id="7051689">output</span><span class="op" id="7051695">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051702">}</span><br>
<span class="lineno"></span><span class="op" id="7051704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7051707">type</span>&nbsp;<span class="ident" id="7051712">MetaTest</span>&nbsp;<span class="keyword" id="7051721">struct</span>&nbsp;<span class="op" id="7051728">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051731">pattern</span><span class="op" id="7051738">,</span>&nbsp;<span class="ident" id="7051740">output</span><span class="op" id="7051746">,</span>&nbsp;<span class="ident" id="7051748">literal</span>&nbsp;<span class="builtintype" id="7051756">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051764">isLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7051789">bool</span><br>
<span class="lineno"></span><span class="op" id="7051794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7051797">var</span>&nbsp;<span class="ident" id="7051801">metaTests</span>&nbsp;<span class="op" id="7051811">=</span>&nbsp;<span class="op" id="7051813">[</span><span class="op" id="7051814">]</span><span class="ident" id="7051815">MetaTest</span><span class="op" id="7051823">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051826">{</span><span class="string" id="7051827">``</span><span class="op" id="7051829">,</span>&nbsp;<span class="string" id="7051831">``</span><span class="op" id="7051833">,</span>&nbsp;<span class="string" id="7051835">``</span><span class="op" id="7051837">,</span>&nbsp;<span class="builtintype" id="7051839">true</span><span class="op" id="7051843">}</span><span class="op" id="7051844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051847">{</span><span class="string" id="7051848">`foo`</span><span class="op" id="7051853">,</span>&nbsp;<span class="string" id="7051855">`foo`</span><span class="op" id="7051860">,</span>&nbsp;<span class="string" id="7051862">`foo`</span><span class="op" id="7051867">,</span>&nbsp;<span class="builtintype" id="7051869">true</span><span class="op" id="7051873">}</span><span class="op" id="7051874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051877">{</span><span class="string" id="7051878">`foo\.\$`</span><span class="op" id="7051887">,</span>&nbsp;<span class="string" id="7051889">`foo\\\.\\\$`</span><span class="op" id="7051902">,</span>&nbsp;<span class="string" id="7051904">`foo.$`</span><span class="op" id="7051911">,</span>&nbsp;<span class="builtintype" id="7051913">true</span><span class="op" id="7051917">}</span><span class="op" id="7051918">,</span>&nbsp;<span class="comment" id="7051920">//&nbsp;has&nbsp;meta&nbsp;but&nbsp;no&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051949">{</span><span class="string" id="7051950">`foo.\$`</span><span class="op" id="7051958">,</span>&nbsp;<span class="string" id="7051960">`foo\.\\\$`</span><span class="op" id="7051971">,</span>&nbsp;<span class="string" id="7051973">`foo`</span><span class="op" id="7051978">,</span>&nbsp;<span class="builtintype" id="7051980">false</span><span class="op" id="7051985">}</span><span class="op" id="7051986">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7051992">//&nbsp;has&nbsp;escaped&nbsp;operators&nbsp;and&nbsp;real&nbsp;operators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052037">{</span><span class="string" id="7052038">`!@#$%^&amp;*()_+-=[{]}\|,&lt;.&gt;/?~`</span><span class="op" id="7052067">,</span>&nbsp;<span class="string" id="7052069">`!@#\$%\^&amp;\*\(\)_\+-=\[\{\]\}\\\|,&lt;\.&gt;/\?~`</span><span class="op" id="7052112">,</span>&nbsp;<span class="string" id="7052114">`!@#`</span><span class="op" id="7052119">,</span>&nbsp;<span class="builtintype" id="7052121">false</span><span class="op" id="7052126">}</span><span class="op" id="7052127">,</span><br>
<span class="lineno">335</span><span class="op" id="7052129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7052132">func</span>&nbsp;<span class="ident" id="7052137">TestQuoteMeta</span><span class="op" id="7052150">(</span><span class="ident" id="7052151">t</span>&nbsp;<span class="op" id="7052153">*</span><span class="ident" id="7052154">testing</span><span class="op" id="7052161">.</span><span class="ident" id="7052162">T</span><span class="op" id="7052163">)</span>&nbsp;<span class="op" id="7052165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052168">for</span>&nbsp;<span class="ident" id="7052172">_</span><span class="op" id="7052173">,</span>&nbsp;<span class="ident" id="7052175">tc</span>&nbsp;<span class="op" id="7052178">:=</span>&nbsp;<span class="keyword" id="7052181">range</span>&nbsp;<span class="ident" id="7052187">metaTests</span>&nbsp;<span class="op" id="7052197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7052201">//&nbsp;Verify&nbsp;that&nbsp;QuoteMeta&nbsp;returns&nbsp;the&nbsp;expected&nbsp;string.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052257">quoted</span>&nbsp;<span class="op" id="7052264">:=</span>&nbsp;<span class="ident" id="7052267">QuoteMeta</span><span class="op" id="7052276">(</span><span class="ident" id="7052277">tc</span><span class="op" id="7052279">.</span><span class="ident" id="7052280">pattern</span><span class="op" id="7052287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052291">if</span>&nbsp;<span class="ident" id="7052294">quoted</span>&nbsp;<span class="op" id="7052301">!=</span>&nbsp;<span class="ident" id="7052304">tc</span><span class="op" id="7052306">.</span><span class="ident" id="7052307">output</span>&nbsp;<span class="op" id="7052314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052319">t</span><span class="op" id="7052320">.</span><span class="ident" id="7052321">Errorf</span><span class="op" id="7052327">(</span><span class="string" id="7052328">&#34;QuoteMeta(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7052363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052369">tc</span><span class="op" id="7052371">.</span><span class="ident" id="7052372">pattern</span><span class="op" id="7052379">,</span>&nbsp;<span class="ident" id="7052381">quoted</span><span class="op" id="7052387">,</span>&nbsp;<span class="ident" id="7052389">tc</span><span class="op" id="7052391">.</span><span class="ident" id="7052392">output</span><span class="op" id="7052398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052403">continue</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7052419">//&nbsp;Verify&nbsp;that&nbsp;the&nbsp;quoted&nbsp;string&nbsp;is&nbsp;in&nbsp;fact&nbsp;treated&nbsp;as&nbsp;expected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7052485">//&nbsp;by&nbsp;Compile&nbsp;--&nbsp;i.e.&nbsp;that&nbsp;it&nbsp;matches&nbsp;the&nbsp;original,&nbsp;unquoted&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052556">if</span>&nbsp;<span class="ident" id="7052559">tc</span><span class="op" id="7052561">.</span><span class="ident" id="7052562">pattern</span>&nbsp;<span class="op" id="7052570">!=</span>&nbsp;<span class="string" id="7052573">&#34;&#34;</span>&nbsp;<span class="op" id="7052576">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052581">re</span><span class="op" id="7052583">,</span>&nbsp;<span class="ident" id="7052585">err</span>&nbsp;<span class="op" id="7052589">:=</span>&nbsp;<span class="ident" id="7052592">Compile</span><span class="op" id="7052599">(</span><span class="ident" id="7052600">quoted</span><span class="op" id="7052606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052611">if</span>&nbsp;<span class="ident" id="7052614">err</span>&nbsp;<span class="op" id="7052618">!=</span>&nbsp;<span class="ident" id="7052621">nil</span>&nbsp;<span class="op" id="7052625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052631">t</span><span class="op" id="7052632">.</span><span class="ident" id="7052633">Errorf</span><span class="op" id="7052639">(</span><span class="string" id="7052640">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;QuoteMeta(`%s`):&nbsp;%v&#34;</span><span class="op" id="7052688">,</span>&nbsp;<span class="ident" id="7052690">tc</span><span class="op" id="7052692">.</span><span class="ident" id="7052693">pattern</span><span class="op" id="7052700">,</span>&nbsp;<span class="ident" id="7052702">err</span><span class="op" id="7052705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052711">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052723">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052728">src</span>&nbsp;<span class="op" id="7052732">:=</span>&nbsp;<span class="string" id="7052735">&#34;abc&#34;</span>&nbsp;<span class="op" id="7052741">+</span>&nbsp;<span class="ident" id="7052743">tc</span><span class="op" id="7052745">.</span><span class="ident" id="7052746">pattern</span>&nbsp;<span class="op" id="7052754">+</span>&nbsp;<span class="string" id="7052756">&#34;def&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052765">repl</span>&nbsp;<span class="op" id="7052770">:=</span>&nbsp;<span class="string" id="7052773">&#34;xyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052782">replaced</span>&nbsp;<span class="op" id="7052791">:=</span>&nbsp;<span class="ident" id="7052794">re</span><span class="op" id="7052796">.</span><span class="ident" id="7052797">ReplaceAllString</span><span class="op" id="7052813">(</span><span class="ident" id="7052814">src</span><span class="op" id="7052817">,</span>&nbsp;<span class="ident" id="7052819">repl</span><span class="op" id="7052823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052828">expected</span>&nbsp;<span class="op" id="7052837">:=</span>&nbsp;<span class="string" id="7052840">&#34;abcxyzdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052855">if</span>&nbsp;<span class="ident" id="7052858">replaced</span>&nbsp;<span class="op" id="7052867">!=</span>&nbsp;<span class="ident" id="7052870">expected</span>&nbsp;<span class="op" id="7052879">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052885">t</span><span class="op" id="7052886">.</span><span class="ident" id="7052887">Errorf</span><span class="op" id="7052893">(</span><span class="string" id="7052894">&#34;QuoteMeta(`%s`).Replace(`%s`,`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7052948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052955">tc</span><span class="op" id="7052957">.</span><span class="ident" id="7052958">pattern</span><span class="op" id="7052965">,</span>&nbsp;<span class="ident" id="7052967">src</span><span class="op" id="7052970">,</span>&nbsp;<span class="ident" id="7052972">repl</span><span class="op" id="7052976">,</span>&nbsp;<span class="ident" id="7052978">replaced</span><span class="op" id="7052986">,</span>&nbsp;<span class="ident" id="7052988">expected</span><span class="op" id="7052996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053008">}</span><br>
<span class="lineno">365</span><span class="op" id="7053010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7053013">func</span>&nbsp;<span class="ident" id="7053018">TestLiteralPrefix</span><span class="op" id="7053035">(</span><span class="ident" id="7053036">t</span>&nbsp;<span class="op" id="7053038">*</span><span class="ident" id="7053039">testing</span><span class="op" id="7053046">.</span><span class="ident" id="7053047">T</span><span class="op" id="7053048">)</span>&nbsp;<span class="op" id="7053050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053053">for</span>&nbsp;<span class="ident" id="7053057">_</span><span class="op" id="7053058">,</span>&nbsp;<span class="ident" id="7053060">tc</span>&nbsp;<span class="op" id="7053063">:=</span>&nbsp;<span class="keyword" id="7053066">range</span>&nbsp;<span class="ident" id="7053072">metaTests</span>&nbsp;<span class="op" id="7053082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053086">//&nbsp;Literal&nbsp;method&nbsp;needs&nbsp;to&nbsp;scan&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053133">re</span>&nbsp;<span class="op" id="7053136">:=</span>&nbsp;<span class="ident" id="7053139">MustCompile</span><span class="op" id="7053150">(</span><span class="ident" id="7053151">tc</span><span class="op" id="7053153">.</span><span class="ident" id="7053154">pattern</span><span class="op" id="7053161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053165">str</span><span class="op" id="7053168">,</span>&nbsp;<span class="ident" id="7053170">complete</span>&nbsp;<span class="op" id="7053179">:=</span>&nbsp;<span class="ident" id="7053182">re</span><span class="op" id="7053184">.</span><span class="ident" id="7053185">LiteralPrefix</span><span class="op" id="7053198">(</span><span class="op" id="7053199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053203">if</span>&nbsp;<span class="ident" id="7053206">complete</span>&nbsp;<span class="op" id="7053215">!=</span>&nbsp;<span class="ident" id="7053218">tc</span><span class="op" id="7053220">.</span><span class="ident" id="7053221">isLiteral</span>&nbsp;<span class="op" id="7053231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053236">t</span><span class="op" id="7053237">.</span><span class="ident" id="7053238">Errorf</span><span class="op" id="7053244">(</span><span class="string" id="7053245">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="7053280">,</span>&nbsp;<span class="ident" id="7053282">tc</span><span class="op" id="7053284">.</span><span class="ident" id="7053285">pattern</span><span class="op" id="7053292">,</span>&nbsp;<span class="ident" id="7053294">complete</span><span class="op" id="7053302">,</span>&nbsp;<span class="ident" id="7053304">tc</span><span class="op" id="7053306">.</span><span class="ident" id="7053307">isLiteral</span><span class="op" id="7053316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053320">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053324">if</span>&nbsp;<span class="ident" id="7053327">str</span>&nbsp;<span class="op" id="7053331">!=</span>&nbsp;<span class="ident" id="7053334">tc</span><span class="op" id="7053336">.</span><span class="ident" id="7053337">literal</span>&nbsp;<span class="op" id="7053345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053350">t</span><span class="op" id="7053351">.</span><span class="ident" id="7053352">Errorf</span><span class="op" id="7053358">(</span><span class="string" id="7053359">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7053398">,</span>&nbsp;<span class="ident" id="7053400">tc</span><span class="op" id="7053402">.</span><span class="ident" id="7053403">pattern</span><span class="op" id="7053410">,</span>&nbsp;<span class="ident" id="7053412">str</span><span class="op" id="7053415">,</span>&nbsp;<span class="ident" id="7053417">tc</span><span class="op" id="7053419">.</span><span class="ident" id="7053420">literal</span><span class="op" id="7053427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053434">}</span><br>
<span class="lineno"></span><span class="op" id="7053436">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="7053439">type</span>&nbsp;<span class="ident" id="7053444">subexpCase</span>&nbsp;<span class="keyword" id="7053455">struct</span>&nbsp;<span class="op" id="7053462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053465">input</span>&nbsp;<span class="builtintype" id="7053471">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053479">num</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7053485">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053490">names</span>&nbsp;<span class="op" id="7053496">[</span><span class="op" id="7053497">]</span><span class="builtintype" id="7053498">string</span><br>
<span class="lineno">385</span><span class="op" id="7053505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7053508">var</span>&nbsp;<span class="ident" id="7053512">subexpCases</span>&nbsp;<span class="op" id="7053524">=</span>&nbsp;<span class="op" id="7053526">[</span><span class="op" id="7053527">]</span><span class="ident" id="7053528">subexpCase</span><span class="op" id="7053538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053541">{</span><span class="string" id="7053542">``</span><span class="op" id="7053544">,</span>&nbsp;<span class="num" id="7053546">0</span><span class="op" id="7053547">,</span>&nbsp;<span class="ident" id="7053549">nil</span><span class="op" id="7053552">}</span><span class="op" id="7053553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053556">{</span><span class="string" id="7053557">`.*`</span><span class="op" id="7053561">,</span>&nbsp;<span class="num" id="7053563">0</span><span class="op" id="7053564">,</span>&nbsp;<span class="ident" id="7053566">nil</span><span class="op" id="7053569">}</span><span class="op" id="7053570">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053573">{</span><span class="string" id="7053574">`abba`</span><span class="op" id="7053580">,</span>&nbsp;<span class="num" id="7053582">0</span><span class="op" id="7053583">,</span>&nbsp;<span class="ident" id="7053585">nil</span><span class="op" id="7053588">}</span><span class="op" id="7053589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053592">{</span><span class="string" id="7053593">`ab(b)a`</span><span class="op" id="7053601">,</span>&nbsp;<span class="num" id="7053603">1</span><span class="op" id="7053604">,</span>&nbsp;<span class="op" id="7053606">[</span><span class="op" id="7053607">]</span><span class="builtintype" id="7053608">string</span><span class="op" id="7053614">{</span><span class="string" id="7053615">&#34;&#34;</span><span class="op" id="7053617">,</span>&nbsp;<span class="string" id="7053619">&#34;&#34;</span><span class="op" id="7053621">}</span><span class="op" id="7053622">}</span><span class="op" id="7053623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053626">{</span><span class="string" id="7053627">`ab(.*)a`</span><span class="op" id="7053636">,</span>&nbsp;<span class="num" id="7053638">1</span><span class="op" id="7053639">,</span>&nbsp;<span class="op" id="7053641">[</span><span class="op" id="7053642">]</span><span class="builtintype" id="7053643">string</span><span class="op" id="7053649">{</span><span class="string" id="7053650">&#34;&#34;</span><span class="op" id="7053652">,</span>&nbsp;<span class="string" id="7053654">&#34;&#34;</span><span class="op" id="7053656">}</span><span class="op" id="7053657">}</span><span class="op" id="7053658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053661">{</span><span class="string" id="7053662">`(.*)ab(.*)a`</span><span class="op" id="7053675">,</span>&nbsp;<span class="num" id="7053677">2</span><span class="op" id="7053678">,</span>&nbsp;<span class="op" id="7053680">[</span><span class="op" id="7053681">]</span><span class="builtintype" id="7053682">string</span><span class="op" id="7053688">{</span><span class="string" id="7053689">&#34;&#34;</span><span class="op" id="7053691">,</span>&nbsp;<span class="string" id="7053693">&#34;&#34;</span><span class="op" id="7053695">,</span>&nbsp;<span class="string" id="7053697">&#34;&#34;</span><span class="op" id="7053699">}</span><span class="op" id="7053700">}</span><span class="op" id="7053701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053704">{</span><span class="string" id="7053705">`(.*)(ab)(.*)a`</span><span class="op" id="7053720">,</span>&nbsp;<span class="num" id="7053722">3</span><span class="op" id="7053723">,</span>&nbsp;<span class="op" id="7053725">[</span><span class="op" id="7053726">]</span><span class="builtintype" id="7053727">string</span><span class="op" id="7053733">{</span><span class="string" id="7053734">&#34;&#34;</span><span class="op" id="7053736">,</span>&nbsp;<span class="string" id="7053738">&#34;&#34;</span><span class="op" id="7053740">,</span>&nbsp;<span class="string" id="7053742">&#34;&#34;</span><span class="op" id="7053744">,</span>&nbsp;<span class="string" id="7053746">&#34;&#34;</span><span class="op" id="7053748">}</span><span class="op" id="7053749">}</span><span class="op" id="7053750">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053753">{</span><span class="string" id="7053754">`(.*)((a)b)(.*)a`</span><span class="op" id="7053771">,</span>&nbsp;<span class="num" id="7053773">4</span><span class="op" id="7053774">,</span>&nbsp;<span class="op" id="7053776">[</span><span class="op" id="7053777">]</span><span class="builtintype" id="7053778">string</span><span class="op" id="7053784">{</span><span class="string" id="7053785">&#34;&#34;</span><span class="op" id="7053787">,</span>&nbsp;<span class="string" id="7053789">&#34;&#34;</span><span class="op" id="7053791">,</span>&nbsp;<span class="string" id="7053793">&#34;&#34;</span><span class="op" id="7053795">,</span>&nbsp;<span class="string" id="7053797">&#34;&#34;</span><span class="op" id="7053799">,</span>&nbsp;<span class="string" id="7053801">&#34;&#34;</span><span class="op" id="7053803">}</span><span class="op" id="7053804">}</span><span class="op" id="7053805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053808">{</span><span class="string" id="7053809">`(.*)(\(ab)(.*)a`</span><span class="op" id="7053826">,</span>&nbsp;<span class="num" id="7053828">3</span><span class="op" id="7053829">,</span>&nbsp;<span class="op" id="7053831">[</span><span class="op" id="7053832">]</span><span class="builtintype" id="7053833">string</span><span class="op" id="7053839">{</span><span class="string" id="7053840">&#34;&#34;</span><span class="op" id="7053842">,</span>&nbsp;<span class="string" id="7053844">&#34;&#34;</span><span class="op" id="7053846">,</span>&nbsp;<span class="string" id="7053848">&#34;&#34;</span><span class="op" id="7053850">,</span>&nbsp;<span class="string" id="7053852">&#34;&#34;</span><span class="op" id="7053854">}</span><span class="op" id="7053855">}</span><span class="op" id="7053856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053859">{</span><span class="string" id="7053860">`(.*)(\(a\)b)(.*)a`</span><span class="op" id="7053879">,</span>&nbsp;<span class="num" id="7053881">3</span><span class="op" id="7053882">,</span>&nbsp;<span class="op" id="7053884">[</span><span class="op" id="7053885">]</span><span class="builtintype" id="7053886">string</span><span class="op" id="7053892">{</span><span class="string" id="7053893">&#34;&#34;</span><span class="op" id="7053895">,</span>&nbsp;<span class="string" id="7053897">&#34;&#34;</span><span class="op" id="7053899">,</span>&nbsp;<span class="string" id="7053901">&#34;&#34;</span><span class="op" id="7053903">,</span>&nbsp;<span class="string" id="7053905">&#34;&#34;</span><span class="op" id="7053907">}</span><span class="op" id="7053908">}</span><span class="op" id="7053909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053912">{</span><span class="string" id="7053913">`(?P&lt;foo&gt;.*)(?P&lt;bar&gt;(a)b)(?P&lt;foo&gt;.*)a`</span><span class="op" id="7053951">,</span>&nbsp;<span class="num" id="7053953">4</span><span class="op" id="7053954">,</span>&nbsp;<span class="op" id="7053956">[</span><span class="op" id="7053957">]</span><span class="builtintype" id="7053958">string</span><span class="op" id="7053964">{</span><span class="string" id="7053965">&#34;&#34;</span><span class="op" id="7053967">,</span>&nbsp;<span class="string" id="7053969">&#34;foo&#34;</span><span class="op" id="7053974">,</span>&nbsp;<span class="string" id="7053976">&#34;bar&#34;</span><span class="op" id="7053981">,</span>&nbsp;<span class="string" id="7053983">&#34;&#34;</span><span class="op" id="7053985">,</span>&nbsp;<span class="string" id="7053987">&#34;foo&#34;</span><span class="op" id="7053992">}</span><span class="op" id="7053993">}</span><span class="op" id="7053994">,</span><br>
<span class="lineno"></span><span class="op" id="7053996">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="7053999">func</span>&nbsp;<span class="ident" id="7054004">TestSubexp</span><span class="op" id="7054014">(</span><span class="ident" id="7054015">t</span>&nbsp;<span class="op" id="7054017">*</span><span class="ident" id="7054018">testing</span><span class="op" id="7054025">.</span><span class="ident" id="7054026">T</span><span class="op" id="7054027">)</span>&nbsp;<span class="op" id="7054029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7054032">for</span>&nbsp;<span class="ident" id="7054036">_</span><span class="op" id="7054037">,</span>&nbsp;<span class="ident" id="7054039">c</span>&nbsp;<span class="op" id="7054041">:=</span>&nbsp;<span class="keyword" id="7054044">range</span>&nbsp;<span class="ident" id="7054050">subexpCases</span>&nbsp;<span class="op" id="7054062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054066">re</span>&nbsp;<span class="op" id="7054069">:=</span>&nbsp;<span class="ident" id="7054072">MustCompile</span><span class="op" id="7054083">(</span><span class="ident" id="7054084">c</span><span class="op" id="7054085">.</span><span class="ident" id="7054086">input</span><span class="op" id="7054091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054095">n</span>&nbsp;<span class="op" id="7054097">:=</span>&nbsp;<span class="ident" id="7054100">re</span><span class="op" id="7054102">.</span><span class="ident" id="7054103">NumSubexp</span><span class="op" id="7054112">(</span><span class="op" id="7054113">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7054117">if</span>&nbsp;<span class="ident" id="7054120">n</span>&nbsp;<span class="op" id="7054122">!=</span>&nbsp;<span class="ident" id="7054125">c</span><span class="op" id="7054126">.</span><span class="ident" id="7054127">num</span>&nbsp;<span class="op" id="7054131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054136">t</span><span class="op" id="7054137">.</span><span class="ident" id="7054138">Errorf</span><span class="op" id="7054144">(</span><span class="string" id="7054145">&#34;%q:&nbsp;NumSubexp&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7054174">,</span>&nbsp;<span class="ident" id="7054176">c</span><span class="op" id="7054177">.</span><span class="ident" id="7054178">input</span><span class="op" id="7054183">,</span>&nbsp;<span class="ident" id="7054185">n</span><span class="op" id="7054186">,</span>&nbsp;<span class="ident" id="7054188">c</span><span class="op" id="7054189">.</span><span class="ident" id="7054190">num</span><span class="op" id="7054193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7054198">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054213">names</span>&nbsp;<span class="op" id="7054219">:=</span>&nbsp;<span class="ident" id="7054222">re</span><span class="op" id="7054224">.</span><span class="ident" id="7054225">SubexpNames</span><span class="op" id="7054236">(</span><span class="op" id="7054237">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7054241">if</span>&nbsp;<span class="builtinfunc" id="7054244">len</span><span class="op" id="7054247">(</span><span class="ident" id="7054248">names</span><span class="op" id="7054253">)</span>&nbsp;<span class="op" id="7054255">!=</span>&nbsp;<span class="num" id="7054258">1</span><span class="op" id="7054259">+</span><span class="ident" id="7054260">n</span>&nbsp;<span class="op" id="7054262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054267">t</span><span class="op" id="7054268">.</span><span class="ident" id="7054269">Errorf</span><span class="op" id="7054275">(</span><span class="string" id="7054276">&#34;%q:&nbsp;len(SubexpNames)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7054312">,</span>&nbsp;<span class="ident" id="7054314">c</span><span class="op" id="7054315">.</span><span class="ident" id="7054316">input</span><span class="op" id="7054321">,</span>&nbsp;<span class="builtinfunc" id="7054323">len</span><span class="op" id="7054326">(</span><span class="ident" id="7054327">names</span><span class="op" id="7054332">)</span><span class="op" id="7054333">,</span>&nbsp;<span class="ident" id="7054335">n</span><span class="op" id="7054336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7054341">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054352">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7054356">if</span>&nbsp;<span class="ident" id="7054359">c</span><span class="op" id="7054360">.</span><span class="ident" id="7054361">names</span>&nbsp;<span class="op" id="7054367">!=</span>&nbsp;<span class="ident" id="7054370">nil</span>&nbsp;<span class="op" id="7054374">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7054379">for</span>&nbsp;<span class="ident" id="7054383">i</span>&nbsp;<span class="op" id="7054385">:=</span>&nbsp;<span class="num" id="7054388">0</span><span class="op" id="7054389">;</span>&nbsp;<span class="ident" id="7054391">i</span>&nbsp;<span class="op" id="7054393">&lt;</span>&nbsp;<span class="num" id="7054395">1</span><span class="op" id="7054396">+</span><span class="ident" id="7054397">n</span><span class="op" id="7054398">;</span>&nbsp;<span class="ident" id="7054400">i</span><span class="op" id="7054401">++</span>&nbsp;<span class="op" id="7054404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7054410">if</span>&nbsp;<span class="ident" id="7054413">names</span><span class="op" id="7054418">[</span><span class="ident" id="7054419">i</span><span class="op" id="7054420">]</span>&nbsp;<span class="op" id="7054422">!=</span>&nbsp;<span class="ident" id="7054425">c</span><span class="op" id="7054426">.</span><span class="ident" id="7054427">names</span><span class="op" id="7054432">[</span><span class="ident" id="7054433">i</span><span class="op" id="7054434">]</span>&nbsp;<span class="op" id="7054436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054443">t</span><span class="op" id="7054444">.</span><span class="ident" id="7054445">Errorf</span><span class="op" id="7054451">(</span><span class="string" id="7054452">&#34;%q:&nbsp;SubexpNames[%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7054487">,</span>&nbsp;<span class="ident" id="7054489">c</span><span class="op" id="7054490">.</span><span class="ident" id="7054491">input</span><span class="op" id="7054496">,</span>&nbsp;<span class="ident" id="7054498">i</span><span class="op" id="7054499">,</span>&nbsp;<span class="ident" id="7054501">names</span><span class="op" id="7054506">[</span><span class="ident" id="7054507">i</span><span class="op" id="7054508">]</span><span class="op" id="7054509">,</span>&nbsp;<span class="ident" id="7054511">c</span><span class="op" id="7054512">.</span><span class="ident" id="7054513">names</span><span class="op" id="7054518">[</span><span class="ident" id="7054519">i</span><span class="op" id="7054520">]</span><span class="op" id="7054521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054532">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054539">}</span><br>
<span class="lineno"></span><span class="op" id="7054541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7054544">var</span>&nbsp;<span class="ident" id="7054548">splitTests</span>&nbsp;<span class="op" id="7054559">=</span>&nbsp;<span class="op" id="7054561">[</span><span class="op" id="7054562">]</span><span class="keyword" id="7054563">struct</span>&nbsp;<span class="op" id="7054570">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054573">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7054577">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054585">r</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7054589">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054597">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7054601">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054606">out</span>&nbsp;<span class="op" id="7054610">[</span><span class="op" id="7054611">]</span><span class="builtintype" id="7054612">string</span><br>
<span class="lineno"></span><span class="op" id="7054619">}</span><span class="op" id="7054620">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054623">{</span><span class="string" id="7054624">&#34;foo:and:bar&#34;</span><span class="op" id="7054637">,</span>&nbsp;<span class="string" id="7054639">&#34;:&#34;</span><span class="op" id="7054642">,</span>&nbsp;<span class="op" id="7054644">-</span><span class="num" id="7054645">1</span><span class="op" id="7054646">,</span>&nbsp;<span class="op" id="7054648">[</span><span class="op" id="7054649">]</span><span class="builtintype" id="7054650">string</span><span class="op" id="7054656">{</span><span class="string" id="7054657">&#34;foo&#34;</span><span class="op" id="7054662">,</span>&nbsp;<span class="string" id="7054664">&#34;and&#34;</span><span class="op" id="7054669">,</span>&nbsp;<span class="string" id="7054671">&#34;bar&#34;</span><span class="op" id="7054676">}</span><span class="op" id="7054677">}</span><span class="op" id="7054678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054681">{</span><span class="string" id="7054682">&#34;foo:and:bar&#34;</span><span class="op" id="7054695">,</span>&nbsp;<span class="string" id="7054697">&#34;:&#34;</span><span class="op" id="7054700">,</span>&nbsp;<span class="num" id="7054702">1</span><span class="op" id="7054703">,</span>&nbsp;<span class="op" id="7054705">[</span><span class="op" id="7054706">]</span><span class="builtintype" id="7054707">string</span><span class="op" id="7054713">{</span><span class="string" id="7054714">&#34;foo:and:bar&#34;</span><span class="op" id="7054727">}</span><span class="op" id="7054728">}</span><span class="op" id="7054729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054732">{</span><span class="string" id="7054733">&#34;foo:and:bar&#34;</span><span class="op" id="7054746">,</span>&nbsp;<span class="string" id="7054748">&#34;:&#34;</span><span class="op" id="7054751">,</span>&nbsp;<span class="num" id="7054753">2</span><span class="op" id="7054754">,</span>&nbsp;<span class="op" id="7054756">[</span><span class="op" id="7054757">]</span><span class="builtintype" id="7054758">string</span><span class="op" id="7054764">{</span><span class="string" id="7054765">&#34;foo&#34;</span><span class="op" id="7054770">,</span>&nbsp;<span class="string" id="7054772">&#34;and:bar&#34;</span><span class="op" id="7054781">}</span><span class="op" id="7054782">}</span><span class="op" id="7054783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054786">{</span><span class="string" id="7054787">&#34;foo:and:bar&#34;</span><span class="op" id="7054800">,</span>&nbsp;<span class="string" id="7054802">&#34;foo&#34;</span><span class="op" id="7054807">,</span>&nbsp;<span class="op" id="7054809">-</span><span class="num" id="7054810">1</span><span class="op" id="7054811">,</span>&nbsp;<span class="op" id="7054813">[</span><span class="op" id="7054814">]</span><span class="builtintype" id="7054815">string</span><span class="op" id="7054821">{</span><span class="string" id="7054822">&#34;&#34;</span><span class="op" id="7054824">,</span>&nbsp;<span class="string" id="7054826">&#34;:and:bar&#34;</span><span class="op" id="7054836">}</span><span class="op" id="7054837">}</span><span class="op" id="7054838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054841">{</span><span class="string" id="7054842">&#34;foo:and:bar&#34;</span><span class="op" id="7054855">,</span>&nbsp;<span class="string" id="7054857">&#34;bar&#34;</span><span class="op" id="7054862">,</span>&nbsp;<span class="op" id="7054864">-</span><span class="num" id="7054865">1</span><span class="op" id="7054866">,</span>&nbsp;<span class="op" id="7054868">[</span><span class="op" id="7054869">]</span><span class="builtintype" id="7054870">string</span><span class="op" id="7054876">{</span><span class="string" id="7054877">&#34;foo:and:&#34;</span><span class="op" id="7054887">,</span>&nbsp;<span class="string" id="7054889">&#34;&#34;</span><span class="op" id="7054891">}</span><span class="op" id="7054892">}</span><span class="op" id="7054893">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054896">{</span><span class="string" id="7054897">&#34;foo:and:bar&#34;</span><span class="op" id="7054910">,</span>&nbsp;<span class="string" id="7054912">&#34;baz&#34;</span><span class="op" id="7054917">,</span>&nbsp;<span class="op" id="7054919">-</span><span class="num" id="7054920">1</span><span class="op" id="7054921">,</span>&nbsp;<span class="op" id="7054923">[</span><span class="op" id="7054924">]</span><span class="builtintype" id="7054925">string</span><span class="op" id="7054931">{</span><span class="string" id="7054932">&#34;foo:and:bar&#34;</span><span class="op" id="7054945">}</span><span class="op" id="7054946">}</span><span class="op" id="7054947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054950">{</span><span class="string" id="7054951">&#34;baabaab&#34;</span><span class="op" id="7054960">,</span>&nbsp;<span class="string" id="7054962">&#34;a&#34;</span><span class="op" id="7054965">,</span>&nbsp;<span class="op" id="7054967">-</span><span class="num" id="7054968">1</span><span class="op" id="7054969">,</span>&nbsp;<span class="op" id="7054971">[</span><span class="op" id="7054972">]</span><span class="builtintype" id="7054973">string</span><span class="op" id="7054979">{</span><span class="string" id="7054980">&#34;b&#34;</span><span class="op" id="7054983">,</span>&nbsp;<span class="string" id="7054985">&#34;&#34;</span><span class="op" id="7054987">,</span>&nbsp;<span class="string" id="7054989">&#34;b&#34;</span><span class="op" id="7054992">,</span>&nbsp;<span class="string" id="7054994">&#34;&#34;</span><span class="op" id="7054996">,</span>&nbsp;<span class="string" id="7054998">&#34;b&#34;</span><span class="op" id="7055001">}</span><span class="op" id="7055002">}</span><span class="op" id="7055003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055006">{</span><span class="string" id="7055007">&#34;baabaab&#34;</span><span class="op" id="7055016">,</span>&nbsp;<span class="string" id="7055018">&#34;a*&#34;</span><span class="op" id="7055022">,</span>&nbsp;<span class="op" id="7055024">-</span><span class="num" id="7055025">1</span><span class="op" id="7055026">,</span>&nbsp;<span class="op" id="7055028">[</span><span class="op" id="7055029">]</span><span class="builtintype" id="7055030">string</span><span class="op" id="7055036">{</span><span class="string" id="7055037">&#34;b&#34;</span><span class="op" id="7055040">,</span>&nbsp;<span class="string" id="7055042">&#34;b&#34;</span><span class="op" id="7055045">,</span>&nbsp;<span class="string" id="7055047">&#34;b&#34;</span><span class="op" id="7055050">}</span><span class="op" id="7055051">}</span><span class="op" id="7055052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055055">{</span><span class="string" id="7055056">&#34;baabaab&#34;</span><span class="op" id="7055065">,</span>&nbsp;<span class="string" id="7055067">&#34;ba*&#34;</span><span class="op" id="7055072">,</span>&nbsp;<span class="op" id="7055074">-</span><span class="num" id="7055075">1</span><span class="op" id="7055076">,</span>&nbsp;<span class="op" id="7055078">[</span><span class="op" id="7055079">]</span><span class="builtintype" id="7055080">string</span><span class="op" id="7055086">{</span><span class="string" id="7055087">&#34;&#34;</span><span class="op" id="7055089">,</span>&nbsp;<span class="string" id="7055091">&#34;&#34;</span><span class="op" id="7055093">,</span>&nbsp;<span class="string" id="7055095">&#34;&#34;</span><span class="op" id="7055097">,</span>&nbsp;<span class="string" id="7055099">&#34;&#34;</span><span class="op" id="7055101">}</span><span class="op" id="7055102">}</span><span class="op" id="7055103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055106">{</span><span class="string" id="7055107">&#34;foobar&#34;</span><span class="op" id="7055115">,</span>&nbsp;<span class="string" id="7055117">&#34;f*b*&#34;</span><span class="op" id="7055123">,</span>&nbsp;<span class="op" id="7055125">-</span><span class="num" id="7055126">1</span><span class="op" id="7055127">,</span>&nbsp;<span class="op" id="7055129">[</span><span class="op" id="7055130">]</span><span class="builtintype" id="7055131">string</span><span class="op" id="7055137">{</span><span class="string" id="7055138">&#34;&#34;</span><span class="op" id="7055140">,</span>&nbsp;<span class="string" id="7055142">&#34;o&#34;</span><span class="op" id="7055145">,</span>&nbsp;<span class="string" id="7055147">&#34;o&#34;</span><span class="op" id="7055150">,</span>&nbsp;<span class="string" id="7055152">&#34;a&#34;</span><span class="op" id="7055155">,</span>&nbsp;<span class="string" id="7055157">&#34;r&#34;</span><span class="op" id="7055160">}</span><span class="op" id="7055161">}</span><span class="op" id="7055162">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055165">{</span><span class="string" id="7055166">&#34;foobar&#34;</span><span class="op" id="7055174">,</span>&nbsp;<span class="string" id="7055176">&#34;f+.*b+&#34;</span><span class="op" id="7055184">,</span>&nbsp;<span class="op" id="7055186">-</span><span class="num" id="7055187">1</span><span class="op" id="7055188">,</span>&nbsp;<span class="op" id="7055190">[</span><span class="op" id="7055191">]</span><span class="builtintype" id="7055192">string</span><span class="op" id="7055198">{</span><span class="string" id="7055199">&#34;&#34;</span><span class="op" id="7055201">,</span>&nbsp;<span class="string" id="7055203">&#34;ar&#34;</span><span class="op" id="7055207">}</span><span class="op" id="7055208">}</span><span class="op" id="7055209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055212">{</span><span class="string" id="7055213">&#34;foobooboar&#34;</span><span class="op" id="7055225">,</span>&nbsp;<span class="string" id="7055227">&#34;o{2}&#34;</span><span class="op" id="7055233">,</span>&nbsp;<span class="op" id="7055235">-</span><span class="num" id="7055236">1</span><span class="op" id="7055237">,</span>&nbsp;<span class="op" id="7055239">[</span><span class="op" id="7055240">]</span><span class="builtintype" id="7055241">string</span><span class="op" id="7055247">{</span><span class="string" id="7055248">&#34;f&#34;</span><span class="op" id="7055251">,</span>&nbsp;<span class="string" id="7055253">&#34;b&#34;</span><span class="op" id="7055256">,</span>&nbsp;<span class="string" id="7055258">&#34;boar&#34;</span><span class="op" id="7055264">}</span><span class="op" id="7055265">}</span><span class="op" id="7055266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055269">{</span><span class="string" id="7055270">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="7055283">,</span>&nbsp;<span class="string" id="7055285">&#34;,&#34;</span><span class="op" id="7055288">,</span>&nbsp;<span class="num" id="7055290">3</span><span class="op" id="7055291">,</span>&nbsp;<span class="op" id="7055293">[</span><span class="op" id="7055294">]</span><span class="builtintype" id="7055295">string</span><span class="op" id="7055301">{</span><span class="string" id="7055302">&#34;a&#34;</span><span class="op" id="7055305">,</span>&nbsp;<span class="string" id="7055307">&#34;b&#34;</span><span class="op" id="7055310">,</span>&nbsp;<span class="string" id="7055312">&#34;c,d,e,f&#34;</span><span class="op" id="7055321">}</span><span class="op" id="7055322">}</span><span class="op" id="7055323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055326">{</span><span class="string" id="7055327">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="7055340">,</span>&nbsp;<span class="string" id="7055342">&#34;,&#34;</span><span class="op" id="7055345">,</span>&nbsp;<span class="num" id="7055347">0</span><span class="op" id="7055348">,</span>&nbsp;<span class="ident" id="7055350">nil</span><span class="op" id="7055353">}</span><span class="op" id="7055354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055357">{</span><span class="string" id="7055358">&#34;,&#34;</span><span class="op" id="7055361">,</span>&nbsp;<span class="string" id="7055363">&#34;,&#34;</span><span class="op" id="7055366">,</span>&nbsp;<span class="op" id="7055368">-</span><span class="num" id="7055369">1</span><span class="op" id="7055370">,</span>&nbsp;<span class="op" id="7055372">[</span><span class="op" id="7055373">]</span><span class="builtintype" id="7055374">string</span><span class="op" id="7055380">{</span><span class="string" id="7055381">&#34;&#34;</span><span class="op" id="7055383">,</span>&nbsp;<span class="string" id="7055385">&#34;&#34;</span><span class="op" id="7055387">}</span><span class="op" id="7055388">}</span><span class="op" id="7055389">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055392">{</span><span class="string" id="7055393">&#34;,,,&#34;</span><span class="op" id="7055398">,</span>&nbsp;<span class="string" id="7055400">&#34;,&#34;</span><span class="op" id="7055403">,</span>&nbsp;<span class="op" id="7055405">-</span><span class="num" id="7055406">1</span><span class="op" id="7055407">,</span>&nbsp;<span class="op" id="7055409">[</span><span class="op" id="7055410">]</span><span class="builtintype" id="7055411">string</span><span class="op" id="7055417">{</span><span class="string" id="7055418">&#34;&#34;</span><span class="op" id="7055420">,</span>&nbsp;<span class="string" id="7055422">&#34;&#34;</span><span class="op" id="7055424">,</span>&nbsp;<span class="string" id="7055426">&#34;&#34;</span><span class="op" id="7055428">,</span>&nbsp;<span class="string" id="7055430">&#34;&#34;</span><span class="op" id="7055432">}</span><span class="op" id="7055433">}</span><span class="op" id="7055434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055437">{</span><span class="string" id="7055438">&#34;&#34;</span><span class="op" id="7055440">,</span>&nbsp;<span class="string" id="7055442">&#34;,&#34;</span><span class="op" id="7055445">,</span>&nbsp;<span class="op" id="7055447">-</span><span class="num" id="7055448">1</span><span class="op" id="7055449">,</span>&nbsp;<span class="op" id="7055451">[</span><span class="op" id="7055452">]</span><span class="builtintype" id="7055453">string</span><span class="op" id="7055459">{</span><span class="string" id="7055460">&#34;&#34;</span><span class="op" id="7055462">}</span><span class="op" id="7055463">}</span><span class="op" id="7055464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055467">{</span><span class="string" id="7055468">&#34;&#34;</span><span class="op" id="7055470">,</span>&nbsp;<span class="string" id="7055472">&#34;.*&#34;</span><span class="op" id="7055476">,</span>&nbsp;<span class="op" id="7055478">-</span><span class="num" id="7055479">1</span><span class="op" id="7055480">,</span>&nbsp;<span class="op" id="7055482">[</span><span class="op" id="7055483">]</span><span class="builtintype" id="7055484">string</span><span class="op" id="7055490">{</span><span class="string" id="7055491">&#34;&#34;</span><span class="op" id="7055493">}</span><span class="op" id="7055494">}</span><span class="op" id="7055495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055498">{</span><span class="string" id="7055499">&#34;&#34;</span><span class="op" id="7055501">,</span>&nbsp;<span class="string" id="7055503">&#34;.+&#34;</span><span class="op" id="7055507">,</span>&nbsp;<span class="op" id="7055509">-</span><span class="num" id="7055510">1</span><span class="op" id="7055511">,</span>&nbsp;<span class="op" id="7055513">[</span><span class="op" id="7055514">]</span><span class="builtintype" id="7055515">string</span><span class="op" id="7055521">{</span><span class="string" id="7055522">&#34;&#34;</span><span class="op" id="7055524">}</span><span class="op" id="7055525">}</span><span class="op" id="7055526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055529">{</span><span class="string" id="7055530">&#34;&#34;</span><span class="op" id="7055532">,</span>&nbsp;<span class="string" id="7055534">&#34;&#34;</span><span class="op" id="7055536">,</span>&nbsp;<span class="op" id="7055538">-</span><span class="num" id="7055539">1</span><span class="op" id="7055540">,</span>&nbsp;<span class="op" id="7055542">[</span><span class="op" id="7055543">]</span><span class="builtintype" id="7055544">string</span><span class="op" id="7055550">{</span><span class="op" id="7055551">}</span><span class="op" id="7055552">}</span><span class="op" id="7055553">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055556">{</span><span class="string" id="7055557">&#34;foobar&#34;</span><span class="op" id="7055565">,</span>&nbsp;<span class="string" id="7055567">&#34;&#34;</span><span class="op" id="7055569">,</span>&nbsp;<span class="op" id="7055571">-</span><span class="num" id="7055572">1</span><span class="op" id="7055573">,</span>&nbsp;<span class="op" id="7055575">[</span><span class="op" id="7055576">]</span><span class="builtintype" id="7055577">string</span><span class="op" id="7055583">{</span><span class="string" id="7055584">&#34;f&#34;</span><span class="op" id="7055587">,</span>&nbsp;<span class="string" id="7055589">&#34;o&#34;</span><span class="op" id="7055592">,</span>&nbsp;<span class="string" id="7055594">&#34;o&#34;</span><span class="op" id="7055597">,</span>&nbsp;<span class="string" id="7055599">&#34;b&#34;</span><span class="op" id="7055602">,</span>&nbsp;<span class="string" id="7055604">&#34;a&#34;</span><span class="op" id="7055607">,</span>&nbsp;<span class="string" id="7055609">&#34;r&#34;</span><span class="op" id="7055612">}</span><span class="op" id="7055613">}</span><span class="op" id="7055614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055617">{</span><span class="string" id="7055618">&#34;abaabaccadaaae&#34;</span><span class="op" id="7055634">,</span>&nbsp;<span class="string" id="7055636">&#34;a*&#34;</span><span class="op" id="7055640">,</span>&nbsp;<span class="num" id="7055642">5</span><span class="op" id="7055643">,</span>&nbsp;<span class="op" id="7055645">[</span><span class="op" id="7055646">]</span><span class="builtintype" id="7055647">string</span><span class="op" id="7055653">{</span><span class="string" id="7055654">&#34;&#34;</span><span class="op" id="7055656">,</span>&nbsp;<span class="string" id="7055658">&#34;b&#34;</span><span class="op" id="7055661">,</span>&nbsp;<span class="string" id="7055663">&#34;b&#34;</span><span class="op" id="7055666">,</span>&nbsp;<span class="string" id="7055668">&#34;c&#34;</span><span class="op" id="7055671">,</span>&nbsp;<span class="string" id="7055673">&#34;cadaaae&#34;</span><span class="op" id="7055682">}</span><span class="op" id="7055683">}</span><span class="op" id="7055684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055687">{</span><span class="string" id="7055688">&#34;:x:y:z:&#34;</span><span class="op" id="7055697">,</span>&nbsp;<span class="string" id="7055699">&#34;:&#34;</span><span class="op" id="7055702">,</span>&nbsp;<span class="op" id="7055704">-</span><span class="num" id="7055705">1</span><span class="op" id="7055706">,</span>&nbsp;<span class="op" id="7055708">[</span><span class="op" id="7055709">]</span><span class="builtintype" id="7055710">string</span><span class="op" id="7055716">{</span><span class="string" id="7055717">&#34;&#34;</span><span class="op" id="7055719">,</span>&nbsp;<span class="string" id="7055721">&#34;x&#34;</span><span class="op" id="7055724">,</span>&nbsp;<span class="string" id="7055726">&#34;y&#34;</span><span class="op" id="7055729">,</span>&nbsp;<span class="string" id="7055731">&#34;z&#34;</span><span class="op" id="7055734">,</span>&nbsp;<span class="string" id="7055736">&#34;&#34;</span><span class="op" id="7055738">}</span><span class="op" id="7055739">}</span><span class="op" id="7055740">,</span><br>
<span class="lineno"></span><span class="op" id="7055742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="7055745">func</span>&nbsp;<span class="ident" id="7055750">TestSplit</span><span class="op" id="7055759">(</span><span class="ident" id="7055760">t</span>&nbsp;<span class="op" id="7055762">*</span><span class="ident" id="7055763">testing</span><span class="op" id="7055770">.</span><span class="ident" id="7055771">T</span><span class="op" id="7055772">)</span>&nbsp;<span class="op" id="7055774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7055777">for</span>&nbsp;<span class="ident" id="7055781">i</span><span class="op" id="7055782">,</span>&nbsp;<span class="ident" id="7055784">test</span>&nbsp;<span class="op" id="7055789">:=</span>&nbsp;<span class="keyword" id="7055792">range</span>&nbsp;<span class="ident" id="7055798">splitTests</span>&nbsp;<span class="op" id="7055809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055813">re</span><span class="op" id="7055815">,</span>&nbsp;<span class="ident" id="7055817">err</span>&nbsp;<span class="op" id="7055821">:=</span>&nbsp;<span class="ident" id="7055824">Compile</span><span class="op" id="7055831">(</span><span class="ident" id="7055832">test</span><span class="op" id="7055836">.</span><span class="ident" id="7055837">r</span><span class="op" id="7055838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7055842">if</span>&nbsp;<span class="ident" id="7055845">err</span>&nbsp;<span class="op" id="7055849">!=</span>&nbsp;<span class="ident" id="7055852">nil</span>&nbsp;<span class="op" id="7055856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055861">t</span><span class="op" id="7055862">.</span><span class="ident" id="7055863">Errorf</span><span class="op" id="7055869">(</span><span class="string" id="7055870">&#34;#%d:&nbsp;%q:&nbsp;compile&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7055898">,</span>&nbsp;<span class="ident" id="7055900">i</span><span class="op" id="7055901">,</span>&nbsp;<span class="ident" id="7055903">test</span><span class="op" id="7055907">.</span><span class="ident" id="7055908">r</span><span class="op" id="7055909">,</span>&nbsp;<span class="ident" id="7055911">err</span><span class="op" id="7055914">.</span><span class="ident" id="7055915">Error</span><span class="op" id="7055920">(</span><span class="op" id="7055921">)</span><span class="op" id="7055922">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7055927">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055943">split</span>&nbsp;<span class="op" id="7055949">:=</span>&nbsp;<span class="ident" id="7055952">re</span><span class="op" id="7055954">.</span><span class="ident" id="7055955">Split</span><span class="op" id="7055960">(</span><span class="ident" id="7055961">test</span><span class="op" id="7055965">.</span><span class="ident" id="7055966">s</span><span class="op" id="7055967">,</span>&nbsp;<span class="ident" id="7055969">test</span><span class="op" id="7055973">.</span><span class="ident" id="7055974">n</span><span class="op" id="7055975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7055979">if</span>&nbsp;<span class="op" id="7055982">!</span><span class="ident" id="7055983">reflect</span><span class="op" id="7055990">.</span><span class="ident" id="7055991">DeepEqual</span><span class="op" id="7056000">(</span><span class="ident" id="7056001">split</span><span class="op" id="7056006">,</span>&nbsp;<span class="ident" id="7056008">test</span><span class="op" id="7056012">.</span><span class="ident" id="7056013">out</span><span class="op" id="7056016">)</span>&nbsp;<span class="op" id="7056018">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056023">t</span><span class="op" id="7056024">.</span><span class="ident" id="7056025">Errorf</span><span class="op" id="7056031">(</span><span class="string" id="7056032">&#34;#%d:&nbsp;%q:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7056058">,</span>&nbsp;<span class="ident" id="7056060">i</span><span class="op" id="7056061">,</span>&nbsp;<span class="ident" id="7056063">test</span><span class="op" id="7056067">.</span><span class="ident" id="7056068">r</span><span class="op" id="7056069">,</span>&nbsp;<span class="ident" id="7056071">split</span><span class="op" id="7056076">,</span>&nbsp;<span class="ident" id="7056078">test</span><span class="op" id="7056082">.</span><span class="ident" id="7056083">out</span><span class="op" id="7056086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056095">if</span>&nbsp;<span class="ident" id="7056098">QuoteMeta</span><span class="op" id="7056107">(</span><span class="ident" id="7056108">test</span><span class="op" id="7056112">.</span><span class="ident" id="7056113">r</span><span class="op" id="7056114">)</span>&nbsp;<span class="op" id="7056116">==</span>&nbsp;<span class="ident" id="7056119">test</span><span class="op" id="7056123">.</span><span class="ident" id="7056124">r</span>&nbsp;<span class="op" id="7056126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056131">strsplit</span>&nbsp;<span class="op" id="7056140">:=</span>&nbsp;<span class="ident" id="7056143">strings</span><span class="op" id="7056150">.</span><span class="ident" id="7056151">SplitN</span><span class="op" id="7056157">(</span><span class="ident" id="7056158">test</span><span class="op" id="7056162">.</span><span class="ident" id="7056163">s</span><span class="op" id="7056164">,</span>&nbsp;<span class="ident" id="7056166">test</span><span class="op" id="7056170">.</span><span class="ident" id="7056171">r</span><span class="op" id="7056172">,</span>&nbsp;<span class="ident" id="7056174">test</span><span class="op" id="7056178">.</span><span class="ident" id="7056179">n</span><span class="op" id="7056180">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056185">if</span>&nbsp;<span class="op" id="7056188">!</span><span class="ident" id="7056189">reflect</span><span class="op" id="7056196">.</span><span class="ident" id="7056197">DeepEqual</span><span class="op" id="7056206">(</span><span class="ident" id="7056207">split</span><span class="op" id="7056212">,</span>&nbsp;<span class="ident" id="7056214">strsplit</span><span class="op" id="7056222">)</span>&nbsp;<span class="op" id="7056224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056230">t</span><span class="op" id="7056231">.</span><span class="ident" id="7056232">Errorf</span><span class="op" id="7056238">(</span><span class="string" id="7056239">&#34;#%d:&nbsp;Split(%q,&nbsp;%q,&nbsp;%d):&nbsp;regexp&nbsp;vs&nbsp;strings&nbsp;mismatch\nregexp=%q\nstrings=%q&#34;</span><span class="op" id="7056314">,</span>&nbsp;<span class="ident" id="7056316">i</span><span class="op" id="7056317">,</span>&nbsp;<span class="ident" id="7056319">test</span><span class="op" id="7056323">.</span><span class="ident" id="7056324">s</span><span class="op" id="7056325">,</span>&nbsp;<span class="ident" id="7056327">test</span><span class="op" id="7056331">.</span><span class="ident" id="7056332">r</span><span class="op" id="7056333">,</span>&nbsp;<span class="ident" id="7056335">test</span><span class="op" id="7056339">.</span><span class="ident" id="7056340">n</span><span class="op" id="7056341">,</span>&nbsp;<span class="ident" id="7056343">split</span><span class="op" id="7056348">,</span>&nbsp;<span class="ident" id="7056350">strsplit</span><span class="op" id="7056358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056370">}</span><br>
<span class="lineno">475</span><span class="op" id="7056372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7056375">//&nbsp;Check&nbsp;that&nbsp;one-pass&nbsp;cutoff&nbsp;does&nbsp;trigger.</span><br>
<span class="lineno"></span><span class="keyword" id="7056419">func</span>&nbsp;<span class="ident" id="7056424">TestOnePassCutoff</span><span class="op" id="7056441">(</span><span class="ident" id="7056442">t</span>&nbsp;<span class="op" id="7056444">*</span><span class="ident" id="7056445">testing</span><span class="op" id="7056452">.</span><span class="ident" id="7056453">T</span><span class="op" id="7056454">)</span>&nbsp;<span class="op" id="7056456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056459">re</span><span class="op" id="7056461">,</span>&nbsp;<span class="ident" id="7056463">err</span>&nbsp;<span class="op" id="7056467">:=</span>&nbsp;<span class="ident" id="7056470">syntax</span><span class="op" id="7056476">.</span><span class="ident" id="7056477">Parse</span><span class="op" id="7056482">(</span><span class="string" id="7056483">`^x{1,1000}y{1,1000}$`</span><span class="op" id="7056505">,</span>&nbsp;<span class="ident" id="7056507">syntax</span><span class="op" id="7056513">.</span><span class="ident" id="7056514">Perl</span><span class="op" id="7056518">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056521">if</span>&nbsp;<span class="ident" id="7056524">err</span>&nbsp;<span class="op" id="7056528">!=</span>&nbsp;<span class="ident" id="7056531">nil</span>&nbsp;<span class="op" id="7056535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056539">t</span><span class="op" id="7056540">.</span><span class="ident" id="7056541">Fatalf</span><span class="op" id="7056547">(</span><span class="string" id="7056548">&#34;parse:&nbsp;%v&#34;</span><span class="op" id="7056559">,</span>&nbsp;<span class="ident" id="7056561">err</span><span class="op" id="7056564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056570">p</span><span class="op" id="7056571">,</span>&nbsp;<span class="ident" id="7056573">err</span>&nbsp;<span class="op" id="7056577">:=</span>&nbsp;<span class="ident" id="7056580">syntax</span><span class="op" id="7056586">.</span><span class="ident" id="7056587">Compile</span><span class="op" id="7056594">(</span><span class="ident" id="7056595">re</span><span class="op" id="7056597">.</span><span class="ident" id="7056598">Simplify</span><span class="op" id="7056606">(</span><span class="op" id="7056607">)</span><span class="op" id="7056608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056611">if</span>&nbsp;<span class="ident" id="7056614">err</span>&nbsp;<span class="op" id="7056618">!=</span>&nbsp;<span class="ident" id="7056621">nil</span>&nbsp;<span class="op" id="7056625">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056629">t</span><span class="op" id="7056630">.</span><span class="ident" id="7056631">Fatalf</span><span class="op" id="7056637">(</span><span class="string" id="7056638">&#34;compile:&nbsp;%v&#34;</span><span class="op" id="7056651">,</span>&nbsp;<span class="ident" id="7056653">err</span><span class="op" id="7056656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056662">if</span>&nbsp;<span class="ident" id="7056665">compileOnePass</span><span class="op" id="7056679">(</span><span class="ident" id="7056680">p</span><span class="op" id="7056681">)</span>&nbsp;<span class="op" id="7056683">!=</span>&nbsp;<span class="ident" id="7056686">notOnePass</span>&nbsp;<span class="op" id="7056697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056701">t</span><span class="op" id="7056702">.</span><span class="ident" id="7056703">Fatalf</span><span class="op" id="7056709">(</span><span class="string" id="7056710">&#34;makeOnePass&nbsp;succeeded;&nbsp;wanted&nbsp;notOnePass&#34;</span><span class="op" id="7056752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056755">}</span><br>
<span class="lineno">490</span><span class="op" id="7056757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7056760">func</span>&nbsp;<span class="ident" id="7056765">BenchmarkLiteral</span><span class="op" id="7056781">(</span><span class="ident" id="7056782">b</span>&nbsp;<span class="op" id="7056784">*</span><span class="ident" id="7056785">testing</span><span class="op" id="7056792">.</span><span class="ident" id="7056793">B</span><span class="op" id="7056794">)</span>&nbsp;<span class="op" id="7056796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056799">x</span>&nbsp;<span class="op" id="7056801">:=</span>&nbsp;<span class="ident" id="7056804">strings</span><span class="op" id="7056811">.</span><span class="ident" id="7056812">Repeat</span><span class="op" id="7056818">(</span><span class="string" id="7056819">&#34;x&#34;</span><span class="op" id="7056822">,</span>&nbsp;<span class="num" id="7056824">50</span><span class="op" id="7056826">)</span>&nbsp;<span class="op" id="7056828">+</span>&nbsp;<span class="string" id="7056830">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056835">b</span><span class="op" id="7056836">.</span><span class="ident" id="7056837">StopTimer</span><span class="op" id="7056846">(</span><span class="op" id="7056847">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056850">re</span>&nbsp;<span class="op" id="7056853">:=</span>&nbsp;<span class="ident" id="7056856">MustCompile</span><span class="op" id="7056867">(</span><span class="string" id="7056868">&#34;y&#34;</span><span class="op" id="7056871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056874">b</span><span class="op" id="7056875">.</span><span class="ident" id="7056876">StartTimer</span><span class="op" id="7056886">(</span><span class="op" id="7056887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056890">for</span>&nbsp;<span class="ident" id="7056894">i</span>&nbsp;<span class="op" id="7056896">:=</span>&nbsp;<span class="num" id="7056899">0</span><span class="op" id="7056900">;</span>&nbsp;<span class="ident" id="7056902">i</span>&nbsp;<span class="op" id="7056904">&lt;</span>&nbsp;<span class="ident" id="7056906">b</span><span class="op" id="7056907">.</span><span class="ident" id="7056908">N</span><span class="op" id="7056909">;</span>&nbsp;<span class="ident" id="7056911">i</span><span class="op" id="7056912">++</span>&nbsp;<span class="op" id="7056915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056919">if</span>&nbsp;<span class="op" id="7056922">!</span><span class="ident" id="7056923">re</span><span class="op" id="7056925">.</span><span class="ident" id="7056926">MatchString</span><span class="op" id="7056937">(</span><span class="ident" id="7056938">x</span><span class="op" id="7056939">)</span>&nbsp;<span class="op" id="7056941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056946">b</span><span class="op" id="7056947">.</span><span class="ident" id="7056948">Fatalf</span><span class="op" id="7056954">(</span><span class="string" id="7056955">&#34;no&nbsp;match!&#34;</span><span class="op" id="7056966">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056973">}</span><br>
<span class="lineno"></span><span class="op" id="7056975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7056978">func</span>&nbsp;<span class="ident" id="7056983">BenchmarkNotLiteral</span><span class="op" id="7057002">(</span><span class="ident" id="7057003">b</span>&nbsp;<span class="op" id="7057005">*</span><span class="ident" id="7057006">testing</span><span class="op" id="7057013">.</span><span class="ident" id="7057014">B</span><span class="op" id="7057015">)</span>&nbsp;<span class="op" id="7057017">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057020">x</span>&nbsp;<span class="op" id="7057022">:=</span>&nbsp;<span class="ident" id="7057025">strings</span><span class="op" id="7057032">.</span><span class="ident" id="7057033">Repeat</span><span class="op" id="7057039">(</span><span class="string" id="7057040">&#34;x&#34;</span><span class="op" id="7057043">,</span>&nbsp;<span class="num" id="7057045">50</span><span class="op" id="7057047">)</span>&nbsp;<span class="op" id="7057049">+</span>&nbsp;<span class="string" id="7057051">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057056">b</span><span class="op" id="7057057">.</span><span class="ident" id="7057058">StopTimer</span><span class="op" id="7057067">(</span><span class="op" id="7057068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057071">re</span>&nbsp;<span class="op" id="7057074">:=</span>&nbsp;<span class="ident" id="7057077">MustCompile</span><span class="op" id="7057088">(</span><span class="string" id="7057089">&#34;.y&#34;</span><span class="op" id="7057093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057096">b</span><span class="op" id="7057097">.</span><span class="ident" id="7057098">StartTimer</span><span class="op" id="7057108">(</span><span class="op" id="7057109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057112">for</span>&nbsp;<span class="ident" id="7057116">i</span>&nbsp;<span class="op" id="7057118">:=</span>&nbsp;<span class="num" id="7057121">0</span><span class="op" id="7057122">;</span>&nbsp;<span class="ident" id="7057124">i</span>&nbsp;<span class="op" id="7057126">&lt;</span>&nbsp;<span class="ident" id="7057128">b</span><span class="op" id="7057129">.</span><span class="ident" id="7057130">N</span><span class="op" id="7057131">;</span>&nbsp;<span class="ident" id="7057133">i</span><span class="op" id="7057134">++</span>&nbsp;<span class="op" id="7057137">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057141">if</span>&nbsp;<span class="op" id="7057144">!</span><span class="ident" id="7057145">re</span><span class="op" id="7057147">.</span><span class="ident" id="7057148">MatchString</span><span class="op" id="7057159">(</span><span class="ident" id="7057160">x</span><span class="op" id="7057161">)</span>&nbsp;<span class="op" id="7057163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057168">b</span><span class="op" id="7057169">.</span><span class="ident" id="7057170">Fatalf</span><span class="op" id="7057176">(</span><span class="string" id="7057177">&#34;no&nbsp;match!&#34;</span><span class="op" id="7057188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057195">}</span><br>
<span class="lineno"></span><span class="op" id="7057197">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="keyword" id="7057200">func</span>&nbsp;<span class="ident" id="7057205">BenchmarkMatchClass</span><span class="op" id="7057224">(</span><span class="ident" id="7057225">b</span>&nbsp;<span class="op" id="7057227">*</span><span class="ident" id="7057228">testing</span><span class="op" id="7057235">.</span><span class="ident" id="7057236">B</span><span class="op" id="7057237">)</span>&nbsp;<span class="op" id="7057239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057242">b</span><span class="op" id="7057243">.</span><span class="ident" id="7057244">StopTimer</span><span class="op" id="7057253">(</span><span class="op" id="7057254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057257">x</span>&nbsp;<span class="op" id="7057259">:=</span>&nbsp;<span class="ident" id="7057262">strings</span><span class="op" id="7057269">.</span><span class="ident" id="7057270">Repeat</span><span class="op" id="7057276">(</span><span class="string" id="7057277">&#34;xxxx&#34;</span><span class="op" id="7057283">,</span>&nbsp;<span class="num" id="7057285">20</span><span class="op" id="7057287">)</span>&nbsp;<span class="op" id="7057289">+</span>&nbsp;<span class="string" id="7057291">&#34;w&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057296">re</span>&nbsp;<span class="op" id="7057299">:=</span>&nbsp;<span class="ident" id="7057302">MustCompile</span><span class="op" id="7057313">(</span><span class="string" id="7057314">&#34;[abcdw]&#34;</span><span class="op" id="7057323">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057326">b</span><span class="op" id="7057327">.</span><span class="ident" id="7057328">StartTimer</span><span class="op" id="7057338">(</span><span class="op" id="7057339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057342">for</span>&nbsp;<span class="ident" id="7057346">i</span>&nbsp;<span class="op" id="7057348">:=</span>&nbsp;<span class="num" id="7057351">0</span><span class="op" id="7057352">;</span>&nbsp;<span class="ident" id="7057354">i</span>&nbsp;<span class="op" id="7057356">&lt;</span>&nbsp;<span class="ident" id="7057358">b</span><span class="op" id="7057359">.</span><span class="ident" id="7057360">N</span><span class="op" id="7057361">;</span>&nbsp;<span class="ident" id="7057363">i</span><span class="op" id="7057364">++</span>&nbsp;<span class="op" id="7057367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057371">if</span>&nbsp;<span class="op" id="7057374">!</span><span class="ident" id="7057375">re</span><span class="op" id="7057377">.</span><span class="ident" id="7057378">MatchString</span><span class="op" id="7057389">(</span><span class="ident" id="7057390">x</span><span class="op" id="7057391">)</span>&nbsp;<span class="op" id="7057393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057398">b</span><span class="op" id="7057399">.</span><span class="ident" id="7057400">Fatalf</span><span class="op" id="7057406">(</span><span class="string" id="7057407">&#34;no&nbsp;match!&#34;</span><span class="op" id="7057418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057422">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057425">}</span><br>
<span class="lineno"></span><span class="op" id="7057427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7057430">func</span>&nbsp;<span class="ident" id="7057435">BenchmarkMatchClass_InRange</span><span class="op" id="7057462">(</span><span class="ident" id="7057463">b</span>&nbsp;<span class="op" id="7057465">*</span><span class="ident" id="7057466">testing</span><span class="op" id="7057473">.</span><span class="ident" id="7057474">B</span><span class="op" id="7057475">)</span>&nbsp;<span class="op" id="7057477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057480">b</span><span class="op" id="7057481">.</span><span class="ident" id="7057482">StopTimer</span><span class="op" id="7057491">(</span><span class="op" id="7057492">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057495">//&nbsp;&#39;b&#39;&nbsp;is&nbsp;between&nbsp;&#39;a&#39;&nbsp;and&nbsp;&#39;c&#39;,&nbsp;so&nbsp;the&nbsp;charclass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057544">//&nbsp;range&nbsp;checking&nbsp;is&nbsp;no&nbsp;help&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057580">x</span>&nbsp;<span class="op" id="7057582">:=</span>&nbsp;<span class="ident" id="7057585">strings</span><span class="op" id="7057592">.</span><span class="ident" id="7057593">Repeat</span><span class="op" id="7057599">(</span><span class="string" id="7057600">&#34;bbbb&#34;</span><span class="op" id="7057606">,</span>&nbsp;<span class="num" id="7057608">20</span><span class="op" id="7057610">)</span>&nbsp;<span class="op" id="7057612">+</span>&nbsp;<span class="string" id="7057614">&#34;c&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057619">re</span>&nbsp;<span class="op" id="7057622">:=</span>&nbsp;<span class="ident" id="7057625">MustCompile</span><span class="op" id="7057636">(</span><span class="string" id="7057637">&#34;[ac]&#34;</span><span class="op" id="7057643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057646">b</span><span class="op" id="7057647">.</span><span class="ident" id="7057648">StartTimer</span><span class="op" id="7057658">(</span><span class="op" id="7057659">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057662">for</span>&nbsp;<span class="ident" id="7057666">i</span>&nbsp;<span class="op" id="7057668">:=</span>&nbsp;<span class="num" id="7057671">0</span><span class="op" id="7057672">;</span>&nbsp;<span class="ident" id="7057674">i</span>&nbsp;<span class="op" id="7057676">&lt;</span>&nbsp;<span class="ident" id="7057678">b</span><span class="op" id="7057679">.</span><span class="ident" id="7057680">N</span><span class="op" id="7057681">;</span>&nbsp;<span class="ident" id="7057683">i</span><span class="op" id="7057684">++</span>&nbsp;<span class="op" id="7057687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057691">if</span>&nbsp;<span class="op" id="7057694">!</span><span class="ident" id="7057695">re</span><span class="op" id="7057697">.</span><span class="ident" id="7057698">MatchString</span><span class="op" id="7057709">(</span><span class="ident" id="7057710">x</span><span class="op" id="7057711">)</span>&nbsp;<span class="op" id="7057713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057718">b</span><span class="op" id="7057719">.</span><span class="ident" id="7057720">Fatalf</span><span class="op" id="7057726">(</span><span class="string" id="7057727">&#34;no&nbsp;match!&#34;</span><span class="op" id="7057738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057745">}</span><br>
<span class="lineno">540</span><span class="op" id="7057747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7057750">func</span>&nbsp;<span class="ident" id="7057755">BenchmarkReplaceAll</span><span class="op" id="7057774">(</span><span class="ident" id="7057775">b</span>&nbsp;<span class="op" id="7057777">*</span><span class="ident" id="7057778">testing</span><span class="op" id="7057785">.</span><span class="ident" id="7057786">B</span><span class="op" id="7057787">)</span>&nbsp;<span class="op" id="7057789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057792">x</span>&nbsp;<span class="op" id="7057794">:=</span>&nbsp;<span class="string" id="7057797">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057827">b</span><span class="op" id="7057828">.</span><span class="ident" id="7057829">StopTimer</span><span class="op" id="7057838">(</span><span class="op" id="7057839">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057842">re</span>&nbsp;<span class="op" id="7057845">:=</span>&nbsp;<span class="ident" id="7057848">MustCompile</span><span class="op" id="7057859">(</span><span class="string" id="7057860">&#34;[cjrw]&#34;</span><span class="op" id="7057868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057871">b</span><span class="op" id="7057872">.</span><span class="ident" id="7057873">StartTimer</span><span class="op" id="7057883">(</span><span class="op" id="7057884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057887">for</span>&nbsp;<span class="ident" id="7057891">i</span>&nbsp;<span class="op" id="7057893">:=</span>&nbsp;<span class="num" id="7057896">0</span><span class="op" id="7057897">;</span>&nbsp;<span class="ident" id="7057899">i</span>&nbsp;<span class="op" id="7057901">&lt;</span>&nbsp;<span class="ident" id="7057903">b</span><span class="op" id="7057904">.</span><span class="ident" id="7057905">N</span><span class="op" id="7057906">;</span>&nbsp;<span class="ident" id="7057908">i</span><span class="op" id="7057909">++</span>&nbsp;<span class="op" id="7057912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057916">re</span><span class="op" id="7057918">.</span><span class="ident" id="7057919">ReplaceAllString</span><span class="op" id="7057935">(</span><span class="ident" id="7057936">x</span><span class="op" id="7057937">,</span>&nbsp;<span class="string" id="7057939">&#34;&#34;</span><span class="op" id="7057941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057944">}</span><br>
<span class="lineno">550</span><span class="op" id="7057946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7057949">func</span>&nbsp;<span class="ident" id="7057954">BenchmarkAnchoredLiteralShortNonMatch</span><span class="op" id="7057991">(</span><span class="ident" id="7057992">b</span>&nbsp;<span class="op" id="7057994">*</span><span class="ident" id="7057995">testing</span><span class="op" id="7058002">.</span><span class="ident" id="7058003">B</span><span class="op" id="7058004">)</span>&nbsp;<span class="op" id="7058006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058009">b</span><span class="op" id="7058010">.</span><span class="ident" id="7058011">StopTimer</span><span class="op" id="7058020">(</span><span class="op" id="7058021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058024">x</span>&nbsp;<span class="op" id="7058026">:=</span>&nbsp;<span class="op" id="7058029">[</span><span class="op" id="7058030">]</span><span class="builtintype" id="7058031">byte</span><span class="op" id="7058035">(</span><span class="string" id="7058036">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7058064">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058067">re</span>&nbsp;<span class="op" id="7058070">:=</span>&nbsp;<span class="ident" id="7058073">MustCompile</span><span class="op" id="7058084">(</span><span class="string" id="7058085">&#34;^zbc(d|e)&#34;</span><span class="op" id="7058096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058099">b</span><span class="op" id="7058100">.</span><span class="ident" id="7058101">StartTimer</span><span class="op" id="7058111">(</span><span class="op" id="7058112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058115">for</span>&nbsp;<span class="ident" id="7058119">i</span>&nbsp;<span class="op" id="7058121">:=</span>&nbsp;<span class="num" id="7058124">0</span><span class="op" id="7058125">;</span>&nbsp;<span class="ident" id="7058127">i</span>&nbsp;<span class="op" id="7058129">&lt;</span>&nbsp;<span class="ident" id="7058131">b</span><span class="op" id="7058132">.</span><span class="ident" id="7058133">N</span><span class="op" id="7058134">;</span>&nbsp;<span class="ident" id="7058136">i</span><span class="op" id="7058137">++</span>&nbsp;<span class="op" id="7058140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058144">re</span><span class="op" id="7058146">.</span><span class="ident" id="7058147">Match</span><span class="op" id="7058152">(</span><span class="ident" id="7058153">x</span><span class="op" id="7058154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058157">}</span><br>
<span class="lineno">560</span><span class="op" id="7058159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7058162">func</span>&nbsp;<span class="ident" id="7058167">BenchmarkAnchoredLiteralLongNonMatch</span><span class="op" id="7058203">(</span><span class="ident" id="7058204">b</span>&nbsp;<span class="op" id="7058206">*</span><span class="ident" id="7058207">testing</span><span class="op" id="7058214">.</span><span class="ident" id="7058215">B</span><span class="op" id="7058216">)</span>&nbsp;<span class="op" id="7058218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058221">b</span><span class="op" id="7058222">.</span><span class="ident" id="7058223">StopTimer</span><span class="op" id="7058232">(</span><span class="op" id="7058233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058236">x</span>&nbsp;<span class="op" id="7058238">:=</span>&nbsp;<span class="op" id="7058241">[</span><span class="op" id="7058242">]</span><span class="builtintype" id="7058243">byte</span><span class="op" id="7058247">(</span><span class="string" id="7058248">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7058276">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058279">for</span>&nbsp;<span class="ident" id="7058283">i</span>&nbsp;<span class="op" id="7058285">:=</span>&nbsp;<span class="num" id="7058288">0</span><span class="op" id="7058289">;</span>&nbsp;<span class="ident" id="7058291">i</span>&nbsp;<span class="op" id="7058293">&lt;</span>&nbsp;<span class="num" id="7058295">15</span><span class="op" id="7058297">;</span>&nbsp;<span class="ident" id="7058299">i</span><span class="op" id="7058300">++</span>&nbsp;<span class="op" id="7058303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058307">x</span>&nbsp;<span class="op" id="7058309">=</span>&nbsp;<span class="builtinfunc" id="7058311">append</span><span class="op" id="7058317">(</span><span class="ident" id="7058318">x</span><span class="op" id="7058319">,</span>&nbsp;<span class="ident" id="7058321">x</span><span class="op" id="7058322">...</span><span class="op" id="7058325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058331">re</span>&nbsp;<span class="op" id="7058334">:=</span>&nbsp;<span class="ident" id="7058337">MustCompile</span><span class="op" id="7058348">(</span><span class="string" id="7058349">&#34;^zbc(d|e)&#34;</span><span class="op" id="7058360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058363">b</span><span class="op" id="7058364">.</span><span class="ident" id="7058365">StartTimer</span><span class="op" id="7058375">(</span><span class="op" id="7058376">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058379">for</span>&nbsp;<span class="ident" id="7058383">i</span>&nbsp;<span class="op" id="7058385">:=</span>&nbsp;<span class="num" id="7058388">0</span><span class="op" id="7058389">;</span>&nbsp;<span class="ident" id="7058391">i</span>&nbsp;<span class="op" id="7058393">&lt;</span>&nbsp;<span class="ident" id="7058395">b</span><span class="op" id="7058396">.</span><span class="ident" id="7058397">N</span><span class="op" id="7058398">;</span>&nbsp;<span class="ident" id="7058400">i</span><span class="op" id="7058401">++</span>&nbsp;<span class="op" id="7058404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058408">re</span><span class="op" id="7058410">.</span><span class="ident" id="7058411">Match</span><span class="op" id="7058416">(</span><span class="ident" id="7058417">x</span><span class="op" id="7058418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058421">}</span><br>
<span class="lineno"></span><span class="op" id="7058423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="7058426">func</span>&nbsp;<span class="ident" id="7058431">BenchmarkAnchoredShortMatch</span><span class="op" id="7058458">(</span><span class="ident" id="7058459">b</span>&nbsp;<span class="op" id="7058461">*</span><span class="ident" id="7058462">testing</span><span class="op" id="7058469">.</span><span class="ident" id="7058470">B</span><span class="op" id="7058471">)</span>&nbsp;<span class="op" id="7058473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058476">b</span><span class="op" id="7058477">.</span><span class="ident" id="7058478">StopTimer</span><span class="op" id="7058487">(</span><span class="op" id="7058488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058491">x</span>&nbsp;<span class="op" id="7058493">:=</span>&nbsp;<span class="op" id="7058496">[</span><span class="op" id="7058497">]</span><span class="builtintype" id="7058498">byte</span><span class="op" id="7058502">(</span><span class="string" id="7058503">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7058531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058534">re</span>&nbsp;<span class="op" id="7058537">:=</span>&nbsp;<span class="ident" id="7058540">MustCompile</span><span class="op" id="7058551">(</span><span class="string" id="7058552">&#34;^.bc(d|e)&#34;</span><span class="op" id="7058563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058566">b</span><span class="op" id="7058567">.</span><span class="ident" id="7058568">StartTimer</span><span class="op" id="7058578">(</span><span class="op" id="7058579">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058582">for</span>&nbsp;<span class="ident" id="7058586">i</span>&nbsp;<span class="op" id="7058588">:=</span>&nbsp;<span class="num" id="7058591">0</span><span class="op" id="7058592">;</span>&nbsp;<span class="ident" id="7058594">i</span>&nbsp;<span class="op" id="7058596">&lt;</span>&nbsp;<span class="ident" id="7058598">b</span><span class="op" id="7058599">.</span><span class="ident" id="7058600">N</span><span class="op" id="7058601">;</span>&nbsp;<span class="ident" id="7058603">i</span><span class="op" id="7058604">++</span>&nbsp;<span class="op" id="7058607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058611">re</span><span class="op" id="7058613">.</span><span class="ident" id="7058614">Match</span><span class="op" id="7058619">(</span><span class="ident" id="7058620">x</span><span class="op" id="7058621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058624">}</span><br>
<span class="lineno"></span><span class="op" id="7058626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7058629">func</span>&nbsp;<span class="ident" id="7058634">BenchmarkAnchoredLongMatch</span><span class="op" id="7058660">(</span><span class="ident" id="7058661">b</span>&nbsp;<span class="op" id="7058663">*</span><span class="ident" id="7058664">testing</span><span class="op" id="7058671">.</span><span class="ident" id="7058672">B</span><span class="op" id="7058673">)</span>&nbsp;<span class="op" id="7058675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058678">b</span><span class="op" id="7058679">.</span><span class="ident" id="7058680">StopTimer</span><span class="op" id="7058689">(</span><span class="op" id="7058690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058693">x</span>&nbsp;<span class="op" id="7058695">:=</span>&nbsp;<span class="op" id="7058698">[</span><span class="op" id="7058699">]</span><span class="builtintype" id="7058700">byte</span><span class="op" id="7058704">(</span><span class="string" id="7058705">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7058733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058736">for</span>&nbsp;<span class="ident" id="7058740">i</span>&nbsp;<span class="op" id="7058742">:=</span>&nbsp;<span class="num" id="7058745">0</span><span class="op" id="7058746">;</span>&nbsp;<span class="ident" id="7058748">i</span>&nbsp;<span class="op" id="7058750">&lt;</span>&nbsp;<span class="num" id="7058752">15</span><span class="op" id="7058754">;</span>&nbsp;<span class="ident" id="7058756">i</span><span class="op" id="7058757">++</span>&nbsp;<span class="op" id="7058760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058764">x</span>&nbsp;<span class="op" id="7058766">=</span>&nbsp;<span class="builtinfunc" id="7058768">append</span><span class="op" id="7058774">(</span><span class="ident" id="7058775">x</span><span class="op" id="7058776">,</span>&nbsp;<span class="ident" id="7058778">x</span><span class="op" id="7058779">...</span><span class="op" id="7058782">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058788">re</span>&nbsp;<span class="op" id="7058791">:=</span>&nbsp;<span class="ident" id="7058794">MustCompile</span><span class="op" id="7058805">(</span><span class="string" id="7058806">&#34;^.bc(d|e)&#34;</span><span class="op" id="7058817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058820">b</span><span class="op" id="7058821">.</span><span class="ident" id="7058822">StartTimer</span><span class="op" id="7058832">(</span><span class="op" id="7058833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058836">for</span>&nbsp;<span class="ident" id="7058840">i</span>&nbsp;<span class="op" id="7058842">:=</span>&nbsp;<span class="num" id="7058845">0</span><span class="op" id="7058846">;</span>&nbsp;<span class="ident" id="7058848">i</span>&nbsp;<span class="op" id="7058850">&lt;</span>&nbsp;<span class="ident" id="7058852">b</span><span class="op" id="7058853">.</span><span class="ident" id="7058854">N</span><span class="op" id="7058855">;</span>&nbsp;<span class="ident" id="7058857">i</span><span class="op" id="7058858">++</span>&nbsp;<span class="op" id="7058861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058865">re</span><span class="op" id="7058867">.</span><span class="ident" id="7058868">Match</span><span class="op" id="7058873">(</span><span class="ident" id="7058874">x</span><span class="op" id="7058875">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058878">}</span><br>
<span class="lineno"></span><span class="op" id="7058880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7058883">func</span>&nbsp;<span class="ident" id="7058888">BenchmarkOnePassShortA</span><span class="op" id="7058910">(</span><span class="ident" id="7058911">b</span>&nbsp;<span class="op" id="7058913">*</span><span class="ident" id="7058914">testing</span><span class="op" id="7058921">.</span><span class="ident" id="7058922">B</span><span class="op" id="7058923">)</span>&nbsp;<span class="op" id="7058925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058928">b</span><span class="op" id="7058929">.</span><span class="ident" id="7058930">StopTimer</span><span class="op" id="7058939">(</span><span class="op" id="7058940">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058943">x</span>&nbsp;<span class="op" id="7058945">:=</span>&nbsp;<span class="op" id="7058948">[</span><span class="op" id="7058949">]</span><span class="builtintype" id="7058950">byte</span><span class="op" id="7058954">(</span><span class="string" id="7058955">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7058974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058977">re</span>&nbsp;<span class="op" id="7058980">:=</span>&nbsp;<span class="ident" id="7058983">MustCompile</span><span class="op" id="7058994">(</span><span class="string" id="7058995">&#34;^.bc(d|e)*$&#34;</span><span class="op" id="7059008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059011">b</span><span class="op" id="7059012">.</span><span class="ident" id="7059013">StartTimer</span><span class="op" id="7059023">(</span><span class="op" id="7059024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059027">for</span>&nbsp;<span class="ident" id="7059031">i</span>&nbsp;<span class="op" id="7059033">:=</span>&nbsp;<span class="num" id="7059036">0</span><span class="op" id="7059037">;</span>&nbsp;<span class="ident" id="7059039">i</span>&nbsp;<span class="op" id="7059041">&lt;</span>&nbsp;<span class="ident" id="7059043">b</span><span class="op" id="7059044">.</span><span class="ident" id="7059045">N</span><span class="op" id="7059046">;</span>&nbsp;<span class="ident" id="7059048">i</span><span class="op" id="7059049">++</span>&nbsp;<span class="op" id="7059052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059056">re</span><span class="op" id="7059058">.</span><span class="ident" id="7059059">Match</span><span class="op" id="7059064">(</span><span class="ident" id="7059065">x</span><span class="op" id="7059066">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059069">}</span><br>
<span class="lineno"></span><span class="op" id="7059071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7059074">func</span>&nbsp;<span class="ident" id="7059079">BenchmarkNotOnePassShortA</span><span class="op" id="7059104">(</span><span class="ident" id="7059105">b</span>&nbsp;<span class="op" id="7059107">*</span><span class="ident" id="7059108">testing</span><span class="op" id="7059115">.</span><span class="ident" id="7059116">B</span><span class="op" id="7059117">)</span>&nbsp;<span class="op" id="7059119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059122">b</span><span class="op" id="7059123">.</span><span class="ident" id="7059124">StopTimer</span><span class="op" id="7059133">(</span><span class="op" id="7059134">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059137">x</span>&nbsp;<span class="op" id="7059139">:=</span>&nbsp;<span class="op" id="7059142">[</span><span class="op" id="7059143">]</span><span class="builtintype" id="7059144">byte</span><span class="op" id="7059148">(</span><span class="string" id="7059149">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7059168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059171">re</span>&nbsp;<span class="op" id="7059174">:=</span>&nbsp;<span class="ident" id="7059177">MustCompile</span><span class="op" id="7059188">(</span><span class="string" id="7059189">&#34;.bc(d|e)*$&#34;</span><span class="op" id="7059201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059204">b</span><span class="op" id="7059205">.</span><span class="ident" id="7059206">StartTimer</span><span class="op" id="7059216">(</span><span class="op" id="7059217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059220">for</span>&nbsp;<span class="ident" id="7059224">i</span>&nbsp;<span class="op" id="7059226">:=</span>&nbsp;<span class="num" id="7059229">0</span><span class="op" id="7059230">;</span>&nbsp;<span class="ident" id="7059232">i</span>&nbsp;<span class="op" id="7059234">&lt;</span>&nbsp;<span class="ident" id="7059236">b</span><span class="op" id="7059237">.</span><span class="ident" id="7059238">N</span><span class="op" id="7059239">;</span>&nbsp;<span class="ident" id="7059241">i</span><span class="op" id="7059242">++</span>&nbsp;<span class="op" id="7059245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059249">re</span><span class="op" id="7059251">.</span><span class="ident" id="7059252">Match</span><span class="op" id="7059257">(</span><span class="ident" id="7059258">x</span><span class="op" id="7059259">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059262">}</span><br>
<span class="lineno"></span><span class="op" id="7059264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7059267">func</span>&nbsp;<span class="ident" id="7059272">BenchmarkOnePassShortB</span><span class="op" id="7059294">(</span><span class="ident" id="7059295">b</span>&nbsp;<span class="op" id="7059297">*</span><span class="ident" id="7059298">testing</span><span class="op" id="7059305">.</span><span class="ident" id="7059306">B</span><span class="op" id="7059307">)</span>&nbsp;<span class="op" id="7059309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059312">b</span><span class="op" id="7059313">.</span><span class="ident" id="7059314">StopTimer</span><span class="op" id="7059323">(</span><span class="op" id="7059324">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059327">x</span>&nbsp;<span class="op" id="7059329">:=</span>&nbsp;<span class="op" id="7059332">[</span><span class="op" id="7059333">]</span><span class="builtintype" id="7059334">byte</span><span class="op" id="7059338">(</span><span class="string" id="7059339">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7059358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059361">re</span>&nbsp;<span class="op" id="7059364">:=</span>&nbsp;<span class="ident" id="7059367">MustCompile</span><span class="op" id="7059378">(</span><span class="string" id="7059379">&#34;^.bc(?:d|e)*$&#34;</span><span class="op" id="7059394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059397">b</span><span class="op" id="7059398">.</span><span class="ident" id="7059399">StartTimer</span><span class="op" id="7059409">(</span><span class="op" id="7059410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059413">for</span>&nbsp;<span class="ident" id="7059417">i</span>&nbsp;<span class="op" id="7059419">:=</span>&nbsp;<span class="num" id="7059422">0</span><span class="op" id="7059423">;</span>&nbsp;<span class="ident" id="7059425">i</span>&nbsp;<span class="op" id="7059427">&lt;</span>&nbsp;<span class="ident" id="7059429">b</span><span class="op" id="7059430">.</span><span class="ident" id="7059431">N</span><span class="op" id="7059432">;</span>&nbsp;<span class="ident" id="7059434">i</span><span class="op" id="7059435">++</span>&nbsp;<span class="op" id="7059438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059442">re</span><span class="op" id="7059444">.</span><span class="ident" id="7059445">Match</span><span class="op" id="7059450">(</span><span class="ident" id="7059451">x</span><span class="op" id="7059452">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059455">}</span><br>
<span class="lineno"></span><span class="op" id="7059457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7059460">func</span>&nbsp;<span class="ident" id="7059465">BenchmarkNotOnePassShortB</span><span class="op" id="7059490">(</span><span class="ident" id="7059491">b</span>&nbsp;<span class="op" id="7059493">*</span><span class="ident" id="7059494">testing</span><span class="op" id="7059501">.</span><span class="ident" id="7059502">B</span><span class="op" id="7059503">)</span>&nbsp;<span class="op" id="7059505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059508">b</span><span class="op" id="7059509">.</span><span class="ident" id="7059510">StopTimer</span><span class="op" id="7059519">(</span><span class="op" id="7059520">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059523">x</span>&nbsp;<span class="op" id="7059525">:=</span>&nbsp;<span class="op" id="7059528">[</span><span class="op" id="7059529">]</span><span class="builtintype" id="7059530">byte</span><span class="op" id="7059534">(</span><span class="string" id="7059535">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7059554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059557">re</span>&nbsp;<span class="op" id="7059560">:=</span>&nbsp;<span class="ident" id="7059563">MustCompile</span><span class="op" id="7059574">(</span><span class="string" id="7059575">&#34;.bc(?:d|e)*$&#34;</span><span class="op" id="7059589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059592">b</span><span class="op" id="7059593">.</span><span class="ident" id="7059594">StartTimer</span><span class="op" id="7059604">(</span><span class="op" id="7059605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059608">for</span>&nbsp;<span class="ident" id="7059612">i</span>&nbsp;<span class="op" id="7059614">:=</span>&nbsp;<span class="num" id="7059617">0</span><span class="op" id="7059618">;</span>&nbsp;<span class="ident" id="7059620">i</span>&nbsp;<span class="op" id="7059622">&lt;</span>&nbsp;<span class="ident" id="7059624">b</span><span class="op" id="7059625">.</span><span class="ident" id="7059626">N</span><span class="op" id="7059627">;</span>&nbsp;<span class="ident" id="7059629">i</span><span class="op" id="7059630">++</span>&nbsp;<span class="op" id="7059633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059637">re</span><span class="op" id="7059639">.</span><span class="ident" id="7059640">Match</span><span class="op" id="7059645">(</span><span class="ident" id="7059646">x</span><span class="op" id="7059647">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059650">}</span><br>
<span class="lineno"></span><span class="op" id="7059652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7059655">func</span>&nbsp;<span class="ident" id="7059660">BenchmarkOnePassLongPrefix</span><span class="op" id="7059686">(</span><span class="ident" id="7059687">b</span>&nbsp;<span class="op" id="7059689">*</span><span class="ident" id="7059690">testing</span><span class="op" id="7059697">.</span><span class="ident" id="7059698">B</span><span class="op" id="7059699">)</span>&nbsp;<span class="op" id="7059701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059704">b</span><span class="op" id="7059705">.</span><span class="ident" id="7059706">StopTimer</span><span class="op" id="7059715">(</span><span class="op" id="7059716">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059719">x</span>&nbsp;<span class="op" id="7059721">:=</span>&nbsp;<span class="op" id="7059724">[</span><span class="op" id="7059725">]</span><span class="builtintype" id="7059726">byte</span><span class="op" id="7059730">(</span><span class="string" id="7059731">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7059759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059762">re</span>&nbsp;<span class="op" id="7059765">:=</span>&nbsp;<span class="ident" id="7059768">MustCompile</span><span class="op" id="7059779">(</span><span class="string" id="7059780">&#34;^abcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="7059812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059815">b</span><span class="op" id="7059816">.</span><span class="ident" id="7059817">StartTimer</span><span class="op" id="7059827">(</span><span class="op" id="7059828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059831">for</span>&nbsp;<span class="ident" id="7059835">i</span>&nbsp;<span class="op" id="7059837">:=</span>&nbsp;<span class="num" id="7059840">0</span><span class="op" id="7059841">;</span>&nbsp;<span class="ident" id="7059843">i</span>&nbsp;<span class="op" id="7059845">&lt;</span>&nbsp;<span class="ident" id="7059847">b</span><span class="op" id="7059848">.</span><span class="ident" id="7059849">N</span><span class="op" id="7059850">;</span>&nbsp;<span class="ident" id="7059852">i</span><span class="op" id="7059853">++</span>&nbsp;<span class="op" id="7059856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059860">re</span><span class="op" id="7059862">.</span><span class="ident" id="7059863">Match</span><span class="op" id="7059868">(</span><span class="ident" id="7059869">x</span><span class="op" id="7059870">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059873">}</span><br>
<span class="lineno"></span><span class="op" id="7059875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7059878">func</span>&nbsp;<span class="ident" id="7059883">BenchmarkOnePassLongNotPrefix</span><span class="op" id="7059912">(</span><span class="ident" id="7059913">b</span>&nbsp;<span class="op" id="7059915">*</span><span class="ident" id="7059916">testing</span><span class="op" id="7059923">.</span><span class="ident" id="7059924">B</span><span class="op" id="7059925">)</span>&nbsp;<span class="op" id="7059927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059930">b</span><span class="op" id="7059931">.</span><span class="ident" id="7059932">StopTimer</span><span class="op" id="7059941">(</span><span class="op" id="7059942">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059945">x</span>&nbsp;<span class="op" id="7059947">:=</span>&nbsp;<span class="op" id="7059950">[</span><span class="op" id="7059951">]</span><span class="builtintype" id="7059952">byte</span><span class="op" id="7059956">(</span><span class="string" id="7059957">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7059985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059988">re</span>&nbsp;<span class="op" id="7059991">:=</span>&nbsp;<span class="ident" id="7059994">MustCompile</span><span class="op" id="7060005">(</span><span class="string" id="7060006">&#34;^.bcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="7060038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060041">b</span><span class="op" id="7060042">.</span><span class="ident" id="7060043">StartTimer</span><span class="op" id="7060053">(</span><span class="op" id="7060054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060057">for</span>&nbsp;<span class="ident" id="7060061">i</span>&nbsp;<span class="op" id="7060063">:=</span>&nbsp;<span class="num" id="7060066">0</span><span class="op" id="7060067">;</span>&nbsp;<span class="ident" id="7060069">i</span>&nbsp;<span class="op" id="7060071">&lt;</span>&nbsp;<span class="ident" id="7060073">b</span><span class="op" id="7060074">.</span><span class="ident" id="7060075">N</span><span class="op" id="7060076">;</span>&nbsp;<span class="ident" id="7060078">i</span><span class="op" id="7060079">++</span>&nbsp;<span class="op" id="7060082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060086">re</span><span class="op" id="7060088">.</span><span class="ident" id="7060089">Match</span><span class="op" id="7060094">(</span><span class="ident" id="7060095">x</span><span class="op" id="7060096">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060099">}</span><br>
<span class="lineno"></span><span class="op" id="7060101">}</span>
</div>
</body>
</html>
