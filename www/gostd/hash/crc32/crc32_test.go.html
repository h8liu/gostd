<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc32</h2>
<ul>
<li><a href="/gostd/hash/crc32/crc32.go.html">crc32.go</a></li>
<li><a href="/gostd/hash/crc32/crc32_amd64x.go.html">crc32_amd64x.go</a></li>
<li><a href="/gostd/hash/crc32/crc32_test.go.html" class="current">crc32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6863094">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6863149">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6863203">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6863254">package</span>&nbsp;<span class="ident" id="6863262">crc32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6863269">import</span>&nbsp;<span class="op" id="6863276">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6863279">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6863285">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6863295">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6863298">type</span>&nbsp;<span class="ident" id="6863303">test</span>&nbsp;<span class="keyword" id="6863308">struct</span>&nbsp;<span class="op" id="6863315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6863318">ieee</span><span class="op" id="6863322">,</span>&nbsp;<span class="ident" id="6863324">castagnoli</span>&nbsp;<span class="builtintype" id="6863335">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6863343">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6863360">string</span><br>
<span class="lineno">15</span><span class="op" id="6863367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6863370">var</span>&nbsp;<span class="ident" id="6863374">golden</span>&nbsp;<span class="op" id="6863381">=</span>&nbsp;<span class="op" id="6863383">[</span><span class="op" id="6863384">]</span><span class="ident" id="6863385">test</span><span class="op" id="6863389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863392">{</span><span class="num" id="6863393">0x0</span><span class="op" id="6863396">,</span>&nbsp;<span class="num" id="6863398">0x0</span><span class="op" id="6863401">,</span>&nbsp;<span class="string" id="6863403">&#34;&#34;</span><span class="op" id="6863405">}</span><span class="op" id="6863406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863409">{</span><span class="num" id="6863410">0xe8b7be43</span><span class="op" id="6863420">,</span>&nbsp;<span class="num" id="6863422">0xc1d04330</span><span class="op" id="6863432">,</span>&nbsp;<span class="string" id="6863434">&#34;a&#34;</span><span class="op" id="6863437">}</span><span class="op" id="6863438">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863441">{</span><span class="num" id="6863442">0x9e83486d</span><span class="op" id="6863452">,</span>&nbsp;<span class="num" id="6863454">0xe2a22936</span><span class="op" id="6863464">,</span>&nbsp;<span class="string" id="6863466">&#34;ab&#34;</span><span class="op" id="6863470">}</span><span class="op" id="6863471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863474">{</span><span class="num" id="6863475">0x352441c2</span><span class="op" id="6863485">,</span>&nbsp;<span class="num" id="6863487">0x364b3fb7</span><span class="op" id="6863497">,</span>&nbsp;<span class="string" id="6863499">&#34;abc&#34;</span><span class="op" id="6863504">}</span><span class="op" id="6863505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863508">{</span><span class="num" id="6863509">0xed82cd11</span><span class="op" id="6863519">,</span>&nbsp;<span class="num" id="6863521">0x92c80a31</span><span class="op" id="6863531">,</span>&nbsp;<span class="string" id="6863533">&#34;abcd&#34;</span><span class="op" id="6863539">}</span><span class="op" id="6863540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863543">{</span><span class="num" id="6863544">0x8587d865</span><span class="op" id="6863554">,</span>&nbsp;<span class="num" id="6863556">0xc450d697</span><span class="op" id="6863566">,</span>&nbsp;<span class="string" id="6863568">&#34;abcde&#34;</span><span class="op" id="6863575">}</span><span class="op" id="6863576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863579">{</span><span class="num" id="6863580">0x4b8e39ef</span><span class="op" id="6863590">,</span>&nbsp;<span class="num" id="6863592">0x53bceff1</span><span class="op" id="6863602">,</span>&nbsp;<span class="string" id="6863604">&#34;abcdef&#34;</span><span class="op" id="6863612">}</span><span class="op" id="6863613">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863616">{</span><span class="num" id="6863617">0x312a6aa6</span><span class="op" id="6863627">,</span>&nbsp;<span class="num" id="6863629">0xe627f441</span><span class="op" id="6863639">,</span>&nbsp;<span class="string" id="6863641">&#34;abcdefg&#34;</span><span class="op" id="6863650">}</span><span class="op" id="6863651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863654">{</span><span class="num" id="6863655">0xaeef2a50</span><span class="op" id="6863665">,</span>&nbsp;<span class="num" id="6863667">0xa9421b7</span><span class="op" id="6863676">,</span>&nbsp;<span class="string" id="6863678">&#34;abcdefgh&#34;</span><span class="op" id="6863688">}</span><span class="op" id="6863689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863692">{</span><span class="num" id="6863693">0x8da988af</span><span class="op" id="6863703">,</span>&nbsp;<span class="num" id="6863705">0x2ddc99fc</span><span class="op" id="6863715">,</span>&nbsp;<span class="string" id="6863717">&#34;abcdefghi&#34;</span><span class="op" id="6863728">}</span><span class="op" id="6863729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863732">{</span><span class="num" id="6863733">0x3981703a</span><span class="op" id="6863743">,</span>&nbsp;<span class="num" id="6863745">0xe6599437</span><span class="op" id="6863755">,</span>&nbsp;<span class="string" id="6863757">&#34;abcdefghij&#34;</span><span class="op" id="6863769">}</span><span class="op" id="6863770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863773">{</span><span class="num" id="6863774">0x6b9cdfe7</span><span class="op" id="6863784">,</span>&nbsp;<span class="num" id="6863786">0xb2cc01fe</span><span class="op" id="6863796">,</span>&nbsp;<span class="string" id="6863798">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="6863841">}</span><span class="op" id="6863842">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863845">{</span><span class="num" id="6863846">0xc90ef73f</span><span class="op" id="6863856">,</span>&nbsp;<span class="num" id="6863858">0xe28207f</span><span class="op" id="6863867">,</span>&nbsp;<span class="string" id="6863869">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="6863928">}</span><span class="op" id="6863929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6863932">{</span><span class="num" id="6863933">0xb902341f</span><span class="op" id="6863943">,</span>&nbsp;<span class="num" id="6863945">0xbe93f964</span><span class="op" id="6863955">,</span>&nbsp;<span class="string" id="6863957">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="6864001">}</span><span class="op" id="6864002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864005">{</span><span class="num" id="6864006">0x42080e8</span><span class="op" id="6864015">,</span>&nbsp;<span class="num" id="6864017">0x9e3be0c3</span><span class="op" id="6864027">,</span>&nbsp;<span class="string" id="6864029">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="6864088">}</span><span class="op" id="6864089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864092">{</span><span class="num" id="6864093">0x154c6d11</span><span class="op" id="6864103">,</span>&nbsp;<span class="num" id="6864105">0xf505ef04</span><span class="op" id="6864115">,</span>&nbsp;<span class="string" id="6864117">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="6864177">}</span><span class="op" id="6864178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864181">{</span><span class="num" id="6864182">0x4c418325</span><span class="op" id="6864192">,</span>&nbsp;<span class="num" id="6864194">0x85d3dc82</span><span class="op" id="6864204">,</span>&nbsp;<span class="string" id="6864206">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="6864235">}</span><span class="op" id="6864236">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864239">{</span><span class="num" id="6864240">0x33955150</span><span class="op" id="6864250">,</span>&nbsp;<span class="num" id="6864252">0xc5142380</span><span class="op" id="6864262">,</span>&nbsp;<span class="string" id="6864264">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="6864333">}</span><span class="op" id="6864334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864337">{</span><span class="num" id="6864338">0x26216a4b</span><span class="op" id="6864348">,</span>&nbsp;<span class="num" id="6864350">0x75eb77dd</span><span class="op" id="6864360">,</span>&nbsp;<span class="string" id="6864362">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="6864421">}</span><span class="op" id="6864422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864425">{</span><span class="num" id="6864426">0x1abbe45e</span><span class="op" id="6864436">,</span>&nbsp;<span class="num" id="6864438">0x91ebe9f7</span><span class="op" id="6864448">,</span>&nbsp;<span class="string" id="6864450">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="6864540">}</span><span class="op" id="6864541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864544">{</span><span class="num" id="6864545">0xc89a94f7</span><span class="op" id="6864555">,</span>&nbsp;<span class="num" id="6864557">0xf0b1168e</span><span class="op" id="6864567">,</span>&nbsp;<span class="string" id="6864569">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="6864646">}</span><span class="op" id="6864647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864650">{</span><span class="num" id="6864651">0xab3abe14</span><span class="op" id="6864661">,</span>&nbsp;<span class="num" id="6864663">0x572b74e2</span><span class="op" id="6864673">,</span>&nbsp;<span class="string" id="6864675">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="6864701">}</span><span class="op" id="6864702">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864705">{</span><span class="num" id="6864706">0xbab102b6</span><span class="op" id="6864716">,</span>&nbsp;<span class="num" id="6864718">0x8a58a6d5</span><span class="op" id="6864728">,</span>&nbsp;<span class="string" id="6864730">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="6864781">}</span><span class="op" id="6864782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864785">{</span><span class="num" id="6864786">0x999149d7</span><span class="op" id="6864796">,</span>&nbsp;<span class="num" id="6864798">0x9c426c50</span><span class="op" id="6864808">,</span>&nbsp;<span class="string" id="6864810">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="6864884">}</span><span class="op" id="6864885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864888">{</span><span class="num" id="6864889">0x6d52a33c</span><span class="op" id="6864899">,</span>&nbsp;<span class="num" id="6864901">0x735400a4</span><span class="op" id="6864911">,</span>&nbsp;<span class="string" id="6864913">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="6864961">}</span><span class="op" id="6864962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6864965">{</span><span class="num" id="6864966">0x90631e8d</span><span class="op" id="6864976">,</span>&nbsp;<span class="num" id="6864978">0xbec49c95</span><span class="op" id="6864988">,</span>&nbsp;<span class="string" id="6864990">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="6865062">}</span><span class="op" id="6865063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6865066">{</span><span class="num" id="6865067">0x78309130</span><span class="op" id="6865077">,</span>&nbsp;<span class="num" id="6865079">0xa95a2079</span><span class="op" id="6865089">,</span>&nbsp;<span class="string" id="6865091">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="6865161">}</span><span class="op" id="6865162">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6865165">{</span><span class="num" id="6865166">0x7d0a377f</span><span class="op" id="6865176">,</span>&nbsp;<span class="num" id="6865178">0xde2e65c5</span><span class="op" id="6865188">,</span>&nbsp;<span class="string" id="6865190">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="6865224">}</span><span class="op" id="6865225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6865228">{</span><span class="num" id="6865229">0x8c79fd79</span><span class="op" id="6865239">,</span>&nbsp;<span class="num" id="6865241">0x297a88ed</span><span class="op" id="6865251">,</span>&nbsp;<span class="string" id="6865253">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="6865343">}</span><span class="op" id="6865344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6865347">{</span><span class="num" id="6865348">0xa20b7167</span><span class="op" id="6865358">,</span>&nbsp;<span class="num" id="6865360">0x66ed1d8b</span><span class="op" id="6865370">,</span>&nbsp;<span class="string" id="6865372">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="6865506">}</span><span class="op" id="6865507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6865510">{</span><span class="num" id="6865511">0x8e0bb443</span><span class="op" id="6865521">,</span>&nbsp;<span class="num" id="6865523">0xdcded527</span><span class="op" id="6865533">,</span>&nbsp;<span class="string" id="6865535">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="6865593">}</span><span class="op" id="6865594">,</span><br>
<span class="lineno"></span><span class="op" id="6865596">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6865599">func</span>&nbsp;<span class="ident" id="6865604">TestGolden</span><span class="op" id="6865614">(</span><span class="ident" id="6865615">t</span>&nbsp;<span class="op" id="6865617">*</span><span class="ident" id="6865618">testing</span><span class="op" id="6865625">.</span><span class="ident" id="6865626">T</span><span class="op" id="6865627">)</span>&nbsp;<span class="op" id="6865629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6865632">castagnoliTab</span>&nbsp;<span class="op" id="6865646">:=</span>&nbsp;<span class="ident" id="6865649">MakeTable</span><span class="op" id="6865658">(</span><span class="ident" id="6865659">Castagnoli</span><span class="op" id="6865669">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6865673">for</span>&nbsp;<span class="ident" id="6865677">_</span><span class="op" id="6865678">,</span>&nbsp;<span class="ident" id="6865680">g</span>&nbsp;<span class="op" id="6865682">:=</span>&nbsp;<span class="keyword" id="6865685">range</span>&nbsp;<span class="ident" id="6865691">golden</span>&nbsp;<span class="op" id="6865698">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6865702">ieee</span>&nbsp;<span class="op" id="6865707">:=</span>&nbsp;<span class="ident" id="6865710">NewIEEE</span><span class="op" id="6865717">(</span><span class="op" id="6865718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6865722">io</span><span class="op" id="6865724">.</span><span class="ident" id="6865725">WriteString</span><span class="op" id="6865736">(</span><span class="ident" id="6865737">ieee</span><span class="op" id="6865741">,</span>&nbsp;<span class="ident" id="6865743">g</span><span class="op" id="6865744">.</span><span class="ident" id="6865745">in</span><span class="op" id="6865747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6865751">s</span>&nbsp;<span class="op" id="6865753">:=</span>&nbsp;<span class="ident" id="6865756">ieee</span><span class="op" id="6865760">.</span><span class="ident" id="6865761">Sum32</span><span class="op" id="6865766">(</span><span class="op" id="6865767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6865771">if</span>&nbsp;<span class="ident" id="6865774">s</span>&nbsp;<span class="op" id="6865776">!=</span>&nbsp;<span class="ident" id="6865779">g</span><span class="op" id="6865780">.</span><span class="ident" id="6865781">ieee</span>&nbsp;<span class="op" id="6865786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6865791">t</span><span class="op" id="6865792">.</span><span class="ident" id="6865793">Errorf</span><span class="op" id="6865799">(</span><span class="string" id="6865800">&#34;IEEE(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6865827">,</span>&nbsp;<span class="ident" id="6865829">g</span><span class="op" id="6865830">.</span><span class="ident" id="6865831">in</span><span class="op" id="6865833">,</span>&nbsp;<span class="ident" id="6865835">s</span><span class="op" id="6865836">,</span>&nbsp;<span class="ident" id="6865838">g</span><span class="op" id="6865839">.</span><span class="ident" id="6865840">ieee</span><span class="op" id="6865844">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6865848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6865853">castagnoli</span>&nbsp;<span class="op" id="6865864">:=</span>&nbsp;<span class="ident" id="6865867">New</span><span class="op" id="6865870">(</span><span class="ident" id="6865871">castagnoliTab</span><span class="op" id="6865884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6865888">io</span><span class="op" id="6865890">.</span><span class="ident" id="6865891">WriteString</span><span class="op" id="6865902">(</span><span class="ident" id="6865903">castagnoli</span><span class="op" id="6865913">,</span>&nbsp;<span class="ident" id="6865915">g</span><span class="op" id="6865916">.</span><span class="ident" id="6865917">in</span><span class="op" id="6865919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6865923">s</span>&nbsp;<span class="op" id="6865925">=</span>&nbsp;<span class="ident" id="6865927">castagnoli</span><span class="op" id="6865937">.</span><span class="ident" id="6865938">Sum32</span><span class="op" id="6865943">(</span><span class="op" id="6865944">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6865948">if</span>&nbsp;<span class="ident" id="6865951">s</span>&nbsp;<span class="op" id="6865953">!=</span>&nbsp;<span class="ident" id="6865956">g</span><span class="op" id="6865957">.</span><span class="ident" id="6865958">castagnoli</span>&nbsp;<span class="op" id="6865969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6865974">t</span><span class="op" id="6865975">.</span><span class="ident" id="6865976">Errorf</span><span class="op" id="6865982">(</span><span class="string" id="6865983">&#34;Castagnoli(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6866016">,</span>&nbsp;<span class="ident" id="6866018">g</span><span class="op" id="6866019">.</span><span class="ident" id="6866020">in</span><span class="op" id="6866022">,</span>&nbsp;<span class="ident" id="6866024">s</span><span class="op" id="6866025">,</span>&nbsp;<span class="ident" id="6866027">g</span><span class="op" id="6866028">.</span><span class="ident" id="6866029">castagnoli</span><span class="op" id="6866039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6866043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6866048">if</span>&nbsp;<span class="builtinfunc" id="6866051">len</span><span class="op" id="6866054">(</span><span class="ident" id="6866055">g</span><span class="op" id="6866056">.</span><span class="ident" id="6866057">in</span><span class="op" id="6866059">)</span>&nbsp;<span class="op" id="6866061">&gt;</span>&nbsp;<span class="num" id="6866063">0</span>&nbsp;<span class="op" id="6866065">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6866070">//&nbsp;The&nbsp;SSE4.2&nbsp;implementation&nbsp;of&nbsp;this&nbsp;has&nbsp;code&nbsp;to&nbsp;deal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6866127">//&nbsp;with&nbsp;misaligned&nbsp;data&nbsp;so&nbsp;we&nbsp;ensure&nbsp;that&nbsp;we&nbsp;test&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6866185">//&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866196">castagnoli</span>&nbsp;<span class="op" id="6866207">=</span>&nbsp;<span class="ident" id="6866209">New</span><span class="op" id="6866212">(</span><span class="ident" id="6866213">castagnoliTab</span><span class="op" id="6866226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866231">io</span><span class="op" id="6866233">.</span><span class="ident" id="6866234">WriteString</span><span class="op" id="6866245">(</span><span class="ident" id="6866246">castagnoli</span><span class="op" id="6866256">,</span>&nbsp;<span class="ident" id="6866258">g</span><span class="op" id="6866259">.</span><span class="ident" id="6866260">in</span><span class="op" id="6866262">[</span><span class="op" id="6866263">:</span><span class="num" id="6866264">1</span><span class="op" id="6866265">]</span><span class="op" id="6866266">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866271">io</span><span class="op" id="6866273">.</span><span class="ident" id="6866274">WriteString</span><span class="op" id="6866285">(</span><span class="ident" id="6866286">castagnoli</span><span class="op" id="6866296">,</span>&nbsp;<span class="ident" id="6866298">g</span><span class="op" id="6866299">.</span><span class="ident" id="6866300">in</span><span class="op" id="6866302">[</span><span class="num" id="6866303">1</span><span class="op" id="6866304">:</span><span class="op" id="6866305">]</span><span class="op" id="6866306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866311">s</span>&nbsp;<span class="op" id="6866313">=</span>&nbsp;<span class="ident" id="6866315">castagnoli</span><span class="op" id="6866325">.</span><span class="ident" id="6866326">Sum32</span><span class="op" id="6866331">(</span><span class="op" id="6866332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6866337">if</span>&nbsp;<span class="ident" id="6866340">s</span>&nbsp;<span class="op" id="6866342">!=</span>&nbsp;<span class="ident" id="6866345">g</span><span class="op" id="6866346">.</span><span class="ident" id="6866347">castagnoli</span>&nbsp;<span class="op" id="6866358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866364">t</span><span class="op" id="6866365">.</span><span class="ident" id="6866366">Errorf</span><span class="op" id="6866372">(</span><span class="string" id="6866373">&#34;Castagnoli[misaligned](%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6866418">,</span>&nbsp;<span class="ident" id="6866420">g</span><span class="op" id="6866421">.</span><span class="ident" id="6866422">in</span><span class="op" id="6866424">,</span>&nbsp;<span class="ident" id="6866426">s</span><span class="op" id="6866427">,</span>&nbsp;<span class="ident" id="6866429">g</span><span class="op" id="6866430">.</span><span class="ident" id="6866431">castagnoli</span><span class="op" id="6866441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6866446">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6866450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6866453">}</span><br>
<span class="lineno"></span><span class="op" id="6866455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6866458">func</span>&nbsp;<span class="ident" id="6866463">BenchmarkCrc32KB</span><span class="op" id="6866479">(</span><span class="ident" id="6866480">b</span>&nbsp;<span class="op" id="6866482">*</span><span class="ident" id="6866483">testing</span><span class="op" id="6866490">.</span><span class="ident" id="6866491">B</span><span class="op" id="6866492">)</span>&nbsp;<span class="op" id="6866494">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866497">b</span><span class="op" id="6866498">.</span><span class="ident" id="6866499">SetBytes</span><span class="op" id="6866507">(</span><span class="num" id="6866508">1024</span><span class="op" id="6866512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866515">data</span>&nbsp;<span class="op" id="6866520">:=</span>&nbsp;<span class="builtinfunc" id="6866523">make</span><span class="op" id="6866527">(</span><span class="op" id="6866528">[</span><span class="op" id="6866529">]</span><span class="builtintype" id="6866530">byte</span><span class="op" id="6866534">,</span>&nbsp;<span class="num" id="6866536">1024</span><span class="op" id="6866540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6866543">for</span>&nbsp;<span class="ident" id="6866547">i</span>&nbsp;<span class="op" id="6866549">:=</span>&nbsp;<span class="keyword" id="6866552">range</span>&nbsp;<span class="ident" id="6866558">data</span>&nbsp;<span class="op" id="6866563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866567">data</span><span class="op" id="6866571">[</span><span class="ident" id="6866572">i</span><span class="op" id="6866573">]</span>&nbsp;<span class="op" id="6866575">=</span>&nbsp;<span class="builtintype" id="6866577">byte</span><span class="op" id="6866581">(</span><span class="ident" id="6866582">i</span><span class="op" id="6866583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6866586">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866589">h</span>&nbsp;<span class="op" id="6866591">:=</span>&nbsp;<span class="ident" id="6866594">NewIEEE</span><span class="op" id="6866601">(</span><span class="op" id="6866602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866605">in</span>&nbsp;<span class="op" id="6866608">:=</span>&nbsp;<span class="builtinfunc" id="6866611">make</span><span class="op" id="6866615">(</span><span class="op" id="6866616">[</span><span class="op" id="6866617">]</span><span class="builtintype" id="6866618">byte</span><span class="op" id="6866622">,</span>&nbsp;<span class="num" id="6866624">0</span><span class="op" id="6866625">,</span>&nbsp;<span class="ident" id="6866627">h</span><span class="op" id="6866628">.</span><span class="ident" id="6866629">Size</span><span class="op" id="6866633">(</span><span class="op" id="6866634">)</span><span class="op" id="6866635">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866639">b</span><span class="op" id="6866640">.</span><span class="ident" id="6866641">ResetTimer</span><span class="op" id="6866651">(</span><span class="op" id="6866652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6866655">for</span>&nbsp;<span class="ident" id="6866659">i</span>&nbsp;<span class="op" id="6866661">:=</span>&nbsp;<span class="num" id="6866664">0</span><span class="op" id="6866665">;</span>&nbsp;<span class="ident" id="6866667">i</span>&nbsp;<span class="op" id="6866669">&lt;</span>&nbsp;<span class="ident" id="6866671">b</span><span class="op" id="6866672">.</span><span class="ident" id="6866673">N</span><span class="op" id="6866674">;</span>&nbsp;<span class="ident" id="6866676">i</span><span class="op" id="6866677">++</span>&nbsp;<span class="op" id="6866680">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866684">h</span><span class="op" id="6866685">.</span><span class="ident" id="6866686">Reset</span><span class="op" id="6866691">(</span><span class="op" id="6866692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866696">h</span><span class="op" id="6866697">.</span><span class="ident" id="6866698">Write</span><span class="op" id="6866703">(</span><span class="ident" id="6866704">data</span><span class="op" id="6866708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866712">h</span><span class="op" id="6866713">.</span><span class="ident" id="6866714">Sum</span><span class="op" id="6866717">(</span><span class="ident" id="6866718">in</span><span class="op" id="6866720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6866723">}</span><br>
<span class="lineno"></span><span class="op" id="6866725">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
