<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6090126">package</span>&nbsp;<span class="ident" id="6090134">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6090141">import</span>&nbsp;<span class="op" id="6090148">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6090151">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="6090157">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6090160">var</span>&nbsp;<span class="op" id="6090164">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090167">opSysMap</span>&nbsp;<span class="op" id="6090176">=</span>&nbsp;<span class="keyword" id="6090178">map</span><span class="op" id="6090181">[</span><span class="builtintype" id="6090182">uint32</span><span class="op" id="6090188">]</span><span class="builtintype" id="6090189">string</span><span class="op" id="6090195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6090199">64</span><span class="op" id="6090201">:</span>&nbsp;<span class="string" id="6090203">&#34;halt&#34;</span><span class="op" id="6090209">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6090213">65</span><span class="op" id="6090215">:</span>&nbsp;<span class="string" id="6090217">&#34;syscall&#34;</span><span class="op" id="6090226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6090230">66</span><span class="op" id="6090232">:</span>&nbsp;<span class="string" id="6090234">&#34;usermod&#34;</span><span class="op" id="6090243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6090247">68</span><span class="op" id="6090249">:</span>&nbsp;<span class="string" id="6090251">&#34;iret&#34;</span><span class="op" id="6090257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6090260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090264">opSys1Map</span>&nbsp;<span class="op" id="6090274">=</span>&nbsp;<span class="keyword" id="6090276">map</span><span class="op" id="6090279">[</span><span class="builtintype" id="6090280">uint32</span><span class="op" id="6090286">]</span><span class="builtintype" id="6090287">string</span><span class="op" id="6090293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6090297">67</span><span class="op" id="6090299">:</span>&nbsp;<span class="string" id="6090301">&#34;vtable&#34;</span><span class="op" id="6090309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6090313">69</span><span class="op" id="6090315">:</span>&nbsp;<span class="string" id="6090317">&#34;cpuid&#34;</span><span class="op" id="6090324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6090327">}</span><br>
<span class="lineno"></span><span class="op" id="6090329">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6090332">func</span>&nbsp;<span class="ident" id="6090337">instSys</span><span class="op" id="6090344">(</span><span class="ident" id="6090345">addr</span>&nbsp;<span class="builtintype" id="6090350">uint32</span><span class="op" id="6090356">,</span>&nbsp;<span class="ident" id="6090358">in</span>&nbsp;<span class="builtintype" id="6090361">uint32</span><span class="op" id="6090367">)</span>&nbsp;<span class="op" id="6090369">*</span><span class="ident" id="6090370"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090749">Line</a></span>&nbsp;<span class="op" id="6090375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090378">op</span>&nbsp;<span class="op" id="6090381">:=</span>&nbsp;<span class="op" id="6090384">(</span><span class="ident" id="6090385"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090358">in</a></span>&nbsp;<span class="op" id="6090388">&gt;&gt;</span>&nbsp;<span class="num" id="6090391">24</span><span class="op" id="6090393">)</span>&nbsp;<span class="op" id="6090395">&amp;</span>&nbsp;<span class="num" id="6090397">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090403">src</span>&nbsp;<span class="op" id="6090407">:=</span>&nbsp;<span class="ident" id="6090410"><a href="/lonnie.io/e8vm/dasm8/reg.go.html#6091531">regStr</a></span><span class="op" id="6090416">(</span><span class="op" id="6090417">(</span><span class="ident" id="6090418"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090358">in</a></span>&nbsp;<span class="op" id="6090421">&gt;&gt;</span>&nbsp;<span class="num" id="6090424">21</span><span class="op" id="6090426">)</span>&nbsp;<span class="op" id="6090428">&amp;</span>&nbsp;<span class="num" id="6090430">0x7</span><span class="op" id="6090433">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6090437">var</span>&nbsp;<span class="ident" id="6090441">s</span>&nbsp;<span class="builtintype" id="6090443">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6090451">if</span>&nbsp;<span class="ident" id="6090454">opStr</span><span class="op" id="6090459">,</span>&nbsp;<span class="ident" id="6090461">found</span>&nbsp;<span class="op" id="6090467">:=</span>&nbsp;<span class="ident" id="6090470"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090167">opSysMap</a></span><span class="op" id="6090478">[</span><span class="ident" id="6090479"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090378">op</a></span><span class="op" id="6090481">]</span><span class="op" id="6090482">;</span>&nbsp;<span class="ident" id="6090484"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090461">found</a></span>&nbsp;<span class="op" id="6090490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090494"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090441">s</a></span>&nbsp;<span class="op" id="6090496">=</span>&nbsp;<span class="ident" id="6090498"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090454">opStr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6090505">}</span>&nbsp;<span class="keyword" id="6090507">else</span>&nbsp;<span class="keyword" id="6090512">if</span>&nbsp;<span class="ident" id="6090515">opStr</span><span class="op" id="6090520">,</span>&nbsp;<span class="ident" id="6090522">found</span>&nbsp;<span class="op" id="6090528">:=</span>&nbsp;<span class="ident" id="6090531"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090264">opSys1Map</a></span><span class="op" id="6090540">[</span><span class="ident" id="6090541"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090378">op</a></span><span class="op" id="6090543">]</span><span class="op" id="6090544">;</span>&nbsp;<span class="ident" id="6090546"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090522">found</a></span>&nbsp;<span class="op" id="6090552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090556"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090441">s</a></span>&nbsp;<span class="op" id="6090558">=</span>&nbsp;<span class="ident" id="6090560"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090151">fmt</a></span><span class="op" id="6090563">.</span><span class="ident" id="6090564">Sprintf</span><span class="op" id="6090571">(</span><span class="string" id="6090572">&#34;%s&nbsp;%s&#34;</span><span class="op" id="6090579">,</span>&nbsp;<span class="ident" id="6090581"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090515">opStr</a></span><span class="op" id="6090586">,</span>&nbsp;<span class="ident" id="6090588"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090403">src</a></span><span class="op" id="6090591">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6090594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090598">ret</span>&nbsp;<span class="op" id="6090602">:=</span>&nbsp;<span class="ident" id="6090605"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091406">newLine</a></span><span class="op" id="6090612">(</span><span class="ident" id="6090613"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090345">addr</a></span><span class="op" id="6090617">,</span>&nbsp;<span class="ident" id="6090619"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090358">in</a></span><span class="op" id="6090621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090624"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090598">ret</a></span><span class="op" id="6090627">.</span><span class="ident" id="6090628">Str</span>&nbsp;<span class="op" id="6090632">=</span>&nbsp;<span class="ident" id="6090634"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090441">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6090637">return</span>&nbsp;<span class="ident" id="6090644"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#6090598">ret</a></span><br>
<span class="lineno">35</span><span class="op" id="6090648">}</span>
</div>
</body>
</html>
