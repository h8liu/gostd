<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4085430">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4085485">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4085539">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4085590">package</span>&nbsp;<span class="ident" id="4085598">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4085604">import</span>&nbsp;<span class="op" id="4085611">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4085614">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4085624">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4085635">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4085650">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4085653">//&nbsp;ErrBadPattern&nbsp;indicates&nbsp;a&nbsp;globbing&nbsp;pattern&nbsp;was&nbsp;malformed.</span><br>
<span class="lineno"></span><span class="keyword" id="4085714">var</span>&nbsp;<span class="ident" id="4085718">ErrBadPattern</span>&nbsp;<span class="op" id="4085732">=</span>&nbsp;<span class="ident" id="4085734"><a href="/path/match.go.html#4085614">errors</a></span><span class="op" id="4085740">.</span><span class="ident" id="4085741">New</span><span class="op" id="4085744">(</span><span class="string" id="4085745">&#34;syntax&nbsp;error&nbsp;in&nbsp;pattern&#34;</span><span class="op" id="4085770">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="4085773">//&nbsp;Match&nbsp;returns&nbsp;true&nbsp;if&nbsp;name&nbsp;matches&nbsp;the&nbsp;shell&nbsp;file&nbsp;name&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="comment" id="4085840">//&nbsp;The&nbsp;pattern&nbsp;syntax&nbsp;is:</span><br>
<span class="lineno"></span><span class="comment" id="4085866">//</span><br>
<span class="lineno"></span><span class="comment" id="4085869">//&nbsp;&nbsp;&nbsp;&nbsppattern:</span><br>
<span class="lineno">20</span><span class="comment" id="4085881">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{&nbsp;term&nbsp;}</span><br>
<span class="lineno"></span><span class="comment" id="4085894">//&nbsp;&nbsp;&nbsp;&nbspterm:</span><br>
<span class="lineno"></span><span class="comment" id="4085903">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#39;*&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;any&nbsp;sequence&nbsp;of&nbsp;non-/&nbsp;characters</span><br>
<span class="lineno"></span><span class="comment" id="4085960">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#39;?&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;any&nbsp;single&nbsp;non-/&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="4086011">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#39;[&#39;&nbsp;[&nbsp;&#39;^&#39;&nbsp;]&nbsp;{&nbsp;character-range&nbsp;}&nbsp;&#39;]&#39;</span><br>
<span class="lineno">25</span><span class="comment" id="4086051">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character&nbsp;class&nbsp;(must&nbsp;be&nbsp;non-empty)</span><br>
<span class="lineno"></span><span class="comment" id="4086103">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c&nbsp;(c&nbsp;!=&nbsp;&#39;*&#39;,&nbsp;&#39;?&#39;,&nbsp;&#39;\\&#39;,&nbsp;&#39;[&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="4086166">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#39;\\&#39;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c</span><br>
<span class="lineno"></span><span class="comment" id="4086202">//</span><br>
<span class="lineno"></span><span class="comment" id="4086205">//&nbsp;&nbsp;&nbsp;&nbspcharacter-range:</span><br>
<span class="lineno">30</span><span class="comment" id="4086225">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c&nbsp;(c&nbsp;!=&nbsp;&#39;\\&#39;,&nbsp;&#39;-&#39;,&nbsp;&#39;]&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="4086283">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#39;\\&#39;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c</span><br>
<span class="lineno"></span><span class="comment" id="4086319">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplo&nbsp;&#39;-&#39;&nbsp;hi&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c&nbsp;for&nbsp;lo&nbsp;&lt;=&nbsp;c&nbsp;&lt;=&nbsp;hi</span><br>
<span class="lineno"></span><span class="comment" id="4086373">//</span><br>
<span class="lineno"></span><span class="comment" id="4086376">//&nbsp;Match&nbsp;requires&nbsp;pattern&nbsp;to&nbsp;match&nbsp;all&nbsp;of&nbsp;name,&nbsp;not&nbsp;just&nbsp;a&nbsp;substring.</span><br>
<span class="lineno">35</span><span class="comment" id="4086446">//&nbsp;The&nbsp;only&nbsp;possible&nbsp;returned&nbsp;error&nbsp;is&nbsp;ErrBadPattern,&nbsp;when&nbsp;pattern</span><br>
<span class="lineno"></span><span class="comment" id="4086513">//&nbsp;is&nbsp;malformed.</span><br>
<span class="lineno"></span><span class="comment" id="4086530">//</span><br>
<span class="lineno"></span><span class="keyword" id="4086533">func</span>&nbsp;<span class="ident" id="4086538">Match</span><span class="op" id="4086543">(</span><span class="ident" id="4086544">pattern</span><span class="op" id="4086551">,</span>&nbsp;<span class="ident" id="4086553">name</span>&nbsp;<span class="builtintype" id="4086558">string</span><span class="op" id="4086564">)</span>&nbsp;<span class="op" id="4086566">(</span><span class="ident" id="4086567">matched</span>&nbsp;<span class="builtintype" id="4086575">bool</span><span class="op" id="4086579">,</span>&nbsp;<span class="ident" id="4086581">err</span>&nbsp;<span class="builtintype" id="4086585">error</span><span class="op" id="4086590">)</span>&nbsp;<span class="op" id="4086592">{</span><br>
<span class="lineno"></span><span class="ident" id="4086594">Pattern</span><span class="op" id="4086601">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4086604">for</span>&nbsp;<span class="builtinfunc" id="4086608">len</span><span class="op" id="4086611">(</span><span class="ident" id="4086612"><a href="/path/match.go.html#4086544">pattern</a></span><span class="op" id="4086619">)</span>&nbsp;<span class="op" id="4086621">&gt;</span>&nbsp;<span class="num" id="4086623">0</span>&nbsp;<span class="op" id="4086625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4086629">var</span>&nbsp;<span class="ident" id="4086633">star</span>&nbsp;<span class="builtintype" id="4086638">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4086645">var</span>&nbsp;<span class="ident" id="4086649">chunk</span>&nbsp;<span class="builtintype" id="4086655">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4086664"><a href="/path/match.go.html#4086633">star</a></span><span class="op" id="4086668">,</span>&nbsp;<span class="ident" id="4086670"><a href="/path/match.go.html#4086649">chunk</a></span><span class="op" id="4086675">,</span>&nbsp;<span class="ident" id="4086677"><a href="/path/match.go.html#4086544">pattern</a></span>&nbsp;<span class="op" id="4086685">=</span>&nbsp;<span class="ident" id="4086687"><a href="/path/match.go.html#4087776">scanChunk</a></span><span class="op" id="4086696">(</span><span class="ident" id="4086697"><a href="/path/match.go.html#4086544">pattern</a></span><span class="op" id="4086704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4086708">if</span>&nbsp;<span class="ident" id="4086711"><a href="/path/match.go.html#4086633">star</a></span>&nbsp;<span class="op" id="4086716">&amp;&amp;</span>&nbsp;<span class="ident" id="4086719"><a href="/path/match.go.html#4086649">chunk</a></span>&nbsp;<span class="op" id="4086725">==</span>&nbsp;<span class="string" id="4086728">&#34;&#34;</span>&nbsp;<span class="op" id="4086731">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4086736">//&nbsp;Trailing&nbsp;*&nbsp;matches&nbsp;rest&nbsp;of&nbsp;string&nbsp;unless&nbsp;it&nbsp;has&nbsp;a&nbsp;/.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4086795">return</span>&nbsp;<span class="ident" id="4086802"><a href="/path/match.go.html#4085624">strings</a></span><span class="op" id="4086809">.</span><span class="ident" id="4086810">Index</span><span class="op" id="4086815">(</span><span class="ident" id="4086816"><a href="/path/match.go.html#4086553">name</a></span><span class="op" id="4086820">,</span>&nbsp;<span class="string" id="4086822">&#34;/&#34;</span><span class="op" id="4086825">)</span>&nbsp;<span class="op" id="4086827">&lt;</span>&nbsp;<span class="num" id="4086829">0</span><span class="op" id="4086830">,</span>&nbsp;<span class="ident" id="4086832">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4086838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4086842">//&nbsp;Look&nbsp;for&nbsp;match&nbsp;at&nbsp;current&nbsp;position.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4086883">t</span><span class="op" id="4086884">,</span>&nbsp;<span class="ident" id="4086886">ok</span><span class="op" id="4086888">,</span>&nbsp;<span class="ident" id="4086890">err</span>&nbsp;<span class="op" id="4086894">:=</span>&nbsp;<span class="ident" id="4086897"><a href="/path/match.go.html#4088484">matchChunk</a></span><span class="op" id="4086907">(</span><span class="ident" id="4086908"><a href="/path/match.go.html#4086649">chunk</a></span><span class="op" id="4086913">,</span>&nbsp;<span class="ident" id="4086915"><a href="/path/match.go.html#4086553">name</a></span><span class="op" id="4086919">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4086923">//&nbsp;if&nbsp;we&#39;re&nbsp;the&nbsp;last&nbsp;chunk,&nbsp;make&nbsp;sure&nbsp;we&#39;ve&nbsp;exhausted&nbsp;the&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4086988">//&nbsp;otherwise&nbsp;we&#39;ll&nbsp;give&nbsp;a&nbsp;false&nbsp;result&nbsp;even&nbsp;if&nbsp;we&nbsp;could&nbsp;still&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4087058">//&nbsp;using&nbsp;the&nbsp;star</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087078">if</span>&nbsp;<span class="ident" id="4087081"><a href="/path/match.go.html#4086886">ok</a></span>&nbsp;<span class="op" id="4087084">&amp;&amp;</span>&nbsp;<span class="op" id="4087087">(</span><span class="builtinfunc" id="4087088">len</span><span class="op" id="4087091">(</span><span class="ident" id="4087092"><a href="/path/match.go.html#4086883">t</a></span><span class="op" id="4087093">)</span>&nbsp;<span class="op" id="4087095">==</span>&nbsp;<span class="num" id="4087098">0</span>&nbsp;<span class="op" id="4087100">||</span>&nbsp;<span class="builtinfunc" id="4087103">len</span><span class="op" id="4087106">(</span><span class="ident" id="4087107"><a href="/path/match.go.html#4086544">pattern</a></span><span class="op" id="4087114">)</span>&nbsp;<span class="op" id="4087116">&gt;</span>&nbsp;<span class="num" id="4087118">0</span><span class="op" id="4087119">)</span>&nbsp;<span class="op" id="4087121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4087126"><a href="/path/match.go.html#4086553">name</a></span>&nbsp;<span class="op" id="4087131">=</span>&nbsp;<span class="ident" id="4087133"><a href="/path/match.go.html#4086883">t</a></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087138">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4087149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087153">if</span>&nbsp;<span class="ident" id="4087156"><a href="/path/match.go.html#4086890">err</a></span>&nbsp;<span class="op" id="4087160">!=</span>&nbsp;<span class="ident" id="4087163">nil</span>&nbsp;<span class="op" id="4087167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087172">return</span>&nbsp;<span class="ident" id="4087179">false</span><span class="op" id="4087184">,</span>&nbsp;<span class="ident" id="4087186"><a href="/path/match.go.html#4086890">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4087192">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087196">if</span>&nbsp;<span class="ident" id="4087199"><a href="/path/match.go.html#4086633">star</a></span>&nbsp;<span class="op" id="4087204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4087209">//&nbsp;Look&nbsp;for&nbsp;match&nbsp;skipping&nbsp;i+1&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4087250">//&nbsp;Cannot&nbsp;skip&nbsp;/.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087271">for</span>&nbsp;<span class="ident" id="4087275">i</span>&nbsp;<span class="op" id="4087277">:=</span>&nbsp;<span class="num" id="4087280">0</span><span class="op" id="4087281">;</span>&nbsp;<span class="ident" id="4087283"><a href="/path/match.go.html#4087275">i</a></span>&nbsp;<span class="op" id="4087285">&lt;</span>&nbsp;<span class="builtinfunc" id="4087287">len</span><span class="op" id="4087290">(</span><span class="ident" id="4087291"><a href="/path/match.go.html#4086553">name</a></span><span class="op" id="4087295">)</span>&nbsp;<span class="op" id="4087297">&amp;&amp;</span>&nbsp;<span class="ident" id="4087300"><a href="/path/match.go.html#4086553">name</a></span><span class="op" id="4087304">[</span><span class="ident" id="4087305"><a href="/path/match.go.html#4087275">i</a></span><span class="op" id="4087306">]</span>&nbsp;<span class="op" id="4087308">!=</span>&nbsp;<span class="string" id="4087311">&#39;/&#39;</span><span class="op" id="4087314">;</span>&nbsp;<span class="ident" id="4087316"><a href="/path/match.go.html#4087275">i</a></span><span class="op" id="4087317">++</span>&nbsp;<span class="op" id="4087320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4087326">t</span><span class="op" id="4087327">,</span>&nbsp;<span class="ident" id="4087329">ok</span><span class="op" id="4087331">,</span>&nbsp;<span class="ident" id="4087333">err</span>&nbsp;<span class="op" id="4087337">:=</span>&nbsp;<span class="ident" id="4087340"><a href="/path/match.go.html#4088484">matchChunk</a></span><span class="op" id="4087350">(</span><span class="ident" id="4087351"><a href="/path/match.go.html#4086649">chunk</a></span><span class="op" id="4087356">,</span>&nbsp;<span class="ident" id="4087358"><a href="/path/match.go.html#4086553">name</a></span><span class="op" id="4087362">[</span><span class="ident" id="4087363"><a href="/path/match.go.html#4087275">i</a></span><span class="op" id="4087364">+</span><span class="num" id="4087365">1</span><span class="op" id="4087366">:</span><span class="op" id="4087367">]</span><span class="op" id="4087368">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087374">if</span>&nbsp;<span class="ident" id="4087377"><a href="/path/match.go.html#4087329">ok</a></span>&nbsp;<span class="op" id="4087380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4087387">//&nbsp;if&nbsp;we&#39;re&nbsp;the&nbsp;last&nbsp;chunk,&nbsp;make&nbsp;sure&nbsp;we&nbsp;exhausted&nbsp;the&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087452">if</span>&nbsp;<span class="builtinfunc" id="4087455">len</span><span class="op" id="4087458">(</span><span class="ident" id="4087459"><a href="/path/match.go.html#4086544">pattern</a></span><span class="op" id="4087466">)</span>&nbsp;<span class="op" id="4087468">==</span>&nbsp;<span class="num" id="4087471">0</span>&nbsp;<span class="op" id="4087473">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4087476">len</span><span class="op" id="4087479">(</span><span class="ident" id="4087480"><a href="/path/match.go.html#4087326">t</a></span><span class="op" id="4087481">)</span>&nbsp;<span class="op" id="4087483">&gt;</span>&nbsp;<span class="num" id="4087485">0</span>&nbsp;<span class="op" id="4087487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087495">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4087509">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4087516"><a href="/path/match.go.html#4086553">name</a></span>&nbsp;<span class="op" id="4087521">=</span>&nbsp;<span class="ident" id="4087523"><a href="/path/match.go.html#4087326">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087530">continue</span>&nbsp;<span class="ident" id="4087539">Pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4087551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087557">if</span>&nbsp;<span class="ident" id="4087560"><a href="/path/match.go.html#4087333">err</a></span>&nbsp;<span class="op" id="4087564">!=</span>&nbsp;<span class="ident" id="4087567">nil</span>&nbsp;<span class="op" id="4087571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087578">return</span>&nbsp;<span class="ident" id="4087585">false</span><span class="op" id="4087590">,</span>&nbsp;<span class="ident" id="4087592"><a href="/path/match.go.html#4087333">err</a></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4087600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4087605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4087609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087613">return</span>&nbsp;<span class="ident" id="4087620">false</span><span class="op" id="4087625">,</span>&nbsp;<span class="ident" id="4087627">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4087632">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087635">return</span>&nbsp;<span class="builtinfunc" id="4087642">len</span><span class="op" id="4087645">(</span><span class="ident" id="4087646"><a href="/path/match.go.html#4086553">name</a></span><span class="op" id="4087650">)</span>&nbsp;<span class="op" id="4087652">==</span>&nbsp;<span class="num" id="4087655">0</span><span class="op" id="4087656">,</span>&nbsp;<span class="ident" id="4087658">nil</span><br>
<span class="lineno"></span><span class="op" id="4087662">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4087665">//&nbsp;scanChunk&nbsp;gets&nbsp;the&nbsp;next&nbsp;segment&nbsp;of&nbsp;pattern,&nbsp;which&nbsp;is&nbsp;a&nbsp;non-star&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="4087739">//&nbsp;possibly&nbsp;preceded&nbsp;by&nbsp;a&nbsp;star.</span><br>
<span class="lineno">85</span><span class="keyword" id="4087771">func</span>&nbsp;<span class="ident" id="4087776">scanChunk</span><span class="op" id="4087785">(</span><span class="ident" id="4087786">pattern</span>&nbsp;<span class="builtintype" id="4087794">string</span><span class="op" id="4087800">)</span>&nbsp;<span class="op" id="4087802">(</span><span class="ident" id="4087803">star</span>&nbsp;<span class="builtintype" id="4087808">bool</span><span class="op" id="4087812">,</span>&nbsp;<span class="ident" id="4087814">chunk</span><span class="op" id="4087819">,</span>&nbsp;<span class="ident" id="4087821">rest</span>&nbsp;<span class="builtintype" id="4087826">string</span><span class="op" id="4087832">)</span>&nbsp;<span class="op" id="4087834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087837">for</span>&nbsp;<span class="builtinfunc" id="4087841">len</span><span class="op" id="4087844">(</span><span class="ident" id="4087845"><a href="/path/match.go.html#4087786">pattern</a></span><span class="op" id="4087852">)</span>&nbsp;<span class="op" id="4087854">&gt;</span>&nbsp;<span class="num" id="4087856">0</span>&nbsp;<span class="op" id="4087858">&amp;&amp;</span>&nbsp;<span class="ident" id="4087861"><a href="/path/match.go.html#4087786">pattern</a></span><span class="op" id="4087868">[</span><span class="num" id="4087869">0</span><span class="op" id="4087870">]</span>&nbsp;<span class="op" id="4087872">==</span>&nbsp;<span class="string" id="4087875">&#39;*&#39;</span>&nbsp;<span class="op" id="4087879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4087883"><a href="/path/match.go.html#4087786">pattern</a></span>&nbsp;<span class="op" id="4087891">=</span>&nbsp;<span class="ident" id="4087893"><a href="/path/match.go.html#4087786">pattern</a></span><span class="op" id="4087900">[</span><span class="num" id="4087901">1</span><span class="op" id="4087902">:</span><span class="op" id="4087903">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4087907"><a href="/path/match.go.html#4087803">star</a></span>&nbsp;<span class="op" id="4087912">=</span>&nbsp;<span class="ident" id="4087914">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4087920">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4087923">inrange</span>&nbsp;<span class="op" id="4087931">:=</span>&nbsp;<span class="ident" id="4087934">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087941">var</span>&nbsp;<span class="ident" id="4087945">i</span>&nbsp;<span class="builtintype" id="4087947">int</span><br>
<span class="lineno"></span><span class="ident" id="4087951">Scan</span><span class="op" id="4087955">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087958">for</span>&nbsp;<span class="ident" id="4087962"><a href="/path/match.go.html#4087945">i</a></span>&nbsp;<span class="op" id="4087964">=</span>&nbsp;<span class="num" id="4087966">0</span><span class="op" id="4087967">;</span>&nbsp;<span class="ident" id="4087969"><a href="/path/match.go.html#4087945">i</a></span>&nbsp;<span class="op" id="4087971">&lt;</span>&nbsp;<span class="builtinfunc" id="4087973">len</span><span class="op" id="4087976">(</span><span class="ident" id="4087977"><a href="/path/match.go.html#4087786">pattern</a></span><span class="op" id="4087984">)</span><span class="op" id="4087985">;</span>&nbsp;<span class="ident" id="4087987"><a href="/path/match.go.html#4087945">i</a></span><span class="op" id="4087988">++</span>&nbsp;<span class="op" id="4087991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4087995">switch</span>&nbsp;<span class="ident" id="4088002"><a href="/path/match.go.html#4087786">pattern</a></span><span class="op" id="4088009">[</span><span class="ident" id="4088010"><a href="/path/match.go.html#4087945">i</a></span><span class="op" id="4088011">]</span>&nbsp;<span class="op" id="4088013">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088017">case</span>&nbsp;<span class="string" id="4088022">&#39;\\&#39;</span><span class="op" id="4088026">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4088031">//&nbsp;error&nbsp;check&nbsp;handled&nbsp;in&nbsp;matchChunk:&nbsp;bad&nbsp;pattern.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088085">if</span>&nbsp;<span class="ident" id="4088088"><a href="/path/match.go.html#4087945">i</a></span><span class="op" id="4088089">+</span><span class="num" id="4088090">1</span>&nbsp;<span class="op" id="4088092">&lt;</span>&nbsp;<span class="builtinfunc" id="4088094">len</span><span class="op" id="4088097">(</span><span class="ident" id="4088098"><a href="/path/match.go.html#4087786">pattern</a></span><span class="op" id="4088105">)</span>&nbsp;<span class="op" id="4088107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088113"><a href="/path/match.go.html#4087945">i</a></span><span class="op" id="4088114">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4088120">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088124">case</span>&nbsp;<span class="string" id="4088129">&#39;[&#39;</span><span class="op" id="4088132">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088137"><a href="/path/match.go.html#4087923">inrange</a></span>&nbsp;<span class="op" id="4088145">=</span>&nbsp;<span class="ident" id="4088147">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088154">case</span>&nbsp;<span class="string" id="4088159">&#39;]&#39;</span><span class="op" id="4088162">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088167"><a href="/path/match.go.html#4087923">inrange</a></span>&nbsp;<span class="op" id="4088175">=</span>&nbsp;<span class="ident" id="4088177">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088185">case</span>&nbsp;<span class="string" id="4088190">&#39;*&#39;</span><span class="op" id="4088193">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088198">if</span>&nbsp;<span class="op" id="4088201">!</span><span class="ident" id="4088202"><a href="/path/match.go.html#4087923">inrange</a></span>&nbsp;<span class="op" id="4088210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088216">break</span>&nbsp;<span class="ident" id="4088222">Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4088230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4088234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4088237">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088240">return</span>&nbsp;<span class="ident" id="4088247"><a href="/path/match.go.html#4087803">star</a></span><span class="op" id="4088251">,</span>&nbsp;<span class="ident" id="4088253"><a href="/path/match.go.html#4087786">pattern</a></span><span class="op" id="4088260">[</span><span class="num" id="4088261">0</span><span class="op" id="4088262">:</span><span class="ident" id="4088263"><a href="/path/match.go.html#4087945">i</a></span><span class="op" id="4088264">]</span><span class="op" id="4088265">,</span>&nbsp;<span class="ident" id="4088267"><a href="/path/match.go.html#4087786">pattern</a></span><span class="op" id="4088274">[</span><span class="ident" id="4088275"><a href="/path/match.go.html#4087945">i</a></span><span class="op" id="4088276">:</span><span class="op" id="4088277">]</span><br>
<span class="lineno"></span><span class="op" id="4088279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4088282">//&nbsp;matchChunk&nbsp;checks&nbsp;whether&nbsp;chunk&nbsp;matches&nbsp;the&nbsp;beginning&nbsp;of&nbsp;s.</span><br>
<span class="lineno"></span><span class="comment" id="4088345">//&nbsp;If&nbsp;so,&nbsp;it&nbsp;returns&nbsp;the&nbsp;remainder&nbsp;of&nbsp;s&nbsp;(after&nbsp;the&nbsp;match).</span><br>
<span class="lineno">115</span><span class="comment" id="4088404">//&nbsp;Chunk&nbsp;is&nbsp;all&nbsp;single-character&nbsp;operators:&nbsp;literals,&nbsp;char&nbsp;classes,&nbsp;and&nbsp;?.</span><br>
<span class="lineno"></span><span class="keyword" id="4088479">func</span>&nbsp;<span class="ident" id="4088484">matchChunk</span><span class="op" id="4088494">(</span><span class="ident" id="4088495">chunk</span><span class="op" id="4088500">,</span>&nbsp;<span class="ident" id="4088502">s</span>&nbsp;<span class="builtintype" id="4088504">string</span><span class="op" id="4088510">)</span>&nbsp;<span class="op" id="4088512">(</span><span class="ident" id="4088513">rest</span>&nbsp;<span class="builtintype" id="4088518">string</span><span class="op" id="4088524">,</span>&nbsp;<span class="ident" id="4088526">ok</span>&nbsp;<span class="builtintype" id="4088529">bool</span><span class="op" id="4088533">,</span>&nbsp;<span class="ident" id="4088535">err</span>&nbsp;<span class="builtintype" id="4088539">error</span><span class="op" id="4088544">)</span>&nbsp;<span class="op" id="4088546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088549">for</span>&nbsp;<span class="builtinfunc" id="4088553">len</span><span class="op" id="4088556">(</span><span class="ident" id="4088557"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4088562">)</span>&nbsp;<span class="op" id="4088564">&gt;</span>&nbsp;<span class="num" id="4088566">0</span>&nbsp;<span class="op" id="4088568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088572">if</span>&nbsp;<span class="builtinfunc" id="4088575">len</span><span class="op" id="4088578">(</span><span class="ident" id="4088579"><a href="/path/match.go.html#4088502">s</a></span><span class="op" id="4088580">)</span>&nbsp;<span class="op" id="4088582">==</span>&nbsp;<span class="num" id="4088585">0</span>&nbsp;<span class="op" id="4088587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088592">return</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4088601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088605">switch</span>&nbsp;<span class="ident" id="4088612"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4088617">[</span><span class="num" id="4088618">0</span><span class="op" id="4088619">]</span>&nbsp;<span class="op" id="4088621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088625">case</span>&nbsp;<span class="string" id="4088630">&#39;[&#39;</span><span class="op" id="4088633">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4088638">//&nbsp;character&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088660">r</span><span class="op" id="4088661">,</span>&nbsp;<span class="ident" id="4088663">n</span>&nbsp;<span class="op" id="4088665">:=</span>&nbsp;<span class="ident" id="4088668"><a href="/path/match.go.html#4085635">utf8</a></span><span class="op" id="4088672">.</span><span class="ident" id="4088673">DecodeRuneInString</span><span class="op" id="4088691">(</span><span class="ident" id="4088692"><a href="/path/match.go.html#4088502">s</a></span><span class="op" id="4088693">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088698"><a href="/path/match.go.html#4088502">s</a></span>&nbsp;<span class="op" id="4088700">=</span>&nbsp;<span class="ident" id="4088702"><a href="/path/match.go.html#4088502">s</a></span><span class="op" id="4088703">[</span><span class="ident" id="4088704"><a href="/path/match.go.html#4088663">n</a></span><span class="op" id="4088705">:</span><span class="op" id="4088706">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088711"><a href="/path/match.go.html#4088495">chunk</a></span>&nbsp;<span class="op" id="4088717">=</span>&nbsp;<span class="ident" id="4088719"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4088724">[</span><span class="num" id="4088725">1</span><span class="op" id="4088726">:</span><span class="op" id="4088727">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4088732">//&nbsp;possibly&nbsp;negated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088755">notNegated</span>&nbsp;<span class="op" id="4088766">:=</span>&nbsp;<span class="ident" id="4088769">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088777">if</span>&nbsp;<span class="builtinfunc" id="4088780">len</span><span class="op" id="4088783">(</span><span class="ident" id="4088784"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4088789">)</span>&nbsp;<span class="op" id="4088791">&gt;</span>&nbsp;<span class="num" id="4088793">0</span>&nbsp;<span class="op" id="4088795">&amp;&amp;</span>&nbsp;<span class="ident" id="4088798"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4088803">[</span><span class="num" id="4088804">0</span><span class="op" id="4088805">]</span>&nbsp;<span class="op" id="4088807">==</span>&nbsp;<span class="string" id="4088810">&#39;^&#39;</span>&nbsp;<span class="op" id="4088814">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088820"><a href="/path/match.go.html#4088755">notNegated</a></span>&nbsp;<span class="op" id="4088831">=</span>&nbsp;<span class="ident" id="4088833">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088843"><a href="/path/match.go.html#4088495">chunk</a></span>&nbsp;<span class="op" id="4088849">=</span>&nbsp;<span class="ident" id="4088851"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4088856">[</span><span class="num" id="4088857">1</span><span class="op" id="4088858">:</span><span class="op" id="4088859">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4088864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4088869">//&nbsp;parse&nbsp;all&nbsp;ranges</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088892">match</span>&nbsp;<span class="op" id="4088898">:=</span>&nbsp;<span class="ident" id="4088901">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088910">nrange</span>&nbsp;<span class="op" id="4088917">:=</span>&nbsp;<span class="num" id="4088920">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088925">for</span>&nbsp;<span class="op" id="4088929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4088935">if</span>&nbsp;<span class="builtinfunc" id="4088938">len</span><span class="op" id="4088941">(</span><span class="ident" id="4088942"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4088947">)</span>&nbsp;<span class="op" id="4088949">&gt;</span>&nbsp;<span class="num" id="4088951">0</span>&nbsp;<span class="op" id="4088953">&amp;&amp;</span>&nbsp;<span class="ident" id="4088956"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4088961">[</span><span class="num" id="4088962">0</span><span class="op" id="4088963">]</span>&nbsp;<span class="op" id="4088965">==</span>&nbsp;<span class="string" id="4088968">&#39;]&#39;</span>&nbsp;<span class="op" id="4088972">&amp;&amp;</span>&nbsp;<span class="ident" id="4088975"><a href="/path/match.go.html#4088910">nrange</a></span>&nbsp;<span class="op" id="4088982">&gt;</span>&nbsp;<span class="num" id="4088984">0</span>&nbsp;<span class="op" id="4088986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4088993"><a href="/path/match.go.html#4088495">chunk</a></span>&nbsp;<span class="op" id="4088999">=</span>&nbsp;<span class="ident" id="4089001"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089006">[</span><span class="num" id="4089007">1</span><span class="op" id="4089008">:</span><span class="op" id="4089009">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089016">break</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089032">var</span>&nbsp;<span class="ident" id="4089036">lo</span><span class="op" id="4089038">,</span>&nbsp;<span class="ident" id="4089040">hi</span>&nbsp;<span class="builtintype" id="4089043">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089052">if</span>&nbsp;<span class="ident" id="4089055"><a href="/path/match.go.html#4089036">lo</a></span><span class="op" id="4089057">,</span>&nbsp;<span class="ident" id="4089059"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089064">,</span>&nbsp;<span class="ident" id="4089066"><a href="/path/match.go.html#4088535">err</a></span>&nbsp;<span class="op" id="4089070">=</span>&nbsp;<span class="ident" id="4089072"><a href="/path/match.go.html#4089789">getEsc</a></span><span class="op" id="4089078">(</span><span class="ident" id="4089079"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089084">)</span><span class="op" id="4089085">;</span>&nbsp;<span class="ident" id="4089087"><a href="/path/match.go.html#4088535">err</a></span>&nbsp;<span class="op" id="4089091">!=</span>&nbsp;<span class="ident" id="4089094">nil</span>&nbsp;<span class="op" id="4089098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089105">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089116">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089122"><a href="/path/match.go.html#4089040">hi</a></span>&nbsp;<span class="op" id="4089125">=</span>&nbsp;<span class="ident" id="4089127"><a href="/path/match.go.html#4089036">lo</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089134">if</span>&nbsp;<span class="ident" id="4089137"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089142">[</span><span class="num" id="4089143">0</span><span class="op" id="4089144">]</span>&nbsp;<span class="op" id="4089146">==</span>&nbsp;<span class="string" id="4089149">&#39;-&#39;</span>&nbsp;<span class="op" id="4089153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089160">if</span>&nbsp;<span class="ident" id="4089163"><a href="/path/match.go.html#4089040">hi</a></span><span class="op" id="4089165">,</span>&nbsp;<span class="ident" id="4089167"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089172">,</span>&nbsp;<span class="ident" id="4089174"><a href="/path/match.go.html#4088535">err</a></span>&nbsp;<span class="op" id="4089178">=</span>&nbsp;<span class="ident" id="4089180"><a href="/path/match.go.html#4089789">getEsc</a></span><span class="op" id="4089186">(</span><span class="ident" id="4089187"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089192">[</span><span class="num" id="4089193">1</span><span class="op" id="4089194">:</span><span class="op" id="4089195">]</span><span class="op" id="4089196">)</span><span class="op" id="4089197">;</span>&nbsp;<span class="ident" id="4089199"><a href="/path/match.go.html#4088535">err</a></span>&nbsp;<span class="op" id="4089203">!=</span>&nbsp;<span class="ident" id="4089206">nil</span>&nbsp;<span class="op" id="4089210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089218">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089230">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089242">if</span>&nbsp;<span class="ident" id="4089245"><a href="/path/match.go.html#4089036">lo</a></span>&nbsp;<span class="op" id="4089248">&lt;=</span>&nbsp;<span class="ident" id="4089251"><a href="/path/match.go.html#4088660">r</a></span>&nbsp;<span class="op" id="4089253">&amp;&amp;</span>&nbsp;<span class="ident" id="4089256"><a href="/path/match.go.html#4088660">r</a></span>&nbsp;<span class="op" id="4089258">&lt;=</span>&nbsp;<span class="ident" id="4089261"><a href="/path/match.go.html#4089040">hi</a></span>&nbsp;<span class="op" id="4089264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089271"><a href="/path/match.go.html#4088892">match</a></span>&nbsp;<span class="op" id="4089277">=</span>&nbsp;<span class="ident" id="4089279">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089294"><a href="/path/match.go.html#4088910">nrange</a></span><span class="op" id="4089300">++</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089311">if</span>&nbsp;<span class="ident" id="4089314"><a href="/path/match.go.html#4088892">match</a></span>&nbsp;<span class="op" id="4089320">!=</span>&nbsp;<span class="ident" id="4089323"><a href="/path/match.go.html#4088755">notNegated</a></span>&nbsp;<span class="op" id="4089334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089340">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089355">case</span>&nbsp;<span class="string" id="4089360">&#39;?&#39;</span><span class="op" id="4089363">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089368">if</span>&nbsp;<span class="ident" id="4089371"><a href="/path/match.go.html#4088502">s</a></span><span class="op" id="4089372">[</span><span class="num" id="4089373">0</span><span class="op" id="4089374">]</span>&nbsp;<span class="op" id="4089376">==</span>&nbsp;<span class="string" id="4089379">&#39;/&#39;</span>&nbsp;<span class="op" id="4089383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089389">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089404">_</span><span class="op" id="4089405">,</span>&nbsp;<span class="ident" id="4089407">n</span>&nbsp;<span class="op" id="4089409">:=</span>&nbsp;<span class="ident" id="4089412"><a href="/path/match.go.html#4085635">utf8</a></span><span class="op" id="4089416">.</span><span class="ident" id="4089417">DecodeRuneInString</span><span class="op" id="4089435">(</span><span class="ident" id="4089436"><a href="/path/match.go.html#4088502">s</a></span><span class="op" id="4089437">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089442"><a href="/path/match.go.html#4088502">s</a></span>&nbsp;<span class="op" id="4089444">=</span>&nbsp;<span class="ident" id="4089446"><a href="/path/match.go.html#4088502">s</a></span><span class="op" id="4089447">[</span><span class="ident" id="4089448"><a href="/path/match.go.html#4089407">n</a></span><span class="op" id="4089449">:</span><span class="op" id="4089450">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089455"><a href="/path/match.go.html#4088495">chunk</a></span>&nbsp;<span class="op" id="4089461">=</span>&nbsp;<span class="ident" id="4089463"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089468">[</span><span class="num" id="4089469">1</span><span class="op" id="4089470">:</span><span class="op" id="4089471">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089476">case</span>&nbsp;<span class="string" id="4089481">&#39;\\&#39;</span><span class="op" id="4089485">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089490"><a href="/path/match.go.html#4088495">chunk</a></span>&nbsp;<span class="op" id="4089496">=</span>&nbsp;<span class="ident" id="4089498"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089503">[</span><span class="num" id="4089504">1</span><span class="op" id="4089505">:</span><span class="op" id="4089506">]</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089511">if</span>&nbsp;<span class="builtinfunc" id="4089514">len</span><span class="op" id="4089517">(</span><span class="ident" id="4089518"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089523">)</span>&nbsp;<span class="op" id="4089525">==</span>&nbsp;<span class="num" id="4089528">0</span>&nbsp;<span class="op" id="4089530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089536"><a href="/path/match.go.html#4088535">err</a></span>&nbsp;<span class="op" id="4089540">=</span>&nbsp;<span class="ident" id="4089542"><a href="/path/match.go.html#4085718">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089560">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089575">fallthrough</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089590">default</span><span class="op" id="4089597">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089602">if</span>&nbsp;<span class="ident" id="4089605"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089610">[</span><span class="num" id="4089611">0</span><span class="op" id="4089612">]</span>&nbsp;<span class="op" id="4089614">!=</span>&nbsp;<span class="ident" id="4089617"><a href="/path/match.go.html#4088502">s</a></span><span class="op" id="4089618">[</span><span class="num" id="4089619">0</span><span class="op" id="4089620">]</span>&nbsp;<span class="op" id="4089622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089628">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089638">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089643"><a href="/path/match.go.html#4088502">s</a></span>&nbsp;<span class="op" id="4089645">=</span>&nbsp;<span class="ident" id="4089647"><a href="/path/match.go.html#4088502">s</a></span><span class="op" id="4089648">[</span><span class="num" id="4089649">1</span><span class="op" id="4089650">:</span><span class="op" id="4089651">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089656"><a href="/path/match.go.html#4088495">chunk</a></span>&nbsp;<span class="op" id="4089662">=</span>&nbsp;<span class="ident" id="4089664"><a href="/path/match.go.html#4088495">chunk</a></span><span class="op" id="4089669">[</span><span class="num" id="4089670">1</span><span class="op" id="4089671">:</span><span class="op" id="4089672">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089682">return</span>&nbsp;<span class="ident" id="4089689"><a href="/path/match.go.html#4088502">s</a></span><span class="op" id="4089690">,</span>&nbsp;<span class="ident" id="4089692">true</span><span class="op" id="4089696">,</span>&nbsp;<span class="ident" id="4089698">nil</span><br>
<span class="lineno">185</span><span class="op" id="4089702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4089705">//&nbsp;getEsc&nbsp;gets&nbsp;a&nbsp;possibly-escaped&nbsp;character&nbsp;from&nbsp;chunk,&nbsp;for&nbsp;a&nbsp;character&nbsp;class.</span><br>
<span class="lineno"></span><span class="keyword" id="4089784">func</span>&nbsp;<span class="ident" id="4089789">getEsc</span><span class="op" id="4089795">(</span><span class="ident" id="4089796">chunk</span>&nbsp;<span class="builtintype" id="4089802">string</span><span class="op" id="4089808">)</span>&nbsp;<span class="op" id="4089810">(</span><span class="ident" id="4089811">r</span>&nbsp;<span class="builtintype" id="4089813">rune</span><span class="op" id="4089817">,</span>&nbsp;<span class="ident" id="4089819">nchunk</span>&nbsp;<span class="builtintype" id="4089826">string</span><span class="op" id="4089832">,</span>&nbsp;<span class="ident" id="4089834">err</span>&nbsp;<span class="builtintype" id="4089838">error</span><span class="op" id="4089843">)</span>&nbsp;<span class="op" id="4089845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089848">if</span>&nbsp;<span class="builtinfunc" id="4089851">len</span><span class="op" id="4089854">(</span><span class="ident" id="4089855"><a href="/path/match.go.html#4089796">chunk</a></span><span class="op" id="4089860">)</span>&nbsp;<span class="op" id="4089862">==</span>&nbsp;<span class="num" id="4089865">0</span>&nbsp;<span class="op" id="4089867">||</span>&nbsp;<span class="ident" id="4089870"><a href="/path/match.go.html#4089796">chunk</a></span><span class="op" id="4089875">[</span><span class="num" id="4089876">0</span><span class="op" id="4089877">]</span>&nbsp;<span class="op" id="4089879">==</span>&nbsp;<span class="string" id="4089882">&#39;-&#39;</span>&nbsp;<span class="op" id="4089886">||</span>&nbsp;<span class="ident" id="4089889"><a href="/path/match.go.html#4089796">chunk</a></span><span class="op" id="4089894">[</span><span class="num" id="4089895">0</span><span class="op" id="4089896">]</span>&nbsp;<span class="op" id="4089898">==</span>&nbsp;<span class="string" id="4089901">&#39;]&#39;</span>&nbsp;<span class="op" id="4089905">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089909"><a href="/path/match.go.html#4089834">err</a></span>&nbsp;<span class="op" id="4089913">=</span>&nbsp;<span class="ident" id="4089915"><a href="/path/match.go.html#4085718">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089931">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4089939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089942">if</span>&nbsp;<span class="ident" id="4089945"><a href="/path/match.go.html#4089796">chunk</a></span><span class="op" id="4089950">[</span><span class="num" id="4089951">0</span><span class="op" id="4089952">]</span>&nbsp;<span class="op" id="4089954">==</span>&nbsp;<span class="string" id="4089957">&#39;\\&#39;</span>&nbsp;<span class="op" id="4089962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4089966"><a href="/path/match.go.html#4089796">chunk</a></span>&nbsp;<span class="op" id="4089972">=</span>&nbsp;<span class="ident" id="4089974"><a href="/path/match.go.html#4089796">chunk</a></span><span class="op" id="4089979">[</span><span class="num" id="4089980">1</span><span class="op" id="4089981">:</span><span class="op" id="4089982">]</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4089986">if</span>&nbsp;<span class="builtinfunc" id="4089989">len</span><span class="op" id="4089992">(</span><span class="ident" id="4089993"><a href="/path/match.go.html#4089796">chunk</a></span><span class="op" id="4089998">)</span>&nbsp;<span class="op" id="4090000">==</span>&nbsp;<span class="num" id="4090003">0</span>&nbsp;<span class="op" id="4090005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4090010"><a href="/path/match.go.html#4089834">err</a></span>&nbsp;<span class="op" id="4090014">=</span>&nbsp;<span class="ident" id="4090016"><a href="/path/match.go.html#4085718">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4090033">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4090042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4090045">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4090048"><a href="/path/match.go.html#4089811">r</a></span><span class="op" id="4090049">,</span>&nbsp;<span class="ident" id="4090051">n</span>&nbsp;<span class="op" id="4090053">:=</span>&nbsp;<span class="ident" id="4090056"><a href="/path/match.go.html#4085635">utf8</a></span><span class="op" id="4090060">.</span><span class="ident" id="4090061">DecodeRuneInString</span><span class="op" id="4090079">(</span><span class="ident" id="4090080"><a href="/path/match.go.html#4089796">chunk</a></span><span class="op" id="4090085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4090088">if</span>&nbsp;<span class="ident" id="4090091"><a href="/path/match.go.html#4089811">r</a></span>&nbsp;<span class="op" id="4090093">==</span>&nbsp;<span class="ident" id="4090096"><a href="/path/match.go.html#4085635">utf8</a></span><span class="op" id="4090100">.</span><span class="ident" id="4090101">RuneError</span>&nbsp;<span class="op" id="4090111">&amp;&amp;</span>&nbsp;<span class="ident" id="4090114"><a href="/path/match.go.html#4090051">n</a></span>&nbsp;<span class="op" id="4090116">==</span>&nbsp;<span class="num" id="4090119">1</span>&nbsp;<span class="op" id="4090121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4090125"><a href="/path/match.go.html#4089834">err</a></span>&nbsp;<span class="op" id="4090129">=</span>&nbsp;<span class="ident" id="4090131"><a href="/path/match.go.html#4085718">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4090146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4090149"><a href="/path/match.go.html#4089819">nchunk</a></span>&nbsp;<span class="op" id="4090156">=</span>&nbsp;<span class="ident" id="4090158"><a href="/path/match.go.html#4089796">chunk</a></span><span class="op" id="4090163">[</span><span class="ident" id="4090164"><a href="/path/match.go.html#4090051">n</a></span><span class="op" id="4090165">:</span><span class="op" id="4090166">]</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4090169">if</span>&nbsp;<span class="builtinfunc" id="4090172">len</span><span class="op" id="4090175">(</span><span class="ident" id="4090176"><a href="/path/match.go.html#4089819">nchunk</a></span><span class="op" id="4090182">)</span>&nbsp;<span class="op" id="4090184">==</span>&nbsp;<span class="num" id="4090187">0</span>&nbsp;<span class="op" id="4090189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4090193"><a href="/path/match.go.html#4089834">err</a></span>&nbsp;<span class="op" id="4090197">=</span>&nbsp;<span class="ident" id="4090199"><a href="/path/match.go.html#4085718">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4090214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4090217">return</span><br>
<span class="lineno"></span><span class="op" id="4090224">}</span>
</div>
</body>
</html>
