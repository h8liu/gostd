<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8646176">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8646231">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8646285">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8646336">package</span>&nbsp;<span class="ident" id="8646344">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8646350">import</span>&nbsp;<span class="op" id="8646357">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8646360">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8646369">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8646384">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8646394">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8646397">const</span>&nbsp;<span class="op" id="8646403">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646406">dstw</span><span class="op" id="8646410">,</span>&nbsp;<span class="ident" id="8646412">dsth</span>&nbsp;<span class="op" id="8646417">=</span>&nbsp;<span class="num" id="8646419">640</span><span class="op" id="8646422">,</span>&nbsp;<span class="num" id="8646424">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646429">srcw</span><span class="op" id="8646433">,</span>&nbsp;<span class="ident" id="8646435">srch</span>&nbsp;<span class="op" id="8646440">=</span>&nbsp;<span class="num" id="8646442">400</span><span class="op" id="8646445">,</span>&nbsp;<span class="num" id="8646447">300</span><br>
<span class="lineno"></span><span class="op" id="8646451">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8646454">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8646528">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="8646590">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="8646656">func</span>&nbsp;<span class="ident" id="8646661">bench</span><span class="op" id="8646666">(</span><span class="ident" id="8646667">b</span>&nbsp;<span class="op" id="8646669">*</span><span class="ident" id="8646670">testing</span><span class="op" id="8646677">.</span><span class="ident" id="8646678">B</span><span class="op" id="8646679">,</span>&nbsp;<span class="ident" id="8646681">dcm</span><span class="op" id="8646684">,</span>&nbsp;<span class="ident" id="8646686">scm</span><span class="op" id="8646689">,</span>&nbsp;<span class="ident" id="8646691">mcm</span>&nbsp;<span class="ident" id="8646695">color</span><span class="op" id="8646700">.</span><span class="ident" id="8646701">Model</span><span class="op" id="8646706">,</span>&nbsp;<span class="ident" id="8646708">op</span>&nbsp;<span class="ident" id="8646711">Op</span><span class="op" id="8646713">)</span>&nbsp;<span class="op" id="8646715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646718">b</span><span class="op" id="8646719">.</span><span class="ident" id="8646720">StopTimer</span><span class="op" id="8646729">(</span><span class="op" id="8646730">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8646734">var</span>&nbsp;<span class="ident" id="8646738">dst</span>&nbsp;<span class="ident" id="8646742">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8646749">switch</span>&nbsp;<span class="ident" id="8646756">dcm</span>&nbsp;<span class="op" id="8646760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8646763">case</span>&nbsp;<span class="ident" id="8646768">color</span><span class="op" id="8646773">.</span><span class="ident" id="8646774">RGBAModel</span><span class="op" id="8646783">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646787">dst1</span>&nbsp;<span class="op" id="8646792">:=</span>&nbsp;<span class="ident" id="8646795">image</span><span class="op" id="8646800">.</span><span class="ident" id="8646801">NewRGBA</span><span class="op" id="8646808">(</span><span class="ident" id="8646809">image</span><span class="op" id="8646814">.</span><span class="ident" id="8646815">Rect</span><span class="op" id="8646819">(</span><span class="num" id="8646820">0</span><span class="op" id="8646821">,</span>&nbsp;<span class="num" id="8646823">0</span><span class="op" id="8646824">,</span>&nbsp;<span class="ident" id="8646826">dstw</span><span class="op" id="8646830">,</span>&nbsp;<span class="ident" id="8646832">dsth</span><span class="op" id="8646836">)</span><span class="op" id="8646837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8646841">for</span>&nbsp;<span class="ident" id="8646845">y</span>&nbsp;<span class="op" id="8646847">:=</span>&nbsp;<span class="num" id="8646850">0</span><span class="op" id="8646851">;</span>&nbsp;<span class="ident" id="8646853">y</span>&nbsp;<span class="op" id="8646855">&lt;</span>&nbsp;<span class="ident" id="8646857">dsth</span><span class="op" id="8646861">;</span>&nbsp;<span class="ident" id="8646863">y</span><span class="op" id="8646864">++</span>&nbsp;<span class="op" id="8646867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8646872">for</span>&nbsp;<span class="ident" id="8646876">x</span>&nbsp;<span class="op" id="8646878">:=</span>&nbsp;<span class="num" id="8646881">0</span><span class="op" id="8646882">;</span>&nbsp;<span class="ident" id="8646884">x</span>&nbsp;<span class="op" id="8646886">&lt;</span>&nbsp;<span class="ident" id="8646888">dstw</span><span class="op" id="8646892">;</span>&nbsp;<span class="ident" id="8646894">x</span><span class="op" id="8646895">++</span>&nbsp;<span class="op" id="8646898">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646904">dst1</span><span class="op" id="8646908">.</span><span class="ident" id="8646909">SetRGBA</span><span class="op" id="8646916">(</span><span class="ident" id="8646917">x</span><span class="op" id="8646918">,</span>&nbsp;<span class="ident" id="8646920">y</span><span class="op" id="8646921">,</span>&nbsp;<span class="ident" id="8646923">color</span><span class="op" id="8646928">.</span><span class="ident" id="8646929">RGBA</span><span class="op" id="8646933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8646940">uint8</span><span class="op" id="8646945">(</span><span class="num" id="8646946">5</span>&nbsp;<span class="op" id="8646948">*</span>&nbsp;<span class="ident" id="8646950">x</span>&nbsp;<span class="op" id="8646952">%</span>&nbsp;<span class="num" id="8646954">0x100</span><span class="op" id="8646959">)</span><span class="op" id="8646960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8646967">uint8</span><span class="op" id="8646972">(</span><span class="num" id="8646973">7</span>&nbsp;<span class="op" id="8646975">*</span>&nbsp;<span class="ident" id="8646977">y</span>&nbsp;<span class="op" id="8646979">%</span>&nbsp;<span class="num" id="8646981">0x100</span><span class="op" id="8646986">)</span><span class="op" id="8646987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8646994">uint8</span><span class="op" id="8646999">(</span><span class="op" id="8647000">(</span><span class="num" id="8647001">7</span><span class="op" id="8647002">*</span><span class="ident" id="8647003">x</span>&nbsp;<span class="op" id="8647005">+</span>&nbsp;<span class="num" id="8647007">5</span><span class="op" id="8647008">*</span><span class="ident" id="8647009">y</span><span class="op" id="8647010">)</span>&nbsp;<span class="op" id="8647012">%</span>&nbsp;<span class="num" id="8647014">0x100</span><span class="op" id="8647019">)</span><span class="op" id="8647020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8647027">0xff</span><span class="op" id="8647031">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647037">}</span><span class="op" id="8647038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647051">dst</span>&nbsp;<span class="op" id="8647055">=</span>&nbsp;<span class="ident" id="8647057">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647063">case</span>&nbsp;<span class="ident" id="8647068">color</span><span class="op" id="8647073">.</span><span class="ident" id="8647074">RGBA64Model</span><span class="op" id="8647085">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647089">dst1</span>&nbsp;<span class="op" id="8647094">:=</span>&nbsp;<span class="ident" id="8647097">image</span><span class="op" id="8647102">.</span><span class="ident" id="8647103">NewRGBA64</span><span class="op" id="8647112">(</span><span class="ident" id="8647113">image</span><span class="op" id="8647118">.</span><span class="ident" id="8647119">Rect</span><span class="op" id="8647123">(</span><span class="num" id="8647124">0</span><span class="op" id="8647125">,</span>&nbsp;<span class="num" id="8647127">0</span><span class="op" id="8647128">,</span>&nbsp;<span class="ident" id="8647130">dstw</span><span class="op" id="8647134">,</span>&nbsp;<span class="ident" id="8647136">dsth</span><span class="op" id="8647140">)</span><span class="op" id="8647141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647145">for</span>&nbsp;<span class="ident" id="8647149">y</span>&nbsp;<span class="op" id="8647151">:=</span>&nbsp;<span class="num" id="8647154">0</span><span class="op" id="8647155">;</span>&nbsp;<span class="ident" id="8647157">y</span>&nbsp;<span class="op" id="8647159">&lt;</span>&nbsp;<span class="ident" id="8647161">dsth</span><span class="op" id="8647165">;</span>&nbsp;<span class="ident" id="8647167">y</span><span class="op" id="8647168">++</span>&nbsp;<span class="op" id="8647171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647176">for</span>&nbsp;<span class="ident" id="8647180">x</span>&nbsp;<span class="op" id="8647182">:=</span>&nbsp;<span class="num" id="8647185">0</span><span class="op" id="8647186">;</span>&nbsp;<span class="ident" id="8647188">x</span>&nbsp;<span class="op" id="8647190">&lt;</span>&nbsp;<span class="ident" id="8647192">dstw</span><span class="op" id="8647196">;</span>&nbsp;<span class="ident" id="8647198">x</span><span class="op" id="8647199">++</span>&nbsp;<span class="op" id="8647202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647208">dst1</span><span class="op" id="8647212">.</span><span class="ident" id="8647213">SetRGBA64</span><span class="op" id="8647222">(</span><span class="ident" id="8647223">x</span><span class="op" id="8647224">,</span>&nbsp;<span class="ident" id="8647226">y</span><span class="op" id="8647227">,</span>&nbsp;<span class="ident" id="8647229">color</span><span class="op" id="8647234">.</span><span class="ident" id="8647235">RGBA64</span><span class="op" id="8647241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8647248">uint16</span><span class="op" id="8647254">(</span><span class="num" id="8647255">53</span>&nbsp;<span class="op" id="8647258">*</span>&nbsp;<span class="ident" id="8647260">x</span>&nbsp;<span class="op" id="8647262">%</span>&nbsp;<span class="num" id="8647264">0x10000</span><span class="op" id="8647271">)</span><span class="op" id="8647272">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8647279">uint16</span><span class="op" id="8647285">(</span><span class="num" id="8647286">59</span>&nbsp;<span class="op" id="8647289">*</span>&nbsp;<span class="ident" id="8647291">y</span>&nbsp;<span class="op" id="8647293">%</span>&nbsp;<span class="num" id="8647295">0x10000</span><span class="op" id="8647302">)</span><span class="op" id="8647303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8647310">uint16</span><span class="op" id="8647316">(</span><span class="op" id="8647317">(</span><span class="num" id="8647318">59</span><span class="op" id="8647320">*</span><span class="ident" id="8647321">x</span>&nbsp;<span class="op" id="8647323">+</span>&nbsp;<span class="num" id="8647325">53</span><span class="op" id="8647327">*</span><span class="ident" id="8647328">y</span><span class="op" id="8647329">)</span>&nbsp;<span class="op" id="8647331">%</span>&nbsp;<span class="num" id="8647333">0x10000</span><span class="op" id="8647340">)</span><span class="op" id="8647341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8647348">0xffff</span><span class="op" id="8647354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647360">}</span><span class="op" id="8647361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647366">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647374">dst</span>&nbsp;<span class="op" id="8647378">=</span>&nbsp;<span class="ident" id="8647380">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647386">default</span><span class="op" id="8647393">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647397">b</span><span class="op" id="8647398">.</span><span class="ident" id="8647399">Fatal</span><span class="op" id="8647404">(</span><span class="string" id="8647405">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="8647438">,</span>&nbsp;<span class="ident" id="8647440">dcm</span><span class="op" id="8647443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647446">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647450">var</span>&nbsp;<span class="ident" id="8647454">src</span>&nbsp;<span class="ident" id="8647458">image</span><span class="op" id="8647463">.</span><span class="ident" id="8647464">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647471">switch</span>&nbsp;<span class="ident" id="8647478">scm</span>&nbsp;<span class="op" id="8647482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647485">case</span>&nbsp;<span class="ident" id="8647490">nil</span><span class="op" id="8647493">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647497">src</span>&nbsp;<span class="op" id="8647501">=</span>&nbsp;<span class="op" id="8647503">&amp;</span><span class="ident" id="8647504">image</span><span class="op" id="8647509">.</span><span class="ident" id="8647510">Uniform</span><span class="op" id="8647517">{</span><span class="ident" id="8647518">C</span><span class="op" id="8647519">:</span>&nbsp;<span class="ident" id="8647521">color</span><span class="op" id="8647526">.</span><span class="ident" id="8647527">RGBA</span><span class="op" id="8647531">{</span><span class="num" id="8647532">0x11</span><span class="op" id="8647536">,</span>&nbsp;<span class="num" id="8647538">0x22</span><span class="op" id="8647542">,</span>&nbsp;<span class="num" id="8647544">0x33</span><span class="op" id="8647548">,</span>&nbsp;<span class="num" id="8647550">0xff</span><span class="op" id="8647554">}</span><span class="op" id="8647555">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647558">case</span>&nbsp;<span class="ident" id="8647563">color</span><span class="op" id="8647568">.</span><span class="ident" id="8647569">RGBAModel</span><span class="op" id="8647578">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647582">src1</span>&nbsp;<span class="op" id="8647587">:=</span>&nbsp;<span class="ident" id="8647590">image</span><span class="op" id="8647595">.</span><span class="ident" id="8647596">NewRGBA</span><span class="op" id="8647603">(</span><span class="ident" id="8647604">image</span><span class="op" id="8647609">.</span><span class="ident" id="8647610">Rect</span><span class="op" id="8647614">(</span><span class="num" id="8647615">0</span><span class="op" id="8647616">,</span>&nbsp;<span class="num" id="8647618">0</span><span class="op" id="8647619">,</span>&nbsp;<span class="ident" id="8647621">srcw</span><span class="op" id="8647625">,</span>&nbsp;<span class="ident" id="8647627">srch</span><span class="op" id="8647631">)</span><span class="op" id="8647632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647636">for</span>&nbsp;<span class="ident" id="8647640">y</span>&nbsp;<span class="op" id="8647642">:=</span>&nbsp;<span class="num" id="8647645">0</span><span class="op" id="8647646">;</span>&nbsp;<span class="ident" id="8647648">y</span>&nbsp;<span class="op" id="8647650">&lt;</span>&nbsp;<span class="ident" id="8647652">srch</span><span class="op" id="8647656">;</span>&nbsp;<span class="ident" id="8647658">y</span><span class="op" id="8647659">++</span>&nbsp;<span class="op" id="8647662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647667">for</span>&nbsp;<span class="ident" id="8647671">x</span>&nbsp;<span class="op" id="8647673">:=</span>&nbsp;<span class="num" id="8647676">0</span><span class="op" id="8647677">;</span>&nbsp;<span class="ident" id="8647679">x</span>&nbsp;<span class="op" id="8647681">&lt;</span>&nbsp;<span class="ident" id="8647683">srcw</span><span class="op" id="8647687">;</span>&nbsp;<span class="ident" id="8647689">x</span><span class="op" id="8647690">++</span>&nbsp;<span class="op" id="8647693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647699">src1</span><span class="op" id="8647703">.</span><span class="ident" id="8647704">SetRGBA</span><span class="op" id="8647711">(</span><span class="ident" id="8647712">x</span><span class="op" id="8647713">,</span>&nbsp;<span class="ident" id="8647715">y</span><span class="op" id="8647716">,</span>&nbsp;<span class="ident" id="8647718">color</span><span class="op" id="8647723">.</span><span class="ident" id="8647724">RGBA</span><span class="op" id="8647728">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8647735">uint8</span><span class="op" id="8647740">(</span><span class="num" id="8647741">13</span>&nbsp;<span class="op" id="8647744">*</span>&nbsp;<span class="ident" id="8647746">x</span>&nbsp;<span class="op" id="8647748">%</span>&nbsp;<span class="num" id="8647750">0x80</span><span class="op" id="8647754">)</span><span class="op" id="8647755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8647762">uint8</span><span class="op" id="8647767">(</span><span class="num" id="8647768">11</span>&nbsp;<span class="op" id="8647771">*</span>&nbsp;<span class="ident" id="8647773">y</span>&nbsp;<span class="op" id="8647775">%</span>&nbsp;<span class="num" id="8647777">0x80</span><span class="op" id="8647781">)</span><span class="op" id="8647782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8647789">uint8</span><span class="op" id="8647794">(</span><span class="op" id="8647795">(</span><span class="num" id="8647796">11</span><span class="op" id="8647798">*</span><span class="ident" id="8647799">x</span>&nbsp;<span class="op" id="8647801">+</span>&nbsp;<span class="num" id="8647803">13</span><span class="op" id="8647805">*</span><span class="ident" id="8647806">y</span><span class="op" id="8647807">)</span>&nbsp;<span class="op" id="8647809">%</span>&nbsp;<span class="num" id="8647811">0x80</span><span class="op" id="8647815">)</span><span class="op" id="8647816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8647823">0x7f</span><span class="op" id="8647827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647833">}</span><span class="op" id="8647834">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647847">src</span>&nbsp;<span class="op" id="8647851">=</span>&nbsp;<span class="ident" id="8647853">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647859">case</span>&nbsp;<span class="ident" id="8647864">color</span><span class="op" id="8647869">.</span><span class="ident" id="8647870">RGBA64Model</span><span class="op" id="8647881">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647885">src1</span>&nbsp;<span class="op" id="8647890">:=</span>&nbsp;<span class="ident" id="8647893">image</span><span class="op" id="8647898">.</span><span class="ident" id="8647899">NewRGBA64</span><span class="op" id="8647908">(</span><span class="ident" id="8647909">image</span><span class="op" id="8647914">.</span><span class="ident" id="8647915">Rect</span><span class="op" id="8647919">(</span><span class="num" id="8647920">0</span><span class="op" id="8647921">,</span>&nbsp;<span class="num" id="8647923">0</span><span class="op" id="8647924">,</span>&nbsp;<span class="ident" id="8647926">srcw</span><span class="op" id="8647930">,</span>&nbsp;<span class="ident" id="8647932">srch</span><span class="op" id="8647936">)</span><span class="op" id="8647937">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647941">for</span>&nbsp;<span class="ident" id="8647945">y</span>&nbsp;<span class="op" id="8647947">:=</span>&nbsp;<span class="num" id="8647950">0</span><span class="op" id="8647951">;</span>&nbsp;<span class="ident" id="8647953">y</span>&nbsp;<span class="op" id="8647955">&lt;</span>&nbsp;<span class="ident" id="8647957">srch</span><span class="op" id="8647961">;</span>&nbsp;<span class="ident" id="8647963">y</span><span class="op" id="8647964">++</span>&nbsp;<span class="op" id="8647967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8647972">for</span>&nbsp;<span class="ident" id="8647976">x</span>&nbsp;<span class="op" id="8647978">:=</span>&nbsp;<span class="num" id="8647981">0</span><span class="op" id="8647982">;</span>&nbsp;<span class="ident" id="8647984">x</span>&nbsp;<span class="op" id="8647986">&lt;</span>&nbsp;<span class="ident" id="8647988">srcw</span><span class="op" id="8647992">;</span>&nbsp;<span class="ident" id="8647994">x</span><span class="op" id="8647995">++</span>&nbsp;<span class="op" id="8647998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648004">src1</span><span class="op" id="8648008">.</span><span class="ident" id="8648009">SetRGBA64</span><span class="op" id="8648018">(</span><span class="ident" id="8648019">x</span><span class="op" id="8648020">,</span>&nbsp;<span class="ident" id="8648022">y</span><span class="op" id="8648023">,</span>&nbsp;<span class="ident" id="8648025">color</span><span class="op" id="8648030">.</span><span class="ident" id="8648031">RGBA64</span><span class="op" id="8648037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8648044">uint16</span><span class="op" id="8648050">(</span><span class="num" id="8648051">103</span>&nbsp;<span class="op" id="8648055">*</span>&nbsp;<span class="ident" id="8648057">x</span>&nbsp;<span class="op" id="8648059">%</span>&nbsp;<span class="num" id="8648061">0x8000</span><span class="op" id="8648067">)</span><span class="op" id="8648068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8648075">uint16</span><span class="op" id="8648081">(</span><span class="num" id="8648082">101</span>&nbsp;<span class="op" id="8648086">*</span>&nbsp;<span class="ident" id="8648088">y</span>&nbsp;<span class="op" id="8648090">%</span>&nbsp;<span class="num" id="8648092">0x8000</span><span class="op" id="8648098">)</span><span class="op" id="8648099">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8648106">uint16</span><span class="op" id="8648112">(</span><span class="op" id="8648113">(</span><span class="num" id="8648114">101</span><span class="op" id="8648117">*</span><span class="ident" id="8648118">x</span>&nbsp;<span class="op" id="8648120">+</span>&nbsp;<span class="num" id="8648122">103</span><span class="op" id="8648125">*</span><span class="ident" id="8648126">y</span><span class="op" id="8648127">)</span>&nbsp;<span class="op" id="8648129">%</span>&nbsp;<span class="num" id="8648131">0x8000</span><span class="op" id="8648137">)</span><span class="op" id="8648138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8648145">0x7fff</span><span class="op" id="8648151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648157">}</span><span class="op" id="8648158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648167">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648171">src</span>&nbsp;<span class="op" id="8648175">=</span>&nbsp;<span class="ident" id="8648177">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648183">case</span>&nbsp;<span class="ident" id="8648188">color</span><span class="op" id="8648193">.</span><span class="ident" id="8648194">NRGBAModel</span><span class="op" id="8648204">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648208">src1</span>&nbsp;<span class="op" id="8648213">:=</span>&nbsp;<span class="ident" id="8648216">image</span><span class="op" id="8648221">.</span><span class="ident" id="8648222">NewNRGBA</span><span class="op" id="8648230">(</span><span class="ident" id="8648231">image</span><span class="op" id="8648236">.</span><span class="ident" id="8648237">Rect</span><span class="op" id="8648241">(</span><span class="num" id="8648242">0</span><span class="op" id="8648243">,</span>&nbsp;<span class="num" id="8648245">0</span><span class="op" id="8648246">,</span>&nbsp;<span class="ident" id="8648248">srcw</span><span class="op" id="8648252">,</span>&nbsp;<span class="ident" id="8648254">srch</span><span class="op" id="8648258">)</span><span class="op" id="8648259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648263">for</span>&nbsp;<span class="ident" id="8648267">y</span>&nbsp;<span class="op" id="8648269">:=</span>&nbsp;<span class="num" id="8648272">0</span><span class="op" id="8648273">;</span>&nbsp;<span class="ident" id="8648275">y</span>&nbsp;<span class="op" id="8648277">&lt;</span>&nbsp;<span class="ident" id="8648279">srch</span><span class="op" id="8648283">;</span>&nbsp;<span class="ident" id="8648285">y</span><span class="op" id="8648286">++</span>&nbsp;<span class="op" id="8648289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648294">for</span>&nbsp;<span class="ident" id="8648298">x</span>&nbsp;<span class="op" id="8648300">:=</span>&nbsp;<span class="num" id="8648303">0</span><span class="op" id="8648304">;</span>&nbsp;<span class="ident" id="8648306">x</span>&nbsp;<span class="op" id="8648308">&lt;</span>&nbsp;<span class="ident" id="8648310">srcw</span><span class="op" id="8648314">;</span>&nbsp;<span class="ident" id="8648316">x</span><span class="op" id="8648317">++</span>&nbsp;<span class="op" id="8648320">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648326">src1</span><span class="op" id="8648330">.</span><span class="ident" id="8648331">SetNRGBA</span><span class="op" id="8648339">(</span><span class="ident" id="8648340">x</span><span class="op" id="8648341">,</span>&nbsp;<span class="ident" id="8648343">y</span><span class="op" id="8648344">,</span>&nbsp;<span class="ident" id="8648346">color</span><span class="op" id="8648351">.</span><span class="ident" id="8648352">NRGBA</span><span class="op" id="8648357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8648364">uint8</span><span class="op" id="8648369">(</span><span class="num" id="8648370">13</span>&nbsp;<span class="op" id="8648373">*</span>&nbsp;<span class="ident" id="8648375">x</span>&nbsp;<span class="op" id="8648377">%</span>&nbsp;<span class="num" id="8648379">0x100</span><span class="op" id="8648384">)</span><span class="op" id="8648385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8648392">uint8</span><span class="op" id="8648397">(</span><span class="num" id="8648398">11</span>&nbsp;<span class="op" id="8648401">*</span>&nbsp;<span class="ident" id="8648403">y</span>&nbsp;<span class="op" id="8648405">%</span>&nbsp;<span class="num" id="8648407">0x100</span><span class="op" id="8648412">)</span><span class="op" id="8648413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8648420">uint8</span><span class="op" id="8648425">(</span><span class="op" id="8648426">(</span><span class="num" id="8648427">11</span><span class="op" id="8648429">*</span><span class="ident" id="8648430">x</span>&nbsp;<span class="op" id="8648432">+</span>&nbsp;<span class="num" id="8648434">13</span><span class="op" id="8648436">*</span><span class="ident" id="8648437">y</span><span class="op" id="8648438">)</span>&nbsp;<span class="op" id="8648440">%</span>&nbsp;<span class="num" id="8648442">0x100</span><span class="op" id="8648447">)</span><span class="op" id="8648448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8648455">0x7f</span><span class="op" id="8648459">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648465">}</span><span class="op" id="8648466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648479">src</span>&nbsp;<span class="op" id="8648483">=</span>&nbsp;<span class="ident" id="8648485">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648491">case</span>&nbsp;<span class="ident" id="8648496">color</span><span class="op" id="8648501">.</span><span class="ident" id="8648502">YCbCrModel</span><span class="op" id="8648512">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648516">yy</span>&nbsp;<span class="op" id="8648519">:=</span>&nbsp;<span class="builtinfunc" id="8648522">make</span><span class="op" id="8648526">(</span><span class="op" id="8648527">[</span><span class="op" id="8648528">]</span><span class="builtintype" id="8648529">uint8</span><span class="op" id="8648534">,</span>&nbsp;<span class="ident" id="8648536">srcw</span><span class="op" id="8648540">*</span><span class="ident" id="8648541">srch</span><span class="op" id="8648545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648549">cb</span>&nbsp;<span class="op" id="8648552">:=</span>&nbsp;<span class="builtinfunc" id="8648555">make</span><span class="op" id="8648559">(</span><span class="op" id="8648560">[</span><span class="op" id="8648561">]</span><span class="builtintype" id="8648562">uint8</span><span class="op" id="8648567">,</span>&nbsp;<span class="ident" id="8648569">srcw</span><span class="op" id="8648573">*</span><span class="ident" id="8648574">srch</span><span class="op" id="8648578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648582">cr</span>&nbsp;<span class="op" id="8648585">:=</span>&nbsp;<span class="builtinfunc" id="8648588">make</span><span class="op" id="8648592">(</span><span class="op" id="8648593">[</span><span class="op" id="8648594">]</span><span class="builtintype" id="8648595">uint8</span><span class="op" id="8648600">,</span>&nbsp;<span class="ident" id="8648602">srcw</span><span class="op" id="8648606">*</span><span class="ident" id="8648607">srch</span><span class="op" id="8648611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648615">for</span>&nbsp;<span class="ident" id="8648619">i</span>&nbsp;<span class="op" id="8648621">:=</span>&nbsp;<span class="keyword" id="8648624">range</span>&nbsp;<span class="ident" id="8648630">yy</span>&nbsp;<span class="op" id="8648633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648638">yy</span><span class="op" id="8648640">[</span><span class="ident" id="8648641">i</span><span class="op" id="8648642">]</span>&nbsp;<span class="op" id="8648644">=</span>&nbsp;<span class="builtintype" id="8648646">uint8</span><span class="op" id="8648651">(</span><span class="num" id="8648652">3</span>&nbsp;<span class="op" id="8648654">*</span>&nbsp;<span class="ident" id="8648656">i</span>&nbsp;<span class="op" id="8648658">%</span>&nbsp;<span class="num" id="8648660">0x100</span><span class="op" id="8648665">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648670">cb</span><span class="op" id="8648672">[</span><span class="ident" id="8648673">i</span><span class="op" id="8648674">]</span>&nbsp;<span class="op" id="8648676">=</span>&nbsp;<span class="builtintype" id="8648678">uint8</span><span class="op" id="8648683">(</span><span class="num" id="8648684">5</span>&nbsp;<span class="op" id="8648686">*</span>&nbsp;<span class="ident" id="8648688">i</span>&nbsp;<span class="op" id="8648690">%</span>&nbsp;<span class="num" id="8648692">0x100</span><span class="op" id="8648697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648702">cr</span><span class="op" id="8648704">[</span><span class="ident" id="8648705">i</span><span class="op" id="8648706">]</span>&nbsp;<span class="op" id="8648708">=</span>&nbsp;<span class="builtintype" id="8648710">uint8</span><span class="op" id="8648715">(</span><span class="num" id="8648716">7</span>&nbsp;<span class="op" id="8648718">*</span>&nbsp;<span class="ident" id="8648720">i</span>&nbsp;<span class="op" id="8648722">%</span>&nbsp;<span class="num" id="8648724">0x100</span><span class="op" id="8648729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648737">src</span>&nbsp;<span class="op" id="8648741">=</span>&nbsp;<span class="op" id="8648743">&amp;</span><span class="ident" id="8648744">image</span><span class="op" id="8648749">.</span><span class="ident" id="8648750">YCbCr</span><span class="op" id="8648755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648760">Y</span><span class="op" id="8648761">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8648776">yy</span><span class="op" id="8648778">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648783">Cb</span><span class="op" id="8648785">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8648799">cb</span><span class="op" id="8648801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648806">Cr</span><span class="op" id="8648808">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8648822">cr</span><span class="op" id="8648824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648829">YStride</span><span class="op" id="8648836">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8648845">srcw</span><span class="op" id="8648849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648854">CStride</span><span class="op" id="8648861">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8648870">srcw</span><span class="op" id="8648874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648879">SubsampleRatio</span><span class="op" id="8648893">:</span>&nbsp;<span class="ident" id="8648895">image</span><span class="op" id="8648900">.</span><span class="ident" id="8648901">YCbCrSubsampleRatio444</span><span class="op" id="8648923">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648928">Rect</span><span class="op" id="8648932">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8648944">image</span><span class="op" id="8648949">.</span><span class="ident" id="8648950">Rect</span><span class="op" id="8648954">(</span><span class="num" id="8648955">0</span><span class="op" id="8648956">,</span>&nbsp;<span class="num" id="8648958">0</span><span class="op" id="8648959">,</span>&nbsp;<span class="ident" id="8648961">srcw</span><span class="op" id="8648965">,</span>&nbsp;<span class="ident" id="8648967">srch</span><span class="op" id="8648971">)</span><span class="op" id="8648972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648979">default</span><span class="op" id="8648986">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648990">b</span><span class="op" id="8648991">.</span><span class="ident" id="8648992">Fatal</span><span class="op" id="8648997">(</span><span class="string" id="8648998">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="8649026">,</span>&nbsp;<span class="ident" id="8649028">scm</span><span class="op" id="8649031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649034">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649038">var</span>&nbsp;<span class="ident" id="8649042">mask</span>&nbsp;<span class="ident" id="8649047">image</span><span class="op" id="8649052">.</span><span class="ident" id="8649053">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649060">switch</span>&nbsp;<span class="ident" id="8649067">mcm</span>&nbsp;<span class="op" id="8649071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649074">case</span>&nbsp;<span class="ident" id="8649079">nil</span><span class="op" id="8649082">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8649086">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649097">case</span>&nbsp;<span class="ident" id="8649102">color</span><span class="op" id="8649107">.</span><span class="ident" id="8649108">AlphaModel</span><span class="op" id="8649118">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649122">mask1</span>&nbsp;<span class="op" id="8649128">:=</span>&nbsp;<span class="ident" id="8649131">image</span><span class="op" id="8649136">.</span><span class="ident" id="8649137">NewAlpha</span><span class="op" id="8649145">(</span><span class="ident" id="8649146">image</span><span class="op" id="8649151">.</span><span class="ident" id="8649152">Rect</span><span class="op" id="8649156">(</span><span class="num" id="8649157">0</span><span class="op" id="8649158">,</span>&nbsp;<span class="num" id="8649160">0</span><span class="op" id="8649161">,</span>&nbsp;<span class="ident" id="8649163">srcw</span><span class="op" id="8649167">,</span>&nbsp;<span class="ident" id="8649169">srch</span><span class="op" id="8649173">)</span><span class="op" id="8649174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649178">for</span>&nbsp;<span class="ident" id="8649182">y</span>&nbsp;<span class="op" id="8649184">:=</span>&nbsp;<span class="num" id="8649187">0</span><span class="op" id="8649188">;</span>&nbsp;<span class="ident" id="8649190">y</span>&nbsp;<span class="op" id="8649192">&lt;</span>&nbsp;<span class="ident" id="8649194">srch</span><span class="op" id="8649198">;</span>&nbsp;<span class="ident" id="8649200">y</span><span class="op" id="8649201">++</span>&nbsp;<span class="op" id="8649204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649209">for</span>&nbsp;<span class="ident" id="8649213">x</span>&nbsp;<span class="op" id="8649215">:=</span>&nbsp;<span class="num" id="8649218">0</span><span class="op" id="8649219">;</span>&nbsp;<span class="ident" id="8649221">x</span>&nbsp;<span class="op" id="8649223">&lt;</span>&nbsp;<span class="ident" id="8649225">srcw</span><span class="op" id="8649229">;</span>&nbsp;<span class="ident" id="8649231">x</span><span class="op" id="8649232">++</span>&nbsp;<span class="op" id="8649235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649241">a</span>&nbsp;<span class="op" id="8649243">:=</span>&nbsp;<span class="builtintype" id="8649246">uint8</span><span class="op" id="8649251">(</span><span class="op" id="8649252">(</span><span class="num" id="8649253">23</span><span class="op" id="8649255">*</span><span class="ident" id="8649256">x</span>&nbsp;<span class="op" id="8649258">+</span>&nbsp;<span class="num" id="8649260">29</span><span class="op" id="8649262">*</span><span class="ident" id="8649263">y</span><span class="op" id="8649264">)</span>&nbsp;<span class="op" id="8649266">%</span>&nbsp;<span class="num" id="8649268">0x100</span><span class="op" id="8649273">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8649279">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8649325">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649376">if</span>&nbsp;<span class="ident" id="8649379">a</span>&nbsp;<span class="op" id="8649381">&gt;=</span>&nbsp;<span class="num" id="8649384">0xc0</span>&nbsp;<span class="op" id="8649389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649396">mask1</span><span class="op" id="8649401">.</span><span class="ident" id="8649402">SetAlpha</span><span class="op" id="8649410">(</span><span class="ident" id="8649411">x</span><span class="op" id="8649412">,</span>&nbsp;<span class="ident" id="8649414">y</span><span class="op" id="8649415">,</span>&nbsp;<span class="ident" id="8649417">color</span><span class="op" id="8649422">.</span><span class="ident" id="8649423">Alpha</span><span class="op" id="8649428">{</span><span class="ident" id="8649429">a</span><span class="op" id="8649430">}</span><span class="op" id="8649431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649437">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649450">mask</span>&nbsp;<span class="op" id="8649455">=</span>&nbsp;<span class="ident" id="8649457">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649464">default</span><span class="op" id="8649471">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649475">b</span><span class="op" id="8649476">.</span><span class="ident" id="8649477">Fatal</span><span class="op" id="8649482">(</span><span class="string" id="8649483">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="8649509">,</span>&nbsp;<span class="ident" id="8649511">mcm</span><span class="op" id="8649514">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649521">b</span><span class="op" id="8649522">.</span><span class="ident" id="8649523">StartTimer</span><span class="op" id="8649533">(</span><span class="op" id="8649534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649537">for</span>&nbsp;<span class="ident" id="8649541">i</span>&nbsp;<span class="op" id="8649543">:=</span>&nbsp;<span class="num" id="8649546">0</span><span class="op" id="8649547">;</span>&nbsp;<span class="ident" id="8649549">i</span>&nbsp;<span class="op" id="8649551">&lt;</span>&nbsp;<span class="ident" id="8649553">b</span><span class="op" id="8649554">.</span><span class="ident" id="8649555">N</span><span class="op" id="8649556">;</span>&nbsp;<span class="ident" id="8649558">i</span><span class="op" id="8649559">++</span>&nbsp;<span class="op" id="8649562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8649566">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649619">x</span>&nbsp;<span class="op" id="8649621">:=</span>&nbsp;<span class="num" id="8649624">3</span>&nbsp;<span class="op" id="8649626">*</span>&nbsp;<span class="ident" id="8649628">i</span>&nbsp;<span class="op" id="8649630">%</span>&nbsp;<span class="op" id="8649632">(</span><span class="ident" id="8649633">dstw</span>&nbsp;<span class="op" id="8649638">-</span>&nbsp;<span class="ident" id="8649640">srcw</span><span class="op" id="8649644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649648">y</span>&nbsp;<span class="op" id="8649650">:=</span>&nbsp;<span class="num" id="8649653">7</span>&nbsp;<span class="op" id="8649655">*</span>&nbsp;<span class="ident" id="8649657">i</span>&nbsp;<span class="op" id="8649659">%</span>&nbsp;<span class="op" id="8649661">(</span><span class="ident" id="8649662">dsth</span>&nbsp;<span class="op" id="8649667">-</span>&nbsp;<span class="ident" id="8649669">srch</span><span class="op" id="8649673">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649678">DrawMask</span><span class="op" id="8649686">(</span><span class="ident" id="8649687">dst</span><span class="op" id="8649690">,</span>&nbsp;<span class="ident" id="8649692">dst</span><span class="op" id="8649695">.</span><span class="ident" id="8649696">Bounds</span><span class="op" id="8649702">(</span><span class="op" id="8649703">)</span><span class="op" id="8649704">.</span><span class="ident" id="8649705">Add</span><span class="op" id="8649708">(</span><span class="ident" id="8649709">image</span><span class="op" id="8649714">.</span><span class="ident" id="8649715">Pt</span><span class="op" id="8649717">(</span><span class="ident" id="8649718">x</span><span class="op" id="8649719">,</span>&nbsp;<span class="ident" id="8649721">y</span><span class="op" id="8649722">)</span><span class="op" id="8649723">)</span><span class="op" id="8649724">,</span>&nbsp;<span class="ident" id="8649726">src</span><span class="op" id="8649729">,</span>&nbsp;<span class="ident" id="8649731">image</span><span class="op" id="8649736">.</span><span class="ident" id="8649737">ZP</span><span class="op" id="8649739">,</span>&nbsp;<span class="ident" id="8649741">mask</span><span class="op" id="8649745">,</span>&nbsp;<span class="ident" id="8649747">image</span><span class="op" id="8649752">.</span><span class="ident" id="8649753">ZP</span><span class="op" id="8649755">,</span>&nbsp;<span class="ident" id="8649757">op</span><span class="op" id="8649759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649762">}</span><br>
<span class="lineno">150</span><span class="op" id="8649764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8649767">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8649848">func</span>&nbsp;<span class="ident" id="8649853">BenchmarkFillOver</span><span class="op" id="8649870">(</span><span class="ident" id="8649871">b</span>&nbsp;<span class="op" id="8649873">*</span><span class="ident" id="8649874">testing</span><span class="op" id="8649881">.</span><span class="ident" id="8649882">B</span><span class="op" id="8649883">)</span>&nbsp;<span class="op" id="8649885">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649888">bench</span><span class="op" id="8649893">(</span><span class="ident" id="8649894">b</span><span class="op" id="8649895">,</span>&nbsp;<span class="ident" id="8649897">color</span><span class="op" id="8649902">.</span><span class="ident" id="8649903">RGBAModel</span><span class="op" id="8649912">,</span>&nbsp;<span class="ident" id="8649914">nil</span><span class="op" id="8649917">,</span>&nbsp;<span class="ident" id="8649919">nil</span><span class="op" id="8649922">,</span>&nbsp;<span class="ident" id="8649924">Over</span><span class="op" id="8649928">)</span><br>
<span class="lineno"></span><span class="op" id="8649930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8649933">func</span>&nbsp;<span class="ident" id="8649938">BenchmarkFillSrc</span><span class="op" id="8649954">(</span><span class="ident" id="8649955">b</span>&nbsp;<span class="op" id="8649957">*</span><span class="ident" id="8649958">testing</span><span class="op" id="8649965">.</span><span class="ident" id="8649966">B</span><span class="op" id="8649967">)</span>&nbsp;<span class="op" id="8649969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649972">bench</span><span class="op" id="8649977">(</span><span class="ident" id="8649978">b</span><span class="op" id="8649979">,</span>&nbsp;<span class="ident" id="8649981">color</span><span class="op" id="8649986">.</span><span class="ident" id="8649987">RGBAModel</span><span class="op" id="8649996">,</span>&nbsp;<span class="ident" id="8649998">nil</span><span class="op" id="8650001">,</span>&nbsp;<span class="ident" id="8650003">nil</span><span class="op" id="8650006">,</span>&nbsp;<span class="ident" id="8650008">Src</span><span class="op" id="8650011">)</span><br>
<span class="lineno">160</span><span class="op" id="8650013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8650016">func</span>&nbsp;<span class="ident" id="8650021">BenchmarkCopyOver</span><span class="op" id="8650038">(</span><span class="ident" id="8650039">b</span>&nbsp;<span class="op" id="8650041">*</span><span class="ident" id="8650042">testing</span><span class="op" id="8650049">.</span><span class="ident" id="8650050">B</span><span class="op" id="8650051">)</span>&nbsp;<span class="op" id="8650053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650056">bench</span><span class="op" id="8650061">(</span><span class="ident" id="8650062">b</span><span class="op" id="8650063">,</span>&nbsp;<span class="ident" id="8650065">color</span><span class="op" id="8650070">.</span><span class="ident" id="8650071">RGBAModel</span><span class="op" id="8650080">,</span>&nbsp;<span class="ident" id="8650082">color</span><span class="op" id="8650087">.</span><span class="ident" id="8650088">RGBAModel</span><span class="op" id="8650097">,</span>&nbsp;<span class="ident" id="8650099">nil</span><span class="op" id="8650102">,</span>&nbsp;<span class="ident" id="8650104">Over</span><span class="op" id="8650108">)</span><br>
<span class="lineno"></span><span class="op" id="8650110">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="8650113">func</span>&nbsp;<span class="ident" id="8650118">BenchmarkCopySrc</span><span class="op" id="8650134">(</span><span class="ident" id="8650135">b</span>&nbsp;<span class="op" id="8650137">*</span><span class="ident" id="8650138">testing</span><span class="op" id="8650145">.</span><span class="ident" id="8650146">B</span><span class="op" id="8650147">)</span>&nbsp;<span class="op" id="8650149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650152">bench</span><span class="op" id="8650157">(</span><span class="ident" id="8650158">b</span><span class="op" id="8650159">,</span>&nbsp;<span class="ident" id="8650161">color</span><span class="op" id="8650166">.</span><span class="ident" id="8650167">RGBAModel</span><span class="op" id="8650176">,</span>&nbsp;<span class="ident" id="8650178">color</span><span class="op" id="8650183">.</span><span class="ident" id="8650184">RGBAModel</span><span class="op" id="8650193">,</span>&nbsp;<span class="ident" id="8650195">nil</span><span class="op" id="8650198">,</span>&nbsp;<span class="ident" id="8650200">Src</span><span class="op" id="8650203">)</span><br>
<span class="lineno"></span><span class="op" id="8650205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="8650208">func</span>&nbsp;<span class="ident" id="8650213">BenchmarkNRGBAOver</span><span class="op" id="8650231">(</span><span class="ident" id="8650232">b</span>&nbsp;<span class="op" id="8650234">*</span><span class="ident" id="8650235">testing</span><span class="op" id="8650242">.</span><span class="ident" id="8650243">B</span><span class="op" id="8650244">)</span>&nbsp;<span class="op" id="8650246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650249">bench</span><span class="op" id="8650254">(</span><span class="ident" id="8650255">b</span><span class="op" id="8650256">,</span>&nbsp;<span class="ident" id="8650258">color</span><span class="op" id="8650263">.</span><span class="ident" id="8650264">RGBAModel</span><span class="op" id="8650273">,</span>&nbsp;<span class="ident" id="8650275">color</span><span class="op" id="8650280">.</span><span class="ident" id="8650281">NRGBAModel</span><span class="op" id="8650291">,</span>&nbsp;<span class="ident" id="8650293">nil</span><span class="op" id="8650296">,</span>&nbsp;<span class="ident" id="8650298">Over</span><span class="op" id="8650302">)</span><br>
<span class="lineno"></span><span class="op" id="8650304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8650307">func</span>&nbsp;<span class="ident" id="8650312">BenchmarkNRGBASrc</span><span class="op" id="8650329">(</span><span class="ident" id="8650330">b</span>&nbsp;<span class="op" id="8650332">*</span><span class="ident" id="8650333">testing</span><span class="op" id="8650340">.</span><span class="ident" id="8650341">B</span><span class="op" id="8650342">)</span>&nbsp;<span class="op" id="8650344">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650347">bench</span><span class="op" id="8650352">(</span><span class="ident" id="8650353">b</span><span class="op" id="8650354">,</span>&nbsp;<span class="ident" id="8650356">color</span><span class="op" id="8650361">.</span><span class="ident" id="8650362">RGBAModel</span><span class="op" id="8650371">,</span>&nbsp;<span class="ident" id="8650373">color</span><span class="op" id="8650378">.</span><span class="ident" id="8650379">NRGBAModel</span><span class="op" id="8650389">,</span>&nbsp;<span class="ident" id="8650391">nil</span><span class="op" id="8650394">,</span>&nbsp;<span class="ident" id="8650396">Src</span><span class="op" id="8650399">)</span><br>
<span class="lineno"></span><span class="op" id="8650401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8650404">func</span>&nbsp;<span class="ident" id="8650409">BenchmarkYCbCr</span><span class="op" id="8650423">(</span><span class="ident" id="8650424">b</span>&nbsp;<span class="op" id="8650426">*</span><span class="ident" id="8650427">testing</span><span class="op" id="8650434">.</span><span class="ident" id="8650435">B</span><span class="op" id="8650436">)</span>&nbsp;<span class="op" id="8650438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650441">bench</span><span class="op" id="8650446">(</span><span class="ident" id="8650447">b</span><span class="op" id="8650448">,</span>&nbsp;<span class="ident" id="8650450">color</span><span class="op" id="8650455">.</span><span class="ident" id="8650456">RGBAModel</span><span class="op" id="8650465">,</span>&nbsp;<span class="ident" id="8650467">color</span><span class="op" id="8650472">.</span><span class="ident" id="8650473">YCbCrModel</span><span class="op" id="8650483">,</span>&nbsp;<span class="ident" id="8650485">nil</span><span class="op" id="8650488">,</span>&nbsp;<span class="ident" id="8650490">Over</span><span class="op" id="8650494">)</span><br>
<span class="lineno">180</span><span class="op" id="8650496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8650499">func</span>&nbsp;<span class="ident" id="8650504">BenchmarkGlyphOver</span><span class="op" id="8650522">(</span><span class="ident" id="8650523">b</span>&nbsp;<span class="op" id="8650525">*</span><span class="ident" id="8650526">testing</span><span class="op" id="8650533">.</span><span class="ident" id="8650534">B</span><span class="op" id="8650535">)</span>&nbsp;<span class="op" id="8650537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650540">bench</span><span class="op" id="8650545">(</span><span class="ident" id="8650546">b</span><span class="op" id="8650547">,</span>&nbsp;<span class="ident" id="8650549">color</span><span class="op" id="8650554">.</span><span class="ident" id="8650555">RGBAModel</span><span class="op" id="8650564">,</span>&nbsp;<span class="ident" id="8650566">nil</span><span class="op" id="8650569">,</span>&nbsp;<span class="ident" id="8650571">color</span><span class="op" id="8650576">.</span><span class="ident" id="8650577">AlphaModel</span><span class="op" id="8650587">,</span>&nbsp;<span class="ident" id="8650589">Over</span><span class="op" id="8650593">)</span><br>
<span class="lineno"></span><span class="op" id="8650595">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="8650598">func</span>&nbsp;<span class="ident" id="8650603">BenchmarkRGBA</span><span class="op" id="8650616">(</span><span class="ident" id="8650617">b</span>&nbsp;<span class="op" id="8650619">*</span><span class="ident" id="8650620">testing</span><span class="op" id="8650627">.</span><span class="ident" id="8650628">B</span><span class="op" id="8650629">)</span>&nbsp;<span class="op" id="8650631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650634">bench</span><span class="op" id="8650639">(</span><span class="ident" id="8650640">b</span><span class="op" id="8650641">,</span>&nbsp;<span class="ident" id="8650643">color</span><span class="op" id="8650648">.</span><span class="ident" id="8650649">RGBAModel</span><span class="op" id="8650658">,</span>&nbsp;<span class="ident" id="8650660">color</span><span class="op" id="8650665">.</span><span class="ident" id="8650666">RGBA64Model</span><span class="op" id="8650677">,</span>&nbsp;<span class="ident" id="8650679">nil</span><span class="op" id="8650682">,</span>&nbsp;<span class="ident" id="8650684">Src</span><span class="op" id="8650687">)</span><br>
<span class="lineno"></span><span class="op" id="8650689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="8650692">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8650768">func</span>&nbsp;<span class="ident" id="8650773">BenchmarkGenericOver</span><span class="op" id="8650793">(</span><span class="ident" id="8650794">b</span>&nbsp;<span class="op" id="8650796">*</span><span class="ident" id="8650797">testing</span><span class="op" id="8650804">.</span><span class="ident" id="8650805">B</span><span class="op" id="8650806">)</span>&nbsp;<span class="op" id="8650808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650811">bench</span><span class="op" id="8650816">(</span><span class="ident" id="8650817">b</span><span class="op" id="8650818">,</span>&nbsp;<span class="ident" id="8650820">color</span><span class="op" id="8650825">.</span><span class="ident" id="8650826">RGBA64Model</span><span class="op" id="8650837">,</span>&nbsp;<span class="ident" id="8650839">color</span><span class="op" id="8650844">.</span><span class="ident" id="8650845">RGBA64Model</span><span class="op" id="8650856">,</span>&nbsp;<span class="ident" id="8650858">nil</span><span class="op" id="8650861">,</span>&nbsp;<span class="ident" id="8650863">Over</span><span class="op" id="8650867">)</span><br>
<span class="lineno"></span><span class="op" id="8650869">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="8650872">func</span>&nbsp;<span class="ident" id="8650877">BenchmarkGenericMaskOver</span><span class="op" id="8650901">(</span><span class="ident" id="8650902">b</span>&nbsp;<span class="op" id="8650904">*</span><span class="ident" id="8650905">testing</span><span class="op" id="8650912">.</span><span class="ident" id="8650913">B</span><span class="op" id="8650914">)</span>&nbsp;<span class="op" id="8650916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650919">bench</span><span class="op" id="8650924">(</span><span class="ident" id="8650925">b</span><span class="op" id="8650926">,</span>&nbsp;<span class="ident" id="8650928">color</span><span class="op" id="8650933">.</span><span class="ident" id="8650934">RGBA64Model</span><span class="op" id="8650945">,</span>&nbsp;<span class="ident" id="8650947">color</span><span class="op" id="8650952">.</span><span class="ident" id="8650953">RGBA64Model</span><span class="op" id="8650964">,</span>&nbsp;<span class="ident" id="8650966">color</span><span class="op" id="8650971">.</span><span class="ident" id="8650972">AlphaModel</span><span class="op" id="8650982">,</span>&nbsp;<span class="ident" id="8650984">Over</span><span class="op" id="8650988">)</span><br>
<span class="lineno"></span><span class="op" id="8650990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="8650993">func</span>&nbsp;<span class="ident" id="8650998">BenchmarkGenericSrc</span><span class="op" id="8651017">(</span><span class="ident" id="8651018">b</span>&nbsp;<span class="op" id="8651020">*</span><span class="ident" id="8651021">testing</span><span class="op" id="8651028">.</span><span class="ident" id="8651029">B</span><span class="op" id="8651030">)</span>&nbsp;<span class="op" id="8651032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651035">bench</span><span class="op" id="8651040">(</span><span class="ident" id="8651041">b</span><span class="op" id="8651042">,</span>&nbsp;<span class="ident" id="8651044">color</span><span class="op" id="8651049">.</span><span class="ident" id="8651050">RGBA64Model</span><span class="op" id="8651061">,</span>&nbsp;<span class="ident" id="8651063">color</span><span class="op" id="8651068">.</span><span class="ident" id="8651069">RGBA64Model</span><span class="op" id="8651080">,</span>&nbsp;<span class="ident" id="8651082">nil</span><span class="op" id="8651085">,</span>&nbsp;<span class="ident" id="8651087">Src</span><span class="op" id="8651090">)</span><br>
<span class="lineno"></span><span class="op" id="8651092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8651095">func</span>&nbsp;<span class="ident" id="8651100">BenchmarkGenericMaskSrc</span><span class="op" id="8651123">(</span><span class="ident" id="8651124">b</span>&nbsp;<span class="op" id="8651126">*</span><span class="ident" id="8651127">testing</span><span class="op" id="8651134">.</span><span class="ident" id="8651135">B</span><span class="op" id="8651136">)</span>&nbsp;<span class="op" id="8651138">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651141">bench</span><span class="op" id="8651146">(</span><span class="ident" id="8651147">b</span><span class="op" id="8651148">,</span>&nbsp;<span class="ident" id="8651150">color</span><span class="op" id="8651155">.</span><span class="ident" id="8651156">RGBA64Model</span><span class="op" id="8651167">,</span>&nbsp;<span class="ident" id="8651169">color</span><span class="op" id="8651174">.</span><span class="ident" id="8651175">RGBA64Model</span><span class="op" id="8651186">,</span>&nbsp;<span class="ident" id="8651188">color</span><span class="op" id="8651193">.</span><span class="ident" id="8651194">AlphaModel</span><span class="op" id="8651204">,</span>&nbsp;<span class="ident" id="8651206">Src</span><span class="op" id="8651209">)</span><br>
<span class="lineno"></span><span class="op" id="8651211">}</span>
</div>
</body>
</html>
