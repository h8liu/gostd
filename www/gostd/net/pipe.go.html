<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html" class="current">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3232506">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3232562">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3232616">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3232667">package</span>&nbsp;<span class="ident" id="3232675">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3232680">import</span>&nbsp;<span class="op" id="3232687">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3232690">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3232700">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3232706">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3232713">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3232716">//&nbsp;Pipe&nbsp;creates&nbsp;a&nbsp;synchronous,&nbsp;in-memory,&nbsp;full&nbsp;duplex</span><br>
<span class="lineno"></span><span class="comment" id="3232770">//&nbsp;network&nbsp;connection;&nbsp;both&nbsp;ends&nbsp;implement&nbsp;the&nbsp;Conn&nbsp;interface.</span><br>
<span class="lineno">15</span><span class="comment" id="3232833">//&nbsp;Reads&nbsp;on&nbsp;one&nbsp;end&nbsp;are&nbsp;matched&nbsp;with&nbsp;writes&nbsp;on&nbsp;the&nbsp;other,</span><br>
<span class="lineno"></span><span class="comment" id="3232891">//&nbsp;copying&nbsp;data&nbsp;directly&nbsp;between&nbsp;the&nbsp;two;&nbsp;there&nbsp;is&nbsp;no&nbsp;internal</span><br>
<span class="lineno"></span><span class="comment" id="3232954">//&nbsp;buffering.</span><br>
<span class="lineno"></span><span class="keyword" id="3232968">func</span>&nbsp;<span class="ident" id="3232973">Pipe</span><span class="op" id="3232977">(</span><span class="op" id="3232978">)</span>&nbsp;<span class="op" id="3232980">(</span><span class="ident" id="3232981">Conn</span><span class="op" id="3232985">,</span>&nbsp;<span class="ident" id="3232987">Conn</span><span class="op" id="3232991">)</span>&nbsp;<span class="op" id="3232993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3232996">r1</span><span class="op" id="3232998">,</span>&nbsp;<span class="ident" id="3233000">w1</span>&nbsp;<span class="op" id="3233003">:=</span>&nbsp;<span class="ident" id="3233006">io</span><span class="op" id="3233008">.</span><span class="ident" id="3233009">Pipe</span><span class="op" id="3233013">(</span><span class="op" id="3233014">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3233017">r2</span><span class="op" id="3233019">,</span>&nbsp;<span class="ident" id="3233021">w2</span>&nbsp;<span class="op" id="3233024">:=</span>&nbsp;<span class="ident" id="3233027">io</span><span class="op" id="3233029">.</span><span class="ident" id="3233030">Pipe</span><span class="op" id="3233034">(</span><span class="op" id="3233035">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3233039">return</span>&nbsp;<span class="op" id="3233046">&amp;</span><span class="ident" id="3233047">pipe</span><span class="op" id="3233051">{</span><span class="ident" id="3233052">r1</span><span class="op" id="3233054">,</span>&nbsp;<span class="ident" id="3233056">w2</span><span class="op" id="3233058">}</span><span class="op" id="3233059">,</span>&nbsp;<span class="op" id="3233061">&amp;</span><span class="ident" id="3233062">pipe</span><span class="op" id="3233066">{</span><span class="ident" id="3233067">r2</span><span class="op" id="3233069">,</span>&nbsp;<span class="ident" id="3233071">w1</span><span class="op" id="3233073">}</span><br>
<span class="lineno"></span><span class="op" id="3233075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="3233078">type</span>&nbsp;<span class="ident" id="3233083">pipe</span>&nbsp;<span class="keyword" id="3233088">struct</span>&nbsp;<span class="op" id="3233095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3233098">*</span><span class="ident" id="3233099">io</span><span class="op" id="3233101">.</span><span class="ident" id="3233102">PipeReader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3233114">*</span><span class="ident" id="3233115">io</span><span class="op" id="3233117">.</span><span class="ident" id="3233118">PipeWriter</span><br>
<span class="lineno"></span><span class="op" id="3233129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="3233132">type</span>&nbsp;<span class="ident" id="3233137">pipeAddr</span>&nbsp;<span class="builtintype" id="3233146">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3233151">func</span>&nbsp;<span class="op" id="3233156">(</span><span class="ident" id="3233157">pipeAddr</span><span class="op" id="3233165">)</span>&nbsp;<span class="ident" id="3233167">Network</span><span class="op" id="3233174">(</span><span class="op" id="3233175">)</span>&nbsp;<span class="builtintype" id="3233177">string</span>&nbsp;<span class="op" id="3233184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3233187">return</span>&nbsp;<span class="string" id="3233194">&#34;pipe&#34;</span><br>
<span class="lineno"></span><span class="op" id="3233201">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="3233204">func</span>&nbsp;<span class="op" id="3233209">(</span><span class="ident" id="3233210">pipeAddr</span><span class="op" id="3233218">)</span>&nbsp;<span class="ident" id="3233220">String</span><span class="op" id="3233226">(</span><span class="op" id="3233227">)</span>&nbsp;<span class="builtintype" id="3233229">string</span>&nbsp;<span class="op" id="3233236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3233239">return</span>&nbsp;<span class="string" id="3233246">&#34;pipe&#34;</span><br>
<span class="lineno"></span><span class="op" id="3233253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="3233256">func</span>&nbsp;<span class="op" id="3233261">(</span><span class="ident" id="3233262">p</span>&nbsp;<span class="op" id="3233264">*</span><span class="ident" id="3233265">pipe</span><span class="op" id="3233269">)</span>&nbsp;<span class="ident" id="3233271">Close</span><span class="op" id="3233276">(</span><span class="op" id="3233277">)</span>&nbsp;<span class="builtintype" id="3233279">error</span>&nbsp;<span class="op" id="3233285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3233288">err</span>&nbsp;<span class="op" id="3233292">:=</span>&nbsp;<span class="ident" id="3233295">p</span><span class="op" id="3233296">.</span><span class="ident" id="3233297">PipeReader</span><span class="op" id="3233307">.</span><span class="ident" id="3233308">Close</span><span class="op" id="3233313">(</span><span class="op" id="3233314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3233317">err1</span>&nbsp;<span class="op" id="3233322">:=</span>&nbsp;<span class="ident" id="3233325">p</span><span class="op" id="3233326">.</span><span class="ident" id="3233327">PipeWriter</span><span class="op" id="3233337">.</span><span class="ident" id="3233338">Close</span><span class="op" id="3233343">(</span><span class="op" id="3233344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3233347">if</span>&nbsp;<span class="ident" id="3233350">err</span>&nbsp;<span class="op" id="3233354">==</span>&nbsp;<span class="ident" id="3233357">nil</span>&nbsp;<span class="op" id="3233361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3233365">err</span>&nbsp;<span class="op" id="3233369">=</span>&nbsp;<span class="ident" id="3233371">err1</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3233377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3233380">return</span>&nbsp;<span class="ident" id="3233387">err</span><br>
<span class="lineno"></span><span class="op" id="3233391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3233394">func</span>&nbsp;<span class="op" id="3233399">(</span><span class="ident" id="3233400">p</span>&nbsp;<span class="op" id="3233402">*</span><span class="ident" id="3233403">pipe</span><span class="op" id="3233407">)</span>&nbsp;<span class="ident" id="3233409">LocalAddr</span><span class="op" id="3233418">(</span><span class="op" id="3233419">)</span>&nbsp;<span class="ident" id="3233421">Addr</span>&nbsp;<span class="op" id="3233426">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3233429">return</span>&nbsp;<span class="ident" id="3233436">pipeAddr</span><span class="op" id="3233444">(</span><span class="num" id="3233445">0</span><span class="op" id="3233446">)</span><br>
<span class="lineno"></span><span class="op" id="3233448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3233451">func</span>&nbsp;<span class="op" id="3233456">(</span><span class="ident" id="3233457">p</span>&nbsp;<span class="op" id="3233459">*</span><span class="ident" id="3233460">pipe</span><span class="op" id="3233464">)</span>&nbsp;<span class="ident" id="3233466">RemoteAddr</span><span class="op" id="3233476">(</span><span class="op" id="3233477">)</span>&nbsp;<span class="ident" id="3233479">Addr</span>&nbsp;<span class="op" id="3233484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3233487">return</span>&nbsp;<span class="ident" id="3233494">pipeAddr</span><span class="op" id="3233502">(</span><span class="num" id="3233503">0</span><span class="op" id="3233504">)</span><br>
<span class="lineno">55</span><span class="op" id="3233506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3233509">func</span>&nbsp;<span class="op" id="3233514">(</span><span class="ident" id="3233515">p</span>&nbsp;<span class="op" id="3233517">*</span><span class="ident" id="3233518">pipe</span><span class="op" id="3233522">)</span>&nbsp;<span class="ident" id="3233524">SetDeadline</span><span class="op" id="3233535">(</span><span class="ident" id="3233536">t</span>&nbsp;<span class="ident" id="3233538">time</span><span class="op" id="3233542">.</span><span class="ident" id="3233543">Time</span><span class="op" id="3233547">)</span>&nbsp;<span class="builtintype" id="3233549">error</span>&nbsp;<span class="op" id="3233555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3233558">return</span>&nbsp;<span class="ident" id="3233565">errors</span><span class="op" id="3233571">.</span><span class="ident" id="3233572">New</span><span class="op" id="3233575">(</span><span class="string" id="3233576">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3233613">)</span><br>
<span class="lineno"></span><span class="op" id="3233615">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="3233618">func</span>&nbsp;<span class="op" id="3233623">(</span><span class="ident" id="3233624">p</span>&nbsp;<span class="op" id="3233626">*</span><span class="ident" id="3233627">pipe</span><span class="op" id="3233631">)</span>&nbsp;<span class="ident" id="3233633">SetReadDeadline</span><span class="op" id="3233648">(</span><span class="ident" id="3233649">t</span>&nbsp;<span class="ident" id="3233651">time</span><span class="op" id="3233655">.</span><span class="ident" id="3233656">Time</span><span class="op" id="3233660">)</span>&nbsp;<span class="builtintype" id="3233662">error</span>&nbsp;<span class="op" id="3233668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3233671">return</span>&nbsp;<span class="ident" id="3233678">errors</span><span class="op" id="3233684">.</span><span class="ident" id="3233685">New</span><span class="op" id="3233688">(</span><span class="string" id="3233689">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3233726">)</span><br>
<span class="lineno"></span><span class="op" id="3233728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="3233731">func</span>&nbsp;<span class="op" id="3233736">(</span><span class="ident" id="3233737">p</span>&nbsp;<span class="op" id="3233739">*</span><span class="ident" id="3233740">pipe</span><span class="op" id="3233744">)</span>&nbsp;<span class="ident" id="3233746">SetWriteDeadline</span><span class="op" id="3233762">(</span><span class="ident" id="3233763">t</span>&nbsp;<span class="ident" id="3233765">time</span><span class="op" id="3233769">.</span><span class="ident" id="3233770">Time</span><span class="op" id="3233774">)</span>&nbsp;<span class="builtintype" id="3233776">error</span>&nbsp;<span class="op" id="3233782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3233785">return</span>&nbsp;<span class="ident" id="3233792">errors</span><span class="op" id="3233798">.</span><span class="ident" id="3233799">New</span><span class="op" id="3233802">(</span><span class="string" id="3233803">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3233840">)</span><br>
<span class="lineno"></span><span class="op" id="3233842">}</span>
</div>
</body>
</html>
