<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="927027">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="927083">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="927137">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="927188">package</span>&nbsp;<span class="ident" id="927196">runtime_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="927210">import</span>&nbsp;<span class="op" id="927217">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="927220">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="927233">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="927239">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="927250">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="927261">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="927272">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="927281">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="927284">//&nbsp;TestMemmoveOverflow&nbsp;maps&nbsp;3GB&nbsp;of&nbsp;memory&nbsp;and&nbsp;calls&nbsp;memmove&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="927347">//&nbsp;the&nbsp;corresponding&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="927375">func</span>&nbsp;<span class="ident" id="927380">TestMemmoveOverflow</span><span class="op" id="927399">(</span><span class="ident" id="927400">t</span>&nbsp;<span class="op" id="927402">*</span><span class="ident" id="927403">testing</span><span class="op" id="927410">.</span><span class="ident" id="927411">T</span><span class="op" id="927412">)</span>&nbsp;<span class="op" id="927414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="927417">//&nbsp;Create&nbsp;a&nbsp;temporary&nbsp;file.</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="927446">tmp</span><span class="op" id="927449">,</span>&nbsp;<span class="ident" id="927451">err</span>&nbsp;<span class="op" id="927455">:=</span>&nbsp;<span class="ident" id="927458">ioutil</span><span class="op" id="927464">.</span><span class="ident" id="927465">TempFile</span><span class="op" id="927473">(</span><span class="string" id="927474">&#34;&#34;</span><span class="op" id="927476">,</span>&nbsp;<span class="string" id="927478">&#34;go-memmovetest&#34;</span><span class="op" id="927494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="927497">if</span>&nbsp;<span class="ident" id="927500">err</span>&nbsp;<span class="op" id="927504">!=</span>&nbsp;<span class="ident" id="927507">nil</span>&nbsp;<span class="op" id="927511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="927515">t</span><span class="op" id="927516">.</span><span class="ident" id="927517">Fatal</span><span class="op" id="927522">(</span><span class="ident" id="927523">err</span><span class="op" id="927526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="927529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="927532">_</span><span class="op" id="927533">,</span>&nbsp;<span class="ident" id="927535">err</span>&nbsp;<span class="op" id="927539">=</span>&nbsp;<span class="ident" id="927541">tmp</span><span class="op" id="927544">.</span><span class="ident" id="927545">Write</span><span class="op" id="927550">(</span><span class="builtinfunc" id="927551">make</span><span class="op" id="927555">(</span><span class="op" id="927556">[</span><span class="op" id="927557">]</span><span class="builtintype" id="927558">byte</span><span class="op" id="927562">,</span>&nbsp;<span class="num" id="927564">65536</span><span class="op" id="927569">)</span><span class="op" id="927570">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="927573">if</span>&nbsp;<span class="ident" id="927576">err</span>&nbsp;<span class="op" id="927580">!=</span>&nbsp;<span class="ident" id="927583">nil</span>&nbsp;<span class="op" id="927587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="927591">t</span><span class="op" id="927592">.</span><span class="ident" id="927593">Fatal</span><span class="op" id="927598">(</span><span class="ident" id="927599">err</span><span class="op" id="927602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="927605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="927608">defer</span>&nbsp;<span class="ident" id="927614">os</span><span class="op" id="927616">.</span><span class="ident" id="927617">Remove</span><span class="op" id="927623">(</span><span class="ident" id="927624">tmp</span><span class="op" id="927627">.</span><span class="ident" id="927628">Name</span><span class="op" id="927632">(</span><span class="op" id="927633">)</span><span class="op" id="927634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="927637">defer</span>&nbsp;<span class="ident" id="927643">tmp</span><span class="op" id="927646">.</span><span class="ident" id="927647">Close</span><span class="op" id="927652">(</span><span class="op" id="927653">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="927657">//&nbsp;Set&nbsp;up&nbsp;mappings.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="927678">base</span><span class="op" id="927682">,</span>&nbsp;<span class="ident" id="927684">_</span><span class="op" id="927685">,</span>&nbsp;<span class="ident" id="927687">errno</span>&nbsp;<span class="op" id="927693">:=</span>&nbsp;<span class="ident" id="927696">syscall</span><span class="op" id="927703">.</span><span class="ident" id="927704">Syscall6</span><span class="op" id="927712">(</span><span class="ident" id="927713">syscall</span><span class="op" id="927720">.</span><span class="ident" id="927721">SYS_MMAP</span><span class="op" id="927729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="927733">0xa0</span><span class="op" id="927737">&lt;&lt;</span><span class="num" id="927739">32</span><span class="op" id="927741">,</span>&nbsp;<span class="num" id="927743">3</span><span class="op" id="927744">&lt;&lt;</span><span class="num" id="927746">30</span><span class="op" id="927748">,</span>&nbsp;<span class="ident" id="927750">syscall</span><span class="op" id="927757">.</span><span class="ident" id="927758">PROT_READ</span><span class="op" id="927767">|</span><span class="ident" id="927768">syscall</span><span class="op" id="927775">.</span><span class="ident" id="927776">PROT_WRITE</span><span class="op" id="927786">,</span>&nbsp;<span class="ident" id="927788">syscall</span><span class="op" id="927795">.</span><span class="ident" id="927796">MAP_PRIVATE</span><span class="op" id="927807">|</span><span class="ident" id="927808">syscall</span><span class="op" id="927815">.</span><span class="ident" id="927816">MAP_ANONYMOUS</span><span class="op" id="927829">,</span>&nbsp;<span class="op" id="927831">^</span><span class="builtintype" id="927832">uintptr</span><span class="op" id="927839">(</span><span class="num" id="927840">0</span><span class="op" id="927841">)</span><span class="op" id="927842">,</span>&nbsp;<span class="num" id="927844">0</span><span class="op" id="927845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="927848">if</span>&nbsp;<span class="ident" id="927851">errno</span>&nbsp;<span class="op" id="927857">!=</span>&nbsp;<span class="num" id="927860">0</span>&nbsp;<span class="op" id="927862">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="927866">t</span><span class="op" id="927867">.</span><span class="ident" id="927868">Skipf</span><span class="op" id="927873">(</span><span class="string" id="927874">&#34;could&nbsp;not&nbsp;create&nbsp;memory&nbsp;mapping:&nbsp;%s&#34;</span><span class="op" id="927911">,</span>&nbsp;<span class="ident" id="927913">errno</span><span class="op" id="927918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="927921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="927924">syscall</span><span class="op" id="927931">.</span><span class="ident" id="927932">Syscall</span><span class="op" id="927939">(</span><span class="ident" id="927940">syscall</span><span class="op" id="927947">.</span><span class="ident" id="927948">SYS_MUNMAP</span><span class="op" id="927958">,</span>&nbsp;<span class="ident" id="927960">base</span><span class="op" id="927964">,</span>&nbsp;<span class="num" id="927966">3</span><span class="op" id="927967">&lt;&lt;</span><span class="num" id="927969">30</span><span class="op" id="927971">,</span>&nbsp;<span class="num" id="927973">0</span><span class="op" id="927974">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="927978">for</span>&nbsp;<span class="ident" id="927982">off</span>&nbsp;<span class="op" id="927986">:=</span>&nbsp;<span class="builtintype" id="927989">uintptr</span><span class="op" id="927996">(</span><span class="num" id="927997">0</span><span class="op" id="927998">)</span><span class="op" id="927999">;</span>&nbsp;<span class="ident" id="928001">off</span>&nbsp;<span class="op" id="928005">&lt;</span>&nbsp;<span class="num" id="928007">3</span><span class="op" id="928008">&lt;&lt;</span><span class="num" id="928010">30</span><span class="op" id="928012">;</span>&nbsp;<span class="ident" id="928014">off</span>&nbsp;<span class="op" id="928018">+=</span>&nbsp;<span class="num" id="928021">65536</span>&nbsp;<span class="op" id="928027">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="928031">_</span><span class="op" id="928032">,</span>&nbsp;<span class="ident" id="928034">_</span><span class="op" id="928035">,</span>&nbsp;<span class="ident" id="928037">errno</span>&nbsp;<span class="op" id="928043">:=</span>&nbsp;<span class="ident" id="928046">syscall</span><span class="op" id="928053">.</span><span class="ident" id="928054">Syscall6</span><span class="op" id="928062">(</span><span class="ident" id="928063">syscall</span><span class="op" id="928070">.</span><span class="ident" id="928071">SYS_MMAP</span><span class="op" id="928079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="928084">base</span><span class="op" id="928088">+</span><span class="ident" id="928089">off</span><span class="op" id="928092">,</span>&nbsp;<span class="num" id="928094">65536</span><span class="op" id="928099">,</span>&nbsp;<span class="ident" id="928101">syscall</span><span class="op" id="928108">.</span><span class="ident" id="928109">PROT_READ</span><span class="op" id="928118">|</span><span class="ident" id="928119">syscall</span><span class="op" id="928126">.</span><span class="ident" id="928127">PROT_WRITE</span><span class="op" id="928137">,</span>&nbsp;<span class="ident" id="928139">syscall</span><span class="op" id="928146">.</span><span class="ident" id="928147">MAP_SHARED</span><span class="op" id="928157">|</span><span class="ident" id="928158">syscall</span><span class="op" id="928165">.</span><span class="ident" id="928166">MAP_FIXED</span><span class="op" id="928175">,</span>&nbsp;<span class="ident" id="928177">tmp</span><span class="op" id="928180">.</span><span class="ident" id="928181">Fd</span><span class="op" id="928183">(</span><span class="op" id="928184">)</span><span class="op" id="928185">,</span>&nbsp;<span class="num" id="928187">0</span><span class="op" id="928188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="928192">if</span>&nbsp;<span class="ident" id="928195">errno</span>&nbsp;<span class="op" id="928201">!=</span>&nbsp;<span class="num" id="928204">0</span>&nbsp;<span class="op" id="928206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="928211">t</span><span class="op" id="928212">.</span><span class="ident" id="928213">Fatalf</span><span class="op" id="928219">(</span><span class="string" id="928220">&#34;could&nbsp;not&nbsp;map&nbsp;a&nbsp;page&nbsp;at&nbsp;requested&nbsp;0x%x:&nbsp;%s&#34;</span><span class="op" id="928264">,</span>&nbsp;<span class="ident" id="928266">base</span><span class="op" id="928270">+</span><span class="ident" id="928271">off</span><span class="op" id="928274">,</span>&nbsp;<span class="ident" id="928276">errno</span><span class="op" id="928281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="928285">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="928289">defer</span>&nbsp;<span class="ident" id="928295">syscall</span><span class="op" id="928302">.</span><span class="ident" id="928303">Syscall</span><span class="op" id="928310">(</span><span class="ident" id="928311">syscall</span><span class="op" id="928318">.</span><span class="ident" id="928319">SYS_MUNMAP</span><span class="op" id="928329">,</span>&nbsp;<span class="ident" id="928331">base</span><span class="op" id="928335">+</span><span class="ident" id="928336">off</span><span class="op" id="928339">,</span>&nbsp;<span class="num" id="928341">65536</span><span class="op" id="928346">,</span>&nbsp;<span class="num" id="928348">0</span><span class="op" id="928349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="928352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="928356">var</span>&nbsp;<span class="ident" id="928360">s</span>&nbsp;<span class="op" id="928362">[</span><span class="op" id="928363">]</span><span class="builtintype" id="928364">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="928370">sp</span>&nbsp;<span class="op" id="928373">:=</span>&nbsp;<span class="op" id="928376">(</span><span class="op" id="928377">*</span><span class="ident" id="928378">reflect</span><span class="op" id="928385">.</span><span class="ident" id="928386">SliceHeader</span><span class="op" id="928397">)</span><span class="op" id="928398">(</span><span class="ident" id="928399">unsafe</span><span class="op" id="928405">.</span><span class="ident" id="928406">Pointer</span><span class="op" id="928413">(</span><span class="op" id="928414">&amp;</span><span class="ident" id="928415">s</span><span class="op" id="928416">)</span><span class="op" id="928417">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="928420">sp</span><span class="op" id="928422">.</span><span class="ident" id="928423">Data</span>&nbsp;<span class="op" id="928428">=</span>&nbsp;<span class="ident" id="928430">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="928436">sp</span><span class="op" id="928438">.</span><span class="ident" id="928439">Len</span><span class="op" id="928442">,</span>&nbsp;<span class="ident" id="928444">sp</span><span class="op" id="928446">.</span><span class="ident" id="928447">Cap</span>&nbsp;<span class="op" id="928451">=</span>&nbsp;<span class="num" id="928453">3</span><span class="op" id="928454">&lt;&lt;</span><span class="num" id="928456">30</span><span class="op" id="928458">,</span>&nbsp;<span class="num" id="928460">3</span><span class="op" id="928461">&lt;&lt;</span><span class="num" id="928463">30</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="928468">n</span>&nbsp;<span class="op" id="928470">:=</span>&nbsp;<span class="builtinfunc" id="928473">copy</span><span class="op" id="928477">(</span><span class="ident" id="928478">s</span><span class="op" id="928479">[</span><span class="num" id="928480">1</span><span class="op" id="928481">:</span><span class="op" id="928482">]</span><span class="op" id="928483">,</span>&nbsp;<span class="ident" id="928485">s</span><span class="op" id="928486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="928489">if</span>&nbsp;<span class="ident" id="928492">n</span>&nbsp;<span class="op" id="928494">!=</span>&nbsp;<span class="num" id="928497">3</span><span class="op" id="928498">&lt;&lt;</span><span class="num" id="928500">30</span><span class="op" id="928502">-</span><span class="num" id="928503">1</span>&nbsp;<span class="op" id="928505">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="928509">t</span><span class="op" id="928510">.</span><span class="ident" id="928511">Fatalf</span><span class="op" id="928517">(</span><span class="string" id="928518">&#34;copied&nbsp;%d&nbsp;bytes,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="928548">,</span>&nbsp;<span class="ident" id="928550">n</span><span class="op" id="928551">,</span>&nbsp;<span class="num" id="928553">3</span><span class="op" id="928554">&lt;&lt;</span><span class="num" id="928556">30</span><span class="op" id="928558">-</span><span class="num" id="928559">1</span><span class="op" id="928560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="928563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="928566">n</span>&nbsp;<span class="op" id="928568">=</span>&nbsp;<span class="builtinfunc" id="928570">copy</span><span class="op" id="928574">(</span><span class="ident" id="928575">s</span><span class="op" id="928576">,</span>&nbsp;<span class="ident" id="928578">s</span><span class="op" id="928579">[</span><span class="num" id="928580">1</span><span class="op" id="928581">:</span><span class="op" id="928582">]</span><span class="op" id="928583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="928586">if</span>&nbsp;<span class="ident" id="928589">n</span>&nbsp;<span class="op" id="928591">!=</span>&nbsp;<span class="num" id="928594">3</span><span class="op" id="928595">&lt;&lt;</span><span class="num" id="928597">30</span><span class="op" id="928599">-</span><span class="num" id="928600">1</span>&nbsp;<span class="op" id="928602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="928606">t</span><span class="op" id="928607">.</span><span class="ident" id="928608">Fatalf</span><span class="op" id="928614">(</span><span class="string" id="928615">&#34;copied&nbsp;%d&nbsp;bytes,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="928645">,</span>&nbsp;<span class="ident" id="928647">n</span><span class="op" id="928648">,</span>&nbsp;<span class="num" id="928650">3</span><span class="op" id="928651">&lt;&lt;</span><span class="num" id="928653">30</span><span class="op" id="928655">-</span><span class="num" id="928656">1</span><span class="op" id="928657">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="928660">}</span><br>
<span class="lineno"></span><span class="op" id="928662">}</span>
</div>
</body>
</html>
