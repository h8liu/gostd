<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7799699">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7799755">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7799809">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7799860">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7799917">package</span>&nbsp;<span class="ident" id="7799925">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7799930">import</span>&nbsp;<span class="op" id="7799937">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7799940">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7799946">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7799957">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7799968">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7799979">&#34;time&#34;</span><br>
<span class="lineno">15</span><span class="op" id="7799986">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7799989">type</span>&nbsp;<span class="ident" id="7799994">testInterface</span>&nbsp;<span class="keyword" id="7800008">struct</span>&nbsp;<span class="op" id="7800015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800018">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7800031">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800039">local</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7800052">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800060">remote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7800073">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800081">setupCmds</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800094">[</span><span class="op" id="7800095">]</span><span class="op" id="7800096">*</span><span class="ident" id="7800097">exec</span><span class="op" id="7800101">.</span><span class="ident" id="7800102">Cmd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800107">teardownCmds</span>&nbsp;<span class="op" id="7800120">[</span><span class="op" id="7800121">]</span><span class="op" id="7800122">*</span><span class="ident" id="7800123">exec</span><span class="op" id="7800127">.</span><span class="ident" id="7800128">Cmd</span><br>
<span class="lineno"></span><span class="op" id="7800132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7800135">func</span>&nbsp;<span class="op" id="7800140">(</span><span class="ident" id="7800141">ti</span>&nbsp;<span class="op" id="7800144">*</span><span class="ident" id="7800145">testInterface</span><span class="op" id="7800158">)</span>&nbsp;<span class="ident" id="7800160">setup</span><span class="op" id="7800165">(</span><span class="op" id="7800166">)</span>&nbsp;<span class="builtintype" id="7800168">error</span>&nbsp;<span class="op" id="7800174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800177">for</span>&nbsp;<span class="ident" id="7800181">_</span><span class="op" id="7800182">,</span>&nbsp;<span class="ident" id="7800184">cmd</span>&nbsp;<span class="op" id="7800188">:=</span>&nbsp;<span class="keyword" id="7800191">range</span>&nbsp;<span class="ident" id="7800197">ti</span><span class="op" id="7800199">.</span><span class="ident" id="7800200">setupCmds</span>&nbsp;<span class="op" id="7800210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800214">if</span>&nbsp;<span class="ident" id="7800217">err</span>&nbsp;<span class="op" id="7800221">:=</span>&nbsp;<span class="ident" id="7800224">cmd</span><span class="op" id="7800227">.</span><span class="ident" id="7800228">Run</span><span class="op" id="7800231">(</span><span class="op" id="7800232">)</span><span class="op" id="7800233">;</span>&nbsp;<span class="ident" id="7800235">err</span>&nbsp;<span class="op" id="7800239">!=</span>&nbsp;<span class="ident" id="7800242">nil</span>&nbsp;<span class="op" id="7800246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800251">return</span>&nbsp;<span class="ident" id="7800258">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800264">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800270">return</span>&nbsp;<span class="ident" id="7800277">nil</span><br>
<span class="lineno"></span><span class="op" id="7800281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7800284">func</span>&nbsp;<span class="op" id="7800289">(</span><span class="ident" id="7800290">ti</span>&nbsp;<span class="op" id="7800293">*</span><span class="ident" id="7800294">testInterface</span><span class="op" id="7800307">)</span>&nbsp;<span class="ident" id="7800309">teardown</span><span class="op" id="7800317">(</span><span class="op" id="7800318">)</span>&nbsp;<span class="builtintype" id="7800320">error</span>&nbsp;<span class="op" id="7800326">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800329">for</span>&nbsp;<span class="ident" id="7800333">_</span><span class="op" id="7800334">,</span>&nbsp;<span class="ident" id="7800336">cmd</span>&nbsp;<span class="op" id="7800340">:=</span>&nbsp;<span class="keyword" id="7800343">range</span>&nbsp;<span class="ident" id="7800349">ti</span><span class="op" id="7800351">.</span><span class="ident" id="7800352">teardownCmds</span>&nbsp;<span class="op" id="7800365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800369">if</span>&nbsp;<span class="ident" id="7800372">err</span>&nbsp;<span class="op" id="7800376">:=</span>&nbsp;<span class="ident" id="7800379">cmd</span><span class="op" id="7800382">.</span><span class="ident" id="7800383">Run</span><span class="op" id="7800386">(</span><span class="op" id="7800387">)</span><span class="op" id="7800388">;</span>&nbsp;<span class="ident" id="7800390">err</span>&nbsp;<span class="op" id="7800394">!=</span>&nbsp;<span class="ident" id="7800397">nil</span>&nbsp;<span class="op" id="7800401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800406">return</span>&nbsp;<span class="ident" id="7800413">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800422">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800425">return</span>&nbsp;<span class="ident" id="7800432">nil</span><br>
<span class="lineno"></span><span class="op" id="7800436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7800439">func</span>&nbsp;<span class="ident" id="7800444">TestPointToPointInterface</span><span class="op" id="7800469">(</span><span class="ident" id="7800470">t</span>&nbsp;<span class="op" id="7800472">*</span><span class="ident" id="7800473">testing</span><span class="op" id="7800480">.</span><span class="ident" id="7800481">T</span><span class="op" id="7800482">)</span>&nbsp;<span class="op" id="7800484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800487">if</span>&nbsp;<span class="ident" id="7800490">testing</span><span class="op" id="7800497">.</span><span class="ident" id="7800498">Short</span><span class="op" id="7800503">(</span><span class="op" id="7800504">)</span>&nbsp;<span class="op" id="7800506">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800510">t</span><span class="op" id="7800511">.</span><span class="ident" id="7800512">Skip</span><span class="op" id="7800516">(</span><span class="string" id="7800517">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7800546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800552">switch</span>&nbsp;<span class="op" id="7800559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800562">case</span>&nbsp;<span class="ident" id="7800567">runtime</span><span class="op" id="7800574">.</span><span class="ident" id="7800575">GOOS</span>&nbsp;<span class="op" id="7800580">==</span>&nbsp;<span class="string" id="7800583">&#34;darwin&#34;</span><span class="op" id="7800591">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800595">t</span><span class="op" id="7800596">.</span><span class="ident" id="7800597">Skipf</span><span class="op" id="7800602">(</span><span class="string" id="7800603">&#34;skipping&nbsp;read&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="7800629">,</span>&nbsp;<span class="ident" id="7800631">runtime</span><span class="op" id="7800638">.</span><span class="ident" id="7800639">GOOS</span><span class="op" id="7800643">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800649">if</span>&nbsp;<span class="ident" id="7800652">os</span><span class="op" id="7800654">.</span><span class="ident" id="7800655">Getuid</span><span class="op" id="7800661">(</span><span class="op" id="7800662">)</span>&nbsp;<span class="op" id="7800664">!=</span>&nbsp;<span class="num" id="7800667">0</span>&nbsp;<span class="op" id="7800669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800673">t</span><span class="op" id="7800674">.</span><span class="ident" id="7800675">Skip</span><span class="op" id="7800679">(</span><span class="string" id="7800680">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="7800709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800716">local</span><span class="op" id="7800721">,</span>&nbsp;<span class="ident" id="7800723">remote</span>&nbsp;<span class="op" id="7800730">:=</span>&nbsp;<span class="string" id="7800733">&#34;169.254.0.1&#34;</span><span class="op" id="7800746">,</span>&nbsp;<span class="string" id="7800748">&#34;169.254.0.254&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800765">ip</span>&nbsp;<span class="op" id="7800768">:=</span>&nbsp;<span class="ident" id="7800771">ParseIP</span><span class="op" id="7800778">(</span><span class="ident" id="7800779">remote</span><span class="op" id="7800785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800788">for</span>&nbsp;<span class="ident" id="7800792">i</span>&nbsp;<span class="op" id="7800794">:=</span>&nbsp;<span class="num" id="7800797">0</span><span class="op" id="7800798">;</span>&nbsp;<span class="ident" id="7800800">i</span>&nbsp;<span class="op" id="7800802">&lt;</span>&nbsp;<span class="num" id="7800804">3</span><span class="op" id="7800805">;</span>&nbsp;<span class="ident" id="7800807">i</span><span class="op" id="7800808">++</span>&nbsp;<span class="op" id="7800811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800815">ti</span>&nbsp;<span class="op" id="7800818">:=</span>&nbsp;<span class="op" id="7800821">&amp;</span><span class="ident" id="7800822">testInterface</span><span class="op" id="7800835">{</span><span class="op" id="7800836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800840">if</span>&nbsp;<span class="ident" id="7800843">err</span>&nbsp;<span class="op" id="7800847">:=</span>&nbsp;<span class="ident" id="7800850">ti</span><span class="op" id="7800852">.</span><span class="ident" id="7800853">setPointToPoint</span><span class="op" id="7800868">(</span><span class="num" id="7800869">5963</span><span class="op" id="7800873">+</span><span class="ident" id="7800874">i</span><span class="op" id="7800875">,</span>&nbsp;<span class="ident" id="7800877">local</span><span class="op" id="7800882">,</span>&nbsp;<span class="ident" id="7800884">remote</span><span class="op" id="7800890">)</span><span class="op" id="7800891">;</span>&nbsp;<span class="ident" id="7800893">err</span>&nbsp;<span class="op" id="7800897">!=</span>&nbsp;<span class="ident" id="7800900">nil</span>&nbsp;<span class="op" id="7800904">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800909">t</span><span class="op" id="7800910">.</span><span class="ident" id="7800911">Skipf</span><span class="op" id="7800916">(</span><span class="string" id="7800917">&#34;test&nbsp;requries&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="7800953">,</span>&nbsp;<span class="ident" id="7800955">err</span><span class="op" id="7800958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800966">if</span>&nbsp;<span class="ident" id="7800969">err</span>&nbsp;<span class="op" id="7800973">:=</span>&nbsp;<span class="ident" id="7800976">ti</span><span class="op" id="7800978">.</span><span class="ident" id="7800979">setup</span><span class="op" id="7800984">(</span><span class="op" id="7800985">)</span><span class="op" id="7800986">;</span>&nbsp;<span class="ident" id="7800988">err</span>&nbsp;<span class="op" id="7800992">!=</span>&nbsp;<span class="ident" id="7800995">nil</span>&nbsp;<span class="op" id="7800999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801004">t</span><span class="op" id="7801005">.</span><span class="ident" id="7801006">Fatalf</span><span class="op" id="7801012">(</span><span class="string" id="7801013">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7801045">,</span>&nbsp;<span class="ident" id="7801047">err</span><span class="op" id="7801050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801054">}</span>&nbsp;<span class="keyword" id="7801056">else</span>&nbsp;<span class="op" id="7801061">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801066">time</span><span class="op" id="7801070">.</span><span class="ident" id="7801071">Sleep</span><span class="op" id="7801076">(</span><span class="num" id="7801077">3</span>&nbsp;<span class="op" id="7801079">*</span>&nbsp;<span class="ident" id="7801081">time</span><span class="op" id="7801085">.</span><span class="ident" id="7801086">Millisecond</span><span class="op" id="7801097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801105">ift</span><span class="op" id="7801108">,</span>&nbsp;<span class="ident" id="7801110">err</span>&nbsp;<span class="op" id="7801114">:=</span>&nbsp;<span class="ident" id="7801117">Interfaces</span><span class="op" id="7801127">(</span><span class="op" id="7801128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801132">if</span>&nbsp;<span class="ident" id="7801135">err</span>&nbsp;<span class="op" id="7801139">!=</span>&nbsp;<span class="ident" id="7801142">nil</span>&nbsp;<span class="op" id="7801146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801151">ti</span><span class="op" id="7801153">.</span><span class="ident" id="7801154">teardown</span><span class="op" id="7801162">(</span><span class="op" id="7801163">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801168">t</span><span class="op" id="7801169">.</span><span class="ident" id="7801170">Fatalf</span><span class="op" id="7801176">(</span><span class="string" id="7801177">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7801200">,</span>&nbsp;<span class="ident" id="7801202">err</span><span class="op" id="7801205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801213">for</span>&nbsp;<span class="ident" id="7801217">_</span><span class="op" id="7801218">,</span>&nbsp;<span class="ident" id="7801220">ifi</span>&nbsp;<span class="op" id="7801224">:=</span>&nbsp;<span class="keyword" id="7801227">range</span>&nbsp;<span class="ident" id="7801233">ift</span>&nbsp;<span class="op" id="7801237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801242">if</span>&nbsp;<span class="ident" id="7801245">ti</span><span class="op" id="7801247">.</span><span class="ident" id="7801248">name</span>&nbsp;<span class="op" id="7801253">==</span>&nbsp;<span class="ident" id="7801256">ifi</span><span class="op" id="7801259">.</span><span class="ident" id="7801260">Name</span>&nbsp;<span class="op" id="7801265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801271">ifat</span><span class="op" id="7801275">,</span>&nbsp;<span class="ident" id="7801277">err</span>&nbsp;<span class="op" id="7801281">:=</span>&nbsp;<span class="ident" id="7801284">ifi</span><span class="op" id="7801287">.</span><span class="ident" id="7801288">Addrs</span><span class="op" id="7801293">(</span><span class="op" id="7801294">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801300">if</span>&nbsp;<span class="ident" id="7801303">err</span>&nbsp;<span class="op" id="7801307">!=</span>&nbsp;<span class="ident" id="7801310">nil</span>&nbsp;<span class="op" id="7801314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801321">ti</span><span class="op" id="7801323">.</span><span class="ident" id="7801324">teardown</span><span class="op" id="7801332">(</span><span class="op" id="7801333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801340">t</span><span class="op" id="7801341">.</span><span class="ident" id="7801342">Fatalf</span><span class="op" id="7801348">(</span><span class="string" id="7801349">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7801377">,</span>&nbsp;<span class="ident" id="7801379">err</span><span class="op" id="7801382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801394">for</span>&nbsp;<span class="ident" id="7801398">_</span><span class="op" id="7801399">,</span>&nbsp;<span class="ident" id="7801401">ifa</span>&nbsp;<span class="op" id="7801405">:=</span>&nbsp;<span class="keyword" id="7801408">range</span>&nbsp;<span class="ident" id="7801414">ifat</span>&nbsp;<span class="op" id="7801419">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801426">if</span>&nbsp;<span class="ident" id="7801429">ip</span><span class="op" id="7801431">.</span><span class="ident" id="7801432">Equal</span><span class="op" id="7801437">(</span><span class="ident" id="7801438">ifa</span><span class="op" id="7801441">.</span><span class="op" id="7801442">(</span><span class="op" id="7801443">*</span><span class="ident" id="7801444">IPNet</span><span class="op" id="7801449">)</span><span class="op" id="7801450">.</span><span class="ident" id="7801451">IP</span><span class="op" id="7801453">)</span>&nbsp;<span class="op" id="7801455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801463">ti</span><span class="op" id="7801465">.</span><span class="ident" id="7801466">teardown</span><span class="op" id="7801474">(</span><span class="op" id="7801475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801483">t</span><span class="op" id="7801484">.</span><span class="ident" id="7801485">Fatalf</span><span class="op" id="7801491">(</span><span class="string" id="7801492">&#34;got&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7801509">,</span>&nbsp;<span class="ident" id="7801511">ip</span><span class="op" id="7801513">,</span>&nbsp;<span class="ident" id="7801515">local</span><span class="op" id="7801520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801533">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801546">if</span>&nbsp;<span class="ident" id="7801549">err</span>&nbsp;<span class="op" id="7801553">:=</span>&nbsp;<span class="ident" id="7801556">ti</span><span class="op" id="7801558">.</span><span class="ident" id="7801559">teardown</span><span class="op" id="7801567">(</span><span class="op" id="7801568">)</span><span class="op" id="7801569">;</span>&nbsp;<span class="ident" id="7801571">err</span>&nbsp;<span class="op" id="7801575">!=</span>&nbsp;<span class="ident" id="7801578">nil</span>&nbsp;<span class="op" id="7801582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801587">t</span><span class="op" id="7801588">.</span><span class="ident" id="7801589">Fatalf</span><span class="op" id="7801595">(</span><span class="string" id="7801596">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7801631">,</span>&nbsp;<span class="ident" id="7801633">err</span><span class="op" id="7801636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801640">}</span>&nbsp;<span class="keyword" id="7801642">else</span>&nbsp;<span class="op" id="7801647">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801652">time</span><span class="op" id="7801656">.</span><span class="ident" id="7801657">Sleep</span><span class="op" id="7801662">(</span><span class="num" id="7801663">3</span>&nbsp;<span class="op" id="7801665">*</span>&nbsp;<span class="ident" id="7801667">time</span><span class="op" id="7801671">.</span><span class="ident" id="7801672">Millisecond</span><span class="op" id="7801683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801690">}</span><br>
<span class="lineno"></span><span class="op" id="7801692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7801695">func</span>&nbsp;<span class="ident" id="7801700">TestInterfaceArrivalAndDeparture</span><span class="op" id="7801732">(</span><span class="ident" id="7801733">t</span>&nbsp;<span class="op" id="7801735">*</span><span class="ident" id="7801736">testing</span><span class="op" id="7801743">.</span><span class="ident" id="7801744">T</span><span class="op" id="7801745">)</span>&nbsp;<span class="op" id="7801747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801750">if</span>&nbsp;<span class="ident" id="7801753">testing</span><span class="op" id="7801760">.</span><span class="ident" id="7801761">Short</span><span class="op" id="7801766">(</span><span class="op" id="7801767">)</span>&nbsp;<span class="op" id="7801769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801773">t</span><span class="op" id="7801774">.</span><span class="ident" id="7801775">Skip</span><span class="op" id="7801779">(</span><span class="string" id="7801780">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7801809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801815">if</span>&nbsp;<span class="ident" id="7801818">os</span><span class="op" id="7801820">.</span><span class="ident" id="7801821">Getuid</span><span class="op" id="7801827">(</span><span class="op" id="7801828">)</span>&nbsp;<span class="op" id="7801830">!=</span>&nbsp;<span class="num" id="7801833">0</span>&nbsp;<span class="op" id="7801835">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801839">t</span><span class="op" id="7801840">.</span><span class="ident" id="7801841">Skip</span><span class="op" id="7801845">(</span><span class="string" id="7801846">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="7801875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801882">for</span>&nbsp;<span class="ident" id="7801886">i</span>&nbsp;<span class="op" id="7801888">:=</span>&nbsp;<span class="num" id="7801891">0</span><span class="op" id="7801892">;</span>&nbsp;<span class="ident" id="7801894">i</span>&nbsp;<span class="op" id="7801896">&lt;</span>&nbsp;<span class="num" id="7801898">3</span><span class="op" id="7801899">;</span>&nbsp;<span class="ident" id="7801901">i</span><span class="op" id="7801902">++</span>&nbsp;<span class="op" id="7801905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801909">ift1</span><span class="op" id="7801913">,</span>&nbsp;<span class="ident" id="7801915">err</span>&nbsp;<span class="op" id="7801919">:=</span>&nbsp;<span class="ident" id="7801922">Interfaces</span><span class="op" id="7801932">(</span><span class="op" id="7801933">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7801937">if</span>&nbsp;<span class="ident" id="7801940">err</span>&nbsp;<span class="op" id="7801944">!=</span>&nbsp;<span class="ident" id="7801947">nil</span>&nbsp;<span class="op" id="7801951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7801956">t</span><span class="op" id="7801957">.</span><span class="ident" id="7801958">Fatalf</span><span class="op" id="7801964">(</span><span class="string" id="7801965">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7801988">,</span>&nbsp;<span class="ident" id="7801990">err</span><span class="op" id="7801993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7801997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802001">ti</span>&nbsp;<span class="op" id="7802004">:=</span>&nbsp;<span class="op" id="7802007">&amp;</span><span class="ident" id="7802008">testInterface</span><span class="op" id="7802021">{</span><span class="op" id="7802022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802026">if</span>&nbsp;<span class="ident" id="7802029">err</span>&nbsp;<span class="op" id="7802033">:=</span>&nbsp;<span class="ident" id="7802036">ti</span><span class="op" id="7802038">.</span><span class="ident" id="7802039">setBroadcast</span><span class="op" id="7802051">(</span><span class="num" id="7802052">5682</span>&nbsp;<span class="op" id="7802057">+</span>&nbsp;<span class="ident" id="7802059">i</span><span class="op" id="7802060">)</span><span class="op" id="7802061">;</span>&nbsp;<span class="ident" id="7802063">err</span>&nbsp;<span class="op" id="7802067">!=</span>&nbsp;<span class="ident" id="7802070">nil</span>&nbsp;<span class="op" id="7802074">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802079">t</span><span class="op" id="7802080">.</span><span class="ident" id="7802081">Skipf</span><span class="op" id="7802086">(</span><span class="string" id="7802087">&#34;test&nbsp;requires&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="7802123">,</span>&nbsp;<span class="ident" id="7802125">err</span><span class="op" id="7802128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802136">if</span>&nbsp;<span class="ident" id="7802139">err</span>&nbsp;<span class="op" id="7802143">:=</span>&nbsp;<span class="ident" id="7802146">ti</span><span class="op" id="7802148">.</span><span class="ident" id="7802149">setup</span><span class="op" id="7802154">(</span><span class="op" id="7802155">)</span><span class="op" id="7802156">;</span>&nbsp;<span class="ident" id="7802158">err</span>&nbsp;<span class="op" id="7802162">!=</span>&nbsp;<span class="ident" id="7802165">nil</span>&nbsp;<span class="op" id="7802169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802174">t</span><span class="op" id="7802175">.</span><span class="ident" id="7802176">Fatalf</span><span class="op" id="7802182">(</span><span class="string" id="7802183">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7802215">,</span>&nbsp;<span class="ident" id="7802217">err</span><span class="op" id="7802220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802224">}</span>&nbsp;<span class="keyword" id="7802226">else</span>&nbsp;<span class="op" id="7802231">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802236">time</span><span class="op" id="7802240">.</span><span class="ident" id="7802241">Sleep</span><span class="op" id="7802246">(</span><span class="num" id="7802247">3</span>&nbsp;<span class="op" id="7802249">*</span>&nbsp;<span class="ident" id="7802251">time</span><span class="op" id="7802255">.</span><span class="ident" id="7802256">Millisecond</span><span class="op" id="7802267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802275">ift2</span><span class="op" id="7802279">,</span>&nbsp;<span class="ident" id="7802281">err</span>&nbsp;<span class="op" id="7802285">:=</span>&nbsp;<span class="ident" id="7802288">Interfaces</span><span class="op" id="7802298">(</span><span class="op" id="7802299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802303">if</span>&nbsp;<span class="ident" id="7802306">err</span>&nbsp;<span class="op" id="7802310">!=</span>&nbsp;<span class="ident" id="7802313">nil</span>&nbsp;<span class="op" id="7802317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802322">ti</span><span class="op" id="7802324">.</span><span class="ident" id="7802325">teardown</span><span class="op" id="7802333">(</span><span class="op" id="7802334">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802339">t</span><span class="op" id="7802340">.</span><span class="ident" id="7802341">Fatalf</span><span class="op" id="7802347">(</span><span class="string" id="7802348">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7802371">,</span>&nbsp;<span class="ident" id="7802373">err</span><span class="op" id="7802376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802384">if</span>&nbsp;<span class="builtinfunc" id="7802387">len</span><span class="op" id="7802390">(</span><span class="ident" id="7802391">ift2</span><span class="op" id="7802395">)</span>&nbsp;<span class="op" id="7802397">&lt;=</span>&nbsp;<span class="builtinfunc" id="7802400">len</span><span class="op" id="7802403">(</span><span class="ident" id="7802404">ift1</span><span class="op" id="7802408">)</span>&nbsp;<span class="op" id="7802410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802415">for</span>&nbsp;<span class="ident" id="7802419">_</span><span class="op" id="7802420">,</span>&nbsp;<span class="ident" id="7802422">ifi</span>&nbsp;<span class="op" id="7802426">:=</span>&nbsp;<span class="keyword" id="7802429">range</span>&nbsp;<span class="ident" id="7802435">ift1</span>&nbsp;<span class="op" id="7802440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802446">t</span><span class="op" id="7802447">.</span><span class="ident" id="7802448">Logf</span><span class="op" id="7802452">(</span><span class="string" id="7802453">&#34;before:&nbsp;%v&#34;</span><span class="op" id="7802465">,</span>&nbsp;<span class="ident" id="7802467">ifi</span><span class="op" id="7802470">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802480">for</span>&nbsp;<span class="ident" id="7802484">_</span><span class="op" id="7802485">,</span>&nbsp;<span class="ident" id="7802487">ifi</span>&nbsp;<span class="op" id="7802491">:=</span>&nbsp;<span class="keyword" id="7802494">range</span>&nbsp;<span class="ident" id="7802500">ift2</span>&nbsp;<span class="op" id="7802505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802511">t</span><span class="op" id="7802512">.</span><span class="ident" id="7802513">Logf</span><span class="op" id="7802517">(</span><span class="string" id="7802518">&#34;after:&nbsp;%v&#34;</span><span class="op" id="7802529">,</span>&nbsp;<span class="ident" id="7802531">ifi</span><span class="op" id="7802534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802544">ti</span><span class="op" id="7802546">.</span><span class="ident" id="7802547">teardown</span><span class="op" id="7802555">(</span><span class="op" id="7802556">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802561">t</span><span class="op" id="7802562">.</span><span class="ident" id="7802563">Fatalf</span><span class="op" id="7802569">(</span><span class="string" id="7802570">&#34;got&nbsp;%v;&nbsp;want&nbsp;gt&nbsp;%v&#34;</span><span class="op" id="7802590">,</span>&nbsp;<span class="builtinfunc" id="7802592">len</span><span class="op" id="7802595">(</span><span class="ident" id="7802596">ift2</span><span class="op" id="7802600">)</span><span class="op" id="7802601">,</span>&nbsp;<span class="builtinfunc" id="7802603">len</span><span class="op" id="7802606">(</span><span class="ident" id="7802607">ift1</span><span class="op" id="7802611">)</span><span class="op" id="7802612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802620">if</span>&nbsp;<span class="ident" id="7802623">err</span>&nbsp;<span class="op" id="7802627">:=</span>&nbsp;<span class="ident" id="7802630">ti</span><span class="op" id="7802632">.</span><span class="ident" id="7802633">teardown</span><span class="op" id="7802641">(</span><span class="op" id="7802642">)</span><span class="op" id="7802643">;</span>&nbsp;<span class="ident" id="7802645">err</span>&nbsp;<span class="op" id="7802649">!=</span>&nbsp;<span class="ident" id="7802652">nil</span>&nbsp;<span class="op" id="7802656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802661">t</span><span class="op" id="7802662">.</span><span class="ident" id="7802663">Fatalf</span><span class="op" id="7802669">(</span><span class="string" id="7802670">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7802705">,</span>&nbsp;<span class="ident" id="7802707">err</span><span class="op" id="7802710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802714">}</span>&nbsp;<span class="keyword" id="7802716">else</span>&nbsp;<span class="op" id="7802721">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802726">time</span><span class="op" id="7802730">.</span><span class="ident" id="7802731">Sleep</span><span class="op" id="7802736">(</span><span class="num" id="7802737">3</span>&nbsp;<span class="op" id="7802739">*</span>&nbsp;<span class="ident" id="7802741">time</span><span class="op" id="7802745">.</span><span class="ident" id="7802746">Millisecond</span><span class="op" id="7802757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802765">ift3</span><span class="op" id="7802769">,</span>&nbsp;<span class="ident" id="7802771">err</span>&nbsp;<span class="op" id="7802775">:=</span>&nbsp;<span class="ident" id="7802778">Interfaces</span><span class="op" id="7802788">(</span><span class="op" id="7802789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802793">if</span>&nbsp;<span class="ident" id="7802796">err</span>&nbsp;<span class="op" id="7802800">!=</span>&nbsp;<span class="ident" id="7802803">nil</span>&nbsp;<span class="op" id="7802807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802812">t</span><span class="op" id="7802813">.</span><span class="ident" id="7802814">Fatalf</span><span class="op" id="7802820">(</span><span class="string" id="7802821">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7802844">,</span>&nbsp;<span class="ident" id="7802846">err</span><span class="op" id="7802849">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802857">if</span>&nbsp;<span class="builtinfunc" id="7802860">len</span><span class="op" id="7802863">(</span><span class="ident" id="7802864">ift3</span><span class="op" id="7802868">)</span>&nbsp;<span class="op" id="7802870">&gt;=</span>&nbsp;<span class="builtinfunc" id="7802873">len</span><span class="op" id="7802876">(</span><span class="ident" id="7802877">ift2</span><span class="op" id="7802881">)</span>&nbsp;<span class="op" id="7802883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802888">for</span>&nbsp;<span class="ident" id="7802892">_</span><span class="op" id="7802893">,</span>&nbsp;<span class="ident" id="7802895">ifi</span>&nbsp;<span class="op" id="7802899">:=</span>&nbsp;<span class="keyword" id="7802902">range</span>&nbsp;<span class="ident" id="7802908">ift2</span>&nbsp;<span class="op" id="7802913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802919">t</span><span class="op" id="7802920">.</span><span class="ident" id="7802921">Logf</span><span class="op" id="7802925">(</span><span class="string" id="7802926">&#34;before:&nbsp;%v&#34;</span><span class="op" id="7802938">,</span>&nbsp;<span class="ident" id="7802940">ifi</span><span class="op" id="7802943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7802948">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7802953">for</span>&nbsp;<span class="ident" id="7802957">_</span><span class="op" id="7802958">,</span>&nbsp;<span class="ident" id="7802960">ifi</span>&nbsp;<span class="op" id="7802964">:=</span>&nbsp;<span class="keyword" id="7802967">range</span>&nbsp;<span class="ident" id="7802973">ift3</span>&nbsp;<span class="op" id="7802978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7802984">t</span><span class="op" id="7802985">.</span><span class="ident" id="7802986">Logf</span><span class="op" id="7802990">(</span><span class="string" id="7802991">&#34;after:&nbsp;%v&#34;</span><span class="op" id="7803002">,</span>&nbsp;<span class="ident" id="7803004">ifi</span><span class="op" id="7803007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7803017">t</span><span class="op" id="7803018">.</span><span class="ident" id="7803019">Fatalf</span><span class="op" id="7803025">(</span><span class="string" id="7803026">&#34;got&nbsp;%v;&nbsp;want&nbsp;lt&nbsp;%v&#34;</span><span class="op" id="7803046">,</span>&nbsp;<span class="builtinfunc" id="7803048">len</span><span class="op" id="7803051">(</span><span class="ident" id="7803052">ift3</span><span class="op" id="7803056">)</span><span class="op" id="7803057">,</span>&nbsp;<span class="builtinfunc" id="7803059">len</span><span class="op" id="7803062">(</span><span class="ident" id="7803063">ift2</span><span class="op" id="7803067">)</span><span class="op" id="7803068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803072">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803075">}</span><br>
<span class="lineno"></span><span class="op" id="7803077">}</span>
</div>
</body>
</html>
