<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/fnv</h2>
<ul>
<li><a href="/gostd/hash/fnv/fnv.go.html">fnv.go</a></li>
<li><a href="/gostd/hash/fnv/fnv_test.go.html">fnv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7738565">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7738620">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7738674">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7738725">package</span>&nbsp;<span class="ident" id="7738733">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7738738">import</span>&nbsp;<span class="op" id="7738745">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7738748">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7738757">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7738776">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7738784">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7738794">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7738797">type</span>&nbsp;<span class="ident" id="7738802">golden</span>&nbsp;<span class="keyword" id="7738809">struct</span>&nbsp;<span class="op" id="7738816">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738819">sum</span>&nbsp;&nbsp;<span class="op" id="7738824">[</span><span class="op" id="7738825">]</span><span class="builtintype" id="7738826">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738832">text</span>&nbsp;<span class="builtintype" id="7738837">string</span><br>
<span class="lineno"></span><span class="op" id="7738844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7738847">var</span>&nbsp;<span class="ident" id="7738851">golden32</span>&nbsp;<span class="op" id="7738860">=</span>&nbsp;<span class="op" id="7738862">[</span><span class="op" id="7738863">]</span><span class="ident" id="7738864">golden</span><span class="op" id="7738870">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7738873">{</span><span class="op" id="7738874">[</span><span class="op" id="7738875">]</span><span class="builtintype" id="7738876">byte</span><span class="op" id="7738880">{</span><span class="num" id="7738881">0x81</span><span class="op" id="7738885">,</span>&nbsp;<span class="num" id="7738887">0x1c</span><span class="op" id="7738891">,</span>&nbsp;<span class="num" id="7738893">0x9d</span><span class="op" id="7738897">,</span>&nbsp;<span class="num" id="7738899">0xc5</span><span class="op" id="7738903">}</span><span class="op" id="7738904">,</span>&nbsp;<span class="string" id="7738906">&#34;&#34;</span><span class="op" id="7738908">}</span><span class="op" id="7738909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7738912">{</span><span class="op" id="7738913">[</span><span class="op" id="7738914">]</span><span class="builtintype" id="7738915">byte</span><span class="op" id="7738919">{</span><span class="num" id="7738920">0x05</span><span class="op" id="7738924">,</span>&nbsp;<span class="num" id="7738926">0x0c</span><span class="op" id="7738930">,</span>&nbsp;<span class="num" id="7738932">0x5d</span><span class="op" id="7738936">,</span>&nbsp;<span class="num" id="7738938">0x7e</span><span class="op" id="7738942">}</span><span class="op" id="7738943">,</span>&nbsp;<span class="string" id="7738945">&#34;a&#34;</span><span class="op" id="7738948">}</span><span class="op" id="7738949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7738952">{</span><span class="op" id="7738953">[</span><span class="op" id="7738954">]</span><span class="builtintype" id="7738955">byte</span><span class="op" id="7738959">{</span><span class="num" id="7738960">0x70</span><span class="op" id="7738964">,</span>&nbsp;<span class="num" id="7738966">0x77</span><span class="op" id="7738970">,</span>&nbsp;<span class="num" id="7738972">0x2d</span><span class="op" id="7738976">,</span>&nbsp;<span class="num" id="7738978">0x38</span><span class="op" id="7738982">}</span><span class="op" id="7738983">,</span>&nbsp;<span class="string" id="7738985">&#34;ab&#34;</span><span class="op" id="7738989">}</span><span class="op" id="7738990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7738993">{</span><span class="op" id="7738994">[</span><span class="op" id="7738995">]</span><span class="builtintype" id="7738996">byte</span><span class="op" id="7739000">{</span><span class="num" id="7739001">0x43</span><span class="op" id="7739005">,</span>&nbsp;<span class="num" id="7739007">0x9c</span><span class="op" id="7739011">,</span>&nbsp;<span class="num" id="7739013">0x2f</span><span class="op" id="7739017">,</span>&nbsp;<span class="num" id="7739019">0x4b</span><span class="op" id="7739023">}</span><span class="op" id="7739024">,</span>&nbsp;<span class="string" id="7739026">&#34;abc&#34;</span><span class="op" id="7739031">}</span><span class="op" id="7739032">,</span><br>
<span class="lineno"></span><span class="op" id="7739034">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7739037">var</span>&nbsp;<span class="ident" id="7739041">golden32a</span>&nbsp;<span class="op" id="7739051">=</span>&nbsp;<span class="op" id="7739053">[</span><span class="op" id="7739054">]</span><span class="ident" id="7739055">golden</span><span class="op" id="7739061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739064">{</span><span class="op" id="7739065">[</span><span class="op" id="7739066">]</span><span class="builtintype" id="7739067">byte</span><span class="op" id="7739071">{</span><span class="num" id="7739072">0x81</span><span class="op" id="7739076">,</span>&nbsp;<span class="num" id="7739078">0x1c</span><span class="op" id="7739082">,</span>&nbsp;<span class="num" id="7739084">0x9d</span><span class="op" id="7739088">,</span>&nbsp;<span class="num" id="7739090">0xc5</span><span class="op" id="7739094">}</span><span class="op" id="7739095">,</span>&nbsp;<span class="string" id="7739097">&#34;&#34;</span><span class="op" id="7739099">}</span><span class="op" id="7739100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739103">{</span><span class="op" id="7739104">[</span><span class="op" id="7739105">]</span><span class="builtintype" id="7739106">byte</span><span class="op" id="7739110">{</span><span class="num" id="7739111">0xe4</span><span class="op" id="7739115">,</span>&nbsp;<span class="num" id="7739117">0x0c</span><span class="op" id="7739121">,</span>&nbsp;<span class="num" id="7739123">0x29</span><span class="op" id="7739127">,</span>&nbsp;<span class="num" id="7739129">0x2c</span><span class="op" id="7739133">}</span><span class="op" id="7739134">,</span>&nbsp;<span class="string" id="7739136">&#34;a&#34;</span><span class="op" id="7739139">}</span><span class="op" id="7739140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739143">{</span><span class="op" id="7739144">[</span><span class="op" id="7739145">]</span><span class="builtintype" id="7739146">byte</span><span class="op" id="7739150">{</span><span class="num" id="7739151">0x4d</span><span class="op" id="7739155">,</span>&nbsp;<span class="num" id="7739157">0x25</span><span class="op" id="7739161">,</span>&nbsp;<span class="num" id="7739163">0x05</span><span class="op" id="7739167">,</span>&nbsp;<span class="num" id="7739169">0xca</span><span class="op" id="7739173">}</span><span class="op" id="7739174">,</span>&nbsp;<span class="string" id="7739176">&#34;ab&#34;</span><span class="op" id="7739180">}</span><span class="op" id="7739181">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739184">{</span><span class="op" id="7739185">[</span><span class="op" id="7739186">]</span><span class="builtintype" id="7739187">byte</span><span class="op" id="7739191">{</span><span class="num" id="7739192">0x1a</span><span class="op" id="7739196">,</span>&nbsp;<span class="num" id="7739198">0x47</span><span class="op" id="7739202">,</span>&nbsp;<span class="num" id="7739204">0xe9</span><span class="op" id="7739208">,</span>&nbsp;<span class="num" id="7739210">0x0b</span><span class="op" id="7739214">}</span><span class="op" id="7739215">,</span>&nbsp;<span class="string" id="7739217">&#34;abc&#34;</span><span class="op" id="7739222">}</span><span class="op" id="7739223">,</span><br>
<span class="lineno"></span><span class="op" id="7739225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7739228">var</span>&nbsp;<span class="ident" id="7739232">golden64</span>&nbsp;<span class="op" id="7739241">=</span>&nbsp;<span class="op" id="7739243">[</span><span class="op" id="7739244">]</span><span class="ident" id="7739245">golden</span><span class="op" id="7739251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739254">{</span><span class="op" id="7739255">[</span><span class="op" id="7739256">]</span><span class="builtintype" id="7739257">byte</span><span class="op" id="7739261">{</span><span class="num" id="7739262">0xcb</span><span class="op" id="7739266">,</span>&nbsp;<span class="num" id="7739268">0xf2</span><span class="op" id="7739272">,</span>&nbsp;<span class="num" id="7739274">0x9c</span><span class="op" id="7739278">,</span>&nbsp;<span class="num" id="7739280">0xe4</span><span class="op" id="7739284">,</span>&nbsp;<span class="num" id="7739286">0x84</span><span class="op" id="7739290">,</span>&nbsp;<span class="num" id="7739292">0x22</span><span class="op" id="7739296">,</span>&nbsp;<span class="num" id="7739298">0x23</span><span class="op" id="7739302">,</span>&nbsp;<span class="num" id="7739304">0x25</span><span class="op" id="7739308">}</span><span class="op" id="7739309">,</span>&nbsp;<span class="string" id="7739311">&#34;&#34;</span><span class="op" id="7739313">}</span><span class="op" id="7739314">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739317">{</span><span class="op" id="7739318">[</span><span class="op" id="7739319">]</span><span class="builtintype" id="7739320">byte</span><span class="op" id="7739324">{</span><span class="num" id="7739325">0xaf</span><span class="op" id="7739329">,</span>&nbsp;<span class="num" id="7739331">0x63</span><span class="op" id="7739335">,</span>&nbsp;<span class="num" id="7739337">0xbd</span><span class="op" id="7739341">,</span>&nbsp;<span class="num" id="7739343">0x4c</span><span class="op" id="7739347">,</span>&nbsp;<span class="num" id="7739349">0x86</span><span class="op" id="7739353">,</span>&nbsp;<span class="num" id="7739355">0x01</span><span class="op" id="7739359">,</span>&nbsp;<span class="num" id="7739361">0xb7</span><span class="op" id="7739365">,</span>&nbsp;<span class="num" id="7739367">0xbe</span><span class="op" id="7739371">}</span><span class="op" id="7739372">,</span>&nbsp;<span class="string" id="7739374">&#34;a&#34;</span><span class="op" id="7739377">}</span><span class="op" id="7739378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739381">{</span><span class="op" id="7739382">[</span><span class="op" id="7739383">]</span><span class="builtintype" id="7739384">byte</span><span class="op" id="7739388">{</span><span class="num" id="7739389">0x08</span><span class="op" id="7739393">,</span>&nbsp;<span class="num" id="7739395">0x32</span><span class="op" id="7739399">,</span>&nbsp;<span class="num" id="7739401">0x67</span><span class="op" id="7739405">,</span>&nbsp;<span class="num" id="7739407">0x07</span><span class="op" id="7739411">,</span>&nbsp;<span class="num" id="7739413">0xb4</span><span class="op" id="7739417">,</span>&nbsp;<span class="num" id="7739419">0xeb</span><span class="op" id="7739423">,</span>&nbsp;<span class="num" id="7739425">0x37</span><span class="op" id="7739429">,</span>&nbsp;<span class="num" id="7739431">0xb8</span><span class="op" id="7739435">}</span><span class="op" id="7739436">,</span>&nbsp;<span class="string" id="7739438">&#34;ab&#34;</span><span class="op" id="7739442">}</span><span class="op" id="7739443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739446">{</span><span class="op" id="7739447">[</span><span class="op" id="7739448">]</span><span class="builtintype" id="7739449">byte</span><span class="op" id="7739453">{</span><span class="num" id="7739454">0xd8</span><span class="op" id="7739458">,</span>&nbsp;<span class="num" id="7739460">0xdc</span><span class="op" id="7739464">,</span>&nbsp;<span class="num" id="7739466">0xca</span><span class="op" id="7739470">,</span>&nbsp;<span class="num" id="7739472">0x18</span><span class="op" id="7739476">,</span>&nbsp;<span class="num" id="7739478">0x6b</span><span class="op" id="7739482">,</span>&nbsp;<span class="num" id="7739484">0xaf</span><span class="op" id="7739488">,</span>&nbsp;<span class="num" id="7739490">0xad</span><span class="op" id="7739494">,</span>&nbsp;<span class="num" id="7739496">0xcb</span><span class="op" id="7739500">}</span><span class="op" id="7739501">,</span>&nbsp;<span class="string" id="7739503">&#34;abc&#34;</span><span class="op" id="7739508">}</span><span class="op" id="7739509">,</span><br>
<span class="lineno"></span><span class="op" id="7739511">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7739514">var</span>&nbsp;<span class="ident" id="7739518">golden64a</span>&nbsp;<span class="op" id="7739528">=</span>&nbsp;<span class="op" id="7739530">[</span><span class="op" id="7739531">]</span><span class="ident" id="7739532">golden</span><span class="op" id="7739538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739541">{</span><span class="op" id="7739542">[</span><span class="op" id="7739543">]</span><span class="builtintype" id="7739544">byte</span><span class="op" id="7739548">{</span><span class="num" id="7739549">0xcb</span><span class="op" id="7739553">,</span>&nbsp;<span class="num" id="7739555">0xf2</span><span class="op" id="7739559">,</span>&nbsp;<span class="num" id="7739561">0x9c</span><span class="op" id="7739565">,</span>&nbsp;<span class="num" id="7739567">0xe4</span><span class="op" id="7739571">,</span>&nbsp;<span class="num" id="7739573">0x84</span><span class="op" id="7739577">,</span>&nbsp;<span class="num" id="7739579">0x22</span><span class="op" id="7739583">,</span>&nbsp;<span class="num" id="7739585">0x23</span><span class="op" id="7739589">,</span>&nbsp;<span class="num" id="7739591">0x25</span><span class="op" id="7739595">}</span><span class="op" id="7739596">,</span>&nbsp;<span class="string" id="7739598">&#34;&#34;</span><span class="op" id="7739600">}</span><span class="op" id="7739601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739604">{</span><span class="op" id="7739605">[</span><span class="op" id="7739606">]</span><span class="builtintype" id="7739607">byte</span><span class="op" id="7739611">{</span><span class="num" id="7739612">0xaf</span><span class="op" id="7739616">,</span>&nbsp;<span class="num" id="7739618">0x63</span><span class="op" id="7739622">,</span>&nbsp;<span class="num" id="7739624">0xdc</span><span class="op" id="7739628">,</span>&nbsp;<span class="num" id="7739630">0x4c</span><span class="op" id="7739634">,</span>&nbsp;<span class="num" id="7739636">0x86</span><span class="op" id="7739640">,</span>&nbsp;<span class="num" id="7739642">0x01</span><span class="op" id="7739646">,</span>&nbsp;<span class="num" id="7739648">0xec</span><span class="op" id="7739652">,</span>&nbsp;<span class="num" id="7739654">0x8c</span><span class="op" id="7739658">}</span><span class="op" id="7739659">,</span>&nbsp;<span class="string" id="7739661">&#34;a&#34;</span><span class="op" id="7739664">}</span><span class="op" id="7739665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739668">{</span><span class="op" id="7739669">[</span><span class="op" id="7739670">]</span><span class="builtintype" id="7739671">byte</span><span class="op" id="7739675">{</span><span class="num" id="7739676">0x08</span><span class="op" id="7739680">,</span>&nbsp;<span class="num" id="7739682">0x9c</span><span class="op" id="7739686">,</span>&nbsp;<span class="num" id="7739688">0x44</span><span class="op" id="7739692">,</span>&nbsp;<span class="num" id="7739694">0x07</span><span class="op" id="7739698">,</span>&nbsp;<span class="num" id="7739700">0xb5</span><span class="op" id="7739704">,</span>&nbsp;<span class="num" id="7739706">0x45</span><span class="op" id="7739710">,</span>&nbsp;<span class="num" id="7739712">0x98</span><span class="op" id="7739716">,</span>&nbsp;<span class="num" id="7739718">0x6a</span><span class="op" id="7739722">}</span><span class="op" id="7739723">,</span>&nbsp;<span class="string" id="7739725">&#34;ab&#34;</span><span class="op" id="7739729">}</span><span class="op" id="7739730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739733">{</span><span class="op" id="7739734">[</span><span class="op" id="7739735">]</span><span class="builtintype" id="7739736">byte</span><span class="op" id="7739740">{</span><span class="num" id="7739741">0xe7</span><span class="op" id="7739745">,</span>&nbsp;<span class="num" id="7739747">0x1f</span><span class="op" id="7739751">,</span>&nbsp;<span class="num" id="7739753">0xa2</span><span class="op" id="7739757">,</span>&nbsp;<span class="num" id="7739759">0x19</span><span class="op" id="7739763">,</span>&nbsp;<span class="num" id="7739765">0x05</span><span class="op" id="7739769">,</span>&nbsp;<span class="num" id="7739771">0x41</span><span class="op" id="7739775">,</span>&nbsp;<span class="num" id="7739777">0x57</span><span class="op" id="7739781">,</span>&nbsp;<span class="num" id="7739783">0x4b</span><span class="op" id="7739787">}</span><span class="op" id="7739788">,</span>&nbsp;<span class="string" id="7739790">&#34;abc&#34;</span><span class="op" id="7739795">}</span><span class="op" id="7739796">,</span><br>
<span class="lineno">45</span><span class="op" id="7739798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7739801">func</span>&nbsp;<span class="ident" id="7739806">TestGolden32</span><span class="op" id="7739818">(</span><span class="ident" id="7739819">t</span>&nbsp;<span class="op" id="7739821">*</span><span class="ident" id="7739822">testing</span><span class="op" id="7739829">.</span><span class="ident" id="7739830">T</span><span class="op" id="7739831">)</span>&nbsp;<span class="op" id="7739833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7739836">testGolden</span><span class="op" id="7739846">(</span><span class="ident" id="7739847">t</span><span class="op" id="7739848">,</span>&nbsp;<span class="ident" id="7739850">New32</span><span class="op" id="7739855">(</span><span class="op" id="7739856">)</span><span class="op" id="7739857">,</span>&nbsp;<span class="ident" id="7739859">golden32</span><span class="op" id="7739867">)</span><br>
<span class="lineno"></span><span class="op" id="7739869">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7739872">func</span>&nbsp;<span class="ident" id="7739877">TestGolden32a</span><span class="op" id="7739890">(</span><span class="ident" id="7739891">t</span>&nbsp;<span class="op" id="7739893">*</span><span class="ident" id="7739894">testing</span><span class="op" id="7739901">.</span><span class="ident" id="7739902">T</span><span class="op" id="7739903">)</span>&nbsp;<span class="op" id="7739905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7739908">testGolden</span><span class="op" id="7739918">(</span><span class="ident" id="7739919">t</span><span class="op" id="7739920">,</span>&nbsp;<span class="ident" id="7739922">New32a</span><span class="op" id="7739928">(</span><span class="op" id="7739929">)</span><span class="op" id="7739930">,</span>&nbsp;<span class="ident" id="7739932">golden32a</span><span class="op" id="7739941">)</span><br>
<span class="lineno"></span><span class="op" id="7739943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7739946">func</span>&nbsp;<span class="ident" id="7739951">TestGolden64</span><span class="op" id="7739963">(</span><span class="ident" id="7739964">t</span>&nbsp;<span class="op" id="7739966">*</span><span class="ident" id="7739967">testing</span><span class="op" id="7739974">.</span><span class="ident" id="7739975">T</span><span class="op" id="7739976">)</span>&nbsp;<span class="op" id="7739978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7739981">testGolden</span><span class="op" id="7739991">(</span><span class="ident" id="7739992">t</span><span class="op" id="7739993">,</span>&nbsp;<span class="ident" id="7739995">New64</span><span class="op" id="7740000">(</span><span class="op" id="7740001">)</span><span class="op" id="7740002">,</span>&nbsp;<span class="ident" id="7740004">golden64</span><span class="op" id="7740012">)</span><br>
<span class="lineno"></span><span class="op" id="7740014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7740017">func</span>&nbsp;<span class="ident" id="7740022">TestGolden64a</span><span class="op" id="7740035">(</span><span class="ident" id="7740036">t</span>&nbsp;<span class="op" id="7740038">*</span><span class="ident" id="7740039">testing</span><span class="op" id="7740046">.</span><span class="ident" id="7740047">T</span><span class="op" id="7740048">)</span>&nbsp;<span class="op" id="7740050">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740053">testGolden</span><span class="op" id="7740063">(</span><span class="ident" id="7740064">t</span><span class="op" id="7740065">,</span>&nbsp;<span class="ident" id="7740067">New64a</span><span class="op" id="7740073">(</span><span class="op" id="7740074">)</span><span class="op" id="7740075">,</span>&nbsp;<span class="ident" id="7740077">golden64a</span><span class="op" id="7740086">)</span><br>
<span class="lineno"></span><span class="op" id="7740088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7740091">func</span>&nbsp;<span class="ident" id="7740096">testGolden</span><span class="op" id="7740106">(</span><span class="ident" id="7740107">t</span>&nbsp;<span class="op" id="7740109">*</span><span class="ident" id="7740110">testing</span><span class="op" id="7740117">.</span><span class="ident" id="7740118">T</span><span class="op" id="7740119">,</span>&nbsp;<span class="ident" id="7740121">hash</span>&nbsp;<span class="ident" id="7740126">hash</span><span class="op" id="7740130">.</span><span class="ident" id="7740131">Hash</span><span class="op" id="7740135">,</span>&nbsp;<span class="ident" id="7740137">gold</span>&nbsp;<span class="op" id="7740142">[</span><span class="op" id="7740143">]</span><span class="ident" id="7740144">golden</span><span class="op" id="7740150">)</span>&nbsp;<span class="op" id="7740152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740155">for</span>&nbsp;<span class="ident" id="7740159">_</span><span class="op" id="7740160">,</span>&nbsp;<span class="ident" id="7740162">g</span>&nbsp;<span class="op" id="7740164">:=</span>&nbsp;<span class="keyword" id="7740167">range</span>&nbsp;<span class="ident" id="7740173">gold</span>&nbsp;<span class="op" id="7740178">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740182">hash</span><span class="op" id="7740186">.</span><span class="ident" id="7740187">Reset</span><span class="op" id="7740192">(</span><span class="op" id="7740193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740197">done</span><span class="op" id="7740201">,</span>&nbsp;<span class="builtintype" id="7740203">error</span>&nbsp;<span class="op" id="7740209">:=</span>&nbsp;<span class="ident" id="7740212">hash</span><span class="op" id="7740216">.</span><span class="ident" id="7740217">Write</span><span class="op" id="7740222">(</span><span class="op" id="7740223">[</span><span class="op" id="7740224">]</span><span class="builtintype" id="7740225">byte</span><span class="op" id="7740229">(</span><span class="ident" id="7740230">g</span><span class="op" id="7740231">.</span><span class="ident" id="7740232">text</span><span class="op" id="7740236">)</span><span class="op" id="7740237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740241">if</span>&nbsp;<span class="builtintype" id="7740244">error</span>&nbsp;<span class="op" id="7740250">!=</span>&nbsp;<span class="ident" id="7740253">nil</span>&nbsp;<span class="op" id="7740257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740262">t</span><span class="op" id="7740263">.</span><span class="ident" id="7740264">Fatalf</span><span class="op" id="7740270">(</span><span class="string" id="7740271">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7740288">,</span>&nbsp;<span class="builtintype" id="7740290">error</span><span class="op" id="7740295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740299">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740303">if</span>&nbsp;<span class="ident" id="7740306">done</span>&nbsp;<span class="op" id="7740311">!=</span>&nbsp;<span class="builtinfunc" id="7740314">len</span><span class="op" id="7740317">(</span><span class="ident" id="7740318">g</span><span class="op" id="7740319">.</span><span class="ident" id="7740320">text</span><span class="op" id="7740324">)</span>&nbsp;<span class="op" id="7740326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740331">t</span><span class="op" id="7740332">.</span><span class="ident" id="7740333">Fatalf</span><span class="op" id="7740339">(</span><span class="string" id="7740340">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="7740371">,</span>&nbsp;<span class="ident" id="7740373">done</span><span class="op" id="7740377">,</span>&nbsp;<span class="builtinfunc" id="7740379">len</span><span class="op" id="7740382">(</span><span class="ident" id="7740383">g</span><span class="op" id="7740384">.</span><span class="ident" id="7740385">text</span><span class="op" id="7740389">)</span><span class="op" id="7740390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740398">if</span>&nbsp;<span class="ident" id="7740401">actual</span>&nbsp;<span class="op" id="7740408">:=</span>&nbsp;<span class="ident" id="7740411">hash</span><span class="op" id="7740415">.</span><span class="ident" id="7740416">Sum</span><span class="op" id="7740419">(</span><span class="ident" id="7740420">nil</span><span class="op" id="7740423">)</span><span class="op" id="7740424">;</span>&nbsp;<span class="op" id="7740426">!</span><span class="ident" id="7740427">bytes</span><span class="op" id="7740432">.</span><span class="ident" id="7740433">Equal</span><span class="op" id="7740438">(</span><span class="ident" id="7740439">g</span><span class="op" id="7740440">.</span><span class="ident" id="7740441">sum</span><span class="op" id="7740444">,</span>&nbsp;<span class="ident" id="7740446">actual</span><span class="op" id="7740452">)</span>&nbsp;<span class="op" id="7740454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740459">t</span><span class="op" id="7740460">.</span><span class="ident" id="7740461">Errorf</span><span class="op" id="7740467">(</span><span class="string" id="7740468">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7740495">,</span>&nbsp;<span class="ident" id="7740497">g</span><span class="op" id="7740498">.</span><span class="ident" id="7740499">text</span><span class="op" id="7740503">,</span>&nbsp;<span class="ident" id="7740505">actual</span><span class="op" id="7740511">,</span>&nbsp;<span class="ident" id="7740513">g</span><span class="op" id="7740514">.</span><span class="ident" id="7740515">sum</span><span class="op" id="7740518">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740525">}</span><br>
<span class="lineno"></span><span class="op" id="7740527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7740530">func</span>&nbsp;<span class="ident" id="7740535">TestIntegrity32</span><span class="op" id="7740550">(</span><span class="ident" id="7740551">t</span>&nbsp;<span class="op" id="7740553">*</span><span class="ident" id="7740554">testing</span><span class="op" id="7740561">.</span><span class="ident" id="7740562">T</span><span class="op" id="7740563">)</span>&nbsp;<span class="op" id="7740565">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740568">testIntegrity</span><span class="op" id="7740581">(</span><span class="ident" id="7740582">t</span><span class="op" id="7740583">,</span>&nbsp;<span class="ident" id="7740585">New32</span><span class="op" id="7740590">(</span><span class="op" id="7740591">)</span><span class="op" id="7740592">)</span><br>
<span class="lineno"></span><span class="op" id="7740594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7740597">func</span>&nbsp;<span class="ident" id="7740602">TestIntegrity32a</span><span class="op" id="7740618">(</span><span class="ident" id="7740619">t</span>&nbsp;<span class="op" id="7740621">*</span><span class="ident" id="7740622">testing</span><span class="op" id="7740629">.</span><span class="ident" id="7740630">T</span><span class="op" id="7740631">)</span>&nbsp;<span class="op" id="7740633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740636">testIntegrity</span><span class="op" id="7740649">(</span><span class="ident" id="7740650">t</span><span class="op" id="7740651">,</span>&nbsp;<span class="ident" id="7740653">New32a</span><span class="op" id="7740659">(</span><span class="op" id="7740660">)</span><span class="op" id="7740661">)</span><br>
<span class="lineno">85</span><span class="op" id="7740663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7740666">func</span>&nbsp;<span class="ident" id="7740671">TestIntegrity64</span><span class="op" id="7740686">(</span><span class="ident" id="7740687">t</span>&nbsp;<span class="op" id="7740689">*</span><span class="ident" id="7740690">testing</span><span class="op" id="7740697">.</span><span class="ident" id="7740698">T</span><span class="op" id="7740699">)</span>&nbsp;<span class="op" id="7740701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740704">testIntegrity</span><span class="op" id="7740717">(</span><span class="ident" id="7740718">t</span><span class="op" id="7740719">,</span>&nbsp;<span class="ident" id="7740721">New64</span><span class="op" id="7740726">(</span><span class="op" id="7740727">)</span><span class="op" id="7740728">)</span><br>
<span class="lineno"></span><span class="op" id="7740730">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="7740733">func</span>&nbsp;<span class="ident" id="7740738">TestIntegrity64a</span><span class="op" id="7740754">(</span><span class="ident" id="7740755">t</span>&nbsp;<span class="op" id="7740757">*</span><span class="ident" id="7740758">testing</span><span class="op" id="7740765">.</span><span class="ident" id="7740766">T</span><span class="op" id="7740767">)</span>&nbsp;<span class="op" id="7740769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740772">testIntegrity</span><span class="op" id="7740785">(</span><span class="ident" id="7740786">t</span><span class="op" id="7740787">,</span>&nbsp;<span class="ident" id="7740789">New64a</span><span class="op" id="7740795">(</span><span class="op" id="7740796">)</span><span class="op" id="7740797">)</span><br>
<span class="lineno"></span><span class="op" id="7740799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7740802">func</span>&nbsp;<span class="ident" id="7740807">testIntegrity</span><span class="op" id="7740820">(</span><span class="ident" id="7740821">t</span>&nbsp;<span class="op" id="7740823">*</span><span class="ident" id="7740824">testing</span><span class="op" id="7740831">.</span><span class="ident" id="7740832">T</span><span class="op" id="7740833">,</span>&nbsp;<span class="ident" id="7740835">h</span>&nbsp;<span class="ident" id="7740837">hash</span><span class="op" id="7740841">.</span><span class="ident" id="7740842">Hash</span><span class="op" id="7740846">)</span>&nbsp;<span class="op" id="7740848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740851">data</span>&nbsp;<span class="op" id="7740856">:=</span>&nbsp;<span class="op" id="7740859">[</span><span class="op" id="7740860">]</span><span class="builtintype" id="7740861">byte</span><span class="op" id="7740865">{</span><span class="string" id="7740866">&#39;1&#39;</span><span class="op" id="7740869">,</span>&nbsp;<span class="string" id="7740871">&#39;2&#39;</span><span class="op" id="7740874">,</span>&nbsp;<span class="num" id="7740876">3</span><span class="op" id="7740877">,</span>&nbsp;<span class="num" id="7740879">4</span><span class="op" id="7740880">,</span>&nbsp;<span class="num" id="7740882">5</span><span class="op" id="7740883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740886">h</span><span class="op" id="7740887">.</span><span class="ident" id="7740888">Write</span><span class="op" id="7740893">(</span><span class="ident" id="7740894">data</span><span class="op" id="7740898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740901">sum</span>&nbsp;<span class="op" id="7740905">:=</span>&nbsp;<span class="ident" id="7740908">h</span><span class="op" id="7740909">.</span><span class="ident" id="7740910">Sum</span><span class="op" id="7740913">(</span><span class="ident" id="7740914">nil</span><span class="op" id="7740917">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740921">if</span>&nbsp;<span class="ident" id="7740924">size</span>&nbsp;<span class="op" id="7740929">:=</span>&nbsp;<span class="ident" id="7740932">h</span><span class="op" id="7740933">.</span><span class="ident" id="7740934">Size</span><span class="op" id="7740938">(</span><span class="op" id="7740939">)</span><span class="op" id="7740940">;</span>&nbsp;<span class="ident" id="7740942">size</span>&nbsp;<span class="op" id="7740947">!=</span>&nbsp;<span class="builtinfunc" id="7740950">len</span><span class="op" id="7740953">(</span><span class="ident" id="7740954">sum</span><span class="op" id="7740957">)</span>&nbsp;<span class="op" id="7740959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740963">t</span><span class="op" id="7740964">.</span><span class="ident" id="7740965">Fatalf</span><span class="op" id="7740971">(</span><span class="string" id="7740972">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="7741001">,</span>&nbsp;<span class="ident" id="7741003">size</span><span class="op" id="7741007">,</span>&nbsp;<span class="builtinfunc" id="7741009">len</span><span class="op" id="7741012">(</span><span class="ident" id="7741013">sum</span><span class="op" id="7741016">)</span><span class="op" id="7741017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741024">if</span>&nbsp;<span class="ident" id="7741027">a</span>&nbsp;<span class="op" id="7741029">:=</span>&nbsp;<span class="ident" id="7741032">h</span><span class="op" id="7741033">.</span><span class="ident" id="7741034">Sum</span><span class="op" id="7741037">(</span><span class="ident" id="7741038">nil</span><span class="op" id="7741041">)</span><span class="op" id="7741042">;</span>&nbsp;<span class="op" id="7741044">!</span><span class="ident" id="7741045">bytes</span><span class="op" id="7741050">.</span><span class="ident" id="7741051">Equal</span><span class="op" id="7741056">(</span><span class="ident" id="7741057">sum</span><span class="op" id="7741060">,</span>&nbsp;<span class="ident" id="7741062">a</span><span class="op" id="7741063">)</span>&nbsp;<span class="op" id="7741065">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741069">t</span><span class="op" id="7741070">.</span><span class="ident" id="7741071">Fatalf</span><span class="op" id="7741077">(</span><span class="string" id="7741078">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7741115">,</span>&nbsp;<span class="ident" id="7741117">sum</span><span class="op" id="7741120">,</span>&nbsp;<span class="ident" id="7741122">a</span><span class="op" id="7741123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741130">h</span><span class="op" id="7741131">.</span><span class="ident" id="7741132">Reset</span><span class="op" id="7741137">(</span><span class="op" id="7741138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741141">h</span><span class="op" id="7741142">.</span><span class="ident" id="7741143">Write</span><span class="op" id="7741148">(</span><span class="ident" id="7741149">data</span><span class="op" id="7741153">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741156">if</span>&nbsp;<span class="ident" id="7741159">a</span>&nbsp;<span class="op" id="7741161">:=</span>&nbsp;<span class="ident" id="7741164">h</span><span class="op" id="7741165">.</span><span class="ident" id="7741166">Sum</span><span class="op" id="7741169">(</span><span class="ident" id="7741170">nil</span><span class="op" id="7741173">)</span><span class="op" id="7741174">;</span>&nbsp;<span class="op" id="7741176">!</span><span class="ident" id="7741177">bytes</span><span class="op" id="7741182">.</span><span class="ident" id="7741183">Equal</span><span class="op" id="7741188">(</span><span class="ident" id="7741189">sum</span><span class="op" id="7741192">,</span>&nbsp;<span class="ident" id="7741194">a</span><span class="op" id="7741195">)</span>&nbsp;<span class="op" id="7741197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741201">t</span><span class="op" id="7741202">.</span><span class="ident" id="7741203">Fatalf</span><span class="op" id="7741209">(</span><span class="string" id="7741210">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7741252">,</span>&nbsp;<span class="ident" id="7741254">sum</span><span class="op" id="7741257">,</span>&nbsp;<span class="ident" id="7741259">a</span><span class="op" id="7741260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741267">h</span><span class="op" id="7741268">.</span><span class="ident" id="7741269">Reset</span><span class="op" id="7741274">(</span><span class="op" id="7741275">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741278">h</span><span class="op" id="7741279">.</span><span class="ident" id="7741280">Write</span><span class="op" id="7741285">(</span><span class="ident" id="7741286">data</span><span class="op" id="7741290">[</span><span class="op" id="7741291">:</span><span class="num" id="7741292">2</span><span class="op" id="7741293">]</span><span class="op" id="7741294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741297">h</span><span class="op" id="7741298">.</span><span class="ident" id="7741299">Write</span><span class="op" id="7741304">(</span><span class="ident" id="7741305">data</span><span class="op" id="7741309">[</span><span class="num" id="7741310">2</span><span class="op" id="7741311">:</span><span class="op" id="7741312">]</span><span class="op" id="7741313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741316">if</span>&nbsp;<span class="ident" id="7741319">a</span>&nbsp;<span class="op" id="7741321">:=</span>&nbsp;<span class="ident" id="7741324">h</span><span class="op" id="7741325">.</span><span class="ident" id="7741326">Sum</span><span class="op" id="7741329">(</span><span class="ident" id="7741330">nil</span><span class="op" id="7741333">)</span><span class="op" id="7741334">;</span>&nbsp;<span class="op" id="7741336">!</span><span class="ident" id="7741337">bytes</span><span class="op" id="7741342">.</span><span class="ident" id="7741343">Equal</span><span class="op" id="7741348">(</span><span class="ident" id="7741349">sum</span><span class="op" id="7741352">,</span>&nbsp;<span class="ident" id="7741354">a</span><span class="op" id="7741355">)</span>&nbsp;<span class="op" id="7741357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741361">t</span><span class="op" id="7741362">.</span><span class="ident" id="7741363">Fatalf</span><span class="op" id="7741369">(</span><span class="string" id="7741370">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7741419">,</span>&nbsp;<span class="ident" id="7741421">sum</span><span class="op" id="7741424">,</span>&nbsp;<span class="ident" id="7741426">a</span><span class="op" id="7741427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741430">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741434">switch</span>&nbsp;<span class="ident" id="7741441">h</span><span class="op" id="7741442">.</span><span class="ident" id="7741443">Size</span><span class="op" id="7741447">(</span><span class="op" id="7741448">)</span>&nbsp;<span class="op" id="7741450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741453">case</span>&nbsp;<span class="num" id="7741458">4</span><span class="op" id="7741459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741463">sum32</span>&nbsp;<span class="op" id="7741469">:=</span>&nbsp;<span class="ident" id="7741472">h</span><span class="op" id="7741473">.</span><span class="op" id="7741474">(</span><span class="ident" id="7741475">hash</span><span class="op" id="7741479">.</span><span class="ident" id="7741480">Hash32</span><span class="op" id="7741486">)</span><span class="op" id="7741487">.</span><span class="ident" id="7741488">Sum32</span><span class="op" id="7741493">(</span><span class="op" id="7741494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741498">if</span>&nbsp;<span class="ident" id="7741501">sum32</span>&nbsp;<span class="op" id="7741507">!=</span>&nbsp;<span class="ident" id="7741510">binary</span><span class="op" id="7741516">.</span><span class="ident" id="7741517">BigEndian</span><span class="op" id="7741526">.</span><span class="ident" id="7741527">Uint32</span><span class="op" id="7741533">(</span><span class="ident" id="7741534">sum</span><span class="op" id="7741537">)</span>&nbsp;<span class="op" id="7741539">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741544">t</span><span class="op" id="7741545">.</span><span class="ident" id="7741546">Fatalf</span><span class="op" id="7741552">(</span><span class="string" id="7741553">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="7741583">,</span>&nbsp;<span class="ident" id="7741585">sum</span><span class="op" id="7741588">,</span>&nbsp;<span class="ident" id="7741590">sum32</span><span class="op" id="7741595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741602">case</span>&nbsp;<span class="num" id="7741607">8</span><span class="op" id="7741608">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741612">sum64</span>&nbsp;<span class="op" id="7741618">:=</span>&nbsp;<span class="ident" id="7741621">h</span><span class="op" id="7741622">.</span><span class="op" id="7741623">(</span><span class="ident" id="7741624">hash</span><span class="op" id="7741628">.</span><span class="ident" id="7741629">Hash64</span><span class="op" id="7741635">)</span><span class="op" id="7741636">.</span><span class="ident" id="7741637">Sum64</span><span class="op" id="7741642">(</span><span class="op" id="7741643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741647">if</span>&nbsp;<span class="ident" id="7741650">sum64</span>&nbsp;<span class="op" id="7741656">!=</span>&nbsp;<span class="ident" id="7741659">binary</span><span class="op" id="7741665">.</span><span class="ident" id="7741666">BigEndian</span><span class="op" id="7741675">.</span><span class="ident" id="7741676">Uint64</span><span class="op" id="7741682">(</span><span class="ident" id="7741683">sum</span><span class="op" id="7741686">)</span>&nbsp;<span class="op" id="7741688">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741693">t</span><span class="op" id="7741694">.</span><span class="ident" id="7741695">Fatalf</span><span class="op" id="7741701">(</span><span class="string" id="7741702">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="7741732">,</span>&nbsp;<span class="ident" id="7741734">sum</span><span class="op" id="7741737">,</span>&nbsp;<span class="ident" id="7741739">sum64</span><span class="op" id="7741744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741751">}</span><br>
<span class="lineno"></span><span class="op" id="7741753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7741756">func</span>&nbsp;<span class="ident" id="7741761">BenchmarkFnv32KB</span><span class="op" id="7741777">(</span><span class="ident" id="7741778">b</span>&nbsp;<span class="op" id="7741780">*</span><span class="ident" id="7741781">testing</span><span class="op" id="7741788">.</span><span class="ident" id="7741789">B</span><span class="op" id="7741790">)</span>&nbsp;<span class="op" id="7741792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741795">benchmarkKB</span><span class="op" id="7741806">(</span><span class="ident" id="7741807">b</span><span class="op" id="7741808">,</span>&nbsp;<span class="ident" id="7741810">New32</span><span class="op" id="7741815">(</span><span class="op" id="7741816">)</span><span class="op" id="7741817">)</span><br>
<span class="lineno"></span><span class="op" id="7741819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7741822">func</span>&nbsp;<span class="ident" id="7741827">BenchmarkFnv32aKB</span><span class="op" id="7741844">(</span><span class="ident" id="7741845">b</span>&nbsp;<span class="op" id="7741847">*</span><span class="ident" id="7741848">testing</span><span class="op" id="7741855">.</span><span class="ident" id="7741856">B</span><span class="op" id="7741857">)</span>&nbsp;<span class="op" id="7741859">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741862">benchmarkKB</span><span class="op" id="7741873">(</span><span class="ident" id="7741874">b</span><span class="op" id="7741875">,</span>&nbsp;<span class="ident" id="7741877">New32a</span><span class="op" id="7741883">(</span><span class="op" id="7741884">)</span><span class="op" id="7741885">)</span><br>
<span class="lineno"></span><span class="op" id="7741887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7741890">func</span>&nbsp;<span class="ident" id="7741895">BenchmarkFnv64KB</span><span class="op" id="7741911">(</span><span class="ident" id="7741912">b</span>&nbsp;<span class="op" id="7741914">*</span><span class="ident" id="7741915">testing</span><span class="op" id="7741922">.</span><span class="ident" id="7741923">B</span><span class="op" id="7741924">)</span>&nbsp;<span class="op" id="7741926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741929">benchmarkKB</span><span class="op" id="7741940">(</span><span class="ident" id="7741941">b</span><span class="op" id="7741942">,</span>&nbsp;<span class="ident" id="7741944">New64</span><span class="op" id="7741949">(</span><span class="op" id="7741950">)</span><span class="op" id="7741951">)</span><br>
<span class="lineno">145</span><span class="op" id="7741953">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7741956">func</span>&nbsp;<span class="ident" id="7741961">BenchmarkFnv64aKB</span><span class="op" id="7741978">(</span><span class="ident" id="7741979">b</span>&nbsp;<span class="op" id="7741981">*</span><span class="ident" id="7741982">testing</span><span class="op" id="7741989">.</span><span class="ident" id="7741990">B</span><span class="op" id="7741991">)</span>&nbsp;<span class="op" id="7741993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741996">benchmarkKB</span><span class="op" id="7742007">(</span><span class="ident" id="7742008">b</span><span class="op" id="7742009">,</span>&nbsp;<span class="ident" id="7742011">New64a</span><span class="op" id="7742017">(</span><span class="op" id="7742018">)</span><span class="op" id="7742019">)</span><br>
<span class="lineno"></span><span class="op" id="7742021">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="7742024">func</span>&nbsp;<span class="ident" id="7742029">benchmarkKB</span><span class="op" id="7742040">(</span><span class="ident" id="7742041">b</span>&nbsp;<span class="op" id="7742043">*</span><span class="ident" id="7742044">testing</span><span class="op" id="7742051">.</span><span class="ident" id="7742052">B</span><span class="op" id="7742053">,</span>&nbsp;<span class="ident" id="7742055">h</span>&nbsp;<span class="ident" id="7742057">hash</span><span class="op" id="7742061">.</span><span class="ident" id="7742062">Hash</span><span class="op" id="7742066">)</span>&nbsp;<span class="op" id="7742068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742071">b</span><span class="op" id="7742072">.</span><span class="ident" id="7742073">SetBytes</span><span class="op" id="7742081">(</span><span class="num" id="7742082">1024</span><span class="op" id="7742086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742089">data</span>&nbsp;<span class="op" id="7742094">:=</span>&nbsp;<span class="builtinfunc" id="7742097">make</span><span class="op" id="7742101">(</span><span class="op" id="7742102">[</span><span class="op" id="7742103">]</span><span class="builtintype" id="7742104">byte</span><span class="op" id="7742108">,</span>&nbsp;<span class="num" id="7742110">1024</span><span class="op" id="7742114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742117">for</span>&nbsp;<span class="ident" id="7742121">i</span>&nbsp;<span class="op" id="7742123">:=</span>&nbsp;<span class="keyword" id="7742126">range</span>&nbsp;<span class="ident" id="7742132">data</span>&nbsp;<span class="op" id="7742137">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742141">data</span><span class="op" id="7742145">[</span><span class="ident" id="7742146">i</span><span class="op" id="7742147">]</span>&nbsp;<span class="op" id="7742149">=</span>&nbsp;<span class="builtintype" id="7742151">byte</span><span class="op" id="7742155">(</span><span class="ident" id="7742156">i</span><span class="op" id="7742157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7742160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742163">in</span>&nbsp;<span class="op" id="7742166">:=</span>&nbsp;<span class="builtinfunc" id="7742169">make</span><span class="op" id="7742173">(</span><span class="op" id="7742174">[</span><span class="op" id="7742175">]</span><span class="builtintype" id="7742176">byte</span><span class="op" id="7742180">,</span>&nbsp;<span class="num" id="7742182">0</span><span class="op" id="7742183">,</span>&nbsp;<span class="ident" id="7742185">h</span><span class="op" id="7742186">.</span><span class="ident" id="7742187">Size</span><span class="op" id="7742191">(</span><span class="op" id="7742192">)</span><span class="op" id="7742193">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742197">b</span><span class="op" id="7742198">.</span><span class="ident" id="7742199">ResetTimer</span><span class="op" id="7742209">(</span><span class="op" id="7742210">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742213">for</span>&nbsp;<span class="ident" id="7742217">i</span>&nbsp;<span class="op" id="7742219">:=</span>&nbsp;<span class="num" id="7742222">0</span><span class="op" id="7742223">;</span>&nbsp;<span class="ident" id="7742225">i</span>&nbsp;<span class="op" id="7742227">&lt;</span>&nbsp;<span class="ident" id="7742229">b</span><span class="op" id="7742230">.</span><span class="ident" id="7742231">N</span><span class="op" id="7742232">;</span>&nbsp;<span class="ident" id="7742234">i</span><span class="op" id="7742235">++</span>&nbsp;<span class="op" id="7742238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742242">h</span><span class="op" id="7742243">.</span><span class="ident" id="7742244">Reset</span><span class="op" id="7742249">(</span><span class="op" id="7742250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742254">h</span><span class="op" id="7742255">.</span><span class="ident" id="7742256">Write</span><span class="op" id="7742261">(</span><span class="ident" id="7742262">data</span><span class="op" id="7742266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742270">h</span><span class="op" id="7742271">.</span><span class="ident" id="7742272">Sum</span><span class="op" id="7742275">(</span><span class="ident" id="7742276">in</span><span class="op" id="7742278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7742281">}</span><br>
<span class="lineno">165</span><span class="op" id="7742283">}</span>
</div>
</body>
</html>
