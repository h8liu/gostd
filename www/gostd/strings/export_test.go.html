<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strings</h2>
<ul>
<li><a href="/gostd/strings/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/strings/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/strings/reader.go.html">reader.go</a></li>
<li><a href="/gostd/strings/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/strings/replace.go.html">replace.go</a></li>
<li><a href="/gostd/strings/replace_test.go.html">replace_test.go</a></li>
<li><a href="/gostd/strings/search.go.html">search.go</a></li>
<li><a href="/gostd/strings/search_test.go.html">search_test.go</a></li>
<li><a href="/gostd/strings/strings.go.html">strings.go</a></li>
<li><a href="/gostd/strings/strings_decl.go.html">strings_decl.go</a></li>
<li><a href="/gostd/strings/strings_test.go.html">strings_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7976149">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7976204">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7976258">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7976309">package</span>&nbsp;<span class="ident" id="7976317">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7976326">func</span>&nbsp;<span class="op" id="7976331">(</span><span class="ident" id="7976332">r</span>&nbsp;<span class="op" id="7976334">*</span><span class="ident" id="7976335">Replacer</span><span class="op" id="7976343">)</span>&nbsp;<span class="ident" id="7976345">Replacer</span><span class="op" id="7976353">(</span><span class="op" id="7976354">)</span>&nbsp;<span class="keyword" id="7976356">interface</span><span class="op" id="7976365">{</span><span class="op" id="7976366">}</span>&nbsp;<span class="op" id="7976368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976371">return</span>&nbsp;<span class="ident" id="7976378">r</span><span class="op" id="7976379">.</span><span class="ident" id="7976380">r</span><br>
<span class="lineno"></span><span class="op" id="7976382">}</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7976385">func</span>&nbsp;<span class="op" id="7976390">(</span><span class="ident" id="7976391">r</span>&nbsp;<span class="op" id="7976393">*</span><span class="ident" id="7976394">Replacer</span><span class="op" id="7976402">)</span>&nbsp;<span class="ident" id="7976404">PrintTrie</span><span class="op" id="7976413">(</span><span class="op" id="7976414">)</span>&nbsp;<span class="builtintype" id="7976416">string</span>&nbsp;<span class="op" id="7976423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976426">gen</span>&nbsp;<span class="op" id="7976430">:=</span>&nbsp;<span class="ident" id="7976433">r</span><span class="op" id="7976434">.</span><span class="ident" id="7976435">r</span><span class="op" id="7976436">.</span><span class="op" id="7976437">(</span><span class="op" id="7976438">*</span><span class="ident" id="7976439">genericReplacer</span><span class="op" id="7976454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976457">return</span>&nbsp;<span class="ident" id="7976464">gen</span><span class="op" id="7976467">.</span><span class="ident" id="7976468">printNode</span><span class="op" id="7976477">(</span><span class="op" id="7976478">&amp;</span><span class="ident" id="7976479">gen</span><span class="op" id="7976482">.</span><span class="ident" id="7976483">root</span><span class="op" id="7976487">,</span>&nbsp;<span class="num" id="7976489">0</span><span class="op" id="7976490">)</span><br>
<span class="lineno"></span><span class="op" id="7976492">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7976495">func</span>&nbsp;<span class="op" id="7976500">(</span><span class="ident" id="7976501">r</span>&nbsp;<span class="op" id="7976503">*</span><span class="ident" id="7976504">genericReplacer</span><span class="op" id="7976519">)</span>&nbsp;<span class="ident" id="7976521">printNode</span><span class="op" id="7976530">(</span><span class="ident" id="7976531">t</span>&nbsp;<span class="op" id="7976533">*</span><span class="ident" id="7976534">trieNode</span><span class="op" id="7976542">,</span>&nbsp;<span class="ident" id="7976544">depth</span>&nbsp;<span class="builtintype" id="7976550">int</span><span class="op" id="7976553">)</span>&nbsp;<span class="op" id="7976555">(</span><span class="ident" id="7976556">s</span>&nbsp;<span class="builtintype" id="7976558">string</span><span class="op" id="7976564">)</span>&nbsp;<span class="op" id="7976566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976569">if</span>&nbsp;<span class="ident" id="7976572">t</span><span class="op" id="7976573">.</span><span class="ident" id="7976574">priority</span>&nbsp;<span class="op" id="7976583">&gt;</span>&nbsp;<span class="num" id="7976585">0</span>&nbsp;<span class="op" id="7976587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976591">s</span>&nbsp;<span class="op" id="7976593">+=</span>&nbsp;<span class="string" id="7976596">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7976601">}</span>&nbsp;<span class="keyword" id="7976603">else</span>&nbsp;<span class="op" id="7976608">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976612">s</span>&nbsp;<span class="op" id="7976614">+=</span>&nbsp;<span class="string" id="7976617">&#34;-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7976622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976625">s</span>&nbsp;<span class="op" id="7976627">+=</span>&nbsp;<span class="string" id="7976630">&#34;\n&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976637">if</span>&nbsp;<span class="ident" id="7976640">t</span><span class="op" id="7976641">.</span><span class="ident" id="7976642">prefix</span>&nbsp;<span class="op" id="7976649">!=</span>&nbsp;<span class="string" id="7976652">&#34;&#34;</span>&nbsp;<span class="op" id="7976655">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976659">s</span>&nbsp;<span class="op" id="7976661">+=</span>&nbsp;<span class="ident" id="7976664">Repeat</span><span class="op" id="7976670">(</span><span class="string" id="7976671">&#34;.&#34;</span><span class="op" id="7976674">,</span>&nbsp;<span class="ident" id="7976676">depth</span><span class="op" id="7976681">)</span>&nbsp;<span class="op" id="7976683">+</span>&nbsp;<span class="ident" id="7976685">t</span><span class="op" id="7976686">.</span><span class="ident" id="7976687">prefix</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976696">s</span>&nbsp;<span class="op" id="7976698">+=</span>&nbsp;<span class="ident" id="7976701">r</span><span class="op" id="7976702">.</span><span class="ident" id="7976703">printNode</span><span class="op" id="7976712">(</span><span class="ident" id="7976713">t</span><span class="op" id="7976714">.</span><span class="ident" id="7976715">next</span><span class="op" id="7976719">,</span>&nbsp;<span class="ident" id="7976721">depth</span><span class="op" id="7976726">+</span><span class="builtinfunc" id="7976727">len</span><span class="op" id="7976730">(</span><span class="ident" id="7976731">t</span><span class="op" id="7976732">.</span><span class="ident" id="7976733">prefix</span><span class="op" id="7976739">)</span><span class="op" id="7976740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7976743">}</span>&nbsp;<span class="keyword" id="7976745">else</span>&nbsp;<span class="keyword" id="7976750">if</span>&nbsp;<span class="ident" id="7976753">t</span><span class="op" id="7976754">.</span><span class="ident" id="7976755">table</span>&nbsp;<span class="op" id="7976761">!=</span>&nbsp;<span class="ident" id="7976764">nil</span>&nbsp;<span class="op" id="7976768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976772">for</span>&nbsp;<span class="ident" id="7976776">b</span><span class="op" id="7976777">,</span>&nbsp;<span class="ident" id="7976779">m</span>&nbsp;<span class="op" id="7976781">:=</span>&nbsp;<span class="keyword" id="7976784">range</span>&nbsp;<span class="ident" id="7976790">r</span><span class="op" id="7976791">.</span><span class="ident" id="7976792">mapping</span>&nbsp;<span class="op" id="7976800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976805">if</span>&nbsp;<span class="builtintype" id="7976808">int</span><span class="op" id="7976811">(</span><span class="ident" id="7976812">m</span><span class="op" id="7976813">)</span>&nbsp;<span class="op" id="7976815">!=</span>&nbsp;<span class="ident" id="7976818">r</span><span class="op" id="7976819">.</span><span class="ident" id="7976820">tableSize</span>&nbsp;<span class="op" id="7976830">&amp;&amp;</span>&nbsp;<span class="ident" id="7976833">t</span><span class="op" id="7976834">.</span><span class="ident" id="7976835">table</span><span class="op" id="7976840">[</span><span class="ident" id="7976841">m</span><span class="op" id="7976842">]</span>&nbsp;<span class="op" id="7976844">!=</span>&nbsp;<span class="ident" id="7976847">nil</span>&nbsp;<span class="op" id="7976851">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976857">s</span>&nbsp;<span class="op" id="7976859">+=</span>&nbsp;<span class="ident" id="7976862">Repeat</span><span class="op" id="7976868">(</span><span class="string" id="7976869">&#34;.&#34;</span><span class="op" id="7976872">,</span>&nbsp;<span class="ident" id="7976874">depth</span><span class="op" id="7976879">)</span>&nbsp;<span class="op" id="7976881">+</span>&nbsp;<span class="builtintype" id="7976883">string</span><span class="op" id="7976889">(</span><span class="op" id="7976890">[</span><span class="op" id="7976891">]</span><span class="builtintype" id="7976892">byte</span><span class="op" id="7976896">{</span><span class="builtintype" id="7976897">byte</span><span class="op" id="7976901">(</span><span class="ident" id="7976902">b</span><span class="op" id="7976903">)</span><span class="op" id="7976904">}</span><span class="op" id="7976905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976911">s</span>&nbsp;<span class="op" id="7976913">+=</span>&nbsp;<span class="ident" id="7976916">r</span><span class="op" id="7976917">.</span><span class="ident" id="7976918">printNode</span><span class="op" id="7976927">(</span><span class="ident" id="7976928">t</span><span class="op" id="7976929">.</span><span class="ident" id="7976930">table</span><span class="op" id="7976935">[</span><span class="ident" id="7976936">m</span><span class="op" id="7976937">]</span><span class="op" id="7976938">,</span>&nbsp;<span class="ident" id="7976940">depth</span><span class="op" id="7976945">+</span><span class="num" id="7976946">1</span><span class="op" id="7976947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7976952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7976956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7976959">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976962">return</span><br>
<span class="lineno"></span><span class="op" id="7976969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7976972">func</span>&nbsp;<span class="ident" id="7976977">StringFind</span><span class="op" id="7976987">(</span><span class="ident" id="7976988">pattern</span><span class="op" id="7976995">,</span>&nbsp;<span class="ident" id="7976997">text</span>&nbsp;<span class="builtintype" id="7977002">string</span><span class="op" id="7977008">)</span>&nbsp;<span class="builtintype" id="7977010">int</span>&nbsp;<span class="op" id="7977014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7977017">return</span>&nbsp;<span class="ident" id="7977024">makeStringFinder</span><span class="op" id="7977040">(</span><span class="ident" id="7977041">pattern</span><span class="op" id="7977048">)</span><span class="op" id="7977049">.</span><span class="ident" id="7977050">next</span><span class="op" id="7977054">(</span><span class="ident" id="7977055">text</span><span class="op" id="7977059">)</span><br>
<span class="lineno">40</span><span class="op" id="7977061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7977064">func</span>&nbsp;<span class="ident" id="7977069">DumpTables</span><span class="op" id="7977079">(</span><span class="ident" id="7977080">pattern</span>&nbsp;<span class="builtintype" id="7977088">string</span><span class="op" id="7977094">)</span>&nbsp;<span class="op" id="7977096">(</span><span class="op" id="7977097">[</span><span class="op" id="7977098">]</span><span class="builtintype" id="7977099">int</span><span class="op" id="7977102">,</span>&nbsp;<span class="op" id="7977104">[</span><span class="op" id="7977105">]</span><span class="builtintype" id="7977106">int</span><span class="op" id="7977109">)</span>&nbsp;<span class="op" id="7977111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7977114">finder</span>&nbsp;<span class="op" id="7977121">:=</span>&nbsp;<span class="ident" id="7977124">makeStringFinder</span><span class="op" id="7977140">(</span><span class="ident" id="7977141">pattern</span><span class="op" id="7977148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7977151">return</span>&nbsp;<span class="ident" id="7977158">finder</span><span class="op" id="7977164">.</span><span class="ident" id="7977165">badCharSkip</span><span class="op" id="7977176">[</span><span class="op" id="7977177">:</span><span class="op" id="7977178">]</span><span class="op" id="7977179">,</span>&nbsp;<span class="ident" id="7977181">finder</span><span class="op" id="7977187">.</span><span class="ident" id="7977188">goodSuffixSkip</span><br>
<span class="lineno">45</span><span class="op" id="7977203">}</span>
</div>
</body>
</html>
