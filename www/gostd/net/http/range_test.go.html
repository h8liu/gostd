<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7793837">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7793892">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7793946">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7793997">package</span>&nbsp;<span class="ident" id="7794005">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7794011">import</span>&nbsp;<span class="op" id="7794018">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7794021">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7794031">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7794034">var</span>&nbsp;<span class="ident" id="7794038">ParseRangeTests</span>&nbsp;<span class="op" id="7794054">=</span>&nbsp;<span class="op" id="7794056">[</span><span class="op" id="7794057">]</span><span class="keyword" id="7794058">struct</span>&nbsp;<span class="op" id="7794065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7794068">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7794075">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7794083">length</span>&nbsp;<span class="ident" id="7794090">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7794097">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7794104">[</span><span class="op" id="7794105">]</span><span class="ident" id="7794106">httpRange</span><br>
<span class="lineno">15</span><span class="op" id="7794116">}</span><span class="op" id="7794117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794120">{</span><span class="string" id="7794121">&#34;&#34;</span><span class="op" id="7794123">,</span>&nbsp;<span class="num" id="7794125">0</span><span class="op" id="7794126">,</span>&nbsp;<span class="ident" id="7794128">nil</span><span class="op" id="7794131">}</span><span class="op" id="7794132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794135">{</span><span class="string" id="7794136">&#34;&#34;</span><span class="op" id="7794138">,</span>&nbsp;<span class="num" id="7794140">1000</span><span class="op" id="7794144">,</span>&nbsp;<span class="ident" id="7794146">nil</span><span class="op" id="7794149">}</span><span class="op" id="7794150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794153">{</span><span class="string" id="7794154">&#34;foo&#34;</span><span class="op" id="7794159">,</span>&nbsp;<span class="num" id="7794161">0</span><span class="op" id="7794162">,</span>&nbsp;<span class="ident" id="7794164">nil</span><span class="op" id="7794167">}</span><span class="op" id="7794168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794171">{</span><span class="string" id="7794172">&#34;bytes=&#34;</span><span class="op" id="7794180">,</span>&nbsp;<span class="num" id="7794182">0</span><span class="op" id="7794183">,</span>&nbsp;<span class="ident" id="7794185">nil</span><span class="op" id="7794188">}</span><span class="op" id="7794189">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794192">{</span><span class="string" id="7794193">&#34;bytes=7&#34;</span><span class="op" id="7794202">,</span>&nbsp;<span class="num" id="7794204">10</span><span class="op" id="7794206">,</span>&nbsp;<span class="ident" id="7794208">nil</span><span class="op" id="7794211">}</span><span class="op" id="7794212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794215">{</span><span class="string" id="7794216">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="7794227">,</span>&nbsp;<span class="num" id="7794229">10</span><span class="op" id="7794231">,</span>&nbsp;<span class="ident" id="7794233">nil</span><span class="op" id="7794236">}</span><span class="op" id="7794237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794240">{</span><span class="string" id="7794241">&#34;bytes=1-&#34;</span><span class="op" id="7794251">,</span>&nbsp;<span class="num" id="7794253">0</span><span class="op" id="7794254">,</span>&nbsp;<span class="ident" id="7794256">nil</span><span class="op" id="7794259">}</span><span class="op" id="7794260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794263">{</span><span class="string" id="7794264">&#34;bytes=5-4&#34;</span><span class="op" id="7794275">,</span>&nbsp;<span class="num" id="7794277">10</span><span class="op" id="7794279">,</span>&nbsp;<span class="ident" id="7794281">nil</span><span class="op" id="7794284">}</span><span class="op" id="7794285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794288">{</span><span class="string" id="7794289">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="7794304">,</span>&nbsp;<span class="num" id="7794306">10</span><span class="op" id="7794308">,</span>&nbsp;<span class="ident" id="7794310">nil</span><span class="op" id="7794313">}</span><span class="op" id="7794314">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794317">{</span><span class="string" id="7794318">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="7794333">,</span>&nbsp;<span class="num" id="7794335">10</span><span class="op" id="7794337">,</span>&nbsp;<span class="ident" id="7794339">nil</span><span class="op" id="7794342">}</span><span class="op" id="7794343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794346">{</span><span class="string" id="7794347">&#34;bytes=--5,4--3&#34;</span><span class="op" id="7794363">,</span>&nbsp;<span class="num" id="7794365">10</span><span class="op" id="7794367">,</span>&nbsp;<span class="ident" id="7794369">nil</span><span class="op" id="7794372">}</span><span class="op" id="7794373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794376">{</span><span class="string" id="7794377">&#34;bytes=A-&#34;</span><span class="op" id="7794387">,</span>&nbsp;<span class="num" id="7794389">10</span><span class="op" id="7794391">,</span>&nbsp;<span class="ident" id="7794393">nil</span><span class="op" id="7794396">}</span><span class="op" id="7794397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794400">{</span><span class="string" id="7794401">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="7794412">,</span>&nbsp;<span class="num" id="7794414">10</span><span class="op" id="7794416">,</span>&nbsp;<span class="ident" id="7794418">nil</span><span class="op" id="7794421">}</span><span class="op" id="7794422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794425">{</span><span class="string" id="7794426">&#34;bytes=A-Z&#34;</span><span class="op" id="7794437">,</span>&nbsp;<span class="num" id="7794439">10</span><span class="op" id="7794441">,</span>&nbsp;<span class="ident" id="7794443">nil</span><span class="op" id="7794446">}</span><span class="op" id="7794447">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794450">{</span><span class="string" id="7794451">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="7794462">,</span>&nbsp;<span class="num" id="7794464">10</span><span class="op" id="7794466">,</span>&nbsp;<span class="ident" id="7794468">nil</span><span class="op" id="7794471">}</span><span class="op" id="7794472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794475">{</span><span class="string" id="7794476">&#34;bytes=5-Z&#34;</span><span class="op" id="7794487">,</span>&nbsp;<span class="num" id="7794489">10</span><span class="op" id="7794491">,</span>&nbsp;<span class="ident" id="7794493">nil</span><span class="op" id="7794496">}</span><span class="op" id="7794497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794500">{</span><span class="string" id="7794501">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="7794525">,</span>&nbsp;<span class="num" id="7794527">10</span><span class="op" id="7794529">,</span>&nbsp;<span class="ident" id="7794531">nil</span><span class="op" id="7794534">}</span><span class="op" id="7794535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794538">{</span><span class="string" id="7794539">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="7794556">,</span>&nbsp;<span class="num" id="7794558">10</span><span class="op" id="7794560">,</span>&nbsp;<span class="ident" id="7794562">nil</span><span class="op" id="7794565">}</span><span class="op" id="7794566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794569">{</span><span class="string" id="7794570">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7794587">,</span>&nbsp;<span class="num" id="7794589">10</span><span class="op" id="7794591">,</span>&nbsp;<span class="ident" id="7794593">nil</span><span class="op" id="7794596">}</span><span class="op" id="7794597">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794600">{</span><span class="string" id="7794601">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7794618">,</span>&nbsp;<span class="num" id="7794620">10</span><span class="op" id="7794622">,</span>&nbsp;<span class="ident" id="7794624">nil</span><span class="op" id="7794627">}</span><span class="op" id="7794628">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794632">{</span><span class="string" id="7794633">&#34;bytes=0-9&#34;</span><span class="op" id="7794644">,</span>&nbsp;<span class="num" id="7794646">10</span><span class="op" id="7794648">,</span>&nbsp;<span class="op" id="7794650">[</span><span class="op" id="7794651">]</span><span class="ident" id="7794652">httpRange</span><span class="op" id="7794661">{</span><span class="op" id="7794662">{</span><span class="num" id="7794663">0</span><span class="op" id="7794664">,</span>&nbsp;<span class="num" id="7794666">10</span><span class="op" id="7794668">}</span><span class="op" id="7794669">}</span><span class="op" id="7794670">}</span><span class="op" id="7794671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794674">{</span><span class="string" id="7794675">&#34;bytes=0-&#34;</span><span class="op" id="7794685">,</span>&nbsp;<span class="num" id="7794687">10</span><span class="op" id="7794689">,</span>&nbsp;<span class="op" id="7794691">[</span><span class="op" id="7794692">]</span><span class="ident" id="7794693">httpRange</span><span class="op" id="7794702">{</span><span class="op" id="7794703">{</span><span class="num" id="7794704">0</span><span class="op" id="7794705">,</span>&nbsp;<span class="num" id="7794707">10</span><span class="op" id="7794709">}</span><span class="op" id="7794710">}</span><span class="op" id="7794711">}</span><span class="op" id="7794712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794715">{</span><span class="string" id="7794716">&#34;bytes=5-&#34;</span><span class="op" id="7794726">,</span>&nbsp;<span class="num" id="7794728">10</span><span class="op" id="7794730">,</span>&nbsp;<span class="op" id="7794732">[</span><span class="op" id="7794733">]</span><span class="ident" id="7794734">httpRange</span><span class="op" id="7794743">{</span><span class="op" id="7794744">{</span><span class="num" id="7794745">5</span><span class="op" id="7794746">,</span>&nbsp;<span class="num" id="7794748">5</span><span class="op" id="7794749">}</span><span class="op" id="7794750">}</span><span class="op" id="7794751">}</span><span class="op" id="7794752">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794755">{</span><span class="string" id="7794756">&#34;bytes=0-20&#34;</span><span class="op" id="7794768">,</span>&nbsp;<span class="num" id="7794770">10</span><span class="op" id="7794772">,</span>&nbsp;<span class="op" id="7794774">[</span><span class="op" id="7794775">]</span><span class="ident" id="7794776">httpRange</span><span class="op" id="7794785">{</span><span class="op" id="7794786">{</span><span class="num" id="7794787">0</span><span class="op" id="7794788">,</span>&nbsp;<span class="num" id="7794790">10</span><span class="op" id="7794792">}</span><span class="op" id="7794793">}</span><span class="op" id="7794794">}</span><span class="op" id="7794795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794798">{</span><span class="string" id="7794799">&#34;bytes=15-,0-5&#34;</span><span class="op" id="7794814">,</span>&nbsp;<span class="num" id="7794816">10</span><span class="op" id="7794818">,</span>&nbsp;<span class="ident" id="7794820">nil</span><span class="op" id="7794823">}</span><span class="op" id="7794824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794827">{</span><span class="string" id="7794828">&#34;bytes=1-2,5-&#34;</span><span class="op" id="7794842">,</span>&nbsp;<span class="num" id="7794844">10</span><span class="op" id="7794846">,</span>&nbsp;<span class="op" id="7794848">[</span><span class="op" id="7794849">]</span><span class="ident" id="7794850">httpRange</span><span class="op" id="7794859">{</span><span class="op" id="7794860">{</span><span class="num" id="7794861">1</span><span class="op" id="7794862">,</span>&nbsp;<span class="num" id="7794864">2</span><span class="op" id="7794865">}</span><span class="op" id="7794866">,</span>&nbsp;<span class="op" id="7794868">{</span><span class="num" id="7794869">5</span><span class="op" id="7794870">,</span>&nbsp;<span class="num" id="7794872">5</span><span class="op" id="7794873">}</span><span class="op" id="7794874">}</span><span class="op" id="7794875">}</span><span class="op" id="7794876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794879">{</span><span class="string" id="7794880">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="7794895">,</span>&nbsp;<span class="num" id="7794897">11</span><span class="op" id="7794899">,</span>&nbsp;<span class="op" id="7794901">[</span><span class="op" id="7794902">]</span><span class="ident" id="7794903">httpRange</span><span class="op" id="7794912">{</span><span class="op" id="7794913">{</span><span class="num" id="7794914">9</span><span class="op" id="7794915">,</span>&nbsp;<span class="num" id="7794917">2</span><span class="op" id="7794918">}</span><span class="op" id="7794919">,</span>&nbsp;<span class="op" id="7794921">{</span><span class="num" id="7794922">7</span><span class="op" id="7794923">,</span>&nbsp;<span class="num" id="7794925">4</span><span class="op" id="7794926">}</span><span class="op" id="7794927">}</span><span class="op" id="7794928">}</span><span class="op" id="7794929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794932">{</span><span class="string" id="7794933">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="7794953">,</span>&nbsp;<span class="num" id="7794955">11</span><span class="op" id="7794957">,</span>&nbsp;<span class="op" id="7794959">[</span><span class="op" id="7794960">]</span><span class="ident" id="7794961">httpRange</span><span class="op" id="7794970">{</span><span class="op" id="7794971">{</span><span class="num" id="7794972">0</span><span class="op" id="7794973">,</span>&nbsp;<span class="num" id="7794975">1</span><span class="op" id="7794976">}</span><span class="op" id="7794977">,</span>&nbsp;<span class="op" id="7794979">{</span><span class="num" id="7794980">2</span><span class="op" id="7794981">,</span>&nbsp;<span class="num" id="7794983">1</span><span class="op" id="7794984">}</span><span class="op" id="7794985">,</span>&nbsp;<span class="op" id="7794987">{</span><span class="num" id="7794988">7</span><span class="op" id="7794989">,</span>&nbsp;<span class="num" id="7794991">4</span><span class="op" id="7794992">}</span><span class="op" id="7794993">}</span><span class="op" id="7794994">}</span><span class="op" id="7794995">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794998">{</span><span class="string" id="7794999">&#34;bytes=-5&#34;</span><span class="op" id="7795009">,</span>&nbsp;<span class="num" id="7795011">10</span><span class="op" id="7795013">,</span>&nbsp;<span class="op" id="7795015">[</span><span class="op" id="7795016">]</span><span class="ident" id="7795017">httpRange</span><span class="op" id="7795026">{</span><span class="op" id="7795027">{</span><span class="num" id="7795028">5</span><span class="op" id="7795029">,</span>&nbsp;<span class="num" id="7795031">5</span><span class="op" id="7795032">}</span><span class="op" id="7795033">}</span><span class="op" id="7795034">}</span><span class="op" id="7795035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795038">{</span><span class="string" id="7795039">&#34;bytes=-15&#34;</span><span class="op" id="7795050">,</span>&nbsp;<span class="num" id="7795052">10</span><span class="op" id="7795054">,</span>&nbsp;<span class="op" id="7795056">[</span><span class="op" id="7795057">]</span><span class="ident" id="7795058">httpRange</span><span class="op" id="7795067">{</span><span class="op" id="7795068">{</span><span class="num" id="7795069">0</span><span class="op" id="7795070">,</span>&nbsp;<span class="num" id="7795072">10</span><span class="op" id="7795074">}</span><span class="op" id="7795075">}</span><span class="op" id="7795076">}</span><span class="op" id="7795077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795080">{</span><span class="string" id="7795081">&#34;bytes=0-499&#34;</span><span class="op" id="7795094">,</span>&nbsp;<span class="num" id="7795096">10000</span><span class="op" id="7795101">,</span>&nbsp;<span class="op" id="7795103">[</span><span class="op" id="7795104">]</span><span class="ident" id="7795105">httpRange</span><span class="op" id="7795114">{</span><span class="op" id="7795115">{</span><span class="num" id="7795116">0</span><span class="op" id="7795117">,</span>&nbsp;<span class="num" id="7795119">500</span><span class="op" id="7795122">}</span><span class="op" id="7795123">}</span><span class="op" id="7795124">}</span><span class="op" id="7795125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795128">{</span><span class="string" id="7795129">&#34;bytes=500-999&#34;</span><span class="op" id="7795144">,</span>&nbsp;<span class="num" id="7795146">10000</span><span class="op" id="7795151">,</span>&nbsp;<span class="op" id="7795153">[</span><span class="op" id="7795154">]</span><span class="ident" id="7795155">httpRange</span><span class="op" id="7795164">{</span><span class="op" id="7795165">{</span><span class="num" id="7795166">500</span><span class="op" id="7795169">,</span>&nbsp;<span class="num" id="7795171">500</span><span class="op" id="7795174">}</span><span class="op" id="7795175">}</span><span class="op" id="7795176">}</span><span class="op" id="7795177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795180">{</span><span class="string" id="7795181">&#34;bytes=-500&#34;</span><span class="op" id="7795193">,</span>&nbsp;<span class="num" id="7795195">10000</span><span class="op" id="7795200">,</span>&nbsp;<span class="op" id="7795202">[</span><span class="op" id="7795203">]</span><span class="ident" id="7795204">httpRange</span><span class="op" id="7795213">{</span><span class="op" id="7795214">{</span><span class="num" id="7795215">9500</span><span class="op" id="7795219">,</span>&nbsp;<span class="num" id="7795221">500</span><span class="op" id="7795224">}</span><span class="op" id="7795225">}</span><span class="op" id="7795226">}</span><span class="op" id="7795227">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795230">{</span><span class="string" id="7795231">&#34;bytes=9500-&#34;</span><span class="op" id="7795244">,</span>&nbsp;<span class="num" id="7795246">10000</span><span class="op" id="7795251">,</span>&nbsp;<span class="op" id="7795253">[</span><span class="op" id="7795254">]</span><span class="ident" id="7795255">httpRange</span><span class="op" id="7795264">{</span><span class="op" id="7795265">{</span><span class="num" id="7795266">9500</span><span class="op" id="7795270">,</span>&nbsp;<span class="num" id="7795272">500</span><span class="op" id="7795275">}</span><span class="op" id="7795276">}</span><span class="op" id="7795277">}</span><span class="op" id="7795278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795281">{</span><span class="string" id="7795282">&#34;bytes=0-0,-1&#34;</span><span class="op" id="7795296">,</span>&nbsp;<span class="num" id="7795298">10000</span><span class="op" id="7795303">,</span>&nbsp;<span class="op" id="7795305">[</span><span class="op" id="7795306">]</span><span class="ident" id="7795307">httpRange</span><span class="op" id="7795316">{</span><span class="op" id="7795317">{</span><span class="num" id="7795318">0</span><span class="op" id="7795319">,</span>&nbsp;<span class="num" id="7795321">1</span><span class="op" id="7795322">}</span><span class="op" id="7795323">,</span>&nbsp;<span class="op" id="7795325">{</span><span class="num" id="7795326">9999</span><span class="op" id="7795330">,</span>&nbsp;<span class="num" id="7795332">1</span><span class="op" id="7795333">}</span><span class="op" id="7795334">}</span><span class="op" id="7795335">}</span><span class="op" id="7795336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795339">{</span><span class="string" id="7795340">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="7795363">,</span>&nbsp;<span class="num" id="7795365">10000</span><span class="op" id="7795370">,</span>&nbsp;<span class="op" id="7795372">[</span><span class="op" id="7795373">]</span><span class="ident" id="7795374">httpRange</span><span class="op" id="7795383">{</span><span class="op" id="7795384">{</span><span class="num" id="7795385">500</span><span class="op" id="7795388">,</span>&nbsp;<span class="num" id="7795390">101</span><span class="op" id="7795393">}</span><span class="op" id="7795394">,</span>&nbsp;<span class="op" id="7795396">{</span><span class="num" id="7795397">601</span><span class="op" id="7795400">,</span>&nbsp;<span class="num" id="7795402">399</span><span class="op" id="7795405">}</span><span class="op" id="7795406">}</span><span class="op" id="7795407">}</span><span class="op" id="7795408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795411">{</span><span class="string" id="7795412">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="7795435">,</span>&nbsp;<span class="num" id="7795437">10000</span><span class="op" id="7795442">,</span>&nbsp;<span class="op" id="7795444">[</span><span class="op" id="7795445">]</span><span class="ident" id="7795446">httpRange</span><span class="op" id="7795455">{</span><span class="op" id="7795456">{</span><span class="num" id="7795457">500</span><span class="op" id="7795460">,</span>&nbsp;<span class="num" id="7795462">201</span><span class="op" id="7795465">}</span><span class="op" id="7795466">,</span>&nbsp;<span class="op" id="7795468">{</span><span class="num" id="7795469">601</span><span class="op" id="7795472">,</span>&nbsp;<span class="num" id="7795474">399</span><span class="op" id="7795477">}</span><span class="op" id="7795478">}</span><span class="op" id="7795479">}</span><span class="op" id="7795480">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7795484">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795509">{</span><span class="string" id="7795510">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="7795547">,</span>&nbsp;<span class="num" id="7795549">11</span><span class="op" id="7795551">,</span>&nbsp;<span class="op" id="7795553">[</span><span class="op" id="7795554">]</span><span class="ident" id="7795555">httpRange</span><span class="op" id="7795564">{</span><span class="op" id="7795565">{</span><span class="num" id="7795566">1</span><span class="op" id="7795567">,</span>&nbsp;<span class="num" id="7795569">2</span><span class="op" id="7795570">}</span><span class="op" id="7795571">,</span>&nbsp;<span class="op" id="7795573">{</span><span class="num" id="7795574">4</span><span class="op" id="7795575">,</span>&nbsp;<span class="num" id="7795577">2</span><span class="op" id="7795578">}</span><span class="op" id="7795579">,</span>&nbsp;<span class="op" id="7795581">{</span><span class="num" id="7795582">7</span><span class="op" id="7795583">,</span>&nbsp;<span class="num" id="7795585">2</span><span class="op" id="7795586">}</span><span class="op" id="7795587">}</span><span class="op" id="7795588">}</span><span class="op" id="7795589">,</span><br>
<span class="lineno"></span><span class="op" id="7795591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7795594">func</span>&nbsp;<span class="ident" id="7795599">TestParseRange</span><span class="op" id="7795613">(</span><span class="ident" id="7795614">t</span>&nbsp;<span class="op" id="7795616">*</span><span class="ident" id="7795617">testing</span><span class="op" id="7795624">.</span><span class="ident" id="7795625">T</span><span class="op" id="7795626">)</span>&nbsp;<span class="op" id="7795628">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795631">for</span>&nbsp;<span class="ident" id="7795635">_</span><span class="op" id="7795636">,</span>&nbsp;<span class="ident" id="7795638">test</span>&nbsp;<span class="op" id="7795643">:=</span>&nbsp;<span class="keyword" id="7795646">range</span>&nbsp;<span class="ident" id="7795652">ParseRangeTests</span>&nbsp;<span class="op" id="7795668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795672">r</span>&nbsp;<span class="op" id="7795674">:=</span>&nbsp;<span class="ident" id="7795677">test</span><span class="op" id="7795681">.</span><span class="ident" id="7795682">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795686">ranges</span><span class="op" id="7795692">,</span>&nbsp;<span class="ident" id="7795694">err</span>&nbsp;<span class="op" id="7795698">:=</span>&nbsp;<span class="ident" id="7795701">parseRange</span><span class="op" id="7795711">(</span><span class="ident" id="7795712">test</span><span class="op" id="7795716">.</span><span class="ident" id="7795717">s</span><span class="op" id="7795718">,</span>&nbsp;<span class="ident" id="7795720">test</span><span class="op" id="7795724">.</span><span class="ident" id="7795725">length</span><span class="op" id="7795731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795735">if</span>&nbsp;<span class="ident" id="7795738">err</span>&nbsp;<span class="op" id="7795742">!=</span>&nbsp;<span class="ident" id="7795745">nil</span>&nbsp;<span class="op" id="7795749">&amp;&amp;</span>&nbsp;<span class="ident" id="7795752">r</span>&nbsp;<span class="op" id="7795754">!=</span>&nbsp;<span class="ident" id="7795757">nil</span>&nbsp;<span class="op" id="7795761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795766">t</span><span class="op" id="7795767">.</span><span class="ident" id="7795768">Errorf</span><span class="op" id="7795774">(</span><span class="string" id="7795775">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7795809">,</span>&nbsp;<span class="ident" id="7795811">test</span><span class="op" id="7795815">.</span><span class="ident" id="7795816">s</span><span class="op" id="7795817">,</span>&nbsp;<span class="ident" id="7795819">err</span><span class="op" id="7795822">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795830">if</span>&nbsp;<span class="builtinfunc" id="7795833">len</span><span class="op" id="7795836">(</span><span class="ident" id="7795837">ranges</span><span class="op" id="7795843">)</span>&nbsp;<span class="op" id="7795845">!=</span>&nbsp;<span class="builtinfunc" id="7795848">len</span><span class="op" id="7795851">(</span><span class="ident" id="7795852">r</span><span class="op" id="7795853">)</span>&nbsp;<span class="op" id="7795855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795860">t</span><span class="op" id="7795861">.</span><span class="ident" id="7795862">Errorf</span><span class="op" id="7795868">(</span><span class="string" id="7795869">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7795904">,</span>&nbsp;<span class="ident" id="7795906">test</span><span class="op" id="7795910">.</span><span class="ident" id="7795911">s</span><span class="op" id="7795912">,</span>&nbsp;<span class="builtinfunc" id="7795914">len</span><span class="op" id="7795917">(</span><span class="ident" id="7795918">ranges</span><span class="op" id="7795924">)</span><span class="op" id="7795925">,</span>&nbsp;<span class="builtinfunc" id="7795927">len</span><span class="op" id="7795930">(</span><span class="ident" id="7795931">r</span><span class="op" id="7795932">)</span><span class="op" id="7795933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795938">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795949">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795953">for</span>&nbsp;<span class="ident" id="7795957">i</span>&nbsp;<span class="op" id="7795959">:=</span>&nbsp;<span class="keyword" id="7795962">range</span>&nbsp;<span class="ident" id="7795968">r</span>&nbsp;<span class="op" id="7795970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795975">if</span>&nbsp;<span class="ident" id="7795978">ranges</span><span class="op" id="7795984">[</span><span class="ident" id="7795985">i</span><span class="op" id="7795986">]</span><span class="op" id="7795987">.</span><span class="ident" id="7795988">start</span>&nbsp;<span class="op" id="7795994">!=</span>&nbsp;<span class="ident" id="7795997">r</span><span class="op" id="7795998">[</span><span class="ident" id="7795999">i</span><span class="op" id="7796000">]</span><span class="op" id="7796001">.</span><span class="ident" id="7796002">start</span>&nbsp;<span class="op" id="7796008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796014">t</span><span class="op" id="7796015">.</span><span class="ident" id="7796016">Errorf</span><span class="op" id="7796022">(</span><span class="string" id="7796023">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7796063">,</span>&nbsp;<span class="ident" id="7796065">test</span><span class="op" id="7796069">.</span><span class="ident" id="7796070">s</span><span class="op" id="7796071">,</span>&nbsp;<span class="ident" id="7796073">i</span><span class="op" id="7796074">,</span>&nbsp;<span class="ident" id="7796076">ranges</span><span class="op" id="7796082">[</span><span class="ident" id="7796083">i</span><span class="op" id="7796084">]</span><span class="op" id="7796085">.</span><span class="ident" id="7796086">start</span><span class="op" id="7796091">,</span>&nbsp;<span class="ident" id="7796093">r</span><span class="op" id="7796094">[</span><span class="ident" id="7796095">i</span><span class="op" id="7796096">]</span><span class="op" id="7796097">.</span><span class="ident" id="7796098">start</span><span class="op" id="7796103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7796108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7796113">if</span>&nbsp;<span class="ident" id="7796116">ranges</span><span class="op" id="7796122">[</span><span class="ident" id="7796123">i</span><span class="op" id="7796124">]</span><span class="op" id="7796125">.</span><span class="ident" id="7796126">length</span>&nbsp;<span class="op" id="7796133">!=</span>&nbsp;<span class="ident" id="7796136">r</span><span class="op" id="7796137">[</span><span class="ident" id="7796138">i</span><span class="op" id="7796139">]</span><span class="op" id="7796140">.</span><span class="ident" id="7796141">length</span>&nbsp;<span class="op" id="7796148">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796154">t</span><span class="op" id="7796155">.</span><span class="ident" id="7796156">Errorf</span><span class="op" id="7796162">(</span><span class="string" id="7796163">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7796204">,</span>&nbsp;<span class="ident" id="7796206">test</span><span class="op" id="7796210">.</span><span class="ident" id="7796211">s</span><span class="op" id="7796212">,</span>&nbsp;<span class="ident" id="7796214">i</span><span class="op" id="7796215">,</span>&nbsp;<span class="ident" id="7796217">ranges</span><span class="op" id="7796223">[</span><span class="ident" id="7796224">i</span><span class="op" id="7796225">]</span><span class="op" id="7796226">.</span><span class="ident" id="7796227">length</span><span class="op" id="7796233">,</span>&nbsp;<span class="ident" id="7796235">r</span><span class="op" id="7796236">[</span><span class="ident" id="7796237">i</span><span class="op" id="7796238">]</span><span class="op" id="7796239">.</span><span class="ident" id="7796240">length</span><span class="op" id="7796246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7796251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7796255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7796258">}</span><br>
<span class="lineno"></span><span class="op" id="7796260">}</span>
</div>
</body>
</html>
