<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3688653">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3688708">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3688762">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3688813">//&nbsp;Package&nbsp;hex&nbsp;implements&nbsp;hexadecimal&nbsp;encoding&nbsp;and&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3688874">package</span>&nbsp;<span class="ident" id="3688882">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3688887">import</span>&nbsp;<span class="op" id="3688894">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3688897">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3688906">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3688916">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3688923">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="3688928">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3688931">const</span>&nbsp;<span class="ident" id="3688937">hextable</span>&nbsp;<span class="op" id="3688946">=</span>&nbsp;<span class="string" id="3688948">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3688968">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="3689035">func</span>&nbsp;<span class="ident" id="3689040">EncodedLen</span><span class="op" id="3689050">(</span><span class="ident" id="3689051">n</span>&nbsp;<span class="builtintype" id="3689053">int</span><span class="op" id="3689056">)</span>&nbsp;<span class="builtintype" id="3689058">int</span>&nbsp;<span class="op" id="3689062">{</span>&nbsp;<span class="keyword" id="3689064">return</span>&nbsp;<span class="ident" id="3689071">n</span>&nbsp;<span class="op" id="3689073">*</span>&nbsp;<span class="num" id="3689075">2</span>&nbsp;<span class="op" id="3689077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="3689080">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;EncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="3689128">//&nbsp;bytes&nbsp;of&nbsp;dst.&nbsp;&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="3689186">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst,&nbsp;but&nbsp;this&nbsp;value&nbsp;is&nbsp;always&nbsp;EncodedLen(len(src)).</span><br>
<span class="lineno"></span><span class="comment" id="3689261">//&nbsp;Encode&nbsp;implements&nbsp;hexadecimal&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3689304">func</span>&nbsp;<span class="ident" id="3689309">Encode</span><span class="op" id="3689315">(</span><span class="ident" id="3689316">dst</span><span class="op" id="3689319">,</span>&nbsp;<span class="ident" id="3689321">src</span>&nbsp;<span class="op" id="3689325">[</span><span class="op" id="3689326">]</span><span class="builtintype" id="3689327">byte</span><span class="op" id="3689331">)</span>&nbsp;<span class="builtintype" id="3689333">int</span>&nbsp;<span class="op" id="3689337">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3689340">for</span>&nbsp;<span class="ident" id="3689344">i</span><span class="op" id="3689345">,</span>&nbsp;<span class="ident" id="3689347">v</span>&nbsp;<span class="op" id="3689349">:=</span>&nbsp;<span class="keyword" id="3689352">range</span>&nbsp;<span class="ident" id="3689358">src</span>&nbsp;<span class="op" id="3689362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3689366">dst</span><span class="op" id="3689369">[</span><span class="ident" id="3689370">i</span><span class="op" id="3689371">*</span><span class="num" id="3689372">2</span><span class="op" id="3689373">]</span>&nbsp;<span class="op" id="3689375">=</span>&nbsp;<span class="ident" id="3689377">hextable</span><span class="op" id="3689385">[</span><span class="ident" id="3689386">v</span><span class="op" id="3689387">&gt;&gt;</span><span class="num" id="3689389">4</span><span class="op" id="3689390">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3689394">dst</span><span class="op" id="3689397">[</span><span class="ident" id="3689398">i</span><span class="op" id="3689399">*</span><span class="num" id="3689400">2</span><span class="op" id="3689401">+</span><span class="num" id="3689402">1</span><span class="op" id="3689403">]</span>&nbsp;<span class="op" id="3689405">=</span>&nbsp;<span class="ident" id="3689407">hextable</span><span class="op" id="3689415">[</span><span class="ident" id="3689416">v</span><span class="op" id="3689417">&amp;</span><span class="num" id="3689418">0x0f</span><span class="op" id="3689422">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3689425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3689429">return</span>&nbsp;<span class="builtinfunc" id="3689436">len</span><span class="op" id="3689439">(</span><span class="ident" id="3689440">src</span><span class="op" id="3689443">)</span>&nbsp;<span class="op" id="3689445">*</span>&nbsp;<span class="num" id="3689447">2</span><br>
<span class="lineno"></span><span class="op" id="3689449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3689452">//&nbsp;ErrLength&nbsp;results&nbsp;from&nbsp;decoding&nbsp;an&nbsp;odd&nbsp;length&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="3689508">var</span>&nbsp;<span class="ident" id="3689512">ErrLength</span>&nbsp;<span class="op" id="3689522">=</span>&nbsp;<span class="ident" id="3689524">errors</span><span class="op" id="3689530">.</span><span class="ident" id="3689531">New</span><span class="op" id="3689534">(</span><span class="string" id="3689535">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="3689572">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3689575">//&nbsp;InvalidByteError&nbsp;values&nbsp;describe&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;an&nbsp;invalid&nbsp;byte&nbsp;in&nbsp;a&nbsp;hex&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3689666">type</span>&nbsp;<span class="ident" id="3689671">InvalidByteError</span>&nbsp;<span class="builtintype" id="3689688">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3689694">func</span>&nbsp;<span class="op" id="3689699">(</span><span class="ident" id="3689700">e</span>&nbsp;<span class="ident" id="3689702">InvalidByteError</span><span class="op" id="3689718">)</span>&nbsp;<span class="ident" id="3689720">Error</span><span class="op" id="3689725">(</span><span class="op" id="3689726">)</span>&nbsp;<span class="builtintype" id="3689728">string</span>&nbsp;<span class="op" id="3689735">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3689738">return</span>&nbsp;<span class="ident" id="3689745">fmt</span><span class="op" id="3689748">.</span><span class="ident" id="3689749">Sprintf</span><span class="op" id="3689756">(</span><span class="string" id="3689757">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;%#U&#34;</span><span class="op" id="3689790">,</span>&nbsp;<span class="builtintype" id="3689792">rune</span><span class="op" id="3689796">(</span><span class="ident" id="3689797">e</span><span class="op" id="3689798">)</span><span class="op" id="3689799">)</span><br>
<span class="lineno"></span><span class="op" id="3689801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3689804">func</span>&nbsp;<span class="ident" id="3689809">DecodedLen</span><span class="op" id="3689819">(</span><span class="ident" id="3689820">x</span>&nbsp;<span class="builtintype" id="3689822">int</span><span class="op" id="3689825">)</span>&nbsp;<span class="builtintype" id="3689827">int</span>&nbsp;<span class="op" id="3689831">{</span>&nbsp;<span class="keyword" id="3689833">return</span>&nbsp;<span class="ident" id="3689840">x</span>&nbsp;<span class="op" id="3689842">/</span>&nbsp;<span class="num" id="3689844">2</span>&nbsp;<span class="op" id="3689846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="3689849">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;DecodedLen(len(src))&nbsp;bytes,&nbsp;returning&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="3689925">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="3689960">//</span><br>
<span class="lineno"></span><span class="comment" id="3689963">//&nbsp;If&nbsp;Decode&nbsp;encounters&nbsp;invalid&nbsp;input,&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="keyword" id="3690046">func</span>&nbsp;<span class="ident" id="3690051">Decode</span><span class="op" id="3690057">(</span><span class="ident" id="3690058">dst</span><span class="op" id="3690061">,</span>&nbsp;<span class="ident" id="3690063">src</span>&nbsp;<span class="op" id="3690067">[</span><span class="op" id="3690068">]</span><span class="builtintype" id="3690069">byte</span><span class="op" id="3690073">)</span>&nbsp;<span class="op" id="3690075">(</span><span class="builtintype" id="3690076">int</span><span class="op" id="3690079">,</span>&nbsp;<span class="builtintype" id="3690081">error</span><span class="op" id="3690086">)</span>&nbsp;<span class="op" id="3690088">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690091">if</span>&nbsp;<span class="builtinfunc" id="3690094">len</span><span class="op" id="3690097">(</span><span class="ident" id="3690098">src</span><span class="op" id="3690101">)</span><span class="op" id="3690102">%</span><span class="num" id="3690103">2</span>&nbsp;<span class="op" id="3690105">==</span>&nbsp;<span class="num" id="3690108">1</span>&nbsp;<span class="op" id="3690110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690114">return</span>&nbsp;<span class="num" id="3690121">0</span><span class="op" id="3690122">,</span>&nbsp;<span class="ident" id="3690124">ErrLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3690135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690139">for</span>&nbsp;<span class="ident" id="3690143">i</span>&nbsp;<span class="op" id="3690145">:=</span>&nbsp;<span class="num" id="3690148">0</span><span class="op" id="3690149">;</span>&nbsp;<span class="ident" id="3690151">i</span>&nbsp;<span class="op" id="3690153">&lt;</span>&nbsp;<span class="builtinfunc" id="3690155">len</span><span class="op" id="3690158">(</span><span class="ident" id="3690159">src</span><span class="op" id="3690162">)</span><span class="op" id="3690163">/</span><span class="num" id="3690164">2</span><span class="op" id="3690165">;</span>&nbsp;<span class="ident" id="3690167">i</span><span class="op" id="3690168">++</span>&nbsp;<span class="op" id="3690171">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3690175">a</span><span class="op" id="3690176">,</span>&nbsp;<span class="ident" id="3690178">ok</span>&nbsp;<span class="op" id="3690181">:=</span>&nbsp;<span class="ident" id="3690184">fromHexChar</span><span class="op" id="3690195">(</span><span class="ident" id="3690196">src</span><span class="op" id="3690199">[</span><span class="ident" id="3690200">i</span><span class="op" id="3690201">*</span><span class="num" id="3690202">2</span><span class="op" id="3690203">]</span><span class="op" id="3690204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690208">if</span>&nbsp;<span class="op" id="3690211">!</span><span class="ident" id="3690212">ok</span>&nbsp;<span class="op" id="3690215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690220">return</span>&nbsp;<span class="num" id="3690227">0</span><span class="op" id="3690228">,</span>&nbsp;<span class="ident" id="3690230">InvalidByteError</span><span class="op" id="3690246">(</span><span class="ident" id="3690247">src</span><span class="op" id="3690250">[</span><span class="ident" id="3690251">i</span><span class="op" id="3690252">*</span><span class="num" id="3690253">2</span><span class="op" id="3690254">]</span><span class="op" id="3690255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3690259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3690263">b</span><span class="op" id="3690264">,</span>&nbsp;<span class="ident" id="3690266">ok</span>&nbsp;<span class="op" id="3690269">:=</span>&nbsp;<span class="ident" id="3690272">fromHexChar</span><span class="op" id="3690283">(</span><span class="ident" id="3690284">src</span><span class="op" id="3690287">[</span><span class="ident" id="3690288">i</span><span class="op" id="3690289">*</span><span class="num" id="3690290">2</span><span class="op" id="3690291">+</span><span class="num" id="3690292">1</span><span class="op" id="3690293">]</span><span class="op" id="3690294">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690298">if</span>&nbsp;<span class="op" id="3690301">!</span><span class="ident" id="3690302">ok</span>&nbsp;<span class="op" id="3690305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690310">return</span>&nbsp;<span class="num" id="3690317">0</span><span class="op" id="3690318">,</span>&nbsp;<span class="ident" id="3690320">InvalidByteError</span><span class="op" id="3690336">(</span><span class="ident" id="3690337">src</span><span class="op" id="3690340">[</span><span class="ident" id="3690341">i</span><span class="op" id="3690342">*</span><span class="num" id="3690343">2</span><span class="op" id="3690344">+</span><span class="num" id="3690345">1</span><span class="op" id="3690346">]</span><span class="op" id="3690347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3690351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3690355">dst</span><span class="op" id="3690358">[</span><span class="ident" id="3690359">i</span><span class="op" id="3690360">]</span>&nbsp;<span class="op" id="3690362">=</span>&nbsp;<span class="op" id="3690364">(</span><span class="ident" id="3690365">a</span>&nbsp;<span class="op" id="3690367">&lt;&lt;</span>&nbsp;<span class="num" id="3690370">4</span><span class="op" id="3690371">)</span>&nbsp;<span class="op" id="3690373">|</span>&nbsp;<span class="ident" id="3690375">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3690378">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690382">return</span>&nbsp;<span class="builtinfunc" id="3690389">len</span><span class="op" id="3690392">(</span><span class="ident" id="3690393">src</span><span class="op" id="3690396">)</span>&nbsp;<span class="op" id="3690398">/</span>&nbsp;<span class="num" id="3690400">2</span><span class="op" id="3690401">,</span>&nbsp;<span class="ident" id="3690403">nil</span><br>
<span class="lineno"></span><span class="op" id="3690407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3690410">//&nbsp;fromHexChar&nbsp;converts&nbsp;a&nbsp;hex&nbsp;character&nbsp;into&nbsp;its&nbsp;value&nbsp;and&nbsp;a&nbsp;success&nbsp;flag.</span><br>
<span class="lineno">70</span><span class="keyword" id="3690485">func</span>&nbsp;<span class="ident" id="3690490">fromHexChar</span><span class="op" id="3690501">(</span><span class="ident" id="3690502">c</span>&nbsp;<span class="builtintype" id="3690504">byte</span><span class="op" id="3690508">)</span>&nbsp;<span class="op" id="3690510">(</span><span class="builtintype" id="3690511">byte</span><span class="op" id="3690515">,</span>&nbsp;<span class="builtintype" id="3690517">bool</span><span class="op" id="3690521">)</span>&nbsp;<span class="op" id="3690523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690526">switch</span>&nbsp;<span class="op" id="3690533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690536">case</span>&nbsp;<span class="string" id="3690541">&#39;0&#39;</span>&nbsp;<span class="op" id="3690545">&lt;=</span>&nbsp;<span class="ident" id="3690548">c</span>&nbsp;<span class="op" id="3690550">&amp;&amp;</span>&nbsp;<span class="ident" id="3690553">c</span>&nbsp;<span class="op" id="3690555">&lt;=</span>&nbsp;<span class="string" id="3690558">&#39;9&#39;</span><span class="op" id="3690561">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690565">return</span>&nbsp;<span class="ident" id="3690572">c</span>&nbsp;<span class="op" id="3690574">-</span>&nbsp;<span class="string" id="3690576">&#39;0&#39;</span><span class="op" id="3690579">,</span>&nbsp;<span class="builtintype" id="3690581">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690587">case</span>&nbsp;<span class="string" id="3690592">&#39;a&#39;</span>&nbsp;<span class="op" id="3690596">&lt;=</span>&nbsp;<span class="ident" id="3690599">c</span>&nbsp;<span class="op" id="3690601">&amp;&amp;</span>&nbsp;<span class="ident" id="3690604">c</span>&nbsp;<span class="op" id="3690606">&lt;=</span>&nbsp;<span class="string" id="3690609">&#39;f&#39;</span><span class="op" id="3690612">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690616">return</span>&nbsp;<span class="ident" id="3690623">c</span>&nbsp;<span class="op" id="3690625">-</span>&nbsp;<span class="string" id="3690627">&#39;a&#39;</span>&nbsp;<span class="op" id="3690631">+</span>&nbsp;<span class="num" id="3690633">10</span><span class="op" id="3690635">,</span>&nbsp;<span class="builtintype" id="3690637">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690643">case</span>&nbsp;<span class="string" id="3690648">&#39;A&#39;</span>&nbsp;<span class="op" id="3690652">&lt;=</span>&nbsp;<span class="ident" id="3690655">c</span>&nbsp;<span class="op" id="3690657">&amp;&amp;</span>&nbsp;<span class="ident" id="3690660">c</span>&nbsp;<span class="op" id="3690662">&lt;=</span>&nbsp;<span class="string" id="3690665">&#39;F&#39;</span><span class="op" id="3690668">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690672">return</span>&nbsp;<span class="ident" id="3690679">c</span>&nbsp;<span class="op" id="3690681">-</span>&nbsp;<span class="string" id="3690683">&#39;A&#39;</span>&nbsp;<span class="op" id="3690687">+</span>&nbsp;<span class="num" id="3690689">10</span><span class="op" id="3690691">,</span>&nbsp;<span class="builtintype" id="3690693">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3690699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690703">return</span>&nbsp;<span class="num" id="3690710">0</span><span class="op" id="3690711">,</span>&nbsp;<span class="builtintype" id="3690713">false</span><br>
<span class="lineno"></span><span class="op" id="3690719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3690722">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="3690781">func</span>&nbsp;<span class="ident" id="3690786">EncodeToString</span><span class="op" id="3690800">(</span><span class="ident" id="3690801">src</span>&nbsp;<span class="op" id="3690805">[</span><span class="op" id="3690806">]</span><span class="builtintype" id="3690807">byte</span><span class="op" id="3690811">)</span>&nbsp;<span class="builtintype" id="3690813">string</span>&nbsp;<span class="op" id="3690820">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3690823">dst</span>&nbsp;<span class="op" id="3690827">:=</span>&nbsp;<span class="builtinfunc" id="3690830">make</span><span class="op" id="3690834">(</span><span class="op" id="3690835">[</span><span class="op" id="3690836">]</span><span class="builtintype" id="3690837">byte</span><span class="op" id="3690841">,</span>&nbsp;<span class="ident" id="3690843">EncodedLen</span><span class="op" id="3690853">(</span><span class="builtinfunc" id="3690854">len</span><span class="op" id="3690857">(</span><span class="ident" id="3690858">src</span><span class="op" id="3690861">)</span><span class="op" id="3690862">)</span><span class="op" id="3690863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3690866">Encode</span><span class="op" id="3690872">(</span><span class="ident" id="3690873">dst</span><span class="op" id="3690876">,</span>&nbsp;<span class="ident" id="3690878">src</span><span class="op" id="3690881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3690884">return</span>&nbsp;<span class="builtintype" id="3690891">string</span><span class="op" id="3690897">(</span><span class="ident" id="3690898">dst</span><span class="op" id="3690901">)</span><br>
<span class="lineno"></span><span class="op" id="3690903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="3690906">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;hexadecimal&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3690981">func</span>&nbsp;<span class="ident" id="3690986">DecodeString</span><span class="op" id="3690998">(</span><span class="ident" id="3690999">s</span>&nbsp;<span class="builtintype" id="3691001">string</span><span class="op" id="3691007">)</span>&nbsp;<span class="op" id="3691009">(</span><span class="op" id="3691010">[</span><span class="op" id="3691011">]</span><span class="builtintype" id="3691012">byte</span><span class="op" id="3691016">,</span>&nbsp;<span class="builtintype" id="3691018">error</span><span class="op" id="3691023">)</span>&nbsp;<span class="op" id="3691025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691028">src</span>&nbsp;<span class="op" id="3691032">:=</span>&nbsp;<span class="op" id="3691035">[</span><span class="op" id="3691036">]</span><span class="builtintype" id="3691037">byte</span><span class="op" id="3691041">(</span><span class="ident" id="3691042">s</span><span class="op" id="3691043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691046">dst</span>&nbsp;<span class="op" id="3691050">:=</span>&nbsp;<span class="builtinfunc" id="3691053">make</span><span class="op" id="3691057">(</span><span class="op" id="3691058">[</span><span class="op" id="3691059">]</span><span class="builtintype" id="3691060">byte</span><span class="op" id="3691064">,</span>&nbsp;<span class="ident" id="3691066">DecodedLen</span><span class="op" id="3691076">(</span><span class="builtinfunc" id="3691077">len</span><span class="op" id="3691080">(</span><span class="ident" id="3691081">src</span><span class="op" id="3691084">)</span><span class="op" id="3691085">)</span><span class="op" id="3691086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691089">_</span><span class="op" id="3691090">,</span>&nbsp;<span class="ident" id="3691092">err</span>&nbsp;<span class="op" id="3691096">:=</span>&nbsp;<span class="ident" id="3691099">Decode</span><span class="op" id="3691105">(</span><span class="ident" id="3691106">dst</span><span class="op" id="3691109">,</span>&nbsp;<span class="ident" id="3691111">src</span><span class="op" id="3691114">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3691117">if</span>&nbsp;<span class="ident" id="3691120">err</span>&nbsp;<span class="op" id="3691124">!=</span>&nbsp;<span class="ident" id="3691127">nil</span>&nbsp;<span class="op" id="3691131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3691135">return</span>&nbsp;<span class="ident" id="3691142">nil</span><span class="op" id="3691145">,</span>&nbsp;<span class="ident" id="3691147">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3691152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3691155">return</span>&nbsp;<span class="ident" id="3691162">dst</span><span class="op" id="3691165">,</span>&nbsp;<span class="ident" id="3691167">nil</span><br>
<span class="lineno"></span><span class="op" id="3691171">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="3691174">//&nbsp;Dump&nbsp;returns&nbsp;a&nbsp;string&nbsp;that&nbsp;contains&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;The&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="3691254">//&nbsp;of&nbsp;the&nbsp;hex&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="3691329">func</span>&nbsp;<span class="ident" id="3691334">Dump</span><span class="op" id="3691338">(</span><span class="ident" id="3691339">data</span>&nbsp;<span class="op" id="3691344">[</span><span class="op" id="3691345">]</span><span class="builtintype" id="3691346">byte</span><span class="op" id="3691350">)</span>&nbsp;<span class="builtintype" id="3691352">string</span>&nbsp;<span class="op" id="3691359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3691362">var</span>&nbsp;<span class="ident" id="3691366">buf</span>&nbsp;<span class="ident" id="3691370">bytes</span><span class="op" id="3691375">.</span><span class="ident" id="3691376">Buffer</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691384">dumper</span>&nbsp;<span class="op" id="3691391">:=</span>&nbsp;<span class="ident" id="3691394">Dumper</span><span class="op" id="3691400">(</span><span class="op" id="3691401">&amp;</span><span class="ident" id="3691402">buf</span><span class="op" id="3691405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691408">dumper</span><span class="op" id="3691414">.</span><span class="ident" id="3691415">Write</span><span class="op" id="3691420">(</span><span class="ident" id="3691421">data</span><span class="op" id="3691425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691428">dumper</span><span class="op" id="3691434">.</span><span class="ident" id="3691435">Close</span><span class="op" id="3691440">(</span><span class="op" id="3691441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3691444">return</span>&nbsp;<span class="builtintype" id="3691451">string</span><span class="op" id="3691457">(</span><span class="ident" id="3691458">buf</span><span class="op" id="3691461">.</span><span class="ident" id="3691462">Bytes</span><span class="op" id="3691467">(</span><span class="op" id="3691468">)</span><span class="op" id="3691469">)</span><br>
<span class="lineno"></span><span class="op" id="3691471">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="3691474">//&nbsp;Dumper&nbsp;returns&nbsp;a&nbsp;WriteCloser&nbsp;that&nbsp;writes&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;all&nbsp;written&nbsp;data&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3691552">//&nbsp;w.&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span><span class="comment" id="3691631">//&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="3691640">func</span>&nbsp;<span class="ident" id="3691645">Dumper</span><span class="op" id="3691651">(</span><span class="ident" id="3691652">w</span>&nbsp;<span class="ident" id="3691654">io</span><span class="op" id="3691656">.</span><span class="ident" id="3691657">Writer</span><span class="op" id="3691663">)</span>&nbsp;<span class="ident" id="3691665">io</span><span class="op" id="3691667">.</span><span class="ident" id="3691668">WriteCloser</span>&nbsp;<span class="op" id="3691680">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3691683">return</span>&nbsp;<span class="op" id="3691690">&amp;</span><span class="ident" id="3691691">dumper</span><span class="op" id="3691697">{</span><span class="ident" id="3691698">w</span><span class="op" id="3691699">:</span>&nbsp;<span class="ident" id="3691701">w</span><span class="op" id="3691702">}</span><br>
<span class="lineno"></span><span class="op" id="3691704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3691707">type</span>&nbsp;<span class="ident" id="3691712">dumper</span>&nbsp;<span class="keyword" id="3691719">struct</span>&nbsp;<span class="op" id="3691726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691729">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3691740">io</span><span class="op" id="3691742">.</span><span class="ident" id="3691743">Writer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691751">rightChars</span>&nbsp;<span class="op" id="3691762">[</span><span class="num" id="3691763">18</span><span class="op" id="3691765">]</span><span class="builtintype" id="3691766">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691772">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3691783">[</span><span class="num" id="3691784">14</span><span class="op" id="3691786">]</span><span class="builtintype" id="3691787">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691793">used</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3691804">int</span>&nbsp;&nbsp;<span class="comment" id="3691809">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3691849">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3691860">uint</span>&nbsp;<span class="comment" id="3691865">//&nbsp;number&nbsp;of&nbsp;bytes,&nbsp;total</span><br>
<span class="lineno"></span><span class="op" id="3691891">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="3691894">func</span>&nbsp;<span class="ident" id="3691899">toChar</span><span class="op" id="3691905">(</span><span class="ident" id="3691906">b</span>&nbsp;<span class="builtintype" id="3691908">byte</span><span class="op" id="3691912">)</span>&nbsp;<span class="builtintype" id="3691914">byte</span>&nbsp;<span class="op" id="3691919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3691922">if</span>&nbsp;<span class="ident" id="3691925">b</span>&nbsp;<span class="op" id="3691927">&lt;</span>&nbsp;<span class="num" id="3691929">32</span>&nbsp;<span class="op" id="3691932">||</span>&nbsp;<span class="ident" id="3691935">b</span>&nbsp;<span class="op" id="3691937">&gt;</span>&nbsp;<span class="num" id="3691939">126</span>&nbsp;<span class="op" id="3691943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3691947">return</span>&nbsp;<span class="string" id="3691954">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3691959">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3691962">return</span>&nbsp;<span class="ident" id="3691969">b</span><br>
<span class="lineno"></span><span class="op" id="3691971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3691974">func</span>&nbsp;<span class="op" id="3691979">(</span><span class="ident" id="3691980">h</span>&nbsp;<span class="op" id="3691982">*</span><span class="ident" id="3691983">dumper</span><span class="op" id="3691989">)</span>&nbsp;<span class="ident" id="3691991">Write</span><span class="op" id="3691996">(</span><span class="ident" id="3691997">data</span>&nbsp;<span class="op" id="3692002">[</span><span class="op" id="3692003">]</span><span class="builtintype" id="3692004">byte</span><span class="op" id="3692008">)</span>&nbsp;<span class="op" id="3692010">(</span><span class="ident" id="3692011">n</span>&nbsp;<span class="builtintype" id="3692013">int</span><span class="op" id="3692016">,</span>&nbsp;<span class="ident" id="3692018">err</span>&nbsp;<span class="builtintype" id="3692022">error</span><span class="op" id="3692027">)</span>&nbsp;<span class="op" id="3692029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3692032">//&nbsp;Output&nbsp;lines&nbsp;look&nbsp;like:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3692060">//&nbsp;00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3692143">//&nbsp;^&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;extra&nbsp;space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;ASCII&nbsp;of&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3692225">for</span>&nbsp;<span class="ident" id="3692229">i</span>&nbsp;<span class="op" id="3692231">:=</span>&nbsp;<span class="keyword" id="3692234">range</span>&nbsp;<span class="ident" id="3692240">data</span>&nbsp;<span class="op" id="3692245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3692249">if</span>&nbsp;<span class="ident" id="3692252">h</span><span class="op" id="3692253">.</span><span class="ident" id="3692254">used</span>&nbsp;<span class="op" id="3692259">==</span>&nbsp;<span class="num" id="3692262">0</span>&nbsp;<span class="op" id="3692264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3692269">//&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;line&nbsp;we&nbsp;print&nbsp;the&nbsp;current</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3692323">//&nbsp;offset&nbsp;in&nbsp;hex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692344">h</span><span class="op" id="3692345">.</span><span class="ident" id="3692346">buf</span><span class="op" id="3692349">[</span><span class="num" id="3692350">0</span><span class="op" id="3692351">]</span>&nbsp;<span class="op" id="3692353">=</span>&nbsp;<span class="builtintype" id="3692355">byte</span><span class="op" id="3692359">(</span><span class="ident" id="3692360">h</span><span class="op" id="3692361">.</span><span class="ident" id="3692362">n</span>&nbsp;<span class="op" id="3692364">&gt;&gt;</span>&nbsp;<span class="num" id="3692367">24</span><span class="op" id="3692369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692374">h</span><span class="op" id="3692375">.</span><span class="ident" id="3692376">buf</span><span class="op" id="3692379">[</span><span class="num" id="3692380">1</span><span class="op" id="3692381">]</span>&nbsp;<span class="op" id="3692383">=</span>&nbsp;<span class="builtintype" id="3692385">byte</span><span class="op" id="3692389">(</span><span class="ident" id="3692390">h</span><span class="op" id="3692391">.</span><span class="ident" id="3692392">n</span>&nbsp;<span class="op" id="3692394">&gt;&gt;</span>&nbsp;<span class="num" id="3692397">16</span><span class="op" id="3692399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692404">h</span><span class="op" id="3692405">.</span><span class="ident" id="3692406">buf</span><span class="op" id="3692409">[</span><span class="num" id="3692410">2</span><span class="op" id="3692411">]</span>&nbsp;<span class="op" id="3692413">=</span>&nbsp;<span class="builtintype" id="3692415">byte</span><span class="op" id="3692419">(</span><span class="ident" id="3692420">h</span><span class="op" id="3692421">.</span><span class="ident" id="3692422">n</span>&nbsp;<span class="op" id="3692424">&gt;&gt;</span>&nbsp;<span class="num" id="3692427">8</span><span class="op" id="3692428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692433">h</span><span class="op" id="3692434">.</span><span class="ident" id="3692435">buf</span><span class="op" id="3692438">[</span><span class="num" id="3692439">3</span><span class="op" id="3692440">]</span>&nbsp;<span class="op" id="3692442">=</span>&nbsp;<span class="builtintype" id="3692444">byte</span><span class="op" id="3692448">(</span><span class="ident" id="3692449">h</span><span class="op" id="3692450">.</span><span class="ident" id="3692451">n</span><span class="op" id="3692452">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692457">Encode</span><span class="op" id="3692463">(</span><span class="ident" id="3692464">h</span><span class="op" id="3692465">.</span><span class="ident" id="3692466">buf</span><span class="op" id="3692469">[</span><span class="num" id="3692470">4</span><span class="op" id="3692471">:</span><span class="op" id="3692472">]</span><span class="op" id="3692473">,</span>&nbsp;<span class="ident" id="3692475">h</span><span class="op" id="3692476">.</span><span class="ident" id="3692477">buf</span><span class="op" id="3692480">[</span><span class="op" id="3692481">:</span><span class="num" id="3692482">4</span><span class="op" id="3692483">]</span><span class="op" id="3692484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692489">h</span><span class="op" id="3692490">.</span><span class="ident" id="3692491">buf</span><span class="op" id="3692494">[</span><span class="num" id="3692495">12</span><span class="op" id="3692497">]</span>&nbsp;<span class="op" id="3692499">=</span>&nbsp;<span class="string" id="3692501">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692508">h</span><span class="op" id="3692509">.</span><span class="ident" id="3692510">buf</span><span class="op" id="3692513">[</span><span class="num" id="3692514">13</span><span class="op" id="3692516">]</span>&nbsp;<span class="op" id="3692518">=</span>&nbsp;<span class="string" id="3692520">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692527">_</span><span class="op" id="3692528">,</span>&nbsp;<span class="ident" id="3692530">err</span>&nbsp;<span class="op" id="3692534">=</span>&nbsp;<span class="ident" id="3692536">h</span><span class="op" id="3692537">.</span><span class="ident" id="3692538">w</span><span class="op" id="3692539">.</span><span class="ident" id="3692540">Write</span><span class="op" id="3692545">(</span><span class="ident" id="3692546">h</span><span class="op" id="3692547">.</span><span class="ident" id="3692548">buf</span><span class="op" id="3692551">[</span><span class="num" id="3692552">4</span><span class="op" id="3692553">:</span><span class="op" id="3692554">]</span><span class="op" id="3692555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3692560">if</span>&nbsp;<span class="ident" id="3692563">err</span>&nbsp;<span class="op" id="3692567">!=</span>&nbsp;<span class="ident" id="3692570">nil</span>&nbsp;<span class="op" id="3692574">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3692580">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3692590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3692594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692598">Encode</span><span class="op" id="3692604">(</span><span class="ident" id="3692605">h</span><span class="op" id="3692606">.</span><span class="ident" id="3692607">buf</span><span class="op" id="3692610">[</span><span class="op" id="3692611">:</span><span class="op" id="3692612">]</span><span class="op" id="3692613">,</span>&nbsp;<span class="ident" id="3692615">data</span><span class="op" id="3692619">[</span><span class="ident" id="3692620">i</span><span class="op" id="3692621">:</span><span class="ident" id="3692622">i</span><span class="op" id="3692623">+</span><span class="num" id="3692624">1</span><span class="op" id="3692625">]</span><span class="op" id="3692626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692630">h</span><span class="op" id="3692631">.</span><span class="ident" id="3692632">buf</span><span class="op" id="3692635">[</span><span class="num" id="3692636">2</span><span class="op" id="3692637">]</span>&nbsp;<span class="op" id="3692639">=</span>&nbsp;<span class="string" id="3692641">&#39;&nbsp;&#39;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692647">l</span>&nbsp;<span class="op" id="3692649">:=</span>&nbsp;<span class="num" id="3692652">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3692656">if</span>&nbsp;<span class="ident" id="3692659">h</span><span class="op" id="3692660">.</span><span class="ident" id="3692661">used</span>&nbsp;<span class="op" id="3692666">==</span>&nbsp;<span class="num" id="3692669">7</span>&nbsp;<span class="op" id="3692671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3692676">//&nbsp;There&#39;s&nbsp;an&nbsp;additional&nbsp;space&nbsp;after&nbsp;the&nbsp;8th&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692730">h</span><span class="op" id="3692731">.</span><span class="ident" id="3692732">buf</span><span class="op" id="3692735">[</span><span class="num" id="3692736">3</span><span class="op" id="3692737">]</span>&nbsp;<span class="op" id="3692739">=</span>&nbsp;<span class="string" id="3692741">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692748">l</span>&nbsp;<span class="op" id="3692750">=</span>&nbsp;<span class="num" id="3692752">4</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3692756">}</span>&nbsp;<span class="keyword" id="3692758">else</span>&nbsp;<span class="keyword" id="3692763">if</span>&nbsp;<span class="ident" id="3692766">h</span><span class="op" id="3692767">.</span><span class="ident" id="3692768">used</span>&nbsp;<span class="op" id="3692773">==</span>&nbsp;<span class="num" id="3692776">15</span>&nbsp;<span class="op" id="3692779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3692784">//&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line&nbsp;there&#39;s&nbsp;an&nbsp;extra&nbsp;space&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3692840">//&nbsp;the&nbsp;bar&nbsp;for&nbsp;the&nbsp;right&nbsp;column.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692876">h</span><span class="op" id="3692877">.</span><span class="ident" id="3692878">buf</span><span class="op" id="3692881">[</span><span class="num" id="3692882">3</span><span class="op" id="3692883">]</span>&nbsp;<span class="op" id="3692885">=</span>&nbsp;<span class="string" id="3692887">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692894">h</span><span class="op" id="3692895">.</span><span class="ident" id="3692896">buf</span><span class="op" id="3692899">[</span><span class="num" id="3692900">4</span><span class="op" id="3692901">]</span>&nbsp;<span class="op" id="3692903">=</span>&nbsp;<span class="string" id="3692905">&#39;|&#39;</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692912">l</span>&nbsp;<span class="op" id="3692914">=</span>&nbsp;<span class="num" id="3692916">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3692920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692924">_</span><span class="op" id="3692925">,</span>&nbsp;<span class="ident" id="3692927">err</span>&nbsp;<span class="op" id="3692931">=</span>&nbsp;<span class="ident" id="3692933">h</span><span class="op" id="3692934">.</span><span class="ident" id="3692935">w</span><span class="op" id="3692936">.</span><span class="ident" id="3692937">Write</span><span class="op" id="3692942">(</span><span class="ident" id="3692943">h</span><span class="op" id="3692944">.</span><span class="ident" id="3692945">buf</span><span class="op" id="3692948">[</span><span class="op" id="3692949">:</span><span class="ident" id="3692950">l</span><span class="op" id="3692951">]</span><span class="op" id="3692952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3692956">if</span>&nbsp;<span class="ident" id="3692959">err</span>&nbsp;<span class="op" id="3692963">!=</span>&nbsp;<span class="ident" id="3692966">nil</span>&nbsp;<span class="op" id="3692970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3692975">return</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3692984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692988">n</span><span class="op" id="3692989">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692994">h</span><span class="op" id="3692995">.</span><span class="ident" id="3692996">rightChars</span><span class="op" id="3693006">[</span><span class="ident" id="3693007">h</span><span class="op" id="3693008">.</span><span class="ident" id="3693009">used</span><span class="op" id="3693013">]</span>&nbsp;<span class="op" id="3693015">=</span>&nbsp;<span class="ident" id="3693017">toChar</span><span class="op" id="3693023">(</span><span class="ident" id="3693024">data</span><span class="op" id="3693028">[</span><span class="ident" id="3693029">i</span><span class="op" id="3693030">]</span><span class="op" id="3693031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693035">h</span><span class="op" id="3693036">.</span><span class="ident" id="3693037">used</span><span class="op" id="3693041">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693046">h</span><span class="op" id="3693047">.</span><span class="ident" id="3693048">n</span><span class="op" id="3693049">++</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693054">if</span>&nbsp;<span class="ident" id="3693057">h</span><span class="op" id="3693058">.</span><span class="ident" id="3693059">used</span>&nbsp;<span class="op" id="3693064">==</span>&nbsp;<span class="num" id="3693067">16</span>&nbsp;<span class="op" id="3693070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693075">h</span><span class="op" id="3693076">.</span><span class="ident" id="3693077">rightChars</span><span class="op" id="3693087">[</span><span class="num" id="3693088">16</span><span class="op" id="3693090">]</span>&nbsp;<span class="op" id="3693092">=</span>&nbsp;<span class="string" id="3693094">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693101">h</span><span class="op" id="3693102">.</span><span class="ident" id="3693103">rightChars</span><span class="op" id="3693113">[</span><span class="num" id="3693114">17</span><span class="op" id="3693116">]</span>&nbsp;<span class="op" id="3693118">=</span>&nbsp;<span class="string" id="3693120">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693128">_</span><span class="op" id="3693129">,</span>&nbsp;<span class="ident" id="3693131">err</span>&nbsp;<span class="op" id="3693135">=</span>&nbsp;<span class="ident" id="3693137">h</span><span class="op" id="3693138">.</span><span class="ident" id="3693139">w</span><span class="op" id="3693140">.</span><span class="ident" id="3693141">Write</span><span class="op" id="3693146">(</span><span class="ident" id="3693147">h</span><span class="op" id="3693148">.</span><span class="ident" id="3693149">rightChars</span><span class="op" id="3693159">[</span><span class="op" id="3693160">:</span><span class="op" id="3693161">]</span><span class="op" id="3693162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693167">if</span>&nbsp;<span class="ident" id="3693170">err</span>&nbsp;<span class="op" id="3693174">!=</span>&nbsp;<span class="ident" id="3693177">nil</span>&nbsp;<span class="op" id="3693181">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693187">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693202">h</span><span class="op" id="3693203">.</span><span class="ident" id="3693204">used</span>&nbsp;<span class="op" id="3693209">=</span>&nbsp;<span class="num" id="3693211">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693218">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693221">return</span><br>
<span class="lineno"></span><span class="op" id="3693228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3693231">func</span>&nbsp;<span class="op" id="3693236">(</span><span class="ident" id="3693237">h</span>&nbsp;<span class="op" id="3693239">*</span><span class="ident" id="3693240">dumper</span><span class="op" id="3693246">)</span>&nbsp;<span class="ident" id="3693248">Close</span><span class="op" id="3693253">(</span><span class="op" id="3693254">)</span>&nbsp;<span class="op" id="3693256">(</span><span class="ident" id="3693257">err</span>&nbsp;<span class="builtintype" id="3693261">error</span><span class="op" id="3693266">)</span>&nbsp;<span class="op" id="3693268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3693271">//&nbsp;See&nbsp;the&nbsp;comments&nbsp;in&nbsp;Write()&nbsp;for&nbsp;the&nbsp;details&nbsp;of&nbsp;this&nbsp;format.</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693335">if</span>&nbsp;<span class="ident" id="3693338">h</span><span class="op" id="3693339">.</span><span class="ident" id="3693340">used</span>&nbsp;<span class="op" id="3693345">==</span>&nbsp;<span class="num" id="3693348">0</span>&nbsp;<span class="op" id="3693350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693354">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693365">h</span><span class="op" id="3693366">.</span><span class="ident" id="3693367">buf</span><span class="op" id="3693370">[</span><span class="num" id="3693371">0</span><span class="op" id="3693372">]</span>&nbsp;<span class="op" id="3693374">=</span>&nbsp;<span class="string" id="3693376">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693381">h</span><span class="op" id="3693382">.</span><span class="ident" id="3693383">buf</span><span class="op" id="3693386">[</span><span class="num" id="3693387">1</span><span class="op" id="3693388">]</span>&nbsp;<span class="op" id="3693390">=</span>&nbsp;<span class="string" id="3693392">&#39;&nbsp;&#39;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693397">h</span><span class="op" id="3693398">.</span><span class="ident" id="3693399">buf</span><span class="op" id="3693402">[</span><span class="num" id="3693403">2</span><span class="op" id="3693404">]</span>&nbsp;<span class="op" id="3693406">=</span>&nbsp;<span class="string" id="3693408">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693413">h</span><span class="op" id="3693414">.</span><span class="ident" id="3693415">buf</span><span class="op" id="3693418">[</span><span class="num" id="3693419">3</span><span class="op" id="3693420">]</span>&nbsp;<span class="op" id="3693422">=</span>&nbsp;<span class="string" id="3693424">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693429">h</span><span class="op" id="3693430">.</span><span class="ident" id="3693431">buf</span><span class="op" id="3693434">[</span><span class="num" id="3693435">4</span><span class="op" id="3693436">]</span>&nbsp;<span class="op" id="3693438">=</span>&nbsp;<span class="string" id="3693440">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693445">nBytes</span>&nbsp;<span class="op" id="3693452">:=</span>&nbsp;<span class="ident" id="3693455">h</span><span class="op" id="3693456">.</span><span class="ident" id="3693457">used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693463">for</span>&nbsp;<span class="ident" id="3693467">h</span><span class="op" id="3693468">.</span><span class="ident" id="3693469">used</span>&nbsp;<span class="op" id="3693474">&lt;</span>&nbsp;<span class="num" id="3693476">16</span>&nbsp;<span class="op" id="3693479">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693483">l</span>&nbsp;<span class="op" id="3693485">:=</span>&nbsp;<span class="num" id="3693488">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693492">if</span>&nbsp;<span class="ident" id="3693495">h</span><span class="op" id="3693496">.</span><span class="ident" id="3693497">used</span>&nbsp;<span class="op" id="3693502">==</span>&nbsp;<span class="num" id="3693505">7</span>&nbsp;<span class="op" id="3693507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693512">l</span>&nbsp;<span class="op" id="3693514">=</span>&nbsp;<span class="num" id="3693516">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693520">}</span>&nbsp;<span class="keyword" id="3693522">else</span>&nbsp;<span class="keyword" id="3693527">if</span>&nbsp;<span class="ident" id="3693530">h</span><span class="op" id="3693531">.</span><span class="ident" id="3693532">used</span>&nbsp;<span class="op" id="3693537">==</span>&nbsp;<span class="num" id="3693540">15</span>&nbsp;<span class="op" id="3693543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693548">l</span>&nbsp;<span class="op" id="3693550">=</span>&nbsp;<span class="num" id="3693552">5</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693560">_</span><span class="op" id="3693561">,</span>&nbsp;<span class="ident" id="3693563">err</span>&nbsp;<span class="op" id="3693567">=</span>&nbsp;<span class="ident" id="3693569">h</span><span class="op" id="3693570">.</span><span class="ident" id="3693571">w</span><span class="op" id="3693572">.</span><span class="ident" id="3693573">Write</span><span class="op" id="3693578">(</span><span class="ident" id="3693579">h</span><span class="op" id="3693580">.</span><span class="ident" id="3693581">buf</span><span class="op" id="3693584">[</span><span class="op" id="3693585">:</span><span class="ident" id="3693586">l</span><span class="op" id="3693587">]</span><span class="op" id="3693588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693592">if</span>&nbsp;<span class="ident" id="3693595">err</span>&nbsp;<span class="op" id="3693599">!=</span>&nbsp;<span class="ident" id="3693602">nil</span>&nbsp;<span class="op" id="3693606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693611">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693620">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693624">h</span><span class="op" id="3693625">.</span><span class="ident" id="3693626">used</span><span class="op" id="3693630">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693637">h</span><span class="op" id="3693638">.</span><span class="ident" id="3693639">rightChars</span><span class="op" id="3693649">[</span><span class="ident" id="3693650">nBytes</span><span class="op" id="3693656">]</span>&nbsp;<span class="op" id="3693658">=</span>&nbsp;<span class="string" id="3693660">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693665">h</span><span class="op" id="3693666">.</span><span class="ident" id="3693667">rightChars</span><span class="op" id="3693677">[</span><span class="ident" id="3693678">nBytes</span><span class="op" id="3693684">+</span><span class="num" id="3693685">1</span><span class="op" id="3693686">]</span>&nbsp;<span class="op" id="3693688">=</span>&nbsp;<span class="string" id="3693690">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693696">_</span><span class="op" id="3693697">,</span>&nbsp;<span class="ident" id="3693699">err</span>&nbsp;<span class="op" id="3693703">=</span>&nbsp;<span class="ident" id="3693705">h</span><span class="op" id="3693706">.</span><span class="ident" id="3693707">w</span><span class="op" id="3693708">.</span><span class="ident" id="3693709">Write</span><span class="op" id="3693714">(</span><span class="ident" id="3693715">h</span><span class="op" id="3693716">.</span><span class="ident" id="3693717">rightChars</span><span class="op" id="3693727">[</span><span class="op" id="3693728">:</span><span class="ident" id="3693729">nBytes</span><span class="op" id="3693735">+</span><span class="num" id="3693736">2</span><span class="op" id="3693737">]</span><span class="op" id="3693738">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693741">return</span><br>
<span class="lineno"></span><span class="op" id="3693748">}</span>
</div>
</body>
</html>
