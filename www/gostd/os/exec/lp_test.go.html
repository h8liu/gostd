<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/exec</h2>
<ul>
<li><a href="/gostd/os/exec/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/os/exec/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/os/exec/lp_test.go.html" class="current">lp_test.go</a></li>
<li><a href="/gostd/os/exec/lp_unix.go.html">lp_unix.go</a></li>
<li><a href="/gostd/os/exec/lp_unix_test.go.html">lp_unix_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6672301">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6672356">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6672410">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6672461">package</span>&nbsp;<span class="ident" id="6672469">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6672475">import</span>&nbsp;<span class="op" id="6672482">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6672485">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6672495">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6672498">var</span>&nbsp;<span class="ident" id="6672502">nonExistentPaths</span>&nbsp;<span class="op" id="6672519">=</span>&nbsp;<span class="op" id="6672521">[</span><span class="op" id="6672522">]</span><span class="builtintype" id="6672523">string</span><span class="op" id="6672529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6672532">&#34;some-non-existent-path&#34;</span><span class="op" id="6672556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6672559">&#34;non-existent-path/slashed&#34;</span><span class="op" id="6672586">,</span><br>
<span class="lineno"></span><span class="op" id="6672588">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6672591">func</span>&nbsp;<span class="ident" id="6672596">TestLookPathNotFound</span><span class="op" id="6672616">(</span><span class="ident" id="6672617">t</span>&nbsp;<span class="op" id="6672619">*</span><span class="ident" id="6672620">testing</span><span class="op" id="6672627">.</span><span class="ident" id="6672628">T</span><span class="op" id="6672629">)</span>&nbsp;<span class="op" id="6672631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672634">for</span>&nbsp;<span class="ident" id="6672638">_</span><span class="op" id="6672639">,</span>&nbsp;<span class="ident" id="6672641">name</span>&nbsp;<span class="op" id="6672646">:=</span>&nbsp;<span class="keyword" id="6672649">range</span>&nbsp;<span class="ident" id="6672655">nonExistentPaths</span>&nbsp;<span class="op" id="6672672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672676">path</span><span class="op" id="6672680">,</span>&nbsp;<span class="ident" id="6672682">err</span>&nbsp;<span class="op" id="6672686">:=</span>&nbsp;<span class="ident" id="6672689">LookPath</span><span class="op" id="6672697">(</span><span class="ident" id="6672698">name</span><span class="op" id="6672702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672706">if</span>&nbsp;<span class="ident" id="6672709">err</span>&nbsp;<span class="op" id="6672713">==</span>&nbsp;<span class="ident" id="6672716">nil</span>&nbsp;<span class="op" id="6672720">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672725">t</span><span class="op" id="6672726">.</span><span class="ident" id="6672727">Fatalf</span><span class="op" id="6672733">(</span><span class="string" id="6672734">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="6672762">,</span>&nbsp;<span class="ident" id="6672764">name</span><span class="op" id="6672768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672776">if</span>&nbsp;<span class="ident" id="6672779">path</span>&nbsp;<span class="op" id="6672784">!=</span>&nbsp;<span class="string" id="6672787">&#34;&#34;</span>&nbsp;<span class="op" id="6672790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672795">t</span><span class="op" id="6672796">.</span><span class="ident" id="6672797">Fatalf</span><span class="op" id="6672803">(</span><span class="string" id="6672804">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="6672841">,</span>&nbsp;<span class="ident" id="6672843">path</span><span class="op" id="6672847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672851">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672855">perr</span><span class="op" id="6672859">,</span>&nbsp;<span class="ident" id="6672861">ok</span>&nbsp;<span class="op" id="6672864">:=</span>&nbsp;<span class="ident" id="6672867">err</span><span class="op" id="6672870">.</span><span class="op" id="6672871">(</span><span class="op" id="6672872">*</span><span class="ident" id="6672873">Error</span><span class="op" id="6672878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672882">if</span>&nbsp;<span class="op" id="6672885">!</span><span class="ident" id="6672886">ok</span>&nbsp;<span class="op" id="6672889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672894">t</span><span class="op" id="6672895">.</span><span class="ident" id="6672896">Fatal</span><span class="op" id="6672901">(</span><span class="string" id="6672902">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="6672939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672947">if</span>&nbsp;<span class="ident" id="6672950">perr</span><span class="op" id="6672954">.</span><span class="ident" id="6672955">Name</span>&nbsp;<span class="op" id="6672960">!=</span>&nbsp;<span class="ident" id="6672963">name</span>&nbsp;<span class="op" id="6672968">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672973">t</span><span class="op" id="6672974">.</span><span class="ident" id="6672975">Fatalf</span><span class="op" id="6672981">(</span><span class="string" id="6672982">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6673010">,</span>&nbsp;<span class="ident" id="6673012">name</span><span class="op" id="6673016">,</span>&nbsp;<span class="ident" id="6673018">perr</span><span class="op" id="6673022">.</span><span class="ident" id="6673023">Name</span><span class="op" id="6673027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6673031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6673034">}</span><br>
<span class="lineno"></span><span class="op" id="6673036">}</span>
</div>
</body>
</html>
