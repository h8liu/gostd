<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8307818">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8307873">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8307927">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8307978">//&nbsp;This&nbsp;file&nbsp;contains&nbsp;tests&nbsp;of&nbsp;the&nbsp;GobEncoder/GobDecoder&nbsp;support.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308045">package</span>&nbsp;<span class="ident" id="8308053">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308058">import</span>&nbsp;<span class="op" id="8308065">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8308068">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8308077">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8308087">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8308094">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8308100">&#34;net&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8308107">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8308118">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8308129">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8308136">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="8308139">//&nbsp;Types&nbsp;that&nbsp;implement&nbsp;the&nbsp;GobEncoder/Decoder&nbsp;interfaces.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308199">type</span>&nbsp;<span class="ident" id="8308204">ByteStruct</span>&nbsp;<span class="keyword" id="8308215">struct</span>&nbsp;<span class="op" id="8308222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308225">a</span>&nbsp;<span class="builtintype" id="8308227">byte</span>&nbsp;<span class="comment" id="8308232">//&nbsp;not&nbsp;an&nbsp;exported&nbsp;field</span><br>
<span class="lineno"></span><span class="op" id="8308257">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="8308260">type</span>&nbsp;<span class="ident" id="8308265">StringStruct</span>&nbsp;<span class="keyword" id="8308278">struct</span>&nbsp;<span class="op" id="8308285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308288">s</span>&nbsp;<span class="builtintype" id="8308290">string</span>&nbsp;<span class="comment" id="8308297">//&nbsp;not&nbsp;an&nbsp;exported&nbsp;field</span><br>
<span class="lineno"></span><span class="op" id="8308322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="8308325">type</span>&nbsp;<span class="ident" id="8308330">ArrayStruct</span>&nbsp;<span class="keyword" id="8308342">struct</span>&nbsp;<span class="op" id="8308349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308352">a</span>&nbsp;<span class="op" id="8308354">[</span><span class="num" id="8308355">8192</span><span class="op" id="8308359">]</span><span class="builtintype" id="8308360">byte</span>&nbsp;<span class="comment" id="8308365">//&nbsp;not&nbsp;an&nbsp;exported&nbsp;field</span><br>
<span class="lineno"></span><span class="op" id="8308390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308393">type</span>&nbsp;<span class="ident" id="8308398">Gobber</span>&nbsp;<span class="builtintype" id="8308405">int</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="8308410">type</span>&nbsp;<span class="ident" id="8308415">ValueGobber</span>&nbsp;<span class="builtintype" id="8308427">string</span>&nbsp;<span class="comment" id="8308434">//&nbsp;encodes&nbsp;with&nbsp;a&nbsp;value,&nbsp;decodes&nbsp;with&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308484">type</span>&nbsp;<span class="ident" id="8308489">BinaryGobber</span>&nbsp;<span class="builtintype" id="8308502">int</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8308507">type</span>&nbsp;<span class="ident" id="8308512">BinaryValueGobber</span>&nbsp;<span class="builtintype" id="8308530">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308538">type</span>&nbsp;<span class="ident" id="8308543">TextGobber</span>&nbsp;<span class="builtintype" id="8308554">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308559">type</span>&nbsp;<span class="ident" id="8308564">TextValueGobber</span>&nbsp;<span class="builtintype" id="8308580">string</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="8308588">//&nbsp;The&nbsp;relevant&nbsp;methods</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308613">func</span>&nbsp;<span class="op" id="8308618">(</span><span class="ident" id="8308619">g</span>&nbsp;<span class="op" id="8308621">*</span><span class="ident" id="8308622"><a href="/encoding/gob/gobencdec_test.go.html#8308204">ByteStruct</a></span><span class="op" id="8308632">)</span>&nbsp;<span class="ident" id="8308634">GobEncode</span><span class="op" id="8308643">(</span><span class="op" id="8308644">)</span>&nbsp;<span class="op" id="8308646">(</span><span class="op" id="8308647">[</span><span class="op" id="8308648">]</span><span class="builtintype" id="8308649">byte</span><span class="op" id="8308653">,</span>&nbsp;<span class="builtintype" id="8308655">error</span><span class="op" id="8308660">)</span>&nbsp;<span class="op" id="8308662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308665">b</span>&nbsp;<span class="op" id="8308667">:=</span>&nbsp;<span class="builtinfunc" id="8308670">make</span><span class="op" id="8308674">(</span><span class="op" id="8308675">[</span><span class="op" id="8308676">]</span><span class="builtintype" id="8308677">byte</span><span class="op" id="8308681">,</span>&nbsp;<span class="num" id="8308683">3</span><span class="op" id="8308684">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308687"><a href="/encoding/gob/gobencdec_test.go.html#8308665">b</a></span><span class="op" id="8308688">[</span><span class="num" id="8308689">0</span><span class="op" id="8308690">]</span>&nbsp;<span class="op" id="8308692">=</span>&nbsp;<span class="ident" id="8308694"><a href="/encoding/gob/gobencdec_test.go.html#8308619">g</a></span><span class="op" id="8308695">.</span><span class="ident" id="8308696">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308699"><a href="/encoding/gob/gobencdec_test.go.html#8308665">b</a></span><span class="op" id="8308700">[</span><span class="num" id="8308701">1</span><span class="op" id="8308702">]</span>&nbsp;<span class="op" id="8308704">=</span>&nbsp;<span class="ident" id="8308706"><a href="/encoding/gob/gobencdec_test.go.html#8308619">g</a></span><span class="op" id="8308707">.</span><span class="ident" id="8308708">a</span>&nbsp;<span class="op" id="8308710">+</span>&nbsp;<span class="num" id="8308712">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308715"><a href="/encoding/gob/gobencdec_test.go.html#8308665">b</a></span><span class="op" id="8308716">[</span><span class="num" id="8308717">2</span><span class="op" id="8308718">]</span>&nbsp;<span class="op" id="8308720">=</span>&nbsp;<span class="ident" id="8308722"><a href="/encoding/gob/gobencdec_test.go.html#8308619">g</a></span><span class="op" id="8308723">.</span><span class="ident" id="8308724">a</span>&nbsp;<span class="op" id="8308726">+</span>&nbsp;<span class="num" id="8308728">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308731">return</span>&nbsp;<span class="ident" id="8308738"><a href="/encoding/gob/gobencdec_test.go.html#8308665">b</a></span><span class="op" id="8308739">,</span>&nbsp;<span class="ident" id="8308741">nil</span><br>
<span class="lineno"></span><span class="op" id="8308745">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="8308748">func</span>&nbsp;<span class="op" id="8308753">(</span><span class="ident" id="8308754">g</span>&nbsp;<span class="op" id="8308756">*</span><span class="ident" id="8308757"><a href="/encoding/gob/gobencdec_test.go.html#8308204">ByteStruct</a></span><span class="op" id="8308767">)</span>&nbsp;<span class="ident" id="8308769">GobDecode</span><span class="op" id="8308778">(</span><span class="ident" id="8308779">data</span>&nbsp;<span class="op" id="8308784">[</span><span class="op" id="8308785">]</span><span class="builtintype" id="8308786">byte</span><span class="op" id="8308790">)</span>&nbsp;<span class="builtintype" id="8308792">error</span>&nbsp;<span class="op" id="8308798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308801">if</span>&nbsp;<span class="ident" id="8308804"><a href="/encoding/gob/gobencdec_test.go.html#8308754">g</a></span>&nbsp;<span class="op" id="8308806">==</span>&nbsp;<span class="ident" id="8308809">nil</span>&nbsp;<span class="op" id="8308813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308817">return</span>&nbsp;<span class="ident" id="8308824"><a href="/encoding/gob/gobencdec_test.go.html#8308077">errors</a></span><span class="op" id="8308830">.</span><span class="ident" id="8308831">New</span><span class="op" id="8308834">(</span><span class="string" id="8308835">&#34;NIL&nbsp;RECEIVER&#34;</span><span class="op" id="8308849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8308852">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8308855">//&nbsp;Expect&nbsp;N&nbsp;sequential-valued&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308893">if</span>&nbsp;<span class="builtinfunc" id="8308896">len</span><span class="op" id="8308899">(</span><span class="ident" id="8308900"><a href="/encoding/gob/gobencdec_test.go.html#8308779">data</a></span><span class="op" id="8308904">)</span>&nbsp;<span class="op" id="8308906">==</span>&nbsp;<span class="num" id="8308909">0</span>&nbsp;<span class="op" id="8308911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308915">return</span>&nbsp;<span class="ident" id="8308922"><a href="/encoding/gob/gobencdec_test.go.html#8308094">io</a></span><span class="op" id="8308924">.</span><span class="ident" id="8308925">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8308930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308933"><a href="/encoding/gob/gobencdec_test.go.html#8308754">g</a></span><span class="op" id="8308934">.</span><span class="ident" id="8308935">a</span>&nbsp;<span class="op" id="8308937">=</span>&nbsp;<span class="ident" id="8308939"><a href="/encoding/gob/gobencdec_test.go.html#8308779">data</a></span><span class="op" id="8308943">[</span><span class="num" id="8308944">0</span><span class="op" id="8308945">]</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308948">for</span>&nbsp;<span class="ident" id="8308952">i</span><span class="op" id="8308953">,</span>&nbsp;<span class="ident" id="8308955">c</span>&nbsp;<span class="op" id="8308957">:=</span>&nbsp;<span class="keyword" id="8308960">range</span>&nbsp;<span class="ident" id="8308966"><a href="/encoding/gob/gobencdec_test.go.html#8308779">data</a></span>&nbsp;<span class="op" id="8308971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308975">if</span>&nbsp;<span class="ident" id="8308978"><a href="/encoding/gob/gobencdec_test.go.html#8308955">c</a></span>&nbsp;<span class="op" id="8308980">!=</span>&nbsp;<span class="ident" id="8308983"><a href="/encoding/gob/gobencdec_test.go.html#8308754">g</a></span><span class="op" id="8308984">.</span><span class="ident" id="8308985">a</span><span class="op" id="8308986">+</span><span class="builtintype" id="8308987">byte</span><span class="op" id="8308991">(</span><span class="ident" id="8308992"><a href="/encoding/gob/gobencdec_test.go.html#8308952">i</a></span><span class="op" id="8308993">)</span>&nbsp;<span class="op" id="8308995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309000">return</span>&nbsp;<span class="ident" id="8309007"><a href="/encoding/gob/gobencdec_test.go.html#8308077">errors</a></span><span class="op" id="8309013">.</span><span class="ident" id="8309014">New</span><span class="op" id="8309017">(</span><span class="string" id="8309018">&#34;invalid&nbsp;data&nbsp;sequence&#34;</span><span class="op" id="8309041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309048">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309051">return</span>&nbsp;<span class="ident" id="8309058">nil</span><br>
<span class="lineno"></span><span class="op" id="8309062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8309065">func</span>&nbsp;<span class="op" id="8309070">(</span><span class="ident" id="8309071">g</span>&nbsp;<span class="op" id="8309073">*</span><span class="ident" id="8309074"><a href="/encoding/gob/gobencdec_test.go.html#8308265">StringStruct</a></span><span class="op" id="8309086">)</span>&nbsp;<span class="ident" id="8309088">GobEncode</span><span class="op" id="8309097">(</span><span class="op" id="8309098">)</span>&nbsp;<span class="op" id="8309100">(</span><span class="op" id="8309101">[</span><span class="op" id="8309102">]</span><span class="builtintype" id="8309103">byte</span><span class="op" id="8309107">,</span>&nbsp;<span class="builtintype" id="8309109">error</span><span class="op" id="8309114">)</span>&nbsp;<span class="op" id="8309116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309119">return</span>&nbsp;<span class="op" id="8309126">[</span><span class="op" id="8309127">]</span><span class="builtintype" id="8309128">byte</span><span class="op" id="8309132">(</span><span class="ident" id="8309133"><a href="/encoding/gob/gobencdec_test.go.html#8309071">g</a></span><span class="op" id="8309134">.</span><span class="ident" id="8309135">s</span><span class="op" id="8309136">)</span><span class="op" id="8309137">,</span>&nbsp;<span class="ident" id="8309139">nil</span><br>
<span class="lineno">75</span><span class="op" id="8309143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8309146">func</span>&nbsp;<span class="op" id="8309151">(</span><span class="ident" id="8309152">g</span>&nbsp;<span class="op" id="8309154">*</span><span class="ident" id="8309155"><a href="/encoding/gob/gobencdec_test.go.html#8308265">StringStruct</a></span><span class="op" id="8309167">)</span>&nbsp;<span class="ident" id="8309169">GobDecode</span><span class="op" id="8309178">(</span><span class="ident" id="8309179">data</span>&nbsp;<span class="op" id="8309184">[</span><span class="op" id="8309185">]</span><span class="builtintype" id="8309186">byte</span><span class="op" id="8309190">)</span>&nbsp;<span class="builtintype" id="8309192">error</span>&nbsp;<span class="op" id="8309198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8309201">//&nbsp;Expect&nbsp;N&nbsp;sequential-valued&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309239">if</span>&nbsp;<span class="builtinfunc" id="8309242">len</span><span class="op" id="8309245">(</span><span class="ident" id="8309246"><a href="/encoding/gob/gobencdec_test.go.html#8309179">data</a></span><span class="op" id="8309250">)</span>&nbsp;<span class="op" id="8309252">==</span>&nbsp;<span class="num" id="8309255">0</span>&nbsp;<span class="op" id="8309257">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309261">return</span>&nbsp;<span class="ident" id="8309268"><a href="/encoding/gob/gobencdec_test.go.html#8308094">io</a></span><span class="op" id="8309270">.</span><span class="ident" id="8309271">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309279">a</span>&nbsp;<span class="op" id="8309281">:=</span>&nbsp;<span class="ident" id="8309284"><a href="/encoding/gob/gobencdec_test.go.html#8309179">data</a></span><span class="op" id="8309288">[</span><span class="num" id="8309289">0</span><span class="op" id="8309290">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309293">for</span>&nbsp;<span class="ident" id="8309297">i</span><span class="op" id="8309298">,</span>&nbsp;<span class="ident" id="8309300">c</span>&nbsp;<span class="op" id="8309302">:=</span>&nbsp;<span class="keyword" id="8309305">range</span>&nbsp;<span class="ident" id="8309311"><a href="/encoding/gob/gobencdec_test.go.html#8309179">data</a></span>&nbsp;<span class="op" id="8309316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309320">if</span>&nbsp;<span class="ident" id="8309323"><a href="/encoding/gob/gobencdec_test.go.html#8309300">c</a></span>&nbsp;<span class="op" id="8309325">!=</span>&nbsp;<span class="ident" id="8309328"><a href="/encoding/gob/gobencdec_test.go.html#8309279">a</a></span><span class="op" id="8309329">+</span><span class="builtintype" id="8309330">byte</span><span class="op" id="8309334">(</span><span class="ident" id="8309335"><a href="/encoding/gob/gobencdec_test.go.html#8309297">i</a></span><span class="op" id="8309336">)</span>&nbsp;<span class="op" id="8309338">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309343">return</span>&nbsp;<span class="ident" id="8309350"><a href="/encoding/gob/gobencdec_test.go.html#8308077">errors</a></span><span class="op" id="8309356">.</span><span class="ident" id="8309357">New</span><span class="op" id="8309360">(</span><span class="string" id="8309361">&#34;invalid&nbsp;data&nbsp;sequence&#34;</span><span class="op" id="8309384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309394"><a href="/encoding/gob/gobencdec_test.go.html#8309152">g</a></span><span class="op" id="8309395">.</span><span class="ident" id="8309396">s</span>&nbsp;<span class="op" id="8309398">=</span>&nbsp;<span class="builtintype" id="8309400">string</span><span class="op" id="8309406">(</span><span class="ident" id="8309407"><a href="/encoding/gob/gobencdec_test.go.html#8309179">data</a></span><span class="op" id="8309411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309414">return</span>&nbsp;<span class="ident" id="8309421">nil</span><br>
<span class="lineno">90</span><span class="op" id="8309425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8309428">func</span>&nbsp;<span class="op" id="8309433">(</span><span class="ident" id="8309434">a</span>&nbsp;<span class="op" id="8309436">*</span><span class="ident" id="8309437"><a href="/encoding/gob/gobencdec_test.go.html#8308330">ArrayStruct</a></span><span class="op" id="8309448">)</span>&nbsp;<span class="ident" id="8309450">GobEncode</span><span class="op" id="8309459">(</span><span class="op" id="8309460">)</span>&nbsp;<span class="op" id="8309462">(</span><span class="op" id="8309463">[</span><span class="op" id="8309464">]</span><span class="builtintype" id="8309465">byte</span><span class="op" id="8309469">,</span>&nbsp;<span class="builtintype" id="8309471">error</span><span class="op" id="8309476">)</span>&nbsp;<span class="op" id="8309478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309481">return</span>&nbsp;<span class="ident" id="8309488"><a href="/encoding/gob/gobencdec_test.go.html#8309434">a</a></span><span class="op" id="8309489">.</span><span class="ident" id="8309490">a</span><span class="op" id="8309491">[</span><span class="op" id="8309492">:</span><span class="op" id="8309493">]</span><span class="op" id="8309494">,</span>&nbsp;<span class="ident" id="8309496">nil</span><br>
<span class="lineno"></span><span class="op" id="8309500">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="8309503">func</span>&nbsp;<span class="op" id="8309508">(</span><span class="ident" id="8309509">a</span>&nbsp;<span class="op" id="8309511">*</span><span class="ident" id="8309512"><a href="/encoding/gob/gobencdec_test.go.html#8308330">ArrayStruct</a></span><span class="op" id="8309523">)</span>&nbsp;<span class="ident" id="8309525">GobDecode</span><span class="op" id="8309534">(</span><span class="ident" id="8309535">data</span>&nbsp;<span class="op" id="8309540">[</span><span class="op" id="8309541">]</span><span class="builtintype" id="8309542">byte</span><span class="op" id="8309546">)</span>&nbsp;<span class="builtintype" id="8309548">error</span>&nbsp;<span class="op" id="8309554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309557">if</span>&nbsp;<span class="builtinfunc" id="8309560">len</span><span class="op" id="8309563">(</span><span class="ident" id="8309564"><a href="/encoding/gob/gobencdec_test.go.html#8309535">data</a></span><span class="op" id="8309568">)</span>&nbsp;<span class="op" id="8309570">!=</span>&nbsp;<span class="builtinfunc" id="8309573">len</span><span class="op" id="8309576">(</span><span class="ident" id="8309577"><a href="/encoding/gob/gobencdec_test.go.html#8309509">a</a></span><span class="op" id="8309578">.</span><span class="ident" id="8309579">a</span><span class="op" id="8309580">)</span>&nbsp;<span class="op" id="8309582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309586">return</span>&nbsp;<span class="ident" id="8309593"><a href="/encoding/gob/gobencdec_test.go.html#8308077">errors</a></span><span class="op" id="8309599">.</span><span class="ident" id="8309600">New</span><span class="op" id="8309603">(</span><span class="string" id="8309604">&#34;wrong&nbsp;length&nbsp;in&nbsp;array&nbsp;decode&#34;</span><span class="op" id="8309634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309637">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8309640">copy</span><span class="op" id="8309644">(</span><span class="ident" id="8309645"><a href="/encoding/gob/gobencdec_test.go.html#8309509">a</a></span><span class="op" id="8309646">.</span><span class="ident" id="8309647">a</span><span class="op" id="8309648">[</span><span class="op" id="8309649">:</span><span class="op" id="8309650">]</span><span class="op" id="8309651">,</span>&nbsp;<span class="ident" id="8309653"><a href="/encoding/gob/gobencdec_test.go.html#8309535">data</a></span><span class="op" id="8309657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309660">return</span>&nbsp;<span class="ident" id="8309667">nil</span><br>
<span class="lineno"></span><span class="op" id="8309671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8309674">func</span>&nbsp;<span class="op" id="8309679">(</span><span class="ident" id="8309680">g</span>&nbsp;<span class="op" id="8309682">*</span><span class="ident" id="8309683"><a href="/encoding/gob/gobencdec_test.go.html#8308398">Gobber</a></span><span class="op" id="8309689">)</span>&nbsp;<span class="ident" id="8309691">GobEncode</span><span class="op" id="8309700">(</span><span class="op" id="8309701">)</span>&nbsp;<span class="op" id="8309703">(</span><span class="op" id="8309704">[</span><span class="op" id="8309705">]</span><span class="builtintype" id="8309706">byte</span><span class="op" id="8309710">,</span>&nbsp;<span class="builtintype" id="8309712">error</span><span class="op" id="8309717">)</span>&nbsp;<span class="op" id="8309719">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309722">return</span>&nbsp;<span class="op" id="8309729">[</span><span class="op" id="8309730">]</span><span class="builtintype" id="8309731">byte</span><span class="op" id="8309735">(</span><span class="ident" id="8309736"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8309739">.</span><span class="ident" id="8309740">Sprintf</span><span class="op" id="8309747">(</span><span class="string" id="8309748">&#34;VALUE=%d&#34;</span><span class="op" id="8309758">,</span>&nbsp;<span class="op" id="8309760">*</span><span class="ident" id="8309761"><a href="/encoding/gob/gobencdec_test.go.html#8309680">g</a></span><span class="op" id="8309762">)</span><span class="op" id="8309763">)</span><span class="op" id="8309764">,</span>&nbsp;<span class="ident" id="8309766">nil</span><br>
<span class="lineno"></span><span class="op" id="8309770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8309773">func</span>&nbsp;<span class="op" id="8309778">(</span><span class="ident" id="8309779">g</span>&nbsp;<span class="op" id="8309781">*</span><span class="ident" id="8309782"><a href="/encoding/gob/gobencdec_test.go.html#8308398">Gobber</a></span><span class="op" id="8309788">)</span>&nbsp;<span class="ident" id="8309790">GobDecode</span><span class="op" id="8309799">(</span><span class="ident" id="8309800">data</span>&nbsp;<span class="op" id="8309805">[</span><span class="op" id="8309806">]</span><span class="builtintype" id="8309807">byte</span><span class="op" id="8309811">)</span>&nbsp;<span class="builtintype" id="8309813">error</span>&nbsp;<span class="op" id="8309819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309822">_</span><span class="op" id="8309823">,</span>&nbsp;<span class="ident" id="8309825">err</span>&nbsp;<span class="op" id="8309829">:=</span>&nbsp;<span class="ident" id="8309832"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8309835">.</span><span class="ident" id="8309836">Sscanf</span><span class="op" id="8309842">(</span><span class="builtintype" id="8309843">string</span><span class="op" id="8309849">(</span><span class="ident" id="8309850"><a href="/encoding/gob/gobencdec_test.go.html#8309800">data</a></span><span class="op" id="8309854">)</span><span class="op" id="8309855">,</span>&nbsp;<span class="string" id="8309857">&#34;VALUE=%d&#34;</span><span class="op" id="8309867">,</span>&nbsp;<span class="op" id="8309869">(</span><span class="op" id="8309870">*</span><span class="builtintype" id="8309871">int</span><span class="op" id="8309874">)</span><span class="op" id="8309875">(</span><span class="ident" id="8309876"><a href="/encoding/gob/gobencdec_test.go.html#8309779">g</a></span><span class="op" id="8309877">)</span><span class="op" id="8309878">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309881">return</span>&nbsp;<span class="ident" id="8309888"><a href="/encoding/gob/gobencdec_test.go.html#8309825">err</a></span><br>
<span class="lineno"></span><span class="op" id="8309892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8309895">func</span>&nbsp;<span class="op" id="8309900">(</span><span class="ident" id="8309901">g</span>&nbsp;<span class="op" id="8309903">*</span><span class="ident" id="8309904"><a href="/encoding/gob/gobencdec_test.go.html#8308489">BinaryGobber</a></span><span class="op" id="8309916">)</span>&nbsp;<span class="ident" id="8309918">MarshalBinary</span><span class="op" id="8309931">(</span><span class="op" id="8309932">)</span>&nbsp;<span class="op" id="8309934">(</span><span class="op" id="8309935">[</span><span class="op" id="8309936">]</span><span class="builtintype" id="8309937">byte</span><span class="op" id="8309941">,</span>&nbsp;<span class="builtintype" id="8309943">error</span><span class="op" id="8309948">)</span>&nbsp;<span class="op" id="8309950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309953">return</span>&nbsp;<span class="op" id="8309960">[</span><span class="op" id="8309961">]</span><span class="builtintype" id="8309962">byte</span><span class="op" id="8309966">(</span><span class="ident" id="8309967"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8309970">.</span><span class="ident" id="8309971">Sprintf</span><span class="op" id="8309978">(</span><span class="string" id="8309979">&#34;VALUE=%d&#34;</span><span class="op" id="8309989">,</span>&nbsp;<span class="op" id="8309991">*</span><span class="ident" id="8309992"><a href="/encoding/gob/gobencdec_test.go.html#8309901">g</a></span><span class="op" id="8309993">)</span><span class="op" id="8309994">)</span><span class="op" id="8309995">,</span>&nbsp;<span class="ident" id="8309997">nil</span><br>
<span class="lineno">115</span><span class="op" id="8310001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8310004">func</span>&nbsp;<span class="op" id="8310009">(</span><span class="ident" id="8310010">g</span>&nbsp;<span class="op" id="8310012">*</span><span class="ident" id="8310013"><a href="/encoding/gob/gobencdec_test.go.html#8308489">BinaryGobber</a></span><span class="op" id="8310025">)</span>&nbsp;<span class="ident" id="8310027">UnmarshalBinary</span><span class="op" id="8310042">(</span><span class="ident" id="8310043">data</span>&nbsp;<span class="op" id="8310048">[</span><span class="op" id="8310049">]</span><span class="builtintype" id="8310050">byte</span><span class="op" id="8310054">)</span>&nbsp;<span class="builtintype" id="8310056">error</span>&nbsp;<span class="op" id="8310062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310065">_</span><span class="op" id="8310066">,</span>&nbsp;<span class="ident" id="8310068">err</span>&nbsp;<span class="op" id="8310072">:=</span>&nbsp;<span class="ident" id="8310075"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8310078">.</span><span class="ident" id="8310079">Sscanf</span><span class="op" id="8310085">(</span><span class="builtintype" id="8310086">string</span><span class="op" id="8310092">(</span><span class="ident" id="8310093"><a href="/encoding/gob/gobencdec_test.go.html#8310043">data</a></span><span class="op" id="8310097">)</span><span class="op" id="8310098">,</span>&nbsp;<span class="string" id="8310100">&#34;VALUE=%d&#34;</span><span class="op" id="8310110">,</span>&nbsp;<span class="op" id="8310112">(</span><span class="op" id="8310113">*</span><span class="builtintype" id="8310114">int</span><span class="op" id="8310117">)</span><span class="op" id="8310118">(</span><span class="ident" id="8310119"><a href="/encoding/gob/gobencdec_test.go.html#8310010">g</a></span><span class="op" id="8310120">)</span><span class="op" id="8310121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310124">return</span>&nbsp;<span class="ident" id="8310131"><a href="/encoding/gob/gobencdec_test.go.html#8310068">err</a></span><br>
<span class="lineno">120</span><span class="op" id="8310135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8310138">func</span>&nbsp;<span class="op" id="8310143">(</span><span class="ident" id="8310144">g</span>&nbsp;<span class="op" id="8310146">*</span><span class="ident" id="8310147"><a href="/encoding/gob/gobencdec_test.go.html#8308543">TextGobber</a></span><span class="op" id="8310157">)</span>&nbsp;<span class="ident" id="8310159">MarshalText</span><span class="op" id="8310170">(</span><span class="op" id="8310171">)</span>&nbsp;<span class="op" id="8310173">(</span><span class="op" id="8310174">[</span><span class="op" id="8310175">]</span><span class="builtintype" id="8310176">byte</span><span class="op" id="8310180">,</span>&nbsp;<span class="builtintype" id="8310182">error</span><span class="op" id="8310187">)</span>&nbsp;<span class="op" id="8310189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310192">return</span>&nbsp;<span class="op" id="8310199">[</span><span class="op" id="8310200">]</span><span class="builtintype" id="8310201">byte</span><span class="op" id="8310205">(</span><span class="ident" id="8310206"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8310209">.</span><span class="ident" id="8310210">Sprintf</span><span class="op" id="8310217">(</span><span class="string" id="8310218">&#34;VALUE=%d&#34;</span><span class="op" id="8310228">,</span>&nbsp;<span class="op" id="8310230">*</span><span class="ident" id="8310231"><a href="/encoding/gob/gobencdec_test.go.html#8310144">g</a></span><span class="op" id="8310232">)</span><span class="op" id="8310233">)</span><span class="op" id="8310234">,</span>&nbsp;<span class="ident" id="8310236">nil</span><br>
<span class="lineno"></span><span class="op" id="8310240">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="8310243">func</span>&nbsp;<span class="op" id="8310248">(</span><span class="ident" id="8310249">g</span>&nbsp;<span class="op" id="8310251">*</span><span class="ident" id="8310252"><a href="/encoding/gob/gobencdec_test.go.html#8308543">TextGobber</a></span><span class="op" id="8310262">)</span>&nbsp;<span class="ident" id="8310264">UnmarshalText</span><span class="op" id="8310277">(</span><span class="ident" id="8310278">data</span>&nbsp;<span class="op" id="8310283">[</span><span class="op" id="8310284">]</span><span class="builtintype" id="8310285">byte</span><span class="op" id="8310289">)</span>&nbsp;<span class="builtintype" id="8310291">error</span>&nbsp;<span class="op" id="8310297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310300">_</span><span class="op" id="8310301">,</span>&nbsp;<span class="ident" id="8310303">err</span>&nbsp;<span class="op" id="8310307">:=</span>&nbsp;<span class="ident" id="8310310"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8310313">.</span><span class="ident" id="8310314">Sscanf</span><span class="op" id="8310320">(</span><span class="builtintype" id="8310321">string</span><span class="op" id="8310327">(</span><span class="ident" id="8310328"><a href="/encoding/gob/gobencdec_test.go.html#8310278">data</a></span><span class="op" id="8310332">)</span><span class="op" id="8310333">,</span>&nbsp;<span class="string" id="8310335">&#34;VALUE=%d&#34;</span><span class="op" id="8310345">,</span>&nbsp;<span class="op" id="8310347">(</span><span class="op" id="8310348">*</span><span class="builtintype" id="8310349">int</span><span class="op" id="8310352">)</span><span class="op" id="8310353">(</span><span class="ident" id="8310354"><a href="/encoding/gob/gobencdec_test.go.html#8310249">g</a></span><span class="op" id="8310355">)</span><span class="op" id="8310356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310359">return</span>&nbsp;<span class="ident" id="8310366"><a href="/encoding/gob/gobencdec_test.go.html#8310303">err</a></span><br>
<span class="lineno"></span><span class="op" id="8310370">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="8310373">func</span>&nbsp;<span class="op" id="8310378">(</span><span class="ident" id="8310379">v</span>&nbsp;<span class="ident" id="8310381"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><span class="op" id="8310392">)</span>&nbsp;<span class="ident" id="8310394">GobEncode</span><span class="op" id="8310403">(</span><span class="op" id="8310404">)</span>&nbsp;<span class="op" id="8310406">(</span><span class="op" id="8310407">[</span><span class="op" id="8310408">]</span><span class="builtintype" id="8310409">byte</span><span class="op" id="8310413">,</span>&nbsp;<span class="builtintype" id="8310415">error</span><span class="op" id="8310420">)</span>&nbsp;<span class="op" id="8310422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310425">return</span>&nbsp;<span class="op" id="8310432">[</span><span class="op" id="8310433">]</span><span class="builtintype" id="8310434">byte</span><span class="op" id="8310438">(</span><span class="ident" id="8310439"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8310442">.</span><span class="ident" id="8310443">Sprintf</span><span class="op" id="8310450">(</span><span class="string" id="8310451">&#34;VALUE=%s&#34;</span><span class="op" id="8310461">,</span>&nbsp;<span class="ident" id="8310463"><a href="/encoding/gob/gobencdec_test.go.html#8310379">v</a></span><span class="op" id="8310464">)</span><span class="op" id="8310465">)</span><span class="op" id="8310466">,</span>&nbsp;<span class="ident" id="8310468">nil</span><br>
<span class="lineno"></span><span class="op" id="8310472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="8310475">func</span>&nbsp;<span class="op" id="8310480">(</span><span class="ident" id="8310481">v</span>&nbsp;<span class="op" id="8310483">*</span><span class="ident" id="8310484"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><span class="op" id="8310495">)</span>&nbsp;<span class="ident" id="8310497">GobDecode</span><span class="op" id="8310506">(</span><span class="ident" id="8310507">data</span>&nbsp;<span class="op" id="8310512">[</span><span class="op" id="8310513">]</span><span class="builtintype" id="8310514">byte</span><span class="op" id="8310518">)</span>&nbsp;<span class="builtintype" id="8310520">error</span>&nbsp;<span class="op" id="8310526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310529">_</span><span class="op" id="8310530">,</span>&nbsp;<span class="ident" id="8310532">err</span>&nbsp;<span class="op" id="8310536">:=</span>&nbsp;<span class="ident" id="8310539"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8310542">.</span><span class="ident" id="8310543">Sscanf</span><span class="op" id="8310549">(</span><span class="builtintype" id="8310550">string</span><span class="op" id="8310556">(</span><span class="ident" id="8310557"><a href="/encoding/gob/gobencdec_test.go.html#8310507">data</a></span><span class="op" id="8310561">)</span><span class="op" id="8310562">,</span>&nbsp;<span class="string" id="8310564">&#34;VALUE=%s&#34;</span><span class="op" id="8310574">,</span>&nbsp;<span class="op" id="8310576">(</span><span class="op" id="8310577">*</span><span class="builtintype" id="8310578">string</span><span class="op" id="8310584">)</span><span class="op" id="8310585">(</span><span class="ident" id="8310586"><a href="/encoding/gob/gobencdec_test.go.html#8310481">v</a></span><span class="op" id="8310587">)</span><span class="op" id="8310588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310591">return</span>&nbsp;<span class="ident" id="8310598"><a href="/encoding/gob/gobencdec_test.go.html#8310532">err</a></span><br>
<span class="lineno"></span><span class="op" id="8310602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="8310605">func</span>&nbsp;<span class="op" id="8310610">(</span><span class="ident" id="8310611">v</span>&nbsp;<span class="ident" id="8310613"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><span class="op" id="8310630">)</span>&nbsp;<span class="ident" id="8310632">MarshalBinary</span><span class="op" id="8310645">(</span><span class="op" id="8310646">)</span>&nbsp;<span class="op" id="8310648">(</span><span class="op" id="8310649">[</span><span class="op" id="8310650">]</span><span class="builtintype" id="8310651">byte</span><span class="op" id="8310655">,</span>&nbsp;<span class="builtintype" id="8310657">error</span><span class="op" id="8310662">)</span>&nbsp;<span class="op" id="8310664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310667">return</span>&nbsp;<span class="op" id="8310674">[</span><span class="op" id="8310675">]</span><span class="builtintype" id="8310676">byte</span><span class="op" id="8310680">(</span><span class="ident" id="8310681"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8310684">.</span><span class="ident" id="8310685">Sprintf</span><span class="op" id="8310692">(</span><span class="string" id="8310693">&#34;VALUE=%s&#34;</span><span class="op" id="8310703">,</span>&nbsp;<span class="ident" id="8310705"><a href="/encoding/gob/gobencdec_test.go.html#8310611">v</a></span><span class="op" id="8310706">)</span><span class="op" id="8310707">)</span><span class="op" id="8310708">,</span>&nbsp;<span class="ident" id="8310710">nil</span><br>
<span class="lineno"></span><span class="op" id="8310714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8310717">func</span>&nbsp;<span class="op" id="8310722">(</span><span class="ident" id="8310723">v</span>&nbsp;<span class="op" id="8310725">*</span><span class="ident" id="8310726"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><span class="op" id="8310743">)</span>&nbsp;<span class="ident" id="8310745">UnmarshalBinary</span><span class="op" id="8310760">(</span><span class="ident" id="8310761">data</span>&nbsp;<span class="op" id="8310766">[</span><span class="op" id="8310767">]</span><span class="builtintype" id="8310768">byte</span><span class="op" id="8310772">)</span>&nbsp;<span class="builtintype" id="8310774">error</span>&nbsp;<span class="op" id="8310780">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310783">_</span><span class="op" id="8310784">,</span>&nbsp;<span class="ident" id="8310786">err</span>&nbsp;<span class="op" id="8310790">:=</span>&nbsp;<span class="ident" id="8310793"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8310796">.</span><span class="ident" id="8310797">Sscanf</span><span class="op" id="8310803">(</span><span class="builtintype" id="8310804">string</span><span class="op" id="8310810">(</span><span class="ident" id="8310811"><a href="/encoding/gob/gobencdec_test.go.html#8310761">data</a></span><span class="op" id="8310815">)</span><span class="op" id="8310816">,</span>&nbsp;<span class="string" id="8310818">&#34;VALUE=%s&#34;</span><span class="op" id="8310828">,</span>&nbsp;<span class="op" id="8310830">(</span><span class="op" id="8310831">*</span><span class="builtintype" id="8310832">string</span><span class="op" id="8310838">)</span><span class="op" id="8310839">(</span><span class="ident" id="8310840"><a href="/encoding/gob/gobencdec_test.go.html#8310723">v</a></span><span class="op" id="8310841">)</span><span class="op" id="8310842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310845">return</span>&nbsp;<span class="ident" id="8310852"><a href="/encoding/gob/gobencdec_test.go.html#8310786">err</a></span><br>
<span class="lineno"></span><span class="op" id="8310856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8310859">func</span>&nbsp;<span class="op" id="8310864">(</span><span class="ident" id="8310865">v</span>&nbsp;<span class="ident" id="8310867"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><span class="op" id="8310882">)</span>&nbsp;<span class="ident" id="8310884">MarshalText</span><span class="op" id="8310895">(</span><span class="op" id="8310896">)</span>&nbsp;<span class="op" id="8310898">(</span><span class="op" id="8310899">[</span><span class="op" id="8310900">]</span><span class="builtintype" id="8310901">byte</span><span class="op" id="8310905">,</span>&nbsp;<span class="builtintype" id="8310907">error</span><span class="op" id="8310912">)</span>&nbsp;<span class="op" id="8310914">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310917">return</span>&nbsp;<span class="op" id="8310924">[</span><span class="op" id="8310925">]</span><span class="builtintype" id="8310926">byte</span><span class="op" id="8310930">(</span><span class="ident" id="8310931"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8310934">.</span><span class="ident" id="8310935">Sprintf</span><span class="op" id="8310942">(</span><span class="string" id="8310943">&#34;VALUE=%s&#34;</span><span class="op" id="8310953">,</span>&nbsp;<span class="ident" id="8310955"><a href="/encoding/gob/gobencdec_test.go.html#8310865">v</a></span><span class="op" id="8310956">)</span><span class="op" id="8310957">)</span><span class="op" id="8310958">,</span>&nbsp;<span class="ident" id="8310960">nil</span><br>
<span class="lineno"></span><span class="op" id="8310964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8310967">func</span>&nbsp;<span class="op" id="8310972">(</span><span class="ident" id="8310973">v</span>&nbsp;<span class="op" id="8310975">*</span><span class="ident" id="8310976"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><span class="op" id="8310991">)</span>&nbsp;<span class="ident" id="8310993">UnmarshalText</span><span class="op" id="8311006">(</span><span class="ident" id="8311007">data</span>&nbsp;<span class="op" id="8311012">[</span><span class="op" id="8311013">]</span><span class="builtintype" id="8311014">byte</span><span class="op" id="8311018">)</span>&nbsp;<span class="builtintype" id="8311020">error</span>&nbsp;<span class="op" id="8311026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311029">_</span><span class="op" id="8311030">,</span>&nbsp;<span class="ident" id="8311032">err</span>&nbsp;<span class="op" id="8311036">:=</span>&nbsp;<span class="ident" id="8311039"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8311042">.</span><span class="ident" id="8311043">Sscanf</span><span class="op" id="8311049">(</span><span class="builtintype" id="8311050">string</span><span class="op" id="8311056">(</span><span class="ident" id="8311057"><a href="/encoding/gob/gobencdec_test.go.html#8311007">data</a></span><span class="op" id="8311061">)</span><span class="op" id="8311062">,</span>&nbsp;<span class="string" id="8311064">&#34;VALUE=%s&#34;</span><span class="op" id="8311074">,</span>&nbsp;<span class="op" id="8311076">(</span><span class="op" id="8311077">*</span><span class="builtintype" id="8311078">string</span><span class="op" id="8311084">)</span><span class="op" id="8311085">(</span><span class="ident" id="8311086"><a href="/encoding/gob/gobencdec_test.go.html#8310973">v</a></span><span class="op" id="8311087">)</span><span class="op" id="8311088">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8311091">return</span>&nbsp;<span class="ident" id="8311098"><a href="/encoding/gob/gobencdec_test.go.html#8311032">err</a></span><br>
<span class="lineno"></span><span class="op" id="8311102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8311105">//&nbsp;Structs&nbsp;that&nbsp;include&nbsp;GobEncodable&nbsp;fields.</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="8311151">type</span>&nbsp;<span class="ident" id="8311156">GobTest0</span>&nbsp;<span class="keyword" id="8311165">struct</span>&nbsp;<span class="op" id="8311172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311175">X</span>&nbsp;<span class="builtintype" id="8311177">int</span>&nbsp;<span class="comment" id="8311181">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311238">G</span>&nbsp;<span class="op" id="8311240">*</span><span class="ident" id="8311241"><a href="/encoding/gob/gobencdec_test.go.html#8308204">ByteStruct</a></span><br>
<span class="lineno"></span><span class="op" id="8311252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="8311255">type</span>&nbsp;<span class="ident" id="8311260">GobTest1</span>&nbsp;<span class="keyword" id="8311269">struct</span>&nbsp;<span class="op" id="8311276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311279">X</span>&nbsp;<span class="builtintype" id="8311281">int</span>&nbsp;<span class="comment" id="8311285">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311342">G</span>&nbsp;<span class="op" id="8311344">*</span><span class="ident" id="8311345"><a href="/encoding/gob/gobencdec_test.go.html#8308265">StringStruct</a></span><br>
<span class="lineno"></span><span class="op" id="8311358">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="8311361">type</span>&nbsp;<span class="ident" id="8311366">GobTest2</span>&nbsp;<span class="keyword" id="8311375">struct</span>&nbsp;<span class="op" id="8311382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311385">X</span>&nbsp;<span class="builtintype" id="8311387">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8311394">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311451">G</span>&nbsp;<span class="builtintype" id="8311453">string</span>&nbsp;<span class="comment" id="8311460">//&nbsp;not&nbsp;a&nbsp;GobEncoder&nbsp;-&nbsp;should&nbsp;give&nbsp;us&nbsp;errors</span><br>
<span class="lineno"></span><span class="op" id="8311504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="keyword" id="8311507">type</span>&nbsp;<span class="ident" id="8311512">GobTest3</span>&nbsp;<span class="keyword" id="8311521">struct</span>&nbsp;<span class="op" id="8311528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311531">X</span>&nbsp;<span class="builtintype" id="8311533">int</span>&nbsp;<span class="comment" id="8311537">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311594">G</span>&nbsp;<span class="op" id="8311596">*</span><span class="ident" id="8311597"><a href="/encoding/gob/gobencdec_test.go.html#8308398">Gobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311605">B</span>&nbsp;<span class="op" id="8311607">*</span><span class="ident" id="8311608"><a href="/encoding/gob/gobencdec_test.go.html#8308489">BinaryGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311622">T</span>&nbsp;<span class="op" id="8311624">*</span><span class="ident" id="8311625"><a href="/encoding/gob/gobencdec_test.go.html#8308543">TextGobber</a></span><br>
<span class="lineno">180</span><span class="op" id="8311636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8311639">type</span>&nbsp;<span class="ident" id="8311644">GobTest4</span>&nbsp;<span class="keyword" id="8311653">struct</span>&nbsp;<span class="op" id="8311660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311663">X</span>&nbsp;&nbsp;<span class="builtintype" id="8311666">int</span>&nbsp;<span class="comment" id="8311670">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311727">V</span>&nbsp;&nbsp;<span class="ident" id="8311730"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311743">BV</span>&nbsp;<span class="ident" id="8311746"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311765">TV</span>&nbsp;<span class="ident" id="8311768"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><br>
<span class="lineno"></span><span class="op" id="8311784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8311787">type</span>&nbsp;<span class="ident" id="8311792">GobTest5</span>&nbsp;<span class="keyword" id="8311801">struct</span>&nbsp;<span class="op" id="8311808">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311811">X</span>&nbsp;&nbsp;<span class="builtintype" id="8311814">int</span>&nbsp;<span class="comment" id="8311818">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311875">V</span>&nbsp;&nbsp;<span class="op" id="8311878">*</span><span class="ident" id="8311879"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311892">BV</span>&nbsp;<span class="op" id="8311895">*</span><span class="ident" id="8311896"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311915">TV</span>&nbsp;<span class="op" id="8311918">*</span><span class="ident" id="8311919"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><br>
<span class="lineno"></span><span class="op" id="8311935">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="8311938">type</span>&nbsp;<span class="ident" id="8311943">GobTest6</span>&nbsp;<span class="keyword" id="8311952">struct</span>&nbsp;<span class="op" id="8311959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311962">X</span>&nbsp;&nbsp;<span class="builtintype" id="8311965">int</span>&nbsp;<span class="comment" id="8311969">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312026">V</span>&nbsp;&nbsp;<span class="ident" id="8312029"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312042">W</span>&nbsp;&nbsp;<span class="op" id="8312045">*</span><span class="ident" id="8312046"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312059">BV</span>&nbsp;<span class="ident" id="8312062"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312081">BW</span>&nbsp;<span class="op" id="8312084">*</span><span class="ident" id="8312085"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312104">TV</span>&nbsp;<span class="ident" id="8312107"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312124">TW</span>&nbsp;<span class="op" id="8312127">*</span><span class="ident" id="8312128"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><br>
<span class="lineno"></span><span class="op" id="8312144">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="8312147">type</span>&nbsp;<span class="ident" id="8312152">GobTest7</span>&nbsp;<span class="keyword" id="8312161">struct</span>&nbsp;<span class="op" id="8312168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312171">X</span>&nbsp;&nbsp;<span class="builtintype" id="8312174">int</span>&nbsp;<span class="comment" id="8312178">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312235">V</span>&nbsp;&nbsp;<span class="op" id="8312238">*</span><span class="ident" id="8312239"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312252">W</span>&nbsp;&nbsp;<span class="ident" id="8312255"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312268">BV</span>&nbsp;<span class="op" id="8312271">*</span><span class="ident" id="8312272"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312291">BW</span>&nbsp;<span class="ident" id="8312294"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312313">TV</span>&nbsp;<span class="op" id="8312316">*</span><span class="ident" id="8312317"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312334">TW</span>&nbsp;<span class="ident" id="8312337"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><br>
<span class="lineno"></span><span class="op" id="8312353">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="8312356">type</span>&nbsp;<span class="ident" id="8312361">GobTestIgnoreEncoder</span>&nbsp;<span class="keyword" id="8312382">struct</span>&nbsp;<span class="op" id="8312389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312392">X</span>&nbsp;<span class="builtintype" id="8312394">int</span>&nbsp;<span class="comment" id="8312398">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span><span class="op" id="8312454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="8312457">type</span>&nbsp;<span class="ident" id="8312462">GobTestValueEncDec</span>&nbsp;<span class="keyword" id="8312481">struct</span>&nbsp;<span class="op" id="8312488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312491">X</span>&nbsp;<span class="builtintype" id="8312493">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8312506">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312563">G</span>&nbsp;<span class="ident" id="8312565"><a href="/encoding/gob/gobencdec_test.go.html#8308265">StringStruct</a></span>&nbsp;<span class="comment" id="8312578">//&nbsp;not&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span><span class="op" id="8312596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="8312599">type</span>&nbsp;<span class="ident" id="8312604">GobTestIndirectEncDec</span>&nbsp;<span class="keyword" id="8312626">struct</span>&nbsp;<span class="op" id="8312633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312636">X</span>&nbsp;<span class="builtintype" id="8312638">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8312654">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312711">G</span>&nbsp;<span class="op" id="8312713">*</span><span class="op" id="8312714">*</span><span class="op" id="8312715">*</span><span class="ident" id="8312716"><a href="/encoding/gob/gobencdec_test.go.html#8308265">StringStruct</a></span>&nbsp;<span class="comment" id="8312729">//&nbsp;indirections&nbsp;to&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="op" id="8312762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span><span class="keyword" id="8312765">type</span>&nbsp;<span class="ident" id="8312770">GobTestArrayEncDec</span>&nbsp;<span class="keyword" id="8312789">struct</span>&nbsp;<span class="op" id="8312796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312799">X</span>&nbsp;<span class="builtintype" id="8312801">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8312813">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312870">A</span>&nbsp;<span class="ident" id="8312872"><a href="/encoding/gob/gobencdec_test.go.html#8308330">ArrayStruct</a></span>&nbsp;<span class="comment" id="8312884">//&nbsp;not&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span><span class="op" id="8312902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="8312905">type</span>&nbsp;<span class="ident" id="8312910">GobTestIndirectArrayEncDec</span>&nbsp;<span class="keyword" id="8312937">struct</span>&nbsp;<span class="op" id="8312944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312947">X</span>&nbsp;<span class="builtintype" id="8312949">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8312964">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313021">A</span>&nbsp;<span class="op" id="8313023">*</span><span class="op" id="8313024">*</span><span class="op" id="8313025">*</span><span class="ident" id="8313026"><a href="/encoding/gob/gobencdec_test.go.html#8308330">ArrayStruct</a></span>&nbsp;<span class="comment" id="8313038">//&nbsp;indirections&nbsp;to&nbsp;a&nbsp;large&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="op" id="8313075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="keyword" id="8313078">func</span>&nbsp;<span class="ident" id="8313083">TestGobEncoderField</span><span class="op" id="8313102">(</span><span class="ident" id="8313103">t</span>&nbsp;<span class="op" id="8313105">*</span><span class="ident" id="8313106"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8313113">.</span><span class="ident" id="8313114">T</span><span class="op" id="8313115">)</span>&nbsp;<span class="op" id="8313117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313120">b</span>&nbsp;<span class="op" id="8313122">:=</span>&nbsp;<span class="builtinfunc" id="8313125">new</span><span class="op" id="8313128">(</span><span class="ident" id="8313129"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8313134">.</span><span class="ident" id="8313135">Buffer</span><span class="op" id="8313141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8313144">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313182">enc</span>&nbsp;<span class="op" id="8313186">:=</span>&nbsp;<span class="ident" id="8313189"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8313199">(</span><span class="ident" id="8313200"><a href="/encoding/gob/gobencdec_test.go.html#8313120">b</a></span><span class="op" id="8313201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313204">err</span>&nbsp;<span class="op" id="8313208">:=</span>&nbsp;<span class="ident" id="8313211"><a href="/encoding/gob/gobencdec_test.go.html#8313182">enc</a></span><span class="op" id="8313214">.</span><span class="ident" id="8313215">Encode</span><span class="op" id="8313221">(</span><span class="ident" id="8313222"><a href="/encoding/gob/gobencdec_test.go.html#8311156">GobTest0</a></span><span class="op" id="8313230">{</span><span class="num" id="8313231">17</span><span class="op" id="8313233">,</span>&nbsp;<span class="op" id="8313235">&amp;</span><span class="ident" id="8313236"><a href="/encoding/gob/gobencdec_test.go.html#8308204">ByteStruct</a></span><span class="op" id="8313246">{</span><span class="string" id="8313247">&#39;A&#39;</span><span class="op" id="8313250">}</span><span class="op" id="8313251">}</span><span class="op" id="8313252">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313255">if</span>&nbsp;<span class="ident" id="8313258"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span>&nbsp;<span class="op" id="8313262">!=</span>&nbsp;<span class="ident" id="8313265">nil</span>&nbsp;<span class="op" id="8313269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313273"><a href="/encoding/gob/gobencdec_test.go.html#8313103">t</a></span><span class="op" id="8313274">.</span><span class="ident" id="8313275">Fatal</span><span class="op" id="8313280">(</span><span class="string" id="8313281">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8313296">,</span>&nbsp;<span class="ident" id="8313298"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span><span class="op" id="8313301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313307">dec</span>&nbsp;<span class="op" id="8313311">:=</span>&nbsp;<span class="ident" id="8313314"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8313324">(</span><span class="ident" id="8313325"><a href="/encoding/gob/gobencdec_test.go.html#8313120">b</a></span><span class="op" id="8313326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313329">x</span>&nbsp;<span class="op" id="8313331">:=</span>&nbsp;<span class="builtinfunc" id="8313334">new</span><span class="op" id="8313337">(</span><span class="ident" id="8313338"><a href="/encoding/gob/gobencdec_test.go.html#8311156">GobTest0</a></span><span class="op" id="8313346">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313349"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span>&nbsp;<span class="op" id="8313353">=</span>&nbsp;<span class="ident" id="8313355"><a href="/encoding/gob/gobencdec_test.go.html#8313307">dec</a></span><span class="op" id="8313358">.</span><span class="ident" id="8313359">Decode</span><span class="op" id="8313365">(</span><span class="ident" id="8313366"><a href="/encoding/gob/gobencdec_test.go.html#8313329">x</a></span><span class="op" id="8313367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313370">if</span>&nbsp;<span class="ident" id="8313373"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span>&nbsp;<span class="op" id="8313377">!=</span>&nbsp;<span class="ident" id="8313380">nil</span>&nbsp;<span class="op" id="8313384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313388"><a href="/encoding/gob/gobencdec_test.go.html#8313103">t</a></span><span class="op" id="8313389">.</span><span class="ident" id="8313390">Fatal</span><span class="op" id="8313395">(</span><span class="string" id="8313396">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8313411">,</span>&nbsp;<span class="ident" id="8313413"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span><span class="op" id="8313416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313422">if</span>&nbsp;<span class="ident" id="8313425"><a href="/encoding/gob/gobencdec_test.go.html#8313329">x</a></span><span class="op" id="8313426">.</span><span class="ident" id="8313427">G</span><span class="op" id="8313428">.</span><span class="ident" id="8313429">a</span>&nbsp;<span class="op" id="8313431">!=</span>&nbsp;<span class="string" id="8313434">&#39;A&#39;</span>&nbsp;<span class="op" id="8313438">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313442"><a href="/encoding/gob/gobencdec_test.go.html#8313103">t</a></span><span class="op" id="8313443">.</span><span class="ident" id="8313444">Errorf</span><span class="op" id="8313450">(</span><span class="string" id="8313451">&#34;expected&nbsp;&#39;A&#39;&nbsp;got&nbsp;%c&#34;</span><span class="op" id="8313472">,</span>&nbsp;<span class="ident" id="8313474"><a href="/encoding/gob/gobencdec_test.go.html#8313329">x</a></span><span class="op" id="8313475">.</span><span class="ident" id="8313476">G</span><span class="op" id="8313477">.</span><span class="ident" id="8313478">a</span><span class="op" id="8313479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8313485">//&nbsp;Now&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;not&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313525"><a href="/encoding/gob/gobencdec_test.go.html#8313120">b</a></span><span class="op" id="8313526">.</span><span class="ident" id="8313527">Reset</span><span class="op" id="8313532">(</span><span class="op" id="8313533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313536">gobber</span>&nbsp;<span class="op" id="8313543">:=</span>&nbsp;<span class="ident" id="8313546"><a href="/encoding/gob/gobencdec_test.go.html#8308398">Gobber</a></span><span class="op" id="8313552">(</span><span class="num" id="8313553">23</span><span class="op" id="8313555">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313558">bgobber</span>&nbsp;<span class="op" id="8313566">:=</span>&nbsp;<span class="ident" id="8313569"><a href="/encoding/gob/gobencdec_test.go.html#8308489">BinaryGobber</a></span><span class="op" id="8313581">(</span><span class="num" id="8313582">24</span><span class="op" id="8313584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313587">tgobber</span>&nbsp;<span class="op" id="8313595">:=</span>&nbsp;<span class="ident" id="8313598"><a href="/encoding/gob/gobencdec_test.go.html#8308543">TextGobber</a></span><span class="op" id="8313608">(</span><span class="num" id="8313609">25</span><span class="op" id="8313611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313614"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span>&nbsp;<span class="op" id="8313618">=</span>&nbsp;<span class="ident" id="8313620"><a href="/encoding/gob/gobencdec_test.go.html#8313182">enc</a></span><span class="op" id="8313623">.</span><span class="ident" id="8313624">Encode</span><span class="op" id="8313630">(</span><span class="ident" id="8313631"><a href="/encoding/gob/gobencdec_test.go.html#8311512">GobTest3</a></span><span class="op" id="8313639">{</span><span class="num" id="8313640">17</span><span class="op" id="8313642">,</span>&nbsp;<span class="op" id="8313644">&amp;</span><span class="ident" id="8313645"><a href="/encoding/gob/gobencdec_test.go.html#8313536">gobber</a></span><span class="op" id="8313651">,</span>&nbsp;<span class="op" id="8313653">&amp;</span><span class="ident" id="8313654"><a href="/encoding/gob/gobencdec_test.go.html#8313558">bgobber</a></span><span class="op" id="8313661">,</span>&nbsp;<span class="op" id="8313663">&amp;</span><span class="ident" id="8313664"><a href="/encoding/gob/gobencdec_test.go.html#8313587">tgobber</a></span><span class="op" id="8313671">}</span><span class="op" id="8313672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313675">if</span>&nbsp;<span class="ident" id="8313678"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span>&nbsp;<span class="op" id="8313682">!=</span>&nbsp;<span class="ident" id="8313685">nil</span>&nbsp;<span class="op" id="8313689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313693"><a href="/encoding/gob/gobencdec_test.go.html#8313103">t</a></span><span class="op" id="8313694">.</span><span class="ident" id="8313695">Fatal</span><span class="op" id="8313700">(</span><span class="string" id="8313701">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8313716">,</span>&nbsp;<span class="ident" id="8313718"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span><span class="op" id="8313721">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313727">y</span>&nbsp;<span class="op" id="8313729">:=</span>&nbsp;<span class="builtinfunc" id="8313732">new</span><span class="op" id="8313735">(</span><span class="ident" id="8313736"><a href="/encoding/gob/gobencdec_test.go.html#8311512">GobTest3</a></span><span class="op" id="8313744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313747"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span>&nbsp;<span class="op" id="8313751">=</span>&nbsp;<span class="ident" id="8313753"><a href="/encoding/gob/gobencdec_test.go.html#8313307">dec</a></span><span class="op" id="8313756">.</span><span class="ident" id="8313757">Decode</span><span class="op" id="8313763">(</span><span class="ident" id="8313764"><a href="/encoding/gob/gobencdec_test.go.html#8313727">y</a></span><span class="op" id="8313765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313768">if</span>&nbsp;<span class="ident" id="8313771"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span>&nbsp;<span class="op" id="8313775">!=</span>&nbsp;<span class="ident" id="8313778">nil</span>&nbsp;<span class="op" id="8313782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313786"><a href="/encoding/gob/gobencdec_test.go.html#8313103">t</a></span><span class="op" id="8313787">.</span><span class="ident" id="8313788">Fatal</span><span class="op" id="8313793">(</span><span class="string" id="8313794">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8313809">,</span>&nbsp;<span class="ident" id="8313811"><a href="/encoding/gob/gobencdec_test.go.html#8313204">err</a></span><span class="op" id="8313814">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313820">if</span>&nbsp;<span class="op" id="8313823">*</span><span class="ident" id="8313824"><a href="/encoding/gob/gobencdec_test.go.html#8313727">y</a></span><span class="op" id="8313825">.</span><span class="ident" id="8313826">G</span>&nbsp;<span class="op" id="8313828">!=</span>&nbsp;<span class="num" id="8313831">23</span>&nbsp;<span class="op" id="8313834">||</span>&nbsp;<span class="op" id="8313837">*</span><span class="ident" id="8313838"><a href="/encoding/gob/gobencdec_test.go.html#8313727">y</a></span><span class="op" id="8313839">.</span><span class="ident" id="8313840">B</span>&nbsp;<span class="op" id="8313842">!=</span>&nbsp;<span class="num" id="8313845">24</span>&nbsp;<span class="op" id="8313848">||</span>&nbsp;<span class="op" id="8313851">*</span><span class="ident" id="8313852"><a href="/encoding/gob/gobencdec_test.go.html#8313727">y</a></span><span class="op" id="8313853">.</span><span class="ident" id="8313854">T</span>&nbsp;<span class="op" id="8313856">!=</span>&nbsp;<span class="num" id="8313859">25</span>&nbsp;<span class="op" id="8313862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313866"><a href="/encoding/gob/gobencdec_test.go.html#8313103">t</a></span><span class="op" id="8313867">.</span><span class="ident" id="8313868">Errorf</span><span class="op" id="8313874">(</span><span class="string" id="8313875">&#34;expected&nbsp;&#39;23&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8313896">,</span>&nbsp;<span class="op" id="8313898">*</span><span class="ident" id="8313899"><a href="/encoding/gob/gobencdec_test.go.html#8313727">y</a></span><span class="op" id="8313900">.</span><span class="ident" id="8313901">G</span><span class="op" id="8313902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313905">}</span><br>
<span class="lineno"></span><span class="op" id="8313907">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="comment" id="8313910">//&nbsp;Even&nbsp;though&nbsp;the&nbsp;field&nbsp;is&nbsp;a&nbsp;value,&nbsp;we&nbsp;can&nbsp;still&nbsp;take&nbsp;its&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="8313977">//&nbsp;and&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;call&nbsp;the&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="8314020">func</span>&nbsp;<span class="ident" id="8314025">TestGobEncoderValueField</span><span class="op" id="8314049">(</span><span class="ident" id="8314050">t</span>&nbsp;<span class="op" id="8314052">*</span><span class="ident" id="8314053"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8314060">.</span><span class="ident" id="8314061">T</span><span class="op" id="8314062">)</span>&nbsp;<span class="op" id="8314064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314067">b</span>&nbsp;<span class="op" id="8314069">:=</span>&nbsp;<span class="builtinfunc" id="8314072">new</span><span class="op" id="8314075">(</span><span class="ident" id="8314076"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8314081">.</span><span class="ident" id="8314082">Buffer</span><span class="op" id="8314088">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8314091">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314129">enc</span>&nbsp;<span class="op" id="8314133">:=</span>&nbsp;<span class="ident" id="8314136"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8314146">(</span><span class="ident" id="8314147"><a href="/encoding/gob/gobencdec_test.go.html#8314067">b</a></span><span class="op" id="8314148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314151">err</span>&nbsp;<span class="op" id="8314155">:=</span>&nbsp;<span class="ident" id="8314158"><a href="/encoding/gob/gobencdec_test.go.html#8314129">enc</a></span><span class="op" id="8314161">.</span><span class="ident" id="8314162">Encode</span><span class="op" id="8314168">(</span><span class="op" id="8314169">&amp;</span><span class="ident" id="8314170"><a href="/encoding/gob/gobencdec_test.go.html#8312462">GobTestValueEncDec</a></span><span class="op" id="8314188">{</span><span class="num" id="8314189">17</span><span class="op" id="8314191">,</span>&nbsp;<span class="ident" id="8314193"><a href="/encoding/gob/gobencdec_test.go.html#8308265">StringStruct</a></span><span class="op" id="8314205">{</span><span class="string" id="8314206">&#34;HIJKL&#34;</span><span class="op" id="8314213">}</span><span class="op" id="8314214">}</span><span class="op" id="8314215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314218">if</span>&nbsp;<span class="ident" id="8314221"><a href="/encoding/gob/gobencdec_test.go.html#8314151">err</a></span>&nbsp;<span class="op" id="8314225">!=</span>&nbsp;<span class="ident" id="8314228">nil</span>&nbsp;<span class="op" id="8314232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314236"><a href="/encoding/gob/gobencdec_test.go.html#8314050">t</a></span><span class="op" id="8314237">.</span><span class="ident" id="8314238">Fatal</span><span class="op" id="8314243">(</span><span class="string" id="8314244">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8314259">,</span>&nbsp;<span class="ident" id="8314261"><a href="/encoding/gob/gobencdec_test.go.html#8314151">err</a></span><span class="op" id="8314264">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314270">dec</span>&nbsp;<span class="op" id="8314274">:=</span>&nbsp;<span class="ident" id="8314277"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8314287">(</span><span class="ident" id="8314288"><a href="/encoding/gob/gobencdec_test.go.html#8314067">b</a></span><span class="op" id="8314289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314292">x</span>&nbsp;<span class="op" id="8314294">:=</span>&nbsp;<span class="builtinfunc" id="8314297">new</span><span class="op" id="8314300">(</span><span class="ident" id="8314301"><a href="/encoding/gob/gobencdec_test.go.html#8312462">GobTestValueEncDec</a></span><span class="op" id="8314319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314322"><a href="/encoding/gob/gobencdec_test.go.html#8314151">err</a></span>&nbsp;<span class="op" id="8314326">=</span>&nbsp;<span class="ident" id="8314328"><a href="/encoding/gob/gobencdec_test.go.html#8314270">dec</a></span><span class="op" id="8314331">.</span><span class="ident" id="8314332">Decode</span><span class="op" id="8314338">(</span><span class="ident" id="8314339"><a href="/encoding/gob/gobencdec_test.go.html#8314292">x</a></span><span class="op" id="8314340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314343">if</span>&nbsp;<span class="ident" id="8314346"><a href="/encoding/gob/gobencdec_test.go.html#8314151">err</a></span>&nbsp;<span class="op" id="8314350">!=</span>&nbsp;<span class="ident" id="8314353">nil</span>&nbsp;<span class="op" id="8314357">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314361"><a href="/encoding/gob/gobencdec_test.go.html#8314050">t</a></span><span class="op" id="8314362">.</span><span class="ident" id="8314363">Fatal</span><span class="op" id="8314368">(</span><span class="string" id="8314369">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8314384">,</span>&nbsp;<span class="ident" id="8314386"><a href="/encoding/gob/gobencdec_test.go.html#8314151">err</a></span><span class="op" id="8314389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314395">if</span>&nbsp;<span class="ident" id="8314398"><a href="/encoding/gob/gobencdec_test.go.html#8314292">x</a></span><span class="op" id="8314399">.</span><span class="ident" id="8314400">G</span><span class="op" id="8314401">.</span><span class="ident" id="8314402">s</span>&nbsp;<span class="op" id="8314404">!=</span>&nbsp;<span class="string" id="8314407">&#34;HIJKL&#34;</span>&nbsp;<span class="op" id="8314415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314419"><a href="/encoding/gob/gobencdec_test.go.html#8314050">t</a></span><span class="op" id="8314420">.</span><span class="ident" id="8314421">Errorf</span><span class="op" id="8314427">(</span><span class="string" id="8314428">&#34;expected&nbsp;`HIJKL`&nbsp;got&nbsp;%s&#34;</span><span class="op" id="8314453">,</span>&nbsp;<span class="ident" id="8314455"><a href="/encoding/gob/gobencdec_test.go.html#8314292">x</a></span><span class="op" id="8314456">.</span><span class="ident" id="8314457">G</span><span class="op" id="8314458">.</span><span class="ident" id="8314459">s</span><span class="op" id="8314460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314463">}</span><br>
<span class="lineno">295</span><span class="op" id="8314465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8314468">//&nbsp;GobEncode/Decode&nbsp;should&nbsp;work&nbsp;even&nbsp;if&nbsp;the&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="8314521">//&nbsp;more&nbsp;indirect&nbsp;than&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="keyword" id="8314557">func</span>&nbsp;<span class="ident" id="8314562">TestGobEncoderIndirectField</span><span class="op" id="8314589">(</span><span class="ident" id="8314590">t</span>&nbsp;<span class="op" id="8314592">*</span><span class="ident" id="8314593"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8314600">.</span><span class="ident" id="8314601">T</span><span class="op" id="8314602">)</span>&nbsp;<span class="op" id="8314604">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314607">b</span>&nbsp;<span class="op" id="8314609">:=</span>&nbsp;<span class="builtinfunc" id="8314612">new</span><span class="op" id="8314615">(</span><span class="ident" id="8314616"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8314621">.</span><span class="ident" id="8314622">Buffer</span><span class="op" id="8314628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8314631">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314669">enc</span>&nbsp;<span class="op" id="8314673">:=</span>&nbsp;<span class="ident" id="8314676"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8314686">(</span><span class="ident" id="8314687"><a href="/encoding/gob/gobencdec_test.go.html#8314607">b</a></span><span class="op" id="8314688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314691">s</span>&nbsp;<span class="op" id="8314693">:=</span>&nbsp;<span class="op" id="8314696">&amp;</span><span class="ident" id="8314697"><a href="/encoding/gob/gobencdec_test.go.html#8308265">StringStruct</a></span><span class="op" id="8314709">{</span><span class="string" id="8314710">&#34;HIJKL&#34;</span><span class="op" id="8314717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314720">sp</span>&nbsp;<span class="op" id="8314723">:=</span>&nbsp;<span class="op" id="8314726">&amp;</span><span class="ident" id="8314727"><a href="/encoding/gob/gobencdec_test.go.html#8314691">s</a></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314730">err</span>&nbsp;<span class="op" id="8314734">:=</span>&nbsp;<span class="ident" id="8314737"><a href="/encoding/gob/gobencdec_test.go.html#8314669">enc</a></span><span class="op" id="8314740">.</span><span class="ident" id="8314741">Encode</span><span class="op" id="8314747">(</span><span class="ident" id="8314748"><a href="/encoding/gob/gobencdec_test.go.html#8312604">GobTestIndirectEncDec</a></span><span class="op" id="8314769">{</span><span class="num" id="8314770">17</span><span class="op" id="8314772">,</span>&nbsp;<span class="op" id="8314774">&amp;</span><span class="ident" id="8314775"><a href="/encoding/gob/gobencdec_test.go.html#8314720">sp</a></span><span class="op" id="8314777">}</span><span class="op" id="8314778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314781">if</span>&nbsp;<span class="ident" id="8314784"><a href="/encoding/gob/gobencdec_test.go.html#8314730">err</a></span>&nbsp;<span class="op" id="8314788">!=</span>&nbsp;<span class="ident" id="8314791">nil</span>&nbsp;<span class="op" id="8314795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314799"><a href="/encoding/gob/gobencdec_test.go.html#8314590">t</a></span><span class="op" id="8314800">.</span><span class="ident" id="8314801">Fatal</span><span class="op" id="8314806">(</span><span class="string" id="8314807">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8314822">,</span>&nbsp;<span class="ident" id="8314824"><a href="/encoding/gob/gobencdec_test.go.html#8314730">err</a></span><span class="op" id="8314827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314833">dec</span>&nbsp;<span class="op" id="8314837">:=</span>&nbsp;<span class="ident" id="8314840"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8314850">(</span><span class="ident" id="8314851"><a href="/encoding/gob/gobencdec_test.go.html#8314607">b</a></span><span class="op" id="8314852">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314855">x</span>&nbsp;<span class="op" id="8314857">:=</span>&nbsp;<span class="builtinfunc" id="8314860">new</span><span class="op" id="8314863">(</span><span class="ident" id="8314864"><a href="/encoding/gob/gobencdec_test.go.html#8312604">GobTestIndirectEncDec</a></span><span class="op" id="8314885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314888"><a href="/encoding/gob/gobencdec_test.go.html#8314730">err</a></span>&nbsp;<span class="op" id="8314892">=</span>&nbsp;<span class="ident" id="8314894"><a href="/encoding/gob/gobencdec_test.go.html#8314833">dec</a></span><span class="op" id="8314897">.</span><span class="ident" id="8314898">Decode</span><span class="op" id="8314904">(</span><span class="ident" id="8314905"><a href="/encoding/gob/gobencdec_test.go.html#8314855">x</a></span><span class="op" id="8314906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314909">if</span>&nbsp;<span class="ident" id="8314912"><a href="/encoding/gob/gobencdec_test.go.html#8314730">err</a></span>&nbsp;<span class="op" id="8314916">!=</span>&nbsp;<span class="ident" id="8314919">nil</span>&nbsp;<span class="op" id="8314923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314927"><a href="/encoding/gob/gobencdec_test.go.html#8314590">t</a></span><span class="op" id="8314928">.</span><span class="ident" id="8314929">Fatal</span><span class="op" id="8314934">(</span><span class="string" id="8314935">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8314950">,</span>&nbsp;<span class="ident" id="8314952"><a href="/encoding/gob/gobencdec_test.go.html#8314730">err</a></span><span class="op" id="8314955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314958">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314961">if</span>&nbsp;<span class="op" id="8314964">(</span><span class="op" id="8314965">*</span><span class="op" id="8314966">*</span><span class="op" id="8314967">*</span><span class="ident" id="8314968"><a href="/encoding/gob/gobencdec_test.go.html#8314855">x</a></span><span class="op" id="8314969">.</span><span class="ident" id="8314970">G</span><span class="op" id="8314971">)</span><span class="op" id="8314972">.</span><span class="ident" id="8314973">s</span>&nbsp;<span class="op" id="8314975">!=</span>&nbsp;<span class="string" id="8314978">&#34;HIJKL&#34;</span>&nbsp;<span class="op" id="8314986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314990"><a href="/encoding/gob/gobencdec_test.go.html#8314590">t</a></span><span class="op" id="8314991">.</span><span class="ident" id="8314992">Errorf</span><span class="op" id="8314998">(</span><span class="string" id="8314999">&#34;expected&nbsp;`HIJKL`&nbsp;got&nbsp;%s&#34;</span><span class="op" id="8315024">,</span>&nbsp;<span class="op" id="8315026">(</span><span class="op" id="8315027">*</span><span class="op" id="8315028">*</span><span class="op" id="8315029">*</span><span class="ident" id="8315030"><a href="/encoding/gob/gobencdec_test.go.html#8314855">x</a></span><span class="op" id="8315031">.</span><span class="ident" id="8315032">G</span><span class="op" id="8315033">)</span><span class="op" id="8315034">.</span><span class="ident" id="8315035">s</span><span class="op" id="8315036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315039">}</span><br>
<span class="lineno"></span><span class="op" id="8315041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="comment" id="8315044">//&nbsp;Test&nbsp;with&nbsp;a&nbsp;large&nbsp;field&nbsp;with&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="8315085">func</span>&nbsp;<span class="ident" id="8315090">TestGobEncoderArrayField</span><span class="op" id="8315114">(</span><span class="ident" id="8315115">t</span>&nbsp;<span class="op" id="8315117">*</span><span class="ident" id="8315118"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8315125">.</span><span class="ident" id="8315126">T</span><span class="op" id="8315127">)</span>&nbsp;<span class="op" id="8315129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315132">b</span>&nbsp;<span class="op" id="8315134">:=</span>&nbsp;<span class="builtinfunc" id="8315137">new</span><span class="op" id="8315140">(</span><span class="ident" id="8315141"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8315146">.</span><span class="ident" id="8315147">Buffer</span><span class="op" id="8315153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315156">enc</span>&nbsp;<span class="op" id="8315160">:=</span>&nbsp;<span class="ident" id="8315163"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8315173">(</span><span class="ident" id="8315174"><a href="/encoding/gob/gobencdec_test.go.html#8315132">b</a></span><span class="op" id="8315175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315178">var</span>&nbsp;<span class="ident" id="8315182">a</span>&nbsp;<span class="ident" id="8315184"><a href="/encoding/gob/gobencdec_test.go.html#8312770">GobTestArrayEncDec</a></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315204"><a href="/encoding/gob/gobencdec_test.go.html#8315182">a</a></span><span class="op" id="8315205">.</span><span class="ident" id="8315206">X</span>&nbsp;<span class="op" id="8315208">=</span>&nbsp;<span class="num" id="8315210">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315214">for</span>&nbsp;<span class="ident" id="8315218">i</span>&nbsp;<span class="op" id="8315220">:=</span>&nbsp;<span class="keyword" id="8315223">range</span>&nbsp;<span class="ident" id="8315229"><a href="/encoding/gob/gobencdec_test.go.html#8315182">a</a></span><span class="op" id="8315230">.</span><span class="ident" id="8315231">A</span><span class="op" id="8315232">.</span><span class="ident" id="8315233">a</span>&nbsp;<span class="op" id="8315235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315239"><a href="/encoding/gob/gobencdec_test.go.html#8315182">a</a></span><span class="op" id="8315240">.</span><span class="ident" id="8315241">A</span><span class="op" id="8315242">.</span><span class="ident" id="8315243">a</span><span class="op" id="8315244">[</span><span class="ident" id="8315245"><a href="/encoding/gob/gobencdec_test.go.html#8315218">i</a></span><span class="op" id="8315246">]</span>&nbsp;<span class="op" id="8315248">=</span>&nbsp;<span class="builtintype" id="8315250">byte</span><span class="op" id="8315254">(</span><span class="ident" id="8315255"><a href="/encoding/gob/gobencdec_test.go.html#8315218">i</a></span><span class="op" id="8315256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315262">err</span>&nbsp;<span class="op" id="8315266">:=</span>&nbsp;<span class="ident" id="8315269"><a href="/encoding/gob/gobencdec_test.go.html#8315156">enc</a></span><span class="op" id="8315272">.</span><span class="ident" id="8315273">Encode</span><span class="op" id="8315279">(</span><span class="op" id="8315280">&amp;</span><span class="ident" id="8315281"><a href="/encoding/gob/gobencdec_test.go.html#8315182">a</a></span><span class="op" id="8315282">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315285">if</span>&nbsp;<span class="ident" id="8315288"><a href="/encoding/gob/gobencdec_test.go.html#8315262">err</a></span>&nbsp;<span class="op" id="8315292">!=</span>&nbsp;<span class="ident" id="8315295">nil</span>&nbsp;<span class="op" id="8315299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315303"><a href="/encoding/gob/gobencdec_test.go.html#8315115">t</a></span><span class="op" id="8315304">.</span><span class="ident" id="8315305">Fatal</span><span class="op" id="8315310">(</span><span class="string" id="8315311">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8315326">,</span>&nbsp;<span class="ident" id="8315328"><a href="/encoding/gob/gobencdec_test.go.html#8315262">err</a></span><span class="op" id="8315331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315337">dec</span>&nbsp;<span class="op" id="8315341">:=</span>&nbsp;<span class="ident" id="8315344"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8315354">(</span><span class="ident" id="8315355"><a href="/encoding/gob/gobencdec_test.go.html#8315132">b</a></span><span class="op" id="8315356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315359">x</span>&nbsp;<span class="op" id="8315361">:=</span>&nbsp;<span class="builtinfunc" id="8315364">new</span><span class="op" id="8315367">(</span><span class="ident" id="8315368"><a href="/encoding/gob/gobencdec_test.go.html#8312770">GobTestArrayEncDec</a></span><span class="op" id="8315386">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315389"><a href="/encoding/gob/gobencdec_test.go.html#8315262">err</a></span>&nbsp;<span class="op" id="8315393">=</span>&nbsp;<span class="ident" id="8315395"><a href="/encoding/gob/gobencdec_test.go.html#8315337">dec</a></span><span class="op" id="8315398">.</span><span class="ident" id="8315399">Decode</span><span class="op" id="8315405">(</span><span class="ident" id="8315406"><a href="/encoding/gob/gobencdec_test.go.html#8315359">x</a></span><span class="op" id="8315407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315410">if</span>&nbsp;<span class="ident" id="8315413"><a href="/encoding/gob/gobencdec_test.go.html#8315262">err</a></span>&nbsp;<span class="op" id="8315417">!=</span>&nbsp;<span class="ident" id="8315420">nil</span>&nbsp;<span class="op" id="8315424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315428"><a href="/encoding/gob/gobencdec_test.go.html#8315115">t</a></span><span class="op" id="8315429">.</span><span class="ident" id="8315430">Fatal</span><span class="op" id="8315435">(</span><span class="string" id="8315436">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8315451">,</span>&nbsp;<span class="ident" id="8315453"><a href="/encoding/gob/gobencdec_test.go.html#8315262">err</a></span><span class="op" id="8315456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315462">for</span>&nbsp;<span class="ident" id="8315466">i</span><span class="op" id="8315467">,</span>&nbsp;<span class="ident" id="8315469">v</span>&nbsp;<span class="op" id="8315471">:=</span>&nbsp;<span class="keyword" id="8315474">range</span>&nbsp;<span class="ident" id="8315480"><a href="/encoding/gob/gobencdec_test.go.html#8315359">x</a></span><span class="op" id="8315481">.</span><span class="ident" id="8315482">A</span><span class="op" id="8315483">.</span><span class="ident" id="8315484">a</span>&nbsp;<span class="op" id="8315486">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315490">if</span>&nbsp;<span class="ident" id="8315493"><a href="/encoding/gob/gobencdec_test.go.html#8315469">v</a></span>&nbsp;<span class="op" id="8315495">!=</span>&nbsp;<span class="builtintype" id="8315498">byte</span><span class="op" id="8315502">(</span><span class="ident" id="8315503"><a href="/encoding/gob/gobencdec_test.go.html#8315466">i</a></span><span class="op" id="8315504">)</span>&nbsp;<span class="op" id="8315506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315511"><a href="/encoding/gob/gobencdec_test.go.html#8315115">t</a></span><span class="op" id="8315512">.</span><span class="ident" id="8315513">Errorf</span><span class="op" id="8315519">(</span><span class="string" id="8315520">&#34;expected&nbsp;%x&nbsp;got&nbsp;%x&#34;</span><span class="op" id="8315540">,</span>&nbsp;<span class="builtintype" id="8315542">byte</span><span class="op" id="8315546">(</span><span class="ident" id="8315547"><a href="/encoding/gob/gobencdec_test.go.html#8315466">i</a></span><span class="op" id="8315548">)</span><span class="op" id="8315549">,</span>&nbsp;<span class="ident" id="8315551"><a href="/encoding/gob/gobencdec_test.go.html#8315469">v</a></span><span class="op" id="8315552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315557">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315568">}</span><br>
<span class="lineno">345</span><span class="op" id="8315570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8315573">//&nbsp;Test&nbsp;an&nbsp;indirection&nbsp;to&nbsp;a&nbsp;large&nbsp;field&nbsp;with&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="8315627">func</span>&nbsp;<span class="ident" id="8315632">TestGobEncoderIndirectArrayField</span><span class="op" id="8315664">(</span><span class="ident" id="8315665">t</span>&nbsp;<span class="op" id="8315667">*</span><span class="ident" id="8315668"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8315675">.</span><span class="ident" id="8315676">T</span><span class="op" id="8315677">)</span>&nbsp;<span class="op" id="8315679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315682">b</span>&nbsp;<span class="op" id="8315684">:=</span>&nbsp;<span class="builtinfunc" id="8315687">new</span><span class="op" id="8315690">(</span><span class="ident" id="8315691"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8315696">.</span><span class="ident" id="8315697">Buffer</span><span class="op" id="8315703">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315706">enc</span>&nbsp;<span class="op" id="8315710">:=</span>&nbsp;<span class="ident" id="8315713"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8315723">(</span><span class="ident" id="8315724"><a href="/encoding/gob/gobencdec_test.go.html#8315682">b</a></span><span class="op" id="8315725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315728">var</span>&nbsp;<span class="ident" id="8315732">a</span>&nbsp;<span class="ident" id="8315734"><a href="/encoding/gob/gobencdec_test.go.html#8312910">GobTestIndirectArrayEncDec</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315762"><a href="/encoding/gob/gobencdec_test.go.html#8315732">a</a></span><span class="op" id="8315763">.</span><span class="ident" id="8315764">X</span>&nbsp;<span class="op" id="8315766">=</span>&nbsp;<span class="num" id="8315768">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315772">var</span>&nbsp;<span class="ident" id="8315776">array</span>&nbsp;<span class="ident" id="8315782"><a href="/encoding/gob/gobencdec_test.go.html#8308330">ArrayStruct</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315795">ap</span>&nbsp;<span class="op" id="8315798">:=</span>&nbsp;<span class="op" id="8315801">&amp;</span><span class="ident" id="8315802"><a href="/encoding/gob/gobencdec_test.go.html#8315776">array</a></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315809">app</span>&nbsp;<span class="op" id="8315813">:=</span>&nbsp;<span class="op" id="8315816">&amp;</span><span class="ident" id="8315817"><a href="/encoding/gob/gobencdec_test.go.html#8315795">ap</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315821"><a href="/encoding/gob/gobencdec_test.go.html#8315732">a</a></span><span class="op" id="8315822">.</span><span class="ident" id="8315823">A</span>&nbsp;<span class="op" id="8315825">=</span>&nbsp;<span class="op" id="8315827">&amp;</span><span class="ident" id="8315828"><a href="/encoding/gob/gobencdec_test.go.html#8315809">app</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315833">for</span>&nbsp;<span class="ident" id="8315837">i</span>&nbsp;<span class="op" id="8315839">:=</span>&nbsp;<span class="keyword" id="8315842">range</span>&nbsp;<span class="ident" id="8315848"><a href="/encoding/gob/gobencdec_test.go.html#8315776">array</a></span><span class="op" id="8315853">.</span><span class="ident" id="8315854">a</span>&nbsp;<span class="op" id="8315856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315860"><a href="/encoding/gob/gobencdec_test.go.html#8315776">array</a></span><span class="op" id="8315865">.</span><span class="ident" id="8315866">a</span><span class="op" id="8315867">[</span><span class="ident" id="8315868"><a href="/encoding/gob/gobencdec_test.go.html#8315837">i</a></span><span class="op" id="8315869">]</span>&nbsp;<span class="op" id="8315871">=</span>&nbsp;<span class="builtintype" id="8315873">byte</span><span class="op" id="8315877">(</span><span class="ident" id="8315878"><a href="/encoding/gob/gobencdec_test.go.html#8315837">i</a></span><span class="op" id="8315879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315882">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315885">err</span>&nbsp;<span class="op" id="8315889">:=</span>&nbsp;<span class="ident" id="8315892"><a href="/encoding/gob/gobencdec_test.go.html#8315706">enc</a></span><span class="op" id="8315895">.</span><span class="ident" id="8315896">Encode</span><span class="op" id="8315902">(</span><span class="ident" id="8315903"><a href="/encoding/gob/gobencdec_test.go.html#8315732">a</a></span><span class="op" id="8315904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315907">if</span>&nbsp;<span class="ident" id="8315910"><a href="/encoding/gob/gobencdec_test.go.html#8315885">err</a></span>&nbsp;<span class="op" id="8315914">!=</span>&nbsp;<span class="ident" id="8315917">nil</span>&nbsp;<span class="op" id="8315921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315925"><a href="/encoding/gob/gobencdec_test.go.html#8315665">t</a></span><span class="op" id="8315926">.</span><span class="ident" id="8315927">Fatal</span><span class="op" id="8315932">(</span><span class="string" id="8315933">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8315948">,</span>&nbsp;<span class="ident" id="8315950"><a href="/encoding/gob/gobencdec_test.go.html#8315885">err</a></span><span class="op" id="8315953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315959">dec</span>&nbsp;<span class="op" id="8315963">:=</span>&nbsp;<span class="ident" id="8315966"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8315976">(</span><span class="ident" id="8315977"><a href="/encoding/gob/gobencdec_test.go.html#8315682">b</a></span><span class="op" id="8315978">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315981">x</span>&nbsp;<span class="op" id="8315983">:=</span>&nbsp;<span class="builtinfunc" id="8315986">new</span><span class="op" id="8315989">(</span><span class="ident" id="8315990"><a href="/encoding/gob/gobencdec_test.go.html#8312910">GobTestIndirectArrayEncDec</a></span><span class="op" id="8316016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316019"><a href="/encoding/gob/gobencdec_test.go.html#8315885">err</a></span>&nbsp;<span class="op" id="8316023">=</span>&nbsp;<span class="ident" id="8316025"><a href="/encoding/gob/gobencdec_test.go.html#8315959">dec</a></span><span class="op" id="8316028">.</span><span class="ident" id="8316029">Decode</span><span class="op" id="8316035">(</span><span class="ident" id="8316036"><a href="/encoding/gob/gobencdec_test.go.html#8315981">x</a></span><span class="op" id="8316037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8316040">if</span>&nbsp;<span class="ident" id="8316043"><a href="/encoding/gob/gobencdec_test.go.html#8315885">err</a></span>&nbsp;<span class="op" id="8316047">!=</span>&nbsp;<span class="ident" id="8316050">nil</span>&nbsp;<span class="op" id="8316054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316058"><a href="/encoding/gob/gobencdec_test.go.html#8315665">t</a></span><span class="op" id="8316059">.</span><span class="ident" id="8316060">Fatal</span><span class="op" id="8316065">(</span><span class="string" id="8316066">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8316081">,</span>&nbsp;<span class="ident" id="8316083"><a href="/encoding/gob/gobencdec_test.go.html#8315885">err</a></span><span class="op" id="8316086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8316089">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8316092">for</span>&nbsp;<span class="ident" id="8316096">i</span><span class="op" id="8316097">,</span>&nbsp;<span class="ident" id="8316099">v</span>&nbsp;<span class="op" id="8316101">:=</span>&nbsp;<span class="keyword" id="8316104">range</span>&nbsp;<span class="op" id="8316110">(</span><span class="op" id="8316111">*</span><span class="op" id="8316112">*</span><span class="op" id="8316113">*</span><span class="ident" id="8316114"><a href="/encoding/gob/gobencdec_test.go.html#8315981">x</a></span><span class="op" id="8316115">.</span><span class="ident" id="8316116">A</span><span class="op" id="8316117">)</span><span class="op" id="8316118">.</span><span class="ident" id="8316119">a</span>&nbsp;<span class="op" id="8316121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8316125">if</span>&nbsp;<span class="ident" id="8316128"><a href="/encoding/gob/gobencdec_test.go.html#8316099">v</a></span>&nbsp;<span class="op" id="8316130">!=</span>&nbsp;<span class="builtintype" id="8316133">byte</span><span class="op" id="8316137">(</span><span class="ident" id="8316138"><a href="/encoding/gob/gobencdec_test.go.html#8316096">i</a></span><span class="op" id="8316139">)</span>&nbsp;<span class="op" id="8316141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316146"><a href="/encoding/gob/gobencdec_test.go.html#8315665">t</a></span><span class="op" id="8316147">.</span><span class="ident" id="8316148">Errorf</span><span class="op" id="8316154">(</span><span class="string" id="8316155">&#34;expected&nbsp;%x&nbsp;got&nbsp;%x&#34;</span><span class="op" id="8316175">,</span>&nbsp;<span class="builtintype" id="8316177">byte</span><span class="op" id="8316181">(</span><span class="ident" id="8316182"><a href="/encoding/gob/gobencdec_test.go.html#8316096">i</a></span><span class="op" id="8316183">)</span><span class="op" id="8316184">,</span>&nbsp;<span class="ident" id="8316186"><a href="/encoding/gob/gobencdec_test.go.html#8316099">v</a></span><span class="op" id="8316187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8316192">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8316200">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8316203">}</span><br>
<span class="lineno"></span><span class="op" id="8316205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8316208">//&nbsp;As&nbsp;long&nbsp;as&nbsp;the&nbsp;fields&nbsp;have&nbsp;the&nbsp;same&nbsp;name&nbsp;and&nbsp;implement&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8316270">//&nbsp;interface,&nbsp;we&nbsp;can&nbsp;cross-connect&nbsp;them.&nbsp;&nbsp;Not&nbsp;sure&nbsp;it&#39;s&nbsp;useful</span><br>
<span class="lineno">380</span><span class="comment" id="8316333">//&nbsp;and&nbsp;may&nbsp;even&nbsp;be&nbsp;bad&nbsp;but&nbsp;it&nbsp;works&nbsp;and&nbsp;it&#39;s&nbsp;hard&nbsp;to&nbsp;prevent</span><br>
<span class="lineno"></span><span class="comment" id="8316394">//&nbsp;without&nbsp;exposing&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;object,&nbsp;which&nbsp;would</span><br>
<span class="lineno"></span><span class="comment" id="8316454">//&nbsp;defeat&nbsp;the&nbsp;purpose.</span><br>
<span class="lineno"></span><span class="keyword" id="8316477">func</span>&nbsp;<span class="ident" id="8316482">TestGobEncoderFieldsOfDifferentType</span><span class="op" id="8316517">(</span><span class="ident" id="8316518">t</span>&nbsp;<span class="op" id="8316520">*</span><span class="ident" id="8316521"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8316528">.</span><span class="ident" id="8316529">T</span><span class="op" id="8316530">)</span>&nbsp;<span class="op" id="8316532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8316535">//&nbsp;first,&nbsp;string&nbsp;in&nbsp;field&nbsp;to&nbsp;byte&nbsp;in&nbsp;field</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316579">b</span>&nbsp;<span class="op" id="8316581">:=</span>&nbsp;<span class="builtinfunc" id="8316584">new</span><span class="op" id="8316587">(</span><span class="ident" id="8316588"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8316593">.</span><span class="ident" id="8316594">Buffer</span><span class="op" id="8316600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316603">enc</span>&nbsp;<span class="op" id="8316607">:=</span>&nbsp;<span class="ident" id="8316610"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8316620">(</span><span class="ident" id="8316621"><a href="/encoding/gob/gobencdec_test.go.html#8316579">b</a></span><span class="op" id="8316622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316625">err</span>&nbsp;<span class="op" id="8316629">:=</span>&nbsp;<span class="ident" id="8316632"><a href="/encoding/gob/gobencdec_test.go.html#8316603">enc</a></span><span class="op" id="8316635">.</span><span class="ident" id="8316636">Encode</span><span class="op" id="8316642">(</span><span class="ident" id="8316643"><a href="/encoding/gob/gobencdec_test.go.html#8311260">GobTest1</a></span><span class="op" id="8316651">{</span><span class="num" id="8316652">17</span><span class="op" id="8316654">,</span>&nbsp;<span class="op" id="8316656">&amp;</span><span class="ident" id="8316657"><a href="/encoding/gob/gobencdec_test.go.html#8308265">StringStruct</a></span><span class="op" id="8316669">{</span><span class="string" id="8316670">&#34;ABC&#34;</span><span class="op" id="8316675">}</span><span class="op" id="8316676">}</span><span class="op" id="8316677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8316680">if</span>&nbsp;<span class="ident" id="8316683"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span>&nbsp;<span class="op" id="8316687">!=</span>&nbsp;<span class="ident" id="8316690">nil</span>&nbsp;<span class="op" id="8316694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316698"><a href="/encoding/gob/gobencdec_test.go.html#8316518">t</a></span><span class="op" id="8316699">.</span><span class="ident" id="8316700">Fatal</span><span class="op" id="8316705">(</span><span class="string" id="8316706">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8316721">,</span>&nbsp;<span class="ident" id="8316723"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span><span class="op" id="8316726">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8316729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316732">dec</span>&nbsp;<span class="op" id="8316736">:=</span>&nbsp;<span class="ident" id="8316739"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8316749">(</span><span class="ident" id="8316750"><a href="/encoding/gob/gobencdec_test.go.html#8316579">b</a></span><span class="op" id="8316751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316754">x</span>&nbsp;<span class="op" id="8316756">:=</span>&nbsp;<span class="builtinfunc" id="8316759">new</span><span class="op" id="8316762">(</span><span class="ident" id="8316763"><a href="/encoding/gob/gobencdec_test.go.html#8311156">GobTest0</a></span><span class="op" id="8316771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316774"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span>&nbsp;<span class="op" id="8316778">=</span>&nbsp;<span class="ident" id="8316780"><a href="/encoding/gob/gobencdec_test.go.html#8316732">dec</a></span><span class="op" id="8316783">.</span><span class="ident" id="8316784">Decode</span><span class="op" id="8316790">(</span><span class="ident" id="8316791"><a href="/encoding/gob/gobencdec_test.go.html#8316754">x</a></span><span class="op" id="8316792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8316795">if</span>&nbsp;<span class="ident" id="8316798"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span>&nbsp;<span class="op" id="8316802">!=</span>&nbsp;<span class="ident" id="8316805">nil</span>&nbsp;<span class="op" id="8316809">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316813"><a href="/encoding/gob/gobencdec_test.go.html#8316518">t</a></span><span class="op" id="8316814">.</span><span class="ident" id="8316815">Fatal</span><span class="op" id="8316820">(</span><span class="string" id="8316821">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8316836">,</span>&nbsp;<span class="ident" id="8316838"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span><span class="op" id="8316841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8316844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8316847">if</span>&nbsp;<span class="ident" id="8316850"><a href="/encoding/gob/gobencdec_test.go.html#8316754">x</a></span><span class="op" id="8316851">.</span><span class="ident" id="8316852">G</span><span class="op" id="8316853">.</span><span class="ident" id="8316854">a</span>&nbsp;<span class="op" id="8316856">!=</span>&nbsp;<span class="string" id="8316859">&#39;A&#39;</span>&nbsp;<span class="op" id="8316863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316867"><a href="/encoding/gob/gobencdec_test.go.html#8316518">t</a></span><span class="op" id="8316868">.</span><span class="ident" id="8316869">Errorf</span><span class="op" id="8316875">(</span><span class="string" id="8316876">&#34;expected&nbsp;&#39;A&#39;&nbsp;got&nbsp;%c&#34;</span><span class="op" id="8316897">,</span>&nbsp;<span class="ident" id="8316899"><a href="/encoding/gob/gobencdec_test.go.html#8316754">x</a></span><span class="op" id="8316900">.</span><span class="ident" id="8316901">G</span><span class="op" id="8316902">.</span><span class="ident" id="8316903">a</span><span class="op" id="8316904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8316907">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8316910">//&nbsp;now&nbsp;the&nbsp;other&nbsp;direction,&nbsp;byte&nbsp;in&nbsp;field&nbsp;to&nbsp;string&nbsp;in&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316972"><a href="/encoding/gob/gobencdec_test.go.html#8316579">b</a></span><span class="op" id="8316973">.</span><span class="ident" id="8316974">Reset</span><span class="op" id="8316979">(</span><span class="op" id="8316980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316983"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span>&nbsp;<span class="op" id="8316987">=</span>&nbsp;<span class="ident" id="8316989"><a href="/encoding/gob/gobencdec_test.go.html#8316603">enc</a></span><span class="op" id="8316992">.</span><span class="ident" id="8316993">Encode</span><span class="op" id="8316999">(</span><span class="ident" id="8317000"><a href="/encoding/gob/gobencdec_test.go.html#8311156">GobTest0</a></span><span class="op" id="8317008">{</span><span class="num" id="8317009">17</span><span class="op" id="8317011">,</span>&nbsp;<span class="op" id="8317013">&amp;</span><span class="ident" id="8317014"><a href="/encoding/gob/gobencdec_test.go.html#8308204">ByteStruct</a></span><span class="op" id="8317024">{</span><span class="string" id="8317025">&#39;X&#39;</span><span class="op" id="8317028">}</span><span class="op" id="8317029">}</span><span class="op" id="8317030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8317033">if</span>&nbsp;<span class="ident" id="8317036"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span>&nbsp;<span class="op" id="8317040">!=</span>&nbsp;<span class="ident" id="8317043">nil</span>&nbsp;<span class="op" id="8317047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317051"><a href="/encoding/gob/gobencdec_test.go.html#8316518">t</a></span><span class="op" id="8317052">.</span><span class="ident" id="8317053">Fatal</span><span class="op" id="8317058">(</span><span class="string" id="8317059">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8317074">,</span>&nbsp;<span class="ident" id="8317076"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span><span class="op" id="8317079">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8317082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317085">y</span>&nbsp;<span class="op" id="8317087">:=</span>&nbsp;<span class="builtinfunc" id="8317090">new</span><span class="op" id="8317093">(</span><span class="ident" id="8317094"><a href="/encoding/gob/gobencdec_test.go.html#8311260">GobTest1</a></span><span class="op" id="8317102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317105"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span>&nbsp;<span class="op" id="8317109">=</span>&nbsp;<span class="ident" id="8317111"><a href="/encoding/gob/gobencdec_test.go.html#8316732">dec</a></span><span class="op" id="8317114">.</span><span class="ident" id="8317115">Decode</span><span class="op" id="8317121">(</span><span class="ident" id="8317122"><a href="/encoding/gob/gobencdec_test.go.html#8317085">y</a></span><span class="op" id="8317123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8317126">if</span>&nbsp;<span class="ident" id="8317129"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span>&nbsp;<span class="op" id="8317133">!=</span>&nbsp;<span class="ident" id="8317136">nil</span>&nbsp;<span class="op" id="8317140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317144"><a href="/encoding/gob/gobencdec_test.go.html#8316518">t</a></span><span class="op" id="8317145">.</span><span class="ident" id="8317146">Fatal</span><span class="op" id="8317151">(</span><span class="string" id="8317152">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8317167">,</span>&nbsp;<span class="ident" id="8317169"><a href="/encoding/gob/gobencdec_test.go.html#8316625">err</a></span><span class="op" id="8317172">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8317175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8317178">if</span>&nbsp;<span class="ident" id="8317181"><a href="/encoding/gob/gobencdec_test.go.html#8317085">y</a></span><span class="op" id="8317182">.</span><span class="ident" id="8317183">G</span><span class="op" id="8317184">.</span><span class="ident" id="8317185">s</span>&nbsp;<span class="op" id="8317187">!=</span>&nbsp;<span class="string" id="8317190">&#34;XYZ&#34;</span>&nbsp;<span class="op" id="8317196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317200"><a href="/encoding/gob/gobencdec_test.go.html#8316518">t</a></span><span class="op" id="8317201">.</span><span class="ident" id="8317202">Fatalf</span><span class="op" id="8317208">(</span><span class="string" id="8317209">&#34;expected&nbsp;`XYZ`&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8317232">,</span>&nbsp;<span class="ident" id="8317234"><a href="/encoding/gob/gobencdec_test.go.html#8317085">y</a></span><span class="op" id="8317235">.</span><span class="ident" id="8317236">G</span><span class="op" id="8317237">.</span><span class="ident" id="8317238">s</span><span class="op" id="8317239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8317242">}</span><br>
<span class="lineno"></span><span class="op" id="8317244">}</span><br>
<span class="lineno">415</span><br>
<span class="lineno"></span><span class="comment" id="8317247">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;can&nbsp;encode&nbsp;a&nbsp;value&nbsp;and&nbsp;decode&nbsp;into&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span><span class="keyword" id="8317309">func</span>&nbsp;<span class="ident" id="8317314">TestGobEncoderValueEncoder</span><span class="op" id="8317340">(</span><span class="ident" id="8317341">t</span>&nbsp;<span class="op" id="8317343">*</span><span class="ident" id="8317344"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8317351">.</span><span class="ident" id="8317352">T</span><span class="op" id="8317353">)</span>&nbsp;<span class="op" id="8317355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8317358">//&nbsp;first,&nbsp;string&nbsp;in&nbsp;field&nbsp;to&nbsp;byte&nbsp;in&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317402">b</span>&nbsp;<span class="op" id="8317404">:=</span>&nbsp;<span class="builtinfunc" id="8317407">new</span><span class="op" id="8317410">(</span><span class="ident" id="8317411"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8317416">.</span><span class="ident" id="8317417">Buffer</span><span class="op" id="8317423">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317426">enc</span>&nbsp;<span class="op" id="8317430">:=</span>&nbsp;<span class="ident" id="8317433"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8317443">(</span><span class="ident" id="8317444"><a href="/encoding/gob/gobencdec_test.go.html#8317402">b</a></span><span class="op" id="8317445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317448">err</span>&nbsp;<span class="op" id="8317452">:=</span>&nbsp;<span class="ident" id="8317455"><a href="/encoding/gob/gobencdec_test.go.html#8317426">enc</a></span><span class="op" id="8317458">.</span><span class="ident" id="8317459">Encode</span><span class="op" id="8317465">(</span><span class="ident" id="8317466"><a href="/encoding/gob/gobencdec_test.go.html#8311644">GobTest4</a></span><span class="op" id="8317474">{</span><span class="num" id="8317475">17</span><span class="op" id="8317477">,</span>&nbsp;<span class="ident" id="8317479"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><span class="op" id="8317490">(</span><span class="string" id="8317491">&#34;hello&#34;</span><span class="op" id="8317498">)</span><span class="op" id="8317499">,</span>&nbsp;<span class="ident" id="8317501"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><span class="op" id="8317518">(</span><span class="string" id="8317519">&#34;&#34;</span><span class="op" id="8317537">)</span><span class="op" id="8317538">,</span>&nbsp;<span class="ident" id="8317540"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><span class="op" id="8317555">(</span><span class="string" id="8317556">&#34;&#34;</span><span class="op" id="8317573">)</span><span class="op" id="8317574">}</span><span class="op" id="8317575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8317578">if</span>&nbsp;<span class="ident" id="8317581"><a href="/encoding/gob/gobencdec_test.go.html#8317448">err</a></span>&nbsp;<span class="op" id="8317585">!=</span>&nbsp;<span class="ident" id="8317588">nil</span>&nbsp;<span class="op" id="8317592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317596"><a href="/encoding/gob/gobencdec_test.go.html#8317341">t</a></span><span class="op" id="8317597">.</span><span class="ident" id="8317598">Fatal</span><span class="op" id="8317603">(</span><span class="string" id="8317604">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8317619">,</span>&nbsp;<span class="ident" id="8317621"><a href="/encoding/gob/gobencdec_test.go.html#8317448">err</a></span><span class="op" id="8317624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8317627">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317630">dec</span>&nbsp;<span class="op" id="8317634">:=</span>&nbsp;<span class="ident" id="8317637"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8317647">(</span><span class="ident" id="8317648"><a href="/encoding/gob/gobencdec_test.go.html#8317402">b</a></span><span class="op" id="8317649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317652">x</span>&nbsp;<span class="op" id="8317654">:=</span>&nbsp;<span class="builtinfunc" id="8317657">new</span><span class="op" id="8317660">(</span><span class="ident" id="8317661"><a href="/encoding/gob/gobencdec_test.go.html#8311792">GobTest5</a></span><span class="op" id="8317669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317672"><a href="/encoding/gob/gobencdec_test.go.html#8317448">err</a></span>&nbsp;<span class="op" id="8317676">=</span>&nbsp;<span class="ident" id="8317678"><a href="/encoding/gob/gobencdec_test.go.html#8317630">dec</a></span><span class="op" id="8317681">.</span><span class="ident" id="8317682">Decode</span><span class="op" id="8317688">(</span><span class="ident" id="8317689"><a href="/encoding/gob/gobencdec_test.go.html#8317652">x</a></span><span class="op" id="8317690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8317693">if</span>&nbsp;<span class="ident" id="8317696"><a href="/encoding/gob/gobencdec_test.go.html#8317448">err</a></span>&nbsp;<span class="op" id="8317700">!=</span>&nbsp;<span class="ident" id="8317703">nil</span>&nbsp;<span class="op" id="8317707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317711"><a href="/encoding/gob/gobencdec_test.go.html#8317341">t</a></span><span class="op" id="8317712">.</span><span class="ident" id="8317713">Fatal</span><span class="op" id="8317718">(</span><span class="string" id="8317719">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8317734">,</span>&nbsp;<span class="ident" id="8317736"><a href="/encoding/gob/gobencdec_test.go.html#8317448">err</a></span><span class="op" id="8317739">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8317742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8317745">if</span>&nbsp;<span class="op" id="8317748">*</span><span class="ident" id="8317749"><a href="/encoding/gob/gobencdec_test.go.html#8317652">x</a></span><span class="op" id="8317750">.</span><span class="ident" id="8317751">V</span>&nbsp;<span class="op" id="8317753">!=</span>&nbsp;<span class="string" id="8317756">&#34;hello&#34;</span>&nbsp;<span class="op" id="8317764">||</span>&nbsp;<span class="op" id="8317767">*</span><span class="ident" id="8317768"><a href="/encoding/gob/gobencdec_test.go.html#8317652">x</a></span><span class="op" id="8317769">.</span><span class="ident" id="8317770">BV</span>&nbsp;<span class="op" id="8317773">!=</span>&nbsp;<span class="string" id="8317776">&#34;&#34;</span>&nbsp;<span class="op" id="8317795">||</span>&nbsp;<span class="op" id="8317798">*</span><span class="ident" id="8317799"><a href="/encoding/gob/gobencdec_test.go.html#8317652">x</a></span><span class="op" id="8317800">.</span><span class="ident" id="8317801">TV</span>&nbsp;<span class="op" id="8317804">!=</span>&nbsp;<span class="string" id="8317807">&#34;&#34;</span>&nbsp;<span class="op" id="8317825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8317829"><a href="/encoding/gob/gobencdec_test.go.html#8317341">t</a></span><span class="op" id="8317830">.</span><span class="ident" id="8317831">Errorf</span><span class="op" id="8317837">(</span><span class="string" id="8317838">&#34;expected&nbsp;`hello`&nbsp;got&nbsp;%s&#34;</span><span class="op" id="8317863">,</span>&nbsp;<span class="op" id="8317865">*</span><span class="ident" id="8317866"><a href="/encoding/gob/gobencdec_test.go.html#8317652">x</a></span><span class="op" id="8317867">.</span><span class="ident" id="8317868">V</span><span class="op" id="8317869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8317872">}</span><br>
<span class="lineno"></span><span class="op" id="8317874">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="comment" id="8317877">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;a&nbsp;value&nbsp;then&nbsp;a&nbsp;pointer&nbsp;type&nbsp;of&nbsp;a&nbsp;GobEncoder</span><br>
<span class="lineno"></span><span class="comment" id="8317945">//&nbsp;in&nbsp;the&nbsp;same&nbsp;encoded&nbsp;value.&nbsp;&nbsp;Bug&nbsp;4647.</span><br>
<span class="lineno"></span><span class="keyword" id="8317986">func</span>&nbsp;<span class="ident" id="8317991">TestGobEncoderValueThenPointer</span><span class="op" id="8318021">(</span><span class="ident" id="8318022">t</span>&nbsp;<span class="op" id="8318024">*</span><span class="ident" id="8318025"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8318032">.</span><span class="ident" id="8318033">T</span><span class="op" id="8318034">)</span>&nbsp;<span class="op" id="8318036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318039">v</span>&nbsp;<span class="op" id="8318041">:=</span>&nbsp;<span class="ident" id="8318044"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><span class="op" id="8318055">(</span><span class="string" id="8318056">&#34;forty-two&#34;</span><span class="op" id="8318067">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318070">w</span>&nbsp;<span class="op" id="8318072">:=</span>&nbsp;<span class="ident" id="8318075"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><span class="op" id="8318086">(</span><span class="string" id="8318087">&#34;six-by-nine&#34;</span><span class="op" id="8318100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318103">bv</span>&nbsp;<span class="op" id="8318106">:=</span>&nbsp;<span class="ident" id="8318109"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><span class="op" id="8318126">(</span><span class="string" id="8318127">&#34;1nanocentury&#34;</span><span class="op" id="8318141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318144">bw</span>&nbsp;<span class="op" id="8318147">:=</span>&nbsp;<span class="ident" id="8318150"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><span class="op" id="8318167">(</span><span class="string" id="8318168">&#34;seconds&#34;</span><span class="op" id="8318179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318182">tv</span>&nbsp;<span class="op" id="8318185">:=</span>&nbsp;<span class="ident" id="8318188"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><span class="op" id="8318203">(</span><span class="string" id="8318204">&#34;gravitationalacceleration&#34;</span><span class="op" id="8318231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318234">tw</span>&nbsp;<span class="op" id="8318237">:=</span>&nbsp;<span class="ident" id="8318240"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><span class="op" id="8318255">(</span><span class="string" id="8318256">&#34;ft/s&#34;</span><span class="op" id="8318268">)</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8318272">//&nbsp;this&nbsp;was&nbsp;a&nbsp;bug:&nbsp;encoding&nbsp;a&nbsp;GobEncoder&nbsp;by&nbsp;value&nbsp;before&nbsp;a&nbsp;GobEncoder</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8318343">//&nbsp;pointer&nbsp;would&nbsp;cause&nbsp;duplicate&nbsp;type&nbsp;definitions&nbsp;to&nbsp;be&nbsp;sent.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318407">b</span>&nbsp;<span class="op" id="8318409">:=</span>&nbsp;<span class="builtinfunc" id="8318412">new</span><span class="op" id="8318415">(</span><span class="ident" id="8318416"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8318421">.</span><span class="ident" id="8318422">Buffer</span><span class="op" id="8318428">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318431">enc</span>&nbsp;<span class="op" id="8318435">:=</span>&nbsp;<span class="ident" id="8318438"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8318448">(</span><span class="ident" id="8318449"><a href="/encoding/gob/gobencdec_test.go.html#8318407">b</a></span><span class="op" id="8318450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8318453">if</span>&nbsp;<span class="ident" id="8318456">err</span>&nbsp;<span class="op" id="8318460">:=</span>&nbsp;<span class="ident" id="8318463"><a href="/encoding/gob/gobencdec_test.go.html#8318431">enc</a></span><span class="op" id="8318466">.</span><span class="ident" id="8318467">Encode</span><span class="op" id="8318473">(</span><span class="ident" id="8318474"><a href="/encoding/gob/gobencdec_test.go.html#8311943">GobTest6</a></span><span class="op" id="8318482">{</span><span class="num" id="8318483">42</span><span class="op" id="8318485">,</span>&nbsp;<span class="ident" id="8318487"><a href="/encoding/gob/gobencdec_test.go.html#8318039">v</a></span><span class="op" id="8318488">,</span>&nbsp;<span class="op" id="8318490">&amp;</span><span class="ident" id="8318491"><a href="/encoding/gob/gobencdec_test.go.html#8318070">w</a></span><span class="op" id="8318492">,</span>&nbsp;<span class="ident" id="8318494"><a href="/encoding/gob/gobencdec_test.go.html#8318103">bv</a></span><span class="op" id="8318496">,</span>&nbsp;<span class="op" id="8318498">&amp;</span><span class="ident" id="8318499"><a href="/encoding/gob/gobencdec_test.go.html#8318144">bw</a></span><span class="op" id="8318501">,</span>&nbsp;<span class="ident" id="8318503"><a href="/encoding/gob/gobencdec_test.go.html#8318182">tv</a></span><span class="op" id="8318505">,</span>&nbsp;<span class="op" id="8318507">&amp;</span><span class="ident" id="8318508"><a href="/encoding/gob/gobencdec_test.go.html#8318234">tw</a></span><span class="op" id="8318510">}</span><span class="op" id="8318511">)</span><span class="op" id="8318512">;</span>&nbsp;<span class="ident" id="8318514"><a href="/encoding/gob/gobencdec_test.go.html#8318456">err</a></span>&nbsp;<span class="op" id="8318518">!=</span>&nbsp;<span class="ident" id="8318521">nil</span>&nbsp;<span class="op" id="8318525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318529"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8318530">.</span><span class="ident" id="8318531">Fatal</span><span class="op" id="8318536">(</span><span class="string" id="8318537">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8318552">,</span>&nbsp;<span class="ident" id="8318554"><a href="/encoding/gob/gobencdec_test.go.html#8318456">err</a></span><span class="op" id="8318557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8318560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318563">dec</span>&nbsp;<span class="op" id="8318567">:=</span>&nbsp;<span class="ident" id="8318570"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8318580">(</span><span class="ident" id="8318581"><a href="/encoding/gob/gobencdec_test.go.html#8318407">b</a></span><span class="op" id="8318582">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318585">x</span>&nbsp;<span class="op" id="8318587">:=</span>&nbsp;<span class="builtinfunc" id="8318590">new</span><span class="op" id="8318593">(</span><span class="ident" id="8318594"><a href="/encoding/gob/gobencdec_test.go.html#8311943">GobTest6</a></span><span class="op" id="8318602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8318605">if</span>&nbsp;<span class="ident" id="8318608">err</span>&nbsp;<span class="op" id="8318612">:=</span>&nbsp;<span class="ident" id="8318615"><a href="/encoding/gob/gobencdec_test.go.html#8318563">dec</a></span><span class="op" id="8318618">.</span><span class="ident" id="8318619">Decode</span><span class="op" id="8318625">(</span><span class="ident" id="8318626"><a href="/encoding/gob/gobencdec_test.go.html#8318585">x</a></span><span class="op" id="8318627">)</span><span class="op" id="8318628">;</span>&nbsp;<span class="ident" id="8318630"><a href="/encoding/gob/gobencdec_test.go.html#8318608">err</a></span>&nbsp;<span class="op" id="8318634">!=</span>&nbsp;<span class="ident" id="8318637">nil</span>&nbsp;<span class="op" id="8318641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318645"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8318646">.</span><span class="ident" id="8318647">Fatal</span><span class="op" id="8318652">(</span><span class="string" id="8318653">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8318668">,</span>&nbsp;<span class="ident" id="8318670"><a href="/encoding/gob/gobencdec_test.go.html#8318608">err</a></span><span class="op" id="8318673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8318676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8318680">if</span>&nbsp;<span class="ident" id="8318683">got</span><span class="op" id="8318686">,</span>&nbsp;<span class="ident" id="8318688">want</span>&nbsp;<span class="op" id="8318693">:=</span>&nbsp;<span class="ident" id="8318696"><a href="/encoding/gob/gobencdec_test.go.html#8318585">x</a></span><span class="op" id="8318697">.</span><span class="ident" id="8318698">V</span><span class="op" id="8318699">,</span>&nbsp;<span class="ident" id="8318701"><a href="/encoding/gob/gobencdec_test.go.html#8318039">v</a></span><span class="op" id="8318702">;</span>&nbsp;<span class="ident" id="8318704"><a href="/encoding/gob/gobencdec_test.go.html#8318683">got</a></span>&nbsp;<span class="op" id="8318708">!=</span>&nbsp;<span class="ident" id="8318711"><a href="/encoding/gob/gobencdec_test.go.html#8318688">want</a></span>&nbsp;<span class="op" id="8318716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318720"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8318721">.</span><span class="ident" id="8318722">Errorf</span><span class="op" id="8318728">(</span><span class="string" id="8318729">&#34;v&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8318746">,</span>&nbsp;<span class="ident" id="8318748"><a href="/encoding/gob/gobencdec_test.go.html#8318683">got</a></span><span class="op" id="8318751">,</span>&nbsp;<span class="ident" id="8318753"><a href="/encoding/gob/gobencdec_test.go.html#8318688">want</a></span><span class="op" id="8318757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8318760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8318763">if</span>&nbsp;<span class="ident" id="8318766">got</span><span class="op" id="8318769">,</span>&nbsp;<span class="ident" id="8318771">want</span>&nbsp;<span class="op" id="8318776">:=</span>&nbsp;<span class="ident" id="8318779"><a href="/encoding/gob/gobencdec_test.go.html#8318585">x</a></span><span class="op" id="8318780">.</span><span class="ident" id="8318781">W</span><span class="op" id="8318782">,</span>&nbsp;<span class="ident" id="8318784"><a href="/encoding/gob/gobencdec_test.go.html#8318070">w</a></span><span class="op" id="8318785">;</span>&nbsp;<span class="ident" id="8318787"><a href="/encoding/gob/gobencdec_test.go.html#8318766">got</a></span>&nbsp;<span class="op" id="8318791">==</span>&nbsp;<span class="ident" id="8318794">nil</span>&nbsp;<span class="op" id="8318798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318802"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8318803">.</span><span class="ident" id="8318804">Errorf</span><span class="op" id="8318810">(</span><span class="string" id="8318811">&#34;w&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8318829">,</span>&nbsp;<span class="ident" id="8318831"><a href="/encoding/gob/gobencdec_test.go.html#8318771">want</a></span><span class="op" id="8318835">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8318838">}</span>&nbsp;<span class="keyword" id="8318840">else</span>&nbsp;<span class="keyword" id="8318845">if</span>&nbsp;<span class="op" id="8318848">*</span><span class="ident" id="8318849"><a href="/encoding/gob/gobencdec_test.go.html#8318766">got</a></span>&nbsp;<span class="op" id="8318853">!=</span>&nbsp;<span class="ident" id="8318856"><a href="/encoding/gob/gobencdec_test.go.html#8318771">want</a></span>&nbsp;<span class="op" id="8318861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318865"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8318866">.</span><span class="ident" id="8318867">Errorf</span><span class="op" id="8318873">(</span><span class="string" id="8318874">&#34;w&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8318891">,</span>&nbsp;<span class="op" id="8318893">*</span><span class="ident" id="8318894"><a href="/encoding/gob/gobencdec_test.go.html#8318766">got</a></span><span class="op" id="8318897">,</span>&nbsp;<span class="ident" id="8318899"><a href="/encoding/gob/gobencdec_test.go.html#8318771">want</a></span><span class="op" id="8318903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8318906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8318910">if</span>&nbsp;<span class="ident" id="8318913">got</span><span class="op" id="8318916">,</span>&nbsp;<span class="ident" id="8318918">want</span>&nbsp;<span class="op" id="8318923">:=</span>&nbsp;<span class="ident" id="8318926"><a href="/encoding/gob/gobencdec_test.go.html#8318585">x</a></span><span class="op" id="8318927">.</span><span class="ident" id="8318928">BV</span><span class="op" id="8318930">,</span>&nbsp;<span class="ident" id="8318932"><a href="/encoding/gob/gobencdec_test.go.html#8318103">bv</a></span><span class="op" id="8318934">;</span>&nbsp;<span class="ident" id="8318936"><a href="/encoding/gob/gobencdec_test.go.html#8318913">got</a></span>&nbsp;<span class="op" id="8318940">!=</span>&nbsp;<span class="ident" id="8318943"><a href="/encoding/gob/gobencdec_test.go.html#8318918">want</a></span>&nbsp;<span class="op" id="8318948">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318952"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8318953">.</span><span class="ident" id="8318954">Errorf</span><span class="op" id="8318960">(</span><span class="string" id="8318961">&#34;bv&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8318979">,</span>&nbsp;<span class="ident" id="8318981"><a href="/encoding/gob/gobencdec_test.go.html#8318913">got</a></span><span class="op" id="8318984">,</span>&nbsp;<span class="ident" id="8318986"><a href="/encoding/gob/gobencdec_test.go.html#8318918">want</a></span><span class="op" id="8318990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8318993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8318996">if</span>&nbsp;<span class="ident" id="8318999">got</span><span class="op" id="8319002">,</span>&nbsp;<span class="ident" id="8319004">want</span>&nbsp;<span class="op" id="8319009">:=</span>&nbsp;<span class="ident" id="8319012"><a href="/encoding/gob/gobencdec_test.go.html#8318585">x</a></span><span class="op" id="8319013">.</span><span class="ident" id="8319014">BW</span><span class="op" id="8319016">,</span>&nbsp;<span class="ident" id="8319018"><a href="/encoding/gob/gobencdec_test.go.html#8318144">bw</a></span><span class="op" id="8319020">;</span>&nbsp;<span class="ident" id="8319022"><a href="/encoding/gob/gobencdec_test.go.html#8318999">got</a></span>&nbsp;<span class="op" id="8319026">==</span>&nbsp;<span class="ident" id="8319029">nil</span>&nbsp;<span class="op" id="8319033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319037"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8319038">.</span><span class="ident" id="8319039">Errorf</span><span class="op" id="8319045">(</span><span class="string" id="8319046">&#34;bw&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8319065">,</span>&nbsp;<span class="ident" id="8319067"><a href="/encoding/gob/gobencdec_test.go.html#8319004">want</a></span><span class="op" id="8319071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8319074">}</span>&nbsp;<span class="keyword" id="8319076">else</span>&nbsp;<span class="keyword" id="8319081">if</span>&nbsp;<span class="op" id="8319084">*</span><span class="ident" id="8319085"><a href="/encoding/gob/gobencdec_test.go.html#8318999">got</a></span>&nbsp;<span class="op" id="8319089">!=</span>&nbsp;<span class="ident" id="8319092"><a href="/encoding/gob/gobencdec_test.go.html#8319004">want</a></span>&nbsp;<span class="op" id="8319097">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319101"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8319102">.</span><span class="ident" id="8319103">Errorf</span><span class="op" id="8319109">(</span><span class="string" id="8319110">&#34;bw&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8319128">,</span>&nbsp;<span class="op" id="8319130">*</span><span class="ident" id="8319131"><a href="/encoding/gob/gobencdec_test.go.html#8318999">got</a></span><span class="op" id="8319134">,</span>&nbsp;<span class="ident" id="8319136"><a href="/encoding/gob/gobencdec_test.go.html#8319004">want</a></span><span class="op" id="8319140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8319143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8319147">if</span>&nbsp;<span class="ident" id="8319150">got</span><span class="op" id="8319153">,</span>&nbsp;<span class="ident" id="8319155">want</span>&nbsp;<span class="op" id="8319160">:=</span>&nbsp;<span class="ident" id="8319163"><a href="/encoding/gob/gobencdec_test.go.html#8318585">x</a></span><span class="op" id="8319164">.</span><span class="ident" id="8319165">TV</span><span class="op" id="8319167">,</span>&nbsp;<span class="ident" id="8319169"><a href="/encoding/gob/gobencdec_test.go.html#8318182">tv</a></span><span class="op" id="8319171">;</span>&nbsp;<span class="ident" id="8319173"><a href="/encoding/gob/gobencdec_test.go.html#8319150">got</a></span>&nbsp;<span class="op" id="8319177">!=</span>&nbsp;<span class="ident" id="8319180"><a href="/encoding/gob/gobencdec_test.go.html#8319155">want</a></span>&nbsp;<span class="op" id="8319185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319189"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8319190">.</span><span class="ident" id="8319191">Errorf</span><span class="op" id="8319197">(</span><span class="string" id="8319198">&#34;tv&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8319216">,</span>&nbsp;<span class="ident" id="8319218"><a href="/encoding/gob/gobencdec_test.go.html#8319150">got</a></span><span class="op" id="8319221">,</span>&nbsp;<span class="ident" id="8319223"><a href="/encoding/gob/gobencdec_test.go.html#8319155">want</a></span><span class="op" id="8319227">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8319230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8319233">if</span>&nbsp;<span class="ident" id="8319236">got</span><span class="op" id="8319239">,</span>&nbsp;<span class="ident" id="8319241">want</span>&nbsp;<span class="op" id="8319246">:=</span>&nbsp;<span class="ident" id="8319249"><a href="/encoding/gob/gobencdec_test.go.html#8318585">x</a></span><span class="op" id="8319250">.</span><span class="ident" id="8319251">TW</span><span class="op" id="8319253">,</span>&nbsp;<span class="ident" id="8319255"><a href="/encoding/gob/gobencdec_test.go.html#8318234">tw</a></span><span class="op" id="8319257">;</span>&nbsp;<span class="ident" id="8319259"><a href="/encoding/gob/gobencdec_test.go.html#8319236">got</a></span>&nbsp;<span class="op" id="8319263">==</span>&nbsp;<span class="ident" id="8319266">nil</span>&nbsp;<span class="op" id="8319270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319274"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8319275">.</span><span class="ident" id="8319276">Errorf</span><span class="op" id="8319282">(</span><span class="string" id="8319283">&#34;tw&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8319302">,</span>&nbsp;<span class="ident" id="8319304"><a href="/encoding/gob/gobencdec_test.go.html#8319241">want</a></span><span class="op" id="8319308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8319311">}</span>&nbsp;<span class="keyword" id="8319313">else</span>&nbsp;<span class="keyword" id="8319318">if</span>&nbsp;<span class="op" id="8319321">*</span><span class="ident" id="8319322"><a href="/encoding/gob/gobencdec_test.go.html#8319236">got</a></span>&nbsp;<span class="op" id="8319326">!=</span>&nbsp;<span class="ident" id="8319329"><a href="/encoding/gob/gobencdec_test.go.html#8319241">want</a></span>&nbsp;<span class="op" id="8319334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319338"><a href="/encoding/gob/gobencdec_test.go.html#8318022">t</a></span><span class="op" id="8319339">.</span><span class="ident" id="8319340">Errorf</span><span class="op" id="8319346">(</span><span class="string" id="8319347">&#34;tw&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8319365">,</span>&nbsp;<span class="op" id="8319367">*</span><span class="ident" id="8319368"><a href="/encoding/gob/gobencdec_test.go.html#8319236">got</a></span><span class="op" id="8319371">,</span>&nbsp;<span class="ident" id="8319373"><a href="/encoding/gob/gobencdec_test.go.html#8319241">want</a></span><span class="op" id="8319377">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8319380">}</span><br>
<span class="lineno"></span><span class="op" id="8319382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8319385">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;a&nbsp;pointer&nbsp;then&nbsp;a&nbsp;value&nbsp;type&nbsp;of&nbsp;a&nbsp;GobEncoder</span><br>
<span class="lineno"></span><span class="comment" id="8319453">//&nbsp;in&nbsp;the&nbsp;same&nbsp;encoded&nbsp;value.</span><br>
<span class="lineno">490</span><span class="keyword" id="8319483">func</span>&nbsp;<span class="ident" id="8319488">TestGobEncoderPointerThenValue</span><span class="op" id="8319518">(</span><span class="ident" id="8319519">t</span>&nbsp;<span class="op" id="8319521">*</span><span class="ident" id="8319522"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8319529">.</span><span class="ident" id="8319530">T</span><span class="op" id="8319531">)</span>&nbsp;<span class="op" id="8319533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319536">v</span>&nbsp;<span class="op" id="8319538">:=</span>&nbsp;<span class="ident" id="8319541"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><span class="op" id="8319552">(</span><span class="string" id="8319553">&#34;forty-two&#34;</span><span class="op" id="8319564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319567">w</span>&nbsp;<span class="op" id="8319569">:=</span>&nbsp;<span class="ident" id="8319572"><a href="/encoding/gob/gobencdec_test.go.html#8308415">ValueGobber</a></span><span class="op" id="8319583">(</span><span class="string" id="8319584">&#34;six-by-nine&#34;</span><span class="op" id="8319597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319600">bv</span>&nbsp;<span class="op" id="8319603">:=</span>&nbsp;<span class="ident" id="8319606"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><span class="op" id="8319623">(</span><span class="string" id="8319624">&#34;1nanocentury&#34;</span><span class="op" id="8319638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319641">bw</span>&nbsp;<span class="op" id="8319644">:=</span>&nbsp;<span class="ident" id="8319647"><a href="/encoding/gob/gobencdec_test.go.html#8308512">BinaryValueGobber</a></span><span class="op" id="8319664">(</span><span class="string" id="8319665">&#34;seconds&#34;</span><span class="op" id="8319676">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319679">tv</span>&nbsp;<span class="op" id="8319682">:=</span>&nbsp;<span class="ident" id="8319685"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><span class="op" id="8319700">(</span><span class="string" id="8319701">&#34;gravitationalacceleration&#34;</span><span class="op" id="8319728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319731">tw</span>&nbsp;<span class="op" id="8319734">:=</span>&nbsp;<span class="ident" id="8319737"><a href="/encoding/gob/gobencdec_test.go.html#8308564">TextValueGobber</a></span><span class="op" id="8319752">(</span><span class="string" id="8319753">&#34;ft/s&#34;</span><span class="op" id="8319765">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319769">b</span>&nbsp;<span class="op" id="8319771">:=</span>&nbsp;<span class="builtinfunc" id="8319774">new</span><span class="op" id="8319777">(</span><span class="ident" id="8319778"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8319783">.</span><span class="ident" id="8319784">Buffer</span><span class="op" id="8319790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319793">enc</span>&nbsp;<span class="op" id="8319797">:=</span>&nbsp;<span class="ident" id="8319800"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8319810">(</span><span class="ident" id="8319811"><a href="/encoding/gob/gobencdec_test.go.html#8319769">b</a></span><span class="op" id="8319812">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8319815">if</span>&nbsp;<span class="ident" id="8319818">err</span>&nbsp;<span class="op" id="8319822">:=</span>&nbsp;<span class="ident" id="8319825"><a href="/encoding/gob/gobencdec_test.go.html#8319793">enc</a></span><span class="op" id="8319828">.</span><span class="ident" id="8319829">Encode</span><span class="op" id="8319835">(</span><span class="ident" id="8319836"><a href="/encoding/gob/gobencdec_test.go.html#8312152">GobTest7</a></span><span class="op" id="8319844">{</span><span class="num" id="8319845">42</span><span class="op" id="8319847">,</span>&nbsp;<span class="op" id="8319849">&amp;</span><span class="ident" id="8319850"><a href="/encoding/gob/gobencdec_test.go.html#8319536">v</a></span><span class="op" id="8319851">,</span>&nbsp;<span class="ident" id="8319853"><a href="/encoding/gob/gobencdec_test.go.html#8319567">w</a></span><span class="op" id="8319854">,</span>&nbsp;<span class="op" id="8319856">&amp;</span><span class="ident" id="8319857"><a href="/encoding/gob/gobencdec_test.go.html#8319600">bv</a></span><span class="op" id="8319859">,</span>&nbsp;<span class="ident" id="8319861"><a href="/encoding/gob/gobencdec_test.go.html#8319641">bw</a></span><span class="op" id="8319863">,</span>&nbsp;<span class="op" id="8319865">&amp;</span><span class="ident" id="8319866"><a href="/encoding/gob/gobencdec_test.go.html#8319679">tv</a></span><span class="op" id="8319868">,</span>&nbsp;<span class="ident" id="8319870"><a href="/encoding/gob/gobencdec_test.go.html#8319731">tw</a></span><span class="op" id="8319872">}</span><span class="op" id="8319873">)</span><span class="op" id="8319874">;</span>&nbsp;<span class="ident" id="8319876"><a href="/encoding/gob/gobencdec_test.go.html#8319818">err</a></span>&nbsp;<span class="op" id="8319880">!=</span>&nbsp;<span class="ident" id="8319883">nil</span>&nbsp;<span class="op" id="8319887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319891"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8319892">.</span><span class="ident" id="8319893">Fatal</span><span class="op" id="8319898">(</span><span class="string" id="8319899">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8319914">,</span>&nbsp;<span class="ident" id="8319916"><a href="/encoding/gob/gobencdec_test.go.html#8319818">err</a></span><span class="op" id="8319919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8319922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319925">dec</span>&nbsp;<span class="op" id="8319929">:=</span>&nbsp;<span class="ident" id="8319932"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8319942">(</span><span class="ident" id="8319943"><a href="/encoding/gob/gobencdec_test.go.html#8319769">b</a></span><span class="op" id="8319944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319947">x</span>&nbsp;<span class="op" id="8319949">:=</span>&nbsp;<span class="builtinfunc" id="8319952">new</span><span class="op" id="8319955">(</span><span class="ident" id="8319956"><a href="/encoding/gob/gobencdec_test.go.html#8312152">GobTest7</a></span><span class="op" id="8319964">)</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8319967">if</span>&nbsp;<span class="ident" id="8319970">err</span>&nbsp;<span class="op" id="8319974">:=</span>&nbsp;<span class="ident" id="8319977"><a href="/encoding/gob/gobencdec_test.go.html#8319925">dec</a></span><span class="op" id="8319980">.</span><span class="ident" id="8319981">Decode</span><span class="op" id="8319987">(</span><span class="ident" id="8319988"><a href="/encoding/gob/gobencdec_test.go.html#8319947">x</a></span><span class="op" id="8319989">)</span><span class="op" id="8319990">;</span>&nbsp;<span class="ident" id="8319992"><a href="/encoding/gob/gobencdec_test.go.html#8319970">err</a></span>&nbsp;<span class="op" id="8319996">!=</span>&nbsp;<span class="ident" id="8319999">nil</span>&nbsp;<span class="op" id="8320003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320007"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8320008">.</span><span class="ident" id="8320009">Fatal</span><span class="op" id="8320014">(</span><span class="string" id="8320015">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8320030">,</span>&nbsp;<span class="ident" id="8320032"><a href="/encoding/gob/gobencdec_test.go.html#8319970">err</a></span><span class="op" id="8320035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320042">if</span>&nbsp;<span class="ident" id="8320045">got</span><span class="op" id="8320048">,</span>&nbsp;<span class="ident" id="8320050">want</span>&nbsp;<span class="op" id="8320055">:=</span>&nbsp;<span class="ident" id="8320058"><a href="/encoding/gob/gobencdec_test.go.html#8319947">x</a></span><span class="op" id="8320059">.</span><span class="ident" id="8320060">V</span><span class="op" id="8320061">,</span>&nbsp;<span class="ident" id="8320063"><a href="/encoding/gob/gobencdec_test.go.html#8319536">v</a></span><span class="op" id="8320064">;</span>&nbsp;<span class="ident" id="8320066"><a href="/encoding/gob/gobencdec_test.go.html#8320045">got</a></span>&nbsp;<span class="op" id="8320070">==</span>&nbsp;<span class="ident" id="8320073">nil</span>&nbsp;<span class="op" id="8320077">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320081"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8320082">.</span><span class="ident" id="8320083">Errorf</span><span class="op" id="8320089">(</span><span class="string" id="8320090">&#34;v&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8320108">,</span>&nbsp;<span class="ident" id="8320110"><a href="/encoding/gob/gobencdec_test.go.html#8320050">want</a></span><span class="op" id="8320114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320117">}</span>&nbsp;<span class="keyword" id="8320119">else</span>&nbsp;<span class="keyword" id="8320124">if</span>&nbsp;<span class="op" id="8320127">*</span><span class="ident" id="8320128"><a href="/encoding/gob/gobencdec_test.go.html#8320045">got</a></span>&nbsp;<span class="op" id="8320132">!=</span>&nbsp;<span class="ident" id="8320135"><a href="/encoding/gob/gobencdec_test.go.html#8320050">want</a></span>&nbsp;<span class="op" id="8320140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320144"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8320145">.</span><span class="ident" id="8320146">Errorf</span><span class="op" id="8320152">(</span><span class="string" id="8320153">&#34;v&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8320170">,</span>&nbsp;<span class="op" id="8320172">*</span><span class="ident" id="8320173"><a href="/encoding/gob/gobencdec_test.go.html#8320045">got</a></span><span class="op" id="8320176">,</span>&nbsp;<span class="ident" id="8320178"><a href="/encoding/gob/gobencdec_test.go.html#8320050">want</a></span><span class="op" id="8320182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320188">if</span>&nbsp;<span class="ident" id="8320191">got</span><span class="op" id="8320194">,</span>&nbsp;<span class="ident" id="8320196">want</span>&nbsp;<span class="op" id="8320201">:=</span>&nbsp;<span class="ident" id="8320204"><a href="/encoding/gob/gobencdec_test.go.html#8319947">x</a></span><span class="op" id="8320205">.</span><span class="ident" id="8320206">W</span><span class="op" id="8320207">,</span>&nbsp;<span class="ident" id="8320209"><a href="/encoding/gob/gobencdec_test.go.html#8319567">w</a></span><span class="op" id="8320210">;</span>&nbsp;<span class="ident" id="8320212"><a href="/encoding/gob/gobencdec_test.go.html#8320191">got</a></span>&nbsp;<span class="op" id="8320216">!=</span>&nbsp;<span class="ident" id="8320219"><a href="/encoding/gob/gobencdec_test.go.html#8320196">want</a></span>&nbsp;<span class="op" id="8320224">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320228"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8320229">.</span><span class="ident" id="8320230">Errorf</span><span class="op" id="8320236">(</span><span class="string" id="8320237">&#34;w&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8320254">,</span>&nbsp;<span class="ident" id="8320256"><a href="/encoding/gob/gobencdec_test.go.html#8320191">got</a></span><span class="op" id="8320259">,</span>&nbsp;<span class="ident" id="8320261"><a href="/encoding/gob/gobencdec_test.go.html#8320196">want</a></span><span class="op" id="8320265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320272">if</span>&nbsp;<span class="ident" id="8320275">got</span><span class="op" id="8320278">,</span>&nbsp;<span class="ident" id="8320280">want</span>&nbsp;<span class="op" id="8320285">:=</span>&nbsp;<span class="ident" id="8320288"><a href="/encoding/gob/gobencdec_test.go.html#8319947">x</a></span><span class="op" id="8320289">.</span><span class="ident" id="8320290">BV</span><span class="op" id="8320292">,</span>&nbsp;<span class="ident" id="8320294"><a href="/encoding/gob/gobencdec_test.go.html#8319600">bv</a></span><span class="op" id="8320296">;</span>&nbsp;<span class="ident" id="8320298"><a href="/encoding/gob/gobencdec_test.go.html#8320275">got</a></span>&nbsp;<span class="op" id="8320302">==</span>&nbsp;<span class="ident" id="8320305">nil</span>&nbsp;<span class="op" id="8320309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320313"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8320314">.</span><span class="ident" id="8320315">Errorf</span><span class="op" id="8320321">(</span><span class="string" id="8320322">&#34;bv&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8320341">,</span>&nbsp;<span class="ident" id="8320343"><a href="/encoding/gob/gobencdec_test.go.html#8320280">want</a></span><span class="op" id="8320347">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320350">}</span>&nbsp;<span class="keyword" id="8320352">else</span>&nbsp;<span class="keyword" id="8320357">if</span>&nbsp;<span class="op" id="8320360">*</span><span class="ident" id="8320361"><a href="/encoding/gob/gobencdec_test.go.html#8320275">got</a></span>&nbsp;<span class="op" id="8320365">!=</span>&nbsp;<span class="ident" id="8320368"><a href="/encoding/gob/gobencdec_test.go.html#8320280">want</a></span>&nbsp;<span class="op" id="8320373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320377"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8320378">.</span><span class="ident" id="8320379">Errorf</span><span class="op" id="8320385">(</span><span class="string" id="8320386">&#34;bv&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8320404">,</span>&nbsp;<span class="op" id="8320406">*</span><span class="ident" id="8320407"><a href="/encoding/gob/gobencdec_test.go.html#8320275">got</a></span><span class="op" id="8320410">,</span>&nbsp;<span class="ident" id="8320412"><a href="/encoding/gob/gobencdec_test.go.html#8320280">want</a></span><span class="op" id="8320416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320422">if</span>&nbsp;<span class="ident" id="8320425">got</span><span class="op" id="8320428">,</span>&nbsp;<span class="ident" id="8320430">want</span>&nbsp;<span class="op" id="8320435">:=</span>&nbsp;<span class="ident" id="8320438"><a href="/encoding/gob/gobencdec_test.go.html#8319947">x</a></span><span class="op" id="8320439">.</span><span class="ident" id="8320440">BW</span><span class="op" id="8320442">,</span>&nbsp;<span class="ident" id="8320444"><a href="/encoding/gob/gobencdec_test.go.html#8319641">bw</a></span><span class="op" id="8320446">;</span>&nbsp;<span class="ident" id="8320448"><a href="/encoding/gob/gobencdec_test.go.html#8320425">got</a></span>&nbsp;<span class="op" id="8320452">!=</span>&nbsp;<span class="ident" id="8320455"><a href="/encoding/gob/gobencdec_test.go.html#8320430">want</a></span>&nbsp;<span class="op" id="8320460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320464"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8320465">.</span><span class="ident" id="8320466">Errorf</span><span class="op" id="8320472">(</span><span class="string" id="8320473">&#34;bw&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8320491">,</span>&nbsp;<span class="ident" id="8320493"><a href="/encoding/gob/gobencdec_test.go.html#8320425">got</a></span><span class="op" id="8320496">,</span>&nbsp;<span class="ident" id="8320498"><a href="/encoding/gob/gobencdec_test.go.html#8320430">want</a></span><span class="op" id="8320502">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320509">if</span>&nbsp;<span class="ident" id="8320512">got</span><span class="op" id="8320515">,</span>&nbsp;<span class="ident" id="8320517">want</span>&nbsp;<span class="op" id="8320522">:=</span>&nbsp;<span class="ident" id="8320525"><a href="/encoding/gob/gobencdec_test.go.html#8319947">x</a></span><span class="op" id="8320526">.</span><span class="ident" id="8320527">TV</span><span class="op" id="8320529">,</span>&nbsp;<span class="ident" id="8320531"><a href="/encoding/gob/gobencdec_test.go.html#8319679">tv</a></span><span class="op" id="8320533">;</span>&nbsp;<span class="ident" id="8320535"><a href="/encoding/gob/gobencdec_test.go.html#8320512">got</a></span>&nbsp;<span class="op" id="8320539">==</span>&nbsp;<span class="ident" id="8320542">nil</span>&nbsp;<span class="op" id="8320546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320550"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8320551">.</span><span class="ident" id="8320552">Errorf</span><span class="op" id="8320558">(</span><span class="string" id="8320559">&#34;tv&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8320578">,</span>&nbsp;<span class="ident" id="8320580"><a href="/encoding/gob/gobencdec_test.go.html#8320517">want</a></span><span class="op" id="8320584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320587">}</span>&nbsp;<span class="keyword" id="8320589">else</span>&nbsp;<span class="keyword" id="8320594">if</span>&nbsp;<span class="op" id="8320597">*</span><span class="ident" id="8320598"><a href="/encoding/gob/gobencdec_test.go.html#8320512">got</a></span>&nbsp;<span class="op" id="8320602">!=</span>&nbsp;<span class="ident" id="8320605"><a href="/encoding/gob/gobencdec_test.go.html#8320517">want</a></span>&nbsp;<span class="op" id="8320610">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320614"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8320615">.</span><span class="ident" id="8320616">Errorf</span><span class="op" id="8320622">(</span><span class="string" id="8320623">&#34;tv&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8320641">,</span>&nbsp;<span class="op" id="8320643">*</span><span class="ident" id="8320644"><a href="/encoding/gob/gobencdec_test.go.html#8320512">got</a></span><span class="op" id="8320647">,</span>&nbsp;<span class="ident" id="8320649"><a href="/encoding/gob/gobencdec_test.go.html#8320517">want</a></span><span class="op" id="8320653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320659">if</span>&nbsp;<span class="ident" id="8320662">got</span><span class="op" id="8320665">,</span>&nbsp;<span class="ident" id="8320667">want</span>&nbsp;<span class="op" id="8320672">:=</span>&nbsp;<span class="ident" id="8320675"><a href="/encoding/gob/gobencdec_test.go.html#8319947">x</a></span><span class="op" id="8320676">.</span><span class="ident" id="8320677">TW</span><span class="op" id="8320679">,</span>&nbsp;<span class="ident" id="8320681"><a href="/encoding/gob/gobencdec_test.go.html#8319731">tw</a></span><span class="op" id="8320683">;</span>&nbsp;<span class="ident" id="8320685"><a href="/encoding/gob/gobencdec_test.go.html#8320662">got</a></span>&nbsp;<span class="op" id="8320689">!=</span>&nbsp;<span class="ident" id="8320692"><a href="/encoding/gob/gobencdec_test.go.html#8320667">want</a></span>&nbsp;<span class="op" id="8320697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320701"><a href="/encoding/gob/gobencdec_test.go.html#8319519">t</a></span><span class="op" id="8320702">.</span><span class="ident" id="8320703">Errorf</span><span class="op" id="8320709">(</span><span class="string" id="8320710">&#34;tw&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8320728">,</span>&nbsp;<span class="ident" id="8320730"><a href="/encoding/gob/gobencdec_test.go.html#8320662">got</a></span><span class="op" id="8320733">,</span>&nbsp;<span class="ident" id="8320735"><a href="/encoding/gob/gobencdec_test.go.html#8320667">want</a></span><span class="op" id="8320739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320742">}</span><br>
<span class="lineno">535</span><span class="op" id="8320744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8320747">func</span>&nbsp;<span class="ident" id="8320752">TestGobEncoderFieldTypeError</span><span class="op" id="8320780">(</span><span class="ident" id="8320781">t</span>&nbsp;<span class="op" id="8320783">*</span><span class="ident" id="8320784"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8320791">.</span><span class="ident" id="8320792">T</span><span class="op" id="8320793">)</span>&nbsp;<span class="op" id="8320795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8320798">//&nbsp;GobEncoder&nbsp;to&nbsp;non-decoder:&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320835">b</span>&nbsp;<span class="op" id="8320837">:=</span>&nbsp;<span class="builtinfunc" id="8320840">new</span><span class="op" id="8320843">(</span><span class="ident" id="8320844"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8320849">.</span><span class="ident" id="8320850">Buffer</span><span class="op" id="8320856">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320859">enc</span>&nbsp;<span class="op" id="8320863">:=</span>&nbsp;<span class="ident" id="8320866"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8320876">(</span><span class="ident" id="8320877"><a href="/encoding/gob/gobencdec_test.go.html#8320835">b</a></span><span class="op" id="8320878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320881">err</span>&nbsp;<span class="op" id="8320885">:=</span>&nbsp;<span class="ident" id="8320888"><a href="/encoding/gob/gobencdec_test.go.html#8320859">enc</a></span><span class="op" id="8320891">.</span><span class="ident" id="8320892">Encode</span><span class="op" id="8320898">(</span><span class="ident" id="8320899"><a href="/encoding/gob/gobencdec_test.go.html#8311260">GobTest1</a></span><span class="op" id="8320907">{</span><span class="num" id="8320908">17</span><span class="op" id="8320910">,</span>&nbsp;<span class="op" id="8320912">&amp;</span><span class="ident" id="8320913"><a href="/encoding/gob/gobencdec_test.go.html#8308265">StringStruct</a></span><span class="op" id="8320925">{</span><span class="string" id="8320926">&#34;ABC&#34;</span><span class="op" id="8320931">}</span><span class="op" id="8320932">}</span><span class="op" id="8320933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320936">if</span>&nbsp;<span class="ident" id="8320939"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span>&nbsp;<span class="op" id="8320943">!=</span>&nbsp;<span class="ident" id="8320946">nil</span>&nbsp;<span class="op" id="8320950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320954"><a href="/encoding/gob/gobencdec_test.go.html#8320781">t</a></span><span class="op" id="8320955">.</span><span class="ident" id="8320956">Fatal</span><span class="op" id="8320961">(</span><span class="string" id="8320962">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8320977">,</span>&nbsp;<span class="ident" id="8320979"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span><span class="op" id="8320982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320985">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320988">dec</span>&nbsp;<span class="op" id="8320992">:=</span>&nbsp;<span class="ident" id="8320995"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8321005">(</span><span class="ident" id="8321006"><a href="/encoding/gob/gobencdec_test.go.html#8320835">b</a></span><span class="op" id="8321007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321010">x</span>&nbsp;<span class="op" id="8321012">:=</span>&nbsp;<span class="op" id="8321015">&amp;</span><span class="ident" id="8321016"><a href="/encoding/gob/gobencdec_test.go.html#8311366">GobTest2</a></span><span class="op" id="8321024">{</span><span class="op" id="8321025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321028"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span>&nbsp;<span class="op" id="8321032">=</span>&nbsp;<span class="ident" id="8321034"><a href="/encoding/gob/gobencdec_test.go.html#8320988">dec</a></span><span class="op" id="8321037">.</span><span class="ident" id="8321038">Decode</span><span class="op" id="8321044">(</span><span class="ident" id="8321045"><a href="/encoding/gob/gobencdec_test.go.html#8321010">x</a></span><span class="op" id="8321046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8321049">if</span>&nbsp;<span class="ident" id="8321052"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span>&nbsp;<span class="op" id="8321056">==</span>&nbsp;<span class="ident" id="8321059">nil</span>&nbsp;<span class="op" id="8321063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321067"><a href="/encoding/gob/gobencdec_test.go.html#8320781">t</a></span><span class="op" id="8321068">.</span><span class="ident" id="8321069">Fatal</span><span class="op" id="8321074">(</span><span class="string" id="8321075">&#34;expected&nbsp;decode&nbsp;error&nbsp;for&nbsp;mismatched&nbsp;fields&nbsp;(encoder&nbsp;to&nbsp;non-decoder)&#34;</span><span class="op" id="8321145">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8321148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8321151">if</span>&nbsp;<span class="ident" id="8321154"><a href="/encoding/gob/gobencdec_test.go.html#8308107">strings</a></span><span class="op" id="8321161">.</span><span class="ident" id="8321162">Index</span><span class="op" id="8321167">(</span><span class="ident" id="8321168"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span><span class="op" id="8321171">.</span><span class="ident" id="8321172">Error</span><span class="op" id="8321177">(</span><span class="op" id="8321178">)</span><span class="op" id="8321179">,</span>&nbsp;<span class="string" id="8321181">&#34;type&#34;</span><span class="op" id="8321187">)</span>&nbsp;<span class="op" id="8321189">&lt;</span>&nbsp;<span class="num" id="8321191">0</span>&nbsp;<span class="op" id="8321193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321197"><a href="/encoding/gob/gobencdec_test.go.html#8320781">t</a></span><span class="op" id="8321198">.</span><span class="ident" id="8321199">Fatal</span><span class="op" id="8321204">(</span><span class="string" id="8321205">&#34;expected&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8321231">,</span>&nbsp;<span class="ident" id="8321233"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span><span class="op" id="8321236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8321239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8321242">//&nbsp;Non-encoder&nbsp;to&nbsp;GobDecoder:&nbsp;error</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321279"><a href="/encoding/gob/gobencdec_test.go.html#8320835">b</a></span><span class="op" id="8321280">.</span><span class="ident" id="8321281">Reset</span><span class="op" id="8321286">(</span><span class="op" id="8321287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321290"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span>&nbsp;<span class="op" id="8321294">=</span>&nbsp;<span class="ident" id="8321296"><a href="/encoding/gob/gobencdec_test.go.html#8320859">enc</a></span><span class="op" id="8321299">.</span><span class="ident" id="8321300">Encode</span><span class="op" id="8321306">(</span><span class="ident" id="8321307"><a href="/encoding/gob/gobencdec_test.go.html#8311366">GobTest2</a></span><span class="op" id="8321315">{</span><span class="num" id="8321316">17</span><span class="op" id="8321318">,</span>&nbsp;<span class="string" id="8321320">&#34;ABC&#34;</span><span class="op" id="8321325">}</span><span class="op" id="8321326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8321329">if</span>&nbsp;<span class="ident" id="8321332"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span>&nbsp;<span class="op" id="8321336">!=</span>&nbsp;<span class="ident" id="8321339">nil</span>&nbsp;<span class="op" id="8321343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321347"><a href="/encoding/gob/gobencdec_test.go.html#8320781">t</a></span><span class="op" id="8321348">.</span><span class="ident" id="8321349">Fatal</span><span class="op" id="8321354">(</span><span class="string" id="8321355">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8321370">,</span>&nbsp;<span class="ident" id="8321372"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span><span class="op" id="8321375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8321378">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321381">y</span>&nbsp;<span class="op" id="8321383">:=</span>&nbsp;<span class="op" id="8321386">&amp;</span><span class="ident" id="8321387"><a href="/encoding/gob/gobencdec_test.go.html#8311260">GobTest1</a></span><span class="op" id="8321395">{</span><span class="op" id="8321396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321399"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span>&nbsp;<span class="op" id="8321403">=</span>&nbsp;<span class="ident" id="8321405"><a href="/encoding/gob/gobencdec_test.go.html#8320988">dec</a></span><span class="op" id="8321408">.</span><span class="ident" id="8321409">Decode</span><span class="op" id="8321415">(</span><span class="ident" id="8321416"><a href="/encoding/gob/gobencdec_test.go.html#8321381">y</a></span><span class="op" id="8321417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8321420">if</span>&nbsp;<span class="ident" id="8321423"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span>&nbsp;<span class="op" id="8321427">==</span>&nbsp;<span class="ident" id="8321430">nil</span>&nbsp;<span class="op" id="8321434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321438"><a href="/encoding/gob/gobencdec_test.go.html#8320781">t</a></span><span class="op" id="8321439">.</span><span class="ident" id="8321440">Fatal</span><span class="op" id="8321445">(</span><span class="string" id="8321446">&#34;expected&nbsp;decode&nbsp;error&nbsp;for&nbsp;mismatched&nbsp;fields&nbsp;(non-encoder&nbsp;to&nbsp;decoder)&#34;</span><span class="op" id="8321516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8321519">}</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8321522">if</span>&nbsp;<span class="ident" id="8321525"><a href="/encoding/gob/gobencdec_test.go.html#8308107">strings</a></span><span class="op" id="8321532">.</span><span class="ident" id="8321533">Index</span><span class="op" id="8321538">(</span><span class="ident" id="8321539"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span><span class="op" id="8321542">.</span><span class="ident" id="8321543">Error</span><span class="op" id="8321548">(</span><span class="op" id="8321549">)</span><span class="op" id="8321550">,</span>&nbsp;<span class="string" id="8321552">&#34;type&#34;</span><span class="op" id="8321558">)</span>&nbsp;<span class="op" id="8321560">&lt;</span>&nbsp;<span class="num" id="8321562">0</span>&nbsp;<span class="op" id="8321564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321568"><a href="/encoding/gob/gobencdec_test.go.html#8320781">t</a></span><span class="op" id="8321569">.</span><span class="ident" id="8321570">Fatal</span><span class="op" id="8321575">(</span><span class="string" id="8321576">&#34;expected&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8321602">,</span>&nbsp;<span class="ident" id="8321604"><a href="/encoding/gob/gobencdec_test.go.html#8320881">err</a></span><span class="op" id="8321607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8321610">}</span><br>
<span class="lineno"></span><span class="op" id="8321612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">570</span><span class="comment" id="8321615">//&nbsp;Even&nbsp;though&nbsp;ByteStruct&nbsp;is&nbsp;a&nbsp;struct,&nbsp;it&#39;s&nbsp;treated&nbsp;as&nbsp;a&nbsp;singleton&nbsp;at&nbsp;the&nbsp;top&nbsp;level.</span><br>
<span class="lineno"></span><span class="keyword" id="8321700">func</span>&nbsp;<span class="ident" id="8321705">TestGobEncoderStructSingleton</span><span class="op" id="8321734">(</span><span class="ident" id="8321735">t</span>&nbsp;<span class="op" id="8321737">*</span><span class="ident" id="8321738"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8321745">.</span><span class="ident" id="8321746">T</span><span class="op" id="8321747">)</span>&nbsp;<span class="op" id="8321749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321752">b</span>&nbsp;<span class="op" id="8321754">:=</span>&nbsp;<span class="builtinfunc" id="8321757">new</span><span class="op" id="8321760">(</span><span class="ident" id="8321761"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8321766">.</span><span class="ident" id="8321767">Buffer</span><span class="op" id="8321773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321776">enc</span>&nbsp;<span class="op" id="8321780">:=</span>&nbsp;<span class="ident" id="8321783"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8321793">(</span><span class="ident" id="8321794"><a href="/encoding/gob/gobencdec_test.go.html#8321752">b</a></span><span class="op" id="8321795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321798">err</span>&nbsp;<span class="op" id="8321802">:=</span>&nbsp;<span class="ident" id="8321805"><a href="/encoding/gob/gobencdec_test.go.html#8321776">enc</a></span><span class="op" id="8321808">.</span><span class="ident" id="8321809">Encode</span><span class="op" id="8321815">(</span><span class="op" id="8321816">&amp;</span><span class="ident" id="8321817"><a href="/encoding/gob/gobencdec_test.go.html#8308204">ByteStruct</a></span><span class="op" id="8321827">{</span><span class="string" id="8321828">&#39;A&#39;</span><span class="op" id="8321831">}</span><span class="op" id="8321832">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8321835">if</span>&nbsp;<span class="ident" id="8321838"><a href="/encoding/gob/gobencdec_test.go.html#8321798">err</a></span>&nbsp;<span class="op" id="8321842">!=</span>&nbsp;<span class="ident" id="8321845">nil</span>&nbsp;<span class="op" id="8321849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321853"><a href="/encoding/gob/gobencdec_test.go.html#8321735">t</a></span><span class="op" id="8321854">.</span><span class="ident" id="8321855">Fatal</span><span class="op" id="8321860">(</span><span class="string" id="8321861">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8321876">,</span>&nbsp;<span class="ident" id="8321878"><a href="/encoding/gob/gobencdec_test.go.html#8321798">err</a></span><span class="op" id="8321881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8321884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321887">dec</span>&nbsp;<span class="op" id="8321891">:=</span>&nbsp;<span class="ident" id="8321894"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8321904">(</span><span class="ident" id="8321905"><a href="/encoding/gob/gobencdec_test.go.html#8321752">b</a></span><span class="op" id="8321906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321909">x</span>&nbsp;<span class="op" id="8321911">:=</span>&nbsp;<span class="builtinfunc" id="8321914">new</span><span class="op" id="8321917">(</span><span class="ident" id="8321918"><a href="/encoding/gob/gobencdec_test.go.html#8308204">ByteStruct</a></span><span class="op" id="8321928">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321931"><a href="/encoding/gob/gobencdec_test.go.html#8321798">err</a></span>&nbsp;<span class="op" id="8321935">=</span>&nbsp;<span class="ident" id="8321937"><a href="/encoding/gob/gobencdec_test.go.html#8321887">dec</a></span><span class="op" id="8321940">.</span><span class="ident" id="8321941">Decode</span><span class="op" id="8321947">(</span><span class="ident" id="8321948"><a href="/encoding/gob/gobencdec_test.go.html#8321909">x</a></span><span class="op" id="8321949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8321952">if</span>&nbsp;<span class="ident" id="8321955"><a href="/encoding/gob/gobencdec_test.go.html#8321798">err</a></span>&nbsp;<span class="op" id="8321959">!=</span>&nbsp;<span class="ident" id="8321962">nil</span>&nbsp;<span class="op" id="8321966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321970"><a href="/encoding/gob/gobencdec_test.go.html#8321735">t</a></span><span class="op" id="8321971">.</span><span class="ident" id="8321972">Fatal</span><span class="op" id="8321977">(</span><span class="string" id="8321978">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8321993">,</span>&nbsp;<span class="ident" id="8321995"><a href="/encoding/gob/gobencdec_test.go.html#8321798">err</a></span><span class="op" id="8321998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322004">if</span>&nbsp;<span class="ident" id="8322007"><a href="/encoding/gob/gobencdec_test.go.html#8321909">x</a></span><span class="op" id="8322008">.</span><span class="ident" id="8322009">a</span>&nbsp;<span class="op" id="8322011">!=</span>&nbsp;<span class="string" id="8322014">&#39;A&#39;</span>&nbsp;<span class="op" id="8322018">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322022"><a href="/encoding/gob/gobencdec_test.go.html#8321735">t</a></span><span class="op" id="8322023">.</span><span class="ident" id="8322024">Errorf</span><span class="op" id="8322030">(</span><span class="string" id="8322031">&#34;expected&nbsp;&#39;A&#39;&nbsp;got&nbsp;%c&#34;</span><span class="op" id="8322052">,</span>&nbsp;<span class="ident" id="8322054"><a href="/encoding/gob/gobencdec_test.go.html#8321909">x</a></span><span class="op" id="8322055">.</span><span class="ident" id="8322056">a</span><span class="op" id="8322057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322060">}</span><br>
<span class="lineno"></span><span class="op" id="8322062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8322065">func</span>&nbsp;<span class="ident" id="8322070">TestGobEncoderNonStructSingleton</span><span class="op" id="8322102">(</span><span class="ident" id="8322103">t</span>&nbsp;<span class="op" id="8322105">*</span><span class="ident" id="8322106"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8322113">.</span><span class="ident" id="8322114">T</span><span class="op" id="8322115">)</span>&nbsp;<span class="op" id="8322117">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322120">b</span>&nbsp;<span class="op" id="8322122">:=</span>&nbsp;<span class="builtinfunc" id="8322125">new</span><span class="op" id="8322128">(</span><span class="ident" id="8322129"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8322134">.</span><span class="ident" id="8322135">Buffer</span><span class="op" id="8322141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322144">enc</span>&nbsp;<span class="op" id="8322148">:=</span>&nbsp;<span class="ident" id="8322151"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8322161">(</span><span class="ident" id="8322162"><a href="/encoding/gob/gobencdec_test.go.html#8322120">b</a></span><span class="op" id="8322163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322166">var</span>&nbsp;<span class="ident" id="8322170">g</span>&nbsp;<span class="ident" id="8322172"><a href="/encoding/gob/gobencdec_test.go.html#8308398">Gobber</a></span>&nbsp;<span class="op" id="8322179">=</span>&nbsp;<span class="num" id="8322181">1234</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322187">err</span>&nbsp;<span class="op" id="8322191">:=</span>&nbsp;<span class="ident" id="8322194"><a href="/encoding/gob/gobencdec_test.go.html#8322144">enc</a></span><span class="op" id="8322197">.</span><span class="ident" id="8322198">Encode</span><span class="op" id="8322204">(</span><span class="op" id="8322205">&amp;</span><span class="ident" id="8322206"><a href="/encoding/gob/gobencdec_test.go.html#8322170">g</a></span><span class="op" id="8322207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322210">if</span>&nbsp;<span class="ident" id="8322213"><a href="/encoding/gob/gobencdec_test.go.html#8322187">err</a></span>&nbsp;<span class="op" id="8322217">!=</span>&nbsp;<span class="ident" id="8322220">nil</span>&nbsp;<span class="op" id="8322224">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322228"><a href="/encoding/gob/gobencdec_test.go.html#8322103">t</a></span><span class="op" id="8322229">.</span><span class="ident" id="8322230">Fatal</span><span class="op" id="8322235">(</span><span class="string" id="8322236">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8322251">,</span>&nbsp;<span class="ident" id="8322253"><a href="/encoding/gob/gobencdec_test.go.html#8322187">err</a></span><span class="op" id="8322256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322262">dec</span>&nbsp;<span class="op" id="8322266">:=</span>&nbsp;<span class="ident" id="8322269"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8322279">(</span><span class="ident" id="8322280"><a href="/encoding/gob/gobencdec_test.go.html#8322120">b</a></span><span class="op" id="8322281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322284">var</span>&nbsp;<span class="ident" id="8322288">x</span>&nbsp;<span class="ident" id="8322290"><a href="/encoding/gob/gobencdec_test.go.html#8308398">Gobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322298"><a href="/encoding/gob/gobencdec_test.go.html#8322187">err</a></span>&nbsp;<span class="op" id="8322302">=</span>&nbsp;<span class="ident" id="8322304"><a href="/encoding/gob/gobencdec_test.go.html#8322262">dec</a></span><span class="op" id="8322307">.</span><span class="ident" id="8322308">Decode</span><span class="op" id="8322314">(</span><span class="op" id="8322315">&amp;</span><span class="ident" id="8322316"><a href="/encoding/gob/gobencdec_test.go.html#8322288">x</a></span><span class="op" id="8322317">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322320">if</span>&nbsp;<span class="ident" id="8322323"><a href="/encoding/gob/gobencdec_test.go.html#8322187">err</a></span>&nbsp;<span class="op" id="8322327">!=</span>&nbsp;<span class="ident" id="8322330">nil</span>&nbsp;<span class="op" id="8322334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322338"><a href="/encoding/gob/gobencdec_test.go.html#8322103">t</a></span><span class="op" id="8322339">.</span><span class="ident" id="8322340">Fatal</span><span class="op" id="8322345">(</span><span class="string" id="8322346">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8322361">,</span>&nbsp;<span class="ident" id="8322363"><a href="/encoding/gob/gobencdec_test.go.html#8322187">err</a></span><span class="op" id="8322366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322372">if</span>&nbsp;<span class="ident" id="8322375"><a href="/encoding/gob/gobencdec_test.go.html#8322288">x</a></span>&nbsp;<span class="op" id="8322377">!=</span>&nbsp;<span class="num" id="8322380">1234</span>&nbsp;<span class="op" id="8322385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322389"><a href="/encoding/gob/gobencdec_test.go.html#8322103">t</a></span><span class="op" id="8322390">.</span><span class="ident" id="8322391">Errorf</span><span class="op" id="8322397">(</span><span class="string" id="8322398">&#34;expected&nbsp;1234&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8322420">,</span>&nbsp;<span class="ident" id="8322422"><a href="/encoding/gob/gobencdec_test.go.html#8322288">x</a></span><span class="op" id="8322423">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322426">}</span><br>
<span class="lineno"></span><span class="op" id="8322428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8322431">func</span>&nbsp;<span class="ident" id="8322436">TestGobEncoderIgnoreStructField</span><span class="op" id="8322467">(</span><span class="ident" id="8322468">t</span>&nbsp;<span class="op" id="8322470">*</span><span class="ident" id="8322471"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8322478">.</span><span class="ident" id="8322479">T</span><span class="op" id="8322480">)</span>&nbsp;<span class="op" id="8322482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322485">b</span>&nbsp;<span class="op" id="8322487">:=</span>&nbsp;<span class="builtinfunc" id="8322490">new</span><span class="op" id="8322493">(</span><span class="ident" id="8322494"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8322499">.</span><span class="ident" id="8322500">Buffer</span><span class="op" id="8322506">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8322509">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322547">enc</span>&nbsp;<span class="op" id="8322551">:=</span>&nbsp;<span class="ident" id="8322554"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8322564">(</span><span class="ident" id="8322565"><a href="/encoding/gob/gobencdec_test.go.html#8322485">b</a></span><span class="op" id="8322566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322569">err</span>&nbsp;<span class="op" id="8322573">:=</span>&nbsp;<span class="ident" id="8322576"><a href="/encoding/gob/gobencdec_test.go.html#8322547">enc</a></span><span class="op" id="8322579">.</span><span class="ident" id="8322580">Encode</span><span class="op" id="8322586">(</span><span class="ident" id="8322587"><a href="/encoding/gob/gobencdec_test.go.html#8311156">GobTest0</a></span><span class="op" id="8322595">{</span><span class="num" id="8322596">17</span><span class="op" id="8322598">,</span>&nbsp;<span class="op" id="8322600">&amp;</span><span class="ident" id="8322601"><a href="/encoding/gob/gobencdec_test.go.html#8308204">ByteStruct</a></span><span class="op" id="8322611">{</span><span class="string" id="8322612">&#39;A&#39;</span><span class="op" id="8322615">}</span><span class="op" id="8322616">}</span><span class="op" id="8322617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322620">if</span>&nbsp;<span class="ident" id="8322623"><a href="/encoding/gob/gobencdec_test.go.html#8322569">err</a></span>&nbsp;<span class="op" id="8322627">!=</span>&nbsp;<span class="ident" id="8322630">nil</span>&nbsp;<span class="op" id="8322634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322638"><a href="/encoding/gob/gobencdec_test.go.html#8322468">t</a></span><span class="op" id="8322639">.</span><span class="ident" id="8322640">Fatal</span><span class="op" id="8322645">(</span><span class="string" id="8322646">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8322661">,</span>&nbsp;<span class="ident" id="8322663"><a href="/encoding/gob/gobencdec_test.go.html#8322569">err</a></span><span class="op" id="8322666">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322672">dec</span>&nbsp;<span class="op" id="8322676">:=</span>&nbsp;<span class="ident" id="8322679"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8322689">(</span><span class="ident" id="8322690"><a href="/encoding/gob/gobencdec_test.go.html#8322485">b</a></span><span class="op" id="8322691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322694">x</span>&nbsp;<span class="op" id="8322696">:=</span>&nbsp;<span class="builtinfunc" id="8322699">new</span><span class="op" id="8322702">(</span><span class="ident" id="8322703"><a href="/encoding/gob/gobencdec_test.go.html#8312361">GobTestIgnoreEncoder</a></span><span class="op" id="8322723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322726"><a href="/encoding/gob/gobencdec_test.go.html#8322569">err</a></span>&nbsp;<span class="op" id="8322730">=</span>&nbsp;<span class="ident" id="8322732"><a href="/encoding/gob/gobencdec_test.go.html#8322672">dec</a></span><span class="op" id="8322735">.</span><span class="ident" id="8322736">Decode</span><span class="op" id="8322742">(</span><span class="ident" id="8322743"><a href="/encoding/gob/gobencdec_test.go.html#8322694">x</a></span><span class="op" id="8322744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322747">if</span>&nbsp;<span class="ident" id="8322750"><a href="/encoding/gob/gobencdec_test.go.html#8322569">err</a></span>&nbsp;<span class="op" id="8322754">!=</span>&nbsp;<span class="ident" id="8322757">nil</span>&nbsp;<span class="op" id="8322761">{</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322765"><a href="/encoding/gob/gobencdec_test.go.html#8322468">t</a></span><span class="op" id="8322766">.</span><span class="ident" id="8322767">Fatal</span><span class="op" id="8322772">(</span><span class="string" id="8322773">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8322788">,</span>&nbsp;<span class="ident" id="8322790"><a href="/encoding/gob/gobencdec_test.go.html#8322569">err</a></span><span class="op" id="8322793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322799">if</span>&nbsp;<span class="ident" id="8322802"><a href="/encoding/gob/gobencdec_test.go.html#8322694">x</a></span><span class="op" id="8322803">.</span><span class="ident" id="8322804">X</span>&nbsp;<span class="op" id="8322806">!=</span>&nbsp;<span class="num" id="8322809">17</span>&nbsp;<span class="op" id="8322812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322816"><a href="/encoding/gob/gobencdec_test.go.html#8322468">t</a></span><span class="op" id="8322817">.</span><span class="ident" id="8322818">Errorf</span><span class="op" id="8322824">(</span><span class="string" id="8322825">&#34;expected&nbsp;17&nbsp;got&nbsp;%c&#34;</span><span class="op" id="8322845">,</span>&nbsp;<span class="ident" id="8322847"><a href="/encoding/gob/gobencdec_test.go.html#8322694">x</a></span><span class="op" id="8322848">.</span><span class="ident" id="8322849">X</span><span class="op" id="8322850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322853">}</span><br>
<span class="lineno">625</span><span class="op" id="8322855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8322858">func</span>&nbsp;<span class="ident" id="8322863">TestGobEncoderIgnoreNonStructField</span><span class="op" id="8322897">(</span><span class="ident" id="8322898">t</span>&nbsp;<span class="op" id="8322900">*</span><span class="ident" id="8322901"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8322908">.</span><span class="ident" id="8322909">T</span><span class="op" id="8322910">)</span>&nbsp;<span class="op" id="8322912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322915">b</span>&nbsp;<span class="op" id="8322917">:=</span>&nbsp;<span class="builtinfunc" id="8322920">new</span><span class="op" id="8322923">(</span><span class="ident" id="8322924"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8322929">.</span><span class="ident" id="8322930">Buffer</span><span class="op" id="8322936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8322939">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322977">enc</span>&nbsp;<span class="op" id="8322981">:=</span>&nbsp;<span class="ident" id="8322984"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8322994">(</span><span class="ident" id="8322995"><a href="/encoding/gob/gobencdec_test.go.html#8322915">b</a></span><span class="op" id="8322996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322999">gobber</span>&nbsp;<span class="op" id="8323006">:=</span>&nbsp;<span class="ident" id="8323009"><a href="/encoding/gob/gobencdec_test.go.html#8308398">Gobber</a></span><span class="op" id="8323015">(</span><span class="num" id="8323016">23</span><span class="op" id="8323018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323021">bgobber</span>&nbsp;<span class="op" id="8323029">:=</span>&nbsp;<span class="ident" id="8323032"><a href="/encoding/gob/gobencdec_test.go.html#8308489">BinaryGobber</a></span><span class="op" id="8323044">(</span><span class="num" id="8323045">24</span><span class="op" id="8323047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323050">tgobber</span>&nbsp;<span class="op" id="8323058">:=</span>&nbsp;<span class="ident" id="8323061"><a href="/encoding/gob/gobencdec_test.go.html#8308543">TextGobber</a></span><span class="op" id="8323071">(</span><span class="num" id="8323072">25</span><span class="op" id="8323074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323077">err</span>&nbsp;<span class="op" id="8323081">:=</span>&nbsp;<span class="ident" id="8323084"><a href="/encoding/gob/gobencdec_test.go.html#8322977">enc</a></span><span class="op" id="8323087">.</span><span class="ident" id="8323088">Encode</span><span class="op" id="8323094">(</span><span class="ident" id="8323095"><a href="/encoding/gob/gobencdec_test.go.html#8311512">GobTest3</a></span><span class="op" id="8323103">{</span><span class="num" id="8323104">17</span><span class="op" id="8323106">,</span>&nbsp;<span class="op" id="8323108">&amp;</span><span class="ident" id="8323109"><a href="/encoding/gob/gobencdec_test.go.html#8322999">gobber</a></span><span class="op" id="8323115">,</span>&nbsp;<span class="op" id="8323117">&amp;</span><span class="ident" id="8323118"><a href="/encoding/gob/gobencdec_test.go.html#8323021">bgobber</a></span><span class="op" id="8323125">,</span>&nbsp;<span class="op" id="8323127">&amp;</span><span class="ident" id="8323128"><a href="/encoding/gob/gobencdec_test.go.html#8323050">tgobber</a></span><span class="op" id="8323135">}</span><span class="op" id="8323136">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323139">if</span>&nbsp;<span class="ident" id="8323142"><a href="/encoding/gob/gobencdec_test.go.html#8323077">err</a></span>&nbsp;<span class="op" id="8323146">!=</span>&nbsp;<span class="ident" id="8323149">nil</span>&nbsp;<span class="op" id="8323153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323157"><a href="/encoding/gob/gobencdec_test.go.html#8322898">t</a></span><span class="op" id="8323158">.</span><span class="ident" id="8323159">Fatal</span><span class="op" id="8323164">(</span><span class="string" id="8323165">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8323180">,</span>&nbsp;<span class="ident" id="8323182"><a href="/encoding/gob/gobencdec_test.go.html#8323077">err</a></span><span class="op" id="8323185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323191">dec</span>&nbsp;<span class="op" id="8323195">:=</span>&nbsp;<span class="ident" id="8323198"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8323208">(</span><span class="ident" id="8323209"><a href="/encoding/gob/gobencdec_test.go.html#8322915">b</a></span><span class="op" id="8323210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323213">x</span>&nbsp;<span class="op" id="8323215">:=</span>&nbsp;<span class="builtinfunc" id="8323218">new</span><span class="op" id="8323221">(</span><span class="ident" id="8323222"><a href="/encoding/gob/gobencdec_test.go.html#8312361">GobTestIgnoreEncoder</a></span><span class="op" id="8323242">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323245"><a href="/encoding/gob/gobencdec_test.go.html#8323077">err</a></span>&nbsp;<span class="op" id="8323249">=</span>&nbsp;<span class="ident" id="8323251"><a href="/encoding/gob/gobencdec_test.go.html#8323191">dec</a></span><span class="op" id="8323254">.</span><span class="ident" id="8323255">Decode</span><span class="op" id="8323261">(</span><span class="ident" id="8323262"><a href="/encoding/gob/gobencdec_test.go.html#8323213">x</a></span><span class="op" id="8323263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323266">if</span>&nbsp;<span class="ident" id="8323269"><a href="/encoding/gob/gobencdec_test.go.html#8323077">err</a></span>&nbsp;<span class="op" id="8323273">!=</span>&nbsp;<span class="ident" id="8323276">nil</span>&nbsp;<span class="op" id="8323280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323284"><a href="/encoding/gob/gobencdec_test.go.html#8322898">t</a></span><span class="op" id="8323285">.</span><span class="ident" id="8323286">Fatal</span><span class="op" id="8323291">(</span><span class="string" id="8323292">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8323307">,</span>&nbsp;<span class="ident" id="8323309"><a href="/encoding/gob/gobencdec_test.go.html#8323077">err</a></span><span class="op" id="8323312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323318">if</span>&nbsp;<span class="ident" id="8323321"><a href="/encoding/gob/gobencdec_test.go.html#8323213">x</a></span><span class="op" id="8323322">.</span><span class="ident" id="8323323">X</span>&nbsp;<span class="op" id="8323325">!=</span>&nbsp;<span class="num" id="8323328">17</span>&nbsp;<span class="op" id="8323331">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323335"><a href="/encoding/gob/gobencdec_test.go.html#8322898">t</a></span><span class="op" id="8323336">.</span><span class="ident" id="8323337">Errorf</span><span class="op" id="8323343">(</span><span class="string" id="8323344">&#34;expected&nbsp;17&nbsp;got&nbsp;%c&#34;</span><span class="op" id="8323364">,</span>&nbsp;<span class="ident" id="8323366"><a href="/encoding/gob/gobencdec_test.go.html#8323213">x</a></span><span class="op" id="8323367">.</span><span class="ident" id="8323368">X</span><span class="op" id="8323369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323372">}</span><br>
<span class="lineno"></span><span class="op" id="8323374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8323377">func</span>&nbsp;<span class="ident" id="8323382">TestGobEncoderIgnoreNilEncoder</span><span class="op" id="8323412">(</span><span class="ident" id="8323413">t</span>&nbsp;<span class="op" id="8323415">*</span><span class="ident" id="8323416"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8323423">.</span><span class="ident" id="8323424">T</span><span class="op" id="8323425">)</span>&nbsp;<span class="op" id="8323427">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323430">b</span>&nbsp;<span class="op" id="8323432">:=</span>&nbsp;<span class="builtinfunc" id="8323435">new</span><span class="op" id="8323438">(</span><span class="ident" id="8323439"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8323444">.</span><span class="ident" id="8323445">Buffer</span><span class="op" id="8323451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8323454">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323492">enc</span>&nbsp;<span class="op" id="8323496">:=</span>&nbsp;<span class="ident" id="8323499"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8323509">(</span><span class="ident" id="8323510"><a href="/encoding/gob/gobencdec_test.go.html#8323430">b</a></span><span class="op" id="8323511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323514">err</span>&nbsp;<span class="op" id="8323518">:=</span>&nbsp;<span class="ident" id="8323521"><a href="/encoding/gob/gobencdec_test.go.html#8323492">enc</a></span><span class="op" id="8323524">.</span><span class="ident" id="8323525">Encode</span><span class="op" id="8323531">(</span><span class="ident" id="8323532"><a href="/encoding/gob/gobencdec_test.go.html#8311156">GobTest0</a></span><span class="op" id="8323540">{</span><span class="ident" id="8323541">X</span><span class="op" id="8323542">:</span>&nbsp;<span class="num" id="8323544">18</span><span class="op" id="8323546">}</span><span class="op" id="8323547">)</span>&nbsp;<span class="comment" id="8323549">//&nbsp;G&nbsp;is&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323562">if</span>&nbsp;<span class="ident" id="8323565"><a href="/encoding/gob/gobencdec_test.go.html#8323514">err</a></span>&nbsp;<span class="op" id="8323569">!=</span>&nbsp;<span class="ident" id="8323572">nil</span>&nbsp;<span class="op" id="8323576">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323580"><a href="/encoding/gob/gobencdec_test.go.html#8323413">t</a></span><span class="op" id="8323581">.</span><span class="ident" id="8323582">Fatal</span><span class="op" id="8323587">(</span><span class="string" id="8323588">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8323603">,</span>&nbsp;<span class="ident" id="8323605"><a href="/encoding/gob/gobencdec_test.go.html#8323514">err</a></span><span class="op" id="8323608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323614">dec</span>&nbsp;<span class="op" id="8323618">:=</span>&nbsp;<span class="ident" id="8323621"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8323631">(</span><span class="ident" id="8323632"><a href="/encoding/gob/gobencdec_test.go.html#8323430">b</a></span><span class="op" id="8323633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323636">x</span>&nbsp;<span class="op" id="8323638">:=</span>&nbsp;<span class="builtinfunc" id="8323641">new</span><span class="op" id="8323644">(</span><span class="ident" id="8323645"><a href="/encoding/gob/gobencdec_test.go.html#8311156">GobTest0</a></span><span class="op" id="8323653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323656"><a href="/encoding/gob/gobencdec_test.go.html#8323514">err</a></span>&nbsp;<span class="op" id="8323660">=</span>&nbsp;<span class="ident" id="8323662"><a href="/encoding/gob/gobencdec_test.go.html#8323614">dec</a></span><span class="op" id="8323665">.</span><span class="ident" id="8323666">Decode</span><span class="op" id="8323672">(</span><span class="ident" id="8323673"><a href="/encoding/gob/gobencdec_test.go.html#8323636">x</a></span><span class="op" id="8323674">)</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323677">if</span>&nbsp;<span class="ident" id="8323680"><a href="/encoding/gob/gobencdec_test.go.html#8323514">err</a></span>&nbsp;<span class="op" id="8323684">!=</span>&nbsp;<span class="ident" id="8323687">nil</span>&nbsp;<span class="op" id="8323691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323695"><a href="/encoding/gob/gobencdec_test.go.html#8323413">t</a></span><span class="op" id="8323696">.</span><span class="ident" id="8323697">Fatal</span><span class="op" id="8323702">(</span><span class="string" id="8323703">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8323718">,</span>&nbsp;<span class="ident" id="8323720"><a href="/encoding/gob/gobencdec_test.go.html#8323514">err</a></span><span class="op" id="8323723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323729">if</span>&nbsp;<span class="ident" id="8323732"><a href="/encoding/gob/gobencdec_test.go.html#8323636">x</a></span><span class="op" id="8323733">.</span><span class="ident" id="8323734">X</span>&nbsp;<span class="op" id="8323736">!=</span>&nbsp;<span class="num" id="8323739">18</span>&nbsp;<span class="op" id="8323742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323746"><a href="/encoding/gob/gobencdec_test.go.html#8323413">t</a></span><span class="op" id="8323747">.</span><span class="ident" id="8323748">Errorf</span><span class="op" id="8323754">(</span><span class="string" id="8323755">&#34;expected&nbsp;x.X&nbsp;=&nbsp;18,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8323782">,</span>&nbsp;<span class="ident" id="8323784"><a href="/encoding/gob/gobencdec_test.go.html#8323636">x</a></span><span class="op" id="8323785">.</span><span class="ident" id="8323786">X</span><span class="op" id="8323787">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323793">if</span>&nbsp;<span class="ident" id="8323796"><a href="/encoding/gob/gobencdec_test.go.html#8323636">x</a></span><span class="op" id="8323797">.</span><span class="ident" id="8323798">G</span>&nbsp;<span class="op" id="8323800">!=</span>&nbsp;<span class="ident" id="8323803">nil</span>&nbsp;<span class="op" id="8323807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323811"><a href="/encoding/gob/gobencdec_test.go.html#8323413">t</a></span><span class="op" id="8323812">.</span><span class="ident" id="8323813">Errorf</span><span class="op" id="8323819">(</span><span class="string" id="8323820">&#34;expected&nbsp;x.G&nbsp;=&nbsp;nil,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8323848">,</span>&nbsp;<span class="ident" id="8323850"><a href="/encoding/gob/gobencdec_test.go.html#8323636">x</a></span><span class="op" id="8323851">.</span><span class="ident" id="8323852">G</span><span class="op" id="8323853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323856">}</span><br>
<span class="lineno"></span><span class="op" id="8323858">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="8323861">type</span>&nbsp;<span class="ident" id="8323866">gobDecoderBug0</span>&nbsp;<span class="keyword" id="8323881">struct</span>&nbsp;<span class="op" id="8323888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323891">foo</span><span class="op" id="8323894">,</span>&nbsp;<span class="ident" id="8323896">bar</span>&nbsp;<span class="builtintype" id="8323900">string</span><br>
<span class="lineno"></span><span class="op" id="8323907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span><span class="keyword" id="8323910">func</span>&nbsp;<span class="op" id="8323915">(</span><span class="ident" id="8323916">br</span>&nbsp;<span class="op" id="8323919">*</span><span class="ident" id="8323920"><a href="/encoding/gob/gobencdec_test.go.html#8323866">gobDecoderBug0</a></span><span class="op" id="8323934">)</span>&nbsp;<span class="ident" id="8323936">String</span><span class="op" id="8323942">(</span><span class="op" id="8323943">)</span>&nbsp;<span class="builtintype" id="8323945">string</span>&nbsp;<span class="op" id="8323952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323955">return</span>&nbsp;<span class="ident" id="8323962"><a href="/encoding/gob/gobencdec_test.go.html#8323916">br</a></span><span class="op" id="8323964">.</span><span class="ident" id="8323965">foo</span>&nbsp;<span class="op" id="8323969">+</span>&nbsp;<span class="string" id="8323971">&#34;-&#34;</span>&nbsp;<span class="op" id="8323975">+</span>&nbsp;<span class="ident" id="8323977"><a href="/encoding/gob/gobencdec_test.go.html#8323916">br</a></span><span class="op" id="8323979">.</span><span class="ident" id="8323980">bar</span><br>
<span class="lineno"></span><span class="op" id="8323984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8323987">func</span>&nbsp;<span class="op" id="8323992">(</span><span class="ident" id="8323993">br</span>&nbsp;<span class="op" id="8323996">*</span><span class="ident" id="8323997"><a href="/encoding/gob/gobencdec_test.go.html#8323866">gobDecoderBug0</a></span><span class="op" id="8324011">)</span>&nbsp;<span class="ident" id="8324013">GobEncode</span><span class="op" id="8324022">(</span><span class="op" id="8324023">)</span>&nbsp;<span class="op" id="8324025">(</span><span class="op" id="8324026">[</span><span class="op" id="8324027">]</span><span class="builtintype" id="8324028">byte</span><span class="op" id="8324032">,</span>&nbsp;<span class="builtintype" id="8324034">error</span><span class="op" id="8324039">)</span>&nbsp;<span class="op" id="8324041">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324044">return</span>&nbsp;<span class="op" id="8324051">[</span><span class="op" id="8324052">]</span><span class="builtintype" id="8324053">byte</span><span class="op" id="8324057">(</span><span class="ident" id="8324058"><a href="/encoding/gob/gobencdec_test.go.html#8323993">br</a></span><span class="op" id="8324060">.</span><span class="ident" id="8324061">String</span><span class="op" id="8324067">(</span><span class="op" id="8324068">)</span><span class="op" id="8324069">)</span><span class="op" id="8324070">,</span>&nbsp;<span class="ident" id="8324072">nil</span><br>
<span class="lineno"></span><span class="op" id="8324076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8324079">func</span>&nbsp;<span class="op" id="8324084">(</span><span class="ident" id="8324085">br</span>&nbsp;<span class="op" id="8324088">*</span><span class="ident" id="8324089"><a href="/encoding/gob/gobencdec_test.go.html#8323866">gobDecoderBug0</a></span><span class="op" id="8324103">)</span>&nbsp;<span class="ident" id="8324105">GobDecode</span><span class="op" id="8324114">(</span><span class="ident" id="8324115">b</span>&nbsp;<span class="op" id="8324117">[</span><span class="op" id="8324118">]</span><span class="builtintype" id="8324119">byte</span><span class="op" id="8324123">)</span>&nbsp;<span class="builtintype" id="8324125">error</span>&nbsp;<span class="op" id="8324131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324134"><a href="/encoding/gob/gobencdec_test.go.html#8324085">br</a></span><span class="op" id="8324136">.</span><span class="ident" id="8324137">foo</span>&nbsp;<span class="op" id="8324141">=</span>&nbsp;<span class="string" id="8324143">&#34;foo&#34;</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324150"><a href="/encoding/gob/gobencdec_test.go.html#8324085">br</a></span><span class="op" id="8324152">.</span><span class="ident" id="8324153">bar</span>&nbsp;<span class="op" id="8324157">=</span>&nbsp;<span class="string" id="8324159">&#34;bar&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324166">return</span>&nbsp;<span class="ident" id="8324173">nil</span><br>
<span class="lineno"></span><span class="op" id="8324177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8324180">//&nbsp;This&nbsp;was&nbsp;a&nbsp;bug:&nbsp;the&nbsp;receiver&nbsp;has&nbsp;a&nbsp;different&nbsp;indirection&nbsp;level</span><br>
<span class="lineno">690</span><span class="comment" id="8324246">//&nbsp;than&nbsp;the&nbsp;variable.</span><br>
<span class="lineno"></span><span class="keyword" id="8324268">func</span>&nbsp;<span class="ident" id="8324273">TestGobEncoderExtraIndirect</span><span class="op" id="8324300">(</span><span class="ident" id="8324301">t</span>&nbsp;<span class="op" id="8324303">*</span><span class="ident" id="8324304"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8324311">.</span><span class="ident" id="8324312">T</span><span class="op" id="8324313">)</span>&nbsp;<span class="op" id="8324315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324318">gdb</span>&nbsp;<span class="op" id="8324322">:=</span>&nbsp;<span class="op" id="8324325">&amp;</span><span class="ident" id="8324326"><a href="/encoding/gob/gobencdec_test.go.html#8323866">gobDecoderBug0</a></span><span class="op" id="8324340">{</span><span class="string" id="8324341">&#34;foo&#34;</span><span class="op" id="8324346">,</span>&nbsp;<span class="string" id="8324348">&#34;bar&#34;</span><span class="op" id="8324353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324356">buf</span>&nbsp;<span class="op" id="8324360">:=</span>&nbsp;<span class="builtinfunc" id="8324363">new</span><span class="op" id="8324366">(</span><span class="ident" id="8324367"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8324372">.</span><span class="ident" id="8324373">Buffer</span><span class="op" id="8324379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324382">e</span>&nbsp;<span class="op" id="8324384">:=</span>&nbsp;<span class="ident" id="8324387"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8324397">(</span><span class="ident" id="8324398"><a href="/encoding/gob/gobencdec_test.go.html#8324356">buf</a></span><span class="op" id="8324401">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324404">if</span>&nbsp;<span class="ident" id="8324407">err</span>&nbsp;<span class="op" id="8324411">:=</span>&nbsp;<span class="ident" id="8324414"><a href="/encoding/gob/gobencdec_test.go.html#8324382">e</a></span><span class="op" id="8324415">.</span><span class="ident" id="8324416">Encode</span><span class="op" id="8324422">(</span><span class="ident" id="8324423"><a href="/encoding/gob/gobencdec_test.go.html#8324318">gdb</a></span><span class="op" id="8324426">)</span><span class="op" id="8324427">;</span>&nbsp;<span class="ident" id="8324429"><a href="/encoding/gob/gobencdec_test.go.html#8324407">err</a></span>&nbsp;<span class="op" id="8324433">!=</span>&nbsp;<span class="ident" id="8324436">nil</span>&nbsp;<span class="op" id="8324440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324444"><a href="/encoding/gob/gobencdec_test.go.html#8324301">t</a></span><span class="op" id="8324445">.</span><span class="ident" id="8324446">Fatalf</span><span class="op" id="8324452">(</span><span class="string" id="8324453">&#34;encode:&nbsp;%v&#34;</span><span class="op" id="8324465">,</span>&nbsp;<span class="ident" id="8324467"><a href="/encoding/gob/gobencdec_test.go.html#8324407">err</a></span><span class="op" id="8324470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8324473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324476">d</span>&nbsp;<span class="op" id="8324478">:=</span>&nbsp;<span class="ident" id="8324481"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8324491">(</span><span class="ident" id="8324492"><a href="/encoding/gob/gobencdec_test.go.html#8324356">buf</a></span><span class="op" id="8324495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324498">var</span>&nbsp;<span class="ident" id="8324502">got</span>&nbsp;<span class="op" id="8324506">*</span><span class="ident" id="8324507"><a href="/encoding/gob/gobencdec_test.go.html#8323866">gobDecoderBug0</a></span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324523">if</span>&nbsp;<span class="ident" id="8324526">err</span>&nbsp;<span class="op" id="8324530">:=</span>&nbsp;<span class="ident" id="8324533"><a href="/encoding/gob/gobencdec_test.go.html#8324476">d</a></span><span class="op" id="8324534">.</span><span class="ident" id="8324535">Decode</span><span class="op" id="8324541">(</span><span class="op" id="8324542">&amp;</span><span class="ident" id="8324543"><a href="/encoding/gob/gobencdec_test.go.html#8324502">got</a></span><span class="op" id="8324546">)</span><span class="op" id="8324547">;</span>&nbsp;<span class="ident" id="8324549"><a href="/encoding/gob/gobencdec_test.go.html#8324526">err</a></span>&nbsp;<span class="op" id="8324553">!=</span>&nbsp;<span class="ident" id="8324556">nil</span>&nbsp;<span class="op" id="8324560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324564"><a href="/encoding/gob/gobencdec_test.go.html#8324301">t</a></span><span class="op" id="8324565">.</span><span class="ident" id="8324566">Fatalf</span><span class="op" id="8324572">(</span><span class="string" id="8324573">&#34;decode:&nbsp;%v&#34;</span><span class="op" id="8324585">,</span>&nbsp;<span class="ident" id="8324587"><a href="/encoding/gob/gobencdec_test.go.html#8324526">err</a></span><span class="op" id="8324590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8324593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324596">if</span>&nbsp;<span class="ident" id="8324599"><a href="/encoding/gob/gobencdec_test.go.html#8324502">got</a></span><span class="op" id="8324602">.</span><span class="ident" id="8324603">foo</span>&nbsp;<span class="op" id="8324607">!=</span>&nbsp;<span class="ident" id="8324610"><a href="/encoding/gob/gobencdec_test.go.html#8324318">gdb</a></span><span class="op" id="8324613">.</span><span class="ident" id="8324614">foo</span>&nbsp;<span class="op" id="8324618">||</span>&nbsp;<span class="ident" id="8324621"><a href="/encoding/gob/gobencdec_test.go.html#8324502">got</a></span><span class="op" id="8324624">.</span><span class="ident" id="8324625">bar</span>&nbsp;<span class="op" id="8324629">!=</span>&nbsp;<span class="ident" id="8324632"><a href="/encoding/gob/gobencdec_test.go.html#8324318">gdb</a></span><span class="op" id="8324635">.</span><span class="ident" id="8324636">bar</span>&nbsp;<span class="op" id="8324640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324644"><a href="/encoding/gob/gobencdec_test.go.html#8324301">t</a></span><span class="op" id="8324645">.</span><span class="ident" id="8324646">Errorf</span><span class="op" id="8324652">(</span><span class="string" id="8324653">&#34;got&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8324672">,</span>&nbsp;<span class="ident" id="8324674"><a href="/encoding/gob/gobencdec_test.go.html#8324502">got</a></span><span class="op" id="8324677">,</span>&nbsp;<span class="ident" id="8324679"><a href="/encoding/gob/gobencdec_test.go.html#8324318">gdb</a></span><span class="op" id="8324682">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8324685">}</span><br>
<span class="lineno"></span><span class="op" id="8324687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8324690">//&nbsp;Another&nbsp;bug:&nbsp;this&nbsp;caused&nbsp;a&nbsp;crash&nbsp;with&nbsp;the&nbsp;new&nbsp;Go1&nbsp;Time&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="8324754">//&nbsp;We&nbsp;throw&nbsp;in&nbsp;a&nbsp;gob-encoding&nbsp;array,&nbsp;to&nbsp;test&nbsp;another&nbsp;case&nbsp;of&nbsp;isZero,</span><br>
<span class="lineno">710</span><span class="comment" id="8324823">//&nbsp;and&nbsp;a&nbsp;struct&nbsp;containing&nbsp;an&nbsp;nil&nbsp;interface,&nbsp;to&nbsp;test&nbsp;a&nbsp;third.</span><br>
<span class="lineno"></span><span class="keyword" id="8324885">type</span>&nbsp;<span class="ident" id="8324890">isZeroBug</span>&nbsp;<span class="keyword" id="8324900">struct</span>&nbsp;<span class="op" id="8324907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324910">T</span>&nbsp;<span class="ident" id="8324912"><a href="/encoding/gob/gobencdec_test.go.html#8308129">time</a></span><span class="op" id="8324916">.</span><span class="ident" id="8324917">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324923">S</span>&nbsp;<span class="builtintype" id="8324925">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324933">I</span>&nbsp;<span class="builtintype" id="8324935">int</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324940">A</span>&nbsp;<span class="ident" id="8324942"><a href="/encoding/gob/gobencdec_test.go.html#8324987">isZeroBugArray</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324958">F</span>&nbsp;<span class="ident" id="8324960"><a href="/encoding/gob/gobencdec_test.go.html#8325325">isZeroBugInterface</a></span><br>
<span class="lineno"></span><span class="op" id="8324979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8324982">type</span>&nbsp;<span class="ident" id="8324987">isZeroBugArray</span>&nbsp;<span class="op" id="8325002">[</span><span class="num" id="8325003">2</span><span class="op" id="8325004">]</span><span class="builtintype" id="8325005">uint8</span><br>
<span class="lineno">720</span><br>
<span class="lineno"></span><span class="comment" id="8325012">//&nbsp;Receiver&nbsp;is&nbsp;value,&nbsp;not&nbsp;pointer,&nbsp;to&nbsp;test&nbsp;isZero&nbsp;of&nbsp;array.</span><br>
<span class="lineno"></span><span class="keyword" id="8325072">func</span>&nbsp;<span class="op" id="8325077">(</span><span class="ident" id="8325078">a</span>&nbsp;<span class="ident" id="8325080"><a href="/encoding/gob/gobencdec_test.go.html#8324987">isZeroBugArray</a></span><span class="op" id="8325094">)</span>&nbsp;<span class="ident" id="8325096">GobEncode</span><span class="op" id="8325105">(</span><span class="op" id="8325106">)</span>&nbsp;<span class="op" id="8325108">(</span><span class="ident" id="8325109">b</span>&nbsp;<span class="op" id="8325111">[</span><span class="op" id="8325112">]</span><span class="builtintype" id="8325113">byte</span><span class="op" id="8325117">,</span>&nbsp;<span class="ident" id="8325119">e</span>&nbsp;<span class="builtintype" id="8325121">error</span><span class="op" id="8325126">)</span>&nbsp;<span class="op" id="8325128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325131"><a href="/encoding/gob/gobencdec_test.go.html#8325109">b</a></span>&nbsp;<span class="op" id="8325133">=</span>&nbsp;<span class="builtinfunc" id="8325135">append</span><span class="op" id="8325141">(</span><span class="ident" id="8325142"><a href="/encoding/gob/gobencdec_test.go.html#8325109">b</a></span><span class="op" id="8325143">,</span>&nbsp;<span class="ident" id="8325145"><a href="/encoding/gob/gobencdec_test.go.html#8325078">a</a></span><span class="op" id="8325146">[</span><span class="op" id="8325147">:</span><span class="op" id="8325148">]</span><span class="op" id="8325149">...</span><span class="op" id="8325152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325155">return</span>&nbsp;<span class="ident" id="8325162"><a href="/encoding/gob/gobencdec_test.go.html#8325109">b</a></span><span class="op" id="8325163">,</span>&nbsp;<span class="ident" id="8325165">nil</span><br>
<span class="lineno">725</span><span class="op" id="8325169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325172">func</span>&nbsp;<span class="op" id="8325177">(</span><span class="ident" id="8325178">a</span>&nbsp;<span class="op" id="8325180">*</span><span class="ident" id="8325181"><a href="/encoding/gob/gobencdec_test.go.html#8324987">isZeroBugArray</a></span><span class="op" id="8325195">)</span>&nbsp;<span class="ident" id="8325197">GobDecode</span><span class="op" id="8325206">(</span><span class="ident" id="8325207">data</span>&nbsp;<span class="op" id="8325212">[</span><span class="op" id="8325213">]</span><span class="builtintype" id="8325214">byte</span><span class="op" id="8325218">)</span>&nbsp;<span class="builtintype" id="8325220">error</span>&nbsp;<span class="op" id="8325226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325229">if</span>&nbsp;<span class="builtinfunc" id="8325232">len</span><span class="op" id="8325235">(</span><span class="ident" id="8325236"><a href="/encoding/gob/gobencdec_test.go.html#8325207">data</a></span><span class="op" id="8325240">)</span>&nbsp;<span class="op" id="8325242">!=</span>&nbsp;<span class="builtinfunc" id="8325245">len</span><span class="op" id="8325248">(</span><span class="ident" id="8325249"><a href="/encoding/gob/gobencdec_test.go.html#8325178">a</a></span><span class="op" id="8325250">)</span>&nbsp;<span class="op" id="8325252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325256">return</span>&nbsp;<span class="ident" id="8325263"><a href="/encoding/gob/gobencdec_test.go.html#8308094">io</a></span><span class="op" id="8325265">.</span><span class="ident" id="8325266">EOF</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8325271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325274"><a href="/encoding/gob/gobencdec_test.go.html#8325178">a</a></span><span class="op" id="8325275">[</span><span class="num" id="8325276">0</span><span class="op" id="8325277">]</span>&nbsp;<span class="op" id="8325279">=</span>&nbsp;<span class="ident" id="8325281"><a href="/encoding/gob/gobencdec_test.go.html#8325207">data</a></span><span class="op" id="8325285">[</span><span class="num" id="8325286">0</span><span class="op" id="8325287">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325290"><a href="/encoding/gob/gobencdec_test.go.html#8325178">a</a></span><span class="op" id="8325291">[</span><span class="num" id="8325292">1</span><span class="op" id="8325293">]</span>&nbsp;<span class="op" id="8325295">=</span>&nbsp;<span class="ident" id="8325297"><a href="/encoding/gob/gobencdec_test.go.html#8325207">data</a></span><span class="op" id="8325301">[</span><span class="num" id="8325302">1</span><span class="op" id="8325303">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325306">return</span>&nbsp;<span class="ident" id="8325313">nil</span><br>
<span class="lineno"></span><span class="op" id="8325317">}</span><br>
<span class="lineno">735</span><br>
<span class="lineno"></span><span class="keyword" id="8325320">type</span>&nbsp;<span class="ident" id="8325325">isZeroBugInterface</span>&nbsp;<span class="keyword" id="8325344">struct</span>&nbsp;<span class="op" id="8325351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325354">I</span>&nbsp;<span class="keyword" id="8325356">interface</span><span class="op" id="8325365">{</span><span class="op" id="8325366">}</span><br>
<span class="lineno"></span><span class="op" id="8325368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">740</span><span class="keyword" id="8325371">func</span>&nbsp;<span class="op" id="8325376">(</span><span class="ident" id="8325377">i</span>&nbsp;<span class="ident" id="8325379"><a href="/encoding/gob/gobencdec_test.go.html#8325325">isZeroBugInterface</a></span><span class="op" id="8325397">)</span>&nbsp;<span class="ident" id="8325399">GobEncode</span><span class="op" id="8325408">(</span><span class="op" id="8325409">)</span>&nbsp;<span class="op" id="8325411">(</span><span class="ident" id="8325412">b</span>&nbsp;<span class="op" id="8325414">[</span><span class="op" id="8325415">]</span><span class="builtintype" id="8325416">byte</span><span class="op" id="8325420">,</span>&nbsp;<span class="ident" id="8325422">e</span>&nbsp;<span class="builtintype" id="8325424">error</span><span class="op" id="8325429">)</span>&nbsp;<span class="op" id="8325431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325434">return</span>&nbsp;<span class="op" id="8325441">[</span><span class="op" id="8325442">]</span><span class="builtintype" id="8325443">byte</span><span class="op" id="8325447">{</span><span class="op" id="8325448">}</span><span class="op" id="8325449">,</span>&nbsp;<span class="ident" id="8325451">nil</span><br>
<span class="lineno"></span><span class="op" id="8325455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325458">func</span>&nbsp;<span class="op" id="8325463">(</span><span class="ident" id="8325464">i</span>&nbsp;<span class="op" id="8325466">*</span><span class="ident" id="8325467"><a href="/encoding/gob/gobencdec_test.go.html#8325325">isZeroBugInterface</a></span><span class="op" id="8325485">)</span>&nbsp;<span class="ident" id="8325487">GobDecode</span><span class="op" id="8325496">(</span><span class="ident" id="8325497">data</span>&nbsp;<span class="op" id="8325502">[</span><span class="op" id="8325503">]</span><span class="builtintype" id="8325504">byte</span><span class="op" id="8325508">)</span>&nbsp;<span class="builtintype" id="8325510">error</span>&nbsp;<span class="op" id="8325516">{</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325519">return</span>&nbsp;<span class="ident" id="8325526">nil</span><br>
<span class="lineno"></span><span class="op" id="8325530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325533">func</span>&nbsp;<span class="ident" id="8325538">TestGobEncodeIsZero</span><span class="op" id="8325557">(</span><span class="ident" id="8325558">t</span>&nbsp;<span class="op" id="8325560">*</span><span class="ident" id="8325561"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8325568">.</span><span class="ident" id="8325569">T</span><span class="op" id="8325570">)</span>&nbsp;<span class="op" id="8325572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325575">x</span>&nbsp;<span class="op" id="8325577">:=</span>&nbsp;<span class="ident" id="8325580"><a href="/encoding/gob/gobencdec_test.go.html#8324890">isZeroBug</a></span><span class="op" id="8325589">{</span><span class="ident" id="8325590"><a href="/encoding/gob/gobencdec_test.go.html#8308129">time</a></span><span class="op" id="8325594">.</span><span class="ident" id="8325595">Now</span><span class="op" id="8325598">(</span><span class="op" id="8325599">)</span><span class="op" id="8325600">,</span>&nbsp;<span class="string" id="8325602">&#34;hello&#34;</span><span class="op" id="8325609">,</span>&nbsp;<span class="op" id="8325611">-</span><span class="num" id="8325612">55</span><span class="op" id="8325614">,</span>&nbsp;<span class="ident" id="8325616"><a href="/encoding/gob/gobencdec_test.go.html#8324987">isZeroBugArray</a></span><span class="op" id="8325630">{</span><span class="num" id="8325631">1</span><span class="op" id="8325632">,</span>&nbsp;<span class="num" id="8325634">2</span><span class="op" id="8325635">}</span><span class="op" id="8325636">,</span>&nbsp;<span class="ident" id="8325638"><a href="/encoding/gob/gobencdec_test.go.html#8325325">isZeroBugInterface</a></span><span class="op" id="8325656">{</span><span class="op" id="8325657">}</span><span class="op" id="8325658">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325661">b</span>&nbsp;<span class="op" id="8325663">:=</span>&nbsp;<span class="builtinfunc" id="8325666">new</span><span class="op" id="8325669">(</span><span class="ident" id="8325670"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8325675">.</span><span class="ident" id="8325676">Buffer</span><span class="op" id="8325682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325685">enc</span>&nbsp;<span class="op" id="8325689">:=</span>&nbsp;<span class="ident" id="8325692"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8325702">(</span><span class="ident" id="8325703"><a href="/encoding/gob/gobencdec_test.go.html#8325661">b</a></span><span class="op" id="8325704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325707">err</span>&nbsp;<span class="op" id="8325711">:=</span>&nbsp;<span class="ident" id="8325714"><a href="/encoding/gob/gobencdec_test.go.html#8325685">enc</a></span><span class="op" id="8325717">.</span><span class="ident" id="8325718">Encode</span><span class="op" id="8325724">(</span><span class="ident" id="8325725"><a href="/encoding/gob/gobencdec_test.go.html#8325575">x</a></span><span class="op" id="8325726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325729">if</span>&nbsp;<span class="ident" id="8325732"><a href="/encoding/gob/gobencdec_test.go.html#8325707">err</a></span>&nbsp;<span class="op" id="8325736">!=</span>&nbsp;<span class="ident" id="8325739">nil</span>&nbsp;<span class="op" id="8325743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325747"><a href="/encoding/gob/gobencdec_test.go.html#8325558">t</a></span><span class="op" id="8325748">.</span><span class="ident" id="8325749">Fatal</span><span class="op" id="8325754">(</span><span class="string" id="8325755">&#34;encode:&#34;</span><span class="op" id="8325764">,</span>&nbsp;<span class="ident" id="8325766"><a href="/encoding/gob/gobencdec_test.go.html#8325707">err</a></span><span class="op" id="8325769">)</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8325772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325775">var</span>&nbsp;<span class="ident" id="8325779">y</span>&nbsp;<span class="ident" id="8325781"><a href="/encoding/gob/gobencdec_test.go.html#8324890">isZeroBug</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325792">dec</span>&nbsp;<span class="op" id="8325796">:=</span>&nbsp;<span class="ident" id="8325799"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8325809">(</span><span class="ident" id="8325810"><a href="/encoding/gob/gobencdec_test.go.html#8325661">b</a></span><span class="op" id="8325811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325814"><a href="/encoding/gob/gobencdec_test.go.html#8325707">err</a></span>&nbsp;<span class="op" id="8325818">=</span>&nbsp;<span class="ident" id="8325820"><a href="/encoding/gob/gobencdec_test.go.html#8325792">dec</a></span><span class="op" id="8325823">.</span><span class="ident" id="8325824">Decode</span><span class="op" id="8325830">(</span><span class="op" id="8325831">&amp;</span><span class="ident" id="8325832"><a href="/encoding/gob/gobencdec_test.go.html#8325779">y</a></span><span class="op" id="8325833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325836">if</span>&nbsp;<span class="ident" id="8325839"><a href="/encoding/gob/gobencdec_test.go.html#8325707">err</a></span>&nbsp;<span class="op" id="8325843">!=</span>&nbsp;<span class="ident" id="8325846">nil</span>&nbsp;<span class="op" id="8325850">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325854"><a href="/encoding/gob/gobencdec_test.go.html#8325558">t</a></span><span class="op" id="8325855">.</span><span class="ident" id="8325856">Fatal</span><span class="op" id="8325861">(</span><span class="string" id="8325862">&#34;decode:&#34;</span><span class="op" id="8325871">,</span>&nbsp;<span class="ident" id="8325873"><a href="/encoding/gob/gobencdec_test.go.html#8325707">err</a></span><span class="op" id="8325876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8325879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325882">if</span>&nbsp;<span class="ident" id="8325885"><a href="/encoding/gob/gobencdec_test.go.html#8325575">x</a></span>&nbsp;<span class="op" id="8325887">!=</span>&nbsp;<span class="ident" id="8325890"><a href="/encoding/gob/gobencdec_test.go.html#8325779">y</a></span>&nbsp;<span class="op" id="8325892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325896"><a href="/encoding/gob/gobencdec_test.go.html#8325558">t</a></span><span class="op" id="8325897">.</span><span class="ident" id="8325898">Fatalf</span><span class="op" id="8325904">(</span><span class="string" id="8325905">&#34;%v&nbsp;!=&nbsp;%v&#34;</span><span class="op" id="8325915">,</span>&nbsp;<span class="ident" id="8325917"><a href="/encoding/gob/gobencdec_test.go.html#8325575">x</a></span><span class="op" id="8325918">,</span>&nbsp;<span class="ident" id="8325920"><a href="/encoding/gob/gobencdec_test.go.html#8325779">y</a></span><span class="op" id="8325921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8325924">}</span><br>
<span class="lineno">765</span><span class="op" id="8325926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325929">func</span>&nbsp;<span class="ident" id="8325934">TestGobEncodePtrError</span><span class="op" id="8325955">(</span><span class="ident" id="8325956">t</span>&nbsp;<span class="op" id="8325958">*</span><span class="ident" id="8325959"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8325966">.</span><span class="ident" id="8325967">T</span><span class="op" id="8325968">)</span>&nbsp;<span class="op" id="8325970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325973">var</span>&nbsp;<span class="ident" id="8325977">err</span>&nbsp;<span class="builtintype" id="8325981">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325988">b</span>&nbsp;<span class="op" id="8325990">:=</span>&nbsp;<span class="builtinfunc" id="8325993">new</span><span class="op" id="8325996">(</span><span class="ident" id="8325997"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8326002">.</span><span class="ident" id="8326003">Buffer</span><span class="op" id="8326009">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326012">enc</span>&nbsp;<span class="op" id="8326016">:=</span>&nbsp;<span class="ident" id="8326019"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8326029">(</span><span class="ident" id="8326030"><a href="/encoding/gob/gobencdec_test.go.html#8325988">b</a></span><span class="op" id="8326031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326034"><a href="/encoding/gob/gobencdec_test.go.html#8325977">err</a></span>&nbsp;<span class="op" id="8326038">=</span>&nbsp;<span class="ident" id="8326040"><a href="/encoding/gob/gobencdec_test.go.html#8326012">enc</a></span><span class="op" id="8326043">.</span><span class="ident" id="8326044">Encode</span><span class="op" id="8326050">(</span><span class="op" id="8326051">&amp;</span><span class="ident" id="8326052"><a href="/encoding/gob/gobencdec_test.go.html#8325977">err</a></span><span class="op" id="8326055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326058">if</span>&nbsp;<span class="ident" id="8326061"><a href="/encoding/gob/gobencdec_test.go.html#8325977">err</a></span>&nbsp;<span class="op" id="8326065">!=</span>&nbsp;<span class="ident" id="8326068">nil</span>&nbsp;<span class="op" id="8326072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326076"><a href="/encoding/gob/gobencdec_test.go.html#8325956">t</a></span><span class="op" id="8326077">.</span><span class="ident" id="8326078">Fatal</span><span class="op" id="8326083">(</span><span class="string" id="8326084">&#34;encode:&#34;</span><span class="op" id="8326093">,</span>&nbsp;<span class="ident" id="8326095"><a href="/encoding/gob/gobencdec_test.go.html#8325977">err</a></span><span class="op" id="8326098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8326101">}</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326104">dec</span>&nbsp;<span class="op" id="8326108">:=</span>&nbsp;<span class="ident" id="8326111"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8326121">(</span><span class="ident" id="8326122"><a href="/encoding/gob/gobencdec_test.go.html#8325988">b</a></span><span class="op" id="8326123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326126">err2</span>&nbsp;<span class="op" id="8326131">:=</span>&nbsp;<span class="ident" id="8326134"><a href="/encoding/gob/gobencdec_test.go.html#8308087">fmt</a></span><span class="op" id="8326137">.</span><span class="ident" id="8326138">Errorf</span><span class="op" id="8326144">(</span><span class="string" id="8326145">&#34;foo&#34;</span><span class="op" id="8326150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326153"><a href="/encoding/gob/gobencdec_test.go.html#8325977">err</a></span>&nbsp;<span class="op" id="8326157">=</span>&nbsp;<span class="ident" id="8326159"><a href="/encoding/gob/gobencdec_test.go.html#8326104">dec</a></span><span class="op" id="8326162">.</span><span class="ident" id="8326163">Decode</span><span class="op" id="8326169">(</span><span class="op" id="8326170">&amp;</span><span class="ident" id="8326171"><a href="/encoding/gob/gobencdec_test.go.html#8326126">err2</a></span><span class="op" id="8326175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326178">if</span>&nbsp;<span class="ident" id="8326181"><a href="/encoding/gob/gobencdec_test.go.html#8325977">err</a></span>&nbsp;<span class="op" id="8326185">!=</span>&nbsp;<span class="ident" id="8326188">nil</span>&nbsp;<span class="op" id="8326192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326196"><a href="/encoding/gob/gobencdec_test.go.html#8325956">t</a></span><span class="op" id="8326197">.</span><span class="ident" id="8326198">Fatal</span><span class="op" id="8326203">(</span><span class="string" id="8326204">&#34;decode:&#34;</span><span class="op" id="8326213">,</span>&nbsp;<span class="ident" id="8326215"><a href="/encoding/gob/gobencdec_test.go.html#8325977">err</a></span><span class="op" id="8326218">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8326221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326224">if</span>&nbsp;<span class="ident" id="8326227"><a href="/encoding/gob/gobencdec_test.go.html#8326126">err2</a></span>&nbsp;<span class="op" id="8326232">!=</span>&nbsp;<span class="ident" id="8326235">nil</span>&nbsp;<span class="op" id="8326239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326243"><a href="/encoding/gob/gobencdec_test.go.html#8325956">t</a></span><span class="op" id="8326244">.</span><span class="ident" id="8326245">Fatalf</span><span class="op" id="8326251">(</span><span class="string" id="8326252">&#34;expected&nbsp;nil,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8326274">,</span>&nbsp;<span class="ident" id="8326276"><a href="/encoding/gob/gobencdec_test.go.html#8326126">err2</a></span><span class="op" id="8326280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8326283">}</span><br>
<span class="lineno"></span><span class="op" id="8326285">}</span><br>
<span class="lineno">785</span><br>
<span class="lineno"></span><span class="keyword" id="8326288">func</span>&nbsp;<span class="ident" id="8326293">TestNetIP</span><span class="op" id="8326302">(</span><span class="ident" id="8326303">t</span>&nbsp;<span class="op" id="8326305">*</span><span class="ident" id="8326306"><a href="/encoding/gob/gobencdec_test.go.html#8308118">testing</a></span><span class="op" id="8326313">.</span><span class="ident" id="8326314">T</span><span class="op" id="8326315">)</span>&nbsp;<span class="op" id="8326317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8326320">//&nbsp;Encoding&nbsp;of&nbsp;net.IP{1,2,3,4}&nbsp;in&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326363">enc</span>&nbsp;<span class="op" id="8326367">:=</span>&nbsp;<span class="op" id="8326370">[</span><span class="op" id="8326371">]</span><span class="builtintype" id="8326372">byte</span><span class="op" id="8326376">{</span><span class="num" id="8326377">0x07</span><span class="op" id="8326381">,</span>&nbsp;<span class="num" id="8326383">0x0a</span><span class="op" id="8326387">,</span>&nbsp;<span class="num" id="8326389">0x00</span><span class="op" id="8326393">,</span>&nbsp;<span class="num" id="8326395">0x04</span><span class="op" id="8326399">,</span>&nbsp;<span class="num" id="8326401">0x01</span><span class="op" id="8326405">,</span>&nbsp;<span class="num" id="8326407">0x02</span><span class="op" id="8326411">,</span>&nbsp;<span class="num" id="8326413">0x03</span><span class="op" id="8326417">,</span>&nbsp;<span class="num" id="8326419">0x04</span><span class="op" id="8326423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326427">var</span>&nbsp;<span class="ident" id="8326431">ip</span>&nbsp;<span class="ident" id="8326434"><a href="/encoding/gob/gobencdec_test.go.html#8308100">net</a></span><span class="op" id="8326437">.</span><span class="ident" id="8326438">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326442">err</span>&nbsp;<span class="op" id="8326446">:=</span>&nbsp;<span class="ident" id="8326449"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8326459">(</span><span class="ident" id="8326460"><a href="/encoding/gob/gobencdec_test.go.html#8308068">bytes</a></span><span class="op" id="8326465">.</span><span class="ident" id="8326466">NewReader</span><span class="op" id="8326475">(</span><span class="ident" id="8326476"><a href="/encoding/gob/gobencdec_test.go.html#8326363">enc</a></span><span class="op" id="8326479">)</span><span class="op" id="8326480">)</span><span class="op" id="8326481">.</span><span class="ident" id="8326482">Decode</span><span class="op" id="8326488">(</span><span class="op" id="8326489">&amp;</span><span class="ident" id="8326490"><a href="/encoding/gob/gobencdec_test.go.html#8326431">ip</a></span><span class="op" id="8326492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326495">if</span>&nbsp;<span class="ident" id="8326498"><a href="/encoding/gob/gobencdec_test.go.html#8326442">err</a></span>&nbsp;<span class="op" id="8326502">!=</span>&nbsp;<span class="ident" id="8326505">nil</span>&nbsp;<span class="op" id="8326509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326513"><a href="/encoding/gob/gobencdec_test.go.html#8326303">t</a></span><span class="op" id="8326514">.</span><span class="ident" id="8326515">Fatalf</span><span class="op" id="8326521">(</span><span class="string" id="8326522">&#34;decode:&nbsp;%v&#34;</span><span class="op" id="8326534">,</span>&nbsp;<span class="ident" id="8326536"><a href="/encoding/gob/gobencdec_test.go.html#8326442">err</a></span><span class="op" id="8326539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8326542">}</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326545">if</span>&nbsp;<span class="ident" id="8326548"><a href="/encoding/gob/gobencdec_test.go.html#8326431">ip</a></span><span class="op" id="8326550">.</span><span class="ident" id="8326551">String</span><span class="op" id="8326557">(</span><span class="op" id="8326558">)</span>&nbsp;<span class="op" id="8326560">!=</span>&nbsp;<span class="string" id="8326563">&#34;1.2.3.4&#34;</span>&nbsp;<span class="op" id="8326573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326577"><a href="/encoding/gob/gobencdec_test.go.html#8326303">t</a></span><span class="op" id="8326578">.</span><span class="ident" id="8326579">Errorf</span><span class="op" id="8326585">(</span><span class="string" id="8326586">&#34;decoded&nbsp;to&nbsp;%v,&nbsp;want&nbsp;1.2.3.4&#34;</span><span class="op" id="8326615">,</span>&nbsp;<span class="ident" id="8326617"><a href="/encoding/gob/gobencdec_test.go.html#8326431">ip</a></span><span class="op" id="8326619">.</span><span class="ident" id="8326620">String</span><span class="op" id="8326626">(</span><span class="op" id="8326627">)</span><span class="op" id="8326628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8326631">}</span><br>
<span class="lineno"></span><span class="op" id="8326633">}</span>
</div>
</body>
</html>
