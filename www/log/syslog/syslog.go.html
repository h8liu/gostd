<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5672795">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5672850">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5672904">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5672955">//&nbsp;+build&nbsp;!windows,!nacl,!plan9</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5672988">//&nbsp;Package&nbsp;syslog&nbsp;provides&nbsp;a&nbsp;simple&nbsp;interface&nbsp;to&nbsp;the&nbsp;system&nbsp;log</span><br>
<span class="lineno"></span><span class="comment" id="5673052">//&nbsp;service.&nbsp;It&nbsp;can&nbsp;send&nbsp;messages&nbsp;to&nbsp;the&nbsp;syslog&nbsp;daemon&nbsp;using&nbsp;UNIX</span><br>
<span class="lineno"></span><span class="comment" id="5673117">//&nbsp;domain&nbsp;sockets,&nbsp;UDP&nbsp;or&nbsp;TCP.</span><br>
<span class="lineno">10</span><span class="comment" id="5673148">//</span><br>
<span class="lineno"></span><span class="comment" id="5673151">//&nbsp;Only&nbsp;one&nbsp;call&nbsp;to&nbsp;Dial&nbsp;is&nbsp;necessary.&nbsp;On&nbsp;write&nbsp;failures,</span><br>
<span class="lineno"></span><span class="comment" id="5673209">//&nbsp;the&nbsp;syslog&nbsp;client&nbsp;will&nbsp;attempt&nbsp;to&nbsp;reconnect&nbsp;to&nbsp;the&nbsp;server</span><br>
<span class="lineno"></span><span class="comment" id="5673270">//&nbsp;and&nbsp;write&nbsp;again.</span><br>
<span class="lineno"></span><span class="keyword" id="5673290">package</span>&nbsp;<span class="ident" id="5673298">syslog</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="5673306">import</span>&nbsp;<span class="op" id="5673313">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5673316">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5673326">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5673333">&#34;log&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5673340">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5673347">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5673353">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5673364">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5673372">&#34;time&#34;</span><br>
<span class="lineno">25</span><span class="op" id="5673379">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5673382">//&nbsp;The&nbsp;Priority&nbsp;is&nbsp;a&nbsp;combination&nbsp;of&nbsp;the&nbsp;syslog&nbsp;facility&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="5673442">//&nbsp;severity.&nbsp;For&nbsp;example,&nbsp;LOG_ALERT&nbsp;|&nbsp;LOG_FTP&nbsp;sends&nbsp;an&nbsp;alert&nbsp;severity</span><br>
<span class="lineno"></span><span class="comment" id="5673512">//&nbsp;message&nbsp;from&nbsp;the&nbsp;FTP&nbsp;facility.&nbsp;The&nbsp;default&nbsp;severity&nbsp;is&nbsp;LOG_EMERG;</span><br>
<span class="lineno">30</span><span class="comment" id="5673581">//&nbsp;the&nbsp;default&nbsp;facility&nbsp;is&nbsp;LOG_KERN.</span><br>
<span class="lineno"></span><span class="keyword" id="5673618">type</span>&nbsp;<span class="ident" id="5673623">Priority</span>&nbsp;<span class="builtintype" id="5673632">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5673637">const</span>&nbsp;<span class="ident" id="5673643">severityMask</span>&nbsp;<span class="op" id="5673656">=</span>&nbsp;<span class="num" id="5673658">0x07</span><br>
<span class="lineno"></span><span class="keyword" id="5673663">const</span>&nbsp;<span class="ident" id="5673669">facilityMask</span>&nbsp;<span class="op" id="5673682">=</span>&nbsp;<span class="num" id="5673684">0xf8</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="5673690">const</span>&nbsp;<span class="op" id="5673696">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5673699">//&nbsp;Severity.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5673714">//&nbsp;From&nbsp;/usr/include/sys/syslog.h.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5673750">//&nbsp;These&nbsp;are&nbsp;the&nbsp;same&nbsp;on&nbsp;Linux,&nbsp;BSD,&nbsp;and&nbsp;OS&nbsp;X.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5673798">LOG_EMERG</span>&nbsp;<span class="ident" id="5673808"><a href="/log/syslog/syslog.go.html#5673623">Priority</a></span>&nbsp;<span class="op" id="5673817">=</span>&nbsp;<span class="ident" id="5673819">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5673825">LOG_ALERT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5673836">LOG_CRIT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5673846">LOG_ERR</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5673855">LOG_WARNING</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5673868">LOG_NOTICE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5673880">LOG_INFO</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5673890">LOG_DEBUG</span><br>
<span class="lineno"></span><span class="op" id="5673900">)</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5673903">const</span>&nbsp;<span class="op" id="5673909">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5673912">//&nbsp;Facility.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5673927">//&nbsp;From&nbsp;/usr/include/sys/syslog.h.</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5673963">//&nbsp;These&nbsp;are&nbsp;the&nbsp;same&nbsp;up&nbsp;to&nbsp;LOG_FTP&nbsp;on&nbsp;Linux,&nbsp;BSD,&nbsp;and&nbsp;OS&nbsp;X.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674025">LOG_KERN</span>&nbsp;<span class="ident" id="5674034"><a href="/log/syslog/syslog.go.html#5673623">Priority</a></span>&nbsp;<span class="op" id="5674043">=</span>&nbsp;<span class="ident" id="5674045">iota</span>&nbsp;<span class="op" id="5674050">&lt;&lt;</span>&nbsp;<span class="num" id="5674053">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674056">LOG_USER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674066">LOG_MAIL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674076">LOG_DAEMON</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674088">LOG_AUTH</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674098">LOG_SYSLOG</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674110">LOG_LPR</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674119">LOG_NEWS</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674129">LOG_UUCP</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674139">LOG_CRON</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674149">LOG_AUTHPRIV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674163">LOG_FTP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674172">_</span>&nbsp;<span class="comment" id="5674174">//&nbsp;unused</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674185">_</span>&nbsp;<span class="comment" id="5674187">//&nbsp;unused</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674198">_</span>&nbsp;<span class="comment" id="5674200">//&nbsp;unused</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674211">_</span>&nbsp;<span class="comment" id="5674213">//&nbsp;unused</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674224">LOG_LOCAL0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674236">LOG_LOCAL1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674248">LOG_LOCAL2</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674260">LOG_LOCAL3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674272">LOG_LOCAL4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674284">LOG_LOCAL5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674296">LOG_LOCAL6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674308">LOG_LOCAL7</span><br>
<span class="lineno">80</span><span class="op" id="5674319">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5674322">//&nbsp;A&nbsp;Writer&nbsp;is&nbsp;a&nbsp;connection&nbsp;to&nbsp;a&nbsp;syslog&nbsp;server.</span><br>
<span class="lineno"></span><span class="keyword" id="5674370">type</span>&nbsp;<span class="ident" id="5674375">Writer</span>&nbsp;<span class="keyword" id="5674382">struct</span>&nbsp;<span class="op" id="5674389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674392">priority</span>&nbsp;<span class="ident" id="5674401"><a href="/log/syslog/syslog.go.html#5673623">Priority</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674411">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5674420">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674428">hostname</span>&nbsp;<span class="builtintype" id="5674437">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674445">network</span>&nbsp;&nbsp;<span class="builtintype" id="5674454">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674462">raddr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5674471">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674480">mu</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5674485"><a href="/log/syslog/syslog.go.html#5673364">sync</a></span><span class="op" id="5674489">.</span><span class="ident" id="5674490">Mutex</span>&nbsp;<span class="comment" id="5674496">//&nbsp;guards&nbsp;conn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674512">conn</span>&nbsp;<span class="ident" id="5674517"><a href="/log/syslog/syslog.go.html#5674903">serverConn</a></span><br>
<span class="lineno"></span><span class="op" id="5674528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5674531">//&nbsp;This&nbsp;interface&nbsp;and&nbsp;the&nbsp;separate&nbsp;syslog_unix.go&nbsp;file&nbsp;exist&nbsp;for</span><br>
<span class="lineno">95</span><span class="comment" id="5674596">//&nbsp;Solaris&nbsp;support&nbsp;as&nbsp;implemented&nbsp;by&nbsp;gccgo.&nbsp;&nbsp;On&nbsp;Solaris&nbsp;you&nbsp;can&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="5674664">//&nbsp;simply&nbsp;open&nbsp;a&nbsp;TCP&nbsp;connection&nbsp;to&nbsp;the&nbsp;syslog&nbsp;daemon.&nbsp;&nbsp;The&nbsp;gccgo</span><br>
<span class="lineno"></span><span class="comment" id="5674729">//&nbsp;sources&nbsp;have&nbsp;a&nbsp;syslog_solaris.go&nbsp;file&nbsp;that&nbsp;implements&nbsp;unixSyslog&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5674800">//&nbsp;return&nbsp;a&nbsp;type&nbsp;that&nbsp;satisfies&nbsp;this&nbsp;interface&nbsp;and&nbsp;simply&nbsp;calls&nbsp;the&nbsp;C</span><br>
<span class="lineno"></span><span class="comment" id="5674870">//&nbsp;library&nbsp;syslog&nbsp;function.</span><br>
<span class="lineno">100</span><span class="keyword" id="5674898">type</span>&nbsp;<span class="ident" id="5674903">serverConn</span>&nbsp;<span class="keyword" id="5674914">interface</span>&nbsp;<span class="op" id="5674924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674927">writeString</span><span class="op" id="5674938">(</span><span class="ident" id="5674939">p</span>&nbsp;<span class="ident" id="5674941"><a href="/log/syslog/syslog.go.html#5673623">Priority</a></span><span class="op" id="5674949">,</span>&nbsp;<span class="ident" id="5674951">hostname</span><span class="op" id="5674959">,</span>&nbsp;<span class="ident" id="5674961">tag</span><span class="op" id="5674964">,</span>&nbsp;<span class="ident" id="5674966">s</span><span class="op" id="5674967">,</span>&nbsp;<span class="ident" id="5674969">nl</span>&nbsp;<span class="builtintype" id="5674972">string</span><span class="op" id="5674978">)</span>&nbsp;<span class="builtintype" id="5674980">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5674987">close</span><span class="op" id="5674992">(</span><span class="op" id="5674993">)</span>&nbsp;<span class="builtintype" id="5674995">error</span><br>
<span class="lineno"></span><span class="op" id="5675001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5675004">type</span>&nbsp;<span class="ident" id="5675009">netConn</span>&nbsp;<span class="keyword" id="5675017">struct</span>&nbsp;<span class="op" id="5675024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675027">local</span>&nbsp;<span class="builtintype" id="5675033">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675039">conn</span>&nbsp;&nbsp;<span class="ident" id="5675045"><a href="/log/syslog/syslog.go.html#5673340">net</a></span><span class="op" id="5675048">.</span><span class="ident" id="5675049">Conn</span><br>
<span class="lineno"></span><span class="op" id="5675054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="5675057">//&nbsp;New&nbsp;establishes&nbsp;a&nbsp;new&nbsp;connection&nbsp;to&nbsp;the&nbsp;system&nbsp;log&nbsp;daemon.&nbsp;&nbsp;Each</span><br>
<span class="lineno"></span><span class="comment" id="5675125">//&nbsp;write&nbsp;to&nbsp;the&nbsp;returned&nbsp;writer&nbsp;sends&nbsp;a&nbsp;log&nbsp;message&nbsp;with&nbsp;the&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="5675192">//&nbsp;priority&nbsp;and&nbsp;prefix.</span><br>
<span class="lineno"></span><span class="keyword" id="5675216">func</span>&nbsp;<span class="ident" id="5675221">New</span><span class="op" id="5675224">(</span><span class="ident" id="5675225">priority</span>&nbsp;<span class="ident" id="5675234"><a href="/log/syslog/syslog.go.html#5673623">Priority</a></span><span class="op" id="5675242">,</span>&nbsp;<span class="ident" id="5675244">tag</span>&nbsp;<span class="builtintype" id="5675248">string</span><span class="op" id="5675254">)</span>&nbsp;<span class="op" id="5675256">(</span><span class="ident" id="5675257">w</span>&nbsp;<span class="op" id="5675259">*</span><span class="ident" id="5675260"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5675266">,</span>&nbsp;<span class="ident" id="5675268">err</span>&nbsp;<span class="builtintype" id="5675272">error</span><span class="op" id="5675277">)</span>&nbsp;<span class="op" id="5675279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675282">return</span>&nbsp;<span class="ident" id="5675289"><a href="/log/syslog/syslog.go.html#5675608">Dial</a></span><span class="op" id="5675293">(</span><span class="string" id="5675294">&#34;&#34;</span><span class="op" id="5675296">,</span>&nbsp;<span class="string" id="5675298">&#34;&#34;</span><span class="op" id="5675300">,</span>&nbsp;<span class="ident" id="5675302"><a href="/log/syslog/syslog.go.html#5675225">priority</a></span><span class="op" id="5675310">,</span>&nbsp;<span class="ident" id="5675312"><a href="/log/syslog/syslog.go.html#5675244">tag</a></span><span class="op" id="5675315">)</span><br>
<span class="lineno">115</span><span class="op" id="5675317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5675320">//&nbsp;Dial&nbsp;establishes&nbsp;a&nbsp;connection&nbsp;to&nbsp;a&nbsp;log&nbsp;daemon&nbsp;by&nbsp;connecting&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5675386">//&nbsp;address&nbsp;raddr&nbsp;on&nbsp;the&nbsp;specified&nbsp;network.&nbsp;&nbsp;Each&nbsp;write&nbsp;to&nbsp;the&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="5675457">//&nbsp;writer&nbsp;sends&nbsp;a&nbsp;log&nbsp;message&nbsp;with&nbsp;the&nbsp;given&nbsp;facility,&nbsp;severity&nbsp;and</span><br>
<span class="lineno">120</span><span class="comment" id="5675525">//&nbsp;tag.</span><br>
<span class="lineno"></span><span class="comment" id="5675533">//&nbsp;If&nbsp;network&nbsp;is&nbsp;empty,&nbsp;Dial&nbsp;will&nbsp;connect&nbsp;to&nbsp;the&nbsp;local&nbsp;syslog&nbsp;server.</span><br>
<span class="lineno"></span><span class="keyword" id="5675603">func</span>&nbsp;<span class="ident" id="5675608">Dial</span><span class="op" id="5675612">(</span><span class="ident" id="5675613">network</span><span class="op" id="5675620">,</span>&nbsp;<span class="ident" id="5675622">raddr</span>&nbsp;<span class="builtintype" id="5675628">string</span><span class="op" id="5675634">,</span>&nbsp;<span class="ident" id="5675636">priority</span>&nbsp;<span class="ident" id="5675645"><a href="/log/syslog/syslog.go.html#5673623">Priority</a></span><span class="op" id="5675653">,</span>&nbsp;<span class="ident" id="5675655">tag</span>&nbsp;<span class="builtintype" id="5675659">string</span><span class="op" id="5675665">)</span>&nbsp;<span class="op" id="5675667">(</span><span class="op" id="5675668">*</span><span class="ident" id="5675669"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5675675">,</span>&nbsp;<span class="builtintype" id="5675677">error</span><span class="op" id="5675682">)</span>&nbsp;<span class="op" id="5675684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675687">if</span>&nbsp;<span class="ident" id="5675690"><a href="/log/syslog/syslog.go.html#5675636">priority</a></span>&nbsp;<span class="op" id="5675699">&lt;</span>&nbsp;<span class="num" id="5675701">0</span>&nbsp;<span class="op" id="5675703">||</span>&nbsp;<span class="ident" id="5675706"><a href="/log/syslog/syslog.go.html#5675636">priority</a></span>&nbsp;<span class="op" id="5675715">&gt;</span>&nbsp;<span class="ident" id="5675717"><a href="/log/syslog/syslog.go.html#5674308">LOG_LOCAL7</a></span><span class="op" id="5675727">|</span><span class="ident" id="5675728"><a href="/log/syslog/syslog.go.html#5673890">LOG_DEBUG</a></span>&nbsp;<span class="op" id="5675738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675742">return</span>&nbsp;<span class="ident" id="5675749">nil</span><span class="op" id="5675752">,</span>&nbsp;<span class="ident" id="5675754"><a href="/log/syslog/syslog.go.html#5673316">errors</a></span><span class="op" id="5675760">.</span><span class="ident" id="5675761">New</span><span class="op" id="5675764">(</span><span class="string" id="5675765">&#34;log/syslog:&nbsp;invalid&nbsp;priority&#34;</span><span class="op" id="5675795">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675802">if</span>&nbsp;<span class="ident" id="5675805"><a href="/log/syslog/syslog.go.html#5675655">tag</a></span>&nbsp;<span class="op" id="5675809">==</span>&nbsp;<span class="string" id="5675812">&#34;&#34;</span>&nbsp;<span class="op" id="5675815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675819"><a href="/log/syslog/syslog.go.html#5675655">tag</a></span>&nbsp;<span class="op" id="5675823">=</span>&nbsp;<span class="ident" id="5675825"><a href="/log/syslog/syslog.go.html#5673347">os</a></span><span class="op" id="5675827">.</span><span class="ident" id="5675828">Args</span><span class="op" id="5675832">[</span><span class="num" id="5675833">0</span><span class="op" id="5675834">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675837">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675840">hostname</span><span class="op" id="5675848">,</span>&nbsp;<span class="ident" id="5675850">_</span>&nbsp;<span class="op" id="5675852">:=</span>&nbsp;<span class="ident" id="5675855"><a href="/log/syslog/syslog.go.html#5673347">os</a></span><span class="op" id="5675857">.</span><span class="ident" id="5675858">Hostname</span><span class="op" id="5675866">(</span><span class="op" id="5675867">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675871">w</span>&nbsp;<span class="op" id="5675873">:=</span>&nbsp;<span class="op" id="5675876">&amp;</span><span class="ident" id="5675877"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5675883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675887">priority</span><span class="op" id="5675895">:</span>&nbsp;<span class="ident" id="5675897"><a href="/log/syslog/syslog.go.html#5675636">priority</a></span><span class="op" id="5675905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675909">tag</span><span class="op" id="5675912">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5675919"><a href="/log/syslog/syslog.go.html#5675655">tag</a></span><span class="op" id="5675922">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675926">hostname</span><span class="op" id="5675934">:</span>&nbsp;<span class="ident" id="5675936"><a href="/log/syslog/syslog.go.html#5675840">hostname</a></span><span class="op" id="5675944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675948">network</span><span class="op" id="5675955">:</span>&nbsp;&nbsp;<span class="ident" id="5675958"><a href="/log/syslog/syslog.go.html#5675613">network</a></span><span class="op" id="5675965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675969">raddr</span><span class="op" id="5675974">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5675979"><a href="/log/syslog/syslog.go.html#5675622">raddr</a></span><span class="op" id="5675984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675991"><a href="/log/syslog/syslog.go.html#5675871">w</a></span><span class="op" id="5675992">.</span><span class="ident" id="5675993">mu</span><span class="op" id="5675995">.</span><span class="ident" id="5675996">Lock</span><span class="op" id="5676000">(</span><span class="op" id="5676001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676004">defer</span>&nbsp;<span class="ident" id="5676010"><a href="/log/syslog/syslog.go.html#5675871">w</a></span><span class="op" id="5676011">.</span><span class="ident" id="5676012">mu</span><span class="op" id="5676014">.</span><span class="ident" id="5676015">Unlock</span><span class="op" id="5676021">(</span><span class="op" id="5676022">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676026">err</span>&nbsp;<span class="op" id="5676030">:=</span>&nbsp;<span class="ident" id="5676033"><a href="/log/syslog/syslog.go.html#5675871">w</a></span><span class="op" id="5676034">.</span><span class="ident" id="5676035">connect</span><span class="op" id="5676042">(</span><span class="op" id="5676043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676046">if</span>&nbsp;<span class="ident" id="5676049"><a href="/log/syslog/syslog.go.html#5676026">err</a></span>&nbsp;<span class="op" id="5676053">!=</span>&nbsp;<span class="ident" id="5676056">nil</span>&nbsp;<span class="op" id="5676060">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676064">return</span>&nbsp;<span class="ident" id="5676071">nil</span><span class="op" id="5676074">,</span>&nbsp;<span class="ident" id="5676076"><a href="/log/syslog/syslog.go.html#5676026">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676084">return</span>&nbsp;<span class="ident" id="5676091"><a href="/log/syslog/syslog.go.html#5675871">w</a></span><span class="op" id="5676092">,</span>&nbsp;<span class="ident" id="5676094"><a href="/log/syslog/syslog.go.html#5676026">err</a></span><br>
<span class="lineno"></span><span class="op" id="5676098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="comment" id="5676101">//&nbsp;connect&nbsp;makes&nbsp;a&nbsp;connection&nbsp;to&nbsp;the&nbsp;syslog&nbsp;server.</span><br>
<span class="lineno"></span><span class="comment" id="5676153">//&nbsp;It&nbsp;must&nbsp;be&nbsp;called&nbsp;with&nbsp;w.mu&nbsp;held.</span><br>
<span class="lineno"></span><span class="keyword" id="5676190">func</span>&nbsp;<span class="op" id="5676195">(</span><span class="ident" id="5676196">w</span>&nbsp;<span class="op" id="5676198">*</span><span class="ident" id="5676199"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5676205">)</span>&nbsp;<span class="ident" id="5676207">connect</span><span class="op" id="5676214">(</span><span class="op" id="5676215">)</span>&nbsp;<span class="op" id="5676217">(</span><span class="ident" id="5676218">err</span>&nbsp;<span class="builtintype" id="5676222">error</span><span class="op" id="5676227">)</span>&nbsp;<span class="op" id="5676229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676232">if</span>&nbsp;<span class="ident" id="5676235"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676236">.</span><span class="ident" id="5676237">conn</span>&nbsp;<span class="op" id="5676242">!=</span>&nbsp;<span class="ident" id="5676245">nil</span>&nbsp;<span class="op" id="5676249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5676253">//&nbsp;ignore&nbsp;err&nbsp;from&nbsp;close,&nbsp;it&nbsp;makes&nbsp;sense&nbsp;to&nbsp;continue&nbsp;anyway</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676315"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676316">.</span><span class="ident" id="5676317">conn</span><span class="op" id="5676321">.</span><span class="builtinfunc" id="5676322">close</span><span class="op" id="5676327">(</span><span class="op" id="5676328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676332"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676333">.</span><span class="ident" id="5676334">conn</span>&nbsp;<span class="op" id="5676339">=</span>&nbsp;<span class="ident" id="5676341">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676350">if</span>&nbsp;<span class="ident" id="5676353"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676354">.</span><span class="ident" id="5676355">network</span>&nbsp;<span class="op" id="5676363">==</span>&nbsp;<span class="string" id="5676366">&#34;&#34;</span>&nbsp;<span class="op" id="5676369">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676373"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676374">.</span><span class="ident" id="5676375">conn</span><span class="op" id="5676379">,</span>&nbsp;<span class="ident" id="5676381"><a href="/log/syslog/syslog.go.html#5676218">err</a></span>&nbsp;<span class="op" id="5676385">=</span>&nbsp;<span class="ident" id="5676387"><a href="/log/syslog/syslog_unix.go.html#5680778">unixSyslog</a></span><span class="op" id="5676397">(</span><span class="op" id="5676398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676402">if</span>&nbsp;<span class="ident" id="5676405"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676406">.</span><span class="ident" id="5676407">hostname</span>&nbsp;<span class="op" id="5676416">==</span>&nbsp;<span class="string" id="5676419">&#34;&#34;</span>&nbsp;<span class="op" id="5676422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676427"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676428">.</span><span class="ident" id="5676429">hostname</span>&nbsp;<span class="op" id="5676438">=</span>&nbsp;<span class="string" id="5676440">&#34;localhost&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676457">}</span>&nbsp;<span class="keyword" id="5676459">else</span>&nbsp;<span class="op" id="5676464">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676468">var</span>&nbsp;<span class="ident" id="5676472">c</span>&nbsp;<span class="ident" id="5676474"><a href="/log/syslog/syslog.go.html#5673340">net</a></span><span class="op" id="5676477">.</span><span class="ident" id="5676478">Conn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676485"><a href="/log/syslog/syslog.go.html#5676472">c</a></span><span class="op" id="5676486">,</span>&nbsp;<span class="ident" id="5676488"><a href="/log/syslog/syslog.go.html#5676218">err</a></span>&nbsp;<span class="op" id="5676492">=</span>&nbsp;<span class="ident" id="5676494"><a href="/log/syslog/syslog.go.html#5673340">net</a></span><span class="op" id="5676497">.</span><span class="ident" id="5676498">Dial</span><span class="op" id="5676502">(</span><span class="ident" id="5676503"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676504">.</span><span class="ident" id="5676505">network</span><span class="op" id="5676512">,</span>&nbsp;<span class="ident" id="5676514"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676515">.</span><span class="ident" id="5676516">raddr</span><span class="op" id="5676521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676525">if</span>&nbsp;<span class="ident" id="5676528"><a href="/log/syslog/syslog.go.html#5676218">err</a></span>&nbsp;<span class="op" id="5676532">==</span>&nbsp;<span class="ident" id="5676535">nil</span>&nbsp;<span class="op" id="5676539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676544"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676545">.</span><span class="ident" id="5676546">conn</span>&nbsp;<span class="op" id="5676551">=</span>&nbsp;<span class="op" id="5676553">&amp;</span><span class="ident" id="5676554"><a href="/log/syslog/syslog.go.html#5675009">netConn</a></span><span class="op" id="5676561">{</span><span class="ident" id="5676562">conn</span><span class="op" id="5676566">:</span>&nbsp;<span class="ident" id="5676568"><a href="/log/syslog/syslog.go.html#5676472">c</a></span><span class="op" id="5676569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676574">if</span>&nbsp;<span class="ident" id="5676577"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676578">.</span><span class="ident" id="5676579">hostname</span>&nbsp;<span class="op" id="5676588">==</span>&nbsp;<span class="string" id="5676591">&#34;&#34;</span>&nbsp;<span class="op" id="5676594">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676600"><a href="/log/syslog/syslog.go.html#5676196">w</a></span><span class="op" id="5676601">.</span><span class="ident" id="5676602">hostname</span>&nbsp;<span class="op" id="5676611">=</span>&nbsp;<span class="ident" id="5676613"><a href="/log/syslog/syslog.go.html#5676472">c</a></span><span class="op" id="5676614">.</span><span class="ident" id="5676615">LocalAddr</span><span class="op" id="5676624">(</span><span class="op" id="5676625">)</span><span class="op" id="5676626">.</span><span class="ident" id="5676627">String</span><span class="op" id="5676633">(</span><span class="op" id="5676634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676649">return</span><br>
<span class="lineno">175</span><span class="op" id="5676656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5676659">//&nbsp;Write&nbsp;sends&nbsp;a&nbsp;log&nbsp;message&nbsp;to&nbsp;the&nbsp;syslog&nbsp;daemon.</span><br>
<span class="lineno"></span><span class="keyword" id="5676710">func</span>&nbsp;<span class="op" id="5676715">(</span><span class="ident" id="5676716">w</span>&nbsp;<span class="op" id="5676718">*</span><span class="ident" id="5676719"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5676725">)</span>&nbsp;<span class="ident" id="5676727">Write</span><span class="op" id="5676732">(</span><span class="ident" id="5676733">b</span>&nbsp;<span class="op" id="5676735">[</span><span class="op" id="5676736">]</span><span class="builtintype" id="5676737">byte</span><span class="op" id="5676741">)</span>&nbsp;<span class="op" id="5676743">(</span><span class="builtintype" id="5676744">int</span><span class="op" id="5676747">,</span>&nbsp;<span class="builtintype" id="5676749">error</span><span class="op" id="5676754">)</span>&nbsp;<span class="op" id="5676756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676759">return</span>&nbsp;<span class="ident" id="5676766"><a href="/log/syslog/syslog.go.html#5676716">w</a></span><span class="op" id="5676767">.</span><span class="ident" id="5676768">writeAndRetry</span><span class="op" id="5676781">(</span><span class="ident" id="5676782"><a href="/log/syslog/syslog.go.html#5676716">w</a></span><span class="op" id="5676783">.</span><span class="ident" id="5676784">priority</span><span class="op" id="5676792">,</span>&nbsp;<span class="builtintype" id="5676794">string</span><span class="op" id="5676800">(</span><span class="ident" id="5676801"><a href="/log/syslog/syslog.go.html#5676733">b</a></span><span class="op" id="5676802">)</span><span class="op" id="5676803">)</span><br>
<span class="lineno">180</span><span class="op" id="5676805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5676808">//&nbsp;Close&nbsp;closes&nbsp;a&nbsp;connection&nbsp;to&nbsp;the&nbsp;syslog&nbsp;daemon.</span><br>
<span class="lineno"></span><span class="keyword" id="5676859">func</span>&nbsp;<span class="op" id="5676864">(</span><span class="ident" id="5676865">w</span>&nbsp;<span class="op" id="5676867">*</span><span class="ident" id="5676868"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5676874">)</span>&nbsp;<span class="ident" id="5676876">Close</span><span class="op" id="5676881">(</span><span class="op" id="5676882">)</span>&nbsp;<span class="builtintype" id="5676884">error</span>&nbsp;<span class="op" id="5676890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676893"><a href="/log/syslog/syslog.go.html#5676865">w</a></span><span class="op" id="5676894">.</span><span class="ident" id="5676895">mu</span><span class="op" id="5676897">.</span><span class="ident" id="5676898">Lock</span><span class="op" id="5676902">(</span><span class="op" id="5676903">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676906">defer</span>&nbsp;<span class="ident" id="5676912"><a href="/log/syslog/syslog.go.html#5676865">w</a></span><span class="op" id="5676913">.</span><span class="ident" id="5676914">mu</span><span class="op" id="5676916">.</span><span class="ident" id="5676917">Unlock</span><span class="op" id="5676923">(</span><span class="op" id="5676924">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676928">if</span>&nbsp;<span class="ident" id="5676931"><a href="/log/syslog/syslog.go.html#5676865">w</a></span><span class="op" id="5676932">.</span><span class="ident" id="5676933">conn</span>&nbsp;<span class="op" id="5676938">!=</span>&nbsp;<span class="ident" id="5676941">nil</span>&nbsp;<span class="op" id="5676945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676949">err</span>&nbsp;<span class="op" id="5676953">:=</span>&nbsp;<span class="ident" id="5676956"><a href="/log/syslog/syslog.go.html#5676865">w</a></span><span class="op" id="5676957">.</span><span class="ident" id="5676958">conn</span><span class="op" id="5676962">.</span><span class="builtinfunc" id="5676963">close</span><span class="op" id="5676968">(</span><span class="op" id="5676969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676973"><a href="/log/syslog/syslog.go.html#5676865">w</a></span><span class="op" id="5676974">.</span><span class="ident" id="5676975">conn</span>&nbsp;<span class="op" id="5676980">=</span>&nbsp;<span class="ident" id="5676982">nil</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676988">return</span>&nbsp;<span class="ident" id="5676995"><a href="/log/syslog/syslog.go.html#5676949">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5677000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677003">return</span>&nbsp;<span class="ident" id="5677010">nil</span><br>
<span class="lineno"></span><span class="op" id="5677014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="comment" id="5677017">//&nbsp;Emerg&nbsp;logs&nbsp;a&nbsp;message&nbsp;with&nbsp;severity&nbsp;LOG_EMERG,&nbsp;ignoring&nbsp;the&nbsp;severity</span><br>
<span class="lineno"></span><span class="comment" id="5677088">//&nbsp;passed&nbsp;to&nbsp;New.</span><br>
<span class="lineno"></span><span class="keyword" id="5677106">func</span>&nbsp;<span class="op" id="5677111">(</span><span class="ident" id="5677112">w</span>&nbsp;<span class="op" id="5677114">*</span><span class="ident" id="5677115"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5677121">)</span>&nbsp;<span class="ident" id="5677123">Emerg</span><span class="op" id="5677128">(</span><span class="ident" id="5677129">m</span>&nbsp;<span class="builtintype" id="5677131">string</span><span class="op" id="5677137">)</span>&nbsp;<span class="op" id="5677139">(</span><span class="ident" id="5677140">err</span>&nbsp;<span class="builtintype" id="5677144">error</span><span class="op" id="5677149">)</span>&nbsp;<span class="op" id="5677151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5677154">_</span><span class="op" id="5677155">,</span>&nbsp;<span class="ident" id="5677157"><a href="/log/syslog/syslog.go.html#5677140">err</a></span>&nbsp;<span class="op" id="5677161">=</span>&nbsp;<span class="ident" id="5677163"><a href="/log/syslog/syslog.go.html#5677112">w</a></span><span class="op" id="5677164">.</span><span class="ident" id="5677165">writeAndRetry</span><span class="op" id="5677178">(</span><span class="ident" id="5677179"><a href="/log/syslog/syslog.go.html#5673798">LOG_EMERG</a></span><span class="op" id="5677188">,</span>&nbsp;<span class="ident" id="5677190"><a href="/log/syslog/syslog.go.html#5677129">m</a></span><span class="op" id="5677191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677194">return</span>&nbsp;<span class="ident" id="5677201"><a href="/log/syslog/syslog.go.html#5677140">err</a></span><br>
<span class="lineno">200</span><span class="op" id="5677205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5677208">//&nbsp;Alert&nbsp;logs&nbsp;a&nbsp;message&nbsp;with&nbsp;severity&nbsp;LOG_ALERT,&nbsp;ignoring&nbsp;the&nbsp;severity</span><br>
<span class="lineno"></span><span class="comment" id="5677279">//&nbsp;passed&nbsp;to&nbsp;New.</span><br>
<span class="lineno"></span><span class="keyword" id="5677297">func</span>&nbsp;<span class="op" id="5677302">(</span><span class="ident" id="5677303">w</span>&nbsp;<span class="op" id="5677305">*</span><span class="ident" id="5677306"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5677312">)</span>&nbsp;<span class="ident" id="5677314">Alert</span><span class="op" id="5677319">(</span><span class="ident" id="5677320">m</span>&nbsp;<span class="builtintype" id="5677322">string</span><span class="op" id="5677328">)</span>&nbsp;<span class="op" id="5677330">(</span><span class="ident" id="5677331">err</span>&nbsp;<span class="builtintype" id="5677335">error</span><span class="op" id="5677340">)</span>&nbsp;<span class="op" id="5677342">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5677345">_</span><span class="op" id="5677346">,</span>&nbsp;<span class="ident" id="5677348"><a href="/log/syslog/syslog.go.html#5677331">err</a></span>&nbsp;<span class="op" id="5677352">=</span>&nbsp;<span class="ident" id="5677354"><a href="/log/syslog/syslog.go.html#5677303">w</a></span><span class="op" id="5677355">.</span><span class="ident" id="5677356">writeAndRetry</span><span class="op" id="5677369">(</span><span class="ident" id="5677370"><a href="/log/syslog/syslog.go.html#5673825">LOG_ALERT</a></span><span class="op" id="5677379">,</span>&nbsp;<span class="ident" id="5677381"><a href="/log/syslog/syslog.go.html#5677320">m</a></span><span class="op" id="5677382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677385">return</span>&nbsp;<span class="ident" id="5677392"><a href="/log/syslog/syslog.go.html#5677331">err</a></span><br>
<span class="lineno"></span><span class="op" id="5677396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5677399">//&nbsp;Crit&nbsp;logs&nbsp;a&nbsp;message&nbsp;with&nbsp;severity&nbsp;LOG_CRIT,&nbsp;ignoring&nbsp;the&nbsp;severity</span><br>
<span class="lineno">210</span><span class="comment" id="5677468">//&nbsp;passed&nbsp;to&nbsp;New.</span><br>
<span class="lineno"></span><span class="keyword" id="5677486">func</span>&nbsp;<span class="op" id="5677491">(</span><span class="ident" id="5677492">w</span>&nbsp;<span class="op" id="5677494">*</span><span class="ident" id="5677495"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5677501">)</span>&nbsp;<span class="ident" id="5677503">Crit</span><span class="op" id="5677507">(</span><span class="ident" id="5677508">m</span>&nbsp;<span class="builtintype" id="5677510">string</span><span class="op" id="5677516">)</span>&nbsp;<span class="op" id="5677518">(</span><span class="ident" id="5677519">err</span>&nbsp;<span class="builtintype" id="5677523">error</span><span class="op" id="5677528">)</span>&nbsp;<span class="op" id="5677530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5677533">_</span><span class="op" id="5677534">,</span>&nbsp;<span class="ident" id="5677536"><a href="/log/syslog/syslog.go.html#5677519">err</a></span>&nbsp;<span class="op" id="5677540">=</span>&nbsp;<span class="ident" id="5677542"><a href="/log/syslog/syslog.go.html#5677492">w</a></span><span class="op" id="5677543">.</span><span class="ident" id="5677544">writeAndRetry</span><span class="op" id="5677557">(</span><span class="ident" id="5677558"><a href="/log/syslog/syslog.go.html#5673836">LOG_CRIT</a></span><span class="op" id="5677566">,</span>&nbsp;<span class="ident" id="5677568"><a href="/log/syslog/syslog.go.html#5677508">m</a></span><span class="op" id="5677569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677572">return</span>&nbsp;<span class="ident" id="5677579"><a href="/log/syslog/syslog.go.html#5677519">err</a></span><br>
<span class="lineno"></span><span class="op" id="5677583">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="comment" id="5677586">//&nbsp;Err&nbsp;logs&nbsp;a&nbsp;message&nbsp;with&nbsp;severity&nbsp;LOG_ERR,&nbsp;ignoring&nbsp;the&nbsp;severity</span><br>
<span class="lineno"></span><span class="comment" id="5677653">//&nbsp;passed&nbsp;to&nbsp;New.</span><br>
<span class="lineno"></span><span class="keyword" id="5677671">func</span>&nbsp;<span class="op" id="5677676">(</span><span class="ident" id="5677677">w</span>&nbsp;<span class="op" id="5677679">*</span><span class="ident" id="5677680"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5677686">)</span>&nbsp;<span class="ident" id="5677688">Err</span><span class="op" id="5677691">(</span><span class="ident" id="5677692">m</span>&nbsp;<span class="builtintype" id="5677694">string</span><span class="op" id="5677700">)</span>&nbsp;<span class="op" id="5677702">(</span><span class="ident" id="5677703">err</span>&nbsp;<span class="builtintype" id="5677707">error</span><span class="op" id="5677712">)</span>&nbsp;<span class="op" id="5677714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5677717">_</span><span class="op" id="5677718">,</span>&nbsp;<span class="ident" id="5677720"><a href="/log/syslog/syslog.go.html#5677703">err</a></span>&nbsp;<span class="op" id="5677724">=</span>&nbsp;<span class="ident" id="5677726"><a href="/log/syslog/syslog.go.html#5677677">w</a></span><span class="op" id="5677727">.</span><span class="ident" id="5677728">writeAndRetry</span><span class="op" id="5677741">(</span><span class="ident" id="5677742"><a href="/log/syslog/syslog.go.html#5673846">LOG_ERR</a></span><span class="op" id="5677749">,</span>&nbsp;<span class="ident" id="5677751"><a href="/log/syslog/syslog.go.html#5677692">m</a></span><span class="op" id="5677752">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677755">return</span>&nbsp;<span class="ident" id="5677762"><a href="/log/syslog/syslog.go.html#5677703">err</a></span><br>
<span class="lineno"></span><span class="op" id="5677766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5677769">//&nbsp;Warning&nbsp;logs&nbsp;a&nbsp;message&nbsp;with&nbsp;severity&nbsp;LOG_WARNING,&nbsp;ignoring&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5677835">//&nbsp;severity&nbsp;passed&nbsp;to&nbsp;New.</span><br>
<span class="lineno">225</span><span class="keyword" id="5677862">func</span>&nbsp;<span class="op" id="5677867">(</span><span class="ident" id="5677868">w</span>&nbsp;<span class="op" id="5677870">*</span><span class="ident" id="5677871"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5677877">)</span>&nbsp;<span class="ident" id="5677879">Warning</span><span class="op" id="5677886">(</span><span class="ident" id="5677887">m</span>&nbsp;<span class="builtintype" id="5677889">string</span><span class="op" id="5677895">)</span>&nbsp;<span class="op" id="5677897">(</span><span class="ident" id="5677898">err</span>&nbsp;<span class="builtintype" id="5677902">error</span><span class="op" id="5677907">)</span>&nbsp;<span class="op" id="5677909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5677912">_</span><span class="op" id="5677913">,</span>&nbsp;<span class="ident" id="5677915"><a href="/log/syslog/syslog.go.html#5677898">err</a></span>&nbsp;<span class="op" id="5677919">=</span>&nbsp;<span class="ident" id="5677921"><a href="/log/syslog/syslog.go.html#5677868">w</a></span><span class="op" id="5677922">.</span><span class="ident" id="5677923">writeAndRetry</span><span class="op" id="5677936">(</span><span class="ident" id="5677937"><a href="/log/syslog/syslog.go.html#5673855">LOG_WARNING</a></span><span class="op" id="5677948">,</span>&nbsp;<span class="ident" id="5677950"><a href="/log/syslog/syslog.go.html#5677887">m</a></span><span class="op" id="5677951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677954">return</span>&nbsp;<span class="ident" id="5677961"><a href="/log/syslog/syslog.go.html#5677898">err</a></span><br>
<span class="lineno"></span><span class="op" id="5677965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span><span class="comment" id="5677968">//&nbsp;Notice&nbsp;logs&nbsp;a&nbsp;message&nbsp;with&nbsp;severity&nbsp;LOG_NOTICE,&nbsp;ignoring&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5678032">//&nbsp;severity&nbsp;passed&nbsp;to&nbsp;New.</span><br>
<span class="lineno"></span><span class="keyword" id="5678059">func</span>&nbsp;<span class="op" id="5678064">(</span><span class="ident" id="5678065">w</span>&nbsp;<span class="op" id="5678067">*</span><span class="ident" id="5678068"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5678074">)</span>&nbsp;<span class="ident" id="5678076">Notice</span><span class="op" id="5678082">(</span><span class="ident" id="5678083">m</span>&nbsp;<span class="builtintype" id="5678085">string</span><span class="op" id="5678091">)</span>&nbsp;<span class="op" id="5678093">(</span><span class="ident" id="5678094">err</span>&nbsp;<span class="builtintype" id="5678098">error</span><span class="op" id="5678103">)</span>&nbsp;<span class="op" id="5678105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5678108">_</span><span class="op" id="5678109">,</span>&nbsp;<span class="ident" id="5678111"><a href="/log/syslog/syslog.go.html#5678094">err</a></span>&nbsp;<span class="op" id="5678115">=</span>&nbsp;<span class="ident" id="5678117"><a href="/log/syslog/syslog.go.html#5678065">w</a></span><span class="op" id="5678118">.</span><span class="ident" id="5678119">writeAndRetry</span><span class="op" id="5678132">(</span><span class="ident" id="5678133"><a href="/log/syslog/syslog.go.html#5673868">LOG_NOTICE</a></span><span class="op" id="5678143">,</span>&nbsp;<span class="ident" id="5678145"><a href="/log/syslog/syslog.go.html#5678083">m</a></span><span class="op" id="5678146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5678149">return</span>&nbsp;<span class="ident" id="5678156"><a href="/log/syslog/syslog.go.html#5678094">err</a></span><br>
<span class="lineno">235</span><span class="op" id="5678160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5678163">//&nbsp;Info&nbsp;logs&nbsp;a&nbsp;message&nbsp;with&nbsp;severity&nbsp;LOG_INFO,&nbsp;ignoring&nbsp;the&nbsp;severity</span><br>
<span class="lineno"></span><span class="comment" id="5678232">//&nbsp;passed&nbsp;to&nbsp;New.</span><br>
<span class="lineno"></span><span class="keyword" id="5678250">func</span>&nbsp;<span class="op" id="5678255">(</span><span class="ident" id="5678256">w</span>&nbsp;<span class="op" id="5678258">*</span><span class="ident" id="5678259"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5678265">)</span>&nbsp;<span class="ident" id="5678267">Info</span><span class="op" id="5678271">(</span><span class="ident" id="5678272">m</span>&nbsp;<span class="builtintype" id="5678274">string</span><span class="op" id="5678280">)</span>&nbsp;<span class="op" id="5678282">(</span><span class="ident" id="5678283">err</span>&nbsp;<span class="builtintype" id="5678287">error</span><span class="op" id="5678292">)</span>&nbsp;<span class="op" id="5678294">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5678297">_</span><span class="op" id="5678298">,</span>&nbsp;<span class="ident" id="5678300"><a href="/log/syslog/syslog.go.html#5678283">err</a></span>&nbsp;<span class="op" id="5678304">=</span>&nbsp;<span class="ident" id="5678306"><a href="/log/syslog/syslog.go.html#5678256">w</a></span><span class="op" id="5678307">.</span><span class="ident" id="5678308">writeAndRetry</span><span class="op" id="5678321">(</span><span class="ident" id="5678322"><a href="/log/syslog/syslog.go.html#5673880">LOG_INFO</a></span><span class="op" id="5678330">,</span>&nbsp;<span class="ident" id="5678332"><a href="/log/syslog/syslog.go.html#5678272">m</a></span><span class="op" id="5678333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5678336">return</span>&nbsp;<span class="ident" id="5678343"><a href="/log/syslog/syslog.go.html#5678283">err</a></span><br>
<span class="lineno"></span><span class="op" id="5678347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5678350">//&nbsp;Debug&nbsp;logs&nbsp;a&nbsp;message&nbsp;with&nbsp;severity&nbsp;LOG_DEBUG,&nbsp;ignoring&nbsp;the&nbsp;severity</span><br>
<span class="lineno">245</span><span class="comment" id="5678421">//&nbsp;passed&nbsp;to&nbsp;New.</span><br>
<span class="lineno"></span><span class="keyword" id="5678439">func</span>&nbsp;<span class="op" id="5678444">(</span><span class="ident" id="5678445">w</span>&nbsp;<span class="op" id="5678447">*</span><span class="ident" id="5678448"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5678454">)</span>&nbsp;<span class="ident" id="5678456">Debug</span><span class="op" id="5678461">(</span><span class="ident" id="5678462">m</span>&nbsp;<span class="builtintype" id="5678464">string</span><span class="op" id="5678470">)</span>&nbsp;<span class="op" id="5678472">(</span><span class="ident" id="5678473">err</span>&nbsp;<span class="builtintype" id="5678477">error</span><span class="op" id="5678482">)</span>&nbsp;<span class="op" id="5678484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5678487">_</span><span class="op" id="5678488">,</span>&nbsp;<span class="ident" id="5678490"><a href="/log/syslog/syslog.go.html#5678473">err</a></span>&nbsp;<span class="op" id="5678494">=</span>&nbsp;<span class="ident" id="5678496"><a href="/log/syslog/syslog.go.html#5678445">w</a></span><span class="op" id="5678497">.</span><span class="ident" id="5678498">writeAndRetry</span><span class="op" id="5678511">(</span><span class="ident" id="5678512"><a href="/log/syslog/syslog.go.html#5673890">LOG_DEBUG</a></span><span class="op" id="5678521">,</span>&nbsp;<span class="ident" id="5678523"><a href="/log/syslog/syslog.go.html#5678462">m</a></span><span class="op" id="5678524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5678527">return</span>&nbsp;<span class="ident" id="5678534"><a href="/log/syslog/syslog.go.html#5678473">err</a></span><br>
<span class="lineno"></span><span class="op" id="5678538">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="5678541">func</span>&nbsp;<span class="op" id="5678546">(</span><span class="ident" id="5678547">w</span>&nbsp;<span class="op" id="5678549">*</span><span class="ident" id="5678550"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5678556">)</span>&nbsp;<span class="ident" id="5678558">writeAndRetry</span><span class="op" id="5678571">(</span><span class="ident" id="5678572">p</span>&nbsp;<span class="ident" id="5678574"><a href="/log/syslog/syslog.go.html#5673623">Priority</a></span><span class="op" id="5678582">,</span>&nbsp;<span class="ident" id="5678584">s</span>&nbsp;<span class="builtintype" id="5678586">string</span><span class="op" id="5678592">)</span>&nbsp;<span class="op" id="5678594">(</span><span class="builtintype" id="5678595">int</span><span class="op" id="5678598">,</span>&nbsp;<span class="builtintype" id="5678600">error</span><span class="op" id="5678605">)</span>&nbsp;<span class="op" id="5678607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5678610">pr</span>&nbsp;<span class="op" id="5678613">:=</span>&nbsp;<span class="op" id="5678616">(</span><span class="ident" id="5678617"><a href="/log/syslog/syslog.go.html#5678547">w</a></span><span class="op" id="5678618">.</span><span class="ident" id="5678619">priority</span>&nbsp;<span class="op" id="5678628">&amp;</span>&nbsp;<span class="ident" id="5678630"><a href="/log/syslog/syslog.go.html#5673669">facilityMask</a></span><span class="op" id="5678642">)</span>&nbsp;<span class="op" id="5678644">|</span>&nbsp;<span class="op" id="5678646">(</span><span class="ident" id="5678647"><a href="/log/syslog/syslog.go.html#5678572">p</a></span>&nbsp;<span class="op" id="5678649">&amp;</span>&nbsp;<span class="ident" id="5678651"><a href="/log/syslog/syslog.go.html#5673643">severityMask</a></span><span class="op" id="5678663">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5678667"><a href="/log/syslog/syslog.go.html#5678547">w</a></span><span class="op" id="5678668">.</span><span class="ident" id="5678669">mu</span><span class="op" id="5678671">.</span><span class="ident" id="5678672">Lock</span><span class="op" id="5678676">(</span><span class="op" id="5678677">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5678680">defer</span>&nbsp;<span class="ident" id="5678686"><a href="/log/syslog/syslog.go.html#5678547">w</a></span><span class="op" id="5678687">.</span><span class="ident" id="5678688">mu</span><span class="op" id="5678690">.</span><span class="ident" id="5678691">Unlock</span><span class="op" id="5678697">(</span><span class="op" id="5678698">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5678702">if</span>&nbsp;<span class="ident" id="5678705"><a href="/log/syslog/syslog.go.html#5678547">w</a></span><span class="op" id="5678706">.</span><span class="ident" id="5678707">conn</span>&nbsp;<span class="op" id="5678712">!=</span>&nbsp;<span class="ident" id="5678715">nil</span>&nbsp;<span class="op" id="5678719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5678723">if</span>&nbsp;<span class="ident" id="5678726">n</span><span class="op" id="5678727">,</span>&nbsp;<span class="ident" id="5678729">err</span>&nbsp;<span class="op" id="5678733">:=</span>&nbsp;<span class="ident" id="5678736"><a href="/log/syslog/syslog.go.html#5678547">w</a></span><span class="op" id="5678737">.</span><span class="ident" id="5678738">write</span><span class="op" id="5678743">(</span><span class="ident" id="5678744"><a href="/log/syslog/syslog.go.html#5678610">pr</a></span><span class="op" id="5678746">,</span>&nbsp;<span class="ident" id="5678748"><a href="/log/syslog/syslog.go.html#5678584">s</a></span><span class="op" id="5678749">)</span><span class="op" id="5678750">;</span>&nbsp;<span class="ident" id="5678752"><a href="/log/syslog/syslog.go.html#5678729">err</a></span>&nbsp;<span class="op" id="5678756">==</span>&nbsp;<span class="ident" id="5678759">nil</span>&nbsp;<span class="op" id="5678763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5678768">return</span>&nbsp;<span class="ident" id="5678775"><a href="/log/syslog/syslog.go.html#5678726">n</a></span><span class="op" id="5678776">,</span>&nbsp;<span class="ident" id="5678778"><a href="/log/syslog/syslog.go.html#5678729">err</a></span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5678784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5678787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5678790">if</span>&nbsp;<span class="ident" id="5678793">err</span>&nbsp;<span class="op" id="5678797">:=</span>&nbsp;<span class="ident" id="5678800"><a href="/log/syslog/syslog.go.html#5678547">w</a></span><span class="op" id="5678801">.</span><span class="ident" id="5678802">connect</span><span class="op" id="5678809">(</span><span class="op" id="5678810">)</span><span class="op" id="5678811">;</span>&nbsp;<span class="ident" id="5678813"><a href="/log/syslog/syslog.go.html#5678793">err</a></span>&nbsp;<span class="op" id="5678817">!=</span>&nbsp;<span class="ident" id="5678820">nil</span>&nbsp;<span class="op" id="5678824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5678828">return</span>&nbsp;<span class="num" id="5678835">0</span><span class="op" id="5678836">,</span>&nbsp;<span class="ident" id="5678838"><a href="/log/syslog/syslog.go.html#5678793">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5678843">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5678846">return</span>&nbsp;<span class="ident" id="5678853"><a href="/log/syslog/syslog.go.html#5678547">w</a></span><span class="op" id="5678854">.</span><span class="ident" id="5678855">write</span><span class="op" id="5678860">(</span><span class="ident" id="5678861"><a href="/log/syslog/syslog.go.html#5678610">pr</a></span><span class="op" id="5678863">,</span>&nbsp;<span class="ident" id="5678865"><a href="/log/syslog/syslog.go.html#5678584">s</a></span><span class="op" id="5678866">)</span><br>
<span class="lineno"></span><span class="op" id="5678868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5678871">//&nbsp;write&nbsp;generates&nbsp;and&nbsp;writes&nbsp;a&nbsp;syslog&nbsp;formatted&nbsp;string.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="5678932">//&nbsp;format&nbsp;is&nbsp;as&nbsp;follows:&nbsp;&lt;PRI&gt;TIMESTAMP&nbsp;HOSTNAME&nbsp;TAG[PID]:&nbsp;MSG</span><br>
<span class="lineno">270</span><span class="keyword" id="5678995">func</span>&nbsp;<span class="op" id="5679000">(</span><span class="ident" id="5679001">w</span>&nbsp;<span class="op" id="5679003">*</span><span class="ident" id="5679004"><a href="/log/syslog/syslog.go.html#5674375">Writer</a></span><span class="op" id="5679010">)</span>&nbsp;<span class="ident" id="5679012">write</span><span class="op" id="5679017">(</span><span class="ident" id="5679018">p</span>&nbsp;<span class="ident" id="5679020"><a href="/log/syslog/syslog.go.html#5673623">Priority</a></span><span class="op" id="5679028">,</span>&nbsp;<span class="ident" id="5679030">msg</span>&nbsp;<span class="builtintype" id="5679034">string</span><span class="op" id="5679040">)</span>&nbsp;<span class="op" id="5679042">(</span><span class="builtintype" id="5679043">int</span><span class="op" id="5679046">,</span>&nbsp;<span class="builtintype" id="5679048">error</span><span class="op" id="5679053">)</span>&nbsp;<span class="op" id="5679055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5679058">//&nbsp;ensure&nbsp;it&nbsp;ends&nbsp;in&nbsp;a&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679085">nl</span>&nbsp;<span class="op" id="5679088">:=</span>&nbsp;<span class="string" id="5679091">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5679095">if</span>&nbsp;<span class="op" id="5679098">!</span><span class="ident" id="5679099"><a href="/log/syslog/syslog.go.html#5673353">strings</a></span><span class="op" id="5679106">.</span><span class="ident" id="5679107">HasSuffix</span><span class="op" id="5679116">(</span><span class="ident" id="5679117"><a href="/log/syslog/syslog.go.html#5679030">msg</a></span><span class="op" id="5679120">,</span>&nbsp;<span class="string" id="5679122">&#34;\n&#34;</span><span class="op" id="5679126">)</span>&nbsp;<span class="op" id="5679128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679132"><a href="/log/syslog/syslog.go.html#5679085">nl</a></span>&nbsp;<span class="op" id="5679135">=</span>&nbsp;<span class="string" id="5679137">&#34;\n&#34;</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5679143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679147">err</span>&nbsp;<span class="op" id="5679151">:=</span>&nbsp;<span class="ident" id="5679154"><a href="/log/syslog/syslog.go.html#5679001">w</a></span><span class="op" id="5679155">.</span><span class="ident" id="5679156">conn</span><span class="op" id="5679160">.</span><span class="ident" id="5679161">writeString</span><span class="op" id="5679172">(</span><span class="ident" id="5679173"><a href="/log/syslog/syslog.go.html#5679018">p</a></span><span class="op" id="5679174">,</span>&nbsp;<span class="ident" id="5679176"><a href="/log/syslog/syslog.go.html#5679001">w</a></span><span class="op" id="5679177">.</span><span class="ident" id="5679178">hostname</span><span class="op" id="5679186">,</span>&nbsp;<span class="ident" id="5679188"><a href="/log/syslog/syslog.go.html#5679001">w</a></span><span class="op" id="5679189">.</span><span class="ident" id="5679190">tag</span><span class="op" id="5679193">,</span>&nbsp;<span class="ident" id="5679195"><a href="/log/syslog/syslog.go.html#5679030">msg</a></span><span class="op" id="5679198">,</span>&nbsp;<span class="ident" id="5679200"><a href="/log/syslog/syslog.go.html#5679085">nl</a></span><span class="op" id="5679202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5679205">if</span>&nbsp;<span class="ident" id="5679208"><a href="/log/syslog/syslog.go.html#5679147">err</a></span>&nbsp;<span class="op" id="5679212">!=</span>&nbsp;<span class="ident" id="5679215">nil</span>&nbsp;<span class="op" id="5679219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5679223">return</span>&nbsp;<span class="num" id="5679230">0</span><span class="op" id="5679231">,</span>&nbsp;<span class="ident" id="5679233"><a href="/log/syslog/syslog.go.html#5679147">err</a></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5679238">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5679241">//&nbsp;Note:&nbsp;return&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;input,&nbsp;not&nbsp;the&nbsp;number&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5679301">//&nbsp;bytes&nbsp;printed&nbsp;by&nbsp;Fprintf,&nbsp;because&nbsp;this&nbsp;must&nbsp;behave&nbsp;like</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5679361">//&nbsp;an&nbsp;io.Writer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5679379">return</span>&nbsp;<span class="builtinfunc" id="5679386">len</span><span class="op" id="5679389">(</span><span class="ident" id="5679390"><a href="/log/syslog/syslog.go.html#5679030">msg</a></span><span class="op" id="5679393">)</span><span class="op" id="5679394">,</span>&nbsp;<span class="ident" id="5679396">nil</span><br>
<span class="lineno">285</span><span class="op" id="5679400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5679403">func</span>&nbsp;<span class="op" id="5679408">(</span><span class="ident" id="5679409">n</span>&nbsp;<span class="op" id="5679411">*</span><span class="ident" id="5679412"><a href="/log/syslog/syslog.go.html#5675009">netConn</a></span><span class="op" id="5679419">)</span>&nbsp;<span class="ident" id="5679421">writeString</span><span class="op" id="5679432">(</span><span class="ident" id="5679433">p</span>&nbsp;<span class="ident" id="5679435"><a href="/log/syslog/syslog.go.html#5673623">Priority</a></span><span class="op" id="5679443">,</span>&nbsp;<span class="ident" id="5679445">hostname</span><span class="op" id="5679453">,</span>&nbsp;<span class="ident" id="5679455">tag</span><span class="op" id="5679458">,</span>&nbsp;<span class="ident" id="5679460">msg</span><span class="op" id="5679463">,</span>&nbsp;<span class="ident" id="5679465">nl</span>&nbsp;<span class="builtintype" id="5679468">string</span><span class="op" id="5679474">)</span>&nbsp;<span class="builtintype" id="5679476">error</span>&nbsp;<span class="op" id="5679482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5679485">if</span>&nbsp;<span class="ident" id="5679488"><a href="/log/syslog/syslog.go.html#5679409">n</a></span><span class="op" id="5679489">.</span><span class="ident" id="5679490">local</span>&nbsp;<span class="op" id="5679496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5679500">//&nbsp;Compared&nbsp;to&nbsp;the&nbsp;network&nbsp;form&nbsp;below,&nbsp;the&nbsp;changes&nbsp;are:</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5679558">//&nbsp;&nbsp;&nbsp;&nbsp1.&nbsp;Use&nbsp;time.Stamp&nbsp;instead&nbsp;of&nbsp;time.RFC3339.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5679606">//&nbsp;&nbsp;&nbsp;&nbsp2.&nbsp;Drop&nbsp;the&nbsp;hostname&nbsp;field&nbsp;from&nbsp;the&nbsp;Fprintf.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679656">timestamp</span>&nbsp;<span class="op" id="5679666">:=</span>&nbsp;<span class="ident" id="5679669"><a href="/log/syslog/syslog.go.html#5673372">time</a></span><span class="op" id="5679673">.</span><span class="ident" id="5679674">Now</span><span class="op" id="5679677">(</span><span class="op" id="5679678">)</span><span class="op" id="5679679">.</span><span class="ident" id="5679680">Format</span><span class="op" id="5679686">(</span><span class="ident" id="5679687"><a href="/log/syslog/syslog.go.html#5673372">time</a></span><span class="op" id="5679691">.</span><span class="ident" id="5679692">Stamp</span><span class="op" id="5679697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679701">_</span><span class="op" id="5679702">,</span>&nbsp;<span class="ident" id="5679704">err</span>&nbsp;<span class="op" id="5679708">:=</span>&nbsp;<span class="ident" id="5679711"><a href="/log/syslog/syslog.go.html#5673326">fmt</a></span><span class="op" id="5679714">.</span><span class="ident" id="5679715">Fprintf</span><span class="op" id="5679722">(</span><span class="ident" id="5679723"><a href="/log/syslog/syslog.go.html#5679409">n</a></span><span class="op" id="5679724">.</span><span class="ident" id="5679725">conn</span><span class="op" id="5679729">,</span>&nbsp;<span class="string" id="5679731">&#34;&lt;%d&gt;%s&nbsp;%s[%d]:&nbsp;%s%s&#34;</span><span class="op" id="5679752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679757"><a href="/log/syslog/syslog.go.html#5679433">p</a></span><span class="op" id="5679758">,</span>&nbsp;<span class="ident" id="5679760"><a href="/log/syslog/syslog.go.html#5679656">timestamp</a></span><span class="op" id="5679769">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679774"><a href="/log/syslog/syslog.go.html#5679455">tag</a></span><span class="op" id="5679777">,</span>&nbsp;<span class="ident" id="5679779"><a href="/log/syslog/syslog.go.html#5673347">os</a></span><span class="op" id="5679781">.</span><span class="ident" id="5679782">Getpid</span><span class="op" id="5679788">(</span><span class="op" id="5679789">)</span><span class="op" id="5679790">,</span>&nbsp;<span class="ident" id="5679792"><a href="/log/syslog/syslog.go.html#5679460">msg</a></span><span class="op" id="5679795">,</span>&nbsp;<span class="ident" id="5679797"><a href="/log/syslog/syslog.go.html#5679465">nl</a></span><span class="op" id="5679799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5679803">return</span>&nbsp;<span class="ident" id="5679810"><a href="/log/syslog/syslog.go.html#5679704">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5679815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679818">timestamp</span>&nbsp;<span class="op" id="5679828">:=</span>&nbsp;<span class="ident" id="5679831"><a href="/log/syslog/syslog.go.html#5673372">time</a></span><span class="op" id="5679835">.</span><span class="ident" id="5679836">Now</span><span class="op" id="5679839">(</span><span class="op" id="5679840">)</span><span class="op" id="5679841">.</span><span class="ident" id="5679842">Format</span><span class="op" id="5679848">(</span><span class="ident" id="5679849"><a href="/log/syslog/syslog.go.html#5673372">time</a></span><span class="op" id="5679853">.</span><span class="ident" id="5679854">RFC3339</span><span class="op" id="5679861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679864">_</span><span class="op" id="5679865">,</span>&nbsp;<span class="ident" id="5679867">err</span>&nbsp;<span class="op" id="5679871">:=</span>&nbsp;<span class="ident" id="5679874"><a href="/log/syslog/syslog.go.html#5673326">fmt</a></span><span class="op" id="5679877">.</span><span class="ident" id="5679878">Fprintf</span><span class="op" id="5679885">(</span><span class="ident" id="5679886"><a href="/log/syslog/syslog.go.html#5679409">n</a></span><span class="op" id="5679887">.</span><span class="ident" id="5679888">conn</span><span class="op" id="5679892">,</span>&nbsp;<span class="string" id="5679894">&#34;&lt;%d&gt;%s&nbsp;%s&nbsp;%s[%d]:&nbsp;%s%s&#34;</span><span class="op" id="5679918">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679922"><a href="/log/syslog/syslog.go.html#5679433">p</a></span><span class="op" id="5679923">,</span>&nbsp;<span class="ident" id="5679925"><a href="/log/syslog/syslog.go.html#5679818">timestamp</a></span><span class="op" id="5679934">,</span>&nbsp;<span class="ident" id="5679936"><a href="/log/syslog/syslog.go.html#5679445">hostname</a></span><span class="op" id="5679944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5679948"><a href="/log/syslog/syslog.go.html#5679455">tag</a></span><span class="op" id="5679951">,</span>&nbsp;<span class="ident" id="5679953"><a href="/log/syslog/syslog.go.html#5673347">os</a></span><span class="op" id="5679955">.</span><span class="ident" id="5679956">Getpid</span><span class="op" id="5679962">(</span><span class="op" id="5679963">)</span><span class="op" id="5679964">,</span>&nbsp;<span class="ident" id="5679966"><a href="/log/syslog/syslog.go.html#5679460">msg</a></span><span class="op" id="5679969">,</span>&nbsp;<span class="ident" id="5679971"><a href="/log/syslog/syslog.go.html#5679465">nl</a></span><span class="op" id="5679973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5679976">return</span>&nbsp;<span class="ident" id="5679983"><a href="/log/syslog/syslog.go.html#5679867">err</a></span><br>
<span class="lineno"></span><span class="op" id="5679987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="5679990">func</span>&nbsp;<span class="op" id="5679995">(</span><span class="ident" id="5679996">n</span>&nbsp;<span class="op" id="5679998">*</span><span class="ident" id="5679999"><a href="/log/syslog/syslog.go.html#5675009">netConn</a></span><span class="op" id="5680006">)</span>&nbsp;<span class="builtinfunc" id="5680008">close</span><span class="op" id="5680013">(</span><span class="op" id="5680014">)</span>&nbsp;<span class="builtintype" id="5680016">error</span>&nbsp;<span class="op" id="5680022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5680025">return</span>&nbsp;<span class="ident" id="5680032"><a href="/log/syslog/syslog.go.html#5679996">n</a></span><span class="op" id="5680033">.</span><span class="ident" id="5680034">conn</span><span class="op" id="5680038">.</span><span class="ident" id="5680039">Close</span><span class="op" id="5680044">(</span><span class="op" id="5680045">)</span><br>
<span class="lineno"></span><span class="op" id="5680047">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5680050">//&nbsp;NewLogger&nbsp;creates&nbsp;a&nbsp;log.Logger&nbsp;whose&nbsp;output&nbsp;is&nbsp;written&nbsp;to</span><br>
<span class="lineno">310</span><span class="comment" id="5680111">//&nbsp;the&nbsp;system&nbsp;log&nbsp;service&nbsp;with&nbsp;the&nbsp;specified&nbsp;priority.&nbsp;The&nbsp;logFlag</span><br>
<span class="lineno"></span><span class="comment" id="5680178">//&nbsp;argument&nbsp;is&nbsp;the&nbsp;flag&nbsp;set&nbsp;passed&nbsp;through&nbsp;to&nbsp;log.New&nbsp;to&nbsp;create</span><br>
<span class="lineno"></span><span class="comment" id="5680242">//&nbsp;the&nbsp;Logger.</span><br>
<span class="lineno"></span><span class="keyword" id="5680257">func</span>&nbsp;<span class="ident" id="5680262">NewLogger</span><span class="op" id="5680271">(</span><span class="ident" id="5680272">p</span>&nbsp;<span class="ident" id="5680274"><a href="/log/syslog/syslog.go.html#5673623">Priority</a></span><span class="op" id="5680282">,</span>&nbsp;<span class="ident" id="5680284">logFlag</span>&nbsp;<span class="builtintype" id="5680292">int</span><span class="op" id="5680295">)</span>&nbsp;<span class="op" id="5680297">(</span><span class="op" id="5680298">*</span><span class="ident" id="5680299"><a href="/log/syslog/syslog.go.html#5673333">log</a></span><span class="op" id="5680302">.</span><span class="ident" id="5680303">Logger</span><span class="op" id="5680309">,</span>&nbsp;<span class="builtintype" id="5680311">error</span><span class="op" id="5680316">)</span>&nbsp;<span class="op" id="5680318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5680321">s</span><span class="op" id="5680322">,</span>&nbsp;<span class="ident" id="5680324">err</span>&nbsp;<span class="op" id="5680328">:=</span>&nbsp;<span class="ident" id="5680331"><a href="/log/syslog/syslog.go.html#5675221">New</a></span><span class="op" id="5680334">(</span><span class="ident" id="5680335"><a href="/log/syslog/syslog.go.html#5680272">p</a></span><span class="op" id="5680336">,</span>&nbsp;<span class="string" id="5680338">&#34;&#34;</span><span class="op" id="5680340">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5680343">if</span>&nbsp;<span class="ident" id="5680346"><a href="/log/syslog/syslog.go.html#5680324">err</a></span>&nbsp;<span class="op" id="5680350">!=</span>&nbsp;<span class="ident" id="5680353">nil</span>&nbsp;<span class="op" id="5680357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5680361">return</span>&nbsp;<span class="ident" id="5680368">nil</span><span class="op" id="5680371">,</span>&nbsp;<span class="ident" id="5680373"><a href="/log/syslog/syslog.go.html#5680324">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5680378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5680381">return</span>&nbsp;<span class="ident" id="5680388"><a href="/log/syslog/syslog.go.html#5673333">log</a></span><span class="op" id="5680391">.</span><span class="ident" id="5680392">New</span><span class="op" id="5680395">(</span><span class="ident" id="5680396"><a href="/log/syslog/syslog.go.html#5680321">s</a></span><span class="op" id="5680397">,</span>&nbsp;<span class="string" id="5680399">&#34;&#34;</span><span class="op" id="5680401">,</span>&nbsp;<span class="ident" id="5680403"><a href="/log/syslog/syslog.go.html#5680284">logFlag</a></span><span class="op" id="5680410">)</span><span class="op" id="5680411">,</span>&nbsp;<span class="ident" id="5680413">nil</span><br>
<span class="lineno"></span><span class="op" id="5680417">}</span>
</div>
</body>
</html>
