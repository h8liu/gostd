<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6818848">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6818904">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6818958">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6819009">package</span>&nbsp;<span class="ident" id="6819017">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6819022">import</span>&nbsp;<span class="op" id="6819029">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819032">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819043">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6819053">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6819056">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="6819124">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6819191">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="6819201">func</span>&nbsp;<span class="ident" id="6819206">loopbackInterface</span><span class="op" id="6819223">(</span><span class="op" id="6819224">)</span>&nbsp;<span class="op" id="6819226">*</span><span class="ident" id="6819227"><a href="/net/interface.go.html#2593524">Interface</a></span>&nbsp;<span class="op" id="6819237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6819240">ift</span><span class="op" id="6819243">,</span>&nbsp;<span class="ident" id="6819245">err</span>&nbsp;<span class="op" id="6819249">:=</span>&nbsp;<span class="ident" id="6819252"><a href="/net/interface.go.html#2595102">Interfaces</a></span><span class="op" id="6819262">(</span><span class="op" id="6819263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819266">if</span>&nbsp;<span class="ident" id="6819269"><a href="/net/interface_test.go.html#6819245">err</a></span>&nbsp;<span class="op" id="6819273">!=</span>&nbsp;<span class="ident" id="6819276">nil</span>&nbsp;<span class="op" id="6819280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819284">return</span>&nbsp;<span class="ident" id="6819291">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819296">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819299">for</span>&nbsp;<span class="ident" id="6819303">_</span><span class="op" id="6819304">,</span>&nbsp;<span class="ident" id="6819306">ifi</span>&nbsp;<span class="op" id="6819310">:=</span>&nbsp;<span class="keyword" id="6819313">range</span>&nbsp;<span class="ident" id="6819319"><a href="/net/interface_test.go.html#6819240">ift</a></span>&nbsp;<span class="op" id="6819323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819327">if</span>&nbsp;<span class="ident" id="6819330"><a href="/net/interface_test.go.html#6819306">ifi</a></span><span class="op" id="6819333">.</span><span class="ident" id="6819334">Flags</span><span class="op" id="6819339">&amp;</span><span class="ident" id="6819340"><a href="/net/interface.go.html#2594054">FlagLoopback</a></span>&nbsp;<span class="op" id="6819353">!=</span>&nbsp;<span class="num" id="6819356">0</span>&nbsp;<span class="op" id="6819358">&amp;&amp;</span>&nbsp;<span class="ident" id="6819361"><a href="/net/interface_test.go.html#6819306">ifi</a></span><span class="op" id="6819364">.</span><span class="ident" id="6819365">Flags</span><span class="op" id="6819370">&amp;</span><span class="ident" id="6819371"><a href="/net/interface.go.html#2593913">FlagUp</a></span>&nbsp;<span class="op" id="6819378">!=</span>&nbsp;<span class="num" id="6819381">0</span>&nbsp;<span class="op" id="6819383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819388">return</span>&nbsp;<span class="op" id="6819395">&amp;</span><span class="ident" id="6819396"><a href="/net/interface_test.go.html#6819306">ifi</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819405">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819408">return</span>&nbsp;<span class="ident" id="6819415">nil</span><br>
<span class="lineno"></span><span class="op" id="6819419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6819422">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="6819493">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="6819558">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6819588">func</span>&nbsp;<span class="ident" id="6819593">ipv6LinkLocalUnicastAddr</span><span class="op" id="6819617">(</span><span class="ident" id="6819618">ifi</span>&nbsp;<span class="op" id="6819622">*</span><span class="ident" id="6819623"><a href="/net/interface.go.html#2593524">Interface</a></span><span class="op" id="6819632">)</span>&nbsp;<span class="builtintype" id="6819634">string</span>&nbsp;<span class="op" id="6819641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819644">if</span>&nbsp;<span class="ident" id="6819647"><a href="/net/interface_test.go.html#6819618">ifi</a></span>&nbsp;<span class="op" id="6819651">==</span>&nbsp;<span class="ident" id="6819654">nil</span>&nbsp;<span class="op" id="6819658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819662">return</span>&nbsp;<span class="string" id="6819669">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819673">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6819676">ifat</span><span class="op" id="6819680">,</span>&nbsp;<span class="ident" id="6819682">err</span>&nbsp;<span class="op" id="6819686">:=</span>&nbsp;<span class="ident" id="6819689"><a href="/net/interface_test.go.html#6819618">ifi</a></span><span class="op" id="6819692">.</span><span class="ident" id="6819693">Addrs</span><span class="op" id="6819698">(</span><span class="op" id="6819699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819702">if</span>&nbsp;<span class="ident" id="6819705"><a href="/net/interface_test.go.html#6819682">err</a></span>&nbsp;<span class="op" id="6819709">!=</span>&nbsp;<span class="ident" id="6819712">nil</span>&nbsp;<span class="op" id="6819716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819720">return</span>&nbsp;<span class="string" id="6819727">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819734">for</span>&nbsp;<span class="ident" id="6819738">_</span><span class="op" id="6819739">,</span>&nbsp;<span class="ident" id="6819741">ifa</span>&nbsp;<span class="op" id="6819745">:=</span>&nbsp;<span class="keyword" id="6819748">range</span>&nbsp;<span class="ident" id="6819754"><a href="/net/interface_test.go.html#6819676">ifat</a></span>&nbsp;<span class="op" id="6819759">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819763">switch</span>&nbsp;<span class="ident" id="6819770">ifa</span>&nbsp;<span class="op" id="6819774">:=</span>&nbsp;<span class="ident" id="6819777"><a href="/net/interface_test.go.html#6819741">ifa</a></span><span class="op" id="6819780">.</span><span class="op" id="6819781">(</span><span class="keyword" id="6819782">type</span><span class="op" id="6819786">)</span>&nbsp;<span class="op" id="6819788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819792">case</span>&nbsp;<span class="op" id="6819797">*</span><span class="ident" id="6819798"><a href="/net/iprawsock.go.html#2619177">IPAddr</a></span><span class="op" id="6819804">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819809">if</span>&nbsp;<span class="ident" id="6819812"><a href="/net/interface_test.go.html#6819770">ifa</a></span><span class="op" id="6819815">.</span><span class="ident" id="6819816">IP</span><span class="op" id="6819818">.</span><span class="ident" id="6819819">To4</span><span class="op" id="6819822">(</span><span class="op" id="6819823">)</span>&nbsp;<span class="op" id="6819825">==</span>&nbsp;<span class="ident" id="6819828">nil</span>&nbsp;<span class="op" id="6819832">&amp;&amp;</span>&nbsp;<span class="ident" id="6819835"><a href="/net/interface_test.go.html#6819770">ifa</a></span><span class="op" id="6819838">.</span><span class="ident" id="6819839">IP</span><span class="op" id="6819841">.</span><span class="ident" id="6819842">IsLinkLocalUnicast</span><span class="op" id="6819860">(</span><span class="op" id="6819861">)</span>&nbsp;<span class="op" id="6819863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819869">return</span>&nbsp;<span class="ident" id="6819876"><a href="/net/interface_test.go.html#6819770">ifa</a></span><span class="op" id="6819879">.</span><span class="ident" id="6819880">IP</span><span class="op" id="6819882">.</span><span class="ident" id="6819883">String</span><span class="op" id="6819889">(</span><span class="op" id="6819890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819895">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819899">case</span>&nbsp;<span class="op" id="6819904">*</span><span class="ident" id="6819905"><a href="/net/ip.go.html#2604436">IPNet</a></span><span class="op" id="6819910">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819915">if</span>&nbsp;<span class="ident" id="6819918"><a href="/net/interface_test.go.html#6819770">ifa</a></span><span class="op" id="6819921">.</span><span class="ident" id="6819922">IP</span><span class="op" id="6819924">.</span><span class="ident" id="6819925">To4</span><span class="op" id="6819928">(</span><span class="op" id="6819929">)</span>&nbsp;<span class="op" id="6819931">==</span>&nbsp;<span class="ident" id="6819934">nil</span>&nbsp;<span class="op" id="6819938">&amp;&amp;</span>&nbsp;<span class="ident" id="6819941"><a href="/net/interface_test.go.html#6819770">ifa</a></span><span class="op" id="6819944">.</span><span class="ident" id="6819945">IP</span><span class="op" id="6819947">.</span><span class="ident" id="6819948">IsLinkLocalUnicast</span><span class="op" id="6819966">(</span><span class="op" id="6819967">)</span>&nbsp;<span class="op" id="6819969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819975">return</span>&nbsp;<span class="ident" id="6819982"><a href="/net/interface_test.go.html#6819770">ifa</a></span><span class="op" id="6819985">.</span><span class="ident" id="6819986">IP</span><span class="op" id="6819988">.</span><span class="ident" id="6819989">String</span><span class="op" id="6819995">(</span><span class="op" id="6819996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820005">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6820011">return</span>&nbsp;<span class="string" id="6820018">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6820021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6820024">func</span>&nbsp;<span class="ident" id="6820029">TestInterfaces</span><span class="op" id="6820043">(</span><span class="ident" id="6820044">t</span>&nbsp;<span class="op" id="6820046">*</span><span class="ident" id="6820047"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6820054">.</span><span class="ident" id="6820055">T</span><span class="op" id="6820056">)</span>&nbsp;<span class="op" id="6820058">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820061">ift</span><span class="op" id="6820064">,</span>&nbsp;<span class="ident" id="6820066">err</span>&nbsp;<span class="op" id="6820070">:=</span>&nbsp;<span class="ident" id="6820073"><a href="/net/interface.go.html#2595102">Interfaces</a></span><span class="op" id="6820083">(</span><span class="op" id="6820084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6820087">if</span>&nbsp;<span class="ident" id="6820090"><a href="/net/interface_test.go.html#6820066">err</a></span>&nbsp;<span class="op" id="6820094">!=</span>&nbsp;<span class="ident" id="6820097">nil</span>&nbsp;<span class="op" id="6820101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820105"><a href="/net/interface_test.go.html#6820044">t</a></span><span class="op" id="6820106">.</span><span class="ident" id="6820107">Fatalf</span><span class="op" id="6820113">(</span><span class="string" id="6820114">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6820137">,</span>&nbsp;<span class="ident" id="6820139"><a href="/net/interface_test.go.html#6820066">err</a></span><span class="op" id="6820142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820148"><a href="/net/interface_test.go.html#6820044">t</a></span><span class="op" id="6820149">.</span><span class="ident" id="6820150">Logf</span><span class="op" id="6820154">(</span><span class="string" id="6820155">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6820179">,</span>&nbsp;<span class="builtinfunc" id="6820181">len</span><span class="op" id="6820184">(</span><span class="ident" id="6820185"><a href="/net/interface_test.go.html#6820061">ift</a></span><span class="op" id="6820188">)</span><span class="op" id="6820189">,</span>&nbsp;<span class="builtinfunc" id="6820191">cap</span><span class="op" id="6820194">(</span><span class="ident" id="6820195"><a href="/net/interface_test.go.html#6820061">ift</a></span><span class="op" id="6820198">)</span><span class="op" id="6820199">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6820203">for</span>&nbsp;<span class="ident" id="6820207">_</span><span class="op" id="6820208">,</span>&nbsp;<span class="ident" id="6820210">ifi</span>&nbsp;<span class="op" id="6820214">:=</span>&nbsp;<span class="keyword" id="6820217">range</span>&nbsp;<span class="ident" id="6820223"><a href="/net/interface_test.go.html#6820061">ift</a></span>&nbsp;<span class="op" id="6820227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820231">ifxi</span><span class="op" id="6820235">,</span>&nbsp;<span class="ident" id="6820237">err</span>&nbsp;<span class="op" id="6820241">:=</span>&nbsp;<span class="ident" id="6820244"><a href="/net/interface.go.html#2595390">InterfaceByIndex</a></span><span class="op" id="6820260">(</span><span class="ident" id="6820261"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820264">.</span><span class="ident" id="6820265">Index</span><span class="op" id="6820270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6820274">if</span>&nbsp;<span class="ident" id="6820277"><a href="/net/interface_test.go.html#6820237">err</a></span>&nbsp;<span class="op" id="6820281">!=</span>&nbsp;<span class="ident" id="6820284">nil</span>&nbsp;<span class="op" id="6820288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820293"><a href="/net/interface_test.go.html#6820044">t</a></span><span class="op" id="6820294">.</span><span class="ident" id="6820295">Fatalf</span><span class="op" id="6820301">(</span><span class="string" id="6820302">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6820335">,</span>&nbsp;<span class="ident" id="6820337"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820340">.</span><span class="ident" id="6820341">Index</span><span class="op" id="6820346">,</span>&nbsp;<span class="ident" id="6820348"><a href="/net/interface_test.go.html#6820237">err</a></span><span class="op" id="6820351">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6820359">if</span>&nbsp;<span class="op" id="6820362">!</span><span class="ident" id="6820363"><a href="/net/interface_test.go.html#6819032">reflect</a></span><span class="op" id="6820370">.</span><span class="ident" id="6820371">DeepEqual</span><span class="op" id="6820380">(</span><span class="ident" id="6820381"><a href="/net/interface_test.go.html#6820231">ifxi</a></span><span class="op" id="6820385">,</span>&nbsp;<span class="op" id="6820387">&amp;</span><span class="ident" id="6820388"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820391">)</span>&nbsp;<span class="op" id="6820393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820398"><a href="/net/interface_test.go.html#6820044">t</a></span><span class="op" id="6820399">.</span><span class="ident" id="6820400">Fatalf</span><span class="op" id="6820406">(</span><span class="string" id="6820407">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6820443">,</span>&nbsp;<span class="ident" id="6820445"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820448">.</span><span class="ident" id="6820449">Index</span><span class="op" id="6820454">,</span>&nbsp;<span class="ident" id="6820456"><a href="/net/interface_test.go.html#6820231">ifxi</a></span><span class="op" id="6820460">,</span>&nbsp;<span class="ident" id="6820462"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820473">ifxn</span><span class="op" id="6820477">,</span>&nbsp;<span class="ident" id="6820479"><a href="/net/interface_test.go.html#6820237">err</a></span>&nbsp;<span class="op" id="6820483">:=</span>&nbsp;<span class="ident" id="6820486"><a href="/net/interface.go.html#2595864">InterfaceByName</a></span><span class="op" id="6820501">(</span><span class="ident" id="6820502"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820505">.</span><span class="ident" id="6820506">Name</span><span class="op" id="6820510">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6820514">if</span>&nbsp;<span class="ident" id="6820517"><a href="/net/interface_test.go.html#6820237">err</a></span>&nbsp;<span class="op" id="6820521">!=</span>&nbsp;<span class="ident" id="6820524">nil</span>&nbsp;<span class="op" id="6820528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820533"><a href="/net/interface_test.go.html#6820044">t</a></span><span class="op" id="6820534">.</span><span class="ident" id="6820535">Fatalf</span><span class="op" id="6820541">(</span><span class="string" id="6820542">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6820574">,</span>&nbsp;<span class="ident" id="6820576"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820579">.</span><span class="ident" id="6820580">Name</span><span class="op" id="6820584">,</span>&nbsp;<span class="ident" id="6820586"><a href="/net/interface_test.go.html#6820237">err</a></span><span class="op" id="6820589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6820597">if</span>&nbsp;<span class="op" id="6820600">!</span><span class="ident" id="6820601"><a href="/net/interface_test.go.html#6819032">reflect</a></span><span class="op" id="6820608">.</span><span class="ident" id="6820609">DeepEqual</span><span class="op" id="6820618">(</span><span class="ident" id="6820619"><a href="/net/interface_test.go.html#6820473">ifxn</a></span><span class="op" id="6820623">,</span>&nbsp;<span class="op" id="6820625">&amp;</span><span class="ident" id="6820626"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820629">)</span>&nbsp;<span class="op" id="6820631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820636"><a href="/net/interface_test.go.html#6820044">t</a></span><span class="op" id="6820637">.</span><span class="ident" id="6820638">Fatalf</span><span class="op" id="6820644">(</span><span class="string" id="6820645">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6820680">,</span>&nbsp;<span class="ident" id="6820682"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820685">.</span><span class="ident" id="6820686">Name</span><span class="op" id="6820690">,</span>&nbsp;<span class="ident" id="6820692"><a href="/net/interface_test.go.html#6820473">ifxn</a></span><span class="op" id="6820696">,</span>&nbsp;<span class="ident" id="6820698"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820701">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820709"><a href="/net/interface_test.go.html#6820044">t</a></span><span class="op" id="6820710">.</span><span class="ident" id="6820711">Logf</span><span class="op" id="6820715">(</span><span class="string" id="6820716">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="6820750">,</span>&nbsp;<span class="ident" id="6820752"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820755">.</span><span class="ident" id="6820756">Name</span><span class="op" id="6820760">,</span>&nbsp;<span class="ident" id="6820762"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820765">.</span><span class="ident" id="6820766">Flags</span><span class="op" id="6820771">.</span><span class="ident" id="6820772">String</span><span class="op" id="6820778">(</span><span class="op" id="6820779">)</span><span class="op" id="6820780">,</span>&nbsp;<span class="ident" id="6820782"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820785">.</span><span class="ident" id="6820786">Index</span><span class="op" id="6820791">,</span>&nbsp;<span class="ident" id="6820793"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820796">.</span><span class="ident" id="6820797">MTU</span><span class="op" id="6820800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820804"><a href="/net/interface_test.go.html#6820044">t</a></span><span class="op" id="6820805">.</span><span class="ident" id="6820806">Logf</span><span class="op" id="6820810">(</span><span class="string" id="6820811">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6820834">,</span>&nbsp;<span class="ident" id="6820836"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820839">.</span><span class="ident" id="6820840">HardwareAddr</span><span class="op" id="6820852">.</span><span class="ident" id="6820853">String</span><span class="op" id="6820859">(</span><span class="op" id="6820860">)</span><span class="op" id="6820861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820865"><a href="/net/interface_test.go.html#6821158">testInterfaceAddrs</a></span><span class="op" id="6820883">(</span><span class="ident" id="6820884"><a href="/net/interface_test.go.html#6820044">t</a></span><span class="op" id="6820885">,</span>&nbsp;<span class="op" id="6820887">&amp;</span><span class="ident" id="6820888"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820895"><a href="/net/interface_test.go.html#6821329">testInterfaceMulticastAddrs</a></span><span class="op" id="6820922">(</span><span class="ident" id="6820923"><a href="/net/interface_test.go.html#6820044">t</a></span><span class="op" id="6820924">,</span>&nbsp;<span class="op" id="6820926">&amp;</span><span class="ident" id="6820927"><a href="/net/interface_test.go.html#6820210">ifi</a></span><span class="op" id="6820930">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820933">}</span><br>
<span class="lineno"></span><span class="op" id="6820935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6820938">func</span>&nbsp;<span class="ident" id="6820943">TestInterfaceAddrs</span><span class="op" id="6820961">(</span><span class="ident" id="6820962">t</span>&nbsp;<span class="op" id="6820964">*</span><span class="ident" id="6820965"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6820972">.</span><span class="ident" id="6820973">T</span><span class="op" id="6820974">)</span>&nbsp;<span class="op" id="6820976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820979">ifat</span><span class="op" id="6820983">,</span>&nbsp;<span class="ident" id="6820985">err</span>&nbsp;<span class="op" id="6820989">:=</span>&nbsp;<span class="ident" id="6820992"><a href="/net/interface.go.html#2595253">InterfaceAddrs</a></span><span class="op" id="6821006">(</span><span class="op" id="6821007">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6821010">if</span>&nbsp;<span class="ident" id="6821013"><a href="/net/interface_test.go.html#6820985">err</a></span>&nbsp;<span class="op" id="6821017">!=</span>&nbsp;<span class="ident" id="6821020">nil</span>&nbsp;<span class="op" id="6821024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821028"><a href="/net/interface_test.go.html#6820962">t</a></span><span class="op" id="6821029">.</span><span class="ident" id="6821030">Fatalf</span><span class="op" id="6821036">(</span><span class="string" id="6821037">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6821064">,</span>&nbsp;<span class="ident" id="6821066"><a href="/net/interface_test.go.html#6820985">err</a></span><span class="op" id="6821069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6821072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821075"><a href="/net/interface_test.go.html#6820962">t</a></span><span class="op" id="6821076">.</span><span class="ident" id="6821077">Logf</span><span class="op" id="6821081">(</span><span class="string" id="6821082">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6821106">,</span>&nbsp;<span class="builtinfunc" id="6821108">len</span><span class="op" id="6821111">(</span><span class="ident" id="6821112"><a href="/net/interface_test.go.html#6820979">ifat</a></span><span class="op" id="6821116">)</span><span class="op" id="6821117">,</span>&nbsp;<span class="builtinfunc" id="6821119">cap</span><span class="op" id="6821122">(</span><span class="ident" id="6821123"><a href="/net/interface_test.go.html#6820979">ifat</a></span><span class="op" id="6821127">)</span><span class="op" id="6821128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821131"><a href="/net/interface_test.go.html#6821538">testAddrs</a></span><span class="op" id="6821140">(</span><span class="ident" id="6821141"><a href="/net/interface_test.go.html#6820962">t</a></span><span class="op" id="6821142">,</span>&nbsp;<span class="ident" id="6821144"><a href="/net/interface_test.go.html#6820979">ifat</a></span><span class="op" id="6821148">)</span><br>
<span class="lineno">90</span><span class="op" id="6821150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6821153">func</span>&nbsp;<span class="ident" id="6821158">testInterfaceAddrs</span><span class="op" id="6821176">(</span><span class="ident" id="6821177">t</span>&nbsp;<span class="op" id="6821179">*</span><span class="ident" id="6821180"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6821187">.</span><span class="ident" id="6821188">T</span><span class="op" id="6821189">,</span>&nbsp;<span class="ident" id="6821191">ifi</span>&nbsp;<span class="op" id="6821195">*</span><span class="ident" id="6821196"><a href="/net/interface.go.html#2593524">Interface</a></span><span class="op" id="6821205">)</span>&nbsp;<span class="op" id="6821207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821210">ifat</span><span class="op" id="6821214">,</span>&nbsp;<span class="ident" id="6821216">err</span>&nbsp;<span class="op" id="6821220">:=</span>&nbsp;<span class="ident" id="6821223"><a href="/net/interface_test.go.html#6821191">ifi</a></span><span class="op" id="6821226">.</span><span class="ident" id="6821227">Addrs</span><span class="op" id="6821232">(</span><span class="op" id="6821233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6821236">if</span>&nbsp;<span class="ident" id="6821239"><a href="/net/interface_test.go.html#6821216">err</a></span>&nbsp;<span class="op" id="6821243">!=</span>&nbsp;<span class="ident" id="6821246">nil</span>&nbsp;<span class="op" id="6821250">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821254"><a href="/net/interface_test.go.html#6821177">t</a></span><span class="op" id="6821255">.</span><span class="ident" id="6821256">Fatalf</span><span class="op" id="6821262">(</span><span class="string" id="6821263">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6821291">,</span>&nbsp;<span class="ident" id="6821293"><a href="/net/interface_test.go.html#6821216">err</a></span><span class="op" id="6821296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6821299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821302"><a href="/net/interface_test.go.html#6821538">testAddrs</a></span><span class="op" id="6821311">(</span><span class="ident" id="6821312"><a href="/net/interface_test.go.html#6821177">t</a></span><span class="op" id="6821313">,</span>&nbsp;<span class="ident" id="6821315"><a href="/net/interface_test.go.html#6821210">ifat</a></span><span class="op" id="6821319">)</span><br>
<span class="lineno"></span><span class="op" id="6821321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6821324">func</span>&nbsp;<span class="ident" id="6821329">testInterfaceMulticastAddrs</span><span class="op" id="6821356">(</span><span class="ident" id="6821357">t</span>&nbsp;<span class="op" id="6821359">*</span><span class="ident" id="6821360"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6821367">.</span><span class="ident" id="6821368">T</span><span class="op" id="6821369">,</span>&nbsp;<span class="ident" id="6821371">ifi</span>&nbsp;<span class="op" id="6821375">*</span><span class="ident" id="6821376"><a href="/net/interface.go.html#2593524">Interface</a></span><span class="op" id="6821385">)</span>&nbsp;<span class="op" id="6821387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821390">ifmat</span><span class="op" id="6821395">,</span>&nbsp;<span class="ident" id="6821397">err</span>&nbsp;<span class="op" id="6821401">:=</span>&nbsp;<span class="ident" id="6821404"><a href="/net/interface_test.go.html#6821371">ifi</a></span><span class="op" id="6821407">.</span><span class="ident" id="6821408">MulticastAddrs</span><span class="op" id="6821422">(</span><span class="op" id="6821423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6821426">if</span>&nbsp;<span class="ident" id="6821429"><a href="/net/interface_test.go.html#6821397">err</a></span>&nbsp;<span class="op" id="6821433">!=</span>&nbsp;<span class="ident" id="6821436">nil</span>&nbsp;<span class="op" id="6821440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821444"><a href="/net/interface_test.go.html#6821357">t</a></span><span class="op" id="6821445">.</span><span class="ident" id="6821446">Fatalf</span><span class="op" id="6821452">(</span><span class="string" id="6821453">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6821490">,</span>&nbsp;<span class="ident" id="6821492"><a href="/net/interface_test.go.html#6821397">err</a></span><span class="op" id="6821495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6821498">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821501"><a href="/net/interface_test.go.html#6822356">testMulticastAddrs</a></span><span class="op" id="6821519">(</span><span class="ident" id="6821520"><a href="/net/interface_test.go.html#6821357">t</a></span><span class="op" id="6821521">,</span>&nbsp;<span class="ident" id="6821523"><a href="/net/interface_test.go.html#6821390">ifmat</a></span><span class="op" id="6821528">)</span><br>
<span class="lineno"></span><span class="op" id="6821530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6821533">func</span>&nbsp;<span class="ident" id="6821538">testAddrs</span><span class="op" id="6821547">(</span><span class="ident" id="6821548">t</span>&nbsp;<span class="op" id="6821550">*</span><span class="ident" id="6821551"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6821558">.</span><span class="ident" id="6821559">T</span><span class="op" id="6821560">,</span>&nbsp;<span class="ident" id="6821562">ifat</span>&nbsp;<span class="op" id="6821567">[</span><span class="op" id="6821568">]</span><span class="ident" id="6821569"><a href="/net/net.go.html#2652238">Addr</a></span><span class="op" id="6821573">)</span>&nbsp;<span class="op" id="6821575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6821578">for</span>&nbsp;<span class="ident" id="6821582">_</span><span class="op" id="6821583">,</span>&nbsp;<span class="ident" id="6821585">ifa</span>&nbsp;<span class="op" id="6821589">:=</span>&nbsp;<span class="keyword" id="6821592">range</span>&nbsp;<span class="ident" id="6821598"><a href="/net/interface_test.go.html#6821562">ifat</a></span>&nbsp;<span class="op" id="6821603">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6821607">switch</span>&nbsp;<span class="ident" id="6821614">ifa</span>&nbsp;<span class="op" id="6821618">:=</span>&nbsp;<span class="ident" id="6821621"><a href="/net/interface_test.go.html#6821585">ifa</a></span><span class="op" id="6821624">.</span><span class="op" id="6821625">(</span><span class="keyword" id="6821626">type</span><span class="op" id="6821630">)</span>&nbsp;<span class="op" id="6821632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6821636">case</span>&nbsp;<span class="op" id="6821641">*</span><span class="ident" id="6821642"><a href="/net/iprawsock.go.html#2619177">IPAddr</a></span><span class="op" id="6821648">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6821653">if</span>&nbsp;<span class="ident" id="6821656"><a href="/net/interface_test.go.html#6821614">ifa</a></span>&nbsp;<span class="op" id="6821660">==</span>&nbsp;<span class="ident" id="6821663">nil</span>&nbsp;<span class="op" id="6821667">||</span>&nbsp;<span class="ident" id="6821670"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6821673">.</span><span class="ident" id="6821674">IP</span>&nbsp;<span class="op" id="6821677">==</span>&nbsp;<span class="ident" id="6821680">nil</span>&nbsp;<span class="op" id="6821684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821690"><a href="/net/interface_test.go.html#6821548">t</a></span><span class="op" id="6821691">.</span><span class="ident" id="6821692">Errorf</span><span class="op" id="6821698">(</span><span class="string" id="6821699">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6821727">,</span>&nbsp;<span class="ident" id="6821729"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6821732">,</span>&nbsp;<span class="ident" id="6821734"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6821737">.</span><span class="ident" id="6821738">IP</span><span class="op" id="6821740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6821745">}</span>&nbsp;<span class="keyword" id="6821747">else</span>&nbsp;<span class="op" id="6821752">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821758"><a href="/net/interface_test.go.html#6821548">t</a></span><span class="op" id="6821759">.</span><span class="ident" id="6821760">Logf</span><span class="op" id="6821764">(</span><span class="string" id="6821765">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6821789">,</span>&nbsp;<span class="ident" id="6821791"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6821794">.</span><span class="ident" id="6821795">String</span><span class="op" id="6821801">(</span><span class="op" id="6821802">)</span><span class="op" id="6821803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6821808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6821812">case</span>&nbsp;<span class="op" id="6821817">*</span><span class="ident" id="6821818"><a href="/net/ip.go.html#2604436">IPNet</a></span><span class="op" id="6821823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6821828">if</span>&nbsp;<span class="ident" id="6821831"><a href="/net/interface_test.go.html#6821614">ifa</a></span>&nbsp;<span class="op" id="6821835">==</span>&nbsp;<span class="ident" id="6821838">nil</span>&nbsp;<span class="op" id="6821842">||</span>&nbsp;<span class="ident" id="6821845"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6821848">.</span><span class="ident" id="6821849">IP</span>&nbsp;<span class="op" id="6821852">==</span>&nbsp;<span class="ident" id="6821855">nil</span>&nbsp;<span class="op" id="6821859">||</span>&nbsp;<span class="ident" id="6821862"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6821865">.</span><span class="ident" id="6821866">Mask</span>&nbsp;<span class="op" id="6821871">==</span>&nbsp;<span class="ident" id="6821874">nil</span>&nbsp;<span class="op" id="6821878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821884"><a href="/net/interface_test.go.html#6821548">t</a></span><span class="op" id="6821885">.</span><span class="ident" id="6821886">Errorf</span><span class="op" id="6821892">(</span><span class="string" id="6821893">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6821925">,</span>&nbsp;<span class="ident" id="6821927"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6821930">,</span>&nbsp;<span class="ident" id="6821932"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6821935">.</span><span class="ident" id="6821936">IP</span><span class="op" id="6821938">,</span>&nbsp;<span class="ident" id="6821940"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6821943">.</span><span class="ident" id="6821944">Mask</span><span class="op" id="6821948">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6821953">}</span>&nbsp;<span class="keyword" id="6821955">else</span>&nbsp;<span class="op" id="6821960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6821966">_</span><span class="op" id="6821967">,</span>&nbsp;<span class="ident" id="6821969">prefixLen</span>&nbsp;<span class="op" id="6821979">:=</span>&nbsp;<span class="ident" id="6821982"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6821985">.</span><span class="ident" id="6821986">Mask</span><span class="op" id="6821990">.</span><span class="ident" id="6821991">Size</span><span class="op" id="6821995">(</span><span class="op" id="6821996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822002">if</span>&nbsp;<span class="ident" id="6822005"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6822008">.</span><span class="ident" id="6822009">IP</span><span class="op" id="6822011">.</span><span class="ident" id="6822012">To4</span><span class="op" id="6822015">(</span><span class="op" id="6822016">)</span>&nbsp;<span class="op" id="6822018">!=</span>&nbsp;<span class="ident" id="6822021">nil</span>&nbsp;<span class="op" id="6822025">&amp;&amp;</span>&nbsp;<span class="ident" id="6822028"><a href="/net/interface_test.go.html#6821969">prefixLen</a></span>&nbsp;<span class="op" id="6822038">!=</span>&nbsp;<span class="num" id="6822041">8</span><span class="op" id="6822042">*</span><span class="ident" id="6822043"><a href="/net/ip.go.html#2603910">IPv4len</a></span>&nbsp;<span class="op" id="6822051">||</span>&nbsp;<span class="ident" id="6822054"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6822057">.</span><span class="ident" id="6822058">IP</span><span class="op" id="6822060">.</span><span class="ident" id="6822061">To16</span><span class="op" id="6822065">(</span><span class="op" id="6822066">)</span>&nbsp;<span class="op" id="6822068">!=</span>&nbsp;<span class="ident" id="6822071">nil</span>&nbsp;<span class="op" id="6822075">&amp;&amp;</span>&nbsp;<span class="ident" id="6822078"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6822081">.</span><span class="ident" id="6822082">IP</span><span class="op" id="6822084">.</span><span class="ident" id="6822085">To4</span><span class="op" id="6822088">(</span><span class="op" id="6822089">)</span>&nbsp;<span class="op" id="6822091">==</span>&nbsp;<span class="ident" id="6822094">nil</span>&nbsp;<span class="op" id="6822098">&amp;&amp;</span>&nbsp;<span class="ident" id="6822101"><a href="/net/interface_test.go.html#6821969">prefixLen</a></span>&nbsp;<span class="op" id="6822111">!=</span>&nbsp;<span class="num" id="6822114">8</span><span class="op" id="6822115">*</span><span class="ident" id="6822116"><a href="/net/ip.go.html#2603923">IPv6len</a></span>&nbsp;<span class="op" id="6822124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6822131"><a href="/net/interface_test.go.html#6821548">t</a></span><span class="op" id="6822132">.</span><span class="ident" id="6822133">Errorf</span><span class="op" id="6822139">(</span><span class="string" id="6822140">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6822176">,</span>&nbsp;<span class="ident" id="6822178"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6822181">,</span>&nbsp;<span class="ident" id="6822183"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6822186">.</span><span class="ident" id="6822187">IP</span><span class="op" id="6822189">,</span>&nbsp;<span class="ident" id="6822191"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6822194">.</span><span class="ident" id="6822195">Mask</span><span class="op" id="6822199">,</span>&nbsp;<span class="ident" id="6822201"><a href="/net/interface_test.go.html#6821969">prefixLen</a></span><span class="op" id="6822210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822216">}</span>&nbsp;<span class="keyword" id="6822218">else</span>&nbsp;<span class="op" id="6822223">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6822230"><a href="/net/interface_test.go.html#6821548">t</a></span><span class="op" id="6822231">.</span><span class="ident" id="6822232">Logf</span><span class="op" id="6822236">(</span><span class="string" id="6822237">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6822261">,</span>&nbsp;<span class="ident" id="6822263"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6822266">.</span><span class="ident" id="6822267">String</span><span class="op" id="6822273">(</span><span class="op" id="6822274">)</span><span class="op" id="6822275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822290">default</span><span class="op" id="6822297">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6822302"><a href="/net/interface_test.go.html#6821548">t</a></span><span class="op" id="6822303">.</span><span class="ident" id="6822304">Errorf</span><span class="op" id="6822310">(</span><span class="string" id="6822311">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6822334">,</span>&nbsp;<span class="ident" id="6822336"><a href="/net/interface_test.go.html#6821614">ifa</a></span><span class="op" id="6822339">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822346">}</span><br>
<span class="lineno"></span><span class="op" id="6822348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6822351">func</span>&nbsp;<span class="ident" id="6822356">testMulticastAddrs</span><span class="op" id="6822374">(</span><span class="ident" id="6822375">t</span>&nbsp;<span class="op" id="6822377">*</span><span class="ident" id="6822378"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6822385">.</span><span class="ident" id="6822386">T</span><span class="op" id="6822387">,</span>&nbsp;<span class="ident" id="6822389">ifmat</span>&nbsp;<span class="op" id="6822395">[</span><span class="op" id="6822396">]</span><span class="ident" id="6822397"><a href="/net/net.go.html#2652238">Addr</a></span><span class="op" id="6822401">)</span>&nbsp;<span class="op" id="6822403">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822406">for</span>&nbsp;<span class="ident" id="6822410">_</span><span class="op" id="6822411">,</span>&nbsp;<span class="ident" id="6822413">ifma</span>&nbsp;<span class="op" id="6822418">:=</span>&nbsp;<span class="keyword" id="6822421">range</span>&nbsp;<span class="ident" id="6822427"><a href="/net/interface_test.go.html#6822389">ifmat</a></span>&nbsp;<span class="op" id="6822433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822437">switch</span>&nbsp;<span class="ident" id="6822444">ifma</span>&nbsp;<span class="op" id="6822449">:=</span>&nbsp;<span class="ident" id="6822452"><a href="/net/interface_test.go.html#6822413">ifma</a></span><span class="op" id="6822456">.</span><span class="op" id="6822457">(</span><span class="keyword" id="6822458">type</span><span class="op" id="6822462">)</span>&nbsp;<span class="op" id="6822464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822468">case</span>&nbsp;<span class="op" id="6822473">*</span><span class="ident" id="6822474"><a href="/net/iprawsock.go.html#2619177">IPAddr</a></span><span class="op" id="6822480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822485">if</span>&nbsp;<span class="ident" id="6822488"><a href="/net/interface_test.go.html#6822444">ifma</a></span>&nbsp;<span class="op" id="6822493">==</span>&nbsp;<span class="ident" id="6822496">nil</span>&nbsp;<span class="op" id="6822500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6822506"><a href="/net/interface_test.go.html#6822375">t</a></span><span class="op" id="6822507">.</span><span class="ident" id="6822508">Errorf</span><span class="op" id="6822514">(</span><span class="string" id="6822515">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="6822539">,</span>&nbsp;<span class="ident" id="6822541"><a href="/net/interface_test.go.html#6822444">ifma</a></span><span class="op" id="6822545">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822550">}</span>&nbsp;<span class="keyword" id="6822552">else</span>&nbsp;<span class="op" id="6822557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6822563"><a href="/net/interface_test.go.html#6822375">t</a></span><span class="op" id="6822564">.</span><span class="ident" id="6822565">Logf</span><span class="op" id="6822569">(</span><span class="string" id="6822570">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6822597">,</span>&nbsp;<span class="ident" id="6822599"><a href="/net/interface_test.go.html#6822444">ifma</a></span><span class="op" id="6822603">.</span><span class="ident" id="6822604">String</span><span class="op" id="6822610">(</span><span class="op" id="6822611">)</span><span class="op" id="6822612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822621">default</span><span class="op" id="6822628">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6822633"><a href="/net/interface_test.go.html#6822375">t</a></span><span class="op" id="6822634">.</span><span class="ident" id="6822635">Errorf</span><span class="op" id="6822641">(</span><span class="string" id="6822642">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6822665">,</span>&nbsp;<span class="ident" id="6822667"><a href="/net/interface_test.go.html#6822444">ifma</a></span><span class="op" id="6822671">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822678">}</span><br>
<span class="lineno"></span><span class="op" id="6822680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6822683">func</span>&nbsp;<span class="ident" id="6822688">BenchmarkInterfaces</span><span class="op" id="6822707">(</span><span class="ident" id="6822708">b</span>&nbsp;<span class="op" id="6822710">*</span><span class="ident" id="6822711"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6822718">.</span><span class="ident" id="6822719">B</span><span class="op" id="6822720">)</span>&nbsp;<span class="op" id="6822722">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822725">for</span>&nbsp;<span class="ident" id="6822729">i</span>&nbsp;<span class="op" id="6822731">:=</span>&nbsp;<span class="num" id="6822734">0</span><span class="op" id="6822735">;</span>&nbsp;<span class="ident" id="6822737"><a href="/net/interface_test.go.html#6822729">i</a></span>&nbsp;<span class="op" id="6822739">&lt;</span>&nbsp;<span class="ident" id="6822741"><a href="/net/interface_test.go.html#6822708">b</a></span><span class="op" id="6822742">.</span><span class="ident" id="6822743">N</span><span class="op" id="6822744">;</span>&nbsp;<span class="ident" id="6822746"><a href="/net/interface_test.go.html#6822729">i</a></span><span class="op" id="6822747">++</span>&nbsp;<span class="op" id="6822750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822754">if</span>&nbsp;<span class="ident" id="6822757">_</span><span class="op" id="6822758">,</span>&nbsp;<span class="ident" id="6822760">err</span>&nbsp;<span class="op" id="6822764">:=</span>&nbsp;<span class="ident" id="6822767"><a href="/net/interface.go.html#2595102">Interfaces</a></span><span class="op" id="6822777">(</span><span class="op" id="6822778">)</span><span class="op" id="6822779">;</span>&nbsp;<span class="ident" id="6822781"><a href="/net/interface_test.go.html#6822760">err</a></span>&nbsp;<span class="op" id="6822785">!=</span>&nbsp;<span class="ident" id="6822788">nil</span>&nbsp;<span class="op" id="6822792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6822797"><a href="/net/interface_test.go.html#6822708">b</a></span><span class="op" id="6822798">.</span><span class="ident" id="6822799">Fatalf</span><span class="op" id="6822805">(</span><span class="string" id="6822806">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6822829">,</span>&nbsp;<span class="ident" id="6822831"><a href="/net/interface_test.go.html#6822760">err</a></span><span class="op" id="6822834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822841">}</span><br>
<span class="lineno">155</span><span class="op" id="6822843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6822846">func</span>&nbsp;<span class="ident" id="6822851">BenchmarkInterfaceByIndex</span><span class="op" id="6822876">(</span><span class="ident" id="6822877">b</span>&nbsp;<span class="op" id="6822879">*</span><span class="ident" id="6822880"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6822887">.</span><span class="ident" id="6822888">B</span><span class="op" id="6822889">)</span>&nbsp;<span class="op" id="6822891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6822894">ifi</span>&nbsp;<span class="op" id="6822898">:=</span>&nbsp;<span class="ident" id="6822901"><a href="/net/interface_test.go.html#6819206">loopbackInterface</a></span><span class="op" id="6822918">(</span><span class="op" id="6822919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822922">if</span>&nbsp;<span class="ident" id="6822925"><a href="/net/interface_test.go.html#6822894">ifi</a></span>&nbsp;<span class="op" id="6822929">==</span>&nbsp;<span class="ident" id="6822932">nil</span>&nbsp;<span class="op" id="6822936">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6822940"><a href="/net/interface_test.go.html#6822877">b</a></span><span class="op" id="6822941">.</span><span class="ident" id="6822942">Skip</span><span class="op" id="6822946">(</span><span class="string" id="6822947">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6822977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6822980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6822983">for</span>&nbsp;<span class="ident" id="6822987">i</span>&nbsp;<span class="op" id="6822989">:=</span>&nbsp;<span class="num" id="6822992">0</span><span class="op" id="6822993">;</span>&nbsp;<span class="ident" id="6822995"><a href="/net/interface_test.go.html#6822987">i</a></span>&nbsp;<span class="op" id="6822997">&lt;</span>&nbsp;<span class="ident" id="6822999"><a href="/net/interface_test.go.html#6822877">b</a></span><span class="op" id="6823000">.</span><span class="ident" id="6823001">N</span><span class="op" id="6823002">;</span>&nbsp;<span class="ident" id="6823004"><a href="/net/interface_test.go.html#6822987">i</a></span><span class="op" id="6823005">++</span>&nbsp;<span class="op" id="6823008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823012">if</span>&nbsp;<span class="ident" id="6823015">_</span><span class="op" id="6823016">,</span>&nbsp;<span class="ident" id="6823018">err</span>&nbsp;<span class="op" id="6823022">:=</span>&nbsp;<span class="ident" id="6823025"><a href="/net/interface.go.html#2595390">InterfaceByIndex</a></span><span class="op" id="6823041">(</span><span class="ident" id="6823042"><a href="/net/interface_test.go.html#6822894">ifi</a></span><span class="op" id="6823045">.</span><span class="ident" id="6823046">Index</span><span class="op" id="6823051">)</span><span class="op" id="6823052">;</span>&nbsp;<span class="ident" id="6823054"><a href="/net/interface_test.go.html#6823018">err</a></span>&nbsp;<span class="op" id="6823058">!=</span>&nbsp;<span class="ident" id="6823061">nil</span>&nbsp;<span class="op" id="6823065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6823070"><a href="/net/interface_test.go.html#6822877">b</a></span><span class="op" id="6823071">.</span><span class="ident" id="6823072">Fatalf</span><span class="op" id="6823078">(</span><span class="string" id="6823079">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6823108">,</span>&nbsp;<span class="ident" id="6823110"><a href="/net/interface_test.go.html#6823018">err</a></span><span class="op" id="6823113">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823120">}</span><br>
<span class="lineno"></span><span class="op" id="6823122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6823125">func</span>&nbsp;<span class="ident" id="6823130">BenchmarkInterfaceByName</span><span class="op" id="6823154">(</span><span class="ident" id="6823155">b</span>&nbsp;<span class="op" id="6823157">*</span><span class="ident" id="6823158"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6823165">.</span><span class="ident" id="6823166">B</span><span class="op" id="6823167">)</span>&nbsp;<span class="op" id="6823169">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6823172">ifi</span>&nbsp;<span class="op" id="6823176">:=</span>&nbsp;<span class="ident" id="6823179"><a href="/net/interface_test.go.html#6819206">loopbackInterface</a></span><span class="op" id="6823196">(</span><span class="op" id="6823197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823200">if</span>&nbsp;<span class="ident" id="6823203"><a href="/net/interface_test.go.html#6823172">ifi</a></span>&nbsp;<span class="op" id="6823207">==</span>&nbsp;<span class="ident" id="6823210">nil</span>&nbsp;<span class="op" id="6823214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6823218"><a href="/net/interface_test.go.html#6823155">b</a></span><span class="op" id="6823219">.</span><span class="ident" id="6823220">Skip</span><span class="op" id="6823224">(</span><span class="string" id="6823225">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6823255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823261">for</span>&nbsp;<span class="ident" id="6823265">i</span>&nbsp;<span class="op" id="6823267">:=</span>&nbsp;<span class="num" id="6823270">0</span><span class="op" id="6823271">;</span>&nbsp;<span class="ident" id="6823273"><a href="/net/interface_test.go.html#6823265">i</a></span>&nbsp;<span class="op" id="6823275">&lt;</span>&nbsp;<span class="ident" id="6823277"><a href="/net/interface_test.go.html#6823155">b</a></span><span class="op" id="6823278">.</span><span class="ident" id="6823279">N</span><span class="op" id="6823280">;</span>&nbsp;<span class="ident" id="6823282"><a href="/net/interface_test.go.html#6823265">i</a></span><span class="op" id="6823283">++</span>&nbsp;<span class="op" id="6823286">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823290">if</span>&nbsp;<span class="ident" id="6823293">_</span><span class="op" id="6823294">,</span>&nbsp;<span class="ident" id="6823296">err</span>&nbsp;<span class="op" id="6823300">:=</span>&nbsp;<span class="ident" id="6823303"><a href="/net/interface.go.html#2595864">InterfaceByName</a></span><span class="op" id="6823318">(</span><span class="ident" id="6823319"><a href="/net/interface_test.go.html#6823172">ifi</a></span><span class="op" id="6823322">.</span><span class="ident" id="6823323">Name</span><span class="op" id="6823327">)</span><span class="op" id="6823328">;</span>&nbsp;<span class="ident" id="6823330"><a href="/net/interface_test.go.html#6823296">err</a></span>&nbsp;<span class="op" id="6823334">!=</span>&nbsp;<span class="ident" id="6823337">nil</span>&nbsp;<span class="op" id="6823341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6823346"><a href="/net/interface_test.go.html#6823155">b</a></span><span class="op" id="6823347">.</span><span class="ident" id="6823348">Fatalf</span><span class="op" id="6823354">(</span><span class="string" id="6823355">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6823383">,</span>&nbsp;<span class="ident" id="6823385"><a href="/net/interface_test.go.html#6823296">err</a></span><span class="op" id="6823388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823395">}</span><br>
<span class="lineno"></span><span class="op" id="6823397">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="6823400">func</span>&nbsp;<span class="ident" id="6823405">BenchmarkInterfaceAddrs</span><span class="op" id="6823428">(</span><span class="ident" id="6823429">b</span>&nbsp;<span class="op" id="6823431">*</span><span class="ident" id="6823432"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6823439">.</span><span class="ident" id="6823440">B</span><span class="op" id="6823441">)</span>&nbsp;<span class="op" id="6823443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823446">for</span>&nbsp;<span class="ident" id="6823450">i</span>&nbsp;<span class="op" id="6823452">:=</span>&nbsp;<span class="num" id="6823455">0</span><span class="op" id="6823456">;</span>&nbsp;<span class="ident" id="6823458"><a href="/net/interface_test.go.html#6823450">i</a></span>&nbsp;<span class="op" id="6823460">&lt;</span>&nbsp;<span class="ident" id="6823462"><a href="/net/interface_test.go.html#6823429">b</a></span><span class="op" id="6823463">.</span><span class="ident" id="6823464">N</span><span class="op" id="6823465">;</span>&nbsp;<span class="ident" id="6823467"><a href="/net/interface_test.go.html#6823450">i</a></span><span class="op" id="6823468">++</span>&nbsp;<span class="op" id="6823471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823475">if</span>&nbsp;<span class="ident" id="6823478">_</span><span class="op" id="6823479">,</span>&nbsp;<span class="ident" id="6823481">err</span>&nbsp;<span class="op" id="6823485">:=</span>&nbsp;<span class="ident" id="6823488"><a href="/net/interface.go.html#2595253">InterfaceAddrs</a></span><span class="op" id="6823502">(</span><span class="op" id="6823503">)</span><span class="op" id="6823504">;</span>&nbsp;<span class="ident" id="6823506"><a href="/net/interface_test.go.html#6823481">err</a></span>&nbsp;<span class="op" id="6823510">!=</span>&nbsp;<span class="ident" id="6823513">nil</span>&nbsp;<span class="op" id="6823517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6823522"><a href="/net/interface_test.go.html#6823429">b</a></span><span class="op" id="6823523">.</span><span class="ident" id="6823524">Fatalf</span><span class="op" id="6823530">(</span><span class="string" id="6823531">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6823558">,</span>&nbsp;<span class="ident" id="6823560"><a href="/net/interface_test.go.html#6823481">err</a></span><span class="op" id="6823563">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823570">}</span><br>
<span class="lineno"></span><span class="op" id="6823572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6823575">func</span>&nbsp;<span class="ident" id="6823580">BenchmarkInterfacesAndAddrs</span><span class="op" id="6823607">(</span><span class="ident" id="6823608">b</span>&nbsp;<span class="op" id="6823610">*</span><span class="ident" id="6823611"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6823618">.</span><span class="ident" id="6823619">B</span><span class="op" id="6823620">)</span>&nbsp;<span class="op" id="6823622">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6823625">ifi</span>&nbsp;<span class="op" id="6823629">:=</span>&nbsp;<span class="ident" id="6823632"><a href="/net/interface_test.go.html#6819206">loopbackInterface</a></span><span class="op" id="6823649">(</span><span class="op" id="6823650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823653">if</span>&nbsp;<span class="ident" id="6823656"><a href="/net/interface_test.go.html#6823625">ifi</a></span>&nbsp;<span class="op" id="6823660">==</span>&nbsp;<span class="ident" id="6823663">nil</span>&nbsp;<span class="op" id="6823667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6823671"><a href="/net/interface_test.go.html#6823608">b</a></span><span class="op" id="6823672">.</span><span class="ident" id="6823673">Skip</span><span class="op" id="6823677">(</span><span class="string" id="6823678">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6823708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823714">for</span>&nbsp;<span class="ident" id="6823718">i</span>&nbsp;<span class="op" id="6823720">:=</span>&nbsp;<span class="num" id="6823723">0</span><span class="op" id="6823724">;</span>&nbsp;<span class="ident" id="6823726"><a href="/net/interface_test.go.html#6823718">i</a></span>&nbsp;<span class="op" id="6823728">&lt;</span>&nbsp;<span class="ident" id="6823730"><a href="/net/interface_test.go.html#6823608">b</a></span><span class="op" id="6823731">.</span><span class="ident" id="6823732">N</span><span class="op" id="6823733">;</span>&nbsp;<span class="ident" id="6823735"><a href="/net/interface_test.go.html#6823718">i</a></span><span class="op" id="6823736">++</span>&nbsp;<span class="op" id="6823739">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823743">if</span>&nbsp;<span class="ident" id="6823746">_</span><span class="op" id="6823747">,</span>&nbsp;<span class="ident" id="6823749">err</span>&nbsp;<span class="op" id="6823753">:=</span>&nbsp;<span class="ident" id="6823756"><a href="/net/interface_test.go.html#6823625">ifi</a></span><span class="op" id="6823759">.</span><span class="ident" id="6823760">Addrs</span><span class="op" id="6823765">(</span><span class="op" id="6823766">)</span><span class="op" id="6823767">;</span>&nbsp;<span class="ident" id="6823769"><a href="/net/interface_test.go.html#6823749">err</a></span>&nbsp;<span class="op" id="6823773">!=</span>&nbsp;<span class="ident" id="6823776">nil</span>&nbsp;<span class="op" id="6823780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6823785"><a href="/net/interface_test.go.html#6823608">b</a></span><span class="op" id="6823786">.</span><span class="ident" id="6823787">Fatalf</span><span class="op" id="6823793">(</span><span class="string" id="6823794">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6823822">,</span>&nbsp;<span class="ident" id="6823824"><a href="/net/interface_test.go.html#6823749">err</a></span><span class="op" id="6823827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823834">}</span><br>
<span class="lineno"></span><span class="op" id="6823836">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6823839">func</span>&nbsp;<span class="ident" id="6823844">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="6823880">(</span><span class="ident" id="6823881">b</span>&nbsp;<span class="op" id="6823883">*</span><span class="ident" id="6823884"><a href="/net/interface_test.go.html#6819043">testing</a></span><span class="op" id="6823891">.</span><span class="ident" id="6823892">B</span><span class="op" id="6823893">)</span>&nbsp;<span class="op" id="6823895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6823898">ifi</span>&nbsp;<span class="op" id="6823902">:=</span>&nbsp;<span class="ident" id="6823905"><a href="/net/interface_test.go.html#6819206">loopbackInterface</a></span><span class="op" id="6823922">(</span><span class="op" id="6823923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823926">if</span>&nbsp;<span class="ident" id="6823929"><a href="/net/interface_test.go.html#6823898">ifi</a></span>&nbsp;<span class="op" id="6823933">==</span>&nbsp;<span class="ident" id="6823936">nil</span>&nbsp;<span class="op" id="6823940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6823944"><a href="/net/interface_test.go.html#6823881">b</a></span><span class="op" id="6823945">.</span><span class="ident" id="6823946">Skip</span><span class="op" id="6823950">(</span><span class="string" id="6823951">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6823981">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6823984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6823987">for</span>&nbsp;<span class="ident" id="6823991">i</span>&nbsp;<span class="op" id="6823993">:=</span>&nbsp;<span class="num" id="6823996">0</span><span class="op" id="6823997">;</span>&nbsp;<span class="ident" id="6823999"><a href="/net/interface_test.go.html#6823991">i</a></span>&nbsp;<span class="op" id="6824001">&lt;</span>&nbsp;<span class="ident" id="6824003"><a href="/net/interface_test.go.html#6823881">b</a></span><span class="op" id="6824004">.</span><span class="ident" id="6824005">N</span><span class="op" id="6824006">;</span>&nbsp;<span class="ident" id="6824008"><a href="/net/interface_test.go.html#6823991">i</a></span><span class="op" id="6824009">++</span>&nbsp;<span class="op" id="6824012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6824016">if</span>&nbsp;<span class="ident" id="6824019">_</span><span class="op" id="6824020">,</span>&nbsp;<span class="ident" id="6824022">err</span>&nbsp;<span class="op" id="6824026">:=</span>&nbsp;<span class="ident" id="6824029"><a href="/net/interface_test.go.html#6823898">ifi</a></span><span class="op" id="6824032">.</span><span class="ident" id="6824033">MulticastAddrs</span><span class="op" id="6824047">(</span><span class="op" id="6824048">)</span><span class="op" id="6824049">;</span>&nbsp;<span class="ident" id="6824051"><a href="/net/interface_test.go.html#6824022">err</a></span>&nbsp;<span class="op" id="6824055">!=</span>&nbsp;<span class="ident" id="6824058">nil</span>&nbsp;<span class="op" id="6824062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6824067"><a href="/net/interface_test.go.html#6823881">b</a></span><span class="op" id="6824068">.</span><span class="ident" id="6824069">Fatalf</span><span class="op" id="6824075">(</span><span class="string" id="6824076">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6824113">,</span>&nbsp;<span class="ident" id="6824115"><a href="/net/interface_test.go.html#6824022">err</a></span><span class="op" id="6824118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6824122">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6824125">}</span><br>
<span class="lineno"></span><span class="op" id="6824127">}</span>
</div>
</body>
</html>
