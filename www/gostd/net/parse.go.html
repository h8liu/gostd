<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html" class="current">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3150832">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3150887">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3150941">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3150992">//&nbsp;Simple&nbsp;file&nbsp;i/o&nbsp;and&nbsp;string&nbsp;manipulation,&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span><span class="comment" id="3151045">//&nbsp;depending&nbsp;on&nbsp;strconv&nbsp;and&nbsp;bufio&nbsp;and&nbsp;strings.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3151093">package</span>&nbsp;<span class="ident" id="3151101">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="3151106">import</span>&nbsp;<span class="op" id="3151113">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3151116">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3151122">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3151127">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3151130">type</span>&nbsp;<span class="ident" id="3151135">file</span>&nbsp;<span class="keyword" id="3151140">struct</span>&nbsp;<span class="op" id="3151147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151150">file</span>&nbsp;&nbsp;<span class="op" id="3151156">*</span><span class="ident" id="3151157">os</span><span class="op" id="3151159">.</span><span class="ident" id="3151160">File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151166">data</span>&nbsp;&nbsp;<span class="op" id="3151172">[</span><span class="op" id="3151173">]</span><span class="builtintype" id="3151174">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151180">atEOF</span>&nbsp;<span class="builtintype" id="3151186">bool</span><br>
<span class="lineno"></span><span class="op" id="3151191">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="3151194">func</span>&nbsp;<span class="op" id="3151199">(</span><span class="ident" id="3151200">f</span>&nbsp;<span class="op" id="3151202">*</span><span class="ident" id="3151203">file</span><span class="op" id="3151207">)</span>&nbsp;<span class="builtinfunc" id="3151209">close</span><span class="op" id="3151214">(</span><span class="op" id="3151215">)</span>&nbsp;<span class="op" id="3151217">{</span>&nbsp;<span class="ident" id="3151219">f</span><span class="op" id="3151220">.</span><span class="ident" id="3151221">file</span><span class="op" id="3151225">.</span><span class="ident" id="3151226">Close</span><span class="op" id="3151231">(</span><span class="op" id="3151232">)</span>&nbsp;<span class="op" id="3151234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3151237">func</span>&nbsp;<span class="op" id="3151242">(</span><span class="ident" id="3151243">f</span>&nbsp;<span class="op" id="3151245">*</span><span class="ident" id="3151246">file</span><span class="op" id="3151250">)</span>&nbsp;<span class="ident" id="3151252">getLineFromData</span><span class="op" id="3151267">(</span><span class="op" id="3151268">)</span>&nbsp;<span class="op" id="3151270">(</span><span class="ident" id="3151271">s</span>&nbsp;<span class="builtintype" id="3151273">string</span><span class="op" id="3151279">,</span>&nbsp;<span class="ident" id="3151281">ok</span>&nbsp;<span class="builtintype" id="3151284">bool</span><span class="op" id="3151288">)</span>&nbsp;<span class="op" id="3151290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151293">data</span>&nbsp;<span class="op" id="3151298">:=</span>&nbsp;<span class="ident" id="3151301">f</span><span class="op" id="3151302">.</span><span class="ident" id="3151303">data</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151309">i</span>&nbsp;<span class="op" id="3151311">:=</span>&nbsp;<span class="num" id="3151314">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151317">for</span>&nbsp;<span class="ident" id="3151321">i</span>&nbsp;<span class="op" id="3151323">=</span>&nbsp;<span class="num" id="3151325">0</span><span class="op" id="3151326">;</span>&nbsp;<span class="ident" id="3151328">i</span>&nbsp;<span class="op" id="3151330">&lt;</span>&nbsp;<span class="builtinfunc" id="3151332">len</span><span class="op" id="3151335">(</span><span class="ident" id="3151336">data</span><span class="op" id="3151340">)</span><span class="op" id="3151341">;</span>&nbsp;<span class="ident" id="3151343">i</span><span class="op" id="3151344">++</span>&nbsp;<span class="op" id="3151347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151351">if</span>&nbsp;<span class="ident" id="3151354">data</span><span class="op" id="3151358">[</span><span class="ident" id="3151359">i</span><span class="op" id="3151360">]</span>&nbsp;<span class="op" id="3151362">==</span>&nbsp;<span class="string" id="3151365">&#39;\n&#39;</span>&nbsp;<span class="op" id="3151370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151375">s</span>&nbsp;<span class="op" id="3151377">=</span>&nbsp;<span class="builtintype" id="3151379">string</span><span class="op" id="3151385">(</span><span class="ident" id="3151386">data</span><span class="op" id="3151390">[</span><span class="num" id="3151391">0</span><span class="op" id="3151392">:</span><span class="ident" id="3151393">i</span><span class="op" id="3151394">]</span><span class="op" id="3151395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151400">ok</span>&nbsp;<span class="op" id="3151403">=</span>&nbsp;<span class="builtintype" id="3151405">true</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3151413">//&nbsp;move&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151429">i</span><span class="op" id="3151430">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151436">n</span>&nbsp;<span class="op" id="3151438">:=</span>&nbsp;<span class="builtinfunc" id="3151441">len</span><span class="op" id="3151444">(</span><span class="ident" id="3151445">data</span><span class="op" id="3151449">)</span>&nbsp;<span class="op" id="3151451">-</span>&nbsp;<span class="ident" id="3151453">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3151458">copy</span><span class="op" id="3151462">(</span><span class="ident" id="3151463">data</span><span class="op" id="3151467">[</span><span class="num" id="3151468">0</span><span class="op" id="3151469">:</span><span class="op" id="3151470">]</span><span class="op" id="3151471">,</span>&nbsp;<span class="ident" id="3151473">data</span><span class="op" id="3151477">[</span><span class="ident" id="3151478">i</span><span class="op" id="3151479">:</span><span class="op" id="3151480">]</span><span class="op" id="3151481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151486">f</span><span class="op" id="3151487">.</span><span class="ident" id="3151488">data</span>&nbsp;<span class="op" id="3151493">=</span>&nbsp;<span class="ident" id="3151495">data</span><span class="op" id="3151499">[</span><span class="num" id="3151500">0</span><span class="op" id="3151501">:</span><span class="ident" id="3151502">n</span><span class="op" id="3151503">]</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151508">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151523">if</span>&nbsp;<span class="ident" id="3151526">f</span><span class="op" id="3151527">.</span><span class="ident" id="3151528">atEOF</span>&nbsp;<span class="op" id="3151534">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3151537">len</span><span class="op" id="3151540">(</span><span class="ident" id="3151541">f</span><span class="op" id="3151542">.</span><span class="ident" id="3151543">data</span><span class="op" id="3151547">)</span>&nbsp;<span class="op" id="3151549">&gt;</span>&nbsp;<span class="num" id="3151551">0</span>&nbsp;<span class="op" id="3151553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3151557">//&nbsp;EOF,&nbsp;return&nbsp;all&nbsp;we&nbsp;have</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151586">s</span>&nbsp;<span class="op" id="3151588">=</span>&nbsp;<span class="builtintype" id="3151590">string</span><span class="op" id="3151596">(</span><span class="ident" id="3151597">data</span><span class="op" id="3151601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151605">f</span><span class="op" id="3151606">.</span><span class="ident" id="3151607">data</span>&nbsp;<span class="op" id="3151612">=</span>&nbsp;<span class="ident" id="3151614">f</span><span class="op" id="3151615">.</span><span class="ident" id="3151616">data</span><span class="op" id="3151620">[</span><span class="num" id="3151621">0</span><span class="op" id="3151622">:</span><span class="num" id="3151623">0</span><span class="op" id="3151624">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151628">ok</span>&nbsp;<span class="op" id="3151631">=</span>&nbsp;<span class="builtintype" id="3151633">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151642">return</span><br>
<span class="lineno">45</span><span class="op" id="3151649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3151652">func</span>&nbsp;<span class="op" id="3151657">(</span><span class="ident" id="3151658">f</span>&nbsp;<span class="op" id="3151660">*</span><span class="ident" id="3151661">file</span><span class="op" id="3151665">)</span>&nbsp;<span class="ident" id="3151667">readLine</span><span class="op" id="3151675">(</span><span class="op" id="3151676">)</span>&nbsp;<span class="op" id="3151678">(</span><span class="ident" id="3151679">s</span>&nbsp;<span class="builtintype" id="3151681">string</span><span class="op" id="3151687">,</span>&nbsp;<span class="ident" id="3151689">ok</span>&nbsp;<span class="builtintype" id="3151692">bool</span><span class="op" id="3151696">)</span>&nbsp;<span class="op" id="3151698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151701">if</span>&nbsp;<span class="ident" id="3151704">s</span><span class="op" id="3151705">,</span>&nbsp;<span class="ident" id="3151707">ok</span>&nbsp;<span class="op" id="3151710">=</span>&nbsp;<span class="ident" id="3151712">f</span><span class="op" id="3151713">.</span><span class="ident" id="3151714">getLineFromData</span><span class="op" id="3151729">(</span><span class="op" id="3151730">)</span><span class="op" id="3151731">;</span>&nbsp;<span class="ident" id="3151733">ok</span>&nbsp;<span class="op" id="3151736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151740">return</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151751">if</span>&nbsp;<span class="builtinfunc" id="3151754">len</span><span class="op" id="3151757">(</span><span class="ident" id="3151758">f</span><span class="op" id="3151759">.</span><span class="ident" id="3151760">data</span><span class="op" id="3151764">)</span>&nbsp;<span class="op" id="3151766">&lt;</span>&nbsp;<span class="builtinfunc" id="3151768">cap</span><span class="op" id="3151771">(</span><span class="ident" id="3151772">f</span><span class="op" id="3151773">.</span><span class="ident" id="3151774">data</span><span class="op" id="3151778">)</span>&nbsp;<span class="op" id="3151780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151784">ln</span>&nbsp;<span class="op" id="3151787">:=</span>&nbsp;<span class="builtinfunc" id="3151790">len</span><span class="op" id="3151793">(</span><span class="ident" id="3151794">f</span><span class="op" id="3151795">.</span><span class="ident" id="3151796">data</span><span class="op" id="3151800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151804">n</span><span class="op" id="3151805">,</span>&nbsp;<span class="ident" id="3151807">err</span>&nbsp;<span class="op" id="3151811">:=</span>&nbsp;<span class="ident" id="3151814">io</span><span class="op" id="3151816">.</span><span class="ident" id="3151817">ReadFull</span><span class="op" id="3151825">(</span><span class="ident" id="3151826">f</span><span class="op" id="3151827">.</span><span class="ident" id="3151828">file</span><span class="op" id="3151832">,</span>&nbsp;<span class="ident" id="3151834">f</span><span class="op" id="3151835">.</span><span class="ident" id="3151836">data</span><span class="op" id="3151840">[</span><span class="ident" id="3151841">ln</span><span class="op" id="3151843">:</span><span class="builtinfunc" id="3151844">cap</span><span class="op" id="3151847">(</span><span class="ident" id="3151848">f</span><span class="op" id="3151849">.</span><span class="ident" id="3151850">data</span><span class="op" id="3151854">)</span><span class="op" id="3151855">]</span><span class="op" id="3151856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151860">if</span>&nbsp;<span class="ident" id="3151863">n</span>&nbsp;<span class="op" id="3151865">&gt;=</span>&nbsp;<span class="num" id="3151868">0</span>&nbsp;<span class="op" id="3151870">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151875">f</span><span class="op" id="3151876">.</span><span class="ident" id="3151877">data</span>&nbsp;<span class="op" id="3151882">=</span>&nbsp;<span class="ident" id="3151884">f</span><span class="op" id="3151885">.</span><span class="ident" id="3151886">data</span><span class="op" id="3151890">[</span><span class="num" id="3151891">0</span>&nbsp;<span class="op" id="3151893">:</span>&nbsp;<span class="ident" id="3151895">ln</span><span class="op" id="3151897">+</span><span class="ident" id="3151898">n</span><span class="op" id="3151899">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151907">if</span>&nbsp;<span class="ident" id="3151910">err</span>&nbsp;<span class="op" id="3151914">==</span>&nbsp;<span class="ident" id="3151917">io</span><span class="op" id="3151919">.</span><span class="ident" id="3151920">EOF</span>&nbsp;<span class="op" id="3151924">||</span>&nbsp;<span class="ident" id="3151927">err</span>&nbsp;<span class="op" id="3151931">==</span>&nbsp;<span class="ident" id="3151934">io</span><span class="op" id="3151936">.</span><span class="ident" id="3151937">ErrUnexpectedEOF</span>&nbsp;<span class="op" id="3151954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151959">f</span><span class="op" id="3151960">.</span><span class="ident" id="3151961">atEOF</span>&nbsp;<span class="op" id="3151967">=</span>&nbsp;<span class="builtintype" id="3151969">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151976">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151982">s</span><span class="op" id="3151983">,</span>&nbsp;<span class="ident" id="3151985">ok</span>&nbsp;<span class="op" id="3151988">=</span>&nbsp;<span class="ident" id="3151990">f</span><span class="op" id="3151991">.</span><span class="ident" id="3151992">getLineFromData</span><span class="op" id="3152007">(</span><span class="op" id="3152008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152011">return</span><br>
<span class="lineno"></span><span class="op" id="3152018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="3152021">func</span>&nbsp;<span class="ident" id="3152026">open</span><span class="op" id="3152030">(</span><span class="ident" id="3152031">name</span>&nbsp;<span class="builtintype" id="3152036">string</span><span class="op" id="3152042">)</span>&nbsp;<span class="op" id="3152044">(</span><span class="op" id="3152045">*</span><span class="ident" id="3152046">file</span><span class="op" id="3152050">,</span>&nbsp;<span class="builtintype" id="3152052">error</span><span class="op" id="3152057">)</span>&nbsp;<span class="op" id="3152059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152062">fd</span><span class="op" id="3152064">,</span>&nbsp;<span class="ident" id="3152066">err</span>&nbsp;<span class="op" id="3152070">:=</span>&nbsp;<span class="ident" id="3152073">os</span><span class="op" id="3152075">.</span><span class="ident" id="3152076">Open</span><span class="op" id="3152080">(</span><span class="ident" id="3152081">name</span><span class="op" id="3152085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152088">if</span>&nbsp;<span class="ident" id="3152091">err</span>&nbsp;<span class="op" id="3152095">!=</span>&nbsp;<span class="ident" id="3152098">nil</span>&nbsp;<span class="op" id="3152102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152106">return</span>&nbsp;<span class="ident" id="3152113">nil</span><span class="op" id="3152116">,</span>&nbsp;<span class="ident" id="3152118">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152123">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152126">return</span>&nbsp;<span class="op" id="3152133">&amp;</span><span class="ident" id="3152134">file</span><span class="op" id="3152138">{</span><span class="ident" id="3152139">fd</span><span class="op" id="3152141">,</span>&nbsp;<span class="builtinfunc" id="3152143">make</span><span class="op" id="3152147">(</span><span class="op" id="3152148">[</span><span class="op" id="3152149">]</span><span class="builtintype" id="3152150">byte</span><span class="op" id="3152154">,</span>&nbsp;<span class="num" id="3152156">0</span><span class="op" id="3152157">,</span>&nbsp;<span class="ident" id="3152159">os</span><span class="op" id="3152161">.</span><span class="ident" id="3152162">Getpagesize</span><span class="op" id="3152173">(</span><span class="op" id="3152174">)</span><span class="op" id="3152175">)</span><span class="op" id="3152176">,</span>&nbsp;<span class="builtintype" id="3152178">false</span><span class="op" id="3152183">}</span><span class="op" id="3152184">,</span>&nbsp;<span class="ident" id="3152186">nil</span><br>
<span class="lineno"></span><span class="op" id="3152190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3152193">func</span>&nbsp;<span class="ident" id="3152198">byteIndex</span><span class="op" id="3152207">(</span><span class="ident" id="3152208">s</span>&nbsp;<span class="builtintype" id="3152210">string</span><span class="op" id="3152216">,</span>&nbsp;<span class="ident" id="3152218">c</span>&nbsp;<span class="builtintype" id="3152220">byte</span><span class="op" id="3152224">)</span>&nbsp;<span class="builtintype" id="3152226">int</span>&nbsp;<span class="op" id="3152230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152233">for</span>&nbsp;<span class="ident" id="3152237">i</span>&nbsp;<span class="op" id="3152239">:=</span>&nbsp;<span class="num" id="3152242">0</span><span class="op" id="3152243">;</span>&nbsp;<span class="ident" id="3152245">i</span>&nbsp;<span class="op" id="3152247">&lt;</span>&nbsp;<span class="builtinfunc" id="3152249">len</span><span class="op" id="3152252">(</span><span class="ident" id="3152253">s</span><span class="op" id="3152254">)</span><span class="op" id="3152255">;</span>&nbsp;<span class="ident" id="3152257">i</span><span class="op" id="3152258">++</span>&nbsp;<span class="op" id="3152261">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152265">if</span>&nbsp;<span class="ident" id="3152268">s</span><span class="op" id="3152269">[</span><span class="ident" id="3152270">i</span><span class="op" id="3152271">]</span>&nbsp;<span class="op" id="3152273">==</span>&nbsp;<span class="ident" id="3152276">c</span>&nbsp;<span class="op" id="3152278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152283">return</span>&nbsp;<span class="ident" id="3152290">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152300">return</span>&nbsp;<span class="op" id="3152307">-</span><span class="num" id="3152308">1</span><br>
<span class="lineno">80</span><span class="op" id="3152310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3152313">//&nbsp;Count&nbsp;occurrences&nbsp;in&nbsp;s&nbsp;of&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3152358">func</span>&nbsp;<span class="ident" id="3152363">countAnyByte</span><span class="op" id="3152375">(</span><span class="ident" id="3152376">s</span>&nbsp;<span class="builtintype" id="3152378">string</span><span class="op" id="3152384">,</span>&nbsp;<span class="ident" id="3152386">t</span>&nbsp;<span class="builtintype" id="3152388">string</span><span class="op" id="3152394">)</span>&nbsp;<span class="builtintype" id="3152396">int</span>&nbsp;<span class="op" id="3152400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152403">n</span>&nbsp;<span class="op" id="3152405">:=</span>&nbsp;<span class="num" id="3152408">0</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152411">for</span>&nbsp;<span class="ident" id="3152415">i</span>&nbsp;<span class="op" id="3152417">:=</span>&nbsp;<span class="num" id="3152420">0</span><span class="op" id="3152421">;</span>&nbsp;<span class="ident" id="3152423">i</span>&nbsp;<span class="op" id="3152425">&lt;</span>&nbsp;<span class="builtinfunc" id="3152427">len</span><span class="op" id="3152430">(</span><span class="ident" id="3152431">s</span><span class="op" id="3152432">)</span><span class="op" id="3152433">;</span>&nbsp;<span class="ident" id="3152435">i</span><span class="op" id="3152436">++</span>&nbsp;<span class="op" id="3152439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152443">if</span>&nbsp;<span class="ident" id="3152446">byteIndex</span><span class="op" id="3152455">(</span><span class="ident" id="3152456">t</span><span class="op" id="3152457">,</span>&nbsp;<span class="ident" id="3152459">s</span><span class="op" id="3152460">[</span><span class="ident" id="3152461">i</span><span class="op" id="3152462">]</span><span class="op" id="3152463">)</span>&nbsp;<span class="op" id="3152465">&gt;=</span>&nbsp;<span class="num" id="3152468">0</span>&nbsp;<span class="op" id="3152470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152475">n</span><span class="op" id="3152476">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152484">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152487">return</span>&nbsp;<span class="ident" id="3152494">n</span><br>
<span class="lineno"></span><span class="op" id="3152496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3152499">//&nbsp;Split&nbsp;s&nbsp;at&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3152529">func</span>&nbsp;<span class="ident" id="3152534">splitAtBytes</span><span class="op" id="3152546">(</span><span class="ident" id="3152547">s</span>&nbsp;<span class="builtintype" id="3152549">string</span><span class="op" id="3152555">,</span>&nbsp;<span class="ident" id="3152557">t</span>&nbsp;<span class="builtintype" id="3152559">string</span><span class="op" id="3152565">)</span>&nbsp;<span class="op" id="3152567">[</span><span class="op" id="3152568">]</span><span class="builtintype" id="3152569">string</span>&nbsp;<span class="op" id="3152576">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152579">a</span>&nbsp;<span class="op" id="3152581">:=</span>&nbsp;<span class="builtinfunc" id="3152584">make</span><span class="op" id="3152588">(</span><span class="op" id="3152589">[</span><span class="op" id="3152590">]</span><span class="builtintype" id="3152591">string</span><span class="op" id="3152597">,</span>&nbsp;<span class="num" id="3152599">1</span><span class="op" id="3152600">+</span><span class="ident" id="3152601">countAnyByte</span><span class="op" id="3152613">(</span><span class="ident" id="3152614">s</span><span class="op" id="3152615">,</span>&nbsp;<span class="ident" id="3152617">t</span><span class="op" id="3152618">)</span><span class="op" id="3152619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152622">n</span>&nbsp;<span class="op" id="3152624">:=</span>&nbsp;<span class="num" id="3152627">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152630">last</span>&nbsp;<span class="op" id="3152635">:=</span>&nbsp;<span class="num" id="3152638">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152641">for</span>&nbsp;<span class="ident" id="3152645">i</span>&nbsp;<span class="op" id="3152647">:=</span>&nbsp;<span class="num" id="3152650">0</span><span class="op" id="3152651">;</span>&nbsp;<span class="ident" id="3152653">i</span>&nbsp;<span class="op" id="3152655">&lt;</span>&nbsp;<span class="builtinfunc" id="3152657">len</span><span class="op" id="3152660">(</span><span class="ident" id="3152661">s</span><span class="op" id="3152662">)</span><span class="op" id="3152663">;</span>&nbsp;<span class="ident" id="3152665">i</span><span class="op" id="3152666">++</span>&nbsp;<span class="op" id="3152669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152673">if</span>&nbsp;<span class="ident" id="3152676">byteIndex</span><span class="op" id="3152685">(</span><span class="ident" id="3152686">t</span><span class="op" id="3152687">,</span>&nbsp;<span class="ident" id="3152689">s</span><span class="op" id="3152690">[</span><span class="ident" id="3152691">i</span><span class="op" id="3152692">]</span><span class="op" id="3152693">)</span>&nbsp;<span class="op" id="3152695">&gt;=</span>&nbsp;<span class="num" id="3152698">0</span>&nbsp;<span class="op" id="3152700">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152705">if</span>&nbsp;<span class="ident" id="3152708">last</span>&nbsp;<span class="op" id="3152713">&lt;</span>&nbsp;<span class="ident" id="3152715">i</span>&nbsp;<span class="op" id="3152717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152723">a</span><span class="op" id="3152724">[</span><span class="ident" id="3152725">n</span><span class="op" id="3152726">]</span>&nbsp;<span class="op" id="3152728">=</span>&nbsp;<span class="builtintype" id="3152730">string</span><span class="op" id="3152736">(</span><span class="ident" id="3152737">s</span><span class="op" id="3152738">[</span><span class="ident" id="3152739">last</span><span class="op" id="3152743">:</span><span class="ident" id="3152744">i</span><span class="op" id="3152745">]</span><span class="op" id="3152746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152752">n</span><span class="op" id="3152753">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152764">last</span>&nbsp;<span class="op" id="3152769">=</span>&nbsp;<span class="ident" id="3152771">i</span>&nbsp;<span class="op" id="3152773">+</span>&nbsp;<span class="num" id="3152775">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152785">if</span>&nbsp;<span class="ident" id="3152788">last</span>&nbsp;<span class="op" id="3152793">&lt;</span>&nbsp;<span class="builtinfunc" id="3152795">len</span><span class="op" id="3152798">(</span><span class="ident" id="3152799">s</span><span class="op" id="3152800">)</span>&nbsp;<span class="op" id="3152802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152806">a</span><span class="op" id="3152807">[</span><span class="ident" id="3152808">n</span><span class="op" id="3152809">]</span>&nbsp;<span class="op" id="3152811">=</span>&nbsp;<span class="builtintype" id="3152813">string</span><span class="op" id="3152819">(</span><span class="ident" id="3152820">s</span><span class="op" id="3152821">[</span><span class="ident" id="3152822">last</span><span class="op" id="3152826">:</span><span class="op" id="3152827">]</span><span class="op" id="3152828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152832">n</span><span class="op" id="3152833">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152840">return</span>&nbsp;<span class="ident" id="3152847">a</span><span class="op" id="3152848">[</span><span class="num" id="3152849">0</span><span class="op" id="3152850">:</span><span class="ident" id="3152851">n</span><span class="op" id="3152852">]</span><br>
<span class="lineno"></span><span class="op" id="3152854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3152857">func</span>&nbsp;<span class="ident" id="3152862">getFields</span><span class="op" id="3152871">(</span><span class="ident" id="3152872">s</span>&nbsp;<span class="builtintype" id="3152874">string</span><span class="op" id="3152880">)</span>&nbsp;<span class="op" id="3152882">[</span><span class="op" id="3152883">]</span><span class="builtintype" id="3152884">string</span>&nbsp;<span class="op" id="3152891">{</span>&nbsp;<span class="keyword" id="3152893">return</span>&nbsp;<span class="ident" id="3152900">splitAtBytes</span><span class="op" id="3152912">(</span><span class="ident" id="3152913">s</span><span class="op" id="3152914">,</span>&nbsp;<span class="string" id="3152916">&#34;&nbsp;\r\t\n&#34;</span><span class="op" id="3152925">)</span>&nbsp;<span class="op" id="3152927">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="3152930">//&nbsp;Bigger&nbsp;than&nbsp;we&nbsp;need,&nbsp;not&nbsp;too&nbsp;big&nbsp;to&nbsp;worry&nbsp;about&nbsp;overflow</span><br>
<span class="lineno"></span><span class="keyword" id="3152990">const</span>&nbsp;<span class="ident" id="3152996">big</span>&nbsp;<span class="op" id="3153000">=</span>&nbsp;<span class="num" id="3153002">0xFFFFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3153012">//&nbsp;Decimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno">120</span><span class="comment" id="3153054">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="3153094">func</span>&nbsp;<span class="ident" id="3153099">dtoi</span><span class="op" id="3153103">(</span><span class="ident" id="3153104">s</span>&nbsp;<span class="builtintype" id="3153106">string</span><span class="op" id="3153112">,</span>&nbsp;<span class="ident" id="3153114">i0</span>&nbsp;<span class="builtintype" id="3153117">int</span><span class="op" id="3153120">)</span>&nbsp;<span class="op" id="3153122">(</span><span class="ident" id="3153123">n</span>&nbsp;<span class="builtintype" id="3153125">int</span><span class="op" id="3153128">,</span>&nbsp;<span class="ident" id="3153130">i</span>&nbsp;<span class="builtintype" id="3153132">int</span><span class="op" id="3153135">,</span>&nbsp;<span class="ident" id="3153137">ok</span>&nbsp;<span class="builtintype" id="3153140">bool</span><span class="op" id="3153144">)</span>&nbsp;<span class="op" id="3153146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153149">n</span>&nbsp;<span class="op" id="3153151">=</span>&nbsp;<span class="num" id="3153153">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153156">for</span>&nbsp;<span class="ident" id="3153160">i</span>&nbsp;<span class="op" id="3153162">=</span>&nbsp;<span class="ident" id="3153164">i0</span><span class="op" id="3153166">;</span>&nbsp;<span class="ident" id="3153168">i</span>&nbsp;<span class="op" id="3153170">&lt;</span>&nbsp;<span class="builtinfunc" id="3153172">len</span><span class="op" id="3153175">(</span><span class="ident" id="3153176">s</span><span class="op" id="3153177">)</span>&nbsp;<span class="op" id="3153179">&amp;&amp;</span>&nbsp;<span class="string" id="3153182">&#39;0&#39;</span>&nbsp;<span class="op" id="3153186">&lt;=</span>&nbsp;<span class="ident" id="3153189">s</span><span class="op" id="3153190">[</span><span class="ident" id="3153191">i</span><span class="op" id="3153192">]</span>&nbsp;<span class="op" id="3153194">&amp;&amp;</span>&nbsp;<span class="ident" id="3153197">s</span><span class="op" id="3153198">[</span><span class="ident" id="3153199">i</span><span class="op" id="3153200">]</span>&nbsp;<span class="op" id="3153202">&lt;=</span>&nbsp;<span class="string" id="3153205">&#39;9&#39;</span><span class="op" id="3153208">;</span>&nbsp;<span class="ident" id="3153210">i</span><span class="op" id="3153211">++</span>&nbsp;<span class="op" id="3153214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153218">n</span>&nbsp;<span class="op" id="3153220">=</span>&nbsp;<span class="ident" id="3153222">n</span><span class="op" id="3153223">*</span><span class="num" id="3153224">10</span>&nbsp;<span class="op" id="3153227">+</span>&nbsp;<span class="builtintype" id="3153229">int</span><span class="op" id="3153232">(</span><span class="ident" id="3153233">s</span><span class="op" id="3153234">[</span><span class="ident" id="3153235">i</span><span class="op" id="3153236">]</span><span class="op" id="3153237">-</span><span class="string" id="3153238">&#39;0&#39;</span><span class="op" id="3153241">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153245">if</span>&nbsp;<span class="ident" id="3153248">n</span>&nbsp;<span class="op" id="3153250">&gt;=</span>&nbsp;<span class="ident" id="3153253">big</span>&nbsp;<span class="op" id="3153257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153262">return</span>&nbsp;<span class="num" id="3153269">0</span><span class="op" id="3153270">,</span>&nbsp;<span class="ident" id="3153272">i</span><span class="op" id="3153273">,</span>&nbsp;<span class="builtintype" id="3153275">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153289">if</span>&nbsp;<span class="ident" id="3153292">i</span>&nbsp;<span class="op" id="3153294">==</span>&nbsp;<span class="ident" id="3153297">i0</span>&nbsp;<span class="op" id="3153300">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153304">return</span>&nbsp;<span class="num" id="3153311">0</span><span class="op" id="3153312">,</span>&nbsp;<span class="ident" id="3153314">i</span><span class="op" id="3153315">,</span>&nbsp;<span class="builtintype" id="3153317">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153327">return</span>&nbsp;<span class="ident" id="3153334">n</span><span class="op" id="3153335">,</span>&nbsp;<span class="ident" id="3153337">i</span><span class="op" id="3153338">,</span>&nbsp;<span class="builtintype" id="3153340">true</span><br>
<span class="lineno"></span><span class="op" id="3153345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="3153348">//&nbsp;Hexadecimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno"></span><span class="comment" id="3153394">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="3153434">func</span>&nbsp;<span class="ident" id="3153439">xtoi</span><span class="op" id="3153443">(</span><span class="ident" id="3153444">s</span>&nbsp;<span class="builtintype" id="3153446">string</span><span class="op" id="3153452">,</span>&nbsp;<span class="ident" id="3153454">i0</span>&nbsp;<span class="builtintype" id="3153457">int</span><span class="op" id="3153460">)</span>&nbsp;<span class="op" id="3153462">(</span><span class="ident" id="3153463">n</span>&nbsp;<span class="builtintype" id="3153465">int</span><span class="op" id="3153468">,</span>&nbsp;<span class="ident" id="3153470">i</span>&nbsp;<span class="builtintype" id="3153472">int</span><span class="op" id="3153475">,</span>&nbsp;<span class="ident" id="3153477">ok</span>&nbsp;<span class="builtintype" id="3153480">bool</span><span class="op" id="3153484">)</span>&nbsp;<span class="op" id="3153486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153489">n</span>&nbsp;<span class="op" id="3153491">=</span>&nbsp;<span class="num" id="3153493">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153496">for</span>&nbsp;<span class="ident" id="3153500">i</span>&nbsp;<span class="op" id="3153502">=</span>&nbsp;<span class="ident" id="3153504">i0</span><span class="op" id="3153506">;</span>&nbsp;<span class="ident" id="3153508">i</span>&nbsp;<span class="op" id="3153510">&lt;</span>&nbsp;<span class="builtinfunc" id="3153512">len</span><span class="op" id="3153515">(</span><span class="ident" id="3153516">s</span><span class="op" id="3153517">)</span><span class="op" id="3153518">;</span>&nbsp;<span class="ident" id="3153520">i</span><span class="op" id="3153521">++</span>&nbsp;<span class="op" id="3153524">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153528">if</span>&nbsp;<span class="string" id="3153531">&#39;0&#39;</span>&nbsp;<span class="op" id="3153535">&lt;=</span>&nbsp;<span class="ident" id="3153538">s</span><span class="op" id="3153539">[</span><span class="ident" id="3153540">i</span><span class="op" id="3153541">]</span>&nbsp;<span class="op" id="3153543">&amp;&amp;</span>&nbsp;<span class="ident" id="3153546">s</span><span class="op" id="3153547">[</span><span class="ident" id="3153548">i</span><span class="op" id="3153549">]</span>&nbsp;<span class="op" id="3153551">&lt;=</span>&nbsp;<span class="string" id="3153554">&#39;9&#39;</span>&nbsp;<span class="op" id="3153558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153563">n</span>&nbsp;<span class="op" id="3153565">*=</span>&nbsp;<span class="num" id="3153568">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153574">n</span>&nbsp;<span class="op" id="3153576">+=</span>&nbsp;<span class="builtintype" id="3153579">int</span><span class="op" id="3153582">(</span><span class="ident" id="3153583">s</span><span class="op" id="3153584">[</span><span class="ident" id="3153585">i</span><span class="op" id="3153586">]</span>&nbsp;<span class="op" id="3153588">-</span>&nbsp;<span class="string" id="3153590">&#39;0&#39;</span><span class="op" id="3153593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153597">}</span>&nbsp;<span class="keyword" id="3153599">else</span>&nbsp;<span class="keyword" id="3153604">if</span>&nbsp;<span class="string" id="3153607">&#39;a&#39;</span>&nbsp;<span class="op" id="3153611">&lt;=</span>&nbsp;<span class="ident" id="3153614">s</span><span class="op" id="3153615">[</span><span class="ident" id="3153616">i</span><span class="op" id="3153617">]</span>&nbsp;<span class="op" id="3153619">&amp;&amp;</span>&nbsp;<span class="ident" id="3153622">s</span><span class="op" id="3153623">[</span><span class="ident" id="3153624">i</span><span class="op" id="3153625">]</span>&nbsp;<span class="op" id="3153627">&lt;=</span>&nbsp;<span class="string" id="3153630">&#39;f&#39;</span>&nbsp;<span class="op" id="3153634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153639">n</span>&nbsp;<span class="op" id="3153641">*=</span>&nbsp;<span class="num" id="3153644">16</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153650">n</span>&nbsp;<span class="op" id="3153652">+=</span>&nbsp;<span class="builtintype" id="3153655">int</span><span class="op" id="3153658">(</span><span class="ident" id="3153659">s</span><span class="op" id="3153660">[</span><span class="ident" id="3153661">i</span><span class="op" id="3153662">]</span><span class="op" id="3153663">-</span><span class="string" id="3153664">&#39;a&#39;</span><span class="op" id="3153667">)</span>&nbsp;<span class="op" id="3153669">+</span>&nbsp;<span class="num" id="3153671">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153676">}</span>&nbsp;<span class="keyword" id="3153678">else</span>&nbsp;<span class="keyword" id="3153683">if</span>&nbsp;<span class="string" id="3153686">&#39;A&#39;</span>&nbsp;<span class="op" id="3153690">&lt;=</span>&nbsp;<span class="ident" id="3153693">s</span><span class="op" id="3153694">[</span><span class="ident" id="3153695">i</span><span class="op" id="3153696">]</span>&nbsp;<span class="op" id="3153698">&amp;&amp;</span>&nbsp;<span class="ident" id="3153701">s</span><span class="op" id="3153702">[</span><span class="ident" id="3153703">i</span><span class="op" id="3153704">]</span>&nbsp;<span class="op" id="3153706">&lt;=</span>&nbsp;<span class="string" id="3153709">&#39;F&#39;</span>&nbsp;<span class="op" id="3153713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153718">n</span>&nbsp;<span class="op" id="3153720">*=</span>&nbsp;<span class="num" id="3153723">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153729">n</span>&nbsp;<span class="op" id="3153731">+=</span>&nbsp;<span class="builtintype" id="3153734">int</span><span class="op" id="3153737">(</span><span class="ident" id="3153738">s</span><span class="op" id="3153739">[</span><span class="ident" id="3153740">i</span><span class="op" id="3153741">]</span><span class="op" id="3153742">-</span><span class="string" id="3153743">&#39;A&#39;</span><span class="op" id="3153746">)</span>&nbsp;<span class="op" id="3153748">+</span>&nbsp;<span class="num" id="3153750">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153755">}</span>&nbsp;<span class="keyword" id="3153757">else</span>&nbsp;<span class="op" id="3153762">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153767">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153779">if</span>&nbsp;<span class="ident" id="3153782">n</span>&nbsp;<span class="op" id="3153784">&gt;=</span>&nbsp;<span class="ident" id="3153787">big</span>&nbsp;<span class="op" id="3153791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153796">return</span>&nbsp;<span class="num" id="3153803">0</span><span class="op" id="3153804">,</span>&nbsp;<span class="ident" id="3153806">i</span><span class="op" id="3153807">,</span>&nbsp;<span class="builtintype" id="3153809">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153817">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153823">if</span>&nbsp;<span class="ident" id="3153826">i</span>&nbsp;<span class="op" id="3153828">==</span>&nbsp;<span class="ident" id="3153831">i0</span>&nbsp;<span class="op" id="3153834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153838">return</span>&nbsp;<span class="num" id="3153845">0</span><span class="op" id="3153846">,</span>&nbsp;<span class="ident" id="3153848">i</span><span class="op" id="3153849">,</span>&nbsp;<span class="builtintype" id="3153851">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153861">return</span>&nbsp;<span class="ident" id="3153868">n</span><span class="op" id="3153869">,</span>&nbsp;<span class="ident" id="3153871">i</span><span class="op" id="3153872">,</span>&nbsp;<span class="builtintype" id="3153874">true</span><br>
<span class="lineno">160</span><span class="op" id="3153879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3153882">//&nbsp;xtoi2&nbsp;converts&nbsp;the&nbsp;next&nbsp;two&nbsp;hex&nbsp;digits&nbsp;of&nbsp;s&nbsp;into&nbsp;a&nbsp;byte.</span><br>
<span class="lineno"></span><span class="comment" id="3153942">//&nbsp;If&nbsp;s&nbsp;is&nbsp;longer&nbsp;than&nbsp;2&nbsp;bytes&nbsp;then&nbsp;the&nbsp;third&nbsp;byte&nbsp;must&nbsp;be&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="3154004">//&nbsp;If&nbsp;the&nbsp;first&nbsp;two&nbsp;bytes&nbsp;of&nbsp;s&nbsp;are&nbsp;not&nbsp;hex&nbsp;digits&nbsp;or&nbsp;the&nbsp;third&nbsp;byte</span><br>
<span class="lineno">165</span><span class="comment" id="3154072">//&nbsp;does&nbsp;not&nbsp;match&nbsp;e,&nbsp;false&nbsp;is&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="3154112">func</span>&nbsp;<span class="ident" id="3154117">xtoi2</span><span class="op" id="3154122">(</span><span class="ident" id="3154123">s</span>&nbsp;<span class="builtintype" id="3154125">string</span><span class="op" id="3154131">,</span>&nbsp;<span class="ident" id="3154133">e</span>&nbsp;<span class="builtintype" id="3154135">byte</span><span class="op" id="3154139">)</span>&nbsp;<span class="op" id="3154141">(</span><span class="builtintype" id="3154142">byte</span><span class="op" id="3154146">,</span>&nbsp;<span class="builtintype" id="3154148">bool</span><span class="op" id="3154152">)</span>&nbsp;<span class="op" id="3154154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154157">if</span>&nbsp;<span class="builtinfunc" id="3154160">len</span><span class="op" id="3154163">(</span><span class="ident" id="3154164">s</span><span class="op" id="3154165">)</span>&nbsp;<span class="op" id="3154167">&gt;</span>&nbsp;<span class="num" id="3154169">2</span>&nbsp;<span class="op" id="3154171">&amp;&amp;</span>&nbsp;<span class="ident" id="3154174">s</span><span class="op" id="3154175">[</span><span class="num" id="3154176">2</span><span class="op" id="3154177">]</span>&nbsp;<span class="op" id="3154179">!=</span>&nbsp;<span class="ident" id="3154182">e</span>&nbsp;<span class="op" id="3154184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154188">return</span>&nbsp;<span class="num" id="3154195">0</span><span class="op" id="3154196">,</span>&nbsp;<span class="builtintype" id="3154198">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154205">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154208">n</span><span class="op" id="3154209">,</span>&nbsp;<span class="ident" id="3154211">ei</span><span class="op" id="3154213">,</span>&nbsp;<span class="ident" id="3154215">ok</span>&nbsp;<span class="op" id="3154218">:=</span>&nbsp;<span class="ident" id="3154221">xtoi</span><span class="op" id="3154225">(</span><span class="ident" id="3154226">s</span><span class="op" id="3154227">[</span><span class="op" id="3154228">:</span><span class="num" id="3154229">2</span><span class="op" id="3154230">]</span><span class="op" id="3154231">,</span>&nbsp;<span class="num" id="3154233">0</span><span class="op" id="3154234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154237">return</span>&nbsp;<span class="builtintype" id="3154244">byte</span><span class="op" id="3154248">(</span><span class="ident" id="3154249">n</span><span class="op" id="3154250">)</span><span class="op" id="3154251">,</span>&nbsp;<span class="ident" id="3154253">ok</span>&nbsp;<span class="op" id="3154256">&amp;&amp;</span>&nbsp;<span class="ident" id="3154259">ei</span>&nbsp;<span class="op" id="3154262">==</span>&nbsp;<span class="num" id="3154265">2</span><br>
<span class="lineno"></span><span class="op" id="3154267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3154270">//&nbsp;Integer&nbsp;to&nbsp;decimal.</span><br>
<span class="lineno">175</span><span class="keyword" id="3154293">func</span>&nbsp;<span class="ident" id="3154298">itoa</span><span class="op" id="3154302">(</span><span class="ident" id="3154303">i</span>&nbsp;<span class="builtintype" id="3154305">int</span><span class="op" id="3154308">)</span>&nbsp;<span class="builtintype" id="3154310">string</span>&nbsp;<span class="op" id="3154317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154320">var</span>&nbsp;<span class="ident" id="3154324">buf</span>&nbsp;<span class="op" id="3154328">[</span><span class="num" id="3154329">30</span><span class="op" id="3154331">]</span><span class="builtintype" id="3154332">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154338">n</span>&nbsp;<span class="op" id="3154340">:=</span>&nbsp;<span class="builtinfunc" id="3154343">len</span><span class="op" id="3154346">(</span><span class="ident" id="3154347">buf</span><span class="op" id="3154350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154353">neg</span>&nbsp;<span class="op" id="3154357">:=</span>&nbsp;<span class="builtintype" id="3154360">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154367">if</span>&nbsp;<span class="ident" id="3154370">i</span>&nbsp;<span class="op" id="3154372">&lt;</span>&nbsp;<span class="num" id="3154374">0</span>&nbsp;<span class="op" id="3154376">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154380">i</span>&nbsp;<span class="op" id="3154382">=</span>&nbsp;<span class="op" id="3154384">-</span><span class="ident" id="3154385">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154389">neg</span>&nbsp;<span class="op" id="3154393">=</span>&nbsp;<span class="builtintype" id="3154395">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154404">ui</span>&nbsp;<span class="op" id="3154407">:=</span>&nbsp;<span class="builtintype" id="3154410">uint</span><span class="op" id="3154414">(</span><span class="ident" id="3154415">i</span><span class="op" id="3154416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154419">for</span>&nbsp;<span class="ident" id="3154423">ui</span>&nbsp;<span class="op" id="3154426">&gt;</span>&nbsp;<span class="num" id="3154428">0</span>&nbsp;<span class="op" id="3154430">||</span>&nbsp;<span class="ident" id="3154433">n</span>&nbsp;<span class="op" id="3154435">==</span>&nbsp;<span class="builtinfunc" id="3154438">len</span><span class="op" id="3154441">(</span><span class="ident" id="3154442">buf</span><span class="op" id="3154445">)</span>&nbsp;<span class="op" id="3154447">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154451">n</span><span class="op" id="3154452">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154457">buf</span><span class="op" id="3154460">[</span><span class="ident" id="3154461">n</span><span class="op" id="3154462">]</span>&nbsp;<span class="op" id="3154464">=</span>&nbsp;<span class="builtintype" id="3154466">byte</span><span class="op" id="3154470">(</span><span class="string" id="3154471">&#39;0&#39;</span>&nbsp;<span class="op" id="3154475">+</span>&nbsp;<span class="ident" id="3154477">ui</span><span class="op" id="3154479">%</span><span class="num" id="3154480">10</span><span class="op" id="3154482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154486">ui</span>&nbsp;<span class="op" id="3154489">/=</span>&nbsp;<span class="num" id="3154492">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154499">if</span>&nbsp;<span class="ident" id="3154502">neg</span>&nbsp;<span class="op" id="3154506">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154510">n</span><span class="op" id="3154511">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154516">buf</span><span class="op" id="3154519">[</span><span class="ident" id="3154520">n</span><span class="op" id="3154521">]</span>&nbsp;<span class="op" id="3154523">=</span>&nbsp;<span class="string" id="3154525">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154533">return</span>&nbsp;<span class="builtintype" id="3154540">string</span><span class="op" id="3154546">(</span><span class="ident" id="3154547">buf</span><span class="op" id="3154550">[</span><span class="ident" id="3154551">n</span><span class="op" id="3154552">:</span><span class="op" id="3154553">]</span><span class="op" id="3154554">)</span><br>
<span class="lineno"></span><span class="op" id="3154556">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="3154559">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;decimal&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3154591">func</span>&nbsp;<span class="ident" id="3154596">itod</span><span class="op" id="3154600">(</span><span class="ident" id="3154601">i</span>&nbsp;<span class="builtintype" id="3154603">uint</span><span class="op" id="3154607">)</span>&nbsp;<span class="builtintype" id="3154609">string</span>&nbsp;<span class="op" id="3154616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154619">if</span>&nbsp;<span class="ident" id="3154622">i</span>&nbsp;<span class="op" id="3154624">==</span>&nbsp;<span class="num" id="3154627">0</span>&nbsp;<span class="op" id="3154629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154633">return</span>&nbsp;<span class="string" id="3154640">&#34;0&#34;</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3154649">//&nbsp;Assemble&nbsp;decimal&nbsp;in&nbsp;reverse&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154688">var</span>&nbsp;<span class="ident" id="3154692">b</span>&nbsp;<span class="op" id="3154694">[</span><span class="num" id="3154695">32</span><span class="op" id="3154697">]</span><span class="builtintype" id="3154698">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154704">bp</span>&nbsp;<span class="op" id="3154707">:=</span>&nbsp;<span class="builtinfunc" id="3154710">len</span><span class="op" id="3154713">(</span><span class="ident" id="3154714">b</span><span class="op" id="3154715">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154718">for</span>&nbsp;<span class="op" id="3154722">;</span>&nbsp;<span class="ident" id="3154724">i</span>&nbsp;<span class="op" id="3154726">&gt;</span>&nbsp;<span class="num" id="3154728">0</span><span class="op" id="3154729">;</span>&nbsp;<span class="ident" id="3154731">i</span>&nbsp;<span class="op" id="3154733">/=</span>&nbsp;<span class="num" id="3154736">10</span>&nbsp;<span class="op" id="3154739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154743">bp</span><span class="op" id="3154745">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154750">b</span><span class="op" id="3154751">[</span><span class="ident" id="3154752">bp</span><span class="op" id="3154754">]</span>&nbsp;<span class="op" id="3154756">=</span>&nbsp;<span class="builtintype" id="3154758">byte</span><span class="op" id="3154762">(</span><span class="ident" id="3154763">i</span><span class="op" id="3154764">%</span><span class="num" id="3154765">10</span><span class="op" id="3154767">)</span>&nbsp;<span class="op" id="3154769">+</span>&nbsp;<span class="string" id="3154771">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154780">return</span>&nbsp;<span class="builtintype" id="3154787">string</span><span class="op" id="3154793">(</span><span class="ident" id="3154794">b</span><span class="op" id="3154795">[</span><span class="ident" id="3154796">bp</span><span class="op" id="3154798">:</span><span class="op" id="3154799">]</span><span class="op" id="3154800">)</span><br>
<span class="lineno"></span><span class="op" id="3154802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3154805">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;a&nbsp;hexadecimal&nbsp;string.&nbsp;Leading&nbsp;zeros&nbsp;are&nbsp;not&nbsp;printed.</span><br>
<span class="lineno"></span><span class="keyword" id="3154874">func</span>&nbsp;<span class="ident" id="3154879">appendHex</span><span class="op" id="3154888">(</span><span class="ident" id="3154889">dst</span>&nbsp;<span class="op" id="3154893">[</span><span class="op" id="3154894">]</span><span class="builtintype" id="3154895">byte</span><span class="op" id="3154899">,</span>&nbsp;<span class="ident" id="3154901">i</span>&nbsp;<span class="builtintype" id="3154903">uint32</span><span class="op" id="3154909">)</span>&nbsp;<span class="op" id="3154911">[</span><span class="op" id="3154912">]</span><span class="builtintype" id="3154913">byte</span>&nbsp;<span class="op" id="3154918">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154921">if</span>&nbsp;<span class="ident" id="3154924">i</span>&nbsp;<span class="op" id="3154926">==</span>&nbsp;<span class="num" id="3154929">0</span>&nbsp;<span class="op" id="3154931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154935">return</span>&nbsp;<span class="builtinfunc" id="3154942">append</span><span class="op" id="3154948">(</span><span class="ident" id="3154949">dst</span><span class="op" id="3154952">,</span>&nbsp;<span class="string" id="3154954">&#39;0&#39;</span><span class="op" id="3154957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154963">for</span>&nbsp;<span class="ident" id="3154967">j</span>&nbsp;<span class="op" id="3154969">:=</span>&nbsp;<span class="num" id="3154972">7</span><span class="op" id="3154973">;</span>&nbsp;<span class="ident" id="3154975">j</span>&nbsp;<span class="op" id="3154977">&gt;=</span>&nbsp;<span class="num" id="3154980">0</span><span class="op" id="3154981">;</span>&nbsp;<span class="ident" id="3154983">j</span><span class="op" id="3154984">--</span>&nbsp;<span class="op" id="3154987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154991">v</span>&nbsp;<span class="op" id="3154993">:=</span>&nbsp;<span class="ident" id="3154996">i</span>&nbsp;<span class="op" id="3154998">&gt;&gt;</span>&nbsp;<span class="builtintype" id="3155001">uint</span><span class="op" id="3155005">(</span><span class="ident" id="3155006">j</span><span class="op" id="3155007">*</span><span class="num" id="3155008">4</span><span class="op" id="3155009">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155013">if</span>&nbsp;<span class="ident" id="3155016">v</span>&nbsp;<span class="op" id="3155018">&gt;</span>&nbsp;<span class="num" id="3155020">0</span>&nbsp;<span class="op" id="3155022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155027">dst</span>&nbsp;<span class="op" id="3155031">=</span>&nbsp;<span class="builtinfunc" id="3155033">append</span><span class="op" id="3155039">(</span><span class="ident" id="3155040">dst</span><span class="op" id="3155043">,</span>&nbsp;<span class="ident" id="3155045">hexDigit</span><span class="op" id="3155053">[</span><span class="ident" id="3155054">v</span><span class="op" id="3155055">&amp;</span><span class="num" id="3155056">0xf</span><span class="op" id="3155059">]</span><span class="op" id="3155060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155070">return</span>&nbsp;<span class="ident" id="3155077">dst</span><br>
<span class="lineno">225</span><span class="op" id="3155081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3155084">//&nbsp;Number&nbsp;of&nbsp;occurrences&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3155120">func</span>&nbsp;<span class="ident" id="3155125">count</span><span class="op" id="3155130">(</span><span class="ident" id="3155131">s</span>&nbsp;<span class="builtintype" id="3155133">string</span><span class="op" id="3155139">,</span>&nbsp;<span class="ident" id="3155141">b</span>&nbsp;<span class="builtintype" id="3155143">byte</span><span class="op" id="3155147">)</span>&nbsp;<span class="builtintype" id="3155149">int</span>&nbsp;<span class="op" id="3155153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155156">n</span>&nbsp;<span class="op" id="3155158">:=</span>&nbsp;<span class="num" id="3155161">0</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155164">for</span>&nbsp;<span class="ident" id="3155168">i</span>&nbsp;<span class="op" id="3155170">:=</span>&nbsp;<span class="num" id="3155173">0</span><span class="op" id="3155174">;</span>&nbsp;<span class="ident" id="3155176">i</span>&nbsp;<span class="op" id="3155178">&lt;</span>&nbsp;<span class="builtinfunc" id="3155180">len</span><span class="op" id="3155183">(</span><span class="ident" id="3155184">s</span><span class="op" id="3155185">)</span><span class="op" id="3155186">;</span>&nbsp;<span class="ident" id="3155188">i</span><span class="op" id="3155189">++</span>&nbsp;<span class="op" id="3155192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155196">if</span>&nbsp;<span class="ident" id="3155199">s</span><span class="op" id="3155200">[</span><span class="ident" id="3155201">i</span><span class="op" id="3155202">]</span>&nbsp;<span class="op" id="3155204">==</span>&nbsp;<span class="ident" id="3155207">b</span>&nbsp;<span class="op" id="3155209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155214">n</span><span class="op" id="3155215">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155223">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155226">return</span>&nbsp;<span class="ident" id="3155233">n</span><br>
<span class="lineno"></span><span class="op" id="3155235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3155238">//&nbsp;Index&nbsp;of&nbsp;rightmost&nbsp;occurrence&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3155282">func</span>&nbsp;<span class="ident" id="3155287">last</span><span class="op" id="3155291">(</span><span class="ident" id="3155292">s</span>&nbsp;<span class="builtintype" id="3155294">string</span><span class="op" id="3155300">,</span>&nbsp;<span class="ident" id="3155302">b</span>&nbsp;<span class="builtintype" id="3155304">byte</span><span class="op" id="3155308">)</span>&nbsp;<span class="builtintype" id="3155310">int</span>&nbsp;<span class="op" id="3155314">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155317">i</span>&nbsp;<span class="op" id="3155319">:=</span>&nbsp;<span class="builtinfunc" id="3155322">len</span><span class="op" id="3155325">(</span><span class="ident" id="3155326">s</span><span class="op" id="3155327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155330">for</span>&nbsp;<span class="ident" id="3155334">i</span><span class="op" id="3155335">--</span><span class="op" id="3155337">;</span>&nbsp;<span class="ident" id="3155339">i</span>&nbsp;<span class="op" id="3155341">&gt;=</span>&nbsp;<span class="num" id="3155344">0</span><span class="op" id="3155345">;</span>&nbsp;<span class="ident" id="3155347">i</span><span class="op" id="3155348">--</span>&nbsp;<span class="op" id="3155351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155355">if</span>&nbsp;<span class="ident" id="3155358">s</span><span class="op" id="3155359">[</span><span class="ident" id="3155360">i</span><span class="op" id="3155361">]</span>&nbsp;<span class="op" id="3155363">==</span>&nbsp;<span class="ident" id="3155366">b</span>&nbsp;<span class="op" id="3155368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155373">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155381">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155387">return</span>&nbsp;<span class="ident" id="3155394">i</span><br>
<span class="lineno"></span><span class="op" id="3155396">}</span>
</div>
</body>
</html>
