<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html" class="current">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4602140">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4602195">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4602249">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4602300">//&nbsp;Package&nbsp;hex&nbsp;implements&nbsp;hexadecimal&nbsp;encoding&nbsp;and&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4602361">package</span>&nbsp;<span class="ident" id="4602369">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4602374">import</span>&nbsp;<span class="op" id="4602381">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4602384">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4602393">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4602403">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4602410">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4602415">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="4602418">const</span>&nbsp;<span class="ident" id="4602424">hextable</span>&nbsp;<span class="op" id="4602433">=</span>&nbsp;<span class="string" id="4602435">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4602455">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="4602522">func</span>&nbsp;<span class="ident" id="4602527">EncodedLen</span><span class="op" id="4602537">(</span><span class="ident" id="4602538">n</span>&nbsp;<span class="builtintype" id="4602540">int</span><span class="op" id="4602543">)</span>&nbsp;<span class="builtintype" id="4602545">int</span>&nbsp;<span class="op" id="4602549">{</span>&nbsp;<span class="keyword" id="4602551">return</span>&nbsp;<span class="ident" id="4602558">n</span>&nbsp;<span class="op" id="4602560">*</span>&nbsp;<span class="num" id="4602562">2</span>&nbsp;<span class="op" id="4602564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="4602567">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;EncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="4602615">//&nbsp;bytes&nbsp;of&nbsp;dst.&nbsp;&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="4602673">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst,&nbsp;but&nbsp;this&nbsp;value&nbsp;is&nbsp;always&nbsp;EncodedLen(len(src)).</span><br>
<span class="lineno"></span><span class="comment" id="4602748">//&nbsp;Encode&nbsp;implements&nbsp;hexadecimal&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4602791">func</span>&nbsp;<span class="ident" id="4602796">Encode</span><span class="op" id="4602802">(</span><span class="ident" id="4602803">dst</span><span class="op" id="4602806">,</span>&nbsp;<span class="ident" id="4602808">src</span>&nbsp;<span class="op" id="4602812">[</span><span class="op" id="4602813">]</span><span class="builtintype" id="4602814">byte</span><span class="op" id="4602818">)</span>&nbsp;<span class="builtintype" id="4602820">int</span>&nbsp;<span class="op" id="4602824">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4602827">for</span>&nbsp;<span class="ident" id="4602831">i</span><span class="op" id="4602832">,</span>&nbsp;<span class="ident" id="4602834">v</span>&nbsp;<span class="op" id="4602836">:=</span>&nbsp;<span class="keyword" id="4602839">range</span>&nbsp;<span class="ident" id="4602845">src</span>&nbsp;<span class="op" id="4602849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4602853">dst</span><span class="op" id="4602856">[</span><span class="ident" id="4602857">i</span><span class="op" id="4602858">*</span><span class="num" id="4602859">2</span><span class="op" id="4602860">]</span>&nbsp;<span class="op" id="4602862">=</span>&nbsp;<span class="ident" id="4602864">hextable</span><span class="op" id="4602872">[</span><span class="ident" id="4602873">v</span><span class="op" id="4602874">&gt;&gt;</span><span class="num" id="4602876">4</span><span class="op" id="4602877">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4602881">dst</span><span class="op" id="4602884">[</span><span class="ident" id="4602885">i</span><span class="op" id="4602886">*</span><span class="num" id="4602887">2</span><span class="op" id="4602888">+</span><span class="num" id="4602889">1</span><span class="op" id="4602890">]</span>&nbsp;<span class="op" id="4602892">=</span>&nbsp;<span class="ident" id="4602894">hextable</span><span class="op" id="4602902">[</span><span class="ident" id="4602903">v</span><span class="op" id="4602904">&amp;</span><span class="num" id="4602905">0x0f</span><span class="op" id="4602909">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4602912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4602916">return</span>&nbsp;<span class="builtinfunc" id="4602923">len</span><span class="op" id="4602926">(</span><span class="ident" id="4602927">src</span><span class="op" id="4602930">)</span>&nbsp;<span class="op" id="4602932">*</span>&nbsp;<span class="num" id="4602934">2</span><br>
<span class="lineno"></span><span class="op" id="4602936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4602939">//&nbsp;ErrLength&nbsp;results&nbsp;from&nbsp;decoding&nbsp;an&nbsp;odd&nbsp;length&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="4602995">var</span>&nbsp;<span class="ident" id="4602999">ErrLength</span>&nbsp;<span class="op" id="4603009">=</span>&nbsp;<span class="ident" id="4603011">errors</span><span class="op" id="4603017">.</span><span class="ident" id="4603018">New</span><span class="op" id="4603021">(</span><span class="string" id="4603022">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="4603059">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4603062">//&nbsp;InvalidByteError&nbsp;values&nbsp;describe&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;an&nbsp;invalid&nbsp;byte&nbsp;in&nbsp;a&nbsp;hex&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4603153">type</span>&nbsp;<span class="ident" id="4603158">InvalidByteError</span>&nbsp;<span class="builtintype" id="4603175">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4603181">func</span>&nbsp;<span class="op" id="4603186">(</span><span class="ident" id="4603187">e</span>&nbsp;<span class="ident" id="4603189">InvalidByteError</span><span class="op" id="4603205">)</span>&nbsp;<span class="ident" id="4603207">Error</span><span class="op" id="4603212">(</span><span class="op" id="4603213">)</span>&nbsp;<span class="builtintype" id="4603215">string</span>&nbsp;<span class="op" id="4603222">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4603225">return</span>&nbsp;<span class="ident" id="4603232">fmt</span><span class="op" id="4603235">.</span><span class="ident" id="4603236">Sprintf</span><span class="op" id="4603243">(</span><span class="string" id="4603244">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;%#U&#34;</span><span class="op" id="4603277">,</span>&nbsp;<span class="builtintype" id="4603279">rune</span><span class="op" id="4603283">(</span><span class="ident" id="4603284">e</span><span class="op" id="4603285">)</span><span class="op" id="4603286">)</span><br>
<span class="lineno"></span><span class="op" id="4603288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4603291">func</span>&nbsp;<span class="ident" id="4603296">DecodedLen</span><span class="op" id="4603306">(</span><span class="ident" id="4603307">x</span>&nbsp;<span class="builtintype" id="4603309">int</span><span class="op" id="4603312">)</span>&nbsp;<span class="builtintype" id="4603314">int</span>&nbsp;<span class="op" id="4603318">{</span>&nbsp;<span class="keyword" id="4603320">return</span>&nbsp;<span class="ident" id="4603327">x</span>&nbsp;<span class="op" id="4603329">/</span>&nbsp;<span class="num" id="4603331">2</span>&nbsp;<span class="op" id="4603333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="4603336">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;DecodedLen(len(src))&nbsp;bytes,&nbsp;returning&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="4603412">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="4603447">//</span><br>
<span class="lineno"></span><span class="comment" id="4603450">//&nbsp;If&nbsp;Decode&nbsp;encounters&nbsp;invalid&nbsp;input,&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="keyword" id="4603533">func</span>&nbsp;<span class="ident" id="4603538">Decode</span><span class="op" id="4603544">(</span><span class="ident" id="4603545">dst</span><span class="op" id="4603548">,</span>&nbsp;<span class="ident" id="4603550">src</span>&nbsp;<span class="op" id="4603554">[</span><span class="op" id="4603555">]</span><span class="builtintype" id="4603556">byte</span><span class="op" id="4603560">)</span>&nbsp;<span class="op" id="4603562">(</span><span class="builtintype" id="4603563">int</span><span class="op" id="4603566">,</span>&nbsp;<span class="builtintype" id="4603568">error</span><span class="op" id="4603573">)</span>&nbsp;<span class="op" id="4603575">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4603578">if</span>&nbsp;<span class="builtinfunc" id="4603581">len</span><span class="op" id="4603584">(</span><span class="ident" id="4603585">src</span><span class="op" id="4603588">)</span><span class="op" id="4603589">%</span><span class="num" id="4603590">2</span>&nbsp;<span class="op" id="4603592">==</span>&nbsp;<span class="num" id="4603595">1</span>&nbsp;<span class="op" id="4603597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4603601">return</span>&nbsp;<span class="num" id="4603608">0</span><span class="op" id="4603609">,</span>&nbsp;<span class="ident" id="4603611">ErrLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4603622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4603626">for</span>&nbsp;<span class="ident" id="4603630">i</span>&nbsp;<span class="op" id="4603632">:=</span>&nbsp;<span class="num" id="4603635">0</span><span class="op" id="4603636">;</span>&nbsp;<span class="ident" id="4603638">i</span>&nbsp;<span class="op" id="4603640">&lt;</span>&nbsp;<span class="builtinfunc" id="4603642">len</span><span class="op" id="4603645">(</span><span class="ident" id="4603646">src</span><span class="op" id="4603649">)</span><span class="op" id="4603650">/</span><span class="num" id="4603651">2</span><span class="op" id="4603652">;</span>&nbsp;<span class="ident" id="4603654">i</span><span class="op" id="4603655">++</span>&nbsp;<span class="op" id="4603658">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4603662">a</span><span class="op" id="4603663">,</span>&nbsp;<span class="ident" id="4603665">ok</span>&nbsp;<span class="op" id="4603668">:=</span>&nbsp;<span class="ident" id="4603671">fromHexChar</span><span class="op" id="4603682">(</span><span class="ident" id="4603683">src</span><span class="op" id="4603686">[</span><span class="ident" id="4603687">i</span><span class="op" id="4603688">*</span><span class="num" id="4603689">2</span><span class="op" id="4603690">]</span><span class="op" id="4603691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4603695">if</span>&nbsp;<span class="op" id="4603698">!</span><span class="ident" id="4603699">ok</span>&nbsp;<span class="op" id="4603702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4603707">return</span>&nbsp;<span class="num" id="4603714">0</span><span class="op" id="4603715">,</span>&nbsp;<span class="ident" id="4603717">InvalidByteError</span><span class="op" id="4603733">(</span><span class="ident" id="4603734">src</span><span class="op" id="4603737">[</span><span class="ident" id="4603738">i</span><span class="op" id="4603739">*</span><span class="num" id="4603740">2</span><span class="op" id="4603741">]</span><span class="op" id="4603742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4603746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4603750">b</span><span class="op" id="4603751">,</span>&nbsp;<span class="ident" id="4603753">ok</span>&nbsp;<span class="op" id="4603756">:=</span>&nbsp;<span class="ident" id="4603759">fromHexChar</span><span class="op" id="4603770">(</span><span class="ident" id="4603771">src</span><span class="op" id="4603774">[</span><span class="ident" id="4603775">i</span><span class="op" id="4603776">*</span><span class="num" id="4603777">2</span><span class="op" id="4603778">+</span><span class="num" id="4603779">1</span><span class="op" id="4603780">]</span><span class="op" id="4603781">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4603785">if</span>&nbsp;<span class="op" id="4603788">!</span><span class="ident" id="4603789">ok</span>&nbsp;<span class="op" id="4603792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4603797">return</span>&nbsp;<span class="num" id="4603804">0</span><span class="op" id="4603805">,</span>&nbsp;<span class="ident" id="4603807">InvalidByteError</span><span class="op" id="4603823">(</span><span class="ident" id="4603824">src</span><span class="op" id="4603827">[</span><span class="ident" id="4603828">i</span><span class="op" id="4603829">*</span><span class="num" id="4603830">2</span><span class="op" id="4603831">+</span><span class="num" id="4603832">1</span><span class="op" id="4603833">]</span><span class="op" id="4603834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4603838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4603842">dst</span><span class="op" id="4603845">[</span><span class="ident" id="4603846">i</span><span class="op" id="4603847">]</span>&nbsp;<span class="op" id="4603849">=</span>&nbsp;<span class="op" id="4603851">(</span><span class="ident" id="4603852">a</span>&nbsp;<span class="op" id="4603854">&lt;&lt;</span>&nbsp;<span class="num" id="4603857">4</span><span class="op" id="4603858">)</span>&nbsp;<span class="op" id="4603860">|</span>&nbsp;<span class="ident" id="4603862">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4603865">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4603869">return</span>&nbsp;<span class="builtinfunc" id="4603876">len</span><span class="op" id="4603879">(</span><span class="ident" id="4603880">src</span><span class="op" id="4603883">)</span>&nbsp;<span class="op" id="4603885">/</span>&nbsp;<span class="num" id="4603887">2</span><span class="op" id="4603888">,</span>&nbsp;<span class="builtintype" id="4603890">nil</span><br>
<span class="lineno"></span><span class="op" id="4603894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4603897">//&nbsp;fromHexChar&nbsp;converts&nbsp;a&nbsp;hex&nbsp;character&nbsp;into&nbsp;its&nbsp;value&nbsp;and&nbsp;a&nbsp;success&nbsp;flag.</span><br>
<span class="lineno">70</span><span class="keyword" id="4603972">func</span>&nbsp;<span class="ident" id="4603977">fromHexChar</span><span class="op" id="4603988">(</span><span class="ident" id="4603989">c</span>&nbsp;<span class="builtintype" id="4603991">byte</span><span class="op" id="4603995">)</span>&nbsp;<span class="op" id="4603997">(</span><span class="builtintype" id="4603998">byte</span><span class="op" id="4604002">,</span>&nbsp;<span class="builtintype" id="4604004">bool</span><span class="op" id="4604008">)</span>&nbsp;<span class="op" id="4604010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604013">switch</span>&nbsp;<span class="op" id="4604020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604023">case</span>&nbsp;<span class="string" id="4604028">&#39;0&#39;</span>&nbsp;<span class="op" id="4604032">&lt;=</span>&nbsp;<span class="ident" id="4604035">c</span>&nbsp;<span class="op" id="4604037">&amp;&amp;</span>&nbsp;<span class="ident" id="4604040">c</span>&nbsp;<span class="op" id="4604042">&lt;=</span>&nbsp;<span class="string" id="4604045">&#39;9&#39;</span><span class="op" id="4604048">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604052">return</span>&nbsp;<span class="ident" id="4604059">c</span>&nbsp;<span class="op" id="4604061">-</span>&nbsp;<span class="string" id="4604063">&#39;0&#39;</span><span class="op" id="4604066">,</span>&nbsp;<span class="builtintype" id="4604068">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604074">case</span>&nbsp;<span class="string" id="4604079">&#39;a&#39;</span>&nbsp;<span class="op" id="4604083">&lt;=</span>&nbsp;<span class="ident" id="4604086">c</span>&nbsp;<span class="op" id="4604088">&amp;&amp;</span>&nbsp;<span class="ident" id="4604091">c</span>&nbsp;<span class="op" id="4604093">&lt;=</span>&nbsp;<span class="string" id="4604096">&#39;f&#39;</span><span class="op" id="4604099">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604103">return</span>&nbsp;<span class="ident" id="4604110">c</span>&nbsp;<span class="op" id="4604112">-</span>&nbsp;<span class="string" id="4604114">&#39;a&#39;</span>&nbsp;<span class="op" id="4604118">+</span>&nbsp;<span class="num" id="4604120">10</span><span class="op" id="4604122">,</span>&nbsp;<span class="builtintype" id="4604124">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604130">case</span>&nbsp;<span class="string" id="4604135">&#39;A&#39;</span>&nbsp;<span class="op" id="4604139">&lt;=</span>&nbsp;<span class="ident" id="4604142">c</span>&nbsp;<span class="op" id="4604144">&amp;&amp;</span>&nbsp;<span class="ident" id="4604147">c</span>&nbsp;<span class="op" id="4604149">&lt;=</span>&nbsp;<span class="string" id="4604152">&#39;F&#39;</span><span class="op" id="4604155">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604159">return</span>&nbsp;<span class="ident" id="4604166">c</span>&nbsp;<span class="op" id="4604168">-</span>&nbsp;<span class="string" id="4604170">&#39;A&#39;</span>&nbsp;<span class="op" id="4604174">+</span>&nbsp;<span class="num" id="4604176">10</span><span class="op" id="4604178">,</span>&nbsp;<span class="builtintype" id="4604180">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4604186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604190">return</span>&nbsp;<span class="num" id="4604197">0</span><span class="op" id="4604198">,</span>&nbsp;<span class="builtintype" id="4604200">false</span><br>
<span class="lineno"></span><span class="op" id="4604206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4604209">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="4604268">func</span>&nbsp;<span class="ident" id="4604273">EncodeToString</span><span class="op" id="4604287">(</span><span class="ident" id="4604288">src</span>&nbsp;<span class="op" id="4604292">[</span><span class="op" id="4604293">]</span><span class="builtintype" id="4604294">byte</span><span class="op" id="4604298">)</span>&nbsp;<span class="builtintype" id="4604300">string</span>&nbsp;<span class="op" id="4604307">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4604310">dst</span>&nbsp;<span class="op" id="4604314">:=</span>&nbsp;<span class="builtinfunc" id="4604317">make</span><span class="op" id="4604321">(</span><span class="op" id="4604322">[</span><span class="op" id="4604323">]</span><span class="builtintype" id="4604324">byte</span><span class="op" id="4604328">,</span>&nbsp;<span class="ident" id="4604330">EncodedLen</span><span class="op" id="4604340">(</span><span class="builtinfunc" id="4604341">len</span><span class="op" id="4604344">(</span><span class="ident" id="4604345">src</span><span class="op" id="4604348">)</span><span class="op" id="4604349">)</span><span class="op" id="4604350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4604353">Encode</span><span class="op" id="4604359">(</span><span class="ident" id="4604360">dst</span><span class="op" id="4604363">,</span>&nbsp;<span class="ident" id="4604365">src</span><span class="op" id="4604368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604371">return</span>&nbsp;<span class="builtintype" id="4604378">string</span><span class="op" id="4604384">(</span><span class="ident" id="4604385">dst</span><span class="op" id="4604388">)</span><br>
<span class="lineno"></span><span class="op" id="4604390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="4604393">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;hexadecimal&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4604468">func</span>&nbsp;<span class="ident" id="4604473">DecodeString</span><span class="op" id="4604485">(</span><span class="ident" id="4604486">s</span>&nbsp;<span class="builtintype" id="4604488">string</span><span class="op" id="4604494">)</span>&nbsp;<span class="op" id="4604496">(</span><span class="op" id="4604497">[</span><span class="op" id="4604498">]</span><span class="builtintype" id="4604499">byte</span><span class="op" id="4604503">,</span>&nbsp;<span class="builtintype" id="4604505">error</span><span class="op" id="4604510">)</span>&nbsp;<span class="op" id="4604512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4604515">src</span>&nbsp;<span class="op" id="4604519">:=</span>&nbsp;<span class="op" id="4604522">[</span><span class="op" id="4604523">]</span><span class="builtintype" id="4604524">byte</span><span class="op" id="4604528">(</span><span class="ident" id="4604529">s</span><span class="op" id="4604530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4604533">dst</span>&nbsp;<span class="op" id="4604537">:=</span>&nbsp;<span class="builtinfunc" id="4604540">make</span><span class="op" id="4604544">(</span><span class="op" id="4604545">[</span><span class="op" id="4604546">]</span><span class="builtintype" id="4604547">byte</span><span class="op" id="4604551">,</span>&nbsp;<span class="ident" id="4604553">DecodedLen</span><span class="op" id="4604563">(</span><span class="builtinfunc" id="4604564">len</span><span class="op" id="4604567">(</span><span class="ident" id="4604568">src</span><span class="op" id="4604571">)</span><span class="op" id="4604572">)</span><span class="op" id="4604573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4604576">_</span><span class="op" id="4604577">,</span>&nbsp;<span class="ident" id="4604579">err</span>&nbsp;<span class="op" id="4604583">:=</span>&nbsp;<span class="ident" id="4604586">Decode</span><span class="op" id="4604592">(</span><span class="ident" id="4604593">dst</span><span class="op" id="4604596">,</span>&nbsp;<span class="ident" id="4604598">src</span><span class="op" id="4604601">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604604">if</span>&nbsp;<span class="ident" id="4604607">err</span>&nbsp;<span class="op" id="4604611">!=</span>&nbsp;<span class="builtintype" id="4604614">nil</span>&nbsp;<span class="op" id="4604618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604622">return</span>&nbsp;<span class="builtintype" id="4604629">nil</span><span class="op" id="4604632">,</span>&nbsp;<span class="ident" id="4604634">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4604639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604642">return</span>&nbsp;<span class="ident" id="4604649">dst</span><span class="op" id="4604652">,</span>&nbsp;<span class="builtintype" id="4604654">nil</span><br>
<span class="lineno"></span><span class="op" id="4604658">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4604661">//&nbsp;Dump&nbsp;returns&nbsp;a&nbsp;string&nbsp;that&nbsp;contains&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;The&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4604741">//&nbsp;of&nbsp;the&nbsp;hex&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4604816">func</span>&nbsp;<span class="ident" id="4604821">Dump</span><span class="op" id="4604825">(</span><span class="ident" id="4604826">data</span>&nbsp;<span class="op" id="4604831">[</span><span class="op" id="4604832">]</span><span class="builtintype" id="4604833">byte</span><span class="op" id="4604837">)</span>&nbsp;<span class="builtintype" id="4604839">string</span>&nbsp;<span class="op" id="4604846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604849">var</span>&nbsp;<span class="ident" id="4604853">buf</span>&nbsp;<span class="ident" id="4604857">bytes</span><span class="op" id="4604862">.</span><span class="ident" id="4604863">Buffer</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4604871">dumper</span>&nbsp;<span class="op" id="4604878">:=</span>&nbsp;<span class="ident" id="4604881">Dumper</span><span class="op" id="4604887">(</span><span class="op" id="4604888">&amp;</span><span class="ident" id="4604889">buf</span><span class="op" id="4604892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4604895">dumper</span><span class="op" id="4604901">.</span><span class="ident" id="4604902">Write</span><span class="op" id="4604907">(</span><span class="ident" id="4604908">data</span><span class="op" id="4604912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4604915">dumper</span><span class="op" id="4604921">.</span><span class="ident" id="4604922">Close</span><span class="op" id="4604927">(</span><span class="op" id="4604928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4604931">return</span>&nbsp;<span class="builtintype" id="4604938">string</span><span class="op" id="4604944">(</span><span class="ident" id="4604945">buf</span><span class="op" id="4604948">.</span><span class="ident" id="4604949">Bytes</span><span class="op" id="4604954">(</span><span class="op" id="4604955">)</span><span class="op" id="4604956">)</span><br>
<span class="lineno"></span><span class="op" id="4604958">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4604961">//&nbsp;Dumper&nbsp;returns&nbsp;a&nbsp;WriteCloser&nbsp;that&nbsp;writes&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;all&nbsp;written&nbsp;data&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4605039">//&nbsp;w.&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span><span class="comment" id="4605118">//&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4605127">func</span>&nbsp;<span class="ident" id="4605132">Dumper</span><span class="op" id="4605138">(</span><span class="ident" id="4605139">w</span>&nbsp;<span class="ident" id="4605141">io</span><span class="op" id="4605143">.</span><span class="ident" id="4605144">Writer</span><span class="op" id="4605150">)</span>&nbsp;<span class="ident" id="4605152">io</span><span class="op" id="4605154">.</span><span class="ident" id="4605155">WriteCloser</span>&nbsp;<span class="op" id="4605167">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4605170">return</span>&nbsp;<span class="op" id="4605177">&amp;</span><span class="ident" id="4605178">dumper</span><span class="op" id="4605184">{</span><span class="ident" id="4605185">w</span><span class="op" id="4605186">:</span>&nbsp;<span class="ident" id="4605188">w</span><span class="op" id="4605189">}</span><br>
<span class="lineno"></span><span class="op" id="4605191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4605194">type</span>&nbsp;<span class="ident" id="4605199">dumper</span>&nbsp;<span class="keyword" id="4605206">struct</span>&nbsp;<span class="op" id="4605213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605216">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605227">io</span><span class="op" id="4605229">.</span><span class="ident" id="4605230">Writer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605238">rightChars</span>&nbsp;<span class="op" id="4605249">[</span><span class="num" id="4605250">18</span><span class="op" id="4605252">]</span><span class="builtintype" id="4605253">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605259">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4605270">[</span><span class="num" id="4605271">14</span><span class="op" id="4605273">]</span><span class="builtintype" id="4605274">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605280">used</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4605291">int</span>&nbsp;&nbsp;<span class="comment" id="4605296">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605336">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4605347">uint</span>&nbsp;<span class="comment" id="4605352">//&nbsp;number&nbsp;of&nbsp;bytes,&nbsp;total</span><br>
<span class="lineno"></span><span class="op" id="4605378">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="4605381">func</span>&nbsp;<span class="ident" id="4605386">toChar</span><span class="op" id="4605392">(</span><span class="ident" id="4605393">b</span>&nbsp;<span class="builtintype" id="4605395">byte</span><span class="op" id="4605399">)</span>&nbsp;<span class="builtintype" id="4605401">byte</span>&nbsp;<span class="op" id="4605406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4605409">if</span>&nbsp;<span class="ident" id="4605412">b</span>&nbsp;<span class="op" id="4605414">&lt;</span>&nbsp;<span class="num" id="4605416">32</span>&nbsp;<span class="op" id="4605419">||</span>&nbsp;<span class="ident" id="4605422">b</span>&nbsp;<span class="op" id="4605424">&gt;</span>&nbsp;<span class="num" id="4605426">126</span>&nbsp;<span class="op" id="4605430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4605434">return</span>&nbsp;<span class="string" id="4605441">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4605446">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4605449">return</span>&nbsp;<span class="ident" id="4605456">b</span><br>
<span class="lineno"></span><span class="op" id="4605458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4605461">func</span>&nbsp;<span class="op" id="4605466">(</span><span class="ident" id="4605467">h</span>&nbsp;<span class="op" id="4605469">*</span><span class="ident" id="4605470">dumper</span><span class="op" id="4605476">)</span>&nbsp;<span class="ident" id="4605478">Write</span><span class="op" id="4605483">(</span><span class="ident" id="4605484">data</span>&nbsp;<span class="op" id="4605489">[</span><span class="op" id="4605490">]</span><span class="builtintype" id="4605491">byte</span><span class="op" id="4605495">)</span>&nbsp;<span class="op" id="4605497">(</span><span class="ident" id="4605498">n</span>&nbsp;<span class="builtintype" id="4605500">int</span><span class="op" id="4605503">,</span>&nbsp;<span class="ident" id="4605505">err</span>&nbsp;<span class="builtintype" id="4605509">error</span><span class="op" id="4605514">)</span>&nbsp;<span class="op" id="4605516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4605519">//&nbsp;Output&nbsp;lines&nbsp;look&nbsp;like:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4605547">//&nbsp;00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4605630">//&nbsp;^&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;extra&nbsp;space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;ASCII&nbsp;of&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4605712">for</span>&nbsp;<span class="ident" id="4605716">i</span>&nbsp;<span class="op" id="4605718">:=</span>&nbsp;<span class="keyword" id="4605721">range</span>&nbsp;<span class="ident" id="4605727">data</span>&nbsp;<span class="op" id="4605732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4605736">if</span>&nbsp;<span class="ident" id="4605739">h</span><span class="op" id="4605740">.</span><span class="ident" id="4605741">used</span>&nbsp;<span class="op" id="4605746">==</span>&nbsp;<span class="num" id="4605749">0</span>&nbsp;<span class="op" id="4605751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4605756">//&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;line&nbsp;we&nbsp;print&nbsp;the&nbsp;current</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4605810">//&nbsp;offset&nbsp;in&nbsp;hex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605831">h</span><span class="op" id="4605832">.</span><span class="ident" id="4605833">buf</span><span class="op" id="4605836">[</span><span class="num" id="4605837">0</span><span class="op" id="4605838">]</span>&nbsp;<span class="op" id="4605840">=</span>&nbsp;<span class="builtintype" id="4605842">byte</span><span class="op" id="4605846">(</span><span class="ident" id="4605847">h</span><span class="op" id="4605848">.</span><span class="ident" id="4605849">n</span>&nbsp;<span class="op" id="4605851">&gt;&gt;</span>&nbsp;<span class="num" id="4605854">24</span><span class="op" id="4605856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605861">h</span><span class="op" id="4605862">.</span><span class="ident" id="4605863">buf</span><span class="op" id="4605866">[</span><span class="num" id="4605867">1</span><span class="op" id="4605868">]</span>&nbsp;<span class="op" id="4605870">=</span>&nbsp;<span class="builtintype" id="4605872">byte</span><span class="op" id="4605876">(</span><span class="ident" id="4605877">h</span><span class="op" id="4605878">.</span><span class="ident" id="4605879">n</span>&nbsp;<span class="op" id="4605881">&gt;&gt;</span>&nbsp;<span class="num" id="4605884">16</span><span class="op" id="4605886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605891">h</span><span class="op" id="4605892">.</span><span class="ident" id="4605893">buf</span><span class="op" id="4605896">[</span><span class="num" id="4605897">2</span><span class="op" id="4605898">]</span>&nbsp;<span class="op" id="4605900">=</span>&nbsp;<span class="builtintype" id="4605902">byte</span><span class="op" id="4605906">(</span><span class="ident" id="4605907">h</span><span class="op" id="4605908">.</span><span class="ident" id="4605909">n</span>&nbsp;<span class="op" id="4605911">&gt;&gt;</span>&nbsp;<span class="num" id="4605914">8</span><span class="op" id="4605915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605920">h</span><span class="op" id="4605921">.</span><span class="ident" id="4605922">buf</span><span class="op" id="4605925">[</span><span class="num" id="4605926">3</span><span class="op" id="4605927">]</span>&nbsp;<span class="op" id="4605929">=</span>&nbsp;<span class="builtintype" id="4605931">byte</span><span class="op" id="4605935">(</span><span class="ident" id="4605936">h</span><span class="op" id="4605937">.</span><span class="ident" id="4605938">n</span><span class="op" id="4605939">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605944">Encode</span><span class="op" id="4605950">(</span><span class="ident" id="4605951">h</span><span class="op" id="4605952">.</span><span class="ident" id="4605953">buf</span><span class="op" id="4605956">[</span><span class="num" id="4605957">4</span><span class="op" id="4605958">:</span><span class="op" id="4605959">]</span><span class="op" id="4605960">,</span>&nbsp;<span class="ident" id="4605962">h</span><span class="op" id="4605963">.</span><span class="ident" id="4605964">buf</span><span class="op" id="4605967">[</span><span class="op" id="4605968">:</span><span class="num" id="4605969">4</span><span class="op" id="4605970">]</span><span class="op" id="4605971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605976">h</span><span class="op" id="4605977">.</span><span class="ident" id="4605978">buf</span><span class="op" id="4605981">[</span><span class="num" id="4605982">12</span><span class="op" id="4605984">]</span>&nbsp;<span class="op" id="4605986">=</span>&nbsp;<span class="string" id="4605988">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4605995">h</span><span class="op" id="4605996">.</span><span class="ident" id="4605997">buf</span><span class="op" id="4606000">[</span><span class="num" id="4606001">13</span><span class="op" id="4606003">]</span>&nbsp;<span class="op" id="4606005">=</span>&nbsp;<span class="string" id="4606007">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606014">_</span><span class="op" id="4606015">,</span>&nbsp;<span class="ident" id="4606017">err</span>&nbsp;<span class="op" id="4606021">=</span>&nbsp;<span class="ident" id="4606023">h</span><span class="op" id="4606024">.</span><span class="ident" id="4606025">w</span><span class="op" id="4606026">.</span><span class="ident" id="4606027">Write</span><span class="op" id="4606032">(</span><span class="ident" id="4606033">h</span><span class="op" id="4606034">.</span><span class="ident" id="4606035">buf</span><span class="op" id="4606038">[</span><span class="num" id="4606039">4</span><span class="op" id="4606040">:</span><span class="op" id="4606041">]</span><span class="op" id="4606042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606047">if</span>&nbsp;<span class="ident" id="4606050">err</span>&nbsp;<span class="op" id="4606054">!=</span>&nbsp;<span class="builtintype" id="4606057">nil</span>&nbsp;<span class="op" id="4606061">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606067">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4606077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4606081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606085">Encode</span><span class="op" id="4606091">(</span><span class="ident" id="4606092">h</span><span class="op" id="4606093">.</span><span class="ident" id="4606094">buf</span><span class="op" id="4606097">[</span><span class="op" id="4606098">:</span><span class="op" id="4606099">]</span><span class="op" id="4606100">,</span>&nbsp;<span class="ident" id="4606102">data</span><span class="op" id="4606106">[</span><span class="ident" id="4606107">i</span><span class="op" id="4606108">:</span><span class="ident" id="4606109">i</span><span class="op" id="4606110">+</span><span class="num" id="4606111">1</span><span class="op" id="4606112">]</span><span class="op" id="4606113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606117">h</span><span class="op" id="4606118">.</span><span class="ident" id="4606119">buf</span><span class="op" id="4606122">[</span><span class="num" id="4606123">2</span><span class="op" id="4606124">]</span>&nbsp;<span class="op" id="4606126">=</span>&nbsp;<span class="string" id="4606128">&#39;&nbsp;&#39;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606134">l</span>&nbsp;<span class="op" id="4606136">:=</span>&nbsp;<span class="num" id="4606139">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606143">if</span>&nbsp;<span class="ident" id="4606146">h</span><span class="op" id="4606147">.</span><span class="ident" id="4606148">used</span>&nbsp;<span class="op" id="4606153">==</span>&nbsp;<span class="num" id="4606156">7</span>&nbsp;<span class="op" id="4606158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4606163">//&nbsp;There&#39;s&nbsp;an&nbsp;additional&nbsp;space&nbsp;after&nbsp;the&nbsp;8th&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606217">h</span><span class="op" id="4606218">.</span><span class="ident" id="4606219">buf</span><span class="op" id="4606222">[</span><span class="num" id="4606223">3</span><span class="op" id="4606224">]</span>&nbsp;<span class="op" id="4606226">=</span>&nbsp;<span class="string" id="4606228">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606235">l</span>&nbsp;<span class="op" id="4606237">=</span>&nbsp;<span class="num" id="4606239">4</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4606243">}</span>&nbsp;<span class="keyword" id="4606245">else</span>&nbsp;<span class="keyword" id="4606250">if</span>&nbsp;<span class="ident" id="4606253">h</span><span class="op" id="4606254">.</span><span class="ident" id="4606255">used</span>&nbsp;<span class="op" id="4606260">==</span>&nbsp;<span class="num" id="4606263">15</span>&nbsp;<span class="op" id="4606266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4606271">//&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line&nbsp;there&#39;s&nbsp;an&nbsp;extra&nbsp;space&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4606327">//&nbsp;the&nbsp;bar&nbsp;for&nbsp;the&nbsp;right&nbsp;column.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606363">h</span><span class="op" id="4606364">.</span><span class="ident" id="4606365">buf</span><span class="op" id="4606368">[</span><span class="num" id="4606369">3</span><span class="op" id="4606370">]</span>&nbsp;<span class="op" id="4606372">=</span>&nbsp;<span class="string" id="4606374">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606381">h</span><span class="op" id="4606382">.</span><span class="ident" id="4606383">buf</span><span class="op" id="4606386">[</span><span class="num" id="4606387">4</span><span class="op" id="4606388">]</span>&nbsp;<span class="op" id="4606390">=</span>&nbsp;<span class="string" id="4606392">&#39;|&#39;</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606399">l</span>&nbsp;<span class="op" id="4606401">=</span>&nbsp;<span class="num" id="4606403">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4606407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606411">_</span><span class="op" id="4606412">,</span>&nbsp;<span class="ident" id="4606414">err</span>&nbsp;<span class="op" id="4606418">=</span>&nbsp;<span class="ident" id="4606420">h</span><span class="op" id="4606421">.</span><span class="ident" id="4606422">w</span><span class="op" id="4606423">.</span><span class="ident" id="4606424">Write</span><span class="op" id="4606429">(</span><span class="ident" id="4606430">h</span><span class="op" id="4606431">.</span><span class="ident" id="4606432">buf</span><span class="op" id="4606435">[</span><span class="op" id="4606436">:</span><span class="ident" id="4606437">l</span><span class="op" id="4606438">]</span><span class="op" id="4606439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606443">if</span>&nbsp;<span class="ident" id="4606446">err</span>&nbsp;<span class="op" id="4606450">!=</span>&nbsp;<span class="builtintype" id="4606453">nil</span>&nbsp;<span class="op" id="4606457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606462">return</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4606471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606475">n</span><span class="op" id="4606476">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606481">h</span><span class="op" id="4606482">.</span><span class="ident" id="4606483">rightChars</span><span class="op" id="4606493">[</span><span class="ident" id="4606494">h</span><span class="op" id="4606495">.</span><span class="ident" id="4606496">used</span><span class="op" id="4606500">]</span>&nbsp;<span class="op" id="4606502">=</span>&nbsp;<span class="ident" id="4606504">toChar</span><span class="op" id="4606510">(</span><span class="ident" id="4606511">data</span><span class="op" id="4606515">[</span><span class="ident" id="4606516">i</span><span class="op" id="4606517">]</span><span class="op" id="4606518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606522">h</span><span class="op" id="4606523">.</span><span class="ident" id="4606524">used</span><span class="op" id="4606528">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606533">h</span><span class="op" id="4606534">.</span><span class="ident" id="4606535">n</span><span class="op" id="4606536">++</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606541">if</span>&nbsp;<span class="ident" id="4606544">h</span><span class="op" id="4606545">.</span><span class="ident" id="4606546">used</span>&nbsp;<span class="op" id="4606551">==</span>&nbsp;<span class="num" id="4606554">16</span>&nbsp;<span class="op" id="4606557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606562">h</span><span class="op" id="4606563">.</span><span class="ident" id="4606564">rightChars</span><span class="op" id="4606574">[</span><span class="num" id="4606575">16</span><span class="op" id="4606577">]</span>&nbsp;<span class="op" id="4606579">=</span>&nbsp;<span class="string" id="4606581">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606588">h</span><span class="op" id="4606589">.</span><span class="ident" id="4606590">rightChars</span><span class="op" id="4606600">[</span><span class="num" id="4606601">17</span><span class="op" id="4606603">]</span>&nbsp;<span class="op" id="4606605">=</span>&nbsp;<span class="string" id="4606607">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606615">_</span><span class="op" id="4606616">,</span>&nbsp;<span class="ident" id="4606618">err</span>&nbsp;<span class="op" id="4606622">=</span>&nbsp;<span class="ident" id="4606624">h</span><span class="op" id="4606625">.</span><span class="ident" id="4606626">w</span><span class="op" id="4606627">.</span><span class="ident" id="4606628">Write</span><span class="op" id="4606633">(</span><span class="ident" id="4606634">h</span><span class="op" id="4606635">.</span><span class="ident" id="4606636">rightChars</span><span class="op" id="4606646">[</span><span class="op" id="4606647">:</span><span class="op" id="4606648">]</span><span class="op" id="4606649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606654">if</span>&nbsp;<span class="ident" id="4606657">err</span>&nbsp;<span class="op" id="4606661">!=</span>&nbsp;<span class="builtintype" id="4606664">nil</span>&nbsp;<span class="op" id="4606668">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606674">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4606684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606689">h</span><span class="op" id="4606690">.</span><span class="ident" id="4606691">used</span>&nbsp;<span class="op" id="4606696">=</span>&nbsp;<span class="num" id="4606698">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4606702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4606705">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606708">return</span><br>
<span class="lineno"></span><span class="op" id="4606715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4606718">func</span>&nbsp;<span class="op" id="4606723">(</span><span class="ident" id="4606724">h</span>&nbsp;<span class="op" id="4606726">*</span><span class="ident" id="4606727">dumper</span><span class="op" id="4606733">)</span>&nbsp;<span class="ident" id="4606735">Close</span><span class="op" id="4606740">(</span><span class="op" id="4606741">)</span>&nbsp;<span class="op" id="4606743">(</span><span class="ident" id="4606744">err</span>&nbsp;<span class="builtintype" id="4606748">error</span><span class="op" id="4606753">)</span>&nbsp;<span class="op" id="4606755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4606758">//&nbsp;See&nbsp;the&nbsp;comments&nbsp;in&nbsp;Write()&nbsp;for&nbsp;the&nbsp;details&nbsp;of&nbsp;this&nbsp;format.</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606822">if</span>&nbsp;<span class="ident" id="4606825">h</span><span class="op" id="4606826">.</span><span class="ident" id="4606827">used</span>&nbsp;<span class="op" id="4606832">==</span>&nbsp;<span class="num" id="4606835">0</span>&nbsp;<span class="op" id="4606837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606841">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4606849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606852">h</span><span class="op" id="4606853">.</span><span class="ident" id="4606854">buf</span><span class="op" id="4606857">[</span><span class="num" id="4606858">0</span><span class="op" id="4606859">]</span>&nbsp;<span class="op" id="4606861">=</span>&nbsp;<span class="string" id="4606863">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606868">h</span><span class="op" id="4606869">.</span><span class="ident" id="4606870">buf</span><span class="op" id="4606873">[</span><span class="num" id="4606874">1</span><span class="op" id="4606875">]</span>&nbsp;<span class="op" id="4606877">=</span>&nbsp;<span class="string" id="4606879">&#39;&nbsp;&#39;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606884">h</span><span class="op" id="4606885">.</span><span class="ident" id="4606886">buf</span><span class="op" id="4606889">[</span><span class="num" id="4606890">2</span><span class="op" id="4606891">]</span>&nbsp;<span class="op" id="4606893">=</span>&nbsp;<span class="string" id="4606895">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606900">h</span><span class="op" id="4606901">.</span><span class="ident" id="4606902">buf</span><span class="op" id="4606905">[</span><span class="num" id="4606906">3</span><span class="op" id="4606907">]</span>&nbsp;<span class="op" id="4606909">=</span>&nbsp;<span class="string" id="4606911">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606916">h</span><span class="op" id="4606917">.</span><span class="ident" id="4606918">buf</span><span class="op" id="4606921">[</span><span class="num" id="4606922">4</span><span class="op" id="4606923">]</span>&nbsp;<span class="op" id="4606925">=</span>&nbsp;<span class="string" id="4606927">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606932">nBytes</span>&nbsp;<span class="op" id="4606939">:=</span>&nbsp;<span class="ident" id="4606942">h</span><span class="op" id="4606943">.</span><span class="ident" id="4606944">used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606950">for</span>&nbsp;<span class="ident" id="4606954">h</span><span class="op" id="4606955">.</span><span class="ident" id="4606956">used</span>&nbsp;<span class="op" id="4606961">&lt;</span>&nbsp;<span class="num" id="4606963">16</span>&nbsp;<span class="op" id="4606966">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606970">l</span>&nbsp;<span class="op" id="4606972">:=</span>&nbsp;<span class="num" id="4606975">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4606979">if</span>&nbsp;<span class="ident" id="4606982">h</span><span class="op" id="4606983">.</span><span class="ident" id="4606984">used</span>&nbsp;<span class="op" id="4606989">==</span>&nbsp;<span class="num" id="4606992">7</span>&nbsp;<span class="op" id="4606994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4606999">l</span>&nbsp;<span class="op" id="4607001">=</span>&nbsp;<span class="num" id="4607003">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4607007">}</span>&nbsp;<span class="keyword" id="4607009">else</span>&nbsp;<span class="keyword" id="4607014">if</span>&nbsp;<span class="ident" id="4607017">h</span><span class="op" id="4607018">.</span><span class="ident" id="4607019">used</span>&nbsp;<span class="op" id="4607024">==</span>&nbsp;<span class="num" id="4607027">15</span>&nbsp;<span class="op" id="4607030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4607035">l</span>&nbsp;<span class="op" id="4607037">=</span>&nbsp;<span class="num" id="4607039">5</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4607043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4607047">_</span><span class="op" id="4607048">,</span>&nbsp;<span class="ident" id="4607050">err</span>&nbsp;<span class="op" id="4607054">=</span>&nbsp;<span class="ident" id="4607056">h</span><span class="op" id="4607057">.</span><span class="ident" id="4607058">w</span><span class="op" id="4607059">.</span><span class="ident" id="4607060">Write</span><span class="op" id="4607065">(</span><span class="ident" id="4607066">h</span><span class="op" id="4607067">.</span><span class="ident" id="4607068">buf</span><span class="op" id="4607071">[</span><span class="op" id="4607072">:</span><span class="ident" id="4607073">l</span><span class="op" id="4607074">]</span><span class="op" id="4607075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4607079">if</span>&nbsp;<span class="ident" id="4607082">err</span>&nbsp;<span class="op" id="4607086">!=</span>&nbsp;<span class="builtintype" id="4607089">nil</span>&nbsp;<span class="op" id="4607093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4607098">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4607107">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4607111">h</span><span class="op" id="4607112">.</span><span class="ident" id="4607113">used</span><span class="op" id="4607117">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4607121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4607124">h</span><span class="op" id="4607125">.</span><span class="ident" id="4607126">rightChars</span><span class="op" id="4607136">[</span><span class="ident" id="4607137">nBytes</span><span class="op" id="4607143">]</span>&nbsp;<span class="op" id="4607145">=</span>&nbsp;<span class="string" id="4607147">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4607152">h</span><span class="op" id="4607153">.</span><span class="ident" id="4607154">rightChars</span><span class="op" id="4607164">[</span><span class="ident" id="4607165">nBytes</span><span class="op" id="4607171">+</span><span class="num" id="4607172">1</span><span class="op" id="4607173">]</span>&nbsp;<span class="op" id="4607175">=</span>&nbsp;<span class="string" id="4607177">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4607183">_</span><span class="op" id="4607184">,</span>&nbsp;<span class="ident" id="4607186">err</span>&nbsp;<span class="op" id="4607190">=</span>&nbsp;<span class="ident" id="4607192">h</span><span class="op" id="4607193">.</span><span class="ident" id="4607194">w</span><span class="op" id="4607195">.</span><span class="ident" id="4607196">Write</span><span class="op" id="4607201">(</span><span class="ident" id="4607202">h</span><span class="op" id="4607203">.</span><span class="ident" id="4607204">rightChars</span><span class="op" id="4607214">[</span><span class="op" id="4607215">:</span><span class="ident" id="4607216">nBytes</span><span class="op" id="4607222">+</span><span class="num" id="4607223">2</span><span class="op" id="4607224">]</span><span class="op" id="4607225">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4607228">return</span><br>
<span class="lineno"></span><span class="op" id="4607235">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
