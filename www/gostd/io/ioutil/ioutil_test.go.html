<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html" class="current">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7130825">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7130880">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7130934">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7130985">package</span>&nbsp;<span class="ident" id="7130993">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7131001">import</span>&nbsp;<span class="op" id="7131008">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7131011">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7131017">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7131027">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7131030">func</span>&nbsp;<span class="ident" id="7131035">checkSize</span><span class="op" id="7131044">(</span><span class="ident" id="7131045">t</span>&nbsp;<span class="op" id="7131047">*</span><span class="ident" id="7131048">testing</span><span class="op" id="7131055">.</span><span class="ident" id="7131056">T</span><span class="op" id="7131057">,</span>&nbsp;<span class="ident" id="7131059">path</span>&nbsp;<span class="builtintype" id="7131064">string</span><span class="op" id="7131070">,</span>&nbsp;<span class="ident" id="7131072">size</span>&nbsp;<span class="ident" id="7131077">int64</span><span class="op" id="7131082">)</span>&nbsp;<span class="op" id="7131084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131087">dir</span><span class="op" id="7131090">,</span>&nbsp;<span class="ident" id="7131092">err</span>&nbsp;<span class="op" id="7131096">:=</span>&nbsp;<span class="ident" id="7131099">os</span><span class="op" id="7131101">.</span><span class="ident" id="7131102">Stat</span><span class="op" id="7131106">(</span><span class="ident" id="7131107">path</span><span class="op" id="7131111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131114">if</span>&nbsp;<span class="ident" id="7131117">err</span>&nbsp;<span class="op" id="7131121">!=</span>&nbsp;<span class="ident" id="7131124">nil</span>&nbsp;<span class="op" id="7131128">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131132">t</span><span class="op" id="7131133">.</span><span class="ident" id="7131134">Fatalf</span><span class="op" id="7131140">(</span><span class="string" id="7131141">&#34;Stat&nbsp;%q&nbsp;(looking&nbsp;for&nbsp;size&nbsp;%d):&nbsp;%s&#34;</span><span class="op" id="7131176">,</span>&nbsp;<span class="ident" id="7131178">path</span><span class="op" id="7131182">,</span>&nbsp;<span class="ident" id="7131184">size</span><span class="op" id="7131188">,</span>&nbsp;<span class="ident" id="7131190">err</span><span class="op" id="7131193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131199">if</span>&nbsp;<span class="ident" id="7131202">dir</span><span class="op" id="7131205">.</span><span class="ident" id="7131206">Size</span><span class="op" id="7131210">(</span><span class="op" id="7131211">)</span>&nbsp;<span class="op" id="7131213">!=</span>&nbsp;<span class="ident" id="7131216">size</span>&nbsp;<span class="op" id="7131221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131225">t</span><span class="op" id="7131226">.</span><span class="ident" id="7131227">Errorf</span><span class="op" id="7131233">(</span><span class="string" id="7131234">&#34;Stat&nbsp;%q:&nbsp;size&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7131260">,</span>&nbsp;<span class="ident" id="7131262">path</span><span class="op" id="7131266">,</span>&nbsp;<span class="ident" id="7131268">dir</span><span class="op" id="7131271">.</span><span class="ident" id="7131272">Size</span><span class="op" id="7131276">(</span><span class="op" id="7131277">)</span><span class="op" id="7131278">,</span>&nbsp;<span class="ident" id="7131280">size</span><span class="op" id="7131284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131287">}</span><br>
<span class="lineno">20</span><span class="op" id="7131289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7131292">func</span>&nbsp;<span class="ident" id="7131297">TestReadFile</span><span class="op" id="7131309">(</span><span class="ident" id="7131310">t</span>&nbsp;<span class="op" id="7131312">*</span><span class="ident" id="7131313">testing</span><span class="op" id="7131320">.</span><span class="ident" id="7131321">T</span><span class="op" id="7131322">)</span>&nbsp;<span class="op" id="7131324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131327">filename</span>&nbsp;<span class="op" id="7131336">:=</span>&nbsp;<span class="string" id="7131339">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131358">contents</span><span class="op" id="7131366">,</span>&nbsp;<span class="ident" id="7131368">err</span>&nbsp;<span class="op" id="7131372">:=</span>&nbsp;<span class="ident" id="7131375">ReadFile</span><span class="op" id="7131383">(</span><span class="ident" id="7131384">filename</span><span class="op" id="7131392">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131395">if</span>&nbsp;<span class="ident" id="7131398">err</span>&nbsp;<span class="op" id="7131402">==</span>&nbsp;<span class="ident" id="7131405">nil</span>&nbsp;<span class="op" id="7131409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131413">t</span><span class="op" id="7131414">.</span><span class="ident" id="7131415">Fatalf</span><span class="op" id="7131421">(</span><span class="string" id="7131422">&#34;ReadFile&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="7131463">,</span>&nbsp;<span class="ident" id="7131465">filename</span><span class="op" id="7131473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131480">filename</span>&nbsp;<span class="op" id="7131489">=</span>&nbsp;<span class="string" id="7131491">&#34;ioutil_test.go&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131509">contents</span><span class="op" id="7131517">,</span>&nbsp;<span class="ident" id="7131519">err</span>&nbsp;<span class="op" id="7131523">=</span>&nbsp;<span class="ident" id="7131525">ReadFile</span><span class="op" id="7131533">(</span><span class="ident" id="7131534">filename</span><span class="op" id="7131542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131545">if</span>&nbsp;<span class="ident" id="7131548">err</span>&nbsp;<span class="op" id="7131552">!=</span>&nbsp;<span class="ident" id="7131555">nil</span>&nbsp;<span class="op" id="7131559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131563">t</span><span class="op" id="7131564">.</span><span class="ident" id="7131565">Fatalf</span><span class="op" id="7131571">(</span><span class="string" id="7131572">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7131589">,</span>&nbsp;<span class="ident" id="7131591">filename</span><span class="op" id="7131599">,</span>&nbsp;<span class="ident" id="7131601">err</span><span class="op" id="7131604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131611">checkSize</span><span class="op" id="7131620">(</span><span class="ident" id="7131621">t</span><span class="op" id="7131622">,</span>&nbsp;<span class="ident" id="7131624">filename</span><span class="op" id="7131632">,</span>&nbsp;<span class="ident" id="7131634">int64</span><span class="op" id="7131639">(</span><span class="builtinfunc" id="7131640">len</span><span class="op" id="7131643">(</span><span class="ident" id="7131644">contents</span><span class="op" id="7131652">)</span><span class="op" id="7131653">)</span><span class="op" id="7131654">)</span><br>
<span class="lineno"></span><span class="op" id="7131656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7131659">func</span>&nbsp;<span class="ident" id="7131664">TestWriteFile</span><span class="op" id="7131677">(</span><span class="ident" id="7131678">t</span>&nbsp;<span class="op" id="7131680">*</span><span class="ident" id="7131681">testing</span><span class="op" id="7131688">.</span><span class="ident" id="7131689">T</span><span class="op" id="7131690">)</span>&nbsp;<span class="op" id="7131692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131695">f</span><span class="op" id="7131696">,</span>&nbsp;<span class="ident" id="7131698">err</span>&nbsp;<span class="op" id="7131702">:=</span>&nbsp;<span class="ident" id="7131705">TempFile</span><span class="op" id="7131713">(</span><span class="string" id="7131714">&#34;&#34;</span><span class="op" id="7131716">,</span>&nbsp;<span class="string" id="7131718">&#34;ioutil-test&#34;</span><span class="op" id="7131731">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131734">if</span>&nbsp;<span class="ident" id="7131737">err</span>&nbsp;<span class="op" id="7131741">!=</span>&nbsp;<span class="ident" id="7131744">nil</span>&nbsp;<span class="op" id="7131748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131752">t</span><span class="op" id="7131753">.</span><span class="ident" id="7131754">Fatal</span><span class="op" id="7131759">(</span><span class="ident" id="7131760">err</span><span class="op" id="7131763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131769">filename</span>&nbsp;<span class="op" id="7131778">:=</span>&nbsp;<span class="ident" id="7131781">f</span><span class="op" id="7131782">.</span><span class="ident" id="7131783">Name</span><span class="op" id="7131787">(</span><span class="op" id="7131788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131791">data</span>&nbsp;<span class="op" id="7131796">:=</span>&nbsp;<span class="string" id="7131799">&#34;Programming&nbsp;today&nbsp;is&nbsp;a&nbsp;race&nbsp;between&nbsp;software&nbsp;engineers&nbsp;striving&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="7131869">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7131873">&#34;build&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiot-proof&nbsp;programs,&nbsp;and&nbsp;the&nbsp;Universe&nbsp;trying&nbsp;&#34;</span>&nbsp;<span class="op" id="7131946">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7131950">&#34;to&nbsp;produce&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiots.&nbsp;So&nbsp;far,&nbsp;the&nbsp;Universe&nbsp;is&nbsp;winning.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132024">if</span>&nbsp;<span class="ident" id="7132027">err</span>&nbsp;<span class="op" id="7132031">:=</span>&nbsp;<span class="ident" id="7132034">WriteFile</span><span class="op" id="7132043">(</span><span class="ident" id="7132044">filename</span><span class="op" id="7132052">,</span>&nbsp;<span class="op" id="7132054">[</span><span class="op" id="7132055">]</span><span class="builtintype" id="7132056">byte</span><span class="op" id="7132060">(</span><span class="ident" id="7132061">data</span><span class="op" id="7132065">)</span><span class="op" id="7132066">,</span>&nbsp;<span class="num" id="7132068">0644</span><span class="op" id="7132072">)</span><span class="op" id="7132073">;</span>&nbsp;<span class="ident" id="7132075">err</span>&nbsp;<span class="op" id="7132079">!=</span>&nbsp;<span class="ident" id="7132082">nil</span>&nbsp;<span class="op" id="7132086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132090">t</span><span class="op" id="7132091">.</span><span class="ident" id="7132092">Fatalf</span><span class="op" id="7132098">(</span><span class="string" id="7132099">&#34;WriteFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7132117">,</span>&nbsp;<span class="ident" id="7132119">filename</span><span class="op" id="7132127">,</span>&nbsp;<span class="ident" id="7132129">err</span><span class="op" id="7132132">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132139">contents</span><span class="op" id="7132147">,</span>&nbsp;<span class="ident" id="7132149">err</span>&nbsp;<span class="op" id="7132153">:=</span>&nbsp;<span class="ident" id="7132156">ReadFile</span><span class="op" id="7132164">(</span><span class="ident" id="7132165">filename</span><span class="op" id="7132173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132176">if</span>&nbsp;<span class="ident" id="7132179">err</span>&nbsp;<span class="op" id="7132183">!=</span>&nbsp;<span class="ident" id="7132186">nil</span>&nbsp;<span class="op" id="7132190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132194">t</span><span class="op" id="7132195">.</span><span class="ident" id="7132196">Fatalf</span><span class="op" id="7132202">(</span><span class="string" id="7132203">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7132220">,</span>&nbsp;<span class="ident" id="7132222">filename</span><span class="op" id="7132230">,</span>&nbsp;<span class="ident" id="7132232">err</span><span class="op" id="7132235">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132242">if</span>&nbsp;<span class="builtintype" id="7132245">string</span><span class="op" id="7132251">(</span><span class="ident" id="7132252">contents</span><span class="op" id="7132260">)</span>&nbsp;<span class="op" id="7132262">!=</span>&nbsp;<span class="ident" id="7132265">data</span>&nbsp;<span class="op" id="7132270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132274">t</span><span class="op" id="7132275">.</span><span class="ident" id="7132276">Fatalf</span><span class="op" id="7132282">(</span><span class="string" id="7132283">&#34;contents&nbsp;=&nbsp;%q\nexpected&nbsp;=&nbsp;%q&#34;</span><span class="op" id="7132313">,</span>&nbsp;<span class="builtintype" id="7132315">string</span><span class="op" id="7132321">(</span><span class="ident" id="7132322">contents</span><span class="op" id="7132330">)</span><span class="op" id="7132331">,</span>&nbsp;<span class="ident" id="7132333">data</span><span class="op" id="7132337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132340">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7132344">//&nbsp;cleanup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132356">f</span><span class="op" id="7132357">.</span><span class="ident" id="7132358">Close</span><span class="op" id="7132363">(</span><span class="op" id="7132364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132367">os</span><span class="op" id="7132369">.</span><span class="ident" id="7132370">Remove</span><span class="op" id="7132376">(</span><span class="ident" id="7132377">filename</span><span class="op" id="7132385">)</span>&nbsp;<span class="comment" id="7132387">//&nbsp;ignore&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="7132403">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7132406">func</span>&nbsp;<span class="ident" id="7132411">TestReadDir</span><span class="op" id="7132422">(</span><span class="ident" id="7132423">t</span>&nbsp;<span class="op" id="7132425">*</span><span class="ident" id="7132426">testing</span><span class="op" id="7132433">.</span><span class="ident" id="7132434">T</span><span class="op" id="7132435">)</span>&nbsp;<span class="op" id="7132437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132440">dirname</span>&nbsp;<span class="op" id="7132448">:=</span>&nbsp;<span class="string" id="7132451">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132470">_</span><span class="op" id="7132471">,</span>&nbsp;<span class="ident" id="7132473">err</span>&nbsp;<span class="op" id="7132477">:=</span>&nbsp;<span class="ident" id="7132480">ReadDir</span><span class="op" id="7132487">(</span><span class="ident" id="7132488">dirname</span><span class="op" id="7132495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132498">if</span>&nbsp;<span class="ident" id="7132501">err</span>&nbsp;<span class="op" id="7132505">==</span>&nbsp;<span class="ident" id="7132508">nil</span>&nbsp;<span class="op" id="7132512">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132516">t</span><span class="op" id="7132517">.</span><span class="ident" id="7132518">Fatalf</span><span class="op" id="7132524">(</span><span class="string" id="7132525">&#34;ReadDir&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="7132565">,</span>&nbsp;<span class="ident" id="7132567">dirname</span><span class="op" id="7132574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132581">dirname</span>&nbsp;<span class="op" id="7132589">=</span>&nbsp;<span class="string" id="7132591">&#34;..&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132597">list</span><span class="op" id="7132601">,</span>&nbsp;<span class="ident" id="7132603">err</span>&nbsp;<span class="op" id="7132607">:=</span>&nbsp;<span class="ident" id="7132610">ReadDir</span><span class="op" id="7132617">(</span><span class="ident" id="7132618">dirname</span><span class="op" id="7132625">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132628">if</span>&nbsp;<span class="ident" id="7132631">err</span>&nbsp;<span class="op" id="7132635">!=</span>&nbsp;<span class="ident" id="7132638">nil</span>&nbsp;<span class="op" id="7132642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132646">t</span><span class="op" id="7132647">.</span><span class="ident" id="7132648">Fatalf</span><span class="op" id="7132654">(</span><span class="string" id="7132655">&#34;ReadDir&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7132671">,</span>&nbsp;<span class="ident" id="7132673">dirname</span><span class="op" id="7132680">,</span>&nbsp;<span class="ident" id="7132682">err</span><span class="op" id="7132685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132692">foundFile</span>&nbsp;<span class="op" id="7132702">:=</span>&nbsp;<span class="builtintype" id="7132705">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132712">foundSubDir</span>&nbsp;<span class="op" id="7132724">:=</span>&nbsp;<span class="builtintype" id="7132727">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132734">for</span>&nbsp;<span class="ident" id="7132738">_</span><span class="op" id="7132739">,</span>&nbsp;<span class="ident" id="7132741">dir</span>&nbsp;<span class="op" id="7132745">:=</span>&nbsp;<span class="keyword" id="7132748">range</span>&nbsp;<span class="ident" id="7132754">list</span>&nbsp;<span class="op" id="7132759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132763">switch</span>&nbsp;<span class="op" id="7132770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132774">case</span>&nbsp;<span class="op" id="7132779">!</span><span class="ident" id="7132780">dir</span><span class="op" id="7132783">.</span><span class="ident" id="7132784">IsDir</span><span class="op" id="7132789">(</span><span class="op" id="7132790">)</span>&nbsp;<span class="op" id="7132792">&amp;&amp;</span>&nbsp;<span class="ident" id="7132795">dir</span><span class="op" id="7132798">.</span><span class="ident" id="7132799">Name</span><span class="op" id="7132803">(</span><span class="op" id="7132804">)</span>&nbsp;<span class="op" id="7132806">==</span>&nbsp;<span class="string" id="7132809">&#34;io_test.go&#34;</span><span class="op" id="7132821">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132826">foundFile</span>&nbsp;<span class="op" id="7132836">=</span>&nbsp;<span class="builtintype" id="7132838">true</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132845">case</span>&nbsp;<span class="ident" id="7132850">dir</span><span class="op" id="7132853">.</span><span class="ident" id="7132854">IsDir</span><span class="op" id="7132859">(</span><span class="op" id="7132860">)</span>&nbsp;<span class="op" id="7132862">&amp;&amp;</span>&nbsp;<span class="ident" id="7132865">dir</span><span class="op" id="7132868">.</span><span class="ident" id="7132869">Name</span><span class="op" id="7132873">(</span><span class="op" id="7132874">)</span>&nbsp;<span class="op" id="7132876">==</span>&nbsp;<span class="string" id="7132879">&#34;ioutil&#34;</span><span class="op" id="7132887">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132892">foundSubDir</span>&nbsp;<span class="op" id="7132904">=</span>&nbsp;<span class="builtintype" id="7132906">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132919">if</span>&nbsp;<span class="op" id="7132922">!</span><span class="ident" id="7132923">foundFile</span>&nbsp;<span class="op" id="7132933">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132937">t</span><span class="op" id="7132938">.</span><span class="ident" id="7132939">Fatalf</span><span class="op" id="7132945">(</span><span class="string" id="7132946">&#34;ReadDir&nbsp;%s:&nbsp;io_test.go&nbsp;file&nbsp;not&nbsp;found&#34;</span><span class="op" id="7132985">,</span>&nbsp;<span class="ident" id="7132987">dirname</span><span class="op" id="7132994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133000">if</span>&nbsp;<span class="op" id="7133003">!</span><span class="ident" id="7133004">foundSubDir</span>&nbsp;<span class="op" id="7133016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133020">t</span><span class="op" id="7133021">.</span><span class="ident" id="7133022">Fatalf</span><span class="op" id="7133028">(</span><span class="string" id="7133029">&#34;ReadDir&nbsp;%s:&nbsp;ioutil&nbsp;directory&nbsp;not&nbsp;found&#34;</span><span class="op" id="7133069">,</span>&nbsp;<span class="ident" id="7133071">dirname</span><span class="op" id="7133078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7133081">}</span><br>
<span class="lineno">95</span><span class="op" id="7133083">}</span>
</div>
</body>
</html>
