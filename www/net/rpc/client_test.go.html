<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7644807">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7644862">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7644916">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7644967">package</span>&nbsp;<span class="ident" id="7644975">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7644980">import</span>&nbsp;<span class="op" id="7644987">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7644990">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7645000">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7645007">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7645014">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7645025">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7645036">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7645046">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7645049">type</span>&nbsp;<span class="ident" id="7645054">shutdownCodec</span>&nbsp;<span class="keyword" id="7645068">struct</span>&nbsp;<span class="op" id="7645075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7645078">responded</span>&nbsp;<span class="keyword" id="7645088">chan</span>&nbsp;<span class="builtintype" id="7645093">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7645098">closed</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7645108">bool</span><br>
<span class="lineno"></span><span class="op" id="7645113">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7645116">func</span>&nbsp;<span class="op" id="7645121">(</span><span class="ident" id="7645122">c</span>&nbsp;<span class="op" id="7645124">*</span><span class="ident" id="7645125"><a href="/net/rpc/client_test.go.html#7645054">shutdownCodec</a></span><span class="op" id="7645138">)</span>&nbsp;<span class="ident" id="7645140">WriteRequest</span><span class="op" id="7645152">(</span><span class="op" id="7645153">*</span><span class="ident" id="7645154"><a href="/net/rpc/server.go.html#5794226">Request</a></span><span class="op" id="7645161">,</span>&nbsp;<span class="keyword" id="7645163">interface</span><span class="op" id="7645172">{</span><span class="op" id="7645173">}</span><span class="op" id="7645174">)</span>&nbsp;<span class="builtintype" id="7645176">error</span>&nbsp;<span class="op" id="7645182">{</span>&nbsp;<span class="keyword" id="7645184">return</span>&nbsp;<span class="ident" id="7645191">nil</span>&nbsp;<span class="op" id="7645195">}</span><br>
<span class="lineno"></span><span class="keyword" id="7645197">func</span>&nbsp;<span class="op" id="7645202">(</span><span class="ident" id="7645203">c</span>&nbsp;<span class="op" id="7645205">*</span><span class="ident" id="7645206"><a href="/net/rpc/client_test.go.html#7645054">shutdownCodec</a></span><span class="op" id="7645219">)</span>&nbsp;<span class="ident" id="7645221">ReadResponseBody</span><span class="op" id="7645237">(</span><span class="keyword" id="7645238">interface</span><span class="op" id="7645247">{</span><span class="op" id="7645248">}</span><span class="op" id="7645249">)</span>&nbsp;<span class="builtintype" id="7645251">error</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7645263">{</span>&nbsp;<span class="keyword" id="7645265">return</span>&nbsp;<span class="ident" id="7645272">nil</span>&nbsp;<span class="op" id="7645276">}</span><br>
<span class="lineno"></span><span class="keyword" id="7645278">func</span>&nbsp;<span class="op" id="7645283">(</span><span class="ident" id="7645284">c</span>&nbsp;<span class="op" id="7645286">*</span><span class="ident" id="7645287"><a href="/net/rpc/client_test.go.html#7645054">shutdownCodec</a></span><span class="op" id="7645300">)</span>&nbsp;<span class="ident" id="7645302">ReadResponseHeader</span><span class="op" id="7645320">(</span><span class="op" id="7645321">*</span><span class="ident" id="7645322"><a href="/net/rpc/server.go.html#5794584">Response</a></span><span class="op" id="7645330">)</span>&nbsp;<span class="builtintype" id="7645332">error</span>&nbsp;<span class="op" id="7645338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7645341"><a href="/net/rpc/client_test.go.html#7645284">c</a></span><span class="op" id="7645342">.</span><span class="ident" id="7645343">responded</span>&nbsp;<span class="op" id="7645353">&lt;-</span>&nbsp;<span class="num" id="7645356">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7645359">return</span>&nbsp;<span class="ident" id="7645366"><a href="/net/rpc/client_test.go.html#7644990">errors</a></span><span class="op" id="7645372">.</span><span class="ident" id="7645373">New</span><span class="op" id="7645376">(</span><span class="string" id="7645377">&#34;shutdownCodec&nbsp;ReadResponseHeader&#34;</span><span class="op" id="7645411">)</span><br>
<span class="lineno"></span><span class="op" id="7645413">}</span><br>
<span class="lineno"></span><span class="keyword" id="7645415">func</span>&nbsp;<span class="op" id="7645420">(</span><span class="ident" id="7645421">c</span>&nbsp;<span class="op" id="7645423">*</span><span class="ident" id="7645424"><a href="/net/rpc/client_test.go.html#7645054">shutdownCodec</a></span><span class="op" id="7645437">)</span>&nbsp;<span class="ident" id="7645439">Close</span><span class="op" id="7645444">(</span><span class="op" id="7645445">)</span>&nbsp;<span class="builtintype" id="7645447">error</span>&nbsp;<span class="op" id="7645453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7645456"><a href="/net/rpc/client_test.go.html#7645421">c</a></span><span class="op" id="7645457">.</span><span class="ident" id="7645458">closed</span>&nbsp;<span class="op" id="7645465">=</span>&nbsp;<span class="builtintype" id="7645467">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7645473">return</span>&nbsp;<span class="ident" id="7645480">nil</span><br>
<span class="lineno">30</span><span class="op" id="7645484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7645487">func</span>&nbsp;<span class="ident" id="7645492">TestCloseCodec</span><span class="op" id="7645506">(</span><span class="ident" id="7645507">t</span>&nbsp;<span class="op" id="7645509">*</span><span class="ident" id="7645510"><a href="/net/rpc/client_test.go.html#7645036">testing</a></span><span class="op" id="7645517">.</span><span class="ident" id="7645518">T</span><span class="op" id="7645519">)</span>&nbsp;<span class="op" id="7645521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7645524">codec</span>&nbsp;<span class="op" id="7645530">:=</span>&nbsp;<span class="op" id="7645533">&amp;</span><span class="ident" id="7645534"><a href="/net/rpc/client_test.go.html#7645054">shutdownCodec</a></span><span class="op" id="7645547">{</span><span class="ident" id="7645548">responded</span><span class="op" id="7645557">:</span>&nbsp;<span class="builtinfunc" id="7645559">make</span><span class="op" id="7645563">(</span><span class="keyword" id="7645564">chan</span>&nbsp;<span class="builtintype" id="7645569">int</span><span class="op" id="7645572">)</span><span class="op" id="7645573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7645576">client</span>&nbsp;<span class="op" id="7645583">:=</span>&nbsp;<span class="ident" id="7645586"><a href="/net/rpc/client.go.html#5783532">NewClientWithCodec</a></span><span class="op" id="7645604">(</span><span class="ident" id="7645605"><a href="/net/rpc/client_test.go.html#7645524">codec</a></span><span class="op" id="7645610">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7645613">&lt;-</span><span class="ident" id="7645615"><a href="/net/rpc/client_test.go.html#7645524">codec</a></span><span class="op" id="7645620">.</span><span class="ident" id="7645621">responded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7645632"><a href="/net/rpc/client_test.go.html#7645576">client</a></span><span class="op" id="7645638">.</span><span class="ident" id="7645639">Close</span><span class="op" id="7645644">(</span><span class="op" id="7645645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7645648">if</span>&nbsp;<span class="op" id="7645651">!</span><span class="ident" id="7645652"><a href="/net/rpc/client_test.go.html#7645524">codec</a></span><span class="op" id="7645657">.</span><span class="ident" id="7645658">closed</span>&nbsp;<span class="op" id="7645665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7645669"><a href="/net/rpc/client_test.go.html#7645507">t</a></span><span class="op" id="7645670">.</span><span class="ident" id="7645671">Error</span><span class="op" id="7645676">(</span><span class="string" id="7645677">&#34;client.Close&nbsp;did&nbsp;not&nbsp;close&nbsp;codec&#34;</span><span class="op" id="7645711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7645714">}</span><br>
<span class="lineno">40</span><span class="op" id="7645716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7645719">//&nbsp;Test&nbsp;that&nbsp;errors&nbsp;in&nbsp;gob&nbsp;shut&nbsp;down&nbsp;the&nbsp;connection.&nbsp;Issue&nbsp;7689.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7645785">type</span>&nbsp;<span class="ident" id="7645790">R</span>&nbsp;<span class="keyword" id="7645792">struct</span>&nbsp;<span class="op" id="7645799">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7645802">msg</span>&nbsp;<span class="op" id="7645806">[</span><span class="op" id="7645807">]</span><span class="builtintype" id="7645808">byte</span>&nbsp;<span class="comment" id="7645813">//&nbsp;Not&nbsp;exported,&nbsp;so&nbsp;R&nbsp;does&nbsp;not&nbsp;work&nbsp;with&nbsp;gob.</span><br>
<span class="lineno"></span><span class="op" id="7645859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7645862">type</span>&nbsp;<span class="ident" id="7645867">S</span>&nbsp;<span class="keyword" id="7645869">struct</span><span class="op" id="7645875">{</span><span class="op" id="7645876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="7645879">func</span>&nbsp;<span class="op" id="7645884">(</span><span class="ident" id="7645885">s</span>&nbsp;<span class="op" id="7645887">*</span><span class="ident" id="7645888"><a href="/net/rpc/client_test.go.html#7645867">S</a></span><span class="op" id="7645889">)</span>&nbsp;<span class="ident" id="7645891">Recv</span><span class="op" id="7645895">(</span><span class="ident" id="7645896">nul</span>&nbsp;<span class="op" id="7645900">*</span><span class="keyword" id="7645901">struct</span><span class="op" id="7645907">{</span><span class="op" id="7645908">}</span><span class="op" id="7645909">,</span>&nbsp;<span class="ident" id="7645911">reply</span>&nbsp;<span class="op" id="7645917">*</span><span class="ident" id="7645918"><a href="/net/rpc/client_test.go.html#7645790">R</a></span><span class="op" id="7645919">)</span>&nbsp;<span class="builtintype" id="7645921">error</span>&nbsp;<span class="op" id="7645927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7645930">*</span><span class="ident" id="7645931"><a href="/net/rpc/client_test.go.html#7645911">reply</a></span>&nbsp;<span class="op" id="7645937">=</span>&nbsp;<span class="ident" id="7645939"><a href="/net/rpc/client_test.go.html#7645790">R</a></span><span class="op" id="7645940">{</span><span class="op" id="7645941">[</span><span class="op" id="7645942">]</span><span class="builtintype" id="7645943">byte</span><span class="op" id="7645947">(</span><span class="string" id="7645948">&#34;foo&#34;</span><span class="op" id="7645953">)</span><span class="op" id="7645954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7645957">return</span>&nbsp;<span class="ident" id="7645964">nil</span><br>
<span class="lineno"></span><span class="op" id="7645968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7645971">func</span>&nbsp;<span class="ident" id="7645976">TestGobError</span><span class="op" id="7645988">(</span><span class="ident" id="7645989">t</span>&nbsp;<span class="op" id="7645991">*</span><span class="ident" id="7645992"><a href="/net/rpc/client_test.go.html#7645036">testing</a></span><span class="op" id="7645999">.</span><span class="ident" id="7646000">T</span><span class="op" id="7646001">)</span>&nbsp;<span class="op" id="7646003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7646006">if</span>&nbsp;<span class="ident" id="7646009"><a href="/net/rpc/client_test.go.html#7645014">runtime</a></span><span class="op" id="7646016">.</span><span class="ident" id="7646017">GOOS</span>&nbsp;<span class="op" id="7646022">==</span>&nbsp;<span class="string" id="7646025">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7646033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646037"><a href="/net/rpc/client_test.go.html#7645989">t</a></span><span class="op" id="7646038">.</span><span class="ident" id="7646039">Skip</span><span class="op" id="7646043">(</span><span class="string" id="7646044">&#34;skipping&nbsp;test;&nbsp;see&nbsp;http://golang.org/issue/8908&#34;</span><span class="op" id="7646093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7646096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7646099">defer</span>&nbsp;<span class="keyword" id="7646105">func</span><span class="op" id="7646109">(</span><span class="op" id="7646110">)</span>&nbsp;<span class="op" id="7646112">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646116">err</span>&nbsp;<span class="op" id="7646120">:=</span>&nbsp;<span class="builtinfunc" id="7646123">recover</span><span class="op" id="7646130">(</span><span class="op" id="7646131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7646135">if</span>&nbsp;<span class="ident" id="7646138"><a href="/net/rpc/client_test.go.html#7646116">err</a></span>&nbsp;<span class="op" id="7646142">==</span>&nbsp;<span class="ident" id="7646145">nil</span>&nbsp;<span class="op" id="7646149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646154"><a href="/net/rpc/client_test.go.html#7645989">t</a></span><span class="op" id="7646155">.</span><span class="ident" id="7646156">Fatal</span><span class="op" id="7646161">(</span><span class="string" id="7646162">&#34;no&nbsp;error&#34;</span><span class="op" id="7646172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7646176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7646180">if</span>&nbsp;<span class="op" id="7646183">!</span><span class="ident" id="7646184"><a href="/net/rpc/client_test.go.html#7645025">strings</a></span><span class="op" id="7646191">.</span><span class="ident" id="7646192">Contains</span><span class="op" id="7646200">(</span><span class="string" id="7646201">&#34;reading&nbsp;body&nbsp;EOF&#34;</span><span class="op" id="7646219">,</span>&nbsp;<span class="ident" id="7646221"><a href="/net/rpc/client_test.go.html#7646116">err</a></span><span class="op" id="7646224">.</span><span class="op" id="7646225">(</span><span class="builtintype" id="7646226">error</span><span class="op" id="7646231">)</span><span class="op" id="7646232">.</span><span class="ident" id="7646233">Error</span><span class="op" id="7646238">(</span><span class="op" id="7646239">)</span><span class="op" id="7646240">)</span>&nbsp;<span class="op" id="7646242">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646247"><a href="/net/rpc/client_test.go.html#7645989">t</a></span><span class="op" id="7646248">.</span><span class="ident" id="7646249">Fatal</span><span class="op" id="7646254">(</span><span class="string" id="7646255">&#34;expected&nbsp;`reading&nbsp;body&nbsp;EOF&#39;,&nbsp;got&#34;</span><span class="op" id="7646289">,</span>&nbsp;<span class="ident" id="7646291"><a href="/net/rpc/client_test.go.html#7646116">err</a></span><span class="op" id="7646294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7646298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7646301">}</span><span class="op" id="7646302">(</span><span class="op" id="7646303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646306"><a href="/net/rpc/server.go.html#5807380">Register</a></span><span class="op" id="7646314">(</span><span class="builtinfunc" id="7646315">new</span><span class="op" id="7646318">(</span><span class="ident" id="7646319"><a href="/net/rpc/client_test.go.html#7645867">S</a></span><span class="op" id="7646320">)</span><span class="op" id="7646321">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646325">listen</span><span class="op" id="7646331">,</span>&nbsp;<span class="ident" id="7646333">err</span>&nbsp;<span class="op" id="7646337">:=</span>&nbsp;<span class="ident" id="7646340"><a href="/net/rpc/client_test.go.html#7645007">net</a></span><span class="op" id="7646343">.</span><span class="ident" id="7646344">Listen</span><span class="op" id="7646350">(</span><span class="string" id="7646351">&#34;tcp&#34;</span><span class="op" id="7646356">,</span>&nbsp;<span class="string" id="7646358">&#34;127.0.0.1:0&#34;</span><span class="op" id="7646371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7646374">if</span>&nbsp;<span class="ident" id="7646377"><a href="/net/rpc/client_test.go.html#7646333">err</a></span>&nbsp;<span class="op" id="7646381">!=</span>&nbsp;<span class="ident" id="7646384">nil</span>&nbsp;<span class="op" id="7646388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7646392">panic</span><span class="op" id="7646397">(</span><span class="ident" id="7646398"><a href="/net/rpc/client_test.go.html#7646333">err</a></span><span class="op" id="7646401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7646404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7646407">go</span>&nbsp;<span class="ident" id="7646410"><a href="/net/rpc/server.go.html#5809351">Accept</a></span><span class="op" id="7646416">(</span><span class="ident" id="7646417"><a href="/net/rpc/client_test.go.html#7646325">listen</a></span><span class="op" id="7646423">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646427">client</span><span class="op" id="7646433">,</span>&nbsp;<span class="ident" id="7646435"><a href="/net/rpc/client_test.go.html#7646333">err</a></span>&nbsp;<span class="op" id="7646439">:=</span>&nbsp;<span class="ident" id="7646442"><a href="/net/rpc/client.go.html#5785360">Dial</a></span><span class="op" id="7646446">(</span><span class="string" id="7646447">&#34;tcp&#34;</span><span class="op" id="7646452">,</span>&nbsp;<span class="ident" id="7646454"><a href="/net/rpc/client_test.go.html#7646325">listen</a></span><span class="op" id="7646460">.</span><span class="ident" id="7646461">Addr</span><span class="op" id="7646465">(</span><span class="op" id="7646466">)</span><span class="op" id="7646467">.</span><span class="ident" id="7646468">String</span><span class="op" id="7646474">(</span><span class="op" id="7646475">)</span><span class="op" id="7646476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7646479">if</span>&nbsp;<span class="ident" id="7646482"><a href="/net/rpc/client_test.go.html#7646333">err</a></span>&nbsp;<span class="op" id="7646486">!=</span>&nbsp;<span class="ident" id="7646489">nil</span>&nbsp;<span class="op" id="7646493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7646497">panic</span><span class="op" id="7646502">(</span><span class="ident" id="7646503"><a href="/net/rpc/client_test.go.html#7646333">err</a></span><span class="op" id="7646506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7646509">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7646513">var</span>&nbsp;<span class="ident" id="7646517">reply</span>&nbsp;<span class="ident" id="7646523"><a href="/net/rpc/server_test.go.html#7647203">Reply</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646530"><a href="/net/rpc/client_test.go.html#7646333">err</a></span>&nbsp;<span class="op" id="7646534">=</span>&nbsp;<span class="ident" id="7646536"><a href="/net/rpc/client_test.go.html#7646427">client</a></span><span class="op" id="7646542">.</span><span class="ident" id="7646543">Call</span><span class="op" id="7646547">(</span><span class="string" id="7646548">&#34;S.Recv&#34;</span><span class="op" id="7646556">,</span>&nbsp;<span class="op" id="7646558">&amp;</span><span class="keyword" id="7646559">struct</span><span class="op" id="7646565">{</span><span class="op" id="7646566">}</span><span class="op" id="7646567">{</span><span class="op" id="7646568">}</span><span class="op" id="7646569">,</span>&nbsp;<span class="op" id="7646571">&amp;</span><span class="ident" id="7646572"><a href="/net/rpc/client_test.go.html#7646517">reply</a></span><span class="op" id="7646577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7646580">if</span>&nbsp;<span class="ident" id="7646583"><a href="/net/rpc/client_test.go.html#7646333">err</a></span>&nbsp;<span class="op" id="7646587">!=</span>&nbsp;<span class="ident" id="7646590">nil</span>&nbsp;<span class="op" id="7646594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7646598">panic</span><span class="op" id="7646603">(</span><span class="ident" id="7646604"><a href="/net/rpc/client_test.go.html#7646333">err</a></span><span class="op" id="7646607">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7646610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646614"><a href="/net/rpc/client_test.go.html#7645000">fmt</a></span><span class="op" id="7646617">.</span><span class="ident" id="7646618">Printf</span><span class="op" id="7646624">(</span><span class="string" id="7646625">&#34;%#v\n&#34;</span><span class="op" id="7646632">,</span>&nbsp;<span class="ident" id="7646634"><a href="/net/rpc/client_test.go.html#7646517">reply</a></span><span class="op" id="7646639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646642"><a href="/net/rpc/client_test.go.html#7646427">client</a></span><span class="op" id="7646648">.</span><span class="ident" id="7646649">Close</span><span class="op" id="7646654">(</span><span class="op" id="7646655">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7646659"><a href="/net/rpc/client_test.go.html#7646325">listen</a></span><span class="op" id="7646665">.</span><span class="ident" id="7646666">Close</span><span class="op" id="7646671">(</span><span class="op" id="7646672">)</span><br>
<span class="lineno"></span><span class="op" id="7646674">}</span>
</div>
</body>
</html>
