<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/adler32</h2>
<ul>
<li><a href="/gostd/hash/adler32/adler32.go.html">adler32.go</a></li>
<li><a href="/gostd/hash/adler32/adler32_test.go.html" class="current">adler32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6683127">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6683182">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6683236">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6683287">package</span>&nbsp;<span class="ident" id="6683295">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6683304">import</span>&nbsp;<span class="op" id="6683311">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6683314">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6683325">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6683335">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6683338">var</span>&nbsp;<span class="ident" id="6683342">golden</span>&nbsp;<span class="op" id="6683349">=</span>&nbsp;<span class="op" id="6683351">[</span><span class="op" id="6683352">]</span><span class="keyword" id="6683353">struct</span>&nbsp;<span class="op" id="6683360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683363">out</span>&nbsp;<span class="builtintype" id="6683367">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683375">in</span>&nbsp;&nbsp;<span class="builtintype" id="6683379">string</span><br>
<span class="lineno">15</span><span class="op" id="6683386">}</span><span class="op" id="6683387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683390">{</span><span class="num" id="6683391">0x00000001</span><span class="op" id="6683401">,</span>&nbsp;<span class="string" id="6683403">&#34;&#34;</span><span class="op" id="6683405">}</span><span class="op" id="6683406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683409">{</span><span class="num" id="6683410">0x00620062</span><span class="op" id="6683420">,</span>&nbsp;<span class="string" id="6683422">&#34;a&#34;</span><span class="op" id="6683425">}</span><span class="op" id="6683426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683429">{</span><span class="num" id="6683430">0x012600c4</span><span class="op" id="6683440">,</span>&nbsp;<span class="string" id="6683442">&#34;ab&#34;</span><span class="op" id="6683446">}</span><span class="op" id="6683447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683450">{</span><span class="num" id="6683451">0x024d0127</span><span class="op" id="6683461">,</span>&nbsp;<span class="string" id="6683463">&#34;abc&#34;</span><span class="op" id="6683468">}</span><span class="op" id="6683469">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683472">{</span><span class="num" id="6683473">0x03d8018b</span><span class="op" id="6683483">,</span>&nbsp;<span class="string" id="6683485">&#34;abcd&#34;</span><span class="op" id="6683491">}</span><span class="op" id="6683492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683495">{</span><span class="num" id="6683496">0x05c801f0</span><span class="op" id="6683506">,</span>&nbsp;<span class="string" id="6683508">&#34;abcde&#34;</span><span class="op" id="6683515">}</span><span class="op" id="6683516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683519">{</span><span class="num" id="6683520">0x081e0256</span><span class="op" id="6683530">,</span>&nbsp;<span class="string" id="6683532">&#34;abcdef&#34;</span><span class="op" id="6683540">}</span><span class="op" id="6683541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683544">{</span><span class="num" id="6683545">0x0adb02bd</span><span class="op" id="6683555">,</span>&nbsp;<span class="string" id="6683557">&#34;abcdefg&#34;</span><span class="op" id="6683566">}</span><span class="op" id="6683567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683570">{</span><span class="num" id="6683571">0x0e000325</span><span class="op" id="6683581">,</span>&nbsp;<span class="string" id="6683583">&#34;abcdefgh&#34;</span><span class="op" id="6683593">}</span><span class="op" id="6683594">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683597">{</span><span class="num" id="6683598">0x118e038e</span><span class="op" id="6683608">,</span>&nbsp;<span class="string" id="6683610">&#34;abcdefghi&#34;</span><span class="op" id="6683621">}</span><span class="op" id="6683622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683625">{</span><span class="num" id="6683626">0x158603f8</span><span class="op" id="6683636">,</span>&nbsp;<span class="string" id="6683638">&#34;abcdefghij&#34;</span><span class="op" id="6683650">}</span><span class="op" id="6683651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683654">{</span><span class="num" id="6683655">0x3f090f02</span><span class="op" id="6683665">,</span>&nbsp;<span class="string" id="6683667">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="6683710">}</span><span class="op" id="6683711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683714">{</span><span class="num" id="6683715">0x46d81477</span><span class="op" id="6683725">,</span>&nbsp;<span class="string" id="6683727">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="6683786">}</span><span class="op" id="6683787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683790">{</span><span class="num" id="6683791">0x40ee0ee1</span><span class="op" id="6683801">,</span>&nbsp;<span class="string" id="6683803">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="6683847">}</span><span class="op" id="6683848">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683851">{</span><span class="num" id="6683852">0x16661315</span><span class="op" id="6683862">,</span>&nbsp;<span class="string" id="6683864">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="6683923">}</span><span class="op" id="6683924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683927">{</span><span class="num" id="6683928">0x5b2e1480</span><span class="op" id="6683938">,</span>&nbsp;<span class="string" id="6683940">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="6684000">}</span><span class="op" id="6684001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684004">{</span><span class="num" id="6684005">0x8c3c09ea</span><span class="op" id="6684015">,</span>&nbsp;<span class="string" id="6684017">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="6684046">}</span><span class="op" id="6684047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684050">{</span><span class="num" id="6684051">0x45ac18fd</span><span class="op" id="6684061">,</span>&nbsp;<span class="string" id="6684063">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="6684132">}</span><span class="op" id="6684133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684136">{</span><span class="num" id="6684137">0x53c61462</span><span class="op" id="6684147">,</span>&nbsp;<span class="string" id="6684149">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="6684208">}</span><span class="op" id="6684209">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684212">{</span><span class="num" id="6684213">0x7e511e63</span><span class="op" id="6684223">,</span>&nbsp;<span class="string" id="6684225">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="6684315">}</span><span class="op" id="6684316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684319">{</span><span class="num" id="6684320">0xe4801a6a</span><span class="op" id="6684330">,</span>&nbsp;<span class="string" id="6684332">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="6684409">}</span><span class="op" id="6684410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684413">{</span><span class="num" id="6684414">0x61b507df</span><span class="op" id="6684424">,</span>&nbsp;<span class="string" id="6684426">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="6684452">}</span><span class="op" id="6684453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684456">{</span><span class="num" id="6684457">0xb8631171</span><span class="op" id="6684467">,</span>&nbsp;<span class="string" id="6684469">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="6684520">}</span><span class="op" id="6684521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684524">{</span><span class="num" id="6684525">0x8b5e1904</span><span class="op" id="6684535">,</span>&nbsp;<span class="string" id="6684537">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="6684611">}</span><span class="op" id="6684612">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684615">{</span><span class="num" id="6684616">0x7cc6102b</span><span class="op" id="6684626">,</span>&nbsp;<span class="string" id="6684628">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="6684676">}</span><span class="op" id="6684677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684680">{</span><span class="num" id="6684681">0x700318e7</span><span class="op" id="6684691">,</span>&nbsp;<span class="string" id="6684693">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="6684765">}</span><span class="op" id="6684766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684769">{</span><span class="num" id="6684770">0x1e601747</span><span class="op" id="6684780">,</span>&nbsp;<span class="string" id="6684782">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="6684852">}</span><span class="op" id="6684853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684856">{</span><span class="num" id="6684857">0xb55b0b09</span><span class="op" id="6684867">,</span>&nbsp;<span class="string" id="6684869">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="6684903">}</span><span class="op" id="6684904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684907">{</span><span class="num" id="6684908">0x39111dd0</span><span class="op" id="6684918">,</span>&nbsp;<span class="string" id="6684920">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="6685010">}</span><span class="op" id="6685011">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685014">{</span><span class="num" id="6685015">0x91dd304f</span><span class="op" id="6685025">,</span>&nbsp;<span class="string" id="6685027">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="6685161">}</span><span class="op" id="6685162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685165">{</span><span class="num" id="6685166">0x2e5d1316</span><span class="op" id="6685176">,</span>&nbsp;<span class="string" id="6685178">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="6685236">}</span><span class="op" id="6685237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685240">{</span><span class="num" id="6685241">0xd0201df6</span><span class="op" id="6685251">,</span>&nbsp;<span class="string" id="6685253">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="6685336">}</span><span class="op" id="6685337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685340">{</span><span class="num" id="6685341">0x211297c8</span><span class="op" id="6685351">,</span>&nbsp;<span class="ident" id="6685353">strings</span><span class="op" id="6685360">.</span><span class="ident" id="6685361">Repeat</span><span class="op" id="6685367">(</span><span class="string" id="6685368">&#34;\xff&#34;</span><span class="op" id="6685374">,</span>&nbsp;<span class="num" id="6685376">5548</span><span class="op" id="6685380">)</span>&nbsp;<span class="op" id="6685382">+</span>&nbsp;<span class="string" id="6685384">&#34;8&#34;</span><span class="op" id="6685387">}</span><span class="op" id="6685388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685391">{</span><span class="num" id="6685392">0xbaa198c8</span><span class="op" id="6685402">,</span>&nbsp;<span class="ident" id="6685404">strings</span><span class="op" id="6685411">.</span><span class="ident" id="6685412">Repeat</span><span class="op" id="6685418">(</span><span class="string" id="6685419">&#34;\xff&#34;</span><span class="op" id="6685425">,</span>&nbsp;<span class="num" id="6685427">5549</span><span class="op" id="6685431">)</span>&nbsp;<span class="op" id="6685433">+</span>&nbsp;<span class="string" id="6685435">&#34;9&#34;</span><span class="op" id="6685438">}</span><span class="op" id="6685439">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685442">{</span><span class="num" id="6685443">0x553499be</span><span class="op" id="6685453">,</span>&nbsp;<span class="ident" id="6685455">strings</span><span class="op" id="6685462">.</span><span class="ident" id="6685463">Repeat</span><span class="op" id="6685469">(</span><span class="string" id="6685470">&#34;\xff&#34;</span><span class="op" id="6685476">,</span>&nbsp;<span class="num" id="6685478">5550</span><span class="op" id="6685482">)</span>&nbsp;<span class="op" id="6685484">+</span>&nbsp;<span class="string" id="6685486">&#34;0&#34;</span><span class="op" id="6685489">}</span><span class="op" id="6685490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685493">{</span><span class="num" id="6685494">0xf0c19abe</span><span class="op" id="6685504">,</span>&nbsp;<span class="ident" id="6685506">strings</span><span class="op" id="6685513">.</span><span class="ident" id="6685514">Repeat</span><span class="op" id="6685520">(</span><span class="string" id="6685521">&#34;\xff&#34;</span><span class="op" id="6685527">,</span>&nbsp;<span class="num" id="6685529">5551</span><span class="op" id="6685533">)</span>&nbsp;<span class="op" id="6685535">+</span>&nbsp;<span class="string" id="6685537">&#34;1&#34;</span><span class="op" id="6685540">}</span><span class="op" id="6685541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685544">{</span><span class="num" id="6685545">0x8d5c9bbe</span><span class="op" id="6685555">,</span>&nbsp;<span class="ident" id="6685557">strings</span><span class="op" id="6685564">.</span><span class="ident" id="6685565">Repeat</span><span class="op" id="6685571">(</span><span class="string" id="6685572">&#34;\xff&#34;</span><span class="op" id="6685578">,</span>&nbsp;<span class="num" id="6685580">5552</span><span class="op" id="6685584">)</span>&nbsp;<span class="op" id="6685586">+</span>&nbsp;<span class="string" id="6685588">&#34;2&#34;</span><span class="op" id="6685591">}</span><span class="op" id="6685592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685595">{</span><span class="num" id="6685596">0x2af69cbe</span><span class="op" id="6685606">,</span>&nbsp;<span class="ident" id="6685608">strings</span><span class="op" id="6685615">.</span><span class="ident" id="6685616">Repeat</span><span class="op" id="6685622">(</span><span class="string" id="6685623">&#34;\xff&#34;</span><span class="op" id="6685629">,</span>&nbsp;<span class="num" id="6685631">5553</span><span class="op" id="6685635">)</span>&nbsp;<span class="op" id="6685637">+</span>&nbsp;<span class="string" id="6685639">&#34;3&#34;</span><span class="op" id="6685642">}</span><span class="op" id="6685643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685646">{</span><span class="num" id="6685647">0xc9809dbe</span><span class="op" id="6685657">,</span>&nbsp;<span class="ident" id="6685659">strings</span><span class="op" id="6685666">.</span><span class="ident" id="6685667">Repeat</span><span class="op" id="6685673">(</span><span class="string" id="6685674">&#34;\xff&#34;</span><span class="op" id="6685680">,</span>&nbsp;<span class="num" id="6685682">5554</span><span class="op" id="6685686">)</span>&nbsp;<span class="op" id="6685688">+</span>&nbsp;<span class="string" id="6685690">&#34;4&#34;</span><span class="op" id="6685693">}</span><span class="op" id="6685694">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685697">{</span><span class="num" id="6685698">0x69189ebe</span><span class="op" id="6685708">,</span>&nbsp;<span class="ident" id="6685710">strings</span><span class="op" id="6685717">.</span><span class="ident" id="6685718">Repeat</span><span class="op" id="6685724">(</span><span class="string" id="6685725">&#34;\xff&#34;</span><span class="op" id="6685731">,</span>&nbsp;<span class="num" id="6685733">5555</span><span class="op" id="6685737">)</span>&nbsp;<span class="op" id="6685739">+</span>&nbsp;<span class="string" id="6685741">&#34;5&#34;</span><span class="op" id="6685744">}</span><span class="op" id="6685745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685748">{</span><span class="num" id="6685749">0x86af0001</span><span class="op" id="6685759">,</span>&nbsp;<span class="ident" id="6685761">strings</span><span class="op" id="6685768">.</span><span class="ident" id="6685769">Repeat</span><span class="op" id="6685775">(</span><span class="string" id="6685776">&#34;\x00&#34;</span><span class="op" id="6685782">,</span>&nbsp;<span class="num" id="6685784">1e5</span><span class="op" id="6685787">)</span><span class="op" id="6685788">}</span><span class="op" id="6685789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685792">{</span><span class="num" id="6685793">0x79660b4d</span><span class="op" id="6685803">,</span>&nbsp;<span class="ident" id="6685805">strings</span><span class="op" id="6685812">.</span><span class="ident" id="6685813">Repeat</span><span class="op" id="6685819">(</span><span class="string" id="6685820">&#34;a&#34;</span><span class="op" id="6685823">,</span>&nbsp;<span class="num" id="6685825">1e5</span><span class="op" id="6685828">)</span><span class="op" id="6685829">}</span><span class="op" id="6685830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685833">{</span><span class="num" id="6685834">0x110588ee</span><span class="op" id="6685844">,</span>&nbsp;<span class="ident" id="6685846">strings</span><span class="op" id="6685853">.</span><span class="ident" id="6685854">Repeat</span><span class="op" id="6685860">(</span><span class="string" id="6685861">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="6685889">,</span>&nbsp;<span class="num" id="6685891">1e4</span><span class="op" id="6685894">)</span><span class="op" id="6685895">}</span><span class="op" id="6685896">,</span><br>
<span class="lineno"></span><span class="op" id="6685898">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="6685901">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="6685975">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="6686042">func</span>&nbsp;<span class="ident" id="6686047">checksum</span><span class="op" id="6686055">(</span><span class="ident" id="6686056">p</span>&nbsp;<span class="op" id="6686058">[</span><span class="op" id="6686059">]</span><span class="builtintype" id="6686060">byte</span><span class="op" id="6686064">)</span>&nbsp;<span class="builtintype" id="6686066">uint32</span>&nbsp;<span class="op" id="6686073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686076">s1</span><span class="op" id="6686078">,</span>&nbsp;<span class="ident" id="6686080">s2</span>&nbsp;<span class="op" id="6686083">:=</span>&nbsp;<span class="builtintype" id="6686086">uint32</span><span class="op" id="6686092">(</span><span class="num" id="6686093">1</span><span class="op" id="6686094">)</span><span class="op" id="6686095">,</span>&nbsp;<span class="builtintype" id="6686097">uint32</span><span class="op" id="6686103">(</span><span class="num" id="6686104">0</span><span class="op" id="6686105">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686108">for</span>&nbsp;<span class="ident" id="6686112">_</span><span class="op" id="6686113">,</span>&nbsp;<span class="ident" id="6686115">x</span>&nbsp;<span class="op" id="6686117">:=</span>&nbsp;<span class="keyword" id="6686120">range</span>&nbsp;<span class="ident" id="6686126">p</span>&nbsp;<span class="op" id="6686128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686132">s1</span>&nbsp;<span class="op" id="6686135">=</span>&nbsp;<span class="op" id="6686137">(</span><span class="ident" id="6686138">s1</span>&nbsp;<span class="op" id="6686141">+</span>&nbsp;<span class="builtintype" id="6686143">uint32</span><span class="op" id="6686149">(</span><span class="ident" id="6686150">x</span><span class="op" id="6686151">)</span><span class="op" id="6686152">)</span>&nbsp;<span class="op" id="6686154">%</span>&nbsp;<span class="ident" id="6686156">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686162">s2</span>&nbsp;<span class="op" id="6686165">=</span>&nbsp;<span class="op" id="6686167">(</span><span class="ident" id="6686168">s2</span>&nbsp;<span class="op" id="6686171">+</span>&nbsp;<span class="ident" id="6686173">s1</span><span class="op" id="6686175">)</span>&nbsp;<span class="op" id="6686177">%</span>&nbsp;<span class="ident" id="6686179">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686187">return</span>&nbsp;<span class="ident" id="6686194">s2</span><span class="op" id="6686196">&lt;&lt;</span><span class="num" id="6686198">16</span>&nbsp;<span class="op" id="6686201">|</span>&nbsp;<span class="ident" id="6686203">s1</span><br>
<span class="lineno">70</span><span class="op" id="6686206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6686209">func</span>&nbsp;<span class="ident" id="6686214">TestGolden</span><span class="op" id="6686224">(</span><span class="ident" id="6686225">t</span>&nbsp;<span class="op" id="6686227">*</span><span class="ident" id="6686228">testing</span><span class="op" id="6686235">.</span><span class="ident" id="6686236">T</span><span class="op" id="6686237">)</span>&nbsp;<span class="op" id="6686239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686242">for</span>&nbsp;<span class="ident" id="6686246">_</span><span class="op" id="6686247">,</span>&nbsp;<span class="ident" id="6686249">g</span>&nbsp;<span class="op" id="6686251">:=</span>&nbsp;<span class="keyword" id="6686254">range</span>&nbsp;<span class="ident" id="6686260">golden</span>&nbsp;<span class="op" id="6686267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686271">in</span>&nbsp;<span class="op" id="6686274">:=</span>&nbsp;<span class="ident" id="6686277">g</span><span class="op" id="6686278">.</span><span class="ident" id="6686279">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686284">if</span>&nbsp;<span class="builtinfunc" id="6686287">len</span><span class="op" id="6686290">(</span><span class="ident" id="6686291">in</span><span class="op" id="6686293">)</span>&nbsp;<span class="op" id="6686295">&gt;</span>&nbsp;<span class="num" id="6686297">220</span>&nbsp;<span class="op" id="6686301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686306">in</span>&nbsp;<span class="op" id="6686309">=</span>&nbsp;<span class="ident" id="6686311">in</span><span class="op" id="6686313">[</span><span class="op" id="6686314">:</span><span class="num" id="6686315">100</span><span class="op" id="6686318">]</span>&nbsp;<span class="op" id="6686320">+</span>&nbsp;<span class="string" id="6686322">&#34;...&#34;</span>&nbsp;<span class="op" id="6686328">+</span>&nbsp;<span class="ident" id="6686330">in</span><span class="op" id="6686332">[</span><span class="builtinfunc" id="6686333">len</span><span class="op" id="6686336">(</span><span class="ident" id="6686337">in</span><span class="op" id="6686339">)</span><span class="op" id="6686340">-</span><span class="num" id="6686341">100</span><span class="op" id="6686344">:</span><span class="op" id="6686345">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686353">p</span>&nbsp;<span class="op" id="6686355">:=</span>&nbsp;<span class="op" id="6686358">[</span><span class="op" id="6686359">]</span><span class="builtintype" id="6686360">byte</span><span class="op" id="6686364">(</span><span class="ident" id="6686365">g</span><span class="op" id="6686366">.</span><span class="ident" id="6686367">in</span><span class="op" id="6686369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686373">if</span>&nbsp;<span class="ident" id="6686376">got</span>&nbsp;<span class="op" id="6686380">:=</span>&nbsp;<span class="ident" id="6686383">checksum</span><span class="op" id="6686391">(</span><span class="ident" id="6686392">p</span><span class="op" id="6686393">)</span><span class="op" id="6686394">;</span>&nbsp;<span class="ident" id="6686396">got</span>&nbsp;<span class="op" id="6686400">!=</span>&nbsp;<span class="ident" id="6686403">g</span><span class="op" id="6686404">.</span><span class="ident" id="6686405">out</span>&nbsp;<span class="op" id="6686409">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686414">t</span><span class="op" id="6686415">.</span><span class="ident" id="6686416">Errorf</span><span class="op" id="6686422">(</span><span class="string" id="6686423">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6686477">,</span>&nbsp;<span class="ident" id="6686479">in</span><span class="op" id="6686481">,</span>&nbsp;<span class="ident" id="6686483">got</span><span class="op" id="6686486">,</span>&nbsp;<span class="ident" id="6686488">g</span><span class="op" id="6686489">.</span><span class="ident" id="6686490">out</span><span class="op" id="6686493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686498">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686513">if</span>&nbsp;<span class="ident" id="6686516">got</span>&nbsp;<span class="op" id="6686520">:=</span>&nbsp;<span class="ident" id="6686523">Checksum</span><span class="op" id="6686531">(</span><span class="ident" id="6686532">p</span><span class="op" id="6686533">)</span><span class="op" id="6686534">;</span>&nbsp;<span class="ident" id="6686536">got</span>&nbsp;<span class="op" id="6686540">!=</span>&nbsp;<span class="ident" id="6686543">g</span><span class="op" id="6686544">.</span><span class="ident" id="6686545">out</span>&nbsp;<span class="op" id="6686549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686554">t</span><span class="op" id="6686555">.</span><span class="ident" id="6686556">Errorf</span><span class="op" id="6686562">(</span><span class="string" id="6686563">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6686620">,</span>&nbsp;<span class="ident" id="6686622">in</span><span class="op" id="6686624">,</span>&nbsp;<span class="ident" id="6686626">got</span><span class="op" id="6686629">,</span>&nbsp;<span class="ident" id="6686631">g</span><span class="op" id="6686632">.</span><span class="ident" id="6686633">out</span><span class="op" id="6686636">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686641">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686655">}</span><br>
<span class="lineno"></span><span class="op" id="6686657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6686660">func</span>&nbsp;<span class="ident" id="6686665">BenchmarkAdler32KB</span><span class="op" id="6686683">(</span><span class="ident" id="6686684">b</span>&nbsp;<span class="op" id="6686686">*</span><span class="ident" id="6686687">testing</span><span class="op" id="6686694">.</span><span class="ident" id="6686695">B</span><span class="op" id="6686696">)</span>&nbsp;<span class="op" id="6686698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686701">b</span><span class="op" id="6686702">.</span><span class="ident" id="6686703">SetBytes</span><span class="op" id="6686711">(</span><span class="num" id="6686712">1024</span><span class="op" id="6686716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686719">data</span>&nbsp;<span class="op" id="6686724">:=</span>&nbsp;<span class="builtinfunc" id="6686727">make</span><span class="op" id="6686731">(</span><span class="op" id="6686732">[</span><span class="op" id="6686733">]</span><span class="builtintype" id="6686734">byte</span><span class="op" id="6686738">,</span>&nbsp;<span class="num" id="6686740">1024</span><span class="op" id="6686744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686747">for</span>&nbsp;<span class="ident" id="6686751">i</span>&nbsp;<span class="op" id="6686753">:=</span>&nbsp;<span class="keyword" id="6686756">range</span>&nbsp;<span class="ident" id="6686762">data</span>&nbsp;<span class="op" id="6686767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686771">data</span><span class="op" id="6686775">[</span><span class="ident" id="6686776">i</span><span class="op" id="6686777">]</span>&nbsp;<span class="op" id="6686779">=</span>&nbsp;<span class="builtintype" id="6686781">byte</span><span class="op" id="6686785">(</span><span class="ident" id="6686786">i</span><span class="op" id="6686787">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686793">h</span>&nbsp;<span class="op" id="6686795">:=</span>&nbsp;<span class="ident" id="6686798">New</span><span class="op" id="6686801">(</span><span class="op" id="6686802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686805">in</span>&nbsp;<span class="op" id="6686808">:=</span>&nbsp;<span class="builtinfunc" id="6686811">make</span><span class="op" id="6686815">(</span><span class="op" id="6686816">[</span><span class="op" id="6686817">]</span><span class="builtintype" id="6686818">byte</span><span class="op" id="6686822">,</span>&nbsp;<span class="num" id="6686824">0</span><span class="op" id="6686825">,</span>&nbsp;<span class="ident" id="6686827">h</span><span class="op" id="6686828">.</span><span class="ident" id="6686829">Size</span><span class="op" id="6686833">(</span><span class="op" id="6686834">)</span><span class="op" id="6686835">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686839">b</span><span class="op" id="6686840">.</span><span class="ident" id="6686841">ResetTimer</span><span class="op" id="6686851">(</span><span class="op" id="6686852">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686855">for</span>&nbsp;<span class="ident" id="6686859">i</span>&nbsp;<span class="op" id="6686861">:=</span>&nbsp;<span class="num" id="6686864">0</span><span class="op" id="6686865">;</span>&nbsp;<span class="ident" id="6686867">i</span>&nbsp;<span class="op" id="6686869">&lt;</span>&nbsp;<span class="ident" id="6686871">b</span><span class="op" id="6686872">.</span><span class="ident" id="6686873">N</span><span class="op" id="6686874">;</span>&nbsp;<span class="ident" id="6686876">i</span><span class="op" id="6686877">++</span>&nbsp;<span class="op" id="6686880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686884">h</span><span class="op" id="6686885">.</span><span class="ident" id="6686886">Reset</span><span class="op" id="6686891">(</span><span class="op" id="6686892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686896">h</span><span class="op" id="6686897">.</span><span class="ident" id="6686898">Write</span><span class="op" id="6686903">(</span><span class="ident" id="6686904">data</span><span class="op" id="6686908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686912">h</span><span class="op" id="6686913">.</span><span class="ident" id="6686914">Sum</span><span class="op" id="6686917">(</span><span class="ident" id="6686918">in</span><span class="op" id="6686920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686923">}</span><br>
<span class="lineno">105</span><span class="op" id="6686925">}</span>
</div>
</body>
</html>
