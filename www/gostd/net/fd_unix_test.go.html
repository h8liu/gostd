<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6592955">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6593010">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6593064">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6593115">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6593180">package</span>&nbsp;<span class="ident" id="6593188">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6593193">import</span>&nbsp;<span class="op" id="6593200">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6593203">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6593209">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6593220">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6593230">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6593233">var</span>&nbsp;<span class="ident" id="6593237">chkReadErrTests</span>&nbsp;<span class="op" id="6593253">=</span>&nbsp;<span class="op" id="6593255">[</span><span class="op" id="6593256">]</span><span class="keyword" id="6593257">struct</span>&nbsp;<span class="op" id="6593264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593267">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6593276">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593281">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6593290">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593297">fd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593306">*</span><span class="ident" id="6593307">netFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593314">expected</span>&nbsp;<span class="builtintype" id="6593323">error</span><br>
<span class="lineno">20</span><span class="op" id="6593329">}</span><span class="op" id="6593330">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593334">{</span><span class="num" id="6593335">100</span><span class="op" id="6593338">,</span>&nbsp;<span class="ident" id="6593340">nil</span><span class="op" id="6593343">,</span>&nbsp;<span class="op" id="6593345">&amp;</span><span class="ident" id="6593346">netFD</span><span class="op" id="6593351">{</span><span class="ident" id="6593352">sotype</span><span class="op" id="6593358">:</span>&nbsp;<span class="ident" id="6593360">syscall</span><span class="op" id="6593367">.</span><span class="ident" id="6593368">SOCK_STREAM</span><span class="op" id="6593379">}</span><span class="op" id="6593380">,</span>&nbsp;<span class="ident" id="6593382">nil</span><span class="op" id="6593385">}</span><span class="op" id="6593386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593389">{</span><span class="num" id="6593390">100</span><span class="op" id="6593393">,</span>&nbsp;<span class="ident" id="6593395">io</span><span class="op" id="6593397">.</span><span class="ident" id="6593398">EOF</span><span class="op" id="6593401">,</span>&nbsp;<span class="op" id="6593403">&amp;</span><span class="ident" id="6593404">netFD</span><span class="op" id="6593409">{</span><span class="ident" id="6593410">sotype</span><span class="op" id="6593416">:</span>&nbsp;<span class="ident" id="6593418">syscall</span><span class="op" id="6593425">.</span><span class="ident" id="6593426">SOCK_STREAM</span><span class="op" id="6593437">}</span><span class="op" id="6593438">,</span>&nbsp;<span class="ident" id="6593440">io</span><span class="op" id="6593442">.</span><span class="ident" id="6593443">EOF</span><span class="op" id="6593446">}</span><span class="op" id="6593447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593450">{</span><span class="num" id="6593451">100</span><span class="op" id="6593454">,</span>&nbsp;<span class="ident" id="6593456">errClosing</span><span class="op" id="6593466">,</span>&nbsp;<span class="op" id="6593468">&amp;</span><span class="ident" id="6593469">netFD</span><span class="op" id="6593474">{</span><span class="ident" id="6593475">sotype</span><span class="op" id="6593481">:</span>&nbsp;<span class="ident" id="6593483">syscall</span><span class="op" id="6593490">.</span><span class="ident" id="6593491">SOCK_STREAM</span><span class="op" id="6593502">}</span><span class="op" id="6593503">,</span>&nbsp;<span class="ident" id="6593505">errClosing</span><span class="op" id="6593515">}</span><span class="op" id="6593516">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593519">{</span><span class="num" id="6593520">0</span><span class="op" id="6593521">,</span>&nbsp;<span class="ident" id="6593523">nil</span><span class="op" id="6593526">,</span>&nbsp;<span class="op" id="6593528">&amp;</span><span class="ident" id="6593529">netFD</span><span class="op" id="6593534">{</span><span class="ident" id="6593535">sotype</span><span class="op" id="6593541">:</span>&nbsp;<span class="ident" id="6593543">syscall</span><span class="op" id="6593550">.</span><span class="ident" id="6593551">SOCK_STREAM</span><span class="op" id="6593562">}</span><span class="op" id="6593563">,</span>&nbsp;<span class="ident" id="6593565">io</span><span class="op" id="6593567">.</span><span class="ident" id="6593568">EOF</span><span class="op" id="6593571">}</span><span class="op" id="6593572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593575">{</span><span class="num" id="6593576">0</span><span class="op" id="6593577">,</span>&nbsp;<span class="ident" id="6593579">io</span><span class="op" id="6593581">.</span><span class="ident" id="6593582">EOF</span><span class="op" id="6593585">,</span>&nbsp;<span class="op" id="6593587">&amp;</span><span class="ident" id="6593588">netFD</span><span class="op" id="6593593">{</span><span class="ident" id="6593594">sotype</span><span class="op" id="6593600">:</span>&nbsp;<span class="ident" id="6593602">syscall</span><span class="op" id="6593609">.</span><span class="ident" id="6593610">SOCK_STREAM</span><span class="op" id="6593621">}</span><span class="op" id="6593622">,</span>&nbsp;<span class="ident" id="6593624">io</span><span class="op" id="6593626">.</span><span class="ident" id="6593627">EOF</span><span class="op" id="6593630">}</span><span class="op" id="6593631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593634">{</span><span class="num" id="6593635">0</span><span class="op" id="6593636">,</span>&nbsp;<span class="ident" id="6593638">errClosing</span><span class="op" id="6593648">,</span>&nbsp;<span class="op" id="6593650">&amp;</span><span class="ident" id="6593651">netFD</span><span class="op" id="6593656">{</span><span class="ident" id="6593657">sotype</span><span class="op" id="6593663">:</span>&nbsp;<span class="ident" id="6593665">syscall</span><span class="op" id="6593672">.</span><span class="ident" id="6593673">SOCK_STREAM</span><span class="op" id="6593684">}</span><span class="op" id="6593685">,</span>&nbsp;<span class="ident" id="6593687">errClosing</span><span class="op" id="6593697">}</span><span class="op" id="6593698">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593702">{</span><span class="num" id="6593703">100</span><span class="op" id="6593706">,</span>&nbsp;<span class="ident" id="6593708">nil</span><span class="op" id="6593711">,</span>&nbsp;<span class="op" id="6593713">&amp;</span><span class="ident" id="6593714">netFD</span><span class="op" id="6593719">{</span><span class="ident" id="6593720">sotype</span><span class="op" id="6593726">:</span>&nbsp;<span class="ident" id="6593728">syscall</span><span class="op" id="6593735">.</span><span class="ident" id="6593736">SOCK_DGRAM</span><span class="op" id="6593746">}</span><span class="op" id="6593747">,</span>&nbsp;<span class="ident" id="6593749">nil</span><span class="op" id="6593752">}</span><span class="op" id="6593753">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593756">{</span><span class="num" id="6593757">100</span><span class="op" id="6593760">,</span>&nbsp;<span class="ident" id="6593762">io</span><span class="op" id="6593764">.</span><span class="ident" id="6593765">EOF</span><span class="op" id="6593768">,</span>&nbsp;<span class="op" id="6593770">&amp;</span><span class="ident" id="6593771">netFD</span><span class="op" id="6593776">{</span><span class="ident" id="6593777">sotype</span><span class="op" id="6593783">:</span>&nbsp;<span class="ident" id="6593785">syscall</span><span class="op" id="6593792">.</span><span class="ident" id="6593793">SOCK_DGRAM</span><span class="op" id="6593803">}</span><span class="op" id="6593804">,</span>&nbsp;<span class="ident" id="6593806">io</span><span class="op" id="6593808">.</span><span class="ident" id="6593809">EOF</span><span class="op" id="6593812">}</span><span class="op" id="6593813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593816">{</span><span class="num" id="6593817">100</span><span class="op" id="6593820">,</span>&nbsp;<span class="ident" id="6593822">errClosing</span><span class="op" id="6593832">,</span>&nbsp;<span class="op" id="6593834">&amp;</span><span class="ident" id="6593835">netFD</span><span class="op" id="6593840">{</span><span class="ident" id="6593841">sotype</span><span class="op" id="6593847">:</span>&nbsp;<span class="ident" id="6593849">syscall</span><span class="op" id="6593856">.</span><span class="ident" id="6593857">SOCK_DGRAM</span><span class="op" id="6593867">}</span><span class="op" id="6593868">,</span>&nbsp;<span class="ident" id="6593870">errClosing</span><span class="op" id="6593880">}</span><span class="op" id="6593881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593884">{</span><span class="num" id="6593885">0</span><span class="op" id="6593886">,</span>&nbsp;<span class="ident" id="6593888">nil</span><span class="op" id="6593891">,</span>&nbsp;<span class="op" id="6593893">&amp;</span><span class="ident" id="6593894">netFD</span><span class="op" id="6593899">{</span><span class="ident" id="6593900">sotype</span><span class="op" id="6593906">:</span>&nbsp;<span class="ident" id="6593908">syscall</span><span class="op" id="6593915">.</span><span class="ident" id="6593916">SOCK_DGRAM</span><span class="op" id="6593926">}</span><span class="op" id="6593927">,</span>&nbsp;<span class="ident" id="6593929">nil</span><span class="op" id="6593932">}</span><span class="op" id="6593933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593936">{</span><span class="num" id="6593937">0</span><span class="op" id="6593938">,</span>&nbsp;<span class="ident" id="6593940">io</span><span class="op" id="6593942">.</span><span class="ident" id="6593943">EOF</span><span class="op" id="6593946">,</span>&nbsp;<span class="op" id="6593948">&amp;</span><span class="ident" id="6593949">netFD</span><span class="op" id="6593954">{</span><span class="ident" id="6593955">sotype</span><span class="op" id="6593961">:</span>&nbsp;<span class="ident" id="6593963">syscall</span><span class="op" id="6593970">.</span><span class="ident" id="6593971">SOCK_DGRAM</span><span class="op" id="6593981">}</span><span class="op" id="6593982">,</span>&nbsp;<span class="ident" id="6593984">io</span><span class="op" id="6593986">.</span><span class="ident" id="6593987">EOF</span><span class="op" id="6593990">}</span><span class="op" id="6593991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593994">{</span><span class="num" id="6593995">0</span><span class="op" id="6593996">,</span>&nbsp;<span class="ident" id="6593998">errClosing</span><span class="op" id="6594008">,</span>&nbsp;<span class="op" id="6594010">&amp;</span><span class="ident" id="6594011">netFD</span><span class="op" id="6594016">{</span><span class="ident" id="6594017">sotype</span><span class="op" id="6594023">:</span>&nbsp;<span class="ident" id="6594025">syscall</span><span class="op" id="6594032">.</span><span class="ident" id="6594033">SOCK_DGRAM</span><span class="op" id="6594043">}</span><span class="op" id="6594044">,</span>&nbsp;<span class="ident" id="6594046">errClosing</span><span class="op" id="6594056">}</span><span class="op" id="6594057">,</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594061">{</span><span class="num" id="6594062">100</span><span class="op" id="6594065">,</span>&nbsp;<span class="ident" id="6594067">nil</span><span class="op" id="6594070">,</span>&nbsp;<span class="op" id="6594072">&amp;</span><span class="ident" id="6594073">netFD</span><span class="op" id="6594078">{</span><span class="ident" id="6594079">sotype</span><span class="op" id="6594085">:</span>&nbsp;<span class="ident" id="6594087">syscall</span><span class="op" id="6594094">.</span><span class="ident" id="6594095">SOCK_SEQPACKET</span><span class="op" id="6594109">}</span><span class="op" id="6594110">,</span>&nbsp;<span class="ident" id="6594112">nil</span><span class="op" id="6594115">}</span><span class="op" id="6594116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594119">{</span><span class="num" id="6594120">100</span><span class="op" id="6594123">,</span>&nbsp;<span class="ident" id="6594125">io</span><span class="op" id="6594127">.</span><span class="ident" id="6594128">EOF</span><span class="op" id="6594131">,</span>&nbsp;<span class="op" id="6594133">&amp;</span><span class="ident" id="6594134">netFD</span><span class="op" id="6594139">{</span><span class="ident" id="6594140">sotype</span><span class="op" id="6594146">:</span>&nbsp;<span class="ident" id="6594148">syscall</span><span class="op" id="6594155">.</span><span class="ident" id="6594156">SOCK_SEQPACKET</span><span class="op" id="6594170">}</span><span class="op" id="6594171">,</span>&nbsp;<span class="ident" id="6594173">io</span><span class="op" id="6594175">.</span><span class="ident" id="6594176">EOF</span><span class="op" id="6594179">}</span><span class="op" id="6594180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594183">{</span><span class="num" id="6594184">100</span><span class="op" id="6594187">,</span>&nbsp;<span class="ident" id="6594189">errClosing</span><span class="op" id="6594199">,</span>&nbsp;<span class="op" id="6594201">&amp;</span><span class="ident" id="6594202">netFD</span><span class="op" id="6594207">{</span><span class="ident" id="6594208">sotype</span><span class="op" id="6594214">:</span>&nbsp;<span class="ident" id="6594216">syscall</span><span class="op" id="6594223">.</span><span class="ident" id="6594224">SOCK_SEQPACKET</span><span class="op" id="6594238">}</span><span class="op" id="6594239">,</span>&nbsp;<span class="ident" id="6594241">errClosing</span><span class="op" id="6594251">}</span><span class="op" id="6594252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594255">{</span><span class="num" id="6594256">0</span><span class="op" id="6594257">,</span>&nbsp;<span class="ident" id="6594259">nil</span><span class="op" id="6594262">,</span>&nbsp;<span class="op" id="6594264">&amp;</span><span class="ident" id="6594265">netFD</span><span class="op" id="6594270">{</span><span class="ident" id="6594271">sotype</span><span class="op" id="6594277">:</span>&nbsp;<span class="ident" id="6594279">syscall</span><span class="op" id="6594286">.</span><span class="ident" id="6594287">SOCK_SEQPACKET</span><span class="op" id="6594301">}</span><span class="op" id="6594302">,</span>&nbsp;<span class="ident" id="6594304">io</span><span class="op" id="6594306">.</span><span class="ident" id="6594307">EOF</span><span class="op" id="6594310">}</span><span class="op" id="6594311">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594314">{</span><span class="num" id="6594315">0</span><span class="op" id="6594316">,</span>&nbsp;<span class="ident" id="6594318">io</span><span class="op" id="6594320">.</span><span class="ident" id="6594321">EOF</span><span class="op" id="6594324">,</span>&nbsp;<span class="op" id="6594326">&amp;</span><span class="ident" id="6594327">netFD</span><span class="op" id="6594332">{</span><span class="ident" id="6594333">sotype</span><span class="op" id="6594339">:</span>&nbsp;<span class="ident" id="6594341">syscall</span><span class="op" id="6594348">.</span><span class="ident" id="6594349">SOCK_SEQPACKET</span><span class="op" id="6594363">}</span><span class="op" id="6594364">,</span>&nbsp;<span class="ident" id="6594366">io</span><span class="op" id="6594368">.</span><span class="ident" id="6594369">EOF</span><span class="op" id="6594372">}</span><span class="op" id="6594373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594376">{</span><span class="num" id="6594377">0</span><span class="op" id="6594378">,</span>&nbsp;<span class="ident" id="6594380">errClosing</span><span class="op" id="6594390">,</span>&nbsp;<span class="op" id="6594392">&amp;</span><span class="ident" id="6594393">netFD</span><span class="op" id="6594398">{</span><span class="ident" id="6594399">sotype</span><span class="op" id="6594405">:</span>&nbsp;<span class="ident" id="6594407">syscall</span><span class="op" id="6594414">.</span><span class="ident" id="6594415">SOCK_SEQPACKET</span><span class="op" id="6594429">}</span><span class="op" id="6594430">,</span>&nbsp;<span class="ident" id="6594432">errClosing</span><span class="op" id="6594442">}</span><span class="op" id="6594443">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594447">{</span><span class="num" id="6594448">100</span><span class="op" id="6594451">,</span>&nbsp;<span class="ident" id="6594453">nil</span><span class="op" id="6594456">,</span>&nbsp;<span class="op" id="6594458">&amp;</span><span class="ident" id="6594459">netFD</span><span class="op" id="6594464">{</span><span class="ident" id="6594465">sotype</span><span class="op" id="6594471">:</span>&nbsp;<span class="ident" id="6594473">syscall</span><span class="op" id="6594480">.</span><span class="ident" id="6594481">SOCK_RAW</span><span class="op" id="6594489">}</span><span class="op" id="6594490">,</span>&nbsp;<span class="ident" id="6594492">nil</span><span class="op" id="6594495">}</span><span class="op" id="6594496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594499">{</span><span class="num" id="6594500">100</span><span class="op" id="6594503">,</span>&nbsp;<span class="ident" id="6594505">io</span><span class="op" id="6594507">.</span><span class="ident" id="6594508">EOF</span><span class="op" id="6594511">,</span>&nbsp;<span class="op" id="6594513">&amp;</span><span class="ident" id="6594514">netFD</span><span class="op" id="6594519">{</span><span class="ident" id="6594520">sotype</span><span class="op" id="6594526">:</span>&nbsp;<span class="ident" id="6594528">syscall</span><span class="op" id="6594535">.</span><span class="ident" id="6594536">SOCK_RAW</span><span class="op" id="6594544">}</span><span class="op" id="6594545">,</span>&nbsp;<span class="ident" id="6594547">io</span><span class="op" id="6594549">.</span><span class="ident" id="6594550">EOF</span><span class="op" id="6594553">}</span><span class="op" id="6594554">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594557">{</span><span class="num" id="6594558">100</span><span class="op" id="6594561">,</span>&nbsp;<span class="ident" id="6594563">errClosing</span><span class="op" id="6594573">,</span>&nbsp;<span class="op" id="6594575">&amp;</span><span class="ident" id="6594576">netFD</span><span class="op" id="6594581">{</span><span class="ident" id="6594582">sotype</span><span class="op" id="6594588">:</span>&nbsp;<span class="ident" id="6594590">syscall</span><span class="op" id="6594597">.</span><span class="ident" id="6594598">SOCK_RAW</span><span class="op" id="6594606">}</span><span class="op" id="6594607">,</span>&nbsp;<span class="ident" id="6594609">errClosing</span><span class="op" id="6594619">}</span><span class="op" id="6594620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594623">{</span><span class="num" id="6594624">0</span><span class="op" id="6594625">,</span>&nbsp;<span class="ident" id="6594627">nil</span><span class="op" id="6594630">,</span>&nbsp;<span class="op" id="6594632">&amp;</span><span class="ident" id="6594633">netFD</span><span class="op" id="6594638">{</span><span class="ident" id="6594639">sotype</span><span class="op" id="6594645">:</span>&nbsp;<span class="ident" id="6594647">syscall</span><span class="op" id="6594654">.</span><span class="ident" id="6594655">SOCK_RAW</span><span class="op" id="6594663">}</span><span class="op" id="6594664">,</span>&nbsp;<span class="ident" id="6594666">nil</span><span class="op" id="6594669">}</span><span class="op" id="6594670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594673">{</span><span class="num" id="6594674">0</span><span class="op" id="6594675">,</span>&nbsp;<span class="ident" id="6594677">io</span><span class="op" id="6594679">.</span><span class="ident" id="6594680">EOF</span><span class="op" id="6594683">,</span>&nbsp;<span class="op" id="6594685">&amp;</span><span class="ident" id="6594686">netFD</span><span class="op" id="6594691">{</span><span class="ident" id="6594692">sotype</span><span class="op" id="6594698">:</span>&nbsp;<span class="ident" id="6594700">syscall</span><span class="op" id="6594707">.</span><span class="ident" id="6594708">SOCK_RAW</span><span class="op" id="6594716">}</span><span class="op" id="6594717">,</span>&nbsp;<span class="ident" id="6594719">io</span><span class="op" id="6594721">.</span><span class="ident" id="6594722">EOF</span><span class="op" id="6594725">}</span><span class="op" id="6594726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6594729">{</span><span class="num" id="6594730">0</span><span class="op" id="6594731">,</span>&nbsp;<span class="ident" id="6594733">errClosing</span><span class="op" id="6594743">,</span>&nbsp;<span class="op" id="6594745">&amp;</span><span class="ident" id="6594746">netFD</span><span class="op" id="6594751">{</span><span class="ident" id="6594752">sotype</span><span class="op" id="6594758">:</span>&nbsp;<span class="ident" id="6594760">syscall</span><span class="op" id="6594767">.</span><span class="ident" id="6594768">SOCK_RAW</span><span class="op" id="6594776">}</span><span class="op" id="6594777">,</span>&nbsp;<span class="ident" id="6594779">errClosing</span><span class="op" id="6594789">}</span><span class="op" id="6594790">,</span><br>
<span class="lineno"></span><span class="op" id="6594792">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6594795">func</span>&nbsp;<span class="ident" id="6594800">TestChkReadErr</span><span class="op" id="6594814">(</span><span class="ident" id="6594815">t</span>&nbsp;<span class="op" id="6594817">*</span><span class="ident" id="6594818">testing</span><span class="op" id="6594825">.</span><span class="ident" id="6594826">T</span><span class="op" id="6594827">)</span>&nbsp;<span class="op" id="6594829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6594832">for</span>&nbsp;<span class="ident" id="6594836">_</span><span class="op" id="6594837">,</span>&nbsp;<span class="ident" id="6594839">tt</span>&nbsp;<span class="op" id="6594842">:=</span>&nbsp;<span class="keyword" id="6594845">range</span>&nbsp;<span class="ident" id="6594851">chkReadErrTests</span>&nbsp;<span class="op" id="6594867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6594871">actual</span>&nbsp;<span class="op" id="6594878">:=</span>&nbsp;<span class="ident" id="6594881">chkReadErr</span><span class="op" id="6594891">(</span><span class="ident" id="6594892">tt</span><span class="op" id="6594894">.</span><span class="ident" id="6594895">n</span><span class="op" id="6594896">,</span>&nbsp;<span class="ident" id="6594898">tt</span><span class="op" id="6594900">.</span><span class="ident" id="6594901">err</span><span class="op" id="6594904">,</span>&nbsp;<span class="ident" id="6594906">tt</span><span class="op" id="6594908">.</span><span class="ident" id="6594909">fd</span><span class="op" id="6594911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6594915">if</span>&nbsp;<span class="ident" id="6594918">actual</span>&nbsp;<span class="op" id="6594925">!=</span>&nbsp;<span class="ident" id="6594928">tt</span><span class="op" id="6594930">.</span><span class="ident" id="6594931">expected</span>&nbsp;<span class="op" id="6594940">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6594945">t</span><span class="op" id="6594946">.</span><span class="ident" id="6594947">Errorf</span><span class="op" id="6594953">(</span><span class="string" id="6594954">&#34;chkReadError(%v,&nbsp;%v,&nbsp;%v):&nbsp;expected&nbsp;%v,&nbsp;actual&nbsp;%v&#34;</span><span class="op" id="6595004">,</span>&nbsp;<span class="ident" id="6595006">tt</span><span class="op" id="6595008">.</span><span class="ident" id="6595009">n</span><span class="op" id="6595010">,</span>&nbsp;<span class="ident" id="6595012">tt</span><span class="op" id="6595014">.</span><span class="ident" id="6595015">err</span><span class="op" id="6595018">,</span>&nbsp;<span class="ident" id="6595020">tt</span><span class="op" id="6595022">.</span><span class="ident" id="6595023">fd</span><span class="op" id="6595025">.</span><span class="ident" id="6595026">sotype</span><span class="op" id="6595032">,</span>&nbsp;<span class="ident" id="6595034">tt</span><span class="op" id="6595036">.</span><span class="ident" id="6595037">expected</span><span class="op" id="6595045">,</span>&nbsp;<span class="ident" id="6595047">actual</span><span class="op" id="6595053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6595057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6595060">}</span><br>
<span class="lineno"></span><span class="op" id="6595062">}</span>
</div>
</body>
</html>
