<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html" class="current">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3958109">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3958165">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3958219">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3958270">package</span>&nbsp;<span class="ident" id="3958278">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3958283">import</span>&nbsp;<span class="string" id="3958290">&#34;time&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3958298">//&nbsp;protocols&nbsp;contains&nbsp;minimal&nbsp;mappings&nbsp;between&nbsp;internet&nbsp;protocol</span><br>
<span class="lineno">10</span><span class="comment" id="3958363">//&nbsp;names&nbsp;and&nbsp;numbers&nbsp;for&nbsp;platforms&nbsp;that&nbsp;don&#39;t&nbsp;have&nbsp;a&nbsp;complete&nbsp;list&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3958433">//&nbsp;protocol&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="comment" id="3958454">//</span><br>
<span class="lineno"></span><span class="comment" id="3958457">//&nbsp;See&nbsp;http://www.iana.org/assignments/protocol-numbers</span><br>
<span class="lineno"></span><span class="keyword" id="3958513">var</span>&nbsp;<span class="ident" id="3958517">protocols</span>&nbsp;<span class="op" id="3958527">=</span>&nbsp;<span class="keyword" id="3958529">map</span><span class="op" id="3958532">[</span><span class="builtintype" id="3958533">string</span><span class="op" id="3958539">]</span><span class="builtintype" id="3958540">int</span><span class="op" id="3958543">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3958546">&#34;icmp&#34;</span><span class="op" id="3958552">:</span>&nbsp;<span class="num" id="3958554">1</span><span class="op" id="3958555">,</span>&nbsp;<span class="string" id="3958557">&#34;ICMP&#34;</span><span class="op" id="3958563">:</span>&nbsp;<span class="num" id="3958565">1</span><span class="op" id="3958566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3958569">&#34;igmp&#34;</span><span class="op" id="3958575">:</span>&nbsp;<span class="num" id="3958577">2</span><span class="op" id="3958578">,</span>&nbsp;<span class="string" id="3958580">&#34;IGMP&#34;</span><span class="op" id="3958586">:</span>&nbsp;<span class="num" id="3958588">2</span><span class="op" id="3958589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3958592">&#34;tcp&#34;</span><span class="op" id="3958597">:</span>&nbsp;<span class="num" id="3958599">6</span><span class="op" id="3958600">,</span>&nbsp;<span class="string" id="3958602">&#34;TCP&#34;</span><span class="op" id="3958607">:</span>&nbsp;<span class="num" id="3958609">6</span><span class="op" id="3958610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3958613">&#34;udp&#34;</span><span class="op" id="3958618">:</span>&nbsp;<span class="num" id="3958620">17</span><span class="op" id="3958622">,</span>&nbsp;<span class="string" id="3958624">&#34;UDP&#34;</span><span class="op" id="3958629">:</span>&nbsp;<span class="num" id="3958631">17</span><span class="op" id="3958633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3958636">&#34;ipv6-icmp&#34;</span><span class="op" id="3958647">:</span>&nbsp;<span class="num" id="3958649">58</span><span class="op" id="3958651">,</span>&nbsp;<span class="string" id="3958653">&#34;IPV6-ICMP&#34;</span><span class="op" id="3958664">:</span>&nbsp;<span class="num" id="3958666">58</span><span class="op" id="3958668">,</span>&nbsp;<span class="string" id="3958670">&#34;IPv6-ICMP&#34;</span><span class="op" id="3958681">:</span>&nbsp;<span class="num" id="3958683">58</span><span class="op" id="3958685">,</span><br>
<span class="lineno">20</span><span class="op" id="3958687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3958690">//&nbsp;LookupHost&nbsp;looks&nbsp;up&nbsp;the&nbsp;given&nbsp;host&nbsp;using&nbsp;the&nbsp;local&nbsp;resolver.</span><br>
<span class="lineno"></span><span class="comment" id="3958754">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;that&nbsp;host&#39;s&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="3958803">func</span>&nbsp;<span class="ident" id="3958808">LookupHost</span><span class="op" id="3958818">(</span><span class="ident" id="3958819">host</span>&nbsp;<span class="builtintype" id="3958824">string</span><span class="op" id="3958830">)</span>&nbsp;<span class="op" id="3958832">(</span><span class="ident" id="3958833">addrs</span>&nbsp;<span class="op" id="3958839">[</span><span class="op" id="3958840">]</span><span class="builtintype" id="3958841">string</span><span class="op" id="3958847">,</span>&nbsp;<span class="ident" id="3958849">err</span>&nbsp;<span class="builtintype" id="3958853">error</span><span class="op" id="3958858">)</span>&nbsp;<span class="op" id="3958860">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3958863">return</span>&nbsp;<span class="ident" id="3958870">lookupHost</span><span class="op" id="3958880">(</span><span class="ident" id="3958881">host</span><span class="op" id="3958885">)</span><br>
<span class="lineno"></span><span class="op" id="3958887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3958890">//&nbsp;LookupIP&nbsp;looks&nbsp;up&nbsp;host&nbsp;using&nbsp;the&nbsp;local&nbsp;resolver.</span><br>
<span class="lineno"></span><span class="comment" id="3958942">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;that&nbsp;host&#39;s&nbsp;IPv4&nbsp;and&nbsp;IPv6&nbsp;addresses.</span><br>
<span class="lineno">30</span><span class="keyword" id="3959005">func</span>&nbsp;<span class="ident" id="3959010">LookupIP</span><span class="op" id="3959018">(</span><span class="ident" id="3959019">host</span>&nbsp;<span class="builtintype" id="3959024">string</span><span class="op" id="3959030">)</span>&nbsp;<span class="op" id="3959032">(</span><span class="ident" id="3959033">addrs</span>&nbsp;<span class="op" id="3959039">[</span><span class="op" id="3959040">]</span><span class="ident" id="3959041">IP</span><span class="op" id="3959043">,</span>&nbsp;<span class="ident" id="3959045">err</span>&nbsp;<span class="builtintype" id="3959049">error</span><span class="op" id="3959054">)</span>&nbsp;<span class="op" id="3959056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3959059">return</span>&nbsp;<span class="ident" id="3959066">lookupIPMerge</span><span class="op" id="3959079">(</span><span class="ident" id="3959080">host</span><span class="op" id="3959084">)</span><br>
<span class="lineno"></span><span class="op" id="3959086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3959089">var</span>&nbsp;<span class="ident" id="3959093">lookupGroup</span>&nbsp;<span class="ident" id="3959105">singleflight</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3959119">//&nbsp;lookupIPMerge&nbsp;wraps&nbsp;lookupIP,&nbsp;but&nbsp;makes&nbsp;sure&nbsp;that&nbsp;for&nbsp;any&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="3959186">//&nbsp;host,&nbsp;only&nbsp;one&nbsp;lookup&nbsp;is&nbsp;in-flight&nbsp;at&nbsp;a&nbsp;time.&nbsp;The&nbsp;returned&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="3959255">//&nbsp;is&nbsp;always&nbsp;owned&nbsp;by&nbsp;the&nbsp;caller.</span><br>
<span class="lineno"></span><span class="keyword" id="3959289">func</span>&nbsp;<span class="ident" id="3959294">lookupIPMerge</span><span class="op" id="3959307">(</span><span class="ident" id="3959308">host</span>&nbsp;<span class="builtintype" id="3959313">string</span><span class="op" id="3959319">)</span>&nbsp;<span class="op" id="3959321">(</span><span class="ident" id="3959322">addrs</span>&nbsp;<span class="op" id="3959328">[</span><span class="op" id="3959329">]</span><span class="ident" id="3959330">IP</span><span class="op" id="3959332">,</span>&nbsp;<span class="ident" id="3959334">err</span>&nbsp;<span class="builtintype" id="3959338">error</span><span class="op" id="3959343">)</span>&nbsp;<span class="op" id="3959345">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3959348">addrsi</span><span class="op" id="3959354">,</span>&nbsp;<span class="ident" id="3959356">err</span><span class="op" id="3959359">,</span>&nbsp;<span class="ident" id="3959361">shared</span>&nbsp;<span class="op" id="3959368">:=</span>&nbsp;<span class="ident" id="3959371">lookupGroup</span><span class="op" id="3959382">.</span><span class="ident" id="3959383">Do</span><span class="op" id="3959385">(</span><span class="ident" id="3959386">host</span><span class="op" id="3959390">,</span>&nbsp;<span class="keyword" id="3959392">func</span><span class="op" id="3959396">(</span><span class="op" id="3959397">)</span>&nbsp;<span class="op" id="3959399">(</span><span class="keyword" id="3959400">interface</span><span class="op" id="3959409">{</span><span class="op" id="3959410">}</span><span class="op" id="3959411">,</span>&nbsp;<span class="builtintype" id="3959413">error</span><span class="op" id="3959418">)</span>&nbsp;<span class="op" id="3959420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3959424">return</span>&nbsp;<span class="ident" id="3959431">lookupIP</span><span class="op" id="3959439">(</span><span class="ident" id="3959440">host</span><span class="op" id="3959444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3959447">}</span><span class="op" id="3959448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3959451">return</span>&nbsp;<span class="ident" id="3959458">lookupIPReturn</span><span class="op" id="3959472">(</span><span class="ident" id="3959473">addrsi</span><span class="op" id="3959479">,</span>&nbsp;<span class="ident" id="3959481">err</span><span class="op" id="3959484">,</span>&nbsp;<span class="ident" id="3959486">shared</span><span class="op" id="3959492">)</span><br>
<span class="lineno"></span><span class="op" id="3959494">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="3959497">//&nbsp;lookupIPReturn&nbsp;turns&nbsp;the&nbsp;return&nbsp;values&nbsp;from&nbsp;singleflight.Do&nbsp;into</span><br>
<span class="lineno"></span><span class="comment" id="3959565">//&nbsp;the&nbsp;return&nbsp;values&nbsp;from&nbsp;LookupIP.</span><br>
<span class="lineno"></span><span class="keyword" id="3959601">func</span>&nbsp;<span class="ident" id="3959606">lookupIPReturn</span><span class="op" id="3959620">(</span><span class="ident" id="3959621">addrsi</span>&nbsp;<span class="keyword" id="3959628">interface</span><span class="op" id="3959637">{</span><span class="op" id="3959638">}</span><span class="op" id="3959639">,</span>&nbsp;<span class="ident" id="3959641">err</span>&nbsp;<span class="builtintype" id="3959645">error</span><span class="op" id="3959650">,</span>&nbsp;<span class="ident" id="3959652">shared</span>&nbsp;<span class="builtintype" id="3959659">bool</span><span class="op" id="3959663">)</span>&nbsp;<span class="op" id="3959665">(</span><span class="op" id="3959666">[</span><span class="op" id="3959667">]</span><span class="ident" id="3959668">IP</span><span class="op" id="3959670">,</span>&nbsp;<span class="builtintype" id="3959672">error</span><span class="op" id="3959677">)</span>&nbsp;<span class="op" id="3959679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3959682">if</span>&nbsp;<span class="ident" id="3959685">err</span>&nbsp;<span class="op" id="3959689">!=</span>&nbsp;<span class="builtintype" id="3959692">nil</span>&nbsp;<span class="op" id="3959696">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3959700">return</span>&nbsp;<span class="builtintype" id="3959707">nil</span><span class="op" id="3959710">,</span>&nbsp;<span class="ident" id="3959712">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3959717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3959720">addrs</span>&nbsp;<span class="op" id="3959726">:=</span>&nbsp;<span class="ident" id="3959729">addrsi</span><span class="op" id="3959735">.</span><span class="op" id="3959736">(</span><span class="op" id="3959737">[</span><span class="op" id="3959738">]</span><span class="ident" id="3959739">IP</span><span class="op" id="3959741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3959744">if</span>&nbsp;<span class="ident" id="3959747">shared</span>&nbsp;<span class="op" id="3959754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3959758">clone</span>&nbsp;<span class="op" id="3959764">:=</span>&nbsp;<span class="builtinfunc" id="3959767">make</span><span class="op" id="3959771">(</span><span class="op" id="3959772">[</span><span class="op" id="3959773">]</span><span class="ident" id="3959774">IP</span><span class="op" id="3959776">,</span>&nbsp;<span class="builtinfunc" id="3959778">len</span><span class="op" id="3959781">(</span><span class="ident" id="3959782">addrs</span><span class="op" id="3959787">)</span><span class="op" id="3959788">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3959792">copy</span><span class="op" id="3959796">(</span><span class="ident" id="3959797">clone</span><span class="op" id="3959802">,</span>&nbsp;<span class="ident" id="3959804">addrs</span><span class="op" id="3959809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3959813">addrs</span>&nbsp;<span class="op" id="3959819">=</span>&nbsp;<span class="ident" id="3959821">clone</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3959828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3959831">return</span>&nbsp;<span class="ident" id="3959838">addrs</span><span class="op" id="3959843">,</span>&nbsp;<span class="builtintype" id="3959845">nil</span><br>
<span class="lineno"></span><span class="op" id="3959849">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3959852">//&nbsp;lookupIPDeadline&nbsp;looks&nbsp;up&nbsp;a&nbsp;hostname&nbsp;with&nbsp;a&nbsp;deadline.</span><br>
<span class="lineno"></span><span class="keyword" id="3959909">func</span>&nbsp;<span class="ident" id="3959914">lookupIPDeadline</span><span class="op" id="3959930">(</span><span class="ident" id="3959931">host</span>&nbsp;<span class="builtintype" id="3959936">string</span><span class="op" id="3959942">,</span>&nbsp;<span class="ident" id="3959944">deadline</span>&nbsp;<span class="ident" id="3959953">time</span><span class="op" id="3959957">.</span><span class="ident" id="3959958">Time</span><span class="op" id="3959962">)</span>&nbsp;<span class="op" id="3959964">(</span><span class="ident" id="3959965">addrs</span>&nbsp;<span class="op" id="3959971">[</span><span class="op" id="3959972">]</span><span class="ident" id="3959973">IP</span><span class="op" id="3959975">,</span>&nbsp;<span class="ident" id="3959977">err</span>&nbsp;<span class="builtintype" id="3959981">error</span><span class="op" id="3959986">)</span>&nbsp;<span class="op" id="3959988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3959991">if</span>&nbsp;<span class="ident" id="3959994">deadline</span><span class="op" id="3960002">.</span><span class="ident" id="3960003">IsZero</span><span class="op" id="3960009">(</span><span class="op" id="3960010">)</span>&nbsp;<span class="op" id="3960012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960016">return</span>&nbsp;<span class="ident" id="3960023">lookupIPMerge</span><span class="op" id="3960036">(</span><span class="ident" id="3960037">host</span><span class="op" id="3960041">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3960044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3960048">//&nbsp;We&nbsp;could&nbsp;push&nbsp;the&nbsp;deadline&nbsp;down&nbsp;into&nbsp;the&nbsp;name&nbsp;resolution</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3960109">//&nbsp;functions.&nbsp;&nbsp;However,&nbsp;the&nbsp;most&nbsp;commonly&nbsp;used&nbsp;implementation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3960172">//&nbsp;calls&nbsp;getaddrinfo,&nbsp;which&nbsp;has&nbsp;no&nbsp;timeout.</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3960218">timeout</span>&nbsp;<span class="op" id="3960226">:=</span>&nbsp;<span class="ident" id="3960229">deadline</span><span class="op" id="3960237">.</span><span class="ident" id="3960238">Sub</span><span class="op" id="3960241">(</span><span class="ident" id="3960242">time</span><span class="op" id="3960246">.</span><span class="ident" id="3960247">Now</span><span class="op" id="3960250">(</span><span class="op" id="3960251">)</span><span class="op" id="3960252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960255">if</span>&nbsp;<span class="ident" id="3960258">timeout</span>&nbsp;<span class="op" id="3960266">&lt;=</span>&nbsp;<span class="num" id="3960269">0</span>&nbsp;<span class="op" id="3960271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960275">return</span>&nbsp;<span class="builtintype" id="3960282">nil</span><span class="op" id="3960285">,</span>&nbsp;<span class="ident" id="3960287">errTimeout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3960299">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3960302">t</span>&nbsp;<span class="op" id="3960304">:=</span>&nbsp;<span class="ident" id="3960307">time</span><span class="op" id="3960311">.</span><span class="ident" id="3960312">NewTimer</span><span class="op" id="3960320">(</span><span class="ident" id="3960321">timeout</span><span class="op" id="3960328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960331">defer</span>&nbsp;<span class="ident" id="3960337">t</span><span class="op" id="3960338">.</span><span class="ident" id="3960339">Stop</span><span class="op" id="3960343">(</span><span class="op" id="3960344">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3960348">ch</span>&nbsp;<span class="op" id="3960351">:=</span>&nbsp;<span class="ident" id="3960354">lookupGroup</span><span class="op" id="3960365">.</span><span class="ident" id="3960366">DoChan</span><span class="op" id="3960372">(</span><span class="ident" id="3960373">host</span><span class="op" id="3960377">,</span>&nbsp;<span class="keyword" id="3960379">func</span><span class="op" id="3960383">(</span><span class="op" id="3960384">)</span>&nbsp;<span class="op" id="3960386">(</span><span class="keyword" id="3960387">interface</span><span class="op" id="3960396">{</span><span class="op" id="3960397">}</span><span class="op" id="3960398">,</span>&nbsp;<span class="builtintype" id="3960400">error</span><span class="op" id="3960405">)</span>&nbsp;<span class="op" id="3960407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960411">return</span>&nbsp;<span class="ident" id="3960418">lookupIP</span><span class="op" id="3960426">(</span><span class="ident" id="3960427">host</span><span class="op" id="3960431">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3960434">}</span><span class="op" id="3960435">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960439">select</span>&nbsp;<span class="op" id="3960446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960449">case</span>&nbsp;<span class="op" id="3960454">&lt;-</span><span class="ident" id="3960456">t</span><span class="op" id="3960457">.</span><span class="ident" id="3960458">C</span><span class="op" id="3960459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3960463">//&nbsp;The&nbsp;DNS&nbsp;lookup&nbsp;timed&nbsp;out&nbsp;for&nbsp;some&nbsp;reason.&nbsp;&nbsp;Force</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3960517">//&nbsp;future&nbsp;requests&nbsp;to&nbsp;start&nbsp;the&nbsp;DNS&nbsp;lookup&nbsp;again</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3960568">//&nbsp;rather&nbsp;than&nbsp;waiting&nbsp;for&nbsp;the&nbsp;current&nbsp;lookup&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3960619">//&nbsp;complete.&nbsp;&nbsp;See&nbsp;issue&nbsp;8602.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3960651">lookupGroup</span><span class="op" id="3960662">.</span><span class="ident" id="3960663">Forget</span><span class="op" id="3960669">(</span><span class="ident" id="3960670">host</span><span class="op" id="3960674">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960679">return</span>&nbsp;<span class="builtintype" id="3960686">nil</span><span class="op" id="3960689">,</span>&nbsp;<span class="ident" id="3960691">errTimeout</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960704">case</span>&nbsp;<span class="ident" id="3960709">r</span>&nbsp;<span class="op" id="3960711">:=</span>&nbsp;<span class="op" id="3960714">&lt;-</span><span class="ident" id="3960716">ch</span><span class="op" id="3960718">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960722">return</span>&nbsp;<span class="ident" id="3960729">lookupIPReturn</span><span class="op" id="3960743">(</span><span class="ident" id="3960744">r</span><span class="op" id="3960745">.</span><span class="ident" id="3960746">v</span><span class="op" id="3960747">,</span>&nbsp;<span class="ident" id="3960749">r</span><span class="op" id="3960750">.</span><span class="ident" id="3960751">err</span><span class="op" id="3960754">,</span>&nbsp;<span class="ident" id="3960756">r</span><span class="op" id="3960757">.</span><span class="ident" id="3960758">shared</span><span class="op" id="3960764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3960767">}</span><br>
<span class="lineno">95</span><span class="op" id="3960769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3960772">//&nbsp;LookupPort&nbsp;looks&nbsp;up&nbsp;the&nbsp;port&nbsp;for&nbsp;the&nbsp;given&nbsp;network&nbsp;and&nbsp;service.</span><br>
<span class="lineno"></span><span class="keyword" id="3960839">func</span>&nbsp;<span class="ident" id="3960844">LookupPort</span><span class="op" id="3960854">(</span><span class="ident" id="3960855">network</span><span class="op" id="3960862">,</span>&nbsp;<span class="ident" id="3960864">service</span>&nbsp;<span class="builtintype" id="3960872">string</span><span class="op" id="3960878">)</span>&nbsp;<span class="op" id="3960880">(</span><span class="ident" id="3960881">port</span>&nbsp;<span class="builtintype" id="3960886">int</span><span class="op" id="3960889">,</span>&nbsp;<span class="ident" id="3960891">err</span>&nbsp;<span class="builtintype" id="3960895">error</span><span class="op" id="3960900">)</span>&nbsp;<span class="op" id="3960902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3960905">return</span>&nbsp;<span class="ident" id="3960912">lookupPort</span><span class="op" id="3960922">(</span><span class="ident" id="3960923">network</span><span class="op" id="3960930">,</span>&nbsp;<span class="ident" id="3960932">service</span><span class="op" id="3960939">)</span><br>
<span class="lineno">100</span><span class="op" id="3960941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3960944">//&nbsp;LookupCNAME&nbsp;returns&nbsp;the&nbsp;canonical&nbsp;DNS&nbsp;host&nbsp;for&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3961010">//&nbsp;Callers&nbsp;that&nbsp;do&nbsp;not&nbsp;care&nbsp;about&nbsp;the&nbsp;canonical&nbsp;name&nbsp;can&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="3961072">//&nbsp;LookupHost&nbsp;or&nbsp;LookupIP&nbsp;directly;&nbsp;both&nbsp;take&nbsp;care&nbsp;of&nbsp;resolving</span><br>
<span class="lineno">105</span><span class="comment" id="3961136">//&nbsp;the&nbsp;canonical&nbsp;name&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;lookup.</span><br>
<span class="lineno"></span><span class="keyword" id="3961181">func</span>&nbsp;<span class="ident" id="3961186">LookupCNAME</span><span class="op" id="3961197">(</span><span class="ident" id="3961198">name</span>&nbsp;<span class="builtintype" id="3961203">string</span><span class="op" id="3961209">)</span>&nbsp;<span class="op" id="3961211">(</span><span class="ident" id="3961212">cname</span>&nbsp;<span class="builtintype" id="3961218">string</span><span class="op" id="3961224">,</span>&nbsp;<span class="ident" id="3961226">err</span>&nbsp;<span class="builtintype" id="3961230">error</span><span class="op" id="3961235">)</span>&nbsp;<span class="op" id="3961237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3961240">return</span>&nbsp;<span class="ident" id="3961247">lookupCNAME</span><span class="op" id="3961258">(</span><span class="ident" id="3961259">name</span><span class="op" id="3961263">)</span><br>
<span class="lineno"></span><span class="op" id="3961265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="3961268">//&nbsp;LookupSRV&nbsp;tries&nbsp;to&nbsp;resolve&nbsp;an&nbsp;SRV&nbsp;query&nbsp;of&nbsp;the&nbsp;given&nbsp;service,</span><br>
<span class="lineno"></span><span class="comment" id="3961333">//&nbsp;protocol,&nbsp;and&nbsp;domain&nbsp;name.&nbsp;&nbsp;The&nbsp;proto&nbsp;is&nbsp;&#34;tcp&#34;&nbsp;or&nbsp;&#34;udp&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3961393">//&nbsp;The&nbsp;returned&nbsp;records&nbsp;are&nbsp;sorted&nbsp;by&nbsp;priority&nbsp;and&nbsp;randomized</span><br>
<span class="lineno"></span><span class="comment" id="3961455">//&nbsp;by&nbsp;weight&nbsp;within&nbsp;a&nbsp;priority.</span><br>
<span class="lineno"></span><span class="comment" id="3961487">//</span><br>
<span class="lineno">115</span><span class="comment" id="3961490">//&nbsp;LookupSRV&nbsp;constructs&nbsp;the&nbsp;DNS&nbsp;name&nbsp;to&nbsp;look&nbsp;up&nbsp;following&nbsp;RFC&nbsp;2782.</span><br>
<span class="lineno"></span><span class="comment" id="3961558">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;looks&nbsp;up&nbsp;_service._proto.name.&nbsp;&nbsp;To&nbsp;accommodate&nbsp;services</span><br>
<span class="lineno"></span><span class="comment" id="3961629">//&nbsp;publishing&nbsp;SRV&nbsp;records&nbsp;under&nbsp;non-standard&nbsp;names,&nbsp;if&nbsp;both&nbsp;service</span><br>
<span class="lineno"></span><span class="comment" id="3961697">//&nbsp;and&nbsp;proto&nbsp;are&nbsp;empty&nbsp;strings,&nbsp;LookupSRV&nbsp;looks&nbsp;up&nbsp;name&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="3961763">func</span>&nbsp;<span class="ident" id="3961768">LookupSRV</span><span class="op" id="3961777">(</span><span class="ident" id="3961778">service</span><span class="op" id="3961785">,</span>&nbsp;<span class="ident" id="3961787">proto</span><span class="op" id="3961792">,</span>&nbsp;<span class="ident" id="3961794">name</span>&nbsp;<span class="builtintype" id="3961799">string</span><span class="op" id="3961805">)</span>&nbsp;<span class="op" id="3961807">(</span><span class="ident" id="3961808">cname</span>&nbsp;<span class="builtintype" id="3961814">string</span><span class="op" id="3961820">,</span>&nbsp;<span class="ident" id="3961822">addrs</span>&nbsp;<span class="op" id="3961828">[</span><span class="op" id="3961829">]</span><span class="op" id="3961830">*</span><span class="ident" id="3961831">SRV</span><span class="op" id="3961834">,</span>&nbsp;<span class="ident" id="3961836">err</span>&nbsp;<span class="builtintype" id="3961840">error</span><span class="op" id="3961845">)</span>&nbsp;<span class="op" id="3961847">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3961850">return</span>&nbsp;<span class="ident" id="3961857">lookupSRV</span><span class="op" id="3961866">(</span><span class="ident" id="3961867">service</span><span class="op" id="3961874">,</span>&nbsp;<span class="ident" id="3961876">proto</span><span class="op" id="3961881">,</span>&nbsp;<span class="ident" id="3961883">name</span><span class="op" id="3961887">)</span><br>
<span class="lineno"></span><span class="op" id="3961889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3961892">//&nbsp;LookupMX&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;MX&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name&nbsp;sorted&nbsp;by&nbsp;preference.</span><br>
<span class="lineno"></span><span class="keyword" id="3961979">func</span>&nbsp;<span class="ident" id="3961984">LookupMX</span><span class="op" id="3961992">(</span><span class="ident" id="3961993">name</span>&nbsp;<span class="builtintype" id="3961998">string</span><span class="op" id="3962004">)</span>&nbsp;<span class="op" id="3962006">(</span><span class="ident" id="3962007">mx</span>&nbsp;<span class="op" id="3962010">[</span><span class="op" id="3962011">]</span><span class="op" id="3962012">*</span><span class="ident" id="3962013">MX</span><span class="op" id="3962015">,</span>&nbsp;<span class="ident" id="3962017">err</span>&nbsp;<span class="builtintype" id="3962021">error</span><span class="op" id="3962026">)</span>&nbsp;<span class="op" id="3962028">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3962031">return</span>&nbsp;<span class="ident" id="3962038">lookupMX</span><span class="op" id="3962046">(</span><span class="ident" id="3962047">name</span><span class="op" id="3962051">)</span><br>
<span class="lineno"></span><span class="op" id="3962053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3962056">//&nbsp;LookupNS&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;NS&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3962122">func</span>&nbsp;<span class="ident" id="3962127">LookupNS</span><span class="op" id="3962135">(</span><span class="ident" id="3962136">name</span>&nbsp;<span class="builtintype" id="3962141">string</span><span class="op" id="3962147">)</span>&nbsp;<span class="op" id="3962149">(</span><span class="ident" id="3962150">ns</span>&nbsp;<span class="op" id="3962153">[</span><span class="op" id="3962154">]</span><span class="op" id="3962155">*</span><span class="ident" id="3962156">NS</span><span class="op" id="3962158">,</span>&nbsp;<span class="ident" id="3962160">err</span>&nbsp;<span class="builtintype" id="3962164">error</span><span class="op" id="3962169">)</span>&nbsp;<span class="op" id="3962171">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3962174">return</span>&nbsp;<span class="ident" id="3962181">lookupNS</span><span class="op" id="3962189">(</span><span class="ident" id="3962190">name</span><span class="op" id="3962194">)</span><br>
<span class="lineno"></span><span class="op" id="3962196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3962199">//&nbsp;LookupTXT&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;TXT&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3962267">func</span>&nbsp;<span class="ident" id="3962272">LookupTXT</span><span class="op" id="3962281">(</span><span class="ident" id="3962282">name</span>&nbsp;<span class="builtintype" id="3962287">string</span><span class="op" id="3962293">)</span>&nbsp;<span class="op" id="3962295">(</span><span class="ident" id="3962296">txt</span>&nbsp;<span class="op" id="3962300">[</span><span class="op" id="3962301">]</span><span class="builtintype" id="3962302">string</span><span class="op" id="3962308">,</span>&nbsp;<span class="ident" id="3962310">err</span>&nbsp;<span class="builtintype" id="3962314">error</span><span class="op" id="3962319">)</span>&nbsp;<span class="op" id="3962321">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3962324">return</span>&nbsp;<span class="ident" id="3962331">lookupTXT</span><span class="op" id="3962340">(</span><span class="ident" id="3962341">name</span><span class="op" id="3962345">)</span><br>
<span class="lineno"></span><span class="op" id="3962347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3962350">//&nbsp;LookupAddr&nbsp;performs&nbsp;a&nbsp;reverse&nbsp;lookup&nbsp;for&nbsp;the&nbsp;given&nbsp;address,&nbsp;returning&nbsp;a&nbsp;list</span><br>
<span class="lineno"></span><span class="comment" id="3962430">//&nbsp;of&nbsp;names&nbsp;mapping&nbsp;to&nbsp;that&nbsp;address.</span><br>
<span class="lineno">140</span><span class="keyword" id="3962467">func</span>&nbsp;<span class="ident" id="3962472">LookupAddr</span><span class="op" id="3962482">(</span><span class="ident" id="3962483">addr</span>&nbsp;<span class="builtintype" id="3962488">string</span><span class="op" id="3962494">)</span>&nbsp;<span class="op" id="3962496">(</span><span class="ident" id="3962497">name</span>&nbsp;<span class="op" id="3962502">[</span><span class="op" id="3962503">]</span><span class="builtintype" id="3962504">string</span><span class="op" id="3962510">,</span>&nbsp;<span class="ident" id="3962512">err</span>&nbsp;<span class="builtintype" id="3962516">error</span><span class="op" id="3962521">)</span>&nbsp;<span class="op" id="3962523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3962526">return</span>&nbsp;<span class="ident" id="3962533">lookupAddr</span><span class="op" id="3962543">(</span><span class="ident" id="3962544">addr</span><span class="op" id="3962548">)</span><br>
<span class="lineno"></span><span class="op" id="3962550">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
