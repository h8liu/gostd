<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime/multipart</h2>
<ul>
<li><a href="/gostd/mime/multipart/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/mime/multipart/formdata.go.html">formdata.go</a></li>
<li><a href="/gostd/mime/multipart/formdata_test.go.html">formdata_test.go</a></li>
<li><a href="/gostd/mime/multipart/multipart.go.html">multipart.go</a></li>
<li><a href="/gostd/mime/multipart/multipart_test.go.html">multipart_test.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable.go.html">quotedprintable.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable_test.go.html">quotedprintable_test.go</a></li>
<li><a href="/gostd/mime/multipart/writer.go.html">writer.go</a></li>
<li><a href="/gostd/mime/multipart/writer_test.go.html" class="current">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6714642">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6714697">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6714751">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6714802">package</span>&nbsp;<span class="ident" id="6714810">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6714821">import</span>&nbsp;<span class="op" id="6714828">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6714831">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6714840">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6714853">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6714864">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6714874">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6714877">func</span>&nbsp;<span class="ident" id="6714882">TestWriter</span><span class="op" id="6714892">(</span><span class="ident" id="6714893">t</span>&nbsp;<span class="op" id="6714895">*</span><span class="ident" id="6714896">testing</span><span class="op" id="6714903">.</span><span class="ident" id="6714904">T</span><span class="op" id="6714905">)</span>&nbsp;<span class="op" id="6714907">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6714910">fileContents</span>&nbsp;<span class="op" id="6714923">:=</span>&nbsp;<span class="op" id="6714926">[</span><span class="op" id="6714927">]</span><span class="builtintype" id="6714928">byte</span><span class="op" id="6714932">(</span><span class="string" id="6714933">&#34;my&nbsp;file&nbsp;contents&#34;</span><span class="op" id="6714951">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6714955">var</span>&nbsp;<span class="ident" id="6714959">b</span>&nbsp;<span class="ident" id="6714961">bytes</span><span class="op" id="6714966">.</span><span class="ident" id="6714967">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6714975">w</span>&nbsp;<span class="op" id="6714977">:=</span>&nbsp;<span class="ident" id="6714980">NewWriter</span><span class="op" id="6714989">(</span><span class="op" id="6714990">&amp;</span><span class="ident" id="6714991">b</span><span class="op" id="6714992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714995">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6714999">part</span><span class="op" id="6715003">,</span>&nbsp;<span class="ident" id="6715005">err</span>&nbsp;<span class="op" id="6715009">:=</span>&nbsp;<span class="ident" id="6715012">w</span><span class="op" id="6715013">.</span><span class="ident" id="6715014">CreateFormFile</span><span class="op" id="6715028">(</span><span class="string" id="6715029">&#34;myfile&#34;</span><span class="op" id="6715037">,</span>&nbsp;<span class="string" id="6715039">&#34;my-file.txt&#34;</span><span class="op" id="6715052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6715056">if</span>&nbsp;<span class="ident" id="6715059">err</span>&nbsp;<span class="op" id="6715063">!=</span>&nbsp;<span class="ident" id="6715066">nil</span>&nbsp;<span class="op" id="6715070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715075">t</span><span class="op" id="6715076">.</span><span class="ident" id="6715077">Fatalf</span><span class="op" id="6715083">(</span><span class="string" id="6715084">&#34;CreateFormFile:&nbsp;%v&#34;</span><span class="op" id="6715104">,</span>&nbsp;<span class="ident" id="6715106">err</span><span class="op" id="6715109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715117">part</span><span class="op" id="6715121">.</span><span class="ident" id="6715122">Write</span><span class="op" id="6715127">(</span><span class="ident" id="6715128">fileContents</span><span class="op" id="6715140">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715144">err</span>&nbsp;<span class="op" id="6715148">=</span>&nbsp;<span class="ident" id="6715150">w</span><span class="op" id="6715151">.</span><span class="ident" id="6715152">WriteField</span><span class="op" id="6715162">(</span><span class="string" id="6715163">&#34;key&#34;</span><span class="op" id="6715168">,</span>&nbsp;<span class="string" id="6715170">&#34;val&#34;</span><span class="op" id="6715175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6715179">if</span>&nbsp;<span class="ident" id="6715182">err</span>&nbsp;<span class="op" id="6715186">!=</span>&nbsp;<span class="ident" id="6715189">nil</span>&nbsp;<span class="op" id="6715193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715198">t</span><span class="op" id="6715199">.</span><span class="ident" id="6715200">Fatalf</span><span class="op" id="6715206">(</span><span class="string" id="6715207">&#34;WriteField:&nbsp;%v&#34;</span><span class="op" id="6715223">,</span>&nbsp;<span class="ident" id="6715225">err</span><span class="op" id="6715228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715236">part</span><span class="op" id="6715240">.</span><span class="ident" id="6715241">Write</span><span class="op" id="6715246">(</span><span class="op" id="6715247">[</span><span class="op" id="6715248">]</span><span class="builtintype" id="6715249">byte</span><span class="op" id="6715253">(</span><span class="string" id="6715254">&#34;val&#34;</span><span class="op" id="6715259">)</span><span class="op" id="6715260">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715264">err</span>&nbsp;<span class="op" id="6715268">=</span>&nbsp;<span class="ident" id="6715270">w</span><span class="op" id="6715271">.</span><span class="ident" id="6715272">Close</span><span class="op" id="6715277">(</span><span class="op" id="6715278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6715282">if</span>&nbsp;<span class="ident" id="6715285">err</span>&nbsp;<span class="op" id="6715289">!=</span>&nbsp;<span class="ident" id="6715292">nil</span>&nbsp;<span class="op" id="6715296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715301">t</span><span class="op" id="6715302">.</span><span class="ident" id="6715303">Fatalf</span><span class="op" id="6715309">(</span><span class="string" id="6715310">&#34;Close:&nbsp;%v&#34;</span><span class="op" id="6715321">,</span>&nbsp;<span class="ident" id="6715323">err</span><span class="op" id="6715326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715334">s</span>&nbsp;<span class="op" id="6715336">:=</span>&nbsp;<span class="ident" id="6715339">b</span><span class="op" id="6715340">.</span><span class="ident" id="6715341">String</span><span class="op" id="6715347">(</span><span class="op" id="6715348">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6715352">if</span>&nbsp;<span class="builtinfunc" id="6715355">len</span><span class="op" id="6715358">(</span><span class="ident" id="6715359">s</span><span class="op" id="6715360">)</span>&nbsp;<span class="op" id="6715362">==</span>&nbsp;<span class="num" id="6715365">0</span>&nbsp;<span class="op" id="6715367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715372">t</span><span class="op" id="6715373">.</span><span class="ident" id="6715374">Fatal</span><span class="op" id="6715379">(</span><span class="string" id="6715380">&#34;String:&nbsp;unexpected&nbsp;empty&nbsp;result&#34;</span><span class="op" id="6715413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6715421">if</span>&nbsp;<span class="ident" id="6715424">s</span><span class="op" id="6715425">[</span><span class="num" id="6715426">0</span><span class="op" id="6715427">]</span>&nbsp;<span class="op" id="6715429">==</span>&nbsp;<span class="string" id="6715432">&#39;\r&#39;</span>&nbsp;<span class="op" id="6715437">||</span>&nbsp;<span class="ident" id="6715440">s</span><span class="op" id="6715441">[</span><span class="num" id="6715442">0</span><span class="op" id="6715443">]</span>&nbsp;<span class="op" id="6715445">==</span>&nbsp;<span class="string" id="6715448">&#39;\n&#39;</span>&nbsp;<span class="op" id="6715453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715458">t</span><span class="op" id="6715459">.</span><span class="ident" id="6715460">Fatal</span><span class="op" id="6715465">(</span><span class="string" id="6715466">&#34;String:&nbsp;unexpected&nbsp;newline&#34;</span><span class="op" id="6715494">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715505">r</span>&nbsp;<span class="op" id="6715507">:=</span>&nbsp;<span class="ident" id="6715510">NewReader</span><span class="op" id="6715519">(</span><span class="op" id="6715520">&amp;</span><span class="ident" id="6715521">b</span><span class="op" id="6715522">,</span>&nbsp;<span class="ident" id="6715524">w</span><span class="op" id="6715525">.</span><span class="ident" id="6715526">Boundary</span><span class="op" id="6715534">(</span><span class="op" id="6715535">)</span><span class="op" id="6715536">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715540">part</span><span class="op" id="6715544">,</span>&nbsp;<span class="ident" id="6715546">err</span>&nbsp;<span class="op" id="6715550">:=</span>&nbsp;<span class="ident" id="6715553">r</span><span class="op" id="6715554">.</span><span class="ident" id="6715555">NextPart</span><span class="op" id="6715563">(</span><span class="op" id="6715564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6715567">if</span>&nbsp;<span class="ident" id="6715570">err</span>&nbsp;<span class="op" id="6715574">!=</span>&nbsp;<span class="ident" id="6715577">nil</span>&nbsp;<span class="op" id="6715581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715585">t</span><span class="op" id="6715586">.</span><span class="ident" id="6715587">Fatalf</span><span class="op" id="6715593">(</span><span class="string" id="6715594">&#34;part&nbsp;1:&nbsp;%v&#34;</span><span class="op" id="6715606">,</span>&nbsp;<span class="ident" id="6715608">err</span><span class="op" id="6715611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6715617">if</span>&nbsp;<span class="ident" id="6715620">g</span><span class="op" id="6715621">,</span>&nbsp;<span class="ident" id="6715623">e</span>&nbsp;<span class="op" id="6715625">:=</span>&nbsp;<span class="ident" id="6715628">part</span><span class="op" id="6715632">.</span><span class="ident" id="6715633">FormName</span><span class="op" id="6715641">(</span><span class="op" id="6715642">)</span><span class="op" id="6715643">,</span>&nbsp;<span class="string" id="6715645">&#34;myfile&#34;</span><span class="op" id="6715653">;</span>&nbsp;<span class="ident" id="6715655">g</span>&nbsp;<span class="op" id="6715657">!=</span>&nbsp;<span class="ident" id="6715660">e</span>&nbsp;<span class="op" id="6715662">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715666">t</span><span class="op" id="6715667">.</span><span class="ident" id="6715668">Errorf</span><span class="op" id="6715674">(</span><span class="string" id="6715675">&#34;part&nbsp;1:&nbsp;want&nbsp;form&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6715710">,</span>&nbsp;<span class="ident" id="6715712">e</span><span class="op" id="6715713">,</span>&nbsp;<span class="ident" id="6715715">g</span><span class="op" id="6715716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715722">slurp</span><span class="op" id="6715727">,</span>&nbsp;<span class="ident" id="6715729">err</span>&nbsp;<span class="op" id="6715733">:=</span>&nbsp;<span class="ident" id="6715736">ioutil</span><span class="op" id="6715742">.</span><span class="ident" id="6715743">ReadAll</span><span class="op" id="6715750">(</span><span class="ident" id="6715751">part</span><span class="op" id="6715755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6715758">if</span>&nbsp;<span class="ident" id="6715761">err</span>&nbsp;<span class="op" id="6715765">!=</span>&nbsp;<span class="ident" id="6715768">nil</span>&nbsp;<span class="op" id="6715772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715776">t</span><span class="op" id="6715777">.</span><span class="ident" id="6715778">Fatalf</span><span class="op" id="6715784">(</span><span class="string" id="6715785">&#34;part&nbsp;1:&nbsp;ReadAll:&nbsp;%v&#34;</span><span class="op" id="6715806">,</span>&nbsp;<span class="ident" id="6715808">err</span><span class="op" id="6715811">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6715817">if</span>&nbsp;<span class="ident" id="6715820">e</span><span class="op" id="6715821">,</span>&nbsp;<span class="ident" id="6715823">g</span>&nbsp;<span class="op" id="6715825">:=</span>&nbsp;<span class="builtintype" id="6715828">string</span><span class="op" id="6715834">(</span><span class="ident" id="6715835">fileContents</span><span class="op" id="6715847">)</span><span class="op" id="6715848">,</span>&nbsp;<span class="builtintype" id="6715850">string</span><span class="op" id="6715856">(</span><span class="ident" id="6715857">slurp</span><span class="op" id="6715862">)</span><span class="op" id="6715863">;</span>&nbsp;<span class="ident" id="6715865">e</span>&nbsp;<span class="op" id="6715867">!=</span>&nbsp;<span class="ident" id="6715870">g</span>&nbsp;<span class="op" id="6715872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715876">t</span><span class="op" id="6715877">.</span><span class="ident" id="6715878">Errorf</span><span class="op" id="6715884">(</span><span class="string" id="6715885">&#34;part&nbsp;1:&nbsp;want&nbsp;contents&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6715919">,</span>&nbsp;<span class="ident" id="6715921">e</span><span class="op" id="6715922">,</span>&nbsp;<span class="ident" id="6715924">g</span><span class="op" id="6715925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715932">part</span><span class="op" id="6715936">,</span>&nbsp;<span class="ident" id="6715938">err</span>&nbsp;<span class="op" id="6715942">=</span>&nbsp;<span class="ident" id="6715944">r</span><span class="op" id="6715945">.</span><span class="ident" id="6715946">NextPart</span><span class="op" id="6715954">(</span><span class="op" id="6715955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6715958">if</span>&nbsp;<span class="ident" id="6715961">err</span>&nbsp;<span class="op" id="6715965">!=</span>&nbsp;<span class="ident" id="6715968">nil</span>&nbsp;<span class="op" id="6715972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6715976">t</span><span class="op" id="6715977">.</span><span class="ident" id="6715978">Fatalf</span><span class="op" id="6715984">(</span><span class="string" id="6715985">&#34;part&nbsp;2:&nbsp;%v&#34;</span><span class="op" id="6715997">,</span>&nbsp;<span class="ident" id="6715999">err</span><span class="op" id="6716002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6716008">if</span>&nbsp;<span class="ident" id="6716011">g</span><span class="op" id="6716012">,</span>&nbsp;<span class="ident" id="6716014">e</span>&nbsp;<span class="op" id="6716016">:=</span>&nbsp;<span class="ident" id="6716019">part</span><span class="op" id="6716023">.</span><span class="ident" id="6716024">FormName</span><span class="op" id="6716032">(</span><span class="op" id="6716033">)</span><span class="op" id="6716034">,</span>&nbsp;<span class="string" id="6716036">&#34;key&#34;</span><span class="op" id="6716041">;</span>&nbsp;<span class="ident" id="6716043">g</span>&nbsp;<span class="op" id="6716045">!=</span>&nbsp;<span class="ident" id="6716048">e</span>&nbsp;<span class="op" id="6716050">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716054">t</span><span class="op" id="6716055">.</span><span class="ident" id="6716056">Errorf</span><span class="op" id="6716062">(</span><span class="string" id="6716063">&#34;part&nbsp;2:&nbsp;want&nbsp;form&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6716098">,</span>&nbsp;<span class="ident" id="6716100">e</span><span class="op" id="6716101">,</span>&nbsp;<span class="ident" id="6716103">g</span><span class="op" id="6716104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716110">slurp</span><span class="op" id="6716115">,</span>&nbsp;<span class="ident" id="6716117">err</span>&nbsp;<span class="op" id="6716121">=</span>&nbsp;<span class="ident" id="6716123">ioutil</span><span class="op" id="6716129">.</span><span class="ident" id="6716130">ReadAll</span><span class="op" id="6716137">(</span><span class="ident" id="6716138">part</span><span class="op" id="6716142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6716145">if</span>&nbsp;<span class="ident" id="6716148">err</span>&nbsp;<span class="op" id="6716152">!=</span>&nbsp;<span class="ident" id="6716155">nil</span>&nbsp;<span class="op" id="6716159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716163">t</span><span class="op" id="6716164">.</span><span class="ident" id="6716165">Fatalf</span><span class="op" id="6716171">(</span><span class="string" id="6716172">&#34;part&nbsp;2:&nbsp;ReadAll:&nbsp;%v&#34;</span><span class="op" id="6716193">,</span>&nbsp;<span class="ident" id="6716195">err</span><span class="op" id="6716198">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6716204">if</span>&nbsp;<span class="ident" id="6716207">e</span><span class="op" id="6716208">,</span>&nbsp;<span class="ident" id="6716210">g</span>&nbsp;<span class="op" id="6716212">:=</span>&nbsp;<span class="string" id="6716215">&#34;val&#34;</span><span class="op" id="6716220">,</span>&nbsp;<span class="builtintype" id="6716222">string</span><span class="op" id="6716228">(</span><span class="ident" id="6716229">slurp</span><span class="op" id="6716234">)</span><span class="op" id="6716235">;</span>&nbsp;<span class="ident" id="6716237">e</span>&nbsp;<span class="op" id="6716239">!=</span>&nbsp;<span class="ident" id="6716242">g</span>&nbsp;<span class="op" id="6716244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716248">t</span><span class="op" id="6716249">.</span><span class="ident" id="6716250">Errorf</span><span class="op" id="6716256">(</span><span class="string" id="6716257">&#34;part&nbsp;2:&nbsp;want&nbsp;contents&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6716291">,</span>&nbsp;<span class="ident" id="6716293">e</span><span class="op" id="6716294">,</span>&nbsp;<span class="ident" id="6716296">g</span><span class="op" id="6716297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716304">part</span><span class="op" id="6716308">,</span>&nbsp;<span class="ident" id="6716310">err</span>&nbsp;<span class="op" id="6716314">=</span>&nbsp;<span class="ident" id="6716316">r</span><span class="op" id="6716317">.</span><span class="ident" id="6716318">NextPart</span><span class="op" id="6716326">(</span><span class="op" id="6716327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6716330">if</span>&nbsp;<span class="ident" id="6716333">part</span>&nbsp;<span class="op" id="6716338">!=</span>&nbsp;<span class="ident" id="6716341">nil</span>&nbsp;<span class="op" id="6716345">||</span>&nbsp;<span class="ident" id="6716348">err</span>&nbsp;<span class="op" id="6716352">==</span>&nbsp;<span class="ident" id="6716355">nil</span>&nbsp;<span class="op" id="6716359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716363">t</span><span class="op" id="6716364">.</span><span class="ident" id="6716365">Fatalf</span><span class="op" id="6716371">(</span><span class="string" id="6716372">&#34;expected&nbsp;end&nbsp;of&nbsp;parts;&nbsp;got&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6716407">,</span>&nbsp;<span class="ident" id="6716409">part</span><span class="op" id="6716413">,</span>&nbsp;<span class="ident" id="6716415">err</span><span class="op" id="6716418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716421">}</span><br>
<span class="lineno"></span><span class="op" id="6716423">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="keyword" id="6716426">func</span>&nbsp;<span class="ident" id="6716431">TestWriterSetBoundary</span><span class="op" id="6716452">(</span><span class="ident" id="6716453">t</span>&nbsp;<span class="op" id="6716455">*</span><span class="ident" id="6716456">testing</span><span class="op" id="6716463">.</span><span class="ident" id="6716464">T</span><span class="op" id="6716465">)</span>&nbsp;<span class="op" id="6716467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6716470">var</span>&nbsp;<span class="ident" id="6716474">b</span>&nbsp;<span class="ident" id="6716476">bytes</span><span class="op" id="6716481">.</span><span class="ident" id="6716482">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716490">w</span>&nbsp;<span class="op" id="6716492">:=</span>&nbsp;<span class="ident" id="6716495">NewWriter</span><span class="op" id="6716504">(</span><span class="op" id="6716505">&amp;</span><span class="ident" id="6716506">b</span><span class="op" id="6716507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716510">tests</span>&nbsp;<span class="op" id="6716516">:=</span>&nbsp;<span class="op" id="6716519">[</span><span class="op" id="6716520">]</span><span class="keyword" id="6716521">struct</span>&nbsp;<span class="op" id="6716528">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716532">b</span>&nbsp;&nbsp;<span class="builtintype" id="6716535">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716544">ok</span>&nbsp;<span class="builtintype" id="6716547">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716553">}</span><span class="op" id="6716554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716558">{</span><span class="string" id="6716559">&#34;abc&#34;</span><span class="op" id="6716564">,</span>&nbsp;<span class="builtintype" id="6716566">true</span><span class="op" id="6716570">}</span><span class="op" id="6716571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716575">{</span><span class="string" id="6716576">&#34;&#34;</span><span class="op" id="6716578">,</span>&nbsp;<span class="builtintype" id="6716580">false</span><span class="op" id="6716585">}</span><span class="op" id="6716586">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716590">{</span><span class="string" id="6716591">&#34;ungültig&#34;</span><span class="op" id="6716602">,</span>&nbsp;<span class="builtintype" id="6716604">false</span><span class="op" id="6716609">}</span><span class="op" id="6716610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716614">{</span><span class="string" id="6716615">&#34;!&#34;</span><span class="op" id="6716618">,</span>&nbsp;<span class="builtintype" id="6716620">false</span><span class="op" id="6716625">}</span><span class="op" id="6716626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716630">{</span><span class="ident" id="6716631">strings</span><span class="op" id="6716638">.</span><span class="ident" id="6716639">Repeat</span><span class="op" id="6716645">(</span><span class="string" id="6716646">&#34;x&#34;</span><span class="op" id="6716649">,</span>&nbsp;<span class="num" id="6716651">69</span><span class="op" id="6716653">)</span><span class="op" id="6716654">,</span>&nbsp;<span class="builtintype" id="6716656">true</span><span class="op" id="6716660">}</span><span class="op" id="6716661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716665">{</span><span class="ident" id="6716666">strings</span><span class="op" id="6716673">.</span><span class="ident" id="6716674">Repeat</span><span class="op" id="6716680">(</span><span class="string" id="6716681">&#34;x&#34;</span><span class="op" id="6716684">,</span>&nbsp;<span class="num" id="6716686">70</span><span class="op" id="6716688">)</span><span class="op" id="6716689">,</span>&nbsp;<span class="builtintype" id="6716691">false</span><span class="op" id="6716696">}</span><span class="op" id="6716697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716701">{</span><span class="string" id="6716702">&#34;bad!ascii!&#34;</span><span class="op" id="6716714">,</span>&nbsp;<span class="builtintype" id="6716716">false</span><span class="op" id="6716721">}</span><span class="op" id="6716722">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716726">{</span><span class="string" id="6716727">&#34;my-separator&#34;</span><span class="op" id="6716741">,</span>&nbsp;<span class="builtintype" id="6716743">true</span><span class="op" id="6716747">}</span><span class="op" id="6716748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6716754">for</span>&nbsp;<span class="ident" id="6716758">i</span><span class="op" id="6716759">,</span>&nbsp;<span class="ident" id="6716761">tt</span>&nbsp;<span class="op" id="6716764">:=</span>&nbsp;<span class="keyword" id="6716767">range</span>&nbsp;<span class="ident" id="6716773">tests</span>&nbsp;<span class="op" id="6716779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716783">err</span>&nbsp;<span class="op" id="6716787">:=</span>&nbsp;<span class="ident" id="6716790">w</span><span class="op" id="6716791">.</span><span class="ident" id="6716792">SetBoundary</span><span class="op" id="6716803">(</span><span class="ident" id="6716804">tt</span><span class="op" id="6716806">.</span><span class="ident" id="6716807">b</span><span class="op" id="6716808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716812">got</span>&nbsp;<span class="op" id="6716816">:=</span>&nbsp;<span class="ident" id="6716819">err</span>&nbsp;<span class="op" id="6716823">==</span>&nbsp;<span class="ident" id="6716826">nil</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6716832">if</span>&nbsp;<span class="ident" id="6716835">got</span>&nbsp;<span class="op" id="6716839">!=</span>&nbsp;<span class="ident" id="6716842">tt</span><span class="op" id="6716844">.</span><span class="ident" id="6716845">ok</span>&nbsp;<span class="op" id="6716848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716853">t</span><span class="op" id="6716854">.</span><span class="ident" id="6716855">Errorf</span><span class="op" id="6716861">(</span><span class="string" id="6716862">&#34;%d.&nbsp;boundary&nbsp;%q&nbsp;=&nbsp;%v&nbsp;(%v);&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6716898">,</span>&nbsp;<span class="ident" id="6716900">i</span><span class="op" id="6716901">,</span>&nbsp;<span class="ident" id="6716903">tt</span><span class="op" id="6716905">.</span><span class="ident" id="6716906">b</span><span class="op" id="6716907">,</span>&nbsp;<span class="ident" id="6716909">got</span><span class="op" id="6716912">,</span>&nbsp;<span class="ident" id="6716914">err</span><span class="op" id="6716917">,</span>&nbsp;<span class="ident" id="6716919">tt</span><span class="op" id="6716921">.</span><span class="ident" id="6716922">ok</span><span class="op" id="6716924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716928">}</span>&nbsp;<span class="keyword" id="6716930">else</span>&nbsp;<span class="keyword" id="6716935">if</span>&nbsp;<span class="ident" id="6716938">tt</span><span class="op" id="6716940">.</span><span class="ident" id="6716941">ok</span>&nbsp;<span class="op" id="6716944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716949">got</span>&nbsp;<span class="op" id="6716953">:=</span>&nbsp;<span class="ident" id="6716956">w</span><span class="op" id="6716957">.</span><span class="ident" id="6716958">Boundary</span><span class="op" id="6716966">(</span><span class="op" id="6716967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6716972">if</span>&nbsp;<span class="ident" id="6716975">got</span>&nbsp;<span class="op" id="6716979">!=</span>&nbsp;<span class="ident" id="6716982">tt</span><span class="op" id="6716984">.</span><span class="ident" id="6716985">b</span>&nbsp;<span class="op" id="6716987">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6716993">t</span><span class="op" id="6716994">.</span><span class="ident" id="6716995">Errorf</span><span class="op" id="6717001">(</span><span class="string" id="6717002">&#34;boundary&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6717026">,</span>&nbsp;<span class="ident" id="6717028">got</span><span class="op" id="6717031">,</span>&nbsp;<span class="ident" id="6717033">tt</span><span class="op" id="6717035">.</span><span class="ident" id="6717036">b</span><span class="op" id="6717037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6717052">w</span><span class="op" id="6717053">.</span><span class="ident" id="6717054">Close</span><span class="op" id="6717059">(</span><span class="op" id="6717060">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6717063">if</span>&nbsp;<span class="ident" id="6717066">got</span>&nbsp;<span class="op" id="6717070">:=</span>&nbsp;<span class="ident" id="6717073">b</span><span class="op" id="6717074">.</span><span class="ident" id="6717075">String</span><span class="op" id="6717081">(</span><span class="op" id="6717082">)</span><span class="op" id="6717083">;</span>&nbsp;<span class="op" id="6717085">!</span><span class="ident" id="6717086">strings</span><span class="op" id="6717093">.</span><span class="ident" id="6717094">Contains</span><span class="op" id="6717102">(</span><span class="ident" id="6717103">got</span><span class="op" id="6717106">,</span>&nbsp;<span class="string" id="6717108">&#34;\r\n--my-separator--\r\n&#34;</span><span class="op" id="6717134">)</span>&nbsp;<span class="op" id="6717136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6717140">t</span><span class="op" id="6717141">.</span><span class="ident" id="6717142">Errorf</span><span class="op" id="6717148">(</span><span class="string" id="6717149">&#34;expected&nbsp;my-separator&nbsp;in&nbsp;output.&nbsp;got:&nbsp;%q&#34;</span><span class="op" id="6717191">,</span>&nbsp;<span class="ident" id="6717193">got</span><span class="op" id="6717196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717199">}</span><br>
<span class="lineno"></span><span class="op" id="6717201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="6717204">func</span>&nbsp;<span class="ident" id="6717209">TestWriterBoundaryGoroutines</span><span class="op" id="6717237">(</span><span class="ident" id="6717238">t</span>&nbsp;<span class="op" id="6717240">*</span><span class="ident" id="6717241">testing</span><span class="op" id="6717248">.</span><span class="ident" id="6717249">T</span><span class="op" id="6717250">)</span>&nbsp;<span class="op" id="6717252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6717255">//&nbsp;Verify&nbsp;there&#39;s&nbsp;no&nbsp;data&nbsp;race&nbsp;accessing&nbsp;any&nbsp;lazy&nbsp;boundary&nbsp;if&nbsp;it&#39;s&nbsp;used&nbsp;by</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6717331">//&nbsp;different&nbsp;goroutines.&nbsp;This&nbsp;was&nbsp;previously&nbsp;broken&nbsp;by</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6717387">//&nbsp;https://codereview.appspot.com/95760043/&nbsp;and&nbsp;reverted&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6717448">//&nbsp;https://codereview.appspot.com/117600043/</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6717494">w</span>&nbsp;<span class="op" id="6717496">:=</span>&nbsp;<span class="ident" id="6717499">NewWriter</span><span class="op" id="6717508">(</span><span class="ident" id="6717509">ioutil</span><span class="op" id="6717515">.</span><span class="ident" id="6717516">Discard</span><span class="op" id="6717523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6717526">done</span>&nbsp;<span class="op" id="6717531">:=</span>&nbsp;<span class="builtinfunc" id="6717534">make</span><span class="op" id="6717538">(</span><span class="keyword" id="6717539">chan</span>&nbsp;<span class="builtintype" id="6717544">int</span><span class="op" id="6717547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6717550">go</span>&nbsp;<span class="keyword" id="6717553">func</span><span class="op" id="6717557">(</span><span class="op" id="6717558">)</span>&nbsp;<span class="op" id="6717560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6717564">w</span><span class="op" id="6717565">.</span><span class="ident" id="6717566">CreateFormField</span><span class="op" id="6717581">(</span><span class="string" id="6717582">&#34;foo&#34;</span><span class="op" id="6717587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6717591">done</span>&nbsp;<span class="op" id="6717596">&lt;-</span>&nbsp;<span class="num" id="6717599">1</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717602">}</span><span class="op" id="6717603">(</span><span class="op" id="6717604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6717607">w</span><span class="op" id="6717608">.</span><span class="ident" id="6717609">Boundary</span><span class="op" id="6717617">(</span><span class="op" id="6717618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717621">&lt;-</span><span class="ident" id="6717623">done</span><br>
<span class="lineno"></span><span class="op" id="6717628">}</span>
</div>
</body>
</html>
