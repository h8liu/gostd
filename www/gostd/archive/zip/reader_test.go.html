<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>archive/zip</h2>
<ul>
<li><a href="/gostd/archive/zip/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/archive/zip/reader.go.html">reader.go</a></li>
<li><a href="/gostd/archive/zip/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/archive/zip/register.go.html">register.go</a></li>
<li><a href="/gostd/archive/zip/struct.go.html">struct.go</a></li>
<li><a href="/gostd/archive/zip/writer.go.html">writer.go</a></li>
<li><a href="/gostd/archive/zip/writer_test.go.html">writer_test.go</a></li>
<li><a href="/gostd/archive/zip/zip_test.go.html">zip_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7138225">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7138280">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7138334">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7138385">package</span>&nbsp;<span class="ident" id="7138393">zip</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7138398">import</span>&nbsp;<span class="op" id="7138405">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138408">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138417">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138436">&#34;encoding/hex&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138452">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138458">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138471">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138477">&#34;path/filepath&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138494">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138504">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138515">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138526">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7138533">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7138536">type</span>&nbsp;<span class="ident" id="7138541">ZipTest</span>&nbsp;<span class="keyword" id="7138549">struct</span>&nbsp;<span class="op" id="7138556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138559">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7138567">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138575">Source</span>&nbsp;&nbsp;<span class="keyword" id="7138583">func</span><span class="op" id="7138587">(</span><span class="op" id="7138588">)</span>&nbsp;<span class="op" id="7138590">(</span><span class="ident" id="7138591">r</span>&nbsp;<span class="ident" id="7138593">io</span><span class="op" id="7138595">.</span><span class="ident" id="7138596">ReaderAt</span><span class="op" id="7138604">,</span>&nbsp;<span class="ident" id="7138606">size</span>&nbsp;<span class="ident" id="7138611">int64</span><span class="op" id="7138616">)</span>&nbsp;<span class="comment" id="7138618">//&nbsp;if&nbsp;non-nil,&nbsp;used&nbsp;instead&nbsp;of&nbsp;testdata/&lt;Name&gt;&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138671">Comment</span>&nbsp;<span class="builtintype" id="7138679">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138687">File</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138695">[</span><span class="op" id="7138696">]</span><span class="ident" id="7138697">ZipTestFile</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138710">Error</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7138718">error</span>&nbsp;<span class="comment" id="7138724">//&nbsp;the&nbsp;error&nbsp;that&nbsp;Opening&nbsp;this&nbsp;file&nbsp;should&nbsp;return</span><br>
<span class="lineno"></span><span class="op" id="7138774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7138777">type</span>&nbsp;<span class="ident" id="7138782">ZipTestFile</span>&nbsp;<span class="keyword" id="7138794">struct</span>&nbsp;<span class="op" id="7138801">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138804">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7138815">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138823">Content</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138834">[</span><span class="op" id="7138835">]</span><span class="builtintype" id="7138836">byte</span>&nbsp;<span class="comment" id="7138841">//&nbsp;if&nbsp;blank,&nbsp;will&nbsp;attempt&nbsp;to&nbsp;compare&nbsp;against&nbsp;File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138892">ContentErr</span>&nbsp;<span class="builtintype" id="7138903">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138910">File</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7138921">string</span>&nbsp;<span class="comment" id="7138928">//&nbsp;name&nbsp;of&nbsp;file&nbsp;to&nbsp;compare&nbsp;to&nbsp;(relative&nbsp;to&nbsp;testdata/)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138983">Mtime</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7138994">string</span>&nbsp;<span class="comment" id="7139001">//&nbsp;modified&nbsp;time&nbsp;in&nbsp;format&nbsp;&#34;mm-dd-yy&nbsp;hh:mm:ss&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139049">Mode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7139060">os</span><span class="op" id="7139062">.</span><span class="ident" id="7139063">FileMode</span><br>
<span class="lineno"></span><span class="op" id="7139072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7139075">//&nbsp;Caution:&nbsp;The&nbsp;Mtime&nbsp;values&nbsp;found&nbsp;for&nbsp;the&nbsp;test&nbsp;files&nbsp;should&nbsp;correspond&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="7139150">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;values&nbsp;listed&nbsp;with&nbsp;unzip&nbsp;-l&nbsp;&lt;zipfile&gt;.&nbsp;However,&nbsp;the&nbsp;values</span><br>
<span class="lineno">40</span><span class="comment" id="7139225">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listed&nbsp;by&nbsp;unzip&nbsp;appear&nbsp;to&nbsp;be&nbsp;off&nbsp;by&nbsp;some&nbsp;hours.&nbsp;When&nbsp;creating</span><br>
<span class="lineno"></span><span class="comment" id="7139299">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fresh&nbsp;test&nbsp;files&nbsp;and&nbsp;testing&nbsp;them,&nbsp;this&nbsp;issue&nbsp;is&nbsp;not&nbsp;present.</span><br>
<span class="lineno"></span><span class="comment" id="7139373">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;test&nbsp;files&nbsp;were&nbsp;created&nbsp;in&nbsp;Sydney,&nbsp;so&nbsp;there&nbsp;might&nbsp;be&nbsp;a&nbsp;time</span><br>
<span class="lineno"></span><span class="comment" id="7139449">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zone&nbsp;issue.&nbsp;The&nbsp;time&nbsp;zone&nbsp;information&nbsp;does&nbsp;have&nbsp;to&nbsp;be&nbsp;encoded</span><br>
<span class="lineno"></span><span class="comment" id="7139523">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;somewhere,&nbsp;because&nbsp;otherwise&nbsp;unzip&nbsp;-l&nbsp;could&nbsp;not&nbsp;provide&nbsp;a&nbsp;different</span><br>
<span class="lineno">45</span><span class="comment" id="7139603">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time&nbsp;from&nbsp;what&nbsp;the&nbsp;archive/zip&nbsp;package&nbsp;provides,&nbsp;but&nbsp;there&nbsp;appears</span><br>
<span class="lineno"></span><span class="comment" id="7139682">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;be&nbsp;no&nbsp;documentation&nbsp;about&nbsp;this.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7139730">var</span>&nbsp;<span class="ident" id="7139734">tests</span>&nbsp;<span class="op" id="7139740">=</span>&nbsp;<span class="op" id="7139742">[</span><span class="op" id="7139743">]</span><span class="ident" id="7139744">ZipTest</span><span class="op" id="7139751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139754">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139758">Name</span><span class="op" id="7139762">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7139767">&#34;test.zip&#34;</span><span class="op" id="7139777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139781">Comment</span><span class="op" id="7139788">:</span>&nbsp;<span class="string" id="7139790">&#34;This&nbsp;is&nbsp;a&nbsp;zipfile&nbsp;comment.&#34;</span><span class="op" id="7139818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139822">File</span><span class="op" id="7139826">:</span>&nbsp;<span class="op" id="7139828">[</span><span class="op" id="7139829">]</span><span class="ident" id="7139830">ZipTestFile</span><span class="op" id="7139841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139852">Name</span><span class="op" id="7139856">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7139861">&#34;test.txt&#34;</span><span class="op" id="7139871">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139877">Content</span><span class="op" id="7139884">:</span>&nbsp;<span class="op" id="7139886">[</span><span class="op" id="7139887">]</span><span class="builtintype" id="7139888">byte</span><span class="op" id="7139892">(</span><span class="string" id="7139893">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;text&nbsp;file.\n&#34;</span><span class="op" id="7139922">)</span><span class="op" id="7139923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139929">Mtime</span><span class="op" id="7139934">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7139938">&#34;09-05-10&nbsp;12:12:02&#34;</span><span class="op" id="7139957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139963">Mode</span><span class="op" id="7139967">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7139972">0644</span><span class="op" id="7139976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139981">}</span><span class="op" id="7139982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139987">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139993">Name</span><span class="op" id="7139997">:</span>&nbsp;&nbsp;<span class="string" id="7140000">&#34;gophercolor16x16.png&#34;</span><span class="op" id="7140022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140028">File</span><span class="op" id="7140032">:</span>&nbsp;&nbsp;<span class="string" id="7140035">&#34;gophercolor16x16.png&#34;</span><span class="op" id="7140057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140063">Mtime</span><span class="op" id="7140068">:</span>&nbsp;<span class="string" id="7140070">&#34;09-05-10&nbsp;15:52:58&#34;</span><span class="op" id="7140089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140095">Mode</span><span class="op" id="7140099">:</span>&nbsp;&nbsp;<span class="num" id="7140102">0644</span><span class="op" id="7140106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140111">}</span><span class="op" id="7140112">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140116">}</span><span class="op" id="7140117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140120">}</span><span class="op" id="7140121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140128">Name</span><span class="op" id="7140132">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7140137">&#34;test-trailing-junk.zip&#34;</span><span class="op" id="7140161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140165">Comment</span><span class="op" id="7140172">:</span>&nbsp;<span class="string" id="7140174">&#34;This&nbsp;is&nbsp;a&nbsp;zipfile&nbsp;comment.&#34;</span><span class="op" id="7140202">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140206">File</span><span class="op" id="7140210">:</span>&nbsp;<span class="op" id="7140212">[</span><span class="op" id="7140213">]</span><span class="ident" id="7140214">ZipTestFile</span><span class="op" id="7140225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140236">Name</span><span class="op" id="7140240">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7140245">&#34;test.txt&#34;</span><span class="op" id="7140255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140261">Content</span><span class="op" id="7140268">:</span>&nbsp;<span class="op" id="7140270">[</span><span class="op" id="7140271">]</span><span class="builtintype" id="7140272">byte</span><span class="op" id="7140276">(</span><span class="string" id="7140277">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;text&nbsp;file.\n&#34;</span><span class="op" id="7140306">)</span><span class="op" id="7140307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140313">Mtime</span><span class="op" id="7140318">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7140322">&#34;09-05-10&nbsp;12:12:02&#34;</span><span class="op" id="7140341">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140347">Mode</span><span class="op" id="7140351">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7140356">0644</span><span class="op" id="7140360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140365">}</span><span class="op" id="7140366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140377">Name</span><span class="op" id="7140381">:</span>&nbsp;&nbsp;<span class="string" id="7140384">&#34;gophercolor16x16.png&#34;</span><span class="op" id="7140406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140412">File</span><span class="op" id="7140416">:</span>&nbsp;&nbsp;<span class="string" id="7140419">&#34;gophercolor16x16.png&#34;</span><span class="op" id="7140441">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140447">Mtime</span><span class="op" id="7140452">:</span>&nbsp;<span class="string" id="7140454">&#34;09-05-10&nbsp;15:52:58&#34;</span><span class="op" id="7140473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140479">Mode</span><span class="op" id="7140483">:</span>&nbsp;&nbsp;<span class="num" id="7140486">0644</span><span class="op" id="7140490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140495">}</span><span class="op" id="7140496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140500">}</span><span class="op" id="7140501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140504">}</span><span class="op" id="7140505">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140512">Name</span><span class="op" id="7140516">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7140520">&#34;r.zip&#34;</span><span class="op" id="7140527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140531">Source</span><span class="op" id="7140537">:</span>&nbsp;<span class="ident" id="7140539">returnRecursiveZip</span><span class="op" id="7140557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140561">File</span><span class="op" id="7140565">:</span>&nbsp;<span class="op" id="7140567">[</span><span class="op" id="7140568">]</span><span class="ident" id="7140569">ZipTestFile</span><span class="op" id="7140580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140585">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140591">Name</span><span class="op" id="7140595">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7140600">&#34;r/r.zip&#34;</span><span class="op" id="7140609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140615">Content</span><span class="op" id="7140622">:</span>&nbsp;<span class="ident" id="7140624">rZipBytes</span><span class="op" id="7140633">(</span><span class="op" id="7140634">)</span><span class="op" id="7140635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140641">Mtime</span><span class="op" id="7140646">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7140650">&#34;03-04-10&nbsp;00:24:16&#34;</span><span class="op" id="7140669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140675">Mode</span><span class="op" id="7140679">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7140684">0666</span><span class="op" id="7140688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140693">}</span><span class="op" id="7140694">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140698">}</span><span class="op" id="7140699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140702">}</span><span class="op" id="7140703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140710">Name</span><span class="op" id="7140714">:</span>&nbsp;<span class="string" id="7140716">&#34;symlink.zip&#34;</span><span class="op" id="7140729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140733">File</span><span class="op" id="7140737">:</span>&nbsp;<span class="op" id="7140739">[</span><span class="op" id="7140740">]</span><span class="ident" id="7140741">ZipTestFile</span><span class="op" id="7140752">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140763">Name</span><span class="op" id="7140767">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7140772">&#34;symlink&#34;</span><span class="op" id="7140781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140787">Content</span><span class="op" id="7140794">:</span>&nbsp;<span class="op" id="7140796">[</span><span class="op" id="7140797">]</span><span class="builtintype" id="7140798">byte</span><span class="op" id="7140802">(</span><span class="string" id="7140803">&#34;../target&#34;</span><span class="op" id="7140814">)</span><span class="op" id="7140815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140821">Mode</span><span class="op" id="7140825">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7140830">0777</span>&nbsp;<span class="op" id="7140835">|</span>&nbsp;<span class="ident" id="7140837">os</span><span class="op" id="7140839">.</span><span class="ident" id="7140840">ModeSymlink</span><span class="op" id="7140851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140856">}</span><span class="op" id="7140857">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140861">}</span><span class="op" id="7140862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140865">}</span><span class="op" id="7140866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140873">Name</span><span class="op" id="7140877">:</span>&nbsp;<span class="string" id="7140879">&#34;readme.zip&#34;</span><span class="op" id="7140891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140894">}</span><span class="op" id="7140895">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140902">Name</span><span class="op" id="7140906">:</span>&nbsp;&nbsp;<span class="string" id="7140909">&#34;readme.notzip&#34;</span><span class="op" id="7140924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140928">Error</span><span class="op" id="7140933">:</span>&nbsp;<span class="ident" id="7140935">ErrFormat</span><span class="op" id="7140944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140947">}</span><span class="op" id="7140948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140951">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140955">Name</span><span class="op" id="7140959">:</span>&nbsp;<span class="string" id="7140961">&#34;dd.zip&#34;</span><span class="op" id="7140969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140973">File</span><span class="op" id="7140977">:</span>&nbsp;<span class="op" id="7140979">[</span><span class="op" id="7140980">]</span><span class="ident" id="7140981">ZipTestFile</span><span class="op" id="7140992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141003">Name</span><span class="op" id="7141007">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7141012">&#34;filename&#34;</span><span class="op" id="7141022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141028">Content</span><span class="op" id="7141035">:</span>&nbsp;<span class="op" id="7141037">[</span><span class="op" id="7141038">]</span><span class="builtintype" id="7141039">byte</span><span class="op" id="7141043">(</span><span class="string" id="7141044">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;textfile.\n&#34;</span><span class="op" id="7141072">)</span><span class="op" id="7141073">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141079">Mtime</span><span class="op" id="7141084">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7141088">&#34;02-02-11&nbsp;13:06:20&#34;</span><span class="op" id="7141107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141113">Mode</span><span class="op" id="7141117">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7141122">0666</span><span class="op" id="7141126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141131">}</span><span class="op" id="7141132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141136">}</span><span class="op" id="7141137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141140">}</span><span class="op" id="7141141">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7141148">//&nbsp;created&nbsp;in&nbsp;windows&nbsp;XP&nbsp;file&nbsp;manager.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141189">Name</span><span class="op" id="7141193">:</span>&nbsp;<span class="string" id="7141195">&#34;winxp.zip&#34;</span><span class="op" id="7141206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141210">File</span><span class="op" id="7141214">:</span>&nbsp;<span class="ident" id="7141216">crossPlatform</span><span class="op" id="7141229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141232">}</span><span class="op" id="7141233">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7141240">//&nbsp;created&nbsp;by&nbsp;Zip&nbsp;3.0&nbsp;under&nbsp;Linux</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141276">Name</span><span class="op" id="7141280">:</span>&nbsp;<span class="string" id="7141282">&#34;unix.zip&#34;</span><span class="op" id="7141292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141296">File</span><span class="op" id="7141300">:</span>&nbsp;<span class="ident" id="7141302">crossPlatform</span><span class="op" id="7141315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141318">}</span><span class="op" id="7141319">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7141326">//&nbsp;created&nbsp;by&nbsp;Go,&nbsp;before&nbsp;we&nbsp;wrote&nbsp;the&nbsp;&#34;optional&#34;&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7141382">//&nbsp;descriptor&nbsp;signatures&nbsp;(which&nbsp;are&nbsp;required&nbsp;by&nbsp;OS&nbsp;X)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141438">Name</span><span class="op" id="7141442">:</span>&nbsp;<span class="string" id="7141444">&#34;go-no-datadesc-sig.zip&#34;</span><span class="op" id="7141468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141472">File</span><span class="op" id="7141476">:</span>&nbsp;<span class="op" id="7141478">[</span><span class="op" id="7141479">]</span><span class="ident" id="7141480">ZipTestFile</span><span class="op" id="7141491">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141502">Name</span><span class="op" id="7141506">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7141511">&#34;foo.txt&#34;</span><span class="op" id="7141520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141526">Content</span><span class="op" id="7141533">:</span>&nbsp;<span class="op" id="7141535">[</span><span class="op" id="7141536">]</span><span class="builtintype" id="7141537">byte</span><span class="op" id="7141541">(</span><span class="string" id="7141542">&#34;foo\n&#34;</span><span class="op" id="7141549">)</span><span class="op" id="7141550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141556">Mtime</span><span class="op" id="7141561">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7141565">&#34;03-08-12&nbsp;16:59:10&#34;</span><span class="op" id="7141584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141590">Mode</span><span class="op" id="7141594">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7141599">0644</span><span class="op" id="7141603">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141608">}</span><span class="op" id="7141609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141620">Name</span><span class="op" id="7141624">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7141629">&#34;bar.txt&#34;</span><span class="op" id="7141638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141644">Content</span><span class="op" id="7141651">:</span>&nbsp;<span class="op" id="7141653">[</span><span class="op" id="7141654">]</span><span class="builtintype" id="7141655">byte</span><span class="op" id="7141659">(</span><span class="string" id="7141660">&#34;bar\n&#34;</span><span class="op" id="7141667">)</span><span class="op" id="7141668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141674">Mtime</span><span class="op" id="7141679">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7141683">&#34;03-08-12&nbsp;16:59:12&#34;</span><span class="op" id="7141702">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141708">Mode</span><span class="op" id="7141712">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7141717">0644</span><span class="op" id="7141721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141726">}</span><span class="op" id="7141727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141731">}</span><span class="op" id="7141732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141735">}</span><span class="op" id="7141736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141739">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7141743">//&nbsp;created&nbsp;by&nbsp;Go,&nbsp;after&nbsp;we&nbsp;wrote&nbsp;the&nbsp;&#34;optional&#34;&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7141798">//&nbsp;descriptor&nbsp;signatures&nbsp;(which&nbsp;are&nbsp;required&nbsp;by&nbsp;OS&nbsp;X)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141854">Name</span><span class="op" id="7141858">:</span>&nbsp;<span class="string" id="7141860">&#34;go-with-datadesc-sig.zip&#34;</span><span class="op" id="7141886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141890">File</span><span class="op" id="7141894">:</span>&nbsp;<span class="op" id="7141896">[</span><span class="op" id="7141897">]</span><span class="ident" id="7141898">ZipTestFile</span><span class="op" id="7141909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141914">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141920">Name</span><span class="op" id="7141924">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7141929">&#34;foo.txt&#34;</span><span class="op" id="7141938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141944">Content</span><span class="op" id="7141951">:</span>&nbsp;<span class="op" id="7141953">[</span><span class="op" id="7141954">]</span><span class="builtintype" id="7141955">byte</span><span class="op" id="7141959">(</span><span class="string" id="7141960">&#34;foo\n&#34;</span><span class="op" id="7141967">)</span><span class="op" id="7141968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141974">Mode</span><span class="op" id="7141978">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7141983">0666</span><span class="op" id="7141987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141992">}</span><span class="op" id="7141993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141998">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142004">Name</span><span class="op" id="7142008">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7142013">&#34;bar.txt&#34;</span><span class="op" id="7142022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142028">Content</span><span class="op" id="7142035">:</span>&nbsp;<span class="op" id="7142037">[</span><span class="op" id="7142038">]</span><span class="builtintype" id="7142039">byte</span><span class="op" id="7142043">(</span><span class="string" id="7142044">&#34;bar\n&#34;</span><span class="op" id="7142051">)</span><span class="op" id="7142052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142058">Mode</span><span class="op" id="7142062">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7142067">0666</span><span class="op" id="7142071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142076">}</span><span class="op" id="7142077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142081">}</span><span class="op" id="7142082">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142085">}</span><span class="op" id="7142086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142093">Name</span><span class="op" id="7142097">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7142101">&#34;Bad-CRC32-in-data-descriptor&#34;</span><span class="op" id="7142131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142135">Source</span><span class="op" id="7142141">:</span>&nbsp;<span class="ident" id="7142143">returnCorruptCRC32Zip</span><span class="op" id="7142164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142168">File</span><span class="op" id="7142172">:</span>&nbsp;<span class="op" id="7142174">[</span><span class="op" id="7142175">]</span><span class="ident" id="7142176">ZipTestFile</span><span class="op" id="7142187">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142198">Name</span><span class="op" id="7142202">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7142210">&#34;foo.txt&#34;</span><span class="op" id="7142219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142225">Content</span><span class="op" id="7142232">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142237">[</span><span class="op" id="7142238">]</span><span class="builtintype" id="7142239">byte</span><span class="op" id="7142243">(</span><span class="string" id="7142244">&#34;foo\n&#34;</span><span class="op" id="7142251">)</span><span class="op" id="7142252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142258">Mode</span><span class="op" id="7142262">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7142270">0666</span><span class="op" id="7142274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142280">ContentErr</span><span class="op" id="7142290">:</span>&nbsp;<span class="ident" id="7142292">ErrChecksum</span><span class="op" id="7142303">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142308">}</span><span class="op" id="7142309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142320">Name</span><span class="op" id="7142324">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7142329">&#34;bar.txt&#34;</span><span class="op" id="7142338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142344">Content</span><span class="op" id="7142351">:</span>&nbsp;<span class="op" id="7142353">[</span><span class="op" id="7142354">]</span><span class="builtintype" id="7142355">byte</span><span class="op" id="7142359">(</span><span class="string" id="7142360">&#34;bar\n&#34;</span><span class="op" id="7142367">)</span><span class="op" id="7142368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142374">Mode</span><span class="op" id="7142378">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7142383">0666</span><span class="op" id="7142387">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142392">}</span><span class="op" id="7142393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142397">}</span><span class="op" id="7142398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142401">}</span><span class="op" id="7142402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7142405">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;verify&nbsp;(and&nbsp;accept&nbsp;valid)&nbsp;crc32s&nbsp;on&nbsp;files</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7142465">//&nbsp;with&nbsp;crc32s&nbsp;in&nbsp;their&nbsp;file&nbsp;header&nbsp;(not&nbsp;in&nbsp;data&nbsp;descriptors)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142532">Name</span><span class="op" id="7142536">:</span>&nbsp;<span class="string" id="7142538">&#34;crc32-not-streamed.zip&#34;</span><span class="op" id="7142562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142566">File</span><span class="op" id="7142570">:</span>&nbsp;<span class="op" id="7142572">[</span><span class="op" id="7142573">]</span><span class="ident" id="7142574">ZipTestFile</span><span class="op" id="7142585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142596">Name</span><span class="op" id="7142600">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7142605">&#34;foo.txt&#34;</span><span class="op" id="7142614">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142620">Content</span><span class="op" id="7142627">:</span>&nbsp;<span class="op" id="7142629">[</span><span class="op" id="7142630">]</span><span class="builtintype" id="7142631">byte</span><span class="op" id="7142635">(</span><span class="string" id="7142636">&#34;foo\n&#34;</span><span class="op" id="7142643">)</span><span class="op" id="7142644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142650">Mtime</span><span class="op" id="7142655">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7142659">&#34;03-08-12&nbsp;16:59:10&#34;</span><span class="op" id="7142678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142684">Mode</span><span class="op" id="7142688">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7142693">0644</span><span class="op" id="7142697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142702">}</span><span class="op" id="7142703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142708">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142714">Name</span><span class="op" id="7142718">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7142723">&#34;bar.txt&#34;</span><span class="op" id="7142732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142738">Content</span><span class="op" id="7142745">:</span>&nbsp;<span class="op" id="7142747">[</span><span class="op" id="7142748">]</span><span class="builtintype" id="7142749">byte</span><span class="op" id="7142753">(</span><span class="string" id="7142754">&#34;bar\n&#34;</span><span class="op" id="7142761">)</span><span class="op" id="7142762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142768">Mtime</span><span class="op" id="7142773">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7142777">&#34;03-08-12&nbsp;16:59:12&#34;</span><span class="op" id="7142796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142802">Mode</span><span class="op" id="7142806">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7142811">0644</span><span class="op" id="7142815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142820">}</span><span class="op" id="7142821">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142825">}</span><span class="op" id="7142826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142829">}</span><span class="op" id="7142830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7142833">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;verify&nbsp;(and&nbsp;reject&nbsp;invalid)&nbsp;crc32s&nbsp;on&nbsp;files</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7142895">//&nbsp;with&nbsp;crc32s&nbsp;in&nbsp;their&nbsp;file&nbsp;header&nbsp;(not&nbsp;in&nbsp;data&nbsp;descriptors)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142958">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142962">Name</span><span class="op" id="7142966">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7142970">&#34;crc32-not-streamed.zip&#34;</span><span class="op" id="7142994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142998">Source</span><span class="op" id="7143004">:</span>&nbsp;<span class="ident" id="7143006">returnCorruptNotStreamedZip</span><span class="op" id="7143033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143037">File</span><span class="op" id="7143041">:</span>&nbsp;<span class="op" id="7143043">[</span><span class="op" id="7143044">]</span><span class="ident" id="7143045">ZipTestFile</span><span class="op" id="7143056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143067">Name</span><span class="op" id="7143071">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7143079">&#34;foo.txt&#34;</span><span class="op" id="7143088">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143094">Content</span><span class="op" id="7143101">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143106">[</span><span class="op" id="7143107">]</span><span class="builtintype" id="7143108">byte</span><span class="op" id="7143112">(</span><span class="string" id="7143113">&#34;foo\n&#34;</span><span class="op" id="7143120">)</span><span class="op" id="7143121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143127">Mtime</span><span class="op" id="7143132">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7143139">&#34;03-08-12&nbsp;16:59:10&#34;</span><span class="op" id="7143158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143164">Mode</span><span class="op" id="7143168">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7143176">0644</span><span class="op" id="7143180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143186">ContentErr</span><span class="op" id="7143196">:</span>&nbsp;<span class="ident" id="7143198">ErrChecksum</span><span class="op" id="7143209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143214">}</span><span class="op" id="7143215">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143226">Name</span><span class="op" id="7143230">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7143235">&#34;bar.txt&#34;</span><span class="op" id="7143244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143250">Content</span><span class="op" id="7143257">:</span>&nbsp;<span class="op" id="7143259">[</span><span class="op" id="7143260">]</span><span class="builtintype" id="7143261">byte</span><span class="op" id="7143265">(</span><span class="string" id="7143266">&#34;bar\n&#34;</span><span class="op" id="7143273">)</span><span class="op" id="7143274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143280">Mtime</span><span class="op" id="7143285">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7143289">&#34;03-08-12&nbsp;16:59:12&#34;</span><span class="op" id="7143308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143314">Mode</span><span class="op" id="7143318">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7143323">0644</span><span class="op" id="7143327">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143332">}</span><span class="op" id="7143333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143337">}</span><span class="op" id="7143338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143341">}</span><span class="op" id="7143342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143349">Name</span><span class="op" id="7143353">:</span>&nbsp;<span class="string" id="7143355">&#34;zip64.zip&#34;</span><span class="op" id="7143366">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143370">File</span><span class="op" id="7143374">:</span>&nbsp;<span class="op" id="7143376">[</span><span class="op" id="7143377">]</span><span class="ident" id="7143378">ZipTestFile</span><span class="op" id="7143389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143400">Name</span><span class="op" id="7143404">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7143409">&#34;README&#34;</span><span class="op" id="7143417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143423">Content</span><span class="op" id="7143430">:</span>&nbsp;<span class="op" id="7143432">[</span><span class="op" id="7143433">]</span><span class="builtintype" id="7143434">byte</span><span class="op" id="7143438">(</span><span class="string" id="7143439">&#34;This&nbsp;small&nbsp;file&nbsp;is&nbsp;in&nbsp;ZIP64&nbsp;format.\n&#34;</span><span class="op" id="7143478">)</span><span class="op" id="7143479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143485">Mtime</span><span class="op" id="7143490">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7143494">&#34;08-10-12&nbsp;14:33:32&#34;</span><span class="op" id="7143513">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143519">Mode</span><span class="op" id="7143523">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7143528">0644</span><span class="op" id="7143532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143537">}</span><span class="op" id="7143538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143542">}</span><span class="op" id="7143543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143546">}</span><span class="op" id="7143547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7143550">//&nbsp;Another&nbsp;zip64&nbsp;file&nbsp;with&nbsp;different&nbsp;Extras&nbsp;fields.&nbsp;(golang.org/issue/7069)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143631">Name</span><span class="op" id="7143635">:</span>&nbsp;<span class="string" id="7143637">&#34;zip64-2.zip&#34;</span><span class="op" id="7143650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143654">File</span><span class="op" id="7143658">:</span>&nbsp;<span class="op" id="7143660">[</span><span class="op" id="7143661">]</span><span class="ident" id="7143662">ZipTestFile</span><span class="op" id="7143673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143684">Name</span><span class="op" id="7143688">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7143693">&#34;README&#34;</span><span class="op" id="7143701">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143707">Content</span><span class="op" id="7143714">:</span>&nbsp;<span class="op" id="7143716">[</span><span class="op" id="7143717">]</span><span class="builtintype" id="7143718">byte</span><span class="op" id="7143722">(</span><span class="string" id="7143723">&#34;This&nbsp;small&nbsp;file&nbsp;is&nbsp;in&nbsp;ZIP64&nbsp;format.\n&#34;</span><span class="op" id="7143762">)</span><span class="op" id="7143763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143769">Mtime</span><span class="op" id="7143774">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7143778">&#34;08-10-12&nbsp;14:33:32&#34;</span><span class="op" id="7143797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143803">Mode</span><span class="op" id="7143807">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7143812">0644</span><span class="op" id="7143816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143821">}</span><span class="op" id="7143822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143826">}</span><span class="op" id="7143827">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143830">}</span><span class="op" id="7143831">,</span><br>
<span class="lineno"></span><span class="op" id="7143833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7143836">var</span>&nbsp;<span class="ident" id="7143840">crossPlatform</span>&nbsp;<span class="op" id="7143854">=</span>&nbsp;<span class="op" id="7143856">[</span><span class="op" id="7143857">]</span><span class="ident" id="7143858">ZipTestFile</span><span class="op" id="7143869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143872">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143876">Name</span><span class="op" id="7143880">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7143885">&#34;hello&#34;</span><span class="op" id="7143892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143896">Content</span><span class="op" id="7143903">:</span>&nbsp;<span class="op" id="7143905">[</span><span class="op" id="7143906">]</span><span class="builtintype" id="7143907">byte</span><span class="op" id="7143911">(</span><span class="string" id="7143912">&#34;world&nbsp;\r\n&#34;</span><span class="op" id="7143924">)</span><span class="op" id="7143925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143929">Mode</span><span class="op" id="7143933">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7143938">0666</span><span class="op" id="7143942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143945">}</span><span class="op" id="7143946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143949">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143953">Name</span><span class="op" id="7143957">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7143962">&#34;dir/bar&#34;</span><span class="op" id="7143971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7143975">Content</span><span class="op" id="7143982">:</span>&nbsp;<span class="op" id="7143984">[</span><span class="op" id="7143985">]</span><span class="builtintype" id="7143986">byte</span><span class="op" id="7143990">(</span><span class="string" id="7143991">&#34;foo&nbsp;\r\n&#34;</span><span class="op" id="7144001">)</span><span class="op" id="7144002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144006">Mode</span><span class="op" id="7144010">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7144015">0666</span><span class="op" id="7144019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144022">}</span><span class="op" id="7144023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144026">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144030">Name</span><span class="op" id="7144034">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7144039">&#34;dir/empty/&#34;</span><span class="op" id="7144051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144055">Content</span><span class="op" id="7144062">:</span>&nbsp;<span class="op" id="7144064">[</span><span class="op" id="7144065">]</span><span class="builtintype" id="7144066">byte</span><span class="op" id="7144070">{</span><span class="op" id="7144071">}</span><span class="op" id="7144072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144076">Mode</span><span class="op" id="7144080">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144085">os</span><span class="op" id="7144087">.</span><span class="ident" id="7144088">ModeDir</span>&nbsp;<span class="op" id="7144096">|</span>&nbsp;<span class="num" id="7144098">0777</span><span class="op" id="7144102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144105">}</span><span class="op" id="7144106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144109">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144113">Name</span><span class="op" id="7144117">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7144122">&#34;readonly&#34;</span><span class="op" id="7144132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144136">Content</span><span class="op" id="7144143">:</span>&nbsp;<span class="op" id="7144145">[</span><span class="op" id="7144146">]</span><span class="builtintype" id="7144147">byte</span><span class="op" id="7144151">(</span><span class="string" id="7144152">&#34;important&nbsp;\r\n&#34;</span><span class="op" id="7144168">)</span><span class="op" id="7144169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144173">Mode</span><span class="op" id="7144177">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7144182">0444</span><span class="op" id="7144186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144189">}</span><span class="op" id="7144190">,</span><br>
<span class="lineno"></span><span class="op" id="7144192">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="7144195">func</span>&nbsp;<span class="ident" id="7144200">TestReader</span><span class="op" id="7144210">(</span><span class="ident" id="7144211">t</span>&nbsp;<span class="op" id="7144213">*</span><span class="ident" id="7144214">testing</span><span class="op" id="7144221">.</span><span class="ident" id="7144222">T</span><span class="op" id="7144223">)</span>&nbsp;<span class="op" id="7144225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144228">for</span>&nbsp;<span class="ident" id="7144232">_</span><span class="op" id="7144233">,</span>&nbsp;<span class="ident" id="7144235">zt</span>&nbsp;<span class="op" id="7144238">:=</span>&nbsp;<span class="keyword" id="7144241">range</span>&nbsp;<span class="ident" id="7144247">tests</span>&nbsp;<span class="op" id="7144253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144257">readTestZip</span><span class="op" id="7144268">(</span><span class="ident" id="7144269">t</span><span class="op" id="7144270">,</span>&nbsp;<span class="ident" id="7144272">zt</span><span class="op" id="7144274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144277">}</span><br>
<span class="lineno">280</span><span class="op" id="7144279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7144282">func</span>&nbsp;<span class="ident" id="7144287">readTestZip</span><span class="op" id="7144298">(</span><span class="ident" id="7144299">t</span>&nbsp;<span class="op" id="7144301">*</span><span class="ident" id="7144302">testing</span><span class="op" id="7144309">.</span><span class="ident" id="7144310">T</span><span class="op" id="7144311">,</span>&nbsp;<span class="ident" id="7144313">zt</span>&nbsp;<span class="ident" id="7144316">ZipTest</span><span class="op" id="7144323">)</span>&nbsp;<span class="op" id="7144325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144328">var</span>&nbsp;<span class="ident" id="7144332">z</span>&nbsp;<span class="op" id="7144334">*</span><span class="ident" id="7144335">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144343">var</span>&nbsp;<span class="ident" id="7144347">err</span>&nbsp;<span class="builtintype" id="7144351">error</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144358">if</span>&nbsp;<span class="ident" id="7144361">zt</span><span class="op" id="7144363">.</span><span class="ident" id="7144364">Source</span>&nbsp;<span class="op" id="7144371">!=</span>&nbsp;<span class="ident" id="7144374">nil</span>&nbsp;<span class="op" id="7144378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144382">rat</span><span class="op" id="7144385">,</span>&nbsp;<span class="ident" id="7144387">size</span>&nbsp;<span class="op" id="7144392">:=</span>&nbsp;<span class="ident" id="7144395">zt</span><span class="op" id="7144397">.</span><span class="ident" id="7144398">Source</span><span class="op" id="7144404">(</span><span class="op" id="7144405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144409">z</span><span class="op" id="7144410">,</span>&nbsp;<span class="ident" id="7144412">err</span>&nbsp;<span class="op" id="7144416">=</span>&nbsp;<span class="ident" id="7144418">NewReader</span><span class="op" id="7144427">(</span><span class="ident" id="7144428">rat</span><span class="op" id="7144431">,</span>&nbsp;<span class="ident" id="7144433">size</span><span class="op" id="7144437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144440">}</span>&nbsp;<span class="keyword" id="7144442">else</span>&nbsp;<span class="op" id="7144447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144451">var</span>&nbsp;<span class="ident" id="7144455">rc</span>&nbsp;<span class="op" id="7144458">*</span><span class="ident" id="7144459">ReadCloser</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144472">rc</span><span class="op" id="7144474">,</span>&nbsp;<span class="ident" id="7144476">err</span>&nbsp;<span class="op" id="7144480">=</span>&nbsp;<span class="ident" id="7144482">OpenReader</span><span class="op" id="7144492">(</span><span class="ident" id="7144493">filepath</span><span class="op" id="7144501">.</span><span class="ident" id="7144502">Join</span><span class="op" id="7144506">(</span><span class="string" id="7144507">&#34;testdata&#34;</span><span class="op" id="7144517">,</span>&nbsp;<span class="ident" id="7144519">zt</span><span class="op" id="7144521">.</span><span class="ident" id="7144522">Name</span><span class="op" id="7144526">)</span><span class="op" id="7144527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144531">if</span>&nbsp;<span class="ident" id="7144534">err</span>&nbsp;<span class="op" id="7144538">==</span>&nbsp;<span class="ident" id="7144541">nil</span>&nbsp;<span class="op" id="7144545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144550">defer</span>&nbsp;<span class="ident" id="7144556">rc</span><span class="op" id="7144558">.</span><span class="ident" id="7144559">Close</span><span class="op" id="7144564">(</span><span class="op" id="7144565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144570">z</span>&nbsp;<span class="op" id="7144572">=</span>&nbsp;<span class="op" id="7144574">&amp;</span><span class="ident" id="7144575">rc</span><span class="op" id="7144577">.</span><span class="ident" id="7144578">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144587">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144593">if</span>&nbsp;<span class="ident" id="7144596">err</span>&nbsp;<span class="op" id="7144600">!=</span>&nbsp;<span class="ident" id="7144603">zt</span><span class="op" id="7144605">.</span><span class="ident" id="7144606">Error</span>&nbsp;<span class="op" id="7144612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144616">t</span><span class="op" id="7144617">.</span><span class="ident" id="7144618">Errorf</span><span class="op" id="7144624">(</span><span class="string" id="7144625">&#34;%s:&nbsp;error=%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7144648">,</span>&nbsp;<span class="ident" id="7144650">zt</span><span class="op" id="7144652">.</span><span class="ident" id="7144653">Name</span><span class="op" id="7144657">,</span>&nbsp;<span class="ident" id="7144659">err</span><span class="op" id="7144662">,</span>&nbsp;<span class="ident" id="7144664">zt</span><span class="op" id="7144666">.</span><span class="ident" id="7144667">Error</span><span class="op" id="7144672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144676">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144684">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7144688">//&nbsp;bail&nbsp;if&nbsp;file&nbsp;is&nbsp;not&nbsp;zip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144716">if</span>&nbsp;<span class="ident" id="7144719">err</span>&nbsp;<span class="op" id="7144723">==</span>&nbsp;<span class="ident" id="7144726">ErrFormat</span>&nbsp;<span class="op" id="7144736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144740">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144748">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7144752">//&nbsp;bail&nbsp;here&nbsp;if&nbsp;no&nbsp;Files&nbsp;expected&nbsp;to&nbsp;be&nbsp;tested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7144800">//&nbsp;(there&nbsp;may&nbsp;actually&nbsp;be&nbsp;files&nbsp;in&nbsp;the&nbsp;zip,&nbsp;but&nbsp;we&nbsp;don&#39;t&nbsp;care)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144864">if</span>&nbsp;<span class="ident" id="7144867">zt</span><span class="op" id="7144869">.</span><span class="ident" id="7144870">File</span>&nbsp;<span class="op" id="7144875">==</span>&nbsp;<span class="ident" id="7144878">nil</span>&nbsp;<span class="op" id="7144882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144886">return</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7144898">if</span>&nbsp;<span class="ident" id="7144901">z</span><span class="op" id="7144902">.</span><span class="ident" id="7144903">Comment</span>&nbsp;<span class="op" id="7144911">!=</span>&nbsp;<span class="ident" id="7144914">zt</span><span class="op" id="7144916">.</span><span class="ident" id="7144917">Comment</span>&nbsp;<span class="op" id="7144925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7144929">t</span><span class="op" id="7144930">.</span><span class="ident" id="7144931">Errorf</span><span class="op" id="7144937">(</span><span class="string" id="7144938">&#34;%s:&nbsp;comment=%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7144963">,</span>&nbsp;<span class="ident" id="7144965">zt</span><span class="op" id="7144967">.</span><span class="ident" id="7144968">Name</span><span class="op" id="7144972">,</span>&nbsp;<span class="ident" id="7144974">z</span><span class="op" id="7144975">.</span><span class="ident" id="7144976">Comment</span><span class="op" id="7144983">,</span>&nbsp;<span class="ident" id="7144985">zt</span><span class="op" id="7144987">.</span><span class="ident" id="7144988">Comment</span><span class="op" id="7144995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7144998">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145001">if</span>&nbsp;<span class="builtinfunc" id="7145004">len</span><span class="op" id="7145007">(</span><span class="ident" id="7145008">z</span><span class="op" id="7145009">.</span><span class="ident" id="7145010">File</span><span class="op" id="7145014">)</span>&nbsp;<span class="op" id="7145016">!=</span>&nbsp;<span class="builtinfunc" id="7145019">len</span><span class="op" id="7145022">(</span><span class="ident" id="7145023">zt</span><span class="op" id="7145025">.</span><span class="ident" id="7145026">File</span><span class="op" id="7145030">)</span>&nbsp;<span class="op" id="7145032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145036">t</span><span class="op" id="7145037">.</span><span class="ident" id="7145038">Fatalf</span><span class="op" id="7145044">(</span><span class="string" id="7145045">&#34;%s:&nbsp;file&nbsp;count=%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7145073">,</span>&nbsp;<span class="ident" id="7145075">zt</span><span class="op" id="7145077">.</span><span class="ident" id="7145078">Name</span><span class="op" id="7145082">,</span>&nbsp;<span class="builtinfunc" id="7145084">len</span><span class="op" id="7145087">(</span><span class="ident" id="7145088">z</span><span class="op" id="7145089">.</span><span class="ident" id="7145090">File</span><span class="op" id="7145094">)</span><span class="op" id="7145095">,</span>&nbsp;<span class="builtinfunc" id="7145097">len</span><span class="op" id="7145100">(</span><span class="ident" id="7145101">zt</span><span class="op" id="7145103">.</span><span class="ident" id="7145104">File</span><span class="op" id="7145108">)</span><span class="op" id="7145109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7145116">//&nbsp;test&nbsp;read&nbsp;of&nbsp;each&nbsp;file</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145143">for</span>&nbsp;<span class="ident" id="7145147">i</span><span class="op" id="7145148">,</span>&nbsp;<span class="ident" id="7145150">ft</span>&nbsp;<span class="op" id="7145153">:=</span>&nbsp;<span class="keyword" id="7145156">range</span>&nbsp;<span class="ident" id="7145162">zt</span><span class="op" id="7145164">.</span><span class="ident" id="7145165">File</span>&nbsp;<span class="op" id="7145170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145174">readTestFile</span><span class="op" id="7145186">(</span><span class="ident" id="7145187">t</span><span class="op" id="7145188">,</span>&nbsp;<span class="ident" id="7145190">zt</span><span class="op" id="7145192">,</span>&nbsp;<span class="ident" id="7145194">ft</span><span class="op" id="7145196">,</span>&nbsp;<span class="ident" id="7145198">z</span><span class="op" id="7145199">.</span><span class="ident" id="7145200">File</span><span class="op" id="7145204">[</span><span class="ident" id="7145205">i</span><span class="op" id="7145206">]</span><span class="op" id="7145207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7145214">//&nbsp;test&nbsp;simultaneous&nbsp;reads</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145242">n</span>&nbsp;<span class="op" id="7145244">:=</span>&nbsp;<span class="num" id="7145247">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145250">done</span>&nbsp;<span class="op" id="7145255">:=</span>&nbsp;<span class="builtinfunc" id="7145258">make</span><span class="op" id="7145262">(</span><span class="keyword" id="7145263">chan</span>&nbsp;<span class="builtintype" id="7145268">bool</span><span class="op" id="7145272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145275">for</span>&nbsp;<span class="ident" id="7145279">i</span>&nbsp;<span class="op" id="7145281">:=</span>&nbsp;<span class="num" id="7145284">0</span><span class="op" id="7145285">;</span>&nbsp;<span class="ident" id="7145287">i</span>&nbsp;<span class="op" id="7145289">&lt;</span>&nbsp;<span class="num" id="7145291">5</span><span class="op" id="7145292">;</span>&nbsp;<span class="ident" id="7145294">i</span><span class="op" id="7145295">++</span>&nbsp;<span class="op" id="7145298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145302">for</span>&nbsp;<span class="ident" id="7145306">j</span><span class="op" id="7145307">,</span>&nbsp;<span class="ident" id="7145309">ft</span>&nbsp;<span class="op" id="7145312">:=</span>&nbsp;<span class="keyword" id="7145315">range</span>&nbsp;<span class="ident" id="7145321">zt</span><span class="op" id="7145323">.</span><span class="ident" id="7145324">File</span>&nbsp;<span class="op" id="7145329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145334">go</span>&nbsp;<span class="keyword" id="7145337">func</span><span class="op" id="7145341">(</span><span class="ident" id="7145342">j</span>&nbsp;<span class="builtintype" id="7145344">int</span><span class="op" id="7145347">,</span>&nbsp;<span class="ident" id="7145349">ft</span>&nbsp;<span class="ident" id="7145352">ZipTestFile</span><span class="op" id="7145363">)</span>&nbsp;<span class="op" id="7145365">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145371">readTestFile</span><span class="op" id="7145383">(</span><span class="ident" id="7145384">t</span><span class="op" id="7145385">,</span>&nbsp;<span class="ident" id="7145387">zt</span><span class="op" id="7145389">,</span>&nbsp;<span class="ident" id="7145391">ft</span><span class="op" id="7145393">,</span>&nbsp;<span class="ident" id="7145395">z</span><span class="op" id="7145396">.</span><span class="ident" id="7145397">File</span><span class="op" id="7145401">[</span><span class="ident" id="7145402">j</span><span class="op" id="7145403">]</span><span class="op" id="7145404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145410">done</span>&nbsp;<span class="op" id="7145415">&lt;-</span>&nbsp;<span class="builtintype" id="7145418">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145426">}</span><span class="op" id="7145427">(</span><span class="ident" id="7145428">j</span><span class="op" id="7145429">,</span>&nbsp;<span class="ident" id="7145431">ft</span><span class="op" id="7145433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145438">n</span><span class="op" id="7145439">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145444">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145450">for</span>&nbsp;<span class="op" id="7145454">;</span>&nbsp;<span class="ident" id="7145456">n</span>&nbsp;<span class="op" id="7145458">&gt;</span>&nbsp;<span class="num" id="7145460">0</span><span class="op" id="7145461">;</span>&nbsp;<span class="ident" id="7145463">n</span><span class="op" id="7145464">--</span>&nbsp;<span class="op" id="7145467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145471">&lt;-</span><span class="ident" id="7145473">done</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145479">}</span><br>
<span class="lineno"></span><span class="op" id="7145481">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7145484">func</span>&nbsp;<span class="ident" id="7145489">readTestFile</span><span class="op" id="7145501">(</span><span class="ident" id="7145502">t</span>&nbsp;<span class="op" id="7145504">*</span><span class="ident" id="7145505">testing</span><span class="op" id="7145512">.</span><span class="ident" id="7145513">T</span><span class="op" id="7145514">,</span>&nbsp;<span class="ident" id="7145516">zt</span>&nbsp;<span class="ident" id="7145519">ZipTest</span><span class="op" id="7145526">,</span>&nbsp;<span class="ident" id="7145528">ft</span>&nbsp;<span class="ident" id="7145531">ZipTestFile</span><span class="op" id="7145542">,</span>&nbsp;<span class="ident" id="7145544">f</span>&nbsp;<span class="op" id="7145546">*</span><span class="ident" id="7145547">File</span><span class="op" id="7145551">)</span>&nbsp;<span class="op" id="7145553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145556">if</span>&nbsp;<span class="ident" id="7145559">f</span><span class="op" id="7145560">.</span><span class="ident" id="7145561">Name</span>&nbsp;<span class="op" id="7145566">!=</span>&nbsp;<span class="ident" id="7145569">ft</span><span class="op" id="7145571">.</span><span class="ident" id="7145572">Name</span>&nbsp;<span class="op" id="7145577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145581">t</span><span class="op" id="7145582">.</span><span class="ident" id="7145583">Errorf</span><span class="op" id="7145589">(</span><span class="string" id="7145590">&#34;%s:&nbsp;name=%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7145612">,</span>&nbsp;<span class="ident" id="7145614">zt</span><span class="op" id="7145616">.</span><span class="ident" id="7145617">Name</span><span class="op" id="7145621">,</span>&nbsp;<span class="ident" id="7145623">f</span><span class="op" id="7145624">.</span><span class="ident" id="7145625">Name</span><span class="op" id="7145629">,</span>&nbsp;<span class="ident" id="7145631">ft</span><span class="op" id="7145633">.</span><span class="ident" id="7145634">Name</span><span class="op" id="7145638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145641">}</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145645">if</span>&nbsp;<span class="ident" id="7145648">ft</span><span class="op" id="7145650">.</span><span class="ident" id="7145651">Mtime</span>&nbsp;<span class="op" id="7145657">!=</span>&nbsp;<span class="string" id="7145660">&#34;&#34;</span>&nbsp;<span class="op" id="7145663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145667">mtime</span><span class="op" id="7145672">,</span>&nbsp;<span class="ident" id="7145674">err</span>&nbsp;<span class="op" id="7145678">:=</span>&nbsp;<span class="ident" id="7145681">time</span><span class="op" id="7145685">.</span><span class="ident" id="7145686">Parse</span><span class="op" id="7145691">(</span><span class="string" id="7145692">&#34;01-02-06&nbsp;15:04:05&#34;</span><span class="op" id="7145711">,</span>&nbsp;<span class="ident" id="7145713">ft</span><span class="op" id="7145715">.</span><span class="ident" id="7145716">Mtime</span><span class="op" id="7145721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145725">if</span>&nbsp;<span class="ident" id="7145728">err</span>&nbsp;<span class="op" id="7145732">!=</span>&nbsp;<span class="ident" id="7145735">nil</span>&nbsp;<span class="op" id="7145739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145744">t</span><span class="op" id="7145745">.</span><span class="ident" id="7145746">Error</span><span class="op" id="7145751">(</span><span class="ident" id="7145752">err</span><span class="op" id="7145755">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145760">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145773">if</span>&nbsp;<span class="ident" id="7145776">ft</span>&nbsp;<span class="op" id="7145779">:=</span>&nbsp;<span class="ident" id="7145782">f</span><span class="op" id="7145783">.</span><span class="ident" id="7145784">ModTime</span><span class="op" id="7145791">(</span><span class="op" id="7145792">)</span><span class="op" id="7145793">;</span>&nbsp;<span class="op" id="7145795">!</span><span class="ident" id="7145796">ft</span><span class="op" id="7145798">.</span><span class="ident" id="7145799">Equal</span><span class="op" id="7145804">(</span><span class="ident" id="7145805">mtime</span><span class="op" id="7145810">)</span>&nbsp;<span class="op" id="7145812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145817">t</span><span class="op" id="7145818">.</span><span class="ident" id="7145819">Errorf</span><span class="op" id="7145825">(</span><span class="string" id="7145826">&#34;%s:&nbsp;%s:&nbsp;mtime=%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7145853">,</span>&nbsp;<span class="ident" id="7145855">zt</span><span class="op" id="7145857">.</span><span class="ident" id="7145858">Name</span><span class="op" id="7145862">,</span>&nbsp;<span class="ident" id="7145864">f</span><span class="op" id="7145865">.</span><span class="ident" id="7145866">Name</span><span class="op" id="7145870">,</span>&nbsp;<span class="ident" id="7145872">ft</span><span class="op" id="7145874">,</span>&nbsp;<span class="ident" id="7145876">mtime</span><span class="op" id="7145881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145885">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7145888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145892">testFileMode</span><span class="op" id="7145904">(</span><span class="ident" id="7145905">t</span><span class="op" id="7145906">,</span>&nbsp;<span class="ident" id="7145908">zt</span><span class="op" id="7145910">.</span><span class="ident" id="7145911">Name</span><span class="op" id="7145915">,</span>&nbsp;<span class="ident" id="7145917">f</span><span class="op" id="7145918">,</span>&nbsp;<span class="ident" id="7145920">ft</span><span class="op" id="7145922">.</span><span class="ident" id="7145923">Mode</span><span class="op" id="7145927">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145931">var</span>&nbsp;<span class="ident" id="7145935">b</span>&nbsp;<span class="ident" id="7145937">bytes</span><span class="op" id="7145942">.</span><span class="ident" id="7145943">Buffer</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145951">r</span><span class="op" id="7145952">,</span>&nbsp;<span class="ident" id="7145954">err</span>&nbsp;<span class="op" id="7145958">:=</span>&nbsp;<span class="ident" id="7145961">f</span><span class="op" id="7145962">.</span><span class="ident" id="7145963">Open</span><span class="op" id="7145967">(</span><span class="op" id="7145968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7145971">if</span>&nbsp;<span class="ident" id="7145974">err</span>&nbsp;<span class="op" id="7145978">!=</span>&nbsp;<span class="ident" id="7145981">nil</span>&nbsp;<span class="op" id="7145985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7145989">t</span><span class="op" id="7145990">.</span><span class="ident" id="7145991">Errorf</span><span class="op" id="7145997">(</span><span class="string" id="7145998">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="7146006">,</span>&nbsp;<span class="ident" id="7146008">zt</span><span class="op" id="7146010">.</span><span class="ident" id="7146011">Name</span><span class="op" id="7146015">,</span>&nbsp;<span class="ident" id="7146017">err</span><span class="op" id="7146020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146024">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146032">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146036">_</span><span class="op" id="7146037">,</span>&nbsp;<span class="ident" id="7146039">err</span>&nbsp;<span class="op" id="7146043">=</span>&nbsp;<span class="ident" id="7146045">io</span><span class="op" id="7146047">.</span><span class="ident" id="7146048">Copy</span><span class="op" id="7146052">(</span><span class="op" id="7146053">&amp;</span><span class="ident" id="7146054">b</span><span class="op" id="7146055">,</span>&nbsp;<span class="ident" id="7146057">r</span><span class="op" id="7146058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146061">if</span>&nbsp;<span class="ident" id="7146064">err</span>&nbsp;<span class="op" id="7146068">!=</span>&nbsp;<span class="ident" id="7146071">ft</span><span class="op" id="7146073">.</span><span class="ident" id="7146074">ContentErr</span>&nbsp;<span class="op" id="7146085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146089">t</span><span class="op" id="7146090">.</span><span class="ident" id="7146091">Errorf</span><span class="op" id="7146097">(</span><span class="string" id="7146098">&#34;%s:&nbsp;copying&nbsp;contents:&nbsp;%v&nbsp;(want&nbsp;%v)&#34;</span><span class="op" id="7146134">,</span>&nbsp;<span class="ident" id="7146136">zt</span><span class="op" id="7146138">.</span><span class="ident" id="7146139">Name</span><span class="op" id="7146143">,</span>&nbsp;<span class="ident" id="7146145">err</span><span class="op" id="7146148">,</span>&nbsp;<span class="ident" id="7146150">ft</span><span class="op" id="7146152">.</span><span class="ident" id="7146153">ContentErr</span><span class="op" id="7146163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146166">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146169">if</span>&nbsp;<span class="ident" id="7146172">err</span>&nbsp;<span class="op" id="7146176">!=</span>&nbsp;<span class="ident" id="7146179">nil</span>&nbsp;<span class="op" id="7146183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146187">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146198">r</span><span class="op" id="7146199">.</span><span class="ident" id="7146200">Close</span><span class="op" id="7146205">(</span><span class="op" id="7146206">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146210">size</span>&nbsp;<span class="op" id="7146215">:=</span>&nbsp;<span class="ident" id="7146218">uint64</span><span class="op" id="7146224">(</span><span class="ident" id="7146225">f</span><span class="op" id="7146226">.</span><span class="ident" id="7146227">UncompressedSize</span><span class="op" id="7146243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146246">if</span>&nbsp;<span class="ident" id="7146249">size</span>&nbsp;<span class="op" id="7146254">==</span>&nbsp;<span class="ident" id="7146257">uint32max</span>&nbsp;<span class="op" id="7146267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146271">size</span>&nbsp;<span class="op" id="7146276">=</span>&nbsp;<span class="ident" id="7146278">f</span><span class="op" id="7146279">.</span><span class="ident" id="7146280">UncompressedSize64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146303">if</span>&nbsp;<span class="ident" id="7146306">g</span>&nbsp;<span class="op" id="7146308">:=</span>&nbsp;<span class="ident" id="7146311">uint64</span><span class="op" id="7146317">(</span><span class="ident" id="7146318">b</span><span class="op" id="7146319">.</span><span class="ident" id="7146320">Len</span><span class="op" id="7146323">(</span><span class="op" id="7146324">)</span><span class="op" id="7146325">)</span><span class="op" id="7146326">;</span>&nbsp;<span class="ident" id="7146328">g</span>&nbsp;<span class="op" id="7146330">!=</span>&nbsp;<span class="ident" id="7146333">size</span>&nbsp;<span class="op" id="7146338">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146342">t</span><span class="op" id="7146343">.</span><span class="ident" id="7146344">Errorf</span><span class="op" id="7146350">(</span><span class="string" id="7146351">&#34;%v:&nbsp;read&nbsp;%v&nbsp;bytes&nbsp;but&nbsp;f.UncompressedSize&nbsp;==&nbsp;%v&#34;</span><span class="op" id="7146399">,</span>&nbsp;<span class="ident" id="7146401">f</span><span class="op" id="7146402">.</span><span class="ident" id="7146403">Name</span><span class="op" id="7146407">,</span>&nbsp;<span class="ident" id="7146409">g</span><span class="op" id="7146410">,</span>&nbsp;<span class="ident" id="7146412">size</span><span class="op" id="7146416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146423">var</span>&nbsp;<span class="ident" id="7146427">c</span>&nbsp;<span class="op" id="7146429">[</span><span class="op" id="7146430">]</span><span class="builtintype" id="7146431">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146437">if</span>&nbsp;<span class="ident" id="7146440">ft</span><span class="op" id="7146442">.</span><span class="ident" id="7146443">Content</span>&nbsp;<span class="op" id="7146451">!=</span>&nbsp;<span class="ident" id="7146454">nil</span>&nbsp;<span class="op" id="7146458">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146462">c</span>&nbsp;<span class="op" id="7146464">=</span>&nbsp;<span class="ident" id="7146466">ft</span><span class="op" id="7146468">.</span><span class="ident" id="7146469">Content</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146478">}</span>&nbsp;<span class="keyword" id="7146480">else</span>&nbsp;<span class="keyword" id="7146485">if</span>&nbsp;<span class="ident" id="7146488">c</span><span class="op" id="7146489">,</span>&nbsp;<span class="ident" id="7146491">err</span>&nbsp;<span class="op" id="7146495">=</span>&nbsp;<span class="ident" id="7146497">ioutil</span><span class="op" id="7146503">.</span><span class="ident" id="7146504">ReadFile</span><span class="op" id="7146512">(</span><span class="string" id="7146513">&#34;testdata/&#34;</span>&nbsp;<span class="op" id="7146525">+</span>&nbsp;<span class="ident" id="7146527">ft</span><span class="op" id="7146529">.</span><span class="ident" id="7146530">File</span><span class="op" id="7146534">)</span><span class="op" id="7146535">;</span>&nbsp;<span class="ident" id="7146537">err</span>&nbsp;<span class="op" id="7146541">!=</span>&nbsp;<span class="ident" id="7146544">nil</span>&nbsp;<span class="op" id="7146548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146552">t</span><span class="op" id="7146553">.</span><span class="ident" id="7146554">Error</span><span class="op" id="7146559">(</span><span class="ident" id="7146560">err</span><span class="op" id="7146563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146567">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146575">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146579">if</span>&nbsp;<span class="ident" id="7146582">b</span><span class="op" id="7146583">.</span><span class="ident" id="7146584">Len</span><span class="op" id="7146587">(</span><span class="op" id="7146588">)</span>&nbsp;<span class="op" id="7146590">!=</span>&nbsp;<span class="builtinfunc" id="7146593">len</span><span class="op" id="7146596">(</span><span class="ident" id="7146597">c</span><span class="op" id="7146598">)</span>&nbsp;<span class="op" id="7146600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146604">t</span><span class="op" id="7146605">.</span><span class="ident" id="7146606">Errorf</span><span class="op" id="7146612">(</span><span class="string" id="7146613">&#34;%s:&nbsp;len=%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7146634">,</span>&nbsp;<span class="ident" id="7146636">f</span><span class="op" id="7146637">.</span><span class="ident" id="7146638">Name</span><span class="op" id="7146642">,</span>&nbsp;<span class="ident" id="7146644">b</span><span class="op" id="7146645">.</span><span class="ident" id="7146646">Len</span><span class="op" id="7146649">(</span><span class="op" id="7146650">)</span><span class="op" id="7146651">,</span>&nbsp;<span class="builtinfunc" id="7146653">len</span><span class="op" id="7146656">(</span><span class="ident" id="7146657">c</span><span class="op" id="7146658">)</span><span class="op" id="7146659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146663">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146671">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146675">for</span>&nbsp;<span class="ident" id="7146679">i</span><span class="op" id="7146680">,</span>&nbsp;<span class="ident" id="7146682">b</span>&nbsp;<span class="op" id="7146684">:=</span>&nbsp;<span class="keyword" id="7146687">range</span>&nbsp;<span class="ident" id="7146693">b</span><span class="op" id="7146694">.</span><span class="ident" id="7146695">Bytes</span><span class="op" id="7146700">(</span><span class="op" id="7146701">)</span>&nbsp;<span class="op" id="7146703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146707">if</span>&nbsp;<span class="ident" id="7146710">b</span>&nbsp;<span class="op" id="7146712">!=</span>&nbsp;<span class="ident" id="7146715">c</span><span class="op" id="7146716">[</span><span class="ident" id="7146717">i</span><span class="op" id="7146718">]</span>&nbsp;<span class="op" id="7146720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146725">t</span><span class="op" id="7146726">.</span><span class="ident" id="7146727">Errorf</span><span class="op" id="7146733">(</span><span class="string" id="7146734">&#34;%s:&nbsp;content[%d]=%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7146762">,</span>&nbsp;<span class="ident" id="7146764">f</span><span class="op" id="7146765">.</span><span class="ident" id="7146766">Name</span><span class="op" id="7146770">,</span>&nbsp;<span class="ident" id="7146772">i</span><span class="op" id="7146773">,</span>&nbsp;<span class="ident" id="7146775">b</span><span class="op" id="7146776">,</span>&nbsp;<span class="ident" id="7146778">c</span><span class="op" id="7146779">[</span><span class="ident" id="7146780">i</span><span class="op" id="7146781">]</span><span class="op" id="7146782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146787">return</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146799">}</span><br>
<span class="lineno"></span><span class="op" id="7146801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7146804">func</span>&nbsp;<span class="ident" id="7146809">testFileMode</span><span class="op" id="7146821">(</span><span class="ident" id="7146822">t</span>&nbsp;<span class="op" id="7146824">*</span><span class="ident" id="7146825">testing</span><span class="op" id="7146832">.</span><span class="ident" id="7146833">T</span><span class="op" id="7146834">,</span>&nbsp;<span class="ident" id="7146836">zipName</span>&nbsp;<span class="builtintype" id="7146844">string</span><span class="op" id="7146850">,</span>&nbsp;<span class="ident" id="7146852">f</span>&nbsp;<span class="op" id="7146854">*</span><span class="ident" id="7146855">File</span><span class="op" id="7146859">,</span>&nbsp;<span class="ident" id="7146861">want</span>&nbsp;<span class="ident" id="7146866">os</span><span class="op" id="7146868">.</span><span class="ident" id="7146869">FileMode</span><span class="op" id="7146877">)</span>&nbsp;<span class="op" id="7146879">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146882">mode</span>&nbsp;<span class="op" id="7146887">:=</span>&nbsp;<span class="ident" id="7146890">f</span><span class="op" id="7146891">.</span><span class="ident" id="7146892">Mode</span><span class="op" id="7146896">(</span><span class="op" id="7146897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7146900">if</span>&nbsp;<span class="ident" id="7146903">want</span>&nbsp;<span class="op" id="7146908">==</span>&nbsp;<span class="num" id="7146911">0</span>&nbsp;<span class="op" id="7146913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7146917">t</span><span class="op" id="7146918">.</span><span class="ident" id="7146919">Errorf</span><span class="op" id="7146925">(</span><span class="string" id="7146926">&#34;%s:&nbsp;%s&nbsp;mode:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;none&#34;</span><span class="op" id="7146958">,</span>&nbsp;<span class="ident" id="7146960">zipName</span><span class="op" id="7146967">,</span>&nbsp;<span class="ident" id="7146969">f</span><span class="op" id="7146970">.</span><span class="ident" id="7146971">Name</span><span class="op" id="7146975">,</span>&nbsp;<span class="ident" id="7146977">mode</span><span class="op" id="7146981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7146984">}</span>&nbsp;<span class="keyword" id="7146986">else</span>&nbsp;<span class="keyword" id="7146991">if</span>&nbsp;<span class="ident" id="7146994">mode</span>&nbsp;<span class="op" id="7146999">!=</span>&nbsp;<span class="ident" id="7147002">want</span>&nbsp;<span class="op" id="7147007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7147011">t</span><span class="op" id="7147012">.</span><span class="ident" id="7147013">Errorf</span><span class="op" id="7147019">(</span><span class="string" id="7147020">&#34;%s:&nbsp;%s&nbsp;mode:&nbsp;want&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7147050">,</span>&nbsp;<span class="ident" id="7147052">zipName</span><span class="op" id="7147059">,</span>&nbsp;<span class="ident" id="7147061">f</span><span class="op" id="7147062">.</span><span class="ident" id="7147063">Name</span><span class="op" id="7147067">,</span>&nbsp;<span class="ident" id="7147069">want</span><span class="op" id="7147073">,</span>&nbsp;<span class="ident" id="7147075">mode</span><span class="op" id="7147079">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7147082">}</span><br>
<span class="lineno"></span><span class="op" id="7147084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7147087">func</span>&nbsp;<span class="ident" id="7147092">TestInvalidFiles</span><span class="op" id="7147108">(</span><span class="ident" id="7147109">t</span>&nbsp;<span class="op" id="7147111">*</span><span class="ident" id="7147112">testing</span><span class="op" id="7147119">.</span><span class="ident" id="7147120">T</span><span class="op" id="7147121">)</span>&nbsp;<span class="op" id="7147123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7147126">const</span>&nbsp;<span class="ident" id="7147132">size</span>&nbsp;<span class="op" id="7147137">=</span>&nbsp;<span class="num" id="7147139">1024</span>&nbsp;<span class="op" id="7147144">*</span>&nbsp;<span class="num" id="7147146">70</span>&nbsp;<span class="comment" id="7147149">//&nbsp;70kb</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7147158">b</span>&nbsp;<span class="op" id="7147160">:=</span>&nbsp;<span class="builtinfunc" id="7147163">make</span><span class="op" id="7147167">(</span><span class="op" id="7147168">[</span><span class="op" id="7147169">]</span><span class="builtintype" id="7147170">byte</span><span class="op" id="7147174">,</span>&nbsp;<span class="ident" id="7147176">size</span><span class="op" id="7147180">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7147184">//&nbsp;zeroes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7147195">_</span><span class="op" id="7147196">,</span>&nbsp;<span class="ident" id="7147198">err</span>&nbsp;<span class="op" id="7147202">:=</span>&nbsp;<span class="ident" id="7147205">NewReader</span><span class="op" id="7147214">(</span><span class="ident" id="7147215">bytes</span><span class="op" id="7147220">.</span><span class="ident" id="7147221">NewReader</span><span class="op" id="7147230">(</span><span class="ident" id="7147231">b</span><span class="op" id="7147232">)</span><span class="op" id="7147233">,</span>&nbsp;<span class="ident" id="7147235">size</span><span class="op" id="7147239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7147242">if</span>&nbsp;<span class="ident" id="7147245">err</span>&nbsp;<span class="op" id="7147249">!=</span>&nbsp;<span class="ident" id="7147252">ErrFormat</span>&nbsp;<span class="op" id="7147262">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7147266">t</span><span class="op" id="7147267">.</span><span class="ident" id="7147268">Errorf</span><span class="op" id="7147274">(</span><span class="string" id="7147275">&#34;zeroes:&nbsp;error=%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7147302">,</span>&nbsp;<span class="ident" id="7147304">err</span><span class="op" id="7147307">,</span>&nbsp;<span class="ident" id="7147309">ErrFormat</span><span class="op" id="7147318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7147321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7147325">//&nbsp;repeated&nbsp;directoryEndSignatures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7147361">sig</span>&nbsp;<span class="op" id="7147365">:=</span>&nbsp;<span class="builtinfunc" id="7147368">make</span><span class="op" id="7147372">(</span><span class="op" id="7147373">[</span><span class="op" id="7147374">]</span><span class="builtintype" id="7147375">byte</span><span class="op" id="7147379">,</span>&nbsp;<span class="num" id="7147381">4</span><span class="op" id="7147382">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7147385">binary</span><span class="op" id="7147391">.</span><span class="ident" id="7147392">LittleEndian</span><span class="op" id="7147404">.</span><span class="ident" id="7147405">PutUint32</span><span class="op" id="7147414">(</span><span class="ident" id="7147415">sig</span><span class="op" id="7147418">,</span>&nbsp;<span class="ident" id="7147420">directoryEndSignature</span><span class="op" id="7147441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7147444">for</span>&nbsp;<span class="ident" id="7147448">i</span>&nbsp;<span class="op" id="7147450">:=</span>&nbsp;<span class="num" id="7147453">0</span><span class="op" id="7147454">;</span>&nbsp;<span class="ident" id="7147456">i</span>&nbsp;<span class="op" id="7147458">&lt;</span>&nbsp;<span class="ident" id="7147460">size</span><span class="op" id="7147464">-</span><span class="num" id="7147465">4</span><span class="op" id="7147466">;</span>&nbsp;<span class="ident" id="7147468">i</span>&nbsp;<span class="op" id="7147470">+=</span>&nbsp;<span class="num" id="7147473">4</span>&nbsp;<span class="op" id="7147475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7147479">copy</span><span class="op" id="7147483">(</span><span class="ident" id="7147484">b</span><span class="op" id="7147485">[</span><span class="ident" id="7147486">i</span><span class="op" id="7147487">:</span><span class="ident" id="7147488">i</span><span class="op" id="7147489">+</span><span class="num" id="7147490">4</span><span class="op" id="7147491">]</span><span class="op" id="7147492">,</span>&nbsp;<span class="ident" id="7147494">sig</span><span class="op" id="7147497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7147500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7147503">_</span><span class="op" id="7147504">,</span>&nbsp;<span class="ident" id="7147506">err</span>&nbsp;<span class="op" id="7147510">=</span>&nbsp;<span class="ident" id="7147512">NewReader</span><span class="op" id="7147521">(</span><span class="ident" id="7147522">bytes</span><span class="op" id="7147527">.</span><span class="ident" id="7147528">NewReader</span><span class="op" id="7147537">(</span><span class="ident" id="7147538">b</span><span class="op" id="7147539">)</span><span class="op" id="7147540">,</span>&nbsp;<span class="ident" id="7147542">size</span><span class="op" id="7147546">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7147549">if</span>&nbsp;<span class="ident" id="7147552">err</span>&nbsp;<span class="op" id="7147556">!=</span>&nbsp;<span class="ident" id="7147559">ErrFormat</span>&nbsp;<span class="op" id="7147569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7147573">t</span><span class="op" id="7147574">.</span><span class="ident" id="7147575">Errorf</span><span class="op" id="7147581">(</span><span class="string" id="7147582">&#34;sigs:&nbsp;error=%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7147607">,</span>&nbsp;<span class="ident" id="7147609">err</span><span class="op" id="7147612">,</span>&nbsp;<span class="ident" id="7147614">ErrFormat</span><span class="op" id="7147623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7147626">}</span><br>
<span class="lineno"></span><span class="op" id="7147628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span><span class="keyword" id="7147631">func</span>&nbsp;<span class="ident" id="7147636">messWith</span><span class="op" id="7147644">(</span><span class="ident" id="7147645">fileName</span>&nbsp;<span class="builtintype" id="7147654">string</span><span class="op" id="7147660">,</span>&nbsp;<span class="ident" id="7147662">corrupter</span>&nbsp;<span class="keyword" id="7147672">func</span><span class="op" id="7147676">(</span><span class="ident" id="7147677">b</span>&nbsp;<span class="op" id="7147679">[</span><span class="op" id="7147680">]</span><span class="builtintype" id="7147681">byte</span><span class="op" id="7147685">)</span><span class="op" id="7147686">)</span>&nbsp;<span class="op" id="7147688">(</span><span class="ident" id="7147689">r</span>&nbsp;<span class="ident" id="7147691">io</span><span class="op" id="7147693">.</span><span class="ident" id="7147694">ReaderAt</span><span class="op" id="7147702">,</span>&nbsp;<span class="ident" id="7147704">size</span>&nbsp;<span class="ident" id="7147709">int64</span><span class="op" id="7147714">)</span>&nbsp;<span class="op" id="7147716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7147719">data</span><span class="op" id="7147723">,</span>&nbsp;<span class="ident" id="7147725">err</span>&nbsp;<span class="op" id="7147729">:=</span>&nbsp;<span class="ident" id="7147732">ioutil</span><span class="op" id="7147738">.</span><span class="ident" id="7147739">ReadFile</span><span class="op" id="7147747">(</span><span class="ident" id="7147748">filepath</span><span class="op" id="7147756">.</span><span class="ident" id="7147757">Join</span><span class="op" id="7147761">(</span><span class="string" id="7147762">&#34;testdata&#34;</span><span class="op" id="7147772">,</span>&nbsp;<span class="ident" id="7147774">fileName</span><span class="op" id="7147782">)</span><span class="op" id="7147783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7147786">if</span>&nbsp;<span class="ident" id="7147789">err</span>&nbsp;<span class="op" id="7147793">!=</span>&nbsp;<span class="ident" id="7147796">nil</span>&nbsp;<span class="op" id="7147800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7147804">panic</span><span class="op" id="7147809">(</span><span class="string" id="7147810">&#34;Error&nbsp;reading&nbsp;&#34;</span>&nbsp;<span class="op" id="7147827">+</span>&nbsp;<span class="ident" id="7147829">fileName</span>&nbsp;<span class="op" id="7147838">+</span>&nbsp;<span class="string" id="7147840">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="7147845">+</span>&nbsp;<span class="ident" id="7147847">err</span><span class="op" id="7147850">.</span><span class="ident" id="7147851">Error</span><span class="op" id="7147856">(</span><span class="op" id="7147857">)</span><span class="op" id="7147858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7147861">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7147864">corrupter</span><span class="op" id="7147873">(</span><span class="ident" id="7147874">data</span><span class="op" id="7147878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7147881">return</span>&nbsp;<span class="ident" id="7147888">bytes</span><span class="op" id="7147893">.</span><span class="ident" id="7147894">NewReader</span><span class="op" id="7147903">(</span><span class="ident" id="7147904">data</span><span class="op" id="7147908">)</span><span class="op" id="7147909">,</span>&nbsp;<span class="ident" id="7147911">int64</span><span class="op" id="7147916">(</span><span class="builtinfunc" id="7147917">len</span><span class="op" id="7147920">(</span><span class="ident" id="7147921">data</span><span class="op" id="7147925">)</span><span class="op" id="7147926">)</span><br>
<span class="lineno"></span><span class="op" id="7147928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7147931">func</span>&nbsp;<span class="ident" id="7147936">returnCorruptCRC32Zip</span><span class="op" id="7147957">(</span><span class="op" id="7147958">)</span>&nbsp;<span class="op" id="7147960">(</span><span class="ident" id="7147961">r</span>&nbsp;<span class="ident" id="7147963">io</span><span class="op" id="7147965">.</span><span class="ident" id="7147966">ReaderAt</span><span class="op" id="7147974">,</span>&nbsp;<span class="ident" id="7147976">size</span>&nbsp;<span class="ident" id="7147981">int64</span><span class="op" id="7147986">)</span>&nbsp;<span class="op" id="7147988">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7147991">return</span>&nbsp;<span class="ident" id="7147998">messWith</span><span class="op" id="7148006">(</span><span class="string" id="7148007">&#34;go-with-datadesc-sig.zip&#34;</span><span class="op" id="7148033">,</span>&nbsp;<span class="keyword" id="7148035">func</span><span class="op" id="7148039">(</span><span class="ident" id="7148040">b</span>&nbsp;<span class="op" id="7148042">[</span><span class="op" id="7148043">]</span><span class="builtintype" id="7148044">byte</span><span class="op" id="7148048">)</span>&nbsp;<span class="op" id="7148050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7148054">//&nbsp;Corrupt&nbsp;one&nbsp;of&nbsp;the&nbsp;CRC32s&nbsp;in&nbsp;the&nbsp;data&nbsp;descriptor:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7148109">b</span><span class="op" id="7148110">[</span><span class="num" id="7148111">0x2d</span><span class="op" id="7148115">]</span><span class="op" id="7148116">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7148120">}</span><span class="op" id="7148121">)</span><br>
<span class="lineno"></span><span class="op" id="7148123">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7148126">func</span>&nbsp;<span class="ident" id="7148131">returnCorruptNotStreamedZip</span><span class="op" id="7148158">(</span><span class="op" id="7148159">)</span>&nbsp;<span class="op" id="7148161">(</span><span class="ident" id="7148162">r</span>&nbsp;<span class="ident" id="7148164">io</span><span class="op" id="7148166">.</span><span class="ident" id="7148167">ReaderAt</span><span class="op" id="7148175">,</span>&nbsp;<span class="ident" id="7148177">size</span>&nbsp;<span class="ident" id="7148182">int64</span><span class="op" id="7148187">)</span>&nbsp;<span class="op" id="7148189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7148192">return</span>&nbsp;<span class="ident" id="7148199">messWith</span><span class="op" id="7148207">(</span><span class="string" id="7148208">&#34;crc32-not-streamed.zip&#34;</span><span class="op" id="7148232">,</span>&nbsp;<span class="keyword" id="7148234">func</span><span class="op" id="7148238">(</span><span class="ident" id="7148239">b</span>&nbsp;<span class="op" id="7148241">[</span><span class="op" id="7148242">]</span><span class="builtintype" id="7148243">byte</span><span class="op" id="7148247">)</span>&nbsp;<span class="op" id="7148249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7148253">//&nbsp;Corrupt&nbsp;foo.txt&#39;s&nbsp;final&nbsp;crc32&nbsp;byte,&nbsp;in&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7148302">//&nbsp;the&nbsp;file&nbsp;header&nbsp;and&nbsp;TOC.&nbsp;(0x7e&nbsp;-&gt;&nbsp;0x7f)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7148347">b</span><span class="op" id="7148348">[</span><span class="num" id="7148349">0x11</span><span class="op" id="7148353">]</span><span class="op" id="7148354">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7148359">b</span><span class="op" id="7148360">[</span><span class="num" id="7148361">0x9d</span><span class="op" id="7148365">]</span><span class="op" id="7148366">++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7148372">//&nbsp;TODO(bradfitz):&nbsp;add&nbsp;a&nbsp;new&nbsp;test&nbsp;that&nbsp;only&nbsp;corrupts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7148427">//&nbsp;one&nbsp;of&nbsp;these&nbsp;values,&nbsp;and&nbsp;verify&nbsp;that&nbsp;that&#39;s&nbsp;also&nbsp;an</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7148484">//&nbsp;error.&nbsp;Currently,&nbsp;the&nbsp;reader&nbsp;code&nbsp;doesn&#39;t&nbsp;verify&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7148542">//&nbsp;fileheader&nbsp;and&nbsp;TOC&#39;s&nbsp;crc32&nbsp;match&nbsp;if&nbsp;they&#39;re&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7148596">//&nbsp;non-zero&nbsp;and&nbsp;only&nbsp;the&nbsp;second&nbsp;line&nbsp;above,&nbsp;the&nbsp;TOC,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7148651">//&nbsp;is&nbsp;what&nbsp;matters.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7148672">}</span><span class="op" id="7148673">)</span><br>
<span class="lineno">465</span><span class="op" id="7148675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7148678">//&nbsp;rZipBytes&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;recursive&nbsp;zip&nbsp;file,&nbsp;without</span><br>
<span class="lineno"></span><span class="comment" id="7148742">//&nbsp;putting&nbsp;it&nbsp;on&nbsp;disk&nbsp;and&nbsp;triggering&nbsp;certain&nbsp;virus&nbsp;scanners.</span><br>
<span class="lineno"></span><span class="keyword" id="7148803">func</span>&nbsp;<span class="ident" id="7148808">rZipBytes</span><span class="op" id="7148817">(</span><span class="op" id="7148818">)</span>&nbsp;<span class="op" id="7148820">[</span><span class="op" id="7148821">]</span><span class="builtintype" id="7148822">byte</span>&nbsp;<span class="op" id="7148827">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7148830">s</span>&nbsp;<span class="op" id="7148832">:=</span>&nbsp;<span class="string" id="7148835">`<br>
<span class="lineno"></span>0000000&nbsp;50&nbsp;4b&nbsp;03&nbsp;04&nbsp;14&nbsp;00&nbsp;00&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4<br>
<span class="lineno"></span>0000010&nbsp;89&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00&nbsp;b8&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f<br>
<span class="lineno"></span>0000020&nbsp;72&nbsp;2e&nbsp;7a&nbsp;69&nbsp;70&nbsp;00&nbsp;25&nbsp;00&nbsp;da&nbsp;ff&nbsp;50&nbsp;4b&nbsp;03&nbsp;04&nbsp;14&nbsp;00<br>
<span class="lineno"></span>0000030&nbsp;00&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4&nbsp;89&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00<br>
<span class="lineno">475</span>0000040&nbsp;b8&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f&nbsp;72&nbsp;2e&nbsp;7a&nbsp;69&nbsp;70&nbsp;00<br>
<span class="lineno"></span>0000050&nbsp;2f&nbsp;00&nbsp;d0&nbsp;ff&nbsp;00&nbsp;25&nbsp;00&nbsp;da&nbsp;ff&nbsp;50&nbsp;4b&nbsp;03&nbsp;04&nbsp;14&nbsp;00&nbsp;00<br>
<span class="lineno"></span>0000060&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4&nbsp;89&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00&nbsp;b8<br>
<span class="lineno"></span>0000070&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f&nbsp;72&nbsp;2e&nbsp;7a&nbsp;69&nbsp;70&nbsp;00&nbsp;2f<br>
<span class="lineno"></span>0000080&nbsp;00&nbsp;d0&nbsp;ff&nbsp;c2&nbsp;54&nbsp;8e&nbsp;57&nbsp;39&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;c2&nbsp;54&nbsp;8e<br>
<span class="lineno">480</span>0000090&nbsp;57&nbsp;39&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;00&nbsp;14&nbsp;00&nbsp;eb<br>
<span class="lineno"></span>00000a0&nbsp;ff&nbsp;c2&nbsp;54&nbsp;8e&nbsp;57&nbsp;39&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff<br>
<span class="lineno"></span>00000b0&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42<br>
<span class="lineno"></span>00000c0&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14<br>
<span class="lineno"></span>00000d0&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21<br>
<span class="lineno">485</span>00000e0&nbsp;c4&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;00&nbsp;34&nbsp;00&nbsp;cb<br>
<span class="lineno"></span>00000f0&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff<br>
<span class="lineno"></span>0000100&nbsp;00&nbsp;34&nbsp;00&nbsp;cb&nbsp;ff&nbsp;42&nbsp;e8&nbsp;21&nbsp;5e&nbsp;0f&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;0a<br>
<span class="lineno"></span>0000110&nbsp;f0&nbsp;66&nbsp;64&nbsp;12&nbsp;61&nbsp;c0&nbsp;15&nbsp;dc&nbsp;e8&nbsp;a0&nbsp;48&nbsp;bf&nbsp;48&nbsp;af&nbsp;2a&nbsp;b3<br>
<span class="lineno"></span>0000120&nbsp;20&nbsp;c0&nbsp;9b&nbsp;95&nbsp;0d&nbsp;c4&nbsp;67&nbsp;04&nbsp;42&nbsp;53&nbsp;06&nbsp;06&nbsp;06&nbsp;40&nbsp;00&nbsp;06<br>
<span class="lineno">490</span>0000130&nbsp;00&nbsp;f9&nbsp;ff&nbsp;6d&nbsp;01&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;42&nbsp;e8&nbsp;21&nbsp;5e&nbsp;0f&nbsp;00&nbsp;00<br>
<span class="lineno"></span>0000140&nbsp;00&nbsp;ff&nbsp;ff&nbsp;0a&nbsp;f0&nbsp;66&nbsp;64&nbsp;12&nbsp;61&nbsp;c0&nbsp;15&nbsp;dc&nbsp;e8&nbsp;a0&nbsp;48&nbsp;bf<br>
<span class="lineno"></span>0000150&nbsp;48&nbsp;af&nbsp;2a&nbsp;b3&nbsp;20&nbsp;c0&nbsp;9b&nbsp;95&nbsp;0d&nbsp;c4&nbsp;67&nbsp;04&nbsp;42&nbsp;53&nbsp;06&nbsp;06<br>
<span class="lineno"></span>0000160&nbsp;06&nbsp;40&nbsp;00&nbsp;06&nbsp;00&nbsp;f9&nbsp;ff&nbsp;6d&nbsp;01&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;50&nbsp;4b&nbsp;01<br>
<span class="lineno"></span>0000170&nbsp;02&nbsp;14&nbsp;00&nbsp;14&nbsp;00&nbsp;00&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4&nbsp;89<br>
<span class="lineno">495</span>0000180&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00&nbsp;b8&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00<br>
<span class="lineno"></span>0000190&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f&nbsp;72&nbsp;2e&nbsp;7a<br>
<span class="lineno"></span>00001a0&nbsp;69&nbsp;70&nbsp;50&nbsp;4b&nbsp;05&nbsp;06&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;01&nbsp;00&nbsp;01&nbsp;00&nbsp;35&nbsp;00<br>
<span class="lineno"></span>00001b0&nbsp;00&nbsp;00&nbsp;6d&nbsp;01&nbsp;00&nbsp;00&nbsp;00&nbsp;00`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150383">s</span>&nbsp;<span class="op" id="7150385">=</span>&nbsp;<span class="ident" id="7150387">regexp</span><span class="op" id="7150393">.</span><span class="ident" id="7150394">MustCompile</span><span class="op" id="7150405">(</span><span class="string" id="7150406">`[0-9a-f]{7}`</span><span class="op" id="7150419">)</span><span class="op" id="7150420">.</span><span class="ident" id="7150421">ReplaceAllString</span><span class="op" id="7150437">(</span><span class="ident" id="7150438">s</span><span class="op" id="7150439">,</span>&nbsp;<span class="string" id="7150441">&#34;&#34;</span><span class="op" id="7150443">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150446">s</span>&nbsp;<span class="op" id="7150448">=</span>&nbsp;<span class="ident" id="7150450">regexp</span><span class="op" id="7150456">.</span><span class="ident" id="7150457">MustCompile</span><span class="op" id="7150468">(</span><span class="string" id="7150469">`\s+`</span><span class="op" id="7150474">)</span><span class="op" id="7150475">.</span><span class="ident" id="7150476">ReplaceAllString</span><span class="op" id="7150492">(</span><span class="ident" id="7150493">s</span><span class="op" id="7150494">,</span>&nbsp;<span class="string" id="7150496">&#34;&#34;</span><span class="op" id="7150498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150501">b</span><span class="op" id="7150502">,</span>&nbsp;<span class="ident" id="7150504">err</span>&nbsp;<span class="op" id="7150508">:=</span>&nbsp;<span class="ident" id="7150511">hex</span><span class="op" id="7150514">.</span><span class="ident" id="7150515">DecodeString</span><span class="op" id="7150527">(</span><span class="ident" id="7150528">s</span><span class="op" id="7150529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7150532">if</span>&nbsp;<span class="ident" id="7150535">err</span>&nbsp;<span class="op" id="7150539">!=</span>&nbsp;<span class="ident" id="7150542">nil</span>&nbsp;<span class="op" id="7150546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7150550">panic</span><span class="op" id="7150555">(</span><span class="ident" id="7150556">err</span><span class="op" id="7150559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7150562">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7150565">return</span>&nbsp;<span class="ident" id="7150572">b</span><br>
<span class="lineno"></span><span class="op" id="7150574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7150577">func</span>&nbsp;<span class="ident" id="7150582">returnRecursiveZip</span><span class="op" id="7150600">(</span><span class="op" id="7150601">)</span>&nbsp;<span class="op" id="7150603">(</span><span class="ident" id="7150604">r</span>&nbsp;<span class="ident" id="7150606">io</span><span class="op" id="7150608">.</span><span class="ident" id="7150609">ReaderAt</span><span class="op" id="7150617">,</span>&nbsp;<span class="ident" id="7150619">size</span>&nbsp;<span class="ident" id="7150624">int64</span><span class="op" id="7150629">)</span>&nbsp;<span class="op" id="7150631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150634">b</span>&nbsp;<span class="op" id="7150636">:=</span>&nbsp;<span class="ident" id="7150639">rZipBytes</span><span class="op" id="7150648">(</span><span class="op" id="7150649">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7150652">return</span>&nbsp;<span class="ident" id="7150659">bytes</span><span class="op" id="7150664">.</span><span class="ident" id="7150665">NewReader</span><span class="op" id="7150674">(</span><span class="ident" id="7150675">b</span><span class="op" id="7150676">)</span><span class="op" id="7150677">,</span>&nbsp;<span class="ident" id="7150679">int64</span><span class="op" id="7150684">(</span><span class="builtinfunc" id="7150685">len</span><span class="op" id="7150688">(</span><span class="ident" id="7150689">b</span><span class="op" id="7150690">)</span><span class="op" id="7150691">)</span><br>
<span class="lineno"></span><span class="op" id="7150693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7150696">func</span>&nbsp;<span class="ident" id="7150701">TestIssue8186</span><span class="op" id="7150714">(</span><span class="ident" id="7150715">t</span>&nbsp;<span class="op" id="7150717">*</span><span class="ident" id="7150718">testing</span><span class="op" id="7150725">.</span><span class="ident" id="7150726">T</span><span class="op" id="7150727">)</span>&nbsp;<span class="op" id="7150729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7150732">//&nbsp;Directory&nbsp;headers&nbsp;&amp;&nbsp;data&nbsp;found&nbsp;in&nbsp;the&nbsp;TOC&nbsp;of&nbsp;a&nbsp;JAR&nbsp;file.</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150793">dirEnts</span>&nbsp;<span class="op" id="7150801">:=</span>&nbsp;<span class="op" id="7150804">[</span><span class="op" id="7150805">]</span><span class="builtintype" id="7150806">string</span><span class="op" id="7150812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7150816">&#34;PK\x01\x02\n\x00\n\x00\x00\b\x00\x004\x9d3?\xaa\x1b\x06\xf0\x81\x02\x00\x00\x81\x02\x00\x00-\x00\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00res/drawable-xhdpi-v4/ic_actionbar_accept.png\xfe\xca\x00\x00\x00&#34;</span><span class="op" id="7151043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7151047">&#34;PK\x01\x02\n\x00\n\x00\x00\b\x00\x004\x9d3?\x90K\x89\xc7t\n\x00\x00t\n\x00\x00\x0e\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xd1\x02\x00\x00resources.arsc\x00\x00\x00&#34;</span><span class="op" id="7151225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7151229">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\xff$\x18\xed3\x03\x00\x00\xb4\b\x00\x00\x13\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00t\r\x00\x00AndroidManifest.xml&#34;</span><span class="op" id="7151400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7151404">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\x14\xc5K\xab\x192\x02\x00\xc8\xcd\x04\x00\v\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xe8\x10\x00\x00classes.dex&#34;</span><span class="op" id="7151572">,</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7151576">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?E\x96\nD\xac\x01\x00\x00P\x03\x00\x00&amp;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00:C\x02\x00res/layout/actionbar_set_wallpaper.xml&#34;</span><span class="op" id="7151759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7151763">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\x14\xe3\xd8\x01\x00\x00\xd8\x03\x00\x00&nbsp;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00:E\x02\x00res/layout/wallpaper_cropper.xml&#34;</span><span class="op" id="7151945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7151949">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?}\xc1\x15\x9eZ\x01\x00\x00!\x02\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00`G\x02\x00META-INF/MANIFEST.MF&#34;</span><span class="op" id="7152119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7152123">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\xe6\x98o\x01\x00\x00\x84\x02\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xfcH\x02\x00META-INF/CERT.SF&#34;</span><span class="op" id="7152292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7152296">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\xbfP\x96b\x86\x04\x00\x00\xb2\x06\x00\x00\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xa9J\x02\x00META-INF/CERT.RSA&#34;</span><span class="op" id="7152469">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7152472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7152475">for</span>&nbsp;<span class="ident" id="7152479">i</span><span class="op" id="7152480">,</span>&nbsp;<span class="ident" id="7152482">s</span>&nbsp;<span class="op" id="7152484">:=</span>&nbsp;<span class="keyword" id="7152487">range</span>&nbsp;<span class="ident" id="7152493">dirEnts</span>&nbsp;<span class="op" id="7152501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7152505">var</span>&nbsp;<span class="ident" id="7152509">f</span>&nbsp;<span class="ident" id="7152511">File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7152518">err</span>&nbsp;<span class="op" id="7152522">:=</span>&nbsp;<span class="ident" id="7152525">readDirectoryHeader</span><span class="op" id="7152544">(</span><span class="op" id="7152545">&amp;</span><span class="ident" id="7152546">f</span><span class="op" id="7152547">,</span>&nbsp;<span class="ident" id="7152549">strings</span><span class="op" id="7152556">.</span><span class="ident" id="7152557">NewReader</span><span class="op" id="7152566">(</span><span class="ident" id="7152567">s</span><span class="op" id="7152568">)</span><span class="op" id="7152569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7152573">if</span>&nbsp;<span class="ident" id="7152576">err</span>&nbsp;<span class="op" id="7152580">!=</span>&nbsp;<span class="ident" id="7152583">nil</span>&nbsp;<span class="op" id="7152587">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7152592">t</span><span class="op" id="7152593">.</span><span class="ident" id="7152594">Errorf</span><span class="op" id="7152600">(</span><span class="string" id="7152601">&#34;error&nbsp;reading&nbsp;#%d:&nbsp;%v&#34;</span><span class="op" id="7152624">,</span>&nbsp;<span class="ident" id="7152626">i</span><span class="op" id="7152627">,</span>&nbsp;<span class="ident" id="7152629">err</span><span class="op" id="7152632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7152636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7152639">}</span><br>
<span class="lineno"></span><span class="op" id="7152641">}</span>
</div>
</body>
</html>
