<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7023619">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7023674">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7023728">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7023779">package</span>&nbsp;<span class="ident" id="7023787">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7023798">import</span>&nbsp;<span class="op" id="7023805">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7023808">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7023817">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7023823">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7023829">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7023839">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7023850">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7023860">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7023863">func</span>&nbsp;<span class="ident" id="7023868">TestReadForm</span><span class="op" id="7023880">(</span><span class="ident" id="7023881">t</span>&nbsp;<span class="op" id="7023883">*</span><span class="ident" id="7023884"><a href="/mime/multipart/formdata_test.go.html#7023850">testing</a></span><span class="op" id="7023891">.</span><span class="ident" id="7023892">T</span><span class="op" id="7023893">)</span>&nbsp;<span class="op" id="7023895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7023898">testBody</span>&nbsp;<span class="op" id="7023907">:=</span>&nbsp;<span class="ident" id="7023910"><a href="/mime/multipart/formdata_test.go.html#7023829">regexp</a></span><span class="op" id="7023916">.</span><span class="ident" id="7023917">MustCompile</span><span class="op" id="7023928">(</span><span class="string" id="7023929">&#34;\n&#34;</span><span class="op" id="7023933">)</span><span class="op" id="7023934">.</span><span class="ident" id="7023935">ReplaceAllString</span><span class="op" id="7023951">(</span><span class="ident" id="7023952"><a href="/mime/multipart/formdata_test.go.html#7025275">message</a></span><span class="op" id="7023959">,</span>&nbsp;<span class="string" id="7023961">&#34;\r\n&#34;</span><span class="op" id="7023967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7023970">b</span>&nbsp;<span class="op" id="7023972">:=</span>&nbsp;<span class="ident" id="7023975"><a href="/mime/multipart/formdata_test.go.html#7023839">strings</a></span><span class="op" id="7023982">.</span><span class="ident" id="7023983">NewReader</span><span class="op" id="7023992">(</span><span class="ident" id="7023993"><a href="/mime/multipart/formdata_test.go.html#7023898">testBody</a></span><span class="op" id="7024001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024004">r</span>&nbsp;<span class="op" id="7024006">:=</span>&nbsp;<span class="ident" id="7024009"><a href="/mime/multipart/multipart.go.html#3968802">NewReader</a></span><span class="op" id="7024018">(</span><span class="ident" id="7024019"><a href="/mime/multipart/formdata_test.go.html#7023970">b</a></span><span class="op" id="7024020">,</span>&nbsp;<span class="ident" id="7024022"><a href="/mime/multipart/formdata_test.go.html#7025237">boundary</a></span><span class="op" id="7024030">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024033">f</span><span class="op" id="7024034">,</span>&nbsp;<span class="ident" id="7024036">err</span>&nbsp;<span class="op" id="7024040">:=</span>&nbsp;<span class="ident" id="7024043"><a href="/mime/multipart/formdata_test.go.html#7024004">r</a></span><span class="op" id="7024044">.</span><span class="ident" id="7024045">ReadForm</span><span class="op" id="7024053">(</span><span class="num" id="7024054">25</span><span class="op" id="7024056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7024059">if</span>&nbsp;<span class="ident" id="7024062"><a href="/mime/multipart/formdata_test.go.html#7024036">err</a></span>&nbsp;<span class="op" id="7024066">!=</span>&nbsp;<span class="ident" id="7024069">nil</span>&nbsp;<span class="op" id="7024073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024077"><a href="/mime/multipart/formdata_test.go.html#7023881">t</a></span><span class="op" id="7024078">.</span><span class="ident" id="7024079">Fatal</span><span class="op" id="7024084">(</span><span class="string" id="7024085">&#34;ReadForm:&#34;</span><span class="op" id="7024096">,</span>&nbsp;<span class="ident" id="7024098"><a href="/mime/multipart/formdata_test.go.html#7024036">err</a></span><span class="op" id="7024101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7024107">defer</span>&nbsp;<span class="ident" id="7024113"><a href="/mime/multipart/formdata_test.go.html#7024033">f</a></span><span class="op" id="7024114">.</span><span class="ident" id="7024115">RemoveAll</span><span class="op" id="7024124">(</span><span class="op" id="7024125">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7024128">if</span>&nbsp;<span class="ident" id="7024131">g</span><span class="op" id="7024132">,</span>&nbsp;<span class="ident" id="7024134">e</span>&nbsp;<span class="op" id="7024136">:=</span>&nbsp;<span class="ident" id="7024139"><a href="/mime/multipart/formdata_test.go.html#7024033">f</a></span><span class="op" id="7024140">.</span><span class="ident" id="7024141">Value</span><span class="op" id="7024146">[</span><span class="string" id="7024147">&#34;texta&#34;</span><span class="op" id="7024154">]</span><span class="op" id="7024155">[</span><span class="num" id="7024156">0</span><span class="op" id="7024157">]</span><span class="op" id="7024158">,</span>&nbsp;<span class="ident" id="7024160"><a href="/mime/multipart/formdata_test.go.html#7025191">textaValue</a></span><span class="op" id="7024170">;</span>&nbsp;<span class="ident" id="7024172"><a href="/mime/multipart/formdata_test.go.html#7024131">g</a></span>&nbsp;<span class="op" id="7024174">!=</span>&nbsp;<span class="ident" id="7024177"><a href="/mime/multipart/formdata_test.go.html#7024134">e</a></span>&nbsp;<span class="op" id="7024179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024183"><a href="/mime/multipart/formdata_test.go.html#7023881">t</a></span><span class="op" id="7024184">.</span><span class="ident" id="7024185">Errorf</span><span class="op" id="7024191">(</span><span class="string" id="7024192">&#34;texta&nbsp;value&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7024219">,</span>&nbsp;<span class="ident" id="7024221"><a href="/mime/multipart/formdata_test.go.html#7024131">g</a></span><span class="op" id="7024222">,</span>&nbsp;<span class="ident" id="7024224"><a href="/mime/multipart/formdata_test.go.html#7024134">e</a></span><span class="op" id="7024225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7024231">if</span>&nbsp;<span class="ident" id="7024234">g</span><span class="op" id="7024235">,</span>&nbsp;<span class="ident" id="7024237">e</span>&nbsp;<span class="op" id="7024239">:=</span>&nbsp;<span class="ident" id="7024242"><a href="/mime/multipart/formdata_test.go.html#7024033">f</a></span><span class="op" id="7024243">.</span><span class="ident" id="7024244">Value</span><span class="op" id="7024249">[</span><span class="string" id="7024250">&#34;textb&#34;</span><span class="op" id="7024257">]</span><span class="op" id="7024258">[</span><span class="num" id="7024259">0</span><span class="op" id="7024260">]</span><span class="op" id="7024261">,</span>&nbsp;<span class="ident" id="7024263"><a href="/mime/multipart/formdata_test.go.html#7025214">textbValue</a></span><span class="op" id="7024273">;</span>&nbsp;<span class="ident" id="7024275"><a href="/mime/multipart/formdata_test.go.html#7024234">g</a></span>&nbsp;<span class="op" id="7024277">!=</span>&nbsp;<span class="ident" id="7024280"><a href="/mime/multipart/formdata_test.go.html#7024237">e</a></span>&nbsp;<span class="op" id="7024282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024286"><a href="/mime/multipart/formdata_test.go.html#7023881">t</a></span><span class="op" id="7024287">.</span><span class="ident" id="7024288">Errorf</span><span class="op" id="7024294">(</span><span class="string" id="7024295">&#34;texta&nbsp;value&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7024322">,</span>&nbsp;<span class="ident" id="7024324"><a href="/mime/multipart/formdata_test.go.html#7024234">g</a></span><span class="op" id="7024325">,</span>&nbsp;<span class="ident" id="7024327"><a href="/mime/multipart/formdata_test.go.html#7024237">e</a></span><span class="op" id="7024328">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024334">fd</span>&nbsp;<span class="op" id="7024337">:=</span>&nbsp;<span class="ident" id="7024340"><a href="/mime/multipart/formdata_test.go.html#7024673">testFile</a></span><span class="op" id="7024348">(</span><span class="ident" id="7024349"><a href="/mime/multipart/formdata_test.go.html#7023881">t</a></span><span class="op" id="7024350">,</span>&nbsp;<span class="ident" id="7024352"><a href="/mime/multipart/formdata_test.go.html#7024033">f</a></span><span class="op" id="7024353">.</span><span class="ident" id="7024354">File</span><span class="op" id="7024358">[</span><span class="string" id="7024359">&#34;filea&#34;</span><span class="op" id="7024366">]</span><span class="op" id="7024367">[</span><span class="num" id="7024368">0</span><span class="op" id="7024369">]</span><span class="op" id="7024370">,</span>&nbsp;<span class="string" id="7024372">&#34;filea.txt&#34;</span><span class="op" id="7024383">,</span>&nbsp;<span class="ident" id="7024385"><a href="/mime/multipart/formdata_test.go.html#7025113">fileaContents</a></span><span class="op" id="7024398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7024401">if</span>&nbsp;<span class="ident" id="7024404">_</span><span class="op" id="7024405">,</span>&nbsp;<span class="ident" id="7024407">ok</span>&nbsp;<span class="op" id="7024410">:=</span>&nbsp;<span class="ident" id="7024413"><a href="/mime/multipart/formdata_test.go.html#7024334">fd</a></span><span class="op" id="7024415">.</span><span class="op" id="7024416">(</span><span class="op" id="7024417">*</span><span class="ident" id="7024418"><a href="/mime/multipart/formdata_test.go.html#7023823">os</a></span><span class="op" id="7024420">.</span><span class="ident" id="7024421">File</span><span class="op" id="7024425">)</span><span class="op" id="7024426">;</span>&nbsp;<span class="ident" id="7024428"><a href="/mime/multipart/formdata_test.go.html#7024407">ok</a></span>&nbsp;<span class="op" id="7024431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024435"><a href="/mime/multipart/formdata_test.go.html#7023881">t</a></span><span class="op" id="7024436">.</span><span class="ident" id="7024437">Error</span><span class="op" id="7024442">(</span><span class="string" id="7024443">&#34;file&nbsp;is&nbsp;*os.File,&nbsp;should&nbsp;not&nbsp;be&#34;</span><span class="op" id="7024476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024479">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024482"><a href="/mime/multipart/formdata_test.go.html#7024334">fd</a></span><span class="op" id="7024484">.</span><span class="ident" id="7024485">Close</span><span class="op" id="7024490">(</span><span class="op" id="7024491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024494"><a href="/mime/multipart/formdata_test.go.html#7024334">fd</a></span>&nbsp;<span class="op" id="7024497">=</span>&nbsp;<span class="ident" id="7024499"><a href="/mime/multipart/formdata_test.go.html#7024673">testFile</a></span><span class="op" id="7024507">(</span><span class="ident" id="7024508"><a href="/mime/multipart/formdata_test.go.html#7023881">t</a></span><span class="op" id="7024509">,</span>&nbsp;<span class="ident" id="7024511"><a href="/mime/multipart/formdata_test.go.html#7024033">f</a></span><span class="op" id="7024512">.</span><span class="ident" id="7024513">File</span><span class="op" id="7024517">[</span><span class="string" id="7024518">&#34;fileb&#34;</span><span class="op" id="7024525">]</span><span class="op" id="7024526">[</span><span class="num" id="7024527">0</span><span class="op" id="7024528">]</span><span class="op" id="7024529">,</span>&nbsp;<span class="string" id="7024531">&#34;fileb.txt&#34;</span><span class="op" id="7024542">,</span>&nbsp;<span class="ident" id="7024544"><a href="/mime/multipart/formdata_test.go.html#7025153">filebContents</a></span><span class="op" id="7024557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7024560">if</span>&nbsp;<span class="ident" id="7024563">_</span><span class="op" id="7024564">,</span>&nbsp;<span class="ident" id="7024566">ok</span>&nbsp;<span class="op" id="7024569">:=</span>&nbsp;<span class="ident" id="7024572"><a href="/mime/multipart/formdata_test.go.html#7024334">fd</a></span><span class="op" id="7024574">.</span><span class="op" id="7024575">(</span><span class="op" id="7024576">*</span><span class="ident" id="7024577"><a href="/mime/multipart/formdata_test.go.html#7023823">os</a></span><span class="op" id="7024579">.</span><span class="ident" id="7024580">File</span><span class="op" id="7024584">)</span><span class="op" id="7024585">;</span>&nbsp;<span class="op" id="7024587">!</span><span class="ident" id="7024588"><a href="/mime/multipart/formdata_test.go.html#7024566">ok</a></span>&nbsp;<span class="op" id="7024591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024595"><a href="/mime/multipart/formdata_test.go.html#7023881">t</a></span><span class="op" id="7024596">.</span><span class="ident" id="7024597">Errorf</span><span class="op" id="7024603">(</span><span class="string" id="7024604">&#34;file&nbsp;has&nbsp;unexpected&nbsp;underlying&nbsp;type&nbsp;%T&#34;</span><span class="op" id="7024644">,</span>&nbsp;<span class="ident" id="7024646"><a href="/mime/multipart/formdata_test.go.html#7024334">fd</a></span><span class="op" id="7024648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024651">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024654"><a href="/mime/multipart/formdata_test.go.html#7024334">fd</a></span><span class="op" id="7024656">.</span><span class="ident" id="7024657">Close</span><span class="op" id="7024662">(</span><span class="op" id="7024663">)</span><br>
<span class="lineno"></span><span class="op" id="7024665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7024668">func</span>&nbsp;<span class="ident" id="7024673">testFile</span><span class="op" id="7024681">(</span><span class="ident" id="7024682">t</span>&nbsp;<span class="op" id="7024684">*</span><span class="ident" id="7024685"><a href="/mime/multipart/formdata_test.go.html#7023850">testing</a></span><span class="op" id="7024692">.</span><span class="ident" id="7024693">T</span><span class="op" id="7024694">,</span>&nbsp;<span class="ident" id="7024696">fh</span>&nbsp;<span class="op" id="7024699">*</span><span class="ident" id="7024700"><a href="/mime/multipart/formdata.go.html#3965564">FileHeader</a></span><span class="op" id="7024710">,</span>&nbsp;<span class="ident" id="7024712">efn</span><span class="op" id="7024715">,</span>&nbsp;<span class="ident" id="7024717">econtent</span>&nbsp;<span class="builtintype" id="7024726">string</span><span class="op" id="7024732">)</span>&nbsp;<span class="ident" id="7024734"><a href="/mime/multipart/formdata.go.html#3966154">File</a></span>&nbsp;<span class="op" id="7024739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7024742">if</span>&nbsp;<span class="ident" id="7024745"><a href="/mime/multipart/formdata_test.go.html#7024696">fh</a></span><span class="op" id="7024747">.</span><span class="ident" id="7024748">Filename</span>&nbsp;<span class="op" id="7024757">!=</span>&nbsp;<span class="ident" id="7024760"><a href="/mime/multipart/formdata_test.go.html#7024712">efn</a></span>&nbsp;<span class="op" id="7024764">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024768"><a href="/mime/multipart/formdata_test.go.html#7024682">t</a></span><span class="op" id="7024769">.</span><span class="ident" id="7024770">Errorf</span><span class="op" id="7024776">(</span><span class="string" id="7024777">&#34;filename&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7024801">,</span>&nbsp;<span class="ident" id="7024803"><a href="/mime/multipart/formdata_test.go.html#7024696">fh</a></span><span class="op" id="7024805">.</span><span class="ident" id="7024806">Filename</span><span class="op" id="7024814">,</span>&nbsp;<span class="ident" id="7024816"><a href="/mime/multipart/formdata_test.go.html#7024712">efn</a></span><span class="op" id="7024819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024825">f</span><span class="op" id="7024826">,</span>&nbsp;<span class="ident" id="7024828">err</span>&nbsp;<span class="op" id="7024832">:=</span>&nbsp;<span class="ident" id="7024835"><a href="/mime/multipart/formdata_test.go.html#7024696">fh</a></span><span class="op" id="7024837">.</span><span class="ident" id="7024838">Open</span><span class="op" id="7024842">(</span><span class="op" id="7024843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7024846">if</span>&nbsp;<span class="ident" id="7024849"><a href="/mime/multipart/formdata_test.go.html#7024828">err</a></span>&nbsp;<span class="op" id="7024853">!=</span>&nbsp;<span class="ident" id="7024856">nil</span>&nbsp;<span class="op" id="7024860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024864"><a href="/mime/multipart/formdata_test.go.html#7024682">t</a></span><span class="op" id="7024865">.</span><span class="ident" id="7024866">Fatal</span><span class="op" id="7024871">(</span><span class="string" id="7024872">&#34;opening&nbsp;file:&#34;</span><span class="op" id="7024887">,</span>&nbsp;<span class="ident" id="7024889"><a href="/mime/multipart/formdata_test.go.html#7024828">err</a></span><span class="op" id="7024892">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024898">b</span>&nbsp;<span class="op" id="7024900">:=</span>&nbsp;<span class="builtinfunc" id="7024903">new</span><span class="op" id="7024906">(</span><span class="ident" id="7024907"><a href="/mime/multipart/formdata_test.go.html#7023808">bytes</a></span><span class="op" id="7024912">.</span><span class="ident" id="7024913">Buffer</span><span class="op" id="7024919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024922">_</span><span class="op" id="7024923">,</span>&nbsp;<span class="ident" id="7024925"><a href="/mime/multipart/formdata_test.go.html#7024828">err</a></span>&nbsp;<span class="op" id="7024929">=</span>&nbsp;<span class="ident" id="7024931"><a href="/mime/multipart/formdata_test.go.html#7023817">io</a></span><span class="op" id="7024933">.</span><span class="ident" id="7024934">Copy</span><span class="op" id="7024938">(</span><span class="ident" id="7024939"><a href="/mime/multipart/formdata_test.go.html#7024898">b</a></span><span class="op" id="7024940">,</span>&nbsp;<span class="ident" id="7024942"><a href="/mime/multipart/formdata_test.go.html#7024825">f</a></span><span class="op" id="7024943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7024946">if</span>&nbsp;<span class="ident" id="7024949"><a href="/mime/multipart/formdata_test.go.html#7024828">err</a></span>&nbsp;<span class="op" id="7024953">!=</span>&nbsp;<span class="ident" id="7024956">nil</span>&nbsp;<span class="op" id="7024960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024964"><a href="/mime/multipart/formdata_test.go.html#7024682">t</a></span><span class="op" id="7024965">.</span><span class="ident" id="7024966">Fatal</span><span class="op" id="7024971">(</span><span class="string" id="7024972">&#34;copying&nbsp;contents:&#34;</span><span class="op" id="7024991">,</span>&nbsp;<span class="ident" id="7024993"><a href="/mime/multipart/formdata_test.go.html#7024828">err</a></span><span class="op" id="7024996">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7025002">if</span>&nbsp;<span class="ident" id="7025005">g</span>&nbsp;<span class="op" id="7025007">:=</span>&nbsp;<span class="ident" id="7025010"><a href="/mime/multipart/formdata_test.go.html#7024898">b</a></span><span class="op" id="7025011">.</span><span class="ident" id="7025012">String</span><span class="op" id="7025018">(</span><span class="op" id="7025019">)</span><span class="op" id="7025020">;</span>&nbsp;<span class="ident" id="7025022"><a href="/mime/multipart/formdata_test.go.html#7025005">g</a></span>&nbsp;<span class="op" id="7025024">!=</span>&nbsp;<span class="ident" id="7025027"><a href="/mime/multipart/formdata_test.go.html#7024717">econtent</a></span>&nbsp;<span class="op" id="7025036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7025040"><a href="/mime/multipart/formdata_test.go.html#7024682">t</a></span><span class="op" id="7025041">.</span><span class="ident" id="7025042">Errorf</span><span class="op" id="7025048">(</span><span class="string" id="7025049">&#34;contents&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7025073">,</span>&nbsp;<span class="ident" id="7025075"><a href="/mime/multipart/formdata_test.go.html#7025005">g</a></span><span class="op" id="7025076">,</span>&nbsp;<span class="ident" id="7025078"><a href="/mime/multipart/formdata_test.go.html#7024717">econtent</a></span><span class="op" id="7025086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7025092">return</span>&nbsp;<span class="ident" id="7025099"><a href="/mime/multipart/formdata_test.go.html#7024825">f</a></span><br>
<span class="lineno">60</span><span class="op" id="7025101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7025104">const</span>&nbsp;<span class="op" id="7025110">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7025113">fileaContents</span>&nbsp;<span class="op" id="7025127">=</span>&nbsp;<span class="string" id="7025129">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;file.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7025153">filebContents</span>&nbsp;<span class="op" id="7025167">=</span>&nbsp;<span class="string" id="7025169">&#34;Another&nbsp;test&nbsp;file.&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7025191">textaValue</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7025205">=</span>&nbsp;<span class="string" id="7025207">&#34;foo&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7025214">textbValue</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7025228">=</span>&nbsp;<span class="string" id="7025230">&#34;bar&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7025237">boundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7025251">=</span>&nbsp;<span class="string" id="7025253">`MyBoundary`</span><br>
<span class="lineno"></span><span class="op" id="7025266">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7025269">const</span>&nbsp;<span class="ident" id="7025275">message</span>&nbsp;<span class="op" id="7025283">=</span>&nbsp;<span class="string" id="7025285">`<br>
<span class="lineno"></span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;filea&#34;;&nbsp;filename=&#34;filea.txt&#34;<br>
<span class="lineno"></span>Content-Type:&nbsp;text/plain<br>
<span class="lineno"></span><br>
<span class="lineno">75</span>`</span>&nbsp;<span class="op" id="7025395">+</span>&nbsp;<span class="ident" id="7025397"><a href="/mime/multipart/formdata_test.go.html#7025113">fileaContents</a></span>&nbsp;<span class="op" id="7025411">+</span>&nbsp;<span class="string" id="7025413">`<br>
<span class="lineno"></span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;fileb&#34;;&nbsp;filename=&#34;fileb.txt&#34;<br>
<span class="lineno"></span>Content-Type:&nbsp;text/plain<br>
<span class="lineno"></span><br>
<span class="lineno">80</span>`</span>&nbsp;<span class="op" id="7025523">+</span>&nbsp;<span class="ident" id="7025525"><a href="/mime/multipart/formdata_test.go.html#7025153">filebContents</a></span>&nbsp;<span class="op" id="7025539">+</span>&nbsp;<span class="string" id="7025541">`<br>
<span class="lineno"></span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;texta&#34;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span>&nbsp;<span class="op" id="7025604">+</span>&nbsp;<span class="ident" id="7025606"><a href="/mime/multipart/formdata_test.go.html#7025191">textaValue</a></span>&nbsp;<span class="op" id="7025617">+</span>&nbsp;<span class="string" id="7025619">`<br>
<span class="lineno">85</span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;textb&#34;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span>&nbsp;<span class="op" id="7025682">+</span>&nbsp;<span class="ident" id="7025684"><a href="/mime/multipart/formdata_test.go.html#7025214">textbValue</a></span>&nbsp;<span class="op" id="7025695">+</span>&nbsp;<span class="string" id="7025697">`<br>
<span class="lineno"></span>--MyBoundary--<br>
<span class="lineno">90</span>`</span>
</div>
</body>
</html>
