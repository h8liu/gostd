<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7261122">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7261177">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7261231">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7261282">package</span>&nbsp;<span class="ident" id="7261290">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7261299">import</span>&nbsp;<span class="op" id="7261306">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7261309">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7261321">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7261334">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7261340">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7261357">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7261368">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7261378">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7261381">var</span>&nbsp;<span class="ident" id="7261385">fset</span>&nbsp;<span class="op" id="7261390">=</span>&nbsp;<span class="ident" id="7261392">token</span><span class="op" id="7261397">.</span><span class="ident" id="7261398">NewFileSet</span><span class="op" id="7261408">(</span><span class="op" id="7261409">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7261412">const</span>&nbsp;<span class="comment" id="7261418">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="7261430">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261433">special</span>&nbsp;<span class="op" id="7261441">=</span>&nbsp;<span class="ident" id="7261443">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261449">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261458">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261468">keyword</span><br>
<span class="lineno"></span><span class="op" id="7261476">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7261479">func</span>&nbsp;<span class="ident" id="7261484">tokenclass</span><span class="op" id="7261494">(</span><span class="ident" id="7261495">tok</span>&nbsp;<span class="ident" id="7261499">token</span><span class="op" id="7261504">.</span><span class="ident" id="7261505">Token</span><span class="op" id="7261510">)</span>&nbsp;<span class="builtintype" id="7261512">int</span>&nbsp;<span class="op" id="7261516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7261519">switch</span>&nbsp;<span class="op" id="7261526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7261529">case</span>&nbsp;<span class="ident" id="7261534">tok</span><span class="op" id="7261537">.</span><span class="ident" id="7261538">IsLiteral</span><span class="op" id="7261547">(</span><span class="op" id="7261548">)</span><span class="op" id="7261549">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7261553">return</span>&nbsp;<span class="ident" id="7261560">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7261569">case</span>&nbsp;<span class="ident" id="7261574">tok</span><span class="op" id="7261577">.</span><span class="ident" id="7261578">IsOperator</span><span class="op" id="7261588">(</span><span class="op" id="7261589">)</span><span class="op" id="7261590">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7261594">return</span>&nbsp;<span class="ident" id="7261601">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7261611">case</span>&nbsp;<span class="ident" id="7261616">tok</span><span class="op" id="7261619">.</span><span class="ident" id="7261620">IsKeyword</span><span class="op" id="7261629">(</span><span class="op" id="7261630">)</span><span class="op" id="7261631">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7261635">return</span>&nbsp;<span class="ident" id="7261642">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7261651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7261654">return</span>&nbsp;<span class="ident" id="7261661">special</span><br>
<span class="lineno">35</span><span class="op" id="7261669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7261672">type</span>&nbsp;<span class="ident" id="7261677">elt</span>&nbsp;<span class="keyword" id="7261681">struct</span>&nbsp;<span class="op" id="7261688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261691">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7261697">token</span><span class="op" id="7261702">.</span><span class="ident" id="7261703">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261710">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7261716">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261724">class</span>&nbsp;<span class="builtintype" id="7261730">int</span><br>
<span class="lineno"></span><span class="op" id="7261734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7261737">var</span>&nbsp;<span class="ident" id="7261741">tokens</span>&nbsp;<span class="op" id="7261748">=</span>&nbsp;<span class="op" id="7261750">[</span><span class="op" id="7261751">...</span><span class="op" id="7261754">]</span><span class="ident" id="7261755">elt</span><span class="op" id="7261758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7261761">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7261780">{</span><span class="ident" id="7261781">token</span><span class="op" id="7261786">.</span><span class="ident" id="7261787">COMMENT</span><span class="op" id="7261794">,</span>&nbsp;<span class="string" id="7261796">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7261813">,</span>&nbsp;<span class="ident" id="7261815">special</span><span class="op" id="7261822">}</span><span class="op" id="7261823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7261826">{</span><span class="ident" id="7261827">token</span><span class="op" id="7261832">.</span><span class="ident" id="7261833">COMMENT</span><span class="op" id="7261840">,</span>&nbsp;<span class="string" id="7261842">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="7261859">,</span>&nbsp;<span class="ident" id="7261861">special</span><span class="op" id="7261868">}</span><span class="op" id="7261869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7261872">{</span><span class="ident" id="7261873">token</span><span class="op" id="7261878">.</span><span class="ident" id="7261879">COMMENT</span><span class="op" id="7261886">,</span>&nbsp;<span class="string" id="7261888">&#34;/*\r*/&#34;</span><span class="op" id="7261896">,</span>&nbsp;<span class="ident" id="7261898">special</span><span class="op" id="7261905">}</span><span class="op" id="7261906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7261909">{</span><span class="ident" id="7261910">token</span><span class="op" id="7261915">.</span><span class="ident" id="7261916">COMMENT</span><span class="op" id="7261923">,</span>&nbsp;<span class="string" id="7261925">&#34;//\r\n&#34;</span><span class="op" id="7261933">,</span>&nbsp;<span class="ident" id="7261935">special</span><span class="op" id="7261942">}</span><span class="op" id="7261943">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7261947">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7261987">{</span><span class="ident" id="7261988">token</span><span class="op" id="7261993">.</span><span class="ident" id="7261994">IDENT</span><span class="op" id="7261999">,</span>&nbsp;<span class="string" id="7262001">&#34;foobar&#34;</span><span class="op" id="7262009">,</span>&nbsp;<span class="ident" id="7262011">literal</span><span class="op" id="7262018">}</span><span class="op" id="7262019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262022">{</span><span class="ident" id="7262023">token</span><span class="op" id="7262028">.</span><span class="ident" id="7262029">IDENT</span><span class="op" id="7262034">,</span>&nbsp;<span class="string" id="7262036">&#34;a۰۱۸&#34;</span><span class="op" id="7262045">,</span>&nbsp;<span class="ident" id="7262047">literal</span><span class="op" id="7262054">}</span><span class="op" id="7262055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262058">{</span><span class="ident" id="7262059">token</span><span class="op" id="7262064">.</span><span class="ident" id="7262065">IDENT</span><span class="op" id="7262070">,</span>&nbsp;<span class="string" id="7262072">&#34;foo६४&#34;</span><span class="op" id="7262083">,</span>&nbsp;<span class="ident" id="7262085">literal</span><span class="op" id="7262092">}</span><span class="op" id="7262093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262096">{</span><span class="ident" id="7262097">token</span><span class="op" id="7262102">.</span><span class="ident" id="7262103">IDENT</span><span class="op" id="7262108">,</span>&nbsp;<span class="string" id="7262110">&#34;bar９８７６&#34;</span><span class="op" id="7262127">,</span>&nbsp;<span class="ident" id="7262129">literal</span><span class="op" id="7262136">}</span><span class="op" id="7262137">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262140">{</span><span class="ident" id="7262141">token</span><span class="op" id="7262146">.</span><span class="ident" id="7262147">IDENT</span><span class="op" id="7262152">,</span>&nbsp;<span class="string" id="7262154">&#34;ŝ&#34;</span><span class="op" id="7262158">,</span>&nbsp;<span class="ident" id="7262160">literal</span><span class="op" id="7262167">}</span><span class="op" id="7262168">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7262173">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262198">{</span><span class="ident" id="7262199">token</span><span class="op" id="7262204">.</span><span class="ident" id="7262205">IDENT</span><span class="op" id="7262210">,</span>&nbsp;<span class="string" id="7262212">&#34;ŝfoo&#34;</span><span class="op" id="7262219">,</span>&nbsp;<span class="ident" id="7262221">literal</span><span class="op" id="7262228">}</span><span class="op" id="7262229">,</span>&nbsp;<span class="comment" id="7262231">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262256">{</span><span class="ident" id="7262257">token</span><span class="op" id="7262262">.</span><span class="ident" id="7262263">INT</span><span class="op" id="7262266">,</span>&nbsp;<span class="string" id="7262268">&#34;0&#34;</span><span class="op" id="7262271">,</span>&nbsp;<span class="ident" id="7262273">literal</span><span class="op" id="7262280">}</span><span class="op" id="7262281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262284">{</span><span class="ident" id="7262285">token</span><span class="op" id="7262290">.</span><span class="ident" id="7262291">INT</span><span class="op" id="7262294">,</span>&nbsp;<span class="string" id="7262296">&#34;1&#34;</span><span class="op" id="7262299">,</span>&nbsp;<span class="ident" id="7262301">literal</span><span class="op" id="7262308">}</span><span class="op" id="7262309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262312">{</span><span class="ident" id="7262313">token</span><span class="op" id="7262318">.</span><span class="ident" id="7262319">INT</span><span class="op" id="7262322">,</span>&nbsp;<span class="string" id="7262324">&#34;123456789012345678890&#34;</span><span class="op" id="7262347">,</span>&nbsp;<span class="ident" id="7262349">literal</span><span class="op" id="7262356">}</span><span class="op" id="7262357">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262360">{</span><span class="ident" id="7262361">token</span><span class="op" id="7262366">.</span><span class="ident" id="7262367">INT</span><span class="op" id="7262370">,</span>&nbsp;<span class="string" id="7262372">&#34;01234567&#34;</span><span class="op" id="7262382">,</span>&nbsp;<span class="ident" id="7262384">literal</span><span class="op" id="7262391">}</span><span class="op" id="7262392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262395">{</span><span class="ident" id="7262396">token</span><span class="op" id="7262401">.</span><span class="ident" id="7262402">INT</span><span class="op" id="7262405">,</span>&nbsp;<span class="string" id="7262407">&#34;0xcafebabe&#34;</span><span class="op" id="7262419">,</span>&nbsp;<span class="ident" id="7262421">literal</span><span class="op" id="7262428">}</span><span class="op" id="7262429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262432">{</span><span class="ident" id="7262433">token</span><span class="op" id="7262438">.</span><span class="ident" id="7262439">FLOAT</span><span class="op" id="7262444">,</span>&nbsp;<span class="string" id="7262446">&#34;0.&#34;</span><span class="op" id="7262450">,</span>&nbsp;<span class="ident" id="7262452">literal</span><span class="op" id="7262459">}</span><span class="op" id="7262460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262463">{</span><span class="ident" id="7262464">token</span><span class="op" id="7262469">.</span><span class="ident" id="7262470">FLOAT</span><span class="op" id="7262475">,</span>&nbsp;<span class="string" id="7262477">&#34;.0&#34;</span><span class="op" id="7262481">,</span>&nbsp;<span class="ident" id="7262483">literal</span><span class="op" id="7262490">}</span><span class="op" id="7262491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262494">{</span><span class="ident" id="7262495">token</span><span class="op" id="7262500">.</span><span class="ident" id="7262501">FLOAT</span><span class="op" id="7262506">,</span>&nbsp;<span class="string" id="7262508">&#34;3.14159265&#34;</span><span class="op" id="7262520">,</span>&nbsp;<span class="ident" id="7262522">literal</span><span class="op" id="7262529">}</span><span class="op" id="7262530">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262533">{</span><span class="ident" id="7262534">token</span><span class="op" id="7262539">.</span><span class="ident" id="7262540">FLOAT</span><span class="op" id="7262545">,</span>&nbsp;<span class="string" id="7262547">&#34;1e0&#34;</span><span class="op" id="7262552">,</span>&nbsp;<span class="ident" id="7262554">literal</span><span class="op" id="7262561">}</span><span class="op" id="7262562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262565">{</span><span class="ident" id="7262566">token</span><span class="op" id="7262571">.</span><span class="ident" id="7262572">FLOAT</span><span class="op" id="7262577">,</span>&nbsp;<span class="string" id="7262579">&#34;1e+100&#34;</span><span class="op" id="7262587">,</span>&nbsp;<span class="ident" id="7262589">literal</span><span class="op" id="7262596">}</span><span class="op" id="7262597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262600">{</span><span class="ident" id="7262601">token</span><span class="op" id="7262606">.</span><span class="ident" id="7262607">FLOAT</span><span class="op" id="7262612">,</span>&nbsp;<span class="string" id="7262614">&#34;1e-100&#34;</span><span class="op" id="7262622">,</span>&nbsp;<span class="ident" id="7262624">literal</span><span class="op" id="7262631">}</span><span class="op" id="7262632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262635">{</span><span class="ident" id="7262636">token</span><span class="op" id="7262641">.</span><span class="ident" id="7262642">FLOAT</span><span class="op" id="7262647">,</span>&nbsp;<span class="string" id="7262649">&#34;2.71828e-1000&#34;</span><span class="op" id="7262664">,</span>&nbsp;<span class="ident" id="7262666">literal</span><span class="op" id="7262673">}</span><span class="op" id="7262674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262677">{</span><span class="ident" id="7262678">token</span><span class="op" id="7262683">.</span><span class="ident" id="7262684">IMAG</span><span class="op" id="7262688">,</span>&nbsp;<span class="string" id="7262690">&#34;0i&#34;</span><span class="op" id="7262694">,</span>&nbsp;<span class="ident" id="7262696">literal</span><span class="op" id="7262703">}</span><span class="op" id="7262704">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262707">{</span><span class="ident" id="7262708">token</span><span class="op" id="7262713">.</span><span class="ident" id="7262714">IMAG</span><span class="op" id="7262718">,</span>&nbsp;<span class="string" id="7262720">&#34;1i&#34;</span><span class="op" id="7262724">,</span>&nbsp;<span class="ident" id="7262726">literal</span><span class="op" id="7262733">}</span><span class="op" id="7262734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262737">{</span><span class="ident" id="7262738">token</span><span class="op" id="7262743">.</span><span class="ident" id="7262744">IMAG</span><span class="op" id="7262748">,</span>&nbsp;<span class="string" id="7262750">&#34;012345678901234567889i&#34;</span><span class="op" id="7262774">,</span>&nbsp;<span class="ident" id="7262776">literal</span><span class="op" id="7262783">}</span><span class="op" id="7262784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262787">{</span><span class="ident" id="7262788">token</span><span class="op" id="7262793">.</span><span class="ident" id="7262794">IMAG</span><span class="op" id="7262798">,</span>&nbsp;<span class="string" id="7262800">&#34;123456789012345678890i&#34;</span><span class="op" id="7262824">,</span>&nbsp;<span class="ident" id="7262826">literal</span><span class="op" id="7262833">}</span><span class="op" id="7262834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262837">{</span><span class="ident" id="7262838">token</span><span class="op" id="7262843">.</span><span class="ident" id="7262844">IMAG</span><span class="op" id="7262848">,</span>&nbsp;<span class="string" id="7262850">&#34;0.i&#34;</span><span class="op" id="7262855">,</span>&nbsp;<span class="ident" id="7262857">literal</span><span class="op" id="7262864">}</span><span class="op" id="7262865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262868">{</span><span class="ident" id="7262869">token</span><span class="op" id="7262874">.</span><span class="ident" id="7262875">IMAG</span><span class="op" id="7262879">,</span>&nbsp;<span class="string" id="7262881">&#34;.0i&#34;</span><span class="op" id="7262886">,</span>&nbsp;<span class="ident" id="7262888">literal</span><span class="op" id="7262895">}</span><span class="op" id="7262896">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262899">{</span><span class="ident" id="7262900">token</span><span class="op" id="7262905">.</span><span class="ident" id="7262906">IMAG</span><span class="op" id="7262910">,</span>&nbsp;<span class="string" id="7262912">&#34;3.14159265i&#34;</span><span class="op" id="7262925">,</span>&nbsp;<span class="ident" id="7262927">literal</span><span class="op" id="7262934">}</span><span class="op" id="7262935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262938">{</span><span class="ident" id="7262939">token</span><span class="op" id="7262944">.</span><span class="ident" id="7262945">IMAG</span><span class="op" id="7262949">,</span>&nbsp;<span class="string" id="7262951">&#34;1e0i&#34;</span><span class="op" id="7262957">,</span>&nbsp;<span class="ident" id="7262959">literal</span><span class="op" id="7262966">}</span><span class="op" id="7262967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7262970">{</span><span class="ident" id="7262971">token</span><span class="op" id="7262976">.</span><span class="ident" id="7262977">IMAG</span><span class="op" id="7262981">,</span>&nbsp;<span class="string" id="7262983">&#34;1e+100i&#34;</span><span class="op" id="7262992">,</span>&nbsp;<span class="ident" id="7262994">literal</span><span class="op" id="7263001">}</span><span class="op" id="7263002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263005">{</span><span class="ident" id="7263006">token</span><span class="op" id="7263011">.</span><span class="ident" id="7263012">IMAG</span><span class="op" id="7263016">,</span>&nbsp;<span class="string" id="7263018">&#34;1e-100i&#34;</span><span class="op" id="7263027">,</span>&nbsp;<span class="ident" id="7263029">literal</span><span class="op" id="7263036">}</span><span class="op" id="7263037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263040">{</span><span class="ident" id="7263041">token</span><span class="op" id="7263046">.</span><span class="ident" id="7263047">IMAG</span><span class="op" id="7263051">,</span>&nbsp;<span class="string" id="7263053">&#34;2.71828e-1000i&#34;</span><span class="op" id="7263069">,</span>&nbsp;<span class="ident" id="7263071">literal</span><span class="op" id="7263078">}</span><span class="op" id="7263079">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263082">{</span><span class="ident" id="7263083">token</span><span class="op" id="7263088">.</span><span class="ident" id="7263089">CHAR</span><span class="op" id="7263093">,</span>&nbsp;<span class="string" id="7263095">&#34;&#39;a&#39;&#34;</span><span class="op" id="7263100">,</span>&nbsp;<span class="ident" id="7263102">literal</span><span class="op" id="7263109">}</span><span class="op" id="7263110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263113">{</span><span class="ident" id="7263114">token</span><span class="op" id="7263119">.</span><span class="ident" id="7263120">CHAR</span><span class="op" id="7263124">,</span>&nbsp;<span class="string" id="7263126">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="7263135">,</span>&nbsp;<span class="ident" id="7263137">literal</span><span class="op" id="7263144">}</span><span class="op" id="7263145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263148">{</span><span class="ident" id="7263149">token</span><span class="op" id="7263154">.</span><span class="ident" id="7263155">CHAR</span><span class="op" id="7263159">,</span>&nbsp;<span class="string" id="7263161">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="7263170">,</span>&nbsp;<span class="ident" id="7263172">literal</span><span class="op" id="7263179">}</span><span class="op" id="7263180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263183">{</span><span class="ident" id="7263184">token</span><span class="op" id="7263189">.</span><span class="ident" id="7263190">CHAR</span><span class="op" id="7263194">,</span>&nbsp;<span class="string" id="7263196">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="7263207">,</span>&nbsp;<span class="ident" id="7263209">literal</span><span class="op" id="7263216">}</span><span class="op" id="7263217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263220">{</span><span class="ident" id="7263221">token</span><span class="op" id="7263226">.</span><span class="ident" id="7263227">CHAR</span><span class="op" id="7263231">,</span>&nbsp;<span class="string" id="7263233">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="7263248">,</span>&nbsp;<span class="ident" id="7263250">literal</span><span class="op" id="7263257">}</span><span class="op" id="7263258">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263261">{</span><span class="ident" id="7263262">token</span><span class="op" id="7263267">.</span><span class="ident" id="7263268">STRING</span><span class="op" id="7263274">,</span>&nbsp;<span class="string" id="7263276">&#34;`foobar`&#34;</span><span class="op" id="7263286">,</span>&nbsp;<span class="ident" id="7263288">literal</span><span class="op" id="7263295">}</span><span class="op" id="7263296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263299">{</span><span class="ident" id="7263300">token</span><span class="op" id="7263305">.</span><span class="ident" id="7263306">STRING</span><span class="op" id="7263312">,</span>&nbsp;<span class="string" id="7263314">&#34;`&#34;</span>&nbsp;<span class="op" id="7263318">+</span>&nbsp;<span class="string" id="7263320">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="7263355">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7263359">&#34;`&#34;</span><span class="op" id="7263362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7263366">literal</span><span class="op" id="7263373">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263376">}</span><span class="op" id="7263377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263380">{</span><span class="ident" id="7263381">token</span><span class="op" id="7263386">.</span><span class="ident" id="7263387">STRING</span><span class="op" id="7263393">,</span>&nbsp;<span class="string" id="7263395">&#34;`\r`&#34;</span><span class="op" id="7263401">,</span>&nbsp;<span class="ident" id="7263403">literal</span><span class="op" id="7263410">}</span><span class="op" id="7263411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263414">{</span><span class="ident" id="7263415">token</span><span class="op" id="7263420">.</span><span class="ident" id="7263421">STRING</span><span class="op" id="7263427">,</span>&nbsp;<span class="string" id="7263429">&#34;`foo\r\nbar`&#34;</span><span class="op" id="7263443">,</span>&nbsp;<span class="ident" id="7263445">literal</span><span class="op" id="7263452">}</span><span class="op" id="7263453">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7263457">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263486">{</span><span class="ident" id="7263487">token</span><span class="op" id="7263492">.</span><span class="ident" id="7263493">ADD</span><span class="op" id="7263496">,</span>&nbsp;<span class="string" id="7263498">&#34;+&#34;</span><span class="op" id="7263501">,</span>&nbsp;<span class="ident" id="7263503">operator</span><span class="op" id="7263511">}</span><span class="op" id="7263512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263515">{</span><span class="ident" id="7263516">token</span><span class="op" id="7263521">.</span><span class="ident" id="7263522">SUB</span><span class="op" id="7263525">,</span>&nbsp;<span class="string" id="7263527">&#34;-&#34;</span><span class="op" id="7263530">,</span>&nbsp;<span class="ident" id="7263532">operator</span><span class="op" id="7263540">}</span><span class="op" id="7263541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263544">{</span><span class="ident" id="7263545">token</span><span class="op" id="7263550">.</span><span class="ident" id="7263551">MUL</span><span class="op" id="7263554">,</span>&nbsp;<span class="string" id="7263556">&#34;*&#34;</span><span class="op" id="7263559">,</span>&nbsp;<span class="ident" id="7263561">operator</span><span class="op" id="7263569">}</span><span class="op" id="7263570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263573">{</span><span class="ident" id="7263574">token</span><span class="op" id="7263579">.</span><span class="ident" id="7263580">QUO</span><span class="op" id="7263583">,</span>&nbsp;<span class="string" id="7263585">&#34;/&#34;</span><span class="op" id="7263588">,</span>&nbsp;<span class="ident" id="7263590">operator</span><span class="op" id="7263598">}</span><span class="op" id="7263599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263602">{</span><span class="ident" id="7263603">token</span><span class="op" id="7263608">.</span><span class="ident" id="7263609">REM</span><span class="op" id="7263612">,</span>&nbsp;<span class="string" id="7263614">&#34;%&#34;</span><span class="op" id="7263617">,</span>&nbsp;<span class="ident" id="7263619">operator</span><span class="op" id="7263627">}</span><span class="op" id="7263628">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263632">{</span><span class="ident" id="7263633">token</span><span class="op" id="7263638">.</span><span class="ident" id="7263639">AND</span><span class="op" id="7263642">,</span>&nbsp;<span class="string" id="7263644">&#34;&amp;&#34;</span><span class="op" id="7263647">,</span>&nbsp;<span class="ident" id="7263649">operator</span><span class="op" id="7263657">}</span><span class="op" id="7263658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263661">{</span><span class="ident" id="7263662">token</span><span class="op" id="7263667">.</span><span class="ident" id="7263668">OR</span><span class="op" id="7263670">,</span>&nbsp;<span class="string" id="7263672">&#34;|&#34;</span><span class="op" id="7263675">,</span>&nbsp;<span class="ident" id="7263677">operator</span><span class="op" id="7263685">}</span><span class="op" id="7263686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263689">{</span><span class="ident" id="7263690">token</span><span class="op" id="7263695">.</span><span class="ident" id="7263696">XOR</span><span class="op" id="7263699">,</span>&nbsp;<span class="string" id="7263701">&#34;^&#34;</span><span class="op" id="7263704">,</span>&nbsp;<span class="ident" id="7263706">operator</span><span class="op" id="7263714">}</span><span class="op" id="7263715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263718">{</span><span class="ident" id="7263719">token</span><span class="op" id="7263724">.</span><span class="ident" id="7263725">SHL</span><span class="op" id="7263728">,</span>&nbsp;<span class="string" id="7263730">&#34;&lt;&lt;&#34;</span><span class="op" id="7263734">,</span>&nbsp;<span class="ident" id="7263736">operator</span><span class="op" id="7263744">}</span><span class="op" id="7263745">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263748">{</span><span class="ident" id="7263749">token</span><span class="op" id="7263754">.</span><span class="ident" id="7263755">SHR</span><span class="op" id="7263758">,</span>&nbsp;<span class="string" id="7263760">&#34;&gt;&gt;&#34;</span><span class="op" id="7263764">,</span>&nbsp;<span class="ident" id="7263766">operator</span><span class="op" id="7263774">}</span><span class="op" id="7263775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263778">{</span><span class="ident" id="7263779">token</span><span class="op" id="7263784">.</span><span class="ident" id="7263785">AND_NOT</span><span class="op" id="7263792">,</span>&nbsp;<span class="string" id="7263794">&#34;&amp;^&#34;</span><span class="op" id="7263798">,</span>&nbsp;<span class="ident" id="7263800">operator</span><span class="op" id="7263808">}</span><span class="op" id="7263809">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263813">{</span><span class="ident" id="7263814">token</span><span class="op" id="7263819">.</span><span class="ident" id="7263820">ADD_ASSIGN</span><span class="op" id="7263830">,</span>&nbsp;<span class="string" id="7263832">&#34;+=&#34;</span><span class="op" id="7263836">,</span>&nbsp;<span class="ident" id="7263838">operator</span><span class="op" id="7263846">}</span><span class="op" id="7263847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263850">{</span><span class="ident" id="7263851">token</span><span class="op" id="7263856">.</span><span class="ident" id="7263857">SUB_ASSIGN</span><span class="op" id="7263867">,</span>&nbsp;<span class="string" id="7263869">&#34;-=&#34;</span><span class="op" id="7263873">,</span>&nbsp;<span class="ident" id="7263875">operator</span><span class="op" id="7263883">}</span><span class="op" id="7263884">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263887">{</span><span class="ident" id="7263888">token</span><span class="op" id="7263893">.</span><span class="ident" id="7263894">MUL_ASSIGN</span><span class="op" id="7263904">,</span>&nbsp;<span class="string" id="7263906">&#34;*=&#34;</span><span class="op" id="7263910">,</span>&nbsp;<span class="ident" id="7263912">operator</span><span class="op" id="7263920">}</span><span class="op" id="7263921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263924">{</span><span class="ident" id="7263925">token</span><span class="op" id="7263930">.</span><span class="ident" id="7263931">QUO_ASSIGN</span><span class="op" id="7263941">,</span>&nbsp;<span class="string" id="7263943">&#34;/=&#34;</span><span class="op" id="7263947">,</span>&nbsp;<span class="ident" id="7263949">operator</span><span class="op" id="7263957">}</span><span class="op" id="7263958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263961">{</span><span class="ident" id="7263962">token</span><span class="op" id="7263967">.</span><span class="ident" id="7263968">REM_ASSIGN</span><span class="op" id="7263978">,</span>&nbsp;<span class="string" id="7263980">&#34;%=&#34;</span><span class="op" id="7263984">,</span>&nbsp;<span class="ident" id="7263986">operator</span><span class="op" id="7263994">}</span><span class="op" id="7263995">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7263999">{</span><span class="ident" id="7264000">token</span><span class="op" id="7264005">.</span><span class="ident" id="7264006">AND_ASSIGN</span><span class="op" id="7264016">,</span>&nbsp;<span class="string" id="7264018">&#34;&amp;=&#34;</span><span class="op" id="7264022">,</span>&nbsp;<span class="ident" id="7264024">operator</span><span class="op" id="7264032">}</span><span class="op" id="7264033">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264036">{</span><span class="ident" id="7264037">token</span><span class="op" id="7264042">.</span><span class="ident" id="7264043">OR_ASSIGN</span><span class="op" id="7264052">,</span>&nbsp;<span class="string" id="7264054">&#34;|=&#34;</span><span class="op" id="7264058">,</span>&nbsp;<span class="ident" id="7264060">operator</span><span class="op" id="7264068">}</span><span class="op" id="7264069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264072">{</span><span class="ident" id="7264073">token</span><span class="op" id="7264078">.</span><span class="ident" id="7264079">XOR_ASSIGN</span><span class="op" id="7264089">,</span>&nbsp;<span class="string" id="7264091">&#34;^=&#34;</span><span class="op" id="7264095">,</span>&nbsp;<span class="ident" id="7264097">operator</span><span class="op" id="7264105">}</span><span class="op" id="7264106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264109">{</span><span class="ident" id="7264110">token</span><span class="op" id="7264115">.</span><span class="ident" id="7264116">SHL_ASSIGN</span><span class="op" id="7264126">,</span>&nbsp;<span class="string" id="7264128">&#34;&lt;&lt;=&#34;</span><span class="op" id="7264133">,</span>&nbsp;<span class="ident" id="7264135">operator</span><span class="op" id="7264143">}</span><span class="op" id="7264144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264147">{</span><span class="ident" id="7264148">token</span><span class="op" id="7264153">.</span><span class="ident" id="7264154">SHR_ASSIGN</span><span class="op" id="7264164">,</span>&nbsp;<span class="string" id="7264166">&#34;&gt;&gt;=&#34;</span><span class="op" id="7264171">,</span>&nbsp;<span class="ident" id="7264173">operator</span><span class="op" id="7264181">}</span><span class="op" id="7264182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264185">{</span><span class="ident" id="7264186">token</span><span class="op" id="7264191">.</span><span class="ident" id="7264192">AND_NOT_ASSIGN</span><span class="op" id="7264206">,</span>&nbsp;<span class="string" id="7264208">&#34;&amp;^=&#34;</span><span class="op" id="7264213">,</span>&nbsp;<span class="ident" id="7264215">operator</span><span class="op" id="7264223">}</span><span class="op" id="7264224">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264228">{</span><span class="ident" id="7264229">token</span><span class="op" id="7264234">.</span><span class="ident" id="7264235">LAND</span><span class="op" id="7264239">,</span>&nbsp;<span class="string" id="7264241">&#34;&amp;&amp;&#34;</span><span class="op" id="7264245">,</span>&nbsp;<span class="ident" id="7264247">operator</span><span class="op" id="7264255">}</span><span class="op" id="7264256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264259">{</span><span class="ident" id="7264260">token</span><span class="op" id="7264265">.</span><span class="ident" id="7264266">LOR</span><span class="op" id="7264269">,</span>&nbsp;<span class="string" id="7264271">&#34;||&#34;</span><span class="op" id="7264275">,</span>&nbsp;<span class="ident" id="7264277">operator</span><span class="op" id="7264285">}</span><span class="op" id="7264286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264289">{</span><span class="ident" id="7264290">token</span><span class="op" id="7264295">.</span><span class="ident" id="7264296">ARROW</span><span class="op" id="7264301">,</span>&nbsp;<span class="string" id="7264303">&#34;&lt;-&#34;</span><span class="op" id="7264307">,</span>&nbsp;<span class="ident" id="7264309">operator</span><span class="op" id="7264317">}</span><span class="op" id="7264318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264321">{</span><span class="ident" id="7264322">token</span><span class="op" id="7264327">.</span><span class="ident" id="7264328">INC</span><span class="op" id="7264331">,</span>&nbsp;<span class="string" id="7264333">&#34;++&#34;</span><span class="op" id="7264337">,</span>&nbsp;<span class="ident" id="7264339">operator</span><span class="op" id="7264347">}</span><span class="op" id="7264348">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264351">{</span><span class="ident" id="7264352">token</span><span class="op" id="7264357">.</span><span class="ident" id="7264358">DEC</span><span class="op" id="7264361">,</span>&nbsp;<span class="string" id="7264363">&#34;--&#34;</span><span class="op" id="7264367">,</span>&nbsp;<span class="ident" id="7264369">operator</span><span class="op" id="7264377">}</span><span class="op" id="7264378">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264382">{</span><span class="ident" id="7264383">token</span><span class="op" id="7264388">.</span><span class="ident" id="7264389">EQL</span><span class="op" id="7264392">,</span>&nbsp;<span class="string" id="7264394">&#34;==&#34;</span><span class="op" id="7264398">,</span>&nbsp;<span class="ident" id="7264400">operator</span><span class="op" id="7264408">}</span><span class="op" id="7264409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264412">{</span><span class="ident" id="7264413">token</span><span class="op" id="7264418">.</span><span class="ident" id="7264419">LSS</span><span class="op" id="7264422">,</span>&nbsp;<span class="string" id="7264424">&#34;&lt;&#34;</span><span class="op" id="7264427">,</span>&nbsp;<span class="ident" id="7264429">operator</span><span class="op" id="7264437">}</span><span class="op" id="7264438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264441">{</span><span class="ident" id="7264442">token</span><span class="op" id="7264447">.</span><span class="ident" id="7264448">GTR</span><span class="op" id="7264451">,</span>&nbsp;<span class="string" id="7264453">&#34;&gt;&#34;</span><span class="op" id="7264456">,</span>&nbsp;<span class="ident" id="7264458">operator</span><span class="op" id="7264466">}</span><span class="op" id="7264467">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264470">{</span><span class="ident" id="7264471">token</span><span class="op" id="7264476">.</span><span class="ident" id="7264477">ASSIGN</span><span class="op" id="7264483">,</span>&nbsp;<span class="string" id="7264485">&#34;=&#34;</span><span class="op" id="7264488">,</span>&nbsp;<span class="ident" id="7264490">operator</span><span class="op" id="7264498">}</span><span class="op" id="7264499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264502">{</span><span class="ident" id="7264503">token</span><span class="op" id="7264508">.</span><span class="ident" id="7264509">NOT</span><span class="op" id="7264512">,</span>&nbsp;<span class="string" id="7264514">&#34;!&#34;</span><span class="op" id="7264517">,</span>&nbsp;<span class="ident" id="7264519">operator</span><span class="op" id="7264527">}</span><span class="op" id="7264528">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264532">{</span><span class="ident" id="7264533">token</span><span class="op" id="7264538">.</span><span class="ident" id="7264539">NEQ</span><span class="op" id="7264542">,</span>&nbsp;<span class="string" id="7264544">&#34;!=&#34;</span><span class="op" id="7264548">,</span>&nbsp;<span class="ident" id="7264550">operator</span><span class="op" id="7264558">}</span><span class="op" id="7264559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264562">{</span><span class="ident" id="7264563">token</span><span class="op" id="7264568">.</span><span class="ident" id="7264569">LEQ</span><span class="op" id="7264572">,</span>&nbsp;<span class="string" id="7264574">&#34;&lt;=&#34;</span><span class="op" id="7264578">,</span>&nbsp;<span class="ident" id="7264580">operator</span><span class="op" id="7264588">}</span><span class="op" id="7264589">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264592">{</span><span class="ident" id="7264593">token</span><span class="op" id="7264598">.</span><span class="ident" id="7264599">GEQ</span><span class="op" id="7264602">,</span>&nbsp;<span class="string" id="7264604">&#34;&gt;=&#34;</span><span class="op" id="7264608">,</span>&nbsp;<span class="ident" id="7264610">operator</span><span class="op" id="7264618">}</span><span class="op" id="7264619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264622">{</span><span class="ident" id="7264623">token</span><span class="op" id="7264628">.</span><span class="ident" id="7264629">DEFINE</span><span class="op" id="7264635">,</span>&nbsp;<span class="string" id="7264637">&#34;:=&#34;</span><span class="op" id="7264641">,</span>&nbsp;<span class="ident" id="7264643">operator</span><span class="op" id="7264651">}</span><span class="op" id="7264652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264655">{</span><span class="ident" id="7264656">token</span><span class="op" id="7264661">.</span><span class="ident" id="7264662">ELLIPSIS</span><span class="op" id="7264670">,</span>&nbsp;<span class="string" id="7264672">&#34;...&#34;</span><span class="op" id="7264677">,</span>&nbsp;<span class="ident" id="7264679">operator</span><span class="op" id="7264687">}</span><span class="op" id="7264688">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264692">{</span><span class="ident" id="7264693">token</span><span class="op" id="7264698">.</span><span class="ident" id="7264699">LPAREN</span><span class="op" id="7264705">,</span>&nbsp;<span class="string" id="7264707">&#34;(&#34;</span><span class="op" id="7264710">,</span>&nbsp;<span class="ident" id="7264712">operator</span><span class="op" id="7264720">}</span><span class="op" id="7264721">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264724">{</span><span class="ident" id="7264725">token</span><span class="op" id="7264730">.</span><span class="ident" id="7264731">LBRACK</span><span class="op" id="7264737">,</span>&nbsp;<span class="string" id="7264739">&#34;[&#34;</span><span class="op" id="7264742">,</span>&nbsp;<span class="ident" id="7264744">operator</span><span class="op" id="7264752">}</span><span class="op" id="7264753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264756">{</span><span class="ident" id="7264757">token</span><span class="op" id="7264762">.</span><span class="ident" id="7264763">LBRACE</span><span class="op" id="7264769">,</span>&nbsp;<span class="string" id="7264771">&#34;{&#34;</span><span class="op" id="7264774">,</span>&nbsp;<span class="ident" id="7264776">operator</span><span class="op" id="7264784">}</span><span class="op" id="7264785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264788">{</span><span class="ident" id="7264789">token</span><span class="op" id="7264794">.</span><span class="ident" id="7264795">COMMA</span><span class="op" id="7264800">,</span>&nbsp;<span class="string" id="7264802">&#34;,&#34;</span><span class="op" id="7264805">,</span>&nbsp;<span class="ident" id="7264807">operator</span><span class="op" id="7264815">}</span><span class="op" id="7264816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264819">{</span><span class="ident" id="7264820">token</span><span class="op" id="7264825">.</span><span class="ident" id="7264826">PERIOD</span><span class="op" id="7264832">,</span>&nbsp;<span class="string" id="7264834">&#34;.&#34;</span><span class="op" id="7264837">,</span>&nbsp;<span class="ident" id="7264839">operator</span><span class="op" id="7264847">}</span><span class="op" id="7264848">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264852">{</span><span class="ident" id="7264853">token</span><span class="op" id="7264858">.</span><span class="ident" id="7264859">RPAREN</span><span class="op" id="7264865">,</span>&nbsp;<span class="string" id="7264867">&#34;)&#34;</span><span class="op" id="7264870">,</span>&nbsp;<span class="ident" id="7264872">operator</span><span class="op" id="7264880">}</span><span class="op" id="7264881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264884">{</span><span class="ident" id="7264885">token</span><span class="op" id="7264890">.</span><span class="ident" id="7264891">RBRACK</span><span class="op" id="7264897">,</span>&nbsp;<span class="string" id="7264899">&#34;]&#34;</span><span class="op" id="7264902">,</span>&nbsp;<span class="ident" id="7264904">operator</span><span class="op" id="7264912">}</span><span class="op" id="7264913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264916">{</span><span class="ident" id="7264917">token</span><span class="op" id="7264922">.</span><span class="ident" id="7264923">RBRACE</span><span class="op" id="7264929">,</span>&nbsp;<span class="string" id="7264931">&#34;}&#34;</span><span class="op" id="7264934">,</span>&nbsp;<span class="ident" id="7264936">operator</span><span class="op" id="7264944">}</span><span class="op" id="7264945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264948">{</span><span class="ident" id="7264949">token</span><span class="op" id="7264954">.</span><span class="ident" id="7264955">SEMICOLON</span><span class="op" id="7264964">,</span>&nbsp;<span class="string" id="7264966">&#34;;&#34;</span><span class="op" id="7264969">,</span>&nbsp;<span class="ident" id="7264971">operator</span><span class="op" id="7264979">}</span><span class="op" id="7264980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7264983">{</span><span class="ident" id="7264984">token</span><span class="op" id="7264989">.</span><span class="ident" id="7264990">COLON</span><span class="op" id="7264995">,</span>&nbsp;<span class="string" id="7264997">&#34;:&#34;</span><span class="op" id="7265000">,</span>&nbsp;<span class="ident" id="7265002">operator</span><span class="op" id="7265010">}</span><span class="op" id="7265011">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7265015">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265028">{</span><span class="ident" id="7265029">token</span><span class="op" id="7265034">.</span><span class="ident" id="7265035">BREAK</span><span class="op" id="7265040">,</span>&nbsp;<span class="string" id="7265042">&#34;break&#34;</span><span class="op" id="7265049">,</span>&nbsp;<span class="ident" id="7265051">keyword</span><span class="op" id="7265058">}</span><span class="op" id="7265059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265062">{</span><span class="ident" id="7265063">token</span><span class="op" id="7265068">.</span><span class="ident" id="7265069">CASE</span><span class="op" id="7265073">,</span>&nbsp;<span class="string" id="7265075">&#34;case&#34;</span><span class="op" id="7265081">,</span>&nbsp;<span class="ident" id="7265083">keyword</span><span class="op" id="7265090">}</span><span class="op" id="7265091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265094">{</span><span class="ident" id="7265095">token</span><span class="op" id="7265100">.</span><span class="ident" id="7265101">CHAN</span><span class="op" id="7265105">,</span>&nbsp;<span class="string" id="7265107">&#34;chan&#34;</span><span class="op" id="7265113">,</span>&nbsp;<span class="ident" id="7265115">keyword</span><span class="op" id="7265122">}</span><span class="op" id="7265123">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265126">{</span><span class="ident" id="7265127">token</span><span class="op" id="7265132">.</span><span class="ident" id="7265133">CONST</span><span class="op" id="7265138">,</span>&nbsp;<span class="string" id="7265140">&#34;const&#34;</span><span class="op" id="7265147">,</span>&nbsp;<span class="ident" id="7265149">keyword</span><span class="op" id="7265156">}</span><span class="op" id="7265157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265160">{</span><span class="ident" id="7265161">token</span><span class="op" id="7265166">.</span><span class="ident" id="7265167">CONTINUE</span><span class="op" id="7265175">,</span>&nbsp;<span class="string" id="7265177">&#34;continue&#34;</span><span class="op" id="7265187">,</span>&nbsp;<span class="ident" id="7265189">keyword</span><span class="op" id="7265196">}</span><span class="op" id="7265197">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265201">{</span><span class="ident" id="7265202">token</span><span class="op" id="7265207">.</span><span class="ident" id="7265208">DEFAULT</span><span class="op" id="7265215">,</span>&nbsp;<span class="string" id="7265217">&#34;default&#34;</span><span class="op" id="7265226">,</span>&nbsp;<span class="ident" id="7265228">keyword</span><span class="op" id="7265235">}</span><span class="op" id="7265236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265239">{</span><span class="ident" id="7265240">token</span><span class="op" id="7265245">.</span><span class="ident" id="7265246">DEFER</span><span class="op" id="7265251">,</span>&nbsp;<span class="string" id="7265253">&#34;defer&#34;</span><span class="op" id="7265260">,</span>&nbsp;<span class="ident" id="7265262">keyword</span><span class="op" id="7265269">}</span><span class="op" id="7265270">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265273">{</span><span class="ident" id="7265274">token</span><span class="op" id="7265279">.</span><span class="ident" id="7265280">ELSE</span><span class="op" id="7265284">,</span>&nbsp;<span class="string" id="7265286">&#34;else&#34;</span><span class="op" id="7265292">,</span>&nbsp;<span class="ident" id="7265294">keyword</span><span class="op" id="7265301">}</span><span class="op" id="7265302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265305">{</span><span class="ident" id="7265306">token</span><span class="op" id="7265311">.</span><span class="ident" id="7265312">FALLTHROUGH</span><span class="op" id="7265323">,</span>&nbsp;<span class="string" id="7265325">&#34;fallthrough&#34;</span><span class="op" id="7265338">,</span>&nbsp;<span class="ident" id="7265340">keyword</span><span class="op" id="7265347">}</span><span class="op" id="7265348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265351">{</span><span class="ident" id="7265352">token</span><span class="op" id="7265357">.</span><span class="ident" id="7265358">FOR</span><span class="op" id="7265361">,</span>&nbsp;<span class="string" id="7265363">&#34;for&#34;</span><span class="op" id="7265368">,</span>&nbsp;<span class="ident" id="7265370">keyword</span><span class="op" id="7265377">}</span><span class="op" id="7265378">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265382">{</span><span class="ident" id="7265383">token</span><span class="op" id="7265388">.</span><span class="ident" id="7265389">FUNC</span><span class="op" id="7265393">,</span>&nbsp;<span class="string" id="7265395">&#34;func&#34;</span><span class="op" id="7265401">,</span>&nbsp;<span class="ident" id="7265403">keyword</span><span class="op" id="7265410">}</span><span class="op" id="7265411">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265414">{</span><span class="ident" id="7265415">token</span><span class="op" id="7265420">.</span><span class="ident" id="7265421">GO</span><span class="op" id="7265423">,</span>&nbsp;<span class="string" id="7265425">&#34;go&#34;</span><span class="op" id="7265429">,</span>&nbsp;<span class="ident" id="7265431">keyword</span><span class="op" id="7265438">}</span><span class="op" id="7265439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265442">{</span><span class="ident" id="7265443">token</span><span class="op" id="7265448">.</span><span class="ident" id="7265449">GOTO</span><span class="op" id="7265453">,</span>&nbsp;<span class="string" id="7265455">&#34;goto&#34;</span><span class="op" id="7265461">,</span>&nbsp;<span class="ident" id="7265463">keyword</span><span class="op" id="7265470">}</span><span class="op" id="7265471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265474">{</span><span class="ident" id="7265475">token</span><span class="op" id="7265480">.</span><span class="ident" id="7265481">IF</span><span class="op" id="7265483">,</span>&nbsp;<span class="string" id="7265485">&#34;if&#34;</span><span class="op" id="7265489">,</span>&nbsp;<span class="ident" id="7265491">keyword</span><span class="op" id="7265498">}</span><span class="op" id="7265499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265502">{</span><span class="ident" id="7265503">token</span><span class="op" id="7265508">.</span><span class="ident" id="7265509">IMPORT</span><span class="op" id="7265515">,</span>&nbsp;<span class="string" id="7265517">&#34;import&#34;</span><span class="op" id="7265525">,</span>&nbsp;<span class="ident" id="7265527">keyword</span><span class="op" id="7265534">}</span><span class="op" id="7265535">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265539">{</span><span class="ident" id="7265540">token</span><span class="op" id="7265545">.</span><span class="ident" id="7265546">INTERFACE</span><span class="op" id="7265555">,</span>&nbsp;<span class="string" id="7265557">&#34;interface&#34;</span><span class="op" id="7265568">,</span>&nbsp;<span class="ident" id="7265570">keyword</span><span class="op" id="7265577">}</span><span class="op" id="7265578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265581">{</span><span class="ident" id="7265582">token</span><span class="op" id="7265587">.</span><span class="ident" id="7265588">MAP</span><span class="op" id="7265591">,</span>&nbsp;<span class="string" id="7265593">&#34;map&#34;</span><span class="op" id="7265598">,</span>&nbsp;<span class="ident" id="7265600">keyword</span><span class="op" id="7265607">}</span><span class="op" id="7265608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265611">{</span><span class="ident" id="7265612">token</span><span class="op" id="7265617">.</span><span class="ident" id="7265618">PACKAGE</span><span class="op" id="7265625">,</span>&nbsp;<span class="string" id="7265627">&#34;package&#34;</span><span class="op" id="7265636">,</span>&nbsp;<span class="ident" id="7265638">keyword</span><span class="op" id="7265645">}</span><span class="op" id="7265646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265649">{</span><span class="ident" id="7265650">token</span><span class="op" id="7265655">.</span><span class="ident" id="7265656">RANGE</span><span class="op" id="7265661">,</span>&nbsp;<span class="string" id="7265663">&#34;range&#34;</span><span class="op" id="7265670">,</span>&nbsp;<span class="ident" id="7265672">keyword</span><span class="op" id="7265679">}</span><span class="op" id="7265680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265683">{</span><span class="ident" id="7265684">token</span><span class="op" id="7265689">.</span><span class="ident" id="7265690">RETURN</span><span class="op" id="7265696">,</span>&nbsp;<span class="string" id="7265698">&#34;return&#34;</span><span class="op" id="7265706">,</span>&nbsp;<span class="ident" id="7265708">keyword</span><span class="op" id="7265715">}</span><span class="op" id="7265716">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265720">{</span><span class="ident" id="7265721">token</span><span class="op" id="7265726">.</span><span class="ident" id="7265727">SELECT</span><span class="op" id="7265733">,</span>&nbsp;<span class="string" id="7265735">&#34;select&#34;</span><span class="op" id="7265743">,</span>&nbsp;<span class="ident" id="7265745">keyword</span><span class="op" id="7265752">}</span><span class="op" id="7265753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265756">{</span><span class="ident" id="7265757">token</span><span class="op" id="7265762">.</span><span class="ident" id="7265763">STRUCT</span><span class="op" id="7265769">,</span>&nbsp;<span class="string" id="7265771">&#34;struct&#34;</span><span class="op" id="7265779">,</span>&nbsp;<span class="ident" id="7265781">keyword</span><span class="op" id="7265788">}</span><span class="op" id="7265789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265792">{</span><span class="ident" id="7265793">token</span><span class="op" id="7265798">.</span><span class="ident" id="7265799">SWITCH</span><span class="op" id="7265805">,</span>&nbsp;<span class="string" id="7265807">&#34;switch&#34;</span><span class="op" id="7265815">,</span>&nbsp;<span class="ident" id="7265817">keyword</span><span class="op" id="7265824">}</span><span class="op" id="7265825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265828">{</span><span class="ident" id="7265829">token</span><span class="op" id="7265834">.</span><span class="ident" id="7265835">TYPE</span><span class="op" id="7265839">,</span>&nbsp;<span class="string" id="7265841">&#34;type&#34;</span><span class="op" id="7265847">,</span>&nbsp;<span class="ident" id="7265849">keyword</span><span class="op" id="7265856">}</span><span class="op" id="7265857">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7265860">{</span><span class="ident" id="7265861">token</span><span class="op" id="7265866">.</span><span class="ident" id="7265867">VAR</span><span class="op" id="7265870">,</span>&nbsp;<span class="string" id="7265872">&#34;var&#34;</span><span class="op" id="7265877">,</span>&nbsp;<span class="ident" id="7265879">keyword</span><span class="op" id="7265886">}</span><span class="op" id="7265887">,</span><br>
<span class="lineno"></span><span class="op" id="7265889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7265892">const</span>&nbsp;<span class="ident" id="7265898">whitespace</span>&nbsp;<span class="op" id="7265909">=</span>&nbsp;<span class="string" id="7265911">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="7265926">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="7265949">var</span>&nbsp;<span class="ident" id="7265953">source</span>&nbsp;<span class="op" id="7265960">=</span>&nbsp;<span class="keyword" id="7265962">func</span><span class="op" id="7265966">(</span><span class="op" id="7265967">)</span>&nbsp;<span class="op" id="7265969">[</span><span class="op" id="7265970">]</span><span class="builtintype" id="7265971">byte</span>&nbsp;<span class="op" id="7265976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7265979">var</span>&nbsp;<span class="ident" id="7265983">src</span>&nbsp;<span class="op" id="7265987">[</span><span class="op" id="7265988">]</span><span class="builtintype" id="7265989">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7265995">for</span>&nbsp;<span class="ident" id="7265999">_</span><span class="op" id="7266000">,</span>&nbsp;<span class="ident" id="7266002">t</span>&nbsp;<span class="op" id="7266004">:=</span>&nbsp;<span class="keyword" id="7266007">range</span>&nbsp;<span class="ident" id="7266013">tokens</span>&nbsp;<span class="op" id="7266020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7266024">src</span>&nbsp;<span class="op" id="7266028">=</span>&nbsp;<span class="builtinfunc" id="7266030">append</span><span class="op" id="7266036">(</span><span class="ident" id="7266037">src</span><span class="op" id="7266040">,</span>&nbsp;<span class="ident" id="7266042">t</span><span class="op" id="7266043">.</span><span class="ident" id="7266044">lit</span><span class="op" id="7266047">...</span><span class="op" id="7266050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7266054">src</span>&nbsp;<span class="op" id="7266058">=</span>&nbsp;<span class="builtinfunc" id="7266060">append</span><span class="op" id="7266066">(</span><span class="ident" id="7266067">src</span><span class="op" id="7266070">,</span>&nbsp;<span class="ident" id="7266072">whitespace</span><span class="op" id="7266082">...</span><span class="op" id="7266085">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7266088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7266091">return</span>&nbsp;<span class="ident" id="7266098">src</span><br>
<span class="lineno"></span><span class="op" id="7266102">}</span><span class="op" id="7266103">(</span><span class="op" id="7266104">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7266107">func</span>&nbsp;<span class="ident" id="7266112">newlineCount</span><span class="op" id="7266124">(</span><span class="ident" id="7266125">s</span>&nbsp;<span class="builtintype" id="7266127">string</span><span class="op" id="7266133">)</span>&nbsp;<span class="builtintype" id="7266135">int</span>&nbsp;<span class="op" id="7266139">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7266142">n</span>&nbsp;<span class="op" id="7266144">:=</span>&nbsp;<span class="num" id="7266147">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7266150">for</span>&nbsp;<span class="ident" id="7266154">i</span>&nbsp;<span class="op" id="7266156">:=</span>&nbsp;<span class="num" id="7266159">0</span><span class="op" id="7266160">;</span>&nbsp;<span class="ident" id="7266162">i</span>&nbsp;<span class="op" id="7266164">&lt;</span>&nbsp;<span class="builtinfunc" id="7266166">len</span><span class="op" id="7266169">(</span><span class="ident" id="7266170">s</span><span class="op" id="7266171">)</span><span class="op" id="7266172">;</span>&nbsp;<span class="ident" id="7266174">i</span><span class="op" id="7266175">++</span>&nbsp;<span class="op" id="7266178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7266182">if</span>&nbsp;<span class="ident" id="7266185">s</span><span class="op" id="7266186">[</span><span class="ident" id="7266187">i</span><span class="op" id="7266188">]</span>&nbsp;<span class="op" id="7266190">==</span>&nbsp;<span class="string" id="7266193">&#39;\n&#39;</span>&nbsp;<span class="op" id="7266198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7266203">n</span><span class="op" id="7266204">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7266209">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7266212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7266215">return</span>&nbsp;<span class="ident" id="7266222">n</span><br>
<span class="lineno"></span><span class="op" id="7266224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7266227">func</span>&nbsp;<span class="ident" id="7266232">checkPos</span><span class="op" id="7266240">(</span><span class="ident" id="7266241">t</span>&nbsp;<span class="op" id="7266243">*</span><span class="ident" id="7266244">testing</span><span class="op" id="7266251">.</span><span class="ident" id="7266252">T</span><span class="op" id="7266253">,</span>&nbsp;<span class="ident" id="7266255">lit</span>&nbsp;<span class="builtintype" id="7266259">string</span><span class="op" id="7266265">,</span>&nbsp;<span class="ident" id="7266267">p</span>&nbsp;<span class="ident" id="7266269">token</span><span class="op" id="7266274">.</span><span class="ident" id="7266275">Pos</span><span class="op" id="7266278">,</span>&nbsp;<span class="ident" id="7266280">expected</span>&nbsp;<span class="ident" id="7266289">token</span><span class="op" id="7266294">.</span><span class="ident" id="7266295">Position</span><span class="op" id="7266303">)</span>&nbsp;<span class="op" id="7266305">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7266308">pos</span>&nbsp;<span class="op" id="7266312">:=</span>&nbsp;<span class="ident" id="7266315">fset</span><span class="op" id="7266319">.</span><span class="ident" id="7266320">Position</span><span class="op" id="7266328">(</span><span class="ident" id="7266329">p</span><span class="op" id="7266330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7266333">if</span>&nbsp;<span class="ident" id="7266336">pos</span><span class="op" id="7266339">.</span><span class="ident" id="7266340">Filename</span>&nbsp;<span class="op" id="7266349">!=</span>&nbsp;<span class="ident" id="7266352">expected</span><span class="op" id="7266360">.</span><span class="ident" id="7266361">Filename</span>&nbsp;<span class="op" id="7266370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7266374">t</span><span class="op" id="7266375">.</span><span class="ident" id="7266376">Errorf</span><span class="op" id="7266382">(</span><span class="string" id="7266383">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7266425">,</span>&nbsp;<span class="ident" id="7266427">lit</span><span class="op" id="7266430">,</span>&nbsp;<span class="ident" id="7266432">pos</span><span class="op" id="7266435">.</span><span class="ident" id="7266436">Filename</span><span class="op" id="7266444">,</span>&nbsp;<span class="ident" id="7266446">expected</span><span class="op" id="7266454">.</span><span class="ident" id="7266455">Filename</span><span class="op" id="7266463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7266466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7266469">if</span>&nbsp;<span class="ident" id="7266472">pos</span><span class="op" id="7266475">.</span><span class="ident" id="7266476">Offset</span>&nbsp;<span class="op" id="7266483">!=</span>&nbsp;<span class="ident" id="7266486">expected</span><span class="op" id="7266494">.</span><span class="ident" id="7266495">Offset</span>&nbsp;<span class="op" id="7266502">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7266506">t</span><span class="op" id="7266507">.</span><span class="ident" id="7266508">Errorf</span><span class="op" id="7266514">(</span><span class="string" id="7266515">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7266557">,</span>&nbsp;<span class="ident" id="7266559">lit</span><span class="op" id="7266562">,</span>&nbsp;<span class="ident" id="7266564">pos</span><span class="op" id="7266567">.</span><span class="ident" id="7266568">Offset</span><span class="op" id="7266574">,</span>&nbsp;<span class="ident" id="7266576">expected</span><span class="op" id="7266584">.</span><span class="ident" id="7266585">Offset</span><span class="op" id="7266591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7266594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7266597">if</span>&nbsp;<span class="ident" id="7266600">pos</span><span class="op" id="7266603">.</span><span class="ident" id="7266604">Line</span>&nbsp;<span class="op" id="7266609">!=</span>&nbsp;<span class="ident" id="7266612">expected</span><span class="op" id="7266620">.</span><span class="ident" id="7266621">Line</span>&nbsp;<span class="op" id="7266626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7266630">t</span><span class="op" id="7266631">.</span><span class="ident" id="7266632">Errorf</span><span class="op" id="7266638">(</span><span class="string" id="7266639">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7266677">,</span>&nbsp;<span class="ident" id="7266679">lit</span><span class="op" id="7266682">,</span>&nbsp;<span class="ident" id="7266684">pos</span><span class="op" id="7266687">.</span><span class="ident" id="7266688">Line</span><span class="op" id="7266692">,</span>&nbsp;<span class="ident" id="7266694">expected</span><span class="op" id="7266702">.</span><span class="ident" id="7266703">Line</span><span class="op" id="7266707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7266710">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7266713">if</span>&nbsp;<span class="ident" id="7266716">pos</span><span class="op" id="7266719">.</span><span class="ident" id="7266720">Column</span>&nbsp;<span class="op" id="7266727">!=</span>&nbsp;<span class="ident" id="7266730">expected</span><span class="op" id="7266738">.</span><span class="ident" id="7266739">Column</span>&nbsp;<span class="op" id="7266746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7266750">t</span><span class="op" id="7266751">.</span><span class="ident" id="7266752">Errorf</span><span class="op" id="7266758">(</span><span class="string" id="7266759">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7266799">,</span>&nbsp;<span class="ident" id="7266801">lit</span><span class="op" id="7266804">,</span>&nbsp;<span class="ident" id="7266806">pos</span><span class="op" id="7266809">.</span><span class="ident" id="7266810">Column</span><span class="op" id="7266816">,</span>&nbsp;<span class="ident" id="7266818">expected</span><span class="op" id="7266826">.</span><span class="ident" id="7266827">Column</span><span class="op" id="7266833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7266836">}</span><br>
<span class="lineno"></span><span class="op" id="7266838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="7266841">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="7266901">func</span>&nbsp;<span class="ident" id="7266906">TestScan</span><span class="op" id="7266914">(</span><span class="ident" id="7266915">t</span>&nbsp;<span class="op" id="7266917">*</span><span class="ident" id="7266918">testing</span><span class="op" id="7266925">.</span><span class="ident" id="7266926">T</span><span class="op" id="7266927">)</span>&nbsp;<span class="op" id="7266929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7266932">whitespace_linecount</span>&nbsp;<span class="op" id="7266953">:=</span>&nbsp;<span class="ident" id="7266956">newlineCount</span><span class="op" id="7266968">(</span><span class="ident" id="7266969">whitespace</span><span class="op" id="7266979">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7266983">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267001">eh</span>&nbsp;<span class="op" id="7267004">:=</span>&nbsp;<span class="keyword" id="7267007">func</span><span class="op" id="7267011">(</span><span class="ident" id="7267012">_</span>&nbsp;<span class="ident" id="7267014">token</span><span class="op" id="7267019">.</span><span class="ident" id="7267020">Position</span><span class="op" id="7267028">,</span>&nbsp;<span class="ident" id="7267030">msg</span>&nbsp;<span class="builtintype" id="7267034">string</span><span class="op" id="7267040">)</span>&nbsp;<span class="op" id="7267042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267046">t</span><span class="op" id="7267047">.</span><span class="ident" id="7267048">Errorf</span><span class="op" id="7267054">(</span><span class="string" id="7267055">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="7267088">,</span>&nbsp;<span class="ident" id="7267090">msg</span><span class="op" id="7267093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7267096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7267100">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7267116">var</span>&nbsp;<span class="ident" id="7267120">s</span>&nbsp;<span class="ident" id="7267122">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267131">s</span><span class="op" id="7267132">.</span><span class="ident" id="7267133">Init</span><span class="op" id="7267137">(</span><span class="ident" id="7267138">fset</span><span class="op" id="7267142">.</span><span class="ident" id="7267143">AddFile</span><span class="op" id="7267150">(</span><span class="string" id="7267151">&#34;&#34;</span><span class="op" id="7267153">,</span>&nbsp;<span class="ident" id="7267155">fset</span><span class="op" id="7267159">.</span><span class="ident" id="7267160">Base</span><span class="op" id="7267164">(</span><span class="op" id="7267165">)</span><span class="op" id="7267166">,</span>&nbsp;<span class="builtinfunc" id="7267168">len</span><span class="op" id="7267171">(</span><span class="ident" id="7267172">source</span><span class="op" id="7267178">)</span><span class="op" id="7267179">)</span><span class="op" id="7267180">,</span>&nbsp;<span class="ident" id="7267182">source</span><span class="op" id="7267188">,</span>&nbsp;<span class="ident" id="7267190">eh</span><span class="op" id="7267192">,</span>&nbsp;<span class="ident" id="7267194">ScanComments</span><span class="op" id="7267206">|</span><span class="ident" id="7267207">dontInsertSemis</span><span class="op" id="7267222">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7267226">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267255">epos</span>&nbsp;<span class="op" id="7267260">:=</span>&nbsp;<span class="ident" id="7267263">token</span><span class="op" id="7267268">.</span><span class="ident" id="7267269">Position</span><span class="op" id="7267277">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267281">Filename</span><span class="op" id="7267289">:</span>&nbsp;<span class="string" id="7267291">&#34;&#34;</span><span class="op" id="7267293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267297">Offset</span><span class="op" id="7267303">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7267307">0</span><span class="op" id="7267308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267312">Line</span><span class="op" id="7267316">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7267322">1</span><span class="op" id="7267323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267327">Column</span><span class="op" id="7267333">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7267337">1</span><span class="op" id="7267338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7267341">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267345">index</span>&nbsp;<span class="op" id="7267351">:=</span>&nbsp;<span class="num" id="7267354">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7267357">for</span>&nbsp;<span class="op" id="7267361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267365">pos</span><span class="op" id="7267368">,</span>&nbsp;<span class="ident" id="7267370">tok</span><span class="op" id="7267373">,</span>&nbsp;<span class="ident" id="7267375">lit</span>&nbsp;<span class="op" id="7267379">:=</span>&nbsp;<span class="ident" id="7267382">s</span><span class="op" id="7267383">.</span><span class="ident" id="7267384">Scan</span><span class="op" id="7267388">(</span><span class="op" id="7267389">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7267394">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7267414">if</span>&nbsp;<span class="ident" id="7267417">tok</span>&nbsp;<span class="op" id="7267421">==</span>&nbsp;<span class="ident" id="7267424">token</span><span class="op" id="7267429">.</span><span class="ident" id="7267430">EOF</span>&nbsp;<span class="op" id="7267434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7267439">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267464">epos</span><span class="op" id="7267468">.</span><span class="ident" id="7267469">Line</span>&nbsp;<span class="op" id="7267474">=</span>&nbsp;<span class="ident" id="7267476">newlineCount</span><span class="op" id="7267488">(</span><span class="builtintype" id="7267489">string</span><span class="op" id="7267495">(</span><span class="ident" id="7267496">source</span><span class="op" id="7267502">)</span><span class="op" id="7267503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267508">epos</span><span class="op" id="7267512">.</span><span class="ident" id="7267513">Column</span>&nbsp;<span class="op" id="7267520">=</span>&nbsp;<span class="num" id="7267522">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7267526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267530">checkPos</span><span class="op" id="7267538">(</span><span class="ident" id="7267539">t</span><span class="op" id="7267540">,</span>&nbsp;<span class="ident" id="7267542">lit</span><span class="op" id="7267545">,</span>&nbsp;<span class="ident" id="7267547">pos</span><span class="op" id="7267550">,</span>&nbsp;<span class="ident" id="7267552">epos</span><span class="op" id="7267556">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7267561">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267578">e</span>&nbsp;<span class="op" id="7267580">:=</span>&nbsp;<span class="ident" id="7267583">elt</span><span class="op" id="7267586">{</span><span class="ident" id="7267587">token</span><span class="op" id="7267592">.</span><span class="ident" id="7267593">EOF</span><span class="op" id="7267596">,</span>&nbsp;<span class="string" id="7267598">&#34;&#34;</span><span class="op" id="7267600">,</span>&nbsp;<span class="ident" id="7267602">special</span><span class="op" id="7267609">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7267613">if</span>&nbsp;<span class="ident" id="7267616">index</span>&nbsp;<span class="op" id="7267622">&lt;</span>&nbsp;<span class="builtinfunc" id="7267624">len</span><span class="op" id="7267627">(</span><span class="ident" id="7267628">tokens</span><span class="op" id="7267634">)</span>&nbsp;<span class="op" id="7267636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267641">e</span>&nbsp;<span class="op" id="7267643">=</span>&nbsp;<span class="ident" id="7267645">tokens</span><span class="op" id="7267651">[</span><span class="ident" id="7267652">index</span><span class="op" id="7267657">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267662">index</span><span class="op" id="7267667">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7267672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7267676">if</span>&nbsp;<span class="ident" id="7267679">tok</span>&nbsp;<span class="op" id="7267683">!=</span>&nbsp;<span class="ident" id="7267686">e</span><span class="op" id="7267687">.</span><span class="ident" id="7267688">tok</span>&nbsp;<span class="op" id="7267692">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267697">t</span><span class="op" id="7267698">.</span><span class="ident" id="7267699">Errorf</span><span class="op" id="7267705">(</span><span class="string" id="7267706">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7267745">,</span>&nbsp;<span class="ident" id="7267747">lit</span><span class="op" id="7267750">,</span>&nbsp;<span class="ident" id="7267752">tok</span><span class="op" id="7267755">,</span>&nbsp;<span class="ident" id="7267757">e</span><span class="op" id="7267758">.</span><span class="ident" id="7267759">tok</span><span class="op" id="7267762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7267766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7267771">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7267794">if</span>&nbsp;<span class="ident" id="7267797">tokenclass</span><span class="op" id="7267807">(</span><span class="ident" id="7267808">tok</span><span class="op" id="7267811">)</span>&nbsp;<span class="op" id="7267813">!=</span>&nbsp;<span class="ident" id="7267816">e</span><span class="op" id="7267817">.</span><span class="ident" id="7267818">class</span>&nbsp;<span class="op" id="7267824">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267829">t</span><span class="op" id="7267830">.</span><span class="ident" id="7267831">Errorf</span><span class="op" id="7267837">(</span><span class="string" id="7267838">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7267877">,</span>&nbsp;<span class="ident" id="7267879">lit</span><span class="op" id="7267882">,</span>&nbsp;<span class="ident" id="7267884">tokenclass</span><span class="op" id="7267894">(</span><span class="ident" id="7267895">tok</span><span class="op" id="7267898">)</span><span class="op" id="7267899">,</span>&nbsp;<span class="ident" id="7267901">e</span><span class="op" id="7267902">.</span><span class="ident" id="7267903">class</span><span class="op" id="7267908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7267912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7267917">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7267936">elit</span>&nbsp;<span class="op" id="7267941">:=</span>&nbsp;<span class="string" id="7267944">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7267949">switch</span>&nbsp;<span class="ident" id="7267956">e</span><span class="op" id="7267957">.</span><span class="ident" id="7267958">tok</span>&nbsp;<span class="op" id="7267962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7267966">case</span>&nbsp;<span class="ident" id="7267971">token</span><span class="op" id="7267976">.</span><span class="ident" id="7267977">COMMENT</span><span class="op" id="7267984">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7267989">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268014">elit</span>&nbsp;<span class="op" id="7268019">=</span>&nbsp;<span class="builtintype" id="7268021">string</span><span class="op" id="7268027">(</span><span class="ident" id="7268028">stripCR</span><span class="op" id="7268035">(</span><span class="op" id="7268036">[</span><span class="op" id="7268037">]</span><span class="builtintype" id="7268038">byte</span><span class="op" id="7268042">(</span><span class="ident" id="7268043">e</span><span class="op" id="7268044">.</span><span class="ident" id="7268045">lit</span><span class="op" id="7268048">)</span><span class="op" id="7268049">)</span><span class="op" id="7268050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7268055">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268107">if</span>&nbsp;<span class="ident" id="7268110">elit</span><span class="op" id="7268114">[</span><span class="num" id="7268115">1</span><span class="op" id="7268116">]</span>&nbsp;<span class="op" id="7268118">==</span>&nbsp;<span class="string" id="7268121">&#39;/&#39;</span>&nbsp;<span class="op" id="7268125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268131">elit</span>&nbsp;<span class="op" id="7268136">=</span>&nbsp;<span class="ident" id="7268138">elit</span><span class="op" id="7268142">[</span><span class="num" id="7268143">0</span>&nbsp;<span class="op" id="7268145">:</span>&nbsp;<span class="builtinfunc" id="7268147">len</span><span class="op" id="7268150">(</span><span class="ident" id="7268151">elit</span><span class="op" id="7268155">)</span><span class="op" id="7268156">-</span><span class="num" id="7268157">1</span><span class="op" id="7268158">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7268163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268167">case</span>&nbsp;<span class="ident" id="7268172">token</span><span class="op" id="7268177">.</span><span class="ident" id="7268178">IDENT</span><span class="op" id="7268183">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268188">elit</span>&nbsp;<span class="op" id="7268193">=</span>&nbsp;<span class="ident" id="7268195">e</span><span class="op" id="7268196">.</span><span class="ident" id="7268197">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268203">case</span>&nbsp;<span class="ident" id="7268208">token</span><span class="op" id="7268213">.</span><span class="ident" id="7268214">SEMICOLON</span><span class="op" id="7268223">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268228">elit</span>&nbsp;<span class="op" id="7268233">=</span>&nbsp;<span class="string" id="7268235">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268241">default</span><span class="op" id="7268248">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268253">if</span>&nbsp;<span class="ident" id="7268256">e</span><span class="op" id="7268257">.</span><span class="ident" id="7268258">tok</span><span class="op" id="7268261">.</span><span class="ident" id="7268262">IsLiteral</span><span class="op" id="7268271">(</span><span class="op" id="7268272">)</span>&nbsp;<span class="op" id="7268274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7268280">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268317">elit</span>&nbsp;<span class="op" id="7268322">=</span>&nbsp;<span class="ident" id="7268324">e</span><span class="op" id="7268325">.</span><span class="ident" id="7268326">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268334">if</span>&nbsp;<span class="ident" id="7268337">elit</span><span class="op" id="7268341">[</span><span class="num" id="7268342">0</span><span class="op" id="7268343">]</span>&nbsp;<span class="op" id="7268345">==</span>&nbsp;<span class="string" id="7268348">&#39;`&#39;</span>&nbsp;<span class="op" id="7268352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268359">elit</span>&nbsp;<span class="op" id="7268364">=</span>&nbsp;<span class="builtintype" id="7268366">string</span><span class="op" id="7268372">(</span><span class="ident" id="7268373">stripCR</span><span class="op" id="7268380">(</span><span class="op" id="7268381">[</span><span class="op" id="7268382">]</span><span class="builtintype" id="7268383">byte</span><span class="op" id="7268387">(</span><span class="ident" id="7268388">elit</span><span class="op" id="7268392">)</span><span class="op" id="7268393">)</span><span class="op" id="7268394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7268400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7268405">}</span>&nbsp;<span class="keyword" id="7268407">else</span>&nbsp;<span class="keyword" id="7268412">if</span>&nbsp;<span class="ident" id="7268415">e</span><span class="op" id="7268416">.</span><span class="ident" id="7268417">tok</span><span class="op" id="7268420">.</span><span class="ident" id="7268421">IsKeyword</span><span class="op" id="7268430">(</span><span class="op" id="7268431">)</span>&nbsp;<span class="op" id="7268433">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268439">elit</span>&nbsp;<span class="op" id="7268444">=</span>&nbsp;<span class="ident" id="7268446">e</span><span class="op" id="7268447">.</span><span class="ident" id="7268448">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7268455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7268459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268463">if</span>&nbsp;<span class="ident" id="7268466">lit</span>&nbsp;<span class="op" id="7268470">!=</span>&nbsp;<span class="ident" id="7268473">elit</span>&nbsp;<span class="op" id="7268478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268483">t</span><span class="op" id="7268484">.</span><span class="ident" id="7268485">Errorf</span><span class="op" id="7268491">(</span><span class="string" id="7268492">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7268533">,</span>&nbsp;<span class="ident" id="7268535">lit</span><span class="op" id="7268538">,</span>&nbsp;<span class="ident" id="7268540">lit</span><span class="op" id="7268543">,</span>&nbsp;<span class="ident" id="7268545">elit</span><span class="op" id="7268549">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7268553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268558">if</span>&nbsp;<span class="ident" id="7268561">tok</span>&nbsp;<span class="op" id="7268565">==</span>&nbsp;<span class="ident" id="7268568">token</span><span class="op" id="7268573">.</span><span class="ident" id="7268574">EOF</span>&nbsp;<span class="op" id="7268578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268583">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7268591">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7268596">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268617">epos</span><span class="op" id="7268621">.</span><span class="ident" id="7268622">Offset</span>&nbsp;<span class="op" id="7268629">+=</span>&nbsp;<span class="builtinfunc" id="7268632">len</span><span class="op" id="7268635">(</span><span class="ident" id="7268636">e</span><span class="op" id="7268637">.</span><span class="ident" id="7268638">lit</span><span class="op" id="7268641">)</span>&nbsp;<span class="op" id="7268643">+</span>&nbsp;<span class="builtinfunc" id="7268645">len</span><span class="op" id="7268648">(</span><span class="ident" id="7268649">whitespace</span><span class="op" id="7268659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268663">epos</span><span class="op" id="7268667">.</span><span class="ident" id="7268668">Line</span>&nbsp;<span class="op" id="7268673">+=</span>&nbsp;<span class="ident" id="7268676">newlineCount</span><span class="op" id="7268688">(</span><span class="ident" id="7268689">e</span><span class="op" id="7268690">.</span><span class="ident" id="7268691">lit</span><span class="op" id="7268694">)</span>&nbsp;<span class="op" id="7268696">+</span>&nbsp;<span class="ident" id="7268698">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7268721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268725">if</span>&nbsp;<span class="ident" id="7268728">s</span><span class="op" id="7268729">.</span><span class="ident" id="7268730">ErrorCount</span>&nbsp;<span class="op" id="7268741">!=</span>&nbsp;<span class="num" id="7268744">0</span>&nbsp;<span class="op" id="7268746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268750">t</span><span class="op" id="7268751">.</span><span class="ident" id="7268752">Errorf</span><span class="op" id="7268758">(</span><span class="string" id="7268759">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7268776">,</span>&nbsp;<span class="ident" id="7268778">s</span><span class="op" id="7268779">.</span><span class="ident" id="7268780">ErrorCount</span><span class="op" id="7268790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7268793">}</span><br>
<span class="lineno">310</span><span class="op" id="7268795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7268798">func</span>&nbsp;<span class="ident" id="7268803">checkSemi</span><span class="op" id="7268812">(</span><span class="ident" id="7268813">t</span>&nbsp;<span class="op" id="7268815">*</span><span class="ident" id="7268816">testing</span><span class="op" id="7268823">.</span><span class="ident" id="7268824">T</span><span class="op" id="7268825">,</span>&nbsp;<span class="ident" id="7268827">line</span>&nbsp;<span class="builtintype" id="7268832">string</span><span class="op" id="7268838">,</span>&nbsp;<span class="ident" id="7268840">mode</span>&nbsp;<span class="ident" id="7268845">Mode</span><span class="op" id="7268849">)</span>&nbsp;<span class="op" id="7268851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268854">var</span>&nbsp;<span class="ident" id="7268858">S</span>&nbsp;<span class="ident" id="7268860">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268869">file</span>&nbsp;<span class="op" id="7268874">:=</span>&nbsp;<span class="ident" id="7268877">fset</span><span class="op" id="7268881">.</span><span class="ident" id="7268882">AddFile</span><span class="op" id="7268889">(</span><span class="string" id="7268890">&#34;TestSemis&#34;</span><span class="op" id="7268901">,</span>&nbsp;<span class="ident" id="7268903">fset</span><span class="op" id="7268907">.</span><span class="ident" id="7268908">Base</span><span class="op" id="7268912">(</span><span class="op" id="7268913">)</span><span class="op" id="7268914">,</span>&nbsp;<span class="builtinfunc" id="7268916">len</span><span class="op" id="7268919">(</span><span class="ident" id="7268920">line</span><span class="op" id="7268924">)</span><span class="op" id="7268925">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268928">S</span><span class="op" id="7268929">.</span><span class="ident" id="7268930">Init</span><span class="op" id="7268934">(</span><span class="ident" id="7268935">file</span><span class="op" id="7268939">,</span>&nbsp;<span class="op" id="7268941">[</span><span class="op" id="7268942">]</span><span class="builtintype" id="7268943">byte</span><span class="op" id="7268947">(</span><span class="ident" id="7268948">line</span><span class="op" id="7268952">)</span><span class="op" id="7268953">,</span>&nbsp;<span class="ident" id="7268955">nil</span><span class="op" id="7268958">,</span>&nbsp;<span class="ident" id="7268960">mode</span><span class="op" id="7268964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7268967">pos</span><span class="op" id="7268970">,</span>&nbsp;<span class="ident" id="7268972">tok</span><span class="op" id="7268975">,</span>&nbsp;<span class="ident" id="7268977">lit</span>&nbsp;<span class="op" id="7268981">:=</span>&nbsp;<span class="ident" id="7268984">S</span><span class="op" id="7268985">.</span><span class="ident" id="7268986">Scan</span><span class="op" id="7268990">(</span><span class="op" id="7268991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7268994">for</span>&nbsp;<span class="ident" id="7268998">tok</span>&nbsp;<span class="op" id="7269002">!=</span>&nbsp;<span class="ident" id="7269005">token</span><span class="op" id="7269010">.</span><span class="ident" id="7269011">EOF</span>&nbsp;<span class="op" id="7269015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7269019">if</span>&nbsp;<span class="ident" id="7269022">tok</span>&nbsp;<span class="op" id="7269026">==</span>&nbsp;<span class="ident" id="7269029">token</span><span class="op" id="7269034">.</span><span class="ident" id="7269035">ILLEGAL</span>&nbsp;<span class="op" id="7269043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7269048">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7269095">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269137">semiLit</span>&nbsp;<span class="op" id="7269145">:=</span>&nbsp;<span class="string" id="7269148">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7269156">if</span>&nbsp;<span class="ident" id="7269159">lit</span><span class="op" id="7269162">[</span><span class="num" id="7269163">0</span><span class="op" id="7269164">]</span>&nbsp;<span class="op" id="7269166">==</span>&nbsp;<span class="string" id="7269169">&#39;#&#39;</span>&nbsp;<span class="op" id="7269173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269179">semiLit</span>&nbsp;<span class="op" id="7269187">=</span>&nbsp;<span class="string" id="7269189">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7269196">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7269201">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269238">semiPos</span>&nbsp;<span class="op" id="7269246">:=</span>&nbsp;<span class="ident" id="7269249">file</span><span class="op" id="7269253">.</span><span class="ident" id="7269254">Position</span><span class="op" id="7269262">(</span><span class="ident" id="7269263">pos</span><span class="op" id="7269266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269271">semiPos</span><span class="op" id="7269278">.</span><span class="ident" id="7269279">Offset</span><span class="op" id="7269285">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269291">semiPos</span><span class="op" id="7269298">.</span><span class="ident" id="7269299">Column</span><span class="op" id="7269305">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269311">pos</span><span class="op" id="7269314">,</span>&nbsp;<span class="ident" id="7269316">tok</span><span class="op" id="7269319">,</span>&nbsp;<span class="ident" id="7269321">lit</span>&nbsp;<span class="op" id="7269325">=</span>&nbsp;<span class="ident" id="7269327">S</span><span class="op" id="7269328">.</span><span class="ident" id="7269329">Scan</span><span class="op" id="7269333">(</span><span class="op" id="7269334">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7269339">if</span>&nbsp;<span class="ident" id="7269342">tok</span>&nbsp;<span class="op" id="7269346">==</span>&nbsp;<span class="ident" id="7269349">token</span><span class="op" id="7269354">.</span><span class="ident" id="7269355">SEMICOLON</span>&nbsp;<span class="op" id="7269365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7269371">if</span>&nbsp;<span class="ident" id="7269374">lit</span>&nbsp;<span class="op" id="7269378">!=</span>&nbsp;<span class="ident" id="7269381">semiLit</span>&nbsp;<span class="op" id="7269389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269396">t</span><span class="op" id="7269397">.</span><span class="ident" id="7269398">Errorf</span><span class="op" id="7269404">(</span><span class="string" id="7269405">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="7269446">,</span>&nbsp;<span class="ident" id="7269448">line</span><span class="op" id="7269452">,</span>&nbsp;<span class="ident" id="7269454">lit</span><span class="op" id="7269457">,</span>&nbsp;<span class="ident" id="7269459">semiLit</span><span class="op" id="7269466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7269472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269478">checkPos</span><span class="op" id="7269486">(</span><span class="ident" id="7269487">t</span><span class="op" id="7269488">,</span>&nbsp;<span class="ident" id="7269490">line</span><span class="op" id="7269494">,</span>&nbsp;<span class="ident" id="7269496">pos</span><span class="op" id="7269499">,</span>&nbsp;<span class="ident" id="7269501">semiPos</span><span class="op" id="7269508">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7269513">}</span>&nbsp;<span class="keyword" id="7269515">else</span>&nbsp;<span class="op" id="7269520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269526">t</span><span class="op" id="7269527">.</span><span class="ident" id="7269528">Errorf</span><span class="op" id="7269534">(</span><span class="string" id="7269535">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="7269573">,</span>&nbsp;<span class="ident" id="7269575">line</span><span class="op" id="7269579">,</span>&nbsp;<span class="ident" id="7269581">tok</span><span class="op" id="7269584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7269589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7269593">}</span>&nbsp;<span class="keyword" id="7269595">else</span>&nbsp;<span class="keyword" id="7269600">if</span>&nbsp;<span class="ident" id="7269603">tok</span>&nbsp;<span class="op" id="7269607">==</span>&nbsp;<span class="ident" id="7269610">token</span><span class="op" id="7269615">.</span><span class="ident" id="7269616">SEMICOLON</span>&nbsp;<span class="op" id="7269626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269631">t</span><span class="op" id="7269632">.</span><span class="ident" id="7269633">Errorf</span><span class="op" id="7269639">(</span><span class="string" id="7269640">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="7269680">,</span>&nbsp;<span class="ident" id="7269682">line</span><span class="op" id="7269686">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7269690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7269694">pos</span><span class="op" id="7269697">,</span>&nbsp;<span class="ident" id="7269699">tok</span><span class="op" id="7269702">,</span>&nbsp;<span class="ident" id="7269704">lit</span>&nbsp;<span class="op" id="7269708">=</span>&nbsp;<span class="ident" id="7269710">S</span><span class="op" id="7269711">.</span><span class="ident" id="7269712">Scan</span><span class="op" id="7269716">(</span><span class="op" id="7269717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7269720">}</span><br>
<span class="lineno"></span><span class="op" id="7269722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="7269725">var</span>&nbsp;<span class="ident" id="7269729">lines</span>&nbsp;<span class="op" id="7269735">=</span>&nbsp;<span class="op" id="7269737">[</span><span class="op" id="7269738">]</span><span class="builtintype" id="7269739">string</span><span class="op" id="7269745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7269748">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7269798">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269850">&#34;&#34;</span><span class="op" id="7269852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269855">&#34;\ufeff#;&#34;</span><span class="op" id="7269865">,</span>&nbsp;<span class="comment" id="7269867">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269892">&#34;#;&#34;</span><span class="op" id="7269896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269899">&#34;foo$\n&#34;</span><span class="op" id="7269907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269910">&#34;123$\n&#34;</span><span class="op" id="7269918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269921">&#34;1.2$\n&#34;</span><span class="op" id="7269929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269932">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="7269940">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269943">`&#34;x&#34;`</span>&nbsp;<span class="op" id="7269949">+</span>&nbsp;<span class="string" id="7269951">&#34;$\n&#34;</span><span class="op" id="7269956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269959">&#34;`x`$\n&#34;</span><span class="op" id="7269967">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269971">&#34;+\n&#34;</span><span class="op" id="7269976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269979">&#34;-\n&#34;</span><span class="op" id="7269984">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269987">&#34;*\n&#34;</span><span class="op" id="7269992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7269995">&#34;/\n&#34;</span><span class="op" id="7270000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270003">&#34;%\n&#34;</span><span class="op" id="7270008">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270012">&#34;&amp;\n&#34;</span><span class="op" id="7270017">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270020">&#34;|\n&#34;</span><span class="op" id="7270025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270028">&#34;^\n&#34;</span><span class="op" id="7270033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270036">&#34;&lt;&lt;\n&#34;</span><span class="op" id="7270042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270045">&#34;&gt;&gt;\n&#34;</span><span class="op" id="7270051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270054">&#34;&amp;^\n&#34;</span><span class="op" id="7270060">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270064">&#34;+=\n&#34;</span><span class="op" id="7270070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270073">&#34;-=\n&#34;</span><span class="op" id="7270079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270082">&#34;*=\n&#34;</span><span class="op" id="7270088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270091">&#34;/=\n&#34;</span><span class="op" id="7270097">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270100">&#34;%=\n&#34;</span><span class="op" id="7270106">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270110">&#34;&amp;=\n&#34;</span><span class="op" id="7270116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270119">&#34;|=\n&#34;</span><span class="op" id="7270125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270128">&#34;^=\n&#34;</span><span class="op" id="7270134">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270137">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="7270144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270147">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="7270154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270157">&#34;&amp;^=\n&#34;</span><span class="op" id="7270164">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270168">&#34;&amp;&amp;\n&#34;</span><span class="op" id="7270174">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270177">&#34;||\n&#34;</span><span class="op" id="7270183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270186">&#34;&lt;-\n&#34;</span><span class="op" id="7270192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270195">&#34;++$\n&#34;</span><span class="op" id="7270202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270205">&#34;--$\n&#34;</span><span class="op" id="7270212">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270216">&#34;==\n&#34;</span><span class="op" id="7270222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270225">&#34;&lt;\n&#34;</span><span class="op" id="7270230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270233">&#34;&gt;\n&#34;</span><span class="op" id="7270238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270241">&#34;=\n&#34;</span><span class="op" id="7270246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270249">&#34;!\n&#34;</span><span class="op" id="7270254">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270258">&#34;!=\n&#34;</span><span class="op" id="7270264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270267">&#34;&lt;=\n&#34;</span><span class="op" id="7270273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270276">&#34;&gt;=\n&#34;</span><span class="op" id="7270282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270285">&#34;:=\n&#34;</span><span class="op" id="7270291">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270294">&#34;...\n&#34;</span><span class="op" id="7270301">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270305">&#34;(\n&#34;</span><span class="op" id="7270310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270313">&#34;[\n&#34;</span><span class="op" id="7270318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270321">&#34;{\n&#34;</span><span class="op" id="7270326">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270329">&#34;,\n&#34;</span><span class="op" id="7270334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270337">&#34;.\n&#34;</span><span class="op" id="7270342">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270346">&#34;)$\n&#34;</span><span class="op" id="7270352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270355">&#34;]$\n&#34;</span><span class="op" id="7270361">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270364">&#34;}$\n&#34;</span><span class="op" id="7270370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270373">&#34;#;\n&#34;</span><span class="op" id="7270379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270382">&#34;:\n&#34;</span><span class="op" id="7270387">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270391">&#34;break$\n&#34;</span><span class="op" id="7270401">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270404">&#34;case\n&#34;</span><span class="op" id="7270412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270415">&#34;chan\n&#34;</span><span class="op" id="7270423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270426">&#34;const\n&#34;</span><span class="op" id="7270435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270438">&#34;continue$\n&#34;</span><span class="op" id="7270451">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270455">&#34;default\n&#34;</span><span class="op" id="7270466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270469">&#34;defer\n&#34;</span><span class="op" id="7270478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270481">&#34;else\n&#34;</span><span class="op" id="7270489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270492">&#34;fallthrough$\n&#34;</span><span class="op" id="7270508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270511">&#34;for\n&#34;</span><span class="op" id="7270518">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270522">&#34;func\n&#34;</span><span class="op" id="7270530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270533">&#34;go\n&#34;</span><span class="op" id="7270539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270542">&#34;goto\n&#34;</span><span class="op" id="7270550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270553">&#34;if\n&#34;</span><span class="op" id="7270559">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270562">&#34;import\n&#34;</span><span class="op" id="7270572">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270576">&#34;interface\n&#34;</span><span class="op" id="7270589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270592">&#34;map\n&#34;</span><span class="op" id="7270599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270602">&#34;package\n&#34;</span><span class="op" id="7270613">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270616">&#34;range\n&#34;</span><span class="op" id="7270625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270628">&#34;return$\n&#34;</span><span class="op" id="7270639">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270643">&#34;select\n&#34;</span><span class="op" id="7270653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270656">&#34;struct\n&#34;</span><span class="op" id="7270666">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270669">&#34;switch\n&#34;</span><span class="op" id="7270679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270682">&#34;type\n&#34;</span><span class="op" id="7270690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270693">&#34;var\n&#34;</span><span class="op" id="7270700">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270704">&#34;foo$//comment\n&#34;</span><span class="op" id="7270721">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270724">&#34;foo$//comment&#34;</span><span class="op" id="7270739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270742">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="7270761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270764">&#34;foo$/*\n*/&#34;</span><span class="op" id="7270776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270779">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7270802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270805">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7270821">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270825">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="7270847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270850">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="7270870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270873">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="7270896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270899">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="7270915">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270918">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="7270954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270957">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="7270986">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7270990">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7271017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7271020">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7271053">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7271056">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="7271127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7271130">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="7271170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7271173">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="7271216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7271219">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="7271262">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7271266">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="7271333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7271336">&#34;package&nbsp;main$&#34;</span><span class="op" id="7271351">,</span><br>
<span class="lineno"></span><span class="op" id="7271353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7271356">func</span>&nbsp;<span class="ident" id="7271361">TestSemis</span><span class="op" id="7271370">(</span><span class="ident" id="7271371">t</span>&nbsp;<span class="op" id="7271373">*</span><span class="ident" id="7271374">testing</span><span class="op" id="7271381">.</span><span class="ident" id="7271382">T</span><span class="op" id="7271383">)</span>&nbsp;<span class="op" id="7271385">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7271388">for</span>&nbsp;<span class="ident" id="7271392">_</span><span class="op" id="7271393">,</span>&nbsp;<span class="ident" id="7271395">line</span>&nbsp;<span class="op" id="7271400">:=</span>&nbsp;<span class="keyword" id="7271403">range</span>&nbsp;<span class="ident" id="7271409">lines</span>&nbsp;<span class="op" id="7271415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7271419">checkSemi</span><span class="op" id="7271428">(</span><span class="ident" id="7271429">t</span><span class="op" id="7271430">,</span>&nbsp;<span class="ident" id="7271432">line</span><span class="op" id="7271436">,</span>&nbsp;<span class="num" id="7271438">0</span><span class="op" id="7271439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7271443">checkSemi</span><span class="op" id="7271452">(</span><span class="ident" id="7271453">t</span><span class="op" id="7271454">,</span>&nbsp;<span class="ident" id="7271456">line</span><span class="op" id="7271460">,</span>&nbsp;<span class="ident" id="7271462">ScanComments</span><span class="op" id="7271474">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7271479">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7271544">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7271585">for</span>&nbsp;<span class="ident" id="7271589">i</span>&nbsp;<span class="op" id="7271591">:=</span>&nbsp;<span class="builtinfunc" id="7271594">len</span><span class="op" id="7271597">(</span><span class="ident" id="7271598">line</span><span class="op" id="7271602">)</span>&nbsp;<span class="op" id="7271604">-</span>&nbsp;<span class="num" id="7271606">1</span><span class="op" id="7271607">;</span>&nbsp;<span class="ident" id="7271609">i</span>&nbsp;<span class="op" id="7271611">&gt;=</span>&nbsp;<span class="num" id="7271614">0</span>&nbsp;<span class="op" id="7271616">&amp;&amp;</span>&nbsp;<span class="ident" id="7271619">line</span><span class="op" id="7271623">[</span><span class="ident" id="7271624">i</span><span class="op" id="7271625">]</span>&nbsp;<span class="op" id="7271627">==</span>&nbsp;<span class="string" id="7271630">&#39;\n&#39;</span><span class="op" id="7271634">;</span>&nbsp;<span class="ident" id="7271636">i</span><span class="op" id="7271637">--</span>&nbsp;<span class="op" id="7271640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7271645">checkSemi</span><span class="op" id="7271654">(</span><span class="ident" id="7271655">t</span><span class="op" id="7271656">,</span>&nbsp;<span class="ident" id="7271658">line</span><span class="op" id="7271662">[</span><span class="num" id="7271663">0</span><span class="op" id="7271664">:</span><span class="ident" id="7271665">i</span><span class="op" id="7271666">]</span><span class="op" id="7271667">,</span>&nbsp;<span class="num" id="7271669">0</span><span class="op" id="7271670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7271675">checkSemi</span><span class="op" id="7271684">(</span><span class="ident" id="7271685">t</span><span class="op" id="7271686">,</span>&nbsp;<span class="ident" id="7271688">line</span><span class="op" id="7271692">[</span><span class="num" id="7271693">0</span><span class="op" id="7271694">:</span><span class="ident" id="7271695">i</span><span class="op" id="7271696">]</span><span class="op" id="7271697">,</span>&nbsp;<span class="ident" id="7271699">ScanComments</span><span class="op" id="7271711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7271715">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7271718">}</span><br>
<span class="lineno"></span><span class="op" id="7271720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7271723">type</span>&nbsp;<span class="ident" id="7271728">segment</span>&nbsp;<span class="keyword" id="7271736">struct</span>&nbsp;<span class="op" id="7271743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7271746">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="7271755">string</span>&nbsp;<span class="comment" id="7271762">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7271788">filename</span>&nbsp;<span class="builtintype" id="7271797">string</span>&nbsp;<span class="comment" id="7271804">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7271835">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7271844">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7271851">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="7271884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7271887">var</span>&nbsp;<span class="ident" id="7271891">segments</span>&nbsp;<span class="op" id="7271900">=</span>&nbsp;<span class="op" id="7271902">[</span><span class="op" id="7271903">]</span><span class="ident" id="7271904">segment</span><span class="op" id="7271911">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7271914">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7271991">{</span><span class="string" id="7271992">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="7272001">,</span>&nbsp;<span class="ident" id="7272003">filepath</span><span class="op" id="7272011">.</span><span class="ident" id="7272012">Join</span><span class="op" id="7272016">(</span><span class="string" id="7272017">&#34;dir&#34;</span><span class="op" id="7272022">,</span>&nbsp;<span class="string" id="7272024">&#34;TestLineComments&#34;</span><span class="op" id="7272042">)</span><span class="op" id="7272043">,</span>&nbsp;<span class="num" id="7272045">1</span><span class="op" id="7272046">}</span><span class="op" id="7272047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272050">{</span><span class="string" id="7272051">&#34;\nline2&#34;</span><span class="op" id="7272060">,</span>&nbsp;<span class="ident" id="7272062">filepath</span><span class="op" id="7272070">.</span><span class="ident" id="7272071">Join</span><span class="op" id="7272075">(</span><span class="string" id="7272076">&#34;dir&#34;</span><span class="op" id="7272081">,</span>&nbsp;<span class="string" id="7272083">&#34;TestLineComments&#34;</span><span class="op" id="7272101">)</span><span class="op" id="7272102">,</span>&nbsp;<span class="num" id="7272104">2</span><span class="op" id="7272105">}</span><span class="op" id="7272106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272109">{</span><span class="string" id="7272110">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="7272140">,</span>&nbsp;<span class="ident" id="7272142">filepath</span><span class="op" id="7272150">.</span><span class="ident" id="7272151">Join</span><span class="op" id="7272155">(</span><span class="string" id="7272156">&#34;dir&#34;</span><span class="op" id="7272161">,</span>&nbsp;<span class="string" id="7272163">&#34;TestLineComments&#34;</span><span class="op" id="7272181">)</span><span class="op" id="7272182">,</span>&nbsp;<span class="num" id="7272184">3</span><span class="op" id="7272185">}</span><span class="op" id="7272186">,</span>&nbsp;<span class="comment" id="7272188">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272218">{</span><span class="string" id="7272219">&#34;\nline4&#34;</span><span class="op" id="7272228">,</span>&nbsp;<span class="ident" id="7272230">filepath</span><span class="op" id="7272238">.</span><span class="ident" id="7272239">Join</span><span class="op" id="7272243">(</span><span class="string" id="7272244">&#34;dir&#34;</span><span class="op" id="7272249">,</span>&nbsp;<span class="string" id="7272251">&#34;TestLineComments&#34;</span><span class="op" id="7272269">)</span><span class="op" id="7272270">,</span>&nbsp;<span class="num" id="7272272">4</span><span class="op" id="7272273">}</span><span class="op" id="7272274">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272277">{</span><span class="string" id="7272278">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7272312">,</span>&nbsp;<span class="ident" id="7272314">filepath</span><span class="op" id="7272322">.</span><span class="ident" id="7272323">Join</span><span class="op" id="7272327">(</span><span class="string" id="7272328">&#34;dir&#34;</span><span class="op" id="7272333">,</span>&nbsp;<span class="string" id="7272335">&#34;File1.go&#34;</span><span class="op" id="7272345">)</span><span class="op" id="7272346">,</span>&nbsp;<span class="num" id="7272348">100</span><span class="op" id="7272351">}</span><span class="op" id="7272352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272355">{</span><span class="string" id="7272356">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="7272383">,</span>&nbsp;<span class="string" id="7272385">&#34;&#34;</span><span class="op" id="7272387">,</span>&nbsp;<span class="num" id="7272389">42</span><span class="op" id="7272391">}</span><span class="op" id="7272392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272395">{</span><span class="string" id="7272396">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="7272430">,</span>&nbsp;<span class="ident" id="7272432">filepath</span><span class="op" id="7272440">.</span><span class="ident" id="7272441">Join</span><span class="op" id="7272445">(</span><span class="string" id="7272446">&#34;dir&#34;</span><span class="op" id="7272451">,</span>&nbsp;<span class="string" id="7272453">&#34;File2.go&#34;</span><span class="op" id="7272463">)</span><span class="op" id="7272464">,</span>&nbsp;<span class="num" id="7272466">200</span><span class="op" id="7272469">}</span><span class="op" id="7272470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272473">{</span><span class="string" id="7272474">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7272503">,</span>&nbsp;<span class="ident" id="7272505">filepath</span><span class="op" id="7272513">.</span><span class="ident" id="7272514">Join</span><span class="op" id="7272518">(</span><span class="string" id="7272519">&#34;dir&#34;</span><span class="op" id="7272524">,</span>&nbsp;<span class="string" id="7272526">&#34;foo&#34;</span><span class="op" id="7272531">)</span><span class="op" id="7272532">,</span>&nbsp;<span class="num" id="7272534">42</span><span class="op" id="7272536">}</span><span class="op" id="7272537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272540">{</span><span class="string" id="7272541">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="7272569">,</span>&nbsp;<span class="ident" id="7272571">filepath</span><span class="op" id="7272579">.</span><span class="ident" id="7272580">Join</span><span class="op" id="7272584">(</span><span class="string" id="7272585">&#34;dir&#34;</span><span class="op" id="7272590">,</span>&nbsp;<span class="string" id="7272592">&#34;foo&#34;</span><span class="op" id="7272597">)</span><span class="op" id="7272598">,</span>&nbsp;<span class="num" id="7272600">44</span><span class="op" id="7272602">}</span><span class="op" id="7272603">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7272615">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272645">{</span><span class="string" id="7272646">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="7272673">,</span>&nbsp;<span class="ident" id="7272675">filepath</span><span class="op" id="7272683">.</span><span class="ident" id="7272684">Join</span><span class="op" id="7272688">(</span><span class="string" id="7272689">&#34;dir&#34;</span><span class="op" id="7272694">,</span>&nbsp;<span class="string" id="7272696">&#34;foo&#34;</span><span class="op" id="7272701">)</span><span class="op" id="7272702">,</span>&nbsp;<span class="num" id="7272704">46</span><span class="op" id="7272706">}</span><span class="op" id="7272707">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7272720">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272750">{</span><span class="string" id="7272751">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="7272789">,</span>&nbsp;<span class="ident" id="7272791">filepath</span><span class="op" id="7272799">.</span><span class="ident" id="7272800">Join</span><span class="op" id="7272804">(</span><span class="string" id="7272805">&#34;dir&#34;</span><span class="op" id="7272810">,</span>&nbsp;<span class="string" id="7272812">&#34;foo&#34;</span><span class="op" id="7272817">)</span><span class="op" id="7272818">,</span>&nbsp;<span class="num" id="7272820">48</span><span class="op" id="7272822">}</span><span class="op" id="7272823">,</span>&nbsp;<span class="comment" id="7272825">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272855">{</span><span class="string" id="7272856">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7272885">,</span>&nbsp;<span class="ident" id="7272887">filepath</span><span class="op" id="7272895">.</span><span class="ident" id="7272896">Join</span><span class="op" id="7272900">(</span><span class="string" id="7272901">&#34;dir&#34;</span><span class="op" id="7272906">,</span>&nbsp;<span class="string" id="7272908">&#34;foo&#34;</span><span class="op" id="7272913">)</span><span class="op" id="7272914">,</span>&nbsp;<span class="num" id="7272916">42</span><span class="op" id="7272918">}</span><span class="op" id="7272919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7272922">{</span><span class="string" id="7272923">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7272963">,</span>&nbsp;<span class="ident" id="7272965">filepath</span><span class="op" id="7272973">.</span><span class="ident" id="7272974">Join</span><span class="op" id="7272978">(</span><span class="string" id="7272979">&#34;dir&#34;</span><span class="op" id="7272984">,</span>&nbsp;<span class="string" id="7272986">&#34;a&#34;</span><span class="op" id="7272989">,</span>&nbsp;<span class="string" id="7272991">&#34;b&#34;</span><span class="op" id="7272994">,</span>&nbsp;<span class="string" id="7272996">&#34;c&#34;</span><span class="op" id="7272999">,</span>&nbsp;<span class="string" id="7273001">&#34;File1.go&#34;</span><span class="op" id="7273011">)</span><span class="op" id="7273012">,</span>&nbsp;<span class="num" id="7273014">100</span><span class="op" id="7273017">}</span><span class="op" id="7273018">,</span><br>
<span class="lineno"></span><span class="op" id="7273020">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="7273023">var</span>&nbsp;<span class="ident" id="7273027">unixsegments</span>&nbsp;<span class="op" id="7273040">=</span>&nbsp;<span class="op" id="7273042">[</span><span class="op" id="7273043">]</span><span class="ident" id="7273044">segment</span><span class="op" id="7273051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7273054">{</span><span class="string" id="7273055">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7273083">,</span>&nbsp;<span class="string" id="7273085">&#34;/bar&#34;</span><span class="op" id="7273091">,</span>&nbsp;<span class="num" id="7273093">42</span><span class="op" id="7273095">}</span><span class="op" id="7273096">,</span><br>
<span class="lineno"></span><span class="op" id="7273098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="7273101">var</span>&nbsp;<span class="ident" id="7273105">winsegments</span>&nbsp;<span class="op" id="7273117">=</span>&nbsp;<span class="op" id="7273119">[</span><span class="op" id="7273120">]</span><span class="ident" id="7273121">segment</span><span class="op" id="7273128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7273131">{</span><span class="string" id="7273132">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7273163">,</span>&nbsp;<span class="string" id="7273165">&#34;c:\\bar&#34;</span><span class="op" id="7273174">,</span>&nbsp;<span class="num" id="7273176">42</span><span class="op" id="7273178">}</span><span class="op" id="7273179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7273182">{</span><span class="string" id="7273183">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7273226">,</span>&nbsp;<span class="string" id="7273228">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="7273247">,</span>&nbsp;<span class="num" id="7273249">100</span><span class="op" id="7273252">}</span><span class="op" id="7273253">,</span><br>
<span class="lineno"></span><span class="op" id="7273255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="7273258">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7273344">func</span>&nbsp;<span class="ident" id="7273349">TestLineComments</span><span class="op" id="7273365">(</span><span class="ident" id="7273366">t</span>&nbsp;<span class="op" id="7273368">*</span><span class="ident" id="7273369">testing</span><span class="op" id="7273376">.</span><span class="ident" id="7273377">T</span><span class="op" id="7273378">)</span>&nbsp;<span class="op" id="7273380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273383">segs</span>&nbsp;<span class="op" id="7273388">:=</span>&nbsp;<span class="ident" id="7273391">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7273401">if</span>&nbsp;<span class="ident" id="7273404">runtime</span><span class="op" id="7273411">.</span><span class="ident" id="7273412">GOOS</span>&nbsp;<span class="op" id="7273417">==</span>&nbsp;<span class="string" id="7273420">&#34;windows&#34;</span>&nbsp;<span class="op" id="7273430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273434">segs</span>&nbsp;<span class="op" id="7273439">=</span>&nbsp;<span class="builtinfunc" id="7273441">append</span><span class="op" id="7273447">(</span><span class="ident" id="7273448">segs</span><span class="op" id="7273452">,</span>&nbsp;<span class="ident" id="7273454">winsegments</span><span class="op" id="7273465">...</span><span class="op" id="7273468">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7273471">}</span>&nbsp;<span class="keyword" id="7273473">else</span>&nbsp;<span class="op" id="7273478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273482">segs</span>&nbsp;<span class="op" id="7273487">=</span>&nbsp;<span class="builtinfunc" id="7273489">append</span><span class="op" id="7273495">(</span><span class="ident" id="7273496">segs</span><span class="op" id="7273500">,</span>&nbsp;<span class="ident" id="7273502">unixsegments</span><span class="op" id="7273514">...</span><span class="op" id="7273517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7273520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7273524">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7273540">var</span>&nbsp;<span class="ident" id="7273544">src</span>&nbsp;<span class="builtintype" id="7273548">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7273556">for</span>&nbsp;<span class="ident" id="7273560">_</span><span class="op" id="7273561">,</span>&nbsp;<span class="ident" id="7273563">e</span>&nbsp;<span class="op" id="7273565">:=</span>&nbsp;<span class="keyword" id="7273568">range</span>&nbsp;<span class="ident" id="7273574">segs</span>&nbsp;<span class="op" id="7273579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273583">src</span>&nbsp;<span class="op" id="7273587">+=</span>&nbsp;<span class="ident" id="7273590">e</span><span class="op" id="7273591">.</span><span class="ident" id="7273592">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7273601">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7273605">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7273621">var</span>&nbsp;<span class="ident" id="7273625">S</span>&nbsp;<span class="ident" id="7273627">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273636">file</span>&nbsp;<span class="op" id="7273641">:=</span>&nbsp;<span class="ident" id="7273644">fset</span><span class="op" id="7273648">.</span><span class="ident" id="7273649">AddFile</span><span class="op" id="7273656">(</span><span class="ident" id="7273657">filepath</span><span class="op" id="7273665">.</span><span class="ident" id="7273666">Join</span><span class="op" id="7273670">(</span><span class="string" id="7273671">&#34;dir&#34;</span><span class="op" id="7273676">,</span>&nbsp;<span class="string" id="7273678">&#34;TestLineComments&#34;</span><span class="op" id="7273696">)</span><span class="op" id="7273697">,</span>&nbsp;<span class="ident" id="7273699">fset</span><span class="op" id="7273703">.</span><span class="ident" id="7273704">Base</span><span class="op" id="7273708">(</span><span class="op" id="7273709">)</span><span class="op" id="7273710">,</span>&nbsp;<span class="builtinfunc" id="7273712">len</span><span class="op" id="7273715">(</span><span class="ident" id="7273716">src</span><span class="op" id="7273719">)</span><span class="op" id="7273720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273723">S</span><span class="op" id="7273724">.</span><span class="ident" id="7273725">Init</span><span class="op" id="7273729">(</span><span class="ident" id="7273730">file</span><span class="op" id="7273734">,</span>&nbsp;<span class="op" id="7273736">[</span><span class="op" id="7273737">]</span><span class="builtintype" id="7273738">byte</span><span class="op" id="7273742">(</span><span class="ident" id="7273743">src</span><span class="op" id="7273746">)</span><span class="op" id="7273747">,</span>&nbsp;<span class="ident" id="7273749">nil</span><span class="op" id="7273752">,</span>&nbsp;<span class="ident" id="7273754">dontInsertSemis</span><span class="op" id="7273769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7273772">for</span>&nbsp;<span class="ident" id="7273776">_</span><span class="op" id="7273777">,</span>&nbsp;<span class="ident" id="7273779">s</span>&nbsp;<span class="op" id="7273781">:=</span>&nbsp;<span class="keyword" id="7273784">range</span>&nbsp;<span class="ident" id="7273790">segs</span>&nbsp;<span class="op" id="7273795">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273799">p</span><span class="op" id="7273800">,</span>&nbsp;<span class="ident" id="7273802">_</span><span class="op" id="7273803">,</span>&nbsp;<span class="ident" id="7273805">lit</span>&nbsp;<span class="op" id="7273809">:=</span>&nbsp;<span class="ident" id="7273812">S</span><span class="op" id="7273813">.</span><span class="ident" id="7273814">Scan</span><span class="op" id="7273818">(</span><span class="op" id="7273819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273823">pos</span>&nbsp;<span class="op" id="7273827">:=</span>&nbsp;<span class="ident" id="7273830">file</span><span class="op" id="7273834">.</span><span class="ident" id="7273835">Position</span><span class="op" id="7273843">(</span><span class="ident" id="7273844">p</span><span class="op" id="7273845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273849">checkPos</span><span class="op" id="7273857">(</span><span class="ident" id="7273858">t</span><span class="op" id="7273859">,</span>&nbsp;<span class="ident" id="7273861">lit</span><span class="op" id="7273864">,</span>&nbsp;<span class="ident" id="7273866">p</span><span class="op" id="7273867">,</span>&nbsp;<span class="ident" id="7273869">token</span><span class="op" id="7273874">.</span><span class="ident" id="7273875">Position</span><span class="op" id="7273883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273888">Filename</span><span class="op" id="7273896">:</span>&nbsp;<span class="ident" id="7273898">s</span><span class="op" id="7273899">.</span><span class="ident" id="7273900">filename</span><span class="op" id="7273908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273913">Offset</span><span class="op" id="7273919">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7273923">pos</span><span class="op" id="7273926">.</span><span class="ident" id="7273927">Offset</span><span class="op" id="7273933">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273938">Line</span><span class="op" id="7273942">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7273948">s</span><span class="op" id="7273949">.</span><span class="ident" id="7273950">line</span><span class="op" id="7273954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7273959">Column</span><span class="op" id="7273965">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7273969">pos</span><span class="op" id="7273972">.</span><span class="ident" id="7273973">Column</span><span class="op" id="7273979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7273983">}</span><span class="op" id="7273984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7273987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7273991">if</span>&nbsp;<span class="ident" id="7273994">S</span><span class="op" id="7273995">.</span><span class="ident" id="7273996">ErrorCount</span>&nbsp;<span class="op" id="7274007">!=</span>&nbsp;<span class="num" id="7274010">0</span>&nbsp;<span class="op" id="7274012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274016">t</span><span class="op" id="7274017">.</span><span class="ident" id="7274018">Errorf</span><span class="op" id="7274024">(</span><span class="string" id="7274025">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7274042">,</span>&nbsp;<span class="ident" id="7274044">S</span><span class="op" id="7274045">.</span><span class="ident" id="7274046">ErrorCount</span><span class="op" id="7274056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7274059">}</span><br>
<span class="lineno"></span><span class="op" id="7274061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="7274064">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7274141">func</span>&nbsp;<span class="ident" id="7274146">TestInit</span><span class="op" id="7274154">(</span><span class="ident" id="7274155">t</span>&nbsp;<span class="op" id="7274157">*</span><span class="ident" id="7274158">testing</span><span class="op" id="7274165">.</span><span class="ident" id="7274166">T</span><span class="op" id="7274167">)</span>&nbsp;<span class="op" id="7274169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7274172">var</span>&nbsp;<span class="ident" id="7274176">s</span>&nbsp;<span class="ident" id="7274178">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7274188">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274201">src1</span>&nbsp;<span class="op" id="7274206">:=</span>&nbsp;<span class="string" id="7274209">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274224">f1</span>&nbsp;<span class="op" id="7274227">:=</span>&nbsp;<span class="ident" id="7274230">fset</span><span class="op" id="7274234">.</span><span class="ident" id="7274235">AddFile</span><span class="op" id="7274242">(</span><span class="string" id="7274243">&#34;src1&#34;</span><span class="op" id="7274249">,</span>&nbsp;<span class="ident" id="7274251">fset</span><span class="op" id="7274255">.</span><span class="ident" id="7274256">Base</span><span class="op" id="7274260">(</span><span class="op" id="7274261">)</span><span class="op" id="7274262">,</span>&nbsp;<span class="builtinfunc" id="7274264">len</span><span class="op" id="7274267">(</span><span class="ident" id="7274268">src1</span><span class="op" id="7274272">)</span><span class="op" id="7274273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274276">s</span><span class="op" id="7274277">.</span><span class="ident" id="7274278">Init</span><span class="op" id="7274282">(</span><span class="ident" id="7274283">f1</span><span class="op" id="7274285">,</span>&nbsp;<span class="op" id="7274287">[</span><span class="op" id="7274288">]</span><span class="builtintype" id="7274289">byte</span><span class="op" id="7274293">(</span><span class="ident" id="7274294">src1</span><span class="op" id="7274298">)</span><span class="op" id="7274299">,</span>&nbsp;<span class="ident" id="7274301">nil</span><span class="op" id="7274304">,</span>&nbsp;<span class="ident" id="7274306">dontInsertSemis</span><span class="op" id="7274321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7274324">if</span>&nbsp;<span class="ident" id="7274327">f1</span><span class="op" id="7274329">.</span><span class="ident" id="7274330">Size</span><span class="op" id="7274334">(</span><span class="op" id="7274335">)</span>&nbsp;<span class="op" id="7274337">!=</span>&nbsp;<span class="builtinfunc" id="7274340">len</span><span class="op" id="7274343">(</span><span class="ident" id="7274344">src1</span><span class="op" id="7274348">)</span>&nbsp;<span class="op" id="7274350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274354">t</span><span class="op" id="7274355">.</span><span class="ident" id="7274356">Errorf</span><span class="op" id="7274362">(</span><span class="string" id="7274363">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7274399">,</span>&nbsp;<span class="ident" id="7274401">f1</span><span class="op" id="7274403">.</span><span class="ident" id="7274404">Size</span><span class="op" id="7274408">(</span><span class="op" id="7274409">)</span><span class="op" id="7274410">,</span>&nbsp;<span class="builtinfunc" id="7274412">len</span><span class="op" id="7274415">(</span><span class="ident" id="7274416">src1</span><span class="op" id="7274420">)</span><span class="op" id="7274421">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7274424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274427">s</span><span class="op" id="7274428">.</span><span class="ident" id="7274429">Scan</span><span class="op" id="7274433">(</span><span class="op" id="7274434">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7274449">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274456">s</span><span class="op" id="7274457">.</span><span class="ident" id="7274458">Scan</span><span class="op" id="7274462">(</span><span class="op" id="7274463">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7274478">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274487">_</span><span class="op" id="7274488">,</span>&nbsp;<span class="ident" id="7274490">tok</span><span class="op" id="7274493">,</span>&nbsp;<span class="ident" id="7274495">_</span>&nbsp;<span class="op" id="7274497">:=</span>&nbsp;<span class="ident" id="7274500">s</span><span class="op" id="7274501">.</span><span class="ident" id="7274502">Scan</span><span class="op" id="7274506">(</span><span class="op" id="7274507">)</span>&nbsp;<span class="comment" id="7274509">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7274515">if</span>&nbsp;<span class="ident" id="7274518">tok</span>&nbsp;<span class="op" id="7274522">!=</span>&nbsp;<span class="ident" id="7274525">token</span><span class="op" id="7274530">.</span><span class="ident" id="7274531">LBRACE</span>&nbsp;<span class="op" id="7274538">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274542">t</span><span class="op" id="7274543">.</span><span class="ident" id="7274544">Errorf</span><span class="op" id="7274550">(</span><span class="string" id="7274551">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7274583">,</span>&nbsp;<span class="ident" id="7274585">tok</span><span class="op" id="7274588">,</span>&nbsp;<span class="ident" id="7274590">token</span><span class="op" id="7274595">.</span><span class="ident" id="7274596">LBRACE</span><span class="op" id="7274602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7274605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7274609">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274622">src2</span>&nbsp;<span class="op" id="7274627">:=</span>&nbsp;<span class="string" id="7274630">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274645">f2</span>&nbsp;<span class="op" id="7274648">:=</span>&nbsp;<span class="ident" id="7274651">fset</span><span class="op" id="7274655">.</span><span class="ident" id="7274656">AddFile</span><span class="op" id="7274663">(</span><span class="string" id="7274664">&#34;src2&#34;</span><span class="op" id="7274670">,</span>&nbsp;<span class="ident" id="7274672">fset</span><span class="op" id="7274676">.</span><span class="ident" id="7274677">Base</span><span class="op" id="7274681">(</span><span class="op" id="7274682">)</span><span class="op" id="7274683">,</span>&nbsp;<span class="builtinfunc" id="7274685">len</span><span class="op" id="7274688">(</span><span class="ident" id="7274689">src2</span><span class="op" id="7274693">)</span><span class="op" id="7274694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274697">s</span><span class="op" id="7274698">.</span><span class="ident" id="7274699">Init</span><span class="op" id="7274703">(</span><span class="ident" id="7274704">f2</span><span class="op" id="7274706">,</span>&nbsp;<span class="op" id="7274708">[</span><span class="op" id="7274709">]</span><span class="builtintype" id="7274710">byte</span><span class="op" id="7274714">(</span><span class="ident" id="7274715">src2</span><span class="op" id="7274719">)</span><span class="op" id="7274720">,</span>&nbsp;<span class="ident" id="7274722">nil</span><span class="op" id="7274725">,</span>&nbsp;<span class="ident" id="7274727">dontInsertSemis</span><span class="op" id="7274742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7274745">if</span>&nbsp;<span class="ident" id="7274748">f2</span><span class="op" id="7274750">.</span><span class="ident" id="7274751">Size</span><span class="op" id="7274755">(</span><span class="op" id="7274756">)</span>&nbsp;<span class="op" id="7274758">!=</span>&nbsp;<span class="builtinfunc" id="7274761">len</span><span class="op" id="7274764">(</span><span class="ident" id="7274765">src2</span><span class="op" id="7274769">)</span>&nbsp;<span class="op" id="7274771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274775">t</span><span class="op" id="7274776">.</span><span class="ident" id="7274777">Errorf</span><span class="op" id="7274783">(</span><span class="string" id="7274784">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7274820">,</span>&nbsp;<span class="ident" id="7274822">f2</span><span class="op" id="7274824">.</span><span class="ident" id="7274825">Size</span><span class="op" id="7274829">(</span><span class="op" id="7274830">)</span><span class="op" id="7274831">,</span>&nbsp;<span class="builtinfunc" id="7274833">len</span><span class="op" id="7274836">(</span><span class="ident" id="7274837">src2</span><span class="op" id="7274841">)</span><span class="op" id="7274842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7274845">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274848">_</span><span class="op" id="7274849">,</span>&nbsp;<span class="ident" id="7274851">tok</span><span class="op" id="7274854">,</span>&nbsp;<span class="ident" id="7274856">_</span>&nbsp;<span class="op" id="7274858">=</span>&nbsp;<span class="ident" id="7274860">s</span><span class="op" id="7274861">.</span><span class="ident" id="7274862">Scan</span><span class="op" id="7274866">(</span><span class="op" id="7274867">)</span>&nbsp;<span class="comment" id="7274869">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7274876">if</span>&nbsp;<span class="ident" id="7274879">tok</span>&nbsp;<span class="op" id="7274883">!=</span>&nbsp;<span class="ident" id="7274886">token</span><span class="op" id="7274891">.</span><span class="ident" id="7274892">GO</span>&nbsp;<span class="op" id="7274895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274899">t</span><span class="op" id="7274900">.</span><span class="ident" id="7274901">Errorf</span><span class="op" id="7274907">(</span><span class="string" id="7274908">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7274940">,</span>&nbsp;<span class="ident" id="7274942">tok</span><span class="op" id="7274945">,</span>&nbsp;<span class="ident" id="7274947">token</span><span class="op" id="7274952">.</span><span class="ident" id="7274953">GO</span><span class="op" id="7274955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7274958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7274962">if</span>&nbsp;<span class="ident" id="7274965">s</span><span class="op" id="7274966">.</span><span class="ident" id="7274967">ErrorCount</span>&nbsp;<span class="op" id="7274978">!=</span>&nbsp;<span class="num" id="7274981">0</span>&nbsp;<span class="op" id="7274983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7274987">t</span><span class="op" id="7274988">.</span><span class="ident" id="7274989">Errorf</span><span class="op" id="7274995">(</span><span class="string" id="7274996">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7275013">,</span>&nbsp;<span class="ident" id="7275015">s</span><span class="op" id="7275016">.</span><span class="ident" id="7275017">ErrorCount</span><span class="op" id="7275027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7275030">}</span><br>
<span class="lineno"></span><span class="op" id="7275032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7275035">func</span>&nbsp;<span class="ident" id="7275040">TestStdErrorHander</span><span class="op" id="7275058">(</span><span class="ident" id="7275059">t</span>&nbsp;<span class="op" id="7275061">*</span><span class="ident" id="7275062">testing</span><span class="op" id="7275069">.</span><span class="ident" id="7275070">T</span><span class="op" id="7275071">)</span>&nbsp;<span class="op" id="7275073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7275076">const</span>&nbsp;<span class="ident" id="7275082">src</span>&nbsp;<span class="op" id="7275086">=</span>&nbsp;<span class="string" id="7275088">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7275094">+</span>&nbsp;<span class="comment" id="7275096">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7275135">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7275143">+</span>&nbsp;<span class="comment" id="7275145">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7275178">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="7275198">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7275202">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7275208">+</span>&nbsp;<span class="comment" id="7275210">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7275245">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="7275264">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7275268">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7275276">+</span>&nbsp;<span class="comment" id="7275278">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7275317">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="7275336">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7275340">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="7275348">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7275381">var</span>&nbsp;<span class="ident" id="7275385">list</span>&nbsp;<span class="ident" id="7275390">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7275401">eh</span>&nbsp;<span class="op" id="7275404">:=</span>&nbsp;<span class="keyword" id="7275407">func</span><span class="op" id="7275411">(</span><span class="ident" id="7275412">pos</span>&nbsp;<span class="ident" id="7275416">token</span><span class="op" id="7275421">.</span><span class="ident" id="7275422">Position</span><span class="op" id="7275430">,</span>&nbsp;<span class="ident" id="7275432">msg</span>&nbsp;<span class="builtintype" id="7275436">string</span><span class="op" id="7275442">)</span>&nbsp;<span class="op" id="7275444">{</span>&nbsp;<span class="ident" id="7275446">list</span><span class="op" id="7275450">.</span><span class="ident" id="7275451">Add</span><span class="op" id="7275454">(</span><span class="ident" id="7275455">pos</span><span class="op" id="7275458">,</span>&nbsp;<span class="ident" id="7275460">msg</span><span class="op" id="7275463">)</span>&nbsp;<span class="op" id="7275465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7275469">var</span>&nbsp;<span class="ident" id="7275473">s</span>&nbsp;<span class="ident" id="7275475">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7275484">s</span><span class="op" id="7275485">.</span><span class="ident" id="7275486">Init</span><span class="op" id="7275490">(</span><span class="ident" id="7275491">fset</span><span class="op" id="7275495">.</span><span class="ident" id="7275496">AddFile</span><span class="op" id="7275503">(</span><span class="string" id="7275504">&#34;File1&#34;</span><span class="op" id="7275511">,</span>&nbsp;<span class="ident" id="7275513">fset</span><span class="op" id="7275517">.</span><span class="ident" id="7275518">Base</span><span class="op" id="7275522">(</span><span class="op" id="7275523">)</span><span class="op" id="7275524">,</span>&nbsp;<span class="builtinfunc" id="7275526">len</span><span class="op" id="7275529">(</span><span class="ident" id="7275530">src</span><span class="op" id="7275533">)</span><span class="op" id="7275534">)</span><span class="op" id="7275535">,</span>&nbsp;<span class="op" id="7275537">[</span><span class="op" id="7275538">]</span><span class="builtintype" id="7275539">byte</span><span class="op" id="7275543">(</span><span class="ident" id="7275544">src</span><span class="op" id="7275547">)</span><span class="op" id="7275548">,</span>&nbsp;<span class="ident" id="7275550">eh</span><span class="op" id="7275552">,</span>&nbsp;<span class="ident" id="7275554">dontInsertSemis</span><span class="op" id="7275569">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7275572">for</span>&nbsp;<span class="op" id="7275576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7275580">if</span>&nbsp;<span class="ident" id="7275583">_</span><span class="op" id="7275584">,</span>&nbsp;<span class="ident" id="7275586">tok</span><span class="op" id="7275589">,</span>&nbsp;<span class="ident" id="7275591">_</span>&nbsp;<span class="op" id="7275593">:=</span>&nbsp;<span class="ident" id="7275596">s</span><span class="op" id="7275597">.</span><span class="ident" id="7275598">Scan</span><span class="op" id="7275602">(</span><span class="op" id="7275603">)</span><span class="op" id="7275604">;</span>&nbsp;<span class="ident" id="7275606">tok</span>&nbsp;<span class="op" id="7275610">==</span>&nbsp;<span class="ident" id="7275613">token</span><span class="op" id="7275618">.</span><span class="ident" id="7275619">EOF</span>&nbsp;<span class="op" id="7275623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7275628">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7275636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7275639">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7275643">if</span>&nbsp;<span class="builtinfunc" id="7275646">len</span><span class="op" id="7275649">(</span><span class="ident" id="7275650">list</span><span class="op" id="7275654">)</span>&nbsp;<span class="op" id="7275656">!=</span>&nbsp;<span class="ident" id="7275659">s</span><span class="op" id="7275660">.</span><span class="ident" id="7275661">ErrorCount</span>&nbsp;<span class="op" id="7275672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7275676">t</span><span class="op" id="7275677">.</span><span class="ident" id="7275678">Errorf</span><span class="op" id="7275684">(</span><span class="string" id="7275685">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7275715">,</span>&nbsp;<span class="builtinfunc" id="7275717">len</span><span class="op" id="7275720">(</span><span class="ident" id="7275721">list</span><span class="op" id="7275725">)</span><span class="op" id="7275726">,</span>&nbsp;<span class="ident" id="7275728">s</span><span class="op" id="7275729">.</span><span class="ident" id="7275730">ErrorCount</span><span class="op" id="7275740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7275743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7275747">if</span>&nbsp;<span class="builtinfunc" id="7275750">len</span><span class="op" id="7275753">(</span><span class="ident" id="7275754">list</span><span class="op" id="7275758">)</span>&nbsp;<span class="op" id="7275760">!=</span>&nbsp;<span class="num" id="7275763">9</span>&nbsp;<span class="op" id="7275765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7275769">t</span><span class="op" id="7275770">.</span><span class="ident" id="7275771">Errorf</span><span class="op" id="7275777">(</span><span class="string" id="7275778">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7275811">,</span>&nbsp;<span class="builtinfunc" id="7275813">len</span><span class="op" id="7275816">(</span><span class="ident" id="7275817">list</span><span class="op" id="7275821">)</span><span class="op" id="7275822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7275826">PrintError</span><span class="op" id="7275836">(</span><span class="ident" id="7275837">os</span><span class="op" id="7275839">.</span><span class="ident" id="7275840">Stderr</span><span class="op" id="7275846">,</span>&nbsp;<span class="ident" id="7275848">list</span><span class="op" id="7275852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7275855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7275859">list</span><span class="op" id="7275863">.</span><span class="ident" id="7275864">Sort</span><span class="op" id="7275868">(</span><span class="op" id="7275869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7275872">if</span>&nbsp;<span class="builtinfunc" id="7275875">len</span><span class="op" id="7275878">(</span><span class="ident" id="7275879">list</span><span class="op" id="7275883">)</span>&nbsp;<span class="op" id="7275885">!=</span>&nbsp;<span class="num" id="7275888">9</span>&nbsp;<span class="op" id="7275890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7275894">t</span><span class="op" id="7275895">.</span><span class="ident" id="7275896">Errorf</span><span class="op" id="7275902">(</span><span class="string" id="7275903">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7275939">,</span>&nbsp;<span class="builtinfunc" id="7275941">len</span><span class="op" id="7275944">(</span><span class="ident" id="7275945">list</span><span class="op" id="7275949">)</span><span class="op" id="7275950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7275954">PrintError</span><span class="op" id="7275964">(</span><span class="ident" id="7275965">os</span><span class="op" id="7275967">.</span><span class="ident" id="7275968">Stderr</span><span class="op" id="7275974">,</span>&nbsp;<span class="ident" id="7275976">list</span><span class="op" id="7275980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7275983">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7275987">list</span><span class="op" id="7275991">.</span><span class="ident" id="7275992">RemoveMultiples</span><span class="op" id="7276007">(</span><span class="op" id="7276008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7276011">if</span>&nbsp;<span class="builtinfunc" id="7276014">len</span><span class="op" id="7276017">(</span><span class="ident" id="7276018">list</span><span class="op" id="7276022">)</span>&nbsp;<span class="op" id="7276024">!=</span>&nbsp;<span class="num" id="7276027">4</span>&nbsp;<span class="op" id="7276029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276033">t</span><span class="op" id="7276034">.</span><span class="ident" id="7276035">Errorf</span><span class="op" id="7276041">(</span><span class="string" id="7276042">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="7276084">,</span>&nbsp;<span class="builtinfunc" id="7276086">len</span><span class="op" id="7276089">(</span><span class="ident" id="7276090">list</span><span class="op" id="7276094">)</span><span class="op" id="7276095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276099">PrintError</span><span class="op" id="7276109">(</span><span class="ident" id="7276110">os</span><span class="op" id="7276112">.</span><span class="ident" id="7276113">Stderr</span><span class="op" id="7276119">,</span>&nbsp;<span class="ident" id="7276121">list</span><span class="op" id="7276125">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7276128">}</span><br>
<span class="lineno"></span><span class="op" id="7276130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7276133">type</span>&nbsp;<span class="ident" id="7276138">errorCollector</span>&nbsp;<span class="keyword" id="7276153">struct</span>&nbsp;<span class="op" id="7276160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276163">cnt</span>&nbsp;<span class="builtintype" id="7276167">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7276182">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276215">msg</span>&nbsp;<span class="builtintype" id="7276219">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7276234">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276269">pos</span>&nbsp;<span class="ident" id="7276273">token</span><span class="op" id="7276278">.</span><span class="ident" id="7276279">Position</span>&nbsp;<span class="comment" id="7276288">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="7276323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7276326">func</span>&nbsp;<span class="ident" id="7276331">checkError</span><span class="op" id="7276341">(</span><span class="ident" id="7276342">t</span>&nbsp;<span class="op" id="7276344">*</span><span class="ident" id="7276345">testing</span><span class="op" id="7276352">.</span><span class="ident" id="7276353">T</span><span class="op" id="7276354">,</span>&nbsp;<span class="ident" id="7276356">src</span>&nbsp;<span class="builtintype" id="7276360">string</span><span class="op" id="7276366">,</span>&nbsp;<span class="ident" id="7276368">tok</span>&nbsp;<span class="ident" id="7276372">token</span><span class="op" id="7276377">.</span><span class="ident" id="7276378">Token</span><span class="op" id="7276383">,</span>&nbsp;<span class="ident" id="7276385">pos</span>&nbsp;<span class="builtintype" id="7276389">int</span><span class="op" id="7276392">,</span>&nbsp;<span class="ident" id="7276394">lit</span><span class="op" id="7276397">,</span>&nbsp;<span class="ident" id="7276399">err</span>&nbsp;<span class="builtintype" id="7276403">string</span><span class="op" id="7276409">)</span>&nbsp;<span class="op" id="7276411">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7276414">var</span>&nbsp;<span class="ident" id="7276418">s</span>&nbsp;<span class="ident" id="7276420">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7276429">var</span>&nbsp;<span class="ident" id="7276433">h</span>&nbsp;<span class="ident" id="7276435">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276451">eh</span>&nbsp;<span class="op" id="7276454">:=</span>&nbsp;<span class="keyword" id="7276457">func</span><span class="op" id="7276461">(</span><span class="ident" id="7276462">pos</span>&nbsp;<span class="ident" id="7276466">token</span><span class="op" id="7276471">.</span><span class="ident" id="7276472">Position</span><span class="op" id="7276480">,</span>&nbsp;<span class="ident" id="7276482">msg</span>&nbsp;<span class="builtintype" id="7276486">string</span><span class="op" id="7276492">)</span>&nbsp;<span class="op" id="7276494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276498">h</span><span class="op" id="7276499">.</span><span class="ident" id="7276500">cnt</span><span class="op" id="7276503">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276508">h</span><span class="op" id="7276509">.</span><span class="ident" id="7276510">msg</span>&nbsp;<span class="op" id="7276514">=</span>&nbsp;<span class="ident" id="7276516">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276522">h</span><span class="op" id="7276523">.</span><span class="ident" id="7276524">pos</span>&nbsp;<span class="op" id="7276528">=</span>&nbsp;<span class="ident" id="7276530">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7276535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276538">s</span><span class="op" id="7276539">.</span><span class="ident" id="7276540">Init</span><span class="op" id="7276544">(</span><span class="ident" id="7276545">fset</span><span class="op" id="7276549">.</span><span class="ident" id="7276550">AddFile</span><span class="op" id="7276557">(</span><span class="string" id="7276558">&#34;&#34;</span><span class="op" id="7276560">,</span>&nbsp;<span class="ident" id="7276562">fset</span><span class="op" id="7276566">.</span><span class="ident" id="7276567">Base</span><span class="op" id="7276571">(</span><span class="op" id="7276572">)</span><span class="op" id="7276573">,</span>&nbsp;<span class="builtinfunc" id="7276575">len</span><span class="op" id="7276578">(</span><span class="ident" id="7276579">src</span><span class="op" id="7276582">)</span><span class="op" id="7276583">)</span><span class="op" id="7276584">,</span>&nbsp;<span class="op" id="7276586">[</span><span class="op" id="7276587">]</span><span class="builtintype" id="7276588">byte</span><span class="op" id="7276592">(</span><span class="ident" id="7276593">src</span><span class="op" id="7276596">)</span><span class="op" id="7276597">,</span>&nbsp;<span class="ident" id="7276599">eh</span><span class="op" id="7276601">,</span>&nbsp;<span class="ident" id="7276603">ScanComments</span><span class="op" id="7276615">|</span><span class="ident" id="7276616">dontInsertSemis</span><span class="op" id="7276631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276634">_</span><span class="op" id="7276635">,</span>&nbsp;<span class="ident" id="7276637">tok0</span><span class="op" id="7276641">,</span>&nbsp;<span class="ident" id="7276643">lit0</span>&nbsp;<span class="op" id="7276648">:=</span>&nbsp;<span class="ident" id="7276651">s</span><span class="op" id="7276652">.</span><span class="ident" id="7276653">Scan</span><span class="op" id="7276657">(</span><span class="op" id="7276658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7276661">if</span>&nbsp;<span class="ident" id="7276664">tok0</span>&nbsp;<span class="op" id="7276669">!=</span>&nbsp;<span class="ident" id="7276672">tok</span>&nbsp;<span class="op" id="7276676">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276680">t</span><span class="op" id="7276681">.</span><span class="ident" id="7276682">Errorf</span><span class="op" id="7276688">(</span><span class="string" id="7276689">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7276714">,</span>&nbsp;<span class="ident" id="7276716">src</span><span class="op" id="7276719">,</span>&nbsp;<span class="ident" id="7276721">tok0</span><span class="op" id="7276725">,</span>&nbsp;<span class="ident" id="7276727">tok</span><span class="op" id="7276730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7276733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7276736">if</span>&nbsp;<span class="ident" id="7276739">tok0</span>&nbsp;<span class="op" id="7276744">!=</span>&nbsp;<span class="ident" id="7276747">token</span><span class="op" id="7276752">.</span><span class="ident" id="7276753">ILLEGAL</span>&nbsp;<span class="op" id="7276761">&amp;&amp;</span>&nbsp;<span class="ident" id="7276764">lit0</span>&nbsp;<span class="op" id="7276769">!=</span>&nbsp;<span class="ident" id="7276772">lit</span>&nbsp;<span class="op" id="7276776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276780">t</span><span class="op" id="7276781">.</span><span class="ident" id="7276782">Errorf</span><span class="op" id="7276788">(</span><span class="string" id="7276789">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7276822">,</span>&nbsp;<span class="ident" id="7276824">src</span><span class="op" id="7276827">,</span>&nbsp;<span class="ident" id="7276829">lit0</span><span class="op" id="7276833">,</span>&nbsp;<span class="ident" id="7276835">lit</span><span class="op" id="7276838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7276841">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276844">cnt</span>&nbsp;<span class="op" id="7276848">:=</span>&nbsp;<span class="num" id="7276851">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7276854">if</span>&nbsp;<span class="ident" id="7276857">err</span>&nbsp;<span class="op" id="7276861">!=</span>&nbsp;<span class="string" id="7276864">&#34;&#34;</span>&nbsp;<span class="op" id="7276867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276871">cnt</span>&nbsp;<span class="op" id="7276875">=</span>&nbsp;<span class="num" id="7276877">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7276880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7276883">if</span>&nbsp;<span class="ident" id="7276886">h</span><span class="op" id="7276887">.</span><span class="ident" id="7276888">cnt</span>&nbsp;<span class="op" id="7276892">!=</span>&nbsp;<span class="ident" id="7276895">cnt</span>&nbsp;<span class="op" id="7276899">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276903">t</span><span class="op" id="7276904">.</span><span class="ident" id="7276905">Errorf</span><span class="op" id="7276911">(</span><span class="string" id="7276912">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7276941">,</span>&nbsp;<span class="ident" id="7276943">src</span><span class="op" id="7276946">,</span>&nbsp;<span class="ident" id="7276948">h</span><span class="op" id="7276949">.</span><span class="ident" id="7276950">cnt</span><span class="op" id="7276953">,</span>&nbsp;<span class="ident" id="7276955">cnt</span><span class="op" id="7276958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7276961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7276964">if</span>&nbsp;<span class="ident" id="7276967">h</span><span class="op" id="7276968">.</span><span class="ident" id="7276969">msg</span>&nbsp;<span class="op" id="7276973">!=</span>&nbsp;<span class="ident" id="7276976">err</span>&nbsp;<span class="op" id="7276980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7276984">t</span><span class="op" id="7276985">.</span><span class="ident" id="7276986">Errorf</span><span class="op" id="7276992">(</span><span class="string" id="7276993">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7277022">,</span>&nbsp;<span class="ident" id="7277024">src</span><span class="op" id="7277027">,</span>&nbsp;<span class="ident" id="7277029">h</span><span class="op" id="7277030">.</span><span class="ident" id="7277031">msg</span><span class="op" id="7277034">,</span>&nbsp;<span class="ident" id="7277036">err</span><span class="op" id="7277039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277042">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7277045">if</span>&nbsp;<span class="ident" id="7277048">h</span><span class="op" id="7277049">.</span><span class="ident" id="7277050">pos</span><span class="op" id="7277053">.</span><span class="ident" id="7277054">Offset</span>&nbsp;<span class="op" id="7277061">!=</span>&nbsp;<span class="ident" id="7277064">pos</span>&nbsp;<span class="op" id="7277068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7277072">t</span><span class="op" id="7277073">.</span><span class="ident" id="7277074">Errorf</span><span class="op" id="7277080">(</span><span class="string" id="7277081">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7277113">,</span>&nbsp;<span class="ident" id="7277115">src</span><span class="op" id="7277118">,</span>&nbsp;<span class="ident" id="7277120">h</span><span class="op" id="7277121">.</span><span class="ident" id="7277122">pos</span><span class="op" id="7277125">.</span><span class="ident" id="7277126">Offset</span><span class="op" id="7277132">,</span>&nbsp;<span class="ident" id="7277134">pos</span><span class="op" id="7277137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277140">}</span><br>
<span class="lineno"></span><span class="op" id="7277142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="7277145">var</span>&nbsp;<span class="ident" id="7277149">errors</span>&nbsp;<span class="op" id="7277156">=</span>&nbsp;<span class="op" id="7277158">[</span><span class="op" id="7277159">]</span><span class="keyword" id="7277160">struct</span>&nbsp;<span class="op" id="7277167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7277170">src</span>&nbsp;<span class="builtintype" id="7277174">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7277182">tok</span>&nbsp;<span class="ident" id="7277186">token</span><span class="op" id="7277191">.</span><span class="ident" id="7277192">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7277199">pos</span>&nbsp;<span class="builtintype" id="7277203">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7277208">lit</span>&nbsp;<span class="builtintype" id="7277212">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7277220">err</span>&nbsp;<span class="builtintype" id="7277224">string</span><br>
<span class="lineno"></span><span class="op" id="7277231">}</span><span class="op" id="7277232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277235">{</span><span class="string" id="7277236">&#34;\a&#34;</span><span class="op" id="7277240">,</span>&nbsp;<span class="ident" id="7277242">token</span><span class="op" id="7277247">.</span><span class="ident" id="7277248">ILLEGAL</span><span class="op" id="7277255">,</span>&nbsp;<span class="num" id="7277257">0</span><span class="op" id="7277258">,</span>&nbsp;<span class="string" id="7277260">&#34;&#34;</span><span class="op" id="7277262">,</span>&nbsp;<span class="string" id="7277264">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="7277290">}</span><span class="op" id="7277291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277294">{</span><span class="string" id="7277295">`#`</span><span class="op" id="7277298">,</span>&nbsp;<span class="ident" id="7277300">token</span><span class="op" id="7277305">.</span><span class="ident" id="7277306">ILLEGAL</span><span class="op" id="7277313">,</span>&nbsp;<span class="num" id="7277315">0</span><span class="op" id="7277316">,</span>&nbsp;<span class="string" id="7277318">&#34;&#34;</span><span class="op" id="7277320">,</span>&nbsp;<span class="string" id="7277322">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="7277352">}</span><span class="op" id="7277353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277356">{</span><span class="string" id="7277357">`…`</span><span class="op" id="7277362">,</span>&nbsp;<span class="ident" id="7277364">token</span><span class="op" id="7277369">.</span><span class="ident" id="7277370">ILLEGAL</span><span class="op" id="7277377">,</span>&nbsp;<span class="num" id="7277379">0</span><span class="op" id="7277380">,</span>&nbsp;<span class="string" id="7277382">&#34;&#34;</span><span class="op" id="7277384">,</span>&nbsp;<span class="string" id="7277386">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="7277418">}</span><span class="op" id="7277419">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277422">{</span><span class="string" id="7277423">`&#39;&nbsp;&#39;`</span><span class="op" id="7277428">,</span>&nbsp;<span class="ident" id="7277430">token</span><span class="op" id="7277435">.</span><span class="ident" id="7277436">CHAR</span><span class="op" id="7277440">,</span>&nbsp;<span class="num" id="7277442">0</span><span class="op" id="7277443">,</span>&nbsp;<span class="string" id="7277445">`&#39;&nbsp;&#39;`</span><span class="op" id="7277450">,</span>&nbsp;<span class="string" id="7277452">&#34;&#34;</span><span class="op" id="7277454">}</span><span class="op" id="7277455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277458">{</span><span class="string" id="7277459">`&#39;&#39;`</span><span class="op" id="7277463">,</span>&nbsp;<span class="ident" id="7277465">token</span><span class="op" id="7277470">.</span><span class="ident" id="7277471">CHAR</span><span class="op" id="7277475">,</span>&nbsp;<span class="num" id="7277477">0</span><span class="op" id="7277478">,</span>&nbsp;<span class="string" id="7277480">`&#39;&#39;`</span><span class="op" id="7277484">,</span>&nbsp;<span class="string" id="7277486">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7277508">}</span><span class="op" id="7277509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277512">{</span><span class="string" id="7277513">`&#39;12&#39;`</span><span class="op" id="7277519">,</span>&nbsp;<span class="ident" id="7277521">token</span><span class="op" id="7277526">.</span><span class="ident" id="7277527">CHAR</span><span class="op" id="7277531">,</span>&nbsp;<span class="num" id="7277533">0</span><span class="op" id="7277534">,</span>&nbsp;<span class="string" id="7277536">`&#39;12&#39;`</span><span class="op" id="7277542">,</span>&nbsp;<span class="string" id="7277544">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7277566">}</span><span class="op" id="7277567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277570">{</span><span class="string" id="7277571">`&#39;123&#39;`</span><span class="op" id="7277578">,</span>&nbsp;<span class="ident" id="7277580">token</span><span class="op" id="7277585">.</span><span class="ident" id="7277586">CHAR</span><span class="op" id="7277590">,</span>&nbsp;<span class="num" id="7277592">0</span><span class="op" id="7277593">,</span>&nbsp;<span class="string" id="7277595">`&#39;123&#39;`</span><span class="op" id="7277602">,</span>&nbsp;<span class="string" id="7277604">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7277626">}</span><span class="op" id="7277627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277630">{</span><span class="string" id="7277631">`&#39;\0&#39;`</span><span class="op" id="7277637">,</span>&nbsp;<span class="ident" id="7277639">token</span><span class="op" id="7277644">.</span><span class="ident" id="7277645">CHAR</span><span class="op" id="7277649">,</span>&nbsp;<span class="num" id="7277651">3</span><span class="op" id="7277652">,</span>&nbsp;<span class="string" id="7277654">`&#39;\0&#39;`</span><span class="op" id="7277660">,</span>&nbsp;<span class="string" id="7277662">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7277711">}</span><span class="op" id="7277712">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277715">{</span><span class="string" id="7277716">`&#39;\07&#39;`</span><span class="op" id="7277723">,</span>&nbsp;<span class="ident" id="7277725">token</span><span class="op" id="7277730">.</span><span class="ident" id="7277731">CHAR</span><span class="op" id="7277735">,</span>&nbsp;<span class="num" id="7277737">4</span><span class="op" id="7277738">,</span>&nbsp;<span class="string" id="7277740">`&#39;\07&#39;`</span><span class="op" id="7277747">,</span>&nbsp;<span class="string" id="7277749">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7277798">}</span><span class="op" id="7277799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277802">{</span><span class="string" id="7277803">`&#39;\8&#39;`</span><span class="op" id="7277809">,</span>&nbsp;<span class="ident" id="7277811">token</span><span class="op" id="7277816">.</span><span class="ident" id="7277817">CHAR</span><span class="op" id="7277821">,</span>&nbsp;<span class="num" id="7277823">2</span><span class="op" id="7277824">,</span>&nbsp;<span class="string" id="7277826">`&#39;\8&#39;`</span><span class="op" id="7277832">,</span>&nbsp;<span class="string" id="7277834">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7277859">}</span><span class="op" id="7277860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277863">{</span><span class="string" id="7277864">`&#39;\08&#39;`</span><span class="op" id="7277871">,</span>&nbsp;<span class="ident" id="7277873">token</span><span class="op" id="7277878">.</span><span class="ident" id="7277879">CHAR</span><span class="op" id="7277883">,</span>&nbsp;<span class="num" id="7277885">3</span><span class="op" id="7277886">,</span>&nbsp;<span class="string" id="7277888">`&#39;\08&#39;`</span><span class="op" id="7277895">,</span>&nbsp;<span class="string" id="7277897">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7277946">}</span><span class="op" id="7277947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7277950">{</span><span class="string" id="7277951">`&#39;\x&#39;`</span><span class="op" id="7277957">,</span>&nbsp;<span class="ident" id="7277959">token</span><span class="op" id="7277964">.</span><span class="ident" id="7277965">CHAR</span><span class="op" id="7277969">,</span>&nbsp;<span class="num" id="7277971">3</span><span class="op" id="7277972">,</span>&nbsp;<span class="string" id="7277974">`&#39;\x&#39;`</span><span class="op" id="7277980">,</span>&nbsp;<span class="string" id="7277982">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7278031">}</span><span class="op" id="7278032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278035">{</span><span class="string" id="7278036">`&#39;\x0&#39;`</span><span class="op" id="7278043">,</span>&nbsp;<span class="ident" id="7278045">token</span><span class="op" id="7278050">.</span><span class="ident" id="7278051">CHAR</span><span class="op" id="7278055">,</span>&nbsp;<span class="num" id="7278057">4</span><span class="op" id="7278058">,</span>&nbsp;<span class="string" id="7278060">`&#39;\x0&#39;`</span><span class="op" id="7278067">,</span>&nbsp;<span class="string" id="7278069">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7278118">}</span><span class="op" id="7278119">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278122">{</span><span class="string" id="7278123">`&#39;\x0g&#39;`</span><span class="op" id="7278131">,</span>&nbsp;<span class="ident" id="7278133">token</span><span class="op" id="7278138">.</span><span class="ident" id="7278139">CHAR</span><span class="op" id="7278143">,</span>&nbsp;<span class="num" id="7278145">4</span><span class="op" id="7278146">,</span>&nbsp;<span class="string" id="7278148">`&#39;\x0g&#39;`</span><span class="op" id="7278156">,</span>&nbsp;<span class="string" id="7278158">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7278207">}</span><span class="op" id="7278208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278211">{</span><span class="string" id="7278212">`&#39;\u&#39;`</span><span class="op" id="7278218">,</span>&nbsp;<span class="ident" id="7278220">token</span><span class="op" id="7278225">.</span><span class="ident" id="7278226">CHAR</span><span class="op" id="7278230">,</span>&nbsp;<span class="num" id="7278232">3</span><span class="op" id="7278233">,</span>&nbsp;<span class="string" id="7278235">`&#39;\u&#39;`</span><span class="op" id="7278241">,</span>&nbsp;<span class="string" id="7278243">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7278292">}</span><span class="op" id="7278293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278296">{</span><span class="string" id="7278297">`&#39;\u0&#39;`</span><span class="op" id="7278304">,</span>&nbsp;<span class="ident" id="7278306">token</span><span class="op" id="7278311">.</span><span class="ident" id="7278312">CHAR</span><span class="op" id="7278316">,</span>&nbsp;<span class="num" id="7278318">4</span><span class="op" id="7278319">,</span>&nbsp;<span class="string" id="7278321">`&#39;\u0&#39;`</span><span class="op" id="7278328">,</span>&nbsp;<span class="string" id="7278330">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7278379">}</span><span class="op" id="7278380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278383">{</span><span class="string" id="7278384">`&#39;\u00&#39;`</span><span class="op" id="7278392">,</span>&nbsp;<span class="ident" id="7278394">token</span><span class="op" id="7278399">.</span><span class="ident" id="7278400">CHAR</span><span class="op" id="7278404">,</span>&nbsp;<span class="num" id="7278406">5</span><span class="op" id="7278407">,</span>&nbsp;<span class="string" id="7278409">`&#39;\u00&#39;`</span><span class="op" id="7278417">,</span>&nbsp;<span class="string" id="7278419">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7278468">}</span><span class="op" id="7278469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278472">{</span><span class="string" id="7278473">`&#39;\u000&#39;`</span><span class="op" id="7278482">,</span>&nbsp;<span class="ident" id="7278484">token</span><span class="op" id="7278489">.</span><span class="ident" id="7278490">CHAR</span><span class="op" id="7278494">,</span>&nbsp;<span class="num" id="7278496">6</span><span class="op" id="7278497">,</span>&nbsp;<span class="string" id="7278499">`&#39;\u000&#39;`</span><span class="op" id="7278508">,</span>&nbsp;<span class="string" id="7278510">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7278559">}</span><span class="op" id="7278560">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278563">{</span><span class="string" id="7278564">`&#39;\u000`</span><span class="op" id="7278572">,</span>&nbsp;<span class="ident" id="7278574">token</span><span class="op" id="7278579">.</span><span class="ident" id="7278580">CHAR</span><span class="op" id="7278584">,</span>&nbsp;<span class="num" id="7278586">6</span><span class="op" id="7278587">,</span>&nbsp;<span class="string" id="7278589">`&#39;\u000`</span><span class="op" id="7278597">,</span>&nbsp;<span class="string" id="7278599">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7278631">}</span><span class="op" id="7278632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278635">{</span><span class="string" id="7278636">`&#39;\u0000&#39;`</span><span class="op" id="7278646">,</span>&nbsp;<span class="ident" id="7278648">token</span><span class="op" id="7278653">.</span><span class="ident" id="7278654">CHAR</span><span class="op" id="7278658">,</span>&nbsp;<span class="num" id="7278660">0</span><span class="op" id="7278661">,</span>&nbsp;<span class="string" id="7278663">`&#39;\u0000&#39;`</span><span class="op" id="7278673">,</span>&nbsp;<span class="string" id="7278675">&#34;&#34;</span><span class="op" id="7278677">}</span><span class="op" id="7278678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278681">{</span><span class="string" id="7278682">`&#39;\U&#39;`</span><span class="op" id="7278688">,</span>&nbsp;<span class="ident" id="7278690">token</span><span class="op" id="7278695">.</span><span class="ident" id="7278696">CHAR</span><span class="op" id="7278700">,</span>&nbsp;<span class="num" id="7278702">3</span><span class="op" id="7278703">,</span>&nbsp;<span class="string" id="7278705">`&#39;\U&#39;`</span><span class="op" id="7278711">,</span>&nbsp;<span class="string" id="7278713">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7278762">}</span><span class="op" id="7278763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278766">{</span><span class="string" id="7278767">`&#39;\U0&#39;`</span><span class="op" id="7278774">,</span>&nbsp;<span class="ident" id="7278776">token</span><span class="op" id="7278781">.</span><span class="ident" id="7278782">CHAR</span><span class="op" id="7278786">,</span>&nbsp;<span class="num" id="7278788">4</span><span class="op" id="7278789">,</span>&nbsp;<span class="string" id="7278791">`&#39;\U0&#39;`</span><span class="op" id="7278798">,</span>&nbsp;<span class="string" id="7278800">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7278849">}</span><span class="op" id="7278850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278853">{</span><span class="string" id="7278854">`&#39;\U00&#39;`</span><span class="op" id="7278862">,</span>&nbsp;<span class="ident" id="7278864">token</span><span class="op" id="7278869">.</span><span class="ident" id="7278870">CHAR</span><span class="op" id="7278874">,</span>&nbsp;<span class="num" id="7278876">5</span><span class="op" id="7278877">,</span>&nbsp;<span class="string" id="7278879">`&#39;\U00&#39;`</span><span class="op" id="7278887">,</span>&nbsp;<span class="string" id="7278889">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7278938">}</span><span class="op" id="7278939">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7278942">{</span><span class="string" id="7278943">`&#39;\U000&#39;`</span><span class="op" id="7278952">,</span>&nbsp;<span class="ident" id="7278954">token</span><span class="op" id="7278959">.</span><span class="ident" id="7278960">CHAR</span><span class="op" id="7278964">,</span>&nbsp;<span class="num" id="7278966">6</span><span class="op" id="7278967">,</span>&nbsp;<span class="string" id="7278969">`&#39;\U000&#39;`</span><span class="op" id="7278978">,</span>&nbsp;<span class="string" id="7278980">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7279029">}</span><span class="op" id="7279030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279033">{</span><span class="string" id="7279034">`&#39;\U0000&#39;`</span><span class="op" id="7279044">,</span>&nbsp;<span class="ident" id="7279046">token</span><span class="op" id="7279051">.</span><span class="ident" id="7279052">CHAR</span><span class="op" id="7279056">,</span>&nbsp;<span class="num" id="7279058">7</span><span class="op" id="7279059">,</span>&nbsp;<span class="string" id="7279061">`&#39;\U0000&#39;`</span><span class="op" id="7279071">,</span>&nbsp;<span class="string" id="7279073">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7279122">}</span><span class="op" id="7279123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279126">{</span><span class="string" id="7279127">`&#39;\U00000&#39;`</span><span class="op" id="7279138">,</span>&nbsp;<span class="ident" id="7279140">token</span><span class="op" id="7279145">.</span><span class="ident" id="7279146">CHAR</span><span class="op" id="7279150">,</span>&nbsp;<span class="num" id="7279152">8</span><span class="op" id="7279153">,</span>&nbsp;<span class="string" id="7279155">`&#39;\U00000&#39;`</span><span class="op" id="7279166">,</span>&nbsp;<span class="string" id="7279168">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7279217">}</span><span class="op" id="7279218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279221">{</span><span class="string" id="7279222">`&#39;\U000000&#39;`</span><span class="op" id="7279234">,</span>&nbsp;<span class="ident" id="7279236">token</span><span class="op" id="7279241">.</span><span class="ident" id="7279242">CHAR</span><span class="op" id="7279246">,</span>&nbsp;<span class="num" id="7279248">9</span><span class="op" id="7279249">,</span>&nbsp;<span class="string" id="7279251">`&#39;\U000000&#39;`</span><span class="op" id="7279263">,</span>&nbsp;<span class="string" id="7279265">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7279314">}</span><span class="op" id="7279315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279318">{</span><span class="string" id="7279319">`&#39;\U0000000&#39;`</span><span class="op" id="7279332">,</span>&nbsp;<span class="ident" id="7279334">token</span><span class="op" id="7279339">.</span><span class="ident" id="7279340">CHAR</span><span class="op" id="7279344">,</span>&nbsp;<span class="num" id="7279346">10</span><span class="op" id="7279348">,</span>&nbsp;<span class="string" id="7279350">`&#39;\U0000000&#39;`</span><span class="op" id="7279363">,</span>&nbsp;<span class="string" id="7279365">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7279414">}</span><span class="op" id="7279415">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279418">{</span><span class="string" id="7279419">`&#39;\U0000000`</span><span class="op" id="7279431">,</span>&nbsp;<span class="ident" id="7279433">token</span><span class="op" id="7279438">.</span><span class="ident" id="7279439">CHAR</span><span class="op" id="7279443">,</span>&nbsp;<span class="num" id="7279445">10</span><span class="op" id="7279447">,</span>&nbsp;<span class="string" id="7279449">`&#39;\U0000000`</span><span class="op" id="7279461">,</span>&nbsp;<span class="string" id="7279463">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7279495">}</span><span class="op" id="7279496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279499">{</span><span class="string" id="7279500">`&#39;\U00000000&#39;`</span><span class="op" id="7279514">,</span>&nbsp;<span class="ident" id="7279516">token</span><span class="op" id="7279521">.</span><span class="ident" id="7279522">CHAR</span><span class="op" id="7279526">,</span>&nbsp;<span class="num" id="7279528">0</span><span class="op" id="7279529">,</span>&nbsp;<span class="string" id="7279531">`&#39;\U00000000&#39;`</span><span class="op" id="7279545">,</span>&nbsp;<span class="string" id="7279547">&#34;&#34;</span><span class="op" id="7279549">}</span><span class="op" id="7279550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279553">{</span><span class="string" id="7279554">`&#39;\Uffffffff&#39;`</span><span class="op" id="7279568">,</span>&nbsp;<span class="ident" id="7279570">token</span><span class="op" id="7279575">.</span><span class="ident" id="7279576">CHAR</span><span class="op" id="7279580">,</span>&nbsp;<span class="num" id="7279582">2</span><span class="op" id="7279583">,</span>&nbsp;<span class="string" id="7279585">`&#39;\Uffffffff&#39;`</span><span class="op" id="7279599">,</span>&nbsp;<span class="string" id="7279601">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="7279648">}</span><span class="op" id="7279649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279652">{</span><span class="string" id="7279653">`&#39;`</span><span class="op" id="7279656">,</span>&nbsp;<span class="ident" id="7279658">token</span><span class="op" id="7279663">.</span><span class="ident" id="7279664">CHAR</span><span class="op" id="7279668">,</span>&nbsp;<span class="num" id="7279670">0</span><span class="op" id="7279671">,</span>&nbsp;<span class="string" id="7279673">`&#39;`</span><span class="op" id="7279676">,</span>&nbsp;<span class="string" id="7279678">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7279707">}</span><span class="op" id="7279708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279711">{</span><span class="string" id="7279712">`&#39;\`</span><span class="op" id="7279716">,</span>&nbsp;<span class="ident" id="7279718">token</span><span class="op" id="7279723">.</span><span class="ident" id="7279724">CHAR</span><span class="op" id="7279728">,</span>&nbsp;<span class="num" id="7279730">2</span><span class="op" id="7279731">,</span>&nbsp;<span class="string" id="7279733">`&#39;\`</span><span class="op" id="7279737">,</span>&nbsp;<span class="string" id="7279739">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7279771">}</span><span class="op" id="7279772">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279775">{</span><span class="string" id="7279776">&#34;&#39;\n&#34;</span><span class="op" id="7279781">,</span>&nbsp;<span class="ident" id="7279783">token</span><span class="op" id="7279788">.</span><span class="ident" id="7279789">CHAR</span><span class="op" id="7279793">,</span>&nbsp;<span class="num" id="7279795">0</span><span class="op" id="7279796">,</span>&nbsp;<span class="string" id="7279798">&#34;&#39;&#34;</span><span class="op" id="7279801">,</span>&nbsp;<span class="string" id="7279803">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7279832">}</span><span class="op" id="7279833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279836">{</span><span class="string" id="7279837">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7279845">,</span>&nbsp;<span class="ident" id="7279847">token</span><span class="op" id="7279852">.</span><span class="ident" id="7279853">CHAR</span><span class="op" id="7279857">,</span>&nbsp;<span class="num" id="7279859">0</span><span class="op" id="7279860">,</span>&nbsp;<span class="string" id="7279862">&#34;&#39;&#34;</span><span class="op" id="7279865">,</span>&nbsp;<span class="string" id="7279867">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7279896">}</span><span class="op" id="7279897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279900">{</span><span class="string" id="7279901">`&#34;&#34;`</span><span class="op" id="7279905">,</span>&nbsp;<span class="ident" id="7279907">token</span><span class="op" id="7279912">.</span><span class="ident" id="7279913">STRING</span><span class="op" id="7279919">,</span>&nbsp;<span class="num" id="7279921">0</span><span class="op" id="7279922">,</span>&nbsp;<span class="string" id="7279924">`&#34;&#34;`</span><span class="op" id="7279928">,</span>&nbsp;<span class="string" id="7279930">&#34;&#34;</span><span class="op" id="7279932">}</span><span class="op" id="7279933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7279936">{</span><span class="string" id="7279937">`&#34;abc`</span><span class="op" id="7279943">,</span>&nbsp;<span class="ident" id="7279945">token</span><span class="op" id="7279950">.</span><span class="ident" id="7279951">STRING</span><span class="op" id="7279957">,</span>&nbsp;<span class="num" id="7279959">0</span><span class="op" id="7279960">,</span>&nbsp;<span class="string" id="7279962">`&#34;abc`</span><span class="op" id="7279968">,</span>&nbsp;<span class="string" id="7279970">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7280001">}</span><span class="op" id="7280002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280005">{</span><span class="string" id="7280006">&#34;\&#34;abc\n&#34;</span><span class="op" id="7280015">,</span>&nbsp;<span class="ident" id="7280017">token</span><span class="op" id="7280022">.</span><span class="ident" id="7280023">STRING</span><span class="op" id="7280029">,</span>&nbsp;<span class="num" id="7280031">0</span><span class="op" id="7280032">,</span>&nbsp;<span class="string" id="7280034">`&#34;abc`</span><span class="op" id="7280040">,</span>&nbsp;<span class="string" id="7280042">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7280073">}</span><span class="op" id="7280074">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280077">{</span><span class="string" id="7280078">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7280090">,</span>&nbsp;<span class="ident" id="7280092">token</span><span class="op" id="7280097">.</span><span class="ident" id="7280098">STRING</span><span class="op" id="7280104">,</span>&nbsp;<span class="num" id="7280106">0</span><span class="op" id="7280107">,</span>&nbsp;<span class="string" id="7280109">`&#34;abc`</span><span class="op" id="7280115">,</span>&nbsp;<span class="string" id="7280117">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7280148">}</span><span class="op" id="7280149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280152">{</span><span class="string" id="7280153">&#34;``&#34;</span><span class="op" id="7280157">,</span>&nbsp;<span class="ident" id="7280159">token</span><span class="op" id="7280164">.</span><span class="ident" id="7280165">STRING</span><span class="op" id="7280171">,</span>&nbsp;<span class="num" id="7280173">0</span><span class="op" id="7280174">,</span>&nbsp;<span class="string" id="7280176">&#34;``&#34;</span><span class="op" id="7280180">,</span>&nbsp;<span class="string" id="7280182">&#34;&#34;</span><span class="op" id="7280184">}</span><span class="op" id="7280185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280188">{</span><span class="string" id="7280189">&#34;`&#34;</span><span class="op" id="7280192">,</span>&nbsp;<span class="ident" id="7280194">token</span><span class="op" id="7280199">.</span><span class="ident" id="7280200">STRING</span><span class="op" id="7280206">,</span>&nbsp;<span class="num" id="7280208">0</span><span class="op" id="7280209">,</span>&nbsp;<span class="string" id="7280211">&#34;`&#34;</span><span class="op" id="7280214">,</span>&nbsp;<span class="string" id="7280216">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7280251">}</span><span class="op" id="7280252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280255">{</span><span class="string" id="7280256">&#34;/**/&#34;</span><span class="op" id="7280262">,</span>&nbsp;<span class="ident" id="7280264">token</span><span class="op" id="7280269">.</span><span class="ident" id="7280270">COMMENT</span><span class="op" id="7280277">,</span>&nbsp;<span class="num" id="7280279">0</span><span class="op" id="7280280">,</span>&nbsp;<span class="string" id="7280282">&#34;/**/&#34;</span><span class="op" id="7280288">,</span>&nbsp;<span class="string" id="7280290">&#34;&#34;</span><span class="op" id="7280292">}</span><span class="op" id="7280293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280296">{</span><span class="string" id="7280297">&#34;/*&#34;</span><span class="op" id="7280301">,</span>&nbsp;<span class="ident" id="7280303">token</span><span class="op" id="7280308">.</span><span class="ident" id="7280309">COMMENT</span><span class="op" id="7280316">,</span>&nbsp;<span class="num" id="7280318">0</span><span class="op" id="7280319">,</span>&nbsp;<span class="string" id="7280321">&#34;/*&#34;</span><span class="op" id="7280325">,</span>&nbsp;<span class="string" id="7280327">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7280351">}</span><span class="op" id="7280352">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280355">{</span><span class="string" id="7280356">&#34;077&#34;</span><span class="op" id="7280361">,</span>&nbsp;<span class="ident" id="7280363">token</span><span class="op" id="7280368">.</span><span class="ident" id="7280369">INT</span><span class="op" id="7280372">,</span>&nbsp;<span class="num" id="7280374">0</span><span class="op" id="7280375">,</span>&nbsp;<span class="string" id="7280377">&#34;077&#34;</span><span class="op" id="7280382">,</span>&nbsp;<span class="string" id="7280384">&#34;&#34;</span><span class="op" id="7280386">}</span><span class="op" id="7280387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280390">{</span><span class="string" id="7280391">&#34;078.&#34;</span><span class="op" id="7280397">,</span>&nbsp;<span class="ident" id="7280399">token</span><span class="op" id="7280404">.</span><span class="ident" id="7280405">FLOAT</span><span class="op" id="7280410">,</span>&nbsp;<span class="num" id="7280412">0</span><span class="op" id="7280413">,</span>&nbsp;<span class="string" id="7280415">&#34;078.&#34;</span><span class="op" id="7280421">,</span>&nbsp;<span class="string" id="7280423">&#34;&#34;</span><span class="op" id="7280425">}</span><span class="op" id="7280426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280429">{</span><span class="string" id="7280430">&#34;07801234567.&#34;</span><span class="op" id="7280444">,</span>&nbsp;<span class="ident" id="7280446">token</span><span class="op" id="7280451">.</span><span class="ident" id="7280452">FLOAT</span><span class="op" id="7280457">,</span>&nbsp;<span class="num" id="7280459">0</span><span class="op" id="7280460">,</span>&nbsp;<span class="string" id="7280462">&#34;07801234567.&#34;</span><span class="op" id="7280476">,</span>&nbsp;<span class="string" id="7280478">&#34;&#34;</span><span class="op" id="7280480">}</span><span class="op" id="7280481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280484">{</span><span class="string" id="7280485">&#34;078e0&#34;</span><span class="op" id="7280492">,</span>&nbsp;<span class="ident" id="7280494">token</span><span class="op" id="7280499">.</span><span class="ident" id="7280500">FLOAT</span><span class="op" id="7280505">,</span>&nbsp;<span class="num" id="7280507">0</span><span class="op" id="7280508">,</span>&nbsp;<span class="string" id="7280510">&#34;078e0&#34;</span><span class="op" id="7280517">,</span>&nbsp;<span class="string" id="7280519">&#34;&#34;</span><span class="op" id="7280521">}</span><span class="op" id="7280522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280525">{</span><span class="string" id="7280526">&#34;078&#34;</span><span class="op" id="7280531">,</span>&nbsp;<span class="ident" id="7280533">token</span><span class="op" id="7280538">.</span><span class="ident" id="7280539">INT</span><span class="op" id="7280542">,</span>&nbsp;<span class="num" id="7280544">0</span><span class="op" id="7280545">,</span>&nbsp;<span class="string" id="7280547">&#34;078&#34;</span><span class="op" id="7280552">,</span>&nbsp;<span class="string" id="7280554">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7280576">}</span><span class="op" id="7280577">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280580">{</span><span class="string" id="7280581">&#34;07800000009&#34;</span><span class="op" id="7280594">,</span>&nbsp;<span class="ident" id="7280596">token</span><span class="op" id="7280601">.</span><span class="ident" id="7280602">INT</span><span class="op" id="7280605">,</span>&nbsp;<span class="num" id="7280607">0</span><span class="op" id="7280608">,</span>&nbsp;<span class="string" id="7280610">&#34;07800000009&#34;</span><span class="op" id="7280623">,</span>&nbsp;<span class="string" id="7280625">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7280647">}</span><span class="op" id="7280648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280651">{</span><span class="string" id="7280652">&#34;0x&#34;</span><span class="op" id="7280656">,</span>&nbsp;<span class="ident" id="7280658">token</span><span class="op" id="7280663">.</span><span class="ident" id="7280664">INT</span><span class="op" id="7280667">,</span>&nbsp;<span class="num" id="7280669">0</span><span class="op" id="7280670">,</span>&nbsp;<span class="string" id="7280672">&#34;0x&#34;</span><span class="op" id="7280676">,</span>&nbsp;<span class="string" id="7280678">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7280706">}</span><span class="op" id="7280707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280710">{</span><span class="string" id="7280711">&#34;0X&#34;</span><span class="op" id="7280715">,</span>&nbsp;<span class="ident" id="7280717">token</span><span class="op" id="7280722">.</span><span class="ident" id="7280723">INT</span><span class="op" id="7280726">,</span>&nbsp;<span class="num" id="7280728">0</span><span class="op" id="7280729">,</span>&nbsp;<span class="string" id="7280731">&#34;0X&#34;</span><span class="op" id="7280735">,</span>&nbsp;<span class="string" id="7280737">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7280765">}</span><span class="op" id="7280766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280769">{</span><span class="string" id="7280770">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7280786">,</span>&nbsp;<span class="ident" id="7280788">token</span><span class="op" id="7280793">.</span><span class="ident" id="7280794">STRING</span><span class="op" id="7280800">,</span>&nbsp;<span class="num" id="7280802">4</span><span class="op" id="7280803">,</span>&nbsp;<span class="string" id="7280805">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7280821">,</span>&nbsp;<span class="string" id="7280823">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7280846">}</span><span class="op" id="7280847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280850">{</span><span class="string" id="7280851">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7280867">,</span>&nbsp;<span class="ident" id="7280869">token</span><span class="op" id="7280874">.</span><span class="ident" id="7280875">STRING</span><span class="op" id="7280881">,</span>&nbsp;<span class="num" id="7280883">4</span><span class="op" id="7280884">,</span>&nbsp;<span class="string" id="7280886">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7280902">,</span>&nbsp;<span class="string" id="7280904">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7280928">}</span><span class="op" id="7280929">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280932">{</span><span class="string" id="7280933">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7280947">,</span>&nbsp;<span class="ident" id="7280949">token</span><span class="op" id="7280954">.</span><span class="ident" id="7280955">ILLEGAL</span><span class="op" id="7280962">,</span>&nbsp;<span class="num" id="7280964">3</span><span class="op" id="7280965">,</span>&nbsp;<span class="string" id="7280967">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7280981">,</span>&nbsp;<span class="string" id="7280983">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7281008">}</span><span class="op" id="7281009">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7281034">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281064">{</span><span class="string" id="7281065">&#34;//\ufeff&#34;</span><span class="op" id="7281075">,</span>&nbsp;<span class="ident" id="7281077">token</span><span class="op" id="7281082">.</span><span class="ident" id="7281083">COMMENT</span><span class="op" id="7281090">,</span>&nbsp;<span class="num" id="7281092">2</span><span class="op" id="7281093">,</span>&nbsp;<span class="string" id="7281095">&#34;//\ufeff&#34;</span><span class="op" id="7281105">,</span>&nbsp;<span class="string" id="7281107">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7281132">}</span><span class="op" id="7281133">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7281166">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281196">{</span><span class="string" id="7281197">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7281207">+</span>&nbsp;<span class="string" id="7281209">`&#39;`</span><span class="op" id="7281212">,</span>&nbsp;<span class="ident" id="7281214">token</span><span class="op" id="7281219">.</span><span class="ident" id="7281220">CHAR</span><span class="op" id="7281224">,</span>&nbsp;<span class="num" id="7281226">1</span><span class="op" id="7281227">,</span>&nbsp;<span class="string" id="7281229">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7281239">+</span>&nbsp;<span class="string" id="7281241">`&#39;`</span><span class="op" id="7281244">,</span>&nbsp;<span class="string" id="7281246">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7281271">}</span><span class="op" id="7281272">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7281298">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281328">{</span><span class="string" id="7281329">`&#34;`</span>&nbsp;<span class="op" id="7281333">+</span>&nbsp;<span class="string" id="7281335">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7281350">+</span>&nbsp;<span class="string" id="7281352">`&#34;`</span><span class="op" id="7281355">,</span>&nbsp;<span class="ident" id="7281357">token</span><span class="op" id="7281362">.</span><span class="ident" id="7281363">STRING</span><span class="op" id="7281369">,</span>&nbsp;<span class="num" id="7281371">4</span><span class="op" id="7281372">,</span>&nbsp;<span class="string" id="7281374">`&#34;`</span>&nbsp;<span class="op" id="7281378">+</span>&nbsp;<span class="string" id="7281380">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7281395">+</span>&nbsp;<span class="string" id="7281397">`&#34;`</span><span class="op" id="7281400">,</span>&nbsp;<span class="string" id="7281402">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7281427">}</span><span class="op" id="7281428">,</span>&nbsp;<span class="comment" id="7281430">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="7281459">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="7281462">func</span>&nbsp;<span class="ident" id="7281467">TestScanErrors</span><span class="op" id="7281481">(</span><span class="ident" id="7281482">t</span>&nbsp;<span class="op" id="7281484">*</span><span class="ident" id="7281485">testing</span><span class="op" id="7281492">.</span><span class="ident" id="7281493">T</span><span class="op" id="7281494">)</span>&nbsp;<span class="op" id="7281496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281499">for</span>&nbsp;<span class="ident" id="7281503">_</span><span class="op" id="7281504">,</span>&nbsp;<span class="ident" id="7281506">e</span>&nbsp;<span class="op" id="7281508">:=</span>&nbsp;<span class="keyword" id="7281511">range</span>&nbsp;<span class="ident" id="7281517">errors</span>&nbsp;<span class="op" id="7281524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281528">checkError</span><span class="op" id="7281538">(</span><span class="ident" id="7281539">t</span><span class="op" id="7281540">,</span>&nbsp;<span class="ident" id="7281542">e</span><span class="op" id="7281543">.</span><span class="ident" id="7281544">src</span><span class="op" id="7281547">,</span>&nbsp;<span class="ident" id="7281549">e</span><span class="op" id="7281550">.</span><span class="ident" id="7281551">tok</span><span class="op" id="7281554">,</span>&nbsp;<span class="ident" id="7281556">e</span><span class="op" id="7281557">.</span><span class="ident" id="7281558">pos</span><span class="op" id="7281561">,</span>&nbsp;<span class="ident" id="7281563">e</span><span class="op" id="7281564">.</span><span class="ident" id="7281565">lit</span><span class="op" id="7281568">,</span>&nbsp;<span class="ident" id="7281570">e</span><span class="op" id="7281571">.</span><span class="ident" id="7281572">err</span><span class="op" id="7281575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281578">}</span><br>
<span class="lineno">735</span><span class="op" id="7281580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7281583">func</span>&nbsp;<span class="ident" id="7281588">BenchmarkScan</span><span class="op" id="7281601">(</span><span class="ident" id="7281602">b</span>&nbsp;<span class="op" id="7281604">*</span><span class="ident" id="7281605">testing</span><span class="op" id="7281612">.</span><span class="ident" id="7281613">B</span><span class="op" id="7281614">)</span>&nbsp;<span class="op" id="7281616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281619">b</span><span class="op" id="7281620">.</span><span class="ident" id="7281621">StopTimer</span><span class="op" id="7281630">(</span><span class="op" id="7281631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281634">fset</span>&nbsp;<span class="op" id="7281639">:=</span>&nbsp;<span class="ident" id="7281642">token</span><span class="op" id="7281647">.</span><span class="ident" id="7281648">NewFileSet</span><span class="op" id="7281658">(</span><span class="op" id="7281659">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281662">file</span>&nbsp;<span class="op" id="7281667">:=</span>&nbsp;<span class="ident" id="7281670">fset</span><span class="op" id="7281674">.</span><span class="ident" id="7281675">AddFile</span><span class="op" id="7281682">(</span><span class="string" id="7281683">&#34;&#34;</span><span class="op" id="7281685">,</span>&nbsp;<span class="ident" id="7281687">fset</span><span class="op" id="7281691">.</span><span class="ident" id="7281692">Base</span><span class="op" id="7281696">(</span><span class="op" id="7281697">)</span><span class="op" id="7281698">,</span>&nbsp;<span class="builtinfunc" id="7281700">len</span><span class="op" id="7281703">(</span><span class="ident" id="7281704">source</span><span class="op" id="7281710">)</span><span class="op" id="7281711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281714">var</span>&nbsp;<span class="ident" id="7281718">s</span>&nbsp;<span class="ident" id="7281720">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281729">b</span><span class="op" id="7281730">.</span><span class="ident" id="7281731">StartTimer</span><span class="op" id="7281741">(</span><span class="op" id="7281742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281745">for</span>&nbsp;<span class="ident" id="7281749">i</span>&nbsp;<span class="op" id="7281751">:=</span>&nbsp;<span class="num" id="7281754">0</span><span class="op" id="7281755">;</span>&nbsp;<span class="ident" id="7281757">i</span>&nbsp;<span class="op" id="7281759">&lt;</span>&nbsp;<span class="ident" id="7281761">b</span><span class="op" id="7281762">.</span><span class="ident" id="7281763">N</span><span class="op" id="7281764">;</span>&nbsp;<span class="ident" id="7281766">i</span><span class="op" id="7281767">++</span>&nbsp;<span class="op" id="7281770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281774">s</span><span class="op" id="7281775">.</span><span class="ident" id="7281776">Init</span><span class="op" id="7281780">(</span><span class="ident" id="7281781">file</span><span class="op" id="7281785">,</span>&nbsp;<span class="ident" id="7281787">source</span><span class="op" id="7281793">,</span>&nbsp;<span class="ident" id="7281795">nil</span><span class="op" id="7281798">,</span>&nbsp;<span class="ident" id="7281800">ScanComments</span><span class="op" id="7281812">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281816">for</span>&nbsp;<span class="op" id="7281820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281825">_</span><span class="op" id="7281826">,</span>&nbsp;<span class="ident" id="7281828">tok</span><span class="op" id="7281831">,</span>&nbsp;<span class="ident" id="7281833">_</span>&nbsp;<span class="op" id="7281835">:=</span>&nbsp;<span class="ident" id="7281838">s</span><span class="op" id="7281839">.</span><span class="ident" id="7281840">Scan</span><span class="op" id="7281844">(</span><span class="op" id="7281845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281850">if</span>&nbsp;<span class="ident" id="7281853">tok</span>&nbsp;<span class="op" id="7281857">==</span>&nbsp;<span class="ident" id="7281860">token</span><span class="op" id="7281865">.</span><span class="ident" id="7281866">EOF</span>&nbsp;<span class="op" id="7281870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281876">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281885">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281892">}</span><br>
<span class="lineno"></span><span class="op" id="7281894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7281897">func</span>&nbsp;<span class="ident" id="7281902">BenchmarkScanFile</span><span class="op" id="7281919">(</span><span class="ident" id="7281920">b</span>&nbsp;<span class="op" id="7281922">*</span><span class="ident" id="7281923">testing</span><span class="op" id="7281930">.</span><span class="ident" id="7281931">B</span><span class="op" id="7281932">)</span>&nbsp;<span class="op" id="7281934">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281937">b</span><span class="op" id="7281938">.</span><span class="ident" id="7281939">StopTimer</span><span class="op" id="7281948">(</span><span class="op" id="7281949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281952">const</span>&nbsp;<span class="ident" id="7281958">filename</span>&nbsp;<span class="op" id="7281967">=</span>&nbsp;<span class="string" id="7281969">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281983">src</span><span class="op" id="7281986">,</span>&nbsp;<span class="ident" id="7281988">err</span>&nbsp;<span class="op" id="7281992">:=</span>&nbsp;<span class="ident" id="7281995">ioutil</span><span class="op" id="7282001">.</span><span class="ident" id="7282002">ReadFile</span><span class="op" id="7282010">(</span><span class="ident" id="7282011">filename</span><span class="op" id="7282019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282022">if</span>&nbsp;<span class="ident" id="7282025">err</span>&nbsp;<span class="op" id="7282029">!=</span>&nbsp;<span class="ident" id="7282032">nil</span>&nbsp;<span class="op" id="7282036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7282040">panic</span><span class="op" id="7282045">(</span><span class="ident" id="7282046">err</span><span class="op" id="7282049">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282055">fset</span>&nbsp;<span class="op" id="7282060">:=</span>&nbsp;<span class="ident" id="7282063">token</span><span class="op" id="7282068">.</span><span class="ident" id="7282069">NewFileSet</span><span class="op" id="7282079">(</span><span class="op" id="7282080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282083">file</span>&nbsp;<span class="op" id="7282088">:=</span>&nbsp;<span class="ident" id="7282091">fset</span><span class="op" id="7282095">.</span><span class="ident" id="7282096">AddFile</span><span class="op" id="7282103">(</span><span class="ident" id="7282104">filename</span><span class="op" id="7282112">,</span>&nbsp;<span class="ident" id="7282114">fset</span><span class="op" id="7282118">.</span><span class="ident" id="7282119">Base</span><span class="op" id="7282123">(</span><span class="op" id="7282124">)</span><span class="op" id="7282125">,</span>&nbsp;<span class="builtinfunc" id="7282127">len</span><span class="op" id="7282130">(</span><span class="ident" id="7282131">src</span><span class="op" id="7282134">)</span><span class="op" id="7282135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282138">b</span><span class="op" id="7282139">.</span><span class="ident" id="7282140">SetBytes</span><span class="op" id="7282148">(</span><span class="ident" id="7282149">int64</span><span class="op" id="7282154">(</span><span class="builtinfunc" id="7282155">len</span><span class="op" id="7282158">(</span><span class="ident" id="7282159">src</span><span class="op" id="7282162">)</span><span class="op" id="7282163">)</span><span class="op" id="7282164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282167">var</span>&nbsp;<span class="ident" id="7282171">s</span>&nbsp;<span class="ident" id="7282173">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282182">b</span><span class="op" id="7282183">.</span><span class="ident" id="7282184">StartTimer</span><span class="op" id="7282194">(</span><span class="op" id="7282195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282198">for</span>&nbsp;<span class="ident" id="7282202">i</span>&nbsp;<span class="op" id="7282204">:=</span>&nbsp;<span class="num" id="7282207">0</span><span class="op" id="7282208">;</span>&nbsp;<span class="ident" id="7282210">i</span>&nbsp;<span class="op" id="7282212">&lt;</span>&nbsp;<span class="ident" id="7282214">b</span><span class="op" id="7282215">.</span><span class="ident" id="7282216">N</span><span class="op" id="7282217">;</span>&nbsp;<span class="ident" id="7282219">i</span><span class="op" id="7282220">++</span>&nbsp;<span class="op" id="7282223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282227">s</span><span class="op" id="7282228">.</span><span class="ident" id="7282229">Init</span><span class="op" id="7282233">(</span><span class="ident" id="7282234">file</span><span class="op" id="7282238">,</span>&nbsp;<span class="ident" id="7282240">src</span><span class="op" id="7282243">,</span>&nbsp;<span class="ident" id="7282245">nil</span><span class="op" id="7282248">,</span>&nbsp;<span class="ident" id="7282250">ScanComments</span><span class="op" id="7282262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282266">for</span>&nbsp;<span class="op" id="7282270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282275">_</span><span class="op" id="7282276">,</span>&nbsp;<span class="ident" id="7282278">tok</span><span class="op" id="7282281">,</span>&nbsp;<span class="ident" id="7282283">_</span>&nbsp;<span class="op" id="7282285">:=</span>&nbsp;<span class="ident" id="7282288">s</span><span class="op" id="7282289">.</span><span class="ident" id="7282290">Scan</span><span class="op" id="7282294">(</span><span class="op" id="7282295">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282300">if</span>&nbsp;<span class="ident" id="7282303">tok</span>&nbsp;<span class="op" id="7282307">==</span>&nbsp;<span class="ident" id="7282310">token</span><span class="op" id="7282315">.</span><span class="ident" id="7282316">EOF</span>&nbsp;<span class="op" id="7282320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282326">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282342">}</span><br>
<span class="lineno">775</span><span class="op" id="7282344">}</span>
</div>
</body>
</html>
