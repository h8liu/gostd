<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html" class="current">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7485465">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7485520">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7485574">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7485625">package</span>&nbsp;<span class="ident" id="7485633">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7485641">import</span>&nbsp;<span class="op" id="7485648">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485651">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485658">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485669">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7485679">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7485682">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="7485759">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="7485839">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="7485922">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="7486000">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="7486047">type</span>&nbsp;<span class="ident" id="7486052">FindTest</span>&nbsp;<span class="keyword" id="7486061">struct</span>&nbsp;<span class="op" id="7486068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486071">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7486079">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486087">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7486095">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486103">matches</span>&nbsp;<span class="op" id="7486111">[</span><span class="op" id="7486112">]</span><span class="op" id="7486113">[</span><span class="op" id="7486114">]</span><span class="builtintype" id="7486115">int</span><br>
<span class="lineno"></span><span class="op" id="7486119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7486122">func</span>&nbsp;<span class="op" id="7486127">(</span><span class="ident" id="7486128">t</span>&nbsp;<span class="ident" id="7486130">FindTest</span><span class="op" id="7486138">)</span>&nbsp;<span class="ident" id="7486140">String</span><span class="op" id="7486146">(</span><span class="op" id="7486147">)</span>&nbsp;<span class="builtintype" id="7486149">string</span>&nbsp;<span class="op" id="7486156">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486159">return</span>&nbsp;<span class="ident" id="7486166">fmt</span><span class="op" id="7486169">.</span><span class="ident" id="7486170">Sprintf</span><span class="op" id="7486177">(</span><span class="string" id="7486178">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="7486198">,</span>&nbsp;<span class="ident" id="7486200">t</span><span class="op" id="7486201">.</span><span class="ident" id="7486202">pat</span><span class="op" id="7486205">,</span>&nbsp;<span class="ident" id="7486207">t</span><span class="op" id="7486208">.</span><span class="ident" id="7486209">text</span><span class="op" id="7486213">)</span><br>
<span class="lineno"></span><span class="op" id="7486215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7486218">var</span>&nbsp;<span class="ident" id="7486222">findTests</span>&nbsp;<span class="op" id="7486232">=</span>&nbsp;<span class="op" id="7486234">[</span><span class="op" id="7486235">]</span><span class="ident" id="7486236">FindTest</span><span class="op" id="7486244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486247">{</span><span class="string" id="7486248">``</span><span class="op" id="7486250">,</span>&nbsp;<span class="string" id="7486252">``</span><span class="op" id="7486254">,</span>&nbsp;<span class="ident" id="7486256">build</span><span class="op" id="7486261">(</span><span class="num" id="7486262">1</span><span class="op" id="7486263">,</span>&nbsp;<span class="num" id="7486265">0</span><span class="op" id="7486266">,</span>&nbsp;<span class="num" id="7486268">0</span><span class="op" id="7486269">)</span><span class="op" id="7486270">}</span><span class="op" id="7486271">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486274">{</span><span class="string" id="7486275">`^abcdefg`</span><span class="op" id="7486285">,</span>&nbsp;<span class="string" id="7486287">&#34;abcdefg&#34;</span><span class="op" id="7486296">,</span>&nbsp;<span class="ident" id="7486298">build</span><span class="op" id="7486303">(</span><span class="num" id="7486304">1</span><span class="op" id="7486305">,</span>&nbsp;<span class="num" id="7486307">0</span><span class="op" id="7486308">,</span>&nbsp;<span class="num" id="7486310">7</span><span class="op" id="7486311">)</span><span class="op" id="7486312">}</span><span class="op" id="7486313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486316">{</span><span class="string" id="7486317">`a+`</span><span class="op" id="7486321">,</span>&nbsp;<span class="string" id="7486323">&#34;baaab&#34;</span><span class="op" id="7486330">,</span>&nbsp;<span class="ident" id="7486332">build</span><span class="op" id="7486337">(</span><span class="num" id="7486338">1</span><span class="op" id="7486339">,</span>&nbsp;<span class="num" id="7486341">1</span><span class="op" id="7486342">,</span>&nbsp;<span class="num" id="7486344">4</span><span class="op" id="7486345">)</span><span class="op" id="7486346">}</span><span class="op" id="7486347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486350">{</span><span class="string" id="7486351">&#34;abcd..&#34;</span><span class="op" id="7486359">,</span>&nbsp;<span class="string" id="7486361">&#34;abcdef&#34;</span><span class="op" id="7486369">,</span>&nbsp;<span class="ident" id="7486371">build</span><span class="op" id="7486376">(</span><span class="num" id="7486377">1</span><span class="op" id="7486378">,</span>&nbsp;<span class="num" id="7486380">0</span><span class="op" id="7486381">,</span>&nbsp;<span class="num" id="7486383">6</span><span class="op" id="7486384">)</span><span class="op" id="7486385">}</span><span class="op" id="7486386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486389">{</span><span class="string" id="7486390">`a`</span><span class="op" id="7486393">,</span>&nbsp;<span class="string" id="7486395">&#34;a&#34;</span><span class="op" id="7486398">,</span>&nbsp;<span class="ident" id="7486400">build</span><span class="op" id="7486405">(</span><span class="num" id="7486406">1</span><span class="op" id="7486407">,</span>&nbsp;<span class="num" id="7486409">0</span><span class="op" id="7486410">,</span>&nbsp;<span class="num" id="7486412">1</span><span class="op" id="7486413">)</span><span class="op" id="7486414">}</span><span class="op" id="7486415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486418">{</span><span class="string" id="7486419">`x`</span><span class="op" id="7486422">,</span>&nbsp;<span class="string" id="7486424">&#34;y&#34;</span><span class="op" id="7486427">,</span>&nbsp;<span class="ident" id="7486429">nil</span><span class="op" id="7486432">}</span><span class="op" id="7486433">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486436">{</span><span class="string" id="7486437">`b`</span><span class="op" id="7486440">,</span>&nbsp;<span class="string" id="7486442">&#34;abc&#34;</span><span class="op" id="7486447">,</span>&nbsp;<span class="ident" id="7486449">build</span><span class="op" id="7486454">(</span><span class="num" id="7486455">1</span><span class="op" id="7486456">,</span>&nbsp;<span class="num" id="7486458">1</span><span class="op" id="7486459">,</span>&nbsp;<span class="num" id="7486461">2</span><span class="op" id="7486462">)</span><span class="op" id="7486463">}</span><span class="op" id="7486464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486467">{</span><span class="string" id="7486468">`.`</span><span class="op" id="7486471">,</span>&nbsp;<span class="string" id="7486473">&#34;a&#34;</span><span class="op" id="7486476">,</span>&nbsp;<span class="ident" id="7486478">build</span><span class="op" id="7486483">(</span><span class="num" id="7486484">1</span><span class="op" id="7486485">,</span>&nbsp;<span class="num" id="7486487">0</span><span class="op" id="7486488">,</span>&nbsp;<span class="num" id="7486490">1</span><span class="op" id="7486491">)</span><span class="op" id="7486492">}</span><span class="op" id="7486493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486496">{</span><span class="string" id="7486497">`.*`</span><span class="op" id="7486501">,</span>&nbsp;<span class="string" id="7486503">&#34;abcdef&#34;</span><span class="op" id="7486511">,</span>&nbsp;<span class="ident" id="7486513">build</span><span class="op" id="7486518">(</span><span class="num" id="7486519">1</span><span class="op" id="7486520">,</span>&nbsp;<span class="num" id="7486522">0</span><span class="op" id="7486523">,</span>&nbsp;<span class="num" id="7486525">6</span><span class="op" id="7486526">)</span><span class="op" id="7486527">}</span><span class="op" id="7486528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486531">{</span><span class="string" id="7486532">`^`</span><span class="op" id="7486535">,</span>&nbsp;<span class="string" id="7486537">&#34;abcde&#34;</span><span class="op" id="7486544">,</span>&nbsp;<span class="ident" id="7486546">build</span><span class="op" id="7486551">(</span><span class="num" id="7486552">1</span><span class="op" id="7486553">,</span>&nbsp;<span class="num" id="7486555">0</span><span class="op" id="7486556">,</span>&nbsp;<span class="num" id="7486558">0</span><span class="op" id="7486559">)</span><span class="op" id="7486560">}</span><span class="op" id="7486561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486564">{</span><span class="string" id="7486565">`$`</span><span class="op" id="7486568">,</span>&nbsp;<span class="string" id="7486570">&#34;abcde&#34;</span><span class="op" id="7486577">,</span>&nbsp;<span class="ident" id="7486579">build</span><span class="op" id="7486584">(</span><span class="num" id="7486585">1</span><span class="op" id="7486586">,</span>&nbsp;<span class="num" id="7486588">5</span><span class="op" id="7486589">,</span>&nbsp;<span class="num" id="7486591">5</span><span class="op" id="7486592">)</span><span class="op" id="7486593">}</span><span class="op" id="7486594">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486597">{</span><span class="string" id="7486598">`^abcd$`</span><span class="op" id="7486606">,</span>&nbsp;<span class="string" id="7486608">&#34;abcd&#34;</span><span class="op" id="7486614">,</span>&nbsp;<span class="ident" id="7486616">build</span><span class="op" id="7486621">(</span><span class="num" id="7486622">1</span><span class="op" id="7486623">,</span>&nbsp;<span class="num" id="7486625">0</span><span class="op" id="7486626">,</span>&nbsp;<span class="num" id="7486628">4</span><span class="op" id="7486629">)</span><span class="op" id="7486630">}</span><span class="op" id="7486631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486634">{</span><span class="string" id="7486635">`^bcd&#39;`</span><span class="op" id="7486642">,</span>&nbsp;<span class="string" id="7486644">&#34;abcdef&#34;</span><span class="op" id="7486652">,</span>&nbsp;<span class="ident" id="7486654">nil</span><span class="op" id="7486657">}</span><span class="op" id="7486658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486661">{</span><span class="string" id="7486662">`^abcd$`</span><span class="op" id="7486670">,</span>&nbsp;<span class="string" id="7486672">&#34;abcde&#34;</span><span class="op" id="7486679">,</span>&nbsp;<span class="ident" id="7486681">nil</span><span class="op" id="7486684">}</span><span class="op" id="7486685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486688">{</span><span class="string" id="7486689">`a+`</span><span class="op" id="7486693">,</span>&nbsp;<span class="string" id="7486695">&#34;baaab&#34;</span><span class="op" id="7486702">,</span>&nbsp;<span class="ident" id="7486704">build</span><span class="op" id="7486709">(</span><span class="num" id="7486710">1</span><span class="op" id="7486711">,</span>&nbsp;<span class="num" id="7486713">1</span><span class="op" id="7486714">,</span>&nbsp;<span class="num" id="7486716">4</span><span class="op" id="7486717">)</span><span class="op" id="7486718">}</span><span class="op" id="7486719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486722">{</span><span class="string" id="7486723">`a*`</span><span class="op" id="7486727">,</span>&nbsp;<span class="string" id="7486729">&#34;baaab&#34;</span><span class="op" id="7486736">,</span>&nbsp;<span class="ident" id="7486738">build</span><span class="op" id="7486743">(</span><span class="num" id="7486744">3</span><span class="op" id="7486745">,</span>&nbsp;<span class="num" id="7486747">0</span><span class="op" id="7486748">,</span>&nbsp;<span class="num" id="7486750">0</span><span class="op" id="7486751">,</span>&nbsp;<span class="num" id="7486753">1</span><span class="op" id="7486754">,</span>&nbsp;<span class="num" id="7486756">4</span><span class="op" id="7486757">,</span>&nbsp;<span class="num" id="7486759">5</span><span class="op" id="7486760">,</span>&nbsp;<span class="num" id="7486762">5</span><span class="op" id="7486763">)</span><span class="op" id="7486764">}</span><span class="op" id="7486765">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486768">{</span><span class="string" id="7486769">`[a-z]+`</span><span class="op" id="7486777">,</span>&nbsp;<span class="string" id="7486779">&#34;abcd&#34;</span><span class="op" id="7486785">,</span>&nbsp;<span class="ident" id="7486787">build</span><span class="op" id="7486792">(</span><span class="num" id="7486793">1</span><span class="op" id="7486794">,</span>&nbsp;<span class="num" id="7486796">0</span><span class="op" id="7486797">,</span>&nbsp;<span class="num" id="7486799">4</span><span class="op" id="7486800">)</span><span class="op" id="7486801">}</span><span class="op" id="7486802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486805">{</span><span class="string" id="7486806">`[^a-z]+`</span><span class="op" id="7486815">,</span>&nbsp;<span class="string" id="7486817">&#34;ab1234cd&#34;</span><span class="op" id="7486827">,</span>&nbsp;<span class="ident" id="7486829">build</span><span class="op" id="7486834">(</span><span class="num" id="7486835">1</span><span class="op" id="7486836">,</span>&nbsp;<span class="num" id="7486838">2</span><span class="op" id="7486839">,</span>&nbsp;<span class="num" id="7486841">6</span><span class="op" id="7486842">)</span><span class="op" id="7486843">}</span><span class="op" id="7486844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486847">{</span><span class="string" id="7486848">`[a\-\]z]+`</span><span class="op" id="7486859">,</span>&nbsp;<span class="string" id="7486861">&#34;az]-bcz&#34;</span><span class="op" id="7486870">,</span>&nbsp;<span class="ident" id="7486872">build</span><span class="op" id="7486877">(</span><span class="num" id="7486878">2</span><span class="op" id="7486879">,</span>&nbsp;<span class="num" id="7486881">0</span><span class="op" id="7486882">,</span>&nbsp;<span class="num" id="7486884">4</span><span class="op" id="7486885">,</span>&nbsp;<span class="num" id="7486887">6</span><span class="op" id="7486888">,</span>&nbsp;<span class="num" id="7486890">7</span><span class="op" id="7486891">)</span><span class="op" id="7486892">}</span><span class="op" id="7486893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486896">{</span><span class="string" id="7486897">`[^\n]+`</span><span class="op" id="7486905">,</span>&nbsp;<span class="string" id="7486907">&#34;abcd\n&#34;</span><span class="op" id="7486915">,</span>&nbsp;<span class="ident" id="7486917">build</span><span class="op" id="7486922">(</span><span class="num" id="7486923">1</span><span class="op" id="7486924">,</span>&nbsp;<span class="num" id="7486926">0</span><span class="op" id="7486927">,</span>&nbsp;<span class="num" id="7486929">4</span><span class="op" id="7486930">)</span><span class="op" id="7486931">}</span><span class="op" id="7486932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486935">{</span><span class="string" id="7486936">`[日本語]+`</span><span class="op" id="7486950">,</span>&nbsp;<span class="string" id="7486952">&#34;日本語日本語&#34;</span><span class="op" id="7486972">,</span>&nbsp;<span class="ident" id="7486974">build</span><span class="op" id="7486979">(</span><span class="num" id="7486980">1</span><span class="op" id="7486981">,</span>&nbsp;<span class="num" id="7486983">0</span><span class="op" id="7486984">,</span>&nbsp;<span class="num" id="7486986">18</span><span class="op" id="7486988">)</span><span class="op" id="7486989">}</span><span class="op" id="7486990">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486993">{</span><span class="string" id="7486994">`日本語+`</span><span class="op" id="7487006">,</span>&nbsp;<span class="string" id="7487008">&#34;日本語&#34;</span><span class="op" id="7487019">,</span>&nbsp;<span class="ident" id="7487021">build</span><span class="op" id="7487026">(</span><span class="num" id="7487027">1</span><span class="op" id="7487028">,</span>&nbsp;<span class="num" id="7487030">0</span><span class="op" id="7487031">,</span>&nbsp;<span class="num" id="7487033">9</span><span class="op" id="7487034">)</span><span class="op" id="7487035">}</span><span class="op" id="7487036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487039">{</span><span class="string" id="7487040">`日本語+`</span><span class="op" id="7487052">,</span>&nbsp;<span class="string" id="7487054">&#34;日本語語語語&#34;</span><span class="op" id="7487074">,</span>&nbsp;<span class="ident" id="7487076">build</span><span class="op" id="7487081">(</span><span class="num" id="7487082">1</span><span class="op" id="7487083">,</span>&nbsp;<span class="num" id="7487085">0</span><span class="op" id="7487086">,</span>&nbsp;<span class="num" id="7487088">18</span><span class="op" id="7487090">)</span><span class="op" id="7487091">}</span><span class="op" id="7487092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487095">{</span><span class="string" id="7487096">`()`</span><span class="op" id="7487100">,</span>&nbsp;<span class="string" id="7487102">&#34;&#34;</span><span class="op" id="7487104">,</span>&nbsp;<span class="ident" id="7487106">build</span><span class="op" id="7487111">(</span><span class="num" id="7487112">1</span><span class="op" id="7487113">,</span>&nbsp;<span class="num" id="7487115">0</span><span class="op" id="7487116">,</span>&nbsp;<span class="num" id="7487118">0</span><span class="op" id="7487119">,</span>&nbsp;<span class="num" id="7487121">0</span><span class="op" id="7487122">,</span>&nbsp;<span class="num" id="7487124">0</span><span class="op" id="7487125">)</span><span class="op" id="7487126">}</span><span class="op" id="7487127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487130">{</span><span class="string" id="7487131">`(a)`</span><span class="op" id="7487136">,</span>&nbsp;<span class="string" id="7487138">&#34;a&#34;</span><span class="op" id="7487141">,</span>&nbsp;<span class="ident" id="7487143">build</span><span class="op" id="7487148">(</span><span class="num" id="7487149">1</span><span class="op" id="7487150">,</span>&nbsp;<span class="num" id="7487152">0</span><span class="op" id="7487153">,</span>&nbsp;<span class="num" id="7487155">1</span><span class="op" id="7487156">,</span>&nbsp;<span class="num" id="7487158">0</span><span class="op" id="7487159">,</span>&nbsp;<span class="num" id="7487161">1</span><span class="op" id="7487162">)</span><span class="op" id="7487163">}</span><span class="op" id="7487164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487167">{</span><span class="string" id="7487168">`(.)(.)`</span><span class="op" id="7487176">,</span>&nbsp;<span class="string" id="7487178">&#34;日a&#34;</span><span class="op" id="7487184">,</span>&nbsp;<span class="ident" id="7487186">build</span><span class="op" id="7487191">(</span><span class="num" id="7487192">1</span><span class="op" id="7487193">,</span>&nbsp;<span class="num" id="7487195">0</span><span class="op" id="7487196">,</span>&nbsp;<span class="num" id="7487198">4</span><span class="op" id="7487199">,</span>&nbsp;<span class="num" id="7487201">0</span><span class="op" id="7487202">,</span>&nbsp;<span class="num" id="7487204">3</span><span class="op" id="7487205">,</span>&nbsp;<span class="num" id="7487207">3</span><span class="op" id="7487208">,</span>&nbsp;<span class="num" id="7487210">4</span><span class="op" id="7487211">)</span><span class="op" id="7487212">}</span><span class="op" id="7487213">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487216">{</span><span class="string" id="7487217">`(.*)`</span><span class="op" id="7487223">,</span>&nbsp;<span class="string" id="7487225">&#34;&#34;</span><span class="op" id="7487227">,</span>&nbsp;<span class="ident" id="7487229">build</span><span class="op" id="7487234">(</span><span class="num" id="7487235">1</span><span class="op" id="7487236">,</span>&nbsp;<span class="num" id="7487238">0</span><span class="op" id="7487239">,</span>&nbsp;<span class="num" id="7487241">0</span><span class="op" id="7487242">,</span>&nbsp;<span class="num" id="7487244">0</span><span class="op" id="7487245">,</span>&nbsp;<span class="num" id="7487247">0</span><span class="op" id="7487248">)</span><span class="op" id="7487249">}</span><span class="op" id="7487250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487253">{</span><span class="string" id="7487254">`(.*)`</span><span class="op" id="7487260">,</span>&nbsp;<span class="string" id="7487262">&#34;abcd&#34;</span><span class="op" id="7487268">,</span>&nbsp;<span class="ident" id="7487270">build</span><span class="op" id="7487275">(</span><span class="num" id="7487276">1</span><span class="op" id="7487277">,</span>&nbsp;<span class="num" id="7487279">0</span><span class="op" id="7487280">,</span>&nbsp;<span class="num" id="7487282">4</span><span class="op" id="7487283">,</span>&nbsp;<span class="num" id="7487285">0</span><span class="op" id="7487286">,</span>&nbsp;<span class="num" id="7487288">4</span><span class="op" id="7487289">)</span><span class="op" id="7487290">}</span><span class="op" id="7487291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487294">{</span><span class="string" id="7487295">`(..)(..)`</span><span class="op" id="7487305">,</span>&nbsp;<span class="string" id="7487307">&#34;abcd&#34;</span><span class="op" id="7487313">,</span>&nbsp;<span class="ident" id="7487315">build</span><span class="op" id="7487320">(</span><span class="num" id="7487321">1</span><span class="op" id="7487322">,</span>&nbsp;<span class="num" id="7487324">0</span><span class="op" id="7487325">,</span>&nbsp;<span class="num" id="7487327">4</span><span class="op" id="7487328">,</span>&nbsp;<span class="num" id="7487330">0</span><span class="op" id="7487331">,</span>&nbsp;<span class="num" id="7487333">2</span><span class="op" id="7487334">,</span>&nbsp;<span class="num" id="7487336">2</span><span class="op" id="7487337">,</span>&nbsp;<span class="num" id="7487339">4</span><span class="op" id="7487340">)</span><span class="op" id="7487341">}</span><span class="op" id="7487342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487345">{</span><span class="string" id="7487346">`(([^xyz]*)(d))`</span><span class="op" id="7487362">,</span>&nbsp;<span class="string" id="7487364">&#34;abcd&#34;</span><span class="op" id="7487370">,</span>&nbsp;<span class="ident" id="7487372">build</span><span class="op" id="7487377">(</span><span class="num" id="7487378">1</span><span class="op" id="7487379">,</span>&nbsp;<span class="num" id="7487381">0</span><span class="op" id="7487382">,</span>&nbsp;<span class="num" id="7487384">4</span><span class="op" id="7487385">,</span>&nbsp;<span class="num" id="7487387">0</span><span class="op" id="7487388">,</span>&nbsp;<span class="num" id="7487390">4</span><span class="op" id="7487391">,</span>&nbsp;<span class="num" id="7487393">0</span><span class="op" id="7487394">,</span>&nbsp;<span class="num" id="7487396">3</span><span class="op" id="7487397">,</span>&nbsp;<span class="num" id="7487399">3</span><span class="op" id="7487400">,</span>&nbsp;<span class="num" id="7487402">4</span><span class="op" id="7487403">)</span><span class="op" id="7487404">}</span><span class="op" id="7487405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487408">{</span><span class="string" id="7487409">`((a|b|c)*(d))`</span><span class="op" id="7487424">,</span>&nbsp;<span class="string" id="7487426">&#34;abcd&#34;</span><span class="op" id="7487432">,</span>&nbsp;<span class="ident" id="7487434">build</span><span class="op" id="7487439">(</span><span class="num" id="7487440">1</span><span class="op" id="7487441">,</span>&nbsp;<span class="num" id="7487443">0</span><span class="op" id="7487444">,</span>&nbsp;<span class="num" id="7487446">4</span><span class="op" id="7487447">,</span>&nbsp;<span class="num" id="7487449">0</span><span class="op" id="7487450">,</span>&nbsp;<span class="num" id="7487452">4</span><span class="op" id="7487453">,</span>&nbsp;<span class="num" id="7487455">2</span><span class="op" id="7487456">,</span>&nbsp;<span class="num" id="7487458">3</span><span class="op" id="7487459">,</span>&nbsp;<span class="num" id="7487461">3</span><span class="op" id="7487462">,</span>&nbsp;<span class="num" id="7487464">4</span><span class="op" id="7487465">)</span><span class="op" id="7487466">}</span><span class="op" id="7487467">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487470">{</span><span class="string" id="7487471">`(((a|b|c)*)(d))`</span><span class="op" id="7487488">,</span>&nbsp;<span class="string" id="7487490">&#34;abcd&#34;</span><span class="op" id="7487496">,</span>&nbsp;<span class="ident" id="7487498">build</span><span class="op" id="7487503">(</span><span class="num" id="7487504">1</span><span class="op" id="7487505">,</span>&nbsp;<span class="num" id="7487507">0</span><span class="op" id="7487508">,</span>&nbsp;<span class="num" id="7487510">4</span><span class="op" id="7487511">,</span>&nbsp;<span class="num" id="7487513">0</span><span class="op" id="7487514">,</span>&nbsp;<span class="num" id="7487516">4</span><span class="op" id="7487517">,</span>&nbsp;<span class="num" id="7487519">0</span><span class="op" id="7487520">,</span>&nbsp;<span class="num" id="7487522">3</span><span class="op" id="7487523">,</span>&nbsp;<span class="num" id="7487525">2</span><span class="op" id="7487526">,</span>&nbsp;<span class="num" id="7487528">3</span><span class="op" id="7487529">,</span>&nbsp;<span class="num" id="7487531">3</span><span class="op" id="7487532">,</span>&nbsp;<span class="num" id="7487534">4</span><span class="op" id="7487535">)</span><span class="op" id="7487536">}</span><span class="op" id="7487537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487540">{</span><span class="string" id="7487541">`\a\f\n\r\t\v`</span><span class="op" id="7487555">,</span>&nbsp;<span class="string" id="7487557">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7487571">,</span>&nbsp;<span class="ident" id="7487573">build</span><span class="op" id="7487578">(</span><span class="num" id="7487579">1</span><span class="op" id="7487580">,</span>&nbsp;<span class="num" id="7487582">0</span><span class="op" id="7487583">,</span>&nbsp;<span class="num" id="7487585">6</span><span class="op" id="7487586">)</span><span class="op" id="7487587">}</span><span class="op" id="7487588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487591">{</span><span class="string" id="7487592">`[\a\f\n\r\t\v]+`</span><span class="op" id="7487609">,</span>&nbsp;<span class="string" id="7487611">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7487625">,</span>&nbsp;<span class="ident" id="7487627">build</span><span class="op" id="7487632">(</span><span class="num" id="7487633">1</span><span class="op" id="7487634">,</span>&nbsp;<span class="num" id="7487636">0</span><span class="op" id="7487637">,</span>&nbsp;<span class="num" id="7487639">6</span><span class="op" id="7487640">)</span><span class="op" id="7487641">}</span><span class="op" id="7487642">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487646">{</span><span class="string" id="7487647">`a*(|(b))c*`</span><span class="op" id="7487659">,</span>&nbsp;<span class="string" id="7487661">&#34;aacc&#34;</span><span class="op" id="7487667">,</span>&nbsp;<span class="ident" id="7487669">build</span><span class="op" id="7487674">(</span><span class="num" id="7487675">1</span><span class="op" id="7487676">,</span>&nbsp;<span class="num" id="7487678">0</span><span class="op" id="7487679">,</span>&nbsp;<span class="num" id="7487681">4</span><span class="op" id="7487682">,</span>&nbsp;<span class="num" id="7487684">2</span><span class="op" id="7487685">,</span>&nbsp;<span class="num" id="7487687">2</span><span class="op" id="7487688">,</span>&nbsp;<span class="op" id="7487690">-</span><span class="num" id="7487691">1</span><span class="op" id="7487692">,</span>&nbsp;<span class="op" id="7487694">-</span><span class="num" id="7487695">1</span><span class="op" id="7487696">)</span><span class="op" id="7487697">}</span><span class="op" id="7487698">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487701">{</span><span class="string" id="7487702">`(.*).*`</span><span class="op" id="7487710">,</span>&nbsp;<span class="string" id="7487712">&#34;ab&#34;</span><span class="op" id="7487716">,</span>&nbsp;<span class="ident" id="7487718">build</span><span class="op" id="7487723">(</span><span class="num" id="7487724">1</span><span class="op" id="7487725">,</span>&nbsp;<span class="num" id="7487727">0</span><span class="op" id="7487728">,</span>&nbsp;<span class="num" id="7487730">2</span><span class="op" id="7487731">,</span>&nbsp;<span class="num" id="7487733">0</span><span class="op" id="7487734">,</span>&nbsp;<span class="num" id="7487736">2</span><span class="op" id="7487737">)</span><span class="op" id="7487738">}</span><span class="op" id="7487739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487742">{</span><span class="string" id="7487743">`[.]`</span><span class="op" id="7487748">,</span>&nbsp;<span class="string" id="7487750">&#34;.&#34;</span><span class="op" id="7487753">,</span>&nbsp;<span class="ident" id="7487755">build</span><span class="op" id="7487760">(</span><span class="num" id="7487761">1</span><span class="op" id="7487762">,</span>&nbsp;<span class="num" id="7487764">0</span><span class="op" id="7487765">,</span>&nbsp;<span class="num" id="7487767">1</span><span class="op" id="7487768">)</span><span class="op" id="7487769">}</span><span class="op" id="7487770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487773">{</span><span class="string" id="7487774">`/$`</span><span class="op" id="7487778">,</span>&nbsp;<span class="string" id="7487780">&#34;/abc/&#34;</span><span class="op" id="7487787">,</span>&nbsp;<span class="ident" id="7487789">build</span><span class="op" id="7487794">(</span><span class="num" id="7487795">1</span><span class="op" id="7487796">,</span>&nbsp;<span class="num" id="7487798">4</span><span class="op" id="7487799">,</span>&nbsp;<span class="num" id="7487801">5</span><span class="op" id="7487802">)</span><span class="op" id="7487803">}</span><span class="op" id="7487804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487807">{</span><span class="string" id="7487808">`/$`</span><span class="op" id="7487812">,</span>&nbsp;<span class="string" id="7487814">&#34;/abc&#34;</span><span class="op" id="7487820">,</span>&nbsp;<span class="ident" id="7487822">nil</span><span class="op" id="7487825">}</span><span class="op" id="7487826">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487830">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487851">{</span><span class="string" id="7487852">`.`</span><span class="op" id="7487855">,</span>&nbsp;<span class="string" id="7487857">&#34;abc&#34;</span><span class="op" id="7487862">,</span>&nbsp;<span class="ident" id="7487864">build</span><span class="op" id="7487869">(</span><span class="num" id="7487870">3</span><span class="op" id="7487871">,</span>&nbsp;<span class="num" id="7487873">0</span><span class="op" id="7487874">,</span>&nbsp;<span class="num" id="7487876">1</span><span class="op" id="7487877">,</span>&nbsp;<span class="num" id="7487879">1</span><span class="op" id="7487880">,</span>&nbsp;<span class="num" id="7487882">2</span><span class="op" id="7487883">,</span>&nbsp;<span class="num" id="7487885">2</span><span class="op" id="7487886">,</span>&nbsp;<span class="num" id="7487888">3</span><span class="op" id="7487889">)</span><span class="op" id="7487890">}</span><span class="op" id="7487891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487894">{</span><span class="string" id="7487895">`(.)`</span><span class="op" id="7487900">,</span>&nbsp;<span class="string" id="7487902">&#34;abc&#34;</span><span class="op" id="7487907">,</span>&nbsp;<span class="ident" id="7487909">build</span><span class="op" id="7487914">(</span><span class="num" id="7487915">3</span><span class="op" id="7487916">,</span>&nbsp;<span class="num" id="7487918">0</span><span class="op" id="7487919">,</span>&nbsp;<span class="num" id="7487921">1</span><span class="op" id="7487922">,</span>&nbsp;<span class="num" id="7487924">0</span><span class="op" id="7487925">,</span>&nbsp;<span class="num" id="7487927">1</span><span class="op" id="7487928">,</span>&nbsp;<span class="num" id="7487930">1</span><span class="op" id="7487931">,</span>&nbsp;<span class="num" id="7487933">2</span><span class="op" id="7487934">,</span>&nbsp;<span class="num" id="7487936">1</span><span class="op" id="7487937">,</span>&nbsp;<span class="num" id="7487939">2</span><span class="op" id="7487940">,</span>&nbsp;<span class="num" id="7487942">2</span><span class="op" id="7487943">,</span>&nbsp;<span class="num" id="7487945">3</span><span class="op" id="7487946">,</span>&nbsp;<span class="num" id="7487948">2</span><span class="op" id="7487949">,</span>&nbsp;<span class="num" id="7487951">3</span><span class="op" id="7487952">)</span><span class="op" id="7487953">}</span><span class="op" id="7487954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487957">{</span><span class="string" id="7487958">`.(.)`</span><span class="op" id="7487964">,</span>&nbsp;<span class="string" id="7487966">&#34;abcd&#34;</span><span class="op" id="7487972">,</span>&nbsp;<span class="ident" id="7487974">build</span><span class="op" id="7487979">(</span><span class="num" id="7487980">2</span><span class="op" id="7487981">,</span>&nbsp;<span class="num" id="7487983">0</span><span class="op" id="7487984">,</span>&nbsp;<span class="num" id="7487986">2</span><span class="op" id="7487987">,</span>&nbsp;<span class="num" id="7487989">1</span><span class="op" id="7487990">,</span>&nbsp;<span class="num" id="7487992">2</span><span class="op" id="7487993">,</span>&nbsp;<span class="num" id="7487995">2</span><span class="op" id="7487996">,</span>&nbsp;<span class="num" id="7487998">4</span><span class="op" id="7487999">,</span>&nbsp;<span class="num" id="7488001">3</span><span class="op" id="7488002">,</span>&nbsp;<span class="num" id="7488004">4</span><span class="op" id="7488005">)</span><span class="op" id="7488006">}</span><span class="op" id="7488007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488010">{</span><span class="string" id="7488011">`ab*`</span><span class="op" id="7488016">,</span>&nbsp;<span class="string" id="7488018">&#34;abbaab&#34;</span><span class="op" id="7488026">,</span>&nbsp;<span class="ident" id="7488028">build</span><span class="op" id="7488033">(</span><span class="num" id="7488034">3</span><span class="op" id="7488035">,</span>&nbsp;<span class="num" id="7488037">0</span><span class="op" id="7488038">,</span>&nbsp;<span class="num" id="7488040">3</span><span class="op" id="7488041">,</span>&nbsp;<span class="num" id="7488043">3</span><span class="op" id="7488044">,</span>&nbsp;<span class="num" id="7488046">4</span><span class="op" id="7488047">,</span>&nbsp;<span class="num" id="7488049">4</span><span class="op" id="7488050">,</span>&nbsp;<span class="num" id="7488052">6</span><span class="op" id="7488053">)</span><span class="op" id="7488054">}</span><span class="op" id="7488055">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488058">{</span><span class="string" id="7488059">`a(b*)`</span><span class="op" id="7488066">,</span>&nbsp;<span class="string" id="7488068">&#34;abbaab&#34;</span><span class="op" id="7488076">,</span>&nbsp;<span class="ident" id="7488078">build</span><span class="op" id="7488083">(</span><span class="num" id="7488084">3</span><span class="op" id="7488085">,</span>&nbsp;<span class="num" id="7488087">0</span><span class="op" id="7488088">,</span>&nbsp;<span class="num" id="7488090">3</span><span class="op" id="7488091">,</span>&nbsp;<span class="num" id="7488093">1</span><span class="op" id="7488094">,</span>&nbsp;<span class="num" id="7488096">3</span><span class="op" id="7488097">,</span>&nbsp;<span class="num" id="7488099">3</span><span class="op" id="7488100">,</span>&nbsp;<span class="num" id="7488102">4</span><span class="op" id="7488103">,</span>&nbsp;<span class="num" id="7488105">4</span><span class="op" id="7488106">,</span>&nbsp;<span class="num" id="7488108">4</span><span class="op" id="7488109">,</span>&nbsp;<span class="num" id="7488111">4</span><span class="op" id="7488112">,</span>&nbsp;<span class="num" id="7488114">6</span><span class="op" id="7488115">,</span>&nbsp;<span class="num" id="7488117">5</span><span class="op" id="7488118">,</span>&nbsp;<span class="num" id="7488120">6</span><span class="op" id="7488121">)</span><span class="op" id="7488122">}</span><span class="op" id="7488123">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488127">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488142">{</span><span class="string" id="7488143">`ab$`</span><span class="op" id="7488148">,</span>&nbsp;<span class="string" id="7488150">&#34;cab&#34;</span><span class="op" id="7488155">,</span>&nbsp;<span class="ident" id="7488157">build</span><span class="op" id="7488162">(</span><span class="num" id="7488163">1</span><span class="op" id="7488164">,</span>&nbsp;<span class="num" id="7488166">1</span><span class="op" id="7488167">,</span>&nbsp;<span class="num" id="7488169">3</span><span class="op" id="7488170">)</span><span class="op" id="7488171">}</span><span class="op" id="7488172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488175">{</span><span class="string" id="7488176">`axxb$`</span><span class="op" id="7488183">,</span>&nbsp;<span class="string" id="7488185">&#34;axxcb&#34;</span><span class="op" id="7488192">,</span>&nbsp;<span class="ident" id="7488194">nil</span><span class="op" id="7488197">}</span><span class="op" id="7488198">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488201">{</span><span class="string" id="7488202">`data`</span><span class="op" id="7488208">,</span>&nbsp;<span class="string" id="7488210">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7488221">,</span>&nbsp;<span class="ident" id="7488223">build</span><span class="op" id="7488228">(</span><span class="num" id="7488229">1</span><span class="op" id="7488230">,</span>&nbsp;<span class="num" id="7488232">5</span><span class="op" id="7488233">,</span>&nbsp;<span class="num" id="7488235">9</span><span class="op" id="7488236">)</span><span class="op" id="7488237">}</span><span class="op" id="7488238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488241">{</span><span class="string" id="7488242">`da(.)a$`</span><span class="op" id="7488251">,</span>&nbsp;<span class="string" id="7488253">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7488264">,</span>&nbsp;<span class="ident" id="7488266">build</span><span class="op" id="7488271">(</span><span class="num" id="7488272">1</span><span class="op" id="7488273">,</span>&nbsp;<span class="num" id="7488275">5</span><span class="op" id="7488276">,</span>&nbsp;<span class="num" id="7488278">9</span><span class="op" id="7488279">,</span>&nbsp;<span class="num" id="7488281">7</span><span class="op" id="7488282">,</span>&nbsp;<span class="num" id="7488284">8</span><span class="op" id="7488285">)</span><span class="op" id="7488286">}</span><span class="op" id="7488287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488290">{</span><span class="string" id="7488291">`zx+`</span><span class="op" id="7488296">,</span>&nbsp;<span class="string" id="7488298">&#34;zzx&#34;</span><span class="op" id="7488303">,</span>&nbsp;<span class="ident" id="7488305">build</span><span class="op" id="7488310">(</span><span class="num" id="7488311">1</span><span class="op" id="7488312">,</span>&nbsp;<span class="num" id="7488314">1</span><span class="op" id="7488315">,</span>&nbsp;<span class="num" id="7488317">3</span><span class="op" id="7488318">)</span><span class="op" id="7488319">}</span><span class="op" id="7488320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488323">{</span><span class="string" id="7488324">`ab$`</span><span class="op" id="7488329">,</span>&nbsp;<span class="string" id="7488331">&#34;abcab&#34;</span><span class="op" id="7488338">,</span>&nbsp;<span class="ident" id="7488340">build</span><span class="op" id="7488345">(</span><span class="num" id="7488346">1</span><span class="op" id="7488347">,</span>&nbsp;<span class="num" id="7488349">3</span><span class="op" id="7488350">,</span>&nbsp;<span class="num" id="7488352">5</span><span class="op" id="7488353">)</span><span class="op" id="7488354">}</span><span class="op" id="7488355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488358">{</span><span class="string" id="7488359">`(aa)*$`</span><span class="op" id="7488367">,</span>&nbsp;<span class="string" id="7488369">&#34;a&#34;</span><span class="op" id="7488372">,</span>&nbsp;<span class="ident" id="7488374">build</span><span class="op" id="7488379">(</span><span class="num" id="7488380">1</span><span class="op" id="7488381">,</span>&nbsp;<span class="num" id="7488383">1</span><span class="op" id="7488384">,</span>&nbsp;<span class="num" id="7488386">1</span><span class="op" id="7488387">,</span>&nbsp;<span class="op" id="7488389">-</span><span class="num" id="7488390">1</span><span class="op" id="7488391">,</span>&nbsp;<span class="op" id="7488393">-</span><span class="num" id="7488394">1</span><span class="op" id="7488395">)</span><span class="op" id="7488396">}</span><span class="op" id="7488397">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488400">{</span><span class="string" id="7488401">`(?:.|(?:.a))`</span><span class="op" id="7488415">,</span>&nbsp;<span class="string" id="7488417">&#34;&#34;</span><span class="op" id="7488419">,</span>&nbsp;<span class="ident" id="7488421">nil</span><span class="op" id="7488424">}</span><span class="op" id="7488425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488428">{</span><span class="string" id="7488429">`(?:A(?:A|a))`</span><span class="op" id="7488443">,</span>&nbsp;<span class="string" id="7488445">&#34;Aa&#34;</span><span class="op" id="7488449">,</span>&nbsp;<span class="ident" id="7488451">build</span><span class="op" id="7488456">(</span><span class="num" id="7488457">1</span><span class="op" id="7488458">,</span>&nbsp;<span class="num" id="7488460">0</span><span class="op" id="7488461">,</span>&nbsp;<span class="num" id="7488463">2</span><span class="op" id="7488464">)</span><span class="op" id="7488465">}</span><span class="op" id="7488466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488469">{</span><span class="string" id="7488470">`(?:A|(?:A|a))`</span><span class="op" id="7488485">,</span>&nbsp;<span class="string" id="7488487">&#34;a&#34;</span><span class="op" id="7488490">,</span>&nbsp;<span class="ident" id="7488492">build</span><span class="op" id="7488497">(</span><span class="num" id="7488498">1</span><span class="op" id="7488499">,</span>&nbsp;<span class="num" id="7488501">0</span><span class="op" id="7488502">,</span>&nbsp;<span class="num" id="7488504">1</span><span class="op" id="7488505">)</span><span class="op" id="7488506">}</span><span class="op" id="7488507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488510">{</span><span class="string" id="7488511">`(a){0}`</span><span class="op" id="7488519">,</span>&nbsp;<span class="string" id="7488521">&#34;&#34;</span><span class="op" id="7488523">,</span>&nbsp;<span class="ident" id="7488525">build</span><span class="op" id="7488530">(</span><span class="num" id="7488531">1</span><span class="op" id="7488532">,</span>&nbsp;<span class="num" id="7488534">0</span><span class="op" id="7488535">,</span>&nbsp;<span class="num" id="7488537">0</span><span class="op" id="7488538">,</span>&nbsp;<span class="op" id="7488540">-</span><span class="num" id="7488541">1</span><span class="op" id="7488542">,</span>&nbsp;<span class="op" id="7488544">-</span><span class="num" id="7488545">1</span><span class="op" id="7488546">)</span><span class="op" id="7488547">}</span><span class="op" id="7488548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488551">{</span><span class="string" id="7488552">`(?-s)(?:(?:^).)`</span><span class="op" id="7488569">,</span>&nbsp;<span class="string" id="7488571">&#34;\n&#34;</span><span class="op" id="7488575">,</span>&nbsp;<span class="ident" id="7488577">nil</span><span class="op" id="7488580">}</span><span class="op" id="7488581">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488584">{</span><span class="string" id="7488585">`(?s)(?:(?:^).)`</span><span class="op" id="7488601">,</span>&nbsp;<span class="string" id="7488603">&#34;\n&#34;</span><span class="op" id="7488607">,</span>&nbsp;<span class="ident" id="7488609">build</span><span class="op" id="7488614">(</span><span class="num" id="7488615">1</span><span class="op" id="7488616">,</span>&nbsp;<span class="num" id="7488618">0</span><span class="op" id="7488619">,</span>&nbsp;<span class="num" id="7488621">1</span><span class="op" id="7488622">)</span><span class="op" id="7488623">}</span><span class="op" id="7488624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488627">{</span><span class="string" id="7488628">`(?:(?:^).)`</span><span class="op" id="7488640">,</span>&nbsp;<span class="string" id="7488642">&#34;\n&#34;</span><span class="op" id="7488646">,</span>&nbsp;<span class="ident" id="7488648">nil</span><span class="op" id="7488651">}</span><span class="op" id="7488652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488655">{</span><span class="string" id="7488656">`\b`</span><span class="op" id="7488660">,</span>&nbsp;<span class="string" id="7488662">&#34;x&#34;</span><span class="op" id="7488665">,</span>&nbsp;<span class="ident" id="7488667">build</span><span class="op" id="7488672">(</span><span class="num" id="7488673">2</span><span class="op" id="7488674">,</span>&nbsp;<span class="num" id="7488676">0</span><span class="op" id="7488677">,</span>&nbsp;<span class="num" id="7488679">0</span><span class="op" id="7488680">,</span>&nbsp;<span class="num" id="7488682">1</span><span class="op" id="7488683">,</span>&nbsp;<span class="num" id="7488685">1</span><span class="op" id="7488686">)</span><span class="op" id="7488687">}</span><span class="op" id="7488688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488691">{</span><span class="string" id="7488692">`\b`</span><span class="op" id="7488696">,</span>&nbsp;<span class="string" id="7488698">&#34;xx&#34;</span><span class="op" id="7488702">,</span>&nbsp;<span class="ident" id="7488704">build</span><span class="op" id="7488709">(</span><span class="num" id="7488710">2</span><span class="op" id="7488711">,</span>&nbsp;<span class="num" id="7488713">0</span><span class="op" id="7488714">,</span>&nbsp;<span class="num" id="7488716">0</span><span class="op" id="7488717">,</span>&nbsp;<span class="num" id="7488719">2</span><span class="op" id="7488720">,</span>&nbsp;<span class="num" id="7488722">2</span><span class="op" id="7488723">)</span><span class="op" id="7488724">}</span><span class="op" id="7488725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488728">{</span><span class="string" id="7488729">`\b`</span><span class="op" id="7488733">,</span>&nbsp;<span class="string" id="7488735">&#34;x&nbsp;y&#34;</span><span class="op" id="7488740">,</span>&nbsp;<span class="ident" id="7488742">build</span><span class="op" id="7488747">(</span><span class="num" id="7488748">4</span><span class="op" id="7488749">,</span>&nbsp;<span class="num" id="7488751">0</span><span class="op" id="7488752">,</span>&nbsp;<span class="num" id="7488754">0</span><span class="op" id="7488755">,</span>&nbsp;<span class="num" id="7488757">1</span><span class="op" id="7488758">,</span>&nbsp;<span class="num" id="7488760">1</span><span class="op" id="7488761">,</span>&nbsp;<span class="num" id="7488763">2</span><span class="op" id="7488764">,</span>&nbsp;<span class="num" id="7488766">2</span><span class="op" id="7488767">,</span>&nbsp;<span class="num" id="7488769">3</span><span class="op" id="7488770">,</span>&nbsp;<span class="num" id="7488772">3</span><span class="op" id="7488773">)</span><span class="op" id="7488774">}</span><span class="op" id="7488775">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488778">{</span><span class="string" id="7488779">`\b`</span><span class="op" id="7488783">,</span>&nbsp;<span class="string" id="7488785">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7488792">,</span>&nbsp;<span class="ident" id="7488794">build</span><span class="op" id="7488799">(</span><span class="num" id="7488800">4</span><span class="op" id="7488801">,</span>&nbsp;<span class="num" id="7488803">0</span><span class="op" id="7488804">,</span>&nbsp;<span class="num" id="7488806">0</span><span class="op" id="7488807">,</span>&nbsp;<span class="num" id="7488809">2</span><span class="op" id="7488810">,</span>&nbsp;<span class="num" id="7488812">2</span><span class="op" id="7488813">,</span>&nbsp;<span class="num" id="7488815">3</span><span class="op" id="7488816">,</span>&nbsp;<span class="num" id="7488818">3</span><span class="op" id="7488819">,</span>&nbsp;<span class="num" id="7488821">5</span><span class="op" id="7488822">,</span>&nbsp;<span class="num" id="7488824">5</span><span class="op" id="7488825">)</span><span class="op" id="7488826">}</span><span class="op" id="7488827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488830">{</span><span class="string" id="7488831">`\B`</span><span class="op" id="7488835">,</span>&nbsp;<span class="string" id="7488837">&#34;x&#34;</span><span class="op" id="7488840">,</span>&nbsp;<span class="ident" id="7488842">nil</span><span class="op" id="7488845">}</span><span class="op" id="7488846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488849">{</span><span class="string" id="7488850">`\B`</span><span class="op" id="7488854">,</span>&nbsp;<span class="string" id="7488856">&#34;xx&#34;</span><span class="op" id="7488860">,</span>&nbsp;<span class="ident" id="7488862">build</span><span class="op" id="7488867">(</span><span class="num" id="7488868">1</span><span class="op" id="7488869">,</span>&nbsp;<span class="num" id="7488871">1</span><span class="op" id="7488872">,</span>&nbsp;<span class="num" id="7488874">1</span><span class="op" id="7488875">)</span><span class="op" id="7488876">}</span><span class="op" id="7488877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488880">{</span><span class="string" id="7488881">`\B`</span><span class="op" id="7488885">,</span>&nbsp;<span class="string" id="7488887">&#34;x&nbsp;y&#34;</span><span class="op" id="7488892">,</span>&nbsp;<span class="ident" id="7488894">nil</span><span class="op" id="7488897">}</span><span class="op" id="7488898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488901">{</span><span class="string" id="7488902">`\B`</span><span class="op" id="7488906">,</span>&nbsp;<span class="string" id="7488908">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7488915">,</span>&nbsp;<span class="ident" id="7488917">build</span><span class="op" id="7488922">(</span><span class="num" id="7488923">2</span><span class="op" id="7488924">,</span>&nbsp;<span class="num" id="7488926">1</span><span class="op" id="7488927">,</span>&nbsp;<span class="num" id="7488929">1</span><span class="op" id="7488930">,</span>&nbsp;<span class="num" id="7488932">4</span><span class="op" id="7488933">,</span>&nbsp;<span class="num" id="7488935">4</span><span class="op" id="7488936">)</span><span class="op" id="7488937">}</span><span class="op" id="7488938">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488942">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488956">{</span><span class="string" id="7488957">`[^\S\s]`</span><span class="op" id="7488966">,</span>&nbsp;<span class="string" id="7488968">&#34;abcd&#34;</span><span class="op" id="7488974">,</span>&nbsp;<span class="ident" id="7488976">nil</span><span class="op" id="7488979">}</span><span class="op" id="7488980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488983">{</span><span class="string" id="7488984">`[^\S[:space:]]`</span><span class="op" id="7489000">,</span>&nbsp;<span class="string" id="7489002">&#34;abcd&#34;</span><span class="op" id="7489008">,</span>&nbsp;<span class="ident" id="7489010">nil</span><span class="op" id="7489013">}</span><span class="op" id="7489014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489017">{</span><span class="string" id="7489018">`[^\D\d]`</span><span class="op" id="7489027">,</span>&nbsp;<span class="string" id="7489029">&#34;abcd&#34;</span><span class="op" id="7489035">,</span>&nbsp;<span class="ident" id="7489037">nil</span><span class="op" id="7489040">}</span><span class="op" id="7489041">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489044">{</span><span class="string" id="7489045">`[^\D[:digit:]]`</span><span class="op" id="7489061">,</span>&nbsp;<span class="string" id="7489063">&#34;abcd&#34;</span><span class="op" id="7489069">,</span>&nbsp;<span class="ident" id="7489071">nil</span><span class="op" id="7489074">}</span><span class="op" id="7489075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489078">{</span><span class="string" id="7489079">`(?i)\W`</span><span class="op" id="7489087">,</span>&nbsp;<span class="string" id="7489089">&#34;x&#34;</span><span class="op" id="7489092">,</span>&nbsp;<span class="ident" id="7489094">nil</span><span class="op" id="7489097">}</span><span class="op" id="7489098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489101">{</span><span class="string" id="7489102">`(?i)\W`</span><span class="op" id="7489110">,</span>&nbsp;<span class="string" id="7489112">&#34;k&#34;</span><span class="op" id="7489115">,</span>&nbsp;<span class="ident" id="7489117">nil</span><span class="op" id="7489120">}</span><span class="op" id="7489121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489124">{</span><span class="string" id="7489125">`(?i)\W`</span><span class="op" id="7489133">,</span>&nbsp;<span class="string" id="7489135">&#34;s&#34;</span><span class="op" id="7489138">,</span>&nbsp;<span class="ident" id="7489140">nil</span><span class="op" id="7489143">}</span><span class="op" id="7489144">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489148">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489189">{</span><span class="string" id="7489190">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="7489254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7489258">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7489291">,</span>&nbsp;<span class="ident" id="7489293">build</span><span class="op" id="7489298">(</span><span class="num" id="7489299">1</span><span class="op" id="7489300">,</span>&nbsp;<span class="num" id="7489302">0</span><span class="op" id="7489303">,</span>&nbsp;<span class="num" id="7489305">31</span><span class="op" id="7489307">)</span><span class="op" id="7489308">}</span><span class="op" id="7489309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489312">{</span><span class="string" id="7489313">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="7489380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7489384">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7489417">,</span>&nbsp;<span class="ident" id="7489419">build</span><span class="op" id="7489424">(</span><span class="num" id="7489425">1</span><span class="op" id="7489426">,</span>&nbsp;<span class="num" id="7489428">0</span><span class="op" id="7489429">,</span>&nbsp;<span class="num" id="7489431">31</span><span class="op" id="7489433">)</span><span class="op" id="7489434">}</span><span class="op" id="7489435">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489438">{</span><span class="string" id="7489439">&#34;\\`&#34;</span><span class="op" id="7489444">,</span>&nbsp;<span class="string" id="7489446">&#34;`&#34;</span><span class="op" id="7489449">,</span>&nbsp;<span class="ident" id="7489451">build</span><span class="op" id="7489456">(</span><span class="num" id="7489457">1</span><span class="op" id="7489458">,</span>&nbsp;<span class="num" id="7489460">0</span><span class="op" id="7489461">,</span>&nbsp;<span class="num" id="7489463">1</span><span class="op" id="7489464">)</span><span class="op" id="7489465">}</span><span class="op" id="7489466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489469">{</span><span class="string" id="7489470">&#34;[\\`]+&#34;</span><span class="op" id="7489478">,</span>&nbsp;<span class="string" id="7489480">&#34;`&#34;</span><span class="op" id="7489483">,</span>&nbsp;<span class="ident" id="7489485">build</span><span class="op" id="7489490">(</span><span class="num" id="7489491">1</span><span class="op" id="7489492">,</span>&nbsp;<span class="num" id="7489494">0</span><span class="op" id="7489495">,</span>&nbsp;<span class="num" id="7489497">1</span><span class="op" id="7489498">)</span><span class="op" id="7489499">}</span><span class="op" id="7489500">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489504">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489552">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7489556">&#34;.&#34;</span><span class="op" id="7489559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7489563">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="7489601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489605">build</span><span class="op" id="7489610">(</span><span class="num" id="7489611">36</span><span class="op" id="7489613">,</span>&nbsp;<span class="num" id="7489615">0</span><span class="op" id="7489616">,</span>&nbsp;<span class="num" id="7489618">1</span><span class="op" id="7489619">,</span>&nbsp;<span class="num" id="7489621">1</span><span class="op" id="7489622">,</span>&nbsp;<span class="num" id="7489624">2</span><span class="op" id="7489625">,</span>&nbsp;<span class="num" id="7489627">2</span><span class="op" id="7489628">,</span>&nbsp;<span class="num" id="7489630">3</span><span class="op" id="7489631">,</span>&nbsp;<span class="num" id="7489633">3</span><span class="op" id="7489634">,</span>&nbsp;<span class="num" id="7489636">4</span><span class="op" id="7489637">,</span>&nbsp;<span class="num" id="7489639">4</span><span class="op" id="7489640">,</span>&nbsp;<span class="num" id="7489642">5</span><span class="op" id="7489643">,</span>&nbsp;<span class="num" id="7489645">5</span><span class="op" id="7489646">,</span>&nbsp;<span class="num" id="7489648">6</span><span class="op" id="7489649">,</span>&nbsp;<span class="num" id="7489651">6</span><span class="op" id="7489652">,</span>&nbsp;<span class="num" id="7489654">7</span><span class="op" id="7489655">,</span>&nbsp;<span class="num" id="7489657">7</span><span class="op" id="7489658">,</span>&nbsp;<span class="num" id="7489660">8</span><span class="op" id="7489661">,</span>&nbsp;<span class="num" id="7489663">8</span><span class="op" id="7489664">,</span>&nbsp;<span class="num" id="7489666">9</span><span class="op" id="7489667">,</span>&nbsp;<span class="num" id="7489669">9</span><span class="op" id="7489670">,</span>&nbsp;<span class="num" id="7489672">10</span><span class="op" id="7489674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7489679">10</span><span class="op" id="7489681">,</span>&nbsp;<span class="num" id="7489683">11</span><span class="op" id="7489685">,</span>&nbsp;<span class="num" id="7489687">11</span><span class="op" id="7489689">,</span>&nbsp;<span class="num" id="7489691">12</span><span class="op" id="7489693">,</span>&nbsp;<span class="num" id="7489695">12</span><span class="op" id="7489697">,</span>&nbsp;<span class="num" id="7489699">13</span><span class="op" id="7489701">,</span>&nbsp;<span class="num" id="7489703">13</span><span class="op" id="7489705">,</span>&nbsp;<span class="num" id="7489707">14</span><span class="op" id="7489709">,</span>&nbsp;<span class="num" id="7489711">14</span><span class="op" id="7489713">,</span>&nbsp;<span class="num" id="7489715">15</span><span class="op" id="7489717">,</span>&nbsp;<span class="num" id="7489719">15</span><span class="op" id="7489721">,</span>&nbsp;<span class="num" id="7489723">16</span><span class="op" id="7489725">,</span>&nbsp;<span class="num" id="7489727">16</span><span class="op" id="7489729">,</span>&nbsp;<span class="num" id="7489731">17</span><span class="op" id="7489733">,</span>&nbsp;<span class="num" id="7489735">17</span><span class="op" id="7489737">,</span>&nbsp;<span class="num" id="7489739">18</span><span class="op" id="7489741">,</span>&nbsp;<span class="num" id="7489743">18</span><span class="op" id="7489745">,</span>&nbsp;<span class="num" id="7489747">19</span><span class="op" id="7489749">,</span>&nbsp;<span class="num" id="7489751">19</span><span class="op" id="7489753">,</span>&nbsp;<span class="num" id="7489755">20</span><span class="op" id="7489757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7489762">20</span><span class="op" id="7489764">,</span>&nbsp;<span class="num" id="7489766">21</span><span class="op" id="7489768">,</span>&nbsp;<span class="num" id="7489770">21</span><span class="op" id="7489772">,</span>&nbsp;<span class="num" id="7489774">22</span><span class="op" id="7489776">,</span>&nbsp;<span class="num" id="7489778">22</span><span class="op" id="7489780">,</span>&nbsp;<span class="num" id="7489782">23</span><span class="op" id="7489784">,</span>&nbsp;<span class="num" id="7489786">23</span><span class="op" id="7489788">,</span>&nbsp;<span class="num" id="7489790">24</span><span class="op" id="7489792">,</span>&nbsp;<span class="num" id="7489794">24</span><span class="op" id="7489796">,</span>&nbsp;<span class="num" id="7489798">25</span><span class="op" id="7489800">,</span>&nbsp;<span class="num" id="7489802">25</span><span class="op" id="7489804">,</span>&nbsp;<span class="num" id="7489806">26</span><span class="op" id="7489808">,</span>&nbsp;<span class="num" id="7489810">26</span><span class="op" id="7489812">,</span>&nbsp;<span class="num" id="7489814">27</span><span class="op" id="7489816">,</span>&nbsp;<span class="num" id="7489818">27</span><span class="op" id="7489820">,</span>&nbsp;<span class="num" id="7489822">28</span><span class="op" id="7489824">,</span>&nbsp;<span class="num" id="7489826">28</span><span class="op" id="7489828">,</span>&nbsp;<span class="num" id="7489830">29</span><span class="op" id="7489832">,</span>&nbsp;<span class="num" id="7489834">29</span><span class="op" id="7489836">,</span>&nbsp;<span class="num" id="7489838">30</span><span class="op" id="7489840">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7489845">30</span><span class="op" id="7489847">,</span>&nbsp;<span class="num" id="7489849">31</span><span class="op" id="7489851">,</span>&nbsp;<span class="num" id="7489853">31</span><span class="op" id="7489855">,</span>&nbsp;<span class="num" id="7489857">32</span><span class="op" id="7489859">,</span>&nbsp;<span class="num" id="7489861">32</span><span class="op" id="7489863">,</span>&nbsp;<span class="num" id="7489865">33</span><span class="op" id="7489867">,</span>&nbsp;<span class="num" id="7489869">33</span><span class="op" id="7489871">,</span>&nbsp;<span class="num" id="7489873">34</span><span class="op" id="7489875">,</span>&nbsp;<span class="num" id="7489877">34</span><span class="op" id="7489879">,</span>&nbsp;<span class="num" id="7489881">35</span><span class="op" id="7489883">,</span>&nbsp;<span class="num" id="7489885">35</span><span class="op" id="7489887">,</span>&nbsp;<span class="num" id="7489889">36</span><span class="op" id="7489891">)</span><span class="op" id="7489892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489895">}</span><span class="op" id="7489896">,</span><br>
<span class="lineno"></span><span class="op" id="7489898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7489901">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="7489979">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="7490039">func</span>&nbsp;<span class="ident" id="7490044">build</span><span class="op" id="7490049">(</span><span class="ident" id="7490050">n</span>&nbsp;<span class="builtintype" id="7490052">int</span><span class="op" id="7490055">,</span>&nbsp;<span class="ident" id="7490057">x</span>&nbsp;<span class="op" id="7490059">...</span><span class="builtintype" id="7490062">int</span><span class="op" id="7490065">)</span>&nbsp;<span class="op" id="7490067">[</span><span class="op" id="7490068">]</span><span class="op" id="7490069">[</span><span class="op" id="7490070">]</span><span class="builtintype" id="7490071">int</span>&nbsp;<span class="op" id="7490075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490078">ret</span>&nbsp;<span class="op" id="7490082">:=</span>&nbsp;<span class="builtinfunc" id="7490085">make</span><span class="op" id="7490089">(</span><span class="op" id="7490090">[</span><span class="op" id="7490091">]</span><span class="op" id="7490092">[</span><span class="op" id="7490093">]</span><span class="builtintype" id="7490094">int</span><span class="op" id="7490097">,</span>&nbsp;<span class="ident" id="7490099">n</span><span class="op" id="7490100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490103">runLength</span>&nbsp;<span class="op" id="7490113">:=</span>&nbsp;<span class="builtinfunc" id="7490116">len</span><span class="op" id="7490119">(</span><span class="ident" id="7490120">x</span><span class="op" id="7490121">)</span>&nbsp;<span class="op" id="7490123">/</span>&nbsp;<span class="ident" id="7490125">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490128">j</span>&nbsp;<span class="op" id="7490130">:=</span>&nbsp;<span class="num" id="7490133">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490136">for</span>&nbsp;<span class="ident" id="7490140">i</span>&nbsp;<span class="op" id="7490142">:=</span>&nbsp;<span class="keyword" id="7490145">range</span>&nbsp;<span class="ident" id="7490151">ret</span>&nbsp;<span class="op" id="7490155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490159">ret</span><span class="op" id="7490162">[</span><span class="ident" id="7490163">i</span><span class="op" id="7490164">]</span>&nbsp;<span class="op" id="7490166">=</span>&nbsp;<span class="builtinfunc" id="7490168">make</span><span class="op" id="7490172">(</span><span class="op" id="7490173">[</span><span class="op" id="7490174">]</span><span class="builtintype" id="7490175">int</span><span class="op" id="7490178">,</span>&nbsp;<span class="ident" id="7490180">runLength</span><span class="op" id="7490189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7490193">copy</span><span class="op" id="7490197">(</span><span class="ident" id="7490198">ret</span><span class="op" id="7490201">[</span><span class="ident" id="7490202">i</span><span class="op" id="7490203">]</span><span class="op" id="7490204">,</span>&nbsp;<span class="ident" id="7490206">x</span><span class="op" id="7490207">[</span><span class="ident" id="7490208">j</span><span class="op" id="7490209">:</span><span class="op" id="7490210">]</span><span class="op" id="7490211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490215">j</span>&nbsp;<span class="op" id="7490217">+=</span>&nbsp;<span class="ident" id="7490220">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490232">if</span>&nbsp;<span class="ident" id="7490235">j</span>&nbsp;<span class="op" id="7490237">&gt;</span>&nbsp;<span class="builtinfunc" id="7490239">len</span><span class="op" id="7490242">(</span><span class="ident" id="7490243">x</span><span class="op" id="7490244">)</span>&nbsp;<span class="op" id="7490246">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7490251">panic</span><span class="op" id="7490256">(</span><span class="string" id="7490257">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="7490278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490288">return</span>&nbsp;<span class="ident" id="7490295">ret</span><br>
<span class="lineno"></span><span class="op" id="7490299">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="7490302">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7490330">func</span>&nbsp;<span class="ident" id="7490335">TestFind</span><span class="op" id="7490343">(</span><span class="ident" id="7490344">t</span>&nbsp;<span class="op" id="7490346">*</span><span class="ident" id="7490347">testing</span><span class="op" id="7490354">.</span><span class="ident" id="7490355">T</span><span class="op" id="7490356">)</span>&nbsp;<span class="op" id="7490358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490361">for</span>&nbsp;<span class="ident" id="7490365">_</span><span class="op" id="7490366">,</span>&nbsp;<span class="ident" id="7490368">test</span>&nbsp;<span class="op" id="7490373">:=</span>&nbsp;<span class="keyword" id="7490376">range</span>&nbsp;<span class="ident" id="7490382">findTests</span>&nbsp;<span class="op" id="7490392">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490396">re</span>&nbsp;<span class="op" id="7490399">:=</span>&nbsp;<span class="ident" id="7490402">MustCompile</span><span class="op" id="7490413">(</span><span class="ident" id="7490414">test</span><span class="op" id="7490418">.</span><span class="ident" id="7490419">pat</span><span class="op" id="7490422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490426">if</span>&nbsp;<span class="ident" id="7490429">re</span><span class="op" id="7490431">.</span><span class="ident" id="7490432">String</span><span class="op" id="7490438">(</span><span class="op" id="7490439">)</span>&nbsp;<span class="op" id="7490441">!=</span>&nbsp;<span class="ident" id="7490444">test</span><span class="op" id="7490448">.</span><span class="ident" id="7490449">pat</span>&nbsp;<span class="op" id="7490453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490458">t</span><span class="op" id="7490459">.</span><span class="ident" id="7490460">Errorf</span><span class="op" id="7490466">(</span><span class="string" id="7490467">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="7490500">,</span>&nbsp;<span class="ident" id="7490502">re</span><span class="op" id="7490504">.</span><span class="ident" id="7490505">String</span><span class="op" id="7490511">(</span><span class="op" id="7490512">)</span><span class="op" id="7490513">,</span>&nbsp;<span class="ident" id="7490515">test</span><span class="op" id="7490519">.</span><span class="ident" id="7490520">pat</span><span class="op" id="7490523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490531">result</span>&nbsp;<span class="op" id="7490538">:=</span>&nbsp;<span class="ident" id="7490541">re</span><span class="op" id="7490543">.</span><span class="ident" id="7490544">Find</span><span class="op" id="7490548">(</span><span class="op" id="7490549">[</span><span class="op" id="7490550">]</span><span class="builtintype" id="7490551">byte</span><span class="op" id="7490555">(</span><span class="ident" id="7490556">test</span><span class="op" id="7490560">.</span><span class="ident" id="7490561">text</span><span class="op" id="7490565">)</span><span class="op" id="7490566">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490570">switch</span>&nbsp;<span class="op" id="7490577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490581">case</span>&nbsp;<span class="builtinfunc" id="7490586">len</span><span class="op" id="7490589">(</span><span class="ident" id="7490590">test</span><span class="op" id="7490594">.</span><span class="ident" id="7490595">matches</span><span class="op" id="7490602">)</span>&nbsp;<span class="op" id="7490604">==</span>&nbsp;<span class="num" id="7490607">0</span>&nbsp;<span class="op" id="7490609">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7490612">len</span><span class="op" id="7490615">(</span><span class="ident" id="7490616">result</span><span class="op" id="7490622">)</span>&nbsp;<span class="op" id="7490624">==</span>&nbsp;<span class="num" id="7490627">0</span><span class="op" id="7490628">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7490633">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490641">case</span>&nbsp;<span class="ident" id="7490646">test</span><span class="op" id="7490650">.</span><span class="ident" id="7490651">matches</span>&nbsp;<span class="op" id="7490659">==</span>&nbsp;<span class="ident" id="7490662">nil</span>&nbsp;<span class="op" id="7490666">&amp;&amp;</span>&nbsp;<span class="ident" id="7490669">result</span>&nbsp;<span class="op" id="7490676">!=</span>&nbsp;<span class="ident" id="7490679">nil</span><span class="op" id="7490682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490687">t</span><span class="op" id="7490688">.</span><span class="ident" id="7490689">Errorf</span><span class="op" id="7490695">(</span><span class="string" id="7490696">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7490728">,</span>&nbsp;<span class="ident" id="7490730">test</span><span class="op" id="7490734">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490738">case</span>&nbsp;<span class="ident" id="7490743">test</span><span class="op" id="7490747">.</span><span class="ident" id="7490748">matches</span>&nbsp;<span class="op" id="7490756">!=</span>&nbsp;<span class="ident" id="7490759">nil</span>&nbsp;<span class="op" id="7490763">&amp;&amp;</span>&nbsp;<span class="ident" id="7490766">result</span>&nbsp;<span class="op" id="7490773">==</span>&nbsp;<span class="ident" id="7490776">nil</span><span class="op" id="7490779">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490784">t</span><span class="op" id="7490785">.</span><span class="ident" id="7490786">Errorf</span><span class="op" id="7490792">(</span><span class="string" id="7490793">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7490823">,</span>&nbsp;<span class="ident" id="7490825">test</span><span class="op" id="7490829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490833">case</span>&nbsp;<span class="ident" id="7490838">test</span><span class="op" id="7490842">.</span><span class="ident" id="7490843">matches</span>&nbsp;<span class="op" id="7490851">!=</span>&nbsp;<span class="ident" id="7490854">nil</span>&nbsp;<span class="op" id="7490858">&amp;&amp;</span>&nbsp;<span class="ident" id="7490861">result</span>&nbsp;<span class="op" id="7490868">!=</span>&nbsp;<span class="ident" id="7490871">nil</span><span class="op" id="7490874">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490879">expect</span>&nbsp;<span class="op" id="7490886">:=</span>&nbsp;<span class="ident" id="7490889">test</span><span class="op" id="7490893">.</span><span class="ident" id="7490894">text</span><span class="op" id="7490898">[</span><span class="ident" id="7490899">test</span><span class="op" id="7490903">.</span><span class="ident" id="7490904">matches</span><span class="op" id="7490911">[</span><span class="num" id="7490912">0</span><span class="op" id="7490913">]</span><span class="op" id="7490914">[</span><span class="num" id="7490915">0</span><span class="op" id="7490916">]</span><span class="op" id="7490917">:</span><span class="ident" id="7490918">test</span><span class="op" id="7490922">.</span><span class="ident" id="7490923">matches</span><span class="op" id="7490930">[</span><span class="num" id="7490931">0</span><span class="op" id="7490932">]</span><span class="op" id="7490933">[</span><span class="num" id="7490934">1</span><span class="op" id="7490935">]</span><span class="op" id="7490936">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490941">if</span>&nbsp;<span class="ident" id="7490944">expect</span>&nbsp;<span class="op" id="7490951">!=</span>&nbsp;<span class="builtintype" id="7490954">string</span><span class="op" id="7490960">(</span><span class="ident" id="7490961">result</span><span class="op" id="7490967">)</span>&nbsp;<span class="op" id="7490969">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490975">t</span><span class="op" id="7490976">.</span><span class="ident" id="7490977">Errorf</span><span class="op" id="7490983">(</span><span class="string" id="7490984">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7491008">,</span>&nbsp;<span class="ident" id="7491010">expect</span><span class="op" id="7491016">,</span>&nbsp;<span class="ident" id="7491018">result</span><span class="op" id="7491024">,</span>&nbsp;<span class="ident" id="7491026">test</span><span class="op" id="7491030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491042">}</span><br>
<span class="lineno"></span><span class="op" id="7491044">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="7491047">func</span>&nbsp;<span class="ident" id="7491052">TestFindString</span><span class="op" id="7491066">(</span><span class="ident" id="7491067">t</span>&nbsp;<span class="op" id="7491069">*</span><span class="ident" id="7491070">testing</span><span class="op" id="7491077">.</span><span class="ident" id="7491078">T</span><span class="op" id="7491079">)</span>&nbsp;<span class="op" id="7491081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491084">for</span>&nbsp;<span class="ident" id="7491088">_</span><span class="op" id="7491089">,</span>&nbsp;<span class="ident" id="7491091">test</span>&nbsp;<span class="op" id="7491096">:=</span>&nbsp;<span class="keyword" id="7491099">range</span>&nbsp;<span class="ident" id="7491105">findTests</span>&nbsp;<span class="op" id="7491115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491119">result</span>&nbsp;<span class="op" id="7491126">:=</span>&nbsp;<span class="ident" id="7491129">MustCompile</span><span class="op" id="7491140">(</span><span class="ident" id="7491141">test</span><span class="op" id="7491145">.</span><span class="ident" id="7491146">pat</span><span class="op" id="7491149">)</span><span class="op" id="7491150">.</span><span class="ident" id="7491151">FindString</span><span class="op" id="7491161">(</span><span class="ident" id="7491162">test</span><span class="op" id="7491166">.</span><span class="ident" id="7491167">text</span><span class="op" id="7491171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491175">switch</span>&nbsp;<span class="op" id="7491182">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491186">case</span>&nbsp;<span class="builtinfunc" id="7491191">len</span><span class="op" id="7491194">(</span><span class="ident" id="7491195">test</span><span class="op" id="7491199">.</span><span class="ident" id="7491200">matches</span><span class="op" id="7491207">)</span>&nbsp;<span class="op" id="7491209">==</span>&nbsp;<span class="num" id="7491212">0</span>&nbsp;<span class="op" id="7491214">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7491217">len</span><span class="op" id="7491220">(</span><span class="ident" id="7491221">result</span><span class="op" id="7491227">)</span>&nbsp;<span class="op" id="7491229">==</span>&nbsp;<span class="num" id="7491232">0</span><span class="op" id="7491233">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491238">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491246">case</span>&nbsp;<span class="ident" id="7491251">test</span><span class="op" id="7491255">.</span><span class="ident" id="7491256">matches</span>&nbsp;<span class="op" id="7491264">==</span>&nbsp;<span class="ident" id="7491267">nil</span>&nbsp;<span class="op" id="7491271">&amp;&amp;</span>&nbsp;<span class="ident" id="7491274">result</span>&nbsp;<span class="op" id="7491281">!=</span>&nbsp;<span class="string" id="7491284">&#34;&#34;</span><span class="op" id="7491286">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491291">t</span><span class="op" id="7491292">.</span><span class="ident" id="7491293">Errorf</span><span class="op" id="7491299">(</span><span class="string" id="7491300">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7491332">,</span>&nbsp;<span class="ident" id="7491334">test</span><span class="op" id="7491338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491342">case</span>&nbsp;<span class="ident" id="7491347">test</span><span class="op" id="7491351">.</span><span class="ident" id="7491352">matches</span>&nbsp;<span class="op" id="7491360">!=</span>&nbsp;<span class="ident" id="7491363">nil</span>&nbsp;<span class="op" id="7491367">&amp;&amp;</span>&nbsp;<span class="ident" id="7491370">result</span>&nbsp;<span class="op" id="7491377">==</span>&nbsp;<span class="string" id="7491380">&#34;&#34;</span><span class="op" id="7491382">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491387">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491467">if</span>&nbsp;<span class="ident" id="7491470">test</span><span class="op" id="7491474">.</span><span class="ident" id="7491475">matches</span><span class="op" id="7491482">[</span><span class="num" id="7491483">0</span><span class="op" id="7491484">]</span><span class="op" id="7491485">[</span><span class="num" id="7491486">0</span><span class="op" id="7491487">]</span>&nbsp;<span class="op" id="7491489">!=</span>&nbsp;<span class="ident" id="7491492">test</span><span class="op" id="7491496">.</span><span class="ident" id="7491497">matches</span><span class="op" id="7491504">[</span><span class="num" id="7491505">0</span><span class="op" id="7491506">]</span><span class="op" id="7491507">[</span><span class="num" id="7491508">1</span><span class="op" id="7491509">]</span>&nbsp;<span class="op" id="7491511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491517">t</span><span class="op" id="7491518">.</span><span class="ident" id="7491519">Errorf</span><span class="op" id="7491525">(</span><span class="string" id="7491526">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7491556">,</span>&nbsp;<span class="ident" id="7491558">test</span><span class="op" id="7491562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491571">case</span>&nbsp;<span class="ident" id="7491576">test</span><span class="op" id="7491580">.</span><span class="ident" id="7491581">matches</span>&nbsp;<span class="op" id="7491589">!=</span>&nbsp;<span class="ident" id="7491592">nil</span>&nbsp;<span class="op" id="7491596">&amp;&amp;</span>&nbsp;<span class="ident" id="7491599">result</span>&nbsp;<span class="op" id="7491606">!=</span>&nbsp;<span class="string" id="7491609">&#34;&#34;</span><span class="op" id="7491611">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491616">expect</span>&nbsp;<span class="op" id="7491623">:=</span>&nbsp;<span class="ident" id="7491626">test</span><span class="op" id="7491630">.</span><span class="ident" id="7491631">text</span><span class="op" id="7491635">[</span><span class="ident" id="7491636">test</span><span class="op" id="7491640">.</span><span class="ident" id="7491641">matches</span><span class="op" id="7491648">[</span><span class="num" id="7491649">0</span><span class="op" id="7491650">]</span><span class="op" id="7491651">[</span><span class="num" id="7491652">0</span><span class="op" id="7491653">]</span><span class="op" id="7491654">:</span><span class="ident" id="7491655">test</span><span class="op" id="7491659">.</span><span class="ident" id="7491660">matches</span><span class="op" id="7491667">[</span><span class="num" id="7491668">0</span><span class="op" id="7491669">]</span><span class="op" id="7491670">[</span><span class="num" id="7491671">1</span><span class="op" id="7491672">]</span><span class="op" id="7491673">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491678">if</span>&nbsp;<span class="ident" id="7491681">expect</span>&nbsp;<span class="op" id="7491688">!=</span>&nbsp;<span class="ident" id="7491691">result</span>&nbsp;<span class="op" id="7491698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491704">t</span><span class="op" id="7491705">.</span><span class="ident" id="7491706">Errorf</span><span class="op" id="7491712">(</span><span class="string" id="7491713">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7491737">,</span>&nbsp;<span class="ident" id="7491739">expect</span><span class="op" id="7491745">,</span>&nbsp;<span class="ident" id="7491747">result</span><span class="op" id="7491753">,</span>&nbsp;<span class="ident" id="7491755">test</span><span class="op" id="7491759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491768">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491771">}</span><br>
<span class="lineno"></span><span class="op" id="7491773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7491776">func</span>&nbsp;<span class="ident" id="7491781">testFindIndex</span><span class="op" id="7491794">(</span><span class="ident" id="7491795">test</span>&nbsp;<span class="op" id="7491800">*</span><span class="ident" id="7491801">FindTest</span><span class="op" id="7491809">,</span>&nbsp;<span class="ident" id="7491811">result</span>&nbsp;<span class="op" id="7491818">[</span><span class="op" id="7491819">]</span><span class="builtintype" id="7491820">int</span><span class="op" id="7491823">,</span>&nbsp;<span class="ident" id="7491825">t</span>&nbsp;<span class="op" id="7491827">*</span><span class="ident" id="7491828">testing</span><span class="op" id="7491835">.</span><span class="ident" id="7491836">T</span><span class="op" id="7491837">)</span>&nbsp;<span class="op" id="7491839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491842">switch</span>&nbsp;<span class="op" id="7491849">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491852">case</span>&nbsp;<span class="builtinfunc" id="7491857">len</span><span class="op" id="7491860">(</span><span class="ident" id="7491861">test</span><span class="op" id="7491865">.</span><span class="ident" id="7491866">matches</span><span class="op" id="7491873">)</span>&nbsp;<span class="op" id="7491875">==</span>&nbsp;<span class="num" id="7491878">0</span>&nbsp;<span class="op" id="7491880">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7491883">len</span><span class="op" id="7491886">(</span><span class="ident" id="7491887">result</span><span class="op" id="7491893">)</span>&nbsp;<span class="op" id="7491895">==</span>&nbsp;<span class="num" id="7491898">0</span><span class="op" id="7491899">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491903">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491910">case</span>&nbsp;<span class="ident" id="7491915">test</span><span class="op" id="7491919">.</span><span class="ident" id="7491920">matches</span>&nbsp;<span class="op" id="7491928">==</span>&nbsp;<span class="ident" id="7491931">nil</span>&nbsp;<span class="op" id="7491935">&amp;&amp;</span>&nbsp;<span class="ident" id="7491938">result</span>&nbsp;<span class="op" id="7491945">!=</span>&nbsp;<span class="ident" id="7491948">nil</span><span class="op" id="7491951">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491955">t</span><span class="op" id="7491956">.</span><span class="ident" id="7491957">Errorf</span><span class="op" id="7491963">(</span><span class="string" id="7491964">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7491996">,</span>&nbsp;<span class="ident" id="7491998">test</span><span class="op" id="7492002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492005">case</span>&nbsp;<span class="ident" id="7492010">test</span><span class="op" id="7492014">.</span><span class="ident" id="7492015">matches</span>&nbsp;<span class="op" id="7492023">!=</span>&nbsp;<span class="ident" id="7492026">nil</span>&nbsp;<span class="op" id="7492030">&amp;&amp;</span>&nbsp;<span class="ident" id="7492033">result</span>&nbsp;<span class="op" id="7492040">==</span>&nbsp;<span class="ident" id="7492043">nil</span><span class="op" id="7492046">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492050">t</span><span class="op" id="7492051">.</span><span class="ident" id="7492052">Errorf</span><span class="op" id="7492058">(</span><span class="string" id="7492059">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7492089">,</span>&nbsp;<span class="ident" id="7492091">test</span><span class="op" id="7492095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492098">case</span>&nbsp;<span class="ident" id="7492103">test</span><span class="op" id="7492107">.</span><span class="ident" id="7492108">matches</span>&nbsp;<span class="op" id="7492116">!=</span>&nbsp;<span class="ident" id="7492119">nil</span>&nbsp;<span class="op" id="7492123">&amp;&amp;</span>&nbsp;<span class="ident" id="7492126">result</span>&nbsp;<span class="op" id="7492133">!=</span>&nbsp;<span class="ident" id="7492136">nil</span><span class="op" id="7492139">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492143">expect</span>&nbsp;<span class="op" id="7492150">:=</span>&nbsp;<span class="ident" id="7492153">test</span><span class="op" id="7492157">.</span><span class="ident" id="7492158">matches</span><span class="op" id="7492165">[</span><span class="num" id="7492166">0</span><span class="op" id="7492167">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492171">if</span>&nbsp;<span class="ident" id="7492174">expect</span><span class="op" id="7492180">[</span><span class="num" id="7492181">0</span><span class="op" id="7492182">]</span>&nbsp;<span class="op" id="7492184">!=</span>&nbsp;<span class="ident" id="7492187">result</span><span class="op" id="7492193">[</span><span class="num" id="7492194">0</span><span class="op" id="7492195">]</span>&nbsp;<span class="op" id="7492197">||</span>&nbsp;<span class="ident" id="7492200">expect</span><span class="op" id="7492206">[</span><span class="num" id="7492207">1</span><span class="op" id="7492208">]</span>&nbsp;<span class="op" id="7492210">!=</span>&nbsp;<span class="ident" id="7492213">result</span><span class="op" id="7492219">[</span><span class="num" id="7492220">1</span><span class="op" id="7492221">]</span>&nbsp;<span class="op" id="7492223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492228">t</span><span class="op" id="7492229">.</span><span class="ident" id="7492230">Errorf</span><span class="op" id="7492236">(</span><span class="string" id="7492237">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7492261">,</span>&nbsp;<span class="ident" id="7492263">expect</span><span class="op" id="7492269">,</span>&nbsp;<span class="ident" id="7492271">result</span><span class="op" id="7492277">,</span>&nbsp;<span class="ident" id="7492279">test</span><span class="op" id="7492283">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492290">}</span><br>
<span class="lineno"></span><span class="op" id="7492292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7492295">func</span>&nbsp;<span class="ident" id="7492300">TestFindIndex</span><span class="op" id="7492313">(</span><span class="ident" id="7492314">t</span>&nbsp;<span class="op" id="7492316">*</span><span class="ident" id="7492317">testing</span><span class="op" id="7492324">.</span><span class="ident" id="7492325">T</span><span class="op" id="7492326">)</span>&nbsp;<span class="op" id="7492328">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492331">for</span>&nbsp;<span class="ident" id="7492335">_</span><span class="op" id="7492336">,</span>&nbsp;<span class="ident" id="7492338">test</span>&nbsp;<span class="op" id="7492343">:=</span>&nbsp;<span class="keyword" id="7492346">range</span>&nbsp;<span class="ident" id="7492352">findTests</span>&nbsp;<span class="op" id="7492362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492366">testFindIndex</span><span class="op" id="7492379">(</span><span class="op" id="7492380">&amp;</span><span class="ident" id="7492381">test</span><span class="op" id="7492385">,</span>&nbsp;<span class="ident" id="7492387">MustCompile</span><span class="op" id="7492398">(</span><span class="ident" id="7492399">test</span><span class="op" id="7492403">.</span><span class="ident" id="7492404">pat</span><span class="op" id="7492407">)</span><span class="op" id="7492408">.</span><span class="ident" id="7492409">FindIndex</span><span class="op" id="7492418">(</span><span class="op" id="7492419">[</span><span class="op" id="7492420">]</span><span class="builtintype" id="7492421">byte</span><span class="op" id="7492425">(</span><span class="ident" id="7492426">test</span><span class="op" id="7492430">.</span><span class="ident" id="7492431">text</span><span class="op" id="7492435">)</span><span class="op" id="7492436">)</span><span class="op" id="7492437">,</span>&nbsp;<span class="ident" id="7492439">t</span><span class="op" id="7492440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492443">}</span><br>
<span class="lineno"></span><span class="op" id="7492445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7492448">func</span>&nbsp;<span class="ident" id="7492453">TestFindStringIndex</span><span class="op" id="7492472">(</span><span class="ident" id="7492473">t</span>&nbsp;<span class="op" id="7492475">*</span><span class="ident" id="7492476">testing</span><span class="op" id="7492483">.</span><span class="ident" id="7492484">T</span><span class="op" id="7492485">)</span>&nbsp;<span class="op" id="7492487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492490">for</span>&nbsp;<span class="ident" id="7492494">_</span><span class="op" id="7492495">,</span>&nbsp;<span class="ident" id="7492497">test</span>&nbsp;<span class="op" id="7492502">:=</span>&nbsp;<span class="keyword" id="7492505">range</span>&nbsp;<span class="ident" id="7492511">findTests</span>&nbsp;<span class="op" id="7492521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492525">testFindIndex</span><span class="op" id="7492538">(</span><span class="op" id="7492539">&amp;</span><span class="ident" id="7492540">test</span><span class="op" id="7492544">,</span>&nbsp;<span class="ident" id="7492546">MustCompile</span><span class="op" id="7492557">(</span><span class="ident" id="7492558">test</span><span class="op" id="7492562">.</span><span class="ident" id="7492563">pat</span><span class="op" id="7492566">)</span><span class="op" id="7492567">.</span><span class="ident" id="7492568">FindStringIndex</span><span class="op" id="7492583">(</span><span class="ident" id="7492584">test</span><span class="op" id="7492588">.</span><span class="ident" id="7492589">text</span><span class="op" id="7492593">)</span><span class="op" id="7492594">,</span>&nbsp;<span class="ident" id="7492596">t</span><span class="op" id="7492597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492600">}</span><br>
<span class="lineno"></span><span class="op" id="7492602">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="7492605">func</span>&nbsp;<span class="ident" id="7492610">TestFindReaderIndex</span><span class="op" id="7492629">(</span><span class="ident" id="7492630">t</span>&nbsp;<span class="op" id="7492632">*</span><span class="ident" id="7492633">testing</span><span class="op" id="7492640">.</span><span class="ident" id="7492641">T</span><span class="op" id="7492642">)</span>&nbsp;<span class="op" id="7492644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492647">for</span>&nbsp;<span class="ident" id="7492651">_</span><span class="op" id="7492652">,</span>&nbsp;<span class="ident" id="7492654">test</span>&nbsp;<span class="op" id="7492659">:=</span>&nbsp;<span class="keyword" id="7492662">range</span>&nbsp;<span class="ident" id="7492668">findTests</span>&nbsp;<span class="op" id="7492678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492682">testFindIndex</span><span class="op" id="7492695">(</span><span class="op" id="7492696">&amp;</span><span class="ident" id="7492697">test</span><span class="op" id="7492701">,</span>&nbsp;<span class="ident" id="7492703">MustCompile</span><span class="op" id="7492714">(</span><span class="ident" id="7492715">test</span><span class="op" id="7492719">.</span><span class="ident" id="7492720">pat</span><span class="op" id="7492723">)</span><span class="op" id="7492724">.</span><span class="ident" id="7492725">FindReaderIndex</span><span class="op" id="7492740">(</span><span class="ident" id="7492741">strings</span><span class="op" id="7492748">.</span><span class="ident" id="7492749">NewReader</span><span class="op" id="7492758">(</span><span class="ident" id="7492759">test</span><span class="op" id="7492763">.</span><span class="ident" id="7492764">text</span><span class="op" id="7492768">)</span><span class="op" id="7492769">)</span><span class="op" id="7492770">,</span>&nbsp;<span class="ident" id="7492772">t</span><span class="op" id="7492773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492776">}</span><br>
<span class="lineno">225</span><span class="op" id="7492778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7492781">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7492816">func</span>&nbsp;<span class="ident" id="7492821">TestFindAll</span><span class="op" id="7492832">(</span><span class="ident" id="7492833">t</span>&nbsp;<span class="op" id="7492835">*</span><span class="ident" id="7492836">testing</span><span class="op" id="7492843">.</span><span class="ident" id="7492844">T</span><span class="op" id="7492845">)</span>&nbsp;<span class="op" id="7492847">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492850">for</span>&nbsp;<span class="ident" id="7492854">_</span><span class="op" id="7492855">,</span>&nbsp;<span class="ident" id="7492857">test</span>&nbsp;<span class="op" id="7492862">:=</span>&nbsp;<span class="keyword" id="7492865">range</span>&nbsp;<span class="ident" id="7492871">findTests</span>&nbsp;<span class="op" id="7492881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492885">result</span>&nbsp;<span class="op" id="7492892">:=</span>&nbsp;<span class="ident" id="7492895">MustCompile</span><span class="op" id="7492906">(</span><span class="ident" id="7492907">test</span><span class="op" id="7492911">.</span><span class="ident" id="7492912">pat</span><span class="op" id="7492915">)</span><span class="op" id="7492916">.</span><span class="ident" id="7492917">FindAll</span><span class="op" id="7492924">(</span><span class="op" id="7492925">[</span><span class="op" id="7492926">]</span><span class="builtintype" id="7492927">byte</span><span class="op" id="7492931">(</span><span class="ident" id="7492932">test</span><span class="op" id="7492936">.</span><span class="ident" id="7492937">text</span><span class="op" id="7492941">)</span><span class="op" id="7492942">,</span>&nbsp;<span class="op" id="7492944">-</span><span class="num" id="7492945">1</span><span class="op" id="7492946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492950">switch</span>&nbsp;<span class="op" id="7492957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492961">case</span>&nbsp;<span class="ident" id="7492966">test</span><span class="op" id="7492970">.</span><span class="ident" id="7492971">matches</span>&nbsp;<span class="op" id="7492979">==</span>&nbsp;<span class="ident" id="7492982">nil</span>&nbsp;<span class="op" id="7492986">&amp;&amp;</span>&nbsp;<span class="ident" id="7492989">result</span>&nbsp;<span class="op" id="7492996">==</span>&nbsp;<span class="ident" id="7492999">nil</span><span class="op" id="7493002">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493007">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493015">case</span>&nbsp;<span class="ident" id="7493020">test</span><span class="op" id="7493024">.</span><span class="ident" id="7493025">matches</span>&nbsp;<span class="op" id="7493033">==</span>&nbsp;<span class="ident" id="7493036">nil</span>&nbsp;<span class="op" id="7493040">&amp;&amp;</span>&nbsp;<span class="ident" id="7493043">result</span>&nbsp;<span class="op" id="7493050">!=</span>&nbsp;<span class="ident" id="7493053">nil</span><span class="op" id="7493056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493061">t</span><span class="op" id="7493062">.</span><span class="ident" id="7493063">Errorf</span><span class="op" id="7493069">(</span><span class="string" id="7493070">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7493102">,</span>&nbsp;<span class="ident" id="7493104">test</span><span class="op" id="7493108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493112">case</span>&nbsp;<span class="ident" id="7493117">test</span><span class="op" id="7493121">.</span><span class="ident" id="7493122">matches</span>&nbsp;<span class="op" id="7493130">!=</span>&nbsp;<span class="ident" id="7493133">nil</span>&nbsp;<span class="op" id="7493137">&amp;&amp;</span>&nbsp;<span class="ident" id="7493140">result</span>&nbsp;<span class="op" id="7493147">==</span>&nbsp;<span class="ident" id="7493150">nil</span><span class="op" id="7493153">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493158">t</span><span class="op" id="7493159">.</span><span class="ident" id="7493160">Fatalf</span><span class="op" id="7493166">(</span><span class="string" id="7493167">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7493197">,</span>&nbsp;<span class="ident" id="7493199">test</span><span class="op" id="7493203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493207">case</span>&nbsp;<span class="ident" id="7493212">test</span><span class="op" id="7493216">.</span><span class="ident" id="7493217">matches</span>&nbsp;<span class="op" id="7493225">!=</span>&nbsp;<span class="ident" id="7493228">nil</span>&nbsp;<span class="op" id="7493232">&amp;&amp;</span>&nbsp;<span class="ident" id="7493235">result</span>&nbsp;<span class="op" id="7493242">!=</span>&nbsp;<span class="ident" id="7493245">nil</span><span class="op" id="7493248">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493253">if</span>&nbsp;<span class="builtinfunc" id="7493256">len</span><span class="op" id="7493259">(</span><span class="ident" id="7493260">test</span><span class="op" id="7493264">.</span><span class="ident" id="7493265">matches</span><span class="op" id="7493272">)</span>&nbsp;<span class="op" id="7493274">!=</span>&nbsp;<span class="builtinfunc" id="7493277">len</span><span class="op" id="7493280">(</span><span class="ident" id="7493281">result</span><span class="op" id="7493287">)</span>&nbsp;<span class="op" id="7493289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493295">t</span><span class="op" id="7493296">.</span><span class="ident" id="7493297">Errorf</span><span class="op" id="7493303">(</span><span class="string" id="7493304">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7493337">,</span>&nbsp;<span class="builtinfunc" id="7493339">len</span><span class="op" id="7493342">(</span><span class="ident" id="7493343">test</span><span class="op" id="7493347">.</span><span class="ident" id="7493348">matches</span><span class="op" id="7493355">)</span><span class="op" id="7493356">,</span>&nbsp;<span class="builtinfunc" id="7493358">len</span><span class="op" id="7493361">(</span><span class="ident" id="7493362">result</span><span class="op" id="7493368">)</span><span class="op" id="7493369">,</span>&nbsp;<span class="ident" id="7493371">test</span><span class="op" id="7493375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493381">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493398">for</span>&nbsp;<span class="ident" id="7493402">k</span><span class="op" id="7493403">,</span>&nbsp;<span class="ident" id="7493405">e</span>&nbsp;<span class="op" id="7493407">:=</span>&nbsp;<span class="keyword" id="7493410">range</span>&nbsp;<span class="ident" id="7493416">test</span><span class="op" id="7493420">.</span><span class="ident" id="7493421">matches</span>&nbsp;<span class="op" id="7493429">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493435">expect</span>&nbsp;<span class="op" id="7493442">:=</span>&nbsp;<span class="ident" id="7493445">test</span><span class="op" id="7493449">.</span><span class="ident" id="7493450">text</span><span class="op" id="7493454">[</span><span class="ident" id="7493455">e</span><span class="op" id="7493456">[</span><span class="num" id="7493457">0</span><span class="op" id="7493458">]</span><span class="op" id="7493459">:</span><span class="ident" id="7493460">e</span><span class="op" id="7493461">[</span><span class="num" id="7493462">1</span><span class="op" id="7493463">]</span><span class="op" id="7493464">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493470">if</span>&nbsp;<span class="ident" id="7493473">expect</span>&nbsp;<span class="op" id="7493480">!=</span>&nbsp;<span class="builtintype" id="7493483">string</span><span class="op" id="7493489">(</span><span class="ident" id="7493490">result</span><span class="op" id="7493496">[</span><span class="ident" id="7493497">k</span><span class="op" id="7493498">]</span><span class="op" id="7493499">)</span>&nbsp;<span class="op" id="7493501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493508">t</span><span class="op" id="7493509">.</span><span class="ident" id="7493510">Errorf</span><span class="op" id="7493516">(</span><span class="string" id="7493517">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7493551">,</span>&nbsp;<span class="ident" id="7493553">k</span><span class="op" id="7493554">,</span>&nbsp;<span class="ident" id="7493556">expect</span><span class="op" id="7493562">,</span>&nbsp;<span class="ident" id="7493564">result</span><span class="op" id="7493570">[</span><span class="ident" id="7493571">k</span><span class="op" id="7493572">]</span><span class="op" id="7493573">,</span>&nbsp;<span class="ident" id="7493575">test</span><span class="op" id="7493579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493590">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493597">}</span><br>
<span class="lineno"></span><span class="op" id="7493599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7493602">func</span>&nbsp;<span class="ident" id="7493607">TestFindAllString</span><span class="op" id="7493624">(</span><span class="ident" id="7493625">t</span>&nbsp;<span class="op" id="7493627">*</span><span class="ident" id="7493628">testing</span><span class="op" id="7493635">.</span><span class="ident" id="7493636">T</span><span class="op" id="7493637">)</span>&nbsp;<span class="op" id="7493639">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493642">for</span>&nbsp;<span class="ident" id="7493646">_</span><span class="op" id="7493647">,</span>&nbsp;<span class="ident" id="7493649">test</span>&nbsp;<span class="op" id="7493654">:=</span>&nbsp;<span class="keyword" id="7493657">range</span>&nbsp;<span class="ident" id="7493663">findTests</span>&nbsp;<span class="op" id="7493673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493677">result</span>&nbsp;<span class="op" id="7493684">:=</span>&nbsp;<span class="ident" id="7493687">MustCompile</span><span class="op" id="7493698">(</span><span class="ident" id="7493699">test</span><span class="op" id="7493703">.</span><span class="ident" id="7493704">pat</span><span class="op" id="7493707">)</span><span class="op" id="7493708">.</span><span class="ident" id="7493709">FindAllString</span><span class="op" id="7493722">(</span><span class="ident" id="7493723">test</span><span class="op" id="7493727">.</span><span class="ident" id="7493728">text</span><span class="op" id="7493732">,</span>&nbsp;<span class="op" id="7493734">-</span><span class="num" id="7493735">1</span><span class="op" id="7493736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493740">switch</span>&nbsp;<span class="op" id="7493747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493751">case</span>&nbsp;<span class="ident" id="7493756">test</span><span class="op" id="7493760">.</span><span class="ident" id="7493761">matches</span>&nbsp;<span class="op" id="7493769">==</span>&nbsp;<span class="ident" id="7493772">nil</span>&nbsp;<span class="op" id="7493776">&amp;&amp;</span>&nbsp;<span class="ident" id="7493779">result</span>&nbsp;<span class="op" id="7493786">==</span>&nbsp;<span class="ident" id="7493789">nil</span><span class="op" id="7493792">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493797">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493805">case</span>&nbsp;<span class="ident" id="7493810">test</span><span class="op" id="7493814">.</span><span class="ident" id="7493815">matches</span>&nbsp;<span class="op" id="7493823">==</span>&nbsp;<span class="ident" id="7493826">nil</span>&nbsp;<span class="op" id="7493830">&amp;&amp;</span>&nbsp;<span class="ident" id="7493833">result</span>&nbsp;<span class="op" id="7493840">!=</span>&nbsp;<span class="ident" id="7493843">nil</span><span class="op" id="7493846">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493851">t</span><span class="op" id="7493852">.</span><span class="ident" id="7493853">Errorf</span><span class="op" id="7493859">(</span><span class="string" id="7493860">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7493892">,</span>&nbsp;<span class="ident" id="7493894">test</span><span class="op" id="7493898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493902">case</span>&nbsp;<span class="ident" id="7493907">test</span><span class="op" id="7493911">.</span><span class="ident" id="7493912">matches</span>&nbsp;<span class="op" id="7493920">!=</span>&nbsp;<span class="ident" id="7493923">nil</span>&nbsp;<span class="op" id="7493927">&amp;&amp;</span>&nbsp;<span class="ident" id="7493930">result</span>&nbsp;<span class="op" id="7493937">==</span>&nbsp;<span class="ident" id="7493940">nil</span><span class="op" id="7493943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493948">t</span><span class="op" id="7493949">.</span><span class="ident" id="7493950">Errorf</span><span class="op" id="7493956">(</span><span class="string" id="7493957">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7493987">,</span>&nbsp;<span class="ident" id="7493989">test</span><span class="op" id="7493993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493997">case</span>&nbsp;<span class="ident" id="7494002">test</span><span class="op" id="7494006">.</span><span class="ident" id="7494007">matches</span>&nbsp;<span class="op" id="7494015">!=</span>&nbsp;<span class="ident" id="7494018">nil</span>&nbsp;<span class="op" id="7494022">&amp;&amp;</span>&nbsp;<span class="ident" id="7494025">result</span>&nbsp;<span class="op" id="7494032">!=</span>&nbsp;<span class="ident" id="7494035">nil</span><span class="op" id="7494038">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494043">if</span>&nbsp;<span class="builtinfunc" id="7494046">len</span><span class="op" id="7494049">(</span><span class="ident" id="7494050">test</span><span class="op" id="7494054">.</span><span class="ident" id="7494055">matches</span><span class="op" id="7494062">)</span>&nbsp;<span class="op" id="7494064">!=</span>&nbsp;<span class="builtinfunc" id="7494067">len</span><span class="op" id="7494070">(</span><span class="ident" id="7494071">result</span><span class="op" id="7494077">)</span>&nbsp;<span class="op" id="7494079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494085">t</span><span class="op" id="7494086">.</span><span class="ident" id="7494087">Errorf</span><span class="op" id="7494093">(</span><span class="string" id="7494094">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7494127">,</span>&nbsp;<span class="builtinfunc" id="7494129">len</span><span class="op" id="7494132">(</span><span class="ident" id="7494133">test</span><span class="op" id="7494137">.</span><span class="ident" id="7494138">matches</span><span class="op" id="7494145">)</span><span class="op" id="7494146">,</span>&nbsp;<span class="builtinfunc" id="7494148">len</span><span class="op" id="7494151">(</span><span class="ident" id="7494152">result</span><span class="op" id="7494158">)</span><span class="op" id="7494159">,</span>&nbsp;<span class="ident" id="7494161">test</span><span class="op" id="7494165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494171">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494188">for</span>&nbsp;<span class="ident" id="7494192">k</span><span class="op" id="7494193">,</span>&nbsp;<span class="ident" id="7494195">e</span>&nbsp;<span class="op" id="7494197">:=</span>&nbsp;<span class="keyword" id="7494200">range</span>&nbsp;<span class="ident" id="7494206">test</span><span class="op" id="7494210">.</span><span class="ident" id="7494211">matches</span>&nbsp;<span class="op" id="7494219">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494225">expect</span>&nbsp;<span class="op" id="7494232">:=</span>&nbsp;<span class="ident" id="7494235">test</span><span class="op" id="7494239">.</span><span class="ident" id="7494240">text</span><span class="op" id="7494244">[</span><span class="ident" id="7494245">e</span><span class="op" id="7494246">[</span><span class="num" id="7494247">0</span><span class="op" id="7494248">]</span><span class="op" id="7494249">:</span><span class="ident" id="7494250">e</span><span class="op" id="7494251">[</span><span class="num" id="7494252">1</span><span class="op" id="7494253">]</span><span class="op" id="7494254">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494260">if</span>&nbsp;<span class="ident" id="7494263">expect</span>&nbsp;<span class="op" id="7494270">!=</span>&nbsp;<span class="ident" id="7494273">result</span><span class="op" id="7494279">[</span><span class="ident" id="7494280">k</span><span class="op" id="7494281">]</span>&nbsp;<span class="op" id="7494283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494290">t</span><span class="op" id="7494291">.</span><span class="ident" id="7494292">Errorf</span><span class="op" id="7494298">(</span><span class="string" id="7494299">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7494323">,</span>&nbsp;<span class="ident" id="7494325">expect</span><span class="op" id="7494331">,</span>&nbsp;<span class="ident" id="7494333">result</span><span class="op" id="7494339">,</span>&nbsp;<span class="ident" id="7494341">test</span><span class="op" id="7494345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494356">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494363">}</span><br>
<span class="lineno"></span><span class="op" id="7494365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7494368">func</span>&nbsp;<span class="ident" id="7494373">testFindAllIndex</span><span class="op" id="7494389">(</span><span class="ident" id="7494390">test</span>&nbsp;<span class="op" id="7494395">*</span><span class="ident" id="7494396">FindTest</span><span class="op" id="7494404">,</span>&nbsp;<span class="ident" id="7494406">result</span>&nbsp;<span class="op" id="7494413">[</span><span class="op" id="7494414">]</span><span class="op" id="7494415">[</span><span class="op" id="7494416">]</span><span class="builtintype" id="7494417">int</span><span class="op" id="7494420">,</span>&nbsp;<span class="ident" id="7494422">t</span>&nbsp;<span class="op" id="7494424">*</span><span class="ident" id="7494425">testing</span><span class="op" id="7494432">.</span><span class="ident" id="7494433">T</span><span class="op" id="7494434">)</span>&nbsp;<span class="op" id="7494436">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494439">switch</span>&nbsp;<span class="op" id="7494446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494449">case</span>&nbsp;<span class="ident" id="7494454">test</span><span class="op" id="7494458">.</span><span class="ident" id="7494459">matches</span>&nbsp;<span class="op" id="7494467">==</span>&nbsp;<span class="ident" id="7494470">nil</span>&nbsp;<span class="op" id="7494474">&amp;&amp;</span>&nbsp;<span class="ident" id="7494477">result</span>&nbsp;<span class="op" id="7494484">==</span>&nbsp;<span class="ident" id="7494487">nil</span><span class="op" id="7494490">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7494494">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494501">case</span>&nbsp;<span class="ident" id="7494506">test</span><span class="op" id="7494510">.</span><span class="ident" id="7494511">matches</span>&nbsp;<span class="op" id="7494519">==</span>&nbsp;<span class="ident" id="7494522">nil</span>&nbsp;<span class="op" id="7494526">&amp;&amp;</span>&nbsp;<span class="ident" id="7494529">result</span>&nbsp;<span class="op" id="7494536">!=</span>&nbsp;<span class="ident" id="7494539">nil</span><span class="op" id="7494542">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494546">t</span><span class="op" id="7494547">.</span><span class="ident" id="7494548">Errorf</span><span class="op" id="7494554">(</span><span class="string" id="7494555">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7494587">,</span>&nbsp;<span class="ident" id="7494589">test</span><span class="op" id="7494593">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494596">case</span>&nbsp;<span class="ident" id="7494601">test</span><span class="op" id="7494605">.</span><span class="ident" id="7494606">matches</span>&nbsp;<span class="op" id="7494614">!=</span>&nbsp;<span class="ident" id="7494617">nil</span>&nbsp;<span class="op" id="7494621">&amp;&amp;</span>&nbsp;<span class="ident" id="7494624">result</span>&nbsp;<span class="op" id="7494631">==</span>&nbsp;<span class="ident" id="7494634">nil</span><span class="op" id="7494637">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494641">t</span><span class="op" id="7494642">.</span><span class="ident" id="7494643">Errorf</span><span class="op" id="7494649">(</span><span class="string" id="7494650">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7494680">,</span>&nbsp;<span class="ident" id="7494682">test</span><span class="op" id="7494686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494689">case</span>&nbsp;<span class="ident" id="7494694">test</span><span class="op" id="7494698">.</span><span class="ident" id="7494699">matches</span>&nbsp;<span class="op" id="7494707">!=</span>&nbsp;<span class="ident" id="7494710">nil</span>&nbsp;<span class="op" id="7494714">&amp;&amp;</span>&nbsp;<span class="ident" id="7494717">result</span>&nbsp;<span class="op" id="7494724">!=</span>&nbsp;<span class="ident" id="7494727">nil</span><span class="op" id="7494730">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494734">if</span>&nbsp;<span class="builtinfunc" id="7494737">len</span><span class="op" id="7494740">(</span><span class="ident" id="7494741">test</span><span class="op" id="7494745">.</span><span class="ident" id="7494746">matches</span><span class="op" id="7494753">)</span>&nbsp;<span class="op" id="7494755">!=</span>&nbsp;<span class="builtinfunc" id="7494758">len</span><span class="op" id="7494761">(</span><span class="ident" id="7494762">result</span><span class="op" id="7494768">)</span>&nbsp;<span class="op" id="7494770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494775">t</span><span class="op" id="7494776">.</span><span class="ident" id="7494777">Errorf</span><span class="op" id="7494783">(</span><span class="string" id="7494784">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7494817">,</span>&nbsp;<span class="builtinfunc" id="7494819">len</span><span class="op" id="7494822">(</span><span class="ident" id="7494823">test</span><span class="op" id="7494827">.</span><span class="ident" id="7494828">matches</span><span class="op" id="7494835">)</span><span class="op" id="7494836">,</span>&nbsp;<span class="builtinfunc" id="7494838">len</span><span class="op" id="7494841">(</span><span class="ident" id="7494842">result</span><span class="op" id="7494848">)</span><span class="op" id="7494849">,</span>&nbsp;<span class="ident" id="7494851">test</span><span class="op" id="7494855">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494860">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494873">for</span>&nbsp;<span class="ident" id="7494877">k</span><span class="op" id="7494878">,</span>&nbsp;<span class="ident" id="7494880">e</span>&nbsp;<span class="op" id="7494882">:=</span>&nbsp;<span class="keyword" id="7494885">range</span>&nbsp;<span class="ident" id="7494891">test</span><span class="op" id="7494895">.</span><span class="ident" id="7494896">matches</span>&nbsp;<span class="op" id="7494904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494909">if</span>&nbsp;<span class="ident" id="7494912">e</span><span class="op" id="7494913">[</span><span class="num" id="7494914">0</span><span class="op" id="7494915">]</span>&nbsp;<span class="op" id="7494917">!=</span>&nbsp;<span class="ident" id="7494920">result</span><span class="op" id="7494926">[</span><span class="ident" id="7494927">k</span><span class="op" id="7494928">]</span><span class="op" id="7494929">[</span><span class="num" id="7494930">0</span><span class="op" id="7494931">]</span>&nbsp;<span class="op" id="7494933">||</span>&nbsp;<span class="ident" id="7494936">e</span><span class="op" id="7494937">[</span><span class="num" id="7494938">1</span><span class="op" id="7494939">]</span>&nbsp;<span class="op" id="7494941">!=</span>&nbsp;<span class="ident" id="7494944">result</span><span class="op" id="7494950">[</span><span class="ident" id="7494951">k</span><span class="op" id="7494952">]</span><span class="op" id="7494953">[</span><span class="num" id="7494954">1</span><span class="op" id="7494955">]</span>&nbsp;<span class="op" id="7494957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494963">t</span><span class="op" id="7494964">.</span><span class="ident" id="7494965">Errorf</span><span class="op" id="7494971">(</span><span class="string" id="7494972">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7495006">,</span>&nbsp;<span class="ident" id="7495008">k</span><span class="op" id="7495009">,</span>&nbsp;<span class="ident" id="7495011">e</span><span class="op" id="7495012">,</span>&nbsp;<span class="ident" id="7495014">result</span><span class="op" id="7495020">[</span><span class="ident" id="7495021">k</span><span class="op" id="7495022">]</span><span class="op" id="7495023">,</span>&nbsp;<span class="ident" id="7495025">test</span><span class="op" id="7495029">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495041">}</span><br>
<span class="lineno"></span><span class="op" id="7495043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="7495046">func</span>&nbsp;<span class="ident" id="7495051">TestFindAllIndex</span><span class="op" id="7495067">(</span><span class="ident" id="7495068">t</span>&nbsp;<span class="op" id="7495070">*</span><span class="ident" id="7495071">testing</span><span class="op" id="7495078">.</span><span class="ident" id="7495079">T</span><span class="op" id="7495080">)</span>&nbsp;<span class="op" id="7495082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495085">for</span>&nbsp;<span class="ident" id="7495089">_</span><span class="op" id="7495090">,</span>&nbsp;<span class="ident" id="7495092">test</span>&nbsp;<span class="op" id="7495097">:=</span>&nbsp;<span class="keyword" id="7495100">range</span>&nbsp;<span class="ident" id="7495106">findTests</span>&nbsp;<span class="op" id="7495116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495120">testFindAllIndex</span><span class="op" id="7495136">(</span><span class="op" id="7495137">&amp;</span><span class="ident" id="7495138">test</span><span class="op" id="7495142">,</span>&nbsp;<span class="ident" id="7495144">MustCompile</span><span class="op" id="7495155">(</span><span class="ident" id="7495156">test</span><span class="op" id="7495160">.</span><span class="ident" id="7495161">pat</span><span class="op" id="7495164">)</span><span class="op" id="7495165">.</span><span class="ident" id="7495166">FindAllIndex</span><span class="op" id="7495178">(</span><span class="op" id="7495179">[</span><span class="op" id="7495180">]</span><span class="builtintype" id="7495181">byte</span><span class="op" id="7495185">(</span><span class="ident" id="7495186">test</span><span class="op" id="7495190">.</span><span class="ident" id="7495191">text</span><span class="op" id="7495195">)</span><span class="op" id="7495196">,</span>&nbsp;<span class="op" id="7495198">-</span><span class="num" id="7495199">1</span><span class="op" id="7495200">)</span><span class="op" id="7495201">,</span>&nbsp;<span class="ident" id="7495203">t</span><span class="op" id="7495204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495207">}</span><br>
<span class="lineno"></span><span class="op" id="7495209">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7495212">func</span>&nbsp;<span class="ident" id="7495217">TestFindAllStringIndex</span><span class="op" id="7495239">(</span><span class="ident" id="7495240">t</span>&nbsp;<span class="op" id="7495242">*</span><span class="ident" id="7495243">testing</span><span class="op" id="7495250">.</span><span class="ident" id="7495251">T</span><span class="op" id="7495252">)</span>&nbsp;<span class="op" id="7495254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495257">for</span>&nbsp;<span class="ident" id="7495261">_</span><span class="op" id="7495262">,</span>&nbsp;<span class="ident" id="7495264">test</span>&nbsp;<span class="op" id="7495269">:=</span>&nbsp;<span class="keyword" id="7495272">range</span>&nbsp;<span class="ident" id="7495278">findTests</span>&nbsp;<span class="op" id="7495288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495292">testFindAllIndex</span><span class="op" id="7495308">(</span><span class="op" id="7495309">&amp;</span><span class="ident" id="7495310">test</span><span class="op" id="7495314">,</span>&nbsp;<span class="ident" id="7495316">MustCompile</span><span class="op" id="7495327">(</span><span class="ident" id="7495328">test</span><span class="op" id="7495332">.</span><span class="ident" id="7495333">pat</span><span class="op" id="7495336">)</span><span class="op" id="7495337">.</span><span class="ident" id="7495338">FindAllStringIndex</span><span class="op" id="7495356">(</span><span class="ident" id="7495357">test</span><span class="op" id="7495361">.</span><span class="ident" id="7495362">text</span><span class="op" id="7495366">,</span>&nbsp;<span class="op" id="7495368">-</span><span class="num" id="7495369">1</span><span class="op" id="7495370">)</span><span class="op" id="7495371">,</span>&nbsp;<span class="ident" id="7495373">t</span><span class="op" id="7495374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495377">}</span><br>
<span class="lineno">310</span><span class="op" id="7495379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7495382">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495415">func</span>&nbsp;<span class="ident" id="7495420">testSubmatchBytes</span><span class="op" id="7495437">(</span><span class="ident" id="7495438">test</span>&nbsp;<span class="op" id="7495443">*</span><span class="ident" id="7495444">FindTest</span><span class="op" id="7495452">,</span>&nbsp;<span class="ident" id="7495454">n</span>&nbsp;<span class="builtintype" id="7495456">int</span><span class="op" id="7495459">,</span>&nbsp;<span class="ident" id="7495461">submatches</span>&nbsp;<span class="op" id="7495472">[</span><span class="op" id="7495473">]</span><span class="builtintype" id="7495474">int</span><span class="op" id="7495477">,</span>&nbsp;<span class="ident" id="7495479">result</span>&nbsp;<span class="op" id="7495486">[</span><span class="op" id="7495487">]</span><span class="op" id="7495488">[</span><span class="op" id="7495489">]</span><span class="builtintype" id="7495490">byte</span><span class="op" id="7495494">,</span>&nbsp;<span class="ident" id="7495496">t</span>&nbsp;<span class="op" id="7495498">*</span><span class="ident" id="7495499">testing</span><span class="op" id="7495506">.</span><span class="ident" id="7495507">T</span><span class="op" id="7495508">)</span>&nbsp;<span class="op" id="7495510">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495513">if</span>&nbsp;<span class="builtinfunc" id="7495516">len</span><span class="op" id="7495519">(</span><span class="ident" id="7495520">submatches</span><span class="op" id="7495530">)</span>&nbsp;<span class="op" id="7495532">!=</span>&nbsp;<span class="builtinfunc" id="7495535">len</span><span class="op" id="7495538">(</span><span class="ident" id="7495539">result</span><span class="op" id="7495545">)</span><span class="op" id="7495546">*</span><span class="num" id="7495547">2</span>&nbsp;<span class="op" id="7495549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495553">t</span><span class="op" id="7495554">.</span><span class="ident" id="7495555">Errorf</span><span class="op" id="7495561">(</span><span class="string" id="7495562">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7495608">,</span>&nbsp;<span class="ident" id="7495610">n</span><span class="op" id="7495611">,</span>&nbsp;<span class="builtinfunc" id="7495613">len</span><span class="op" id="7495616">(</span><span class="ident" id="7495617">submatches</span><span class="op" id="7495627">)</span><span class="op" id="7495628">/</span><span class="num" id="7495629">2</span><span class="op" id="7495630">,</span>&nbsp;<span class="builtinfunc" id="7495632">len</span><span class="op" id="7495635">(</span><span class="ident" id="7495636">result</span><span class="op" id="7495642">)</span><span class="op" id="7495643">,</span>&nbsp;<span class="ident" id="7495645">test</span><span class="op" id="7495649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495653">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495664">for</span>&nbsp;<span class="ident" id="7495668">k</span>&nbsp;<span class="op" id="7495670">:=</span>&nbsp;<span class="num" id="7495673">0</span><span class="op" id="7495674">;</span>&nbsp;<span class="ident" id="7495676">k</span>&nbsp;<span class="op" id="7495678">&lt;</span>&nbsp;<span class="builtinfunc" id="7495680">len</span><span class="op" id="7495683">(</span><span class="ident" id="7495684">submatches</span><span class="op" id="7495694">)</span><span class="op" id="7495695">;</span>&nbsp;<span class="ident" id="7495697">k</span>&nbsp;<span class="op" id="7495699">+=</span>&nbsp;<span class="num" id="7495702">2</span>&nbsp;<span class="op" id="7495704">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495708">if</span>&nbsp;<span class="ident" id="7495711">submatches</span><span class="op" id="7495721">[</span><span class="ident" id="7495722">k</span><span class="op" id="7495723">]</span>&nbsp;<span class="op" id="7495725">==</span>&nbsp;<span class="op" id="7495728">-</span><span class="num" id="7495729">1</span>&nbsp;<span class="op" id="7495731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495736">if</span>&nbsp;<span class="ident" id="7495739">result</span><span class="op" id="7495745">[</span><span class="ident" id="7495746">k</span><span class="op" id="7495747">/</span><span class="num" id="7495748">2</span><span class="op" id="7495749">]</span>&nbsp;<span class="op" id="7495751">!=</span>&nbsp;<span class="ident" id="7495754">nil</span>&nbsp;<span class="op" id="7495758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495764">t</span><span class="op" id="7495765">.</span><span class="ident" id="7495766">Errorf</span><span class="op" id="7495772">(</span><span class="string" id="7495773">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7495808">,</span>&nbsp;<span class="ident" id="7495810">n</span><span class="op" id="7495811">,</span>&nbsp;<span class="ident" id="7495813">result</span><span class="op" id="7495819">,</span>&nbsp;<span class="ident" id="7495821">test</span><span class="op" id="7495825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495835">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495850">expect</span>&nbsp;<span class="op" id="7495857">:=</span>&nbsp;<span class="ident" id="7495860">test</span><span class="op" id="7495864">.</span><span class="ident" id="7495865">text</span><span class="op" id="7495869">[</span><span class="ident" id="7495870">submatches</span><span class="op" id="7495880">[</span><span class="ident" id="7495881">k</span><span class="op" id="7495882">]</span><span class="op" id="7495883">:</span><span class="ident" id="7495884">submatches</span><span class="op" id="7495894">[</span><span class="ident" id="7495895">k</span><span class="op" id="7495896">+</span><span class="num" id="7495897">1</span><span class="op" id="7495898">]</span><span class="op" id="7495899">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495903">if</span>&nbsp;<span class="ident" id="7495906">expect</span>&nbsp;<span class="op" id="7495913">!=</span>&nbsp;<span class="builtintype" id="7495916">string</span><span class="op" id="7495922">(</span><span class="ident" id="7495923">result</span><span class="op" id="7495929">[</span><span class="ident" id="7495930">k</span><span class="op" id="7495931">/</span><span class="num" id="7495932">2</span><span class="op" id="7495933">]</span><span class="op" id="7495934">)</span>&nbsp;<span class="op" id="7495936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495941">t</span><span class="op" id="7495942">.</span><span class="ident" id="7495943">Errorf</span><span class="op" id="7495949">(</span><span class="string" id="7495950">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7495984">,</span>&nbsp;<span class="ident" id="7495986">n</span><span class="op" id="7495987">,</span>&nbsp;<span class="ident" id="7495989">expect</span><span class="op" id="7495995">,</span>&nbsp;<span class="ident" id="7495997">result</span><span class="op" id="7496003">,</span>&nbsp;<span class="ident" id="7496005">test</span><span class="op" id="7496009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496014">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496026">}</span><br>
<span class="lineno"></span><span class="op" id="7496028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7496031">func</span>&nbsp;<span class="ident" id="7496036">TestFindSubmatch</span><span class="op" id="7496052">(</span><span class="ident" id="7496053">t</span>&nbsp;<span class="op" id="7496055">*</span><span class="ident" id="7496056">testing</span><span class="op" id="7496063">.</span><span class="ident" id="7496064">T</span><span class="op" id="7496065">)</span>&nbsp;<span class="op" id="7496067">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496070">for</span>&nbsp;<span class="ident" id="7496074">_</span><span class="op" id="7496075">,</span>&nbsp;<span class="ident" id="7496077">test</span>&nbsp;<span class="op" id="7496082">:=</span>&nbsp;<span class="keyword" id="7496085">range</span>&nbsp;<span class="ident" id="7496091">findTests</span>&nbsp;<span class="op" id="7496101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496105">result</span>&nbsp;<span class="op" id="7496112">:=</span>&nbsp;<span class="ident" id="7496115">MustCompile</span><span class="op" id="7496126">(</span><span class="ident" id="7496127">test</span><span class="op" id="7496131">.</span><span class="ident" id="7496132">pat</span><span class="op" id="7496135">)</span><span class="op" id="7496136">.</span><span class="ident" id="7496137">FindSubmatch</span><span class="op" id="7496149">(</span><span class="op" id="7496150">[</span><span class="op" id="7496151">]</span><span class="builtintype" id="7496152">byte</span><span class="op" id="7496156">(</span><span class="ident" id="7496157">test</span><span class="op" id="7496161">.</span><span class="ident" id="7496162">text</span><span class="op" id="7496166">)</span><span class="op" id="7496167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496171">switch</span>&nbsp;<span class="op" id="7496178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496182">case</span>&nbsp;<span class="ident" id="7496187">test</span><span class="op" id="7496191">.</span><span class="ident" id="7496192">matches</span>&nbsp;<span class="op" id="7496200">==</span>&nbsp;<span class="ident" id="7496203">nil</span>&nbsp;<span class="op" id="7496207">&amp;&amp;</span>&nbsp;<span class="ident" id="7496210">result</span>&nbsp;<span class="op" id="7496217">==</span>&nbsp;<span class="ident" id="7496220">nil</span><span class="op" id="7496223">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7496228">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496236">case</span>&nbsp;<span class="ident" id="7496241">test</span><span class="op" id="7496245">.</span><span class="ident" id="7496246">matches</span>&nbsp;<span class="op" id="7496254">==</span>&nbsp;<span class="ident" id="7496257">nil</span>&nbsp;<span class="op" id="7496261">&amp;&amp;</span>&nbsp;<span class="ident" id="7496264">result</span>&nbsp;<span class="op" id="7496271">!=</span>&nbsp;<span class="ident" id="7496274">nil</span><span class="op" id="7496277">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496282">t</span><span class="op" id="7496283">.</span><span class="ident" id="7496284">Errorf</span><span class="op" id="7496290">(</span><span class="string" id="7496291">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7496323">,</span>&nbsp;<span class="ident" id="7496325">test</span><span class="op" id="7496329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496333">case</span>&nbsp;<span class="ident" id="7496338">test</span><span class="op" id="7496342">.</span><span class="ident" id="7496343">matches</span>&nbsp;<span class="op" id="7496351">!=</span>&nbsp;<span class="ident" id="7496354">nil</span>&nbsp;<span class="op" id="7496358">&amp;&amp;</span>&nbsp;<span class="ident" id="7496361">result</span>&nbsp;<span class="op" id="7496368">==</span>&nbsp;<span class="ident" id="7496371">nil</span><span class="op" id="7496374">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496379">t</span><span class="op" id="7496380">.</span><span class="ident" id="7496381">Errorf</span><span class="op" id="7496387">(</span><span class="string" id="7496388">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7496418">,</span>&nbsp;<span class="ident" id="7496420">test</span><span class="op" id="7496424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496428">case</span>&nbsp;<span class="ident" id="7496433">test</span><span class="op" id="7496437">.</span><span class="ident" id="7496438">matches</span>&nbsp;<span class="op" id="7496446">!=</span>&nbsp;<span class="ident" id="7496449">nil</span>&nbsp;<span class="op" id="7496453">&amp;&amp;</span>&nbsp;<span class="ident" id="7496456">result</span>&nbsp;<span class="op" id="7496463">!=</span>&nbsp;<span class="ident" id="7496466">nil</span><span class="op" id="7496469">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496474">testSubmatchBytes</span><span class="op" id="7496491">(</span><span class="op" id="7496492">&amp;</span><span class="ident" id="7496493">test</span><span class="op" id="7496497">,</span>&nbsp;<span class="num" id="7496499">0</span><span class="op" id="7496500">,</span>&nbsp;<span class="ident" id="7496502">test</span><span class="op" id="7496506">.</span><span class="ident" id="7496507">matches</span><span class="op" id="7496514">[</span><span class="num" id="7496515">0</span><span class="op" id="7496516">]</span><span class="op" id="7496517">,</span>&nbsp;<span class="ident" id="7496519">result</span><span class="op" id="7496525">,</span>&nbsp;<span class="ident" id="7496527">t</span><span class="op" id="7496528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496535">}</span><br>
<span class="lineno"></span><span class="op" id="7496537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="7496540">func</span>&nbsp;<span class="ident" id="7496545">testSubmatchString</span><span class="op" id="7496563">(</span><span class="ident" id="7496564">test</span>&nbsp;<span class="op" id="7496569">*</span><span class="ident" id="7496570">FindTest</span><span class="op" id="7496578">,</span>&nbsp;<span class="ident" id="7496580">n</span>&nbsp;<span class="builtintype" id="7496582">int</span><span class="op" id="7496585">,</span>&nbsp;<span class="ident" id="7496587">submatches</span>&nbsp;<span class="op" id="7496598">[</span><span class="op" id="7496599">]</span><span class="builtintype" id="7496600">int</span><span class="op" id="7496603">,</span>&nbsp;<span class="ident" id="7496605">result</span>&nbsp;<span class="op" id="7496612">[</span><span class="op" id="7496613">]</span><span class="builtintype" id="7496614">string</span><span class="op" id="7496620">,</span>&nbsp;<span class="ident" id="7496622">t</span>&nbsp;<span class="op" id="7496624">*</span><span class="ident" id="7496625">testing</span><span class="op" id="7496632">.</span><span class="ident" id="7496633">T</span><span class="op" id="7496634">)</span>&nbsp;<span class="op" id="7496636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496639">if</span>&nbsp;<span class="builtinfunc" id="7496642">len</span><span class="op" id="7496645">(</span><span class="ident" id="7496646">submatches</span><span class="op" id="7496656">)</span>&nbsp;<span class="op" id="7496658">!=</span>&nbsp;<span class="builtinfunc" id="7496661">len</span><span class="op" id="7496664">(</span><span class="ident" id="7496665">result</span><span class="op" id="7496671">)</span><span class="op" id="7496672">*</span><span class="num" id="7496673">2</span>&nbsp;<span class="op" id="7496675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496679">t</span><span class="op" id="7496680">.</span><span class="ident" id="7496681">Errorf</span><span class="op" id="7496687">(</span><span class="string" id="7496688">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7496734">,</span>&nbsp;<span class="ident" id="7496736">n</span><span class="op" id="7496737">,</span>&nbsp;<span class="builtinfunc" id="7496739">len</span><span class="op" id="7496742">(</span><span class="ident" id="7496743">submatches</span><span class="op" id="7496753">)</span><span class="op" id="7496754">/</span><span class="num" id="7496755">2</span><span class="op" id="7496756">,</span>&nbsp;<span class="builtinfunc" id="7496758">len</span><span class="op" id="7496761">(</span><span class="ident" id="7496762">result</span><span class="op" id="7496768">)</span><span class="op" id="7496769">,</span>&nbsp;<span class="ident" id="7496771">test</span><span class="op" id="7496775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496779">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496787">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496790">for</span>&nbsp;<span class="ident" id="7496794">k</span>&nbsp;<span class="op" id="7496796">:=</span>&nbsp;<span class="num" id="7496799">0</span><span class="op" id="7496800">;</span>&nbsp;<span class="ident" id="7496802">k</span>&nbsp;<span class="op" id="7496804">&lt;</span>&nbsp;<span class="builtinfunc" id="7496806">len</span><span class="op" id="7496809">(</span><span class="ident" id="7496810">submatches</span><span class="op" id="7496820">)</span><span class="op" id="7496821">;</span>&nbsp;<span class="ident" id="7496823">k</span>&nbsp;<span class="op" id="7496825">+=</span>&nbsp;<span class="num" id="7496828">2</span>&nbsp;<span class="op" id="7496830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496834">if</span>&nbsp;<span class="ident" id="7496837">submatches</span><span class="op" id="7496847">[</span><span class="ident" id="7496848">k</span><span class="op" id="7496849">]</span>&nbsp;<span class="op" id="7496851">==</span>&nbsp;<span class="op" id="7496854">-</span><span class="num" id="7496855">1</span>&nbsp;<span class="op" id="7496857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496862">if</span>&nbsp;<span class="ident" id="7496865">result</span><span class="op" id="7496871">[</span><span class="ident" id="7496872">k</span><span class="op" id="7496873">/</span><span class="num" id="7496874">2</span><span class="op" id="7496875">]</span>&nbsp;<span class="op" id="7496877">!=</span>&nbsp;<span class="string" id="7496880">&#34;&#34;</span>&nbsp;<span class="op" id="7496883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496889">t</span><span class="op" id="7496890">.</span><span class="ident" id="7496891">Errorf</span><span class="op" id="7496897">(</span><span class="string" id="7496898">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7496933">,</span>&nbsp;<span class="ident" id="7496935">n</span><span class="op" id="7496936">,</span>&nbsp;<span class="ident" id="7496938">result</span><span class="op" id="7496944">,</span>&nbsp;<span class="ident" id="7496946">test</span><span class="op" id="7496950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496955">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496960">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496975">expect</span>&nbsp;<span class="op" id="7496982">:=</span>&nbsp;<span class="ident" id="7496985">test</span><span class="op" id="7496989">.</span><span class="ident" id="7496990">text</span><span class="op" id="7496994">[</span><span class="ident" id="7496995">submatches</span><span class="op" id="7497005">[</span><span class="ident" id="7497006">k</span><span class="op" id="7497007">]</span><span class="op" id="7497008">:</span><span class="ident" id="7497009">submatches</span><span class="op" id="7497019">[</span><span class="ident" id="7497020">k</span><span class="op" id="7497021">+</span><span class="num" id="7497022">1</span><span class="op" id="7497023">]</span><span class="op" id="7497024">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497028">if</span>&nbsp;<span class="ident" id="7497031">expect</span>&nbsp;<span class="op" id="7497038">!=</span>&nbsp;<span class="ident" id="7497041">result</span><span class="op" id="7497047">[</span><span class="ident" id="7497048">k</span><span class="op" id="7497049">/</span><span class="num" id="7497050">2</span><span class="op" id="7497051">]</span>&nbsp;<span class="op" id="7497053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497058">t</span><span class="op" id="7497059">.</span><span class="ident" id="7497060">Errorf</span><span class="op" id="7497066">(</span><span class="string" id="7497067">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7497101">,</span>&nbsp;<span class="ident" id="7497103">n</span><span class="op" id="7497104">,</span>&nbsp;<span class="ident" id="7497106">expect</span><span class="op" id="7497112">,</span>&nbsp;<span class="ident" id="7497114">result</span><span class="op" id="7497120">,</span>&nbsp;<span class="ident" id="7497122">test</span><span class="op" id="7497126">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497131">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497143">}</span><br>
<span class="lineno"></span><span class="op" id="7497145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="7497148">func</span>&nbsp;<span class="ident" id="7497153">TestFindStringSubmatch</span><span class="op" id="7497175">(</span><span class="ident" id="7497176">t</span>&nbsp;<span class="op" id="7497178">*</span><span class="ident" id="7497179">testing</span><span class="op" id="7497186">.</span><span class="ident" id="7497187">T</span><span class="op" id="7497188">)</span>&nbsp;<span class="op" id="7497190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497193">for</span>&nbsp;<span class="ident" id="7497197">_</span><span class="op" id="7497198">,</span>&nbsp;<span class="ident" id="7497200">test</span>&nbsp;<span class="op" id="7497205">:=</span>&nbsp;<span class="keyword" id="7497208">range</span>&nbsp;<span class="ident" id="7497214">findTests</span>&nbsp;<span class="op" id="7497224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497228">result</span>&nbsp;<span class="op" id="7497235">:=</span>&nbsp;<span class="ident" id="7497238">MustCompile</span><span class="op" id="7497249">(</span><span class="ident" id="7497250">test</span><span class="op" id="7497254">.</span><span class="ident" id="7497255">pat</span><span class="op" id="7497258">)</span><span class="op" id="7497259">.</span><span class="ident" id="7497260">FindStringSubmatch</span><span class="op" id="7497278">(</span><span class="ident" id="7497279">test</span><span class="op" id="7497283">.</span><span class="ident" id="7497284">text</span><span class="op" id="7497288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497292">switch</span>&nbsp;<span class="op" id="7497299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497303">case</span>&nbsp;<span class="ident" id="7497308">test</span><span class="op" id="7497312">.</span><span class="ident" id="7497313">matches</span>&nbsp;<span class="op" id="7497321">==</span>&nbsp;<span class="ident" id="7497324">nil</span>&nbsp;<span class="op" id="7497328">&amp;&amp;</span>&nbsp;<span class="ident" id="7497331">result</span>&nbsp;<span class="op" id="7497338">==</span>&nbsp;<span class="ident" id="7497341">nil</span><span class="op" id="7497344">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7497349">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497357">case</span>&nbsp;<span class="ident" id="7497362">test</span><span class="op" id="7497366">.</span><span class="ident" id="7497367">matches</span>&nbsp;<span class="op" id="7497375">==</span>&nbsp;<span class="ident" id="7497378">nil</span>&nbsp;<span class="op" id="7497382">&amp;&amp;</span>&nbsp;<span class="ident" id="7497385">result</span>&nbsp;<span class="op" id="7497392">!=</span>&nbsp;<span class="ident" id="7497395">nil</span><span class="op" id="7497398">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497403">t</span><span class="op" id="7497404">.</span><span class="ident" id="7497405">Errorf</span><span class="op" id="7497411">(</span><span class="string" id="7497412">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7497444">,</span>&nbsp;<span class="ident" id="7497446">test</span><span class="op" id="7497450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497454">case</span>&nbsp;<span class="ident" id="7497459">test</span><span class="op" id="7497463">.</span><span class="ident" id="7497464">matches</span>&nbsp;<span class="op" id="7497472">!=</span>&nbsp;<span class="ident" id="7497475">nil</span>&nbsp;<span class="op" id="7497479">&amp;&amp;</span>&nbsp;<span class="ident" id="7497482">result</span>&nbsp;<span class="op" id="7497489">==</span>&nbsp;<span class="ident" id="7497492">nil</span><span class="op" id="7497495">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497500">t</span><span class="op" id="7497501">.</span><span class="ident" id="7497502">Errorf</span><span class="op" id="7497508">(</span><span class="string" id="7497509">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7497539">,</span>&nbsp;<span class="ident" id="7497541">test</span><span class="op" id="7497545">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497549">case</span>&nbsp;<span class="ident" id="7497554">test</span><span class="op" id="7497558">.</span><span class="ident" id="7497559">matches</span>&nbsp;<span class="op" id="7497567">!=</span>&nbsp;<span class="ident" id="7497570">nil</span>&nbsp;<span class="op" id="7497574">&amp;&amp;</span>&nbsp;<span class="ident" id="7497577">result</span>&nbsp;<span class="op" id="7497584">!=</span>&nbsp;<span class="ident" id="7497587">nil</span><span class="op" id="7497590">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497595">testSubmatchString</span><span class="op" id="7497613">(</span><span class="op" id="7497614">&amp;</span><span class="ident" id="7497615">test</span><span class="op" id="7497619">,</span>&nbsp;<span class="num" id="7497621">0</span><span class="op" id="7497622">,</span>&nbsp;<span class="ident" id="7497624">test</span><span class="op" id="7497628">.</span><span class="ident" id="7497629">matches</span><span class="op" id="7497636">[</span><span class="num" id="7497637">0</span><span class="op" id="7497638">]</span><span class="op" id="7497639">,</span>&nbsp;<span class="ident" id="7497641">result</span><span class="op" id="7497647">,</span>&nbsp;<span class="ident" id="7497649">t</span><span class="op" id="7497650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497657">}</span><br>
<span class="lineno"></span><span class="op" id="7497659">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="7497662">func</span>&nbsp;<span class="ident" id="7497667">testSubmatchIndices</span><span class="op" id="7497686">(</span><span class="ident" id="7497687">test</span>&nbsp;<span class="op" id="7497692">*</span><span class="ident" id="7497693">FindTest</span><span class="op" id="7497701">,</span>&nbsp;<span class="ident" id="7497703">n</span>&nbsp;<span class="builtintype" id="7497705">int</span><span class="op" id="7497708">,</span>&nbsp;<span class="ident" id="7497710">expect</span><span class="op" id="7497716">,</span>&nbsp;<span class="ident" id="7497718">result</span>&nbsp;<span class="op" id="7497725">[</span><span class="op" id="7497726">]</span><span class="builtintype" id="7497727">int</span><span class="op" id="7497730">,</span>&nbsp;<span class="ident" id="7497732">t</span>&nbsp;<span class="op" id="7497734">*</span><span class="ident" id="7497735">testing</span><span class="op" id="7497742">.</span><span class="ident" id="7497743">T</span><span class="op" id="7497744">)</span>&nbsp;<span class="op" id="7497746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497749">if</span>&nbsp;<span class="builtinfunc" id="7497752">len</span><span class="op" id="7497755">(</span><span class="ident" id="7497756">expect</span><span class="op" id="7497762">)</span>&nbsp;<span class="op" id="7497764">!=</span>&nbsp;<span class="builtinfunc" id="7497767">len</span><span class="op" id="7497770">(</span><span class="ident" id="7497771">result</span><span class="op" id="7497777">)</span>&nbsp;<span class="op" id="7497779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497783">t</span><span class="op" id="7497784">.</span><span class="ident" id="7497785">Errorf</span><span class="op" id="7497791">(</span><span class="string" id="7497792">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7497835">,</span>&nbsp;<span class="ident" id="7497837">n</span><span class="op" id="7497838">,</span>&nbsp;<span class="builtinfunc" id="7497840">len</span><span class="op" id="7497843">(</span><span class="ident" id="7497844">expect</span><span class="op" id="7497850">)</span><span class="op" id="7497851">/</span><span class="num" id="7497852">2</span><span class="op" id="7497853">,</span>&nbsp;<span class="builtinfunc" id="7497855">len</span><span class="op" id="7497858">(</span><span class="ident" id="7497859">result</span><span class="op" id="7497865">)</span><span class="op" id="7497866">/</span><span class="num" id="7497867">2</span><span class="op" id="7497868">,</span>&nbsp;<span class="ident" id="7497870">test</span><span class="op" id="7497874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497878">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497889">for</span>&nbsp;<span class="ident" id="7497893">k</span><span class="op" id="7497894">,</span>&nbsp;<span class="ident" id="7497896">e</span>&nbsp;<span class="op" id="7497898">:=</span>&nbsp;<span class="keyword" id="7497901">range</span>&nbsp;<span class="ident" id="7497907">expect</span>&nbsp;<span class="op" id="7497914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497918">if</span>&nbsp;<span class="ident" id="7497921">e</span>&nbsp;<span class="op" id="7497923">!=</span>&nbsp;<span class="ident" id="7497926">result</span><span class="op" id="7497932">[</span><span class="ident" id="7497933">k</span><span class="op" id="7497934">]</span>&nbsp;<span class="op" id="7497936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497941">t</span><span class="op" id="7497942">.</span><span class="ident" id="7497943">Errorf</span><span class="op" id="7497949">(</span><span class="string" id="7497950">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7498000">,</span>&nbsp;<span class="ident" id="7498002">n</span><span class="op" id="7498003">,</span>&nbsp;<span class="ident" id="7498005">expect</span><span class="op" id="7498011">,</span>&nbsp;<span class="ident" id="7498013">result</span><span class="op" id="7498019">,</span>&nbsp;<span class="ident" id="7498021">test</span><span class="op" id="7498025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498029">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498032">}</span><br>
<span class="lineno"></span><span class="op" id="7498034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7498037">func</span>&nbsp;<span class="ident" id="7498042">testFindSubmatchIndex</span><span class="op" id="7498063">(</span><span class="ident" id="7498064">test</span>&nbsp;<span class="op" id="7498069">*</span><span class="ident" id="7498070">FindTest</span><span class="op" id="7498078">,</span>&nbsp;<span class="ident" id="7498080">result</span>&nbsp;<span class="op" id="7498087">[</span><span class="op" id="7498088">]</span><span class="builtintype" id="7498089">int</span><span class="op" id="7498092">,</span>&nbsp;<span class="ident" id="7498094">t</span>&nbsp;<span class="op" id="7498096">*</span><span class="ident" id="7498097">testing</span><span class="op" id="7498104">.</span><span class="ident" id="7498105">T</span><span class="op" id="7498106">)</span>&nbsp;<span class="op" id="7498108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498111">switch</span>&nbsp;<span class="op" id="7498118">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498121">case</span>&nbsp;<span class="ident" id="7498126">test</span><span class="op" id="7498130">.</span><span class="ident" id="7498131">matches</span>&nbsp;<span class="op" id="7498139">==</span>&nbsp;<span class="ident" id="7498142">nil</span>&nbsp;<span class="op" id="7498146">&amp;&amp;</span>&nbsp;<span class="ident" id="7498149">result</span>&nbsp;<span class="op" id="7498156">==</span>&nbsp;<span class="ident" id="7498159">nil</span><span class="op" id="7498162">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7498166">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498173">case</span>&nbsp;<span class="ident" id="7498178">test</span><span class="op" id="7498182">.</span><span class="ident" id="7498183">matches</span>&nbsp;<span class="op" id="7498191">==</span>&nbsp;<span class="ident" id="7498194">nil</span>&nbsp;<span class="op" id="7498198">&amp;&amp;</span>&nbsp;<span class="ident" id="7498201">result</span>&nbsp;<span class="op" id="7498208">!=</span>&nbsp;<span class="ident" id="7498211">nil</span><span class="op" id="7498214">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498218">t</span><span class="op" id="7498219">.</span><span class="ident" id="7498220">Errorf</span><span class="op" id="7498226">(</span><span class="string" id="7498227">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7498259">,</span>&nbsp;<span class="ident" id="7498261">test</span><span class="op" id="7498265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498268">case</span>&nbsp;<span class="ident" id="7498273">test</span><span class="op" id="7498277">.</span><span class="ident" id="7498278">matches</span>&nbsp;<span class="op" id="7498286">!=</span>&nbsp;<span class="ident" id="7498289">nil</span>&nbsp;<span class="op" id="7498293">&amp;&amp;</span>&nbsp;<span class="ident" id="7498296">result</span>&nbsp;<span class="op" id="7498303">==</span>&nbsp;<span class="ident" id="7498306">nil</span><span class="op" id="7498309">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498313">t</span><span class="op" id="7498314">.</span><span class="ident" id="7498315">Errorf</span><span class="op" id="7498321">(</span><span class="string" id="7498322">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7498352">,</span>&nbsp;<span class="ident" id="7498354">test</span><span class="op" id="7498358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498361">case</span>&nbsp;<span class="ident" id="7498366">test</span><span class="op" id="7498370">.</span><span class="ident" id="7498371">matches</span>&nbsp;<span class="op" id="7498379">!=</span>&nbsp;<span class="ident" id="7498382">nil</span>&nbsp;<span class="op" id="7498386">&amp;&amp;</span>&nbsp;<span class="ident" id="7498389">result</span>&nbsp;<span class="op" id="7498396">!=</span>&nbsp;<span class="ident" id="7498399">nil</span><span class="op" id="7498402">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498406">testSubmatchIndices</span><span class="op" id="7498425">(</span><span class="ident" id="7498426">test</span><span class="op" id="7498430">,</span>&nbsp;<span class="num" id="7498432">0</span><span class="op" id="7498433">,</span>&nbsp;<span class="ident" id="7498435">test</span><span class="op" id="7498439">.</span><span class="ident" id="7498440">matches</span><span class="op" id="7498447">[</span><span class="num" id="7498448">0</span><span class="op" id="7498449">]</span><span class="op" id="7498450">,</span>&nbsp;<span class="ident" id="7498452">result</span><span class="op" id="7498458">,</span>&nbsp;<span class="ident" id="7498460">t</span><span class="op" id="7498461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498464">}</span><br>
<span class="lineno"></span><span class="op" id="7498466">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="7498469">func</span>&nbsp;<span class="ident" id="7498474">TestFindSubmatchIndex</span><span class="op" id="7498495">(</span><span class="ident" id="7498496">t</span>&nbsp;<span class="op" id="7498498">*</span><span class="ident" id="7498499">testing</span><span class="op" id="7498506">.</span><span class="ident" id="7498507">T</span><span class="op" id="7498508">)</span>&nbsp;<span class="op" id="7498510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498513">for</span>&nbsp;<span class="ident" id="7498517">_</span><span class="op" id="7498518">,</span>&nbsp;<span class="ident" id="7498520">test</span>&nbsp;<span class="op" id="7498525">:=</span>&nbsp;<span class="keyword" id="7498528">range</span>&nbsp;<span class="ident" id="7498534">findTests</span>&nbsp;<span class="op" id="7498544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498548">testFindSubmatchIndex</span><span class="op" id="7498569">(</span><span class="op" id="7498570">&amp;</span><span class="ident" id="7498571">test</span><span class="op" id="7498575">,</span>&nbsp;<span class="ident" id="7498577">MustCompile</span><span class="op" id="7498588">(</span><span class="ident" id="7498589">test</span><span class="op" id="7498593">.</span><span class="ident" id="7498594">pat</span><span class="op" id="7498597">)</span><span class="op" id="7498598">.</span><span class="ident" id="7498599">FindSubmatchIndex</span><span class="op" id="7498616">(</span><span class="op" id="7498617">[</span><span class="op" id="7498618">]</span><span class="builtintype" id="7498619">byte</span><span class="op" id="7498623">(</span><span class="ident" id="7498624">test</span><span class="op" id="7498628">.</span><span class="ident" id="7498629">text</span><span class="op" id="7498633">)</span><span class="op" id="7498634">)</span><span class="op" id="7498635">,</span>&nbsp;<span class="ident" id="7498637">t</span><span class="op" id="7498638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498641">}</span><br>
<span class="lineno">415</span><span class="op" id="7498643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7498646">func</span>&nbsp;<span class="ident" id="7498651">TestFindStringSubmatchIndex</span><span class="op" id="7498678">(</span><span class="ident" id="7498679">t</span>&nbsp;<span class="op" id="7498681">*</span><span class="ident" id="7498682">testing</span><span class="op" id="7498689">.</span><span class="ident" id="7498690">T</span><span class="op" id="7498691">)</span>&nbsp;<span class="op" id="7498693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498696">for</span>&nbsp;<span class="ident" id="7498700">_</span><span class="op" id="7498701">,</span>&nbsp;<span class="ident" id="7498703">test</span>&nbsp;<span class="op" id="7498708">:=</span>&nbsp;<span class="keyword" id="7498711">range</span>&nbsp;<span class="ident" id="7498717">findTests</span>&nbsp;<span class="op" id="7498727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498731">testFindSubmatchIndex</span><span class="op" id="7498752">(</span><span class="op" id="7498753">&amp;</span><span class="ident" id="7498754">test</span><span class="op" id="7498758">,</span>&nbsp;<span class="ident" id="7498760">MustCompile</span><span class="op" id="7498771">(</span><span class="ident" id="7498772">test</span><span class="op" id="7498776">.</span><span class="ident" id="7498777">pat</span><span class="op" id="7498780">)</span><span class="op" id="7498781">.</span><span class="ident" id="7498782">FindStringSubmatchIndex</span><span class="op" id="7498805">(</span><span class="ident" id="7498806">test</span><span class="op" id="7498810">.</span><span class="ident" id="7498811">text</span><span class="op" id="7498815">)</span><span class="op" id="7498816">,</span>&nbsp;<span class="ident" id="7498818">t</span><span class="op" id="7498819">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498822">}</span><br>
<span class="lineno"></span><span class="op" id="7498824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7498827">func</span>&nbsp;<span class="ident" id="7498832">TestFindReaderSubmatchIndex</span><span class="op" id="7498859">(</span><span class="ident" id="7498860">t</span>&nbsp;<span class="op" id="7498862">*</span><span class="ident" id="7498863">testing</span><span class="op" id="7498870">.</span><span class="ident" id="7498871">T</span><span class="op" id="7498872">)</span>&nbsp;<span class="op" id="7498874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498877">for</span>&nbsp;<span class="ident" id="7498881">_</span><span class="op" id="7498882">,</span>&nbsp;<span class="ident" id="7498884">test</span>&nbsp;<span class="op" id="7498889">:=</span>&nbsp;<span class="keyword" id="7498892">range</span>&nbsp;<span class="ident" id="7498898">findTests</span>&nbsp;<span class="op" id="7498908">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498912">testFindSubmatchIndex</span><span class="op" id="7498933">(</span><span class="op" id="7498934">&amp;</span><span class="ident" id="7498935">test</span><span class="op" id="7498939">,</span>&nbsp;<span class="ident" id="7498941">MustCompile</span><span class="op" id="7498952">(</span><span class="ident" id="7498953">test</span><span class="op" id="7498957">.</span><span class="ident" id="7498958">pat</span><span class="op" id="7498961">)</span><span class="op" id="7498962">.</span><span class="ident" id="7498963">FindReaderSubmatchIndex</span><span class="op" id="7498986">(</span><span class="ident" id="7498987">strings</span><span class="op" id="7498994">.</span><span class="ident" id="7498995">NewReader</span><span class="op" id="7499004">(</span><span class="ident" id="7499005">test</span><span class="op" id="7499009">.</span><span class="ident" id="7499010">text</span><span class="op" id="7499014">)</span><span class="op" id="7499015">)</span><span class="op" id="7499016">,</span>&nbsp;<span class="ident" id="7499018">t</span><span class="op" id="7499019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499022">}</span><br>
<span class="lineno"></span><span class="op" id="7499024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7499027">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="7499071">func</span>&nbsp;<span class="ident" id="7499076">TestFindAllSubmatch</span><span class="op" id="7499095">(</span><span class="ident" id="7499096">t</span>&nbsp;<span class="op" id="7499098">*</span><span class="ident" id="7499099">testing</span><span class="op" id="7499106">.</span><span class="ident" id="7499107">T</span><span class="op" id="7499108">)</span>&nbsp;<span class="op" id="7499110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499113">for</span>&nbsp;<span class="ident" id="7499117">_</span><span class="op" id="7499118">,</span>&nbsp;<span class="ident" id="7499120">test</span>&nbsp;<span class="op" id="7499125">:=</span>&nbsp;<span class="keyword" id="7499128">range</span>&nbsp;<span class="ident" id="7499134">findTests</span>&nbsp;<span class="op" id="7499144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499148">result</span>&nbsp;<span class="op" id="7499155">:=</span>&nbsp;<span class="ident" id="7499158">MustCompile</span><span class="op" id="7499169">(</span><span class="ident" id="7499170">test</span><span class="op" id="7499174">.</span><span class="ident" id="7499175">pat</span><span class="op" id="7499178">)</span><span class="op" id="7499179">.</span><span class="ident" id="7499180">FindAllSubmatch</span><span class="op" id="7499195">(</span><span class="op" id="7499196">[</span><span class="op" id="7499197">]</span><span class="builtintype" id="7499198">byte</span><span class="op" id="7499202">(</span><span class="ident" id="7499203">test</span><span class="op" id="7499207">.</span><span class="ident" id="7499208">text</span><span class="op" id="7499212">)</span><span class="op" id="7499213">,</span>&nbsp;<span class="op" id="7499215">-</span><span class="num" id="7499216">1</span><span class="op" id="7499217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499221">switch</span>&nbsp;<span class="op" id="7499228">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499232">case</span>&nbsp;<span class="ident" id="7499237">test</span><span class="op" id="7499241">.</span><span class="ident" id="7499242">matches</span>&nbsp;<span class="op" id="7499250">==</span>&nbsp;<span class="ident" id="7499253">nil</span>&nbsp;<span class="op" id="7499257">&amp;&amp;</span>&nbsp;<span class="ident" id="7499260">result</span>&nbsp;<span class="op" id="7499267">==</span>&nbsp;<span class="ident" id="7499270">nil</span><span class="op" id="7499273">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7499278">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499286">case</span>&nbsp;<span class="ident" id="7499291">test</span><span class="op" id="7499295">.</span><span class="ident" id="7499296">matches</span>&nbsp;<span class="op" id="7499304">==</span>&nbsp;<span class="ident" id="7499307">nil</span>&nbsp;<span class="op" id="7499311">&amp;&amp;</span>&nbsp;<span class="ident" id="7499314">result</span>&nbsp;<span class="op" id="7499321">!=</span>&nbsp;<span class="ident" id="7499324">nil</span><span class="op" id="7499327">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499332">t</span><span class="op" id="7499333">.</span><span class="ident" id="7499334">Errorf</span><span class="op" id="7499340">(</span><span class="string" id="7499341">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7499373">,</span>&nbsp;<span class="ident" id="7499375">test</span><span class="op" id="7499379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499383">case</span>&nbsp;<span class="ident" id="7499388">test</span><span class="op" id="7499392">.</span><span class="ident" id="7499393">matches</span>&nbsp;<span class="op" id="7499401">!=</span>&nbsp;<span class="ident" id="7499404">nil</span>&nbsp;<span class="op" id="7499408">&amp;&amp;</span>&nbsp;<span class="ident" id="7499411">result</span>&nbsp;<span class="op" id="7499418">==</span>&nbsp;<span class="ident" id="7499421">nil</span><span class="op" id="7499424">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499429">t</span><span class="op" id="7499430">.</span><span class="ident" id="7499431">Errorf</span><span class="op" id="7499437">(</span><span class="string" id="7499438">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7499468">,</span>&nbsp;<span class="ident" id="7499470">test</span><span class="op" id="7499474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499478">case</span>&nbsp;<span class="builtinfunc" id="7499483">len</span><span class="op" id="7499486">(</span><span class="ident" id="7499487">test</span><span class="op" id="7499491">.</span><span class="ident" id="7499492">matches</span><span class="op" id="7499499">)</span>&nbsp;<span class="op" id="7499501">!=</span>&nbsp;<span class="builtinfunc" id="7499504">len</span><span class="op" id="7499507">(</span><span class="ident" id="7499508">result</span><span class="op" id="7499514">)</span><span class="op" id="7499515">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499520">t</span><span class="op" id="7499521">.</span><span class="ident" id="7499522">Errorf</span><span class="op" id="7499528">(</span><span class="string" id="7499529">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7499562">,</span>&nbsp;<span class="builtinfunc" id="7499564">len</span><span class="op" id="7499567">(</span><span class="ident" id="7499568">test</span><span class="op" id="7499572">.</span><span class="ident" id="7499573">matches</span><span class="op" id="7499580">)</span><span class="op" id="7499581">,</span>&nbsp;<span class="builtinfunc" id="7499583">len</span><span class="op" id="7499586">(</span><span class="ident" id="7499587">result</span><span class="op" id="7499593">)</span><span class="op" id="7499594">,</span>&nbsp;<span class="ident" id="7499596">test</span><span class="op" id="7499600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499604">case</span>&nbsp;<span class="ident" id="7499609">test</span><span class="op" id="7499613">.</span><span class="ident" id="7499614">matches</span>&nbsp;<span class="op" id="7499622">!=</span>&nbsp;<span class="ident" id="7499625">nil</span>&nbsp;<span class="op" id="7499629">&amp;&amp;</span>&nbsp;<span class="ident" id="7499632">result</span>&nbsp;<span class="op" id="7499639">!=</span>&nbsp;<span class="ident" id="7499642">nil</span><span class="op" id="7499645">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499650">for</span>&nbsp;<span class="ident" id="7499654">k</span><span class="op" id="7499655">,</span>&nbsp;<span class="ident" id="7499657">match</span>&nbsp;<span class="op" id="7499663">:=</span>&nbsp;<span class="keyword" id="7499666">range</span>&nbsp;<span class="ident" id="7499672">test</span><span class="op" id="7499676">.</span><span class="ident" id="7499677">matches</span>&nbsp;<span class="op" id="7499685">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499691">testSubmatchBytes</span><span class="op" id="7499708">(</span><span class="op" id="7499709">&amp;</span><span class="ident" id="7499710">test</span><span class="op" id="7499714">,</span>&nbsp;<span class="ident" id="7499716">k</span><span class="op" id="7499717">,</span>&nbsp;<span class="ident" id="7499719">match</span><span class="op" id="7499724">,</span>&nbsp;<span class="ident" id="7499726">result</span><span class="op" id="7499732">[</span><span class="ident" id="7499733">k</span><span class="op" id="7499734">]</span><span class="op" id="7499735">,</span>&nbsp;<span class="ident" id="7499737">t</span><span class="op" id="7499738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499750">}</span><br>
<span class="lineno"></span><span class="op" id="7499752">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7499755">func</span>&nbsp;<span class="ident" id="7499760">TestFindAllStringSubmatch</span><span class="op" id="7499785">(</span><span class="ident" id="7499786">t</span>&nbsp;<span class="op" id="7499788">*</span><span class="ident" id="7499789">testing</span><span class="op" id="7499796">.</span><span class="ident" id="7499797">T</span><span class="op" id="7499798">)</span>&nbsp;<span class="op" id="7499800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499803">for</span>&nbsp;<span class="ident" id="7499807">_</span><span class="op" id="7499808">,</span>&nbsp;<span class="ident" id="7499810">test</span>&nbsp;<span class="op" id="7499815">:=</span>&nbsp;<span class="keyword" id="7499818">range</span>&nbsp;<span class="ident" id="7499824">findTests</span>&nbsp;<span class="op" id="7499834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499838">result</span>&nbsp;<span class="op" id="7499845">:=</span>&nbsp;<span class="ident" id="7499848">MustCompile</span><span class="op" id="7499859">(</span><span class="ident" id="7499860">test</span><span class="op" id="7499864">.</span><span class="ident" id="7499865">pat</span><span class="op" id="7499868">)</span><span class="op" id="7499869">.</span><span class="ident" id="7499870">FindAllStringSubmatch</span><span class="op" id="7499891">(</span><span class="ident" id="7499892">test</span><span class="op" id="7499896">.</span><span class="ident" id="7499897">text</span><span class="op" id="7499901">,</span>&nbsp;<span class="op" id="7499903">-</span><span class="num" id="7499904">1</span><span class="op" id="7499905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499909">switch</span>&nbsp;<span class="op" id="7499916">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499920">case</span>&nbsp;<span class="ident" id="7499925">test</span><span class="op" id="7499929">.</span><span class="ident" id="7499930">matches</span>&nbsp;<span class="op" id="7499938">==</span>&nbsp;<span class="ident" id="7499941">nil</span>&nbsp;<span class="op" id="7499945">&amp;&amp;</span>&nbsp;<span class="ident" id="7499948">result</span>&nbsp;<span class="op" id="7499955">==</span>&nbsp;<span class="ident" id="7499958">nil</span><span class="op" id="7499961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7499966">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499974">case</span>&nbsp;<span class="ident" id="7499979">test</span><span class="op" id="7499983">.</span><span class="ident" id="7499984">matches</span>&nbsp;<span class="op" id="7499992">==</span>&nbsp;<span class="ident" id="7499995">nil</span>&nbsp;<span class="op" id="7499999">&amp;&amp;</span>&nbsp;<span class="ident" id="7500002">result</span>&nbsp;<span class="op" id="7500009">!=</span>&nbsp;<span class="ident" id="7500012">nil</span><span class="op" id="7500015">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500020">t</span><span class="op" id="7500021">.</span><span class="ident" id="7500022">Errorf</span><span class="op" id="7500028">(</span><span class="string" id="7500029">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7500061">,</span>&nbsp;<span class="ident" id="7500063">test</span><span class="op" id="7500067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500071">case</span>&nbsp;<span class="ident" id="7500076">test</span><span class="op" id="7500080">.</span><span class="ident" id="7500081">matches</span>&nbsp;<span class="op" id="7500089">!=</span>&nbsp;<span class="ident" id="7500092">nil</span>&nbsp;<span class="op" id="7500096">&amp;&amp;</span>&nbsp;<span class="ident" id="7500099">result</span>&nbsp;<span class="op" id="7500106">==</span>&nbsp;<span class="ident" id="7500109">nil</span><span class="op" id="7500112">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500117">t</span><span class="op" id="7500118">.</span><span class="ident" id="7500119">Errorf</span><span class="op" id="7500125">(</span><span class="string" id="7500126">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7500156">,</span>&nbsp;<span class="ident" id="7500158">test</span><span class="op" id="7500162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500166">case</span>&nbsp;<span class="builtinfunc" id="7500171">len</span><span class="op" id="7500174">(</span><span class="ident" id="7500175">test</span><span class="op" id="7500179">.</span><span class="ident" id="7500180">matches</span><span class="op" id="7500187">)</span>&nbsp;<span class="op" id="7500189">!=</span>&nbsp;<span class="builtinfunc" id="7500192">len</span><span class="op" id="7500195">(</span><span class="ident" id="7500196">result</span><span class="op" id="7500202">)</span><span class="op" id="7500203">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500208">t</span><span class="op" id="7500209">.</span><span class="ident" id="7500210">Errorf</span><span class="op" id="7500216">(</span><span class="string" id="7500217">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7500250">,</span>&nbsp;<span class="builtinfunc" id="7500252">len</span><span class="op" id="7500255">(</span><span class="ident" id="7500256">test</span><span class="op" id="7500260">.</span><span class="ident" id="7500261">matches</span><span class="op" id="7500268">)</span><span class="op" id="7500269">,</span>&nbsp;<span class="builtinfunc" id="7500271">len</span><span class="op" id="7500274">(</span><span class="ident" id="7500275">result</span><span class="op" id="7500281">)</span><span class="op" id="7500282">,</span>&nbsp;<span class="ident" id="7500284">test</span><span class="op" id="7500288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500292">case</span>&nbsp;<span class="ident" id="7500297">test</span><span class="op" id="7500301">.</span><span class="ident" id="7500302">matches</span>&nbsp;<span class="op" id="7500310">!=</span>&nbsp;<span class="ident" id="7500313">nil</span>&nbsp;<span class="op" id="7500317">&amp;&amp;</span>&nbsp;<span class="ident" id="7500320">result</span>&nbsp;<span class="op" id="7500327">!=</span>&nbsp;<span class="ident" id="7500330">nil</span><span class="op" id="7500333">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500338">for</span>&nbsp;<span class="ident" id="7500342">k</span><span class="op" id="7500343">,</span>&nbsp;<span class="ident" id="7500345">match</span>&nbsp;<span class="op" id="7500351">:=</span>&nbsp;<span class="keyword" id="7500354">range</span>&nbsp;<span class="ident" id="7500360">test</span><span class="op" id="7500364">.</span><span class="ident" id="7500365">matches</span>&nbsp;<span class="op" id="7500373">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500379">testSubmatchString</span><span class="op" id="7500397">(</span><span class="op" id="7500398">&amp;</span><span class="ident" id="7500399">test</span><span class="op" id="7500403">,</span>&nbsp;<span class="ident" id="7500405">k</span><span class="op" id="7500406">,</span>&nbsp;<span class="ident" id="7500408">match</span><span class="op" id="7500413">,</span>&nbsp;<span class="ident" id="7500415">result</span><span class="op" id="7500421">[</span><span class="ident" id="7500422">k</span><span class="op" id="7500423">]</span><span class="op" id="7500424">,</span>&nbsp;<span class="ident" id="7500426">t</span><span class="op" id="7500427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500439">}</span><br>
<span class="lineno"></span><span class="op" id="7500441">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="7500444">func</span>&nbsp;<span class="ident" id="7500449">testFindAllSubmatchIndex</span><span class="op" id="7500473">(</span><span class="ident" id="7500474">test</span>&nbsp;<span class="op" id="7500479">*</span><span class="ident" id="7500480">FindTest</span><span class="op" id="7500488">,</span>&nbsp;<span class="ident" id="7500490">result</span>&nbsp;<span class="op" id="7500497">[</span><span class="op" id="7500498">]</span><span class="op" id="7500499">[</span><span class="op" id="7500500">]</span><span class="builtintype" id="7500501">int</span><span class="op" id="7500504">,</span>&nbsp;<span class="ident" id="7500506">t</span>&nbsp;<span class="op" id="7500508">*</span><span class="ident" id="7500509">testing</span><span class="op" id="7500516">.</span><span class="ident" id="7500517">T</span><span class="op" id="7500518">)</span>&nbsp;<span class="op" id="7500520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500523">switch</span>&nbsp;<span class="op" id="7500530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500533">case</span>&nbsp;<span class="ident" id="7500538">test</span><span class="op" id="7500542">.</span><span class="ident" id="7500543">matches</span>&nbsp;<span class="op" id="7500551">==</span>&nbsp;<span class="ident" id="7500554">nil</span>&nbsp;<span class="op" id="7500558">&amp;&amp;</span>&nbsp;<span class="ident" id="7500561">result</span>&nbsp;<span class="op" id="7500568">==</span>&nbsp;<span class="ident" id="7500571">nil</span><span class="op" id="7500574">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7500578">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500585">case</span>&nbsp;<span class="ident" id="7500590">test</span><span class="op" id="7500594">.</span><span class="ident" id="7500595">matches</span>&nbsp;<span class="op" id="7500603">==</span>&nbsp;<span class="ident" id="7500606">nil</span>&nbsp;<span class="op" id="7500610">&amp;&amp;</span>&nbsp;<span class="ident" id="7500613">result</span>&nbsp;<span class="op" id="7500620">!=</span>&nbsp;<span class="ident" id="7500623">nil</span><span class="op" id="7500626">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500630">t</span><span class="op" id="7500631">.</span><span class="ident" id="7500632">Errorf</span><span class="op" id="7500638">(</span><span class="string" id="7500639">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7500671">,</span>&nbsp;<span class="ident" id="7500673">test</span><span class="op" id="7500677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500680">case</span>&nbsp;<span class="ident" id="7500685">test</span><span class="op" id="7500689">.</span><span class="ident" id="7500690">matches</span>&nbsp;<span class="op" id="7500698">!=</span>&nbsp;<span class="ident" id="7500701">nil</span>&nbsp;<span class="op" id="7500705">&amp;&amp;</span>&nbsp;<span class="ident" id="7500708">result</span>&nbsp;<span class="op" id="7500715">==</span>&nbsp;<span class="ident" id="7500718">nil</span><span class="op" id="7500721">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500725">t</span><span class="op" id="7500726">.</span><span class="ident" id="7500727">Errorf</span><span class="op" id="7500733">(</span><span class="string" id="7500734">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7500764">,</span>&nbsp;<span class="ident" id="7500766">test</span><span class="op" id="7500770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500773">case</span>&nbsp;<span class="builtinfunc" id="7500778">len</span><span class="op" id="7500781">(</span><span class="ident" id="7500782">test</span><span class="op" id="7500786">.</span><span class="ident" id="7500787">matches</span><span class="op" id="7500794">)</span>&nbsp;<span class="op" id="7500796">!=</span>&nbsp;<span class="builtinfunc" id="7500799">len</span><span class="op" id="7500802">(</span><span class="ident" id="7500803">result</span><span class="op" id="7500809">)</span><span class="op" id="7500810">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500814">t</span><span class="op" id="7500815">.</span><span class="ident" id="7500816">Errorf</span><span class="op" id="7500822">(</span><span class="string" id="7500823">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7500856">,</span>&nbsp;<span class="builtinfunc" id="7500858">len</span><span class="op" id="7500861">(</span><span class="ident" id="7500862">test</span><span class="op" id="7500866">.</span><span class="ident" id="7500867">matches</span><span class="op" id="7500874">)</span><span class="op" id="7500875">,</span>&nbsp;<span class="builtinfunc" id="7500877">len</span><span class="op" id="7500880">(</span><span class="ident" id="7500881">result</span><span class="op" id="7500887">)</span><span class="op" id="7500888">,</span>&nbsp;<span class="ident" id="7500890">test</span><span class="op" id="7500894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500897">case</span>&nbsp;<span class="ident" id="7500902">test</span><span class="op" id="7500906">.</span><span class="ident" id="7500907">matches</span>&nbsp;<span class="op" id="7500915">!=</span>&nbsp;<span class="ident" id="7500918">nil</span>&nbsp;<span class="op" id="7500922">&amp;&amp;</span>&nbsp;<span class="ident" id="7500925">result</span>&nbsp;<span class="op" id="7500932">!=</span>&nbsp;<span class="ident" id="7500935">nil</span><span class="op" id="7500938">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500942">for</span>&nbsp;<span class="ident" id="7500946">k</span><span class="op" id="7500947">,</span>&nbsp;<span class="ident" id="7500949">match</span>&nbsp;<span class="op" id="7500955">:=</span>&nbsp;<span class="keyword" id="7500958">range</span>&nbsp;<span class="ident" id="7500964">test</span><span class="op" id="7500968">.</span><span class="ident" id="7500969">matches</span>&nbsp;<span class="op" id="7500977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500982">testSubmatchIndices</span><span class="op" id="7501001">(</span><span class="ident" id="7501002">test</span><span class="op" id="7501006">,</span>&nbsp;<span class="ident" id="7501008">k</span><span class="op" id="7501009">,</span>&nbsp;<span class="ident" id="7501011">match</span><span class="op" id="7501016">,</span>&nbsp;<span class="ident" id="7501018">result</span><span class="op" id="7501024">[</span><span class="ident" id="7501025">k</span><span class="op" id="7501026">]</span><span class="op" id="7501027">,</span>&nbsp;<span class="ident" id="7501029">t</span><span class="op" id="7501030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501034">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501037">}</span><br>
<span class="lineno"></span><span class="op" id="7501039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7501042">func</span>&nbsp;<span class="ident" id="7501047">TestFindAllSubmatchIndex</span><span class="op" id="7501071">(</span><span class="ident" id="7501072">t</span>&nbsp;<span class="op" id="7501074">*</span><span class="ident" id="7501075">testing</span><span class="op" id="7501082">.</span><span class="ident" id="7501083">T</span><span class="op" id="7501084">)</span>&nbsp;<span class="op" id="7501086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7501089">for</span>&nbsp;<span class="ident" id="7501093">_</span><span class="op" id="7501094">,</span>&nbsp;<span class="ident" id="7501096">test</span>&nbsp;<span class="op" id="7501101">:=</span>&nbsp;<span class="keyword" id="7501104">range</span>&nbsp;<span class="ident" id="7501110">findTests</span>&nbsp;<span class="op" id="7501120">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501124">testFindAllSubmatchIndex</span><span class="op" id="7501148">(</span><span class="op" id="7501149">&amp;</span><span class="ident" id="7501150">test</span><span class="op" id="7501154">,</span>&nbsp;<span class="ident" id="7501156">MustCompile</span><span class="op" id="7501167">(</span><span class="ident" id="7501168">test</span><span class="op" id="7501172">.</span><span class="ident" id="7501173">pat</span><span class="op" id="7501176">)</span><span class="op" id="7501177">.</span><span class="ident" id="7501178">FindAllSubmatchIndex</span><span class="op" id="7501198">(</span><span class="op" id="7501199">[</span><span class="op" id="7501200">]</span><span class="builtintype" id="7501201">byte</span><span class="op" id="7501205">(</span><span class="ident" id="7501206">test</span><span class="op" id="7501210">.</span><span class="ident" id="7501211">text</span><span class="op" id="7501215">)</span><span class="op" id="7501216">,</span>&nbsp;<span class="op" id="7501218">-</span><span class="num" id="7501219">1</span><span class="op" id="7501220">)</span><span class="op" id="7501221">,</span>&nbsp;<span class="ident" id="7501223">t</span><span class="op" id="7501224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501227">}</span><br>
<span class="lineno"></span><span class="op" id="7501229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7501232">func</span>&nbsp;<span class="ident" id="7501237">TestFindAllStringSubmatchIndex</span><span class="op" id="7501267">(</span><span class="ident" id="7501268">t</span>&nbsp;<span class="op" id="7501270">*</span><span class="ident" id="7501271">testing</span><span class="op" id="7501278">.</span><span class="ident" id="7501279">T</span><span class="op" id="7501280">)</span>&nbsp;<span class="op" id="7501282">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7501285">for</span>&nbsp;<span class="ident" id="7501289">_</span><span class="op" id="7501290">,</span>&nbsp;<span class="ident" id="7501292">test</span>&nbsp;<span class="op" id="7501297">:=</span>&nbsp;<span class="keyword" id="7501300">range</span>&nbsp;<span class="ident" id="7501306">findTests</span>&nbsp;<span class="op" id="7501316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501320">testFindAllSubmatchIndex</span><span class="op" id="7501344">(</span><span class="op" id="7501345">&amp;</span><span class="ident" id="7501346">test</span><span class="op" id="7501350">,</span>&nbsp;<span class="ident" id="7501352">MustCompile</span><span class="op" id="7501363">(</span><span class="ident" id="7501364">test</span><span class="op" id="7501368">.</span><span class="ident" id="7501369">pat</span><span class="op" id="7501372">)</span><span class="op" id="7501373">.</span><span class="ident" id="7501374">FindAllStringSubmatchIndex</span><span class="op" id="7501400">(</span><span class="ident" id="7501401">test</span><span class="op" id="7501405">.</span><span class="ident" id="7501406">text</span><span class="op" id="7501410">,</span>&nbsp;<span class="op" id="7501412">-</span><span class="num" id="7501413">1</span><span class="op" id="7501414">)</span><span class="op" id="7501415">,</span>&nbsp;<span class="ident" id="7501417">t</span><span class="op" id="7501418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501421">}</span><br>
<span class="lineno"></span><span class="op" id="7501423">}</span>
</div>
</body>
</html>
