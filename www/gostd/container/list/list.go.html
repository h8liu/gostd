<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>container/list</h2>
<ul>
<li><a href="/gostd/container/list/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/container/list/list.go.html" class="current">list.go</a></li>
<li><a href="/gostd/container/list/list_test.go.html">list_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4633885">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4633940">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4633994">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4634045">//&nbsp;Package&nbsp;list&nbsp;implements&nbsp;a&nbsp;doubly&nbsp;linked&nbsp;list.</span><br>
<span class="lineno"></span><span class="comment" id="4634094">//</span><br>
<span class="lineno"></span><span class="comment" id="4634097">//&nbsp;To&nbsp;iterate&nbsp;over&nbsp;a&nbsp;list&nbsp;(where&nbsp;l&nbsp;is&nbsp;a&nbsp;*List):</span><br>
<span class="lineno"></span><span class="comment" id="4634145">//&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;e&nbsp;:=&nbsp;l.Front();&nbsp;e&nbsp;!=&nbsp;nil;&nbsp;e&nbsp;=&nbsp;e.Next()&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="4634193">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;do&nbsp;something&nbsp;with&nbsp;e.Value</span><br>
<span class="lineno">10</span><span class="comment" id="4634226">//&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="lineno"></span><span class="comment" id="4634231">//</span><br>
<span class="lineno"></span><span class="keyword" id="4634234">package</span>&nbsp;<span class="ident" id="4634242">list</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4634248">//&nbsp;Element&nbsp;is&nbsp;an&nbsp;element&nbsp;of&nbsp;a&nbsp;linked&nbsp;list.</span><br>
<span class="lineno">15</span><span class="keyword" id="4634291">type</span>&nbsp;<span class="ident" id="4634296">Element</span>&nbsp;<span class="keyword" id="4634304">struct</span>&nbsp;<span class="op" id="4634311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4634314">//&nbsp;Next&nbsp;and&nbsp;previous&nbsp;pointers&nbsp;in&nbsp;the&nbsp;doubly-linked&nbsp;list&nbsp;of&nbsp;elements.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4634384">//&nbsp;To&nbsp;simplify&nbsp;the&nbsp;implementation,&nbsp;internally&nbsp;a&nbsp;list&nbsp;l&nbsp;is&nbsp;implemented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4634455">//&nbsp;as&nbsp;a&nbsp;ring,&nbsp;such&nbsp;that&nbsp;&amp;l.root&nbsp;is&nbsp;both&nbsp;the&nbsp;next&nbsp;element&nbsp;of&nbsp;the&nbsp;last</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4634525">//&nbsp;list&nbsp;element&nbsp;(l.Back())&nbsp;and&nbsp;the&nbsp;previous&nbsp;element&nbsp;of&nbsp;the&nbsp;first&nbsp;list</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4634596">//&nbsp;element&nbsp;(l.Front()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4634621">next</span><span class="op" id="4634625">,</span>&nbsp;<span class="ident" id="4634627">prev</span>&nbsp;<span class="op" id="4634632">*</span><span class="ident" id="4634633">Element</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4634643">//&nbsp;The&nbsp;list&nbsp;to&nbsp;which&nbsp;this&nbsp;element&nbsp;belongs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4634687">list</span>&nbsp;<span class="op" id="4634692">*</span><span class="ident" id="4634693">List</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4634700">//&nbsp;The&nbsp;value&nbsp;stored&nbsp;with&nbsp;this&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4634740">Value</span>&nbsp;<span class="keyword" id="4634746">interface</span><span class="op" id="4634755">{</span><span class="op" id="4634756">}</span><br>
<span class="lineno"></span><span class="op" id="4634758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="4634761">//&nbsp;Next&nbsp;returns&nbsp;the&nbsp;next&nbsp;list&nbsp;element&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4634807">func</span>&nbsp;<span class="op" id="4634812">(</span><span class="ident" id="4634813">e</span>&nbsp;<span class="op" id="4634815">*</span><span class="ident" id="4634816">Element</span><span class="op" id="4634823">)</span>&nbsp;<span class="ident" id="4634825">Next</span><span class="op" id="4634829">(</span><span class="op" id="4634830">)</span>&nbsp;<span class="op" id="4634832">*</span><span class="ident" id="4634833">Element</span>&nbsp;<span class="op" id="4634841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4634844">if</span>&nbsp;<span class="ident" id="4634847">p</span>&nbsp;<span class="op" id="4634849">:=</span>&nbsp;<span class="ident" id="4634852">e</span><span class="op" id="4634853">.</span><span class="ident" id="4634854">next</span><span class="op" id="4634858">;</span>&nbsp;<span class="ident" id="4634860">e</span><span class="op" id="4634861">.</span><span class="ident" id="4634862">list</span>&nbsp;<span class="op" id="4634867">!=</span>&nbsp;<span class="builtintype" id="4634870">nil</span>&nbsp;<span class="op" id="4634874">&amp;&amp;</span>&nbsp;<span class="ident" id="4634877">p</span>&nbsp;<span class="op" id="4634879">!=</span>&nbsp;<span class="op" id="4634882">&amp;</span><span class="ident" id="4634883">e</span><span class="op" id="4634884">.</span><span class="ident" id="4634885">list</span><span class="op" id="4634889">.</span><span class="ident" id="4634890">root</span>&nbsp;<span class="op" id="4634895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4634899">return</span>&nbsp;<span class="ident" id="4634906">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4634909">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4634912">return</span>&nbsp;<span class="builtintype" id="4634919">nil</span><br>
<span class="lineno"></span><span class="op" id="4634923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4634926">//&nbsp;Prev&nbsp;returns&nbsp;the&nbsp;previous&nbsp;list&nbsp;element&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4634976">func</span>&nbsp;<span class="op" id="4634981">(</span><span class="ident" id="4634982">e</span>&nbsp;<span class="op" id="4634984">*</span><span class="ident" id="4634985">Element</span><span class="op" id="4634992">)</span>&nbsp;<span class="ident" id="4634994">Prev</span><span class="op" id="4634998">(</span><span class="op" id="4634999">)</span>&nbsp;<span class="op" id="4635001">*</span><span class="ident" id="4635002">Element</span>&nbsp;<span class="op" id="4635010">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4635013">if</span>&nbsp;<span class="ident" id="4635016">p</span>&nbsp;<span class="op" id="4635018">:=</span>&nbsp;<span class="ident" id="4635021">e</span><span class="op" id="4635022">.</span><span class="ident" id="4635023">prev</span><span class="op" id="4635027">;</span>&nbsp;<span class="ident" id="4635029">e</span><span class="op" id="4635030">.</span><span class="ident" id="4635031">list</span>&nbsp;<span class="op" id="4635036">!=</span>&nbsp;<span class="builtintype" id="4635039">nil</span>&nbsp;<span class="op" id="4635043">&amp;&amp;</span>&nbsp;<span class="ident" id="4635046">p</span>&nbsp;<span class="op" id="4635048">!=</span>&nbsp;<span class="op" id="4635051">&amp;</span><span class="ident" id="4635052">e</span><span class="op" id="4635053">.</span><span class="ident" id="4635054">list</span><span class="op" id="4635058">.</span><span class="ident" id="4635059">root</span>&nbsp;<span class="op" id="4635064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4635068">return</span>&nbsp;<span class="ident" id="4635075">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4635078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4635081">return</span>&nbsp;<span class="builtintype" id="4635088">nil</span><br>
<span class="lineno"></span><span class="op" id="4635092">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="4635095">//&nbsp;List&nbsp;represents&nbsp;a&nbsp;doubly&nbsp;linked&nbsp;list.</span><br>
<span class="lineno"></span><span class="comment" id="4635136">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;List&nbsp;is&nbsp;an&nbsp;empty&nbsp;list&nbsp;ready&nbsp;to&nbsp;use.</span><br>
<span class="lineno"></span><span class="keyword" id="4635194">type</span>&nbsp;<span class="ident" id="4635199">List</span>&nbsp;<span class="keyword" id="4635204">struct</span>&nbsp;<span class="op" id="4635211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4635214">root</span>&nbsp;<span class="ident" id="4635219">Element</span>&nbsp;<span class="comment" id="4635227">//&nbsp;sentinel&nbsp;list&nbsp;element,&nbsp;only&nbsp;&amp;root,&nbsp;root.prev,&nbsp;and&nbsp;root.next&nbsp;are&nbsp;used</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4635300">len</span>&nbsp;&nbsp;<span class="builtintype" id="4635305">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4635313">//&nbsp;current&nbsp;list&nbsp;length&nbsp;excluding&nbsp;(this)&nbsp;sentinel&nbsp;element</span><br>
<span class="lineno"></span><span class="op" id="4635370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4635373">//&nbsp;Init&nbsp;initializes&nbsp;or&nbsp;clears&nbsp;list&nbsp;l.</span><br>
<span class="lineno"></span><span class="keyword" id="4635411">func</span>&nbsp;<span class="op" id="4635416">(</span><span class="ident" id="4635417">l</span>&nbsp;<span class="op" id="4635419">*</span><span class="ident" id="4635420">List</span><span class="op" id="4635424">)</span>&nbsp;<span class="ident" id="4635426">Init</span><span class="op" id="4635430">(</span><span class="op" id="4635431">)</span>&nbsp;<span class="op" id="4635433">*</span><span class="ident" id="4635434">List</span>&nbsp;<span class="op" id="4635439">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4635442">l</span><span class="op" id="4635443">.</span><span class="ident" id="4635444">root</span><span class="op" id="4635448">.</span><span class="ident" id="4635449">next</span>&nbsp;<span class="op" id="4635454">=</span>&nbsp;<span class="op" id="4635456">&amp;</span><span class="ident" id="4635457">l</span><span class="op" id="4635458">.</span><span class="ident" id="4635459">root</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4635465">l</span><span class="op" id="4635466">.</span><span class="ident" id="4635467">root</span><span class="op" id="4635471">.</span><span class="ident" id="4635472">prev</span>&nbsp;<span class="op" id="4635477">=</span>&nbsp;<span class="op" id="4635479">&amp;</span><span class="ident" id="4635480">l</span><span class="op" id="4635481">.</span><span class="ident" id="4635482">root</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4635488">l</span><span class="op" id="4635489">.</span><span class="builtinfunc" id="4635490">len</span>&nbsp;<span class="op" id="4635494">=</span>&nbsp;<span class="num" id="4635496">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4635499">return</span>&nbsp;<span class="ident" id="4635506">l</span><br>
<span class="lineno"></span><span class="op" id="4635508">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4635511">//&nbsp;New&nbsp;returns&nbsp;an&nbsp;initialized&nbsp;list.</span><br>
<span class="lineno"></span><span class="keyword" id="4635547">func</span>&nbsp;<span class="ident" id="4635552">New</span><span class="op" id="4635555">(</span><span class="op" id="4635556">)</span>&nbsp;<span class="op" id="4635558">*</span><span class="ident" id="4635559">List</span>&nbsp;<span class="op" id="4635564">{</span>&nbsp;<span class="keyword" id="4635566">return</span>&nbsp;<span class="builtinfunc" id="4635573">new</span><span class="op" id="4635576">(</span><span class="ident" id="4635577">List</span><span class="op" id="4635581">)</span><span class="op" id="4635582">.</span><span class="ident" id="4635583">Init</span><span class="op" id="4635587">(</span><span class="op" id="4635588">)</span>&nbsp;<span class="op" id="4635590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4635593">//&nbsp;Len&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;elements&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno">65</span><span class="comment" id="4635642">//&nbsp;The&nbsp;complexity&nbsp;is&nbsp;O(1).</span><br>
<span class="lineno"></span><span class="keyword" id="4635669">func</span>&nbsp;<span class="op" id="4635674">(</span><span class="ident" id="4635675">l</span>&nbsp;<span class="op" id="4635677">*</span><span class="ident" id="4635678">List</span><span class="op" id="4635682">)</span>&nbsp;<span class="ident" id="4635684">Len</span><span class="op" id="4635687">(</span><span class="op" id="4635688">)</span>&nbsp;<span class="builtintype" id="4635690">int</span>&nbsp;<span class="op" id="4635694">{</span>&nbsp;<span class="keyword" id="4635696">return</span>&nbsp;<span class="ident" id="4635703">l</span><span class="op" id="4635704">.</span><span class="builtinfunc" id="4635705">len</span>&nbsp;<span class="op" id="4635709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4635712">//&nbsp;Front&nbsp;returns&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;list&nbsp;l&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4635765">func</span>&nbsp;<span class="op" id="4635770">(</span><span class="ident" id="4635771">l</span>&nbsp;<span class="op" id="4635773">*</span><span class="ident" id="4635774">List</span><span class="op" id="4635778">)</span>&nbsp;<span class="ident" id="4635780">Front</span><span class="op" id="4635785">(</span><span class="op" id="4635786">)</span>&nbsp;<span class="op" id="4635788">*</span><span class="ident" id="4635789">Element</span>&nbsp;<span class="op" id="4635797">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4635800">if</span>&nbsp;<span class="ident" id="4635803">l</span><span class="op" id="4635804">.</span><span class="builtinfunc" id="4635805">len</span>&nbsp;<span class="op" id="4635809">==</span>&nbsp;<span class="num" id="4635812">0</span>&nbsp;<span class="op" id="4635814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4635818">return</span>&nbsp;<span class="builtintype" id="4635825">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4635830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4635833">return</span>&nbsp;<span class="ident" id="4635840">l</span><span class="op" id="4635841">.</span><span class="ident" id="4635842">root</span><span class="op" id="4635846">.</span><span class="ident" id="4635847">next</span><br>
<span class="lineno"></span><span class="op" id="4635852">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="4635855">//&nbsp;Back&nbsp;returns&nbsp;the&nbsp;last&nbsp;element&nbsp;of&nbsp;list&nbsp;l&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4635906">func</span>&nbsp;<span class="op" id="4635911">(</span><span class="ident" id="4635912">l</span>&nbsp;<span class="op" id="4635914">*</span><span class="ident" id="4635915">List</span><span class="op" id="4635919">)</span>&nbsp;<span class="ident" id="4635921">Back</span><span class="op" id="4635925">(</span><span class="op" id="4635926">)</span>&nbsp;<span class="op" id="4635928">*</span><span class="ident" id="4635929">Element</span>&nbsp;<span class="op" id="4635937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4635940">if</span>&nbsp;<span class="ident" id="4635943">l</span><span class="op" id="4635944">.</span><span class="builtinfunc" id="4635945">len</span>&nbsp;<span class="op" id="4635949">==</span>&nbsp;<span class="num" id="4635952">0</span>&nbsp;<span class="op" id="4635954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4635958">return</span>&nbsp;<span class="builtintype" id="4635965">nil</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4635970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4635973">return</span>&nbsp;<span class="ident" id="4635980">l</span><span class="op" id="4635981">.</span><span class="ident" id="4635982">root</span><span class="op" id="4635986">.</span><span class="ident" id="4635987">prev</span><br>
<span class="lineno"></span><span class="op" id="4635992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4635995">//&nbsp;lazyInit&nbsp;lazily&nbsp;initializes&nbsp;a&nbsp;zero&nbsp;List&nbsp;value.</span><br>
<span class="lineno">85</span><span class="keyword" id="4636045">func</span>&nbsp;<span class="op" id="4636050">(</span><span class="ident" id="4636051">l</span>&nbsp;<span class="op" id="4636053">*</span><span class="ident" id="4636054">List</span><span class="op" id="4636058">)</span>&nbsp;<span class="ident" id="4636060">lazyInit</span><span class="op" id="4636068">(</span><span class="op" id="4636069">)</span>&nbsp;<span class="op" id="4636071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4636074">if</span>&nbsp;<span class="ident" id="4636077">l</span><span class="op" id="4636078">.</span><span class="ident" id="4636079">root</span><span class="op" id="4636083">.</span><span class="ident" id="4636084">next</span>&nbsp;<span class="op" id="4636089">==</span>&nbsp;<span class="builtintype" id="4636092">nil</span>&nbsp;<span class="op" id="4636096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636100">l</span><span class="op" id="4636101">.</span><span class="ident" id="4636102">Init</span><span class="op" id="4636106">(</span><span class="op" id="4636107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4636110">}</span><br>
<span class="lineno"></span><span class="op" id="4636112">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="4636115">//&nbsp;insert&nbsp;inserts&nbsp;e&nbsp;after&nbsp;at,&nbsp;increments&nbsp;l.len,&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="keyword" id="4636178">func</span>&nbsp;<span class="op" id="4636183">(</span><span class="ident" id="4636184">l</span>&nbsp;<span class="op" id="4636186">*</span><span class="ident" id="4636187">List</span><span class="op" id="4636191">)</span>&nbsp;<span class="ident" id="4636193">insert</span><span class="op" id="4636199">(</span><span class="ident" id="4636200">e</span><span class="op" id="4636201">,</span>&nbsp;<span class="ident" id="4636203">at</span>&nbsp;<span class="op" id="4636206">*</span><span class="ident" id="4636207">Element</span><span class="op" id="4636214">)</span>&nbsp;<span class="op" id="4636216">*</span><span class="ident" id="4636217">Element</span>&nbsp;<span class="op" id="4636225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636228">n</span>&nbsp;<span class="op" id="4636230">:=</span>&nbsp;<span class="ident" id="4636233">at</span><span class="op" id="4636235">.</span><span class="ident" id="4636236">next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636242">at</span><span class="op" id="4636244">.</span><span class="ident" id="4636245">next</span>&nbsp;<span class="op" id="4636250">=</span>&nbsp;<span class="ident" id="4636252">e</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636255">e</span><span class="op" id="4636256">.</span><span class="ident" id="4636257">prev</span>&nbsp;<span class="op" id="4636262">=</span>&nbsp;<span class="ident" id="4636264">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636268">e</span><span class="op" id="4636269">.</span><span class="ident" id="4636270">next</span>&nbsp;<span class="op" id="4636275">=</span>&nbsp;<span class="ident" id="4636277">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636280">n</span><span class="op" id="4636281">.</span><span class="ident" id="4636282">prev</span>&nbsp;<span class="op" id="4636287">=</span>&nbsp;<span class="ident" id="4636289">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636292">e</span><span class="op" id="4636293">.</span><span class="ident" id="4636294">list</span>&nbsp;<span class="op" id="4636299">=</span>&nbsp;<span class="ident" id="4636301">l</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636304">l</span><span class="op" id="4636305">.</span><span class="builtinfunc" id="4636306">len</span><span class="op" id="4636309">++</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4636313">return</span>&nbsp;<span class="ident" id="4636320">e</span><br>
<span class="lineno"></span><span class="op" id="4636322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4636325">//&nbsp;insertValue&nbsp;is&nbsp;a&nbsp;convenience&nbsp;wrapper&nbsp;for&nbsp;insert(&amp;Element{Value:&nbsp;v},&nbsp;at).</span><br>
<span class="lineno"></span><span class="keyword" id="4636401">func</span>&nbsp;<span class="op" id="4636406">(</span><span class="ident" id="4636407">l</span>&nbsp;<span class="op" id="4636409">*</span><span class="ident" id="4636410">List</span><span class="op" id="4636414">)</span>&nbsp;<span class="ident" id="4636416">insertValue</span><span class="op" id="4636427">(</span><span class="ident" id="4636428">v</span>&nbsp;<span class="keyword" id="4636430">interface</span><span class="op" id="4636439">{</span><span class="op" id="4636440">}</span><span class="op" id="4636441">,</span>&nbsp;<span class="ident" id="4636443">at</span>&nbsp;<span class="op" id="4636446">*</span><span class="ident" id="4636447">Element</span><span class="op" id="4636454">)</span>&nbsp;<span class="op" id="4636456">*</span><span class="ident" id="4636457">Element</span>&nbsp;<span class="op" id="4636465">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4636468">return</span>&nbsp;<span class="ident" id="4636475">l</span><span class="op" id="4636476">.</span><span class="ident" id="4636477">insert</span><span class="op" id="4636483">(</span><span class="op" id="4636484">&amp;</span><span class="ident" id="4636485">Element</span><span class="op" id="4636492">{</span><span class="ident" id="4636493">Value</span><span class="op" id="4636498">:</span>&nbsp;<span class="ident" id="4636500">v</span><span class="op" id="4636501">}</span><span class="op" id="4636502">,</span>&nbsp;<span class="ident" id="4636504">at</span><span class="op" id="4636506">)</span><br>
<span class="lineno"></span><span class="op" id="4636508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4636511">//&nbsp;remove&nbsp;removes&nbsp;e&nbsp;from&nbsp;its&nbsp;list,&nbsp;decrements&nbsp;l.len,&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="keyword" id="4636579">func</span>&nbsp;<span class="op" id="4636584">(</span><span class="ident" id="4636585">l</span>&nbsp;<span class="op" id="4636587">*</span><span class="ident" id="4636588">List</span><span class="op" id="4636592">)</span>&nbsp;<span class="ident" id="4636594">remove</span><span class="op" id="4636600">(</span><span class="ident" id="4636601">e</span>&nbsp;<span class="op" id="4636603">*</span><span class="ident" id="4636604">Element</span><span class="op" id="4636611">)</span>&nbsp;<span class="op" id="4636613">*</span><span class="ident" id="4636614">Element</span>&nbsp;<span class="op" id="4636622">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636625">e</span><span class="op" id="4636626">.</span><span class="ident" id="4636627">prev</span><span class="op" id="4636631">.</span><span class="ident" id="4636632">next</span>&nbsp;<span class="op" id="4636637">=</span>&nbsp;<span class="ident" id="4636639">e</span><span class="op" id="4636640">.</span><span class="ident" id="4636641">next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636647">e</span><span class="op" id="4636648">.</span><span class="ident" id="4636649">next</span><span class="op" id="4636653">.</span><span class="ident" id="4636654">prev</span>&nbsp;<span class="op" id="4636659">=</span>&nbsp;<span class="ident" id="4636661">e</span><span class="op" id="4636662">.</span><span class="ident" id="4636663">prev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636669">e</span><span class="op" id="4636670">.</span><span class="ident" id="4636671">next</span>&nbsp;<span class="op" id="4636676">=</span>&nbsp;<span class="builtintype" id="4636678">nil</span>&nbsp;<span class="comment" id="4636682">//&nbsp;avoid&nbsp;memory&nbsp;leaks</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636705">e</span><span class="op" id="4636706">.</span><span class="ident" id="4636707">prev</span>&nbsp;<span class="op" id="4636712">=</span>&nbsp;<span class="builtintype" id="4636714">nil</span>&nbsp;<span class="comment" id="4636718">//&nbsp;avoid&nbsp;memory&nbsp;leaks</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636741">e</span><span class="op" id="4636742">.</span><span class="ident" id="4636743">list</span>&nbsp;<span class="op" id="4636748">=</span>&nbsp;<span class="builtintype" id="4636750">nil</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4636755">l</span><span class="op" id="4636756">.</span><span class="builtinfunc" id="4636757">len</span><span class="op" id="4636760">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4636764">return</span>&nbsp;<span class="ident" id="4636771">e</span><br>
<span class="lineno"></span><span class="op" id="4636773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4636776">//&nbsp;Remove&nbsp;removes&nbsp;e&nbsp;from&nbsp;l&nbsp;if&nbsp;e&nbsp;is&nbsp;an&nbsp;element&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno">120</span><span class="comment" id="4636833">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;element&nbsp;value&nbsp;e.Value.</span><br>
<span class="lineno"></span><span class="keyword" id="4636874">func</span>&nbsp;<span class="op" id="4636879">(</span><span class="ident" id="4636880">l</span>&nbsp;<span class="op" id="4636882">*</span><span class="ident" id="4636883">List</span><span class="op" id="4636887">)</span>&nbsp;<span class="ident" id="4636889">Remove</span><span class="op" id="4636895">(</span><span class="ident" id="4636896">e</span>&nbsp;<span class="op" id="4636898">*</span><span class="ident" id="4636899">Element</span><span class="op" id="4636906">)</span>&nbsp;<span class="keyword" id="4636908">interface</span><span class="op" id="4636917">{</span><span class="op" id="4636918">}</span>&nbsp;<span class="op" id="4636920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4636923">if</span>&nbsp;<span class="ident" id="4636926">e</span><span class="op" id="4636927">.</span><span class="ident" id="4636928">list</span>&nbsp;<span class="op" id="4636933">==</span>&nbsp;<span class="ident" id="4636936">l</span>&nbsp;<span class="op" id="4636938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4636942">//&nbsp;if&nbsp;e.list&nbsp;==&nbsp;l,&nbsp;l&nbsp;must&nbsp;have&nbsp;been&nbsp;initialized&nbsp;when&nbsp;e&nbsp;was&nbsp;inserted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4637012">//&nbsp;in&nbsp;l&nbsp;or&nbsp;l&nbsp;==&nbsp;nil&nbsp;(e&nbsp;is&nbsp;a&nbsp;zero&nbsp;Element)&nbsp;and&nbsp;l.remove&nbsp;will&nbsp;crash</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4637080">l</span><span class="op" id="4637081">.</span><span class="ident" id="4637082">remove</span><span class="op" id="4637088">(</span><span class="ident" id="4637089">e</span><span class="op" id="4637090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4637093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4637096">return</span>&nbsp;<span class="ident" id="4637103">e</span><span class="op" id="4637104">.</span><span class="ident" id="4637105">Value</span><br>
<span class="lineno"></span><span class="op" id="4637111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4637114">//&nbsp;PushFront&nbsp;inserts&nbsp;a&nbsp;new&nbsp;element&nbsp;e&nbsp;with&nbsp;value&nbsp;v&nbsp;at&nbsp;the&nbsp;front&nbsp;of&nbsp;list&nbsp;l&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="keyword" id="4637202">func</span>&nbsp;<span class="op" id="4637207">(</span><span class="ident" id="4637208">l</span>&nbsp;<span class="op" id="4637210">*</span><span class="ident" id="4637211">List</span><span class="op" id="4637215">)</span>&nbsp;<span class="ident" id="4637217">PushFront</span><span class="op" id="4637226">(</span><span class="ident" id="4637227">v</span>&nbsp;<span class="keyword" id="4637229">interface</span><span class="op" id="4637238">{</span><span class="op" id="4637239">}</span><span class="op" id="4637240">)</span>&nbsp;<span class="op" id="4637242">*</span><span class="ident" id="4637243">Element</span>&nbsp;<span class="op" id="4637251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4637254">l</span><span class="op" id="4637255">.</span><span class="ident" id="4637256">lazyInit</span><span class="op" id="4637264">(</span><span class="op" id="4637265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4637268">return</span>&nbsp;<span class="ident" id="4637275">l</span><span class="op" id="4637276">.</span><span class="ident" id="4637277">insertValue</span><span class="op" id="4637288">(</span><span class="ident" id="4637289">v</span><span class="op" id="4637290">,</span>&nbsp;<span class="op" id="4637292">&amp;</span><span class="ident" id="4637293">l</span><span class="op" id="4637294">.</span><span class="ident" id="4637295">root</span><span class="op" id="4637299">)</span><br>
<span class="lineno"></span><span class="op" id="4637301">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="comment" id="4637304">//&nbsp;PushBack&nbsp;inserts&nbsp;a&nbsp;new&nbsp;element&nbsp;e&nbsp;with&nbsp;value&nbsp;v&nbsp;at&nbsp;the&nbsp;back&nbsp;of&nbsp;list&nbsp;l&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="keyword" id="4637390">func</span>&nbsp;<span class="op" id="4637395">(</span><span class="ident" id="4637396">l</span>&nbsp;<span class="op" id="4637398">*</span><span class="ident" id="4637399">List</span><span class="op" id="4637403">)</span>&nbsp;<span class="ident" id="4637405">PushBack</span><span class="op" id="4637413">(</span><span class="ident" id="4637414">v</span>&nbsp;<span class="keyword" id="4637416">interface</span><span class="op" id="4637425">{</span><span class="op" id="4637426">}</span><span class="op" id="4637427">)</span>&nbsp;<span class="op" id="4637429">*</span><span class="ident" id="4637430">Element</span>&nbsp;<span class="op" id="4637438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4637441">l</span><span class="op" id="4637442">.</span><span class="ident" id="4637443">lazyInit</span><span class="op" id="4637451">(</span><span class="op" id="4637452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4637455">return</span>&nbsp;<span class="ident" id="4637462">l</span><span class="op" id="4637463">.</span><span class="ident" id="4637464">insertValue</span><span class="op" id="4637475">(</span><span class="ident" id="4637476">v</span><span class="op" id="4637477">,</span>&nbsp;<span class="ident" id="4637479">l</span><span class="op" id="4637480">.</span><span class="ident" id="4637481">root</span><span class="op" id="4637485">.</span><span class="ident" id="4637486">prev</span><span class="op" id="4637490">)</span><br>
<span class="lineno">140</span><span class="op" id="4637492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4637495">//&nbsp;InsertBefore&nbsp;inserts&nbsp;a&nbsp;new&nbsp;element&nbsp;e&nbsp;with&nbsp;value&nbsp;v&nbsp;immediately&nbsp;before&nbsp;mark&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="4637587">//&nbsp;If&nbsp;mark&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4637648">func</span>&nbsp;<span class="op" id="4637653">(</span><span class="ident" id="4637654">l</span>&nbsp;<span class="op" id="4637656">*</span><span class="ident" id="4637657">List</span><span class="op" id="4637661">)</span>&nbsp;<span class="ident" id="4637663">InsertBefore</span><span class="op" id="4637675">(</span><span class="ident" id="4637676">v</span>&nbsp;<span class="keyword" id="4637678">interface</span><span class="op" id="4637687">{</span><span class="op" id="4637688">}</span><span class="op" id="4637689">,</span>&nbsp;<span class="ident" id="4637691">mark</span>&nbsp;<span class="op" id="4637696">*</span><span class="ident" id="4637697">Element</span><span class="op" id="4637704">)</span>&nbsp;<span class="op" id="4637706">*</span><span class="ident" id="4637707">Element</span>&nbsp;<span class="op" id="4637715">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4637718">if</span>&nbsp;<span class="ident" id="4637721">mark</span><span class="op" id="4637725">.</span><span class="ident" id="4637726">list</span>&nbsp;<span class="op" id="4637731">!=</span>&nbsp;<span class="ident" id="4637734">l</span>&nbsp;<span class="op" id="4637736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4637740">return</span>&nbsp;<span class="builtintype" id="4637747">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4637752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4637755">//&nbsp;see&nbsp;comment&nbsp;in&nbsp;List.Remove&nbsp;about&nbsp;initialization&nbsp;of&nbsp;l</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4637812">return</span>&nbsp;<span class="ident" id="4637819">l</span><span class="op" id="4637820">.</span><span class="ident" id="4637821">insertValue</span><span class="op" id="4637832">(</span><span class="ident" id="4637833">v</span><span class="op" id="4637834">,</span>&nbsp;<span class="ident" id="4637836">mark</span><span class="op" id="4637840">.</span><span class="ident" id="4637841">prev</span><span class="op" id="4637845">)</span><br>
<span class="lineno">150</span><span class="op" id="4637847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4637850">//&nbsp;InsertAfter&nbsp;inserts&nbsp;a&nbsp;new&nbsp;element&nbsp;e&nbsp;with&nbsp;value&nbsp;v&nbsp;immediately&nbsp;after&nbsp;mark&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="4637940">//&nbsp;If&nbsp;mark&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4638001">func</span>&nbsp;<span class="op" id="4638006">(</span><span class="ident" id="4638007">l</span>&nbsp;<span class="op" id="4638009">*</span><span class="ident" id="4638010">List</span><span class="op" id="4638014">)</span>&nbsp;<span class="ident" id="4638016">InsertAfter</span><span class="op" id="4638027">(</span><span class="ident" id="4638028">v</span>&nbsp;<span class="keyword" id="4638030">interface</span><span class="op" id="4638039">{</span><span class="op" id="4638040">}</span><span class="op" id="4638041">,</span>&nbsp;<span class="ident" id="4638043">mark</span>&nbsp;<span class="op" id="4638048">*</span><span class="ident" id="4638049">Element</span><span class="op" id="4638056">)</span>&nbsp;<span class="op" id="4638058">*</span><span class="ident" id="4638059">Element</span>&nbsp;<span class="op" id="4638067">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4638070">if</span>&nbsp;<span class="ident" id="4638073">mark</span><span class="op" id="4638077">.</span><span class="ident" id="4638078">list</span>&nbsp;<span class="op" id="4638083">!=</span>&nbsp;<span class="ident" id="4638086">l</span>&nbsp;<span class="op" id="4638088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4638092">return</span>&nbsp;<span class="builtintype" id="4638099">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4638104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4638107">//&nbsp;see&nbsp;comment&nbsp;in&nbsp;List.Remove&nbsp;about&nbsp;initialization&nbsp;of&nbsp;l</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4638164">return</span>&nbsp;<span class="ident" id="4638171">l</span><span class="op" id="4638172">.</span><span class="ident" id="4638173">insertValue</span><span class="op" id="4638184">(</span><span class="ident" id="4638185">v</span><span class="op" id="4638186">,</span>&nbsp;<span class="ident" id="4638188">mark</span><span class="op" id="4638192">)</span><br>
<span class="lineno">160</span><span class="op" id="4638194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4638197">//&nbsp;MoveToFront&nbsp;moves&nbsp;element&nbsp;e&nbsp;to&nbsp;the&nbsp;front&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno"></span><span class="comment" id="4638252">//&nbsp;If&nbsp;e&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4638310">func</span>&nbsp;<span class="op" id="4638315">(</span><span class="ident" id="4638316">l</span>&nbsp;<span class="op" id="4638318">*</span><span class="ident" id="4638319">List</span><span class="op" id="4638323">)</span>&nbsp;<span class="ident" id="4638325">MoveToFront</span><span class="op" id="4638336">(</span><span class="ident" id="4638337">e</span>&nbsp;<span class="op" id="4638339">*</span><span class="ident" id="4638340">Element</span><span class="op" id="4638347">)</span>&nbsp;<span class="op" id="4638349">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4638352">if</span>&nbsp;<span class="ident" id="4638355">e</span><span class="op" id="4638356">.</span><span class="ident" id="4638357">list</span>&nbsp;<span class="op" id="4638362">!=</span>&nbsp;<span class="ident" id="4638365">l</span>&nbsp;<span class="op" id="4638367">||</span>&nbsp;<span class="ident" id="4638370">l</span><span class="op" id="4638371">.</span><span class="ident" id="4638372">root</span><span class="op" id="4638376">.</span><span class="ident" id="4638377">next</span>&nbsp;<span class="op" id="4638382">==</span>&nbsp;<span class="ident" id="4638385">e</span>&nbsp;<span class="op" id="4638387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4638391">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4638399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4638402">//&nbsp;see&nbsp;comment&nbsp;in&nbsp;List.Remove&nbsp;about&nbsp;initialization&nbsp;of&nbsp;l</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4638459">l</span><span class="op" id="4638460">.</span><span class="ident" id="4638461">insert</span><span class="op" id="4638467">(</span><span class="ident" id="4638468">l</span><span class="op" id="4638469">.</span><span class="ident" id="4638470">remove</span><span class="op" id="4638476">(</span><span class="ident" id="4638477">e</span><span class="op" id="4638478">)</span><span class="op" id="4638479">,</span>&nbsp;<span class="op" id="4638481">&amp;</span><span class="ident" id="4638482">l</span><span class="op" id="4638483">.</span><span class="ident" id="4638484">root</span><span class="op" id="4638488">)</span><br>
<span class="lineno">170</span><span class="op" id="4638490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4638493">//&nbsp;MoveToBack&nbsp;moves&nbsp;element&nbsp;e&nbsp;to&nbsp;the&nbsp;back&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno"></span><span class="comment" id="4638546">//&nbsp;If&nbsp;e&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4638604">func</span>&nbsp;<span class="op" id="4638609">(</span><span class="ident" id="4638610">l</span>&nbsp;<span class="op" id="4638612">*</span><span class="ident" id="4638613">List</span><span class="op" id="4638617">)</span>&nbsp;<span class="ident" id="4638619">MoveToBack</span><span class="op" id="4638629">(</span><span class="ident" id="4638630">e</span>&nbsp;<span class="op" id="4638632">*</span><span class="ident" id="4638633">Element</span><span class="op" id="4638640">)</span>&nbsp;<span class="op" id="4638642">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4638645">if</span>&nbsp;<span class="ident" id="4638648">e</span><span class="op" id="4638649">.</span><span class="ident" id="4638650">list</span>&nbsp;<span class="op" id="4638655">!=</span>&nbsp;<span class="ident" id="4638658">l</span>&nbsp;<span class="op" id="4638660">||</span>&nbsp;<span class="ident" id="4638663">l</span><span class="op" id="4638664">.</span><span class="ident" id="4638665">root</span><span class="op" id="4638669">.</span><span class="ident" id="4638670">prev</span>&nbsp;<span class="op" id="4638675">==</span>&nbsp;<span class="ident" id="4638678">e</span>&nbsp;<span class="op" id="4638680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4638684">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4638692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4638695">//&nbsp;see&nbsp;comment&nbsp;in&nbsp;List.Remove&nbsp;about&nbsp;initialization&nbsp;of&nbsp;l</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4638752">l</span><span class="op" id="4638753">.</span><span class="ident" id="4638754">insert</span><span class="op" id="4638760">(</span><span class="ident" id="4638761">l</span><span class="op" id="4638762">.</span><span class="ident" id="4638763">remove</span><span class="op" id="4638769">(</span><span class="ident" id="4638770">e</span><span class="op" id="4638771">)</span><span class="op" id="4638772">,</span>&nbsp;<span class="ident" id="4638774">l</span><span class="op" id="4638775">.</span><span class="ident" id="4638776">root</span><span class="op" id="4638780">.</span><span class="ident" id="4638781">prev</span><span class="op" id="4638785">)</span><br>
<span class="lineno">180</span><span class="op" id="4638787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4638790">//&nbsp;MoveBefore&nbsp;moves&nbsp;element&nbsp;e&nbsp;to&nbsp;its&nbsp;new&nbsp;position&nbsp;before&nbsp;mark.</span><br>
<span class="lineno"></span><span class="comment" id="4638853">//&nbsp;If&nbsp;e&nbsp;or&nbsp;mark&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;or&nbsp;e&nbsp;==&nbsp;mark,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4638933">func</span>&nbsp;<span class="op" id="4638938">(</span><span class="ident" id="4638939">l</span>&nbsp;<span class="op" id="4638941">*</span><span class="ident" id="4638942">List</span><span class="op" id="4638946">)</span>&nbsp;<span class="ident" id="4638948">MoveBefore</span><span class="op" id="4638958">(</span><span class="ident" id="4638959">e</span><span class="op" id="4638960">,</span>&nbsp;<span class="ident" id="4638962">mark</span>&nbsp;<span class="op" id="4638967">*</span><span class="ident" id="4638968">Element</span><span class="op" id="4638975">)</span>&nbsp;<span class="op" id="4638977">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4638980">if</span>&nbsp;<span class="ident" id="4638983">e</span><span class="op" id="4638984">.</span><span class="ident" id="4638985">list</span>&nbsp;<span class="op" id="4638990">!=</span>&nbsp;<span class="ident" id="4638993">l</span>&nbsp;<span class="op" id="4638995">||</span>&nbsp;<span class="ident" id="4638998">e</span>&nbsp;<span class="op" id="4639000">==</span>&nbsp;<span class="ident" id="4639003">mark</span>&nbsp;<span class="op" id="4639008">||</span>&nbsp;<span class="ident" id="4639011">mark</span><span class="op" id="4639015">.</span><span class="ident" id="4639016">list</span>&nbsp;<span class="op" id="4639021">!=</span>&nbsp;<span class="ident" id="4639024">l</span>&nbsp;<span class="op" id="4639026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4639030">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4639038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4639041">l</span><span class="op" id="4639042">.</span><span class="ident" id="4639043">insert</span><span class="op" id="4639049">(</span><span class="ident" id="4639050">l</span><span class="op" id="4639051">.</span><span class="ident" id="4639052">remove</span><span class="op" id="4639058">(</span><span class="ident" id="4639059">e</span><span class="op" id="4639060">)</span><span class="op" id="4639061">,</span>&nbsp;<span class="ident" id="4639063">mark</span><span class="op" id="4639067">.</span><span class="ident" id="4639068">prev</span><span class="op" id="4639072">)</span><br>
<span class="lineno"></span><span class="op" id="4639074">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="comment" id="4639077">//&nbsp;MoveAfter&nbsp;moves&nbsp;element&nbsp;e&nbsp;to&nbsp;its&nbsp;new&nbsp;position&nbsp;after&nbsp;mark.</span><br>
<span class="lineno"></span><span class="comment" id="4639138">//&nbsp;If&nbsp;e&nbsp;or&nbsp;mark&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;or&nbsp;e&nbsp;==&nbsp;mark,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4639218">func</span>&nbsp;<span class="op" id="4639223">(</span><span class="ident" id="4639224">l</span>&nbsp;<span class="op" id="4639226">*</span><span class="ident" id="4639227">List</span><span class="op" id="4639231">)</span>&nbsp;<span class="ident" id="4639233">MoveAfter</span><span class="op" id="4639242">(</span><span class="ident" id="4639243">e</span><span class="op" id="4639244">,</span>&nbsp;<span class="ident" id="4639246">mark</span>&nbsp;<span class="op" id="4639251">*</span><span class="ident" id="4639252">Element</span><span class="op" id="4639259">)</span>&nbsp;<span class="op" id="4639261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4639264">if</span>&nbsp;<span class="ident" id="4639267">e</span><span class="op" id="4639268">.</span><span class="ident" id="4639269">list</span>&nbsp;<span class="op" id="4639274">!=</span>&nbsp;<span class="ident" id="4639277">l</span>&nbsp;<span class="op" id="4639279">||</span>&nbsp;<span class="ident" id="4639282">e</span>&nbsp;<span class="op" id="4639284">==</span>&nbsp;<span class="ident" id="4639287">mark</span>&nbsp;<span class="op" id="4639292">||</span>&nbsp;<span class="ident" id="4639295">mark</span><span class="op" id="4639299">.</span><span class="ident" id="4639300">list</span>&nbsp;<span class="op" id="4639305">!=</span>&nbsp;<span class="ident" id="4639308">l</span>&nbsp;<span class="op" id="4639310">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4639314">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4639322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4639325">l</span><span class="op" id="4639326">.</span><span class="ident" id="4639327">insert</span><span class="op" id="4639333">(</span><span class="ident" id="4639334">l</span><span class="op" id="4639335">.</span><span class="ident" id="4639336">remove</span><span class="op" id="4639342">(</span><span class="ident" id="4639343">e</span><span class="op" id="4639344">)</span><span class="op" id="4639345">,</span>&nbsp;<span class="ident" id="4639347">mark</span><span class="op" id="4639351">)</span><br>
<span class="lineno"></span><span class="op" id="4639353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="4639356">//&nbsp;PushBackList&nbsp;inserts&nbsp;a&nbsp;copy&nbsp;of&nbsp;an&nbsp;other&nbsp;list&nbsp;at&nbsp;the&nbsp;back&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno"></span><span class="comment" id="4639427">//&nbsp;The&nbsp;lists&nbsp;l&nbsp;and&nbsp;other&nbsp;may&nbsp;be&nbsp;the&nbsp;same.</span><br>
<span class="lineno"></span><span class="keyword" id="4639469">func</span>&nbsp;<span class="op" id="4639474">(</span><span class="ident" id="4639475">l</span>&nbsp;<span class="op" id="4639477">*</span><span class="ident" id="4639478">List</span><span class="op" id="4639482">)</span>&nbsp;<span class="ident" id="4639484">PushBackList</span><span class="op" id="4639496">(</span><span class="ident" id="4639497">other</span>&nbsp;<span class="op" id="4639503">*</span><span class="ident" id="4639504">List</span><span class="op" id="4639508">)</span>&nbsp;<span class="op" id="4639510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4639513">l</span><span class="op" id="4639514">.</span><span class="ident" id="4639515">lazyInit</span><span class="op" id="4639523">(</span><span class="op" id="4639524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4639527">for</span>&nbsp;<span class="ident" id="4639531">i</span><span class="op" id="4639532">,</span>&nbsp;<span class="ident" id="4639534">e</span>&nbsp;<span class="op" id="4639536">:=</span>&nbsp;<span class="ident" id="4639539">other</span><span class="op" id="4639544">.</span><span class="ident" id="4639545">Len</span><span class="op" id="4639548">(</span><span class="op" id="4639549">)</span><span class="op" id="4639550">,</span>&nbsp;<span class="ident" id="4639552">other</span><span class="op" id="4639557">.</span><span class="ident" id="4639558">Front</span><span class="op" id="4639563">(</span><span class="op" id="4639564">)</span><span class="op" id="4639565">;</span>&nbsp;<span class="ident" id="4639567">i</span>&nbsp;<span class="op" id="4639569">&gt;</span>&nbsp;<span class="num" id="4639571">0</span><span class="op" id="4639572">;</span>&nbsp;<span class="ident" id="4639574">i</span><span class="op" id="4639575">,</span>&nbsp;<span class="ident" id="4639577">e</span>&nbsp;<span class="op" id="4639579">=</span>&nbsp;<span class="ident" id="4639581">i</span><span class="op" id="4639582">-</span><span class="num" id="4639583">1</span><span class="op" id="4639584">,</span>&nbsp;<span class="ident" id="4639586">e</span><span class="op" id="4639587">.</span><span class="ident" id="4639588">Next</span><span class="op" id="4639592">(</span><span class="op" id="4639593">)</span>&nbsp;<span class="op" id="4639595">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4639599">l</span><span class="op" id="4639600">.</span><span class="ident" id="4639601">insertValue</span><span class="op" id="4639612">(</span><span class="ident" id="4639613">e</span><span class="op" id="4639614">.</span><span class="ident" id="4639615">Value</span><span class="op" id="4639620">,</span>&nbsp;<span class="ident" id="4639622">l</span><span class="op" id="4639623">.</span><span class="ident" id="4639624">root</span><span class="op" id="4639628">.</span><span class="ident" id="4639629">prev</span><span class="op" id="4639633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4639636">}</span><br>
<span class="lineno"></span><span class="op" id="4639638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4639641">//&nbsp;PushFrontList&nbsp;inserts&nbsp;a&nbsp;copy&nbsp;of&nbsp;an&nbsp;other&nbsp;list&nbsp;at&nbsp;the&nbsp;front&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno">210</span><span class="comment" id="4639714">//&nbsp;The&nbsp;lists&nbsp;l&nbsp;and&nbsp;other&nbsp;may&nbsp;be&nbsp;the&nbsp;same.</span><br>
<span class="lineno"></span><span class="keyword" id="4639756">func</span>&nbsp;<span class="op" id="4639761">(</span><span class="ident" id="4639762">l</span>&nbsp;<span class="op" id="4639764">*</span><span class="ident" id="4639765">List</span><span class="op" id="4639769">)</span>&nbsp;<span class="ident" id="4639771">PushFrontList</span><span class="op" id="4639784">(</span><span class="ident" id="4639785">other</span>&nbsp;<span class="op" id="4639791">*</span><span class="ident" id="4639792">List</span><span class="op" id="4639796">)</span>&nbsp;<span class="op" id="4639798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4639801">l</span><span class="op" id="4639802">.</span><span class="ident" id="4639803">lazyInit</span><span class="op" id="4639811">(</span><span class="op" id="4639812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4639815">for</span>&nbsp;<span class="ident" id="4639819">i</span><span class="op" id="4639820">,</span>&nbsp;<span class="ident" id="4639822">e</span>&nbsp;<span class="op" id="4639824">:=</span>&nbsp;<span class="ident" id="4639827">other</span><span class="op" id="4639832">.</span><span class="ident" id="4639833">Len</span><span class="op" id="4639836">(</span><span class="op" id="4639837">)</span><span class="op" id="4639838">,</span>&nbsp;<span class="ident" id="4639840">other</span><span class="op" id="4639845">.</span><span class="ident" id="4639846">Back</span><span class="op" id="4639850">(</span><span class="op" id="4639851">)</span><span class="op" id="4639852">;</span>&nbsp;<span class="ident" id="4639854">i</span>&nbsp;<span class="op" id="4639856">&gt;</span>&nbsp;<span class="num" id="4639858">0</span><span class="op" id="4639859">;</span>&nbsp;<span class="ident" id="4639861">i</span><span class="op" id="4639862">,</span>&nbsp;<span class="ident" id="4639864">e</span>&nbsp;<span class="op" id="4639866">=</span>&nbsp;<span class="ident" id="4639868">i</span><span class="op" id="4639869">-</span><span class="num" id="4639870">1</span><span class="op" id="4639871">,</span>&nbsp;<span class="ident" id="4639873">e</span><span class="op" id="4639874">.</span><span class="ident" id="4639875">Prev</span><span class="op" id="4639879">(</span><span class="op" id="4639880">)</span>&nbsp;<span class="op" id="4639882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4639886">l</span><span class="op" id="4639887">.</span><span class="ident" id="4639888">insertValue</span><span class="op" id="4639899">(</span><span class="ident" id="4639900">e</span><span class="op" id="4639901">.</span><span class="ident" id="4639902">Value</span><span class="op" id="4639907">,</span>&nbsp;<span class="op" id="4639909">&amp;</span><span class="ident" id="4639910">l</span><span class="op" id="4639911">.</span><span class="ident" id="4639912">root</span><span class="op" id="4639916">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4639919">}</span><br>
<span class="lineno"></span><span class="op" id="4639921">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
