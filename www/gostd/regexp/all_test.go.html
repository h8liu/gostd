<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7458232">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7458287">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7458341">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7458392">package</span>&nbsp;<span class="ident" id="7458400">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458408">import</span>&nbsp;<span class="op" id="7458415">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458418">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458429">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458446">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458457">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7458467">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458470">var</span>&nbsp;<span class="ident" id="7458474">good_re</span>&nbsp;<span class="op" id="7458482">=</span>&nbsp;<span class="op" id="7458484">[</span><span class="op" id="7458485">]</span><span class="builtintype" id="7458486">string</span><span class="op" id="7458492">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458495">``</span><span class="op" id="7458497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458500">`.`</span><span class="op" id="7458503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458506">`^.$`</span><span class="op" id="7458511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458514">`a`</span><span class="op" id="7458517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458520">`a*`</span><span class="op" id="7458524">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458527">`a+`</span><span class="op" id="7458531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458534">`a?`</span><span class="op" id="7458538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458541">`a|b`</span><span class="op" id="7458546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458549">`a*|b*`</span><span class="op" id="7458556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458559">`(a*|b)(c*|d)`</span><span class="op" id="7458573">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458576">`[a-z]`</span><span class="op" id="7458583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458586">`[a-abc-c\-\]\[]`</span><span class="op" id="7458603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458606">`[a-z]+`</span><span class="op" id="7458614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458617">`[abc]`</span><span class="op" id="7458624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458627">`[^1234]`</span><span class="op" id="7458636">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458639">`[^\n]`</span><span class="op" id="7458646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7458649">`\!\\`</span><span class="op" id="7458655">,</span><br>
<span class="lineno"></span><span class="op" id="7458657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458660">type</span>&nbsp;<span class="ident" id="7458665">stringError</span>&nbsp;<span class="keyword" id="7458677">struct</span>&nbsp;<span class="op" id="7458684">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458687">re</span>&nbsp;&nbsp;<span class="builtintype" id="7458691">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458699">err</span>&nbsp;<span class="builtintype" id="7458703">string</span><br>
<span class="lineno"></span><span class="op" id="7458710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458713">var</span>&nbsp;<span class="ident" id="7458717">bad_re</span>&nbsp;<span class="op" id="7458724">=</span>&nbsp;<span class="op" id="7458726">[</span><span class="op" id="7458727">]</span><span class="ident" id="7458728">stringError</span><span class="op" id="7458739">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458742">{</span><span class="string" id="7458743">`*`</span><span class="op" id="7458746">,</span>&nbsp;<span class="string" id="7458748">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`*`&#34;</span><span class="op" id="7458794">}</span><span class="op" id="7458795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458798">{</span><span class="string" id="7458799">`+`</span><span class="op" id="7458802">,</span>&nbsp;<span class="string" id="7458804">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`+`&#34;</span><span class="op" id="7458850">}</span><span class="op" id="7458851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458854">{</span><span class="string" id="7458855">`?`</span><span class="op" id="7458858">,</span>&nbsp;<span class="string" id="7458860">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`?`&#34;</span><span class="op" id="7458906">}</span><span class="op" id="7458907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458910">{</span><span class="string" id="7458911">`(abc`</span><span class="op" id="7458917">,</span>&nbsp;<span class="string" id="7458919">&#34;missing&nbsp;closing&nbsp;):&nbsp;`(abc`&#34;</span><span class="op" id="7458946">}</span><span class="op" id="7458947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458950">{</span><span class="string" id="7458951">`abc)`</span><span class="op" id="7458957">,</span>&nbsp;<span class="string" id="7458959">&#34;unexpected&nbsp;):&nbsp;`abc)`&#34;</span><span class="op" id="7458981">}</span><span class="op" id="7458982">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458985">{</span><span class="string" id="7458986">`x[a-z`</span><span class="op" id="7458993">,</span>&nbsp;<span class="string" id="7458995">&#34;missing&nbsp;closing&nbsp;]:&nbsp;`[a-z`&#34;</span><span class="op" id="7459022">}</span><span class="op" id="7459023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459026">{</span><span class="string" id="7459027">`[z-a]`</span><span class="op" id="7459034">,</span>&nbsp;<span class="string" id="7459036">&#34;invalid&nbsp;character&nbsp;class&nbsp;range:&nbsp;`z-a`&#34;</span><span class="op" id="7459074">}</span><span class="op" id="7459075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459078">{</span><span class="string" id="7459079">`abc\`</span><span class="op" id="7459085">,</span>&nbsp;<span class="string" id="7459087">&#34;trailing&nbsp;backslash&nbsp;at&nbsp;end&nbsp;of&nbsp;expression&#34;</span><span class="op" id="7459128">}</span><span class="op" id="7459129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459132">{</span><span class="string" id="7459133">`a**`</span><span class="op" id="7459138">,</span>&nbsp;<span class="string" id="7459140">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`**`&#34;</span><span class="op" id="7459182">}</span><span class="op" id="7459183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459186">{</span><span class="string" id="7459187">`a*+`</span><span class="op" id="7459192">,</span>&nbsp;<span class="string" id="7459194">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`*+`&#34;</span><span class="op" id="7459236">}</span><span class="op" id="7459237">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459240">{</span><span class="string" id="7459241">`\x`</span><span class="op" id="7459245">,</span>&nbsp;<span class="string" id="7459247">&#34;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\x`&#34;</span><span class="op" id="7459279">}</span><span class="op" id="7459280">,</span><br>
<span class="lineno"></span><span class="op" id="7459282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7459285">func</span>&nbsp;<span class="ident" id="7459290">compileTest</span><span class="op" id="7459301">(</span><span class="ident" id="7459302">t</span>&nbsp;<span class="op" id="7459304">*</span><span class="ident" id="7459305">testing</span><span class="op" id="7459312">.</span><span class="ident" id="7459313">T</span><span class="op" id="7459314">,</span>&nbsp;<span class="ident" id="7459316">expr</span>&nbsp;<span class="builtintype" id="7459321">string</span><span class="op" id="7459327">,</span>&nbsp;<span class="builtintype" id="7459329">error</span>&nbsp;<span class="builtintype" id="7459335">string</span><span class="op" id="7459341">)</span>&nbsp;<span class="op" id="7459343">*</span><span class="ident" id="7459344">Regexp</span>&nbsp;<span class="op" id="7459351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459354">re</span><span class="op" id="7459356">,</span>&nbsp;<span class="ident" id="7459358">err</span>&nbsp;<span class="op" id="7459362">:=</span>&nbsp;<span class="ident" id="7459365">Compile</span><span class="op" id="7459372">(</span><span class="ident" id="7459373">expr</span><span class="op" id="7459377">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459380">if</span>&nbsp;<span class="builtintype" id="7459383">error</span>&nbsp;<span class="op" id="7459389">==</span>&nbsp;<span class="string" id="7459392">&#34;&#34;</span>&nbsp;<span class="op" id="7459395">&amp;&amp;</span>&nbsp;<span class="ident" id="7459398">err</span>&nbsp;<span class="op" id="7459402">!=</span>&nbsp;<span class="ident" id="7459405">nil</span>&nbsp;<span class="op" id="7459409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459413">t</span><span class="op" id="7459414">.</span><span class="ident" id="7459415">Error</span><span class="op" id="7459420">(</span><span class="string" id="7459421">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7459434">,</span>&nbsp;<span class="ident" id="7459436">expr</span><span class="op" id="7459440">,</span>&nbsp;<span class="string" id="7459442">&#34;`;&nbsp;unexpected&nbsp;error:&nbsp;&#34;</span><span class="op" id="7459465">,</span>&nbsp;<span class="ident" id="7459467">err</span><span class="op" id="7459470">.</span><span class="ident" id="7459471">Error</span><span class="op" id="7459476">(</span><span class="op" id="7459477">)</span><span class="op" id="7459478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459484">if</span>&nbsp;<span class="builtintype" id="7459487">error</span>&nbsp;<span class="op" id="7459493">!=</span>&nbsp;<span class="string" id="7459496">&#34;&#34;</span>&nbsp;<span class="op" id="7459499">&amp;&amp;</span>&nbsp;<span class="ident" id="7459502">err</span>&nbsp;<span class="op" id="7459506">==</span>&nbsp;<span class="ident" id="7459509">nil</span>&nbsp;<span class="op" id="7459513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459517">t</span><span class="op" id="7459518">.</span><span class="ident" id="7459519">Error</span><span class="op" id="7459524">(</span><span class="string" id="7459525">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7459538">,</span>&nbsp;<span class="ident" id="7459540">expr</span><span class="op" id="7459544">,</span>&nbsp;<span class="string" id="7459546">&#34;`;&nbsp;missing&nbsp;error&#34;</span><span class="op" id="7459564">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459567">}</span>&nbsp;<span class="keyword" id="7459569">else</span>&nbsp;<span class="keyword" id="7459574">if</span>&nbsp;<span class="builtintype" id="7459577">error</span>&nbsp;<span class="op" id="7459583">!=</span>&nbsp;<span class="string" id="7459586">&#34;&#34;</span>&nbsp;<span class="op" id="7459589">&amp;&amp;</span>&nbsp;<span class="op" id="7459592">!</span><span class="ident" id="7459593">strings</span><span class="op" id="7459600">.</span><span class="ident" id="7459601">Contains</span><span class="op" id="7459609">(</span><span class="ident" id="7459610">err</span><span class="op" id="7459613">.</span><span class="ident" id="7459614">Error</span><span class="op" id="7459619">(</span><span class="op" id="7459620">)</span><span class="op" id="7459621">,</span>&nbsp;<span class="builtintype" id="7459623">error</span><span class="op" id="7459628">)</span>&nbsp;<span class="op" id="7459630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459634">t</span><span class="op" id="7459635">.</span><span class="ident" id="7459636">Error</span><span class="op" id="7459641">(</span><span class="string" id="7459642">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7459655">,</span>&nbsp;<span class="ident" id="7459657">expr</span><span class="op" id="7459661">,</span>&nbsp;<span class="string" id="7459663">&#34;`;&nbsp;wrong&nbsp;error:&nbsp;&#34;</span><span class="op" id="7459681">,</span>&nbsp;<span class="ident" id="7459683">err</span><span class="op" id="7459686">.</span><span class="ident" id="7459687">Error</span><span class="op" id="7459692">(</span><span class="op" id="7459693">)</span><span class="op" id="7459694">,</span>&nbsp;<span class="string" id="7459696">&#34;;&nbsp;want&nbsp;&#34;</span><span class="op" id="7459705">,</span>&nbsp;<span class="builtintype" id="7459707">error</span><span class="op" id="7459712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459718">return</span>&nbsp;<span class="ident" id="7459725">re</span><br>
<span class="lineno"></span><span class="op" id="7459728">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7459731">func</span>&nbsp;<span class="ident" id="7459736">TestGoodCompile</span><span class="op" id="7459751">(</span><span class="ident" id="7459752">t</span>&nbsp;<span class="op" id="7459754">*</span><span class="ident" id="7459755">testing</span><span class="op" id="7459762">.</span><span class="ident" id="7459763">T</span><span class="op" id="7459764">)</span>&nbsp;<span class="op" id="7459766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459769">for</span>&nbsp;<span class="ident" id="7459773">i</span>&nbsp;<span class="op" id="7459775">:=</span>&nbsp;<span class="num" id="7459778">0</span><span class="op" id="7459779">;</span>&nbsp;<span class="ident" id="7459781">i</span>&nbsp;<span class="op" id="7459783">&lt;</span>&nbsp;<span class="builtinfunc" id="7459785">len</span><span class="op" id="7459788">(</span><span class="ident" id="7459789">good_re</span><span class="op" id="7459796">)</span><span class="op" id="7459797">;</span>&nbsp;<span class="ident" id="7459799">i</span><span class="op" id="7459800">++</span>&nbsp;<span class="op" id="7459803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459807">compileTest</span><span class="op" id="7459818">(</span><span class="ident" id="7459819">t</span><span class="op" id="7459820">,</span>&nbsp;<span class="ident" id="7459822">good_re</span><span class="op" id="7459829">[</span><span class="ident" id="7459830">i</span><span class="op" id="7459831">]</span><span class="op" id="7459832">,</span>&nbsp;<span class="string" id="7459834">&#34;&#34;</span><span class="op" id="7459836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459839">}</span><br>
<span class="lineno">70</span><span class="op" id="7459841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7459844">func</span>&nbsp;<span class="ident" id="7459849">TestBadCompile</span><span class="op" id="7459863">(</span><span class="ident" id="7459864">t</span>&nbsp;<span class="op" id="7459866">*</span><span class="ident" id="7459867">testing</span><span class="op" id="7459874">.</span><span class="ident" id="7459875">T</span><span class="op" id="7459876">)</span>&nbsp;<span class="op" id="7459878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459881">for</span>&nbsp;<span class="ident" id="7459885">i</span>&nbsp;<span class="op" id="7459887">:=</span>&nbsp;<span class="num" id="7459890">0</span><span class="op" id="7459891">;</span>&nbsp;<span class="ident" id="7459893">i</span>&nbsp;<span class="op" id="7459895">&lt;</span>&nbsp;<span class="builtinfunc" id="7459897">len</span><span class="op" id="7459900">(</span><span class="ident" id="7459901">bad_re</span><span class="op" id="7459907">)</span><span class="op" id="7459908">;</span>&nbsp;<span class="ident" id="7459910">i</span><span class="op" id="7459911">++</span>&nbsp;<span class="op" id="7459914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459918">compileTest</span><span class="op" id="7459929">(</span><span class="ident" id="7459930">t</span><span class="op" id="7459931">,</span>&nbsp;<span class="ident" id="7459933">bad_re</span><span class="op" id="7459939">[</span><span class="ident" id="7459940">i</span><span class="op" id="7459941">]</span><span class="op" id="7459942">.</span><span class="ident" id="7459943">re</span><span class="op" id="7459945">,</span>&nbsp;<span class="ident" id="7459947">bad_re</span><span class="op" id="7459953">[</span><span class="ident" id="7459954">i</span><span class="op" id="7459955">]</span><span class="op" id="7459956">.</span><span class="ident" id="7459957">err</span><span class="op" id="7459960">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459963">}</span><br>
<span class="lineno"></span><span class="op" id="7459965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7459968">func</span>&nbsp;<span class="ident" id="7459973">matchTest</span><span class="op" id="7459982">(</span><span class="ident" id="7459983">t</span>&nbsp;<span class="op" id="7459985">*</span><span class="ident" id="7459986">testing</span><span class="op" id="7459993">.</span><span class="ident" id="7459994">T</span><span class="op" id="7459995">,</span>&nbsp;<span class="ident" id="7459997">test</span>&nbsp;<span class="op" id="7460002">*</span><span class="ident" id="7460003">FindTest</span><span class="op" id="7460011">)</span>&nbsp;<span class="op" id="7460013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460016">re</span>&nbsp;<span class="op" id="7460019">:=</span>&nbsp;<span class="ident" id="7460022">compileTest</span><span class="op" id="7460033">(</span><span class="ident" id="7460034">t</span><span class="op" id="7460035">,</span>&nbsp;<span class="ident" id="7460037">test</span><span class="op" id="7460041">.</span><span class="ident" id="7460042">pat</span><span class="op" id="7460045">,</span>&nbsp;<span class="string" id="7460047">&#34;&#34;</span><span class="op" id="7460049">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460052">if</span>&nbsp;<span class="ident" id="7460055">re</span>&nbsp;<span class="op" id="7460058">==</span>&nbsp;<span class="ident" id="7460061">nil</span>&nbsp;<span class="op" id="7460065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460069">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460080">m</span>&nbsp;<span class="op" id="7460082">:=</span>&nbsp;<span class="ident" id="7460085">re</span><span class="op" id="7460087">.</span><span class="ident" id="7460088">MatchString</span><span class="op" id="7460099">(</span><span class="ident" id="7460100">test</span><span class="op" id="7460104">.</span><span class="ident" id="7460105">text</span><span class="op" id="7460109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460112">if</span>&nbsp;<span class="ident" id="7460115">m</span>&nbsp;<span class="op" id="7460117">!=</span>&nbsp;<span class="op" id="7460120">(</span><span class="builtinfunc" id="7460121">len</span><span class="op" id="7460124">(</span><span class="ident" id="7460125">test</span><span class="op" id="7460129">.</span><span class="ident" id="7460130">matches</span><span class="op" id="7460137">)</span>&nbsp;<span class="op" id="7460139">&gt;</span>&nbsp;<span class="num" id="7460141">0</span><span class="op" id="7460142">)</span>&nbsp;<span class="op" id="7460144">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460148">t</span><span class="op" id="7460149">.</span><span class="ident" id="7460150">Errorf</span><span class="op" id="7460156">(</span><span class="string" id="7460157">&#34;MatchString&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7460201">,</span>&nbsp;<span class="ident" id="7460203">test</span><span class="op" id="7460207">,</span>&nbsp;<span class="ident" id="7460209">m</span><span class="op" id="7460210">,</span>&nbsp;<span class="builtinfunc" id="7460212">len</span><span class="op" id="7460215">(</span><span class="ident" id="7460216">test</span><span class="op" id="7460220">.</span><span class="ident" id="7460221">matches</span><span class="op" id="7460228">)</span>&nbsp;<span class="op" id="7460230">&gt;</span>&nbsp;<span class="num" id="7460232">0</span><span class="op" id="7460233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7460239">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460257">m</span>&nbsp;<span class="op" id="7460259">=</span>&nbsp;<span class="ident" id="7460261">re</span><span class="op" id="7460263">.</span><span class="ident" id="7460264">Match</span><span class="op" id="7460269">(</span><span class="op" id="7460270">[</span><span class="op" id="7460271">]</span><span class="builtintype" id="7460272">byte</span><span class="op" id="7460276">(</span><span class="ident" id="7460277">test</span><span class="op" id="7460281">.</span><span class="ident" id="7460282">text</span><span class="op" id="7460286">)</span><span class="op" id="7460287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460290">if</span>&nbsp;<span class="ident" id="7460293">m</span>&nbsp;<span class="op" id="7460295">!=</span>&nbsp;<span class="op" id="7460298">(</span><span class="builtinfunc" id="7460299">len</span><span class="op" id="7460302">(</span><span class="ident" id="7460303">test</span><span class="op" id="7460307">.</span><span class="ident" id="7460308">matches</span><span class="op" id="7460315">)</span>&nbsp;<span class="op" id="7460317">&gt;</span>&nbsp;<span class="num" id="7460319">0</span><span class="op" id="7460320">)</span>&nbsp;<span class="op" id="7460322">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460326">t</span><span class="op" id="7460327">.</span><span class="ident" id="7460328">Errorf</span><span class="op" id="7460334">(</span><span class="string" id="7460335">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7460373">,</span>&nbsp;<span class="ident" id="7460375">test</span><span class="op" id="7460379">,</span>&nbsp;<span class="ident" id="7460381">m</span><span class="op" id="7460382">,</span>&nbsp;<span class="builtinfunc" id="7460384">len</span><span class="op" id="7460387">(</span><span class="ident" id="7460388">test</span><span class="op" id="7460392">.</span><span class="ident" id="7460393">matches</span><span class="op" id="7460400">)</span>&nbsp;<span class="op" id="7460402">&gt;</span>&nbsp;<span class="num" id="7460404">0</span><span class="op" id="7460405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460408">}</span><br>
<span class="lineno"></span><span class="op" id="7460410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7460413">func</span>&nbsp;<span class="ident" id="7460418">TestMatch</span><span class="op" id="7460427">(</span><span class="ident" id="7460428">t</span>&nbsp;<span class="op" id="7460430">*</span><span class="ident" id="7460431">testing</span><span class="op" id="7460438">.</span><span class="ident" id="7460439">T</span><span class="op" id="7460440">)</span>&nbsp;<span class="op" id="7460442">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460445">for</span>&nbsp;<span class="ident" id="7460449">_</span><span class="op" id="7460450">,</span>&nbsp;<span class="ident" id="7460452">test</span>&nbsp;<span class="op" id="7460457">:=</span>&nbsp;<span class="keyword" id="7460460">range</span>&nbsp;<span class="ident" id="7460466">findTests</span>&nbsp;<span class="op" id="7460476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460480">matchTest</span><span class="op" id="7460489">(</span><span class="ident" id="7460490">t</span><span class="op" id="7460491">,</span>&nbsp;<span class="op" id="7460493">&amp;</span><span class="ident" id="7460494">test</span><span class="op" id="7460498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460501">}</span><br>
<span class="lineno"></span><span class="op" id="7460503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7460506">func</span>&nbsp;<span class="ident" id="7460511">matchFunctionTest</span><span class="op" id="7460528">(</span><span class="ident" id="7460529">t</span>&nbsp;<span class="op" id="7460531">*</span><span class="ident" id="7460532">testing</span><span class="op" id="7460539">.</span><span class="ident" id="7460540">T</span><span class="op" id="7460541">,</span>&nbsp;<span class="ident" id="7460543">test</span>&nbsp;<span class="op" id="7460548">*</span><span class="ident" id="7460549">FindTest</span><span class="op" id="7460557">)</span>&nbsp;<span class="op" id="7460559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460562">m</span><span class="op" id="7460563">,</span>&nbsp;<span class="ident" id="7460565">err</span>&nbsp;<span class="op" id="7460569">:=</span>&nbsp;<span class="ident" id="7460572">MatchString</span><span class="op" id="7460583">(</span><span class="ident" id="7460584">test</span><span class="op" id="7460588">.</span><span class="ident" id="7460589">pat</span><span class="op" id="7460592">,</span>&nbsp;<span class="ident" id="7460594">test</span><span class="op" id="7460598">.</span><span class="ident" id="7460599">text</span><span class="op" id="7460603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460606">if</span>&nbsp;<span class="ident" id="7460609">err</span>&nbsp;<span class="op" id="7460613">==</span>&nbsp;<span class="ident" id="7460616">nil</span>&nbsp;<span class="op" id="7460620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460624">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460632">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460635">if</span>&nbsp;<span class="ident" id="7460638">m</span>&nbsp;<span class="op" id="7460640">!=</span>&nbsp;<span class="op" id="7460643">(</span><span class="builtinfunc" id="7460644">len</span><span class="op" id="7460647">(</span><span class="ident" id="7460648">test</span><span class="op" id="7460652">.</span><span class="ident" id="7460653">matches</span><span class="op" id="7460660">)</span>&nbsp;<span class="op" id="7460662">&gt;</span>&nbsp;<span class="num" id="7460664">0</span><span class="op" id="7460665">)</span>&nbsp;<span class="op" id="7460667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460671">t</span><span class="op" id="7460672">.</span><span class="ident" id="7460673">Errorf</span><span class="op" id="7460679">(</span><span class="string" id="7460680">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7460718">,</span>&nbsp;<span class="ident" id="7460720">test</span><span class="op" id="7460724">,</span>&nbsp;<span class="ident" id="7460726">m</span><span class="op" id="7460727">,</span>&nbsp;<span class="builtinfunc" id="7460729">len</span><span class="op" id="7460732">(</span><span class="ident" id="7460733">test</span><span class="op" id="7460737">.</span><span class="ident" id="7460738">matches</span><span class="op" id="7460745">)</span>&nbsp;<span class="op" id="7460747">&gt;</span>&nbsp;<span class="num" id="7460749">0</span><span class="op" id="7460750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460753">}</span><br>
<span class="lineno"></span><span class="op" id="7460755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7460758">func</span>&nbsp;<span class="ident" id="7460763">TestMatchFunction</span><span class="op" id="7460780">(</span><span class="ident" id="7460781">t</span>&nbsp;<span class="op" id="7460783">*</span><span class="ident" id="7460784">testing</span><span class="op" id="7460791">.</span><span class="ident" id="7460792">T</span><span class="op" id="7460793">)</span>&nbsp;<span class="op" id="7460795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460798">for</span>&nbsp;<span class="ident" id="7460802">_</span><span class="op" id="7460803">,</span>&nbsp;<span class="ident" id="7460805">test</span>&nbsp;<span class="op" id="7460810">:=</span>&nbsp;<span class="keyword" id="7460813">range</span>&nbsp;<span class="ident" id="7460819">findTests</span>&nbsp;<span class="op" id="7460829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460833">matchFunctionTest</span><span class="op" id="7460850">(</span><span class="ident" id="7460851">t</span><span class="op" id="7460852">,</span>&nbsp;<span class="op" id="7460854">&amp;</span><span class="ident" id="7460855">test</span><span class="op" id="7460859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460862">}</span><br>
<span class="lineno"></span><span class="op" id="7460864">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="keyword" id="7460867">type</span>&nbsp;<span class="ident" id="7460872">ReplaceTest</span>&nbsp;<span class="keyword" id="7460884">struct</span>&nbsp;<span class="op" id="7460891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460894">pattern</span><span class="op" id="7460901">,</span>&nbsp;<span class="ident" id="7460903">replacement</span><span class="op" id="7460914">,</span>&nbsp;<span class="ident" id="7460916">input</span><span class="op" id="7460921">,</span>&nbsp;<span class="ident" id="7460923">output</span>&nbsp;<span class="builtintype" id="7460930">string</span><br>
<span class="lineno"></span><span class="op" id="7460937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="7460940">var</span>&nbsp;<span class="ident" id="7460944">replaceTests</span>&nbsp;<span class="op" id="7460957">=</span>&nbsp;<span class="op" id="7460959">[</span><span class="op" id="7460960">]</span><span class="ident" id="7460961">ReplaceTest</span><span class="op" id="7460972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7460975">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;matches&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461060">{</span><span class="string" id="7461061">&#34;&#34;</span><span class="op" id="7461063">,</span>&nbsp;<span class="string" id="7461065">&#34;&#34;</span><span class="op" id="7461067">,</span>&nbsp;<span class="string" id="7461069">&#34;&#34;</span><span class="op" id="7461071">,</span>&nbsp;<span class="string" id="7461073">&#34;&#34;</span><span class="op" id="7461075">}</span><span class="op" id="7461076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461079">{</span><span class="string" id="7461080">&#34;&#34;</span><span class="op" id="7461082">,</span>&nbsp;<span class="string" id="7461084">&#34;x&#34;</span><span class="op" id="7461087">,</span>&nbsp;<span class="string" id="7461089">&#34;&#34;</span><span class="op" id="7461091">,</span>&nbsp;<span class="string" id="7461093">&#34;x&#34;</span><span class="op" id="7461096">}</span><span class="op" id="7461097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461100">{</span><span class="string" id="7461101">&#34;&#34;</span><span class="op" id="7461103">,</span>&nbsp;<span class="string" id="7461105">&#34;&#34;</span><span class="op" id="7461107">,</span>&nbsp;<span class="string" id="7461109">&#34;abc&#34;</span><span class="op" id="7461114">,</span>&nbsp;<span class="string" id="7461116">&#34;abc&#34;</span><span class="op" id="7461121">}</span><span class="op" id="7461122">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461125">{</span><span class="string" id="7461126">&#34;&#34;</span><span class="op" id="7461128">,</span>&nbsp;<span class="string" id="7461130">&#34;x&#34;</span><span class="op" id="7461133">,</span>&nbsp;<span class="string" id="7461135">&#34;abc&#34;</span><span class="op" id="7461140">,</span>&nbsp;<span class="string" id="7461142">&#34;xaxbxcx&#34;</span><span class="op" id="7461151">}</span><span class="op" id="7461152">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7461156">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461248">{</span><span class="string" id="7461249">&#34;b&#34;</span><span class="op" id="7461252">,</span>&nbsp;<span class="string" id="7461254">&#34;&#34;</span><span class="op" id="7461256">,</span>&nbsp;<span class="string" id="7461258">&#34;&#34;</span><span class="op" id="7461260">,</span>&nbsp;<span class="string" id="7461262">&#34;&#34;</span><span class="op" id="7461264">}</span><span class="op" id="7461265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461268">{</span><span class="string" id="7461269">&#34;b&#34;</span><span class="op" id="7461272">,</span>&nbsp;<span class="string" id="7461274">&#34;x&#34;</span><span class="op" id="7461277">,</span>&nbsp;<span class="string" id="7461279">&#34;&#34;</span><span class="op" id="7461281">,</span>&nbsp;<span class="string" id="7461283">&#34;&#34;</span><span class="op" id="7461285">}</span><span class="op" id="7461286">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461289">{</span><span class="string" id="7461290">&#34;b&#34;</span><span class="op" id="7461293">,</span>&nbsp;<span class="string" id="7461295">&#34;&#34;</span><span class="op" id="7461297">,</span>&nbsp;<span class="string" id="7461299">&#34;abc&#34;</span><span class="op" id="7461304">,</span>&nbsp;<span class="string" id="7461306">&#34;ac&#34;</span><span class="op" id="7461310">}</span><span class="op" id="7461311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461314">{</span><span class="string" id="7461315">&#34;b&#34;</span><span class="op" id="7461318">,</span>&nbsp;<span class="string" id="7461320">&#34;x&#34;</span><span class="op" id="7461323">,</span>&nbsp;<span class="string" id="7461325">&#34;abc&#34;</span><span class="op" id="7461330">,</span>&nbsp;<span class="string" id="7461332">&#34;axc&#34;</span><span class="op" id="7461337">}</span><span class="op" id="7461338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461341">{</span><span class="string" id="7461342">&#34;y&#34;</span><span class="op" id="7461345">,</span>&nbsp;<span class="string" id="7461347">&#34;&#34;</span><span class="op" id="7461349">,</span>&nbsp;<span class="string" id="7461351">&#34;&#34;</span><span class="op" id="7461353">,</span>&nbsp;<span class="string" id="7461355">&#34;&#34;</span><span class="op" id="7461357">}</span><span class="op" id="7461358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461361">{</span><span class="string" id="7461362">&#34;y&#34;</span><span class="op" id="7461365">,</span>&nbsp;<span class="string" id="7461367">&#34;x&#34;</span><span class="op" id="7461370">,</span>&nbsp;<span class="string" id="7461372">&#34;&#34;</span><span class="op" id="7461374">,</span>&nbsp;<span class="string" id="7461376">&#34;&#34;</span><span class="op" id="7461378">}</span><span class="op" id="7461379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461382">{</span><span class="string" id="7461383">&#34;y&#34;</span><span class="op" id="7461386">,</span>&nbsp;<span class="string" id="7461388">&#34;&#34;</span><span class="op" id="7461390">,</span>&nbsp;<span class="string" id="7461392">&#34;abc&#34;</span><span class="op" id="7461397">,</span>&nbsp;<span class="string" id="7461399">&#34;abc&#34;</span><span class="op" id="7461404">}</span><span class="op" id="7461405">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461408">{</span><span class="string" id="7461409">&#34;y&#34;</span><span class="op" id="7461412">,</span>&nbsp;<span class="string" id="7461414">&#34;x&#34;</span><span class="op" id="7461417">,</span>&nbsp;<span class="string" id="7461419">&#34;abc&#34;</span><span class="op" id="7461424">,</span>&nbsp;<span class="string" id="7461426">&#34;abc&#34;</span><span class="op" id="7461431">}</span><span class="op" id="7461432">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7461436">//&nbsp;Multibyte&nbsp;characters&nbsp;--&nbsp;verify&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;match&nbsp;in&nbsp;the&nbsp;middle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7461512">//&nbsp;of&nbsp;a&nbsp;character.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461532">{</span><span class="string" id="7461533">&#34;[a-c]*&#34;</span><span class="op" id="7461541">,</span>&nbsp;<span class="string" id="7461543">&#34;x&#34;</span><span class="op" id="7461546">,</span>&nbsp;<span class="string" id="7461548">&#34;\u65e5&#34;</span><span class="op" id="7461556">,</span>&nbsp;<span class="string" id="7461558">&#34;x\u65e5x&#34;</span><span class="op" id="7461568">}</span><span class="op" id="7461569">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461572">{</span><span class="string" id="7461573">&#34;[^\u65e5]&#34;</span><span class="op" id="7461584">,</span>&nbsp;<span class="string" id="7461586">&#34;x&#34;</span><span class="op" id="7461589">,</span>&nbsp;<span class="string" id="7461591">&#34;abc\u65e5def&#34;</span><span class="op" id="7461605">,</span>&nbsp;<span class="string" id="7461607">&#34;xxx\u65e5xxx&#34;</span><span class="op" id="7461621">}</span><span class="op" id="7461622">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7461626">//&nbsp;Start&nbsp;and&nbsp;end&nbsp;of&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461657">{</span><span class="string" id="7461658">&#34;^[a-c]*&#34;</span><span class="op" id="7461667">,</span>&nbsp;<span class="string" id="7461669">&#34;x&#34;</span><span class="op" id="7461672">,</span>&nbsp;<span class="string" id="7461674">&#34;abcdabc&#34;</span><span class="op" id="7461683">,</span>&nbsp;<span class="string" id="7461685">&#34;xdabc&#34;</span><span class="op" id="7461692">}</span><span class="op" id="7461693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461696">{</span><span class="string" id="7461697">&#34;[a-c]*$&#34;</span><span class="op" id="7461706">,</span>&nbsp;<span class="string" id="7461708">&#34;x&#34;</span><span class="op" id="7461711">,</span>&nbsp;<span class="string" id="7461713">&#34;abcdabc&#34;</span><span class="op" id="7461722">,</span>&nbsp;<span class="string" id="7461724">&#34;abcdx&#34;</span><span class="op" id="7461731">}</span><span class="op" id="7461732">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461735">{</span><span class="string" id="7461736">&#34;^[a-c]*$&#34;</span><span class="op" id="7461746">,</span>&nbsp;<span class="string" id="7461748">&#34;x&#34;</span><span class="op" id="7461751">,</span>&nbsp;<span class="string" id="7461753">&#34;abcdabc&#34;</span><span class="op" id="7461762">,</span>&nbsp;<span class="string" id="7461764">&#34;abcdabc&#34;</span><span class="op" id="7461773">}</span><span class="op" id="7461774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461777">{</span><span class="string" id="7461778">&#34;^[a-c]*&#34;</span><span class="op" id="7461787">,</span>&nbsp;<span class="string" id="7461789">&#34;x&#34;</span><span class="op" id="7461792">,</span>&nbsp;<span class="string" id="7461794">&#34;abc&#34;</span><span class="op" id="7461799">,</span>&nbsp;<span class="string" id="7461801">&#34;x&#34;</span><span class="op" id="7461804">}</span><span class="op" id="7461805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461808">{</span><span class="string" id="7461809">&#34;[a-c]*$&#34;</span><span class="op" id="7461818">,</span>&nbsp;<span class="string" id="7461820">&#34;x&#34;</span><span class="op" id="7461823">,</span>&nbsp;<span class="string" id="7461825">&#34;abc&#34;</span><span class="op" id="7461830">,</span>&nbsp;<span class="string" id="7461832">&#34;x&#34;</span><span class="op" id="7461835">}</span><span class="op" id="7461836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461839">{</span><span class="string" id="7461840">&#34;^[a-c]*$&#34;</span><span class="op" id="7461850">,</span>&nbsp;<span class="string" id="7461852">&#34;x&#34;</span><span class="op" id="7461855">,</span>&nbsp;<span class="string" id="7461857">&#34;abc&#34;</span><span class="op" id="7461862">,</span>&nbsp;<span class="string" id="7461864">&#34;x&#34;</span><span class="op" id="7461867">}</span><span class="op" id="7461868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461871">{</span><span class="string" id="7461872">&#34;^[a-c]*&#34;</span><span class="op" id="7461881">,</span>&nbsp;<span class="string" id="7461883">&#34;x&#34;</span><span class="op" id="7461886">,</span>&nbsp;<span class="string" id="7461888">&#34;dabce&#34;</span><span class="op" id="7461895">,</span>&nbsp;<span class="string" id="7461897">&#34;xdabce&#34;</span><span class="op" id="7461905">}</span><span class="op" id="7461906">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461909">{</span><span class="string" id="7461910">&#34;[a-c]*$&#34;</span><span class="op" id="7461919">,</span>&nbsp;<span class="string" id="7461921">&#34;x&#34;</span><span class="op" id="7461924">,</span>&nbsp;<span class="string" id="7461926">&#34;dabce&#34;</span><span class="op" id="7461933">,</span>&nbsp;<span class="string" id="7461935">&#34;dabcex&#34;</span><span class="op" id="7461943">}</span><span class="op" id="7461944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461947">{</span><span class="string" id="7461948">&#34;^[a-c]*$&#34;</span><span class="op" id="7461958">,</span>&nbsp;<span class="string" id="7461960">&#34;x&#34;</span><span class="op" id="7461963">,</span>&nbsp;<span class="string" id="7461965">&#34;dabce&#34;</span><span class="op" id="7461972">,</span>&nbsp;<span class="string" id="7461974">&#34;dabce&#34;</span><span class="op" id="7461981">}</span><span class="op" id="7461982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461985">{</span><span class="string" id="7461986">&#34;^[a-c]*&#34;</span><span class="op" id="7461995">,</span>&nbsp;<span class="string" id="7461997">&#34;x&#34;</span><span class="op" id="7462000">,</span>&nbsp;<span class="string" id="7462002">&#34;&#34;</span><span class="op" id="7462004">,</span>&nbsp;<span class="string" id="7462006">&#34;x&#34;</span><span class="op" id="7462009">}</span><span class="op" id="7462010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462013">{</span><span class="string" id="7462014">&#34;[a-c]*$&#34;</span><span class="op" id="7462023">,</span>&nbsp;<span class="string" id="7462025">&#34;x&#34;</span><span class="op" id="7462028">,</span>&nbsp;<span class="string" id="7462030">&#34;&#34;</span><span class="op" id="7462032">,</span>&nbsp;<span class="string" id="7462034">&#34;x&#34;</span><span class="op" id="7462037">}</span><span class="op" id="7462038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462041">{</span><span class="string" id="7462042">&#34;^[a-c]*$&#34;</span><span class="op" id="7462052">,</span>&nbsp;<span class="string" id="7462054">&#34;x&#34;</span><span class="op" id="7462057">,</span>&nbsp;<span class="string" id="7462059">&#34;&#34;</span><span class="op" id="7462061">,</span>&nbsp;<span class="string" id="7462063">&#34;x&#34;</span><span class="op" id="7462066">}</span><span class="op" id="7462067">,</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462071">{</span><span class="string" id="7462072">&#34;^[a-c]+&#34;</span><span class="op" id="7462081">,</span>&nbsp;<span class="string" id="7462083">&#34;x&#34;</span><span class="op" id="7462086">,</span>&nbsp;<span class="string" id="7462088">&#34;abcdabc&#34;</span><span class="op" id="7462097">,</span>&nbsp;<span class="string" id="7462099">&#34;xdabc&#34;</span><span class="op" id="7462106">}</span><span class="op" id="7462107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462110">{</span><span class="string" id="7462111">&#34;[a-c]+$&#34;</span><span class="op" id="7462120">,</span>&nbsp;<span class="string" id="7462122">&#34;x&#34;</span><span class="op" id="7462125">,</span>&nbsp;<span class="string" id="7462127">&#34;abcdabc&#34;</span><span class="op" id="7462136">,</span>&nbsp;<span class="string" id="7462138">&#34;abcdx&#34;</span><span class="op" id="7462145">}</span><span class="op" id="7462146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462149">{</span><span class="string" id="7462150">&#34;^[a-c]+$&#34;</span><span class="op" id="7462160">,</span>&nbsp;<span class="string" id="7462162">&#34;x&#34;</span><span class="op" id="7462165">,</span>&nbsp;<span class="string" id="7462167">&#34;abcdabc&#34;</span><span class="op" id="7462176">,</span>&nbsp;<span class="string" id="7462178">&#34;abcdabc&#34;</span><span class="op" id="7462187">}</span><span class="op" id="7462188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462191">{</span><span class="string" id="7462192">&#34;^[a-c]+&#34;</span><span class="op" id="7462201">,</span>&nbsp;<span class="string" id="7462203">&#34;x&#34;</span><span class="op" id="7462206">,</span>&nbsp;<span class="string" id="7462208">&#34;abc&#34;</span><span class="op" id="7462213">,</span>&nbsp;<span class="string" id="7462215">&#34;x&#34;</span><span class="op" id="7462218">}</span><span class="op" id="7462219">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462222">{</span><span class="string" id="7462223">&#34;[a-c]+$&#34;</span><span class="op" id="7462232">,</span>&nbsp;<span class="string" id="7462234">&#34;x&#34;</span><span class="op" id="7462237">,</span>&nbsp;<span class="string" id="7462239">&#34;abc&#34;</span><span class="op" id="7462244">,</span>&nbsp;<span class="string" id="7462246">&#34;x&#34;</span><span class="op" id="7462249">}</span><span class="op" id="7462250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462253">{</span><span class="string" id="7462254">&#34;^[a-c]+$&#34;</span><span class="op" id="7462264">,</span>&nbsp;<span class="string" id="7462266">&#34;x&#34;</span><span class="op" id="7462269">,</span>&nbsp;<span class="string" id="7462271">&#34;abc&#34;</span><span class="op" id="7462276">,</span>&nbsp;<span class="string" id="7462278">&#34;x&#34;</span><span class="op" id="7462281">}</span><span class="op" id="7462282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462285">{</span><span class="string" id="7462286">&#34;^[a-c]+&#34;</span><span class="op" id="7462295">,</span>&nbsp;<span class="string" id="7462297">&#34;x&#34;</span><span class="op" id="7462300">,</span>&nbsp;<span class="string" id="7462302">&#34;dabce&#34;</span><span class="op" id="7462309">,</span>&nbsp;<span class="string" id="7462311">&#34;dabce&#34;</span><span class="op" id="7462318">}</span><span class="op" id="7462319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462322">{</span><span class="string" id="7462323">&#34;[a-c]+$&#34;</span><span class="op" id="7462332">,</span>&nbsp;<span class="string" id="7462334">&#34;x&#34;</span><span class="op" id="7462337">,</span>&nbsp;<span class="string" id="7462339">&#34;dabce&#34;</span><span class="op" id="7462346">,</span>&nbsp;<span class="string" id="7462348">&#34;dabce&#34;</span><span class="op" id="7462355">}</span><span class="op" id="7462356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462359">{</span><span class="string" id="7462360">&#34;^[a-c]+$&#34;</span><span class="op" id="7462370">,</span>&nbsp;<span class="string" id="7462372">&#34;x&#34;</span><span class="op" id="7462375">,</span>&nbsp;<span class="string" id="7462377">&#34;dabce&#34;</span><span class="op" id="7462384">,</span>&nbsp;<span class="string" id="7462386">&#34;dabce&#34;</span><span class="op" id="7462393">}</span><span class="op" id="7462394">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462397">{</span><span class="string" id="7462398">&#34;^[a-c]+&#34;</span><span class="op" id="7462407">,</span>&nbsp;<span class="string" id="7462409">&#34;x&#34;</span><span class="op" id="7462412">,</span>&nbsp;<span class="string" id="7462414">&#34;&#34;</span><span class="op" id="7462416">,</span>&nbsp;<span class="string" id="7462418">&#34;&#34;</span><span class="op" id="7462420">}</span><span class="op" id="7462421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462424">{</span><span class="string" id="7462425">&#34;[a-c]+$&#34;</span><span class="op" id="7462434">,</span>&nbsp;<span class="string" id="7462436">&#34;x&#34;</span><span class="op" id="7462439">,</span>&nbsp;<span class="string" id="7462441">&#34;&#34;</span><span class="op" id="7462443">,</span>&nbsp;<span class="string" id="7462445">&#34;&#34;</span><span class="op" id="7462447">}</span><span class="op" id="7462448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462451">{</span><span class="string" id="7462452">&#34;^[a-c]+$&#34;</span><span class="op" id="7462462">,</span>&nbsp;<span class="string" id="7462464">&#34;x&#34;</span><span class="op" id="7462467">,</span>&nbsp;<span class="string" id="7462469">&#34;&#34;</span><span class="op" id="7462471">,</span>&nbsp;<span class="string" id="7462473">&#34;&#34;</span><span class="op" id="7462475">}</span><span class="op" id="7462476">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7462480">//&nbsp;Other&nbsp;cases.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462497">{</span><span class="string" id="7462498">&#34;abc&#34;</span><span class="op" id="7462503">,</span>&nbsp;<span class="string" id="7462505">&#34;def&#34;</span><span class="op" id="7462510">,</span>&nbsp;<span class="string" id="7462512">&#34;abcdefg&#34;</span><span class="op" id="7462521">,</span>&nbsp;<span class="string" id="7462523">&#34;defdefg&#34;</span><span class="op" id="7462532">}</span><span class="op" id="7462533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462536">{</span><span class="string" id="7462537">&#34;bc&#34;</span><span class="op" id="7462541">,</span>&nbsp;<span class="string" id="7462543">&#34;BC&#34;</span><span class="op" id="7462547">,</span>&nbsp;<span class="string" id="7462549">&#34;abcbcdcdedef&#34;</span><span class="op" id="7462563">,</span>&nbsp;<span class="string" id="7462565">&#34;aBCBCdcdedef&#34;</span><span class="op" id="7462579">}</span><span class="op" id="7462580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462583">{</span><span class="string" id="7462584">&#34;abc&#34;</span><span class="op" id="7462589">,</span>&nbsp;<span class="string" id="7462591">&#34;&#34;</span><span class="op" id="7462593">,</span>&nbsp;<span class="string" id="7462595">&#34;abcdabc&#34;</span><span class="op" id="7462604">,</span>&nbsp;<span class="string" id="7462606">&#34;d&#34;</span><span class="op" id="7462609">}</span><span class="op" id="7462610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462613">{</span><span class="string" id="7462614">&#34;x&#34;</span><span class="op" id="7462617">,</span>&nbsp;<span class="string" id="7462619">&#34;xXx&#34;</span><span class="op" id="7462624">,</span>&nbsp;<span class="string" id="7462626">&#34;xxxXxxx&#34;</span><span class="op" id="7462635">,</span>&nbsp;<span class="string" id="7462637">&#34;xXxxXxxXxXxXxxXxxXx&#34;</span><span class="op" id="7462658">}</span><span class="op" id="7462659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462662">{</span><span class="string" id="7462663">&#34;abc&#34;</span><span class="op" id="7462668">,</span>&nbsp;<span class="string" id="7462670">&#34;d&#34;</span><span class="op" id="7462673">,</span>&nbsp;<span class="string" id="7462675">&#34;&#34;</span><span class="op" id="7462677">,</span>&nbsp;<span class="string" id="7462679">&#34;&#34;</span><span class="op" id="7462681">}</span><span class="op" id="7462682">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462685">{</span><span class="string" id="7462686">&#34;abc&#34;</span><span class="op" id="7462691">,</span>&nbsp;<span class="string" id="7462693">&#34;d&#34;</span><span class="op" id="7462696">,</span>&nbsp;<span class="string" id="7462698">&#34;abc&#34;</span><span class="op" id="7462703">,</span>&nbsp;<span class="string" id="7462705">&#34;d&#34;</span><span class="op" id="7462708">}</span><span class="op" id="7462709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462712">{</span><span class="string" id="7462713">&#34;.+&#34;</span><span class="op" id="7462717">,</span>&nbsp;<span class="string" id="7462719">&#34;x&#34;</span><span class="op" id="7462722">,</span>&nbsp;<span class="string" id="7462724">&#34;abc&#34;</span><span class="op" id="7462729">,</span>&nbsp;<span class="string" id="7462731">&#34;x&#34;</span><span class="op" id="7462734">}</span><span class="op" id="7462735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462738">{</span><span class="string" id="7462739">&#34;[a-c]*&#34;</span><span class="op" id="7462747">,</span>&nbsp;<span class="string" id="7462749">&#34;x&#34;</span><span class="op" id="7462752">,</span>&nbsp;<span class="string" id="7462754">&#34;def&#34;</span><span class="op" id="7462759">,</span>&nbsp;<span class="string" id="7462761">&#34;xdxexfx&#34;</span><span class="op" id="7462770">}</span><span class="op" id="7462771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462774">{</span><span class="string" id="7462775">&#34;[a-c]+&#34;</span><span class="op" id="7462783">,</span>&nbsp;<span class="string" id="7462785">&#34;x&#34;</span><span class="op" id="7462788">,</span>&nbsp;<span class="string" id="7462790">&#34;abcbcdcdedef&#34;</span><span class="op" id="7462804">,</span>&nbsp;<span class="string" id="7462806">&#34;xdxdedef&#34;</span><span class="op" id="7462816">}</span><span class="op" id="7462817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462820">{</span><span class="string" id="7462821">&#34;[a-c]*&#34;</span><span class="op" id="7462829">,</span>&nbsp;<span class="string" id="7462831">&#34;x&#34;</span><span class="op" id="7462834">,</span>&nbsp;<span class="string" id="7462836">&#34;abcbcdcdedef&#34;</span><span class="op" id="7462850">,</span>&nbsp;<span class="string" id="7462852">&#34;xdxdxexdxexfx&#34;</span><span class="op" id="7462867">}</span><span class="op" id="7462868">,</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7462872">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462890">{</span><span class="string" id="7462891">&#34;a+&#34;</span><span class="op" id="7462895">,</span>&nbsp;<span class="string" id="7462897">&#34;($0)&#34;</span><span class="op" id="7462903">,</span>&nbsp;<span class="string" id="7462905">&#34;banana&#34;</span><span class="op" id="7462913">,</span>&nbsp;<span class="string" id="7462915">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="7462929">}</span><span class="op" id="7462930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462933">{</span><span class="string" id="7462934">&#34;a+&#34;</span><span class="op" id="7462938">,</span>&nbsp;<span class="string" id="7462940">&#34;(${0})&#34;</span><span class="op" id="7462948">,</span>&nbsp;<span class="string" id="7462950">&#34;banana&#34;</span><span class="op" id="7462958">,</span>&nbsp;<span class="string" id="7462960">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="7462974">}</span><span class="op" id="7462975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462978">{</span><span class="string" id="7462979">&#34;a+&#34;</span><span class="op" id="7462983">,</span>&nbsp;<span class="string" id="7462985">&#34;(${0})$0&#34;</span><span class="op" id="7462995">,</span>&nbsp;<span class="string" id="7462997">&#34;banana&#34;</span><span class="op" id="7463005">,</span>&nbsp;<span class="string" id="7463007">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="7463024">}</span><span class="op" id="7463025">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463028">{</span><span class="string" id="7463029">&#34;a+&#34;</span><span class="op" id="7463033">,</span>&nbsp;<span class="string" id="7463035">&#34;(${0})$0&#34;</span><span class="op" id="7463045">,</span>&nbsp;<span class="string" id="7463047">&#34;banana&#34;</span><span class="op" id="7463055">,</span>&nbsp;<span class="string" id="7463057">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="7463074">}</span><span class="op" id="7463075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463078">{</span><span class="string" id="7463079">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7463092">,</span>&nbsp;<span class="string" id="7463094">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7463109">,</span>&nbsp;<span class="string" id="7463111">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7463125">,</span>&nbsp;<span class="string" id="7463127">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7463143">}</span><span class="op" id="7463144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463147">{</span><span class="string" id="7463148">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7463161">,</span>&nbsp;<span class="string" id="7463163">&#34;goodbye,&nbsp;$1x&#34;</span><span class="op" id="7463177">,</span>&nbsp;<span class="string" id="7463179">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7463193">,</span>&nbsp;<span class="string" id="7463195">&#34;goodbye,&nbsp;&#34;</span><span class="op" id="7463206">}</span><span class="op" id="7463207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463210">{</span><span class="string" id="7463211">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7463224">,</span>&nbsp;<span class="string" id="7463226">&#34;goodbye,&nbsp;${1}x&#34;</span><span class="op" id="7463242">,</span>&nbsp;<span class="string" id="7463244">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7463258">,</span>&nbsp;<span class="string" id="7463260">&#34;goodbye,&nbsp;worldx&#34;</span><span class="op" id="7463277">}</span><span class="op" id="7463278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463281">{</span><span class="string" id="7463282">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7463295">,</span>&nbsp;<span class="string" id="7463297">&#34;&lt;$0&gt;&lt;$1&gt;&lt;$2&gt;&lt;$3&gt;&#34;</span><span class="op" id="7463315">,</span>&nbsp;<span class="string" id="7463317">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7463331">,</span>&nbsp;<span class="string" id="7463333">&#34;&lt;hello,&nbsp;world&gt;&lt;world&gt;&lt;&gt;&lt;&gt;&#34;</span><span class="op" id="7463360">}</span><span class="op" id="7463361">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463364">{</span><span class="string" id="7463365">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7463386">,</span>&nbsp;<span class="string" id="7463388">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7463405">,</span>&nbsp;<span class="string" id="7463407">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7463421">,</span>&nbsp;<span class="string" id="7463423">&#34;goodbye,&nbsp;world!&#34;</span><span class="op" id="7463440">}</span><span class="op" id="7463441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463444">{</span><span class="string" id="7463445">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7463466">,</span>&nbsp;<span class="string" id="7463468">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7463486">,</span>&nbsp;<span class="string" id="7463488">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7463502">,</span>&nbsp;<span class="string" id="7463504">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7463520">}</span><span class="op" id="7463521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463524">{</span><span class="string" id="7463525">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7463547">,</span>&nbsp;<span class="string" id="7463549">&#34;$x$x$x&#34;</span><span class="op" id="7463557">,</span>&nbsp;<span class="string" id="7463559">&#34;hi&#34;</span><span class="op" id="7463563">,</span>&nbsp;<span class="string" id="7463565">&#34;hihihi&#34;</span><span class="op" id="7463573">}</span><span class="op" id="7463574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463577">{</span><span class="string" id="7463578">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7463600">,</span>&nbsp;<span class="string" id="7463602">&#34;$x$x$x&#34;</span><span class="op" id="7463610">,</span>&nbsp;<span class="string" id="7463612">&#34;bye&#34;</span><span class="op" id="7463617">,</span>&nbsp;<span class="string" id="7463619">&#34;byebyebye&#34;</span><span class="op" id="7463630">}</span><span class="op" id="7463631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463634">{</span><span class="string" id="7463635">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7463657">,</span>&nbsp;<span class="string" id="7463659">&#34;$xyz&#34;</span><span class="op" id="7463665">,</span>&nbsp;<span class="string" id="7463667">&#34;hi&#34;</span><span class="op" id="7463671">,</span>&nbsp;<span class="string" id="7463673">&#34;&#34;</span><span class="op" id="7463675">}</span><span class="op" id="7463676">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463679">{</span><span class="string" id="7463680">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7463702">,</span>&nbsp;<span class="string" id="7463704">&#34;${x}yz&#34;</span><span class="op" id="7463712">,</span>&nbsp;<span class="string" id="7463714">&#34;hi&#34;</span><span class="op" id="7463718">,</span>&nbsp;<span class="string" id="7463720">&#34;hiyz&#34;</span><span class="op" id="7463726">}</span><span class="op" id="7463727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463730">{</span><span class="string" id="7463731">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7463753">,</span>&nbsp;<span class="string" id="7463755">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7463766">,</span>&nbsp;<span class="string" id="7463768">&#34;hi&#34;</span><span class="op" id="7463772">,</span>&nbsp;<span class="string" id="7463774">&#34;hello&nbsp;$x&#34;</span><span class="op" id="7463784">}</span><span class="op" id="7463785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463788">{</span><span class="string" id="7463789">&#34;a+&#34;</span><span class="op" id="7463793">,</span>&nbsp;<span class="string" id="7463795">&#34;${oops&#34;</span><span class="op" id="7463803">,</span>&nbsp;<span class="string" id="7463805">&#34;aaa&#34;</span><span class="op" id="7463810">,</span>&nbsp;<span class="string" id="7463812">&#34;${oops&#34;</span><span class="op" id="7463820">}</span><span class="op" id="7463821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463824">{</span><span class="string" id="7463825">&#34;a+&#34;</span><span class="op" id="7463829">,</span>&nbsp;<span class="string" id="7463831">&#34;$$&#34;</span><span class="op" id="7463835">,</span>&nbsp;<span class="string" id="7463837">&#34;aaa&#34;</span><span class="op" id="7463842">,</span>&nbsp;<span class="string" id="7463844">&#34;$&#34;</span><span class="op" id="7463847">}</span><span class="op" id="7463848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463851">{</span><span class="string" id="7463852">&#34;a+&#34;</span><span class="op" id="7463856">,</span>&nbsp;<span class="string" id="7463858">&#34;$&#34;</span><span class="op" id="7463861">,</span>&nbsp;<span class="string" id="7463863">&#34;aaa&#34;</span><span class="op" id="7463868">,</span>&nbsp;<span class="string" id="7463870">&#34;$&#34;</span><span class="op" id="7463873">}</span><span class="op" id="7463874">,</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7463878">//&nbsp;Substitution&nbsp;when&nbsp;subexpression&nbsp;isn&#39;t&nbsp;found</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463926">{</span><span class="string" id="7463927">&#34;(x)?&#34;</span><span class="op" id="7463933">,</span>&nbsp;<span class="string" id="7463935">&#34;$1&#34;</span><span class="op" id="7463939">,</span>&nbsp;<span class="string" id="7463941">&#34;123&#34;</span><span class="op" id="7463946">,</span>&nbsp;<span class="string" id="7463948">&#34;123&#34;</span><span class="op" id="7463953">}</span><span class="op" id="7463954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463957">{</span><span class="string" id="7463958">&#34;abc&#34;</span><span class="op" id="7463963">,</span>&nbsp;<span class="string" id="7463965">&#34;$1&#34;</span><span class="op" id="7463969">,</span>&nbsp;<span class="string" id="7463971">&#34;123&#34;</span><span class="op" id="7463976">,</span>&nbsp;<span class="string" id="7463978">&#34;123&#34;</span><span class="op" id="7463983">}</span><span class="op" id="7463984">,</span><br>
<span class="lineno"></span><span class="op" id="7463986">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="7463989">var</span>&nbsp;<span class="ident" id="7463993">replaceLiteralTests</span>&nbsp;<span class="op" id="7464013">=</span>&nbsp;<span class="op" id="7464015">[</span><span class="op" id="7464016">]</span><span class="ident" id="7464017">ReplaceTest</span><span class="op" id="7464028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7464031">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464049">{</span><span class="string" id="7464050">&#34;a+&#34;</span><span class="op" id="7464054">,</span>&nbsp;<span class="string" id="7464056">&#34;($0)&#34;</span><span class="op" id="7464062">,</span>&nbsp;<span class="string" id="7464064">&#34;banana&#34;</span><span class="op" id="7464072">,</span>&nbsp;<span class="string" id="7464074">&#34;b($0)n($0)n($0)&#34;</span><span class="op" id="7464091">}</span><span class="op" id="7464092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464095">{</span><span class="string" id="7464096">&#34;a+&#34;</span><span class="op" id="7464100">,</span>&nbsp;<span class="string" id="7464102">&#34;(${0})&#34;</span><span class="op" id="7464110">,</span>&nbsp;<span class="string" id="7464112">&#34;banana&#34;</span><span class="op" id="7464120">,</span>&nbsp;<span class="string" id="7464122">&#34;b(${0})n(${0})n(${0})&#34;</span><span class="op" id="7464145">}</span><span class="op" id="7464146">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464149">{</span><span class="string" id="7464150">&#34;a+&#34;</span><span class="op" id="7464154">,</span>&nbsp;<span class="string" id="7464156">&#34;(${0})$0&#34;</span><span class="op" id="7464166">,</span>&nbsp;<span class="string" id="7464168">&#34;banana&#34;</span><span class="op" id="7464176">,</span>&nbsp;<span class="string" id="7464178">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="7464207">}</span><span class="op" id="7464208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464211">{</span><span class="string" id="7464212">&#34;a+&#34;</span><span class="op" id="7464216">,</span>&nbsp;<span class="string" id="7464218">&#34;(${0})$0&#34;</span><span class="op" id="7464228">,</span>&nbsp;<span class="string" id="7464230">&#34;banana&#34;</span><span class="op" id="7464238">,</span>&nbsp;<span class="string" id="7464240">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="7464269">}</span><span class="op" id="7464270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464273">{</span><span class="string" id="7464274">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7464287">,</span>&nbsp;<span class="string" id="7464289">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7464304">,</span>&nbsp;<span class="string" id="7464306">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7464320">,</span>&nbsp;<span class="string" id="7464322">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7464337">}</span><span class="op" id="7464338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464341">{</span><span class="string" id="7464342">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7464363">,</span>&nbsp;<span class="string" id="7464365">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7464382">,</span>&nbsp;<span class="string" id="7464384">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7464398">,</span>&nbsp;<span class="string" id="7464400">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7464417">}</span><span class="op" id="7464418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464421">{</span><span class="string" id="7464422">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7464443">,</span>&nbsp;<span class="string" id="7464445">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7464463">,</span>&nbsp;<span class="string" id="7464465">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7464479">,</span>&nbsp;<span class="string" id="7464481">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7464499">}</span><span class="op" id="7464500">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464503">{</span><span class="string" id="7464504">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7464526">,</span>&nbsp;<span class="string" id="7464528">&#34;$x$x$x&#34;</span><span class="op" id="7464536">,</span>&nbsp;<span class="string" id="7464538">&#34;hi&#34;</span><span class="op" id="7464542">,</span>&nbsp;<span class="string" id="7464544">&#34;$x$x$x&#34;</span><span class="op" id="7464552">}</span><span class="op" id="7464553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464556">{</span><span class="string" id="7464557">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7464579">,</span>&nbsp;<span class="string" id="7464581">&#34;$x$x$x&#34;</span><span class="op" id="7464589">,</span>&nbsp;<span class="string" id="7464591">&#34;bye&#34;</span><span class="op" id="7464596">,</span>&nbsp;<span class="string" id="7464598">&#34;$x$x$x&#34;</span><span class="op" id="7464606">}</span><span class="op" id="7464607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464610">{</span><span class="string" id="7464611">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7464633">,</span>&nbsp;<span class="string" id="7464635">&#34;$xyz&#34;</span><span class="op" id="7464641">,</span>&nbsp;<span class="string" id="7464643">&#34;hi&#34;</span><span class="op" id="7464647">,</span>&nbsp;<span class="string" id="7464649">&#34;$xyz&#34;</span><span class="op" id="7464655">}</span><span class="op" id="7464656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464659">{</span><span class="string" id="7464660">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7464682">,</span>&nbsp;<span class="string" id="7464684">&#34;${x}yz&#34;</span><span class="op" id="7464692">,</span>&nbsp;<span class="string" id="7464694">&#34;hi&#34;</span><span class="op" id="7464698">,</span>&nbsp;<span class="string" id="7464700">&#34;${x}yz&#34;</span><span class="op" id="7464708">}</span><span class="op" id="7464709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464712">{</span><span class="string" id="7464713">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7464735">,</span>&nbsp;<span class="string" id="7464737">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7464748">,</span>&nbsp;<span class="string" id="7464750">&#34;hi&#34;</span><span class="op" id="7464754">,</span>&nbsp;<span class="string" id="7464756">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7464767">}</span><span class="op" id="7464768">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464771">{</span><span class="string" id="7464772">&#34;a+&#34;</span><span class="op" id="7464776">,</span>&nbsp;<span class="string" id="7464778">&#34;${oops&#34;</span><span class="op" id="7464786">,</span>&nbsp;<span class="string" id="7464788">&#34;aaa&#34;</span><span class="op" id="7464793">,</span>&nbsp;<span class="string" id="7464795">&#34;${oops&#34;</span><span class="op" id="7464803">}</span><span class="op" id="7464804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464807">{</span><span class="string" id="7464808">&#34;a+&#34;</span><span class="op" id="7464812">,</span>&nbsp;<span class="string" id="7464814">&#34;$$&#34;</span><span class="op" id="7464818">,</span>&nbsp;<span class="string" id="7464820">&#34;aaa&#34;</span><span class="op" id="7464825">,</span>&nbsp;<span class="string" id="7464827">&#34;$$&#34;</span><span class="op" id="7464831">}</span><span class="op" id="7464832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464835">{</span><span class="string" id="7464836">&#34;a+&#34;</span><span class="op" id="7464840">,</span>&nbsp;<span class="string" id="7464842">&#34;$&#34;</span><span class="op" id="7464845">,</span>&nbsp;<span class="string" id="7464847">&#34;aaa&#34;</span><span class="op" id="7464852">,</span>&nbsp;<span class="string" id="7464854">&#34;$&#34;</span><span class="op" id="7464857">}</span><span class="op" id="7464858">,</span><br>
<span class="lineno"></span><span class="op" id="7464860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="7464863">type</span>&nbsp;<span class="ident" id="7464868">ReplaceFuncTest</span>&nbsp;<span class="keyword" id="7464884">struct</span>&nbsp;<span class="op" id="7464891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464894">pattern</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7464908">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464916">replacement</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="7464930">func</span><span class="op" id="7464934">(</span><span class="builtintype" id="7464935">string</span><span class="op" id="7464941">)</span>&nbsp;<span class="builtintype" id="7464943">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464951">input</span><span class="op" id="7464956">,</span>&nbsp;<span class="ident" id="7464958">output</span>&nbsp;<span class="builtintype" id="7464965">string</span><br>
<span class="lineno"></span><span class="op" id="7464972">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7464975">var</span>&nbsp;<span class="ident" id="7464979">replaceFuncTests</span>&nbsp;<span class="op" id="7464996">=</span>&nbsp;<span class="op" id="7464998">[</span><span class="op" id="7464999">]</span><span class="ident" id="7465000">ReplaceFuncTest</span><span class="op" id="7465015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465018">{</span><span class="string" id="7465019">&#34;[a-c]&#34;</span><span class="op" id="7465026">,</span>&nbsp;<span class="keyword" id="7465028">func</span><span class="op" id="7465032">(</span><span class="ident" id="7465033">s</span>&nbsp;<span class="builtintype" id="7465035">string</span><span class="op" id="7465041">)</span>&nbsp;<span class="builtintype" id="7465043">string</span>&nbsp;<span class="op" id="7465050">{</span>&nbsp;<span class="keyword" id="7465052">return</span>&nbsp;<span class="string" id="7465059">&#34;x&#34;</span>&nbsp;<span class="op" id="7465063">+</span>&nbsp;<span class="ident" id="7465065">s</span>&nbsp;<span class="op" id="7465067">+</span>&nbsp;<span class="string" id="7465069">&#34;y&#34;</span>&nbsp;<span class="op" id="7465073">}</span><span class="op" id="7465074">,</span>&nbsp;<span class="string" id="7465076">&#34;defabcdef&#34;</span><span class="op" id="7465087">,</span>&nbsp;<span class="string" id="7465089">&#34;defxayxbyxcydef&#34;</span><span class="op" id="7465106">}</span><span class="op" id="7465107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465110">{</span><span class="string" id="7465111">&#34;[a-c]+&#34;</span><span class="op" id="7465119">,</span>&nbsp;<span class="keyword" id="7465121">func</span><span class="op" id="7465125">(</span><span class="ident" id="7465126">s</span>&nbsp;<span class="builtintype" id="7465128">string</span><span class="op" id="7465134">)</span>&nbsp;<span class="builtintype" id="7465136">string</span>&nbsp;<span class="op" id="7465143">{</span>&nbsp;<span class="keyword" id="7465145">return</span>&nbsp;<span class="string" id="7465152">&#34;x&#34;</span>&nbsp;<span class="op" id="7465156">+</span>&nbsp;<span class="ident" id="7465158">s</span>&nbsp;<span class="op" id="7465160">+</span>&nbsp;<span class="string" id="7465162">&#34;y&#34;</span>&nbsp;<span class="op" id="7465166">}</span><span class="op" id="7465167">,</span>&nbsp;<span class="string" id="7465169">&#34;defabcdef&#34;</span><span class="op" id="7465180">,</span>&nbsp;<span class="string" id="7465182">&#34;defxabcydef&#34;</span><span class="op" id="7465195">}</span><span class="op" id="7465196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465199">{</span><span class="string" id="7465200">&#34;[a-c]*&#34;</span><span class="op" id="7465208">,</span>&nbsp;<span class="keyword" id="7465210">func</span><span class="op" id="7465214">(</span><span class="ident" id="7465215">s</span>&nbsp;<span class="builtintype" id="7465217">string</span><span class="op" id="7465223">)</span>&nbsp;<span class="builtintype" id="7465225">string</span>&nbsp;<span class="op" id="7465232">{</span>&nbsp;<span class="keyword" id="7465234">return</span>&nbsp;<span class="string" id="7465241">&#34;x&#34;</span>&nbsp;<span class="op" id="7465245">+</span>&nbsp;<span class="ident" id="7465247">s</span>&nbsp;<span class="op" id="7465249">+</span>&nbsp;<span class="string" id="7465251">&#34;y&#34;</span>&nbsp;<span class="op" id="7465255">}</span><span class="op" id="7465256">,</span>&nbsp;<span class="string" id="7465258">&#34;defabcdef&#34;</span><span class="op" id="7465269">,</span>&nbsp;<span class="string" id="7465271">&#34;xydxyexyfxabcydxyexyfxy&#34;</span><span class="op" id="7465296">}</span><span class="op" id="7465297">,</span><br>
<span class="lineno">235</span><span class="op" id="7465299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7465302">func</span>&nbsp;<span class="ident" id="7465307">TestReplaceAll</span><span class="op" id="7465321">(</span><span class="ident" id="7465322">t</span>&nbsp;<span class="op" id="7465324">*</span><span class="ident" id="7465325">testing</span><span class="op" id="7465332">.</span><span class="ident" id="7465333">T</span><span class="op" id="7465334">)</span>&nbsp;<span class="op" id="7465336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7465339">for</span>&nbsp;<span class="ident" id="7465343">_</span><span class="op" id="7465344">,</span>&nbsp;<span class="ident" id="7465346">tc</span>&nbsp;<span class="op" id="7465349">:=</span>&nbsp;<span class="keyword" id="7465352">range</span>&nbsp;<span class="ident" id="7465358">replaceTests</span>&nbsp;<span class="op" id="7465371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465375">re</span><span class="op" id="7465377">,</span>&nbsp;<span class="ident" id="7465379">err</span>&nbsp;<span class="op" id="7465383">:=</span>&nbsp;<span class="ident" id="7465386">Compile</span><span class="op" id="7465393">(</span><span class="ident" id="7465394">tc</span><span class="op" id="7465396">.</span><span class="ident" id="7465397">pattern</span><span class="op" id="7465404">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7465408">if</span>&nbsp;<span class="ident" id="7465411">err</span>&nbsp;<span class="op" id="7465415">!=</span>&nbsp;<span class="ident" id="7465418">nil</span>&nbsp;<span class="op" id="7465422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465427">t</span><span class="op" id="7465428">.</span><span class="ident" id="7465429">Errorf</span><span class="op" id="7465435">(</span><span class="string" id="7465436">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7465471">,</span>&nbsp;<span class="ident" id="7465473">tc</span><span class="op" id="7465475">.</span><span class="ident" id="7465476">pattern</span><span class="op" id="7465483">,</span>&nbsp;<span class="ident" id="7465485">err</span><span class="op" id="7465488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7465493">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465508">actual</span>&nbsp;<span class="op" id="7465515">:=</span>&nbsp;<span class="ident" id="7465518">re</span><span class="op" id="7465520">.</span><span class="ident" id="7465521">ReplaceAllString</span><span class="op" id="7465537">(</span><span class="ident" id="7465538">tc</span><span class="op" id="7465540">.</span><span class="ident" id="7465541">input</span><span class="op" id="7465546">,</span>&nbsp;<span class="ident" id="7465548">tc</span><span class="op" id="7465550">.</span><span class="ident" id="7465551">replacement</span><span class="op" id="7465562">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7465566">if</span>&nbsp;<span class="ident" id="7465569">actual</span>&nbsp;<span class="op" id="7465576">!=</span>&nbsp;<span class="ident" id="7465579">tc</span><span class="op" id="7465581">.</span><span class="ident" id="7465582">output</span>&nbsp;<span class="op" id="7465589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465594">t</span><span class="op" id="7465595">.</span><span class="ident" id="7465596">Errorf</span><span class="op" id="7465602">(</span><span class="string" id="7465603">&#34;%q.ReplaceAllString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7465645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465651">tc</span><span class="op" id="7465653">.</span><span class="ident" id="7465654">pattern</span><span class="op" id="7465661">,</span>&nbsp;<span class="ident" id="7465663">tc</span><span class="op" id="7465665">.</span><span class="ident" id="7465666">input</span><span class="op" id="7465671">,</span>&nbsp;<span class="ident" id="7465673">tc</span><span class="op" id="7465675">.</span><span class="ident" id="7465676">replacement</span><span class="op" id="7465687">,</span>&nbsp;<span class="ident" id="7465689">actual</span><span class="op" id="7465695">,</span>&nbsp;<span class="ident" id="7465697">tc</span><span class="op" id="7465699">.</span><span class="ident" id="7465700">output</span><span class="op" id="7465706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7465714">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465733">actual</span>&nbsp;<span class="op" id="7465740">=</span>&nbsp;<span class="builtintype" id="7465742">string</span><span class="op" id="7465748">(</span><span class="ident" id="7465749">re</span><span class="op" id="7465751">.</span><span class="ident" id="7465752">ReplaceAll</span><span class="op" id="7465762">(</span><span class="op" id="7465763">[</span><span class="op" id="7465764">]</span><span class="builtintype" id="7465765">byte</span><span class="op" id="7465769">(</span><span class="ident" id="7465770">tc</span><span class="op" id="7465772">.</span><span class="ident" id="7465773">input</span><span class="op" id="7465778">)</span><span class="op" id="7465779">,</span>&nbsp;<span class="op" id="7465781">[</span><span class="op" id="7465782">]</span><span class="builtintype" id="7465783">byte</span><span class="op" id="7465787">(</span><span class="ident" id="7465788">tc</span><span class="op" id="7465790">.</span><span class="ident" id="7465791">replacement</span><span class="op" id="7465802">)</span><span class="op" id="7465803">)</span><span class="op" id="7465804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7465808">if</span>&nbsp;<span class="ident" id="7465811">actual</span>&nbsp;<span class="op" id="7465818">!=</span>&nbsp;<span class="ident" id="7465821">tc</span><span class="op" id="7465823">.</span><span class="ident" id="7465824">output</span>&nbsp;<span class="op" id="7465831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465836">t</span><span class="op" id="7465837">.</span><span class="ident" id="7465838">Errorf</span><span class="op" id="7465844">(</span><span class="string" id="7465845">&#34;%q.ReplaceAll(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7465881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465887">tc</span><span class="op" id="7465889">.</span><span class="ident" id="7465890">pattern</span><span class="op" id="7465897">,</span>&nbsp;<span class="ident" id="7465899">tc</span><span class="op" id="7465901">.</span><span class="ident" id="7465902">input</span><span class="op" id="7465907">,</span>&nbsp;<span class="ident" id="7465909">tc</span><span class="op" id="7465911">.</span><span class="ident" id="7465912">replacement</span><span class="op" id="7465923">,</span>&nbsp;<span class="ident" id="7465925">actual</span><span class="op" id="7465931">,</span>&nbsp;<span class="ident" id="7465933">tc</span><span class="op" id="7465935">.</span><span class="ident" id="7465936">output</span><span class="op" id="7465942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465946">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465949">}</span><br>
<span class="lineno"></span><span class="op" id="7465951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7465954">func</span>&nbsp;<span class="ident" id="7465959">TestReplaceAllLiteral</span><span class="op" id="7465980">(</span><span class="ident" id="7465981">t</span>&nbsp;<span class="op" id="7465983">*</span><span class="ident" id="7465984">testing</span><span class="op" id="7465991">.</span><span class="ident" id="7465992">T</span><span class="op" id="7465993">)</span>&nbsp;<span class="op" id="7465995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7465998">//&nbsp;Run&nbsp;ReplaceAll&nbsp;tests&nbsp;that&nbsp;do&nbsp;not&nbsp;have&nbsp;$&nbsp;expansions.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7466054">for</span>&nbsp;<span class="ident" id="7466058">_</span><span class="op" id="7466059">,</span>&nbsp;<span class="ident" id="7466061">tc</span>&nbsp;<span class="op" id="7466064">:=</span>&nbsp;<span class="keyword" id="7466067">range</span>&nbsp;<span class="ident" id="7466073">replaceTests</span>&nbsp;<span class="op" id="7466086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7466090">if</span>&nbsp;<span class="ident" id="7466093">strings</span><span class="op" id="7466100">.</span><span class="ident" id="7466101">Contains</span><span class="op" id="7466109">(</span><span class="ident" id="7466110">tc</span><span class="op" id="7466112">.</span><span class="ident" id="7466113">replacement</span><span class="op" id="7466124">,</span>&nbsp;<span class="string" id="7466126">&#34;$&#34;</span><span class="op" id="7466129">)</span>&nbsp;<span class="op" id="7466131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7466136">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466151">re</span><span class="op" id="7466153">,</span>&nbsp;<span class="ident" id="7466155">err</span>&nbsp;<span class="op" id="7466159">:=</span>&nbsp;<span class="ident" id="7466162">Compile</span><span class="op" id="7466169">(</span><span class="ident" id="7466170">tc</span><span class="op" id="7466172">.</span><span class="ident" id="7466173">pattern</span><span class="op" id="7466180">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7466184">if</span>&nbsp;<span class="ident" id="7466187">err</span>&nbsp;<span class="op" id="7466191">!=</span>&nbsp;<span class="ident" id="7466194">nil</span>&nbsp;<span class="op" id="7466198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466203">t</span><span class="op" id="7466204">.</span><span class="ident" id="7466205">Errorf</span><span class="op" id="7466211">(</span><span class="string" id="7466212">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7466247">,</span>&nbsp;<span class="ident" id="7466249">tc</span><span class="op" id="7466251">.</span><span class="ident" id="7466252">pattern</span><span class="op" id="7466259">,</span>&nbsp;<span class="ident" id="7466261">err</span><span class="op" id="7466264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7466269">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466284">actual</span>&nbsp;<span class="op" id="7466291">:=</span>&nbsp;<span class="ident" id="7466294">re</span><span class="op" id="7466296">.</span><span class="ident" id="7466297">ReplaceAllLiteralString</span><span class="op" id="7466320">(</span><span class="ident" id="7466321">tc</span><span class="op" id="7466323">.</span><span class="ident" id="7466324">input</span><span class="op" id="7466329">,</span>&nbsp;<span class="ident" id="7466331">tc</span><span class="op" id="7466333">.</span><span class="ident" id="7466334">replacement</span><span class="op" id="7466345">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7466349">if</span>&nbsp;<span class="ident" id="7466352">actual</span>&nbsp;<span class="op" id="7466359">!=</span>&nbsp;<span class="ident" id="7466362">tc</span><span class="op" id="7466364">.</span><span class="ident" id="7466365">output</span>&nbsp;<span class="op" id="7466372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466377">t</span><span class="op" id="7466378">.</span><span class="ident" id="7466379">Errorf</span><span class="op" id="7466385">(</span><span class="string" id="7466386">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7466435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466441">tc</span><span class="op" id="7466443">.</span><span class="ident" id="7466444">pattern</span><span class="op" id="7466451">,</span>&nbsp;<span class="ident" id="7466453">tc</span><span class="op" id="7466455">.</span><span class="ident" id="7466456">input</span><span class="op" id="7466461">,</span>&nbsp;<span class="ident" id="7466463">tc</span><span class="op" id="7466465">.</span><span class="ident" id="7466466">replacement</span><span class="op" id="7466477">,</span>&nbsp;<span class="ident" id="7466479">actual</span><span class="op" id="7466485">,</span>&nbsp;<span class="ident" id="7466487">tc</span><span class="op" id="7466489">.</span><span class="ident" id="7466490">output</span><span class="op" id="7466496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7466504">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466523">actual</span>&nbsp;<span class="op" id="7466530">=</span>&nbsp;<span class="builtintype" id="7466532">string</span><span class="op" id="7466538">(</span><span class="ident" id="7466539">re</span><span class="op" id="7466541">.</span><span class="ident" id="7466542">ReplaceAllLiteral</span><span class="op" id="7466559">(</span><span class="op" id="7466560">[</span><span class="op" id="7466561">]</span><span class="builtintype" id="7466562">byte</span><span class="op" id="7466566">(</span><span class="ident" id="7466567">tc</span><span class="op" id="7466569">.</span><span class="ident" id="7466570">input</span><span class="op" id="7466575">)</span><span class="op" id="7466576">,</span>&nbsp;<span class="op" id="7466578">[</span><span class="op" id="7466579">]</span><span class="builtintype" id="7466580">byte</span><span class="op" id="7466584">(</span><span class="ident" id="7466585">tc</span><span class="op" id="7466587">.</span><span class="ident" id="7466588">replacement</span><span class="op" id="7466599">)</span><span class="op" id="7466600">)</span><span class="op" id="7466601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7466605">if</span>&nbsp;<span class="ident" id="7466608">actual</span>&nbsp;<span class="op" id="7466615">!=</span>&nbsp;<span class="ident" id="7466618">tc</span><span class="op" id="7466620">.</span><span class="ident" id="7466621">output</span>&nbsp;<span class="op" id="7466628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466633">t</span><span class="op" id="7466634">.</span><span class="ident" id="7466635">Errorf</span><span class="op" id="7466641">(</span><span class="string" id="7466642">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7466685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466691">tc</span><span class="op" id="7466693">.</span><span class="ident" id="7466694">pattern</span><span class="op" id="7466701">,</span>&nbsp;<span class="ident" id="7466703">tc</span><span class="op" id="7466705">.</span><span class="ident" id="7466706">input</span><span class="op" id="7466711">,</span>&nbsp;<span class="ident" id="7466713">tc</span><span class="op" id="7466715">.</span><span class="ident" id="7466716">replacement</span><span class="op" id="7466727">,</span>&nbsp;<span class="ident" id="7466729">actual</span><span class="op" id="7466735">,</span>&nbsp;<span class="ident" id="7466737">tc</span><span class="op" id="7466739">.</span><span class="ident" id="7466740">output</span><span class="op" id="7466746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466750">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7466757">//&nbsp;Run&nbsp;literal-specific&nbsp;tests.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7466789">for</span>&nbsp;<span class="ident" id="7466793">_</span><span class="op" id="7466794">,</span>&nbsp;<span class="ident" id="7466796">tc</span>&nbsp;<span class="op" id="7466799">:=</span>&nbsp;<span class="keyword" id="7466802">range</span>&nbsp;<span class="ident" id="7466808">replaceLiteralTests</span>&nbsp;<span class="op" id="7466828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466832">re</span><span class="op" id="7466834">,</span>&nbsp;<span class="ident" id="7466836">err</span>&nbsp;<span class="op" id="7466840">:=</span>&nbsp;<span class="ident" id="7466843">Compile</span><span class="op" id="7466850">(</span><span class="ident" id="7466851">tc</span><span class="op" id="7466853">.</span><span class="ident" id="7466854">pattern</span><span class="op" id="7466861">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7466865">if</span>&nbsp;<span class="ident" id="7466868">err</span>&nbsp;<span class="op" id="7466872">!=</span>&nbsp;<span class="ident" id="7466875">nil</span>&nbsp;<span class="op" id="7466879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466884">t</span><span class="op" id="7466885">.</span><span class="ident" id="7466886">Errorf</span><span class="op" id="7466892">(</span><span class="string" id="7466893">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7466928">,</span>&nbsp;<span class="ident" id="7466930">tc</span><span class="op" id="7466932">.</span><span class="ident" id="7466933">pattern</span><span class="op" id="7466940">,</span>&nbsp;<span class="ident" id="7466942">err</span><span class="op" id="7466945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7466950">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466965">actual</span>&nbsp;<span class="op" id="7466972">:=</span>&nbsp;<span class="ident" id="7466975">re</span><span class="op" id="7466977">.</span><span class="ident" id="7466978">ReplaceAllLiteralString</span><span class="op" id="7467001">(</span><span class="ident" id="7467002">tc</span><span class="op" id="7467004">.</span><span class="ident" id="7467005">input</span><span class="op" id="7467010">,</span>&nbsp;<span class="ident" id="7467012">tc</span><span class="op" id="7467014">.</span><span class="ident" id="7467015">replacement</span><span class="op" id="7467026">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467030">if</span>&nbsp;<span class="ident" id="7467033">actual</span>&nbsp;<span class="op" id="7467040">!=</span>&nbsp;<span class="ident" id="7467043">tc</span><span class="op" id="7467045">.</span><span class="ident" id="7467046">output</span>&nbsp;<span class="op" id="7467053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467058">t</span><span class="op" id="7467059">.</span><span class="ident" id="7467060">Errorf</span><span class="op" id="7467066">(</span><span class="string" id="7467067">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7467116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467122">tc</span><span class="op" id="7467124">.</span><span class="ident" id="7467125">pattern</span><span class="op" id="7467132">,</span>&nbsp;<span class="ident" id="7467134">tc</span><span class="op" id="7467136">.</span><span class="ident" id="7467137">input</span><span class="op" id="7467142">,</span>&nbsp;<span class="ident" id="7467144">tc</span><span class="op" id="7467146">.</span><span class="ident" id="7467147">replacement</span><span class="op" id="7467158">,</span>&nbsp;<span class="ident" id="7467160">actual</span><span class="op" id="7467166">,</span>&nbsp;<span class="ident" id="7467168">tc</span><span class="op" id="7467170">.</span><span class="ident" id="7467171">output</span><span class="op" id="7467177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7467185">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467204">actual</span>&nbsp;<span class="op" id="7467211">=</span>&nbsp;<span class="builtintype" id="7467213">string</span><span class="op" id="7467219">(</span><span class="ident" id="7467220">re</span><span class="op" id="7467222">.</span><span class="ident" id="7467223">ReplaceAllLiteral</span><span class="op" id="7467240">(</span><span class="op" id="7467241">[</span><span class="op" id="7467242">]</span><span class="builtintype" id="7467243">byte</span><span class="op" id="7467247">(</span><span class="ident" id="7467248">tc</span><span class="op" id="7467250">.</span><span class="ident" id="7467251">input</span><span class="op" id="7467256">)</span><span class="op" id="7467257">,</span>&nbsp;<span class="op" id="7467259">[</span><span class="op" id="7467260">]</span><span class="builtintype" id="7467261">byte</span><span class="op" id="7467265">(</span><span class="ident" id="7467266">tc</span><span class="op" id="7467268">.</span><span class="ident" id="7467269">replacement</span><span class="op" id="7467280">)</span><span class="op" id="7467281">)</span><span class="op" id="7467282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467286">if</span>&nbsp;<span class="ident" id="7467289">actual</span>&nbsp;<span class="op" id="7467296">!=</span>&nbsp;<span class="ident" id="7467299">tc</span><span class="op" id="7467301">.</span><span class="ident" id="7467302">output</span>&nbsp;<span class="op" id="7467309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467314">t</span><span class="op" id="7467315">.</span><span class="ident" id="7467316">Errorf</span><span class="op" id="7467322">(</span><span class="string" id="7467323">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7467366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467372">tc</span><span class="op" id="7467374">.</span><span class="ident" id="7467375">pattern</span><span class="op" id="7467382">,</span>&nbsp;<span class="ident" id="7467384">tc</span><span class="op" id="7467386">.</span><span class="ident" id="7467387">input</span><span class="op" id="7467392">,</span>&nbsp;<span class="ident" id="7467394">tc</span><span class="op" id="7467396">.</span><span class="ident" id="7467397">replacement</span><span class="op" id="7467408">,</span>&nbsp;<span class="ident" id="7467410">actual</span><span class="op" id="7467416">,</span>&nbsp;<span class="ident" id="7467418">tc</span><span class="op" id="7467420">.</span><span class="ident" id="7467421">output</span><span class="op" id="7467427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467431">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467434">}</span><br>
<span class="lineno"></span><span class="op" id="7467436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7467439">func</span>&nbsp;<span class="ident" id="7467444">TestReplaceAllFunc</span><span class="op" id="7467462">(</span><span class="ident" id="7467463">t</span>&nbsp;<span class="op" id="7467465">*</span><span class="ident" id="7467466">testing</span><span class="op" id="7467473">.</span><span class="ident" id="7467474">T</span><span class="op" id="7467475">)</span>&nbsp;<span class="op" id="7467477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467480">for</span>&nbsp;<span class="ident" id="7467484">_</span><span class="op" id="7467485">,</span>&nbsp;<span class="ident" id="7467487">tc</span>&nbsp;<span class="op" id="7467490">:=</span>&nbsp;<span class="keyword" id="7467493">range</span>&nbsp;<span class="ident" id="7467499">replaceFuncTests</span>&nbsp;<span class="op" id="7467516">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467520">re</span><span class="op" id="7467522">,</span>&nbsp;<span class="ident" id="7467524">err</span>&nbsp;<span class="op" id="7467528">:=</span>&nbsp;<span class="ident" id="7467531">Compile</span><span class="op" id="7467538">(</span><span class="ident" id="7467539">tc</span><span class="op" id="7467541">.</span><span class="ident" id="7467542">pattern</span><span class="op" id="7467549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467553">if</span>&nbsp;<span class="ident" id="7467556">err</span>&nbsp;<span class="op" id="7467560">!=</span>&nbsp;<span class="ident" id="7467563">nil</span>&nbsp;<span class="op" id="7467567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467572">t</span><span class="op" id="7467573">.</span><span class="ident" id="7467574">Errorf</span><span class="op" id="7467580">(</span><span class="string" id="7467581">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7467616">,</span>&nbsp;<span class="ident" id="7467618">tc</span><span class="op" id="7467620">.</span><span class="ident" id="7467621">pattern</span><span class="op" id="7467628">,</span>&nbsp;<span class="ident" id="7467630">err</span><span class="op" id="7467633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467638">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467649">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467653">actual</span>&nbsp;<span class="op" id="7467660">:=</span>&nbsp;<span class="ident" id="7467663">re</span><span class="op" id="7467665">.</span><span class="ident" id="7467666">ReplaceAllStringFunc</span><span class="op" id="7467686">(</span><span class="ident" id="7467687">tc</span><span class="op" id="7467689">.</span><span class="ident" id="7467690">input</span><span class="op" id="7467695">,</span>&nbsp;<span class="ident" id="7467697">tc</span><span class="op" id="7467699">.</span><span class="ident" id="7467700">replacement</span><span class="op" id="7467711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467715">if</span>&nbsp;<span class="ident" id="7467718">actual</span>&nbsp;<span class="op" id="7467725">!=</span>&nbsp;<span class="ident" id="7467728">tc</span><span class="op" id="7467730">.</span><span class="ident" id="7467731">output</span>&nbsp;<span class="op" id="7467738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467743">t</span><span class="op" id="7467744">.</span><span class="ident" id="7467745">Errorf</span><span class="op" id="7467751">(</span><span class="string" id="7467752">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7467789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467795">tc</span><span class="op" id="7467797">.</span><span class="ident" id="7467798">pattern</span><span class="op" id="7467805">,</span>&nbsp;<span class="ident" id="7467807">tc</span><span class="op" id="7467809">.</span><span class="ident" id="7467810">input</span><span class="op" id="7467815">,</span>&nbsp;<span class="ident" id="7467817">actual</span><span class="op" id="7467823">,</span>&nbsp;<span class="ident" id="7467825">tc</span><span class="op" id="7467827">.</span><span class="ident" id="7467828">output</span><span class="op" id="7467834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467838">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7467842">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467861">actual</span>&nbsp;<span class="op" id="7467868">=</span>&nbsp;<span class="builtintype" id="7467870">string</span><span class="op" id="7467876">(</span><span class="ident" id="7467877">re</span><span class="op" id="7467879">.</span><span class="ident" id="7467880">ReplaceAllFunc</span><span class="op" id="7467894">(</span><span class="op" id="7467895">[</span><span class="op" id="7467896">]</span><span class="builtintype" id="7467897">byte</span><span class="op" id="7467901">(</span><span class="ident" id="7467902">tc</span><span class="op" id="7467904">.</span><span class="ident" id="7467905">input</span><span class="op" id="7467910">)</span><span class="op" id="7467911">,</span>&nbsp;<span class="keyword" id="7467913">func</span><span class="op" id="7467917">(</span><span class="ident" id="7467918">s</span>&nbsp;<span class="op" id="7467920">[</span><span class="op" id="7467921">]</span><span class="builtintype" id="7467922">byte</span><span class="op" id="7467926">)</span>&nbsp;<span class="op" id="7467928">[</span><span class="op" id="7467929">]</span><span class="builtintype" id="7467930">byte</span>&nbsp;<span class="op" id="7467935">{</span>&nbsp;<span class="keyword" id="7467937">return</span>&nbsp;<span class="op" id="7467944">[</span><span class="op" id="7467945">]</span><span class="builtintype" id="7467946">byte</span><span class="op" id="7467950">(</span><span class="ident" id="7467951">tc</span><span class="op" id="7467953">.</span><span class="ident" id="7467954">replacement</span><span class="op" id="7467965">(</span><span class="builtintype" id="7467966">string</span><span class="op" id="7467972">(</span><span class="ident" id="7467973">s</span><span class="op" id="7467974">)</span><span class="op" id="7467975">)</span><span class="op" id="7467976">)</span>&nbsp;<span class="op" id="7467978">}</span><span class="op" id="7467979">)</span><span class="op" id="7467980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467984">if</span>&nbsp;<span class="ident" id="7467987">actual</span>&nbsp;<span class="op" id="7467994">!=</span>&nbsp;<span class="ident" id="7467997">tc</span><span class="op" id="7467999">.</span><span class="ident" id="7468000">output</span>&nbsp;<span class="op" id="7468007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468012">t</span><span class="op" id="7468013">.</span><span class="ident" id="7468014">Errorf</span><span class="op" id="7468020">(</span><span class="string" id="7468021">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7468058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468064">tc</span><span class="op" id="7468066">.</span><span class="ident" id="7468067">pattern</span><span class="op" id="7468074">,</span>&nbsp;<span class="ident" id="7468076">tc</span><span class="op" id="7468078">.</span><span class="ident" id="7468079">input</span><span class="op" id="7468084">,</span>&nbsp;<span class="ident" id="7468086">actual</span><span class="op" id="7468092">,</span>&nbsp;<span class="ident" id="7468094">tc</span><span class="op" id="7468096">.</span><span class="ident" id="7468097">output</span><span class="op" id="7468103">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468110">}</span><br>
<span class="lineno"></span><span class="op" id="7468112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7468115">type</span>&nbsp;<span class="ident" id="7468120">MetaTest</span>&nbsp;<span class="keyword" id="7468129">struct</span>&nbsp;<span class="op" id="7468136">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468139">pattern</span><span class="op" id="7468146">,</span>&nbsp;<span class="ident" id="7468148">output</span><span class="op" id="7468154">,</span>&nbsp;<span class="ident" id="7468156">literal</span>&nbsp;<span class="builtintype" id="7468164">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468172">isLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7468197">bool</span><br>
<span class="lineno"></span><span class="op" id="7468202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7468205">var</span>&nbsp;<span class="ident" id="7468209">metaTests</span>&nbsp;<span class="op" id="7468219">=</span>&nbsp;<span class="op" id="7468221">[</span><span class="op" id="7468222">]</span><span class="ident" id="7468223">MetaTest</span><span class="op" id="7468231">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468234">{</span><span class="string" id="7468235">``</span><span class="op" id="7468237">,</span>&nbsp;<span class="string" id="7468239">``</span><span class="op" id="7468241">,</span>&nbsp;<span class="string" id="7468243">``</span><span class="op" id="7468245">,</span>&nbsp;<span class="builtintype" id="7468247">true</span><span class="op" id="7468251">}</span><span class="op" id="7468252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468255">{</span><span class="string" id="7468256">`foo`</span><span class="op" id="7468261">,</span>&nbsp;<span class="string" id="7468263">`foo`</span><span class="op" id="7468268">,</span>&nbsp;<span class="string" id="7468270">`foo`</span><span class="op" id="7468275">,</span>&nbsp;<span class="builtintype" id="7468277">true</span><span class="op" id="7468281">}</span><span class="op" id="7468282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468285">{</span><span class="string" id="7468286">`foo\.\$`</span><span class="op" id="7468295">,</span>&nbsp;<span class="string" id="7468297">`foo\\\.\\\$`</span><span class="op" id="7468310">,</span>&nbsp;<span class="string" id="7468312">`foo.$`</span><span class="op" id="7468319">,</span>&nbsp;<span class="builtintype" id="7468321">true</span><span class="op" id="7468325">}</span><span class="op" id="7468326">,</span>&nbsp;<span class="comment" id="7468328">//&nbsp;has&nbsp;meta&nbsp;but&nbsp;no&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468357">{</span><span class="string" id="7468358">`foo.\$`</span><span class="op" id="7468366">,</span>&nbsp;<span class="string" id="7468368">`foo\.\\\$`</span><span class="op" id="7468379">,</span>&nbsp;<span class="string" id="7468381">`foo`</span><span class="op" id="7468386">,</span>&nbsp;<span class="builtintype" id="7468388">false</span><span class="op" id="7468393">}</span><span class="op" id="7468394">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7468400">//&nbsp;has&nbsp;escaped&nbsp;operators&nbsp;and&nbsp;real&nbsp;operators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468445">{</span><span class="string" id="7468446">`!@#$%^&amp;*()_+-=[{]}\|,&lt;.&gt;/?~`</span><span class="op" id="7468475">,</span>&nbsp;<span class="string" id="7468477">`!@#\$%\^&amp;\*\(\)_\+-=\[\{\]\}\\\|,&lt;\.&gt;/\?~`</span><span class="op" id="7468520">,</span>&nbsp;<span class="string" id="7468522">`!@#`</span><span class="op" id="7468527">,</span>&nbsp;<span class="builtintype" id="7468529">false</span><span class="op" id="7468534">}</span><span class="op" id="7468535">,</span><br>
<span class="lineno">335</span><span class="op" id="7468537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7468540">func</span>&nbsp;<span class="ident" id="7468545">TestQuoteMeta</span><span class="op" id="7468558">(</span><span class="ident" id="7468559">t</span>&nbsp;<span class="op" id="7468561">*</span><span class="ident" id="7468562">testing</span><span class="op" id="7468569">.</span><span class="ident" id="7468570">T</span><span class="op" id="7468571">)</span>&nbsp;<span class="op" id="7468573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468576">for</span>&nbsp;<span class="ident" id="7468580">_</span><span class="op" id="7468581">,</span>&nbsp;<span class="ident" id="7468583">tc</span>&nbsp;<span class="op" id="7468586">:=</span>&nbsp;<span class="keyword" id="7468589">range</span>&nbsp;<span class="ident" id="7468595">metaTests</span>&nbsp;<span class="op" id="7468605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7468609">//&nbsp;Verify&nbsp;that&nbsp;QuoteMeta&nbsp;returns&nbsp;the&nbsp;expected&nbsp;string.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468665">quoted</span>&nbsp;<span class="op" id="7468672">:=</span>&nbsp;<span class="ident" id="7468675">QuoteMeta</span><span class="op" id="7468684">(</span><span class="ident" id="7468685">tc</span><span class="op" id="7468687">.</span><span class="ident" id="7468688">pattern</span><span class="op" id="7468695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468699">if</span>&nbsp;<span class="ident" id="7468702">quoted</span>&nbsp;<span class="op" id="7468709">!=</span>&nbsp;<span class="ident" id="7468712">tc</span><span class="op" id="7468714">.</span><span class="ident" id="7468715">output</span>&nbsp;<span class="op" id="7468722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468727">t</span><span class="op" id="7468728">.</span><span class="ident" id="7468729">Errorf</span><span class="op" id="7468735">(</span><span class="string" id="7468736">&#34;QuoteMeta(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7468771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468777">tc</span><span class="op" id="7468779">.</span><span class="ident" id="7468780">pattern</span><span class="op" id="7468787">,</span>&nbsp;<span class="ident" id="7468789">quoted</span><span class="op" id="7468795">,</span>&nbsp;<span class="ident" id="7468797">tc</span><span class="op" id="7468799">.</span><span class="ident" id="7468800">output</span><span class="op" id="7468806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468811">continue</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7468827">//&nbsp;Verify&nbsp;that&nbsp;the&nbsp;quoted&nbsp;string&nbsp;is&nbsp;in&nbsp;fact&nbsp;treated&nbsp;as&nbsp;expected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7468893">//&nbsp;by&nbsp;Compile&nbsp;--&nbsp;i.e.&nbsp;that&nbsp;it&nbsp;matches&nbsp;the&nbsp;original,&nbsp;unquoted&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468964">if</span>&nbsp;<span class="ident" id="7468967">tc</span><span class="op" id="7468969">.</span><span class="ident" id="7468970">pattern</span>&nbsp;<span class="op" id="7468978">!=</span>&nbsp;<span class="string" id="7468981">&#34;&#34;</span>&nbsp;<span class="op" id="7468984">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468989">re</span><span class="op" id="7468991">,</span>&nbsp;<span class="ident" id="7468993">err</span>&nbsp;<span class="op" id="7468997">:=</span>&nbsp;<span class="ident" id="7469000">Compile</span><span class="op" id="7469007">(</span><span class="ident" id="7469008">quoted</span><span class="op" id="7469014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469019">if</span>&nbsp;<span class="ident" id="7469022">err</span>&nbsp;<span class="op" id="7469026">!=</span>&nbsp;<span class="ident" id="7469029">nil</span>&nbsp;<span class="op" id="7469033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469039">t</span><span class="op" id="7469040">.</span><span class="ident" id="7469041">Errorf</span><span class="op" id="7469047">(</span><span class="string" id="7469048">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;QuoteMeta(`%s`):&nbsp;%v&#34;</span><span class="op" id="7469096">,</span>&nbsp;<span class="ident" id="7469098">tc</span><span class="op" id="7469100">.</span><span class="ident" id="7469101">pattern</span><span class="op" id="7469108">,</span>&nbsp;<span class="ident" id="7469110">err</span><span class="op" id="7469113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469119">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469131">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469136">src</span>&nbsp;<span class="op" id="7469140">:=</span>&nbsp;<span class="string" id="7469143">&#34;abc&#34;</span>&nbsp;<span class="op" id="7469149">+</span>&nbsp;<span class="ident" id="7469151">tc</span><span class="op" id="7469153">.</span><span class="ident" id="7469154">pattern</span>&nbsp;<span class="op" id="7469162">+</span>&nbsp;<span class="string" id="7469164">&#34;def&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469173">repl</span>&nbsp;<span class="op" id="7469178">:=</span>&nbsp;<span class="string" id="7469181">&#34;xyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469190">replaced</span>&nbsp;<span class="op" id="7469199">:=</span>&nbsp;<span class="ident" id="7469202">re</span><span class="op" id="7469204">.</span><span class="ident" id="7469205">ReplaceAllString</span><span class="op" id="7469221">(</span><span class="ident" id="7469222">src</span><span class="op" id="7469225">,</span>&nbsp;<span class="ident" id="7469227">repl</span><span class="op" id="7469231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469236">expected</span>&nbsp;<span class="op" id="7469245">:=</span>&nbsp;<span class="string" id="7469248">&#34;abcxyzdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469263">if</span>&nbsp;<span class="ident" id="7469266">replaced</span>&nbsp;<span class="op" id="7469275">!=</span>&nbsp;<span class="ident" id="7469278">expected</span>&nbsp;<span class="op" id="7469287">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469293">t</span><span class="op" id="7469294">.</span><span class="ident" id="7469295">Errorf</span><span class="op" id="7469301">(</span><span class="string" id="7469302">&#34;QuoteMeta(`%s`).Replace(`%s`,`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7469356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469363">tc</span><span class="op" id="7469365">.</span><span class="ident" id="7469366">pattern</span><span class="op" id="7469373">,</span>&nbsp;<span class="ident" id="7469375">src</span><span class="op" id="7469378">,</span>&nbsp;<span class="ident" id="7469380">repl</span><span class="op" id="7469384">,</span>&nbsp;<span class="ident" id="7469386">replaced</span><span class="op" id="7469394">,</span>&nbsp;<span class="ident" id="7469396">expected</span><span class="op" id="7469404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469416">}</span><br>
<span class="lineno">365</span><span class="op" id="7469418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7469421">func</span>&nbsp;<span class="ident" id="7469426">TestLiteralPrefix</span><span class="op" id="7469443">(</span><span class="ident" id="7469444">t</span>&nbsp;<span class="op" id="7469446">*</span><span class="ident" id="7469447">testing</span><span class="op" id="7469454">.</span><span class="ident" id="7469455">T</span><span class="op" id="7469456">)</span>&nbsp;<span class="op" id="7469458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469461">for</span>&nbsp;<span class="ident" id="7469465">_</span><span class="op" id="7469466">,</span>&nbsp;<span class="ident" id="7469468">tc</span>&nbsp;<span class="op" id="7469471">:=</span>&nbsp;<span class="keyword" id="7469474">range</span>&nbsp;<span class="ident" id="7469480">metaTests</span>&nbsp;<span class="op" id="7469490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7469494">//&nbsp;Literal&nbsp;method&nbsp;needs&nbsp;to&nbsp;scan&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469541">re</span>&nbsp;<span class="op" id="7469544">:=</span>&nbsp;<span class="ident" id="7469547">MustCompile</span><span class="op" id="7469558">(</span><span class="ident" id="7469559">tc</span><span class="op" id="7469561">.</span><span class="ident" id="7469562">pattern</span><span class="op" id="7469569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469573">str</span><span class="op" id="7469576">,</span>&nbsp;<span class="ident" id="7469578">complete</span>&nbsp;<span class="op" id="7469587">:=</span>&nbsp;<span class="ident" id="7469590">re</span><span class="op" id="7469592">.</span><span class="ident" id="7469593">LiteralPrefix</span><span class="op" id="7469606">(</span><span class="op" id="7469607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469611">if</span>&nbsp;<span class="ident" id="7469614">complete</span>&nbsp;<span class="op" id="7469623">!=</span>&nbsp;<span class="ident" id="7469626">tc</span><span class="op" id="7469628">.</span><span class="ident" id="7469629">isLiteral</span>&nbsp;<span class="op" id="7469639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469644">t</span><span class="op" id="7469645">.</span><span class="ident" id="7469646">Errorf</span><span class="op" id="7469652">(</span><span class="string" id="7469653">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="7469688">,</span>&nbsp;<span class="ident" id="7469690">tc</span><span class="op" id="7469692">.</span><span class="ident" id="7469693">pattern</span><span class="op" id="7469700">,</span>&nbsp;<span class="ident" id="7469702">complete</span><span class="op" id="7469710">,</span>&nbsp;<span class="ident" id="7469712">tc</span><span class="op" id="7469714">.</span><span class="ident" id="7469715">isLiteral</span><span class="op" id="7469724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469728">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469732">if</span>&nbsp;<span class="ident" id="7469735">str</span>&nbsp;<span class="op" id="7469739">!=</span>&nbsp;<span class="ident" id="7469742">tc</span><span class="op" id="7469744">.</span><span class="ident" id="7469745">literal</span>&nbsp;<span class="op" id="7469753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469758">t</span><span class="op" id="7469759">.</span><span class="ident" id="7469760">Errorf</span><span class="op" id="7469766">(</span><span class="string" id="7469767">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7469806">,</span>&nbsp;<span class="ident" id="7469808">tc</span><span class="op" id="7469810">.</span><span class="ident" id="7469811">pattern</span><span class="op" id="7469818">,</span>&nbsp;<span class="ident" id="7469820">str</span><span class="op" id="7469823">,</span>&nbsp;<span class="ident" id="7469825">tc</span><span class="op" id="7469827">.</span><span class="ident" id="7469828">literal</span><span class="op" id="7469835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469842">}</span><br>
<span class="lineno"></span><span class="op" id="7469844">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="7469847">type</span>&nbsp;<span class="ident" id="7469852">subexpCase</span>&nbsp;<span class="keyword" id="7469863">struct</span>&nbsp;<span class="op" id="7469870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469873">input</span>&nbsp;<span class="builtintype" id="7469879">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469887">num</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7469893">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469898">names</span>&nbsp;<span class="op" id="7469904">[</span><span class="op" id="7469905">]</span><span class="builtintype" id="7469906">string</span><br>
<span class="lineno">385</span><span class="op" id="7469913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7469916">var</span>&nbsp;<span class="ident" id="7469920">subexpCases</span>&nbsp;<span class="op" id="7469932">=</span>&nbsp;<span class="op" id="7469934">[</span><span class="op" id="7469935">]</span><span class="ident" id="7469936">subexpCase</span><span class="op" id="7469946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469949">{</span><span class="string" id="7469950">``</span><span class="op" id="7469952">,</span>&nbsp;<span class="num" id="7469954">0</span><span class="op" id="7469955">,</span>&nbsp;<span class="ident" id="7469957">nil</span><span class="op" id="7469960">}</span><span class="op" id="7469961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469964">{</span><span class="string" id="7469965">`.*`</span><span class="op" id="7469969">,</span>&nbsp;<span class="num" id="7469971">0</span><span class="op" id="7469972">,</span>&nbsp;<span class="ident" id="7469974">nil</span><span class="op" id="7469977">}</span><span class="op" id="7469978">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469981">{</span><span class="string" id="7469982">`abba`</span><span class="op" id="7469988">,</span>&nbsp;<span class="num" id="7469990">0</span><span class="op" id="7469991">,</span>&nbsp;<span class="ident" id="7469993">nil</span><span class="op" id="7469996">}</span><span class="op" id="7469997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470000">{</span><span class="string" id="7470001">`ab(b)a`</span><span class="op" id="7470009">,</span>&nbsp;<span class="num" id="7470011">1</span><span class="op" id="7470012">,</span>&nbsp;<span class="op" id="7470014">[</span><span class="op" id="7470015">]</span><span class="builtintype" id="7470016">string</span><span class="op" id="7470022">{</span><span class="string" id="7470023">&#34;&#34;</span><span class="op" id="7470025">,</span>&nbsp;<span class="string" id="7470027">&#34;&#34;</span><span class="op" id="7470029">}</span><span class="op" id="7470030">}</span><span class="op" id="7470031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470034">{</span><span class="string" id="7470035">`ab(.*)a`</span><span class="op" id="7470044">,</span>&nbsp;<span class="num" id="7470046">1</span><span class="op" id="7470047">,</span>&nbsp;<span class="op" id="7470049">[</span><span class="op" id="7470050">]</span><span class="builtintype" id="7470051">string</span><span class="op" id="7470057">{</span><span class="string" id="7470058">&#34;&#34;</span><span class="op" id="7470060">,</span>&nbsp;<span class="string" id="7470062">&#34;&#34;</span><span class="op" id="7470064">}</span><span class="op" id="7470065">}</span><span class="op" id="7470066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470069">{</span><span class="string" id="7470070">`(.*)ab(.*)a`</span><span class="op" id="7470083">,</span>&nbsp;<span class="num" id="7470085">2</span><span class="op" id="7470086">,</span>&nbsp;<span class="op" id="7470088">[</span><span class="op" id="7470089">]</span><span class="builtintype" id="7470090">string</span><span class="op" id="7470096">{</span><span class="string" id="7470097">&#34;&#34;</span><span class="op" id="7470099">,</span>&nbsp;<span class="string" id="7470101">&#34;&#34;</span><span class="op" id="7470103">,</span>&nbsp;<span class="string" id="7470105">&#34;&#34;</span><span class="op" id="7470107">}</span><span class="op" id="7470108">}</span><span class="op" id="7470109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470112">{</span><span class="string" id="7470113">`(.*)(ab)(.*)a`</span><span class="op" id="7470128">,</span>&nbsp;<span class="num" id="7470130">3</span><span class="op" id="7470131">,</span>&nbsp;<span class="op" id="7470133">[</span><span class="op" id="7470134">]</span><span class="builtintype" id="7470135">string</span><span class="op" id="7470141">{</span><span class="string" id="7470142">&#34;&#34;</span><span class="op" id="7470144">,</span>&nbsp;<span class="string" id="7470146">&#34;&#34;</span><span class="op" id="7470148">,</span>&nbsp;<span class="string" id="7470150">&#34;&#34;</span><span class="op" id="7470152">,</span>&nbsp;<span class="string" id="7470154">&#34;&#34;</span><span class="op" id="7470156">}</span><span class="op" id="7470157">}</span><span class="op" id="7470158">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470161">{</span><span class="string" id="7470162">`(.*)((a)b)(.*)a`</span><span class="op" id="7470179">,</span>&nbsp;<span class="num" id="7470181">4</span><span class="op" id="7470182">,</span>&nbsp;<span class="op" id="7470184">[</span><span class="op" id="7470185">]</span><span class="builtintype" id="7470186">string</span><span class="op" id="7470192">{</span><span class="string" id="7470193">&#34;&#34;</span><span class="op" id="7470195">,</span>&nbsp;<span class="string" id="7470197">&#34;&#34;</span><span class="op" id="7470199">,</span>&nbsp;<span class="string" id="7470201">&#34;&#34;</span><span class="op" id="7470203">,</span>&nbsp;<span class="string" id="7470205">&#34;&#34;</span><span class="op" id="7470207">,</span>&nbsp;<span class="string" id="7470209">&#34;&#34;</span><span class="op" id="7470211">}</span><span class="op" id="7470212">}</span><span class="op" id="7470213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470216">{</span><span class="string" id="7470217">`(.*)(\(ab)(.*)a`</span><span class="op" id="7470234">,</span>&nbsp;<span class="num" id="7470236">3</span><span class="op" id="7470237">,</span>&nbsp;<span class="op" id="7470239">[</span><span class="op" id="7470240">]</span><span class="builtintype" id="7470241">string</span><span class="op" id="7470247">{</span><span class="string" id="7470248">&#34;&#34;</span><span class="op" id="7470250">,</span>&nbsp;<span class="string" id="7470252">&#34;&#34;</span><span class="op" id="7470254">,</span>&nbsp;<span class="string" id="7470256">&#34;&#34;</span><span class="op" id="7470258">,</span>&nbsp;<span class="string" id="7470260">&#34;&#34;</span><span class="op" id="7470262">}</span><span class="op" id="7470263">}</span><span class="op" id="7470264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470267">{</span><span class="string" id="7470268">`(.*)(\(a\)b)(.*)a`</span><span class="op" id="7470287">,</span>&nbsp;<span class="num" id="7470289">3</span><span class="op" id="7470290">,</span>&nbsp;<span class="op" id="7470292">[</span><span class="op" id="7470293">]</span><span class="builtintype" id="7470294">string</span><span class="op" id="7470300">{</span><span class="string" id="7470301">&#34;&#34;</span><span class="op" id="7470303">,</span>&nbsp;<span class="string" id="7470305">&#34;&#34;</span><span class="op" id="7470307">,</span>&nbsp;<span class="string" id="7470309">&#34;&#34;</span><span class="op" id="7470311">,</span>&nbsp;<span class="string" id="7470313">&#34;&#34;</span><span class="op" id="7470315">}</span><span class="op" id="7470316">}</span><span class="op" id="7470317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470320">{</span><span class="string" id="7470321">`(?P&lt;foo&gt;.*)(?P&lt;bar&gt;(a)b)(?P&lt;foo&gt;.*)a`</span><span class="op" id="7470359">,</span>&nbsp;<span class="num" id="7470361">4</span><span class="op" id="7470362">,</span>&nbsp;<span class="op" id="7470364">[</span><span class="op" id="7470365">]</span><span class="builtintype" id="7470366">string</span><span class="op" id="7470372">{</span><span class="string" id="7470373">&#34;&#34;</span><span class="op" id="7470375">,</span>&nbsp;<span class="string" id="7470377">&#34;foo&#34;</span><span class="op" id="7470382">,</span>&nbsp;<span class="string" id="7470384">&#34;bar&#34;</span><span class="op" id="7470389">,</span>&nbsp;<span class="string" id="7470391">&#34;&#34;</span><span class="op" id="7470393">,</span>&nbsp;<span class="string" id="7470395">&#34;foo&#34;</span><span class="op" id="7470400">}</span><span class="op" id="7470401">}</span><span class="op" id="7470402">,</span><br>
<span class="lineno"></span><span class="op" id="7470404">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="7470407">func</span>&nbsp;<span class="ident" id="7470412">TestSubexp</span><span class="op" id="7470422">(</span><span class="ident" id="7470423">t</span>&nbsp;<span class="op" id="7470425">*</span><span class="ident" id="7470426">testing</span><span class="op" id="7470433">.</span><span class="ident" id="7470434">T</span><span class="op" id="7470435">)</span>&nbsp;<span class="op" id="7470437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470440">for</span>&nbsp;<span class="ident" id="7470444">_</span><span class="op" id="7470445">,</span>&nbsp;<span class="ident" id="7470447">c</span>&nbsp;<span class="op" id="7470449">:=</span>&nbsp;<span class="keyword" id="7470452">range</span>&nbsp;<span class="ident" id="7470458">subexpCases</span>&nbsp;<span class="op" id="7470470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470474">re</span>&nbsp;<span class="op" id="7470477">:=</span>&nbsp;<span class="ident" id="7470480">MustCompile</span><span class="op" id="7470491">(</span><span class="ident" id="7470492">c</span><span class="op" id="7470493">.</span><span class="ident" id="7470494">input</span><span class="op" id="7470499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470503">n</span>&nbsp;<span class="op" id="7470505">:=</span>&nbsp;<span class="ident" id="7470508">re</span><span class="op" id="7470510">.</span><span class="ident" id="7470511">NumSubexp</span><span class="op" id="7470520">(</span><span class="op" id="7470521">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470525">if</span>&nbsp;<span class="ident" id="7470528">n</span>&nbsp;<span class="op" id="7470530">!=</span>&nbsp;<span class="ident" id="7470533">c</span><span class="op" id="7470534">.</span><span class="ident" id="7470535">num</span>&nbsp;<span class="op" id="7470539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470544">t</span><span class="op" id="7470545">.</span><span class="ident" id="7470546">Errorf</span><span class="op" id="7470552">(</span><span class="string" id="7470553">&#34;%q:&nbsp;NumSubexp&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7470582">,</span>&nbsp;<span class="ident" id="7470584">c</span><span class="op" id="7470585">.</span><span class="ident" id="7470586">input</span><span class="op" id="7470591">,</span>&nbsp;<span class="ident" id="7470593">n</span><span class="op" id="7470594">,</span>&nbsp;<span class="ident" id="7470596">c</span><span class="op" id="7470597">.</span><span class="ident" id="7470598">num</span><span class="op" id="7470601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470606">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470621">names</span>&nbsp;<span class="op" id="7470627">:=</span>&nbsp;<span class="ident" id="7470630">re</span><span class="op" id="7470632">.</span><span class="ident" id="7470633">SubexpNames</span><span class="op" id="7470644">(</span><span class="op" id="7470645">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470649">if</span>&nbsp;<span class="builtinfunc" id="7470652">len</span><span class="op" id="7470655">(</span><span class="ident" id="7470656">names</span><span class="op" id="7470661">)</span>&nbsp;<span class="op" id="7470663">!=</span>&nbsp;<span class="num" id="7470666">1</span><span class="op" id="7470667">+</span><span class="ident" id="7470668">n</span>&nbsp;<span class="op" id="7470670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470675">t</span><span class="op" id="7470676">.</span><span class="ident" id="7470677">Errorf</span><span class="op" id="7470683">(</span><span class="string" id="7470684">&#34;%q:&nbsp;len(SubexpNames)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7470720">,</span>&nbsp;<span class="ident" id="7470722">c</span><span class="op" id="7470723">.</span><span class="ident" id="7470724">input</span><span class="op" id="7470729">,</span>&nbsp;<span class="builtinfunc" id="7470731">len</span><span class="op" id="7470734">(</span><span class="ident" id="7470735">names</span><span class="op" id="7470740">)</span><span class="op" id="7470741">,</span>&nbsp;<span class="ident" id="7470743">n</span><span class="op" id="7470744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470749">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470764">if</span>&nbsp;<span class="ident" id="7470767">c</span><span class="op" id="7470768">.</span><span class="ident" id="7470769">names</span>&nbsp;<span class="op" id="7470775">!=</span>&nbsp;<span class="ident" id="7470778">nil</span>&nbsp;<span class="op" id="7470782">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470787">for</span>&nbsp;<span class="ident" id="7470791">i</span>&nbsp;<span class="op" id="7470793">:=</span>&nbsp;<span class="num" id="7470796">0</span><span class="op" id="7470797">;</span>&nbsp;<span class="ident" id="7470799">i</span>&nbsp;<span class="op" id="7470801">&lt;</span>&nbsp;<span class="num" id="7470803">1</span><span class="op" id="7470804">+</span><span class="ident" id="7470805">n</span><span class="op" id="7470806">;</span>&nbsp;<span class="ident" id="7470808">i</span><span class="op" id="7470809">++</span>&nbsp;<span class="op" id="7470812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470818">if</span>&nbsp;<span class="ident" id="7470821">names</span><span class="op" id="7470826">[</span><span class="ident" id="7470827">i</span><span class="op" id="7470828">]</span>&nbsp;<span class="op" id="7470830">!=</span>&nbsp;<span class="ident" id="7470833">c</span><span class="op" id="7470834">.</span><span class="ident" id="7470835">names</span><span class="op" id="7470840">[</span><span class="ident" id="7470841">i</span><span class="op" id="7470842">]</span>&nbsp;<span class="op" id="7470844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470851">t</span><span class="op" id="7470852">.</span><span class="ident" id="7470853">Errorf</span><span class="op" id="7470859">(</span><span class="string" id="7470860">&#34;%q:&nbsp;SubexpNames[%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7470895">,</span>&nbsp;<span class="ident" id="7470897">c</span><span class="op" id="7470898">.</span><span class="ident" id="7470899">input</span><span class="op" id="7470904">,</span>&nbsp;<span class="ident" id="7470906">i</span><span class="op" id="7470907">,</span>&nbsp;<span class="ident" id="7470909">names</span><span class="op" id="7470914">[</span><span class="ident" id="7470915">i</span><span class="op" id="7470916">]</span><span class="op" id="7470917">,</span>&nbsp;<span class="ident" id="7470919">c</span><span class="op" id="7470920">.</span><span class="ident" id="7470921">names</span><span class="op" id="7470926">[</span><span class="ident" id="7470927">i</span><span class="op" id="7470928">]</span><span class="op" id="7470929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470940">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470947">}</span><br>
<span class="lineno"></span><span class="op" id="7470949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7470952">var</span>&nbsp;<span class="ident" id="7470956">splitTests</span>&nbsp;<span class="op" id="7470967">=</span>&nbsp;<span class="op" id="7470969">[</span><span class="op" id="7470970">]</span><span class="keyword" id="7470971">struct</span>&nbsp;<span class="op" id="7470978">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470981">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7470985">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470993">r</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7470997">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471005">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7471009">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471014">out</span>&nbsp;<span class="op" id="7471018">[</span><span class="op" id="7471019">]</span><span class="builtintype" id="7471020">string</span><br>
<span class="lineno"></span><span class="op" id="7471027">}</span><span class="op" id="7471028">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471031">{</span><span class="string" id="7471032">&#34;foo:and:bar&#34;</span><span class="op" id="7471045">,</span>&nbsp;<span class="string" id="7471047">&#34;:&#34;</span><span class="op" id="7471050">,</span>&nbsp;<span class="op" id="7471052">-</span><span class="num" id="7471053">1</span><span class="op" id="7471054">,</span>&nbsp;<span class="op" id="7471056">[</span><span class="op" id="7471057">]</span><span class="builtintype" id="7471058">string</span><span class="op" id="7471064">{</span><span class="string" id="7471065">&#34;foo&#34;</span><span class="op" id="7471070">,</span>&nbsp;<span class="string" id="7471072">&#34;and&#34;</span><span class="op" id="7471077">,</span>&nbsp;<span class="string" id="7471079">&#34;bar&#34;</span><span class="op" id="7471084">}</span><span class="op" id="7471085">}</span><span class="op" id="7471086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471089">{</span><span class="string" id="7471090">&#34;foo:and:bar&#34;</span><span class="op" id="7471103">,</span>&nbsp;<span class="string" id="7471105">&#34;:&#34;</span><span class="op" id="7471108">,</span>&nbsp;<span class="num" id="7471110">1</span><span class="op" id="7471111">,</span>&nbsp;<span class="op" id="7471113">[</span><span class="op" id="7471114">]</span><span class="builtintype" id="7471115">string</span><span class="op" id="7471121">{</span><span class="string" id="7471122">&#34;foo:and:bar&#34;</span><span class="op" id="7471135">}</span><span class="op" id="7471136">}</span><span class="op" id="7471137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471140">{</span><span class="string" id="7471141">&#34;foo:and:bar&#34;</span><span class="op" id="7471154">,</span>&nbsp;<span class="string" id="7471156">&#34;:&#34;</span><span class="op" id="7471159">,</span>&nbsp;<span class="num" id="7471161">2</span><span class="op" id="7471162">,</span>&nbsp;<span class="op" id="7471164">[</span><span class="op" id="7471165">]</span><span class="builtintype" id="7471166">string</span><span class="op" id="7471172">{</span><span class="string" id="7471173">&#34;foo&#34;</span><span class="op" id="7471178">,</span>&nbsp;<span class="string" id="7471180">&#34;and:bar&#34;</span><span class="op" id="7471189">}</span><span class="op" id="7471190">}</span><span class="op" id="7471191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471194">{</span><span class="string" id="7471195">&#34;foo:and:bar&#34;</span><span class="op" id="7471208">,</span>&nbsp;<span class="string" id="7471210">&#34;foo&#34;</span><span class="op" id="7471215">,</span>&nbsp;<span class="op" id="7471217">-</span><span class="num" id="7471218">1</span><span class="op" id="7471219">,</span>&nbsp;<span class="op" id="7471221">[</span><span class="op" id="7471222">]</span><span class="builtintype" id="7471223">string</span><span class="op" id="7471229">{</span><span class="string" id="7471230">&#34;&#34;</span><span class="op" id="7471232">,</span>&nbsp;<span class="string" id="7471234">&#34;:and:bar&#34;</span><span class="op" id="7471244">}</span><span class="op" id="7471245">}</span><span class="op" id="7471246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471249">{</span><span class="string" id="7471250">&#34;foo:and:bar&#34;</span><span class="op" id="7471263">,</span>&nbsp;<span class="string" id="7471265">&#34;bar&#34;</span><span class="op" id="7471270">,</span>&nbsp;<span class="op" id="7471272">-</span><span class="num" id="7471273">1</span><span class="op" id="7471274">,</span>&nbsp;<span class="op" id="7471276">[</span><span class="op" id="7471277">]</span><span class="builtintype" id="7471278">string</span><span class="op" id="7471284">{</span><span class="string" id="7471285">&#34;foo:and:&#34;</span><span class="op" id="7471295">,</span>&nbsp;<span class="string" id="7471297">&#34;&#34;</span><span class="op" id="7471299">}</span><span class="op" id="7471300">}</span><span class="op" id="7471301">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471304">{</span><span class="string" id="7471305">&#34;foo:and:bar&#34;</span><span class="op" id="7471318">,</span>&nbsp;<span class="string" id="7471320">&#34;baz&#34;</span><span class="op" id="7471325">,</span>&nbsp;<span class="op" id="7471327">-</span><span class="num" id="7471328">1</span><span class="op" id="7471329">,</span>&nbsp;<span class="op" id="7471331">[</span><span class="op" id="7471332">]</span><span class="builtintype" id="7471333">string</span><span class="op" id="7471339">{</span><span class="string" id="7471340">&#34;foo:and:bar&#34;</span><span class="op" id="7471353">}</span><span class="op" id="7471354">}</span><span class="op" id="7471355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471358">{</span><span class="string" id="7471359">&#34;baabaab&#34;</span><span class="op" id="7471368">,</span>&nbsp;<span class="string" id="7471370">&#34;a&#34;</span><span class="op" id="7471373">,</span>&nbsp;<span class="op" id="7471375">-</span><span class="num" id="7471376">1</span><span class="op" id="7471377">,</span>&nbsp;<span class="op" id="7471379">[</span><span class="op" id="7471380">]</span><span class="builtintype" id="7471381">string</span><span class="op" id="7471387">{</span><span class="string" id="7471388">&#34;b&#34;</span><span class="op" id="7471391">,</span>&nbsp;<span class="string" id="7471393">&#34;&#34;</span><span class="op" id="7471395">,</span>&nbsp;<span class="string" id="7471397">&#34;b&#34;</span><span class="op" id="7471400">,</span>&nbsp;<span class="string" id="7471402">&#34;&#34;</span><span class="op" id="7471404">,</span>&nbsp;<span class="string" id="7471406">&#34;b&#34;</span><span class="op" id="7471409">}</span><span class="op" id="7471410">}</span><span class="op" id="7471411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471414">{</span><span class="string" id="7471415">&#34;baabaab&#34;</span><span class="op" id="7471424">,</span>&nbsp;<span class="string" id="7471426">&#34;a*&#34;</span><span class="op" id="7471430">,</span>&nbsp;<span class="op" id="7471432">-</span><span class="num" id="7471433">1</span><span class="op" id="7471434">,</span>&nbsp;<span class="op" id="7471436">[</span><span class="op" id="7471437">]</span><span class="builtintype" id="7471438">string</span><span class="op" id="7471444">{</span><span class="string" id="7471445">&#34;b&#34;</span><span class="op" id="7471448">,</span>&nbsp;<span class="string" id="7471450">&#34;b&#34;</span><span class="op" id="7471453">,</span>&nbsp;<span class="string" id="7471455">&#34;b&#34;</span><span class="op" id="7471458">}</span><span class="op" id="7471459">}</span><span class="op" id="7471460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471463">{</span><span class="string" id="7471464">&#34;baabaab&#34;</span><span class="op" id="7471473">,</span>&nbsp;<span class="string" id="7471475">&#34;ba*&#34;</span><span class="op" id="7471480">,</span>&nbsp;<span class="op" id="7471482">-</span><span class="num" id="7471483">1</span><span class="op" id="7471484">,</span>&nbsp;<span class="op" id="7471486">[</span><span class="op" id="7471487">]</span><span class="builtintype" id="7471488">string</span><span class="op" id="7471494">{</span><span class="string" id="7471495">&#34;&#34;</span><span class="op" id="7471497">,</span>&nbsp;<span class="string" id="7471499">&#34;&#34;</span><span class="op" id="7471501">,</span>&nbsp;<span class="string" id="7471503">&#34;&#34;</span><span class="op" id="7471505">,</span>&nbsp;<span class="string" id="7471507">&#34;&#34;</span><span class="op" id="7471509">}</span><span class="op" id="7471510">}</span><span class="op" id="7471511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471514">{</span><span class="string" id="7471515">&#34;foobar&#34;</span><span class="op" id="7471523">,</span>&nbsp;<span class="string" id="7471525">&#34;f*b*&#34;</span><span class="op" id="7471531">,</span>&nbsp;<span class="op" id="7471533">-</span><span class="num" id="7471534">1</span><span class="op" id="7471535">,</span>&nbsp;<span class="op" id="7471537">[</span><span class="op" id="7471538">]</span><span class="builtintype" id="7471539">string</span><span class="op" id="7471545">{</span><span class="string" id="7471546">&#34;&#34;</span><span class="op" id="7471548">,</span>&nbsp;<span class="string" id="7471550">&#34;o&#34;</span><span class="op" id="7471553">,</span>&nbsp;<span class="string" id="7471555">&#34;o&#34;</span><span class="op" id="7471558">,</span>&nbsp;<span class="string" id="7471560">&#34;a&#34;</span><span class="op" id="7471563">,</span>&nbsp;<span class="string" id="7471565">&#34;r&#34;</span><span class="op" id="7471568">}</span><span class="op" id="7471569">}</span><span class="op" id="7471570">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471573">{</span><span class="string" id="7471574">&#34;foobar&#34;</span><span class="op" id="7471582">,</span>&nbsp;<span class="string" id="7471584">&#34;f+.*b+&#34;</span><span class="op" id="7471592">,</span>&nbsp;<span class="op" id="7471594">-</span><span class="num" id="7471595">1</span><span class="op" id="7471596">,</span>&nbsp;<span class="op" id="7471598">[</span><span class="op" id="7471599">]</span><span class="builtintype" id="7471600">string</span><span class="op" id="7471606">{</span><span class="string" id="7471607">&#34;&#34;</span><span class="op" id="7471609">,</span>&nbsp;<span class="string" id="7471611">&#34;ar&#34;</span><span class="op" id="7471615">}</span><span class="op" id="7471616">}</span><span class="op" id="7471617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471620">{</span><span class="string" id="7471621">&#34;foobooboar&#34;</span><span class="op" id="7471633">,</span>&nbsp;<span class="string" id="7471635">&#34;o{2}&#34;</span><span class="op" id="7471641">,</span>&nbsp;<span class="op" id="7471643">-</span><span class="num" id="7471644">1</span><span class="op" id="7471645">,</span>&nbsp;<span class="op" id="7471647">[</span><span class="op" id="7471648">]</span><span class="builtintype" id="7471649">string</span><span class="op" id="7471655">{</span><span class="string" id="7471656">&#34;f&#34;</span><span class="op" id="7471659">,</span>&nbsp;<span class="string" id="7471661">&#34;b&#34;</span><span class="op" id="7471664">,</span>&nbsp;<span class="string" id="7471666">&#34;boar&#34;</span><span class="op" id="7471672">}</span><span class="op" id="7471673">}</span><span class="op" id="7471674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471677">{</span><span class="string" id="7471678">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="7471691">,</span>&nbsp;<span class="string" id="7471693">&#34;,&#34;</span><span class="op" id="7471696">,</span>&nbsp;<span class="num" id="7471698">3</span><span class="op" id="7471699">,</span>&nbsp;<span class="op" id="7471701">[</span><span class="op" id="7471702">]</span><span class="builtintype" id="7471703">string</span><span class="op" id="7471709">{</span><span class="string" id="7471710">&#34;a&#34;</span><span class="op" id="7471713">,</span>&nbsp;<span class="string" id="7471715">&#34;b&#34;</span><span class="op" id="7471718">,</span>&nbsp;<span class="string" id="7471720">&#34;c,d,e,f&#34;</span><span class="op" id="7471729">}</span><span class="op" id="7471730">}</span><span class="op" id="7471731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471734">{</span><span class="string" id="7471735">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="7471748">,</span>&nbsp;<span class="string" id="7471750">&#34;,&#34;</span><span class="op" id="7471753">,</span>&nbsp;<span class="num" id="7471755">0</span><span class="op" id="7471756">,</span>&nbsp;<span class="ident" id="7471758">nil</span><span class="op" id="7471761">}</span><span class="op" id="7471762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471765">{</span><span class="string" id="7471766">&#34;,&#34;</span><span class="op" id="7471769">,</span>&nbsp;<span class="string" id="7471771">&#34;,&#34;</span><span class="op" id="7471774">,</span>&nbsp;<span class="op" id="7471776">-</span><span class="num" id="7471777">1</span><span class="op" id="7471778">,</span>&nbsp;<span class="op" id="7471780">[</span><span class="op" id="7471781">]</span><span class="builtintype" id="7471782">string</span><span class="op" id="7471788">{</span><span class="string" id="7471789">&#34;&#34;</span><span class="op" id="7471791">,</span>&nbsp;<span class="string" id="7471793">&#34;&#34;</span><span class="op" id="7471795">}</span><span class="op" id="7471796">}</span><span class="op" id="7471797">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471800">{</span><span class="string" id="7471801">&#34;,,,&#34;</span><span class="op" id="7471806">,</span>&nbsp;<span class="string" id="7471808">&#34;,&#34;</span><span class="op" id="7471811">,</span>&nbsp;<span class="op" id="7471813">-</span><span class="num" id="7471814">1</span><span class="op" id="7471815">,</span>&nbsp;<span class="op" id="7471817">[</span><span class="op" id="7471818">]</span><span class="builtintype" id="7471819">string</span><span class="op" id="7471825">{</span><span class="string" id="7471826">&#34;&#34;</span><span class="op" id="7471828">,</span>&nbsp;<span class="string" id="7471830">&#34;&#34;</span><span class="op" id="7471832">,</span>&nbsp;<span class="string" id="7471834">&#34;&#34;</span><span class="op" id="7471836">,</span>&nbsp;<span class="string" id="7471838">&#34;&#34;</span><span class="op" id="7471840">}</span><span class="op" id="7471841">}</span><span class="op" id="7471842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471845">{</span><span class="string" id="7471846">&#34;&#34;</span><span class="op" id="7471848">,</span>&nbsp;<span class="string" id="7471850">&#34;,&#34;</span><span class="op" id="7471853">,</span>&nbsp;<span class="op" id="7471855">-</span><span class="num" id="7471856">1</span><span class="op" id="7471857">,</span>&nbsp;<span class="op" id="7471859">[</span><span class="op" id="7471860">]</span><span class="builtintype" id="7471861">string</span><span class="op" id="7471867">{</span><span class="string" id="7471868">&#34;&#34;</span><span class="op" id="7471870">}</span><span class="op" id="7471871">}</span><span class="op" id="7471872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471875">{</span><span class="string" id="7471876">&#34;&#34;</span><span class="op" id="7471878">,</span>&nbsp;<span class="string" id="7471880">&#34;.*&#34;</span><span class="op" id="7471884">,</span>&nbsp;<span class="op" id="7471886">-</span><span class="num" id="7471887">1</span><span class="op" id="7471888">,</span>&nbsp;<span class="op" id="7471890">[</span><span class="op" id="7471891">]</span><span class="builtintype" id="7471892">string</span><span class="op" id="7471898">{</span><span class="string" id="7471899">&#34;&#34;</span><span class="op" id="7471901">}</span><span class="op" id="7471902">}</span><span class="op" id="7471903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471906">{</span><span class="string" id="7471907">&#34;&#34;</span><span class="op" id="7471909">,</span>&nbsp;<span class="string" id="7471911">&#34;.+&#34;</span><span class="op" id="7471915">,</span>&nbsp;<span class="op" id="7471917">-</span><span class="num" id="7471918">1</span><span class="op" id="7471919">,</span>&nbsp;<span class="op" id="7471921">[</span><span class="op" id="7471922">]</span><span class="builtintype" id="7471923">string</span><span class="op" id="7471929">{</span><span class="string" id="7471930">&#34;&#34;</span><span class="op" id="7471932">}</span><span class="op" id="7471933">}</span><span class="op" id="7471934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471937">{</span><span class="string" id="7471938">&#34;&#34;</span><span class="op" id="7471940">,</span>&nbsp;<span class="string" id="7471942">&#34;&#34;</span><span class="op" id="7471944">,</span>&nbsp;<span class="op" id="7471946">-</span><span class="num" id="7471947">1</span><span class="op" id="7471948">,</span>&nbsp;<span class="op" id="7471950">[</span><span class="op" id="7471951">]</span><span class="builtintype" id="7471952">string</span><span class="op" id="7471958">{</span><span class="op" id="7471959">}</span><span class="op" id="7471960">}</span><span class="op" id="7471961">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471964">{</span><span class="string" id="7471965">&#34;foobar&#34;</span><span class="op" id="7471973">,</span>&nbsp;<span class="string" id="7471975">&#34;&#34;</span><span class="op" id="7471977">,</span>&nbsp;<span class="op" id="7471979">-</span><span class="num" id="7471980">1</span><span class="op" id="7471981">,</span>&nbsp;<span class="op" id="7471983">[</span><span class="op" id="7471984">]</span><span class="builtintype" id="7471985">string</span><span class="op" id="7471991">{</span><span class="string" id="7471992">&#34;f&#34;</span><span class="op" id="7471995">,</span>&nbsp;<span class="string" id="7471997">&#34;o&#34;</span><span class="op" id="7472000">,</span>&nbsp;<span class="string" id="7472002">&#34;o&#34;</span><span class="op" id="7472005">,</span>&nbsp;<span class="string" id="7472007">&#34;b&#34;</span><span class="op" id="7472010">,</span>&nbsp;<span class="string" id="7472012">&#34;a&#34;</span><span class="op" id="7472015">,</span>&nbsp;<span class="string" id="7472017">&#34;r&#34;</span><span class="op" id="7472020">}</span><span class="op" id="7472021">}</span><span class="op" id="7472022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472025">{</span><span class="string" id="7472026">&#34;abaabaccadaaae&#34;</span><span class="op" id="7472042">,</span>&nbsp;<span class="string" id="7472044">&#34;a*&#34;</span><span class="op" id="7472048">,</span>&nbsp;<span class="num" id="7472050">5</span><span class="op" id="7472051">,</span>&nbsp;<span class="op" id="7472053">[</span><span class="op" id="7472054">]</span><span class="builtintype" id="7472055">string</span><span class="op" id="7472061">{</span><span class="string" id="7472062">&#34;&#34;</span><span class="op" id="7472064">,</span>&nbsp;<span class="string" id="7472066">&#34;b&#34;</span><span class="op" id="7472069">,</span>&nbsp;<span class="string" id="7472071">&#34;b&#34;</span><span class="op" id="7472074">,</span>&nbsp;<span class="string" id="7472076">&#34;c&#34;</span><span class="op" id="7472079">,</span>&nbsp;<span class="string" id="7472081">&#34;cadaaae&#34;</span><span class="op" id="7472090">}</span><span class="op" id="7472091">}</span><span class="op" id="7472092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472095">{</span><span class="string" id="7472096">&#34;:x:y:z:&#34;</span><span class="op" id="7472105">,</span>&nbsp;<span class="string" id="7472107">&#34;:&#34;</span><span class="op" id="7472110">,</span>&nbsp;<span class="op" id="7472112">-</span><span class="num" id="7472113">1</span><span class="op" id="7472114">,</span>&nbsp;<span class="op" id="7472116">[</span><span class="op" id="7472117">]</span><span class="builtintype" id="7472118">string</span><span class="op" id="7472124">{</span><span class="string" id="7472125">&#34;&#34;</span><span class="op" id="7472127">,</span>&nbsp;<span class="string" id="7472129">&#34;x&#34;</span><span class="op" id="7472132">,</span>&nbsp;<span class="string" id="7472134">&#34;y&#34;</span><span class="op" id="7472137">,</span>&nbsp;<span class="string" id="7472139">&#34;z&#34;</span><span class="op" id="7472142">,</span>&nbsp;<span class="string" id="7472144">&#34;&#34;</span><span class="op" id="7472146">}</span><span class="op" id="7472147">}</span><span class="op" id="7472148">,</span><br>
<span class="lineno"></span><span class="op" id="7472150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="7472153">func</span>&nbsp;<span class="ident" id="7472158">TestSplit</span><span class="op" id="7472167">(</span><span class="ident" id="7472168">t</span>&nbsp;<span class="op" id="7472170">*</span><span class="ident" id="7472171">testing</span><span class="op" id="7472178">.</span><span class="ident" id="7472179">T</span><span class="op" id="7472180">)</span>&nbsp;<span class="op" id="7472182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472185">for</span>&nbsp;<span class="ident" id="7472189">i</span><span class="op" id="7472190">,</span>&nbsp;<span class="ident" id="7472192">test</span>&nbsp;<span class="op" id="7472197">:=</span>&nbsp;<span class="keyword" id="7472200">range</span>&nbsp;<span class="ident" id="7472206">splitTests</span>&nbsp;<span class="op" id="7472217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472221">re</span><span class="op" id="7472223">,</span>&nbsp;<span class="ident" id="7472225">err</span>&nbsp;<span class="op" id="7472229">:=</span>&nbsp;<span class="ident" id="7472232">Compile</span><span class="op" id="7472239">(</span><span class="ident" id="7472240">test</span><span class="op" id="7472244">.</span><span class="ident" id="7472245">r</span><span class="op" id="7472246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472250">if</span>&nbsp;<span class="ident" id="7472253">err</span>&nbsp;<span class="op" id="7472257">!=</span>&nbsp;<span class="ident" id="7472260">nil</span>&nbsp;<span class="op" id="7472264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472269">t</span><span class="op" id="7472270">.</span><span class="ident" id="7472271">Errorf</span><span class="op" id="7472277">(</span><span class="string" id="7472278">&#34;#%d:&nbsp;%q:&nbsp;compile&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7472306">,</span>&nbsp;<span class="ident" id="7472308">i</span><span class="op" id="7472309">,</span>&nbsp;<span class="ident" id="7472311">test</span><span class="op" id="7472315">.</span><span class="ident" id="7472316">r</span><span class="op" id="7472317">,</span>&nbsp;<span class="ident" id="7472319">err</span><span class="op" id="7472322">.</span><span class="ident" id="7472323">Error</span><span class="op" id="7472328">(</span><span class="op" id="7472329">)</span><span class="op" id="7472330">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472335">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472351">split</span>&nbsp;<span class="op" id="7472357">:=</span>&nbsp;<span class="ident" id="7472360">re</span><span class="op" id="7472362">.</span><span class="ident" id="7472363">Split</span><span class="op" id="7472368">(</span><span class="ident" id="7472369">test</span><span class="op" id="7472373">.</span><span class="ident" id="7472374">s</span><span class="op" id="7472375">,</span>&nbsp;<span class="ident" id="7472377">test</span><span class="op" id="7472381">.</span><span class="ident" id="7472382">n</span><span class="op" id="7472383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472387">if</span>&nbsp;<span class="op" id="7472390">!</span><span class="ident" id="7472391">reflect</span><span class="op" id="7472398">.</span><span class="ident" id="7472399">DeepEqual</span><span class="op" id="7472408">(</span><span class="ident" id="7472409">split</span><span class="op" id="7472414">,</span>&nbsp;<span class="ident" id="7472416">test</span><span class="op" id="7472420">.</span><span class="ident" id="7472421">out</span><span class="op" id="7472424">)</span>&nbsp;<span class="op" id="7472426">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472431">t</span><span class="op" id="7472432">.</span><span class="ident" id="7472433">Errorf</span><span class="op" id="7472439">(</span><span class="string" id="7472440">&#34;#%d:&nbsp;%q:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7472466">,</span>&nbsp;<span class="ident" id="7472468">i</span><span class="op" id="7472469">,</span>&nbsp;<span class="ident" id="7472471">test</span><span class="op" id="7472475">.</span><span class="ident" id="7472476">r</span><span class="op" id="7472477">,</span>&nbsp;<span class="ident" id="7472479">split</span><span class="op" id="7472484">,</span>&nbsp;<span class="ident" id="7472486">test</span><span class="op" id="7472490">.</span><span class="ident" id="7472491">out</span><span class="op" id="7472494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472503">if</span>&nbsp;<span class="ident" id="7472506">QuoteMeta</span><span class="op" id="7472515">(</span><span class="ident" id="7472516">test</span><span class="op" id="7472520">.</span><span class="ident" id="7472521">r</span><span class="op" id="7472522">)</span>&nbsp;<span class="op" id="7472524">==</span>&nbsp;<span class="ident" id="7472527">test</span><span class="op" id="7472531">.</span><span class="ident" id="7472532">r</span>&nbsp;<span class="op" id="7472534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472539">strsplit</span>&nbsp;<span class="op" id="7472548">:=</span>&nbsp;<span class="ident" id="7472551">strings</span><span class="op" id="7472558">.</span><span class="ident" id="7472559">SplitN</span><span class="op" id="7472565">(</span><span class="ident" id="7472566">test</span><span class="op" id="7472570">.</span><span class="ident" id="7472571">s</span><span class="op" id="7472572">,</span>&nbsp;<span class="ident" id="7472574">test</span><span class="op" id="7472578">.</span><span class="ident" id="7472579">r</span><span class="op" id="7472580">,</span>&nbsp;<span class="ident" id="7472582">test</span><span class="op" id="7472586">.</span><span class="ident" id="7472587">n</span><span class="op" id="7472588">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472593">if</span>&nbsp;<span class="op" id="7472596">!</span><span class="ident" id="7472597">reflect</span><span class="op" id="7472604">.</span><span class="ident" id="7472605">DeepEqual</span><span class="op" id="7472614">(</span><span class="ident" id="7472615">split</span><span class="op" id="7472620">,</span>&nbsp;<span class="ident" id="7472622">strsplit</span><span class="op" id="7472630">)</span>&nbsp;<span class="op" id="7472632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472638">t</span><span class="op" id="7472639">.</span><span class="ident" id="7472640">Errorf</span><span class="op" id="7472646">(</span><span class="string" id="7472647">&#34;#%d:&nbsp;Split(%q,&nbsp;%q,&nbsp;%d):&nbsp;regexp&nbsp;vs&nbsp;strings&nbsp;mismatch\nregexp=%q\nstrings=%q&#34;</span><span class="op" id="7472722">,</span>&nbsp;<span class="ident" id="7472724">i</span><span class="op" id="7472725">,</span>&nbsp;<span class="ident" id="7472727">test</span><span class="op" id="7472731">.</span><span class="ident" id="7472732">s</span><span class="op" id="7472733">,</span>&nbsp;<span class="ident" id="7472735">test</span><span class="op" id="7472739">.</span><span class="ident" id="7472740">r</span><span class="op" id="7472741">,</span>&nbsp;<span class="ident" id="7472743">test</span><span class="op" id="7472747">.</span><span class="ident" id="7472748">n</span><span class="op" id="7472749">,</span>&nbsp;<span class="ident" id="7472751">split</span><span class="op" id="7472756">,</span>&nbsp;<span class="ident" id="7472758">strsplit</span><span class="op" id="7472766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472778">}</span><br>
<span class="lineno">475</span><span class="op" id="7472780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7472783">//&nbsp;Check&nbsp;that&nbsp;one-pass&nbsp;cutoff&nbsp;does&nbsp;trigger.</span><br>
<span class="lineno"></span><span class="keyword" id="7472827">func</span>&nbsp;<span class="ident" id="7472832">TestOnePassCutoff</span><span class="op" id="7472849">(</span><span class="ident" id="7472850">t</span>&nbsp;<span class="op" id="7472852">*</span><span class="ident" id="7472853">testing</span><span class="op" id="7472860">.</span><span class="ident" id="7472861">T</span><span class="op" id="7472862">)</span>&nbsp;<span class="op" id="7472864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472867">re</span><span class="op" id="7472869">,</span>&nbsp;<span class="ident" id="7472871">err</span>&nbsp;<span class="op" id="7472875">:=</span>&nbsp;<span class="ident" id="7472878">syntax</span><span class="op" id="7472884">.</span><span class="ident" id="7472885">Parse</span><span class="op" id="7472890">(</span><span class="string" id="7472891">`^x{1,1000}y{1,1000}$`</span><span class="op" id="7472913">,</span>&nbsp;<span class="ident" id="7472915">syntax</span><span class="op" id="7472921">.</span><span class="ident" id="7472922">Perl</span><span class="op" id="7472926">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472929">if</span>&nbsp;<span class="ident" id="7472932">err</span>&nbsp;<span class="op" id="7472936">!=</span>&nbsp;<span class="ident" id="7472939">nil</span>&nbsp;<span class="op" id="7472943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472947">t</span><span class="op" id="7472948">.</span><span class="ident" id="7472949">Fatalf</span><span class="op" id="7472955">(</span><span class="string" id="7472956">&#34;parse:&nbsp;%v&#34;</span><span class="op" id="7472967">,</span>&nbsp;<span class="ident" id="7472969">err</span><span class="op" id="7472972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472978">p</span><span class="op" id="7472979">,</span>&nbsp;<span class="ident" id="7472981">err</span>&nbsp;<span class="op" id="7472985">:=</span>&nbsp;<span class="ident" id="7472988">syntax</span><span class="op" id="7472994">.</span><span class="ident" id="7472995">Compile</span><span class="op" id="7473002">(</span><span class="ident" id="7473003">re</span><span class="op" id="7473005">.</span><span class="ident" id="7473006">Simplify</span><span class="op" id="7473014">(</span><span class="op" id="7473015">)</span><span class="op" id="7473016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473019">if</span>&nbsp;<span class="ident" id="7473022">err</span>&nbsp;<span class="op" id="7473026">!=</span>&nbsp;<span class="ident" id="7473029">nil</span>&nbsp;<span class="op" id="7473033">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473037">t</span><span class="op" id="7473038">.</span><span class="ident" id="7473039">Fatalf</span><span class="op" id="7473045">(</span><span class="string" id="7473046">&#34;compile:&nbsp;%v&#34;</span><span class="op" id="7473059">,</span>&nbsp;<span class="ident" id="7473061">err</span><span class="op" id="7473064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473070">if</span>&nbsp;<span class="ident" id="7473073">compileOnePass</span><span class="op" id="7473087">(</span><span class="ident" id="7473088">p</span><span class="op" id="7473089">)</span>&nbsp;<span class="op" id="7473091">!=</span>&nbsp;<span class="ident" id="7473094">notOnePass</span>&nbsp;<span class="op" id="7473105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473109">t</span><span class="op" id="7473110">.</span><span class="ident" id="7473111">Fatalf</span><span class="op" id="7473117">(</span><span class="string" id="7473118">&#34;makeOnePass&nbsp;succeeded;&nbsp;wanted&nbsp;notOnePass&#34;</span><span class="op" id="7473160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473163">}</span><br>
<span class="lineno">490</span><span class="op" id="7473165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7473168">func</span>&nbsp;<span class="ident" id="7473173">BenchmarkLiteral</span><span class="op" id="7473189">(</span><span class="ident" id="7473190">b</span>&nbsp;<span class="op" id="7473192">*</span><span class="ident" id="7473193">testing</span><span class="op" id="7473200">.</span><span class="ident" id="7473201">B</span><span class="op" id="7473202">)</span>&nbsp;<span class="op" id="7473204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473207">x</span>&nbsp;<span class="op" id="7473209">:=</span>&nbsp;<span class="ident" id="7473212">strings</span><span class="op" id="7473219">.</span><span class="ident" id="7473220">Repeat</span><span class="op" id="7473226">(</span><span class="string" id="7473227">&#34;x&#34;</span><span class="op" id="7473230">,</span>&nbsp;<span class="num" id="7473232">50</span><span class="op" id="7473234">)</span>&nbsp;<span class="op" id="7473236">+</span>&nbsp;<span class="string" id="7473238">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473243">b</span><span class="op" id="7473244">.</span><span class="ident" id="7473245">StopTimer</span><span class="op" id="7473254">(</span><span class="op" id="7473255">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473258">re</span>&nbsp;<span class="op" id="7473261">:=</span>&nbsp;<span class="ident" id="7473264">MustCompile</span><span class="op" id="7473275">(</span><span class="string" id="7473276">&#34;y&#34;</span><span class="op" id="7473279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473282">b</span><span class="op" id="7473283">.</span><span class="ident" id="7473284">StartTimer</span><span class="op" id="7473294">(</span><span class="op" id="7473295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473298">for</span>&nbsp;<span class="ident" id="7473302">i</span>&nbsp;<span class="op" id="7473304">:=</span>&nbsp;<span class="num" id="7473307">0</span><span class="op" id="7473308">;</span>&nbsp;<span class="ident" id="7473310">i</span>&nbsp;<span class="op" id="7473312">&lt;</span>&nbsp;<span class="ident" id="7473314">b</span><span class="op" id="7473315">.</span><span class="ident" id="7473316">N</span><span class="op" id="7473317">;</span>&nbsp;<span class="ident" id="7473319">i</span><span class="op" id="7473320">++</span>&nbsp;<span class="op" id="7473323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473327">if</span>&nbsp;<span class="op" id="7473330">!</span><span class="ident" id="7473331">re</span><span class="op" id="7473333">.</span><span class="ident" id="7473334">MatchString</span><span class="op" id="7473345">(</span><span class="ident" id="7473346">x</span><span class="op" id="7473347">)</span>&nbsp;<span class="op" id="7473349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473354">b</span><span class="op" id="7473355">.</span><span class="ident" id="7473356">Fatalf</span><span class="op" id="7473362">(</span><span class="string" id="7473363">&#34;no&nbsp;match!&#34;</span><span class="op" id="7473374">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473381">}</span><br>
<span class="lineno"></span><span class="op" id="7473383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7473386">func</span>&nbsp;<span class="ident" id="7473391">BenchmarkNotLiteral</span><span class="op" id="7473410">(</span><span class="ident" id="7473411">b</span>&nbsp;<span class="op" id="7473413">*</span><span class="ident" id="7473414">testing</span><span class="op" id="7473421">.</span><span class="ident" id="7473422">B</span><span class="op" id="7473423">)</span>&nbsp;<span class="op" id="7473425">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473428">x</span>&nbsp;<span class="op" id="7473430">:=</span>&nbsp;<span class="ident" id="7473433">strings</span><span class="op" id="7473440">.</span><span class="ident" id="7473441">Repeat</span><span class="op" id="7473447">(</span><span class="string" id="7473448">&#34;x&#34;</span><span class="op" id="7473451">,</span>&nbsp;<span class="num" id="7473453">50</span><span class="op" id="7473455">)</span>&nbsp;<span class="op" id="7473457">+</span>&nbsp;<span class="string" id="7473459">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473464">b</span><span class="op" id="7473465">.</span><span class="ident" id="7473466">StopTimer</span><span class="op" id="7473475">(</span><span class="op" id="7473476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473479">re</span>&nbsp;<span class="op" id="7473482">:=</span>&nbsp;<span class="ident" id="7473485">MustCompile</span><span class="op" id="7473496">(</span><span class="string" id="7473497">&#34;.y&#34;</span><span class="op" id="7473501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473504">b</span><span class="op" id="7473505">.</span><span class="ident" id="7473506">StartTimer</span><span class="op" id="7473516">(</span><span class="op" id="7473517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473520">for</span>&nbsp;<span class="ident" id="7473524">i</span>&nbsp;<span class="op" id="7473526">:=</span>&nbsp;<span class="num" id="7473529">0</span><span class="op" id="7473530">;</span>&nbsp;<span class="ident" id="7473532">i</span>&nbsp;<span class="op" id="7473534">&lt;</span>&nbsp;<span class="ident" id="7473536">b</span><span class="op" id="7473537">.</span><span class="ident" id="7473538">N</span><span class="op" id="7473539">;</span>&nbsp;<span class="ident" id="7473541">i</span><span class="op" id="7473542">++</span>&nbsp;<span class="op" id="7473545">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473549">if</span>&nbsp;<span class="op" id="7473552">!</span><span class="ident" id="7473553">re</span><span class="op" id="7473555">.</span><span class="ident" id="7473556">MatchString</span><span class="op" id="7473567">(</span><span class="ident" id="7473568">x</span><span class="op" id="7473569">)</span>&nbsp;<span class="op" id="7473571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473576">b</span><span class="op" id="7473577">.</span><span class="ident" id="7473578">Fatalf</span><span class="op" id="7473584">(</span><span class="string" id="7473585">&#34;no&nbsp;match!&#34;</span><span class="op" id="7473596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473603">}</span><br>
<span class="lineno"></span><span class="op" id="7473605">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="keyword" id="7473608">func</span>&nbsp;<span class="ident" id="7473613">BenchmarkMatchClass</span><span class="op" id="7473632">(</span><span class="ident" id="7473633">b</span>&nbsp;<span class="op" id="7473635">*</span><span class="ident" id="7473636">testing</span><span class="op" id="7473643">.</span><span class="ident" id="7473644">B</span><span class="op" id="7473645">)</span>&nbsp;<span class="op" id="7473647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473650">b</span><span class="op" id="7473651">.</span><span class="ident" id="7473652">StopTimer</span><span class="op" id="7473661">(</span><span class="op" id="7473662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473665">x</span>&nbsp;<span class="op" id="7473667">:=</span>&nbsp;<span class="ident" id="7473670">strings</span><span class="op" id="7473677">.</span><span class="ident" id="7473678">Repeat</span><span class="op" id="7473684">(</span><span class="string" id="7473685">&#34;xxxx&#34;</span><span class="op" id="7473691">,</span>&nbsp;<span class="num" id="7473693">20</span><span class="op" id="7473695">)</span>&nbsp;<span class="op" id="7473697">+</span>&nbsp;<span class="string" id="7473699">&#34;w&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473704">re</span>&nbsp;<span class="op" id="7473707">:=</span>&nbsp;<span class="ident" id="7473710">MustCompile</span><span class="op" id="7473721">(</span><span class="string" id="7473722">&#34;[abcdw]&#34;</span><span class="op" id="7473731">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473734">b</span><span class="op" id="7473735">.</span><span class="ident" id="7473736">StartTimer</span><span class="op" id="7473746">(</span><span class="op" id="7473747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473750">for</span>&nbsp;<span class="ident" id="7473754">i</span>&nbsp;<span class="op" id="7473756">:=</span>&nbsp;<span class="num" id="7473759">0</span><span class="op" id="7473760">;</span>&nbsp;<span class="ident" id="7473762">i</span>&nbsp;<span class="op" id="7473764">&lt;</span>&nbsp;<span class="ident" id="7473766">b</span><span class="op" id="7473767">.</span><span class="ident" id="7473768">N</span><span class="op" id="7473769">;</span>&nbsp;<span class="ident" id="7473771">i</span><span class="op" id="7473772">++</span>&nbsp;<span class="op" id="7473775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473779">if</span>&nbsp;<span class="op" id="7473782">!</span><span class="ident" id="7473783">re</span><span class="op" id="7473785">.</span><span class="ident" id="7473786">MatchString</span><span class="op" id="7473797">(</span><span class="ident" id="7473798">x</span><span class="op" id="7473799">)</span>&nbsp;<span class="op" id="7473801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473806">b</span><span class="op" id="7473807">.</span><span class="ident" id="7473808">Fatalf</span><span class="op" id="7473814">(</span><span class="string" id="7473815">&#34;no&nbsp;match!&#34;</span><span class="op" id="7473826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473830">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473833">}</span><br>
<span class="lineno"></span><span class="op" id="7473835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7473838">func</span>&nbsp;<span class="ident" id="7473843">BenchmarkMatchClass_InRange</span><span class="op" id="7473870">(</span><span class="ident" id="7473871">b</span>&nbsp;<span class="op" id="7473873">*</span><span class="ident" id="7473874">testing</span><span class="op" id="7473881">.</span><span class="ident" id="7473882">B</span><span class="op" id="7473883">)</span>&nbsp;<span class="op" id="7473885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473888">b</span><span class="op" id="7473889">.</span><span class="ident" id="7473890">StopTimer</span><span class="op" id="7473899">(</span><span class="op" id="7473900">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7473903">//&nbsp;&#39;b&#39;&nbsp;is&nbsp;between&nbsp;&#39;a&#39;&nbsp;and&nbsp;&#39;c&#39;,&nbsp;so&nbsp;the&nbsp;charclass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7473952">//&nbsp;range&nbsp;checking&nbsp;is&nbsp;no&nbsp;help&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473988">x</span>&nbsp;<span class="op" id="7473990">:=</span>&nbsp;<span class="ident" id="7473993">strings</span><span class="op" id="7474000">.</span><span class="ident" id="7474001">Repeat</span><span class="op" id="7474007">(</span><span class="string" id="7474008">&#34;bbbb&#34;</span><span class="op" id="7474014">,</span>&nbsp;<span class="num" id="7474016">20</span><span class="op" id="7474018">)</span>&nbsp;<span class="op" id="7474020">+</span>&nbsp;<span class="string" id="7474022">&#34;c&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474027">re</span>&nbsp;<span class="op" id="7474030">:=</span>&nbsp;<span class="ident" id="7474033">MustCompile</span><span class="op" id="7474044">(</span><span class="string" id="7474045">&#34;[ac]&#34;</span><span class="op" id="7474051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474054">b</span><span class="op" id="7474055">.</span><span class="ident" id="7474056">StartTimer</span><span class="op" id="7474066">(</span><span class="op" id="7474067">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474070">for</span>&nbsp;<span class="ident" id="7474074">i</span>&nbsp;<span class="op" id="7474076">:=</span>&nbsp;<span class="num" id="7474079">0</span><span class="op" id="7474080">;</span>&nbsp;<span class="ident" id="7474082">i</span>&nbsp;<span class="op" id="7474084">&lt;</span>&nbsp;<span class="ident" id="7474086">b</span><span class="op" id="7474087">.</span><span class="ident" id="7474088">N</span><span class="op" id="7474089">;</span>&nbsp;<span class="ident" id="7474091">i</span><span class="op" id="7474092">++</span>&nbsp;<span class="op" id="7474095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474099">if</span>&nbsp;<span class="op" id="7474102">!</span><span class="ident" id="7474103">re</span><span class="op" id="7474105">.</span><span class="ident" id="7474106">MatchString</span><span class="op" id="7474117">(</span><span class="ident" id="7474118">x</span><span class="op" id="7474119">)</span>&nbsp;<span class="op" id="7474121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474126">b</span><span class="op" id="7474127">.</span><span class="ident" id="7474128">Fatalf</span><span class="op" id="7474134">(</span><span class="string" id="7474135">&#34;no&nbsp;match!&#34;</span><span class="op" id="7474146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474153">}</span><br>
<span class="lineno">540</span><span class="op" id="7474155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7474158">func</span>&nbsp;<span class="ident" id="7474163">BenchmarkReplaceAll</span><span class="op" id="7474182">(</span><span class="ident" id="7474183">b</span>&nbsp;<span class="op" id="7474185">*</span><span class="ident" id="7474186">testing</span><span class="op" id="7474193">.</span><span class="ident" id="7474194">B</span><span class="op" id="7474195">)</span>&nbsp;<span class="op" id="7474197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474200">x</span>&nbsp;<span class="op" id="7474202">:=</span>&nbsp;<span class="string" id="7474205">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474235">b</span><span class="op" id="7474236">.</span><span class="ident" id="7474237">StopTimer</span><span class="op" id="7474246">(</span><span class="op" id="7474247">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474250">re</span>&nbsp;<span class="op" id="7474253">:=</span>&nbsp;<span class="ident" id="7474256">MustCompile</span><span class="op" id="7474267">(</span><span class="string" id="7474268">&#34;[cjrw]&#34;</span><span class="op" id="7474276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474279">b</span><span class="op" id="7474280">.</span><span class="ident" id="7474281">StartTimer</span><span class="op" id="7474291">(</span><span class="op" id="7474292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474295">for</span>&nbsp;<span class="ident" id="7474299">i</span>&nbsp;<span class="op" id="7474301">:=</span>&nbsp;<span class="num" id="7474304">0</span><span class="op" id="7474305">;</span>&nbsp;<span class="ident" id="7474307">i</span>&nbsp;<span class="op" id="7474309">&lt;</span>&nbsp;<span class="ident" id="7474311">b</span><span class="op" id="7474312">.</span><span class="ident" id="7474313">N</span><span class="op" id="7474314">;</span>&nbsp;<span class="ident" id="7474316">i</span><span class="op" id="7474317">++</span>&nbsp;<span class="op" id="7474320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474324">re</span><span class="op" id="7474326">.</span><span class="ident" id="7474327">ReplaceAllString</span><span class="op" id="7474343">(</span><span class="ident" id="7474344">x</span><span class="op" id="7474345">,</span>&nbsp;<span class="string" id="7474347">&#34;&#34;</span><span class="op" id="7474349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474352">}</span><br>
<span class="lineno">550</span><span class="op" id="7474354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7474357">func</span>&nbsp;<span class="ident" id="7474362">BenchmarkAnchoredLiteralShortNonMatch</span><span class="op" id="7474399">(</span><span class="ident" id="7474400">b</span>&nbsp;<span class="op" id="7474402">*</span><span class="ident" id="7474403">testing</span><span class="op" id="7474410">.</span><span class="ident" id="7474411">B</span><span class="op" id="7474412">)</span>&nbsp;<span class="op" id="7474414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474417">b</span><span class="op" id="7474418">.</span><span class="ident" id="7474419">StopTimer</span><span class="op" id="7474428">(</span><span class="op" id="7474429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474432">x</span>&nbsp;<span class="op" id="7474434">:=</span>&nbsp;<span class="op" id="7474437">[</span><span class="op" id="7474438">]</span><span class="builtintype" id="7474439">byte</span><span class="op" id="7474443">(</span><span class="string" id="7474444">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7474472">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474475">re</span>&nbsp;<span class="op" id="7474478">:=</span>&nbsp;<span class="ident" id="7474481">MustCompile</span><span class="op" id="7474492">(</span><span class="string" id="7474493">&#34;^zbc(d|e)&#34;</span><span class="op" id="7474504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474507">b</span><span class="op" id="7474508">.</span><span class="ident" id="7474509">StartTimer</span><span class="op" id="7474519">(</span><span class="op" id="7474520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474523">for</span>&nbsp;<span class="ident" id="7474527">i</span>&nbsp;<span class="op" id="7474529">:=</span>&nbsp;<span class="num" id="7474532">0</span><span class="op" id="7474533">;</span>&nbsp;<span class="ident" id="7474535">i</span>&nbsp;<span class="op" id="7474537">&lt;</span>&nbsp;<span class="ident" id="7474539">b</span><span class="op" id="7474540">.</span><span class="ident" id="7474541">N</span><span class="op" id="7474542">;</span>&nbsp;<span class="ident" id="7474544">i</span><span class="op" id="7474545">++</span>&nbsp;<span class="op" id="7474548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474552">re</span><span class="op" id="7474554">.</span><span class="ident" id="7474555">Match</span><span class="op" id="7474560">(</span><span class="ident" id="7474561">x</span><span class="op" id="7474562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474565">}</span><br>
<span class="lineno">560</span><span class="op" id="7474567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7474570">func</span>&nbsp;<span class="ident" id="7474575">BenchmarkAnchoredLiteralLongNonMatch</span><span class="op" id="7474611">(</span><span class="ident" id="7474612">b</span>&nbsp;<span class="op" id="7474614">*</span><span class="ident" id="7474615">testing</span><span class="op" id="7474622">.</span><span class="ident" id="7474623">B</span><span class="op" id="7474624">)</span>&nbsp;<span class="op" id="7474626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474629">b</span><span class="op" id="7474630">.</span><span class="ident" id="7474631">StopTimer</span><span class="op" id="7474640">(</span><span class="op" id="7474641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474644">x</span>&nbsp;<span class="op" id="7474646">:=</span>&nbsp;<span class="op" id="7474649">[</span><span class="op" id="7474650">]</span><span class="builtintype" id="7474651">byte</span><span class="op" id="7474655">(</span><span class="string" id="7474656">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7474684">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474687">for</span>&nbsp;<span class="ident" id="7474691">i</span>&nbsp;<span class="op" id="7474693">:=</span>&nbsp;<span class="num" id="7474696">0</span><span class="op" id="7474697">;</span>&nbsp;<span class="ident" id="7474699">i</span>&nbsp;<span class="op" id="7474701">&lt;</span>&nbsp;<span class="num" id="7474703">15</span><span class="op" id="7474705">;</span>&nbsp;<span class="ident" id="7474707">i</span><span class="op" id="7474708">++</span>&nbsp;<span class="op" id="7474711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474715">x</span>&nbsp;<span class="op" id="7474717">=</span>&nbsp;<span class="builtinfunc" id="7474719">append</span><span class="op" id="7474725">(</span><span class="ident" id="7474726">x</span><span class="op" id="7474727">,</span>&nbsp;<span class="ident" id="7474729">x</span><span class="op" id="7474730">...</span><span class="op" id="7474733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474739">re</span>&nbsp;<span class="op" id="7474742">:=</span>&nbsp;<span class="ident" id="7474745">MustCompile</span><span class="op" id="7474756">(</span><span class="string" id="7474757">&#34;^zbc(d|e)&#34;</span><span class="op" id="7474768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474771">b</span><span class="op" id="7474772">.</span><span class="ident" id="7474773">StartTimer</span><span class="op" id="7474783">(</span><span class="op" id="7474784">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474787">for</span>&nbsp;<span class="ident" id="7474791">i</span>&nbsp;<span class="op" id="7474793">:=</span>&nbsp;<span class="num" id="7474796">0</span><span class="op" id="7474797">;</span>&nbsp;<span class="ident" id="7474799">i</span>&nbsp;<span class="op" id="7474801">&lt;</span>&nbsp;<span class="ident" id="7474803">b</span><span class="op" id="7474804">.</span><span class="ident" id="7474805">N</span><span class="op" id="7474806">;</span>&nbsp;<span class="ident" id="7474808">i</span><span class="op" id="7474809">++</span>&nbsp;<span class="op" id="7474812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474816">re</span><span class="op" id="7474818">.</span><span class="ident" id="7474819">Match</span><span class="op" id="7474824">(</span><span class="ident" id="7474825">x</span><span class="op" id="7474826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474829">}</span><br>
<span class="lineno"></span><span class="op" id="7474831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="7474834">func</span>&nbsp;<span class="ident" id="7474839">BenchmarkAnchoredShortMatch</span><span class="op" id="7474866">(</span><span class="ident" id="7474867">b</span>&nbsp;<span class="op" id="7474869">*</span><span class="ident" id="7474870">testing</span><span class="op" id="7474877">.</span><span class="ident" id="7474878">B</span><span class="op" id="7474879">)</span>&nbsp;<span class="op" id="7474881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474884">b</span><span class="op" id="7474885">.</span><span class="ident" id="7474886">StopTimer</span><span class="op" id="7474895">(</span><span class="op" id="7474896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474899">x</span>&nbsp;<span class="op" id="7474901">:=</span>&nbsp;<span class="op" id="7474904">[</span><span class="op" id="7474905">]</span><span class="builtintype" id="7474906">byte</span><span class="op" id="7474910">(</span><span class="string" id="7474911">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7474939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474942">re</span>&nbsp;<span class="op" id="7474945">:=</span>&nbsp;<span class="ident" id="7474948">MustCompile</span><span class="op" id="7474959">(</span><span class="string" id="7474960">&#34;^.bc(d|e)&#34;</span><span class="op" id="7474971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474974">b</span><span class="op" id="7474975">.</span><span class="ident" id="7474976">StartTimer</span><span class="op" id="7474986">(</span><span class="op" id="7474987">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474990">for</span>&nbsp;<span class="ident" id="7474994">i</span>&nbsp;<span class="op" id="7474996">:=</span>&nbsp;<span class="num" id="7474999">0</span><span class="op" id="7475000">;</span>&nbsp;<span class="ident" id="7475002">i</span>&nbsp;<span class="op" id="7475004">&lt;</span>&nbsp;<span class="ident" id="7475006">b</span><span class="op" id="7475007">.</span><span class="ident" id="7475008">N</span><span class="op" id="7475009">;</span>&nbsp;<span class="ident" id="7475011">i</span><span class="op" id="7475012">++</span>&nbsp;<span class="op" id="7475015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475019">re</span><span class="op" id="7475021">.</span><span class="ident" id="7475022">Match</span><span class="op" id="7475027">(</span><span class="ident" id="7475028">x</span><span class="op" id="7475029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475032">}</span><br>
<span class="lineno"></span><span class="op" id="7475034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7475037">func</span>&nbsp;<span class="ident" id="7475042">BenchmarkAnchoredLongMatch</span><span class="op" id="7475068">(</span><span class="ident" id="7475069">b</span>&nbsp;<span class="op" id="7475071">*</span><span class="ident" id="7475072">testing</span><span class="op" id="7475079">.</span><span class="ident" id="7475080">B</span><span class="op" id="7475081">)</span>&nbsp;<span class="op" id="7475083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475086">b</span><span class="op" id="7475087">.</span><span class="ident" id="7475088">StopTimer</span><span class="op" id="7475097">(</span><span class="op" id="7475098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475101">x</span>&nbsp;<span class="op" id="7475103">:=</span>&nbsp;<span class="op" id="7475106">[</span><span class="op" id="7475107">]</span><span class="builtintype" id="7475108">byte</span><span class="op" id="7475112">(</span><span class="string" id="7475113">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7475141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475144">for</span>&nbsp;<span class="ident" id="7475148">i</span>&nbsp;<span class="op" id="7475150">:=</span>&nbsp;<span class="num" id="7475153">0</span><span class="op" id="7475154">;</span>&nbsp;<span class="ident" id="7475156">i</span>&nbsp;<span class="op" id="7475158">&lt;</span>&nbsp;<span class="num" id="7475160">15</span><span class="op" id="7475162">;</span>&nbsp;<span class="ident" id="7475164">i</span><span class="op" id="7475165">++</span>&nbsp;<span class="op" id="7475168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475172">x</span>&nbsp;<span class="op" id="7475174">=</span>&nbsp;<span class="builtinfunc" id="7475176">append</span><span class="op" id="7475182">(</span><span class="ident" id="7475183">x</span><span class="op" id="7475184">,</span>&nbsp;<span class="ident" id="7475186">x</span><span class="op" id="7475187">...</span><span class="op" id="7475190">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475196">re</span>&nbsp;<span class="op" id="7475199">:=</span>&nbsp;<span class="ident" id="7475202">MustCompile</span><span class="op" id="7475213">(</span><span class="string" id="7475214">&#34;^.bc(d|e)&#34;</span><span class="op" id="7475225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475228">b</span><span class="op" id="7475229">.</span><span class="ident" id="7475230">StartTimer</span><span class="op" id="7475240">(</span><span class="op" id="7475241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475244">for</span>&nbsp;<span class="ident" id="7475248">i</span>&nbsp;<span class="op" id="7475250">:=</span>&nbsp;<span class="num" id="7475253">0</span><span class="op" id="7475254">;</span>&nbsp;<span class="ident" id="7475256">i</span>&nbsp;<span class="op" id="7475258">&lt;</span>&nbsp;<span class="ident" id="7475260">b</span><span class="op" id="7475261">.</span><span class="ident" id="7475262">N</span><span class="op" id="7475263">;</span>&nbsp;<span class="ident" id="7475265">i</span><span class="op" id="7475266">++</span>&nbsp;<span class="op" id="7475269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475273">re</span><span class="op" id="7475275">.</span><span class="ident" id="7475276">Match</span><span class="op" id="7475281">(</span><span class="ident" id="7475282">x</span><span class="op" id="7475283">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475286">}</span><br>
<span class="lineno"></span><span class="op" id="7475288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475291">func</span>&nbsp;<span class="ident" id="7475296">BenchmarkOnePassShortA</span><span class="op" id="7475318">(</span><span class="ident" id="7475319">b</span>&nbsp;<span class="op" id="7475321">*</span><span class="ident" id="7475322">testing</span><span class="op" id="7475329">.</span><span class="ident" id="7475330">B</span><span class="op" id="7475331">)</span>&nbsp;<span class="op" id="7475333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475336">b</span><span class="op" id="7475337">.</span><span class="ident" id="7475338">StopTimer</span><span class="op" id="7475347">(</span><span class="op" id="7475348">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475351">x</span>&nbsp;<span class="op" id="7475353">:=</span>&nbsp;<span class="op" id="7475356">[</span><span class="op" id="7475357">]</span><span class="builtintype" id="7475358">byte</span><span class="op" id="7475362">(</span><span class="string" id="7475363">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7475382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475385">re</span>&nbsp;<span class="op" id="7475388">:=</span>&nbsp;<span class="ident" id="7475391">MustCompile</span><span class="op" id="7475402">(</span><span class="string" id="7475403">&#34;^.bc(d|e)*$&#34;</span><span class="op" id="7475416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475419">b</span><span class="op" id="7475420">.</span><span class="ident" id="7475421">StartTimer</span><span class="op" id="7475431">(</span><span class="op" id="7475432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475435">for</span>&nbsp;<span class="ident" id="7475439">i</span>&nbsp;<span class="op" id="7475441">:=</span>&nbsp;<span class="num" id="7475444">0</span><span class="op" id="7475445">;</span>&nbsp;<span class="ident" id="7475447">i</span>&nbsp;<span class="op" id="7475449">&lt;</span>&nbsp;<span class="ident" id="7475451">b</span><span class="op" id="7475452">.</span><span class="ident" id="7475453">N</span><span class="op" id="7475454">;</span>&nbsp;<span class="ident" id="7475456">i</span><span class="op" id="7475457">++</span>&nbsp;<span class="op" id="7475460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475464">re</span><span class="op" id="7475466">.</span><span class="ident" id="7475467">Match</span><span class="op" id="7475472">(</span><span class="ident" id="7475473">x</span><span class="op" id="7475474">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475477">}</span><br>
<span class="lineno"></span><span class="op" id="7475479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475482">func</span>&nbsp;<span class="ident" id="7475487">BenchmarkNotOnePassShortA</span><span class="op" id="7475512">(</span><span class="ident" id="7475513">b</span>&nbsp;<span class="op" id="7475515">*</span><span class="ident" id="7475516">testing</span><span class="op" id="7475523">.</span><span class="ident" id="7475524">B</span><span class="op" id="7475525">)</span>&nbsp;<span class="op" id="7475527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475530">b</span><span class="op" id="7475531">.</span><span class="ident" id="7475532">StopTimer</span><span class="op" id="7475541">(</span><span class="op" id="7475542">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475545">x</span>&nbsp;<span class="op" id="7475547">:=</span>&nbsp;<span class="op" id="7475550">[</span><span class="op" id="7475551">]</span><span class="builtintype" id="7475552">byte</span><span class="op" id="7475556">(</span><span class="string" id="7475557">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7475576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475579">re</span>&nbsp;<span class="op" id="7475582">:=</span>&nbsp;<span class="ident" id="7475585">MustCompile</span><span class="op" id="7475596">(</span><span class="string" id="7475597">&#34;.bc(d|e)*$&#34;</span><span class="op" id="7475609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475612">b</span><span class="op" id="7475613">.</span><span class="ident" id="7475614">StartTimer</span><span class="op" id="7475624">(</span><span class="op" id="7475625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475628">for</span>&nbsp;<span class="ident" id="7475632">i</span>&nbsp;<span class="op" id="7475634">:=</span>&nbsp;<span class="num" id="7475637">0</span><span class="op" id="7475638">;</span>&nbsp;<span class="ident" id="7475640">i</span>&nbsp;<span class="op" id="7475642">&lt;</span>&nbsp;<span class="ident" id="7475644">b</span><span class="op" id="7475645">.</span><span class="ident" id="7475646">N</span><span class="op" id="7475647">;</span>&nbsp;<span class="ident" id="7475649">i</span><span class="op" id="7475650">++</span>&nbsp;<span class="op" id="7475653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475657">re</span><span class="op" id="7475659">.</span><span class="ident" id="7475660">Match</span><span class="op" id="7475665">(</span><span class="ident" id="7475666">x</span><span class="op" id="7475667">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475670">}</span><br>
<span class="lineno"></span><span class="op" id="7475672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475675">func</span>&nbsp;<span class="ident" id="7475680">BenchmarkOnePassShortB</span><span class="op" id="7475702">(</span><span class="ident" id="7475703">b</span>&nbsp;<span class="op" id="7475705">*</span><span class="ident" id="7475706">testing</span><span class="op" id="7475713">.</span><span class="ident" id="7475714">B</span><span class="op" id="7475715">)</span>&nbsp;<span class="op" id="7475717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475720">b</span><span class="op" id="7475721">.</span><span class="ident" id="7475722">StopTimer</span><span class="op" id="7475731">(</span><span class="op" id="7475732">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475735">x</span>&nbsp;<span class="op" id="7475737">:=</span>&nbsp;<span class="op" id="7475740">[</span><span class="op" id="7475741">]</span><span class="builtintype" id="7475742">byte</span><span class="op" id="7475746">(</span><span class="string" id="7475747">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7475766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475769">re</span>&nbsp;<span class="op" id="7475772">:=</span>&nbsp;<span class="ident" id="7475775">MustCompile</span><span class="op" id="7475786">(</span><span class="string" id="7475787">&#34;^.bc(?:d|e)*$&#34;</span><span class="op" id="7475802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475805">b</span><span class="op" id="7475806">.</span><span class="ident" id="7475807">StartTimer</span><span class="op" id="7475817">(</span><span class="op" id="7475818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475821">for</span>&nbsp;<span class="ident" id="7475825">i</span>&nbsp;<span class="op" id="7475827">:=</span>&nbsp;<span class="num" id="7475830">0</span><span class="op" id="7475831">;</span>&nbsp;<span class="ident" id="7475833">i</span>&nbsp;<span class="op" id="7475835">&lt;</span>&nbsp;<span class="ident" id="7475837">b</span><span class="op" id="7475838">.</span><span class="ident" id="7475839">N</span><span class="op" id="7475840">;</span>&nbsp;<span class="ident" id="7475842">i</span><span class="op" id="7475843">++</span>&nbsp;<span class="op" id="7475846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475850">re</span><span class="op" id="7475852">.</span><span class="ident" id="7475853">Match</span><span class="op" id="7475858">(</span><span class="ident" id="7475859">x</span><span class="op" id="7475860">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475863">}</span><br>
<span class="lineno"></span><span class="op" id="7475865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475868">func</span>&nbsp;<span class="ident" id="7475873">BenchmarkNotOnePassShortB</span><span class="op" id="7475898">(</span><span class="ident" id="7475899">b</span>&nbsp;<span class="op" id="7475901">*</span><span class="ident" id="7475902">testing</span><span class="op" id="7475909">.</span><span class="ident" id="7475910">B</span><span class="op" id="7475911">)</span>&nbsp;<span class="op" id="7475913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475916">b</span><span class="op" id="7475917">.</span><span class="ident" id="7475918">StopTimer</span><span class="op" id="7475927">(</span><span class="op" id="7475928">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475931">x</span>&nbsp;<span class="op" id="7475933">:=</span>&nbsp;<span class="op" id="7475936">[</span><span class="op" id="7475937">]</span><span class="builtintype" id="7475938">byte</span><span class="op" id="7475942">(</span><span class="string" id="7475943">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7475962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475965">re</span>&nbsp;<span class="op" id="7475968">:=</span>&nbsp;<span class="ident" id="7475971">MustCompile</span><span class="op" id="7475982">(</span><span class="string" id="7475983">&#34;.bc(?:d|e)*$&#34;</span><span class="op" id="7475997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476000">b</span><span class="op" id="7476001">.</span><span class="ident" id="7476002">StartTimer</span><span class="op" id="7476012">(</span><span class="op" id="7476013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476016">for</span>&nbsp;<span class="ident" id="7476020">i</span>&nbsp;<span class="op" id="7476022">:=</span>&nbsp;<span class="num" id="7476025">0</span><span class="op" id="7476026">;</span>&nbsp;<span class="ident" id="7476028">i</span>&nbsp;<span class="op" id="7476030">&lt;</span>&nbsp;<span class="ident" id="7476032">b</span><span class="op" id="7476033">.</span><span class="ident" id="7476034">N</span><span class="op" id="7476035">;</span>&nbsp;<span class="ident" id="7476037">i</span><span class="op" id="7476038">++</span>&nbsp;<span class="op" id="7476041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476045">re</span><span class="op" id="7476047">.</span><span class="ident" id="7476048">Match</span><span class="op" id="7476053">(</span><span class="ident" id="7476054">x</span><span class="op" id="7476055">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476058">}</span><br>
<span class="lineno"></span><span class="op" id="7476060">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476063">func</span>&nbsp;<span class="ident" id="7476068">BenchmarkOnePassLongPrefix</span><span class="op" id="7476094">(</span><span class="ident" id="7476095">b</span>&nbsp;<span class="op" id="7476097">*</span><span class="ident" id="7476098">testing</span><span class="op" id="7476105">.</span><span class="ident" id="7476106">B</span><span class="op" id="7476107">)</span>&nbsp;<span class="op" id="7476109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476112">b</span><span class="op" id="7476113">.</span><span class="ident" id="7476114">StopTimer</span><span class="op" id="7476123">(</span><span class="op" id="7476124">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476127">x</span>&nbsp;<span class="op" id="7476129">:=</span>&nbsp;<span class="op" id="7476132">[</span><span class="op" id="7476133">]</span><span class="builtintype" id="7476134">byte</span><span class="op" id="7476138">(</span><span class="string" id="7476139">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7476167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476170">re</span>&nbsp;<span class="op" id="7476173">:=</span>&nbsp;<span class="ident" id="7476176">MustCompile</span><span class="op" id="7476187">(</span><span class="string" id="7476188">&#34;^abcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="7476220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476223">b</span><span class="op" id="7476224">.</span><span class="ident" id="7476225">StartTimer</span><span class="op" id="7476235">(</span><span class="op" id="7476236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476239">for</span>&nbsp;<span class="ident" id="7476243">i</span>&nbsp;<span class="op" id="7476245">:=</span>&nbsp;<span class="num" id="7476248">0</span><span class="op" id="7476249">;</span>&nbsp;<span class="ident" id="7476251">i</span>&nbsp;<span class="op" id="7476253">&lt;</span>&nbsp;<span class="ident" id="7476255">b</span><span class="op" id="7476256">.</span><span class="ident" id="7476257">N</span><span class="op" id="7476258">;</span>&nbsp;<span class="ident" id="7476260">i</span><span class="op" id="7476261">++</span>&nbsp;<span class="op" id="7476264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476268">re</span><span class="op" id="7476270">.</span><span class="ident" id="7476271">Match</span><span class="op" id="7476276">(</span><span class="ident" id="7476277">x</span><span class="op" id="7476278">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476281">}</span><br>
<span class="lineno"></span><span class="op" id="7476283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476286">func</span>&nbsp;<span class="ident" id="7476291">BenchmarkOnePassLongNotPrefix</span><span class="op" id="7476320">(</span><span class="ident" id="7476321">b</span>&nbsp;<span class="op" id="7476323">*</span><span class="ident" id="7476324">testing</span><span class="op" id="7476331">.</span><span class="ident" id="7476332">B</span><span class="op" id="7476333">)</span>&nbsp;<span class="op" id="7476335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476338">b</span><span class="op" id="7476339">.</span><span class="ident" id="7476340">StopTimer</span><span class="op" id="7476349">(</span><span class="op" id="7476350">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476353">x</span>&nbsp;<span class="op" id="7476355">:=</span>&nbsp;<span class="op" id="7476358">[</span><span class="op" id="7476359">]</span><span class="builtintype" id="7476360">byte</span><span class="op" id="7476364">(</span><span class="string" id="7476365">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7476393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476396">re</span>&nbsp;<span class="op" id="7476399">:=</span>&nbsp;<span class="ident" id="7476402">MustCompile</span><span class="op" id="7476413">(</span><span class="string" id="7476414">&#34;^.bcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="7476446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476449">b</span><span class="op" id="7476450">.</span><span class="ident" id="7476451">StartTimer</span><span class="op" id="7476461">(</span><span class="op" id="7476462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476465">for</span>&nbsp;<span class="ident" id="7476469">i</span>&nbsp;<span class="op" id="7476471">:=</span>&nbsp;<span class="num" id="7476474">0</span><span class="op" id="7476475">;</span>&nbsp;<span class="ident" id="7476477">i</span>&nbsp;<span class="op" id="7476479">&lt;</span>&nbsp;<span class="ident" id="7476481">b</span><span class="op" id="7476482">.</span><span class="ident" id="7476483">N</span><span class="op" id="7476484">;</span>&nbsp;<span class="ident" id="7476486">i</span><span class="op" id="7476487">++</span>&nbsp;<span class="op" id="7476490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476494">re</span><span class="op" id="7476496">.</span><span class="ident" id="7476497">Match</span><span class="op" id="7476502">(</span><span class="ident" id="7476503">x</span><span class="op" id="7476504">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476507">}</span><br>
<span class="lineno"></span><span class="op" id="7476509">}</span>
</div>
</body>
</html>
