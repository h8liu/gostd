<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6834553">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6834608">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6834662">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6834713">package</span>&nbsp;<span class="ident" id="6834721">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6834727">import</span>&nbsp;<span class="op" id="6834734">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6834737">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6834747">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6834750">var</span>&nbsp;<span class="ident" id="6834754">ParseRangeTests</span>&nbsp;<span class="op" id="6834770">=</span>&nbsp;<span class="op" id="6834772">[</span><span class="op" id="6834773">]</span><span class="keyword" id="6834774">struct</span>&nbsp;<span class="op" id="6834781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834784">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6834791">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834799">length</span>&nbsp;<span class="ident" id="6834806">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834813">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6834820">[</span><span class="op" id="6834821">]</span><span class="ident" id="6834822">httpRange</span><br>
<span class="lineno">15</span><span class="op" id="6834832">}</span><span class="op" id="6834833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834836">{</span><span class="string" id="6834837">&#34;&#34;</span><span class="op" id="6834839">,</span>&nbsp;<span class="num" id="6834841">0</span><span class="op" id="6834842">,</span>&nbsp;<span class="ident" id="6834844">nil</span><span class="op" id="6834847">}</span><span class="op" id="6834848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834851">{</span><span class="string" id="6834852">&#34;&#34;</span><span class="op" id="6834854">,</span>&nbsp;<span class="num" id="6834856">1000</span><span class="op" id="6834860">,</span>&nbsp;<span class="ident" id="6834862">nil</span><span class="op" id="6834865">}</span><span class="op" id="6834866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834869">{</span><span class="string" id="6834870">&#34;foo&#34;</span><span class="op" id="6834875">,</span>&nbsp;<span class="num" id="6834877">0</span><span class="op" id="6834878">,</span>&nbsp;<span class="ident" id="6834880">nil</span><span class="op" id="6834883">}</span><span class="op" id="6834884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834887">{</span><span class="string" id="6834888">&#34;bytes=&#34;</span><span class="op" id="6834896">,</span>&nbsp;<span class="num" id="6834898">0</span><span class="op" id="6834899">,</span>&nbsp;<span class="ident" id="6834901">nil</span><span class="op" id="6834904">}</span><span class="op" id="6834905">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834908">{</span><span class="string" id="6834909">&#34;bytes=7&#34;</span><span class="op" id="6834918">,</span>&nbsp;<span class="num" id="6834920">10</span><span class="op" id="6834922">,</span>&nbsp;<span class="ident" id="6834924">nil</span><span class="op" id="6834927">}</span><span class="op" id="6834928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834931">{</span><span class="string" id="6834932">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="6834943">,</span>&nbsp;<span class="num" id="6834945">10</span><span class="op" id="6834947">,</span>&nbsp;<span class="ident" id="6834949">nil</span><span class="op" id="6834952">}</span><span class="op" id="6834953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834956">{</span><span class="string" id="6834957">&#34;bytes=1-&#34;</span><span class="op" id="6834967">,</span>&nbsp;<span class="num" id="6834969">0</span><span class="op" id="6834970">,</span>&nbsp;<span class="ident" id="6834972">nil</span><span class="op" id="6834975">}</span><span class="op" id="6834976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834979">{</span><span class="string" id="6834980">&#34;bytes=5-4&#34;</span><span class="op" id="6834991">,</span>&nbsp;<span class="num" id="6834993">10</span><span class="op" id="6834995">,</span>&nbsp;<span class="ident" id="6834997">nil</span><span class="op" id="6835000">}</span><span class="op" id="6835001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835004">{</span><span class="string" id="6835005">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="6835020">,</span>&nbsp;<span class="num" id="6835022">10</span><span class="op" id="6835024">,</span>&nbsp;<span class="ident" id="6835026">nil</span><span class="op" id="6835029">}</span><span class="op" id="6835030">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835033">{</span><span class="string" id="6835034">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="6835049">,</span>&nbsp;<span class="num" id="6835051">10</span><span class="op" id="6835053">,</span>&nbsp;<span class="ident" id="6835055">nil</span><span class="op" id="6835058">}</span><span class="op" id="6835059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835062">{</span><span class="string" id="6835063">&#34;bytes=--5,4--3&#34;</span><span class="op" id="6835079">,</span>&nbsp;<span class="num" id="6835081">10</span><span class="op" id="6835083">,</span>&nbsp;<span class="ident" id="6835085">nil</span><span class="op" id="6835088">}</span><span class="op" id="6835089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835092">{</span><span class="string" id="6835093">&#34;bytes=A-&#34;</span><span class="op" id="6835103">,</span>&nbsp;<span class="num" id="6835105">10</span><span class="op" id="6835107">,</span>&nbsp;<span class="ident" id="6835109">nil</span><span class="op" id="6835112">}</span><span class="op" id="6835113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835116">{</span><span class="string" id="6835117">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="6835128">,</span>&nbsp;<span class="num" id="6835130">10</span><span class="op" id="6835132">,</span>&nbsp;<span class="ident" id="6835134">nil</span><span class="op" id="6835137">}</span><span class="op" id="6835138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835141">{</span><span class="string" id="6835142">&#34;bytes=A-Z&#34;</span><span class="op" id="6835153">,</span>&nbsp;<span class="num" id="6835155">10</span><span class="op" id="6835157">,</span>&nbsp;<span class="ident" id="6835159">nil</span><span class="op" id="6835162">}</span><span class="op" id="6835163">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835166">{</span><span class="string" id="6835167">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="6835178">,</span>&nbsp;<span class="num" id="6835180">10</span><span class="op" id="6835182">,</span>&nbsp;<span class="ident" id="6835184">nil</span><span class="op" id="6835187">}</span><span class="op" id="6835188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835191">{</span><span class="string" id="6835192">&#34;bytes=5-Z&#34;</span><span class="op" id="6835203">,</span>&nbsp;<span class="num" id="6835205">10</span><span class="op" id="6835207">,</span>&nbsp;<span class="ident" id="6835209">nil</span><span class="op" id="6835212">}</span><span class="op" id="6835213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835216">{</span><span class="string" id="6835217">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="6835241">,</span>&nbsp;<span class="num" id="6835243">10</span><span class="op" id="6835245">,</span>&nbsp;<span class="ident" id="6835247">nil</span><span class="op" id="6835250">}</span><span class="op" id="6835251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835254">{</span><span class="string" id="6835255">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="6835272">,</span>&nbsp;<span class="num" id="6835274">10</span><span class="op" id="6835276">,</span>&nbsp;<span class="ident" id="6835278">nil</span><span class="op" id="6835281">}</span><span class="op" id="6835282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835285">{</span><span class="string" id="6835286">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="6835303">,</span>&nbsp;<span class="num" id="6835305">10</span><span class="op" id="6835307">,</span>&nbsp;<span class="ident" id="6835309">nil</span><span class="op" id="6835312">}</span><span class="op" id="6835313">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835316">{</span><span class="string" id="6835317">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="6835334">,</span>&nbsp;<span class="num" id="6835336">10</span><span class="op" id="6835338">,</span>&nbsp;<span class="ident" id="6835340">nil</span><span class="op" id="6835343">}</span><span class="op" id="6835344">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835348">{</span><span class="string" id="6835349">&#34;bytes=0-9&#34;</span><span class="op" id="6835360">,</span>&nbsp;<span class="num" id="6835362">10</span><span class="op" id="6835364">,</span>&nbsp;<span class="op" id="6835366">[</span><span class="op" id="6835367">]</span><span class="ident" id="6835368">httpRange</span><span class="op" id="6835377">{</span><span class="op" id="6835378">{</span><span class="num" id="6835379">0</span><span class="op" id="6835380">,</span>&nbsp;<span class="num" id="6835382">10</span><span class="op" id="6835384">}</span><span class="op" id="6835385">}</span><span class="op" id="6835386">}</span><span class="op" id="6835387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835390">{</span><span class="string" id="6835391">&#34;bytes=0-&#34;</span><span class="op" id="6835401">,</span>&nbsp;<span class="num" id="6835403">10</span><span class="op" id="6835405">,</span>&nbsp;<span class="op" id="6835407">[</span><span class="op" id="6835408">]</span><span class="ident" id="6835409">httpRange</span><span class="op" id="6835418">{</span><span class="op" id="6835419">{</span><span class="num" id="6835420">0</span><span class="op" id="6835421">,</span>&nbsp;<span class="num" id="6835423">10</span><span class="op" id="6835425">}</span><span class="op" id="6835426">}</span><span class="op" id="6835427">}</span><span class="op" id="6835428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835431">{</span><span class="string" id="6835432">&#34;bytes=5-&#34;</span><span class="op" id="6835442">,</span>&nbsp;<span class="num" id="6835444">10</span><span class="op" id="6835446">,</span>&nbsp;<span class="op" id="6835448">[</span><span class="op" id="6835449">]</span><span class="ident" id="6835450">httpRange</span><span class="op" id="6835459">{</span><span class="op" id="6835460">{</span><span class="num" id="6835461">5</span><span class="op" id="6835462">,</span>&nbsp;<span class="num" id="6835464">5</span><span class="op" id="6835465">}</span><span class="op" id="6835466">}</span><span class="op" id="6835467">}</span><span class="op" id="6835468">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835471">{</span><span class="string" id="6835472">&#34;bytes=0-20&#34;</span><span class="op" id="6835484">,</span>&nbsp;<span class="num" id="6835486">10</span><span class="op" id="6835488">,</span>&nbsp;<span class="op" id="6835490">[</span><span class="op" id="6835491">]</span><span class="ident" id="6835492">httpRange</span><span class="op" id="6835501">{</span><span class="op" id="6835502">{</span><span class="num" id="6835503">0</span><span class="op" id="6835504">,</span>&nbsp;<span class="num" id="6835506">10</span><span class="op" id="6835508">}</span><span class="op" id="6835509">}</span><span class="op" id="6835510">}</span><span class="op" id="6835511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835514">{</span><span class="string" id="6835515">&#34;bytes=15-,0-5&#34;</span><span class="op" id="6835530">,</span>&nbsp;<span class="num" id="6835532">10</span><span class="op" id="6835534">,</span>&nbsp;<span class="ident" id="6835536">nil</span><span class="op" id="6835539">}</span><span class="op" id="6835540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835543">{</span><span class="string" id="6835544">&#34;bytes=1-2,5-&#34;</span><span class="op" id="6835558">,</span>&nbsp;<span class="num" id="6835560">10</span><span class="op" id="6835562">,</span>&nbsp;<span class="op" id="6835564">[</span><span class="op" id="6835565">]</span><span class="ident" id="6835566">httpRange</span><span class="op" id="6835575">{</span><span class="op" id="6835576">{</span><span class="num" id="6835577">1</span><span class="op" id="6835578">,</span>&nbsp;<span class="num" id="6835580">2</span><span class="op" id="6835581">}</span><span class="op" id="6835582">,</span>&nbsp;<span class="op" id="6835584">{</span><span class="num" id="6835585">5</span><span class="op" id="6835586">,</span>&nbsp;<span class="num" id="6835588">5</span><span class="op" id="6835589">}</span><span class="op" id="6835590">}</span><span class="op" id="6835591">}</span><span class="op" id="6835592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835595">{</span><span class="string" id="6835596">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="6835611">,</span>&nbsp;<span class="num" id="6835613">11</span><span class="op" id="6835615">,</span>&nbsp;<span class="op" id="6835617">[</span><span class="op" id="6835618">]</span><span class="ident" id="6835619">httpRange</span><span class="op" id="6835628">{</span><span class="op" id="6835629">{</span><span class="num" id="6835630">9</span><span class="op" id="6835631">,</span>&nbsp;<span class="num" id="6835633">2</span><span class="op" id="6835634">}</span><span class="op" id="6835635">,</span>&nbsp;<span class="op" id="6835637">{</span><span class="num" id="6835638">7</span><span class="op" id="6835639">,</span>&nbsp;<span class="num" id="6835641">4</span><span class="op" id="6835642">}</span><span class="op" id="6835643">}</span><span class="op" id="6835644">}</span><span class="op" id="6835645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835648">{</span><span class="string" id="6835649">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="6835669">,</span>&nbsp;<span class="num" id="6835671">11</span><span class="op" id="6835673">,</span>&nbsp;<span class="op" id="6835675">[</span><span class="op" id="6835676">]</span><span class="ident" id="6835677">httpRange</span><span class="op" id="6835686">{</span><span class="op" id="6835687">{</span><span class="num" id="6835688">0</span><span class="op" id="6835689">,</span>&nbsp;<span class="num" id="6835691">1</span><span class="op" id="6835692">}</span><span class="op" id="6835693">,</span>&nbsp;<span class="op" id="6835695">{</span><span class="num" id="6835696">2</span><span class="op" id="6835697">,</span>&nbsp;<span class="num" id="6835699">1</span><span class="op" id="6835700">}</span><span class="op" id="6835701">,</span>&nbsp;<span class="op" id="6835703">{</span><span class="num" id="6835704">7</span><span class="op" id="6835705">,</span>&nbsp;<span class="num" id="6835707">4</span><span class="op" id="6835708">}</span><span class="op" id="6835709">}</span><span class="op" id="6835710">}</span><span class="op" id="6835711">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835714">{</span><span class="string" id="6835715">&#34;bytes=-5&#34;</span><span class="op" id="6835725">,</span>&nbsp;<span class="num" id="6835727">10</span><span class="op" id="6835729">,</span>&nbsp;<span class="op" id="6835731">[</span><span class="op" id="6835732">]</span><span class="ident" id="6835733">httpRange</span><span class="op" id="6835742">{</span><span class="op" id="6835743">{</span><span class="num" id="6835744">5</span><span class="op" id="6835745">,</span>&nbsp;<span class="num" id="6835747">5</span><span class="op" id="6835748">}</span><span class="op" id="6835749">}</span><span class="op" id="6835750">}</span><span class="op" id="6835751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835754">{</span><span class="string" id="6835755">&#34;bytes=-15&#34;</span><span class="op" id="6835766">,</span>&nbsp;<span class="num" id="6835768">10</span><span class="op" id="6835770">,</span>&nbsp;<span class="op" id="6835772">[</span><span class="op" id="6835773">]</span><span class="ident" id="6835774">httpRange</span><span class="op" id="6835783">{</span><span class="op" id="6835784">{</span><span class="num" id="6835785">0</span><span class="op" id="6835786">,</span>&nbsp;<span class="num" id="6835788">10</span><span class="op" id="6835790">}</span><span class="op" id="6835791">}</span><span class="op" id="6835792">}</span><span class="op" id="6835793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835796">{</span><span class="string" id="6835797">&#34;bytes=0-499&#34;</span><span class="op" id="6835810">,</span>&nbsp;<span class="num" id="6835812">10000</span><span class="op" id="6835817">,</span>&nbsp;<span class="op" id="6835819">[</span><span class="op" id="6835820">]</span><span class="ident" id="6835821">httpRange</span><span class="op" id="6835830">{</span><span class="op" id="6835831">{</span><span class="num" id="6835832">0</span><span class="op" id="6835833">,</span>&nbsp;<span class="num" id="6835835">500</span><span class="op" id="6835838">}</span><span class="op" id="6835839">}</span><span class="op" id="6835840">}</span><span class="op" id="6835841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835844">{</span><span class="string" id="6835845">&#34;bytes=500-999&#34;</span><span class="op" id="6835860">,</span>&nbsp;<span class="num" id="6835862">10000</span><span class="op" id="6835867">,</span>&nbsp;<span class="op" id="6835869">[</span><span class="op" id="6835870">]</span><span class="ident" id="6835871">httpRange</span><span class="op" id="6835880">{</span><span class="op" id="6835881">{</span><span class="num" id="6835882">500</span><span class="op" id="6835885">,</span>&nbsp;<span class="num" id="6835887">500</span><span class="op" id="6835890">}</span><span class="op" id="6835891">}</span><span class="op" id="6835892">}</span><span class="op" id="6835893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835896">{</span><span class="string" id="6835897">&#34;bytes=-500&#34;</span><span class="op" id="6835909">,</span>&nbsp;<span class="num" id="6835911">10000</span><span class="op" id="6835916">,</span>&nbsp;<span class="op" id="6835918">[</span><span class="op" id="6835919">]</span><span class="ident" id="6835920">httpRange</span><span class="op" id="6835929">{</span><span class="op" id="6835930">{</span><span class="num" id="6835931">9500</span><span class="op" id="6835935">,</span>&nbsp;<span class="num" id="6835937">500</span><span class="op" id="6835940">}</span><span class="op" id="6835941">}</span><span class="op" id="6835942">}</span><span class="op" id="6835943">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835946">{</span><span class="string" id="6835947">&#34;bytes=9500-&#34;</span><span class="op" id="6835960">,</span>&nbsp;<span class="num" id="6835962">10000</span><span class="op" id="6835967">,</span>&nbsp;<span class="op" id="6835969">[</span><span class="op" id="6835970">]</span><span class="ident" id="6835971">httpRange</span><span class="op" id="6835980">{</span><span class="op" id="6835981">{</span><span class="num" id="6835982">9500</span><span class="op" id="6835986">,</span>&nbsp;<span class="num" id="6835988">500</span><span class="op" id="6835991">}</span><span class="op" id="6835992">}</span><span class="op" id="6835993">}</span><span class="op" id="6835994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835997">{</span><span class="string" id="6835998">&#34;bytes=0-0,-1&#34;</span><span class="op" id="6836012">,</span>&nbsp;<span class="num" id="6836014">10000</span><span class="op" id="6836019">,</span>&nbsp;<span class="op" id="6836021">[</span><span class="op" id="6836022">]</span><span class="ident" id="6836023">httpRange</span><span class="op" id="6836032">{</span><span class="op" id="6836033">{</span><span class="num" id="6836034">0</span><span class="op" id="6836035">,</span>&nbsp;<span class="num" id="6836037">1</span><span class="op" id="6836038">}</span><span class="op" id="6836039">,</span>&nbsp;<span class="op" id="6836041">{</span><span class="num" id="6836042">9999</span><span class="op" id="6836046">,</span>&nbsp;<span class="num" id="6836048">1</span><span class="op" id="6836049">}</span><span class="op" id="6836050">}</span><span class="op" id="6836051">}</span><span class="op" id="6836052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836055">{</span><span class="string" id="6836056">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="6836079">,</span>&nbsp;<span class="num" id="6836081">10000</span><span class="op" id="6836086">,</span>&nbsp;<span class="op" id="6836088">[</span><span class="op" id="6836089">]</span><span class="ident" id="6836090">httpRange</span><span class="op" id="6836099">{</span><span class="op" id="6836100">{</span><span class="num" id="6836101">500</span><span class="op" id="6836104">,</span>&nbsp;<span class="num" id="6836106">101</span><span class="op" id="6836109">}</span><span class="op" id="6836110">,</span>&nbsp;<span class="op" id="6836112">{</span><span class="num" id="6836113">601</span><span class="op" id="6836116">,</span>&nbsp;<span class="num" id="6836118">399</span><span class="op" id="6836121">}</span><span class="op" id="6836122">}</span><span class="op" id="6836123">}</span><span class="op" id="6836124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836127">{</span><span class="string" id="6836128">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="6836151">,</span>&nbsp;<span class="num" id="6836153">10000</span><span class="op" id="6836158">,</span>&nbsp;<span class="op" id="6836160">[</span><span class="op" id="6836161">]</span><span class="ident" id="6836162">httpRange</span><span class="op" id="6836171">{</span><span class="op" id="6836172">{</span><span class="num" id="6836173">500</span><span class="op" id="6836176">,</span>&nbsp;<span class="num" id="6836178">201</span><span class="op" id="6836181">}</span><span class="op" id="6836182">,</span>&nbsp;<span class="op" id="6836184">{</span><span class="num" id="6836185">601</span><span class="op" id="6836188">,</span>&nbsp;<span class="num" id="6836190">399</span><span class="op" id="6836193">}</span><span class="op" id="6836194">}</span><span class="op" id="6836195">}</span><span class="op" id="6836196">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6836200">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836225">{</span><span class="string" id="6836226">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="6836263">,</span>&nbsp;<span class="num" id="6836265">11</span><span class="op" id="6836267">,</span>&nbsp;<span class="op" id="6836269">[</span><span class="op" id="6836270">]</span><span class="ident" id="6836271">httpRange</span><span class="op" id="6836280">{</span><span class="op" id="6836281">{</span><span class="num" id="6836282">1</span><span class="op" id="6836283">,</span>&nbsp;<span class="num" id="6836285">2</span><span class="op" id="6836286">}</span><span class="op" id="6836287">,</span>&nbsp;<span class="op" id="6836289">{</span><span class="num" id="6836290">4</span><span class="op" id="6836291">,</span>&nbsp;<span class="num" id="6836293">2</span><span class="op" id="6836294">}</span><span class="op" id="6836295">,</span>&nbsp;<span class="op" id="6836297">{</span><span class="num" id="6836298">7</span><span class="op" id="6836299">,</span>&nbsp;<span class="num" id="6836301">2</span><span class="op" id="6836302">}</span><span class="op" id="6836303">}</span><span class="op" id="6836304">}</span><span class="op" id="6836305">,</span><br>
<span class="lineno"></span><span class="op" id="6836307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6836310">func</span>&nbsp;<span class="ident" id="6836315">TestParseRange</span><span class="op" id="6836329">(</span><span class="ident" id="6836330">t</span>&nbsp;<span class="op" id="6836332">*</span><span class="ident" id="6836333">testing</span><span class="op" id="6836340">.</span><span class="ident" id="6836341">T</span><span class="op" id="6836342">)</span>&nbsp;<span class="op" id="6836344">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6836347">for</span>&nbsp;<span class="ident" id="6836351">_</span><span class="op" id="6836352">,</span>&nbsp;<span class="ident" id="6836354">test</span>&nbsp;<span class="op" id="6836359">:=</span>&nbsp;<span class="keyword" id="6836362">range</span>&nbsp;<span class="ident" id="6836368">ParseRangeTests</span>&nbsp;<span class="op" id="6836384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836388">r</span>&nbsp;<span class="op" id="6836390">:=</span>&nbsp;<span class="ident" id="6836393">test</span><span class="op" id="6836397">.</span><span class="ident" id="6836398">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836402">ranges</span><span class="op" id="6836408">,</span>&nbsp;<span class="ident" id="6836410">err</span>&nbsp;<span class="op" id="6836414">:=</span>&nbsp;<span class="ident" id="6836417">parseRange</span><span class="op" id="6836427">(</span><span class="ident" id="6836428">test</span><span class="op" id="6836432">.</span><span class="ident" id="6836433">s</span><span class="op" id="6836434">,</span>&nbsp;<span class="ident" id="6836436">test</span><span class="op" id="6836440">.</span><span class="ident" id="6836441">length</span><span class="op" id="6836447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6836451">if</span>&nbsp;<span class="ident" id="6836454">err</span>&nbsp;<span class="op" id="6836458">!=</span>&nbsp;<span class="ident" id="6836461">nil</span>&nbsp;<span class="op" id="6836465">&amp;&amp;</span>&nbsp;<span class="ident" id="6836468">r</span>&nbsp;<span class="op" id="6836470">!=</span>&nbsp;<span class="ident" id="6836473">nil</span>&nbsp;<span class="op" id="6836477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836482">t</span><span class="op" id="6836483">.</span><span class="ident" id="6836484">Errorf</span><span class="op" id="6836490">(</span><span class="string" id="6836491">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="6836525">,</span>&nbsp;<span class="ident" id="6836527">test</span><span class="op" id="6836531">.</span><span class="ident" id="6836532">s</span><span class="op" id="6836533">,</span>&nbsp;<span class="ident" id="6836535">err</span><span class="op" id="6836538">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6836546">if</span>&nbsp;<span class="builtinfunc" id="6836549">len</span><span class="op" id="6836552">(</span><span class="ident" id="6836553">ranges</span><span class="op" id="6836559">)</span>&nbsp;<span class="op" id="6836561">!=</span>&nbsp;<span class="builtinfunc" id="6836564">len</span><span class="op" id="6836567">(</span><span class="ident" id="6836568">r</span><span class="op" id="6836569">)</span>&nbsp;<span class="op" id="6836571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836576">t</span><span class="op" id="6836577">.</span><span class="ident" id="6836578">Errorf</span><span class="op" id="6836584">(</span><span class="string" id="6836585">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6836620">,</span>&nbsp;<span class="ident" id="6836622">test</span><span class="op" id="6836626">.</span><span class="ident" id="6836627">s</span><span class="op" id="6836628">,</span>&nbsp;<span class="builtinfunc" id="6836630">len</span><span class="op" id="6836633">(</span><span class="ident" id="6836634">ranges</span><span class="op" id="6836640">)</span><span class="op" id="6836641">,</span>&nbsp;<span class="builtinfunc" id="6836643">len</span><span class="op" id="6836646">(</span><span class="ident" id="6836647">r</span><span class="op" id="6836648">)</span><span class="op" id="6836649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6836654">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836665">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6836669">for</span>&nbsp;<span class="ident" id="6836673">i</span>&nbsp;<span class="op" id="6836675">:=</span>&nbsp;<span class="keyword" id="6836678">range</span>&nbsp;<span class="ident" id="6836684">r</span>&nbsp;<span class="op" id="6836686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6836691">if</span>&nbsp;<span class="ident" id="6836694">ranges</span><span class="op" id="6836700">[</span><span class="ident" id="6836701">i</span><span class="op" id="6836702">]</span><span class="op" id="6836703">.</span><span class="ident" id="6836704">start</span>&nbsp;<span class="op" id="6836710">!=</span>&nbsp;<span class="ident" id="6836713">r</span><span class="op" id="6836714">[</span><span class="ident" id="6836715">i</span><span class="op" id="6836716">]</span><span class="op" id="6836717">.</span><span class="ident" id="6836718">start</span>&nbsp;<span class="op" id="6836724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836730">t</span><span class="op" id="6836731">.</span><span class="ident" id="6836732">Errorf</span><span class="op" id="6836738">(</span><span class="string" id="6836739">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6836779">,</span>&nbsp;<span class="ident" id="6836781">test</span><span class="op" id="6836785">.</span><span class="ident" id="6836786">s</span><span class="op" id="6836787">,</span>&nbsp;<span class="ident" id="6836789">i</span><span class="op" id="6836790">,</span>&nbsp;<span class="ident" id="6836792">ranges</span><span class="op" id="6836798">[</span><span class="ident" id="6836799">i</span><span class="op" id="6836800">]</span><span class="op" id="6836801">.</span><span class="ident" id="6836802">start</span><span class="op" id="6836807">,</span>&nbsp;<span class="ident" id="6836809">r</span><span class="op" id="6836810">[</span><span class="ident" id="6836811">i</span><span class="op" id="6836812">]</span><span class="op" id="6836813">.</span><span class="ident" id="6836814">start</span><span class="op" id="6836819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6836829">if</span>&nbsp;<span class="ident" id="6836832">ranges</span><span class="op" id="6836838">[</span><span class="ident" id="6836839">i</span><span class="op" id="6836840">]</span><span class="op" id="6836841">.</span><span class="ident" id="6836842">length</span>&nbsp;<span class="op" id="6836849">!=</span>&nbsp;<span class="ident" id="6836852">r</span><span class="op" id="6836853">[</span><span class="ident" id="6836854">i</span><span class="op" id="6836855">]</span><span class="op" id="6836856">.</span><span class="ident" id="6836857">length</span>&nbsp;<span class="op" id="6836864">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836870">t</span><span class="op" id="6836871">.</span><span class="ident" id="6836872">Errorf</span><span class="op" id="6836878">(</span><span class="string" id="6836879">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6836920">,</span>&nbsp;<span class="ident" id="6836922">test</span><span class="op" id="6836926">.</span><span class="ident" id="6836927">s</span><span class="op" id="6836928">,</span>&nbsp;<span class="ident" id="6836930">i</span><span class="op" id="6836931">,</span>&nbsp;<span class="ident" id="6836933">ranges</span><span class="op" id="6836939">[</span><span class="ident" id="6836940">i</span><span class="op" id="6836941">]</span><span class="op" id="6836942">.</span><span class="ident" id="6836943">length</span><span class="op" id="6836949">,</span>&nbsp;<span class="ident" id="6836951">r</span><span class="op" id="6836952">[</span><span class="ident" id="6836953">i</span><span class="op" id="6836954">]</span><span class="op" id="6836955">.</span><span class="ident" id="6836956">length</span><span class="op" id="6836962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836974">}</span><br>
<span class="lineno"></span><span class="op" id="6836976">}</span>
</div>
</body>
</html>
