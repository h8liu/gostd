<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html" class="current">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5395904">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5395960">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5396014">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5396065">package</span>&nbsp;<span class="ident" id="5396073">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5396081">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="5396106">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5396174">import</span>&nbsp;<span class="op" id="5396181">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5396184">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5396193">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5396204">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5396215">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5396225">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5396228">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="5396287">type</span>&nbsp;<span class="ident" id="5396292">Regexp</span>&nbsp;<span class="keyword" id="5396299">struct</span>&nbsp;<span class="op" id="5396306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396309">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396318">Op</span>&nbsp;<span class="comment" id="5396321">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396334">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396343">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396350">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5396359">[</span><span class="op" id="5396360">]</span><span class="op" id="5396361">*</span><span class="ident" id="5396362">Regexp</span>&nbsp;&nbsp;<span class="comment" id="5396370">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396397">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5396406">[</span><span class="num" id="5396407">1</span><span class="op" id="5396408">]</span><span class="op" id="5396409">*</span><span class="ident" id="5396410">Regexp</span>&nbsp;<span class="comment" id="5396417">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396443">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5396452">[</span><span class="op" id="5396453">]</span><span class="builtintype" id="5396454">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5396463">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396509">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5396518">[</span><span class="num" id="5396519">2</span><span class="op" id="5396520">]</span><span class="builtintype" id="5396521">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5396529">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396556">Min</span><span class="op" id="5396559">,</span>&nbsp;<span class="ident" id="5396561">Max</span>&nbsp;<span class="builtintype" id="5396565">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5396576">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396602">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5396611">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5396622">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396657">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5396666">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5396677">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="5396710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5396713">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="5396763">type</span>&nbsp;<span class="ident" id="5396768">Op</span>&nbsp;<span class="builtintype" id="5396771">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5396778">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="5396852">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="5396917">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5396974">const</span>&nbsp;<span class="op" id="5396980">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5396983">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397000">Op</span>&nbsp;<span class="op" id="5397003">=</span>&nbsp;<span class="num" id="5397005">1</span>&nbsp;<span class="op" id="5397007">+</span>&nbsp;<span class="ident" id="5397009">iota</span>&nbsp;<span class="comment" id="5397014">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397037">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397068">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397093">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397124">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397151">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397182">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397231">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397262">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397303">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397334">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397360">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397391">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397437">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397468">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397508">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397539">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397585">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397616">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397656">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397687">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397718">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397749">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397784">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397815">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397878">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397909">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397947">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5397978">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5398015">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5398046">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5398083">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5398114">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5398189">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5398220">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5398254">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5398285">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="5398316">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5398319">const</span>&nbsp;<span class="ident" id="5398325">opPseudo</span>&nbsp;<span class="ident" id="5398334">Op</span>&nbsp;<span class="op" id="5398337">=</span>&nbsp;<span class="num" id="5398339">128</span>&nbsp;<span class="comment" id="5398343">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5398370">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="5398429">func</span>&nbsp;<span class="op" id="5398434">(</span><span class="ident" id="5398435">x</span>&nbsp;<span class="op" id="5398437">*</span><span class="ident" id="5398438">Regexp</span><span class="op" id="5398444">)</span>&nbsp;<span class="ident" id="5398446">Equal</span><span class="op" id="5398451">(</span><span class="ident" id="5398452">y</span>&nbsp;<span class="op" id="5398454">*</span><span class="ident" id="5398455">Regexp</span><span class="op" id="5398461">)</span>&nbsp;<span class="builtintype" id="5398463">bool</span>&nbsp;<span class="op" id="5398468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398471">if</span>&nbsp;<span class="ident" id="5398474">x</span>&nbsp;<span class="op" id="5398476">==</span>&nbsp;<span class="builtintype" id="5398479">nil</span>&nbsp;<span class="op" id="5398483">||</span>&nbsp;<span class="ident" id="5398486">y</span>&nbsp;<span class="op" id="5398488">==</span>&nbsp;<span class="builtintype" id="5398491">nil</span>&nbsp;<span class="op" id="5398495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398499">return</span>&nbsp;<span class="ident" id="5398506">x</span>&nbsp;<span class="op" id="5398508">==</span>&nbsp;<span class="ident" id="5398511">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5398514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398517">if</span>&nbsp;<span class="ident" id="5398520">x</span><span class="op" id="5398521">.</span><span class="ident" id="5398522">Op</span>&nbsp;<span class="op" id="5398525">!=</span>&nbsp;<span class="ident" id="5398528">y</span><span class="op" id="5398529">.</span><span class="ident" id="5398530">Op</span>&nbsp;<span class="op" id="5398533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398537">return</span>&nbsp;<span class="builtintype" id="5398544">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5398551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398554">switch</span>&nbsp;<span class="ident" id="5398561">x</span><span class="op" id="5398562">.</span><span class="ident" id="5398563">Op</span>&nbsp;<span class="op" id="5398566">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398569">case</span>&nbsp;<span class="ident" id="5398574">OpEndText</span><span class="op" id="5398583">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5398587">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398643">if</span>&nbsp;<span class="ident" id="5398646">x</span><span class="op" id="5398647">.</span><span class="ident" id="5398648">Flags</span><span class="op" id="5398653">&amp;</span><span class="ident" id="5398654">WasDollar</span>&nbsp;<span class="op" id="5398664">!=</span>&nbsp;<span class="ident" id="5398667">y</span><span class="op" id="5398668">.</span><span class="ident" id="5398669">Flags</span><span class="op" id="5398674">&amp;</span><span class="ident" id="5398675">WasDollar</span>&nbsp;<span class="op" id="5398685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398690">return</span>&nbsp;<span class="builtintype" id="5398697">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5398705">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398709">case</span>&nbsp;<span class="ident" id="5398714">OpLiteral</span><span class="op" id="5398723">,</span>&nbsp;<span class="ident" id="5398725">OpCharClass</span><span class="op" id="5398736">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398740">if</span>&nbsp;<span class="builtinfunc" id="5398743">len</span><span class="op" id="5398746">(</span><span class="ident" id="5398747">x</span><span class="op" id="5398748">.</span><span class="ident" id="5398749">Rune</span><span class="op" id="5398753">)</span>&nbsp;<span class="op" id="5398755">!=</span>&nbsp;<span class="builtinfunc" id="5398758">len</span><span class="op" id="5398761">(</span><span class="ident" id="5398762">y</span><span class="op" id="5398763">.</span><span class="ident" id="5398764">Rune</span><span class="op" id="5398768">)</span>&nbsp;<span class="op" id="5398770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398775">return</span>&nbsp;<span class="builtintype" id="5398782">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5398790">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398794">for</span>&nbsp;<span class="ident" id="5398798">i</span><span class="op" id="5398799">,</span>&nbsp;<span class="ident" id="5398801">r</span>&nbsp;<span class="op" id="5398803">:=</span>&nbsp;<span class="keyword" id="5398806">range</span>&nbsp;<span class="ident" id="5398812">x</span><span class="op" id="5398813">.</span><span class="ident" id="5398814">Rune</span>&nbsp;<span class="op" id="5398819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398824">if</span>&nbsp;<span class="ident" id="5398827">r</span>&nbsp;<span class="op" id="5398829">!=</span>&nbsp;<span class="ident" id="5398832">y</span><span class="op" id="5398833">.</span><span class="ident" id="5398834">Rune</span><span class="op" id="5398838">[</span><span class="ident" id="5398839">i</span><span class="op" id="5398840">]</span>&nbsp;<span class="op" id="5398842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398848">return</span>&nbsp;<span class="builtintype" id="5398855">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5398864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5398868">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398872">case</span>&nbsp;<span class="ident" id="5398877">OpAlternate</span><span class="op" id="5398888">,</span>&nbsp;<span class="ident" id="5398890">OpConcat</span><span class="op" id="5398898">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398902">if</span>&nbsp;<span class="builtinfunc" id="5398905">len</span><span class="op" id="5398908">(</span><span class="ident" id="5398909">x</span><span class="op" id="5398910">.</span><span class="ident" id="5398911">Sub</span><span class="op" id="5398914">)</span>&nbsp;<span class="op" id="5398916">!=</span>&nbsp;<span class="builtinfunc" id="5398919">len</span><span class="op" id="5398922">(</span><span class="ident" id="5398923">y</span><span class="op" id="5398924">.</span><span class="ident" id="5398925">Sub</span><span class="op" id="5398928">)</span>&nbsp;<span class="op" id="5398930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398935">return</span>&nbsp;<span class="builtintype" id="5398942">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5398950">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398954">for</span>&nbsp;<span class="ident" id="5398958">i</span><span class="op" id="5398959">,</span>&nbsp;<span class="ident" id="5398961">sub</span>&nbsp;<span class="op" id="5398965">:=</span>&nbsp;<span class="keyword" id="5398968">range</span>&nbsp;<span class="ident" id="5398974">x</span><span class="op" id="5398975">.</span><span class="ident" id="5398976">Sub</span>&nbsp;<span class="op" id="5398980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5398985">if</span>&nbsp;<span class="op" id="5398988">!</span><span class="ident" id="5398989">sub</span><span class="op" id="5398992">.</span><span class="ident" id="5398993">Equal</span><span class="op" id="5398998">(</span><span class="ident" id="5398999">y</span><span class="op" id="5399000">.</span><span class="ident" id="5399001">Sub</span><span class="op" id="5399004">[</span><span class="ident" id="5399005">i</span><span class="op" id="5399006">]</span><span class="op" id="5399007">)</span>&nbsp;<span class="op" id="5399009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399015">return</span>&nbsp;<span class="builtintype" id="5399022">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5399031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5399035">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399039">case</span>&nbsp;<span class="ident" id="5399044">OpStar</span><span class="op" id="5399050">,</span>&nbsp;<span class="ident" id="5399052">OpPlus</span><span class="op" id="5399058">,</span>&nbsp;<span class="ident" id="5399060">OpQuest</span><span class="op" id="5399067">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399071">if</span>&nbsp;<span class="ident" id="5399074">x</span><span class="op" id="5399075">.</span><span class="ident" id="5399076">Flags</span><span class="op" id="5399081">&amp;</span><span class="ident" id="5399082">NonGreedy</span>&nbsp;<span class="op" id="5399092">!=</span>&nbsp;<span class="ident" id="5399095">y</span><span class="op" id="5399096">.</span><span class="ident" id="5399097">Flags</span><span class="op" id="5399102">&amp;</span><span class="ident" id="5399103">NonGreedy</span>&nbsp;<span class="op" id="5399113">||</span>&nbsp;<span class="op" id="5399116">!</span><span class="ident" id="5399117">x</span><span class="op" id="5399118">.</span><span class="ident" id="5399119">Sub</span><span class="op" id="5399122">[</span><span class="num" id="5399123">0</span><span class="op" id="5399124">]</span><span class="op" id="5399125">.</span><span class="ident" id="5399126">Equal</span><span class="op" id="5399131">(</span><span class="ident" id="5399132">y</span><span class="op" id="5399133">.</span><span class="ident" id="5399134">Sub</span><span class="op" id="5399137">[</span><span class="num" id="5399138">0</span><span class="op" id="5399139">]</span><span class="op" id="5399140">)</span>&nbsp;<span class="op" id="5399142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399147">return</span>&nbsp;<span class="builtintype" id="5399154">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5399162">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399166">case</span>&nbsp;<span class="ident" id="5399171">OpRepeat</span><span class="op" id="5399179">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399183">if</span>&nbsp;<span class="ident" id="5399186">x</span><span class="op" id="5399187">.</span><span class="ident" id="5399188">Flags</span><span class="op" id="5399193">&amp;</span><span class="ident" id="5399194">NonGreedy</span>&nbsp;<span class="op" id="5399204">!=</span>&nbsp;<span class="ident" id="5399207">y</span><span class="op" id="5399208">.</span><span class="ident" id="5399209">Flags</span><span class="op" id="5399214">&amp;</span><span class="ident" id="5399215">NonGreedy</span>&nbsp;<span class="op" id="5399225">||</span>&nbsp;<span class="ident" id="5399228">x</span><span class="op" id="5399229">.</span><span class="ident" id="5399230">Min</span>&nbsp;<span class="op" id="5399234">!=</span>&nbsp;<span class="ident" id="5399237">y</span><span class="op" id="5399238">.</span><span class="ident" id="5399239">Min</span>&nbsp;<span class="op" id="5399243">||</span>&nbsp;<span class="ident" id="5399246">x</span><span class="op" id="5399247">.</span><span class="ident" id="5399248">Max</span>&nbsp;<span class="op" id="5399252">!=</span>&nbsp;<span class="ident" id="5399255">y</span><span class="op" id="5399256">.</span><span class="ident" id="5399257">Max</span>&nbsp;<span class="op" id="5399261">||</span>&nbsp;<span class="op" id="5399264">!</span><span class="ident" id="5399265">x</span><span class="op" id="5399266">.</span><span class="ident" id="5399267">Sub</span><span class="op" id="5399270">[</span><span class="num" id="5399271">0</span><span class="op" id="5399272">]</span><span class="op" id="5399273">.</span><span class="ident" id="5399274">Equal</span><span class="op" id="5399279">(</span><span class="ident" id="5399280">y</span><span class="op" id="5399281">.</span><span class="ident" id="5399282">Sub</span><span class="op" id="5399285">[</span><span class="num" id="5399286">0</span><span class="op" id="5399287">]</span><span class="op" id="5399288">)</span>&nbsp;<span class="op" id="5399290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399295">return</span>&nbsp;<span class="builtintype" id="5399302">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5399310">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399314">case</span>&nbsp;<span class="ident" id="5399319">OpCapture</span><span class="op" id="5399328">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399332">if</span>&nbsp;<span class="ident" id="5399335">x</span><span class="op" id="5399336">.</span><span class="ident" id="5399337">Cap</span>&nbsp;<span class="op" id="5399341">!=</span>&nbsp;<span class="ident" id="5399344">y</span><span class="op" id="5399345">.</span><span class="ident" id="5399346">Cap</span>&nbsp;<span class="op" id="5399350">||</span>&nbsp;<span class="ident" id="5399353">x</span><span class="op" id="5399354">.</span><span class="ident" id="5399355">Name</span>&nbsp;<span class="op" id="5399360">!=</span>&nbsp;<span class="ident" id="5399363">y</span><span class="op" id="5399364">.</span><span class="ident" id="5399365">Name</span>&nbsp;<span class="op" id="5399370">||</span>&nbsp;<span class="op" id="5399373">!</span><span class="ident" id="5399374">x</span><span class="op" id="5399375">.</span><span class="ident" id="5399376">Sub</span><span class="op" id="5399379">[</span><span class="num" id="5399380">0</span><span class="op" id="5399381">]</span><span class="op" id="5399382">.</span><span class="ident" id="5399383">Equal</span><span class="op" id="5399388">(</span><span class="ident" id="5399389">y</span><span class="op" id="5399390">.</span><span class="ident" id="5399391">Sub</span><span class="op" id="5399394">[</span><span class="num" id="5399395">0</span><span class="op" id="5399396">]</span><span class="op" id="5399397">)</span>&nbsp;<span class="op" id="5399399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399404">return</span>&nbsp;<span class="builtintype" id="5399411">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5399419">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5399422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399425">return</span>&nbsp;<span class="builtintype" id="5399432">true</span><br>
<span class="lineno"></span><span class="op" id="5399437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5399440">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="5399514">func</span>&nbsp;<span class="ident" id="5399519">writeRegexp</span><span class="op" id="5399530">(</span><span class="ident" id="5399531">b</span>&nbsp;<span class="op" id="5399533">*</span><span class="ident" id="5399534">bytes</span><span class="op" id="5399539">.</span><span class="ident" id="5399540">Buffer</span><span class="op" id="5399546">,</span>&nbsp;<span class="ident" id="5399548">re</span>&nbsp;<span class="op" id="5399551">*</span><span class="ident" id="5399552">Regexp</span><span class="op" id="5399558">)</span>&nbsp;<span class="op" id="5399560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399563">switch</span>&nbsp;<span class="ident" id="5399570">re</span><span class="op" id="5399572">.</span><span class="ident" id="5399573">Op</span>&nbsp;<span class="op" id="5399576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399579">default</span><span class="op" id="5399586">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5399590">b</span><span class="op" id="5399591">.</span><span class="ident" id="5399592">WriteString</span><span class="op" id="5399603">(</span><span class="string" id="5399604">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="5399618">+</span>&nbsp;<span class="ident" id="5399620">strconv</span><span class="op" id="5399627">.</span><span class="ident" id="5399628">Itoa</span><span class="op" id="5399632">(</span><span class="builtintype" id="5399633">int</span><span class="op" id="5399636">(</span><span class="ident" id="5399637">re</span><span class="op" id="5399639">.</span><span class="ident" id="5399640">Op</span><span class="op" id="5399642">)</span><span class="op" id="5399643">)</span>&nbsp;<span class="op" id="5399645">+</span>&nbsp;<span class="string" id="5399647">&#34;&gt;&#34;</span><span class="op" id="5399650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399653">case</span>&nbsp;<span class="ident" id="5399658">OpNoMatch</span><span class="op" id="5399667">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5399671">b</span><span class="op" id="5399672">.</span><span class="ident" id="5399673">WriteString</span><span class="op" id="5399684">(</span><span class="string" id="5399685">`[^\x00-\x{10FFFF}]`</span><span class="op" id="5399705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399708">case</span>&nbsp;<span class="ident" id="5399713">OpEmptyMatch</span><span class="op" id="5399725">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5399729">b</span><span class="op" id="5399730">.</span><span class="ident" id="5399731">WriteString</span><span class="op" id="5399742">(</span><span class="string" id="5399743">`(?:)`</span><span class="op" id="5399749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399752">case</span>&nbsp;<span class="ident" id="5399757">OpLiteral</span><span class="op" id="5399766">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399770">if</span>&nbsp;<span class="ident" id="5399773">re</span><span class="op" id="5399775">.</span><span class="ident" id="5399776">Flags</span><span class="op" id="5399781">&amp;</span><span class="ident" id="5399782">FoldCase</span>&nbsp;<span class="op" id="5399791">!=</span>&nbsp;<span class="num" id="5399794">0</span>&nbsp;<span class="op" id="5399796">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5399801">b</span><span class="op" id="5399802">.</span><span class="ident" id="5399803">WriteString</span><span class="op" id="5399814">(</span><span class="string" id="5399815">`(?i:`</span><span class="op" id="5399821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5399825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399829">for</span>&nbsp;<span class="ident" id="5399833">_</span><span class="op" id="5399834">,</span>&nbsp;<span class="ident" id="5399836">r</span>&nbsp;<span class="op" id="5399838">:=</span>&nbsp;<span class="keyword" id="5399841">range</span>&nbsp;<span class="ident" id="5399847">re</span><span class="op" id="5399849">.</span><span class="ident" id="5399850">Rune</span>&nbsp;<span class="op" id="5399855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5399860">escape</span><span class="op" id="5399866">(</span><span class="ident" id="5399867">b</span><span class="op" id="5399868">,</span>&nbsp;<span class="ident" id="5399870">r</span><span class="op" id="5399871">,</span>&nbsp;<span class="builtintype" id="5399873">false</span><span class="op" id="5399878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5399882">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399886">if</span>&nbsp;<span class="ident" id="5399889">re</span><span class="op" id="5399891">.</span><span class="ident" id="5399892">Flags</span><span class="op" id="5399897">&amp;</span><span class="ident" id="5399898">FoldCase</span>&nbsp;<span class="op" id="5399907">!=</span>&nbsp;<span class="num" id="5399910">0</span>&nbsp;<span class="op" id="5399912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5399917">b</span><span class="op" id="5399918">.</span><span class="ident" id="5399919">WriteString</span><span class="op" id="5399930">(</span><span class="string" id="5399931">`)`</span><span class="op" id="5399934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5399938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399941">case</span>&nbsp;<span class="ident" id="5399946">OpCharClass</span><span class="op" id="5399957">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5399961">if</span>&nbsp;<span class="builtinfunc" id="5399964">len</span><span class="op" id="5399967">(</span><span class="ident" id="5399968">re</span><span class="op" id="5399970">.</span><span class="ident" id="5399971">Rune</span><span class="op" id="5399975">)</span><span class="op" id="5399976">%</span><span class="num" id="5399977">2</span>&nbsp;<span class="op" id="5399979">!=</span>&nbsp;<span class="num" id="5399982">0</span>&nbsp;<span class="op" id="5399984">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5399989">b</span><span class="op" id="5399990">.</span><span class="ident" id="5399991">WriteString</span><span class="op" id="5400002">(</span><span class="string" id="5400003">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="5400025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400030">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5400038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400042">b</span><span class="op" id="5400043">.</span><span class="ident" id="5400044">WriteRune</span><span class="op" id="5400053">(</span><span class="string" id="5400054">&#39;[&#39;</span><span class="op" id="5400057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400061">if</span>&nbsp;<span class="builtinfunc" id="5400064">len</span><span class="op" id="5400067">(</span><span class="ident" id="5400068">re</span><span class="op" id="5400070">.</span><span class="ident" id="5400071">Rune</span><span class="op" id="5400075">)</span>&nbsp;<span class="op" id="5400077">==</span>&nbsp;<span class="num" id="5400080">0</span>&nbsp;<span class="op" id="5400082">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400087">b</span><span class="op" id="5400088">.</span><span class="ident" id="5400089">WriteString</span><span class="op" id="5400100">(</span><span class="string" id="5400101">`^\x00-\x{10FFFF}`</span><span class="op" id="5400119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5400123">}</span>&nbsp;<span class="keyword" id="5400125">else</span>&nbsp;<span class="keyword" id="5400130">if</span>&nbsp;<span class="ident" id="5400133">re</span><span class="op" id="5400135">.</span><span class="ident" id="5400136">Rune</span><span class="op" id="5400140">[</span><span class="num" id="5400141">0</span><span class="op" id="5400142">]</span>&nbsp;<span class="op" id="5400144">==</span>&nbsp;<span class="num" id="5400147">0</span>&nbsp;<span class="op" id="5400149">&amp;&amp;</span>&nbsp;<span class="ident" id="5400152">re</span><span class="op" id="5400154">.</span><span class="ident" id="5400155">Rune</span><span class="op" id="5400159">[</span><span class="builtinfunc" id="5400160">len</span><span class="op" id="5400163">(</span><span class="ident" id="5400164">re</span><span class="op" id="5400166">.</span><span class="ident" id="5400167">Rune</span><span class="op" id="5400171">)</span><span class="op" id="5400172">-</span><span class="num" id="5400173">1</span><span class="op" id="5400174">]</span>&nbsp;<span class="op" id="5400176">==</span>&nbsp;<span class="ident" id="5400179">unicode</span><span class="op" id="5400186">.</span><span class="ident" id="5400187">MaxRune</span>&nbsp;<span class="op" id="5400195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5400200">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5400257">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400279">b</span><span class="op" id="5400280">.</span><span class="ident" id="5400281">WriteRune</span><span class="op" id="5400290">(</span><span class="string" id="5400291">&#39;^&#39;</span><span class="op" id="5400294">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400299">for</span>&nbsp;<span class="ident" id="5400303">i</span>&nbsp;<span class="op" id="5400305">:=</span>&nbsp;<span class="num" id="5400308">1</span><span class="op" id="5400309">;</span>&nbsp;<span class="ident" id="5400311">i</span>&nbsp;<span class="op" id="5400313">&lt;</span>&nbsp;<span class="builtinfunc" id="5400315">len</span><span class="op" id="5400318">(</span><span class="ident" id="5400319">re</span><span class="op" id="5400321">.</span><span class="ident" id="5400322">Rune</span><span class="op" id="5400326">)</span><span class="op" id="5400327">-</span><span class="num" id="5400328">1</span><span class="op" id="5400329">;</span>&nbsp;<span class="ident" id="5400331">i</span>&nbsp;<span class="op" id="5400333">+=</span>&nbsp;<span class="num" id="5400336">2</span>&nbsp;<span class="op" id="5400338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400344">lo</span><span class="op" id="5400346">,</span>&nbsp;<span class="ident" id="5400348">hi</span>&nbsp;<span class="op" id="5400351">:=</span>&nbsp;<span class="ident" id="5400354">re</span><span class="op" id="5400356">.</span><span class="ident" id="5400357">Rune</span><span class="op" id="5400361">[</span><span class="ident" id="5400362">i</span><span class="op" id="5400363">]</span><span class="op" id="5400364">+</span><span class="num" id="5400365">1</span><span class="op" id="5400366">,</span>&nbsp;<span class="ident" id="5400368">re</span><span class="op" id="5400370">.</span><span class="ident" id="5400371">Rune</span><span class="op" id="5400375">[</span><span class="ident" id="5400376">i</span><span class="op" id="5400377">+</span><span class="num" id="5400378">1</span><span class="op" id="5400379">]</span><span class="op" id="5400380">-</span><span class="num" id="5400381">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400387">escape</span><span class="op" id="5400393">(</span><span class="ident" id="5400394">b</span><span class="op" id="5400395">,</span>&nbsp;<span class="ident" id="5400397">lo</span><span class="op" id="5400399">,</span>&nbsp;<span class="ident" id="5400401">lo</span>&nbsp;<span class="op" id="5400404">==</span>&nbsp;<span class="string" id="5400407">&#39;-&#39;</span><span class="op" id="5400410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400416">if</span>&nbsp;<span class="ident" id="5400419">lo</span>&nbsp;<span class="op" id="5400422">!=</span>&nbsp;<span class="ident" id="5400425">hi</span>&nbsp;<span class="op" id="5400428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400435">b</span><span class="op" id="5400436">.</span><span class="ident" id="5400437">WriteRune</span><span class="op" id="5400446">(</span><span class="string" id="5400447">&#39;-&#39;</span><span class="op" id="5400450">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400457">escape</span><span class="op" id="5400463">(</span><span class="ident" id="5400464">b</span><span class="op" id="5400465">,</span>&nbsp;<span class="ident" id="5400467">hi</span><span class="op" id="5400469">,</span>&nbsp;<span class="ident" id="5400471">hi</span>&nbsp;<span class="op" id="5400474">==</span>&nbsp;<span class="string" id="5400477">&#39;-&#39;</span><span class="op" id="5400480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5400486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5400491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5400495">}</span>&nbsp;<span class="keyword" id="5400497">else</span>&nbsp;<span class="op" id="5400502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400507">for</span>&nbsp;<span class="ident" id="5400511">i</span>&nbsp;<span class="op" id="5400513">:=</span>&nbsp;<span class="num" id="5400516">0</span><span class="op" id="5400517">;</span>&nbsp;<span class="ident" id="5400519">i</span>&nbsp;<span class="op" id="5400521">&lt;</span>&nbsp;<span class="builtinfunc" id="5400523">len</span><span class="op" id="5400526">(</span><span class="ident" id="5400527">re</span><span class="op" id="5400529">.</span><span class="ident" id="5400530">Rune</span><span class="op" id="5400534">)</span><span class="op" id="5400535">;</span>&nbsp;<span class="ident" id="5400537">i</span>&nbsp;<span class="op" id="5400539">+=</span>&nbsp;<span class="num" id="5400542">2</span>&nbsp;<span class="op" id="5400544">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400550">lo</span><span class="op" id="5400552">,</span>&nbsp;<span class="ident" id="5400554">hi</span>&nbsp;<span class="op" id="5400557">:=</span>&nbsp;<span class="ident" id="5400560">re</span><span class="op" id="5400562">.</span><span class="ident" id="5400563">Rune</span><span class="op" id="5400567">[</span><span class="ident" id="5400568">i</span><span class="op" id="5400569">]</span><span class="op" id="5400570">,</span>&nbsp;<span class="ident" id="5400572">re</span><span class="op" id="5400574">.</span><span class="ident" id="5400575">Rune</span><span class="op" id="5400579">[</span><span class="ident" id="5400580">i</span><span class="op" id="5400581">+</span><span class="num" id="5400582">1</span><span class="op" id="5400583">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400589">escape</span><span class="op" id="5400595">(</span><span class="ident" id="5400596">b</span><span class="op" id="5400597">,</span>&nbsp;<span class="ident" id="5400599">lo</span><span class="op" id="5400601">,</span>&nbsp;<span class="ident" id="5400603">lo</span>&nbsp;<span class="op" id="5400606">==</span>&nbsp;<span class="string" id="5400609">&#39;-&#39;</span><span class="op" id="5400612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400618">if</span>&nbsp;<span class="ident" id="5400621">lo</span>&nbsp;<span class="op" id="5400624">!=</span>&nbsp;<span class="ident" id="5400627">hi</span>&nbsp;<span class="op" id="5400630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400637">b</span><span class="op" id="5400638">.</span><span class="ident" id="5400639">WriteRune</span><span class="op" id="5400648">(</span><span class="string" id="5400649">&#39;-&#39;</span><span class="op" id="5400652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400659">escape</span><span class="op" id="5400665">(</span><span class="ident" id="5400666">b</span><span class="op" id="5400667">,</span>&nbsp;<span class="ident" id="5400669">hi</span><span class="op" id="5400671">,</span>&nbsp;<span class="ident" id="5400673">hi</span>&nbsp;<span class="op" id="5400676">==</span>&nbsp;<span class="string" id="5400679">&#39;-&#39;</span><span class="op" id="5400682">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5400688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5400693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5400697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400701">b</span><span class="op" id="5400702">.</span><span class="ident" id="5400703">WriteRune</span><span class="op" id="5400712">(</span><span class="string" id="5400713">&#39;]&#39;</span><span class="op" id="5400716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400719">case</span>&nbsp;<span class="ident" id="5400724">OpAnyCharNotNL</span><span class="op" id="5400738">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400742">b</span><span class="op" id="5400743">.</span><span class="ident" id="5400744">WriteString</span><span class="op" id="5400755">(</span><span class="string" id="5400756">`(?-s:.)`</span><span class="op" id="5400765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400768">case</span>&nbsp;<span class="ident" id="5400773">OpAnyChar</span><span class="op" id="5400782">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400786">b</span><span class="op" id="5400787">.</span><span class="ident" id="5400788">WriteString</span><span class="op" id="5400799">(</span><span class="string" id="5400800">`(?s:.)`</span><span class="op" id="5400808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400811">case</span>&nbsp;<span class="ident" id="5400816">OpBeginLine</span><span class="op" id="5400827">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400831">b</span><span class="op" id="5400832">.</span><span class="ident" id="5400833">WriteRune</span><span class="op" id="5400842">(</span><span class="string" id="5400843">&#39;^&#39;</span><span class="op" id="5400846">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400849">case</span>&nbsp;<span class="ident" id="5400854">OpEndLine</span><span class="op" id="5400863">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400867">b</span><span class="op" id="5400868">.</span><span class="ident" id="5400869">WriteRune</span><span class="op" id="5400878">(</span><span class="string" id="5400879">&#39;$&#39;</span><span class="op" id="5400882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400885">case</span>&nbsp;<span class="ident" id="5400890">OpBeginText</span><span class="op" id="5400901">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400905">b</span><span class="op" id="5400906">.</span><span class="ident" id="5400907">WriteString</span><span class="op" id="5400918">(</span><span class="string" id="5400919">`\A`</span><span class="op" id="5400923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400926">case</span>&nbsp;<span class="ident" id="5400931">OpEndText</span><span class="op" id="5400940">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5400944">if</span>&nbsp;<span class="ident" id="5400947">re</span><span class="op" id="5400949">.</span><span class="ident" id="5400950">Flags</span><span class="op" id="5400955">&amp;</span><span class="ident" id="5400956">WasDollar</span>&nbsp;<span class="op" id="5400966">!=</span>&nbsp;<span class="num" id="5400969">0</span>&nbsp;<span class="op" id="5400971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5400976">b</span><span class="op" id="5400977">.</span><span class="ident" id="5400978">WriteString</span><span class="op" id="5400989">(</span><span class="string" id="5400990">`(?-m:$)`</span><span class="op" id="5400999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401003">}</span>&nbsp;<span class="keyword" id="5401005">else</span>&nbsp;<span class="op" id="5401010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401015">b</span><span class="op" id="5401016">.</span><span class="ident" id="5401017">WriteString</span><span class="op" id="5401028">(</span><span class="string" id="5401029">`\z`</span><span class="op" id="5401033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401037">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401040">case</span>&nbsp;<span class="ident" id="5401045">OpWordBoundary</span><span class="op" id="5401059">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401063">b</span><span class="op" id="5401064">.</span><span class="ident" id="5401065">WriteString</span><span class="op" id="5401076">(</span><span class="string" id="5401077">`\b`</span><span class="op" id="5401081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401084">case</span>&nbsp;<span class="ident" id="5401089">OpNoWordBoundary</span><span class="op" id="5401105">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401109">b</span><span class="op" id="5401110">.</span><span class="ident" id="5401111">WriteString</span><span class="op" id="5401122">(</span><span class="string" id="5401123">`\B`</span><span class="op" id="5401127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401130">case</span>&nbsp;<span class="ident" id="5401135">OpCapture</span><span class="op" id="5401144">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401148">if</span>&nbsp;<span class="ident" id="5401151">re</span><span class="op" id="5401153">.</span><span class="ident" id="5401154">Name</span>&nbsp;<span class="op" id="5401159">!=</span>&nbsp;<span class="string" id="5401162">&#34;&#34;</span>&nbsp;<span class="op" id="5401165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401170">b</span><span class="op" id="5401171">.</span><span class="ident" id="5401172">WriteString</span><span class="op" id="5401183">(</span><span class="string" id="5401184">`(?P&lt;`</span><span class="op" id="5401190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401195">b</span><span class="op" id="5401196">.</span><span class="ident" id="5401197">WriteString</span><span class="op" id="5401208">(</span><span class="ident" id="5401209">re</span><span class="op" id="5401211">.</span><span class="ident" id="5401212">Name</span><span class="op" id="5401216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401221">b</span><span class="op" id="5401222">.</span><span class="ident" id="5401223">WriteRune</span><span class="op" id="5401232">(</span><span class="string" id="5401233">&#39;&gt;&#39;</span><span class="op" id="5401236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401240">}</span>&nbsp;<span class="keyword" id="5401242">else</span>&nbsp;<span class="op" id="5401247">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401252">b</span><span class="op" id="5401253">.</span><span class="ident" id="5401254">WriteRune</span><span class="op" id="5401263">(</span><span class="string" id="5401264">&#39;(&#39;</span><span class="op" id="5401267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401275">if</span>&nbsp;<span class="ident" id="5401278">re</span><span class="op" id="5401280">.</span><span class="ident" id="5401281">Sub</span><span class="op" id="5401284">[</span><span class="num" id="5401285">0</span><span class="op" id="5401286">]</span><span class="op" id="5401287">.</span><span class="ident" id="5401288">Op</span>&nbsp;<span class="op" id="5401291">!=</span>&nbsp;<span class="ident" id="5401294">OpEmptyMatch</span>&nbsp;<span class="op" id="5401307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401312">writeRegexp</span><span class="op" id="5401323">(</span><span class="ident" id="5401324">b</span><span class="op" id="5401325">,</span>&nbsp;<span class="ident" id="5401327">re</span><span class="op" id="5401329">.</span><span class="ident" id="5401330">Sub</span><span class="op" id="5401333">[</span><span class="num" id="5401334">0</span><span class="op" id="5401335">]</span><span class="op" id="5401336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401340">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401344">b</span><span class="op" id="5401345">.</span><span class="ident" id="5401346">WriteRune</span><span class="op" id="5401355">(</span><span class="string" id="5401356">&#39;)&#39;</span><span class="op" id="5401359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401362">case</span>&nbsp;<span class="ident" id="5401367">OpStar</span><span class="op" id="5401373">,</span>&nbsp;<span class="ident" id="5401375">OpPlus</span><span class="op" id="5401381">,</span>&nbsp;<span class="ident" id="5401383">OpQuest</span><span class="op" id="5401390">,</span>&nbsp;<span class="ident" id="5401392">OpRepeat</span><span class="op" id="5401400">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401404">if</span>&nbsp;<span class="ident" id="5401407">sub</span>&nbsp;<span class="op" id="5401411">:=</span>&nbsp;<span class="ident" id="5401414">re</span><span class="op" id="5401416">.</span><span class="ident" id="5401417">Sub</span><span class="op" id="5401420">[</span><span class="num" id="5401421">0</span><span class="op" id="5401422">]</span><span class="op" id="5401423">;</span>&nbsp;<span class="ident" id="5401425">sub</span><span class="op" id="5401428">.</span><span class="ident" id="5401429">Op</span>&nbsp;<span class="op" id="5401432">&gt;</span>&nbsp;<span class="ident" id="5401434">OpCapture</span>&nbsp;<span class="op" id="5401444">||</span>&nbsp;<span class="ident" id="5401447">sub</span><span class="op" id="5401450">.</span><span class="ident" id="5401451">Op</span>&nbsp;<span class="op" id="5401454">==</span>&nbsp;<span class="ident" id="5401457">OpLiteral</span>&nbsp;<span class="op" id="5401467">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5401470">len</span><span class="op" id="5401473">(</span><span class="ident" id="5401474">sub</span><span class="op" id="5401477">.</span><span class="ident" id="5401478">Rune</span><span class="op" id="5401482">)</span>&nbsp;<span class="op" id="5401484">&gt;</span>&nbsp;<span class="num" id="5401486">1</span>&nbsp;<span class="op" id="5401488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401493">b</span><span class="op" id="5401494">.</span><span class="ident" id="5401495">WriteString</span><span class="op" id="5401506">(</span><span class="string" id="5401507">`(?:`</span><span class="op" id="5401512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401517">writeRegexp</span><span class="op" id="5401528">(</span><span class="ident" id="5401529">b</span><span class="op" id="5401530">,</span>&nbsp;<span class="ident" id="5401532">sub</span><span class="op" id="5401535">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401540">b</span><span class="op" id="5401541">.</span><span class="ident" id="5401542">WriteString</span><span class="op" id="5401553">(</span><span class="string" id="5401554">`)`</span><span class="op" id="5401557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401561">}</span>&nbsp;<span class="keyword" id="5401563">else</span>&nbsp;<span class="op" id="5401568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401573">writeRegexp</span><span class="op" id="5401584">(</span><span class="ident" id="5401585">b</span><span class="op" id="5401586">,</span>&nbsp;<span class="ident" id="5401588">sub</span><span class="op" id="5401591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401599">switch</span>&nbsp;<span class="ident" id="5401606">re</span><span class="op" id="5401608">.</span><span class="ident" id="5401609">Op</span>&nbsp;<span class="op" id="5401612">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401616">case</span>&nbsp;<span class="ident" id="5401621">OpStar</span><span class="op" id="5401627">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401632">b</span><span class="op" id="5401633">.</span><span class="ident" id="5401634">WriteRune</span><span class="op" id="5401643">(</span><span class="string" id="5401644">&#39;*&#39;</span><span class="op" id="5401647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401651">case</span>&nbsp;<span class="ident" id="5401656">OpPlus</span><span class="op" id="5401662">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401667">b</span><span class="op" id="5401668">.</span><span class="ident" id="5401669">WriteRune</span><span class="op" id="5401678">(</span><span class="string" id="5401679">&#39;+&#39;</span><span class="op" id="5401682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401686">case</span>&nbsp;<span class="ident" id="5401691">OpQuest</span><span class="op" id="5401698">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401703">b</span><span class="op" id="5401704">.</span><span class="ident" id="5401705">WriteRune</span><span class="op" id="5401714">(</span><span class="string" id="5401715">&#39;?&#39;</span><span class="op" id="5401718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401722">case</span>&nbsp;<span class="ident" id="5401727">OpRepeat</span><span class="op" id="5401735">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401740">b</span><span class="op" id="5401741">.</span><span class="ident" id="5401742">WriteRune</span><span class="op" id="5401751">(</span><span class="string" id="5401752">&#39;{&#39;</span><span class="op" id="5401755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401760">b</span><span class="op" id="5401761">.</span><span class="ident" id="5401762">WriteString</span><span class="op" id="5401773">(</span><span class="ident" id="5401774">strconv</span><span class="op" id="5401781">.</span><span class="ident" id="5401782">Itoa</span><span class="op" id="5401786">(</span><span class="ident" id="5401787">re</span><span class="op" id="5401789">.</span><span class="ident" id="5401790">Min</span><span class="op" id="5401793">)</span><span class="op" id="5401794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401799">if</span>&nbsp;<span class="ident" id="5401802">re</span><span class="op" id="5401804">.</span><span class="ident" id="5401805">Max</span>&nbsp;<span class="op" id="5401809">!=</span>&nbsp;<span class="ident" id="5401812">re</span><span class="op" id="5401814">.</span><span class="ident" id="5401815">Min</span>&nbsp;<span class="op" id="5401819">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401825">b</span><span class="op" id="5401826">.</span><span class="ident" id="5401827">WriteRune</span><span class="op" id="5401836">(</span><span class="string" id="5401837">&#39;,&#39;</span><span class="op" id="5401840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401846">if</span>&nbsp;<span class="ident" id="5401849">re</span><span class="op" id="5401851">.</span><span class="ident" id="5401852">Max</span>&nbsp;<span class="op" id="5401856">&gt;=</span>&nbsp;<span class="num" id="5401859">0</span>&nbsp;<span class="op" id="5401861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401868">b</span><span class="op" id="5401869">.</span><span class="ident" id="5401870">WriteString</span><span class="op" id="5401881">(</span><span class="ident" id="5401882">strconv</span><span class="op" id="5401889">.</span><span class="ident" id="5401890">Itoa</span><span class="op" id="5401894">(</span><span class="ident" id="5401895">re</span><span class="op" id="5401897">.</span><span class="ident" id="5401898">Max</span><span class="op" id="5401901">)</span><span class="op" id="5401902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401913">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401918">b</span><span class="op" id="5401919">.</span><span class="ident" id="5401920">WriteRune</span><span class="op" id="5401929">(</span><span class="string" id="5401930">&#39;}&#39;</span><span class="op" id="5401933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401941">if</span>&nbsp;<span class="ident" id="5401944">re</span><span class="op" id="5401946">.</span><span class="ident" id="5401947">Flags</span><span class="op" id="5401952">&amp;</span><span class="ident" id="5401953">NonGreedy</span>&nbsp;<span class="op" id="5401963">!=</span>&nbsp;<span class="num" id="5401966">0</span>&nbsp;<span class="op" id="5401968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5401973">b</span><span class="op" id="5401974">.</span><span class="ident" id="5401975">WriteRune</span><span class="op" id="5401984">(</span><span class="string" id="5401985">&#39;?&#39;</span><span class="op" id="5401988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5401992">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5401995">case</span>&nbsp;<span class="ident" id="5402000">OpConcat</span><span class="op" id="5402008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402012">for</span>&nbsp;<span class="ident" id="5402016">_</span><span class="op" id="5402017">,</span>&nbsp;<span class="ident" id="5402019">sub</span>&nbsp;<span class="op" id="5402023">:=</span>&nbsp;<span class="keyword" id="5402026">range</span>&nbsp;<span class="ident" id="5402032">re</span><span class="op" id="5402034">.</span><span class="ident" id="5402035">Sub</span>&nbsp;<span class="op" id="5402039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402044">if</span>&nbsp;<span class="ident" id="5402047">sub</span><span class="op" id="5402050">.</span><span class="ident" id="5402051">Op</span>&nbsp;<span class="op" id="5402054">==</span>&nbsp;<span class="ident" id="5402057">OpAlternate</span>&nbsp;<span class="op" id="5402069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402075">b</span><span class="op" id="5402076">.</span><span class="ident" id="5402077">WriteString</span><span class="op" id="5402088">(</span><span class="string" id="5402089">`(?:`</span><span class="op" id="5402094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402100">writeRegexp</span><span class="op" id="5402111">(</span><span class="ident" id="5402112">b</span><span class="op" id="5402113">,</span>&nbsp;<span class="ident" id="5402115">sub</span><span class="op" id="5402118">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402124">b</span><span class="op" id="5402125">.</span><span class="ident" id="5402126">WriteString</span><span class="op" id="5402137">(</span><span class="string" id="5402138">`)`</span><span class="op" id="5402141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5402146">}</span>&nbsp;<span class="keyword" id="5402148">else</span>&nbsp;<span class="op" id="5402153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402159">writeRegexp</span><span class="op" id="5402170">(</span><span class="ident" id="5402171">b</span><span class="op" id="5402172">,</span>&nbsp;<span class="ident" id="5402174">sub</span><span class="op" id="5402177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5402182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5402186">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402189">case</span>&nbsp;<span class="ident" id="5402194">OpAlternate</span><span class="op" id="5402205">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402209">for</span>&nbsp;<span class="ident" id="5402213">i</span><span class="op" id="5402214">,</span>&nbsp;<span class="ident" id="5402216">sub</span>&nbsp;<span class="op" id="5402220">:=</span>&nbsp;<span class="keyword" id="5402223">range</span>&nbsp;<span class="ident" id="5402229">re</span><span class="op" id="5402231">.</span><span class="ident" id="5402232">Sub</span>&nbsp;<span class="op" id="5402236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402241">if</span>&nbsp;<span class="ident" id="5402244">i</span>&nbsp;<span class="op" id="5402246">&gt;</span>&nbsp;<span class="num" id="5402248">0</span>&nbsp;<span class="op" id="5402250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402256">b</span><span class="op" id="5402257">.</span><span class="ident" id="5402258">WriteRune</span><span class="op" id="5402267">(</span><span class="string" id="5402268">&#39;|&#39;</span><span class="op" id="5402271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5402276">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402281">writeRegexp</span><span class="op" id="5402292">(</span><span class="ident" id="5402293">b</span><span class="op" id="5402294">,</span>&nbsp;<span class="ident" id="5402296">sub</span><span class="op" id="5402299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5402303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5402306">}</span><br>
<span class="lineno"></span><span class="op" id="5402308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="5402311">func</span>&nbsp;<span class="op" id="5402316">(</span><span class="ident" id="5402317">re</span>&nbsp;<span class="op" id="5402320">*</span><span class="ident" id="5402321">Regexp</span><span class="op" id="5402327">)</span>&nbsp;<span class="ident" id="5402329">String</span><span class="op" id="5402335">(</span><span class="op" id="5402336">)</span>&nbsp;<span class="builtintype" id="5402338">string</span>&nbsp;<span class="op" id="5402345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402348">var</span>&nbsp;<span class="ident" id="5402352">b</span>&nbsp;<span class="ident" id="5402354">bytes</span><span class="op" id="5402359">.</span><span class="ident" id="5402360">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402368">writeRegexp</span><span class="op" id="5402379">(</span><span class="op" id="5402380">&amp;</span><span class="ident" id="5402381">b</span><span class="op" id="5402382">,</span>&nbsp;<span class="ident" id="5402384">re</span><span class="op" id="5402386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402389">return</span>&nbsp;<span class="ident" id="5402396">b</span><span class="op" id="5402397">.</span><span class="ident" id="5402398">String</span><span class="op" id="5402404">(</span><span class="op" id="5402405">)</span><br>
<span class="lineno"></span><span class="op" id="5402407">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="5402410">const</span>&nbsp;<span class="ident" id="5402416">meta</span>&nbsp;<span class="op" id="5402421">=</span>&nbsp;<span class="string" id="5402423">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5402441">func</span>&nbsp;<span class="ident" id="5402446">escape</span><span class="op" id="5402452">(</span><span class="ident" id="5402453">b</span>&nbsp;<span class="op" id="5402455">*</span><span class="ident" id="5402456">bytes</span><span class="op" id="5402461">.</span><span class="ident" id="5402462">Buffer</span><span class="op" id="5402468">,</span>&nbsp;<span class="ident" id="5402470">r</span>&nbsp;<span class="builtintype" id="5402472">rune</span><span class="op" id="5402476">,</span>&nbsp;<span class="ident" id="5402478">force</span>&nbsp;<span class="builtintype" id="5402484">bool</span><span class="op" id="5402488">)</span>&nbsp;<span class="op" id="5402490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402493">if</span>&nbsp;<span class="ident" id="5402496">unicode</span><span class="op" id="5402503">.</span><span class="ident" id="5402504">IsPrint</span><span class="op" id="5402511">(</span><span class="ident" id="5402512">r</span><span class="op" id="5402513">)</span>&nbsp;<span class="op" id="5402515">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402519">if</span>&nbsp;<span class="ident" id="5402522">strings</span><span class="op" id="5402529">.</span><span class="ident" id="5402530">IndexRune</span><span class="op" id="5402539">(</span><span class="ident" id="5402540">meta</span><span class="op" id="5402544">,</span>&nbsp;<span class="ident" id="5402546">r</span><span class="op" id="5402547">)</span>&nbsp;<span class="op" id="5402549">&gt;=</span>&nbsp;<span class="num" id="5402552">0</span>&nbsp;<span class="op" id="5402554">||</span>&nbsp;<span class="ident" id="5402557">force</span>&nbsp;<span class="op" id="5402563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402568">b</span><span class="op" id="5402569">.</span><span class="ident" id="5402570">WriteRune</span><span class="op" id="5402579">(</span><span class="string" id="5402580">&#39;\\&#39;</span><span class="op" id="5402584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5402588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402592">b</span><span class="op" id="5402593">.</span><span class="ident" id="5402594">WriteRune</span><span class="op" id="5402603">(</span><span class="ident" id="5402604">r</span><span class="op" id="5402605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402609">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5402617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402621">switch</span>&nbsp;<span class="ident" id="5402628">r</span>&nbsp;<span class="op" id="5402630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402633">case</span>&nbsp;<span class="string" id="5402638">&#39;\a&#39;</span><span class="op" id="5402642">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402646">b</span><span class="op" id="5402647">.</span><span class="ident" id="5402648">WriteString</span><span class="op" id="5402659">(</span><span class="string" id="5402660">`\a`</span><span class="op" id="5402664">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402667">case</span>&nbsp;<span class="string" id="5402672">&#39;\f&#39;</span><span class="op" id="5402676">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402680">b</span><span class="op" id="5402681">.</span><span class="ident" id="5402682">WriteString</span><span class="op" id="5402693">(</span><span class="string" id="5402694">`\f`</span><span class="op" id="5402698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402701">case</span>&nbsp;<span class="string" id="5402706">&#39;\n&#39;</span><span class="op" id="5402710">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402714">b</span><span class="op" id="5402715">.</span><span class="ident" id="5402716">WriteString</span><span class="op" id="5402727">(</span><span class="string" id="5402728">`\n`</span><span class="op" id="5402732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402735">case</span>&nbsp;<span class="string" id="5402740">&#39;\r&#39;</span><span class="op" id="5402744">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402748">b</span><span class="op" id="5402749">.</span><span class="ident" id="5402750">WriteString</span><span class="op" id="5402761">(</span><span class="string" id="5402762">`\r`</span><span class="op" id="5402766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402769">case</span>&nbsp;<span class="string" id="5402774">&#39;\t&#39;</span><span class="op" id="5402778">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402782">b</span><span class="op" id="5402783">.</span><span class="ident" id="5402784">WriteString</span><span class="op" id="5402795">(</span><span class="string" id="5402796">`\t`</span><span class="op" id="5402800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402803">case</span>&nbsp;<span class="string" id="5402808">&#39;\v&#39;</span><span class="op" id="5402812">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402816">b</span><span class="op" id="5402817">.</span><span class="ident" id="5402818">WriteString</span><span class="op" id="5402829">(</span><span class="string" id="5402830">`\v`</span><span class="op" id="5402834">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402837">default</span><span class="op" id="5402844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402848">if</span>&nbsp;<span class="ident" id="5402851">r</span>&nbsp;<span class="op" id="5402853">&lt;</span>&nbsp;<span class="num" id="5402855">0x100</span>&nbsp;<span class="op" id="5402861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402866">b</span><span class="op" id="5402867">.</span><span class="ident" id="5402868">WriteString</span><span class="op" id="5402879">(</span><span class="string" id="5402880">`\x`</span><span class="op" id="5402884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402889">s</span>&nbsp;<span class="op" id="5402891">:=</span>&nbsp;<span class="ident" id="5402894">strconv</span><span class="op" id="5402901">.</span><span class="ident" id="5402902">FormatInt</span><span class="op" id="5402911">(</span><span class="builtintype" id="5402912">int64</span><span class="op" id="5402917">(</span><span class="ident" id="5402918">r</span><span class="op" id="5402919">)</span><span class="op" id="5402920">,</span>&nbsp;<span class="num" id="5402922">16</span><span class="op" id="5402924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402929">if</span>&nbsp;<span class="builtinfunc" id="5402932">len</span><span class="op" id="5402935">(</span><span class="ident" id="5402936">s</span><span class="op" id="5402937">)</span>&nbsp;<span class="op" id="5402939">==</span>&nbsp;<span class="num" id="5402942">1</span>&nbsp;<span class="op" id="5402944">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402950">b</span><span class="op" id="5402951">.</span><span class="ident" id="5402952">WriteRune</span><span class="op" id="5402961">(</span><span class="string" id="5402962">&#39;0&#39;</span><span class="op" id="5402965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5402970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5402975">b</span><span class="op" id="5402976">.</span><span class="ident" id="5402977">WriteString</span><span class="op" id="5402988">(</span><span class="ident" id="5402989">s</span><span class="op" id="5402990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5402995">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5403003">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5403007">b</span><span class="op" id="5403008">.</span><span class="ident" id="5403009">WriteString</span><span class="op" id="5403020">(</span><span class="string" id="5403021">`\x{`</span><span class="op" id="5403026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5403030">b</span><span class="op" id="5403031">.</span><span class="ident" id="5403032">WriteString</span><span class="op" id="5403043">(</span><span class="ident" id="5403044">strconv</span><span class="op" id="5403051">.</span><span class="ident" id="5403052">FormatInt</span><span class="op" id="5403061">(</span><span class="builtintype" id="5403062">int64</span><span class="op" id="5403067">(</span><span class="ident" id="5403068">r</span><span class="op" id="5403069">)</span><span class="op" id="5403070">,</span>&nbsp;<span class="num" id="5403072">16</span><span class="op" id="5403074">)</span><span class="op" id="5403075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5403079">b</span><span class="op" id="5403080">.</span><span class="ident" id="5403081">WriteString</span><span class="op" id="5403092">(</span><span class="string" id="5403093">`}`</span><span class="op" id="5403096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5403099">}</span><br>
<span class="lineno"></span><span class="op" id="5403101">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="5403104">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="5403166">func</span>&nbsp;<span class="op" id="5403171">(</span><span class="ident" id="5403172">re</span>&nbsp;<span class="op" id="5403175">*</span><span class="ident" id="5403176">Regexp</span><span class="op" id="5403182">)</span>&nbsp;<span class="ident" id="5403184">MaxCap</span><span class="op" id="5403190">(</span><span class="op" id="5403191">)</span>&nbsp;<span class="builtintype" id="5403193">int</span>&nbsp;<span class="op" id="5403197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5403200">m</span>&nbsp;<span class="op" id="5403202">:=</span>&nbsp;<span class="num" id="5403205">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5403208">if</span>&nbsp;<span class="ident" id="5403211">re</span><span class="op" id="5403213">.</span><span class="ident" id="5403214">Op</span>&nbsp;<span class="op" id="5403217">==</span>&nbsp;<span class="ident" id="5403220">OpCapture</span>&nbsp;<span class="op" id="5403230">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5403234">m</span>&nbsp;<span class="op" id="5403236">=</span>&nbsp;<span class="ident" id="5403238">re</span><span class="op" id="5403240">.</span><span class="ident" id="5403241">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5403246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5403249">for</span>&nbsp;<span class="ident" id="5403253">_</span><span class="op" id="5403254">,</span>&nbsp;<span class="ident" id="5403256">sub</span>&nbsp;<span class="op" id="5403260">:=</span>&nbsp;<span class="keyword" id="5403263">range</span>&nbsp;<span class="ident" id="5403269">re</span><span class="op" id="5403271">.</span><span class="ident" id="5403272">Sub</span>&nbsp;<span class="op" id="5403276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5403280">if</span>&nbsp;<span class="ident" id="5403283">n</span>&nbsp;<span class="op" id="5403285">:=</span>&nbsp;<span class="ident" id="5403288">sub</span><span class="op" id="5403291">.</span><span class="ident" id="5403292">MaxCap</span><span class="op" id="5403298">(</span><span class="op" id="5403299">)</span><span class="op" id="5403300">;</span>&nbsp;<span class="ident" id="5403302">m</span>&nbsp;<span class="op" id="5403304">&lt;</span>&nbsp;<span class="ident" id="5403306">n</span>&nbsp;<span class="op" id="5403308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5403313">m</span>&nbsp;<span class="op" id="5403315">=</span>&nbsp;<span class="ident" id="5403317">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5403321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5403324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5403327">return</span>&nbsp;<span class="ident" id="5403334">m</span><br>
<span class="lineno"></span><span class="op" id="5403336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="5403339">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="5403407">func</span>&nbsp;<span class="op" id="5403412">(</span><span class="ident" id="5403413">re</span>&nbsp;<span class="op" id="5403416">*</span><span class="ident" id="5403417">Regexp</span><span class="op" id="5403423">)</span>&nbsp;<span class="ident" id="5403425">CapNames</span><span class="op" id="5403433">(</span><span class="op" id="5403434">)</span>&nbsp;<span class="op" id="5403436">[</span><span class="op" id="5403437">]</span><span class="builtintype" id="5403438">string</span>&nbsp;<span class="op" id="5403445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5403448">names</span>&nbsp;<span class="op" id="5403454">:=</span>&nbsp;<span class="builtinfunc" id="5403457">make</span><span class="op" id="5403461">(</span><span class="op" id="5403462">[</span><span class="op" id="5403463">]</span><span class="builtintype" id="5403464">string</span><span class="op" id="5403470">,</span>&nbsp;<span class="ident" id="5403472">re</span><span class="op" id="5403474">.</span><span class="ident" id="5403475">MaxCap</span><span class="op" id="5403481">(</span><span class="op" id="5403482">)</span><span class="op" id="5403483">+</span><span class="num" id="5403484">1</span><span class="op" id="5403485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5403488">re</span><span class="op" id="5403490">.</span><span class="ident" id="5403491">capNames</span><span class="op" id="5403499">(</span><span class="ident" id="5403500">names</span><span class="op" id="5403505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5403508">return</span>&nbsp;<span class="ident" id="5403515">names</span><br>
<span class="lineno">310</span><span class="op" id="5403521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5403524">func</span>&nbsp;<span class="op" id="5403529">(</span><span class="ident" id="5403530">re</span>&nbsp;<span class="op" id="5403533">*</span><span class="ident" id="5403534">Regexp</span><span class="op" id="5403540">)</span>&nbsp;<span class="ident" id="5403542">capNames</span><span class="op" id="5403550">(</span><span class="ident" id="5403551">names</span>&nbsp;<span class="op" id="5403557">[</span><span class="op" id="5403558">]</span><span class="builtintype" id="5403559">string</span><span class="op" id="5403565">)</span>&nbsp;<span class="op" id="5403567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5403570">if</span>&nbsp;<span class="ident" id="5403573">re</span><span class="op" id="5403575">.</span><span class="ident" id="5403576">Op</span>&nbsp;<span class="op" id="5403579">==</span>&nbsp;<span class="ident" id="5403582">OpCapture</span>&nbsp;<span class="op" id="5403592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5403596">names</span><span class="op" id="5403601">[</span><span class="ident" id="5403602">re</span><span class="op" id="5403604">.</span><span class="ident" id="5403605">Cap</span><span class="op" id="5403608">]</span>&nbsp;<span class="op" id="5403610">=</span>&nbsp;<span class="ident" id="5403612">re</span><span class="op" id="5403614">.</span><span class="ident" id="5403615">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5403621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5403624">for</span>&nbsp;<span class="ident" id="5403628">_</span><span class="op" id="5403629">,</span>&nbsp;<span class="ident" id="5403631">sub</span>&nbsp;<span class="op" id="5403635">:=</span>&nbsp;<span class="keyword" id="5403638">range</span>&nbsp;<span class="ident" id="5403644">re</span><span class="op" id="5403646">.</span><span class="ident" id="5403647">Sub</span>&nbsp;<span class="op" id="5403651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5403655">sub</span><span class="op" id="5403658">.</span><span class="ident" id="5403659">capNames</span><span class="op" id="5403667">(</span><span class="ident" id="5403668">names</span><span class="op" id="5403673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5403676">}</span><br>
<span class="lineno"></span><span class="op" id="5403678">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
