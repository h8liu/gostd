<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5503232">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5503287">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5503341">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5503392">//&nbsp;+build&nbsp;linux&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;openbsd&nbsp;netbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5503457">package</span>&nbsp;<span class="ident" id="5503465">tar</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5503470">import</span>&nbsp;<span class="op" id="5503477">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5503480">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5503486">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="5503496">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5503499">func</span>&nbsp;<span class="ident" id="5503504">init</span><span class="op" id="5503508">(</span><span class="op" id="5503509">)</span>&nbsp;<span class="op" id="5503511">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5503514">sysStat</span>&nbsp;<span class="op" id="5503522">=</span>&nbsp;<span class="ident" id="5503524">statUnix</span><br>
<span class="lineno"></span><span class="op" id="5503533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5503536">func</span>&nbsp;<span class="ident" id="5503541">statUnix</span><span class="op" id="5503549">(</span><span class="ident" id="5503550">fi</span>&nbsp;<span class="ident" id="5503553">os</span><span class="op" id="5503555">.</span><span class="ident" id="5503556">FileInfo</span><span class="op" id="5503564">,</span>&nbsp;<span class="ident" id="5503566">h</span>&nbsp;<span class="op" id="5503568">*</span><span class="ident" id="5503569">Header</span><span class="op" id="5503575">)</span>&nbsp;<span class="builtintype" id="5503577">error</span>&nbsp;<span class="op" id="5503583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5503586">sys</span><span class="op" id="5503589">,</span>&nbsp;<span class="ident" id="5503591">ok</span>&nbsp;<span class="op" id="5503594">:=</span>&nbsp;<span class="ident" id="5503597">fi</span><span class="op" id="5503599">.</span><span class="ident" id="5503600">Sys</span><span class="op" id="5503603">(</span><span class="op" id="5503604">)</span><span class="op" id="5503605">.</span><span class="op" id="5503606">(</span><span class="op" id="5503607">*</span><span class="ident" id="5503608">syscall</span><span class="op" id="5503615">.</span><span class="ident" id="5503616">Stat_t</span><span class="op" id="5503622">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5503625">if</span>&nbsp;<span class="op" id="5503628">!</span><span class="ident" id="5503629">ok</span>&nbsp;<span class="op" id="5503632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5503636">return</span>&nbsp;<span class="ident" id="5503643">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5503648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5503651">h</span><span class="op" id="5503652">.</span><span class="ident" id="5503653">Uid</span>&nbsp;<span class="op" id="5503657">=</span>&nbsp;<span class="builtintype" id="5503659">int</span><span class="op" id="5503662">(</span><span class="ident" id="5503663">sys</span><span class="op" id="5503666">.</span><span class="ident" id="5503667">Uid</span><span class="op" id="5503670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5503673">h</span><span class="op" id="5503674">.</span><span class="ident" id="5503675">Gid</span>&nbsp;<span class="op" id="5503679">=</span>&nbsp;<span class="builtintype" id="5503681">int</span><span class="op" id="5503684">(</span><span class="ident" id="5503685">sys</span><span class="op" id="5503688">.</span><span class="ident" id="5503689">Gid</span><span class="op" id="5503692">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503695">//&nbsp;TODO(bradfitz):&nbsp;populate&nbsp;username&nbsp;&amp;&nbsp;group.&nbsp;&nbsp;os/user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503751">//&nbsp;doesn&#39;t&nbsp;cache&nbsp;LookupId&nbsp;lookups,&nbsp;and&nbsp;lacks&nbsp;group</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503803">//&nbsp;lookup&nbsp;functions.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5503825">h</span><span class="op" id="5503826">.</span><span class="ident" id="5503827">AccessTime</span>&nbsp;<span class="op" id="5503838">=</span>&nbsp;<span class="ident" id="5503840">statAtime</span><span class="op" id="5503849">(</span><span class="ident" id="5503850">sys</span><span class="op" id="5503853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5503856">h</span><span class="op" id="5503857">.</span><span class="ident" id="5503858">ChangeTime</span>&nbsp;<span class="op" id="5503869">=</span>&nbsp;<span class="ident" id="5503871">statCtime</span><span class="op" id="5503880">(</span><span class="ident" id="5503881">sys</span><span class="op" id="5503884">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503887">//&nbsp;TODO(bradfitz):&nbsp;major/minor&nbsp;device&nbsp;numbers?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5503935">return</span>&nbsp;<span class="ident" id="5503942">nil</span><br>
<span class="lineno"></span><span class="op" id="5503946">}</span>
</div>
</body>
</html>
