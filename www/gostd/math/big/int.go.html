<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html" class="current">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3501845">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3501900">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3501954">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3502005">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3502063">package</span>&nbsp;<span class="ident" id="3502071">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3502076">import</span>&nbsp;<span class="op" id="3502083">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3502086">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3502096">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3502103">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3502109">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3502122">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3502132">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3502135">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="3502190">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3502243">type</span>&nbsp;<span class="ident" id="3502248">Int</span>&nbsp;<span class="keyword" id="3502252">struct</span>&nbsp;<span class="op" id="3502259">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502262">neg</span>&nbsp;<span class="builtintype" id="3502266">bool</span>&nbsp;<span class="comment" id="3502271">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502280">abs</span>&nbsp;<span class="ident" id="3502284">nat</span>&nbsp;&nbsp;<span class="comment" id="3502289">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="3502322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3502325">var</span>&nbsp;<span class="ident" id="3502329">intOne</span>&nbsp;<span class="op" id="3502336">=</span>&nbsp;<span class="op" id="3502338">&amp;</span><span class="ident" id="3502339">Int</span><span class="op" id="3502342">{</span><span class="builtintype" id="3502343">false</span><span class="op" id="3502348">,</span>&nbsp;<span class="ident" id="3502350">natOne</span><span class="op" id="3502356">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="3502359">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="3502376">//</span><br>
<span class="lineno"></span><span class="comment" id="3502379">//&nbsp;&nbsp;&nbsp;&nbsp-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3502395">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="3502411">//&nbsp;&nbsp;&nbsp;&nbsp+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3502427">//</span><br>
<span class="lineno"></span><span class="keyword" id="3502430">func</span>&nbsp;<span class="op" id="3502435">(</span><span class="ident" id="3502436">x</span>&nbsp;<span class="op" id="3502438">*</span><span class="ident" id="3502439">Int</span><span class="op" id="3502442">)</span>&nbsp;<span class="ident" id="3502444">Sign</span><span class="op" id="3502448">(</span><span class="op" id="3502449">)</span>&nbsp;<span class="builtintype" id="3502451">int</span>&nbsp;<span class="op" id="3502455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502458">if</span>&nbsp;<span class="builtinfunc" id="3502461">len</span><span class="op" id="3502464">(</span><span class="ident" id="3502465">x</span><span class="op" id="3502466">.</span><span class="ident" id="3502467">abs</span><span class="op" id="3502470">)</span>&nbsp;<span class="op" id="3502472">==</span>&nbsp;<span class="num" id="3502475">0</span>&nbsp;<span class="op" id="3502477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502481">return</span>&nbsp;<span class="num" id="3502488">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502494">if</span>&nbsp;<span class="ident" id="3502497">x</span><span class="op" id="3502498">.</span><span class="ident" id="3502499">neg</span>&nbsp;<span class="op" id="3502503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502507">return</span>&nbsp;<span class="op" id="3502514">-</span><span class="num" id="3502515">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502521">return</span>&nbsp;<span class="num" id="3502528">1</span><br>
<span class="lineno">40</span><span class="op" id="3502530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3502533">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3502572">func</span>&nbsp;<span class="op" id="3502577">(</span><span class="ident" id="3502578">z</span>&nbsp;<span class="op" id="3502580">*</span><span class="ident" id="3502581">Int</span><span class="op" id="3502584">)</span>&nbsp;<span class="ident" id="3502586">SetInt64</span><span class="op" id="3502594">(</span><span class="ident" id="3502595">x</span>&nbsp;<span class="ident" id="3502597">int64</span><span class="op" id="3502602">)</span>&nbsp;<span class="op" id="3502604">*</span><span class="ident" id="3502605">Int</span>&nbsp;<span class="op" id="3502609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502612">neg</span>&nbsp;<span class="op" id="3502616">:=</span>&nbsp;<span class="builtintype" id="3502619">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502626">if</span>&nbsp;<span class="ident" id="3502629">x</span>&nbsp;<span class="op" id="3502631">&lt;</span>&nbsp;<span class="num" id="3502633">0</span>&nbsp;<span class="op" id="3502635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502639">neg</span>&nbsp;<span class="op" id="3502643">=</span>&nbsp;<span class="builtintype" id="3502645">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502652">x</span>&nbsp;<span class="op" id="3502654">=</span>&nbsp;<span class="op" id="3502656">-</span><span class="ident" id="3502657">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502663">z</span><span class="op" id="3502664">.</span><span class="ident" id="3502665">abs</span>&nbsp;<span class="op" id="3502669">=</span>&nbsp;<span class="ident" id="3502671">z</span><span class="op" id="3502672">.</span><span class="ident" id="3502673">abs</span><span class="op" id="3502676">.</span><span class="ident" id="3502677">setUint64</span><span class="op" id="3502686">(</span><span class="ident" id="3502687">uint64</span><span class="op" id="3502693">(</span><span class="ident" id="3502694">x</span><span class="op" id="3502695">)</span><span class="op" id="3502696">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502699">z</span><span class="op" id="3502700">.</span><span class="ident" id="3502701">neg</span>&nbsp;<span class="op" id="3502705">=</span>&nbsp;<span class="ident" id="3502707">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502712">return</span>&nbsp;<span class="ident" id="3502719">z</span><br>
<span class="lineno"></span><span class="op" id="3502721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3502724">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="3502764">func</span>&nbsp;<span class="op" id="3502769">(</span><span class="ident" id="3502770">z</span>&nbsp;<span class="op" id="3502772">*</span><span class="ident" id="3502773">Int</span><span class="op" id="3502776">)</span>&nbsp;<span class="ident" id="3502778">SetUint64</span><span class="op" id="3502787">(</span><span class="ident" id="3502788">x</span>&nbsp;<span class="ident" id="3502790">uint64</span><span class="op" id="3502796">)</span>&nbsp;<span class="op" id="3502798">*</span><span class="ident" id="3502799">Int</span>&nbsp;<span class="op" id="3502803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502806">z</span><span class="op" id="3502807">.</span><span class="ident" id="3502808">abs</span>&nbsp;<span class="op" id="3502812">=</span>&nbsp;<span class="ident" id="3502814">z</span><span class="op" id="3502815">.</span><span class="ident" id="3502816">abs</span><span class="op" id="3502819">.</span><span class="ident" id="3502820">setUint64</span><span class="op" id="3502829">(</span><span class="ident" id="3502830">x</span><span class="op" id="3502831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502834">z</span><span class="op" id="3502835">.</span><span class="ident" id="3502836">neg</span>&nbsp;<span class="op" id="3502840">=</span>&nbsp;<span class="builtintype" id="3502842">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502849">return</span>&nbsp;<span class="ident" id="3502856">z</span><br>
<span class="lineno"></span><span class="op" id="3502858">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3502861">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="3502913">func</span>&nbsp;<span class="ident" id="3502918">NewInt</span><span class="op" id="3502924">(</span><span class="ident" id="3502925">x</span>&nbsp;<span class="ident" id="3502927">int64</span><span class="op" id="3502932">)</span>&nbsp;<span class="op" id="3502934">*</span><span class="ident" id="3502935">Int</span>&nbsp;<span class="op" id="3502939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502942">return</span>&nbsp;<span class="builtinfunc" id="3502949">new</span><span class="op" id="3502952">(</span><span class="ident" id="3502953">Int</span><span class="op" id="3502956">)</span><span class="op" id="3502957">.</span><span class="ident" id="3502958">SetInt64</span><span class="op" id="3502966">(</span><span class="ident" id="3502967">x</span><span class="op" id="3502968">)</span><br>
<span class="lineno"></span><span class="op" id="3502970">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="3502973">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3503007">func</span>&nbsp;<span class="op" id="3503012">(</span><span class="ident" id="3503013">z</span>&nbsp;<span class="op" id="3503015">*</span><span class="ident" id="3503016">Int</span><span class="op" id="3503019">)</span>&nbsp;<span class="ident" id="3503021">Set</span><span class="op" id="3503024">(</span><span class="ident" id="3503025">x</span>&nbsp;<span class="op" id="3503027">*</span><span class="ident" id="3503028">Int</span><span class="op" id="3503031">)</span>&nbsp;<span class="op" id="3503033">*</span><span class="ident" id="3503034">Int</span>&nbsp;<span class="op" id="3503038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3503041">if</span>&nbsp;<span class="ident" id="3503044">z</span>&nbsp;<span class="op" id="3503046">!=</span>&nbsp;<span class="ident" id="3503049">x</span>&nbsp;<span class="op" id="3503051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3503055">z</span><span class="op" id="3503056">.</span><span class="ident" id="3503057">abs</span>&nbsp;<span class="op" id="3503061">=</span>&nbsp;<span class="ident" id="3503063">z</span><span class="op" id="3503064">.</span><span class="ident" id="3503065">abs</span><span class="op" id="3503068">.</span><span class="ident" id="3503069">set</span><span class="op" id="3503072">(</span><span class="ident" id="3503073">x</span><span class="op" id="3503074">.</span><span class="ident" id="3503075">abs</span><span class="op" id="3503078">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3503082">z</span><span class="op" id="3503083">.</span><span class="ident" id="3503084">neg</span>&nbsp;<span class="op" id="3503088">=</span>&nbsp;<span class="ident" id="3503090">x</span><span class="op" id="3503091">.</span><span class="ident" id="3503092">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3503097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3503100">return</span>&nbsp;<span class="ident" id="3503107">z</span><br>
<span class="lineno"></span><span class="op" id="3503109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="3503112">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="3503183">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="3503255">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3503285">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3503356">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="3503427">func</span>&nbsp;<span class="op" id="3503432">(</span><span class="ident" id="3503433">x</span>&nbsp;<span class="op" id="3503435">*</span><span class="ident" id="3503436">Int</span><span class="op" id="3503439">)</span>&nbsp;<span class="ident" id="3503441">Bits</span><span class="op" id="3503445">(</span><span class="op" id="3503446">)</span>&nbsp;<span class="op" id="3503448">[</span><span class="op" id="3503449">]</span><span class="ident" id="3503450">Word</span>&nbsp;<span class="op" id="3503455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3503458">return</span>&nbsp;<span class="ident" id="3503465">x</span><span class="op" id="3503466">.</span><span class="ident" id="3503467">abs</span><br>
<span class="lineno"></span><span class="op" id="3503471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3503474">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="3503546">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="3503620">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3503678">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3503752">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="3503823">func</span>&nbsp;<span class="op" id="3503828">(</span><span class="ident" id="3503829">z</span>&nbsp;<span class="op" id="3503831">*</span><span class="ident" id="3503832">Int</span><span class="op" id="3503835">)</span>&nbsp;<span class="ident" id="3503837">SetBits</span><span class="op" id="3503844">(</span><span class="ident" id="3503845">abs</span>&nbsp;<span class="op" id="3503849">[</span><span class="op" id="3503850">]</span><span class="ident" id="3503851">Word</span><span class="op" id="3503855">)</span>&nbsp;<span class="op" id="3503857">*</span><span class="ident" id="3503858">Int</span>&nbsp;<span class="op" id="3503862">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3503865">z</span><span class="op" id="3503866">.</span><span class="ident" id="3503867">abs</span>&nbsp;<span class="op" id="3503871">=</span>&nbsp;<span class="ident" id="3503873">nat</span><span class="op" id="3503876">(</span><span class="ident" id="3503877">abs</span><span class="op" id="3503880">)</span><span class="op" id="3503881">.</span><span class="ident" id="3503882">norm</span><span class="op" id="3503886">(</span><span class="op" id="3503887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3503890">z</span><span class="op" id="3503891">.</span><span class="ident" id="3503892">neg</span>&nbsp;<span class="op" id="3503896">=</span>&nbsp;<span class="builtintype" id="3503898">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3503905">return</span>&nbsp;<span class="ident" id="3503912">z</span><br>
<span class="lineno"></span><span class="op" id="3503914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3503917">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3503979">func</span>&nbsp;<span class="op" id="3503984">(</span><span class="ident" id="3503985">z</span>&nbsp;<span class="op" id="3503987">*</span><span class="ident" id="3503988">Int</span><span class="op" id="3503991">)</span>&nbsp;<span class="ident" id="3503993">Abs</span><span class="op" id="3503996">(</span><span class="ident" id="3503997">x</span>&nbsp;<span class="op" id="3503999">*</span><span class="ident" id="3504000">Int</span><span class="op" id="3504003">)</span>&nbsp;<span class="op" id="3504005">*</span><span class="ident" id="3504006">Int</span>&nbsp;<span class="op" id="3504010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504013">z</span><span class="op" id="3504014">.</span><span class="ident" id="3504015">Set</span><span class="op" id="3504018">(</span><span class="ident" id="3504019">x</span><span class="op" id="3504020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504023">z</span><span class="op" id="3504024">.</span><span class="ident" id="3504025">neg</span>&nbsp;<span class="op" id="3504029">=</span>&nbsp;<span class="builtintype" id="3504031">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3504038">return</span>&nbsp;<span class="ident" id="3504045">z</span><br>
<span class="lineno">100</span><span class="op" id="3504047">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3504050">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3504085">func</span>&nbsp;<span class="op" id="3504090">(</span><span class="ident" id="3504091">z</span>&nbsp;<span class="op" id="3504093">*</span><span class="ident" id="3504094">Int</span><span class="op" id="3504097">)</span>&nbsp;<span class="ident" id="3504099">Neg</span><span class="op" id="3504102">(</span><span class="ident" id="3504103">x</span>&nbsp;<span class="op" id="3504105">*</span><span class="ident" id="3504106">Int</span><span class="op" id="3504109">)</span>&nbsp;<span class="op" id="3504111">*</span><span class="ident" id="3504112">Int</span>&nbsp;<span class="op" id="3504116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504119">z</span><span class="op" id="3504120">.</span><span class="ident" id="3504121">Set</span><span class="op" id="3504124">(</span><span class="ident" id="3504125">x</span><span class="op" id="3504126">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504129">z</span><span class="op" id="3504130">.</span><span class="ident" id="3504131">neg</span>&nbsp;<span class="op" id="3504135">=</span>&nbsp;<span class="builtinfunc" id="3504137">len</span><span class="op" id="3504140">(</span><span class="ident" id="3504141">z</span><span class="op" id="3504142">.</span><span class="ident" id="3504143">abs</span><span class="op" id="3504146">)</span>&nbsp;<span class="op" id="3504148">&gt;</span>&nbsp;<span class="num" id="3504150">0</span>&nbsp;<span class="op" id="3504152">&amp;&amp;</span>&nbsp;<span class="op" id="3504155">!</span><span class="ident" id="3504156">z</span><span class="op" id="3504157">.</span><span class="ident" id="3504158">neg</span>&nbsp;<span class="comment" id="3504162">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3504180">return</span>&nbsp;<span class="ident" id="3504187">z</span><br>
<span class="lineno"></span><span class="op" id="3504189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3504192">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="3504236">func</span>&nbsp;<span class="op" id="3504241">(</span><span class="ident" id="3504242">z</span>&nbsp;<span class="op" id="3504244">*</span><span class="ident" id="3504245">Int</span><span class="op" id="3504248">)</span>&nbsp;<span class="ident" id="3504250">Add</span><span class="op" id="3504253">(</span><span class="ident" id="3504254">x</span><span class="op" id="3504255">,</span>&nbsp;<span class="ident" id="3504257">y</span>&nbsp;<span class="op" id="3504259">*</span><span class="ident" id="3504260">Int</span><span class="op" id="3504263">)</span>&nbsp;<span class="op" id="3504265">*</span><span class="ident" id="3504266">Int</span>&nbsp;<span class="op" id="3504270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504273">neg</span>&nbsp;<span class="op" id="3504277">:=</span>&nbsp;<span class="ident" id="3504280">x</span><span class="op" id="3504281">.</span><span class="ident" id="3504282">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3504287">if</span>&nbsp;<span class="ident" id="3504290">x</span><span class="op" id="3504291">.</span><span class="ident" id="3504292">neg</span>&nbsp;<span class="op" id="3504296">==</span>&nbsp;<span class="ident" id="3504299">y</span><span class="op" id="3504300">.</span><span class="ident" id="3504301">neg</span>&nbsp;<span class="op" id="3504305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3504309">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3504329">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504358">z</span><span class="op" id="3504359">.</span><span class="ident" id="3504360">abs</span>&nbsp;<span class="op" id="3504364">=</span>&nbsp;<span class="ident" id="3504366">z</span><span class="op" id="3504367">.</span><span class="ident" id="3504368">abs</span><span class="op" id="3504371">.</span><span class="ident" id="3504372">add</span><span class="op" id="3504375">(</span><span class="ident" id="3504376">x</span><span class="op" id="3504377">.</span><span class="ident" id="3504378">abs</span><span class="op" id="3504381">,</span>&nbsp;<span class="ident" id="3504383">y</span><span class="op" id="3504384">.</span><span class="ident" id="3504385">abs</span><span class="op" id="3504388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3504391">}</span>&nbsp;<span class="keyword" id="3504393">else</span>&nbsp;<span class="op" id="3504398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3504402">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3504437">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3504472">if</span>&nbsp;<span class="ident" id="3504475">x</span><span class="op" id="3504476">.</span><span class="ident" id="3504477">abs</span><span class="op" id="3504480">.</span><span class="ident" id="3504481">cmp</span><span class="op" id="3504484">(</span><span class="ident" id="3504485">y</span><span class="op" id="3504486">.</span><span class="ident" id="3504487">abs</span><span class="op" id="3504490">)</span>&nbsp;<span class="op" id="3504492">&gt;=</span>&nbsp;<span class="num" id="3504495">0</span>&nbsp;<span class="op" id="3504497">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504502">z</span><span class="op" id="3504503">.</span><span class="ident" id="3504504">abs</span>&nbsp;<span class="op" id="3504508">=</span>&nbsp;<span class="ident" id="3504510">z</span><span class="op" id="3504511">.</span><span class="ident" id="3504512">abs</span><span class="op" id="3504515">.</span><span class="ident" id="3504516">sub</span><span class="op" id="3504519">(</span><span class="ident" id="3504520">x</span><span class="op" id="3504521">.</span><span class="ident" id="3504522">abs</span><span class="op" id="3504525">,</span>&nbsp;<span class="ident" id="3504527">y</span><span class="op" id="3504528">.</span><span class="ident" id="3504529">abs</span><span class="op" id="3504532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3504536">}</span>&nbsp;<span class="keyword" id="3504538">else</span>&nbsp;<span class="op" id="3504543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504548">neg</span>&nbsp;<span class="op" id="3504552">=</span>&nbsp;<span class="op" id="3504554">!</span><span class="ident" id="3504555">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504562">z</span><span class="op" id="3504563">.</span><span class="ident" id="3504564">abs</span>&nbsp;<span class="op" id="3504568">=</span>&nbsp;<span class="ident" id="3504570">z</span><span class="op" id="3504571">.</span><span class="ident" id="3504572">abs</span><span class="op" id="3504575">.</span><span class="ident" id="3504576">sub</span><span class="op" id="3504579">(</span><span class="ident" id="3504580">y</span><span class="op" id="3504581">.</span><span class="ident" id="3504582">abs</span><span class="op" id="3504585">,</span>&nbsp;<span class="ident" id="3504587">x</span><span class="op" id="3504588">.</span><span class="ident" id="3504589">abs</span><span class="op" id="3504592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3504596">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3504599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504602">z</span><span class="op" id="3504603">.</span><span class="ident" id="3504604">neg</span>&nbsp;<span class="op" id="3504608">=</span>&nbsp;<span class="builtinfunc" id="3504610">len</span><span class="op" id="3504613">(</span><span class="ident" id="3504614">z</span><span class="op" id="3504615">.</span><span class="ident" id="3504616">abs</span><span class="op" id="3504619">)</span>&nbsp;<span class="op" id="3504621">&gt;</span>&nbsp;<span class="num" id="3504623">0</span>&nbsp;<span class="op" id="3504625">&amp;&amp;</span>&nbsp;<span class="ident" id="3504628">neg</span>&nbsp;<span class="comment" id="3504632">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3504650">return</span>&nbsp;<span class="ident" id="3504657">z</span><br>
<span class="lineno"></span><span class="op" id="3504659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3504662">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3504713">func</span>&nbsp;<span class="op" id="3504718">(</span><span class="ident" id="3504719">z</span>&nbsp;<span class="op" id="3504721">*</span><span class="ident" id="3504722">Int</span><span class="op" id="3504725">)</span>&nbsp;<span class="ident" id="3504727">Sub</span><span class="op" id="3504730">(</span><span class="ident" id="3504731">x</span><span class="op" id="3504732">,</span>&nbsp;<span class="ident" id="3504734">y</span>&nbsp;<span class="op" id="3504736">*</span><span class="ident" id="3504737">Int</span><span class="op" id="3504740">)</span>&nbsp;<span class="op" id="3504742">*</span><span class="ident" id="3504743">Int</span>&nbsp;<span class="op" id="3504747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504750">neg</span>&nbsp;<span class="op" id="3504754">:=</span>&nbsp;<span class="ident" id="3504757">x</span><span class="op" id="3504758">.</span><span class="ident" id="3504759">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3504764">if</span>&nbsp;<span class="ident" id="3504767">x</span><span class="op" id="3504768">.</span><span class="ident" id="3504769">neg</span>&nbsp;<span class="op" id="3504773">!=</span>&nbsp;<span class="ident" id="3504776">y</span><span class="op" id="3504777">.</span><span class="ident" id="3504778">neg</span>&nbsp;<span class="op" id="3504782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3504786">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3504809">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504835">z</span><span class="op" id="3504836">.</span><span class="ident" id="3504837">abs</span>&nbsp;<span class="op" id="3504841">=</span>&nbsp;<span class="ident" id="3504843">z</span><span class="op" id="3504844">.</span><span class="ident" id="3504845">abs</span><span class="op" id="3504848">.</span><span class="ident" id="3504849">add</span><span class="op" id="3504852">(</span><span class="ident" id="3504853">x</span><span class="op" id="3504854">.</span><span class="ident" id="3504855">abs</span><span class="op" id="3504858">,</span>&nbsp;<span class="ident" id="3504860">y</span><span class="op" id="3504861">.</span><span class="ident" id="3504862">abs</span><span class="op" id="3504865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3504868">}</span>&nbsp;<span class="keyword" id="3504870">else</span>&nbsp;<span class="op" id="3504875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3504879">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3504911">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3504949">if</span>&nbsp;<span class="ident" id="3504952">x</span><span class="op" id="3504953">.</span><span class="ident" id="3504954">abs</span><span class="op" id="3504957">.</span><span class="ident" id="3504958">cmp</span><span class="op" id="3504961">(</span><span class="ident" id="3504962">y</span><span class="op" id="3504963">.</span><span class="ident" id="3504964">abs</span><span class="op" id="3504967">)</span>&nbsp;<span class="op" id="3504969">&gt;=</span>&nbsp;<span class="num" id="3504972">0</span>&nbsp;<span class="op" id="3504974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3504979">z</span><span class="op" id="3504980">.</span><span class="ident" id="3504981">abs</span>&nbsp;<span class="op" id="3504985">=</span>&nbsp;<span class="ident" id="3504987">z</span><span class="op" id="3504988">.</span><span class="ident" id="3504989">abs</span><span class="op" id="3504992">.</span><span class="ident" id="3504993">sub</span><span class="op" id="3504996">(</span><span class="ident" id="3504997">x</span><span class="op" id="3504998">.</span><span class="ident" id="3504999">abs</span><span class="op" id="3505002">,</span>&nbsp;<span class="ident" id="3505004">y</span><span class="op" id="3505005">.</span><span class="ident" id="3505006">abs</span><span class="op" id="3505009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3505013">}</span>&nbsp;<span class="keyword" id="3505015">else</span>&nbsp;<span class="op" id="3505020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3505025">neg</span>&nbsp;<span class="op" id="3505029">=</span>&nbsp;<span class="op" id="3505031">!</span><span class="ident" id="3505032">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3505039">z</span><span class="op" id="3505040">.</span><span class="ident" id="3505041">abs</span>&nbsp;<span class="op" id="3505045">=</span>&nbsp;<span class="ident" id="3505047">z</span><span class="op" id="3505048">.</span><span class="ident" id="3505049">abs</span><span class="op" id="3505052">.</span><span class="ident" id="3505053">sub</span><span class="op" id="3505056">(</span><span class="ident" id="3505057">y</span><span class="op" id="3505058">.</span><span class="ident" id="3505059">abs</span><span class="op" id="3505062">,</span>&nbsp;<span class="ident" id="3505064">x</span><span class="op" id="3505065">.</span><span class="ident" id="3505066">abs</span><span class="op" id="3505069">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3505073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3505076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3505079">z</span><span class="op" id="3505080">.</span><span class="ident" id="3505081">neg</span>&nbsp;<span class="op" id="3505085">=</span>&nbsp;<span class="builtinfunc" id="3505087">len</span><span class="op" id="3505090">(</span><span class="ident" id="3505091">z</span><span class="op" id="3505092">.</span><span class="ident" id="3505093">abs</span><span class="op" id="3505096">)</span>&nbsp;<span class="op" id="3505098">&gt;</span>&nbsp;<span class="num" id="3505100">0</span>&nbsp;<span class="op" id="3505102">&amp;&amp;</span>&nbsp;<span class="ident" id="3505105">neg</span>&nbsp;<span class="comment" id="3505109">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3505127">return</span>&nbsp;<span class="ident" id="3505134">z</span><br>
<span class="lineno"></span><span class="op" id="3505136">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="3505139">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3505187">func</span>&nbsp;<span class="op" id="3505192">(</span><span class="ident" id="3505193">z</span>&nbsp;<span class="op" id="3505195">*</span><span class="ident" id="3505196">Int</span><span class="op" id="3505199">)</span>&nbsp;<span class="ident" id="3505201">Mul</span><span class="op" id="3505204">(</span><span class="ident" id="3505205">x</span><span class="op" id="3505206">,</span>&nbsp;<span class="ident" id="3505208">y</span>&nbsp;<span class="op" id="3505210">*</span><span class="ident" id="3505211">Int</span><span class="op" id="3505214">)</span>&nbsp;<span class="op" id="3505216">*</span><span class="ident" id="3505217">Int</span>&nbsp;<span class="op" id="3505221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3505224">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3505243">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3505268">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3505293">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3505318">z</span><span class="op" id="3505319">.</span><span class="ident" id="3505320">abs</span>&nbsp;<span class="op" id="3505324">=</span>&nbsp;<span class="ident" id="3505326">z</span><span class="op" id="3505327">.</span><span class="ident" id="3505328">abs</span><span class="op" id="3505331">.</span><span class="ident" id="3505332">mul</span><span class="op" id="3505335">(</span><span class="ident" id="3505336">x</span><span class="op" id="3505337">.</span><span class="ident" id="3505338">abs</span><span class="op" id="3505341">,</span>&nbsp;<span class="ident" id="3505343">y</span><span class="op" id="3505344">.</span><span class="ident" id="3505345">abs</span><span class="op" id="3505348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3505351">z</span><span class="op" id="3505352">.</span><span class="ident" id="3505353">neg</span>&nbsp;<span class="op" id="3505357">=</span>&nbsp;<span class="builtinfunc" id="3505359">len</span><span class="op" id="3505362">(</span><span class="ident" id="3505363">z</span><span class="op" id="3505364">.</span><span class="ident" id="3505365">abs</span><span class="op" id="3505368">)</span>&nbsp;<span class="op" id="3505370">&gt;</span>&nbsp;<span class="num" id="3505372">0</span>&nbsp;<span class="op" id="3505374">&amp;&amp;</span>&nbsp;<span class="ident" id="3505377">x</span><span class="op" id="3505378">.</span><span class="ident" id="3505379">neg</span>&nbsp;<span class="op" id="3505383">!=</span>&nbsp;<span class="ident" id="3505386">y</span><span class="op" id="3505387">.</span><span class="ident" id="3505388">neg</span>&nbsp;<span class="comment" id="3505392">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3505410">return</span>&nbsp;<span class="ident" id="3505417">z</span><br>
<span class="lineno">160</span><span class="op" id="3505419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3505422">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="3505472">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3505522">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="3505566">func</span>&nbsp;<span class="op" id="3505571">(</span><span class="ident" id="3505572">z</span>&nbsp;<span class="op" id="3505574">*</span><span class="ident" id="3505575">Int</span><span class="op" id="3505578">)</span>&nbsp;<span class="ident" id="3505580">MulRange</span><span class="op" id="3505588">(</span><span class="ident" id="3505589">a</span><span class="op" id="3505590">,</span>&nbsp;<span class="ident" id="3505592">b</span>&nbsp;<span class="ident" id="3505594">int64</span><span class="op" id="3505599">)</span>&nbsp;<span class="op" id="3505601">*</span><span class="ident" id="3505602">Int</span>&nbsp;<span class="op" id="3505606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3505609">switch</span>&nbsp;<span class="op" id="3505616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3505619">case</span>&nbsp;<span class="ident" id="3505624">a</span>&nbsp;<span class="op" id="3505626">&gt;</span>&nbsp;<span class="ident" id="3505628">b</span><span class="op" id="3505629">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3505633">return</span>&nbsp;<span class="ident" id="3505640">z</span><span class="op" id="3505641">.</span><span class="ident" id="3505642">SetInt64</span><span class="op" id="3505650">(</span><span class="num" id="3505651">1</span><span class="op" id="3505652">)</span>&nbsp;<span class="comment" id="3505654">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3505670">case</span>&nbsp;<span class="ident" id="3505675">a</span>&nbsp;<span class="op" id="3505677">&lt;=</span>&nbsp;<span class="num" id="3505680">0</span>&nbsp;<span class="op" id="3505682">&amp;&amp;</span>&nbsp;<span class="ident" id="3505685">b</span>&nbsp;<span class="op" id="3505687">&gt;=</span>&nbsp;<span class="num" id="3505690">0</span><span class="op" id="3505691">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3505695">return</span>&nbsp;<span class="ident" id="3505702">z</span><span class="op" id="3505703">.</span><span class="ident" id="3505704">SetInt64</span><span class="op" id="3505712">(</span><span class="num" id="3505713">0</span><span class="op" id="3505714">)</span>&nbsp;<span class="comment" id="3505716">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3505737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3505740">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3505772">neg</span>&nbsp;<span class="op" id="3505776">:=</span>&nbsp;<span class="builtintype" id="3505779">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3505786">if</span>&nbsp;<span class="ident" id="3505789">a</span>&nbsp;<span class="op" id="3505791">&lt;</span>&nbsp;<span class="num" id="3505793">0</span>&nbsp;<span class="op" id="3505795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3505799">neg</span>&nbsp;<span class="op" id="3505803">=</span>&nbsp;<span class="op" id="3505805">(</span><span class="ident" id="3505806">b</span><span class="op" id="3505807">-</span><span class="ident" id="3505808">a</span><span class="op" id="3505809">)</span><span class="op" id="3505810">&amp;</span><span class="num" id="3505811">1</span>&nbsp;<span class="op" id="3505813">==</span>&nbsp;<span class="num" id="3505816">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3505820">a</span><span class="op" id="3505821">,</span>&nbsp;<span class="ident" id="3505823">b</span>&nbsp;<span class="op" id="3505825">=</span>&nbsp;<span class="op" id="3505827">-</span><span class="ident" id="3505828">b</span><span class="op" id="3505829">,</span>&nbsp;<span class="op" id="3505831">-</span><span class="ident" id="3505832">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3505835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3505839">z</span><span class="op" id="3505840">.</span><span class="ident" id="3505841">abs</span>&nbsp;<span class="op" id="3505845">=</span>&nbsp;<span class="ident" id="3505847">z</span><span class="op" id="3505848">.</span><span class="ident" id="3505849">abs</span><span class="op" id="3505852">.</span><span class="ident" id="3505853">mulRange</span><span class="op" id="3505861">(</span><span class="ident" id="3505862">uint64</span><span class="op" id="3505868">(</span><span class="ident" id="3505869">a</span><span class="op" id="3505870">)</span><span class="op" id="3505871">,</span>&nbsp;<span class="ident" id="3505873">uint64</span><span class="op" id="3505879">(</span><span class="ident" id="3505880">b</span><span class="op" id="3505881">)</span><span class="op" id="3505882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3505885">z</span><span class="op" id="3505886">.</span><span class="ident" id="3505887">neg</span>&nbsp;<span class="op" id="3505891">=</span>&nbsp;<span class="ident" id="3505893">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3505898">return</span>&nbsp;<span class="ident" id="3505905">z</span><br>
<span class="lineno"></span><span class="op" id="3505907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="3505910">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3505982">func</span>&nbsp;<span class="op" id="3505987">(</span><span class="ident" id="3505988">z</span>&nbsp;<span class="op" id="3505990">*</span><span class="ident" id="3505991">Int</span><span class="op" id="3505994">)</span>&nbsp;<span class="ident" id="3505996">Binomial</span><span class="op" id="3506004">(</span><span class="ident" id="3506005">n</span><span class="op" id="3506006">,</span>&nbsp;<span class="ident" id="3506008">k</span>&nbsp;<span class="ident" id="3506010">int64</span><span class="op" id="3506015">)</span>&nbsp;<span class="op" id="3506017">*</span><span class="ident" id="3506018">Int</span>&nbsp;<span class="op" id="3506022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3506025">var</span>&nbsp;<span class="ident" id="3506029">a</span><span class="op" id="3506030">,</span>&nbsp;<span class="ident" id="3506032">b</span>&nbsp;<span class="ident" id="3506034">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3506039">a</span><span class="op" id="3506040">.</span><span class="ident" id="3506041">MulRange</span><span class="op" id="3506049">(</span><span class="ident" id="3506050">n</span><span class="op" id="3506051">-</span><span class="ident" id="3506052">k</span><span class="op" id="3506053">+</span><span class="num" id="3506054">1</span><span class="op" id="3506055">,</span>&nbsp;<span class="ident" id="3506057">n</span><span class="op" id="3506058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3506061">b</span><span class="op" id="3506062">.</span><span class="ident" id="3506063">MulRange</span><span class="op" id="3506071">(</span><span class="num" id="3506072">1</span><span class="op" id="3506073">,</span>&nbsp;<span class="ident" id="3506075">k</span><span class="op" id="3506076">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3506079">return</span>&nbsp;<span class="ident" id="3506086">z</span><span class="op" id="3506087">.</span><span class="ident" id="3506088">Quo</span><span class="op" id="3506091">(</span><span class="op" id="3506092">&amp;</span><span class="ident" id="3506093">a</span><span class="op" id="3506094">,</span>&nbsp;<span class="op" id="3506096">&amp;</span><span class="ident" id="3506097">b</span><span class="op" id="3506098">)</span><br>
<span class="lineno"></span><span class="op" id="3506100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3506103">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3506163">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="3506219">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3506296">func</span>&nbsp;<span class="op" id="3506301">(</span><span class="ident" id="3506302">z</span>&nbsp;<span class="op" id="3506304">*</span><span class="ident" id="3506305">Int</span><span class="op" id="3506308">)</span>&nbsp;<span class="ident" id="3506310">Quo</span><span class="op" id="3506313">(</span><span class="ident" id="3506314">x</span><span class="op" id="3506315">,</span>&nbsp;<span class="ident" id="3506317">y</span>&nbsp;<span class="op" id="3506319">*</span><span class="ident" id="3506320">Int</span><span class="op" id="3506323">)</span>&nbsp;<span class="op" id="3506325">*</span><span class="ident" id="3506326">Int</span>&nbsp;<span class="op" id="3506330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3506333">z</span><span class="op" id="3506334">.</span><span class="ident" id="3506335">abs</span><span class="op" id="3506338">,</span>&nbsp;<span class="ident" id="3506340">_</span>&nbsp;<span class="op" id="3506342">=</span>&nbsp;<span class="ident" id="3506344">z</span><span class="op" id="3506345">.</span><span class="ident" id="3506346">abs</span><span class="op" id="3506349">.</span><span class="ident" id="3506350">div</span><span class="op" id="3506353">(</span><span class="ident" id="3506354">nil</span><span class="op" id="3506357">,</span>&nbsp;<span class="ident" id="3506359">x</span><span class="op" id="3506360">.</span><span class="ident" id="3506361">abs</span><span class="op" id="3506364">,</span>&nbsp;<span class="ident" id="3506366">y</span><span class="op" id="3506367">.</span><span class="ident" id="3506368">abs</span><span class="op" id="3506371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3506374">z</span><span class="op" id="3506375">.</span><span class="ident" id="3506376">neg</span>&nbsp;<span class="op" id="3506380">=</span>&nbsp;<span class="builtinfunc" id="3506382">len</span><span class="op" id="3506385">(</span><span class="ident" id="3506386">z</span><span class="op" id="3506387">.</span><span class="ident" id="3506388">abs</span><span class="op" id="3506391">)</span>&nbsp;<span class="op" id="3506393">&gt;</span>&nbsp;<span class="num" id="3506395">0</span>&nbsp;<span class="op" id="3506397">&amp;&amp;</span>&nbsp;<span class="ident" id="3506400">x</span><span class="op" id="3506401">.</span><span class="ident" id="3506402">neg</span>&nbsp;<span class="op" id="3506406">!=</span>&nbsp;<span class="ident" id="3506409">y</span><span class="op" id="3506410">.</span><span class="ident" id="3506411">neg</span>&nbsp;<span class="comment" id="3506415">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3506433">return</span>&nbsp;<span class="ident" id="3506440">z</span><br>
<span class="lineno">200</span><span class="op" id="3506442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3506445">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3506506">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3506562">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="3506638">func</span>&nbsp;<span class="op" id="3506643">(</span><span class="ident" id="3506644">z</span>&nbsp;<span class="op" id="3506646">*</span><span class="ident" id="3506647">Int</span><span class="op" id="3506650">)</span>&nbsp;<span class="ident" id="3506652">Rem</span><span class="op" id="3506655">(</span><span class="ident" id="3506656">x</span><span class="op" id="3506657">,</span>&nbsp;<span class="ident" id="3506659">y</span>&nbsp;<span class="op" id="3506661">*</span><span class="ident" id="3506662">Int</span><span class="op" id="3506665">)</span>&nbsp;<span class="op" id="3506667">*</span><span class="ident" id="3506668">Int</span>&nbsp;<span class="op" id="3506672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3506675">_</span><span class="op" id="3506676">,</span>&nbsp;<span class="ident" id="3506678">z</span><span class="op" id="3506679">.</span><span class="ident" id="3506680">abs</span>&nbsp;<span class="op" id="3506684">=</span>&nbsp;<span class="ident" id="3506686">nat</span><span class="op" id="3506689">(</span><span class="ident" id="3506690">nil</span><span class="op" id="3506693">)</span><span class="op" id="3506694">.</span><span class="ident" id="3506695">div</span><span class="op" id="3506698">(</span><span class="ident" id="3506699">z</span><span class="op" id="3506700">.</span><span class="ident" id="3506701">abs</span><span class="op" id="3506704">,</span>&nbsp;<span class="ident" id="3506706">x</span><span class="op" id="3506707">.</span><span class="ident" id="3506708">abs</span><span class="op" id="3506711">,</span>&nbsp;<span class="ident" id="3506713">y</span><span class="op" id="3506714">.</span><span class="ident" id="3506715">abs</span><span class="op" id="3506718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3506721">z</span><span class="op" id="3506722">.</span><span class="ident" id="3506723">neg</span>&nbsp;<span class="op" id="3506727">=</span>&nbsp;<span class="builtinfunc" id="3506729">len</span><span class="op" id="3506732">(</span><span class="ident" id="3506733">z</span><span class="op" id="3506734">.</span><span class="ident" id="3506735">abs</span><span class="op" id="3506738">)</span>&nbsp;<span class="op" id="3506740">&gt;</span>&nbsp;<span class="num" id="3506742">0</span>&nbsp;<span class="op" id="3506744">&amp;&amp;</span>&nbsp;<span class="ident" id="3506747">x</span><span class="op" id="3506748">.</span><span class="ident" id="3506749">neg</span>&nbsp;<span class="comment" id="3506753">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3506771">return</span>&nbsp;<span class="ident" id="3506778">z</span><br>
<span class="lineno"></span><span class="op" id="3506780">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="3506783">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="3506847">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3506890">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3506946">//</span><br>
<span class="lineno">215</span><span class="comment" id="3506949">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3507004">//</span><br>
<span class="lineno"></span><span class="comment" id="3507007">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="3507057">//&nbsp;&nbsp;&nbsp;&nbspr&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="3507072">//</span><br>
<span class="lineno">220</span><span class="comment" id="3507075">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="3507147">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="3507209">//</span><br>
<span class="lineno"></span><span class="keyword" id="3507212">func</span>&nbsp;<span class="op" id="3507217">(</span><span class="ident" id="3507218">z</span>&nbsp;<span class="op" id="3507220">*</span><span class="ident" id="3507221">Int</span><span class="op" id="3507224">)</span>&nbsp;<span class="ident" id="3507226">QuoRem</span><span class="op" id="3507232">(</span><span class="ident" id="3507233">x</span><span class="op" id="3507234">,</span>&nbsp;<span class="ident" id="3507236">y</span><span class="op" id="3507237">,</span>&nbsp;<span class="ident" id="3507239">r</span>&nbsp;<span class="op" id="3507241">*</span><span class="ident" id="3507242">Int</span><span class="op" id="3507245">)</span>&nbsp;<span class="op" id="3507247">(</span><span class="op" id="3507248">*</span><span class="ident" id="3507249">Int</span><span class="op" id="3507252">,</span>&nbsp;<span class="op" id="3507254">*</span><span class="ident" id="3507255">Int</span><span class="op" id="3507258">)</span>&nbsp;<span class="op" id="3507260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3507263">z</span><span class="op" id="3507264">.</span><span class="ident" id="3507265">abs</span><span class="op" id="3507268">,</span>&nbsp;<span class="ident" id="3507270">r</span><span class="op" id="3507271">.</span><span class="ident" id="3507272">abs</span>&nbsp;<span class="op" id="3507276">=</span>&nbsp;<span class="ident" id="3507278">z</span><span class="op" id="3507279">.</span><span class="ident" id="3507280">abs</span><span class="op" id="3507283">.</span><span class="ident" id="3507284">div</span><span class="op" id="3507287">(</span><span class="ident" id="3507288">r</span><span class="op" id="3507289">.</span><span class="ident" id="3507290">abs</span><span class="op" id="3507293">,</span>&nbsp;<span class="ident" id="3507295">x</span><span class="op" id="3507296">.</span><span class="ident" id="3507297">abs</span><span class="op" id="3507300">,</span>&nbsp;<span class="ident" id="3507302">y</span><span class="op" id="3507303">.</span><span class="ident" id="3507304">abs</span><span class="op" id="3507307">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3507310">z</span><span class="op" id="3507311">.</span><span class="ident" id="3507312">neg</span><span class="op" id="3507315">,</span>&nbsp;<span class="ident" id="3507317">r</span><span class="op" id="3507318">.</span><span class="ident" id="3507319">neg</span>&nbsp;<span class="op" id="3507323">=</span>&nbsp;<span class="builtinfunc" id="3507325">len</span><span class="op" id="3507328">(</span><span class="ident" id="3507329">z</span><span class="op" id="3507330">.</span><span class="ident" id="3507331">abs</span><span class="op" id="3507334">)</span>&nbsp;<span class="op" id="3507336">&gt;</span>&nbsp;<span class="num" id="3507338">0</span>&nbsp;<span class="op" id="3507340">&amp;&amp;</span>&nbsp;<span class="ident" id="3507343">x</span><span class="op" id="3507344">.</span><span class="ident" id="3507345">neg</span>&nbsp;<span class="op" id="3507349">!=</span>&nbsp;<span class="ident" id="3507352">y</span><span class="op" id="3507353">.</span><span class="ident" id="3507354">neg</span><span class="op" id="3507357">,</span>&nbsp;<span class="builtinfunc" id="3507359">len</span><span class="op" id="3507362">(</span><span class="ident" id="3507363">r</span><span class="op" id="3507364">.</span><span class="ident" id="3507365">abs</span><span class="op" id="3507368">)</span>&nbsp;<span class="op" id="3507370">&gt;</span>&nbsp;<span class="num" id="3507372">0</span>&nbsp;<span class="op" id="3507374">&amp;&amp;</span>&nbsp;<span class="ident" id="3507377">x</span><span class="op" id="3507378">.</span><span class="ident" id="3507379">neg</span>&nbsp;<span class="comment" id="3507383">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3507401">return</span>&nbsp;<span class="ident" id="3507408">z</span><span class="op" id="3507409">,</span>&nbsp;<span class="ident" id="3507411">r</span><br>
<span class="lineno"></span><span class="op" id="3507413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3507416">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="3507476">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3507532">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3507611">func</span>&nbsp;<span class="op" id="3507616">(</span><span class="ident" id="3507617">z</span>&nbsp;<span class="op" id="3507619">*</span><span class="ident" id="3507620">Int</span><span class="op" id="3507623">)</span>&nbsp;<span class="ident" id="3507625">Div</span><span class="op" id="3507628">(</span><span class="ident" id="3507629">x</span><span class="op" id="3507630">,</span>&nbsp;<span class="ident" id="3507632">y</span>&nbsp;<span class="op" id="3507634">*</span><span class="ident" id="3507635">Int</span><span class="op" id="3507638">)</span>&nbsp;<span class="op" id="3507640">*</span><span class="ident" id="3507641">Int</span>&nbsp;<span class="op" id="3507645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3507648">y_neg</span>&nbsp;<span class="op" id="3507654">:=</span>&nbsp;<span class="ident" id="3507657">y</span><span class="op" id="3507658">.</span><span class="ident" id="3507659">neg</span>&nbsp;<span class="comment" id="3507663">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3507691">var</span>&nbsp;<span class="ident" id="3507695">r</span>&nbsp;<span class="ident" id="3507697">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3507702">z</span><span class="op" id="3507703">.</span><span class="ident" id="3507704">QuoRem</span><span class="op" id="3507710">(</span><span class="ident" id="3507711">x</span><span class="op" id="3507712">,</span>&nbsp;<span class="ident" id="3507714">y</span><span class="op" id="3507715">,</span>&nbsp;<span class="op" id="3507717">&amp;</span><span class="ident" id="3507718">r</span><span class="op" id="3507719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3507722">if</span>&nbsp;<span class="ident" id="3507725">r</span><span class="op" id="3507726">.</span><span class="ident" id="3507727">neg</span>&nbsp;<span class="op" id="3507731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3507735">if</span>&nbsp;<span class="ident" id="3507738">y_neg</span>&nbsp;<span class="op" id="3507744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3507749">z</span><span class="op" id="3507750">.</span><span class="ident" id="3507751">Add</span><span class="op" id="3507754">(</span><span class="ident" id="3507755">z</span><span class="op" id="3507756">,</span>&nbsp;<span class="ident" id="3507758">intOne</span><span class="op" id="3507764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3507768">}</span>&nbsp;<span class="keyword" id="3507770">else</span>&nbsp;<span class="op" id="3507775">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3507780">z</span><span class="op" id="3507781">.</span><span class="ident" id="3507782">Sub</span><span class="op" id="3507785">(</span><span class="ident" id="3507786">z</span><span class="op" id="3507787">,</span>&nbsp;<span class="ident" id="3507789">intOne</span><span class="op" id="3507795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3507799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3507802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3507805">return</span>&nbsp;<span class="ident" id="3507812">z</span><br>
<span class="lineno"></span><span class="op" id="3507814">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="3507817">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3507876">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3507932">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3508010">func</span>&nbsp;<span class="op" id="3508015">(</span><span class="ident" id="3508016">z</span>&nbsp;<span class="op" id="3508018">*</span><span class="ident" id="3508019">Int</span><span class="op" id="3508022">)</span>&nbsp;<span class="ident" id="3508024">Mod</span><span class="op" id="3508027">(</span><span class="ident" id="3508028">x</span><span class="op" id="3508029">,</span>&nbsp;<span class="ident" id="3508031">y</span>&nbsp;<span class="op" id="3508033">*</span><span class="ident" id="3508034">Int</span><span class="op" id="3508037">)</span>&nbsp;<span class="op" id="3508039">*</span><span class="ident" id="3508040">Int</span>&nbsp;<span class="op" id="3508044">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3508047">y0</span>&nbsp;<span class="op" id="3508050">:=</span>&nbsp;<span class="ident" id="3508053">y</span>&nbsp;<span class="comment" id="3508055">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3508066">if</span>&nbsp;<span class="ident" id="3508069">z</span>&nbsp;<span class="op" id="3508071">==</span>&nbsp;<span class="ident" id="3508074">y</span>&nbsp;<span class="op" id="3508076">||</span>&nbsp;<span class="ident" id="3508079">alias</span><span class="op" id="3508084">(</span><span class="ident" id="3508085">z</span><span class="op" id="3508086">.</span><span class="ident" id="3508087">abs</span><span class="op" id="3508090">,</span>&nbsp;<span class="ident" id="3508092">y</span><span class="op" id="3508093">.</span><span class="ident" id="3508094">abs</span><span class="op" id="3508097">)</span>&nbsp;<span class="op" id="3508099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3508103">y0</span>&nbsp;<span class="op" id="3508106">=</span>&nbsp;<span class="builtinfunc" id="3508108">new</span><span class="op" id="3508111">(</span><span class="ident" id="3508112">Int</span><span class="op" id="3508115">)</span><span class="op" id="3508116">.</span><span class="ident" id="3508117">Set</span><span class="op" id="3508120">(</span><span class="ident" id="3508121">y</span><span class="op" id="3508122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3508125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3508128">var</span>&nbsp;<span class="ident" id="3508132">q</span>&nbsp;<span class="ident" id="3508134">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3508139">q</span><span class="op" id="3508140">.</span><span class="ident" id="3508141">QuoRem</span><span class="op" id="3508147">(</span><span class="ident" id="3508148">x</span><span class="op" id="3508149">,</span>&nbsp;<span class="ident" id="3508151">y</span><span class="op" id="3508152">,</span>&nbsp;<span class="ident" id="3508154">z</span><span class="op" id="3508155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3508158">if</span>&nbsp;<span class="ident" id="3508161">z</span><span class="op" id="3508162">.</span><span class="ident" id="3508163">neg</span>&nbsp;<span class="op" id="3508167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3508171">if</span>&nbsp;<span class="ident" id="3508174">y0</span><span class="op" id="3508176">.</span><span class="ident" id="3508177">neg</span>&nbsp;<span class="op" id="3508181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3508186">z</span><span class="op" id="3508187">.</span><span class="ident" id="3508188">Sub</span><span class="op" id="3508191">(</span><span class="ident" id="3508192">z</span><span class="op" id="3508193">,</span>&nbsp;<span class="ident" id="3508195">y0</span><span class="op" id="3508197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3508201">}</span>&nbsp;<span class="keyword" id="3508203">else</span>&nbsp;<span class="op" id="3508208">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3508213">z</span><span class="op" id="3508214">.</span><span class="ident" id="3508215">Add</span><span class="op" id="3508218">(</span><span class="ident" id="3508219">z</span><span class="op" id="3508220">,</span>&nbsp;<span class="ident" id="3508222">y0</span><span class="op" id="3508224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3508228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3508231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3508234">return</span>&nbsp;<span class="ident" id="3508241">z</span><br>
<span class="lineno"></span><span class="op" id="3508243">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="3508246">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3508316">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3508359">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3508415">//</span><br>
<span class="lineno">270</span><span class="comment" id="3508418">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3508483">//</span><br>
<span class="lineno"></span><span class="comment" id="3508486">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3508512">//&nbsp;&nbsp;&nbsp;&nbspm&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="3508546">//</span><br>
<span class="lineno">275</span><span class="comment" id="3508549">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="3508619">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3508683">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="3508746">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="3508761">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="3508813">//</span><br>
<span class="lineno"></span><span class="keyword" id="3508816">func</span>&nbsp;<span class="op" id="3508821">(</span><span class="ident" id="3508822">z</span>&nbsp;<span class="op" id="3508824">*</span><span class="ident" id="3508825">Int</span><span class="op" id="3508828">)</span>&nbsp;<span class="ident" id="3508830">DivMod</span><span class="op" id="3508836">(</span><span class="ident" id="3508837">x</span><span class="op" id="3508838">,</span>&nbsp;<span class="ident" id="3508840">y</span><span class="op" id="3508841">,</span>&nbsp;<span class="ident" id="3508843">m</span>&nbsp;<span class="op" id="3508845">*</span><span class="ident" id="3508846">Int</span><span class="op" id="3508849">)</span>&nbsp;<span class="op" id="3508851">(</span><span class="op" id="3508852">*</span><span class="ident" id="3508853">Int</span><span class="op" id="3508856">,</span>&nbsp;<span class="op" id="3508858">*</span><span class="ident" id="3508859">Int</span><span class="op" id="3508862">)</span>&nbsp;<span class="op" id="3508864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3508867">y0</span>&nbsp;<span class="op" id="3508870">:=</span>&nbsp;<span class="ident" id="3508873">y</span>&nbsp;<span class="comment" id="3508875">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3508886">if</span>&nbsp;<span class="ident" id="3508889">z</span>&nbsp;<span class="op" id="3508891">==</span>&nbsp;<span class="ident" id="3508894">y</span>&nbsp;<span class="op" id="3508896">||</span>&nbsp;<span class="ident" id="3508899">alias</span><span class="op" id="3508904">(</span><span class="ident" id="3508905">z</span><span class="op" id="3508906">.</span><span class="ident" id="3508907">abs</span><span class="op" id="3508910">,</span>&nbsp;<span class="ident" id="3508912">y</span><span class="op" id="3508913">.</span><span class="ident" id="3508914">abs</span><span class="op" id="3508917">)</span>&nbsp;<span class="op" id="3508919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3508923">y0</span>&nbsp;<span class="op" id="3508926">=</span>&nbsp;<span class="builtinfunc" id="3508928">new</span><span class="op" id="3508931">(</span><span class="ident" id="3508932">Int</span><span class="op" id="3508935">)</span><span class="op" id="3508936">.</span><span class="ident" id="3508937">Set</span><span class="op" id="3508940">(</span><span class="ident" id="3508941">y</span><span class="op" id="3508942">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3508945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3508948">z</span><span class="op" id="3508949">.</span><span class="ident" id="3508950">QuoRem</span><span class="op" id="3508956">(</span><span class="ident" id="3508957">x</span><span class="op" id="3508958">,</span>&nbsp;<span class="ident" id="3508960">y</span><span class="op" id="3508961">,</span>&nbsp;<span class="ident" id="3508963">m</span><span class="op" id="3508964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3508967">if</span>&nbsp;<span class="ident" id="3508970">m</span><span class="op" id="3508971">.</span><span class="ident" id="3508972">neg</span>&nbsp;<span class="op" id="3508976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3508980">if</span>&nbsp;<span class="ident" id="3508983">y0</span><span class="op" id="3508985">.</span><span class="ident" id="3508986">neg</span>&nbsp;<span class="op" id="3508990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3508995">z</span><span class="op" id="3508996">.</span><span class="ident" id="3508997">Add</span><span class="op" id="3509000">(</span><span class="ident" id="3509001">z</span><span class="op" id="3509002">,</span>&nbsp;<span class="ident" id="3509004">intOne</span><span class="op" id="3509010">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3509015">m</span><span class="op" id="3509016">.</span><span class="ident" id="3509017">Sub</span><span class="op" id="3509020">(</span><span class="ident" id="3509021">m</span><span class="op" id="3509022">,</span>&nbsp;<span class="ident" id="3509024">y0</span><span class="op" id="3509026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3509030">}</span>&nbsp;<span class="keyword" id="3509032">else</span>&nbsp;<span class="op" id="3509037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3509042">z</span><span class="op" id="3509043">.</span><span class="ident" id="3509044">Sub</span><span class="op" id="3509047">(</span><span class="ident" id="3509048">z</span><span class="op" id="3509049">,</span>&nbsp;<span class="ident" id="3509051">intOne</span><span class="op" id="3509057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3509062">m</span><span class="op" id="3509063">.</span><span class="ident" id="3509064">Add</span><span class="op" id="3509067">(</span><span class="ident" id="3509068">m</span><span class="op" id="3509069">,</span>&nbsp;<span class="ident" id="3509071">y0</span><span class="op" id="3509073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3509077">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3509080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509083">return</span>&nbsp;<span class="ident" id="3509090">z</span><span class="op" id="3509091">,</span>&nbsp;<span class="ident" id="3509093">m</span><br>
<span class="lineno"></span><span class="op" id="3509095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3509098">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="3509135">//</span><br>
<span class="lineno"></span><span class="comment" id="3509138">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3509156">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3509174">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3509192">//</span><br>
<span class="lineno">305</span><span class="keyword" id="3509195">func</span>&nbsp;<span class="op" id="3509200">(</span><span class="ident" id="3509201">x</span>&nbsp;<span class="op" id="3509203">*</span><span class="ident" id="3509204">Int</span><span class="op" id="3509207">)</span>&nbsp;<span class="ident" id="3509209">Cmp</span><span class="op" id="3509212">(</span><span class="ident" id="3509213">y</span>&nbsp;<span class="op" id="3509215">*</span><span class="ident" id="3509216">Int</span><span class="op" id="3509219">)</span>&nbsp;<span class="op" id="3509221">(</span><span class="ident" id="3509222">r</span>&nbsp;<span class="builtintype" id="3509224">int</span><span class="op" id="3509227">)</span>&nbsp;<span class="op" id="3509229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3509232">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3509255">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3509275">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3509295">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509327">switch</span>&nbsp;<span class="op" id="3509334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509337">case</span>&nbsp;<span class="ident" id="3509342">x</span><span class="op" id="3509343">.</span><span class="ident" id="3509344">neg</span>&nbsp;<span class="op" id="3509348">==</span>&nbsp;<span class="ident" id="3509351">y</span><span class="op" id="3509352">.</span><span class="ident" id="3509353">neg</span><span class="op" id="3509356">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3509360">r</span>&nbsp;<span class="op" id="3509362">=</span>&nbsp;<span class="ident" id="3509364">x</span><span class="op" id="3509365">.</span><span class="ident" id="3509366">abs</span><span class="op" id="3509369">.</span><span class="ident" id="3509370">cmp</span><span class="op" id="3509373">(</span><span class="ident" id="3509374">y</span><span class="op" id="3509375">.</span><span class="ident" id="3509376">abs</span><span class="op" id="3509379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509383">if</span>&nbsp;<span class="ident" id="3509386">x</span><span class="op" id="3509387">.</span><span class="ident" id="3509388">neg</span>&nbsp;<span class="op" id="3509392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3509397">r</span>&nbsp;<span class="op" id="3509399">=</span>&nbsp;<span class="op" id="3509401">-</span><span class="ident" id="3509402">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3509406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509409">case</span>&nbsp;<span class="ident" id="3509414">x</span><span class="op" id="3509415">.</span><span class="ident" id="3509416">neg</span><span class="op" id="3509419">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3509423">r</span>&nbsp;<span class="op" id="3509425">=</span>&nbsp;<span class="op" id="3509427">-</span><span class="num" id="3509428">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509431">default</span><span class="op" id="3509438">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3509442">r</span>&nbsp;<span class="op" id="3509444">=</span>&nbsp;<span class="num" id="3509446">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3509449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509452">return</span><br>
<span class="lineno"></span><span class="op" id="3509459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3509462">func</span>&nbsp;<span class="op" id="3509467">(</span><span class="ident" id="3509468">x</span>&nbsp;<span class="op" id="3509470">*</span><span class="ident" id="3509471">Int</span><span class="op" id="3509474">)</span>&nbsp;<span class="ident" id="3509476">String</span><span class="op" id="3509482">(</span><span class="op" id="3509483">)</span>&nbsp;<span class="builtintype" id="3509485">string</span>&nbsp;<span class="op" id="3509492">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509495">switch</span>&nbsp;<span class="op" id="3509502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509505">case</span>&nbsp;<span class="ident" id="3509510">x</span>&nbsp;<span class="op" id="3509512">==</span>&nbsp;<span class="ident" id="3509515">nil</span><span class="op" id="3509518">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509522">return</span>&nbsp;<span class="string" id="3509529">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509538">case</span>&nbsp;<span class="ident" id="3509543">x</span><span class="op" id="3509544">.</span><span class="ident" id="3509545">neg</span><span class="op" id="3509548">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509552">return</span>&nbsp;<span class="string" id="3509559">&#34;-&#34;</span>&nbsp;<span class="op" id="3509563">+</span>&nbsp;<span class="ident" id="3509565">x</span><span class="op" id="3509566">.</span><span class="ident" id="3509567">abs</span><span class="op" id="3509570">.</span><span class="ident" id="3509571">decimalString</span><span class="op" id="3509584">(</span><span class="op" id="3509585">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3509588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509591">return</span>&nbsp;<span class="ident" id="3509598">x</span><span class="op" id="3509599">.</span><span class="ident" id="3509600">abs</span><span class="op" id="3509603">.</span><span class="ident" id="3509604">decimalString</span><span class="op" id="3509617">(</span><span class="op" id="3509618">)</span><br>
<span class="lineno"></span><span class="op" id="3509620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3509623">func</span>&nbsp;<span class="ident" id="3509628">charset</span><span class="op" id="3509635">(</span><span class="ident" id="3509636">ch</span>&nbsp;<span class="builtintype" id="3509639">rune</span><span class="op" id="3509643">)</span>&nbsp;<span class="builtintype" id="3509645">string</span>&nbsp;<span class="op" id="3509652">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509655">switch</span>&nbsp;<span class="ident" id="3509662">ch</span>&nbsp;<span class="op" id="3509665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509668">case</span>&nbsp;<span class="string" id="3509673">&#39;b&#39;</span><span class="op" id="3509676">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509680">return</span>&nbsp;<span class="ident" id="3509687">lowercaseDigits</span><span class="op" id="3509702">[</span><span class="num" id="3509703">0</span><span class="op" id="3509704">:</span><span class="num" id="3509705">2</span><span class="op" id="3509706">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509709">case</span>&nbsp;<span class="string" id="3509714">&#39;o&#39;</span><span class="op" id="3509717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509721">return</span>&nbsp;<span class="ident" id="3509728">lowercaseDigits</span><span class="op" id="3509743">[</span><span class="num" id="3509744">0</span><span class="op" id="3509745">:</span><span class="num" id="3509746">8</span><span class="op" id="3509747">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509750">case</span>&nbsp;<span class="string" id="3509755">&#39;d&#39;</span><span class="op" id="3509758">,</span>&nbsp;<span class="string" id="3509760">&#39;s&#39;</span><span class="op" id="3509763">,</span>&nbsp;<span class="string" id="3509765">&#39;v&#39;</span><span class="op" id="3509768">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509772">return</span>&nbsp;<span class="ident" id="3509779">lowercaseDigits</span><span class="op" id="3509794">[</span><span class="num" id="3509795">0</span><span class="op" id="3509796">:</span><span class="num" id="3509797">10</span><span class="op" id="3509799">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509802">case</span>&nbsp;<span class="string" id="3509807">&#39;x&#39;</span><span class="op" id="3509810">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509814">return</span>&nbsp;<span class="ident" id="3509821">lowercaseDigits</span><span class="op" id="3509836">[</span><span class="num" id="3509837">0</span><span class="op" id="3509838">:</span><span class="num" id="3509839">16</span><span class="op" id="3509841">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509844">case</span>&nbsp;<span class="string" id="3509849">&#39;X&#39;</span><span class="op" id="3509852">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509856">return</span>&nbsp;<span class="ident" id="3509863">uppercaseDigits</span><span class="op" id="3509878">[</span><span class="num" id="3509879">0</span><span class="op" id="3509880">:</span><span class="num" id="3509881">16</span><span class="op" id="3509883">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3509886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3509889">return</span>&nbsp;<span class="string" id="3509896">&#34;&#34;</span>&nbsp;<span class="comment" id="3509899">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="3509917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="3509920">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="3509955">func</span>&nbsp;<span class="ident" id="3509960">writeMultiple</span><span class="op" id="3509973">(</span><span class="ident" id="3509974">s</span>&nbsp;<span class="ident" id="3509976">fmt</span><span class="op" id="3509979">.</span><span class="ident" id="3509980">State</span><span class="op" id="3509985">,</span>&nbsp;<span class="ident" id="3509987">text</span>&nbsp;<span class="builtintype" id="3509992">string</span><span class="op" id="3509998">,</span>&nbsp;<span class="ident" id="3510000">count</span>&nbsp;<span class="builtintype" id="3510006">int</span><span class="op" id="3510009">)</span>&nbsp;<span class="op" id="3510011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3510014">if</span>&nbsp;<span class="builtinfunc" id="3510017">len</span><span class="op" id="3510020">(</span><span class="ident" id="3510021">text</span><span class="op" id="3510025">)</span>&nbsp;<span class="op" id="3510027">&gt;</span>&nbsp;<span class="num" id="3510029">0</span>&nbsp;<span class="op" id="3510031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3510035">b</span>&nbsp;<span class="op" id="3510037">:=</span>&nbsp;<span class="op" id="3510040">[</span><span class="op" id="3510041">]</span><span class="builtintype" id="3510042">byte</span><span class="op" id="3510046">(</span><span class="ident" id="3510047">text</span><span class="op" id="3510051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3510055">for</span>&nbsp;<span class="op" id="3510059">;</span>&nbsp;<span class="ident" id="3510061">count</span>&nbsp;<span class="op" id="3510067">&gt;</span>&nbsp;<span class="num" id="3510069">0</span><span class="op" id="3510070">;</span>&nbsp;<span class="ident" id="3510072">count</span><span class="op" id="3510077">--</span>&nbsp;<span class="op" id="3510080">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3510085">s</span><span class="op" id="3510086">.</span><span class="ident" id="3510087">Write</span><span class="op" id="3510092">(</span><span class="ident" id="3510093">b</span><span class="op" id="3510094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3510098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3510101">}</span><br>
<span class="lineno"></span><span class="op" id="3510103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="3510106">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="3510167">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="3510228">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="3510289">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="3510350">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="3510407">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="3510466">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3510525">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="3510585">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3510643">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="3510667">//</span><br>
<span class="lineno"></span><span class="keyword" id="3510670">func</span>&nbsp;<span class="op" id="3510675">(</span><span class="ident" id="3510676">x</span>&nbsp;<span class="op" id="3510678">*</span><span class="ident" id="3510679">Int</span><span class="op" id="3510682">)</span>&nbsp;<span class="ident" id="3510684">Format</span><span class="op" id="3510690">(</span><span class="ident" id="3510691">s</span>&nbsp;<span class="ident" id="3510693">fmt</span><span class="op" id="3510696">.</span><span class="ident" id="3510697">State</span><span class="op" id="3510702">,</span>&nbsp;<span class="ident" id="3510704">ch</span>&nbsp;<span class="builtintype" id="3510707">rune</span><span class="op" id="3510711">)</span>&nbsp;<span class="op" id="3510713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3510716">cs</span>&nbsp;<span class="op" id="3510719">:=</span>&nbsp;<span class="ident" id="3510722">charset</span><span class="op" id="3510729">(</span><span class="ident" id="3510730">ch</span><span class="op" id="3510732">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3510736">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3510754">switch</span>&nbsp;<span class="op" id="3510761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3510764">case</span>&nbsp;<span class="ident" id="3510769">cs</span>&nbsp;<span class="op" id="3510772">==</span>&nbsp;<span class="string" id="3510775">&#34;&#34;</span><span class="op" id="3510777">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3510781">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3510801">fmt</span><span class="op" id="3510804">.</span><span class="ident" id="3510805">Fprintf</span><span class="op" id="3510812">(</span><span class="ident" id="3510813">s</span><span class="op" id="3510814">,</span>&nbsp;<span class="string" id="3510816">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="3510835">,</span>&nbsp;<span class="ident" id="3510837">ch</span><span class="op" id="3510839">,</span>&nbsp;<span class="ident" id="3510841">x</span><span class="op" id="3510842">.</span><span class="ident" id="3510843">String</span><span class="op" id="3510849">(</span><span class="op" id="3510850">)</span><span class="op" id="3510851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3510855">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3510863">case</span>&nbsp;<span class="ident" id="3510868">x</span>&nbsp;<span class="op" id="3510870">==</span>&nbsp;<span class="ident" id="3510873">nil</span><span class="op" id="3510876">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3510880">fmt</span><span class="op" id="3510883">.</span><span class="ident" id="3510884">Fprint</span><span class="op" id="3510890">(</span><span class="ident" id="3510891">s</span><span class="op" id="3510892">,</span>&nbsp;<span class="string" id="3510894">&#34;&lt;nil&gt;&#34;</span><span class="op" id="3510901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3510905">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3510913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3510917">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3510946">sign</span>&nbsp;<span class="op" id="3510951">:=</span>&nbsp;<span class="string" id="3510954">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3510958">switch</span>&nbsp;<span class="op" id="3510965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3510968">case</span>&nbsp;<span class="ident" id="3510973">x</span><span class="op" id="3510974">.</span><span class="ident" id="3510975">neg</span><span class="op" id="3510978">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3510982">sign</span>&nbsp;<span class="op" id="3510987">=</span>&nbsp;<span class="string" id="3510989">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3510994">case</span>&nbsp;<span class="ident" id="3510999">s</span><span class="op" id="3511000">.</span><span class="ident" id="3511001">Flag</span><span class="op" id="3511005">(</span><span class="string" id="3511006">&#39;+&#39;</span><span class="op" id="3511009">)</span><span class="op" id="3511010">:</span>&nbsp;<span class="comment" id="3511012">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3511052">sign</span>&nbsp;<span class="op" id="3511057">=</span>&nbsp;<span class="string" id="3511059">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511064">case</span>&nbsp;<span class="ident" id="3511069">s</span><span class="op" id="3511070">.</span><span class="ident" id="3511071">Flag</span><span class="op" id="3511075">(</span><span class="string" id="3511076">&#39;&nbsp;&#39;</span><span class="op" id="3511079">)</span><span class="op" id="3511080">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3511084">sign</span>&nbsp;<span class="op" id="3511089">=</span>&nbsp;<span class="string" id="3511091">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3511096">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3511100">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3511159">prefix</span>&nbsp;<span class="op" id="3511166">:=</span>&nbsp;<span class="string" id="3511169">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511173">if</span>&nbsp;<span class="ident" id="3511176">s</span><span class="op" id="3511177">.</span><span class="ident" id="3511178">Flag</span><span class="op" id="3511182">(</span><span class="string" id="3511183">&#39;#&#39;</span><span class="op" id="3511186">)</span>&nbsp;<span class="op" id="3511188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511192">switch</span>&nbsp;<span class="ident" id="3511199">ch</span>&nbsp;<span class="op" id="3511202">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511206">case</span>&nbsp;<span class="string" id="3511211">&#39;o&#39;</span><span class="op" id="3511214">:</span>&nbsp;<span class="comment" id="3511216">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3511228">prefix</span>&nbsp;<span class="op" id="3511235">=</span>&nbsp;<span class="string" id="3511237">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511243">case</span>&nbsp;<span class="string" id="3511248">&#39;x&#39;</span><span class="op" id="3511251">:</span>&nbsp;<span class="comment" id="3511253">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3511271">prefix</span>&nbsp;<span class="op" id="3511278">=</span>&nbsp;<span class="string" id="3511280">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511287">case</span>&nbsp;<span class="string" id="3511292">&#39;X&#39;</span><span class="op" id="3511295">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3511300">prefix</span>&nbsp;<span class="op" id="3511307">=</span>&nbsp;<span class="string" id="3511309">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3511316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3511319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3511323">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3511398">digits</span>&nbsp;<span class="op" id="3511405">:=</span>&nbsp;<span class="ident" id="3511408">x</span><span class="op" id="3511409">.</span><span class="ident" id="3511410">abs</span><span class="op" id="3511413">.</span><span class="builtintype" id="3511414">string</span><span class="op" id="3511420">(</span><span class="ident" id="3511421">cs</span><span class="op" id="3511423">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3511427">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511492">var</span>&nbsp;<span class="ident" id="3511496">left</span>&nbsp;<span class="builtintype" id="3511501">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3511507">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511578">var</span>&nbsp;<span class="ident" id="3511582">zeroes</span>&nbsp;<span class="builtintype" id="3511589">int</span>&nbsp;<span class="comment" id="3511593">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511659">var</span>&nbsp;<span class="ident" id="3511663">right</span>&nbsp;<span class="builtintype" id="3511669">int</span>&nbsp;&nbsp;<span class="comment" id="3511674">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3511747">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3511829">precision</span><span class="op" id="3511838">,</span>&nbsp;<span class="ident" id="3511840">precisionSet</span>&nbsp;<span class="op" id="3511853">:=</span>&nbsp;<span class="ident" id="3511856">s</span><span class="op" id="3511857">.</span><span class="ident" id="3511858">Precision</span><span class="op" id="3511867">(</span><span class="op" id="3511868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511871">if</span>&nbsp;<span class="ident" id="3511874">precisionSet</span>&nbsp;<span class="op" id="3511887">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511891">switch</span>&nbsp;<span class="op" id="3511898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511902">case</span>&nbsp;<span class="builtinfunc" id="3511907">len</span><span class="op" id="3511910">(</span><span class="ident" id="3511911">digits</span><span class="op" id="3511917">)</span>&nbsp;<span class="op" id="3511919">&lt;</span>&nbsp;<span class="ident" id="3511921">precision</span><span class="op" id="3511930">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3511935">zeroes</span>&nbsp;<span class="op" id="3511942">=</span>&nbsp;<span class="ident" id="3511944">precision</span>&nbsp;<span class="op" id="3511954">-</span>&nbsp;<span class="builtinfunc" id="3511956">len</span><span class="op" id="3511959">(</span><span class="ident" id="3511960">digits</span><span class="op" id="3511966">)</span>&nbsp;<span class="comment" id="3511968">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3511995">case</span>&nbsp;<span class="ident" id="3512000">digits</span>&nbsp;<span class="op" id="3512007">==</span>&nbsp;<span class="string" id="3512010">&#34;0&#34;</span>&nbsp;<span class="op" id="3512014">&amp;&amp;</span>&nbsp;<span class="ident" id="3512017">precision</span>&nbsp;<span class="op" id="3512027">==</span>&nbsp;<span class="num" id="3512030">0</span><span class="op" id="3512031">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3512036">return</span>&nbsp;<span class="comment" id="3512043">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3512118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3512121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3512125">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3512202">length</span>&nbsp;<span class="op" id="3512209">:=</span>&nbsp;<span class="builtinfunc" id="3512212">len</span><span class="op" id="3512215">(</span><span class="ident" id="3512216">sign</span><span class="op" id="3512220">)</span>&nbsp;<span class="op" id="3512222">+</span>&nbsp;<span class="builtinfunc" id="3512224">len</span><span class="op" id="3512227">(</span><span class="ident" id="3512228">prefix</span><span class="op" id="3512234">)</span>&nbsp;<span class="op" id="3512236">+</span>&nbsp;<span class="ident" id="3512238">zeroes</span>&nbsp;<span class="op" id="3512245">+</span>&nbsp;<span class="builtinfunc" id="3512247">len</span><span class="op" id="3512250">(</span><span class="ident" id="3512251">digits</span><span class="op" id="3512257">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3512260">if</span>&nbsp;<span class="ident" id="3512263">width</span><span class="op" id="3512268">,</span>&nbsp;<span class="ident" id="3512270">widthSet</span>&nbsp;<span class="op" id="3512279">:=</span>&nbsp;<span class="ident" id="3512282">s</span><span class="op" id="3512283">.</span><span class="ident" id="3512284">Width</span><span class="op" id="3512289">(</span><span class="op" id="3512290">)</span><span class="op" id="3512291">;</span>&nbsp;<span class="ident" id="3512293">widthSet</span>&nbsp;<span class="op" id="3512302">&amp;&amp;</span>&nbsp;<span class="ident" id="3512305">length</span>&nbsp;<span class="op" id="3512312">&lt;</span>&nbsp;<span class="ident" id="3512314">width</span>&nbsp;<span class="op" id="3512320">{</span>&nbsp;<span class="comment" id="3512322">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3512344">switch</span>&nbsp;<span class="ident" id="3512351">d</span>&nbsp;<span class="op" id="3512353">:=</span>&nbsp;<span class="ident" id="3512356">width</span>&nbsp;<span class="op" id="3512362">-</span>&nbsp;<span class="ident" id="3512364">length</span><span class="op" id="3512370">;</span>&nbsp;<span class="op" id="3512372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3512376">case</span>&nbsp;<span class="ident" id="3512381">s</span><span class="op" id="3512382">.</span><span class="ident" id="3512383">Flag</span><span class="op" id="3512387">(</span><span class="string" id="3512388">&#39;-&#39;</span><span class="op" id="3512391">)</span><span class="op" id="3512392">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3512397">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3512468">right</span>&nbsp;<span class="op" id="3512474">=</span>&nbsp;<span class="ident" id="3512476">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3512480">case</span>&nbsp;<span class="ident" id="3512485">s</span><span class="op" id="3512486">.</span><span class="ident" id="3512487">Flag</span><span class="op" id="3512491">(</span><span class="string" id="3512492">&#39;0&#39;</span><span class="op" id="3512495">)</span>&nbsp;<span class="op" id="3512497">&amp;&amp;</span>&nbsp;<span class="op" id="3512500">!</span><span class="ident" id="3512501">precisionSet</span><span class="op" id="3512513">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3512518">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3512572">zeroes</span>&nbsp;<span class="op" id="3512579">=</span>&nbsp;<span class="ident" id="3512581">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3512585">default</span><span class="op" id="3512592">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3512597">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3512631">left</span>&nbsp;<span class="op" id="3512636">=</span>&nbsp;<span class="ident" id="3512638">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3512642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3512645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3512649">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3512723">writeMultiple</span><span class="op" id="3512736">(</span><span class="ident" id="3512737">s</span><span class="op" id="3512738">,</span>&nbsp;<span class="string" id="3512740">&#34;&nbsp;&#34;</span><span class="op" id="3512743">,</span>&nbsp;<span class="ident" id="3512745">left</span><span class="op" id="3512749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3512752">writeMultiple</span><span class="op" id="3512765">(</span><span class="ident" id="3512766">s</span><span class="op" id="3512767">,</span>&nbsp;<span class="ident" id="3512769">sign</span><span class="op" id="3512773">,</span>&nbsp;<span class="num" id="3512775">1</span><span class="op" id="3512776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3512779">writeMultiple</span><span class="op" id="3512792">(</span><span class="ident" id="3512793">s</span><span class="op" id="3512794">,</span>&nbsp;<span class="ident" id="3512796">prefix</span><span class="op" id="3512802">,</span>&nbsp;<span class="num" id="3512804">1</span><span class="op" id="3512805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3512808">writeMultiple</span><span class="op" id="3512821">(</span><span class="ident" id="3512822">s</span><span class="op" id="3512823">,</span>&nbsp;<span class="string" id="3512825">&#34;0&#34;</span><span class="op" id="3512828">,</span>&nbsp;<span class="ident" id="3512830">zeroes</span><span class="op" id="3512836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3512839">writeMultiple</span><span class="op" id="3512852">(</span><span class="ident" id="3512853">s</span><span class="op" id="3512854">,</span>&nbsp;<span class="ident" id="3512856">digits</span><span class="op" id="3512862">,</span>&nbsp;<span class="num" id="3512864">1</span><span class="op" id="3512865">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3512868">writeMultiple</span><span class="op" id="3512881">(</span><span class="ident" id="3512882">s</span><span class="op" id="3512883">,</span>&nbsp;<span class="string" id="3512885">&#34;&nbsp;&#34;</span><span class="op" id="3512888">,</span>&nbsp;<span class="ident" id="3512890">right</span><span class="op" id="3512895">)</span><br>
<span class="lineno"></span><span class="op" id="3512897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3512900">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="3512981">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="3513061">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3513140">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3513218">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="3513274">//</span><br>
<span class="lineno"></span><span class="comment" id="3513277">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="3513355">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3513433">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3513509">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3513587">//</span><br>
<span class="lineno"></span><span class="keyword" id="3513590">func</span>&nbsp;<span class="op" id="3513595">(</span><span class="ident" id="3513596">z</span>&nbsp;<span class="op" id="3513598">*</span><span class="ident" id="3513599">Int</span><span class="op" id="3513602">)</span>&nbsp;<span class="ident" id="3513604">scan</span><span class="op" id="3513608">(</span><span class="ident" id="3513609">r</span>&nbsp;<span class="ident" id="3513611">io</span><span class="op" id="3513613">.</span><span class="ident" id="3513614">RuneScanner</span><span class="op" id="3513625">,</span>&nbsp;<span class="ident" id="3513627">base</span>&nbsp;<span class="builtintype" id="3513632">int</span><span class="op" id="3513635">)</span>&nbsp;<span class="op" id="3513637">(</span><span class="op" id="3513638">*</span><span class="ident" id="3513639">Int</span><span class="op" id="3513642">,</span>&nbsp;<span class="builtintype" id="3513644">int</span><span class="op" id="3513647">,</span>&nbsp;<span class="builtintype" id="3513649">error</span><span class="op" id="3513654">)</span>&nbsp;<span class="op" id="3513656">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3513659">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3513678">ch</span><span class="op" id="3513680">,</span>&nbsp;<span class="ident" id="3513682">_</span><span class="op" id="3513683">,</span>&nbsp;<span class="ident" id="3513685">err</span>&nbsp;<span class="op" id="3513689">:=</span>&nbsp;<span class="ident" id="3513692">r</span><span class="op" id="3513693">.</span><span class="ident" id="3513694">ReadRune</span><span class="op" id="3513702">(</span><span class="op" id="3513703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3513706">if</span>&nbsp;<span class="ident" id="3513709">err</span>&nbsp;<span class="op" id="3513713">!=</span>&nbsp;<span class="ident" id="3513716">nil</span>&nbsp;<span class="op" id="3513720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3513724">return</span>&nbsp;<span class="ident" id="3513731">nil</span><span class="op" id="3513734">,</span>&nbsp;<span class="num" id="3513736">0</span><span class="op" id="3513737">,</span>&nbsp;<span class="ident" id="3513739">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3513744">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3513747">neg</span>&nbsp;<span class="op" id="3513751">:=</span>&nbsp;<span class="builtintype" id="3513754">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3513761">switch</span>&nbsp;<span class="ident" id="3513768">ch</span>&nbsp;<span class="op" id="3513771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3513774">case</span>&nbsp;<span class="string" id="3513779">&#39;-&#39;</span><span class="op" id="3513782">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3513786">neg</span>&nbsp;<span class="op" id="3513790">=</span>&nbsp;<span class="builtintype" id="3513792">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3513798">case</span>&nbsp;<span class="string" id="3513803">&#39;+&#39;</span><span class="op" id="3513806">:</span>&nbsp;<span class="comment" id="3513808">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3513826">default</span><span class="op" id="3513833">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3513837">r</span><span class="op" id="3513838">.</span><span class="ident" id="3513839">UnreadRune</span><span class="op" id="3513849">(</span><span class="op" id="3513850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3513853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3513857">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3513880">z</span><span class="op" id="3513881">.</span><span class="ident" id="3513882">abs</span><span class="op" id="3513885">,</span>&nbsp;<span class="ident" id="3513887">base</span><span class="op" id="3513891">,</span>&nbsp;<span class="ident" id="3513893">err</span>&nbsp;<span class="op" id="3513897">=</span>&nbsp;<span class="ident" id="3513899">z</span><span class="op" id="3513900">.</span><span class="ident" id="3513901">abs</span><span class="op" id="3513904">.</span><span class="ident" id="3513905">scan</span><span class="op" id="3513909">(</span><span class="ident" id="3513910">r</span><span class="op" id="3513911">,</span>&nbsp;<span class="ident" id="3513913">base</span><span class="op" id="3513917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3513920">if</span>&nbsp;<span class="ident" id="3513923">err</span>&nbsp;<span class="op" id="3513927">!=</span>&nbsp;<span class="ident" id="3513930">nil</span>&nbsp;<span class="op" id="3513934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3513938">return</span>&nbsp;<span class="ident" id="3513945">nil</span><span class="op" id="3513948">,</span>&nbsp;<span class="ident" id="3513950">base</span><span class="op" id="3513954">,</span>&nbsp;<span class="ident" id="3513956">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3513961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3513964">z</span><span class="op" id="3513965">.</span><span class="ident" id="3513966">neg</span>&nbsp;<span class="op" id="3513970">=</span>&nbsp;<span class="builtinfunc" id="3513972">len</span><span class="op" id="3513975">(</span><span class="ident" id="3513976">z</span><span class="op" id="3513977">.</span><span class="ident" id="3513978">abs</span><span class="op" id="3513981">)</span>&nbsp;<span class="op" id="3513983">&gt;</span>&nbsp;<span class="num" id="3513985">0</span>&nbsp;<span class="op" id="3513987">&amp;&amp;</span>&nbsp;<span class="ident" id="3513990">neg</span>&nbsp;<span class="comment" id="3513994">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514013">return</span>&nbsp;<span class="ident" id="3514020">z</span><span class="op" id="3514021">,</span>&nbsp;<span class="ident" id="3514023">base</span><span class="op" id="3514027">,</span>&nbsp;<span class="ident" id="3514029">nil</span><br>
<span class="lineno"></span><span class="op" id="3514033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3514036">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="3514108">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="3514181">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="3514261">func</span>&nbsp;<span class="op" id="3514266">(</span><span class="ident" id="3514267">z</span>&nbsp;<span class="op" id="3514269">*</span><span class="ident" id="3514270">Int</span><span class="op" id="3514273">)</span>&nbsp;<span class="ident" id="3514275">Scan</span><span class="op" id="3514279">(</span><span class="ident" id="3514280">s</span>&nbsp;<span class="ident" id="3514282">fmt</span><span class="op" id="3514285">.</span><span class="ident" id="3514286">ScanState</span><span class="op" id="3514295">,</span>&nbsp;<span class="ident" id="3514297">ch</span>&nbsp;<span class="builtintype" id="3514300">rune</span><span class="op" id="3514304">)</span>&nbsp;<span class="builtintype" id="3514306">error</span>&nbsp;<span class="op" id="3514312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3514315">s</span><span class="op" id="3514316">.</span><span class="ident" id="3514317">SkipSpace</span><span class="op" id="3514326">(</span><span class="op" id="3514327">)</span>&nbsp;<span class="comment" id="3514329">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3514363">base</span>&nbsp;<span class="op" id="3514368">:=</span>&nbsp;<span class="num" id="3514371">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514374">switch</span>&nbsp;<span class="ident" id="3514381">ch</span>&nbsp;<span class="op" id="3514384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514387">case</span>&nbsp;<span class="string" id="3514392">&#39;b&#39;</span><span class="op" id="3514395">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3514399">base</span>&nbsp;<span class="op" id="3514404">=</span>&nbsp;<span class="num" id="3514406">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514409">case</span>&nbsp;<span class="string" id="3514414">&#39;o&#39;</span><span class="op" id="3514417">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3514421">base</span>&nbsp;<span class="op" id="3514426">=</span>&nbsp;<span class="num" id="3514428">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514431">case</span>&nbsp;<span class="string" id="3514436">&#39;d&#39;</span><span class="op" id="3514439">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3514443">base</span>&nbsp;<span class="op" id="3514448">=</span>&nbsp;<span class="num" id="3514450">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514454">case</span>&nbsp;<span class="string" id="3514459">&#39;x&#39;</span><span class="op" id="3514462">,</span>&nbsp;<span class="string" id="3514464">&#39;X&#39;</span><span class="op" id="3514467">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3514471">base</span>&nbsp;<span class="op" id="3514476">=</span>&nbsp;<span class="num" id="3514478">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514482">case</span>&nbsp;<span class="string" id="3514487">&#39;s&#39;</span><span class="op" id="3514490">,</span>&nbsp;<span class="string" id="3514492">&#39;v&#39;</span><span class="op" id="3514495">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3514499">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514531">default</span><span class="op" id="3514538">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514542">return</span>&nbsp;<span class="ident" id="3514549">errors</span><span class="op" id="3514555">.</span><span class="ident" id="3514556">New</span><span class="op" id="3514559">(</span><span class="string" id="3514560">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="3514584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3514587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3514590">_</span><span class="op" id="3514591">,</span>&nbsp;<span class="ident" id="3514593">_</span><span class="op" id="3514594">,</span>&nbsp;<span class="ident" id="3514596">err</span>&nbsp;<span class="op" id="3514600">:=</span>&nbsp;<span class="ident" id="3514603">z</span><span class="op" id="3514604">.</span><span class="ident" id="3514605">scan</span><span class="op" id="3514609">(</span><span class="ident" id="3514610">s</span><span class="op" id="3514611">,</span>&nbsp;<span class="ident" id="3514613">base</span><span class="op" id="3514617">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514620">return</span>&nbsp;<span class="ident" id="3514627">err</span><br>
<span class="lineno"></span><span class="op" id="3514631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3514634">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3514687">func</span>&nbsp;<span class="ident" id="3514692">low32</span><span class="op" id="3514697">(</span><span class="ident" id="3514698">z</span>&nbsp;<span class="ident" id="3514700">nat</span><span class="op" id="3514703">)</span>&nbsp;<span class="builtintype" id="3514705">uint32</span>&nbsp;<span class="op" id="3514712">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514715">if</span>&nbsp;<span class="builtinfunc" id="3514718">len</span><span class="op" id="3514721">(</span><span class="ident" id="3514722">z</span><span class="op" id="3514723">)</span>&nbsp;<span class="op" id="3514725">==</span>&nbsp;<span class="num" id="3514728">0</span>&nbsp;<span class="op" id="3514730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514734">return</span>&nbsp;<span class="num" id="3514741">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3514744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514747">return</span>&nbsp;<span class="builtintype" id="3514754">uint32</span><span class="op" id="3514760">(</span><span class="ident" id="3514761">z</span><span class="op" id="3514762">[</span><span class="num" id="3514763">0</span><span class="op" id="3514764">]</span><span class="op" id="3514765">)</span><br>
<span class="lineno"></span><span class="op" id="3514767">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="3514770">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3514823">func</span>&nbsp;<span class="ident" id="3514828">low64</span><span class="op" id="3514833">(</span><span class="ident" id="3514834">z</span>&nbsp;<span class="ident" id="3514836">nat</span><span class="op" id="3514839">)</span>&nbsp;<span class="ident" id="3514841">uint64</span>&nbsp;<span class="op" id="3514848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514851">if</span>&nbsp;<span class="builtinfunc" id="3514854">len</span><span class="op" id="3514857">(</span><span class="ident" id="3514858">z</span><span class="op" id="3514859">)</span>&nbsp;<span class="op" id="3514861">==</span>&nbsp;<span class="num" id="3514864">0</span>&nbsp;<span class="op" id="3514866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514870">return</span>&nbsp;<span class="num" id="3514877">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3514880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3514883">v</span>&nbsp;<span class="op" id="3514885">:=</span>&nbsp;<span class="ident" id="3514888">uint64</span><span class="op" id="3514894">(</span><span class="ident" id="3514895">z</span><span class="op" id="3514896">[</span><span class="num" id="3514897">0</span><span class="op" id="3514898">]</span><span class="op" id="3514899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514902">if</span>&nbsp;<span class="ident" id="3514905">_W</span>&nbsp;<span class="op" id="3514908">==</span>&nbsp;<span class="num" id="3514911">32</span>&nbsp;<span class="op" id="3514914">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3514917">len</span><span class="op" id="3514920">(</span><span class="ident" id="3514921">z</span><span class="op" id="3514922">)</span>&nbsp;<span class="op" id="3514924">&gt;</span>&nbsp;<span class="num" id="3514926">1</span>&nbsp;<span class="op" id="3514928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3514932">v</span>&nbsp;<span class="op" id="3514934">|=</span>&nbsp;<span class="ident" id="3514937">uint64</span><span class="op" id="3514943">(</span><span class="ident" id="3514944">z</span><span class="op" id="3514945">[</span><span class="num" id="3514946">1</span><span class="op" id="3514947">]</span><span class="op" id="3514948">)</span>&nbsp;<span class="op" id="3514950">&lt;&lt;</span>&nbsp;<span class="num" id="3514953">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3514957">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3514960">return</span>&nbsp;<span class="ident" id="3514967">v</span><br>
<span class="lineno"></span><span class="op" id="3514969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3514972">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3515020">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="3515088">func</span>&nbsp;<span class="op" id="3515093">(</span><span class="ident" id="3515094">x</span>&nbsp;<span class="op" id="3515096">*</span><span class="ident" id="3515097">Int</span><span class="op" id="3515100">)</span>&nbsp;<span class="ident" id="3515102">Int64</span><span class="op" id="3515107">(</span><span class="op" id="3515108">)</span>&nbsp;<span class="ident" id="3515110">int64</span>&nbsp;<span class="op" id="3515116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3515119">v</span>&nbsp;<span class="op" id="3515121">:=</span>&nbsp;<span class="ident" id="3515124">int64</span><span class="op" id="3515129">(</span><span class="ident" id="3515130">low64</span><span class="op" id="3515135">(</span><span class="ident" id="3515136">x</span><span class="op" id="3515137">.</span><span class="ident" id="3515138">abs</span><span class="op" id="3515141">)</span><span class="op" id="3515142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3515145">if</span>&nbsp;<span class="ident" id="3515148">x</span><span class="op" id="3515149">.</span><span class="ident" id="3515150">neg</span>&nbsp;<span class="op" id="3515154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3515158">v</span>&nbsp;<span class="op" id="3515160">=</span>&nbsp;<span class="op" id="3515162">-</span><span class="ident" id="3515163">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3515166">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3515169">return</span>&nbsp;<span class="ident" id="3515176">v</span><br>
<span class="lineno"></span><span class="op" id="3515178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3515181">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3515231">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="3515299">func</span>&nbsp;<span class="op" id="3515304">(</span><span class="ident" id="3515305">x</span>&nbsp;<span class="op" id="3515307">*</span><span class="ident" id="3515308">Int</span><span class="op" id="3515311">)</span>&nbsp;<span class="ident" id="3515313">Uint64</span><span class="op" id="3515319">(</span><span class="op" id="3515320">)</span>&nbsp;<span class="ident" id="3515322">uint64</span>&nbsp;<span class="op" id="3515329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3515332">return</span>&nbsp;<span class="ident" id="3515339">low64</span><span class="op" id="3515344">(</span><span class="ident" id="3515345">x</span><span class="op" id="3515346">.</span><span class="ident" id="3515347">abs</span><span class="op" id="3515350">)</span><br>
<span class="lineno"></span><span class="op" id="3515352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3515355">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="3515425">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="3515496">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="3515558">//</span><br>
<span class="lineno"></span><span class="comment" id="3515561">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="3515639">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="3515717">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3515793">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3515871">//</span><br>
<span class="lineno"></span><span class="keyword" id="3515874">func</span>&nbsp;<span class="op" id="3515879">(</span><span class="ident" id="3515880">z</span>&nbsp;<span class="op" id="3515882">*</span><span class="ident" id="3515883">Int</span><span class="op" id="3515886">)</span>&nbsp;<span class="ident" id="3515888">SetString</span><span class="op" id="3515897">(</span><span class="ident" id="3515898">s</span>&nbsp;<span class="builtintype" id="3515900">string</span><span class="op" id="3515906">,</span>&nbsp;<span class="ident" id="3515908">base</span>&nbsp;<span class="builtintype" id="3515913">int</span><span class="op" id="3515916">)</span>&nbsp;<span class="op" id="3515918">(</span><span class="op" id="3515919">*</span><span class="ident" id="3515920">Int</span><span class="op" id="3515923">,</span>&nbsp;<span class="builtintype" id="3515925">bool</span><span class="op" id="3515929">)</span>&nbsp;<span class="op" id="3515931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3515934">r</span>&nbsp;<span class="op" id="3515936">:=</span>&nbsp;<span class="ident" id="3515939">strings</span><span class="op" id="3515946">.</span><span class="ident" id="3515947">NewReader</span><span class="op" id="3515956">(</span><span class="ident" id="3515957">s</span><span class="op" id="3515958">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3515961">_</span><span class="op" id="3515962">,</span>&nbsp;<span class="ident" id="3515964">_</span><span class="op" id="3515965">,</span>&nbsp;<span class="ident" id="3515967">err</span>&nbsp;<span class="op" id="3515971">:=</span>&nbsp;<span class="ident" id="3515974">z</span><span class="op" id="3515975">.</span><span class="ident" id="3515976">scan</span><span class="op" id="3515980">(</span><span class="ident" id="3515981">r</span><span class="op" id="3515982">,</span>&nbsp;<span class="ident" id="3515984">base</span><span class="op" id="3515988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3515991">if</span>&nbsp;<span class="ident" id="3515994">err</span>&nbsp;<span class="op" id="3515998">!=</span>&nbsp;<span class="ident" id="3516001">nil</span>&nbsp;<span class="op" id="3516005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516009">return</span>&nbsp;<span class="ident" id="3516016">nil</span><span class="op" id="3516019">,</span>&nbsp;<span class="builtintype" id="3516021">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3516028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516031">_</span><span class="op" id="3516032">,</span>&nbsp;<span class="ident" id="3516034">_</span><span class="op" id="3516035">,</span>&nbsp;<span class="ident" id="3516037">err</span>&nbsp;<span class="op" id="3516041">=</span>&nbsp;<span class="ident" id="3516043">r</span><span class="op" id="3516044">.</span><span class="ident" id="3516045">ReadRune</span><span class="op" id="3516053">(</span><span class="op" id="3516054">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516057">if</span>&nbsp;<span class="ident" id="3516060">err</span>&nbsp;<span class="op" id="3516064">!=</span>&nbsp;<span class="ident" id="3516067">io</span><span class="op" id="3516069">.</span><span class="ident" id="3516070">EOF</span>&nbsp;<span class="op" id="3516074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516078">return</span>&nbsp;<span class="ident" id="3516085">nil</span><span class="op" id="3516088">,</span>&nbsp;<span class="builtintype" id="3516090">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3516097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516100">return</span>&nbsp;<span class="ident" id="3516107">z</span><span class="op" id="3516108">,</span>&nbsp;<span class="builtintype" id="3516110">true</span>&nbsp;<span class="comment" id="3516115">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="3516158">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="3516161">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="3516226">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3516275">func</span>&nbsp;<span class="op" id="3516280">(</span><span class="ident" id="3516281">z</span>&nbsp;<span class="op" id="3516283">*</span><span class="ident" id="3516284">Int</span><span class="op" id="3516287">)</span>&nbsp;<span class="ident" id="3516289">SetBytes</span><span class="op" id="3516297">(</span><span class="ident" id="3516298">buf</span>&nbsp;<span class="op" id="3516302">[</span><span class="op" id="3516303">]</span><span class="builtintype" id="3516304">byte</span><span class="op" id="3516308">)</span>&nbsp;<span class="op" id="3516310">*</span><span class="ident" id="3516311">Int</span>&nbsp;<span class="op" id="3516315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516318">z</span><span class="op" id="3516319">.</span><span class="ident" id="3516320">abs</span>&nbsp;<span class="op" id="3516324">=</span>&nbsp;<span class="ident" id="3516326">z</span><span class="op" id="3516327">.</span><span class="ident" id="3516328">abs</span><span class="op" id="3516331">.</span><span class="ident" id="3516332">setBytes</span><span class="op" id="3516340">(</span><span class="ident" id="3516341">buf</span><span class="op" id="3516344">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516347">z</span><span class="op" id="3516348">.</span><span class="ident" id="3516349">neg</span>&nbsp;<span class="op" id="3516353">=</span>&nbsp;<span class="builtintype" id="3516355">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516362">return</span>&nbsp;<span class="ident" id="3516369">z</span><br>
<span class="lineno"></span><span class="op" id="3516371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3516374">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="3516443">func</span>&nbsp;<span class="op" id="3516448">(</span><span class="ident" id="3516449">x</span>&nbsp;<span class="op" id="3516451">*</span><span class="ident" id="3516452">Int</span><span class="op" id="3516455">)</span>&nbsp;<span class="ident" id="3516457">Bytes</span><span class="op" id="3516462">(</span><span class="op" id="3516463">)</span>&nbsp;<span class="op" id="3516465">[</span><span class="op" id="3516466">]</span><span class="builtintype" id="3516467">byte</span>&nbsp;<span class="op" id="3516472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516475">buf</span>&nbsp;<span class="op" id="3516479">:=</span>&nbsp;<span class="builtinfunc" id="3516482">make</span><span class="op" id="3516486">(</span><span class="op" id="3516487">[</span><span class="op" id="3516488">]</span><span class="builtintype" id="3516489">byte</span><span class="op" id="3516493">,</span>&nbsp;<span class="builtinfunc" id="3516495">len</span><span class="op" id="3516498">(</span><span class="ident" id="3516499">x</span><span class="op" id="3516500">.</span><span class="ident" id="3516501">abs</span><span class="op" id="3516504">)</span><span class="op" id="3516505">*</span><span class="ident" id="3516506">_S</span><span class="op" id="3516508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516511">return</span>&nbsp;<span class="ident" id="3516518">buf</span><span class="op" id="3516521">[</span><span class="ident" id="3516522">x</span><span class="op" id="3516523">.</span><span class="ident" id="3516524">abs</span><span class="op" id="3516527">.</span><span class="ident" id="3516528">bytes</span><span class="op" id="3516533">(</span><span class="ident" id="3516534">buf</span><span class="op" id="3516537">)</span><span class="op" id="3516538">:</span><span class="op" id="3516539">]</span><br>
<span class="lineno"></span><span class="op" id="3516541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="3516544">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="3516609">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3516638">func</span>&nbsp;<span class="op" id="3516643">(</span><span class="ident" id="3516644">x</span>&nbsp;<span class="op" id="3516646">*</span><span class="ident" id="3516647">Int</span><span class="op" id="3516650">)</span>&nbsp;<span class="ident" id="3516652">BitLen</span><span class="op" id="3516658">(</span><span class="op" id="3516659">)</span>&nbsp;<span class="builtintype" id="3516661">int</span>&nbsp;<span class="op" id="3516665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516668">return</span>&nbsp;<span class="ident" id="3516675">x</span><span class="op" id="3516676">.</span><span class="ident" id="3516677">abs</span><span class="op" id="3516680">.</span><span class="ident" id="3516681">bitLen</span><span class="op" id="3516687">(</span><span class="op" id="3516688">)</span><br>
<span class="lineno"></span><span class="op" id="3516690">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="3516693">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3516770">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="3516842">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="3516881">func</span>&nbsp;<span class="op" id="3516886">(</span><span class="ident" id="3516887">z</span>&nbsp;<span class="op" id="3516889">*</span><span class="ident" id="3516890">Int</span><span class="op" id="3516893">)</span>&nbsp;<span class="ident" id="3516895">Exp</span><span class="op" id="3516898">(</span><span class="ident" id="3516899">x</span><span class="op" id="3516900">,</span>&nbsp;<span class="ident" id="3516902">y</span><span class="op" id="3516903">,</span>&nbsp;<span class="ident" id="3516905">m</span>&nbsp;<span class="op" id="3516907">*</span><span class="ident" id="3516908">Int</span><span class="op" id="3516911">)</span>&nbsp;<span class="op" id="3516913">*</span><span class="ident" id="3516914">Int</span>&nbsp;<span class="op" id="3516918">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516921">var</span>&nbsp;<span class="ident" id="3516925">yWords</span>&nbsp;<span class="ident" id="3516932">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516937">if</span>&nbsp;<span class="op" id="3516940">!</span><span class="ident" id="3516941">y</span><span class="op" id="3516942">.</span><span class="ident" id="3516943">neg</span>&nbsp;<span class="op" id="3516947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516951">yWords</span>&nbsp;<span class="op" id="3516958">=</span>&nbsp;<span class="ident" id="3516960">y</span><span class="op" id="3516961">.</span><span class="ident" id="3516962">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3516967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3516970">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516982">var</span>&nbsp;<span class="ident" id="3516986">mWords</span>&nbsp;<span class="ident" id="3516993">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516998">if</span>&nbsp;<span class="ident" id="3517001">m</span>&nbsp;<span class="op" id="3517003">!=</span>&nbsp;<span class="ident" id="3517006">nil</span>&nbsp;<span class="op" id="3517010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517014">mWords</span>&nbsp;<span class="op" id="3517021">=</span>&nbsp;<span class="ident" id="3517023">m</span><span class="op" id="3517024">.</span><span class="ident" id="3517025">abs</span>&nbsp;<span class="comment" id="3517029">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517061">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517065">z</span><span class="op" id="3517066">.</span><span class="ident" id="3517067">abs</span>&nbsp;<span class="op" id="3517071">=</span>&nbsp;<span class="ident" id="3517073">z</span><span class="op" id="3517074">.</span><span class="ident" id="3517075">abs</span><span class="op" id="3517078">.</span><span class="ident" id="3517079">expNN</span><span class="op" id="3517084">(</span><span class="ident" id="3517085">x</span><span class="op" id="3517086">.</span><span class="ident" id="3517087">abs</span><span class="op" id="3517090">,</span>&nbsp;<span class="ident" id="3517092">yWords</span><span class="op" id="3517098">,</span>&nbsp;<span class="ident" id="3517100">mWords</span><span class="op" id="3517106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517109">z</span><span class="op" id="3517110">.</span><span class="ident" id="3517111">neg</span>&nbsp;<span class="op" id="3517115">=</span>&nbsp;<span class="builtinfunc" id="3517117">len</span><span class="op" id="3517120">(</span><span class="ident" id="3517121">z</span><span class="op" id="3517122">.</span><span class="ident" id="3517123">abs</span><span class="op" id="3517126">)</span>&nbsp;<span class="op" id="3517128">&gt;</span>&nbsp;<span class="num" id="3517130">0</span>&nbsp;<span class="op" id="3517132">&amp;&amp;</span>&nbsp;<span class="ident" id="3517135">x</span><span class="op" id="3517136">.</span><span class="ident" id="3517137">neg</span>&nbsp;<span class="op" id="3517141">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3517144">len</span><span class="op" id="3517147">(</span><span class="ident" id="3517148">yWords</span><span class="op" id="3517154">)</span>&nbsp;<span class="op" id="3517156">&gt;</span>&nbsp;<span class="num" id="3517158">0</span>&nbsp;<span class="op" id="3517160">&amp;&amp;</span>&nbsp;<span class="ident" id="3517163">yWords</span><span class="op" id="3517169">[</span><span class="num" id="3517170">0</span><span class="op" id="3517171">]</span><span class="op" id="3517172">&amp;</span><span class="num" id="3517173">1</span>&nbsp;<span class="op" id="3517175">==</span>&nbsp;<span class="num" id="3517178">1</span>&nbsp;<span class="comment" id="3517180">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517198">if</span>&nbsp;<span class="ident" id="3517201">z</span><span class="op" id="3517202">.</span><span class="ident" id="3517203">neg</span>&nbsp;<span class="op" id="3517207">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3517210">len</span><span class="op" id="3517213">(</span><span class="ident" id="3517214">mWords</span><span class="op" id="3517220">)</span>&nbsp;<span class="op" id="3517222">&gt;</span>&nbsp;<span class="num" id="3517224">0</span>&nbsp;<span class="op" id="3517226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3517230">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517264">z</span><span class="op" id="3517265">.</span><span class="ident" id="3517266">abs</span>&nbsp;<span class="op" id="3517270">=</span>&nbsp;<span class="ident" id="3517272">z</span><span class="op" id="3517273">.</span><span class="ident" id="3517274">abs</span><span class="op" id="3517277">.</span><span class="ident" id="3517278">sub</span><span class="op" id="3517281">(</span><span class="ident" id="3517282">mWords</span><span class="op" id="3517288">,</span>&nbsp;<span class="ident" id="3517290">z</span><span class="op" id="3517291">.</span><span class="ident" id="3517292">abs</span><span class="op" id="3517295">)</span>&nbsp;<span class="comment" id="3517297">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517336">z</span><span class="op" id="3517337">.</span><span class="ident" id="3517338">neg</span>&nbsp;<span class="op" id="3517342">=</span>&nbsp;<span class="builtintype" id="3517344">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517355">return</span>&nbsp;<span class="ident" id="3517362">z</span><br>
<span class="lineno">615</span><span class="op" id="3517364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3517367">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="3517440">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3517466">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="3517535">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3517588">func</span>&nbsp;<span class="op" id="3517593">(</span><span class="ident" id="3517594">z</span>&nbsp;<span class="op" id="3517596">*</span><span class="ident" id="3517597">Int</span><span class="op" id="3517600">)</span>&nbsp;<span class="ident" id="3517602">GCD</span><span class="op" id="3517605">(</span><span class="ident" id="3517606">x</span><span class="op" id="3517607">,</span>&nbsp;<span class="ident" id="3517609">y</span><span class="op" id="3517610">,</span>&nbsp;<span class="ident" id="3517612">a</span><span class="op" id="3517613">,</span>&nbsp;<span class="ident" id="3517615">b</span>&nbsp;<span class="op" id="3517617">*</span><span class="ident" id="3517618">Int</span><span class="op" id="3517621">)</span>&nbsp;<span class="op" id="3517623">*</span><span class="ident" id="3517624">Int</span>&nbsp;<span class="op" id="3517628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517631">if</span>&nbsp;<span class="ident" id="3517634">a</span><span class="op" id="3517635">.</span><span class="ident" id="3517636">Sign</span><span class="op" id="3517640">(</span><span class="op" id="3517641">)</span>&nbsp;<span class="op" id="3517643">&lt;=</span>&nbsp;<span class="num" id="3517646">0</span>&nbsp;<span class="op" id="3517648">||</span>&nbsp;<span class="ident" id="3517651">b</span><span class="op" id="3517652">.</span><span class="ident" id="3517653">Sign</span><span class="op" id="3517657">(</span><span class="op" id="3517658">)</span>&nbsp;<span class="op" id="3517660">&lt;=</span>&nbsp;<span class="num" id="3517663">0</span>&nbsp;<span class="op" id="3517665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517669">z</span><span class="op" id="3517670">.</span><span class="ident" id="3517671">SetInt64</span><span class="op" id="3517679">(</span><span class="num" id="3517680">0</span><span class="op" id="3517681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517685">if</span>&nbsp;<span class="ident" id="3517688">x</span>&nbsp;<span class="op" id="3517690">!=</span>&nbsp;<span class="ident" id="3517693">nil</span>&nbsp;<span class="op" id="3517697">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517702">x</span><span class="op" id="3517703">.</span><span class="ident" id="3517704">SetInt64</span><span class="op" id="3517712">(</span><span class="num" id="3517713">0</span><span class="op" id="3517714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517722">if</span>&nbsp;<span class="ident" id="3517725">y</span>&nbsp;<span class="op" id="3517727">!=</span>&nbsp;<span class="ident" id="3517730">nil</span>&nbsp;<span class="op" id="3517734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517739">y</span><span class="op" id="3517740">.</span><span class="ident" id="3517741">SetInt64</span><span class="op" id="3517749">(</span><span class="num" id="3517750">0</span><span class="op" id="3517751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517755">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517759">return</span>&nbsp;<span class="ident" id="3517766">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517772">if</span>&nbsp;<span class="ident" id="3517775">x</span>&nbsp;<span class="op" id="3517777">==</span>&nbsp;<span class="ident" id="3517780">nil</span>&nbsp;<span class="op" id="3517784">&amp;&amp;</span>&nbsp;<span class="ident" id="3517787">y</span>&nbsp;<span class="op" id="3517789">==</span>&nbsp;<span class="ident" id="3517792">nil</span>&nbsp;<span class="op" id="3517796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517800">return</span>&nbsp;<span class="ident" id="3517807">z</span><span class="op" id="3517808">.</span><span class="ident" id="3517809">binaryGCD</span><span class="op" id="3517818">(</span><span class="ident" id="3517819">a</span><span class="op" id="3517820">,</span>&nbsp;<span class="ident" id="3517822">b</span><span class="op" id="3517823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517826">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517830">A</span>&nbsp;<span class="op" id="3517832">:=</span>&nbsp;<span class="builtinfunc" id="3517835">new</span><span class="op" id="3517838">(</span><span class="ident" id="3517839">Int</span><span class="op" id="3517842">)</span><span class="op" id="3517843">.</span><span class="ident" id="3517844">Set</span><span class="op" id="3517847">(</span><span class="ident" id="3517848">a</span><span class="op" id="3517849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517852">B</span>&nbsp;<span class="op" id="3517854">:=</span>&nbsp;<span class="builtinfunc" id="3517857">new</span><span class="op" id="3517860">(</span><span class="ident" id="3517861">Int</span><span class="op" id="3517864">)</span><span class="op" id="3517865">.</span><span class="ident" id="3517866">Set</span><span class="op" id="3517869">(</span><span class="ident" id="3517870">b</span><span class="op" id="3517871">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517875">X</span>&nbsp;<span class="op" id="3517877">:=</span>&nbsp;<span class="builtinfunc" id="3517880">new</span><span class="op" id="3517883">(</span><span class="ident" id="3517884">Int</span><span class="op" id="3517887">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517890">Y</span>&nbsp;<span class="op" id="3517892">:=</span>&nbsp;<span class="builtinfunc" id="3517895">new</span><span class="op" id="3517898">(</span><span class="ident" id="3517899">Int</span><span class="op" id="3517902">)</span><span class="op" id="3517903">.</span><span class="ident" id="3517904">SetInt64</span><span class="op" id="3517912">(</span><span class="num" id="3517913">1</span><span class="op" id="3517914">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517918">lastX</span>&nbsp;<span class="op" id="3517924">:=</span>&nbsp;<span class="builtinfunc" id="3517927">new</span><span class="op" id="3517930">(</span><span class="ident" id="3517931">Int</span><span class="op" id="3517934">)</span><span class="op" id="3517935">.</span><span class="ident" id="3517936">SetInt64</span><span class="op" id="3517944">(</span><span class="num" id="3517945">1</span><span class="op" id="3517946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517949">lastY</span>&nbsp;<span class="op" id="3517955">:=</span>&nbsp;<span class="builtinfunc" id="3517958">new</span><span class="op" id="3517961">(</span><span class="ident" id="3517962">Int</span><span class="op" id="3517965">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517969">q</span>&nbsp;<span class="op" id="3517971">:=</span>&nbsp;<span class="builtinfunc" id="3517974">new</span><span class="op" id="3517977">(</span><span class="ident" id="3517978">Int</span><span class="op" id="3517981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517984">temp</span>&nbsp;<span class="op" id="3517989">:=</span>&nbsp;<span class="builtinfunc" id="3517992">new</span><span class="op" id="3517995">(</span><span class="ident" id="3517996">Int</span><span class="op" id="3517999">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518003">for</span>&nbsp;<span class="builtinfunc" id="3518007">len</span><span class="op" id="3518010">(</span><span class="ident" id="3518011">B</span><span class="op" id="3518012">.</span><span class="ident" id="3518013">abs</span><span class="op" id="3518016">)</span>&nbsp;<span class="op" id="3518018">&gt;</span>&nbsp;<span class="num" id="3518020">0</span>&nbsp;<span class="op" id="3518022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518026">r</span>&nbsp;<span class="op" id="3518028">:=</span>&nbsp;<span class="builtinfunc" id="3518031">new</span><span class="op" id="3518034">(</span><span class="ident" id="3518035">Int</span><span class="op" id="3518038">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518042">q</span><span class="op" id="3518043">,</span>&nbsp;<span class="ident" id="3518045">r</span>&nbsp;<span class="op" id="3518047">=</span>&nbsp;<span class="ident" id="3518049">q</span><span class="op" id="3518050">.</span><span class="ident" id="3518051">QuoRem</span><span class="op" id="3518057">(</span><span class="ident" id="3518058">A</span><span class="op" id="3518059">,</span>&nbsp;<span class="ident" id="3518061">B</span><span class="op" id="3518062">,</span>&nbsp;<span class="ident" id="3518064">r</span><span class="op" id="3518065">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518070">A</span><span class="op" id="3518071">,</span>&nbsp;<span class="ident" id="3518073">B</span>&nbsp;<span class="op" id="3518075">=</span>&nbsp;<span class="ident" id="3518077">B</span><span class="op" id="3518078">,</span>&nbsp;<span class="ident" id="3518080">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518085">temp</span><span class="op" id="3518089">.</span><span class="ident" id="3518090">Set</span><span class="op" id="3518093">(</span><span class="ident" id="3518094">X</span><span class="op" id="3518095">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518099">X</span><span class="op" id="3518100">.</span><span class="ident" id="3518101">Mul</span><span class="op" id="3518104">(</span><span class="ident" id="3518105">X</span><span class="op" id="3518106">,</span>&nbsp;<span class="ident" id="3518108">q</span><span class="op" id="3518109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518113">X</span><span class="op" id="3518114">.</span><span class="ident" id="3518115">neg</span>&nbsp;<span class="op" id="3518119">=</span>&nbsp;<span class="op" id="3518121">!</span><span class="ident" id="3518122">X</span><span class="op" id="3518123">.</span><span class="ident" id="3518124">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518130">X</span><span class="op" id="3518131">.</span><span class="ident" id="3518132">Add</span><span class="op" id="3518135">(</span><span class="ident" id="3518136">X</span><span class="op" id="3518137">,</span>&nbsp;<span class="ident" id="3518139">lastX</span><span class="op" id="3518144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518148">lastX</span><span class="op" id="3518153">.</span><span class="ident" id="3518154">Set</span><span class="op" id="3518157">(</span><span class="ident" id="3518158">temp</span><span class="op" id="3518162">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518167">temp</span><span class="op" id="3518171">.</span><span class="ident" id="3518172">Set</span><span class="op" id="3518175">(</span><span class="ident" id="3518176">Y</span><span class="op" id="3518177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518181">Y</span><span class="op" id="3518182">.</span><span class="ident" id="3518183">Mul</span><span class="op" id="3518186">(</span><span class="ident" id="3518187">Y</span><span class="op" id="3518188">,</span>&nbsp;<span class="ident" id="3518190">q</span><span class="op" id="3518191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518195">Y</span><span class="op" id="3518196">.</span><span class="ident" id="3518197">neg</span>&nbsp;<span class="op" id="3518201">=</span>&nbsp;<span class="op" id="3518203">!</span><span class="ident" id="3518204">Y</span><span class="op" id="3518205">.</span><span class="ident" id="3518206">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518212">Y</span><span class="op" id="3518213">.</span><span class="ident" id="3518214">Add</span><span class="op" id="3518217">(</span><span class="ident" id="3518218">Y</span><span class="op" id="3518219">,</span>&nbsp;<span class="ident" id="3518221">lastY</span><span class="op" id="3518226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518230">lastY</span><span class="op" id="3518235">.</span><span class="ident" id="3518236">Set</span><span class="op" id="3518239">(</span><span class="ident" id="3518240">temp</span><span class="op" id="3518244">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518251">if</span>&nbsp;<span class="ident" id="3518254">x</span>&nbsp;<span class="op" id="3518256">!=</span>&nbsp;<span class="ident" id="3518259">nil</span>&nbsp;<span class="op" id="3518263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518267">*</span><span class="ident" id="3518268">x</span>&nbsp;<span class="op" id="3518270">=</span>&nbsp;<span class="op" id="3518272">*</span><span class="ident" id="3518273">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518280">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518284">if</span>&nbsp;<span class="ident" id="3518287">y</span>&nbsp;<span class="op" id="3518289">!=</span>&nbsp;<span class="ident" id="3518292">nil</span>&nbsp;<span class="op" id="3518296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518300">*</span><span class="ident" id="3518301">y</span>&nbsp;<span class="op" id="3518303">=</span>&nbsp;<span class="op" id="3518305">*</span><span class="ident" id="3518306">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518317">*</span><span class="ident" id="3518318">z</span>&nbsp;<span class="op" id="3518320">=</span>&nbsp;<span class="op" id="3518322">*</span><span class="ident" id="3518323">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518326">return</span>&nbsp;<span class="ident" id="3518333">z</span><br>
<span class="lineno"></span><span class="op" id="3518335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3518338">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="3518417">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3518443">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="3518526">func</span>&nbsp;<span class="op" id="3518531">(</span><span class="ident" id="3518532">z</span>&nbsp;<span class="op" id="3518534">*</span><span class="ident" id="3518535">Int</span><span class="op" id="3518538">)</span>&nbsp;<span class="ident" id="3518540">binaryGCD</span><span class="op" id="3518549">(</span><span class="ident" id="3518550">a</span><span class="op" id="3518551">,</span>&nbsp;<span class="ident" id="3518553">b</span>&nbsp;<span class="op" id="3518555">*</span><span class="ident" id="3518556">Int</span><span class="op" id="3518559">)</span>&nbsp;<span class="op" id="3518561">*</span><span class="ident" id="3518562">Int</span>&nbsp;<span class="op" id="3518566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518569">u</span>&nbsp;<span class="op" id="3518571">:=</span>&nbsp;<span class="ident" id="3518574">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518577">v</span>&nbsp;<span class="op" id="3518579">:=</span>&nbsp;<span class="builtinfunc" id="3518582">new</span><span class="op" id="3518585">(</span><span class="ident" id="3518586">Int</span><span class="op" id="3518589">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3518593">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518674">switch</span>&nbsp;<span class="op" id="3518681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518684">case</span>&nbsp;<span class="builtinfunc" id="3518689">len</span><span class="op" id="3518692">(</span><span class="ident" id="3518693">a</span><span class="op" id="3518694">.</span><span class="ident" id="3518695">abs</span><span class="op" id="3518698">)</span>&nbsp;<span class="op" id="3518700">&gt;</span>&nbsp;<span class="builtinfunc" id="3518702">len</span><span class="op" id="3518705">(</span><span class="ident" id="3518706">b</span><span class="op" id="3518707">.</span><span class="ident" id="3518708">abs</span><span class="op" id="3518711">)</span><span class="op" id="3518712">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518716">u</span><span class="op" id="3518717">.</span><span class="ident" id="3518718">Set</span><span class="op" id="3518721">(</span><span class="ident" id="3518722">b</span><span class="op" id="3518723">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518727">v</span><span class="op" id="3518728">.</span><span class="ident" id="3518729">Rem</span><span class="op" id="3518732">(</span><span class="ident" id="3518733">a</span><span class="op" id="3518734">,</span>&nbsp;<span class="ident" id="3518736">b</span><span class="op" id="3518737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518740">case</span>&nbsp;<span class="builtinfunc" id="3518745">len</span><span class="op" id="3518748">(</span><span class="ident" id="3518749">a</span><span class="op" id="3518750">.</span><span class="ident" id="3518751">abs</span><span class="op" id="3518754">)</span>&nbsp;<span class="op" id="3518756">&lt;</span>&nbsp;<span class="builtinfunc" id="3518758">len</span><span class="op" id="3518761">(</span><span class="ident" id="3518762">b</span><span class="op" id="3518763">.</span><span class="ident" id="3518764">abs</span><span class="op" id="3518767">)</span><span class="op" id="3518768">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518772">u</span><span class="op" id="3518773">.</span><span class="ident" id="3518774">Set</span><span class="op" id="3518777">(</span><span class="ident" id="3518778">a</span><span class="op" id="3518779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518783">v</span><span class="op" id="3518784">.</span><span class="ident" id="3518785">Rem</span><span class="op" id="3518788">(</span><span class="ident" id="3518789">b</span><span class="op" id="3518790">,</span>&nbsp;<span class="ident" id="3518792">a</span><span class="op" id="3518793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518796">default</span><span class="op" id="3518803">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518807">u</span><span class="op" id="3518808">.</span><span class="ident" id="3518809">Set</span><span class="op" id="3518812">(</span><span class="ident" id="3518813">a</span><span class="op" id="3518814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518818">v</span><span class="op" id="3518819">.</span><span class="ident" id="3518820">Set</span><span class="op" id="3518823">(</span><span class="ident" id="3518824">b</span><span class="op" id="3518825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3518832">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518853">if</span>&nbsp;<span class="builtinfunc" id="3518856">len</span><span class="op" id="3518859">(</span><span class="ident" id="3518860">v</span><span class="op" id="3518861">.</span><span class="ident" id="3518862">abs</span><span class="op" id="3518865">)</span>&nbsp;<span class="op" id="3518867">==</span>&nbsp;<span class="num" id="3518870">0</span>&nbsp;<span class="op" id="3518872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518876">return</span>&nbsp;<span class="ident" id="3518883">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3518889">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3518909">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518968">k</span>&nbsp;<span class="op" id="3518970">:=</span>&nbsp;<span class="ident" id="3518973">u</span><span class="op" id="3518974">.</span><span class="ident" id="3518975">abs</span><span class="op" id="3518978">.</span><span class="ident" id="3518979">trailingZeroBits</span><span class="op" id="3518995">(</span><span class="op" id="3518996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518999">if</span>&nbsp;<span class="ident" id="3519002">vk</span>&nbsp;<span class="op" id="3519005">:=</span>&nbsp;<span class="ident" id="3519008">v</span><span class="op" id="3519009">.</span><span class="ident" id="3519010">abs</span><span class="op" id="3519013">.</span><span class="ident" id="3519014">trailingZeroBits</span><span class="op" id="3519030">(</span><span class="op" id="3519031">)</span><span class="op" id="3519032">;</span>&nbsp;<span class="ident" id="3519034">vk</span>&nbsp;<span class="op" id="3519037">&lt;</span>&nbsp;<span class="ident" id="3519039">k</span>&nbsp;<span class="op" id="3519041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519045">k</span>&nbsp;<span class="op" id="3519047">=</span>&nbsp;<span class="ident" id="3519049">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3519053">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519056">u</span><span class="op" id="3519057">.</span><span class="ident" id="3519058">Rsh</span><span class="op" id="3519061">(</span><span class="ident" id="3519062">u</span><span class="op" id="3519063">,</span>&nbsp;<span class="ident" id="3519065">k</span><span class="op" id="3519066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519069">v</span><span class="op" id="3519070">.</span><span class="ident" id="3519071">Rsh</span><span class="op" id="3519074">(</span><span class="ident" id="3519075">v</span><span class="op" id="3519076">,</span>&nbsp;<span class="ident" id="3519078">k</span><span class="op" id="3519079">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3519083">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519120">t</span>&nbsp;<span class="op" id="3519122">:=</span>&nbsp;<span class="builtinfunc" id="3519125">new</span><span class="op" id="3519128">(</span><span class="ident" id="3519129">Int</span><span class="op" id="3519132">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3519135">if</span>&nbsp;<span class="ident" id="3519138">u</span><span class="op" id="3519139">.</span><span class="ident" id="3519140">abs</span><span class="op" id="3519143">[</span><span class="num" id="3519144">0</span><span class="op" id="3519145">]</span><span class="op" id="3519146">&amp;</span><span class="num" id="3519147">1</span>&nbsp;<span class="op" id="3519149">!=</span>&nbsp;<span class="num" id="3519152">0</span>&nbsp;<span class="op" id="3519154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3519158">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519172">t</span><span class="op" id="3519173">.</span><span class="ident" id="3519174">Neg</span><span class="op" id="3519177">(</span><span class="ident" id="3519178">v</span><span class="op" id="3519179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3519182">}</span>&nbsp;<span class="keyword" id="3519184">else</span>&nbsp;<span class="op" id="3519189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519193">t</span><span class="op" id="3519194">.</span><span class="ident" id="3519195">Set</span><span class="op" id="3519198">(</span><span class="ident" id="3519199">u</span><span class="op" id="3519200">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3519203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3519207">for</span>&nbsp;<span class="builtinfunc" id="3519211">len</span><span class="op" id="3519214">(</span><span class="ident" id="3519215">t</span><span class="op" id="3519216">.</span><span class="ident" id="3519217">abs</span><span class="op" id="3519220">)</span>&nbsp;<span class="op" id="3519222">&gt;</span>&nbsp;<span class="num" id="3519224">0</span>&nbsp;<span class="op" id="3519226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3519230">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519244">t</span><span class="op" id="3519245">.</span><span class="ident" id="3519246">Rsh</span><span class="op" id="3519249">(</span><span class="ident" id="3519250">t</span><span class="op" id="3519251">,</span>&nbsp;<span class="ident" id="3519253">t</span><span class="op" id="3519254">.</span><span class="ident" id="3519255">abs</span><span class="op" id="3519258">.</span><span class="ident" id="3519259">trailingZeroBits</span><span class="op" id="3519275">(</span><span class="op" id="3519276">)</span><span class="op" id="3519277">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3519281">if</span>&nbsp;<span class="ident" id="3519284">t</span><span class="op" id="3519285">.</span><span class="ident" id="3519286">neg</span>&nbsp;<span class="op" id="3519290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519295">v</span><span class="op" id="3519296">,</span>&nbsp;<span class="ident" id="3519298">t</span>&nbsp;<span class="op" id="3519300">=</span>&nbsp;<span class="ident" id="3519302">t</span><span class="op" id="3519303">,</span>&nbsp;<span class="ident" id="3519305">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519310">v</span><span class="op" id="3519311">.</span><span class="ident" id="3519312">neg</span>&nbsp;<span class="op" id="3519316">=</span>&nbsp;<span class="builtinfunc" id="3519318">len</span><span class="op" id="3519321">(</span><span class="ident" id="3519322">v</span><span class="op" id="3519323">.</span><span class="ident" id="3519324">abs</span><span class="op" id="3519327">)</span>&nbsp;<span class="op" id="3519329">&gt;</span>&nbsp;<span class="num" id="3519331">0</span>&nbsp;<span class="op" id="3519333">&amp;&amp;</span>&nbsp;<span class="op" id="3519336">!</span><span class="ident" id="3519337">v</span><span class="op" id="3519338">.</span><span class="ident" id="3519339">neg</span>&nbsp;<span class="comment" id="3519343">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3519362">}</span>&nbsp;<span class="keyword" id="3519364">else</span>&nbsp;<span class="op" id="3519369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519374">u</span><span class="op" id="3519375">,</span>&nbsp;<span class="ident" id="3519377">t</span>&nbsp;<span class="op" id="3519379">=</span>&nbsp;<span class="ident" id="3519381">t</span><span class="op" id="3519382">,</span>&nbsp;<span class="ident" id="3519384">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3519388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519392">t</span><span class="op" id="3519393">.</span><span class="ident" id="3519394">Sub</span><span class="op" id="3519397">(</span><span class="ident" id="3519398">u</span><span class="op" id="3519399">,</span>&nbsp;<span class="ident" id="3519401">v</span><span class="op" id="3519402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3519405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3519409">return</span>&nbsp;<span class="ident" id="3519416">z</span><span class="op" id="3519417">.</span><span class="ident" id="3519418">Lsh</span><span class="op" id="3519421">(</span><span class="ident" id="3519422">u</span><span class="op" id="3519423">,</span>&nbsp;<span class="ident" id="3519425">k</span><span class="op" id="3519426">)</span><br>
<span class="lineno">735</span><span class="op" id="3519428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3519431">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="3519507">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="3519569">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="3519609">func</span>&nbsp;<span class="op" id="3519614">(</span><span class="ident" id="3519615">x</span>&nbsp;<span class="op" id="3519617">*</span><span class="ident" id="3519618">Int</span><span class="op" id="3519621">)</span>&nbsp;<span class="ident" id="3519623">ProbablyPrime</span><span class="op" id="3519636">(</span><span class="ident" id="3519637">n</span>&nbsp;<span class="builtintype" id="3519639">int</span><span class="op" id="3519642">)</span>&nbsp;<span class="builtintype" id="3519644">bool</span>&nbsp;<span class="op" id="3519649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3519652">return</span>&nbsp;<span class="op" id="3519659">!</span><span class="ident" id="3519660">x</span><span class="op" id="3519661">.</span><span class="ident" id="3519662">neg</span>&nbsp;<span class="op" id="3519666">&amp;&amp;</span>&nbsp;<span class="ident" id="3519669">x</span><span class="op" id="3519670">.</span><span class="ident" id="3519671">abs</span><span class="op" id="3519674">.</span><span class="ident" id="3519675">probablyPrime</span><span class="op" id="3519688">(</span><span class="ident" id="3519689">n</span><span class="op" id="3519690">)</span><br>
<span class="lineno"></span><span class="op" id="3519692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3519695">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="3519761">func</span>&nbsp;<span class="op" id="3519766">(</span><span class="ident" id="3519767">z</span>&nbsp;<span class="op" id="3519769">*</span><span class="ident" id="3519770">Int</span><span class="op" id="3519773">)</span>&nbsp;<span class="ident" id="3519775">Rand</span><span class="op" id="3519779">(</span><span class="ident" id="3519780">rnd</span>&nbsp;<span class="op" id="3519784">*</span><span class="ident" id="3519785">rand</span><span class="op" id="3519789">.</span><span class="ident" id="3519790">Rand</span><span class="op" id="3519794">,</span>&nbsp;<span class="ident" id="3519796">n</span>&nbsp;<span class="op" id="3519798">*</span><span class="ident" id="3519799">Int</span><span class="op" id="3519802">)</span>&nbsp;<span class="op" id="3519804">*</span><span class="ident" id="3519805">Int</span>&nbsp;<span class="op" id="3519809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519812">z</span><span class="op" id="3519813">.</span><span class="ident" id="3519814">neg</span>&nbsp;<span class="op" id="3519818">=</span>&nbsp;<span class="builtintype" id="3519820">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3519827">if</span>&nbsp;<span class="ident" id="3519830">n</span><span class="op" id="3519831">.</span><span class="ident" id="3519832">neg</span>&nbsp;<span class="op" id="3519836">==</span>&nbsp;<span class="builtintype" id="3519839">true</span>&nbsp;<span class="op" id="3519844">||</span>&nbsp;<span class="builtinfunc" id="3519847">len</span><span class="op" id="3519850">(</span><span class="ident" id="3519851">n</span><span class="op" id="3519852">.</span><span class="ident" id="3519853">abs</span><span class="op" id="3519856">)</span>&nbsp;<span class="op" id="3519858">==</span>&nbsp;<span class="num" id="3519861">0</span>&nbsp;<span class="op" id="3519863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519867">z</span><span class="op" id="3519868">.</span><span class="ident" id="3519869">abs</span>&nbsp;<span class="op" id="3519873">=</span>&nbsp;<span class="ident" id="3519875">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3519881">return</span>&nbsp;<span class="ident" id="3519888">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3519891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519894">z</span><span class="op" id="3519895">.</span><span class="ident" id="3519896">abs</span>&nbsp;<span class="op" id="3519900">=</span>&nbsp;<span class="ident" id="3519902">z</span><span class="op" id="3519903">.</span><span class="ident" id="3519904">abs</span><span class="op" id="3519907">.</span><span class="ident" id="3519908">random</span><span class="op" id="3519914">(</span><span class="ident" id="3519915">rnd</span><span class="op" id="3519918">,</span>&nbsp;<span class="ident" id="3519920">n</span><span class="op" id="3519921">.</span><span class="ident" id="3519922">abs</span><span class="op" id="3519925">,</span>&nbsp;<span class="ident" id="3519927">n</span><span class="op" id="3519928">.</span><span class="ident" id="3519929">abs</span><span class="op" id="3519932">.</span><span class="ident" id="3519933">bitLen</span><span class="op" id="3519939">(</span><span class="op" id="3519940">)</span><span class="op" id="3519941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3519944">return</span>&nbsp;<span class="ident" id="3519951">z</span><br>
<span class="lineno"></span><span class="op" id="3519953">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="3519956">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;/n</span><br>
<span class="lineno"></span><span class="comment" id="3520033">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="3520113">func</span>&nbsp;<span class="op" id="3520118">(</span><span class="ident" id="3520119">z</span>&nbsp;<span class="op" id="3520121">*</span><span class="ident" id="3520122">Int</span><span class="op" id="3520125">)</span>&nbsp;<span class="ident" id="3520127">ModInverse</span><span class="op" id="3520137">(</span><span class="ident" id="3520138">g</span><span class="op" id="3520139">,</span>&nbsp;<span class="ident" id="3520141">n</span>&nbsp;<span class="op" id="3520143">*</span><span class="ident" id="3520144">Int</span><span class="op" id="3520147">)</span>&nbsp;<span class="op" id="3520149">*</span><span class="ident" id="3520150">Int</span>&nbsp;<span class="op" id="3520154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3520157">var</span>&nbsp;<span class="ident" id="3520161">d</span>&nbsp;<span class="ident" id="3520163">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3520168">d</span><span class="op" id="3520169">.</span><span class="ident" id="3520170">GCD</span><span class="op" id="3520173">(</span><span class="ident" id="3520174">z</span><span class="op" id="3520175">,</span>&nbsp;<span class="ident" id="3520177">nil</span><span class="op" id="3520180">,</span>&nbsp;<span class="ident" id="3520182">g</span><span class="op" id="3520183">,</span>&nbsp;<span class="ident" id="3520185">n</span><span class="op" id="3520186">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3520189">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3520248">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3520309">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3520358">if</span>&nbsp;<span class="ident" id="3520361">z</span><span class="op" id="3520362">.</span><span class="ident" id="3520363">neg</span>&nbsp;<span class="op" id="3520367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3520371">z</span><span class="op" id="3520372">.</span><span class="ident" id="3520373">Add</span><span class="op" id="3520376">(</span><span class="ident" id="3520377">z</span><span class="op" id="3520378">,</span>&nbsp;<span class="ident" id="3520380">n</span><span class="op" id="3520381">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3520384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3520387">return</span>&nbsp;<span class="ident" id="3520394">z</span><br>
<span class="lineno"></span><span class="op" id="3520396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3520399">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="3520437">func</span>&nbsp;<span class="op" id="3520442">(</span><span class="ident" id="3520443">z</span>&nbsp;<span class="op" id="3520445">*</span><span class="ident" id="3520446">Int</span><span class="op" id="3520449">)</span>&nbsp;<span class="ident" id="3520451">Lsh</span><span class="op" id="3520454">(</span><span class="ident" id="3520455">x</span>&nbsp;<span class="op" id="3520457">*</span><span class="ident" id="3520458">Int</span><span class="op" id="3520461">,</span>&nbsp;<span class="ident" id="3520463">n</span>&nbsp;<span class="builtintype" id="3520465">uint</span><span class="op" id="3520469">)</span>&nbsp;<span class="op" id="3520471">*</span><span class="ident" id="3520472">Int</span>&nbsp;<span class="op" id="3520476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3520479">z</span><span class="op" id="3520480">.</span><span class="ident" id="3520481">abs</span>&nbsp;<span class="op" id="3520485">=</span>&nbsp;<span class="ident" id="3520487">z</span><span class="op" id="3520488">.</span><span class="ident" id="3520489">abs</span><span class="op" id="3520492">.</span><span class="ident" id="3520493">shl</span><span class="op" id="3520496">(</span><span class="ident" id="3520497">x</span><span class="op" id="3520498">.</span><span class="ident" id="3520499">abs</span><span class="op" id="3520502">,</span>&nbsp;<span class="ident" id="3520504">n</span><span class="op" id="3520505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3520508">z</span><span class="op" id="3520509">.</span><span class="ident" id="3520510">neg</span>&nbsp;<span class="op" id="3520514">=</span>&nbsp;<span class="ident" id="3520516">x</span><span class="op" id="3520517">.</span><span class="ident" id="3520518">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3520523">return</span>&nbsp;<span class="ident" id="3520530">z</span><br>
<span class="lineno"></span><span class="op" id="3520532">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="3520535">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3520573">func</span>&nbsp;<span class="op" id="3520578">(</span><span class="ident" id="3520579">z</span>&nbsp;<span class="op" id="3520581">*</span><span class="ident" id="3520582">Int</span><span class="op" id="3520585">)</span>&nbsp;<span class="ident" id="3520587">Rsh</span><span class="op" id="3520590">(</span><span class="ident" id="3520591">x</span>&nbsp;<span class="op" id="3520593">*</span><span class="ident" id="3520594">Int</span><span class="op" id="3520597">,</span>&nbsp;<span class="ident" id="3520599">n</span>&nbsp;<span class="builtintype" id="3520601">uint</span><span class="op" id="3520605">)</span>&nbsp;<span class="op" id="3520607">*</span><span class="ident" id="3520608">Int</span>&nbsp;<span class="op" id="3520612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3520615">if</span>&nbsp;<span class="ident" id="3520618">x</span><span class="op" id="3520619">.</span><span class="ident" id="3520620">neg</span>&nbsp;<span class="op" id="3520624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3520628">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3520698">t</span>&nbsp;<span class="op" id="3520700">:=</span>&nbsp;<span class="ident" id="3520703">z</span><span class="op" id="3520704">.</span><span class="ident" id="3520705">abs</span><span class="op" id="3520708">.</span><span class="ident" id="3520709">sub</span><span class="op" id="3520712">(</span><span class="ident" id="3520713">x</span><span class="op" id="3520714">.</span><span class="ident" id="3520715">abs</span><span class="op" id="3520718">,</span>&nbsp;<span class="ident" id="3520720">natOne</span><span class="op" id="3520726">)</span>&nbsp;<span class="comment" id="3520728">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3520762">t</span>&nbsp;<span class="op" id="3520764">=</span>&nbsp;<span class="ident" id="3520766">t</span><span class="op" id="3520767">.</span><span class="ident" id="3520768">shr</span><span class="op" id="3520771">(</span><span class="ident" id="3520772">t</span><span class="op" id="3520773">,</span>&nbsp;<span class="ident" id="3520775">n</span><span class="op" id="3520776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3520780">z</span><span class="op" id="3520781">.</span><span class="ident" id="3520782">abs</span>&nbsp;<span class="op" id="3520786">=</span>&nbsp;<span class="ident" id="3520788">t</span><span class="op" id="3520789">.</span><span class="ident" id="3520790">add</span><span class="op" id="3520793">(</span><span class="ident" id="3520794">t</span><span class="op" id="3520795">,</span>&nbsp;<span class="ident" id="3520797">natOne</span><span class="op" id="3520803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3520807">z</span><span class="op" id="3520808">.</span><span class="ident" id="3520809">neg</span>&nbsp;<span class="op" id="3520813">=</span>&nbsp;<span class="builtintype" id="3520815">true</span>&nbsp;<span class="comment" id="3520820">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3520859">return</span>&nbsp;<span class="ident" id="3520866">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3520869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3520873">z</span><span class="op" id="3520874">.</span><span class="ident" id="3520875">abs</span>&nbsp;<span class="op" id="3520879">=</span>&nbsp;<span class="ident" id="3520881">z</span><span class="op" id="3520882">.</span><span class="ident" id="3520883">abs</span><span class="op" id="3520886">.</span><span class="ident" id="3520887">shr</span><span class="op" id="3520890">(</span><span class="ident" id="3520891">x</span><span class="op" id="3520892">.</span><span class="ident" id="3520893">abs</span><span class="op" id="3520896">,</span>&nbsp;<span class="ident" id="3520898">n</span><span class="op" id="3520899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3520902">z</span><span class="op" id="3520903">.</span><span class="ident" id="3520904">neg</span>&nbsp;<span class="op" id="3520908">=</span>&nbsp;<span class="builtintype" id="3520910">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3520917">return</span>&nbsp;<span class="ident" id="3520924">z</span><br>
<span class="lineno">790</span><span class="op" id="3520926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3520929">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="3520988">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3521039">func</span>&nbsp;<span class="op" id="3521044">(</span><span class="ident" id="3521045">x</span>&nbsp;<span class="op" id="3521047">*</span><span class="ident" id="3521048">Int</span><span class="op" id="3521051">)</span>&nbsp;<span class="ident" id="3521053">Bit</span><span class="op" id="3521056">(</span><span class="ident" id="3521057">i</span>&nbsp;<span class="builtintype" id="3521059">int</span><span class="op" id="3521062">)</span>&nbsp;<span class="builtintype" id="3521064">uint</span>&nbsp;<span class="op" id="3521069">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521072">if</span>&nbsp;<span class="ident" id="3521075">i</span>&nbsp;<span class="op" id="3521077">==</span>&nbsp;<span class="num" id="3521080">0</span>&nbsp;<span class="op" id="3521082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3521086">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521140">if</span>&nbsp;<span class="builtinfunc" id="3521143">len</span><span class="op" id="3521146">(</span><span class="ident" id="3521147">x</span><span class="op" id="3521148">.</span><span class="ident" id="3521149">abs</span><span class="op" id="3521152">)</span>&nbsp;<span class="op" id="3521154">&gt;</span>&nbsp;<span class="num" id="3521156">0</span>&nbsp;<span class="op" id="3521158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521163">return</span>&nbsp;<span class="builtintype" id="3521170">uint</span><span class="op" id="3521174">(</span><span class="ident" id="3521175">x</span><span class="op" id="3521176">.</span><span class="ident" id="3521177">abs</span><span class="op" id="3521180">[</span><span class="num" id="3521181">0</span><span class="op" id="3521182">]</span>&nbsp;<span class="op" id="3521184">&amp;</span>&nbsp;<span class="num" id="3521186">1</span><span class="op" id="3521187">)</span>&nbsp;<span class="comment" id="3521189">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3521215">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521219">return</span>&nbsp;<span class="num" id="3521226">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3521229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521232">if</span>&nbsp;<span class="ident" id="3521235">i</span>&nbsp;<span class="op" id="3521237">&lt;</span>&nbsp;<span class="num" id="3521239">0</span>&nbsp;<span class="op" id="3521241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3521245">panic</span><span class="op" id="3521250">(</span><span class="string" id="3521251">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3521271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3521274">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521277">if</span>&nbsp;<span class="ident" id="3521280">x</span><span class="op" id="3521281">.</span><span class="ident" id="3521282">neg</span>&nbsp;<span class="op" id="3521286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3521290">t</span>&nbsp;<span class="op" id="3521292">:=</span>&nbsp;<span class="ident" id="3521295">nat</span><span class="op" id="3521298">(</span><span class="ident" id="3521299">nil</span><span class="op" id="3521302">)</span><span class="op" id="3521303">.</span><span class="ident" id="3521304">sub</span><span class="op" id="3521307">(</span><span class="ident" id="3521308">x</span><span class="op" id="3521309">.</span><span class="ident" id="3521310">abs</span><span class="op" id="3521313">,</span>&nbsp;<span class="ident" id="3521315">natOne</span><span class="op" id="3521321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521325">return</span>&nbsp;<span class="ident" id="3521332">t</span><span class="op" id="3521333">.</span><span class="ident" id="3521334">bit</span><span class="op" id="3521337">(</span><span class="builtintype" id="3521338">uint</span><span class="op" id="3521342">(</span><span class="ident" id="3521343">i</span><span class="op" id="3521344">)</span><span class="op" id="3521345">)</span>&nbsp;<span class="op" id="3521347">^</span>&nbsp;<span class="num" id="3521349">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3521352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521356">return</span>&nbsp;<span class="ident" id="3521363">x</span><span class="op" id="3521364">.</span><span class="ident" id="3521365">abs</span><span class="op" id="3521368">.</span><span class="ident" id="3521369">bit</span><span class="op" id="3521372">(</span><span class="builtintype" id="3521373">uint</span><span class="op" id="3521377">(</span><span class="ident" id="3521378">i</span><span class="op" id="3521379">)</span><span class="op" id="3521380">)</span><br>
<span class="lineno"></span><span class="op" id="3521382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3521385">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="3521445">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="3521497">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="3521561">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="3521583">func</span>&nbsp;<span class="op" id="3521588">(</span><span class="ident" id="3521589">z</span>&nbsp;<span class="op" id="3521591">*</span><span class="ident" id="3521592">Int</span><span class="op" id="3521595">)</span>&nbsp;<span class="ident" id="3521597">SetBit</span><span class="op" id="3521603">(</span><span class="ident" id="3521604">x</span>&nbsp;<span class="op" id="3521606">*</span><span class="ident" id="3521607">Int</span><span class="op" id="3521610">,</span>&nbsp;<span class="ident" id="3521612">i</span>&nbsp;<span class="builtintype" id="3521614">int</span><span class="op" id="3521617">,</span>&nbsp;<span class="ident" id="3521619">b</span>&nbsp;<span class="builtintype" id="3521621">uint</span><span class="op" id="3521625">)</span>&nbsp;<span class="op" id="3521627">*</span><span class="ident" id="3521628">Int</span>&nbsp;<span class="op" id="3521632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521635">if</span>&nbsp;<span class="ident" id="3521638">i</span>&nbsp;<span class="op" id="3521640">&lt;</span>&nbsp;<span class="num" id="3521642">0</span>&nbsp;<span class="op" id="3521644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3521648">panic</span><span class="op" id="3521653">(</span><span class="string" id="3521654">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3521674">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3521677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521680">if</span>&nbsp;<span class="ident" id="3521683">x</span><span class="op" id="3521684">.</span><span class="ident" id="3521685">neg</span>&nbsp;<span class="op" id="3521689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3521693">t</span>&nbsp;<span class="op" id="3521695">:=</span>&nbsp;<span class="ident" id="3521698">z</span><span class="op" id="3521699">.</span><span class="ident" id="3521700">abs</span><span class="op" id="3521703">.</span><span class="ident" id="3521704">sub</span><span class="op" id="3521707">(</span><span class="ident" id="3521708">x</span><span class="op" id="3521709">.</span><span class="ident" id="3521710">abs</span><span class="op" id="3521713">,</span>&nbsp;<span class="ident" id="3521715">natOne</span><span class="op" id="3521721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3521725">t</span>&nbsp;<span class="op" id="3521727">=</span>&nbsp;<span class="ident" id="3521729">t</span><span class="op" id="3521730">.</span><span class="ident" id="3521731">setBit</span><span class="op" id="3521737">(</span><span class="ident" id="3521738">t</span><span class="op" id="3521739">,</span>&nbsp;<span class="builtintype" id="3521741">uint</span><span class="op" id="3521745">(</span><span class="ident" id="3521746">i</span><span class="op" id="3521747">)</span><span class="op" id="3521748">,</span>&nbsp;<span class="ident" id="3521750">b</span><span class="op" id="3521751">^</span><span class="num" id="3521752">1</span><span class="op" id="3521753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3521757">z</span><span class="op" id="3521758">.</span><span class="ident" id="3521759">abs</span>&nbsp;<span class="op" id="3521763">=</span>&nbsp;<span class="ident" id="3521765">t</span><span class="op" id="3521766">.</span><span class="ident" id="3521767">add</span><span class="op" id="3521770">(</span><span class="ident" id="3521771">t</span><span class="op" id="3521772">,</span>&nbsp;<span class="ident" id="3521774">natOne</span><span class="op" id="3521780">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3521784">z</span><span class="op" id="3521785">.</span><span class="ident" id="3521786">neg</span>&nbsp;<span class="op" id="3521790">=</span>&nbsp;<span class="builtinfunc" id="3521792">len</span><span class="op" id="3521795">(</span><span class="ident" id="3521796">z</span><span class="op" id="3521797">.</span><span class="ident" id="3521798">abs</span><span class="op" id="3521801">)</span>&nbsp;<span class="op" id="3521803">&gt;</span>&nbsp;<span class="num" id="3521805">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521809">return</span>&nbsp;<span class="ident" id="3521816">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3521819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3521822">z</span><span class="op" id="3521823">.</span><span class="ident" id="3521824">abs</span>&nbsp;<span class="op" id="3521828">=</span>&nbsp;<span class="ident" id="3521830">z</span><span class="op" id="3521831">.</span><span class="ident" id="3521832">abs</span><span class="op" id="3521835">.</span><span class="ident" id="3521836">setBit</span><span class="op" id="3521842">(</span><span class="ident" id="3521843">x</span><span class="op" id="3521844">.</span><span class="ident" id="3521845">abs</span><span class="op" id="3521848">,</span>&nbsp;<span class="builtintype" id="3521850">uint</span><span class="op" id="3521854">(</span><span class="ident" id="3521855">i</span><span class="op" id="3521856">)</span><span class="op" id="3521857">,</span>&nbsp;<span class="ident" id="3521859">b</span><span class="op" id="3521860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3521863">z</span><span class="op" id="3521864">.</span><span class="ident" id="3521865">neg</span>&nbsp;<span class="op" id="3521869">=</span>&nbsp;<span class="builtintype" id="3521871">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521878">return</span>&nbsp;<span class="ident" id="3521885">z</span><br>
<span class="lineno"></span><span class="op" id="3521887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3521890">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3521927">func</span>&nbsp;<span class="op" id="3521932">(</span><span class="ident" id="3521933">z</span>&nbsp;<span class="op" id="3521935">*</span><span class="ident" id="3521936">Int</span><span class="op" id="3521939">)</span>&nbsp;<span class="ident" id="3521941">And</span><span class="op" id="3521944">(</span><span class="ident" id="3521945">x</span><span class="op" id="3521946">,</span>&nbsp;<span class="ident" id="3521948">y</span>&nbsp;<span class="op" id="3521950">*</span><span class="ident" id="3521951">Int</span><span class="op" id="3521954">)</span>&nbsp;<span class="op" id="3521956">*</span><span class="ident" id="3521957">Int</span>&nbsp;<span class="op" id="3521961">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521964">if</span>&nbsp;<span class="ident" id="3521967">x</span><span class="op" id="3521968">.</span><span class="ident" id="3521969">neg</span>&nbsp;<span class="op" id="3521973">==</span>&nbsp;<span class="ident" id="3521976">y</span><span class="op" id="3521977">.</span><span class="ident" id="3521978">neg</span>&nbsp;<span class="op" id="3521982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3521986">if</span>&nbsp;<span class="ident" id="3521989">x</span><span class="op" id="3521990">.</span><span class="ident" id="3521991">neg</span>&nbsp;<span class="op" id="3521995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3522000">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522083">x1</span>&nbsp;<span class="op" id="3522086">:=</span>&nbsp;<span class="ident" id="3522089">nat</span><span class="op" id="3522092">(</span><span class="ident" id="3522093">nil</span><span class="op" id="3522096">)</span><span class="op" id="3522097">.</span><span class="ident" id="3522098">sub</span><span class="op" id="3522101">(</span><span class="ident" id="3522102">x</span><span class="op" id="3522103">.</span><span class="ident" id="3522104">abs</span><span class="op" id="3522107">,</span>&nbsp;<span class="ident" id="3522109">natOne</span><span class="op" id="3522115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522120">y1</span>&nbsp;<span class="op" id="3522123">:=</span>&nbsp;<span class="ident" id="3522126">nat</span><span class="op" id="3522129">(</span><span class="ident" id="3522130">nil</span><span class="op" id="3522133">)</span><span class="op" id="3522134">.</span><span class="ident" id="3522135">sub</span><span class="op" id="3522138">(</span><span class="ident" id="3522139">y</span><span class="op" id="3522140">.</span><span class="ident" id="3522141">abs</span><span class="op" id="3522144">,</span>&nbsp;<span class="ident" id="3522146">natOne</span><span class="op" id="3522152">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522157">z</span><span class="op" id="3522158">.</span><span class="ident" id="3522159">abs</span>&nbsp;<span class="op" id="3522163">=</span>&nbsp;<span class="ident" id="3522165">z</span><span class="op" id="3522166">.</span><span class="ident" id="3522167">abs</span><span class="op" id="3522170">.</span><span class="ident" id="3522171">add</span><span class="op" id="3522174">(</span><span class="ident" id="3522175">z</span><span class="op" id="3522176">.</span><span class="ident" id="3522177">abs</span><span class="op" id="3522180">.</span><span class="ident" id="3522181">or</span><span class="op" id="3522183">(</span><span class="ident" id="3522184">x1</span><span class="op" id="3522186">,</span>&nbsp;<span class="ident" id="3522188">y1</span><span class="op" id="3522190">)</span><span class="op" id="3522191">,</span>&nbsp;<span class="ident" id="3522193">natOne</span><span class="op" id="3522199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522204">z</span><span class="op" id="3522205">.</span><span class="ident" id="3522206">neg</span>&nbsp;<span class="op" id="3522210">=</span>&nbsp;<span class="builtintype" id="3522212">true</span>&nbsp;<span class="comment" id="3522217">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3522264">return</span>&nbsp;<span class="ident" id="3522271">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3522275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3522280">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522300">z</span><span class="op" id="3522301">.</span><span class="ident" id="3522302">abs</span>&nbsp;<span class="op" id="3522306">=</span>&nbsp;<span class="ident" id="3522308">z</span><span class="op" id="3522309">.</span><span class="ident" id="3522310">abs</span><span class="op" id="3522313">.</span><span class="ident" id="3522314">and</span><span class="op" id="3522317">(</span><span class="ident" id="3522318">x</span><span class="op" id="3522319">.</span><span class="ident" id="3522320">abs</span><span class="op" id="3522323">,</span>&nbsp;<span class="ident" id="3522325">y</span><span class="op" id="3522326">.</span><span class="ident" id="3522327">abs</span><span class="op" id="3522330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522334">z</span><span class="op" id="3522335">.</span><span class="ident" id="3522336">neg</span>&nbsp;<span class="op" id="3522340">=</span>&nbsp;<span class="builtintype" id="3522342">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3522350">return</span>&nbsp;<span class="ident" id="3522357">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3522360">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3522364">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3522383">if</span>&nbsp;<span class="ident" id="3522386">x</span><span class="op" id="3522387">.</span><span class="ident" id="3522388">neg</span>&nbsp;<span class="op" id="3522392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522396">x</span><span class="op" id="3522397">,</span>&nbsp;<span class="ident" id="3522399">y</span>&nbsp;<span class="op" id="3522401">=</span>&nbsp;<span class="ident" id="3522403">y</span><span class="op" id="3522404">,</span>&nbsp;<span class="ident" id="3522406">x</span>&nbsp;<span class="comment" id="3522408">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3522427">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3522431">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522472">y1</span>&nbsp;<span class="op" id="3522475">:=</span>&nbsp;<span class="ident" id="3522478">nat</span><span class="op" id="3522481">(</span><span class="ident" id="3522482">nil</span><span class="op" id="3522485">)</span><span class="op" id="3522486">.</span><span class="ident" id="3522487">sub</span><span class="op" id="3522490">(</span><span class="ident" id="3522491">y</span><span class="op" id="3522492">.</span><span class="ident" id="3522493">abs</span><span class="op" id="3522496">,</span>&nbsp;<span class="ident" id="3522498">natOne</span><span class="op" id="3522504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522507">z</span><span class="op" id="3522508">.</span><span class="ident" id="3522509">abs</span>&nbsp;<span class="op" id="3522513">=</span>&nbsp;<span class="ident" id="3522515">z</span><span class="op" id="3522516">.</span><span class="ident" id="3522517">abs</span><span class="op" id="3522520">.</span><span class="ident" id="3522521">andNot</span><span class="op" id="3522527">(</span><span class="ident" id="3522528">x</span><span class="op" id="3522529">.</span><span class="ident" id="3522530">abs</span><span class="op" id="3522533">,</span>&nbsp;<span class="ident" id="3522535">y1</span><span class="op" id="3522537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522540">z</span><span class="op" id="3522541">.</span><span class="ident" id="3522542">neg</span>&nbsp;<span class="op" id="3522546">=</span>&nbsp;<span class="builtintype" id="3522548">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3522555">return</span>&nbsp;<span class="ident" id="3522562">z</span><br>
<span class="lineno"></span><span class="op" id="3522564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3522567">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3522608">func</span>&nbsp;<span class="op" id="3522613">(</span><span class="ident" id="3522614">z</span>&nbsp;<span class="op" id="3522616">*</span><span class="ident" id="3522617">Int</span><span class="op" id="3522620">)</span>&nbsp;<span class="ident" id="3522622">AndNot</span><span class="op" id="3522628">(</span><span class="ident" id="3522629">x</span><span class="op" id="3522630">,</span>&nbsp;<span class="ident" id="3522632">y</span>&nbsp;<span class="op" id="3522634">*</span><span class="ident" id="3522635">Int</span><span class="op" id="3522638">)</span>&nbsp;<span class="op" id="3522640">*</span><span class="ident" id="3522641">Int</span>&nbsp;<span class="op" id="3522645">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3522648">if</span>&nbsp;<span class="ident" id="3522651">x</span><span class="op" id="3522652">.</span><span class="ident" id="3522653">neg</span>&nbsp;<span class="op" id="3522657">==</span>&nbsp;<span class="ident" id="3522660">y</span><span class="op" id="3522661">.</span><span class="ident" id="3522662">neg</span>&nbsp;<span class="op" id="3522666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3522670">if</span>&nbsp;<span class="ident" id="3522673">x</span><span class="op" id="3522674">.</span><span class="ident" id="3522675">neg</span>&nbsp;<span class="op" id="3522679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3522684">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522759">x1</span>&nbsp;<span class="op" id="3522762">:=</span>&nbsp;<span class="ident" id="3522765">nat</span><span class="op" id="3522768">(</span><span class="ident" id="3522769">nil</span><span class="op" id="3522772">)</span><span class="op" id="3522773">.</span><span class="ident" id="3522774">sub</span><span class="op" id="3522777">(</span><span class="ident" id="3522778">x</span><span class="op" id="3522779">.</span><span class="ident" id="3522780">abs</span><span class="op" id="3522783">,</span>&nbsp;<span class="ident" id="3522785">natOne</span><span class="op" id="3522791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522796">y1</span>&nbsp;<span class="op" id="3522799">:=</span>&nbsp;<span class="ident" id="3522802">nat</span><span class="op" id="3522805">(</span><span class="ident" id="3522806">nil</span><span class="op" id="3522809">)</span><span class="op" id="3522810">.</span><span class="ident" id="3522811">sub</span><span class="op" id="3522814">(</span><span class="ident" id="3522815">y</span><span class="op" id="3522816">.</span><span class="ident" id="3522817">abs</span><span class="op" id="3522820">,</span>&nbsp;<span class="ident" id="3522822">natOne</span><span class="op" id="3522828">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522833">z</span><span class="op" id="3522834">.</span><span class="ident" id="3522835">abs</span>&nbsp;<span class="op" id="3522839">=</span>&nbsp;<span class="ident" id="3522841">z</span><span class="op" id="3522842">.</span><span class="ident" id="3522843">abs</span><span class="op" id="3522846">.</span><span class="ident" id="3522847">andNot</span><span class="op" id="3522853">(</span><span class="ident" id="3522854">y1</span><span class="op" id="3522856">,</span>&nbsp;<span class="ident" id="3522858">x1</span><span class="op" id="3522860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522865">z</span><span class="op" id="3522866">.</span><span class="ident" id="3522867">neg</span>&nbsp;<span class="op" id="3522871">=</span>&nbsp;<span class="builtintype" id="3522873">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3522882">return</span>&nbsp;<span class="ident" id="3522889">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3522893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3522898">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522920">z</span><span class="op" id="3522921">.</span><span class="ident" id="3522922">abs</span>&nbsp;<span class="op" id="3522926">=</span>&nbsp;<span class="ident" id="3522928">z</span><span class="op" id="3522929">.</span><span class="ident" id="3522930">abs</span><span class="op" id="3522933">.</span><span class="ident" id="3522934">andNot</span><span class="op" id="3522940">(</span><span class="ident" id="3522941">x</span><span class="op" id="3522942">.</span><span class="ident" id="3522943">abs</span><span class="op" id="3522946">,</span>&nbsp;<span class="ident" id="3522948">y</span><span class="op" id="3522949">.</span><span class="ident" id="3522950">abs</span><span class="op" id="3522953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3522957">z</span><span class="op" id="3522958">.</span><span class="ident" id="3522959">neg</span>&nbsp;<span class="op" id="3522963">=</span>&nbsp;<span class="builtintype" id="3522965">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3522973">return</span>&nbsp;<span class="ident" id="3522980">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3522983">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3522987">if</span>&nbsp;<span class="ident" id="3522990">x</span><span class="op" id="3522991">.</span><span class="ident" id="3522992">neg</span>&nbsp;<span class="op" id="3522996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3523000">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523083">x1</span>&nbsp;<span class="op" id="3523086">:=</span>&nbsp;<span class="ident" id="3523089">nat</span><span class="op" id="3523092">(</span><span class="ident" id="3523093">nil</span><span class="op" id="3523096">)</span><span class="op" id="3523097">.</span><span class="ident" id="3523098">sub</span><span class="op" id="3523101">(</span><span class="ident" id="3523102">x</span><span class="op" id="3523103">.</span><span class="ident" id="3523104">abs</span><span class="op" id="3523107">,</span>&nbsp;<span class="ident" id="3523109">natOne</span><span class="op" id="3523115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523119">z</span><span class="op" id="3523120">.</span><span class="ident" id="3523121">abs</span>&nbsp;<span class="op" id="3523125">=</span>&nbsp;<span class="ident" id="3523127">z</span><span class="op" id="3523128">.</span><span class="ident" id="3523129">abs</span><span class="op" id="3523132">.</span><span class="ident" id="3523133">add</span><span class="op" id="3523136">(</span><span class="ident" id="3523137">z</span><span class="op" id="3523138">.</span><span class="ident" id="3523139">abs</span><span class="op" id="3523142">.</span><span class="ident" id="3523143">or</span><span class="op" id="3523145">(</span><span class="ident" id="3523146">x1</span><span class="op" id="3523148">,</span>&nbsp;<span class="ident" id="3523150">y</span><span class="op" id="3523151">.</span><span class="ident" id="3523152">abs</span><span class="op" id="3523155">)</span><span class="op" id="3523156">,</span>&nbsp;<span class="ident" id="3523158">natOne</span><span class="op" id="3523164">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523168">z</span><span class="op" id="3523169">.</span><span class="ident" id="3523170">neg</span>&nbsp;<span class="op" id="3523174">=</span>&nbsp;<span class="builtintype" id="3523176">true</span>&nbsp;<span class="comment" id="3523181">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3523238">return</span>&nbsp;<span class="ident" id="3523245">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3523248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3523252">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523294">y1</span>&nbsp;<span class="op" id="3523297">:=</span>&nbsp;<span class="ident" id="3523300">nat</span><span class="op" id="3523303">(</span><span class="ident" id="3523304">nil</span><span class="op" id="3523307">)</span><span class="op" id="3523308">.</span><span class="ident" id="3523309">add</span><span class="op" id="3523312">(</span><span class="ident" id="3523313">y</span><span class="op" id="3523314">.</span><span class="ident" id="3523315">abs</span><span class="op" id="3523318">,</span>&nbsp;<span class="ident" id="3523320">natOne</span><span class="op" id="3523326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523329">z</span><span class="op" id="3523330">.</span><span class="ident" id="3523331">abs</span>&nbsp;<span class="op" id="3523335">=</span>&nbsp;<span class="ident" id="3523337">z</span><span class="op" id="3523338">.</span><span class="ident" id="3523339">abs</span><span class="op" id="3523342">.</span><span class="ident" id="3523343">and</span><span class="op" id="3523346">(</span><span class="ident" id="3523347">x</span><span class="op" id="3523348">.</span><span class="ident" id="3523349">abs</span><span class="op" id="3523352">,</span>&nbsp;<span class="ident" id="3523354">y1</span><span class="op" id="3523356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523359">z</span><span class="op" id="3523360">.</span><span class="ident" id="3523361">neg</span>&nbsp;<span class="op" id="3523365">=</span>&nbsp;<span class="builtintype" id="3523367">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3523374">return</span>&nbsp;<span class="ident" id="3523381">z</span><br>
<span class="lineno"></span><span class="op" id="3523383">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="3523386">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3523422">func</span>&nbsp;<span class="op" id="3523427">(</span><span class="ident" id="3523428">z</span>&nbsp;<span class="op" id="3523430">*</span><span class="ident" id="3523431">Int</span><span class="op" id="3523434">)</span>&nbsp;<span class="ident" id="3523436">Or</span><span class="op" id="3523438">(</span><span class="ident" id="3523439">x</span><span class="op" id="3523440">,</span>&nbsp;<span class="ident" id="3523442">y</span>&nbsp;<span class="op" id="3523444">*</span><span class="ident" id="3523445">Int</span><span class="op" id="3523448">)</span>&nbsp;<span class="op" id="3523450">*</span><span class="ident" id="3523451">Int</span>&nbsp;<span class="op" id="3523455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3523458">if</span>&nbsp;<span class="ident" id="3523461">x</span><span class="op" id="3523462">.</span><span class="ident" id="3523463">neg</span>&nbsp;<span class="op" id="3523467">==</span>&nbsp;<span class="ident" id="3523470">y</span><span class="op" id="3523471">.</span><span class="ident" id="3523472">neg</span>&nbsp;<span class="op" id="3523476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3523480">if</span>&nbsp;<span class="ident" id="3523483">x</span><span class="op" id="3523484">.</span><span class="ident" id="3523485">neg</span>&nbsp;<span class="op" id="3523489">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3523494">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523577">x1</span>&nbsp;<span class="op" id="3523580">:=</span>&nbsp;<span class="ident" id="3523583">nat</span><span class="op" id="3523586">(</span><span class="ident" id="3523587">nil</span><span class="op" id="3523590">)</span><span class="op" id="3523591">.</span><span class="ident" id="3523592">sub</span><span class="op" id="3523595">(</span><span class="ident" id="3523596">x</span><span class="op" id="3523597">.</span><span class="ident" id="3523598">abs</span><span class="op" id="3523601">,</span>&nbsp;<span class="ident" id="3523603">natOne</span><span class="op" id="3523609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523614">y1</span>&nbsp;<span class="op" id="3523617">:=</span>&nbsp;<span class="ident" id="3523620">nat</span><span class="op" id="3523623">(</span><span class="ident" id="3523624">nil</span><span class="op" id="3523627">)</span><span class="op" id="3523628">.</span><span class="ident" id="3523629">sub</span><span class="op" id="3523632">(</span><span class="ident" id="3523633">y</span><span class="op" id="3523634">.</span><span class="ident" id="3523635">abs</span><span class="op" id="3523638">,</span>&nbsp;<span class="ident" id="3523640">natOne</span><span class="op" id="3523646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523651">z</span><span class="op" id="3523652">.</span><span class="ident" id="3523653">abs</span>&nbsp;<span class="op" id="3523657">=</span>&nbsp;<span class="ident" id="3523659">z</span><span class="op" id="3523660">.</span><span class="ident" id="3523661">abs</span><span class="op" id="3523664">.</span><span class="ident" id="3523665">add</span><span class="op" id="3523668">(</span><span class="ident" id="3523669">z</span><span class="op" id="3523670">.</span><span class="ident" id="3523671">abs</span><span class="op" id="3523674">.</span><span class="ident" id="3523675">and</span><span class="op" id="3523678">(</span><span class="ident" id="3523679">x1</span><span class="op" id="3523681">,</span>&nbsp;<span class="ident" id="3523683">y1</span><span class="op" id="3523685">)</span><span class="op" id="3523686">,</span>&nbsp;<span class="ident" id="3523688">natOne</span><span class="op" id="3523694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523699">z</span><span class="op" id="3523700">.</span><span class="ident" id="3523701">neg</span>&nbsp;<span class="op" id="3523705">=</span>&nbsp;<span class="builtintype" id="3523707">true</span>&nbsp;<span class="comment" id="3523712">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3523759">return</span>&nbsp;<span class="ident" id="3523766">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3523770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3523775">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523795">z</span><span class="op" id="3523796">.</span><span class="ident" id="3523797">abs</span>&nbsp;<span class="op" id="3523801">=</span>&nbsp;<span class="ident" id="3523803">z</span><span class="op" id="3523804">.</span><span class="ident" id="3523805">abs</span><span class="op" id="3523808">.</span><span class="ident" id="3523809">or</span><span class="op" id="3523811">(</span><span class="ident" id="3523812">x</span><span class="op" id="3523813">.</span><span class="ident" id="3523814">abs</span><span class="op" id="3523817">,</span>&nbsp;<span class="ident" id="3523819">y</span><span class="op" id="3523820">.</span><span class="ident" id="3523821">abs</span><span class="op" id="3523824">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523828">z</span><span class="op" id="3523829">.</span><span class="ident" id="3523830">neg</span>&nbsp;<span class="op" id="3523834">=</span>&nbsp;<span class="builtintype" id="3523836">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3523844">return</span>&nbsp;<span class="ident" id="3523851">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3523854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3523858">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3523877">if</span>&nbsp;<span class="ident" id="3523880">x</span><span class="op" id="3523881">.</span><span class="ident" id="3523882">neg</span>&nbsp;<span class="op" id="3523886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523890">x</span><span class="op" id="3523891">,</span>&nbsp;<span class="ident" id="3523893">y</span>&nbsp;<span class="op" id="3523895">=</span>&nbsp;<span class="ident" id="3523897">y</span><span class="op" id="3523898">,</span>&nbsp;<span class="ident" id="3523900">x</span>&nbsp;<span class="comment" id="3523902">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3523921">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3523925">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3523993">y1</span>&nbsp;<span class="op" id="3523996">:=</span>&nbsp;<span class="ident" id="3523999">nat</span><span class="op" id="3524002">(</span><span class="ident" id="3524003">nil</span><span class="op" id="3524006">)</span><span class="op" id="3524007">.</span><span class="ident" id="3524008">sub</span><span class="op" id="3524011">(</span><span class="ident" id="3524012">y</span><span class="op" id="3524013">.</span><span class="ident" id="3524014">abs</span><span class="op" id="3524017">,</span>&nbsp;<span class="ident" id="3524019">natOne</span><span class="op" id="3524025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524028">z</span><span class="op" id="3524029">.</span><span class="ident" id="3524030">abs</span>&nbsp;<span class="op" id="3524034">=</span>&nbsp;<span class="ident" id="3524036">z</span><span class="op" id="3524037">.</span><span class="ident" id="3524038">abs</span><span class="op" id="3524041">.</span><span class="ident" id="3524042">add</span><span class="op" id="3524045">(</span><span class="ident" id="3524046">z</span><span class="op" id="3524047">.</span><span class="ident" id="3524048">abs</span><span class="op" id="3524051">.</span><span class="ident" id="3524052">andNot</span><span class="op" id="3524058">(</span><span class="ident" id="3524059">y1</span><span class="op" id="3524061">,</span>&nbsp;<span class="ident" id="3524063">x</span><span class="op" id="3524064">.</span><span class="ident" id="3524065">abs</span><span class="op" id="3524068">)</span><span class="op" id="3524069">,</span>&nbsp;<span class="ident" id="3524071">natOne</span><span class="op" id="3524077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524080">z</span><span class="op" id="3524081">.</span><span class="ident" id="3524082">neg</span>&nbsp;<span class="op" id="3524086">=</span>&nbsp;<span class="builtintype" id="3524088">true</span>&nbsp;<span class="comment" id="3524093">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3524143">return</span>&nbsp;<span class="ident" id="3524150">z</span><br>
<span class="lineno"></span><span class="op" id="3524152">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="3524155">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3524192">func</span>&nbsp;<span class="op" id="3524197">(</span><span class="ident" id="3524198">z</span>&nbsp;<span class="op" id="3524200">*</span><span class="ident" id="3524201">Int</span><span class="op" id="3524204">)</span>&nbsp;<span class="ident" id="3524206">Xor</span><span class="op" id="3524209">(</span><span class="ident" id="3524210">x</span><span class="op" id="3524211">,</span>&nbsp;<span class="ident" id="3524213">y</span>&nbsp;<span class="op" id="3524215">*</span><span class="ident" id="3524216">Int</span><span class="op" id="3524219">)</span>&nbsp;<span class="op" id="3524221">*</span><span class="ident" id="3524222">Int</span>&nbsp;<span class="op" id="3524226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3524229">if</span>&nbsp;<span class="ident" id="3524232">x</span><span class="op" id="3524233">.</span><span class="ident" id="3524234">neg</span>&nbsp;<span class="op" id="3524238">==</span>&nbsp;<span class="ident" id="3524241">y</span><span class="op" id="3524242">.</span><span class="ident" id="3524243">neg</span>&nbsp;<span class="op" id="3524247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3524251">if</span>&nbsp;<span class="ident" id="3524254">x</span><span class="op" id="3524255">.</span><span class="ident" id="3524256">neg</span>&nbsp;<span class="op" id="3524260">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3524265">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524319">x1</span>&nbsp;<span class="op" id="3524322">:=</span>&nbsp;<span class="ident" id="3524325">nat</span><span class="op" id="3524328">(</span><span class="ident" id="3524329">nil</span><span class="op" id="3524332">)</span><span class="op" id="3524333">.</span><span class="ident" id="3524334">sub</span><span class="op" id="3524337">(</span><span class="ident" id="3524338">x</span><span class="op" id="3524339">.</span><span class="ident" id="3524340">abs</span><span class="op" id="3524343">,</span>&nbsp;<span class="ident" id="3524345">natOne</span><span class="op" id="3524351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524356">y1</span>&nbsp;<span class="op" id="3524359">:=</span>&nbsp;<span class="ident" id="3524362">nat</span><span class="op" id="3524365">(</span><span class="ident" id="3524366">nil</span><span class="op" id="3524369">)</span><span class="op" id="3524370">.</span><span class="ident" id="3524371">sub</span><span class="op" id="3524374">(</span><span class="ident" id="3524375">y</span><span class="op" id="3524376">.</span><span class="ident" id="3524377">abs</span><span class="op" id="3524380">,</span>&nbsp;<span class="ident" id="3524382">natOne</span><span class="op" id="3524388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524393">z</span><span class="op" id="3524394">.</span><span class="ident" id="3524395">abs</span>&nbsp;<span class="op" id="3524399">=</span>&nbsp;<span class="ident" id="3524401">z</span><span class="op" id="3524402">.</span><span class="ident" id="3524403">abs</span><span class="op" id="3524406">.</span><span class="ident" id="3524407">xor</span><span class="op" id="3524410">(</span><span class="ident" id="3524411">x1</span><span class="op" id="3524413">,</span>&nbsp;<span class="ident" id="3524415">y1</span><span class="op" id="3524417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524422">z</span><span class="op" id="3524423">.</span><span class="ident" id="3524424">neg</span>&nbsp;<span class="op" id="3524428">=</span>&nbsp;<span class="builtintype" id="3524430">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3524439">return</span>&nbsp;<span class="ident" id="3524446">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3524450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3524455">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524475">z</span><span class="op" id="3524476">.</span><span class="ident" id="3524477">abs</span>&nbsp;<span class="op" id="3524481">=</span>&nbsp;<span class="ident" id="3524483">z</span><span class="op" id="3524484">.</span><span class="ident" id="3524485">abs</span><span class="op" id="3524488">.</span><span class="ident" id="3524489">xor</span><span class="op" id="3524492">(</span><span class="ident" id="3524493">x</span><span class="op" id="3524494">.</span><span class="ident" id="3524495">abs</span><span class="op" id="3524498">,</span>&nbsp;<span class="ident" id="3524500">y</span><span class="op" id="3524501">.</span><span class="ident" id="3524502">abs</span><span class="op" id="3524505">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524509">z</span><span class="op" id="3524510">.</span><span class="ident" id="3524511">neg</span>&nbsp;<span class="op" id="3524515">=</span>&nbsp;<span class="builtintype" id="3524517">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3524525">return</span>&nbsp;<span class="ident" id="3524532">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3524535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3524539">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3524558">if</span>&nbsp;<span class="ident" id="3524561">x</span><span class="op" id="3524562">.</span><span class="ident" id="3524563">neg</span>&nbsp;<span class="op" id="3524567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524571">x</span><span class="op" id="3524572">,</span>&nbsp;<span class="ident" id="3524574">y</span>&nbsp;<span class="op" id="3524576">=</span>&nbsp;<span class="ident" id="3524578">y</span><span class="op" id="3524579">,</span>&nbsp;<span class="ident" id="3524581">x</span>&nbsp;<span class="comment" id="3524583">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3524602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3524606">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524671">y1</span>&nbsp;<span class="op" id="3524674">:=</span>&nbsp;<span class="ident" id="3524677">nat</span><span class="op" id="3524680">(</span><span class="ident" id="3524681">nil</span><span class="op" id="3524684">)</span><span class="op" id="3524685">.</span><span class="ident" id="3524686">sub</span><span class="op" id="3524689">(</span><span class="ident" id="3524690">y</span><span class="op" id="3524691">.</span><span class="ident" id="3524692">abs</span><span class="op" id="3524695">,</span>&nbsp;<span class="ident" id="3524697">natOne</span><span class="op" id="3524703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524706">z</span><span class="op" id="3524707">.</span><span class="ident" id="3524708">abs</span>&nbsp;<span class="op" id="3524712">=</span>&nbsp;<span class="ident" id="3524714">z</span><span class="op" id="3524715">.</span><span class="ident" id="3524716">abs</span><span class="op" id="3524719">.</span><span class="ident" id="3524720">add</span><span class="op" id="3524723">(</span><span class="ident" id="3524724">z</span><span class="op" id="3524725">.</span><span class="ident" id="3524726">abs</span><span class="op" id="3524729">.</span><span class="ident" id="3524730">xor</span><span class="op" id="3524733">(</span><span class="ident" id="3524734">x</span><span class="op" id="3524735">.</span><span class="ident" id="3524736">abs</span><span class="op" id="3524739">,</span>&nbsp;<span class="ident" id="3524741">y1</span><span class="op" id="3524743">)</span><span class="op" id="3524744">,</span>&nbsp;<span class="ident" id="3524746">natOne</span><span class="op" id="3524752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524755">z</span><span class="op" id="3524756">.</span><span class="ident" id="3524757">neg</span>&nbsp;<span class="op" id="3524761">=</span>&nbsp;<span class="builtintype" id="3524763">true</span>&nbsp;<span class="comment" id="3524768">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3524823">return</span>&nbsp;<span class="ident" id="3524830">z</span><br>
<span class="lineno"></span><span class="op" id="3524832">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="3524835">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3524869">func</span>&nbsp;<span class="op" id="3524874">(</span><span class="ident" id="3524875">z</span>&nbsp;<span class="op" id="3524877">*</span><span class="ident" id="3524878">Int</span><span class="op" id="3524881">)</span>&nbsp;<span class="ident" id="3524883">Not</span><span class="op" id="3524886">(</span><span class="ident" id="3524887">x</span>&nbsp;<span class="op" id="3524889">*</span><span class="ident" id="3524890">Int</span><span class="op" id="3524893">)</span>&nbsp;<span class="op" id="3524895">*</span><span class="ident" id="3524896">Int</span>&nbsp;<span class="op" id="3524900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3524903">if</span>&nbsp;<span class="ident" id="3524906">x</span><span class="op" id="3524907">.</span><span class="ident" id="3524908">neg</span>&nbsp;<span class="op" id="3524912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3524916">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524947">z</span><span class="op" id="3524948">.</span><span class="ident" id="3524949">abs</span>&nbsp;<span class="op" id="3524953">=</span>&nbsp;<span class="ident" id="3524955">z</span><span class="op" id="3524956">.</span><span class="ident" id="3524957">abs</span><span class="op" id="3524960">.</span><span class="ident" id="3524961">sub</span><span class="op" id="3524964">(</span><span class="ident" id="3524965">x</span><span class="op" id="3524966">.</span><span class="ident" id="3524967">abs</span><span class="op" id="3524970">,</span>&nbsp;<span class="ident" id="3524972">natOne</span><span class="op" id="3524978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3524982">z</span><span class="op" id="3524983">.</span><span class="ident" id="3524984">neg</span>&nbsp;<span class="op" id="3524988">=</span>&nbsp;<span class="builtintype" id="3524990">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3524998">return</span>&nbsp;<span class="ident" id="3525005">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3525008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3525012">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525037">z</span><span class="op" id="3525038">.</span><span class="ident" id="3525039">abs</span>&nbsp;<span class="op" id="3525043">=</span>&nbsp;<span class="ident" id="3525045">z</span><span class="op" id="3525046">.</span><span class="ident" id="3525047">abs</span><span class="op" id="3525050">.</span><span class="ident" id="3525051">add</span><span class="op" id="3525054">(</span><span class="ident" id="3525055">x</span><span class="op" id="3525056">.</span><span class="ident" id="3525057">abs</span><span class="op" id="3525060">,</span>&nbsp;<span class="ident" id="3525062">natOne</span><span class="op" id="3525068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525071">z</span><span class="op" id="3525072">.</span><span class="ident" id="3525073">neg</span>&nbsp;<span class="op" id="3525077">=</span>&nbsp;<span class="builtintype" id="3525079">true</span>&nbsp;<span class="comment" id="3525084">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525122">return</span>&nbsp;<span class="ident" id="3525129">z</span><br>
<span class="lineno"></span><span class="op" id="3525131">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="3525134">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3525209">const</span>&nbsp;<span class="ident" id="3525215">intGobVersion</span>&nbsp;<span class="builtintype" id="3525229">byte</span>&nbsp;<span class="op" id="3525234">=</span>&nbsp;<span class="num" id="3525236">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3525239">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="3525293">func</span>&nbsp;<span class="op" id="3525298">(</span><span class="ident" id="3525299">x</span>&nbsp;<span class="op" id="3525301">*</span><span class="ident" id="3525302">Int</span><span class="op" id="3525305">)</span>&nbsp;<span class="ident" id="3525307">GobEncode</span><span class="op" id="3525316">(</span><span class="op" id="3525317">)</span>&nbsp;<span class="op" id="3525319">(</span><span class="op" id="3525320">[</span><span class="op" id="3525321">]</span><span class="builtintype" id="3525322">byte</span><span class="op" id="3525326">,</span>&nbsp;<span class="builtintype" id="3525328">error</span><span class="op" id="3525333">)</span>&nbsp;<span class="op" id="3525335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525338">if</span>&nbsp;<span class="ident" id="3525341">x</span>&nbsp;<span class="op" id="3525343">==</span>&nbsp;<span class="ident" id="3525346">nil</span>&nbsp;<span class="op" id="3525350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525354">return</span>&nbsp;<span class="ident" id="3525361">nil</span><span class="op" id="3525364">,</span>&nbsp;<span class="ident" id="3525366">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3525371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525374">buf</span>&nbsp;<span class="op" id="3525378">:=</span>&nbsp;<span class="builtinfunc" id="3525381">make</span><span class="op" id="3525385">(</span><span class="op" id="3525386">[</span><span class="op" id="3525387">]</span><span class="builtintype" id="3525388">byte</span><span class="op" id="3525392">,</span>&nbsp;<span class="num" id="3525394">1</span><span class="op" id="3525395">+</span><span class="builtinfunc" id="3525396">len</span><span class="op" id="3525399">(</span><span class="ident" id="3525400">x</span><span class="op" id="3525401">.</span><span class="ident" id="3525402">abs</span><span class="op" id="3525405">)</span><span class="op" id="3525406">*</span><span class="ident" id="3525407">_S</span><span class="op" id="3525409">)</span>&nbsp;<span class="comment" id="3525411">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525451">i</span>&nbsp;<span class="op" id="3525453">:=</span>&nbsp;<span class="ident" id="3525456">x</span><span class="op" id="3525457">.</span><span class="ident" id="3525458">abs</span><span class="op" id="3525461">.</span><span class="ident" id="3525462">bytes</span><span class="op" id="3525467">(</span><span class="ident" id="3525468">buf</span><span class="op" id="3525471">)</span>&nbsp;<span class="op" id="3525473">-</span>&nbsp;<span class="num" id="3525475">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525488">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525499">b</span>&nbsp;<span class="op" id="3525501">:=</span>&nbsp;<span class="ident" id="3525504">intGobVersion</span>&nbsp;<span class="op" id="3525518">&lt;&lt;</span>&nbsp;<span class="num" id="3525521">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525536">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525564">if</span>&nbsp;<span class="ident" id="3525567">x</span><span class="op" id="3525568">.</span><span class="ident" id="3525569">neg</span>&nbsp;<span class="op" id="3525573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525577">b</span>&nbsp;<span class="op" id="3525579">|=</span>&nbsp;<span class="num" id="3525582">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3525585">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525588">buf</span><span class="op" id="3525591">[</span><span class="ident" id="3525592">i</span><span class="op" id="3525593">]</span>&nbsp;<span class="op" id="3525595">=</span>&nbsp;<span class="ident" id="3525597">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525600">return</span>&nbsp;<span class="ident" id="3525607">buf</span><span class="op" id="3525610">[</span><span class="ident" id="3525611">i</span><span class="op" id="3525612">:</span><span class="op" id="3525613">]</span><span class="op" id="3525614">,</span>&nbsp;<span class="ident" id="3525616">nil</span><br>
<span class="lineno"></span><span class="op" id="3525620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3525623">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="3525677">func</span>&nbsp;<span class="op" id="3525682">(</span><span class="ident" id="3525683">z</span>&nbsp;<span class="op" id="3525685">*</span><span class="ident" id="3525686">Int</span><span class="op" id="3525689">)</span>&nbsp;<span class="ident" id="3525691">GobDecode</span><span class="op" id="3525700">(</span><span class="ident" id="3525701">buf</span>&nbsp;<span class="op" id="3525705">[</span><span class="op" id="3525706">]</span><span class="builtintype" id="3525707">byte</span><span class="op" id="3525711">)</span>&nbsp;<span class="builtintype" id="3525713">error</span>&nbsp;<span class="op" id="3525719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525722">if</span>&nbsp;<span class="builtinfunc" id="3525725">len</span><span class="op" id="3525728">(</span><span class="ident" id="3525729">buf</span><span class="op" id="3525732">)</span>&nbsp;<span class="op" id="3525734">==</span>&nbsp;<span class="num" id="3525737">0</span>&nbsp;<span class="op" id="3525739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3525743">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3525788">*</span><span class="ident" id="3525789">z</span>&nbsp;<span class="op" id="3525791">=</span>&nbsp;<span class="ident" id="3525793">Int</span><span class="op" id="3525796">{</span><span class="op" id="3525797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525801">return</span>&nbsp;<span class="ident" id="3525808">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3525813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525816">b</span>&nbsp;<span class="op" id="3525818">:=</span>&nbsp;<span class="ident" id="3525821">buf</span><span class="op" id="3525824">[</span><span class="num" id="3525825">0</span><span class="op" id="3525826">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525829">if</span>&nbsp;<span class="ident" id="3525832">b</span><span class="op" id="3525833">&gt;&gt;</span><span class="num" id="3525835">1</span>&nbsp;<span class="op" id="3525837">!=</span>&nbsp;<span class="ident" id="3525840">intGobVersion</span>&nbsp;<span class="op" id="3525854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525858">return</span>&nbsp;<span class="ident" id="3525865">errors</span><span class="op" id="3525871">.</span><span class="ident" id="3525872">New</span><span class="op" id="3525875">(</span><span class="ident" id="3525876">fmt</span><span class="op" id="3525879">.</span><span class="ident" id="3525880">Sprintf</span><span class="op" id="3525887">(</span><span class="string" id="3525888">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="3525938">,</span>&nbsp;<span class="ident" id="3525940">b</span><span class="op" id="3525941">&gt;&gt;</span><span class="num" id="3525943">1</span><span class="op" id="3525944">)</span><span class="op" id="3525945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3525948">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525951">z</span><span class="op" id="3525952">.</span><span class="ident" id="3525953">neg</span>&nbsp;<span class="op" id="3525957">=</span>&nbsp;<span class="ident" id="3525959">b</span><span class="op" id="3525960">&amp;</span><span class="num" id="3525961">1</span>&nbsp;<span class="op" id="3525963">!=</span>&nbsp;<span class="num" id="3525966">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525969">z</span><span class="op" id="3525970">.</span><span class="ident" id="3525971">abs</span>&nbsp;<span class="op" id="3525975">=</span>&nbsp;<span class="ident" id="3525977">z</span><span class="op" id="3525978">.</span><span class="ident" id="3525979">abs</span><span class="op" id="3525982">.</span><span class="ident" id="3525983">setBytes</span><span class="op" id="3525991">(</span><span class="ident" id="3525992">buf</span><span class="op" id="3525995">[</span><span class="num" id="3525996">1</span><span class="op" id="3525997">:</span><span class="op" id="3525998">]</span><span class="op" id="3525999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526002">return</span>&nbsp;<span class="ident" id="3526009">nil</span><br>
<span class="lineno"></span><span class="op" id="3526013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="3526016">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3526072">func</span>&nbsp;<span class="op" id="3526077">(</span><span class="ident" id="3526078">z</span>&nbsp;<span class="op" id="3526080">*</span><span class="ident" id="3526081">Int</span><span class="op" id="3526084">)</span>&nbsp;<span class="ident" id="3526086">MarshalJSON</span><span class="op" id="3526097">(</span><span class="op" id="3526098">)</span>&nbsp;<span class="op" id="3526100">(</span><span class="op" id="3526101">[</span><span class="op" id="3526102">]</span><span class="builtintype" id="3526103">byte</span><span class="op" id="3526107">,</span>&nbsp;<span class="builtintype" id="3526109">error</span><span class="op" id="3526114">)</span>&nbsp;<span class="op" id="3526116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3526119">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526175">return</span>&nbsp;<span class="op" id="3526182">[</span><span class="op" id="3526183">]</span><span class="builtintype" id="3526184">byte</span><span class="op" id="3526188">(</span><span class="ident" id="3526189">z</span><span class="op" id="3526190">.</span><span class="ident" id="3526191">String</span><span class="op" id="3526197">(</span><span class="op" id="3526198">)</span><span class="op" id="3526199">)</span><span class="op" id="3526200">,</span>&nbsp;<span class="ident" id="3526202">nil</span><br>
<span class="lineno"></span><span class="op" id="3526206">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="3526209">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3526269">func</span>&nbsp;<span class="op" id="3526274">(</span><span class="ident" id="3526275">z</span>&nbsp;<span class="op" id="3526277">*</span><span class="ident" id="3526278">Int</span><span class="op" id="3526281">)</span>&nbsp;<span class="ident" id="3526283">UnmarshalJSON</span><span class="op" id="3526296">(</span><span class="ident" id="3526297">text</span>&nbsp;<span class="op" id="3526302">[</span><span class="op" id="3526303">]</span><span class="builtintype" id="3526304">byte</span><span class="op" id="3526308">)</span>&nbsp;<span class="builtintype" id="3526310">error</span>&nbsp;<span class="op" id="3526316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3526319">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526375">if</span>&nbsp;<span class="ident" id="3526378">_</span><span class="op" id="3526379">,</span>&nbsp;<span class="ident" id="3526381">ok</span>&nbsp;<span class="op" id="3526384">:=</span>&nbsp;<span class="ident" id="3526387">z</span><span class="op" id="3526388">.</span><span class="ident" id="3526389">SetString</span><span class="op" id="3526398">(</span><span class="builtintype" id="3526399">string</span><span class="op" id="3526405">(</span><span class="ident" id="3526406">text</span><span class="op" id="3526410">)</span><span class="op" id="3526411">,</span>&nbsp;<span class="num" id="3526413">0</span><span class="op" id="3526414">)</span><span class="op" id="3526415">;</span>&nbsp;<span class="op" id="3526417">!</span><span class="ident" id="3526418">ok</span>&nbsp;<span class="op" id="3526421">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526425">return</span>&nbsp;<span class="ident" id="3526432">fmt</span><span class="op" id="3526435">.</span><span class="ident" id="3526436">Errorf</span><span class="op" id="3526442">(</span><span class="string" id="3526443">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3526490">,</span>&nbsp;<span class="ident" id="3526492">text</span><span class="op" id="3526496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3526499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526502">return</span>&nbsp;<span class="ident" id="3526509">nil</span><br>
<span class="lineno"></span><span class="op" id="3526513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="3526516">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3526580">func</span>&nbsp;<span class="op" id="3526585">(</span><span class="ident" id="3526586">z</span>&nbsp;<span class="op" id="3526588">*</span><span class="ident" id="3526589">Int</span><span class="op" id="3526592">)</span>&nbsp;<span class="ident" id="3526594">MarshalText</span><span class="op" id="3526605">(</span><span class="op" id="3526606">)</span>&nbsp;<span class="op" id="3526608">(</span><span class="ident" id="3526609">text</span>&nbsp;<span class="op" id="3526614">[</span><span class="op" id="3526615">]</span><span class="builtintype" id="3526616">byte</span><span class="op" id="3526620">,</span>&nbsp;<span class="ident" id="3526622">err</span>&nbsp;<span class="builtintype" id="3526626">error</span><span class="op" id="3526631">)</span>&nbsp;<span class="op" id="3526633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526636">return</span>&nbsp;<span class="op" id="3526643">[</span><span class="op" id="3526644">]</span><span class="builtintype" id="3526645">byte</span><span class="op" id="3526649">(</span><span class="ident" id="3526650">z</span><span class="op" id="3526651">.</span><span class="ident" id="3526652">String</span><span class="op" id="3526658">(</span><span class="op" id="3526659">)</span><span class="op" id="3526660">)</span><span class="op" id="3526661">,</span>&nbsp;<span class="ident" id="3526663">nil</span><br>
<span class="lineno"></span><span class="op" id="3526667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="3526670">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3526738">func</span>&nbsp;<span class="op" id="3526743">(</span><span class="ident" id="3526744">z</span>&nbsp;<span class="op" id="3526746">*</span><span class="ident" id="3526747">Int</span><span class="op" id="3526750">)</span>&nbsp;<span class="ident" id="3526752">UnmarshalText</span><span class="op" id="3526765">(</span><span class="ident" id="3526766">text</span>&nbsp;<span class="op" id="3526771">[</span><span class="op" id="3526772">]</span><span class="builtintype" id="3526773">byte</span><span class="op" id="3526777">)</span>&nbsp;<span class="builtintype" id="3526779">error</span>&nbsp;<span class="op" id="3526785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526788">if</span>&nbsp;<span class="ident" id="3526791">_</span><span class="op" id="3526792">,</span>&nbsp;<span class="ident" id="3526794">ok</span>&nbsp;<span class="op" id="3526797">:=</span>&nbsp;<span class="ident" id="3526800">z</span><span class="op" id="3526801">.</span><span class="ident" id="3526802">SetString</span><span class="op" id="3526811">(</span><span class="builtintype" id="3526812">string</span><span class="op" id="3526818">(</span><span class="ident" id="3526819">text</span><span class="op" id="3526823">)</span><span class="op" id="3526824">,</span>&nbsp;<span class="num" id="3526826">0</span><span class="op" id="3526827">)</span><span class="op" id="3526828">;</span>&nbsp;<span class="op" id="3526830">!</span><span class="ident" id="3526831">ok</span>&nbsp;<span class="op" id="3526834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526838">return</span>&nbsp;<span class="ident" id="3526845">fmt</span><span class="op" id="3526848">.</span><span class="ident" id="3526849">Errorf</span><span class="op" id="3526855">(</span><span class="string" id="3526856">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3526903">,</span>&nbsp;<span class="ident" id="3526905">text</span><span class="op" id="3526909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3526912">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526915">return</span>&nbsp;<span class="ident" id="3526922">nil</span><br>
<span class="lineno"></span><span class="op" id="3526926">}</span>
</div>
</body>
</html>
