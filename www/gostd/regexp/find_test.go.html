<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html" class="current">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8347046">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8347101">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8347155">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8347206">package</span>&nbsp;<span class="ident" id="8347214">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8347222">import</span>&nbsp;<span class="op" id="8347229">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8347232">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8347239">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8347250">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8347260">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8347263">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="8347340">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="8347420">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="8347503">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="8347581">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="8347628">type</span>&nbsp;<span class="ident" id="8347633">FindTest</span>&nbsp;<span class="keyword" id="8347642">struct</span>&nbsp;<span class="op" id="8347649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347652">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8347660">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347668">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8347676">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347684">matches</span>&nbsp;<span class="op" id="8347692">[</span><span class="op" id="8347693">]</span><span class="op" id="8347694">[</span><span class="op" id="8347695">]</span><span class="builtintype" id="8347696">int</span><br>
<span class="lineno"></span><span class="op" id="8347700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8347703">func</span>&nbsp;<span class="op" id="8347708">(</span><span class="ident" id="8347709">t</span>&nbsp;<span class="ident" id="8347711">FindTest</span><span class="op" id="8347719">)</span>&nbsp;<span class="ident" id="8347721">String</span><span class="op" id="8347727">(</span><span class="op" id="8347728">)</span>&nbsp;<span class="builtintype" id="8347730">string</span>&nbsp;<span class="op" id="8347737">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8347740">return</span>&nbsp;<span class="ident" id="8347747">fmt</span><span class="op" id="8347750">.</span><span class="ident" id="8347751">Sprintf</span><span class="op" id="8347758">(</span><span class="string" id="8347759">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="8347779">,</span>&nbsp;<span class="ident" id="8347781">t</span><span class="op" id="8347782">.</span><span class="ident" id="8347783">pat</span><span class="op" id="8347786">,</span>&nbsp;<span class="ident" id="8347788">t</span><span class="op" id="8347789">.</span><span class="ident" id="8347790">text</span><span class="op" id="8347794">)</span><br>
<span class="lineno"></span><span class="op" id="8347796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8347799">var</span>&nbsp;<span class="ident" id="8347803">findTests</span>&nbsp;<span class="op" id="8347813">=</span>&nbsp;<span class="op" id="8347815">[</span><span class="op" id="8347816">]</span><span class="ident" id="8347817">FindTest</span><span class="op" id="8347825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8347828">{</span><span class="string" id="8347829">``</span><span class="op" id="8347831">,</span>&nbsp;<span class="string" id="8347833">``</span><span class="op" id="8347835">,</span>&nbsp;<span class="ident" id="8347837">build</span><span class="op" id="8347842">(</span><span class="num" id="8347843">1</span><span class="op" id="8347844">,</span>&nbsp;<span class="num" id="8347846">0</span><span class="op" id="8347847">,</span>&nbsp;<span class="num" id="8347849">0</span><span class="op" id="8347850">)</span><span class="op" id="8347851">}</span><span class="op" id="8347852">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8347855">{</span><span class="string" id="8347856">`^abcdefg`</span><span class="op" id="8347866">,</span>&nbsp;<span class="string" id="8347868">&#34;abcdefg&#34;</span><span class="op" id="8347877">,</span>&nbsp;<span class="ident" id="8347879">build</span><span class="op" id="8347884">(</span><span class="num" id="8347885">1</span><span class="op" id="8347886">,</span>&nbsp;<span class="num" id="8347888">0</span><span class="op" id="8347889">,</span>&nbsp;<span class="num" id="8347891">7</span><span class="op" id="8347892">)</span><span class="op" id="8347893">}</span><span class="op" id="8347894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8347897">{</span><span class="string" id="8347898">`a+`</span><span class="op" id="8347902">,</span>&nbsp;<span class="string" id="8347904">&#34;baaab&#34;</span><span class="op" id="8347911">,</span>&nbsp;<span class="ident" id="8347913">build</span><span class="op" id="8347918">(</span><span class="num" id="8347919">1</span><span class="op" id="8347920">,</span>&nbsp;<span class="num" id="8347922">1</span><span class="op" id="8347923">,</span>&nbsp;<span class="num" id="8347925">4</span><span class="op" id="8347926">)</span><span class="op" id="8347927">}</span><span class="op" id="8347928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8347931">{</span><span class="string" id="8347932">&#34;abcd..&#34;</span><span class="op" id="8347940">,</span>&nbsp;<span class="string" id="8347942">&#34;abcdef&#34;</span><span class="op" id="8347950">,</span>&nbsp;<span class="ident" id="8347952">build</span><span class="op" id="8347957">(</span><span class="num" id="8347958">1</span><span class="op" id="8347959">,</span>&nbsp;<span class="num" id="8347961">0</span><span class="op" id="8347962">,</span>&nbsp;<span class="num" id="8347964">6</span><span class="op" id="8347965">)</span><span class="op" id="8347966">}</span><span class="op" id="8347967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8347970">{</span><span class="string" id="8347971">`a`</span><span class="op" id="8347974">,</span>&nbsp;<span class="string" id="8347976">&#34;a&#34;</span><span class="op" id="8347979">,</span>&nbsp;<span class="ident" id="8347981">build</span><span class="op" id="8347986">(</span><span class="num" id="8347987">1</span><span class="op" id="8347988">,</span>&nbsp;<span class="num" id="8347990">0</span><span class="op" id="8347991">,</span>&nbsp;<span class="num" id="8347993">1</span><span class="op" id="8347994">)</span><span class="op" id="8347995">}</span><span class="op" id="8347996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8347999">{</span><span class="string" id="8348000">`x`</span><span class="op" id="8348003">,</span>&nbsp;<span class="string" id="8348005">&#34;y&#34;</span><span class="op" id="8348008">,</span>&nbsp;<span class="ident" id="8348010">nil</span><span class="op" id="8348013">}</span><span class="op" id="8348014">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348017">{</span><span class="string" id="8348018">`b`</span><span class="op" id="8348021">,</span>&nbsp;<span class="string" id="8348023">&#34;abc&#34;</span><span class="op" id="8348028">,</span>&nbsp;<span class="ident" id="8348030">build</span><span class="op" id="8348035">(</span><span class="num" id="8348036">1</span><span class="op" id="8348037">,</span>&nbsp;<span class="num" id="8348039">1</span><span class="op" id="8348040">,</span>&nbsp;<span class="num" id="8348042">2</span><span class="op" id="8348043">)</span><span class="op" id="8348044">}</span><span class="op" id="8348045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348048">{</span><span class="string" id="8348049">`.`</span><span class="op" id="8348052">,</span>&nbsp;<span class="string" id="8348054">&#34;a&#34;</span><span class="op" id="8348057">,</span>&nbsp;<span class="ident" id="8348059">build</span><span class="op" id="8348064">(</span><span class="num" id="8348065">1</span><span class="op" id="8348066">,</span>&nbsp;<span class="num" id="8348068">0</span><span class="op" id="8348069">,</span>&nbsp;<span class="num" id="8348071">1</span><span class="op" id="8348072">)</span><span class="op" id="8348073">}</span><span class="op" id="8348074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348077">{</span><span class="string" id="8348078">`.*`</span><span class="op" id="8348082">,</span>&nbsp;<span class="string" id="8348084">&#34;abcdef&#34;</span><span class="op" id="8348092">,</span>&nbsp;<span class="ident" id="8348094">build</span><span class="op" id="8348099">(</span><span class="num" id="8348100">1</span><span class="op" id="8348101">,</span>&nbsp;<span class="num" id="8348103">0</span><span class="op" id="8348104">,</span>&nbsp;<span class="num" id="8348106">6</span><span class="op" id="8348107">)</span><span class="op" id="8348108">}</span><span class="op" id="8348109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348112">{</span><span class="string" id="8348113">`^`</span><span class="op" id="8348116">,</span>&nbsp;<span class="string" id="8348118">&#34;abcde&#34;</span><span class="op" id="8348125">,</span>&nbsp;<span class="ident" id="8348127">build</span><span class="op" id="8348132">(</span><span class="num" id="8348133">1</span><span class="op" id="8348134">,</span>&nbsp;<span class="num" id="8348136">0</span><span class="op" id="8348137">,</span>&nbsp;<span class="num" id="8348139">0</span><span class="op" id="8348140">)</span><span class="op" id="8348141">}</span><span class="op" id="8348142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348145">{</span><span class="string" id="8348146">`$`</span><span class="op" id="8348149">,</span>&nbsp;<span class="string" id="8348151">&#34;abcde&#34;</span><span class="op" id="8348158">,</span>&nbsp;<span class="ident" id="8348160">build</span><span class="op" id="8348165">(</span><span class="num" id="8348166">1</span><span class="op" id="8348167">,</span>&nbsp;<span class="num" id="8348169">5</span><span class="op" id="8348170">,</span>&nbsp;<span class="num" id="8348172">5</span><span class="op" id="8348173">)</span><span class="op" id="8348174">}</span><span class="op" id="8348175">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348178">{</span><span class="string" id="8348179">`^abcd$`</span><span class="op" id="8348187">,</span>&nbsp;<span class="string" id="8348189">&#34;abcd&#34;</span><span class="op" id="8348195">,</span>&nbsp;<span class="ident" id="8348197">build</span><span class="op" id="8348202">(</span><span class="num" id="8348203">1</span><span class="op" id="8348204">,</span>&nbsp;<span class="num" id="8348206">0</span><span class="op" id="8348207">,</span>&nbsp;<span class="num" id="8348209">4</span><span class="op" id="8348210">)</span><span class="op" id="8348211">}</span><span class="op" id="8348212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348215">{</span><span class="string" id="8348216">`^bcd&#39;`</span><span class="op" id="8348223">,</span>&nbsp;<span class="string" id="8348225">&#34;abcdef&#34;</span><span class="op" id="8348233">,</span>&nbsp;<span class="ident" id="8348235">nil</span><span class="op" id="8348238">}</span><span class="op" id="8348239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348242">{</span><span class="string" id="8348243">`^abcd$`</span><span class="op" id="8348251">,</span>&nbsp;<span class="string" id="8348253">&#34;abcde&#34;</span><span class="op" id="8348260">,</span>&nbsp;<span class="ident" id="8348262">nil</span><span class="op" id="8348265">}</span><span class="op" id="8348266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348269">{</span><span class="string" id="8348270">`a+`</span><span class="op" id="8348274">,</span>&nbsp;<span class="string" id="8348276">&#34;baaab&#34;</span><span class="op" id="8348283">,</span>&nbsp;<span class="ident" id="8348285">build</span><span class="op" id="8348290">(</span><span class="num" id="8348291">1</span><span class="op" id="8348292">,</span>&nbsp;<span class="num" id="8348294">1</span><span class="op" id="8348295">,</span>&nbsp;<span class="num" id="8348297">4</span><span class="op" id="8348298">)</span><span class="op" id="8348299">}</span><span class="op" id="8348300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348303">{</span><span class="string" id="8348304">`a*`</span><span class="op" id="8348308">,</span>&nbsp;<span class="string" id="8348310">&#34;baaab&#34;</span><span class="op" id="8348317">,</span>&nbsp;<span class="ident" id="8348319">build</span><span class="op" id="8348324">(</span><span class="num" id="8348325">3</span><span class="op" id="8348326">,</span>&nbsp;<span class="num" id="8348328">0</span><span class="op" id="8348329">,</span>&nbsp;<span class="num" id="8348331">0</span><span class="op" id="8348332">,</span>&nbsp;<span class="num" id="8348334">1</span><span class="op" id="8348335">,</span>&nbsp;<span class="num" id="8348337">4</span><span class="op" id="8348338">,</span>&nbsp;<span class="num" id="8348340">5</span><span class="op" id="8348341">,</span>&nbsp;<span class="num" id="8348343">5</span><span class="op" id="8348344">)</span><span class="op" id="8348345">}</span><span class="op" id="8348346">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348349">{</span><span class="string" id="8348350">`[a-z]+`</span><span class="op" id="8348358">,</span>&nbsp;<span class="string" id="8348360">&#34;abcd&#34;</span><span class="op" id="8348366">,</span>&nbsp;<span class="ident" id="8348368">build</span><span class="op" id="8348373">(</span><span class="num" id="8348374">1</span><span class="op" id="8348375">,</span>&nbsp;<span class="num" id="8348377">0</span><span class="op" id="8348378">,</span>&nbsp;<span class="num" id="8348380">4</span><span class="op" id="8348381">)</span><span class="op" id="8348382">}</span><span class="op" id="8348383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348386">{</span><span class="string" id="8348387">`[^a-z]+`</span><span class="op" id="8348396">,</span>&nbsp;<span class="string" id="8348398">&#34;ab1234cd&#34;</span><span class="op" id="8348408">,</span>&nbsp;<span class="ident" id="8348410">build</span><span class="op" id="8348415">(</span><span class="num" id="8348416">1</span><span class="op" id="8348417">,</span>&nbsp;<span class="num" id="8348419">2</span><span class="op" id="8348420">,</span>&nbsp;<span class="num" id="8348422">6</span><span class="op" id="8348423">)</span><span class="op" id="8348424">}</span><span class="op" id="8348425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348428">{</span><span class="string" id="8348429">`[a\-\]z]+`</span><span class="op" id="8348440">,</span>&nbsp;<span class="string" id="8348442">&#34;az]-bcz&#34;</span><span class="op" id="8348451">,</span>&nbsp;<span class="ident" id="8348453">build</span><span class="op" id="8348458">(</span><span class="num" id="8348459">2</span><span class="op" id="8348460">,</span>&nbsp;<span class="num" id="8348462">0</span><span class="op" id="8348463">,</span>&nbsp;<span class="num" id="8348465">4</span><span class="op" id="8348466">,</span>&nbsp;<span class="num" id="8348468">6</span><span class="op" id="8348469">,</span>&nbsp;<span class="num" id="8348471">7</span><span class="op" id="8348472">)</span><span class="op" id="8348473">}</span><span class="op" id="8348474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348477">{</span><span class="string" id="8348478">`[^\n]+`</span><span class="op" id="8348486">,</span>&nbsp;<span class="string" id="8348488">&#34;abcd\n&#34;</span><span class="op" id="8348496">,</span>&nbsp;<span class="ident" id="8348498">build</span><span class="op" id="8348503">(</span><span class="num" id="8348504">1</span><span class="op" id="8348505">,</span>&nbsp;<span class="num" id="8348507">0</span><span class="op" id="8348508">,</span>&nbsp;<span class="num" id="8348510">4</span><span class="op" id="8348511">)</span><span class="op" id="8348512">}</span><span class="op" id="8348513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348516">{</span><span class="string" id="8348517">`[日本語]+`</span><span class="op" id="8348531">,</span>&nbsp;<span class="string" id="8348533">&#34;日本語日本語&#34;</span><span class="op" id="8348553">,</span>&nbsp;<span class="ident" id="8348555">build</span><span class="op" id="8348560">(</span><span class="num" id="8348561">1</span><span class="op" id="8348562">,</span>&nbsp;<span class="num" id="8348564">0</span><span class="op" id="8348565">,</span>&nbsp;<span class="num" id="8348567">18</span><span class="op" id="8348569">)</span><span class="op" id="8348570">}</span><span class="op" id="8348571">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348574">{</span><span class="string" id="8348575">`日本語+`</span><span class="op" id="8348587">,</span>&nbsp;<span class="string" id="8348589">&#34;日本語&#34;</span><span class="op" id="8348600">,</span>&nbsp;<span class="ident" id="8348602">build</span><span class="op" id="8348607">(</span><span class="num" id="8348608">1</span><span class="op" id="8348609">,</span>&nbsp;<span class="num" id="8348611">0</span><span class="op" id="8348612">,</span>&nbsp;<span class="num" id="8348614">9</span><span class="op" id="8348615">)</span><span class="op" id="8348616">}</span><span class="op" id="8348617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348620">{</span><span class="string" id="8348621">`日本語+`</span><span class="op" id="8348633">,</span>&nbsp;<span class="string" id="8348635">&#34;日本語語語語&#34;</span><span class="op" id="8348655">,</span>&nbsp;<span class="ident" id="8348657">build</span><span class="op" id="8348662">(</span><span class="num" id="8348663">1</span><span class="op" id="8348664">,</span>&nbsp;<span class="num" id="8348666">0</span><span class="op" id="8348667">,</span>&nbsp;<span class="num" id="8348669">18</span><span class="op" id="8348671">)</span><span class="op" id="8348672">}</span><span class="op" id="8348673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348676">{</span><span class="string" id="8348677">`()`</span><span class="op" id="8348681">,</span>&nbsp;<span class="string" id="8348683">&#34;&#34;</span><span class="op" id="8348685">,</span>&nbsp;<span class="ident" id="8348687">build</span><span class="op" id="8348692">(</span><span class="num" id="8348693">1</span><span class="op" id="8348694">,</span>&nbsp;<span class="num" id="8348696">0</span><span class="op" id="8348697">,</span>&nbsp;<span class="num" id="8348699">0</span><span class="op" id="8348700">,</span>&nbsp;<span class="num" id="8348702">0</span><span class="op" id="8348703">,</span>&nbsp;<span class="num" id="8348705">0</span><span class="op" id="8348706">)</span><span class="op" id="8348707">}</span><span class="op" id="8348708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348711">{</span><span class="string" id="8348712">`(a)`</span><span class="op" id="8348717">,</span>&nbsp;<span class="string" id="8348719">&#34;a&#34;</span><span class="op" id="8348722">,</span>&nbsp;<span class="ident" id="8348724">build</span><span class="op" id="8348729">(</span><span class="num" id="8348730">1</span><span class="op" id="8348731">,</span>&nbsp;<span class="num" id="8348733">0</span><span class="op" id="8348734">,</span>&nbsp;<span class="num" id="8348736">1</span><span class="op" id="8348737">,</span>&nbsp;<span class="num" id="8348739">0</span><span class="op" id="8348740">,</span>&nbsp;<span class="num" id="8348742">1</span><span class="op" id="8348743">)</span><span class="op" id="8348744">}</span><span class="op" id="8348745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348748">{</span><span class="string" id="8348749">`(.)(.)`</span><span class="op" id="8348757">,</span>&nbsp;<span class="string" id="8348759">&#34;日a&#34;</span><span class="op" id="8348765">,</span>&nbsp;<span class="ident" id="8348767">build</span><span class="op" id="8348772">(</span><span class="num" id="8348773">1</span><span class="op" id="8348774">,</span>&nbsp;<span class="num" id="8348776">0</span><span class="op" id="8348777">,</span>&nbsp;<span class="num" id="8348779">4</span><span class="op" id="8348780">,</span>&nbsp;<span class="num" id="8348782">0</span><span class="op" id="8348783">,</span>&nbsp;<span class="num" id="8348785">3</span><span class="op" id="8348786">,</span>&nbsp;<span class="num" id="8348788">3</span><span class="op" id="8348789">,</span>&nbsp;<span class="num" id="8348791">4</span><span class="op" id="8348792">)</span><span class="op" id="8348793">}</span><span class="op" id="8348794">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348797">{</span><span class="string" id="8348798">`(.*)`</span><span class="op" id="8348804">,</span>&nbsp;<span class="string" id="8348806">&#34;&#34;</span><span class="op" id="8348808">,</span>&nbsp;<span class="ident" id="8348810">build</span><span class="op" id="8348815">(</span><span class="num" id="8348816">1</span><span class="op" id="8348817">,</span>&nbsp;<span class="num" id="8348819">0</span><span class="op" id="8348820">,</span>&nbsp;<span class="num" id="8348822">0</span><span class="op" id="8348823">,</span>&nbsp;<span class="num" id="8348825">0</span><span class="op" id="8348826">,</span>&nbsp;<span class="num" id="8348828">0</span><span class="op" id="8348829">)</span><span class="op" id="8348830">}</span><span class="op" id="8348831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348834">{</span><span class="string" id="8348835">`(.*)`</span><span class="op" id="8348841">,</span>&nbsp;<span class="string" id="8348843">&#34;abcd&#34;</span><span class="op" id="8348849">,</span>&nbsp;<span class="ident" id="8348851">build</span><span class="op" id="8348856">(</span><span class="num" id="8348857">1</span><span class="op" id="8348858">,</span>&nbsp;<span class="num" id="8348860">0</span><span class="op" id="8348861">,</span>&nbsp;<span class="num" id="8348863">4</span><span class="op" id="8348864">,</span>&nbsp;<span class="num" id="8348866">0</span><span class="op" id="8348867">,</span>&nbsp;<span class="num" id="8348869">4</span><span class="op" id="8348870">)</span><span class="op" id="8348871">}</span><span class="op" id="8348872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348875">{</span><span class="string" id="8348876">`(..)(..)`</span><span class="op" id="8348886">,</span>&nbsp;<span class="string" id="8348888">&#34;abcd&#34;</span><span class="op" id="8348894">,</span>&nbsp;<span class="ident" id="8348896">build</span><span class="op" id="8348901">(</span><span class="num" id="8348902">1</span><span class="op" id="8348903">,</span>&nbsp;<span class="num" id="8348905">0</span><span class="op" id="8348906">,</span>&nbsp;<span class="num" id="8348908">4</span><span class="op" id="8348909">,</span>&nbsp;<span class="num" id="8348911">0</span><span class="op" id="8348912">,</span>&nbsp;<span class="num" id="8348914">2</span><span class="op" id="8348915">,</span>&nbsp;<span class="num" id="8348917">2</span><span class="op" id="8348918">,</span>&nbsp;<span class="num" id="8348920">4</span><span class="op" id="8348921">)</span><span class="op" id="8348922">}</span><span class="op" id="8348923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348926">{</span><span class="string" id="8348927">`(([^xyz]*)(d))`</span><span class="op" id="8348943">,</span>&nbsp;<span class="string" id="8348945">&#34;abcd&#34;</span><span class="op" id="8348951">,</span>&nbsp;<span class="ident" id="8348953">build</span><span class="op" id="8348958">(</span><span class="num" id="8348959">1</span><span class="op" id="8348960">,</span>&nbsp;<span class="num" id="8348962">0</span><span class="op" id="8348963">,</span>&nbsp;<span class="num" id="8348965">4</span><span class="op" id="8348966">,</span>&nbsp;<span class="num" id="8348968">0</span><span class="op" id="8348969">,</span>&nbsp;<span class="num" id="8348971">4</span><span class="op" id="8348972">,</span>&nbsp;<span class="num" id="8348974">0</span><span class="op" id="8348975">,</span>&nbsp;<span class="num" id="8348977">3</span><span class="op" id="8348978">,</span>&nbsp;<span class="num" id="8348980">3</span><span class="op" id="8348981">,</span>&nbsp;<span class="num" id="8348983">4</span><span class="op" id="8348984">)</span><span class="op" id="8348985">}</span><span class="op" id="8348986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348989">{</span><span class="string" id="8348990">`((a|b|c)*(d))`</span><span class="op" id="8349005">,</span>&nbsp;<span class="string" id="8349007">&#34;abcd&#34;</span><span class="op" id="8349013">,</span>&nbsp;<span class="ident" id="8349015">build</span><span class="op" id="8349020">(</span><span class="num" id="8349021">1</span><span class="op" id="8349022">,</span>&nbsp;<span class="num" id="8349024">0</span><span class="op" id="8349025">,</span>&nbsp;<span class="num" id="8349027">4</span><span class="op" id="8349028">,</span>&nbsp;<span class="num" id="8349030">0</span><span class="op" id="8349031">,</span>&nbsp;<span class="num" id="8349033">4</span><span class="op" id="8349034">,</span>&nbsp;<span class="num" id="8349036">2</span><span class="op" id="8349037">,</span>&nbsp;<span class="num" id="8349039">3</span><span class="op" id="8349040">,</span>&nbsp;<span class="num" id="8349042">3</span><span class="op" id="8349043">,</span>&nbsp;<span class="num" id="8349045">4</span><span class="op" id="8349046">)</span><span class="op" id="8349047">}</span><span class="op" id="8349048">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349051">{</span><span class="string" id="8349052">`(((a|b|c)*)(d))`</span><span class="op" id="8349069">,</span>&nbsp;<span class="string" id="8349071">&#34;abcd&#34;</span><span class="op" id="8349077">,</span>&nbsp;<span class="ident" id="8349079">build</span><span class="op" id="8349084">(</span><span class="num" id="8349085">1</span><span class="op" id="8349086">,</span>&nbsp;<span class="num" id="8349088">0</span><span class="op" id="8349089">,</span>&nbsp;<span class="num" id="8349091">4</span><span class="op" id="8349092">,</span>&nbsp;<span class="num" id="8349094">0</span><span class="op" id="8349095">,</span>&nbsp;<span class="num" id="8349097">4</span><span class="op" id="8349098">,</span>&nbsp;<span class="num" id="8349100">0</span><span class="op" id="8349101">,</span>&nbsp;<span class="num" id="8349103">3</span><span class="op" id="8349104">,</span>&nbsp;<span class="num" id="8349106">2</span><span class="op" id="8349107">,</span>&nbsp;<span class="num" id="8349109">3</span><span class="op" id="8349110">,</span>&nbsp;<span class="num" id="8349112">3</span><span class="op" id="8349113">,</span>&nbsp;<span class="num" id="8349115">4</span><span class="op" id="8349116">)</span><span class="op" id="8349117">}</span><span class="op" id="8349118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349121">{</span><span class="string" id="8349122">`\a\f\n\r\t\v`</span><span class="op" id="8349136">,</span>&nbsp;<span class="string" id="8349138">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="8349152">,</span>&nbsp;<span class="ident" id="8349154">build</span><span class="op" id="8349159">(</span><span class="num" id="8349160">1</span><span class="op" id="8349161">,</span>&nbsp;<span class="num" id="8349163">0</span><span class="op" id="8349164">,</span>&nbsp;<span class="num" id="8349166">6</span><span class="op" id="8349167">)</span><span class="op" id="8349168">}</span><span class="op" id="8349169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349172">{</span><span class="string" id="8349173">`[\a\f\n\r\t\v]+`</span><span class="op" id="8349190">,</span>&nbsp;<span class="string" id="8349192">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="8349206">,</span>&nbsp;<span class="ident" id="8349208">build</span><span class="op" id="8349213">(</span><span class="num" id="8349214">1</span><span class="op" id="8349215">,</span>&nbsp;<span class="num" id="8349217">0</span><span class="op" id="8349218">,</span>&nbsp;<span class="num" id="8349220">6</span><span class="op" id="8349221">)</span><span class="op" id="8349222">}</span><span class="op" id="8349223">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349227">{</span><span class="string" id="8349228">`a*(|(b))c*`</span><span class="op" id="8349240">,</span>&nbsp;<span class="string" id="8349242">&#34;aacc&#34;</span><span class="op" id="8349248">,</span>&nbsp;<span class="ident" id="8349250">build</span><span class="op" id="8349255">(</span><span class="num" id="8349256">1</span><span class="op" id="8349257">,</span>&nbsp;<span class="num" id="8349259">0</span><span class="op" id="8349260">,</span>&nbsp;<span class="num" id="8349262">4</span><span class="op" id="8349263">,</span>&nbsp;<span class="num" id="8349265">2</span><span class="op" id="8349266">,</span>&nbsp;<span class="num" id="8349268">2</span><span class="op" id="8349269">,</span>&nbsp;<span class="op" id="8349271">-</span><span class="num" id="8349272">1</span><span class="op" id="8349273">,</span>&nbsp;<span class="op" id="8349275">-</span><span class="num" id="8349276">1</span><span class="op" id="8349277">)</span><span class="op" id="8349278">}</span><span class="op" id="8349279">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349282">{</span><span class="string" id="8349283">`(.*).*`</span><span class="op" id="8349291">,</span>&nbsp;<span class="string" id="8349293">&#34;ab&#34;</span><span class="op" id="8349297">,</span>&nbsp;<span class="ident" id="8349299">build</span><span class="op" id="8349304">(</span><span class="num" id="8349305">1</span><span class="op" id="8349306">,</span>&nbsp;<span class="num" id="8349308">0</span><span class="op" id="8349309">,</span>&nbsp;<span class="num" id="8349311">2</span><span class="op" id="8349312">,</span>&nbsp;<span class="num" id="8349314">0</span><span class="op" id="8349315">,</span>&nbsp;<span class="num" id="8349317">2</span><span class="op" id="8349318">)</span><span class="op" id="8349319">}</span><span class="op" id="8349320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349323">{</span><span class="string" id="8349324">`[.]`</span><span class="op" id="8349329">,</span>&nbsp;<span class="string" id="8349331">&#34;.&#34;</span><span class="op" id="8349334">,</span>&nbsp;<span class="ident" id="8349336">build</span><span class="op" id="8349341">(</span><span class="num" id="8349342">1</span><span class="op" id="8349343">,</span>&nbsp;<span class="num" id="8349345">0</span><span class="op" id="8349346">,</span>&nbsp;<span class="num" id="8349348">1</span><span class="op" id="8349349">)</span><span class="op" id="8349350">}</span><span class="op" id="8349351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349354">{</span><span class="string" id="8349355">`/$`</span><span class="op" id="8349359">,</span>&nbsp;<span class="string" id="8349361">&#34;/abc/&#34;</span><span class="op" id="8349368">,</span>&nbsp;<span class="ident" id="8349370">build</span><span class="op" id="8349375">(</span><span class="num" id="8349376">1</span><span class="op" id="8349377">,</span>&nbsp;<span class="num" id="8349379">4</span><span class="op" id="8349380">,</span>&nbsp;<span class="num" id="8349382">5</span><span class="op" id="8349383">)</span><span class="op" id="8349384">}</span><span class="op" id="8349385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349388">{</span><span class="string" id="8349389">`/$`</span><span class="op" id="8349393">,</span>&nbsp;<span class="string" id="8349395">&#34;/abc&#34;</span><span class="op" id="8349401">,</span>&nbsp;<span class="ident" id="8349403">nil</span><span class="op" id="8349406">}</span><span class="op" id="8349407">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8349411">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349432">{</span><span class="string" id="8349433">`.`</span><span class="op" id="8349436">,</span>&nbsp;<span class="string" id="8349438">&#34;abc&#34;</span><span class="op" id="8349443">,</span>&nbsp;<span class="ident" id="8349445">build</span><span class="op" id="8349450">(</span><span class="num" id="8349451">3</span><span class="op" id="8349452">,</span>&nbsp;<span class="num" id="8349454">0</span><span class="op" id="8349455">,</span>&nbsp;<span class="num" id="8349457">1</span><span class="op" id="8349458">,</span>&nbsp;<span class="num" id="8349460">1</span><span class="op" id="8349461">,</span>&nbsp;<span class="num" id="8349463">2</span><span class="op" id="8349464">,</span>&nbsp;<span class="num" id="8349466">2</span><span class="op" id="8349467">,</span>&nbsp;<span class="num" id="8349469">3</span><span class="op" id="8349470">)</span><span class="op" id="8349471">}</span><span class="op" id="8349472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349475">{</span><span class="string" id="8349476">`(.)`</span><span class="op" id="8349481">,</span>&nbsp;<span class="string" id="8349483">&#34;abc&#34;</span><span class="op" id="8349488">,</span>&nbsp;<span class="ident" id="8349490">build</span><span class="op" id="8349495">(</span><span class="num" id="8349496">3</span><span class="op" id="8349497">,</span>&nbsp;<span class="num" id="8349499">0</span><span class="op" id="8349500">,</span>&nbsp;<span class="num" id="8349502">1</span><span class="op" id="8349503">,</span>&nbsp;<span class="num" id="8349505">0</span><span class="op" id="8349506">,</span>&nbsp;<span class="num" id="8349508">1</span><span class="op" id="8349509">,</span>&nbsp;<span class="num" id="8349511">1</span><span class="op" id="8349512">,</span>&nbsp;<span class="num" id="8349514">2</span><span class="op" id="8349515">,</span>&nbsp;<span class="num" id="8349517">1</span><span class="op" id="8349518">,</span>&nbsp;<span class="num" id="8349520">2</span><span class="op" id="8349521">,</span>&nbsp;<span class="num" id="8349523">2</span><span class="op" id="8349524">,</span>&nbsp;<span class="num" id="8349526">3</span><span class="op" id="8349527">,</span>&nbsp;<span class="num" id="8349529">2</span><span class="op" id="8349530">,</span>&nbsp;<span class="num" id="8349532">3</span><span class="op" id="8349533">)</span><span class="op" id="8349534">}</span><span class="op" id="8349535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349538">{</span><span class="string" id="8349539">`.(.)`</span><span class="op" id="8349545">,</span>&nbsp;<span class="string" id="8349547">&#34;abcd&#34;</span><span class="op" id="8349553">,</span>&nbsp;<span class="ident" id="8349555">build</span><span class="op" id="8349560">(</span><span class="num" id="8349561">2</span><span class="op" id="8349562">,</span>&nbsp;<span class="num" id="8349564">0</span><span class="op" id="8349565">,</span>&nbsp;<span class="num" id="8349567">2</span><span class="op" id="8349568">,</span>&nbsp;<span class="num" id="8349570">1</span><span class="op" id="8349571">,</span>&nbsp;<span class="num" id="8349573">2</span><span class="op" id="8349574">,</span>&nbsp;<span class="num" id="8349576">2</span><span class="op" id="8349577">,</span>&nbsp;<span class="num" id="8349579">4</span><span class="op" id="8349580">,</span>&nbsp;<span class="num" id="8349582">3</span><span class="op" id="8349583">,</span>&nbsp;<span class="num" id="8349585">4</span><span class="op" id="8349586">)</span><span class="op" id="8349587">}</span><span class="op" id="8349588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349591">{</span><span class="string" id="8349592">`ab*`</span><span class="op" id="8349597">,</span>&nbsp;<span class="string" id="8349599">&#34;abbaab&#34;</span><span class="op" id="8349607">,</span>&nbsp;<span class="ident" id="8349609">build</span><span class="op" id="8349614">(</span><span class="num" id="8349615">3</span><span class="op" id="8349616">,</span>&nbsp;<span class="num" id="8349618">0</span><span class="op" id="8349619">,</span>&nbsp;<span class="num" id="8349621">3</span><span class="op" id="8349622">,</span>&nbsp;<span class="num" id="8349624">3</span><span class="op" id="8349625">,</span>&nbsp;<span class="num" id="8349627">4</span><span class="op" id="8349628">,</span>&nbsp;<span class="num" id="8349630">4</span><span class="op" id="8349631">,</span>&nbsp;<span class="num" id="8349633">6</span><span class="op" id="8349634">)</span><span class="op" id="8349635">}</span><span class="op" id="8349636">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349639">{</span><span class="string" id="8349640">`a(b*)`</span><span class="op" id="8349647">,</span>&nbsp;<span class="string" id="8349649">&#34;abbaab&#34;</span><span class="op" id="8349657">,</span>&nbsp;<span class="ident" id="8349659">build</span><span class="op" id="8349664">(</span><span class="num" id="8349665">3</span><span class="op" id="8349666">,</span>&nbsp;<span class="num" id="8349668">0</span><span class="op" id="8349669">,</span>&nbsp;<span class="num" id="8349671">3</span><span class="op" id="8349672">,</span>&nbsp;<span class="num" id="8349674">1</span><span class="op" id="8349675">,</span>&nbsp;<span class="num" id="8349677">3</span><span class="op" id="8349678">,</span>&nbsp;<span class="num" id="8349680">3</span><span class="op" id="8349681">,</span>&nbsp;<span class="num" id="8349683">4</span><span class="op" id="8349684">,</span>&nbsp;<span class="num" id="8349686">4</span><span class="op" id="8349687">,</span>&nbsp;<span class="num" id="8349689">4</span><span class="op" id="8349690">,</span>&nbsp;<span class="num" id="8349692">4</span><span class="op" id="8349693">,</span>&nbsp;<span class="num" id="8349695">6</span><span class="op" id="8349696">,</span>&nbsp;<span class="num" id="8349698">5</span><span class="op" id="8349699">,</span>&nbsp;<span class="num" id="8349701">6</span><span class="op" id="8349702">)</span><span class="op" id="8349703">}</span><span class="op" id="8349704">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8349708">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349723">{</span><span class="string" id="8349724">`ab$`</span><span class="op" id="8349729">,</span>&nbsp;<span class="string" id="8349731">&#34;cab&#34;</span><span class="op" id="8349736">,</span>&nbsp;<span class="ident" id="8349738">build</span><span class="op" id="8349743">(</span><span class="num" id="8349744">1</span><span class="op" id="8349745">,</span>&nbsp;<span class="num" id="8349747">1</span><span class="op" id="8349748">,</span>&nbsp;<span class="num" id="8349750">3</span><span class="op" id="8349751">)</span><span class="op" id="8349752">}</span><span class="op" id="8349753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349756">{</span><span class="string" id="8349757">`axxb$`</span><span class="op" id="8349764">,</span>&nbsp;<span class="string" id="8349766">&#34;axxcb&#34;</span><span class="op" id="8349773">,</span>&nbsp;<span class="ident" id="8349775">nil</span><span class="op" id="8349778">}</span><span class="op" id="8349779">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349782">{</span><span class="string" id="8349783">`data`</span><span class="op" id="8349789">,</span>&nbsp;<span class="string" id="8349791">&#34;daXY&nbsp;data&#34;</span><span class="op" id="8349802">,</span>&nbsp;<span class="ident" id="8349804">build</span><span class="op" id="8349809">(</span><span class="num" id="8349810">1</span><span class="op" id="8349811">,</span>&nbsp;<span class="num" id="8349813">5</span><span class="op" id="8349814">,</span>&nbsp;<span class="num" id="8349816">9</span><span class="op" id="8349817">)</span><span class="op" id="8349818">}</span><span class="op" id="8349819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349822">{</span><span class="string" id="8349823">`da(.)a$`</span><span class="op" id="8349832">,</span>&nbsp;<span class="string" id="8349834">&#34;daXY&nbsp;data&#34;</span><span class="op" id="8349845">,</span>&nbsp;<span class="ident" id="8349847">build</span><span class="op" id="8349852">(</span><span class="num" id="8349853">1</span><span class="op" id="8349854">,</span>&nbsp;<span class="num" id="8349856">5</span><span class="op" id="8349857">,</span>&nbsp;<span class="num" id="8349859">9</span><span class="op" id="8349860">,</span>&nbsp;<span class="num" id="8349862">7</span><span class="op" id="8349863">,</span>&nbsp;<span class="num" id="8349865">8</span><span class="op" id="8349866">)</span><span class="op" id="8349867">}</span><span class="op" id="8349868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349871">{</span><span class="string" id="8349872">`zx+`</span><span class="op" id="8349877">,</span>&nbsp;<span class="string" id="8349879">&#34;zzx&#34;</span><span class="op" id="8349884">,</span>&nbsp;<span class="ident" id="8349886">build</span><span class="op" id="8349891">(</span><span class="num" id="8349892">1</span><span class="op" id="8349893">,</span>&nbsp;<span class="num" id="8349895">1</span><span class="op" id="8349896">,</span>&nbsp;<span class="num" id="8349898">3</span><span class="op" id="8349899">)</span><span class="op" id="8349900">}</span><span class="op" id="8349901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349904">{</span><span class="string" id="8349905">`ab$`</span><span class="op" id="8349910">,</span>&nbsp;<span class="string" id="8349912">&#34;abcab&#34;</span><span class="op" id="8349919">,</span>&nbsp;<span class="ident" id="8349921">build</span><span class="op" id="8349926">(</span><span class="num" id="8349927">1</span><span class="op" id="8349928">,</span>&nbsp;<span class="num" id="8349930">3</span><span class="op" id="8349931">,</span>&nbsp;<span class="num" id="8349933">5</span><span class="op" id="8349934">)</span><span class="op" id="8349935">}</span><span class="op" id="8349936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349939">{</span><span class="string" id="8349940">`(aa)*$`</span><span class="op" id="8349948">,</span>&nbsp;<span class="string" id="8349950">&#34;a&#34;</span><span class="op" id="8349953">,</span>&nbsp;<span class="ident" id="8349955">build</span><span class="op" id="8349960">(</span><span class="num" id="8349961">1</span><span class="op" id="8349962">,</span>&nbsp;<span class="num" id="8349964">1</span><span class="op" id="8349965">,</span>&nbsp;<span class="num" id="8349967">1</span><span class="op" id="8349968">,</span>&nbsp;<span class="op" id="8349970">-</span><span class="num" id="8349971">1</span><span class="op" id="8349972">,</span>&nbsp;<span class="op" id="8349974">-</span><span class="num" id="8349975">1</span><span class="op" id="8349976">)</span><span class="op" id="8349977">}</span><span class="op" id="8349978">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349981">{</span><span class="string" id="8349982">`(?:.|(?:.a))`</span><span class="op" id="8349996">,</span>&nbsp;<span class="string" id="8349998">&#34;&#34;</span><span class="op" id="8350000">,</span>&nbsp;<span class="ident" id="8350002">nil</span><span class="op" id="8350005">}</span><span class="op" id="8350006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350009">{</span><span class="string" id="8350010">`(?:A(?:A|a))`</span><span class="op" id="8350024">,</span>&nbsp;<span class="string" id="8350026">&#34;Aa&#34;</span><span class="op" id="8350030">,</span>&nbsp;<span class="ident" id="8350032">build</span><span class="op" id="8350037">(</span><span class="num" id="8350038">1</span><span class="op" id="8350039">,</span>&nbsp;<span class="num" id="8350041">0</span><span class="op" id="8350042">,</span>&nbsp;<span class="num" id="8350044">2</span><span class="op" id="8350045">)</span><span class="op" id="8350046">}</span><span class="op" id="8350047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350050">{</span><span class="string" id="8350051">`(?:A|(?:A|a))`</span><span class="op" id="8350066">,</span>&nbsp;<span class="string" id="8350068">&#34;a&#34;</span><span class="op" id="8350071">,</span>&nbsp;<span class="ident" id="8350073">build</span><span class="op" id="8350078">(</span><span class="num" id="8350079">1</span><span class="op" id="8350080">,</span>&nbsp;<span class="num" id="8350082">0</span><span class="op" id="8350083">,</span>&nbsp;<span class="num" id="8350085">1</span><span class="op" id="8350086">)</span><span class="op" id="8350087">}</span><span class="op" id="8350088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350091">{</span><span class="string" id="8350092">`(a){0}`</span><span class="op" id="8350100">,</span>&nbsp;<span class="string" id="8350102">&#34;&#34;</span><span class="op" id="8350104">,</span>&nbsp;<span class="ident" id="8350106">build</span><span class="op" id="8350111">(</span><span class="num" id="8350112">1</span><span class="op" id="8350113">,</span>&nbsp;<span class="num" id="8350115">0</span><span class="op" id="8350116">,</span>&nbsp;<span class="num" id="8350118">0</span><span class="op" id="8350119">,</span>&nbsp;<span class="op" id="8350121">-</span><span class="num" id="8350122">1</span><span class="op" id="8350123">,</span>&nbsp;<span class="op" id="8350125">-</span><span class="num" id="8350126">1</span><span class="op" id="8350127">)</span><span class="op" id="8350128">}</span><span class="op" id="8350129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350132">{</span><span class="string" id="8350133">`(?-s)(?:(?:^).)`</span><span class="op" id="8350150">,</span>&nbsp;<span class="string" id="8350152">&#34;\n&#34;</span><span class="op" id="8350156">,</span>&nbsp;<span class="ident" id="8350158">nil</span><span class="op" id="8350161">}</span><span class="op" id="8350162">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350165">{</span><span class="string" id="8350166">`(?s)(?:(?:^).)`</span><span class="op" id="8350182">,</span>&nbsp;<span class="string" id="8350184">&#34;\n&#34;</span><span class="op" id="8350188">,</span>&nbsp;<span class="ident" id="8350190">build</span><span class="op" id="8350195">(</span><span class="num" id="8350196">1</span><span class="op" id="8350197">,</span>&nbsp;<span class="num" id="8350199">0</span><span class="op" id="8350200">,</span>&nbsp;<span class="num" id="8350202">1</span><span class="op" id="8350203">)</span><span class="op" id="8350204">}</span><span class="op" id="8350205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350208">{</span><span class="string" id="8350209">`(?:(?:^).)`</span><span class="op" id="8350221">,</span>&nbsp;<span class="string" id="8350223">&#34;\n&#34;</span><span class="op" id="8350227">,</span>&nbsp;<span class="ident" id="8350229">nil</span><span class="op" id="8350232">}</span><span class="op" id="8350233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350236">{</span><span class="string" id="8350237">`\b`</span><span class="op" id="8350241">,</span>&nbsp;<span class="string" id="8350243">&#34;x&#34;</span><span class="op" id="8350246">,</span>&nbsp;<span class="ident" id="8350248">build</span><span class="op" id="8350253">(</span><span class="num" id="8350254">2</span><span class="op" id="8350255">,</span>&nbsp;<span class="num" id="8350257">0</span><span class="op" id="8350258">,</span>&nbsp;<span class="num" id="8350260">0</span><span class="op" id="8350261">,</span>&nbsp;<span class="num" id="8350263">1</span><span class="op" id="8350264">,</span>&nbsp;<span class="num" id="8350266">1</span><span class="op" id="8350267">)</span><span class="op" id="8350268">}</span><span class="op" id="8350269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350272">{</span><span class="string" id="8350273">`\b`</span><span class="op" id="8350277">,</span>&nbsp;<span class="string" id="8350279">&#34;xx&#34;</span><span class="op" id="8350283">,</span>&nbsp;<span class="ident" id="8350285">build</span><span class="op" id="8350290">(</span><span class="num" id="8350291">2</span><span class="op" id="8350292">,</span>&nbsp;<span class="num" id="8350294">0</span><span class="op" id="8350295">,</span>&nbsp;<span class="num" id="8350297">0</span><span class="op" id="8350298">,</span>&nbsp;<span class="num" id="8350300">2</span><span class="op" id="8350301">,</span>&nbsp;<span class="num" id="8350303">2</span><span class="op" id="8350304">)</span><span class="op" id="8350305">}</span><span class="op" id="8350306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350309">{</span><span class="string" id="8350310">`\b`</span><span class="op" id="8350314">,</span>&nbsp;<span class="string" id="8350316">&#34;x&nbsp;y&#34;</span><span class="op" id="8350321">,</span>&nbsp;<span class="ident" id="8350323">build</span><span class="op" id="8350328">(</span><span class="num" id="8350329">4</span><span class="op" id="8350330">,</span>&nbsp;<span class="num" id="8350332">0</span><span class="op" id="8350333">,</span>&nbsp;<span class="num" id="8350335">0</span><span class="op" id="8350336">,</span>&nbsp;<span class="num" id="8350338">1</span><span class="op" id="8350339">,</span>&nbsp;<span class="num" id="8350341">1</span><span class="op" id="8350342">,</span>&nbsp;<span class="num" id="8350344">2</span><span class="op" id="8350345">,</span>&nbsp;<span class="num" id="8350347">2</span><span class="op" id="8350348">,</span>&nbsp;<span class="num" id="8350350">3</span><span class="op" id="8350351">,</span>&nbsp;<span class="num" id="8350353">3</span><span class="op" id="8350354">)</span><span class="op" id="8350355">}</span><span class="op" id="8350356">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350359">{</span><span class="string" id="8350360">`\b`</span><span class="op" id="8350364">,</span>&nbsp;<span class="string" id="8350366">&#34;xx&nbsp;yy&#34;</span><span class="op" id="8350373">,</span>&nbsp;<span class="ident" id="8350375">build</span><span class="op" id="8350380">(</span><span class="num" id="8350381">4</span><span class="op" id="8350382">,</span>&nbsp;<span class="num" id="8350384">0</span><span class="op" id="8350385">,</span>&nbsp;<span class="num" id="8350387">0</span><span class="op" id="8350388">,</span>&nbsp;<span class="num" id="8350390">2</span><span class="op" id="8350391">,</span>&nbsp;<span class="num" id="8350393">2</span><span class="op" id="8350394">,</span>&nbsp;<span class="num" id="8350396">3</span><span class="op" id="8350397">,</span>&nbsp;<span class="num" id="8350399">3</span><span class="op" id="8350400">,</span>&nbsp;<span class="num" id="8350402">5</span><span class="op" id="8350403">,</span>&nbsp;<span class="num" id="8350405">5</span><span class="op" id="8350406">)</span><span class="op" id="8350407">}</span><span class="op" id="8350408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350411">{</span><span class="string" id="8350412">`\B`</span><span class="op" id="8350416">,</span>&nbsp;<span class="string" id="8350418">&#34;x&#34;</span><span class="op" id="8350421">,</span>&nbsp;<span class="ident" id="8350423">nil</span><span class="op" id="8350426">}</span><span class="op" id="8350427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350430">{</span><span class="string" id="8350431">`\B`</span><span class="op" id="8350435">,</span>&nbsp;<span class="string" id="8350437">&#34;xx&#34;</span><span class="op" id="8350441">,</span>&nbsp;<span class="ident" id="8350443">build</span><span class="op" id="8350448">(</span><span class="num" id="8350449">1</span><span class="op" id="8350450">,</span>&nbsp;<span class="num" id="8350452">1</span><span class="op" id="8350453">,</span>&nbsp;<span class="num" id="8350455">1</span><span class="op" id="8350456">)</span><span class="op" id="8350457">}</span><span class="op" id="8350458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350461">{</span><span class="string" id="8350462">`\B`</span><span class="op" id="8350466">,</span>&nbsp;<span class="string" id="8350468">&#34;x&nbsp;y&#34;</span><span class="op" id="8350473">,</span>&nbsp;<span class="ident" id="8350475">nil</span><span class="op" id="8350478">}</span><span class="op" id="8350479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350482">{</span><span class="string" id="8350483">`\B`</span><span class="op" id="8350487">,</span>&nbsp;<span class="string" id="8350489">&#34;xx&nbsp;yy&#34;</span><span class="op" id="8350496">,</span>&nbsp;<span class="ident" id="8350498">build</span><span class="op" id="8350503">(</span><span class="num" id="8350504">2</span><span class="op" id="8350505">,</span>&nbsp;<span class="num" id="8350507">1</span><span class="op" id="8350508">,</span>&nbsp;<span class="num" id="8350510">1</span><span class="op" id="8350511">,</span>&nbsp;<span class="num" id="8350513">4</span><span class="op" id="8350514">,</span>&nbsp;<span class="num" id="8350516">4</span><span class="op" id="8350517">)</span><span class="op" id="8350518">}</span><span class="op" id="8350519">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8350523">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350537">{</span><span class="string" id="8350538">`[^\S\s]`</span><span class="op" id="8350547">,</span>&nbsp;<span class="string" id="8350549">&#34;abcd&#34;</span><span class="op" id="8350555">,</span>&nbsp;<span class="ident" id="8350557">nil</span><span class="op" id="8350560">}</span><span class="op" id="8350561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350564">{</span><span class="string" id="8350565">`[^\S[:space:]]`</span><span class="op" id="8350581">,</span>&nbsp;<span class="string" id="8350583">&#34;abcd&#34;</span><span class="op" id="8350589">,</span>&nbsp;<span class="ident" id="8350591">nil</span><span class="op" id="8350594">}</span><span class="op" id="8350595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350598">{</span><span class="string" id="8350599">`[^\D\d]`</span><span class="op" id="8350608">,</span>&nbsp;<span class="string" id="8350610">&#34;abcd&#34;</span><span class="op" id="8350616">,</span>&nbsp;<span class="ident" id="8350618">nil</span><span class="op" id="8350621">}</span><span class="op" id="8350622">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350625">{</span><span class="string" id="8350626">`[^\D[:digit:]]`</span><span class="op" id="8350642">,</span>&nbsp;<span class="string" id="8350644">&#34;abcd&#34;</span><span class="op" id="8350650">,</span>&nbsp;<span class="ident" id="8350652">nil</span><span class="op" id="8350655">}</span><span class="op" id="8350656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350659">{</span><span class="string" id="8350660">`(?i)\W`</span><span class="op" id="8350668">,</span>&nbsp;<span class="string" id="8350670">&#34;x&#34;</span><span class="op" id="8350673">,</span>&nbsp;<span class="ident" id="8350675">nil</span><span class="op" id="8350678">}</span><span class="op" id="8350679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350682">{</span><span class="string" id="8350683">`(?i)\W`</span><span class="op" id="8350691">,</span>&nbsp;<span class="string" id="8350693">&#34;k&#34;</span><span class="op" id="8350696">,</span>&nbsp;<span class="ident" id="8350698">nil</span><span class="op" id="8350701">}</span><span class="op" id="8350702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350705">{</span><span class="string" id="8350706">`(?i)\W`</span><span class="op" id="8350714">,</span>&nbsp;<span class="string" id="8350716">&#34;s&#34;</span><span class="op" id="8350719">,</span>&nbsp;<span class="ident" id="8350721">nil</span><span class="op" id="8350724">}</span><span class="op" id="8350725">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8350729">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350770">{</span><span class="string" id="8350771">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="8350835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8350839">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="8350872">,</span>&nbsp;<span class="ident" id="8350874">build</span><span class="op" id="8350879">(</span><span class="num" id="8350880">1</span><span class="op" id="8350881">,</span>&nbsp;<span class="num" id="8350883">0</span><span class="op" id="8350884">,</span>&nbsp;<span class="num" id="8350886">31</span><span class="op" id="8350888">)</span><span class="op" id="8350889">}</span><span class="op" id="8350890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350893">{</span><span class="string" id="8350894">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="8350961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8350965">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="8350998">,</span>&nbsp;<span class="ident" id="8351000">build</span><span class="op" id="8351005">(</span><span class="num" id="8351006">1</span><span class="op" id="8351007">,</span>&nbsp;<span class="num" id="8351009">0</span><span class="op" id="8351010">,</span>&nbsp;<span class="num" id="8351012">31</span><span class="op" id="8351014">)</span><span class="op" id="8351015">}</span><span class="op" id="8351016">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8351019">{</span><span class="string" id="8351020">&#34;\\`&#34;</span><span class="op" id="8351025">,</span>&nbsp;<span class="string" id="8351027">&#34;`&#34;</span><span class="op" id="8351030">,</span>&nbsp;<span class="ident" id="8351032">build</span><span class="op" id="8351037">(</span><span class="num" id="8351038">1</span><span class="op" id="8351039">,</span>&nbsp;<span class="num" id="8351041">0</span><span class="op" id="8351042">,</span>&nbsp;<span class="num" id="8351044">1</span><span class="op" id="8351045">)</span><span class="op" id="8351046">}</span><span class="op" id="8351047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8351050">{</span><span class="string" id="8351051">&#34;[\\`]+&#34;</span><span class="op" id="8351059">,</span>&nbsp;<span class="string" id="8351061">&#34;`&#34;</span><span class="op" id="8351064">,</span>&nbsp;<span class="ident" id="8351066">build</span><span class="op" id="8351071">(</span><span class="num" id="8351072">1</span><span class="op" id="8351073">,</span>&nbsp;<span class="num" id="8351075">0</span><span class="op" id="8351076">,</span>&nbsp;<span class="num" id="8351078">1</span><span class="op" id="8351079">)</span><span class="op" id="8351080">}</span><span class="op" id="8351081">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8351085">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8351133">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8351137">&#34;.&#34;</span><span class="op" id="8351140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8351144">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="8351182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351186">build</span><span class="op" id="8351191">(</span><span class="num" id="8351192">36</span><span class="op" id="8351194">,</span>&nbsp;<span class="num" id="8351196">0</span><span class="op" id="8351197">,</span>&nbsp;<span class="num" id="8351199">1</span><span class="op" id="8351200">,</span>&nbsp;<span class="num" id="8351202">1</span><span class="op" id="8351203">,</span>&nbsp;<span class="num" id="8351205">2</span><span class="op" id="8351206">,</span>&nbsp;<span class="num" id="8351208">2</span><span class="op" id="8351209">,</span>&nbsp;<span class="num" id="8351211">3</span><span class="op" id="8351212">,</span>&nbsp;<span class="num" id="8351214">3</span><span class="op" id="8351215">,</span>&nbsp;<span class="num" id="8351217">4</span><span class="op" id="8351218">,</span>&nbsp;<span class="num" id="8351220">4</span><span class="op" id="8351221">,</span>&nbsp;<span class="num" id="8351223">5</span><span class="op" id="8351224">,</span>&nbsp;<span class="num" id="8351226">5</span><span class="op" id="8351227">,</span>&nbsp;<span class="num" id="8351229">6</span><span class="op" id="8351230">,</span>&nbsp;<span class="num" id="8351232">6</span><span class="op" id="8351233">,</span>&nbsp;<span class="num" id="8351235">7</span><span class="op" id="8351236">,</span>&nbsp;<span class="num" id="8351238">7</span><span class="op" id="8351239">,</span>&nbsp;<span class="num" id="8351241">8</span><span class="op" id="8351242">,</span>&nbsp;<span class="num" id="8351244">8</span><span class="op" id="8351245">,</span>&nbsp;<span class="num" id="8351247">9</span><span class="op" id="8351248">,</span>&nbsp;<span class="num" id="8351250">9</span><span class="op" id="8351251">,</span>&nbsp;<span class="num" id="8351253">10</span><span class="op" id="8351255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8351260">10</span><span class="op" id="8351262">,</span>&nbsp;<span class="num" id="8351264">11</span><span class="op" id="8351266">,</span>&nbsp;<span class="num" id="8351268">11</span><span class="op" id="8351270">,</span>&nbsp;<span class="num" id="8351272">12</span><span class="op" id="8351274">,</span>&nbsp;<span class="num" id="8351276">12</span><span class="op" id="8351278">,</span>&nbsp;<span class="num" id="8351280">13</span><span class="op" id="8351282">,</span>&nbsp;<span class="num" id="8351284">13</span><span class="op" id="8351286">,</span>&nbsp;<span class="num" id="8351288">14</span><span class="op" id="8351290">,</span>&nbsp;<span class="num" id="8351292">14</span><span class="op" id="8351294">,</span>&nbsp;<span class="num" id="8351296">15</span><span class="op" id="8351298">,</span>&nbsp;<span class="num" id="8351300">15</span><span class="op" id="8351302">,</span>&nbsp;<span class="num" id="8351304">16</span><span class="op" id="8351306">,</span>&nbsp;<span class="num" id="8351308">16</span><span class="op" id="8351310">,</span>&nbsp;<span class="num" id="8351312">17</span><span class="op" id="8351314">,</span>&nbsp;<span class="num" id="8351316">17</span><span class="op" id="8351318">,</span>&nbsp;<span class="num" id="8351320">18</span><span class="op" id="8351322">,</span>&nbsp;<span class="num" id="8351324">18</span><span class="op" id="8351326">,</span>&nbsp;<span class="num" id="8351328">19</span><span class="op" id="8351330">,</span>&nbsp;<span class="num" id="8351332">19</span><span class="op" id="8351334">,</span>&nbsp;<span class="num" id="8351336">20</span><span class="op" id="8351338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8351343">20</span><span class="op" id="8351345">,</span>&nbsp;<span class="num" id="8351347">21</span><span class="op" id="8351349">,</span>&nbsp;<span class="num" id="8351351">21</span><span class="op" id="8351353">,</span>&nbsp;<span class="num" id="8351355">22</span><span class="op" id="8351357">,</span>&nbsp;<span class="num" id="8351359">22</span><span class="op" id="8351361">,</span>&nbsp;<span class="num" id="8351363">23</span><span class="op" id="8351365">,</span>&nbsp;<span class="num" id="8351367">23</span><span class="op" id="8351369">,</span>&nbsp;<span class="num" id="8351371">24</span><span class="op" id="8351373">,</span>&nbsp;<span class="num" id="8351375">24</span><span class="op" id="8351377">,</span>&nbsp;<span class="num" id="8351379">25</span><span class="op" id="8351381">,</span>&nbsp;<span class="num" id="8351383">25</span><span class="op" id="8351385">,</span>&nbsp;<span class="num" id="8351387">26</span><span class="op" id="8351389">,</span>&nbsp;<span class="num" id="8351391">26</span><span class="op" id="8351393">,</span>&nbsp;<span class="num" id="8351395">27</span><span class="op" id="8351397">,</span>&nbsp;<span class="num" id="8351399">27</span><span class="op" id="8351401">,</span>&nbsp;<span class="num" id="8351403">28</span><span class="op" id="8351405">,</span>&nbsp;<span class="num" id="8351407">28</span><span class="op" id="8351409">,</span>&nbsp;<span class="num" id="8351411">29</span><span class="op" id="8351413">,</span>&nbsp;<span class="num" id="8351415">29</span><span class="op" id="8351417">,</span>&nbsp;<span class="num" id="8351419">30</span><span class="op" id="8351421">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8351426">30</span><span class="op" id="8351428">,</span>&nbsp;<span class="num" id="8351430">31</span><span class="op" id="8351432">,</span>&nbsp;<span class="num" id="8351434">31</span><span class="op" id="8351436">,</span>&nbsp;<span class="num" id="8351438">32</span><span class="op" id="8351440">,</span>&nbsp;<span class="num" id="8351442">32</span><span class="op" id="8351444">,</span>&nbsp;<span class="num" id="8351446">33</span><span class="op" id="8351448">,</span>&nbsp;<span class="num" id="8351450">33</span><span class="op" id="8351452">,</span>&nbsp;<span class="num" id="8351454">34</span><span class="op" id="8351456">,</span>&nbsp;<span class="num" id="8351458">34</span><span class="op" id="8351460">,</span>&nbsp;<span class="num" id="8351462">35</span><span class="op" id="8351464">,</span>&nbsp;<span class="num" id="8351466">35</span><span class="op" id="8351468">,</span>&nbsp;<span class="num" id="8351470">36</span><span class="op" id="8351472">)</span><span class="op" id="8351473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8351476">}</span><span class="op" id="8351477">,</span><br>
<span class="lineno"></span><span class="op" id="8351479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8351482">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="8351560">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="8351620">func</span>&nbsp;<span class="ident" id="8351625">build</span><span class="op" id="8351630">(</span><span class="ident" id="8351631">n</span>&nbsp;<span class="builtintype" id="8351633">int</span><span class="op" id="8351636">,</span>&nbsp;<span class="ident" id="8351638">x</span>&nbsp;<span class="op" id="8351640">...</span><span class="builtintype" id="8351643">int</span><span class="op" id="8351646">)</span>&nbsp;<span class="op" id="8351648">[</span><span class="op" id="8351649">]</span><span class="op" id="8351650">[</span><span class="op" id="8351651">]</span><span class="builtintype" id="8351652">int</span>&nbsp;<span class="op" id="8351656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351659">ret</span>&nbsp;<span class="op" id="8351663">:=</span>&nbsp;<span class="builtinfunc" id="8351666">make</span><span class="op" id="8351670">(</span><span class="op" id="8351671">[</span><span class="op" id="8351672">]</span><span class="op" id="8351673">[</span><span class="op" id="8351674">]</span><span class="builtintype" id="8351675">int</span><span class="op" id="8351678">,</span>&nbsp;<span class="ident" id="8351680">n</span><span class="op" id="8351681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351684">runLength</span>&nbsp;<span class="op" id="8351694">:=</span>&nbsp;<span class="builtinfunc" id="8351697">len</span><span class="op" id="8351700">(</span><span class="ident" id="8351701">x</span><span class="op" id="8351702">)</span>&nbsp;<span class="op" id="8351704">/</span>&nbsp;<span class="ident" id="8351706">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351709">j</span>&nbsp;<span class="op" id="8351711">:=</span>&nbsp;<span class="num" id="8351714">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8351717">for</span>&nbsp;<span class="ident" id="8351721">i</span>&nbsp;<span class="op" id="8351723">:=</span>&nbsp;<span class="keyword" id="8351726">range</span>&nbsp;<span class="ident" id="8351732">ret</span>&nbsp;<span class="op" id="8351736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351740">ret</span><span class="op" id="8351743">[</span><span class="ident" id="8351744">i</span><span class="op" id="8351745">]</span>&nbsp;<span class="op" id="8351747">=</span>&nbsp;<span class="builtinfunc" id="8351749">make</span><span class="op" id="8351753">(</span><span class="op" id="8351754">[</span><span class="op" id="8351755">]</span><span class="builtintype" id="8351756">int</span><span class="op" id="8351759">,</span>&nbsp;<span class="ident" id="8351761">runLength</span><span class="op" id="8351770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8351774">copy</span><span class="op" id="8351778">(</span><span class="ident" id="8351779">ret</span><span class="op" id="8351782">[</span><span class="ident" id="8351783">i</span><span class="op" id="8351784">]</span><span class="op" id="8351785">,</span>&nbsp;<span class="ident" id="8351787">x</span><span class="op" id="8351788">[</span><span class="ident" id="8351789">j</span><span class="op" id="8351790">:</span><span class="op" id="8351791">]</span><span class="op" id="8351792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351796">j</span>&nbsp;<span class="op" id="8351798">+=</span>&nbsp;<span class="ident" id="8351801">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8351813">if</span>&nbsp;<span class="ident" id="8351816">j</span>&nbsp;<span class="op" id="8351818">&gt;</span>&nbsp;<span class="builtinfunc" id="8351820">len</span><span class="op" id="8351823">(</span><span class="ident" id="8351824">x</span><span class="op" id="8351825">)</span>&nbsp;<span class="op" id="8351827">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8351832">panic</span><span class="op" id="8351837">(</span><span class="string" id="8351838">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="8351859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8351863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8351866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8351869">return</span>&nbsp;<span class="ident" id="8351876">ret</span><br>
<span class="lineno"></span><span class="op" id="8351880">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="8351883">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8351911">func</span>&nbsp;<span class="ident" id="8351916">TestFind</span><span class="op" id="8351924">(</span><span class="ident" id="8351925">t</span>&nbsp;<span class="op" id="8351927">*</span><span class="ident" id="8351928">testing</span><span class="op" id="8351935">.</span><span class="ident" id="8351936">T</span><span class="op" id="8351937">)</span>&nbsp;<span class="op" id="8351939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8351942">for</span>&nbsp;<span class="ident" id="8351946">_</span><span class="op" id="8351947">,</span>&nbsp;<span class="ident" id="8351949">test</span>&nbsp;<span class="op" id="8351954">:=</span>&nbsp;<span class="keyword" id="8351957">range</span>&nbsp;<span class="ident" id="8351963">findTests</span>&nbsp;<span class="op" id="8351973">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351977">re</span>&nbsp;<span class="op" id="8351980">:=</span>&nbsp;<span class="ident" id="8351983">MustCompile</span><span class="op" id="8351994">(</span><span class="ident" id="8351995">test</span><span class="op" id="8351999">.</span><span class="ident" id="8352000">pat</span><span class="op" id="8352003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352007">if</span>&nbsp;<span class="ident" id="8352010">re</span><span class="op" id="8352012">.</span><span class="ident" id="8352013">String</span><span class="op" id="8352019">(</span><span class="op" id="8352020">)</span>&nbsp;<span class="op" id="8352022">!=</span>&nbsp;<span class="ident" id="8352025">test</span><span class="op" id="8352029">.</span><span class="ident" id="8352030">pat</span>&nbsp;<span class="op" id="8352034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8352039">t</span><span class="op" id="8352040">.</span><span class="ident" id="8352041">Errorf</span><span class="op" id="8352047">(</span><span class="string" id="8352048">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="8352081">,</span>&nbsp;<span class="ident" id="8352083">re</span><span class="op" id="8352085">.</span><span class="ident" id="8352086">String</span><span class="op" id="8352092">(</span><span class="op" id="8352093">)</span><span class="op" id="8352094">,</span>&nbsp;<span class="ident" id="8352096">test</span><span class="op" id="8352100">.</span><span class="ident" id="8352101">pat</span><span class="op" id="8352104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8352108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8352112">result</span>&nbsp;<span class="op" id="8352119">:=</span>&nbsp;<span class="ident" id="8352122">re</span><span class="op" id="8352124">.</span><span class="ident" id="8352125">Find</span><span class="op" id="8352129">(</span><span class="op" id="8352130">[</span><span class="op" id="8352131">]</span><span class="builtintype" id="8352132">byte</span><span class="op" id="8352136">(</span><span class="ident" id="8352137">test</span><span class="op" id="8352141">.</span><span class="ident" id="8352142">text</span><span class="op" id="8352146">)</span><span class="op" id="8352147">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352151">switch</span>&nbsp;<span class="op" id="8352158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352162">case</span>&nbsp;<span class="builtinfunc" id="8352167">len</span><span class="op" id="8352170">(</span><span class="ident" id="8352171">test</span><span class="op" id="8352175">.</span><span class="ident" id="8352176">matches</span><span class="op" id="8352183">)</span>&nbsp;<span class="op" id="8352185">==</span>&nbsp;<span class="num" id="8352188">0</span>&nbsp;<span class="op" id="8352190">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="8352193">len</span><span class="op" id="8352196">(</span><span class="ident" id="8352197">result</span><span class="op" id="8352203">)</span>&nbsp;<span class="op" id="8352205">==</span>&nbsp;<span class="num" id="8352208">0</span><span class="op" id="8352209">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8352214">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352222">case</span>&nbsp;<span class="ident" id="8352227">test</span><span class="op" id="8352231">.</span><span class="ident" id="8352232">matches</span>&nbsp;<span class="op" id="8352240">==</span>&nbsp;<span class="ident" id="8352243">nil</span>&nbsp;<span class="op" id="8352247">&amp;&amp;</span>&nbsp;<span class="ident" id="8352250">result</span>&nbsp;<span class="op" id="8352257">!=</span>&nbsp;<span class="ident" id="8352260">nil</span><span class="op" id="8352263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8352268">t</span><span class="op" id="8352269">.</span><span class="ident" id="8352270">Errorf</span><span class="op" id="8352276">(</span><span class="string" id="8352277">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8352309">,</span>&nbsp;<span class="ident" id="8352311">test</span><span class="op" id="8352315">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352319">case</span>&nbsp;<span class="ident" id="8352324">test</span><span class="op" id="8352328">.</span><span class="ident" id="8352329">matches</span>&nbsp;<span class="op" id="8352337">!=</span>&nbsp;<span class="ident" id="8352340">nil</span>&nbsp;<span class="op" id="8352344">&amp;&amp;</span>&nbsp;<span class="ident" id="8352347">result</span>&nbsp;<span class="op" id="8352354">==</span>&nbsp;<span class="ident" id="8352357">nil</span><span class="op" id="8352360">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8352365">t</span><span class="op" id="8352366">.</span><span class="ident" id="8352367">Errorf</span><span class="op" id="8352373">(</span><span class="string" id="8352374">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8352404">,</span>&nbsp;<span class="ident" id="8352406">test</span><span class="op" id="8352410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352414">case</span>&nbsp;<span class="ident" id="8352419">test</span><span class="op" id="8352423">.</span><span class="ident" id="8352424">matches</span>&nbsp;<span class="op" id="8352432">!=</span>&nbsp;<span class="ident" id="8352435">nil</span>&nbsp;<span class="op" id="8352439">&amp;&amp;</span>&nbsp;<span class="ident" id="8352442">result</span>&nbsp;<span class="op" id="8352449">!=</span>&nbsp;<span class="ident" id="8352452">nil</span><span class="op" id="8352455">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8352460">expect</span>&nbsp;<span class="op" id="8352467">:=</span>&nbsp;<span class="ident" id="8352470">test</span><span class="op" id="8352474">.</span><span class="ident" id="8352475">text</span><span class="op" id="8352479">[</span><span class="ident" id="8352480">test</span><span class="op" id="8352484">.</span><span class="ident" id="8352485">matches</span><span class="op" id="8352492">[</span><span class="num" id="8352493">0</span><span class="op" id="8352494">]</span><span class="op" id="8352495">[</span><span class="num" id="8352496">0</span><span class="op" id="8352497">]</span><span class="op" id="8352498">:</span><span class="ident" id="8352499">test</span><span class="op" id="8352503">.</span><span class="ident" id="8352504">matches</span><span class="op" id="8352511">[</span><span class="num" id="8352512">0</span><span class="op" id="8352513">]</span><span class="op" id="8352514">[</span><span class="num" id="8352515">1</span><span class="op" id="8352516">]</span><span class="op" id="8352517">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352522">if</span>&nbsp;<span class="ident" id="8352525">expect</span>&nbsp;<span class="op" id="8352532">!=</span>&nbsp;<span class="builtintype" id="8352535">string</span><span class="op" id="8352541">(</span><span class="ident" id="8352542">result</span><span class="op" id="8352548">)</span>&nbsp;<span class="op" id="8352550">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8352556">t</span><span class="op" id="8352557">.</span><span class="ident" id="8352558">Errorf</span><span class="op" id="8352564">(</span><span class="string" id="8352565">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8352589">,</span>&nbsp;<span class="ident" id="8352591">expect</span><span class="op" id="8352597">,</span>&nbsp;<span class="ident" id="8352599">result</span><span class="op" id="8352605">,</span>&nbsp;<span class="ident" id="8352607">test</span><span class="op" id="8352611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8352616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8352620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8352623">}</span><br>
<span class="lineno"></span><span class="op" id="8352625">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="8352628">func</span>&nbsp;<span class="ident" id="8352633">TestFindString</span><span class="op" id="8352647">(</span><span class="ident" id="8352648">t</span>&nbsp;<span class="op" id="8352650">*</span><span class="ident" id="8352651">testing</span><span class="op" id="8352658">.</span><span class="ident" id="8352659">T</span><span class="op" id="8352660">)</span>&nbsp;<span class="op" id="8352662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352665">for</span>&nbsp;<span class="ident" id="8352669">_</span><span class="op" id="8352670">,</span>&nbsp;<span class="ident" id="8352672">test</span>&nbsp;<span class="op" id="8352677">:=</span>&nbsp;<span class="keyword" id="8352680">range</span>&nbsp;<span class="ident" id="8352686">findTests</span>&nbsp;<span class="op" id="8352696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8352700">result</span>&nbsp;<span class="op" id="8352707">:=</span>&nbsp;<span class="ident" id="8352710">MustCompile</span><span class="op" id="8352721">(</span><span class="ident" id="8352722">test</span><span class="op" id="8352726">.</span><span class="ident" id="8352727">pat</span><span class="op" id="8352730">)</span><span class="op" id="8352731">.</span><span class="ident" id="8352732">FindString</span><span class="op" id="8352742">(</span><span class="ident" id="8352743">test</span><span class="op" id="8352747">.</span><span class="ident" id="8352748">text</span><span class="op" id="8352752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352756">switch</span>&nbsp;<span class="op" id="8352763">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352767">case</span>&nbsp;<span class="builtinfunc" id="8352772">len</span><span class="op" id="8352775">(</span><span class="ident" id="8352776">test</span><span class="op" id="8352780">.</span><span class="ident" id="8352781">matches</span><span class="op" id="8352788">)</span>&nbsp;<span class="op" id="8352790">==</span>&nbsp;<span class="num" id="8352793">0</span>&nbsp;<span class="op" id="8352795">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="8352798">len</span><span class="op" id="8352801">(</span><span class="ident" id="8352802">result</span><span class="op" id="8352808">)</span>&nbsp;<span class="op" id="8352810">==</span>&nbsp;<span class="num" id="8352813">0</span><span class="op" id="8352814">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8352819">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352827">case</span>&nbsp;<span class="ident" id="8352832">test</span><span class="op" id="8352836">.</span><span class="ident" id="8352837">matches</span>&nbsp;<span class="op" id="8352845">==</span>&nbsp;<span class="ident" id="8352848">nil</span>&nbsp;<span class="op" id="8352852">&amp;&amp;</span>&nbsp;<span class="ident" id="8352855">result</span>&nbsp;<span class="op" id="8352862">!=</span>&nbsp;<span class="string" id="8352865">&#34;&#34;</span><span class="op" id="8352867">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8352872">t</span><span class="op" id="8352873">.</span><span class="ident" id="8352874">Errorf</span><span class="op" id="8352880">(</span><span class="string" id="8352881">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8352913">,</span>&nbsp;<span class="ident" id="8352915">test</span><span class="op" id="8352919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8352923">case</span>&nbsp;<span class="ident" id="8352928">test</span><span class="op" id="8352932">.</span><span class="ident" id="8352933">matches</span>&nbsp;<span class="op" id="8352941">!=</span>&nbsp;<span class="ident" id="8352944">nil</span>&nbsp;<span class="op" id="8352948">&amp;&amp;</span>&nbsp;<span class="ident" id="8352951">result</span>&nbsp;<span class="op" id="8352958">==</span>&nbsp;<span class="string" id="8352961">&#34;&#34;</span><span class="op" id="8352963">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8352968">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8353048">if</span>&nbsp;<span class="ident" id="8353051">test</span><span class="op" id="8353055">.</span><span class="ident" id="8353056">matches</span><span class="op" id="8353063">[</span><span class="num" id="8353064">0</span><span class="op" id="8353065">]</span><span class="op" id="8353066">[</span><span class="num" id="8353067">0</span><span class="op" id="8353068">]</span>&nbsp;<span class="op" id="8353070">!=</span>&nbsp;<span class="ident" id="8353073">test</span><span class="op" id="8353077">.</span><span class="ident" id="8353078">matches</span><span class="op" id="8353085">[</span><span class="num" id="8353086">0</span><span class="op" id="8353087">]</span><span class="op" id="8353088">[</span><span class="num" id="8353089">1</span><span class="op" id="8353090">]</span>&nbsp;<span class="op" id="8353092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8353098">t</span><span class="op" id="8353099">.</span><span class="ident" id="8353100">Errorf</span><span class="op" id="8353106">(</span><span class="string" id="8353107">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8353137">,</span>&nbsp;<span class="ident" id="8353139">test</span><span class="op" id="8353143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8353148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8353152">case</span>&nbsp;<span class="ident" id="8353157">test</span><span class="op" id="8353161">.</span><span class="ident" id="8353162">matches</span>&nbsp;<span class="op" id="8353170">!=</span>&nbsp;<span class="ident" id="8353173">nil</span>&nbsp;<span class="op" id="8353177">&amp;&amp;</span>&nbsp;<span class="ident" id="8353180">result</span>&nbsp;<span class="op" id="8353187">!=</span>&nbsp;<span class="string" id="8353190">&#34;&#34;</span><span class="op" id="8353192">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8353197">expect</span>&nbsp;<span class="op" id="8353204">:=</span>&nbsp;<span class="ident" id="8353207">test</span><span class="op" id="8353211">.</span><span class="ident" id="8353212">text</span><span class="op" id="8353216">[</span><span class="ident" id="8353217">test</span><span class="op" id="8353221">.</span><span class="ident" id="8353222">matches</span><span class="op" id="8353229">[</span><span class="num" id="8353230">0</span><span class="op" id="8353231">]</span><span class="op" id="8353232">[</span><span class="num" id="8353233">0</span><span class="op" id="8353234">]</span><span class="op" id="8353235">:</span><span class="ident" id="8353236">test</span><span class="op" id="8353240">.</span><span class="ident" id="8353241">matches</span><span class="op" id="8353248">[</span><span class="num" id="8353249">0</span><span class="op" id="8353250">]</span><span class="op" id="8353251">[</span><span class="num" id="8353252">1</span><span class="op" id="8353253">]</span><span class="op" id="8353254">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8353259">if</span>&nbsp;<span class="ident" id="8353262">expect</span>&nbsp;<span class="op" id="8353269">!=</span>&nbsp;<span class="ident" id="8353272">result</span>&nbsp;<span class="op" id="8353279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8353285">t</span><span class="op" id="8353286">.</span><span class="ident" id="8353287">Errorf</span><span class="op" id="8353293">(</span><span class="string" id="8353294">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8353318">,</span>&nbsp;<span class="ident" id="8353320">expect</span><span class="op" id="8353326">,</span>&nbsp;<span class="ident" id="8353328">result</span><span class="op" id="8353334">,</span>&nbsp;<span class="ident" id="8353336">test</span><span class="op" id="8353340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8353345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8353349">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8353352">}</span><br>
<span class="lineno"></span><span class="op" id="8353354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8353357">func</span>&nbsp;<span class="ident" id="8353362">testFindIndex</span><span class="op" id="8353375">(</span><span class="ident" id="8353376">test</span>&nbsp;<span class="op" id="8353381">*</span><span class="ident" id="8353382">FindTest</span><span class="op" id="8353390">,</span>&nbsp;<span class="ident" id="8353392">result</span>&nbsp;<span class="op" id="8353399">[</span><span class="op" id="8353400">]</span><span class="builtintype" id="8353401">int</span><span class="op" id="8353404">,</span>&nbsp;<span class="ident" id="8353406">t</span>&nbsp;<span class="op" id="8353408">*</span><span class="ident" id="8353409">testing</span><span class="op" id="8353416">.</span><span class="ident" id="8353417">T</span><span class="op" id="8353418">)</span>&nbsp;<span class="op" id="8353420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8353423">switch</span>&nbsp;<span class="op" id="8353430">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8353433">case</span>&nbsp;<span class="builtinfunc" id="8353438">len</span><span class="op" id="8353441">(</span><span class="ident" id="8353442">test</span><span class="op" id="8353446">.</span><span class="ident" id="8353447">matches</span><span class="op" id="8353454">)</span>&nbsp;<span class="op" id="8353456">==</span>&nbsp;<span class="num" id="8353459">0</span>&nbsp;<span class="op" id="8353461">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="8353464">len</span><span class="op" id="8353467">(</span><span class="ident" id="8353468">result</span><span class="op" id="8353474">)</span>&nbsp;<span class="op" id="8353476">==</span>&nbsp;<span class="num" id="8353479">0</span><span class="op" id="8353480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8353484">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8353491">case</span>&nbsp;<span class="ident" id="8353496">test</span><span class="op" id="8353500">.</span><span class="ident" id="8353501">matches</span>&nbsp;<span class="op" id="8353509">==</span>&nbsp;<span class="ident" id="8353512">nil</span>&nbsp;<span class="op" id="8353516">&amp;&amp;</span>&nbsp;<span class="ident" id="8353519">result</span>&nbsp;<span class="op" id="8353526">!=</span>&nbsp;<span class="ident" id="8353529">nil</span><span class="op" id="8353532">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8353536">t</span><span class="op" id="8353537">.</span><span class="ident" id="8353538">Errorf</span><span class="op" id="8353544">(</span><span class="string" id="8353545">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8353577">,</span>&nbsp;<span class="ident" id="8353579">test</span><span class="op" id="8353583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8353586">case</span>&nbsp;<span class="ident" id="8353591">test</span><span class="op" id="8353595">.</span><span class="ident" id="8353596">matches</span>&nbsp;<span class="op" id="8353604">!=</span>&nbsp;<span class="ident" id="8353607">nil</span>&nbsp;<span class="op" id="8353611">&amp;&amp;</span>&nbsp;<span class="ident" id="8353614">result</span>&nbsp;<span class="op" id="8353621">==</span>&nbsp;<span class="ident" id="8353624">nil</span><span class="op" id="8353627">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8353631">t</span><span class="op" id="8353632">.</span><span class="ident" id="8353633">Errorf</span><span class="op" id="8353639">(</span><span class="string" id="8353640">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8353670">,</span>&nbsp;<span class="ident" id="8353672">test</span><span class="op" id="8353676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8353679">case</span>&nbsp;<span class="ident" id="8353684">test</span><span class="op" id="8353688">.</span><span class="ident" id="8353689">matches</span>&nbsp;<span class="op" id="8353697">!=</span>&nbsp;<span class="ident" id="8353700">nil</span>&nbsp;<span class="op" id="8353704">&amp;&amp;</span>&nbsp;<span class="ident" id="8353707">result</span>&nbsp;<span class="op" id="8353714">!=</span>&nbsp;<span class="ident" id="8353717">nil</span><span class="op" id="8353720">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8353724">expect</span>&nbsp;<span class="op" id="8353731">:=</span>&nbsp;<span class="ident" id="8353734">test</span><span class="op" id="8353738">.</span><span class="ident" id="8353739">matches</span><span class="op" id="8353746">[</span><span class="num" id="8353747">0</span><span class="op" id="8353748">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8353752">if</span>&nbsp;<span class="ident" id="8353755">expect</span><span class="op" id="8353761">[</span><span class="num" id="8353762">0</span><span class="op" id="8353763">]</span>&nbsp;<span class="op" id="8353765">!=</span>&nbsp;<span class="ident" id="8353768">result</span><span class="op" id="8353774">[</span><span class="num" id="8353775">0</span><span class="op" id="8353776">]</span>&nbsp;<span class="op" id="8353778">||</span>&nbsp;<span class="ident" id="8353781">expect</span><span class="op" id="8353787">[</span><span class="num" id="8353788">1</span><span class="op" id="8353789">]</span>&nbsp;<span class="op" id="8353791">!=</span>&nbsp;<span class="ident" id="8353794">result</span><span class="op" id="8353800">[</span><span class="num" id="8353801">1</span><span class="op" id="8353802">]</span>&nbsp;<span class="op" id="8353804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8353809">t</span><span class="op" id="8353810">.</span><span class="ident" id="8353811">Errorf</span><span class="op" id="8353817">(</span><span class="string" id="8353818">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="8353842">,</span>&nbsp;<span class="ident" id="8353844">expect</span><span class="op" id="8353850">,</span>&nbsp;<span class="ident" id="8353852">result</span><span class="op" id="8353858">,</span>&nbsp;<span class="ident" id="8353860">test</span><span class="op" id="8353864">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8353868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8353871">}</span><br>
<span class="lineno"></span><span class="op" id="8353873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8353876">func</span>&nbsp;<span class="ident" id="8353881">TestFindIndex</span><span class="op" id="8353894">(</span><span class="ident" id="8353895">t</span>&nbsp;<span class="op" id="8353897">*</span><span class="ident" id="8353898">testing</span><span class="op" id="8353905">.</span><span class="ident" id="8353906">T</span><span class="op" id="8353907">)</span>&nbsp;<span class="op" id="8353909">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8353912">for</span>&nbsp;<span class="ident" id="8353916">_</span><span class="op" id="8353917">,</span>&nbsp;<span class="ident" id="8353919">test</span>&nbsp;<span class="op" id="8353924">:=</span>&nbsp;<span class="keyword" id="8353927">range</span>&nbsp;<span class="ident" id="8353933">findTests</span>&nbsp;<span class="op" id="8353943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8353947">testFindIndex</span><span class="op" id="8353960">(</span><span class="op" id="8353961">&amp;</span><span class="ident" id="8353962">test</span><span class="op" id="8353966">,</span>&nbsp;<span class="ident" id="8353968">MustCompile</span><span class="op" id="8353979">(</span><span class="ident" id="8353980">test</span><span class="op" id="8353984">.</span><span class="ident" id="8353985">pat</span><span class="op" id="8353988">)</span><span class="op" id="8353989">.</span><span class="ident" id="8353990">FindIndex</span><span class="op" id="8353999">(</span><span class="op" id="8354000">[</span><span class="op" id="8354001">]</span><span class="builtintype" id="8354002">byte</span><span class="op" id="8354006">(</span><span class="ident" id="8354007">test</span><span class="op" id="8354011">.</span><span class="ident" id="8354012">text</span><span class="op" id="8354016">)</span><span class="op" id="8354017">)</span><span class="op" id="8354018">,</span>&nbsp;<span class="ident" id="8354020">t</span><span class="op" id="8354021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354024">}</span><br>
<span class="lineno"></span><span class="op" id="8354026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="8354029">func</span>&nbsp;<span class="ident" id="8354034">TestFindStringIndex</span><span class="op" id="8354053">(</span><span class="ident" id="8354054">t</span>&nbsp;<span class="op" id="8354056">*</span><span class="ident" id="8354057">testing</span><span class="op" id="8354064">.</span><span class="ident" id="8354065">T</span><span class="op" id="8354066">)</span>&nbsp;<span class="op" id="8354068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354071">for</span>&nbsp;<span class="ident" id="8354075">_</span><span class="op" id="8354076">,</span>&nbsp;<span class="ident" id="8354078">test</span>&nbsp;<span class="op" id="8354083">:=</span>&nbsp;<span class="keyword" id="8354086">range</span>&nbsp;<span class="ident" id="8354092">findTests</span>&nbsp;<span class="op" id="8354102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354106">testFindIndex</span><span class="op" id="8354119">(</span><span class="op" id="8354120">&amp;</span><span class="ident" id="8354121">test</span><span class="op" id="8354125">,</span>&nbsp;<span class="ident" id="8354127">MustCompile</span><span class="op" id="8354138">(</span><span class="ident" id="8354139">test</span><span class="op" id="8354143">.</span><span class="ident" id="8354144">pat</span><span class="op" id="8354147">)</span><span class="op" id="8354148">.</span><span class="ident" id="8354149">FindStringIndex</span><span class="op" id="8354164">(</span><span class="ident" id="8354165">test</span><span class="op" id="8354169">.</span><span class="ident" id="8354170">text</span><span class="op" id="8354174">)</span><span class="op" id="8354175">,</span>&nbsp;<span class="ident" id="8354177">t</span><span class="op" id="8354178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354181">}</span><br>
<span class="lineno"></span><span class="op" id="8354183">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="8354186">func</span>&nbsp;<span class="ident" id="8354191">TestFindReaderIndex</span><span class="op" id="8354210">(</span><span class="ident" id="8354211">t</span>&nbsp;<span class="op" id="8354213">*</span><span class="ident" id="8354214">testing</span><span class="op" id="8354221">.</span><span class="ident" id="8354222">T</span><span class="op" id="8354223">)</span>&nbsp;<span class="op" id="8354225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354228">for</span>&nbsp;<span class="ident" id="8354232">_</span><span class="op" id="8354233">,</span>&nbsp;<span class="ident" id="8354235">test</span>&nbsp;<span class="op" id="8354240">:=</span>&nbsp;<span class="keyword" id="8354243">range</span>&nbsp;<span class="ident" id="8354249">findTests</span>&nbsp;<span class="op" id="8354259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354263">testFindIndex</span><span class="op" id="8354276">(</span><span class="op" id="8354277">&amp;</span><span class="ident" id="8354278">test</span><span class="op" id="8354282">,</span>&nbsp;<span class="ident" id="8354284">MustCompile</span><span class="op" id="8354295">(</span><span class="ident" id="8354296">test</span><span class="op" id="8354300">.</span><span class="ident" id="8354301">pat</span><span class="op" id="8354304">)</span><span class="op" id="8354305">.</span><span class="ident" id="8354306">FindReaderIndex</span><span class="op" id="8354321">(</span><span class="ident" id="8354322">strings</span><span class="op" id="8354329">.</span><span class="ident" id="8354330">NewReader</span><span class="op" id="8354339">(</span><span class="ident" id="8354340">test</span><span class="op" id="8354344">.</span><span class="ident" id="8354345">text</span><span class="op" id="8354349">)</span><span class="op" id="8354350">)</span><span class="op" id="8354351">,</span>&nbsp;<span class="ident" id="8354353">t</span><span class="op" id="8354354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354357">}</span><br>
<span class="lineno">225</span><span class="op" id="8354359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8354362">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8354397">func</span>&nbsp;<span class="ident" id="8354402">TestFindAll</span><span class="op" id="8354413">(</span><span class="ident" id="8354414">t</span>&nbsp;<span class="op" id="8354416">*</span><span class="ident" id="8354417">testing</span><span class="op" id="8354424">.</span><span class="ident" id="8354425">T</span><span class="op" id="8354426">)</span>&nbsp;<span class="op" id="8354428">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354431">for</span>&nbsp;<span class="ident" id="8354435">_</span><span class="op" id="8354436">,</span>&nbsp;<span class="ident" id="8354438">test</span>&nbsp;<span class="op" id="8354443">:=</span>&nbsp;<span class="keyword" id="8354446">range</span>&nbsp;<span class="ident" id="8354452">findTests</span>&nbsp;<span class="op" id="8354462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354466">result</span>&nbsp;<span class="op" id="8354473">:=</span>&nbsp;<span class="ident" id="8354476">MustCompile</span><span class="op" id="8354487">(</span><span class="ident" id="8354488">test</span><span class="op" id="8354492">.</span><span class="ident" id="8354493">pat</span><span class="op" id="8354496">)</span><span class="op" id="8354497">.</span><span class="ident" id="8354498">FindAll</span><span class="op" id="8354505">(</span><span class="op" id="8354506">[</span><span class="op" id="8354507">]</span><span class="builtintype" id="8354508">byte</span><span class="op" id="8354512">(</span><span class="ident" id="8354513">test</span><span class="op" id="8354517">.</span><span class="ident" id="8354518">text</span><span class="op" id="8354522">)</span><span class="op" id="8354523">,</span>&nbsp;<span class="op" id="8354525">-</span><span class="num" id="8354526">1</span><span class="op" id="8354527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354531">switch</span>&nbsp;<span class="op" id="8354538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354542">case</span>&nbsp;<span class="ident" id="8354547">test</span><span class="op" id="8354551">.</span><span class="ident" id="8354552">matches</span>&nbsp;<span class="op" id="8354560">==</span>&nbsp;<span class="ident" id="8354563">nil</span>&nbsp;<span class="op" id="8354567">&amp;&amp;</span>&nbsp;<span class="ident" id="8354570">result</span>&nbsp;<span class="op" id="8354577">==</span>&nbsp;<span class="ident" id="8354580">nil</span><span class="op" id="8354583">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8354588">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354596">case</span>&nbsp;<span class="ident" id="8354601">test</span><span class="op" id="8354605">.</span><span class="ident" id="8354606">matches</span>&nbsp;<span class="op" id="8354614">==</span>&nbsp;<span class="ident" id="8354617">nil</span>&nbsp;<span class="op" id="8354621">&amp;&amp;</span>&nbsp;<span class="ident" id="8354624">result</span>&nbsp;<span class="op" id="8354631">!=</span>&nbsp;<span class="ident" id="8354634">nil</span><span class="op" id="8354637">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354642">t</span><span class="op" id="8354643">.</span><span class="ident" id="8354644">Errorf</span><span class="op" id="8354650">(</span><span class="string" id="8354651">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8354683">,</span>&nbsp;<span class="ident" id="8354685">test</span><span class="op" id="8354689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354693">case</span>&nbsp;<span class="ident" id="8354698">test</span><span class="op" id="8354702">.</span><span class="ident" id="8354703">matches</span>&nbsp;<span class="op" id="8354711">!=</span>&nbsp;<span class="ident" id="8354714">nil</span>&nbsp;<span class="op" id="8354718">&amp;&amp;</span>&nbsp;<span class="ident" id="8354721">result</span>&nbsp;<span class="op" id="8354728">==</span>&nbsp;<span class="ident" id="8354731">nil</span><span class="op" id="8354734">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354739">t</span><span class="op" id="8354740">.</span><span class="ident" id="8354741">Fatalf</span><span class="op" id="8354747">(</span><span class="string" id="8354748">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8354778">,</span>&nbsp;<span class="ident" id="8354780">test</span><span class="op" id="8354784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354788">case</span>&nbsp;<span class="ident" id="8354793">test</span><span class="op" id="8354797">.</span><span class="ident" id="8354798">matches</span>&nbsp;<span class="op" id="8354806">!=</span>&nbsp;<span class="ident" id="8354809">nil</span>&nbsp;<span class="op" id="8354813">&amp;&amp;</span>&nbsp;<span class="ident" id="8354816">result</span>&nbsp;<span class="op" id="8354823">!=</span>&nbsp;<span class="ident" id="8354826">nil</span><span class="op" id="8354829">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354834">if</span>&nbsp;<span class="builtinfunc" id="8354837">len</span><span class="op" id="8354840">(</span><span class="ident" id="8354841">test</span><span class="op" id="8354845">.</span><span class="ident" id="8354846">matches</span><span class="op" id="8354853">)</span>&nbsp;<span class="op" id="8354855">!=</span>&nbsp;<span class="builtinfunc" id="8354858">len</span><span class="op" id="8354861">(</span><span class="ident" id="8354862">result</span><span class="op" id="8354868">)</span>&nbsp;<span class="op" id="8354870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8354876">t</span><span class="op" id="8354877">.</span><span class="ident" id="8354878">Errorf</span><span class="op" id="8354884">(</span><span class="string" id="8354885">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8354918">,</span>&nbsp;<span class="builtinfunc" id="8354920">len</span><span class="op" id="8354923">(</span><span class="ident" id="8354924">test</span><span class="op" id="8354928">.</span><span class="ident" id="8354929">matches</span><span class="op" id="8354936">)</span><span class="op" id="8354937">,</span>&nbsp;<span class="builtinfunc" id="8354939">len</span><span class="op" id="8354942">(</span><span class="ident" id="8354943">result</span><span class="op" id="8354949">)</span><span class="op" id="8354950">,</span>&nbsp;<span class="ident" id="8354952">test</span><span class="op" id="8354956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354962">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8354974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8354979">for</span>&nbsp;<span class="ident" id="8354983">k</span><span class="op" id="8354984">,</span>&nbsp;<span class="ident" id="8354986">e</span>&nbsp;<span class="op" id="8354988">:=</span>&nbsp;<span class="keyword" id="8354991">range</span>&nbsp;<span class="ident" id="8354997">test</span><span class="op" id="8355001">.</span><span class="ident" id="8355002">matches</span>&nbsp;<span class="op" id="8355010">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355016">expect</span>&nbsp;<span class="op" id="8355023">:=</span>&nbsp;<span class="ident" id="8355026">test</span><span class="op" id="8355030">.</span><span class="ident" id="8355031">text</span><span class="op" id="8355035">[</span><span class="ident" id="8355036">e</span><span class="op" id="8355037">[</span><span class="num" id="8355038">0</span><span class="op" id="8355039">]</span><span class="op" id="8355040">:</span><span class="ident" id="8355041">e</span><span class="op" id="8355042">[</span><span class="num" id="8355043">1</span><span class="op" id="8355044">]</span><span class="op" id="8355045">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355051">if</span>&nbsp;<span class="ident" id="8355054">expect</span>&nbsp;<span class="op" id="8355061">!=</span>&nbsp;<span class="builtintype" id="8355064">string</span><span class="op" id="8355070">(</span><span class="ident" id="8355071">result</span><span class="op" id="8355077">[</span><span class="ident" id="8355078">k</span><span class="op" id="8355079">]</span><span class="op" id="8355080">)</span>&nbsp;<span class="op" id="8355082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355089">t</span><span class="op" id="8355090">.</span><span class="ident" id="8355091">Errorf</span><span class="op" id="8355097">(</span><span class="string" id="8355098">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8355132">,</span>&nbsp;<span class="ident" id="8355134">k</span><span class="op" id="8355135">,</span>&nbsp;<span class="ident" id="8355137">expect</span><span class="op" id="8355143">,</span>&nbsp;<span class="ident" id="8355145">result</span><span class="op" id="8355151">[</span><span class="ident" id="8355152">k</span><span class="op" id="8355153">]</span><span class="op" id="8355154">,</span>&nbsp;<span class="ident" id="8355156">test</span><span class="op" id="8355160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355171">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355178">}</span><br>
<span class="lineno"></span><span class="op" id="8355180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8355183">func</span>&nbsp;<span class="ident" id="8355188">TestFindAllString</span><span class="op" id="8355205">(</span><span class="ident" id="8355206">t</span>&nbsp;<span class="op" id="8355208">*</span><span class="ident" id="8355209">testing</span><span class="op" id="8355216">.</span><span class="ident" id="8355217">T</span><span class="op" id="8355218">)</span>&nbsp;<span class="op" id="8355220">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355223">for</span>&nbsp;<span class="ident" id="8355227">_</span><span class="op" id="8355228">,</span>&nbsp;<span class="ident" id="8355230">test</span>&nbsp;<span class="op" id="8355235">:=</span>&nbsp;<span class="keyword" id="8355238">range</span>&nbsp;<span class="ident" id="8355244">findTests</span>&nbsp;<span class="op" id="8355254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355258">result</span>&nbsp;<span class="op" id="8355265">:=</span>&nbsp;<span class="ident" id="8355268">MustCompile</span><span class="op" id="8355279">(</span><span class="ident" id="8355280">test</span><span class="op" id="8355284">.</span><span class="ident" id="8355285">pat</span><span class="op" id="8355288">)</span><span class="op" id="8355289">.</span><span class="ident" id="8355290">FindAllString</span><span class="op" id="8355303">(</span><span class="ident" id="8355304">test</span><span class="op" id="8355308">.</span><span class="ident" id="8355309">text</span><span class="op" id="8355313">,</span>&nbsp;<span class="op" id="8355315">-</span><span class="num" id="8355316">1</span><span class="op" id="8355317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355321">switch</span>&nbsp;<span class="op" id="8355328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355332">case</span>&nbsp;<span class="ident" id="8355337">test</span><span class="op" id="8355341">.</span><span class="ident" id="8355342">matches</span>&nbsp;<span class="op" id="8355350">==</span>&nbsp;<span class="ident" id="8355353">nil</span>&nbsp;<span class="op" id="8355357">&amp;&amp;</span>&nbsp;<span class="ident" id="8355360">result</span>&nbsp;<span class="op" id="8355367">==</span>&nbsp;<span class="ident" id="8355370">nil</span><span class="op" id="8355373">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8355378">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355386">case</span>&nbsp;<span class="ident" id="8355391">test</span><span class="op" id="8355395">.</span><span class="ident" id="8355396">matches</span>&nbsp;<span class="op" id="8355404">==</span>&nbsp;<span class="ident" id="8355407">nil</span>&nbsp;<span class="op" id="8355411">&amp;&amp;</span>&nbsp;<span class="ident" id="8355414">result</span>&nbsp;<span class="op" id="8355421">!=</span>&nbsp;<span class="ident" id="8355424">nil</span><span class="op" id="8355427">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355432">t</span><span class="op" id="8355433">.</span><span class="ident" id="8355434">Errorf</span><span class="op" id="8355440">(</span><span class="string" id="8355441">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8355473">,</span>&nbsp;<span class="ident" id="8355475">test</span><span class="op" id="8355479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355483">case</span>&nbsp;<span class="ident" id="8355488">test</span><span class="op" id="8355492">.</span><span class="ident" id="8355493">matches</span>&nbsp;<span class="op" id="8355501">!=</span>&nbsp;<span class="ident" id="8355504">nil</span>&nbsp;<span class="op" id="8355508">&amp;&amp;</span>&nbsp;<span class="ident" id="8355511">result</span>&nbsp;<span class="op" id="8355518">==</span>&nbsp;<span class="ident" id="8355521">nil</span><span class="op" id="8355524">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355529">t</span><span class="op" id="8355530">.</span><span class="ident" id="8355531">Errorf</span><span class="op" id="8355537">(</span><span class="string" id="8355538">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8355568">,</span>&nbsp;<span class="ident" id="8355570">test</span><span class="op" id="8355574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355578">case</span>&nbsp;<span class="ident" id="8355583">test</span><span class="op" id="8355587">.</span><span class="ident" id="8355588">matches</span>&nbsp;<span class="op" id="8355596">!=</span>&nbsp;<span class="ident" id="8355599">nil</span>&nbsp;<span class="op" id="8355603">&amp;&amp;</span>&nbsp;<span class="ident" id="8355606">result</span>&nbsp;<span class="op" id="8355613">!=</span>&nbsp;<span class="ident" id="8355616">nil</span><span class="op" id="8355619">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355624">if</span>&nbsp;<span class="builtinfunc" id="8355627">len</span><span class="op" id="8355630">(</span><span class="ident" id="8355631">test</span><span class="op" id="8355635">.</span><span class="ident" id="8355636">matches</span><span class="op" id="8355643">)</span>&nbsp;<span class="op" id="8355645">!=</span>&nbsp;<span class="builtinfunc" id="8355648">len</span><span class="op" id="8355651">(</span><span class="ident" id="8355652">result</span><span class="op" id="8355658">)</span>&nbsp;<span class="op" id="8355660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355666">t</span><span class="op" id="8355667">.</span><span class="ident" id="8355668">Errorf</span><span class="op" id="8355674">(</span><span class="string" id="8355675">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8355708">,</span>&nbsp;<span class="builtinfunc" id="8355710">len</span><span class="op" id="8355713">(</span><span class="ident" id="8355714">test</span><span class="op" id="8355718">.</span><span class="ident" id="8355719">matches</span><span class="op" id="8355726">)</span><span class="op" id="8355727">,</span>&nbsp;<span class="builtinfunc" id="8355729">len</span><span class="op" id="8355732">(</span><span class="ident" id="8355733">result</span><span class="op" id="8355739">)</span><span class="op" id="8355740">,</span>&nbsp;<span class="ident" id="8355742">test</span><span class="op" id="8355746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355752">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355769">for</span>&nbsp;<span class="ident" id="8355773">k</span><span class="op" id="8355774">,</span>&nbsp;<span class="ident" id="8355776">e</span>&nbsp;<span class="op" id="8355778">:=</span>&nbsp;<span class="keyword" id="8355781">range</span>&nbsp;<span class="ident" id="8355787">test</span><span class="op" id="8355791">.</span><span class="ident" id="8355792">matches</span>&nbsp;<span class="op" id="8355800">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355806">expect</span>&nbsp;<span class="op" id="8355813">:=</span>&nbsp;<span class="ident" id="8355816">test</span><span class="op" id="8355820">.</span><span class="ident" id="8355821">text</span><span class="op" id="8355825">[</span><span class="ident" id="8355826">e</span><span class="op" id="8355827">[</span><span class="num" id="8355828">0</span><span class="op" id="8355829">]</span><span class="op" id="8355830">:</span><span class="ident" id="8355831">e</span><span class="op" id="8355832">[</span><span class="num" id="8355833">1</span><span class="op" id="8355834">]</span><span class="op" id="8355835">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8355841">if</span>&nbsp;<span class="ident" id="8355844">expect</span>&nbsp;<span class="op" id="8355851">!=</span>&nbsp;<span class="ident" id="8355854">result</span><span class="op" id="8355860">[</span><span class="ident" id="8355861">k</span><span class="op" id="8355862">]</span>&nbsp;<span class="op" id="8355864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8355871">t</span><span class="op" id="8355872">.</span><span class="ident" id="8355873">Errorf</span><span class="op" id="8355879">(</span><span class="string" id="8355880">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8355904">,</span>&nbsp;<span class="ident" id="8355906">expect</span><span class="op" id="8355912">,</span>&nbsp;<span class="ident" id="8355914">result</span><span class="op" id="8355920">,</span>&nbsp;<span class="ident" id="8355922">test</span><span class="op" id="8355926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355937">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8355944">}</span><br>
<span class="lineno"></span><span class="op" id="8355946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8355949">func</span>&nbsp;<span class="ident" id="8355954">testFindAllIndex</span><span class="op" id="8355970">(</span><span class="ident" id="8355971">test</span>&nbsp;<span class="op" id="8355976">*</span><span class="ident" id="8355977">FindTest</span><span class="op" id="8355985">,</span>&nbsp;<span class="ident" id="8355987">result</span>&nbsp;<span class="op" id="8355994">[</span><span class="op" id="8355995">]</span><span class="op" id="8355996">[</span><span class="op" id="8355997">]</span><span class="builtintype" id="8355998">int</span><span class="op" id="8356001">,</span>&nbsp;<span class="ident" id="8356003">t</span>&nbsp;<span class="op" id="8356005">*</span><span class="ident" id="8356006">testing</span><span class="op" id="8356013">.</span><span class="ident" id="8356014">T</span><span class="op" id="8356015">)</span>&nbsp;<span class="op" id="8356017">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356020">switch</span>&nbsp;<span class="op" id="8356027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356030">case</span>&nbsp;<span class="ident" id="8356035">test</span><span class="op" id="8356039">.</span><span class="ident" id="8356040">matches</span>&nbsp;<span class="op" id="8356048">==</span>&nbsp;<span class="ident" id="8356051">nil</span>&nbsp;<span class="op" id="8356055">&amp;&amp;</span>&nbsp;<span class="ident" id="8356058">result</span>&nbsp;<span class="op" id="8356065">==</span>&nbsp;<span class="ident" id="8356068">nil</span><span class="op" id="8356071">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8356075">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356082">case</span>&nbsp;<span class="ident" id="8356087">test</span><span class="op" id="8356091">.</span><span class="ident" id="8356092">matches</span>&nbsp;<span class="op" id="8356100">==</span>&nbsp;<span class="ident" id="8356103">nil</span>&nbsp;<span class="op" id="8356107">&amp;&amp;</span>&nbsp;<span class="ident" id="8356110">result</span>&nbsp;<span class="op" id="8356117">!=</span>&nbsp;<span class="ident" id="8356120">nil</span><span class="op" id="8356123">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356127">t</span><span class="op" id="8356128">.</span><span class="ident" id="8356129">Errorf</span><span class="op" id="8356135">(</span><span class="string" id="8356136">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8356168">,</span>&nbsp;<span class="ident" id="8356170">test</span><span class="op" id="8356174">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356177">case</span>&nbsp;<span class="ident" id="8356182">test</span><span class="op" id="8356186">.</span><span class="ident" id="8356187">matches</span>&nbsp;<span class="op" id="8356195">!=</span>&nbsp;<span class="ident" id="8356198">nil</span>&nbsp;<span class="op" id="8356202">&amp;&amp;</span>&nbsp;<span class="ident" id="8356205">result</span>&nbsp;<span class="op" id="8356212">==</span>&nbsp;<span class="ident" id="8356215">nil</span><span class="op" id="8356218">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356222">t</span><span class="op" id="8356223">.</span><span class="ident" id="8356224">Errorf</span><span class="op" id="8356230">(</span><span class="string" id="8356231">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8356261">,</span>&nbsp;<span class="ident" id="8356263">test</span><span class="op" id="8356267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356270">case</span>&nbsp;<span class="ident" id="8356275">test</span><span class="op" id="8356279">.</span><span class="ident" id="8356280">matches</span>&nbsp;<span class="op" id="8356288">!=</span>&nbsp;<span class="ident" id="8356291">nil</span>&nbsp;<span class="op" id="8356295">&amp;&amp;</span>&nbsp;<span class="ident" id="8356298">result</span>&nbsp;<span class="op" id="8356305">!=</span>&nbsp;<span class="ident" id="8356308">nil</span><span class="op" id="8356311">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356315">if</span>&nbsp;<span class="builtinfunc" id="8356318">len</span><span class="op" id="8356321">(</span><span class="ident" id="8356322">test</span><span class="op" id="8356326">.</span><span class="ident" id="8356327">matches</span><span class="op" id="8356334">)</span>&nbsp;<span class="op" id="8356336">!=</span>&nbsp;<span class="builtinfunc" id="8356339">len</span><span class="op" id="8356342">(</span><span class="ident" id="8356343">result</span><span class="op" id="8356349">)</span>&nbsp;<span class="op" id="8356351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356356">t</span><span class="op" id="8356357">.</span><span class="ident" id="8356358">Errorf</span><span class="op" id="8356364">(</span><span class="string" id="8356365">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8356398">,</span>&nbsp;<span class="builtinfunc" id="8356400">len</span><span class="op" id="8356403">(</span><span class="ident" id="8356404">test</span><span class="op" id="8356408">.</span><span class="ident" id="8356409">matches</span><span class="op" id="8356416">)</span><span class="op" id="8356417">,</span>&nbsp;<span class="builtinfunc" id="8356419">len</span><span class="op" id="8356422">(</span><span class="ident" id="8356423">result</span><span class="op" id="8356429">)</span><span class="op" id="8356430">,</span>&nbsp;<span class="ident" id="8356432">test</span><span class="op" id="8356436">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356441">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356454">for</span>&nbsp;<span class="ident" id="8356458">k</span><span class="op" id="8356459">,</span>&nbsp;<span class="ident" id="8356461">e</span>&nbsp;<span class="op" id="8356463">:=</span>&nbsp;<span class="keyword" id="8356466">range</span>&nbsp;<span class="ident" id="8356472">test</span><span class="op" id="8356476">.</span><span class="ident" id="8356477">matches</span>&nbsp;<span class="op" id="8356485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356490">if</span>&nbsp;<span class="ident" id="8356493">e</span><span class="op" id="8356494">[</span><span class="num" id="8356495">0</span><span class="op" id="8356496">]</span>&nbsp;<span class="op" id="8356498">!=</span>&nbsp;<span class="ident" id="8356501">result</span><span class="op" id="8356507">[</span><span class="ident" id="8356508">k</span><span class="op" id="8356509">]</span><span class="op" id="8356510">[</span><span class="num" id="8356511">0</span><span class="op" id="8356512">]</span>&nbsp;<span class="op" id="8356514">||</span>&nbsp;<span class="ident" id="8356517">e</span><span class="op" id="8356518">[</span><span class="num" id="8356519">1</span><span class="op" id="8356520">]</span>&nbsp;<span class="op" id="8356522">!=</span>&nbsp;<span class="ident" id="8356525">result</span><span class="op" id="8356531">[</span><span class="ident" id="8356532">k</span><span class="op" id="8356533">]</span><span class="op" id="8356534">[</span><span class="num" id="8356535">1</span><span class="op" id="8356536">]</span>&nbsp;<span class="op" id="8356538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356544">t</span><span class="op" id="8356545">.</span><span class="ident" id="8356546">Errorf</span><span class="op" id="8356552">(</span><span class="string" id="8356553">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="8356587">,</span>&nbsp;<span class="ident" id="8356589">k</span><span class="op" id="8356590">,</span>&nbsp;<span class="ident" id="8356592">e</span><span class="op" id="8356593">,</span>&nbsp;<span class="ident" id="8356595">result</span><span class="op" id="8356601">[</span><span class="ident" id="8356602">k</span><span class="op" id="8356603">]</span><span class="op" id="8356604">,</span>&nbsp;<span class="ident" id="8356606">test</span><span class="op" id="8356610">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356622">}</span><br>
<span class="lineno"></span><span class="op" id="8356624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="8356627">func</span>&nbsp;<span class="ident" id="8356632">TestFindAllIndex</span><span class="op" id="8356648">(</span><span class="ident" id="8356649">t</span>&nbsp;<span class="op" id="8356651">*</span><span class="ident" id="8356652">testing</span><span class="op" id="8356659">.</span><span class="ident" id="8356660">T</span><span class="op" id="8356661">)</span>&nbsp;<span class="op" id="8356663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356666">for</span>&nbsp;<span class="ident" id="8356670">_</span><span class="op" id="8356671">,</span>&nbsp;<span class="ident" id="8356673">test</span>&nbsp;<span class="op" id="8356678">:=</span>&nbsp;<span class="keyword" id="8356681">range</span>&nbsp;<span class="ident" id="8356687">findTests</span>&nbsp;<span class="op" id="8356697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356701">testFindAllIndex</span><span class="op" id="8356717">(</span><span class="op" id="8356718">&amp;</span><span class="ident" id="8356719">test</span><span class="op" id="8356723">,</span>&nbsp;<span class="ident" id="8356725">MustCompile</span><span class="op" id="8356736">(</span><span class="ident" id="8356737">test</span><span class="op" id="8356741">.</span><span class="ident" id="8356742">pat</span><span class="op" id="8356745">)</span><span class="op" id="8356746">.</span><span class="ident" id="8356747">FindAllIndex</span><span class="op" id="8356759">(</span><span class="op" id="8356760">[</span><span class="op" id="8356761">]</span><span class="builtintype" id="8356762">byte</span><span class="op" id="8356766">(</span><span class="ident" id="8356767">test</span><span class="op" id="8356771">.</span><span class="ident" id="8356772">text</span><span class="op" id="8356776">)</span><span class="op" id="8356777">,</span>&nbsp;<span class="op" id="8356779">-</span><span class="num" id="8356780">1</span><span class="op" id="8356781">)</span><span class="op" id="8356782">,</span>&nbsp;<span class="ident" id="8356784">t</span><span class="op" id="8356785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356788">}</span><br>
<span class="lineno"></span><span class="op" id="8356790">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="8356793">func</span>&nbsp;<span class="ident" id="8356798">TestFindAllStringIndex</span><span class="op" id="8356820">(</span><span class="ident" id="8356821">t</span>&nbsp;<span class="op" id="8356823">*</span><span class="ident" id="8356824">testing</span><span class="op" id="8356831">.</span><span class="ident" id="8356832">T</span><span class="op" id="8356833">)</span>&nbsp;<span class="op" id="8356835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356838">for</span>&nbsp;<span class="ident" id="8356842">_</span><span class="op" id="8356843">,</span>&nbsp;<span class="ident" id="8356845">test</span>&nbsp;<span class="op" id="8356850">:=</span>&nbsp;<span class="keyword" id="8356853">range</span>&nbsp;<span class="ident" id="8356859">findTests</span>&nbsp;<span class="op" id="8356869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356873">testFindAllIndex</span><span class="op" id="8356889">(</span><span class="op" id="8356890">&amp;</span><span class="ident" id="8356891">test</span><span class="op" id="8356895">,</span>&nbsp;<span class="ident" id="8356897">MustCompile</span><span class="op" id="8356908">(</span><span class="ident" id="8356909">test</span><span class="op" id="8356913">.</span><span class="ident" id="8356914">pat</span><span class="op" id="8356917">)</span><span class="op" id="8356918">.</span><span class="ident" id="8356919">FindAllStringIndex</span><span class="op" id="8356937">(</span><span class="ident" id="8356938">test</span><span class="op" id="8356942">.</span><span class="ident" id="8356943">text</span><span class="op" id="8356947">,</span>&nbsp;<span class="op" id="8356949">-</span><span class="num" id="8356950">1</span><span class="op" id="8356951">)</span><span class="op" id="8356952">,</span>&nbsp;<span class="ident" id="8356954">t</span><span class="op" id="8356955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356958">}</span><br>
<span class="lineno">310</span><span class="op" id="8356960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8356963">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8356996">func</span>&nbsp;<span class="ident" id="8357001">testSubmatchBytes</span><span class="op" id="8357018">(</span><span class="ident" id="8357019">test</span>&nbsp;<span class="op" id="8357024">*</span><span class="ident" id="8357025">FindTest</span><span class="op" id="8357033">,</span>&nbsp;<span class="ident" id="8357035">n</span>&nbsp;<span class="builtintype" id="8357037">int</span><span class="op" id="8357040">,</span>&nbsp;<span class="ident" id="8357042">submatches</span>&nbsp;<span class="op" id="8357053">[</span><span class="op" id="8357054">]</span><span class="builtintype" id="8357055">int</span><span class="op" id="8357058">,</span>&nbsp;<span class="ident" id="8357060">result</span>&nbsp;<span class="op" id="8357067">[</span><span class="op" id="8357068">]</span><span class="op" id="8357069">[</span><span class="op" id="8357070">]</span><span class="builtintype" id="8357071">byte</span><span class="op" id="8357075">,</span>&nbsp;<span class="ident" id="8357077">t</span>&nbsp;<span class="op" id="8357079">*</span><span class="ident" id="8357080">testing</span><span class="op" id="8357087">.</span><span class="ident" id="8357088">T</span><span class="op" id="8357089">)</span>&nbsp;<span class="op" id="8357091">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357094">if</span>&nbsp;<span class="builtinfunc" id="8357097">len</span><span class="op" id="8357100">(</span><span class="ident" id="8357101">submatches</span><span class="op" id="8357111">)</span>&nbsp;<span class="op" id="8357113">!=</span>&nbsp;<span class="builtinfunc" id="8357116">len</span><span class="op" id="8357119">(</span><span class="ident" id="8357120">result</span><span class="op" id="8357126">)</span><span class="op" id="8357127">*</span><span class="num" id="8357128">2</span>&nbsp;<span class="op" id="8357130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357134">t</span><span class="op" id="8357135">.</span><span class="ident" id="8357136">Errorf</span><span class="op" id="8357142">(</span><span class="string" id="8357143">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8357189">,</span>&nbsp;<span class="ident" id="8357191">n</span><span class="op" id="8357192">,</span>&nbsp;<span class="builtinfunc" id="8357194">len</span><span class="op" id="8357197">(</span><span class="ident" id="8357198">submatches</span><span class="op" id="8357208">)</span><span class="op" id="8357209">/</span><span class="num" id="8357210">2</span><span class="op" id="8357211">,</span>&nbsp;<span class="builtinfunc" id="8357213">len</span><span class="op" id="8357216">(</span><span class="ident" id="8357217">result</span><span class="op" id="8357223">)</span><span class="op" id="8357224">,</span>&nbsp;<span class="ident" id="8357226">test</span><span class="op" id="8357230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357234">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357245">for</span>&nbsp;<span class="ident" id="8357249">k</span>&nbsp;<span class="op" id="8357251">:=</span>&nbsp;<span class="num" id="8357254">0</span><span class="op" id="8357255">;</span>&nbsp;<span class="ident" id="8357257">k</span>&nbsp;<span class="op" id="8357259">&lt;</span>&nbsp;<span class="builtinfunc" id="8357261">len</span><span class="op" id="8357264">(</span><span class="ident" id="8357265">submatches</span><span class="op" id="8357275">)</span><span class="op" id="8357276">;</span>&nbsp;<span class="ident" id="8357278">k</span>&nbsp;<span class="op" id="8357280">+=</span>&nbsp;<span class="num" id="8357283">2</span>&nbsp;<span class="op" id="8357285">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357289">if</span>&nbsp;<span class="ident" id="8357292">submatches</span><span class="op" id="8357302">[</span><span class="ident" id="8357303">k</span><span class="op" id="8357304">]</span>&nbsp;<span class="op" id="8357306">==</span>&nbsp;<span class="op" id="8357309">-</span><span class="num" id="8357310">1</span>&nbsp;<span class="op" id="8357312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357317">if</span>&nbsp;<span class="ident" id="8357320">result</span><span class="op" id="8357326">[</span><span class="ident" id="8357327">k</span><span class="op" id="8357328">/</span><span class="num" id="8357329">2</span><span class="op" id="8357330">]</span>&nbsp;<span class="op" id="8357332">!=</span>&nbsp;<span class="ident" id="8357335">nil</span>&nbsp;<span class="op" id="8357339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357345">t</span><span class="op" id="8357346">.</span><span class="ident" id="8357347">Errorf</span><span class="op" id="8357353">(</span><span class="string" id="8357354">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8357389">,</span>&nbsp;<span class="ident" id="8357391">n</span><span class="op" id="8357392">,</span>&nbsp;<span class="ident" id="8357394">result</span><span class="op" id="8357400">,</span>&nbsp;<span class="ident" id="8357402">test</span><span class="op" id="8357406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357416">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357431">expect</span>&nbsp;<span class="op" id="8357438">:=</span>&nbsp;<span class="ident" id="8357441">test</span><span class="op" id="8357445">.</span><span class="ident" id="8357446">text</span><span class="op" id="8357450">[</span><span class="ident" id="8357451">submatches</span><span class="op" id="8357461">[</span><span class="ident" id="8357462">k</span><span class="op" id="8357463">]</span><span class="op" id="8357464">:</span><span class="ident" id="8357465">submatches</span><span class="op" id="8357475">[</span><span class="ident" id="8357476">k</span><span class="op" id="8357477">+</span><span class="num" id="8357478">1</span><span class="op" id="8357479">]</span><span class="op" id="8357480">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357484">if</span>&nbsp;<span class="ident" id="8357487">expect</span>&nbsp;<span class="op" id="8357494">!=</span>&nbsp;<span class="builtintype" id="8357497">string</span><span class="op" id="8357503">(</span><span class="ident" id="8357504">result</span><span class="op" id="8357510">[</span><span class="ident" id="8357511">k</span><span class="op" id="8357512">/</span><span class="num" id="8357513">2</span><span class="op" id="8357514">]</span><span class="op" id="8357515">)</span>&nbsp;<span class="op" id="8357517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357522">t</span><span class="op" id="8357523">.</span><span class="ident" id="8357524">Errorf</span><span class="op" id="8357530">(</span><span class="string" id="8357531">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8357565">,</span>&nbsp;<span class="ident" id="8357567">n</span><span class="op" id="8357568">,</span>&nbsp;<span class="ident" id="8357570">expect</span><span class="op" id="8357576">,</span>&nbsp;<span class="ident" id="8357578">result</span><span class="op" id="8357584">,</span>&nbsp;<span class="ident" id="8357586">test</span><span class="op" id="8357590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357595">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357607">}</span><br>
<span class="lineno"></span><span class="op" id="8357609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8357612">func</span>&nbsp;<span class="ident" id="8357617">TestFindSubmatch</span><span class="op" id="8357633">(</span><span class="ident" id="8357634">t</span>&nbsp;<span class="op" id="8357636">*</span><span class="ident" id="8357637">testing</span><span class="op" id="8357644">.</span><span class="ident" id="8357645">T</span><span class="op" id="8357646">)</span>&nbsp;<span class="op" id="8357648">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357651">for</span>&nbsp;<span class="ident" id="8357655">_</span><span class="op" id="8357656">,</span>&nbsp;<span class="ident" id="8357658">test</span>&nbsp;<span class="op" id="8357663">:=</span>&nbsp;<span class="keyword" id="8357666">range</span>&nbsp;<span class="ident" id="8357672">findTests</span>&nbsp;<span class="op" id="8357682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357686">result</span>&nbsp;<span class="op" id="8357693">:=</span>&nbsp;<span class="ident" id="8357696">MustCompile</span><span class="op" id="8357707">(</span><span class="ident" id="8357708">test</span><span class="op" id="8357712">.</span><span class="ident" id="8357713">pat</span><span class="op" id="8357716">)</span><span class="op" id="8357717">.</span><span class="ident" id="8357718">FindSubmatch</span><span class="op" id="8357730">(</span><span class="op" id="8357731">[</span><span class="op" id="8357732">]</span><span class="builtintype" id="8357733">byte</span><span class="op" id="8357737">(</span><span class="ident" id="8357738">test</span><span class="op" id="8357742">.</span><span class="ident" id="8357743">text</span><span class="op" id="8357747">)</span><span class="op" id="8357748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357752">switch</span>&nbsp;<span class="op" id="8357759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357763">case</span>&nbsp;<span class="ident" id="8357768">test</span><span class="op" id="8357772">.</span><span class="ident" id="8357773">matches</span>&nbsp;<span class="op" id="8357781">==</span>&nbsp;<span class="ident" id="8357784">nil</span>&nbsp;<span class="op" id="8357788">&amp;&amp;</span>&nbsp;<span class="ident" id="8357791">result</span>&nbsp;<span class="op" id="8357798">==</span>&nbsp;<span class="ident" id="8357801">nil</span><span class="op" id="8357804">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8357809">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357817">case</span>&nbsp;<span class="ident" id="8357822">test</span><span class="op" id="8357826">.</span><span class="ident" id="8357827">matches</span>&nbsp;<span class="op" id="8357835">==</span>&nbsp;<span class="ident" id="8357838">nil</span>&nbsp;<span class="op" id="8357842">&amp;&amp;</span>&nbsp;<span class="ident" id="8357845">result</span>&nbsp;<span class="op" id="8357852">!=</span>&nbsp;<span class="ident" id="8357855">nil</span><span class="op" id="8357858">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357863">t</span><span class="op" id="8357864">.</span><span class="ident" id="8357865">Errorf</span><span class="op" id="8357871">(</span><span class="string" id="8357872">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8357904">,</span>&nbsp;<span class="ident" id="8357906">test</span><span class="op" id="8357910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357914">case</span>&nbsp;<span class="ident" id="8357919">test</span><span class="op" id="8357923">.</span><span class="ident" id="8357924">matches</span>&nbsp;<span class="op" id="8357932">!=</span>&nbsp;<span class="ident" id="8357935">nil</span>&nbsp;<span class="op" id="8357939">&amp;&amp;</span>&nbsp;<span class="ident" id="8357942">result</span>&nbsp;<span class="op" id="8357949">==</span>&nbsp;<span class="ident" id="8357952">nil</span><span class="op" id="8357955">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357960">t</span><span class="op" id="8357961">.</span><span class="ident" id="8357962">Errorf</span><span class="op" id="8357968">(</span><span class="string" id="8357969">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8357999">,</span>&nbsp;<span class="ident" id="8358001">test</span><span class="op" id="8358005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358009">case</span>&nbsp;<span class="ident" id="8358014">test</span><span class="op" id="8358018">.</span><span class="ident" id="8358019">matches</span>&nbsp;<span class="op" id="8358027">!=</span>&nbsp;<span class="ident" id="8358030">nil</span>&nbsp;<span class="op" id="8358034">&amp;&amp;</span>&nbsp;<span class="ident" id="8358037">result</span>&nbsp;<span class="op" id="8358044">!=</span>&nbsp;<span class="ident" id="8358047">nil</span><span class="op" id="8358050">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358055">testSubmatchBytes</span><span class="op" id="8358072">(</span><span class="op" id="8358073">&amp;</span><span class="ident" id="8358074">test</span><span class="op" id="8358078">,</span>&nbsp;<span class="num" id="8358080">0</span><span class="op" id="8358081">,</span>&nbsp;<span class="ident" id="8358083">test</span><span class="op" id="8358087">.</span><span class="ident" id="8358088">matches</span><span class="op" id="8358095">[</span><span class="num" id="8358096">0</span><span class="op" id="8358097">]</span><span class="op" id="8358098">,</span>&nbsp;<span class="ident" id="8358100">result</span><span class="op" id="8358106">,</span>&nbsp;<span class="ident" id="8358108">t</span><span class="op" id="8358109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358116">}</span><br>
<span class="lineno"></span><span class="op" id="8358118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="8358121">func</span>&nbsp;<span class="ident" id="8358126">testSubmatchString</span><span class="op" id="8358144">(</span><span class="ident" id="8358145">test</span>&nbsp;<span class="op" id="8358150">*</span><span class="ident" id="8358151">FindTest</span><span class="op" id="8358159">,</span>&nbsp;<span class="ident" id="8358161">n</span>&nbsp;<span class="builtintype" id="8358163">int</span><span class="op" id="8358166">,</span>&nbsp;<span class="ident" id="8358168">submatches</span>&nbsp;<span class="op" id="8358179">[</span><span class="op" id="8358180">]</span><span class="builtintype" id="8358181">int</span><span class="op" id="8358184">,</span>&nbsp;<span class="ident" id="8358186">result</span>&nbsp;<span class="op" id="8358193">[</span><span class="op" id="8358194">]</span><span class="builtintype" id="8358195">string</span><span class="op" id="8358201">,</span>&nbsp;<span class="ident" id="8358203">t</span>&nbsp;<span class="op" id="8358205">*</span><span class="ident" id="8358206">testing</span><span class="op" id="8358213">.</span><span class="ident" id="8358214">T</span><span class="op" id="8358215">)</span>&nbsp;<span class="op" id="8358217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358220">if</span>&nbsp;<span class="builtinfunc" id="8358223">len</span><span class="op" id="8358226">(</span><span class="ident" id="8358227">submatches</span><span class="op" id="8358237">)</span>&nbsp;<span class="op" id="8358239">!=</span>&nbsp;<span class="builtinfunc" id="8358242">len</span><span class="op" id="8358245">(</span><span class="ident" id="8358246">result</span><span class="op" id="8358252">)</span><span class="op" id="8358253">*</span><span class="num" id="8358254">2</span>&nbsp;<span class="op" id="8358256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358260">t</span><span class="op" id="8358261">.</span><span class="ident" id="8358262">Errorf</span><span class="op" id="8358268">(</span><span class="string" id="8358269">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8358315">,</span>&nbsp;<span class="ident" id="8358317">n</span><span class="op" id="8358318">,</span>&nbsp;<span class="builtinfunc" id="8358320">len</span><span class="op" id="8358323">(</span><span class="ident" id="8358324">submatches</span><span class="op" id="8358334">)</span><span class="op" id="8358335">/</span><span class="num" id="8358336">2</span><span class="op" id="8358337">,</span>&nbsp;<span class="builtinfunc" id="8358339">len</span><span class="op" id="8358342">(</span><span class="ident" id="8358343">result</span><span class="op" id="8358349">)</span><span class="op" id="8358350">,</span>&nbsp;<span class="ident" id="8358352">test</span><span class="op" id="8358356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358360">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358368">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358371">for</span>&nbsp;<span class="ident" id="8358375">k</span>&nbsp;<span class="op" id="8358377">:=</span>&nbsp;<span class="num" id="8358380">0</span><span class="op" id="8358381">;</span>&nbsp;<span class="ident" id="8358383">k</span>&nbsp;<span class="op" id="8358385">&lt;</span>&nbsp;<span class="builtinfunc" id="8358387">len</span><span class="op" id="8358390">(</span><span class="ident" id="8358391">submatches</span><span class="op" id="8358401">)</span><span class="op" id="8358402">;</span>&nbsp;<span class="ident" id="8358404">k</span>&nbsp;<span class="op" id="8358406">+=</span>&nbsp;<span class="num" id="8358409">2</span>&nbsp;<span class="op" id="8358411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358415">if</span>&nbsp;<span class="ident" id="8358418">submatches</span><span class="op" id="8358428">[</span><span class="ident" id="8358429">k</span><span class="op" id="8358430">]</span>&nbsp;<span class="op" id="8358432">==</span>&nbsp;<span class="op" id="8358435">-</span><span class="num" id="8358436">1</span>&nbsp;<span class="op" id="8358438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358443">if</span>&nbsp;<span class="ident" id="8358446">result</span><span class="op" id="8358452">[</span><span class="ident" id="8358453">k</span><span class="op" id="8358454">/</span><span class="num" id="8358455">2</span><span class="op" id="8358456">]</span>&nbsp;<span class="op" id="8358458">!=</span>&nbsp;<span class="string" id="8358461">&#34;&#34;</span>&nbsp;<span class="op" id="8358464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358470">t</span><span class="op" id="8358471">.</span><span class="ident" id="8358472">Errorf</span><span class="op" id="8358478">(</span><span class="string" id="8358479">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8358514">,</span>&nbsp;<span class="ident" id="8358516">n</span><span class="op" id="8358517">,</span>&nbsp;<span class="ident" id="8358519">result</span><span class="op" id="8358525">,</span>&nbsp;<span class="ident" id="8358527">test</span><span class="op" id="8358531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358536">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358541">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358556">expect</span>&nbsp;<span class="op" id="8358563">:=</span>&nbsp;<span class="ident" id="8358566">test</span><span class="op" id="8358570">.</span><span class="ident" id="8358571">text</span><span class="op" id="8358575">[</span><span class="ident" id="8358576">submatches</span><span class="op" id="8358586">[</span><span class="ident" id="8358587">k</span><span class="op" id="8358588">]</span><span class="op" id="8358589">:</span><span class="ident" id="8358590">submatches</span><span class="op" id="8358600">[</span><span class="ident" id="8358601">k</span><span class="op" id="8358602">+</span><span class="num" id="8358603">1</span><span class="op" id="8358604">]</span><span class="op" id="8358605">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358609">if</span>&nbsp;<span class="ident" id="8358612">expect</span>&nbsp;<span class="op" id="8358619">!=</span>&nbsp;<span class="ident" id="8358622">result</span><span class="op" id="8358628">[</span><span class="ident" id="8358629">k</span><span class="op" id="8358630">/</span><span class="num" id="8358631">2</span><span class="op" id="8358632">]</span>&nbsp;<span class="op" id="8358634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358639">t</span><span class="op" id="8358640">.</span><span class="ident" id="8358641">Errorf</span><span class="op" id="8358647">(</span><span class="string" id="8358648">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8358682">,</span>&nbsp;<span class="ident" id="8358684">n</span><span class="op" id="8358685">,</span>&nbsp;<span class="ident" id="8358687">expect</span><span class="op" id="8358693">,</span>&nbsp;<span class="ident" id="8358695">result</span><span class="op" id="8358701">,</span>&nbsp;<span class="ident" id="8358703">test</span><span class="op" id="8358707">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358712">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358724">}</span><br>
<span class="lineno"></span><span class="op" id="8358726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="8358729">func</span>&nbsp;<span class="ident" id="8358734">TestFindStringSubmatch</span><span class="op" id="8358756">(</span><span class="ident" id="8358757">t</span>&nbsp;<span class="op" id="8358759">*</span><span class="ident" id="8358760">testing</span><span class="op" id="8358767">.</span><span class="ident" id="8358768">T</span><span class="op" id="8358769">)</span>&nbsp;<span class="op" id="8358771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358774">for</span>&nbsp;<span class="ident" id="8358778">_</span><span class="op" id="8358779">,</span>&nbsp;<span class="ident" id="8358781">test</span>&nbsp;<span class="op" id="8358786">:=</span>&nbsp;<span class="keyword" id="8358789">range</span>&nbsp;<span class="ident" id="8358795">findTests</span>&nbsp;<span class="op" id="8358805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358809">result</span>&nbsp;<span class="op" id="8358816">:=</span>&nbsp;<span class="ident" id="8358819">MustCompile</span><span class="op" id="8358830">(</span><span class="ident" id="8358831">test</span><span class="op" id="8358835">.</span><span class="ident" id="8358836">pat</span><span class="op" id="8358839">)</span><span class="op" id="8358840">.</span><span class="ident" id="8358841">FindStringSubmatch</span><span class="op" id="8358859">(</span><span class="ident" id="8358860">test</span><span class="op" id="8358864">.</span><span class="ident" id="8358865">text</span><span class="op" id="8358869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358873">switch</span>&nbsp;<span class="op" id="8358880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358884">case</span>&nbsp;<span class="ident" id="8358889">test</span><span class="op" id="8358893">.</span><span class="ident" id="8358894">matches</span>&nbsp;<span class="op" id="8358902">==</span>&nbsp;<span class="ident" id="8358905">nil</span>&nbsp;<span class="op" id="8358909">&amp;&amp;</span>&nbsp;<span class="ident" id="8358912">result</span>&nbsp;<span class="op" id="8358919">==</span>&nbsp;<span class="ident" id="8358922">nil</span><span class="op" id="8358925">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8358930">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358938">case</span>&nbsp;<span class="ident" id="8358943">test</span><span class="op" id="8358947">.</span><span class="ident" id="8358948">matches</span>&nbsp;<span class="op" id="8358956">==</span>&nbsp;<span class="ident" id="8358959">nil</span>&nbsp;<span class="op" id="8358963">&amp;&amp;</span>&nbsp;<span class="ident" id="8358966">result</span>&nbsp;<span class="op" id="8358973">!=</span>&nbsp;<span class="ident" id="8358976">nil</span><span class="op" id="8358979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358984">t</span><span class="op" id="8358985">.</span><span class="ident" id="8358986">Errorf</span><span class="op" id="8358992">(</span><span class="string" id="8358993">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8359025">,</span>&nbsp;<span class="ident" id="8359027">test</span><span class="op" id="8359031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359035">case</span>&nbsp;<span class="ident" id="8359040">test</span><span class="op" id="8359044">.</span><span class="ident" id="8359045">matches</span>&nbsp;<span class="op" id="8359053">!=</span>&nbsp;<span class="ident" id="8359056">nil</span>&nbsp;<span class="op" id="8359060">&amp;&amp;</span>&nbsp;<span class="ident" id="8359063">result</span>&nbsp;<span class="op" id="8359070">==</span>&nbsp;<span class="ident" id="8359073">nil</span><span class="op" id="8359076">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359081">t</span><span class="op" id="8359082">.</span><span class="ident" id="8359083">Errorf</span><span class="op" id="8359089">(</span><span class="string" id="8359090">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8359120">,</span>&nbsp;<span class="ident" id="8359122">test</span><span class="op" id="8359126">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359130">case</span>&nbsp;<span class="ident" id="8359135">test</span><span class="op" id="8359139">.</span><span class="ident" id="8359140">matches</span>&nbsp;<span class="op" id="8359148">!=</span>&nbsp;<span class="ident" id="8359151">nil</span>&nbsp;<span class="op" id="8359155">&amp;&amp;</span>&nbsp;<span class="ident" id="8359158">result</span>&nbsp;<span class="op" id="8359165">!=</span>&nbsp;<span class="ident" id="8359168">nil</span><span class="op" id="8359171">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359176">testSubmatchString</span><span class="op" id="8359194">(</span><span class="op" id="8359195">&amp;</span><span class="ident" id="8359196">test</span><span class="op" id="8359200">,</span>&nbsp;<span class="num" id="8359202">0</span><span class="op" id="8359203">,</span>&nbsp;<span class="ident" id="8359205">test</span><span class="op" id="8359209">.</span><span class="ident" id="8359210">matches</span><span class="op" id="8359217">[</span><span class="num" id="8359218">0</span><span class="op" id="8359219">]</span><span class="op" id="8359220">,</span>&nbsp;<span class="ident" id="8359222">result</span><span class="op" id="8359228">,</span>&nbsp;<span class="ident" id="8359230">t</span><span class="op" id="8359231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359238">}</span><br>
<span class="lineno"></span><span class="op" id="8359240">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="8359243">func</span>&nbsp;<span class="ident" id="8359248">testSubmatchIndices</span><span class="op" id="8359267">(</span><span class="ident" id="8359268">test</span>&nbsp;<span class="op" id="8359273">*</span><span class="ident" id="8359274">FindTest</span><span class="op" id="8359282">,</span>&nbsp;<span class="ident" id="8359284">n</span>&nbsp;<span class="builtintype" id="8359286">int</span><span class="op" id="8359289">,</span>&nbsp;<span class="ident" id="8359291">expect</span><span class="op" id="8359297">,</span>&nbsp;<span class="ident" id="8359299">result</span>&nbsp;<span class="op" id="8359306">[</span><span class="op" id="8359307">]</span><span class="builtintype" id="8359308">int</span><span class="op" id="8359311">,</span>&nbsp;<span class="ident" id="8359313">t</span>&nbsp;<span class="op" id="8359315">*</span><span class="ident" id="8359316">testing</span><span class="op" id="8359323">.</span><span class="ident" id="8359324">T</span><span class="op" id="8359325">)</span>&nbsp;<span class="op" id="8359327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359330">if</span>&nbsp;<span class="builtinfunc" id="8359333">len</span><span class="op" id="8359336">(</span><span class="ident" id="8359337">expect</span><span class="op" id="8359343">)</span>&nbsp;<span class="op" id="8359345">!=</span>&nbsp;<span class="builtinfunc" id="8359348">len</span><span class="op" id="8359351">(</span><span class="ident" id="8359352">result</span><span class="op" id="8359358">)</span>&nbsp;<span class="op" id="8359360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359364">t</span><span class="op" id="8359365">.</span><span class="ident" id="8359366">Errorf</span><span class="op" id="8359372">(</span><span class="string" id="8359373">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8359416">,</span>&nbsp;<span class="ident" id="8359418">n</span><span class="op" id="8359419">,</span>&nbsp;<span class="builtinfunc" id="8359421">len</span><span class="op" id="8359424">(</span><span class="ident" id="8359425">expect</span><span class="op" id="8359431">)</span><span class="op" id="8359432">/</span><span class="num" id="8359433">2</span><span class="op" id="8359434">,</span>&nbsp;<span class="builtinfunc" id="8359436">len</span><span class="op" id="8359439">(</span><span class="ident" id="8359440">result</span><span class="op" id="8359446">)</span><span class="op" id="8359447">/</span><span class="num" id="8359448">2</span><span class="op" id="8359449">,</span>&nbsp;<span class="ident" id="8359451">test</span><span class="op" id="8359455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359459">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359470">for</span>&nbsp;<span class="ident" id="8359474">k</span><span class="op" id="8359475">,</span>&nbsp;<span class="ident" id="8359477">e</span>&nbsp;<span class="op" id="8359479">:=</span>&nbsp;<span class="keyword" id="8359482">range</span>&nbsp;<span class="ident" id="8359488">expect</span>&nbsp;<span class="op" id="8359495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359499">if</span>&nbsp;<span class="ident" id="8359502">e</span>&nbsp;<span class="op" id="8359504">!=</span>&nbsp;<span class="ident" id="8359507">result</span><span class="op" id="8359513">[</span><span class="ident" id="8359514">k</span><span class="op" id="8359515">]</span>&nbsp;<span class="op" id="8359517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359522">t</span><span class="op" id="8359523">.</span><span class="ident" id="8359524">Errorf</span><span class="op" id="8359530">(</span><span class="string" id="8359531">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="8359581">,</span>&nbsp;<span class="ident" id="8359583">n</span><span class="op" id="8359584">,</span>&nbsp;<span class="ident" id="8359586">expect</span><span class="op" id="8359592">,</span>&nbsp;<span class="ident" id="8359594">result</span><span class="op" id="8359600">,</span>&nbsp;<span class="ident" id="8359602">test</span><span class="op" id="8359606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359610">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359613">}</span><br>
<span class="lineno"></span><span class="op" id="8359615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8359618">func</span>&nbsp;<span class="ident" id="8359623">testFindSubmatchIndex</span><span class="op" id="8359644">(</span><span class="ident" id="8359645">test</span>&nbsp;<span class="op" id="8359650">*</span><span class="ident" id="8359651">FindTest</span><span class="op" id="8359659">,</span>&nbsp;<span class="ident" id="8359661">result</span>&nbsp;<span class="op" id="8359668">[</span><span class="op" id="8359669">]</span><span class="builtintype" id="8359670">int</span><span class="op" id="8359673">,</span>&nbsp;<span class="ident" id="8359675">t</span>&nbsp;<span class="op" id="8359677">*</span><span class="ident" id="8359678">testing</span><span class="op" id="8359685">.</span><span class="ident" id="8359686">T</span><span class="op" id="8359687">)</span>&nbsp;<span class="op" id="8359689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359692">switch</span>&nbsp;<span class="op" id="8359699">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359702">case</span>&nbsp;<span class="ident" id="8359707">test</span><span class="op" id="8359711">.</span><span class="ident" id="8359712">matches</span>&nbsp;<span class="op" id="8359720">==</span>&nbsp;<span class="ident" id="8359723">nil</span>&nbsp;<span class="op" id="8359727">&amp;&amp;</span>&nbsp;<span class="ident" id="8359730">result</span>&nbsp;<span class="op" id="8359737">==</span>&nbsp;<span class="ident" id="8359740">nil</span><span class="op" id="8359743">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8359747">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359754">case</span>&nbsp;<span class="ident" id="8359759">test</span><span class="op" id="8359763">.</span><span class="ident" id="8359764">matches</span>&nbsp;<span class="op" id="8359772">==</span>&nbsp;<span class="ident" id="8359775">nil</span>&nbsp;<span class="op" id="8359779">&amp;&amp;</span>&nbsp;<span class="ident" id="8359782">result</span>&nbsp;<span class="op" id="8359789">!=</span>&nbsp;<span class="ident" id="8359792">nil</span><span class="op" id="8359795">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359799">t</span><span class="op" id="8359800">.</span><span class="ident" id="8359801">Errorf</span><span class="op" id="8359807">(</span><span class="string" id="8359808">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8359840">,</span>&nbsp;<span class="ident" id="8359842">test</span><span class="op" id="8359846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359849">case</span>&nbsp;<span class="ident" id="8359854">test</span><span class="op" id="8359858">.</span><span class="ident" id="8359859">matches</span>&nbsp;<span class="op" id="8359867">!=</span>&nbsp;<span class="ident" id="8359870">nil</span>&nbsp;<span class="op" id="8359874">&amp;&amp;</span>&nbsp;<span class="ident" id="8359877">result</span>&nbsp;<span class="op" id="8359884">==</span>&nbsp;<span class="ident" id="8359887">nil</span><span class="op" id="8359890">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359894">t</span><span class="op" id="8359895">.</span><span class="ident" id="8359896">Errorf</span><span class="op" id="8359902">(</span><span class="string" id="8359903">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8359933">,</span>&nbsp;<span class="ident" id="8359935">test</span><span class="op" id="8359939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359942">case</span>&nbsp;<span class="ident" id="8359947">test</span><span class="op" id="8359951">.</span><span class="ident" id="8359952">matches</span>&nbsp;<span class="op" id="8359960">!=</span>&nbsp;<span class="ident" id="8359963">nil</span>&nbsp;<span class="op" id="8359967">&amp;&amp;</span>&nbsp;<span class="ident" id="8359970">result</span>&nbsp;<span class="op" id="8359977">!=</span>&nbsp;<span class="ident" id="8359980">nil</span><span class="op" id="8359983">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359987">testSubmatchIndices</span><span class="op" id="8360006">(</span><span class="ident" id="8360007">test</span><span class="op" id="8360011">,</span>&nbsp;<span class="num" id="8360013">0</span><span class="op" id="8360014">,</span>&nbsp;<span class="ident" id="8360016">test</span><span class="op" id="8360020">.</span><span class="ident" id="8360021">matches</span><span class="op" id="8360028">[</span><span class="num" id="8360029">0</span><span class="op" id="8360030">]</span><span class="op" id="8360031">,</span>&nbsp;<span class="ident" id="8360033">result</span><span class="op" id="8360039">,</span>&nbsp;<span class="ident" id="8360041">t</span><span class="op" id="8360042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8360045">}</span><br>
<span class="lineno"></span><span class="op" id="8360047">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="8360050">func</span>&nbsp;<span class="ident" id="8360055">TestFindSubmatchIndex</span><span class="op" id="8360076">(</span><span class="ident" id="8360077">t</span>&nbsp;<span class="op" id="8360079">*</span><span class="ident" id="8360080">testing</span><span class="op" id="8360087">.</span><span class="ident" id="8360088">T</span><span class="op" id="8360089">)</span>&nbsp;<span class="op" id="8360091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360094">for</span>&nbsp;<span class="ident" id="8360098">_</span><span class="op" id="8360099">,</span>&nbsp;<span class="ident" id="8360101">test</span>&nbsp;<span class="op" id="8360106">:=</span>&nbsp;<span class="keyword" id="8360109">range</span>&nbsp;<span class="ident" id="8360115">findTests</span>&nbsp;<span class="op" id="8360125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360129">testFindSubmatchIndex</span><span class="op" id="8360150">(</span><span class="op" id="8360151">&amp;</span><span class="ident" id="8360152">test</span><span class="op" id="8360156">,</span>&nbsp;<span class="ident" id="8360158">MustCompile</span><span class="op" id="8360169">(</span><span class="ident" id="8360170">test</span><span class="op" id="8360174">.</span><span class="ident" id="8360175">pat</span><span class="op" id="8360178">)</span><span class="op" id="8360179">.</span><span class="ident" id="8360180">FindSubmatchIndex</span><span class="op" id="8360197">(</span><span class="op" id="8360198">[</span><span class="op" id="8360199">]</span><span class="builtintype" id="8360200">byte</span><span class="op" id="8360204">(</span><span class="ident" id="8360205">test</span><span class="op" id="8360209">.</span><span class="ident" id="8360210">text</span><span class="op" id="8360214">)</span><span class="op" id="8360215">)</span><span class="op" id="8360216">,</span>&nbsp;<span class="ident" id="8360218">t</span><span class="op" id="8360219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8360222">}</span><br>
<span class="lineno">415</span><span class="op" id="8360224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8360227">func</span>&nbsp;<span class="ident" id="8360232">TestFindStringSubmatchIndex</span><span class="op" id="8360259">(</span><span class="ident" id="8360260">t</span>&nbsp;<span class="op" id="8360262">*</span><span class="ident" id="8360263">testing</span><span class="op" id="8360270">.</span><span class="ident" id="8360271">T</span><span class="op" id="8360272">)</span>&nbsp;<span class="op" id="8360274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360277">for</span>&nbsp;<span class="ident" id="8360281">_</span><span class="op" id="8360282">,</span>&nbsp;<span class="ident" id="8360284">test</span>&nbsp;<span class="op" id="8360289">:=</span>&nbsp;<span class="keyword" id="8360292">range</span>&nbsp;<span class="ident" id="8360298">findTests</span>&nbsp;<span class="op" id="8360308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360312">testFindSubmatchIndex</span><span class="op" id="8360333">(</span><span class="op" id="8360334">&amp;</span><span class="ident" id="8360335">test</span><span class="op" id="8360339">,</span>&nbsp;<span class="ident" id="8360341">MustCompile</span><span class="op" id="8360352">(</span><span class="ident" id="8360353">test</span><span class="op" id="8360357">.</span><span class="ident" id="8360358">pat</span><span class="op" id="8360361">)</span><span class="op" id="8360362">.</span><span class="ident" id="8360363">FindStringSubmatchIndex</span><span class="op" id="8360386">(</span><span class="ident" id="8360387">test</span><span class="op" id="8360391">.</span><span class="ident" id="8360392">text</span><span class="op" id="8360396">)</span><span class="op" id="8360397">,</span>&nbsp;<span class="ident" id="8360399">t</span><span class="op" id="8360400">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8360403">}</span><br>
<span class="lineno"></span><span class="op" id="8360405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8360408">func</span>&nbsp;<span class="ident" id="8360413">TestFindReaderSubmatchIndex</span><span class="op" id="8360440">(</span><span class="ident" id="8360441">t</span>&nbsp;<span class="op" id="8360443">*</span><span class="ident" id="8360444">testing</span><span class="op" id="8360451">.</span><span class="ident" id="8360452">T</span><span class="op" id="8360453">)</span>&nbsp;<span class="op" id="8360455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360458">for</span>&nbsp;<span class="ident" id="8360462">_</span><span class="op" id="8360463">,</span>&nbsp;<span class="ident" id="8360465">test</span>&nbsp;<span class="op" id="8360470">:=</span>&nbsp;<span class="keyword" id="8360473">range</span>&nbsp;<span class="ident" id="8360479">findTests</span>&nbsp;<span class="op" id="8360489">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360493">testFindSubmatchIndex</span><span class="op" id="8360514">(</span><span class="op" id="8360515">&amp;</span><span class="ident" id="8360516">test</span><span class="op" id="8360520">,</span>&nbsp;<span class="ident" id="8360522">MustCompile</span><span class="op" id="8360533">(</span><span class="ident" id="8360534">test</span><span class="op" id="8360538">.</span><span class="ident" id="8360539">pat</span><span class="op" id="8360542">)</span><span class="op" id="8360543">.</span><span class="ident" id="8360544">FindReaderSubmatchIndex</span><span class="op" id="8360567">(</span><span class="ident" id="8360568">strings</span><span class="op" id="8360575">.</span><span class="ident" id="8360576">NewReader</span><span class="op" id="8360585">(</span><span class="ident" id="8360586">test</span><span class="op" id="8360590">.</span><span class="ident" id="8360591">text</span><span class="op" id="8360595">)</span><span class="op" id="8360596">)</span><span class="op" id="8360597">,</span>&nbsp;<span class="ident" id="8360599">t</span><span class="op" id="8360600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8360603">}</span><br>
<span class="lineno"></span><span class="op" id="8360605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8360608">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="8360652">func</span>&nbsp;<span class="ident" id="8360657">TestFindAllSubmatch</span><span class="op" id="8360676">(</span><span class="ident" id="8360677">t</span>&nbsp;<span class="op" id="8360679">*</span><span class="ident" id="8360680">testing</span><span class="op" id="8360687">.</span><span class="ident" id="8360688">T</span><span class="op" id="8360689">)</span>&nbsp;<span class="op" id="8360691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360694">for</span>&nbsp;<span class="ident" id="8360698">_</span><span class="op" id="8360699">,</span>&nbsp;<span class="ident" id="8360701">test</span>&nbsp;<span class="op" id="8360706">:=</span>&nbsp;<span class="keyword" id="8360709">range</span>&nbsp;<span class="ident" id="8360715">findTests</span>&nbsp;<span class="op" id="8360725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360729">result</span>&nbsp;<span class="op" id="8360736">:=</span>&nbsp;<span class="ident" id="8360739">MustCompile</span><span class="op" id="8360750">(</span><span class="ident" id="8360751">test</span><span class="op" id="8360755">.</span><span class="ident" id="8360756">pat</span><span class="op" id="8360759">)</span><span class="op" id="8360760">.</span><span class="ident" id="8360761">FindAllSubmatch</span><span class="op" id="8360776">(</span><span class="op" id="8360777">[</span><span class="op" id="8360778">]</span><span class="builtintype" id="8360779">byte</span><span class="op" id="8360783">(</span><span class="ident" id="8360784">test</span><span class="op" id="8360788">.</span><span class="ident" id="8360789">text</span><span class="op" id="8360793">)</span><span class="op" id="8360794">,</span>&nbsp;<span class="op" id="8360796">-</span><span class="num" id="8360797">1</span><span class="op" id="8360798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360802">switch</span>&nbsp;<span class="op" id="8360809">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360813">case</span>&nbsp;<span class="ident" id="8360818">test</span><span class="op" id="8360822">.</span><span class="ident" id="8360823">matches</span>&nbsp;<span class="op" id="8360831">==</span>&nbsp;<span class="ident" id="8360834">nil</span>&nbsp;<span class="op" id="8360838">&amp;&amp;</span>&nbsp;<span class="ident" id="8360841">result</span>&nbsp;<span class="op" id="8360848">==</span>&nbsp;<span class="ident" id="8360851">nil</span><span class="op" id="8360854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8360859">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360867">case</span>&nbsp;<span class="ident" id="8360872">test</span><span class="op" id="8360876">.</span><span class="ident" id="8360877">matches</span>&nbsp;<span class="op" id="8360885">==</span>&nbsp;<span class="ident" id="8360888">nil</span>&nbsp;<span class="op" id="8360892">&amp;&amp;</span>&nbsp;<span class="ident" id="8360895">result</span>&nbsp;<span class="op" id="8360902">!=</span>&nbsp;<span class="ident" id="8360905">nil</span><span class="op" id="8360908">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360913">t</span><span class="op" id="8360914">.</span><span class="ident" id="8360915">Errorf</span><span class="op" id="8360921">(</span><span class="string" id="8360922">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8360954">,</span>&nbsp;<span class="ident" id="8360956">test</span><span class="op" id="8360960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360964">case</span>&nbsp;<span class="ident" id="8360969">test</span><span class="op" id="8360973">.</span><span class="ident" id="8360974">matches</span>&nbsp;<span class="op" id="8360982">!=</span>&nbsp;<span class="ident" id="8360985">nil</span>&nbsp;<span class="op" id="8360989">&amp;&amp;</span>&nbsp;<span class="ident" id="8360992">result</span>&nbsp;<span class="op" id="8360999">==</span>&nbsp;<span class="ident" id="8361002">nil</span><span class="op" id="8361005">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361010">t</span><span class="op" id="8361011">.</span><span class="ident" id="8361012">Errorf</span><span class="op" id="8361018">(</span><span class="string" id="8361019">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8361049">,</span>&nbsp;<span class="ident" id="8361051">test</span><span class="op" id="8361055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361059">case</span>&nbsp;<span class="builtinfunc" id="8361064">len</span><span class="op" id="8361067">(</span><span class="ident" id="8361068">test</span><span class="op" id="8361072">.</span><span class="ident" id="8361073">matches</span><span class="op" id="8361080">)</span>&nbsp;<span class="op" id="8361082">!=</span>&nbsp;<span class="builtinfunc" id="8361085">len</span><span class="op" id="8361088">(</span><span class="ident" id="8361089">result</span><span class="op" id="8361095">)</span><span class="op" id="8361096">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361101">t</span><span class="op" id="8361102">.</span><span class="ident" id="8361103">Errorf</span><span class="op" id="8361109">(</span><span class="string" id="8361110">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8361143">,</span>&nbsp;<span class="builtinfunc" id="8361145">len</span><span class="op" id="8361148">(</span><span class="ident" id="8361149">test</span><span class="op" id="8361153">.</span><span class="ident" id="8361154">matches</span><span class="op" id="8361161">)</span><span class="op" id="8361162">,</span>&nbsp;<span class="builtinfunc" id="8361164">len</span><span class="op" id="8361167">(</span><span class="ident" id="8361168">result</span><span class="op" id="8361174">)</span><span class="op" id="8361175">,</span>&nbsp;<span class="ident" id="8361177">test</span><span class="op" id="8361181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361185">case</span>&nbsp;<span class="ident" id="8361190">test</span><span class="op" id="8361194">.</span><span class="ident" id="8361195">matches</span>&nbsp;<span class="op" id="8361203">!=</span>&nbsp;<span class="ident" id="8361206">nil</span>&nbsp;<span class="op" id="8361210">&amp;&amp;</span>&nbsp;<span class="ident" id="8361213">result</span>&nbsp;<span class="op" id="8361220">!=</span>&nbsp;<span class="ident" id="8361223">nil</span><span class="op" id="8361226">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361231">for</span>&nbsp;<span class="ident" id="8361235">k</span><span class="op" id="8361236">,</span>&nbsp;<span class="ident" id="8361238">match</span>&nbsp;<span class="op" id="8361244">:=</span>&nbsp;<span class="keyword" id="8361247">range</span>&nbsp;<span class="ident" id="8361253">test</span><span class="op" id="8361257">.</span><span class="ident" id="8361258">matches</span>&nbsp;<span class="op" id="8361266">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361272">testSubmatchBytes</span><span class="op" id="8361289">(</span><span class="op" id="8361290">&amp;</span><span class="ident" id="8361291">test</span><span class="op" id="8361295">,</span>&nbsp;<span class="ident" id="8361297">k</span><span class="op" id="8361298">,</span>&nbsp;<span class="ident" id="8361300">match</span><span class="op" id="8361305">,</span>&nbsp;<span class="ident" id="8361307">result</span><span class="op" id="8361313">[</span><span class="ident" id="8361314">k</span><span class="op" id="8361315">]</span><span class="op" id="8361316">,</span>&nbsp;<span class="ident" id="8361318">t</span><span class="op" id="8361319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8361324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8361328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8361331">}</span><br>
<span class="lineno"></span><span class="op" id="8361333">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="8361336">func</span>&nbsp;<span class="ident" id="8361341">TestFindAllStringSubmatch</span><span class="op" id="8361366">(</span><span class="ident" id="8361367">t</span>&nbsp;<span class="op" id="8361369">*</span><span class="ident" id="8361370">testing</span><span class="op" id="8361377">.</span><span class="ident" id="8361378">T</span><span class="op" id="8361379">)</span>&nbsp;<span class="op" id="8361381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361384">for</span>&nbsp;<span class="ident" id="8361388">_</span><span class="op" id="8361389">,</span>&nbsp;<span class="ident" id="8361391">test</span>&nbsp;<span class="op" id="8361396">:=</span>&nbsp;<span class="keyword" id="8361399">range</span>&nbsp;<span class="ident" id="8361405">findTests</span>&nbsp;<span class="op" id="8361415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361419">result</span>&nbsp;<span class="op" id="8361426">:=</span>&nbsp;<span class="ident" id="8361429">MustCompile</span><span class="op" id="8361440">(</span><span class="ident" id="8361441">test</span><span class="op" id="8361445">.</span><span class="ident" id="8361446">pat</span><span class="op" id="8361449">)</span><span class="op" id="8361450">.</span><span class="ident" id="8361451">FindAllStringSubmatch</span><span class="op" id="8361472">(</span><span class="ident" id="8361473">test</span><span class="op" id="8361477">.</span><span class="ident" id="8361478">text</span><span class="op" id="8361482">,</span>&nbsp;<span class="op" id="8361484">-</span><span class="num" id="8361485">1</span><span class="op" id="8361486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361490">switch</span>&nbsp;<span class="op" id="8361497">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361501">case</span>&nbsp;<span class="ident" id="8361506">test</span><span class="op" id="8361510">.</span><span class="ident" id="8361511">matches</span>&nbsp;<span class="op" id="8361519">==</span>&nbsp;<span class="ident" id="8361522">nil</span>&nbsp;<span class="op" id="8361526">&amp;&amp;</span>&nbsp;<span class="ident" id="8361529">result</span>&nbsp;<span class="op" id="8361536">==</span>&nbsp;<span class="ident" id="8361539">nil</span><span class="op" id="8361542">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8361547">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361555">case</span>&nbsp;<span class="ident" id="8361560">test</span><span class="op" id="8361564">.</span><span class="ident" id="8361565">matches</span>&nbsp;<span class="op" id="8361573">==</span>&nbsp;<span class="ident" id="8361576">nil</span>&nbsp;<span class="op" id="8361580">&amp;&amp;</span>&nbsp;<span class="ident" id="8361583">result</span>&nbsp;<span class="op" id="8361590">!=</span>&nbsp;<span class="ident" id="8361593">nil</span><span class="op" id="8361596">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361601">t</span><span class="op" id="8361602">.</span><span class="ident" id="8361603">Errorf</span><span class="op" id="8361609">(</span><span class="string" id="8361610">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8361642">,</span>&nbsp;<span class="ident" id="8361644">test</span><span class="op" id="8361648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361652">case</span>&nbsp;<span class="ident" id="8361657">test</span><span class="op" id="8361661">.</span><span class="ident" id="8361662">matches</span>&nbsp;<span class="op" id="8361670">!=</span>&nbsp;<span class="ident" id="8361673">nil</span>&nbsp;<span class="op" id="8361677">&amp;&amp;</span>&nbsp;<span class="ident" id="8361680">result</span>&nbsp;<span class="op" id="8361687">==</span>&nbsp;<span class="ident" id="8361690">nil</span><span class="op" id="8361693">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361698">t</span><span class="op" id="8361699">.</span><span class="ident" id="8361700">Errorf</span><span class="op" id="8361706">(</span><span class="string" id="8361707">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8361737">,</span>&nbsp;<span class="ident" id="8361739">test</span><span class="op" id="8361743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361747">case</span>&nbsp;<span class="builtinfunc" id="8361752">len</span><span class="op" id="8361755">(</span><span class="ident" id="8361756">test</span><span class="op" id="8361760">.</span><span class="ident" id="8361761">matches</span><span class="op" id="8361768">)</span>&nbsp;<span class="op" id="8361770">!=</span>&nbsp;<span class="builtinfunc" id="8361773">len</span><span class="op" id="8361776">(</span><span class="ident" id="8361777">result</span><span class="op" id="8361783">)</span><span class="op" id="8361784">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361789">t</span><span class="op" id="8361790">.</span><span class="ident" id="8361791">Errorf</span><span class="op" id="8361797">(</span><span class="string" id="8361798">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8361831">,</span>&nbsp;<span class="builtinfunc" id="8361833">len</span><span class="op" id="8361836">(</span><span class="ident" id="8361837">test</span><span class="op" id="8361841">.</span><span class="ident" id="8361842">matches</span><span class="op" id="8361849">)</span><span class="op" id="8361850">,</span>&nbsp;<span class="builtinfunc" id="8361852">len</span><span class="op" id="8361855">(</span><span class="ident" id="8361856">result</span><span class="op" id="8361862">)</span><span class="op" id="8361863">,</span>&nbsp;<span class="ident" id="8361865">test</span><span class="op" id="8361869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361873">case</span>&nbsp;<span class="ident" id="8361878">test</span><span class="op" id="8361882">.</span><span class="ident" id="8361883">matches</span>&nbsp;<span class="op" id="8361891">!=</span>&nbsp;<span class="ident" id="8361894">nil</span>&nbsp;<span class="op" id="8361898">&amp;&amp;</span>&nbsp;<span class="ident" id="8361901">result</span>&nbsp;<span class="op" id="8361908">!=</span>&nbsp;<span class="ident" id="8361911">nil</span><span class="op" id="8361914">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361919">for</span>&nbsp;<span class="ident" id="8361923">k</span><span class="op" id="8361924">,</span>&nbsp;<span class="ident" id="8361926">match</span>&nbsp;<span class="op" id="8361932">:=</span>&nbsp;<span class="keyword" id="8361935">range</span>&nbsp;<span class="ident" id="8361941">test</span><span class="op" id="8361945">.</span><span class="ident" id="8361946">matches</span>&nbsp;<span class="op" id="8361954">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361960">testSubmatchString</span><span class="op" id="8361978">(</span><span class="op" id="8361979">&amp;</span><span class="ident" id="8361980">test</span><span class="op" id="8361984">,</span>&nbsp;<span class="ident" id="8361986">k</span><span class="op" id="8361987">,</span>&nbsp;<span class="ident" id="8361989">match</span><span class="op" id="8361994">,</span>&nbsp;<span class="ident" id="8361996">result</span><span class="op" id="8362002">[</span><span class="ident" id="8362003">k</span><span class="op" id="8362004">]</span><span class="op" id="8362005">,</span>&nbsp;<span class="ident" id="8362007">t</span><span class="op" id="8362008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362020">}</span><br>
<span class="lineno"></span><span class="op" id="8362022">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="8362025">func</span>&nbsp;<span class="ident" id="8362030">testFindAllSubmatchIndex</span><span class="op" id="8362054">(</span><span class="ident" id="8362055">test</span>&nbsp;<span class="op" id="8362060">*</span><span class="ident" id="8362061">FindTest</span><span class="op" id="8362069">,</span>&nbsp;<span class="ident" id="8362071">result</span>&nbsp;<span class="op" id="8362078">[</span><span class="op" id="8362079">]</span><span class="op" id="8362080">[</span><span class="op" id="8362081">]</span><span class="builtintype" id="8362082">int</span><span class="op" id="8362085">,</span>&nbsp;<span class="ident" id="8362087">t</span>&nbsp;<span class="op" id="8362089">*</span><span class="ident" id="8362090">testing</span><span class="op" id="8362097">.</span><span class="ident" id="8362098">T</span><span class="op" id="8362099">)</span>&nbsp;<span class="op" id="8362101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362104">switch</span>&nbsp;<span class="op" id="8362111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362114">case</span>&nbsp;<span class="ident" id="8362119">test</span><span class="op" id="8362123">.</span><span class="ident" id="8362124">matches</span>&nbsp;<span class="op" id="8362132">==</span>&nbsp;<span class="ident" id="8362135">nil</span>&nbsp;<span class="op" id="8362139">&amp;&amp;</span>&nbsp;<span class="ident" id="8362142">result</span>&nbsp;<span class="op" id="8362149">==</span>&nbsp;<span class="ident" id="8362152">nil</span><span class="op" id="8362155">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8362159">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362166">case</span>&nbsp;<span class="ident" id="8362171">test</span><span class="op" id="8362175">.</span><span class="ident" id="8362176">matches</span>&nbsp;<span class="op" id="8362184">==</span>&nbsp;<span class="ident" id="8362187">nil</span>&nbsp;<span class="op" id="8362191">&amp;&amp;</span>&nbsp;<span class="ident" id="8362194">result</span>&nbsp;<span class="op" id="8362201">!=</span>&nbsp;<span class="ident" id="8362204">nil</span><span class="op" id="8362207">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362211">t</span><span class="op" id="8362212">.</span><span class="ident" id="8362213">Errorf</span><span class="op" id="8362219">(</span><span class="string" id="8362220">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8362252">,</span>&nbsp;<span class="ident" id="8362254">test</span><span class="op" id="8362258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362261">case</span>&nbsp;<span class="ident" id="8362266">test</span><span class="op" id="8362270">.</span><span class="ident" id="8362271">matches</span>&nbsp;<span class="op" id="8362279">!=</span>&nbsp;<span class="ident" id="8362282">nil</span>&nbsp;<span class="op" id="8362286">&amp;&amp;</span>&nbsp;<span class="ident" id="8362289">result</span>&nbsp;<span class="op" id="8362296">==</span>&nbsp;<span class="ident" id="8362299">nil</span><span class="op" id="8362302">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362306">t</span><span class="op" id="8362307">.</span><span class="ident" id="8362308">Errorf</span><span class="op" id="8362314">(</span><span class="string" id="8362315">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8362345">,</span>&nbsp;<span class="ident" id="8362347">test</span><span class="op" id="8362351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362354">case</span>&nbsp;<span class="builtinfunc" id="8362359">len</span><span class="op" id="8362362">(</span><span class="ident" id="8362363">test</span><span class="op" id="8362367">.</span><span class="ident" id="8362368">matches</span><span class="op" id="8362375">)</span>&nbsp;<span class="op" id="8362377">!=</span>&nbsp;<span class="builtinfunc" id="8362380">len</span><span class="op" id="8362383">(</span><span class="ident" id="8362384">result</span><span class="op" id="8362390">)</span><span class="op" id="8362391">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362395">t</span><span class="op" id="8362396">.</span><span class="ident" id="8362397">Errorf</span><span class="op" id="8362403">(</span><span class="string" id="8362404">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8362437">,</span>&nbsp;<span class="builtinfunc" id="8362439">len</span><span class="op" id="8362442">(</span><span class="ident" id="8362443">test</span><span class="op" id="8362447">.</span><span class="ident" id="8362448">matches</span><span class="op" id="8362455">)</span><span class="op" id="8362456">,</span>&nbsp;<span class="builtinfunc" id="8362458">len</span><span class="op" id="8362461">(</span><span class="ident" id="8362462">result</span><span class="op" id="8362468">)</span><span class="op" id="8362469">,</span>&nbsp;<span class="ident" id="8362471">test</span><span class="op" id="8362475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362478">case</span>&nbsp;<span class="ident" id="8362483">test</span><span class="op" id="8362487">.</span><span class="ident" id="8362488">matches</span>&nbsp;<span class="op" id="8362496">!=</span>&nbsp;<span class="ident" id="8362499">nil</span>&nbsp;<span class="op" id="8362503">&amp;&amp;</span>&nbsp;<span class="ident" id="8362506">result</span>&nbsp;<span class="op" id="8362513">!=</span>&nbsp;<span class="ident" id="8362516">nil</span><span class="op" id="8362519">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362523">for</span>&nbsp;<span class="ident" id="8362527">k</span><span class="op" id="8362528">,</span>&nbsp;<span class="ident" id="8362530">match</span>&nbsp;<span class="op" id="8362536">:=</span>&nbsp;<span class="keyword" id="8362539">range</span>&nbsp;<span class="ident" id="8362545">test</span><span class="op" id="8362549">.</span><span class="ident" id="8362550">matches</span>&nbsp;<span class="op" id="8362558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362563">testSubmatchIndices</span><span class="op" id="8362582">(</span><span class="ident" id="8362583">test</span><span class="op" id="8362587">,</span>&nbsp;<span class="ident" id="8362589">k</span><span class="op" id="8362590">,</span>&nbsp;<span class="ident" id="8362592">match</span><span class="op" id="8362597">,</span>&nbsp;<span class="ident" id="8362599">result</span><span class="op" id="8362605">[</span><span class="ident" id="8362606">k</span><span class="op" id="8362607">]</span><span class="op" id="8362608">,</span>&nbsp;<span class="ident" id="8362610">t</span><span class="op" id="8362611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362615">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362618">}</span><br>
<span class="lineno"></span><span class="op" id="8362620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8362623">func</span>&nbsp;<span class="ident" id="8362628">TestFindAllSubmatchIndex</span><span class="op" id="8362652">(</span><span class="ident" id="8362653">t</span>&nbsp;<span class="op" id="8362655">*</span><span class="ident" id="8362656">testing</span><span class="op" id="8362663">.</span><span class="ident" id="8362664">T</span><span class="op" id="8362665">)</span>&nbsp;<span class="op" id="8362667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362670">for</span>&nbsp;<span class="ident" id="8362674">_</span><span class="op" id="8362675">,</span>&nbsp;<span class="ident" id="8362677">test</span>&nbsp;<span class="op" id="8362682">:=</span>&nbsp;<span class="keyword" id="8362685">range</span>&nbsp;<span class="ident" id="8362691">findTests</span>&nbsp;<span class="op" id="8362701">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362705">testFindAllSubmatchIndex</span><span class="op" id="8362729">(</span><span class="op" id="8362730">&amp;</span><span class="ident" id="8362731">test</span><span class="op" id="8362735">,</span>&nbsp;<span class="ident" id="8362737">MustCompile</span><span class="op" id="8362748">(</span><span class="ident" id="8362749">test</span><span class="op" id="8362753">.</span><span class="ident" id="8362754">pat</span><span class="op" id="8362757">)</span><span class="op" id="8362758">.</span><span class="ident" id="8362759">FindAllSubmatchIndex</span><span class="op" id="8362779">(</span><span class="op" id="8362780">[</span><span class="op" id="8362781">]</span><span class="builtintype" id="8362782">byte</span><span class="op" id="8362786">(</span><span class="ident" id="8362787">test</span><span class="op" id="8362791">.</span><span class="ident" id="8362792">text</span><span class="op" id="8362796">)</span><span class="op" id="8362797">,</span>&nbsp;<span class="op" id="8362799">-</span><span class="num" id="8362800">1</span><span class="op" id="8362801">)</span><span class="op" id="8362802">,</span>&nbsp;<span class="ident" id="8362804">t</span><span class="op" id="8362805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362808">}</span><br>
<span class="lineno"></span><span class="op" id="8362810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8362813">func</span>&nbsp;<span class="ident" id="8362818">TestFindAllStringSubmatchIndex</span><span class="op" id="8362848">(</span><span class="ident" id="8362849">t</span>&nbsp;<span class="op" id="8362851">*</span><span class="ident" id="8362852">testing</span><span class="op" id="8362859">.</span><span class="ident" id="8362860">T</span><span class="op" id="8362861">)</span>&nbsp;<span class="op" id="8362863">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362866">for</span>&nbsp;<span class="ident" id="8362870">_</span><span class="op" id="8362871">,</span>&nbsp;<span class="ident" id="8362873">test</span>&nbsp;<span class="op" id="8362878">:=</span>&nbsp;<span class="keyword" id="8362881">range</span>&nbsp;<span class="ident" id="8362887">findTests</span>&nbsp;<span class="op" id="8362897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362901">testFindAllSubmatchIndex</span><span class="op" id="8362925">(</span><span class="op" id="8362926">&amp;</span><span class="ident" id="8362927">test</span><span class="op" id="8362931">,</span>&nbsp;<span class="ident" id="8362933">MustCompile</span><span class="op" id="8362944">(</span><span class="ident" id="8362945">test</span><span class="op" id="8362949">.</span><span class="ident" id="8362950">pat</span><span class="op" id="8362953">)</span><span class="op" id="8362954">.</span><span class="ident" id="8362955">FindAllStringSubmatchIndex</span><span class="op" id="8362981">(</span><span class="ident" id="8362982">test</span><span class="op" id="8362986">.</span><span class="ident" id="8362987">text</span><span class="op" id="8362991">,</span>&nbsp;<span class="op" id="8362993">-</span><span class="num" id="8362994">1</span><span class="op" id="8362995">)</span><span class="op" id="8362996">,</span>&nbsp;<span class="ident" id="8362998">t</span><span class="op" id="8362999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363002">}</span><br>
<span class="lineno"></span><span class="op" id="8363004">}</span>
</div>
</body>
</html>
