<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7943932">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7943987">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7944041">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7944092">package</span>&nbsp;<span class="ident" id="7944100">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7944105">import</span>&nbsp;<span class="op" id="7944112">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7944115">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7944126">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7944136">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7944139">type</span>&nbsp;<span class="ident" id="7944144">portTest</span>&nbsp;<span class="keyword" id="7944153">struct</span>&nbsp;<span class="op" id="7944160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944163">netw</span>&nbsp;<span class="builtintype" id="7944168">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944176">name</span>&nbsp;<span class="builtintype" id="7944181">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944189">port</span>&nbsp;<span class="builtintype" id="7944194">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944199">ok</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7944204">bool</span><br>
<span class="lineno"></span><span class="op" id="7944209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7944212">var</span>&nbsp;<span class="ident" id="7944216">porttests</span>&nbsp;<span class="op" id="7944226">=</span>&nbsp;<span class="op" id="7944228">[</span><span class="op" id="7944229">]</span><span class="ident" id="7944230"><a href="/net/port_test.go.html#7944144">portTest</a></span><span class="op" id="7944238">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944241">{</span><span class="string" id="7944242">&#34;tcp&#34;</span><span class="op" id="7944247">,</span>&nbsp;<span class="string" id="7944249">&#34;echo&#34;</span><span class="op" id="7944255">,</span>&nbsp;<span class="num" id="7944257">7</span><span class="op" id="7944258">,</span>&nbsp;<span class="builtintype" id="7944260">true</span><span class="op" id="7944264">}</span><span class="op" id="7944265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944268">{</span><span class="string" id="7944269">&#34;tcp&#34;</span><span class="op" id="7944274">,</span>&nbsp;<span class="string" id="7944276">&#34;discard&#34;</span><span class="op" id="7944285">,</span>&nbsp;<span class="num" id="7944287">9</span><span class="op" id="7944288">,</span>&nbsp;<span class="builtintype" id="7944290">true</span><span class="op" id="7944294">}</span><span class="op" id="7944295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944298">{</span><span class="string" id="7944299">&#34;tcp&#34;</span><span class="op" id="7944304">,</span>&nbsp;<span class="string" id="7944306">&#34;systat&#34;</span><span class="op" id="7944314">,</span>&nbsp;<span class="num" id="7944316">11</span><span class="op" id="7944318">,</span>&nbsp;<span class="builtintype" id="7944320">true</span><span class="op" id="7944324">}</span><span class="op" id="7944325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944328">{</span><span class="string" id="7944329">&#34;tcp&#34;</span><span class="op" id="7944334">,</span>&nbsp;<span class="string" id="7944336">&#34;daytime&#34;</span><span class="op" id="7944345">,</span>&nbsp;<span class="num" id="7944347">13</span><span class="op" id="7944349">,</span>&nbsp;<span class="builtintype" id="7944351">true</span><span class="op" id="7944355">}</span><span class="op" id="7944356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944359">{</span><span class="string" id="7944360">&#34;tcp&#34;</span><span class="op" id="7944365">,</span>&nbsp;<span class="string" id="7944367">&#34;chargen&#34;</span><span class="op" id="7944376">,</span>&nbsp;<span class="num" id="7944378">19</span><span class="op" id="7944380">,</span>&nbsp;<span class="builtintype" id="7944382">true</span><span class="op" id="7944386">}</span><span class="op" id="7944387">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944390">{</span><span class="string" id="7944391">&#34;tcp&#34;</span><span class="op" id="7944396">,</span>&nbsp;<span class="string" id="7944398">&#34;ftp-data&#34;</span><span class="op" id="7944408">,</span>&nbsp;<span class="num" id="7944410">20</span><span class="op" id="7944412">,</span>&nbsp;<span class="builtintype" id="7944414">true</span><span class="op" id="7944418">}</span><span class="op" id="7944419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944422">{</span><span class="string" id="7944423">&#34;tcp&#34;</span><span class="op" id="7944428">,</span>&nbsp;<span class="string" id="7944430">&#34;ftp&#34;</span><span class="op" id="7944435">,</span>&nbsp;<span class="num" id="7944437">21</span><span class="op" id="7944439">,</span>&nbsp;<span class="builtintype" id="7944441">true</span><span class="op" id="7944445">}</span><span class="op" id="7944446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944449">{</span><span class="string" id="7944450">&#34;tcp&#34;</span><span class="op" id="7944455">,</span>&nbsp;<span class="string" id="7944457">&#34;telnet&#34;</span><span class="op" id="7944465">,</span>&nbsp;<span class="num" id="7944467">23</span><span class="op" id="7944469">,</span>&nbsp;<span class="builtintype" id="7944471">true</span><span class="op" id="7944475">}</span><span class="op" id="7944476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944479">{</span><span class="string" id="7944480">&#34;tcp&#34;</span><span class="op" id="7944485">,</span>&nbsp;<span class="string" id="7944487">&#34;smtp&#34;</span><span class="op" id="7944493">,</span>&nbsp;<span class="num" id="7944495">25</span><span class="op" id="7944497">,</span>&nbsp;<span class="builtintype" id="7944499">true</span><span class="op" id="7944503">}</span><span class="op" id="7944504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944507">{</span><span class="string" id="7944508">&#34;tcp&#34;</span><span class="op" id="7944513">,</span>&nbsp;<span class="string" id="7944515">&#34;time&#34;</span><span class="op" id="7944521">,</span>&nbsp;<span class="num" id="7944523">37</span><span class="op" id="7944525">,</span>&nbsp;<span class="builtintype" id="7944527">true</span><span class="op" id="7944531">}</span><span class="op" id="7944532">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944535">{</span><span class="string" id="7944536">&#34;tcp&#34;</span><span class="op" id="7944541">,</span>&nbsp;<span class="string" id="7944543">&#34;domain&#34;</span><span class="op" id="7944551">,</span>&nbsp;<span class="num" id="7944553">53</span><span class="op" id="7944555">,</span>&nbsp;<span class="builtintype" id="7944557">true</span><span class="op" id="7944561">}</span><span class="op" id="7944562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944565">{</span><span class="string" id="7944566">&#34;tcp&#34;</span><span class="op" id="7944571">,</span>&nbsp;<span class="string" id="7944573">&#34;finger&#34;</span><span class="op" id="7944581">,</span>&nbsp;<span class="num" id="7944583">79</span><span class="op" id="7944585">,</span>&nbsp;<span class="builtintype" id="7944587">true</span><span class="op" id="7944591">}</span><span class="op" id="7944592">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944596">{</span><span class="string" id="7944597">&#34;udp&#34;</span><span class="op" id="7944602">,</span>&nbsp;<span class="string" id="7944604">&#34;echo&#34;</span><span class="op" id="7944610">,</span>&nbsp;<span class="num" id="7944612">7</span><span class="op" id="7944613">,</span>&nbsp;<span class="builtintype" id="7944615">true</span><span class="op" id="7944619">}</span><span class="op" id="7944620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944623">{</span><span class="string" id="7944624">&#34;udp&#34;</span><span class="op" id="7944629">,</span>&nbsp;<span class="string" id="7944631">&#34;tftp&#34;</span><span class="op" id="7944637">,</span>&nbsp;<span class="num" id="7944639">69</span><span class="op" id="7944641">,</span>&nbsp;<span class="builtintype" id="7944643">true</span><span class="op" id="7944647">}</span><span class="op" id="7944648">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944651">{</span><span class="string" id="7944652">&#34;udp&#34;</span><span class="op" id="7944657">,</span>&nbsp;<span class="string" id="7944659">&#34;bootpc&#34;</span><span class="op" id="7944667">,</span>&nbsp;<span class="num" id="7944669">68</span><span class="op" id="7944671">,</span>&nbsp;<span class="builtintype" id="7944673">true</span><span class="op" id="7944677">}</span><span class="op" id="7944678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944681">{</span><span class="string" id="7944682">&#34;udp&#34;</span><span class="op" id="7944687">,</span>&nbsp;<span class="string" id="7944689">&#34;bootps&#34;</span><span class="op" id="7944697">,</span>&nbsp;<span class="num" id="7944699">67</span><span class="op" id="7944701">,</span>&nbsp;<span class="builtintype" id="7944703">true</span><span class="op" id="7944707">}</span><span class="op" id="7944708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944711">{</span><span class="string" id="7944712">&#34;udp&#34;</span><span class="op" id="7944717">,</span>&nbsp;<span class="string" id="7944719">&#34;domain&#34;</span><span class="op" id="7944727">,</span>&nbsp;<span class="num" id="7944729">53</span><span class="op" id="7944731">,</span>&nbsp;<span class="builtintype" id="7944733">true</span><span class="op" id="7944737">}</span><span class="op" id="7944738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944741">{</span><span class="string" id="7944742">&#34;udp&#34;</span><span class="op" id="7944747">,</span>&nbsp;<span class="string" id="7944749">&#34;ntp&#34;</span><span class="op" id="7944754">,</span>&nbsp;<span class="num" id="7944756">123</span><span class="op" id="7944759">,</span>&nbsp;<span class="builtintype" id="7944761">true</span><span class="op" id="7944765">}</span><span class="op" id="7944766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944769">{</span><span class="string" id="7944770">&#34;udp&#34;</span><span class="op" id="7944775">,</span>&nbsp;<span class="string" id="7944777">&#34;snmp&#34;</span><span class="op" id="7944783">,</span>&nbsp;<span class="num" id="7944785">161</span><span class="op" id="7944788">,</span>&nbsp;<span class="builtintype" id="7944790">true</span><span class="op" id="7944794">}</span><span class="op" id="7944795">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944798">{</span><span class="string" id="7944799">&#34;udp&#34;</span><span class="op" id="7944804">,</span>&nbsp;<span class="string" id="7944806">&#34;syslog&#34;</span><span class="op" id="7944814">,</span>&nbsp;<span class="num" id="7944816">514</span><span class="op" id="7944819">,</span>&nbsp;<span class="builtintype" id="7944821">true</span><span class="op" id="7944825">}</span><span class="op" id="7944826">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944830">{</span><span class="string" id="7944831">&#34;--badnet--&#34;</span><span class="op" id="7944843">,</span>&nbsp;<span class="string" id="7944845">&#34;zzz&#34;</span><span class="op" id="7944850">,</span>&nbsp;<span class="num" id="7944852">0</span><span class="op" id="7944853">,</span>&nbsp;<span class="builtintype" id="7944855">false</span><span class="op" id="7944860">}</span><span class="op" id="7944861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944864">{</span><span class="string" id="7944865">&#34;tcp&#34;</span><span class="op" id="7944870">,</span>&nbsp;<span class="string" id="7944872">&#34;--badport--&#34;</span><span class="op" id="7944885">,</span>&nbsp;<span class="num" id="7944887">0</span><span class="op" id="7944888">,</span>&nbsp;<span class="builtintype" id="7944890">false</span><span class="op" id="7944895">}</span><span class="op" id="7944896">,</span><br>
<span class="lineno"></span><span class="op" id="7944898">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7944901">func</span>&nbsp;<span class="ident" id="7944906">TestLookupPort</span><span class="op" id="7944920">(</span><span class="ident" id="7944921">t</span>&nbsp;<span class="op" id="7944923">*</span><span class="ident" id="7944924"><a href="/net/port_test.go.html#7944126">testing</a></span><span class="op" id="7944931">.</span><span class="ident" id="7944932">T</span><span class="op" id="7944933">)</span>&nbsp;<span class="op" id="7944935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7944938">switch</span>&nbsp;<span class="ident" id="7944945"><a href="/net/port_test.go.html#7944115">runtime</a></span><span class="op" id="7944952">.</span><span class="ident" id="7944953">GOOS</span>&nbsp;<span class="op" id="7944958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7944961">case</span>&nbsp;<span class="string" id="7944966">&#34;nacl&#34;</span><span class="op" id="7944972">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944976"><a href="/net/port_test.go.html#7944921">t</a></span><span class="op" id="7944977">.</span><span class="ident" id="7944978">Skipf</span><span class="op" id="7944983">(</span><span class="string" id="7944984">&#34;skipping&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="7945005">,</span>&nbsp;<span class="ident" id="7945007"><a href="/net/port_test.go.html#7944115">runtime</a></span><span class="op" id="7945014">.</span><span class="ident" id="7945015">GOOS</span><span class="op" id="7945019">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7945026">for</span>&nbsp;<span class="ident" id="7945030">i</span>&nbsp;<span class="op" id="7945032">:=</span>&nbsp;<span class="num" id="7945035">0</span><span class="op" id="7945036">;</span>&nbsp;<span class="ident" id="7945038"><a href="/net/port_test.go.html#7945030">i</a></span>&nbsp;<span class="op" id="7945040">&lt;</span>&nbsp;<span class="builtinfunc" id="7945042">len</span><span class="op" id="7945045">(</span><span class="ident" id="7945046"><a href="/net/port_test.go.html#7944216">porttests</a></span><span class="op" id="7945055">)</span><span class="op" id="7945056">;</span>&nbsp;<span class="ident" id="7945058"><a href="/net/port_test.go.html#7945030">i</a></span><span class="op" id="7945059">++</span>&nbsp;<span class="op" id="7945062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945066">tt</span>&nbsp;<span class="op" id="7945069">:=</span>&nbsp;<span class="ident" id="7945072"><a href="/net/port_test.go.html#7944216">porttests</a></span><span class="op" id="7945081">[</span><span class="ident" id="7945082"><a href="/net/port_test.go.html#7945030">i</a></span><span class="op" id="7945083">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7945087">if</span>&nbsp;<span class="ident" id="7945090">port</span><span class="op" id="7945094">,</span>&nbsp;<span class="ident" id="7945096">err</span>&nbsp;<span class="op" id="7945100">:=</span>&nbsp;<span class="ident" id="7945103"><a href="/net/lookup.go.html#1456793">LookupPort</a></span><span class="op" id="7945113">(</span><span class="ident" id="7945114"><a href="/net/port_test.go.html#7945066">tt</a></span><span class="op" id="7945116">.</span><span class="ident" id="7945117">netw</span><span class="op" id="7945121">,</span>&nbsp;<span class="ident" id="7945123"><a href="/net/port_test.go.html#7945066">tt</a></span><span class="op" id="7945125">.</span><span class="ident" id="7945126">name</span><span class="op" id="7945130">)</span><span class="op" id="7945131">;</span>&nbsp;<span class="ident" id="7945133"><a href="/net/port_test.go.html#7945090">port</a></span>&nbsp;<span class="op" id="7945138">!=</span>&nbsp;<span class="ident" id="7945141"><a href="/net/port_test.go.html#7945066">tt</a></span><span class="op" id="7945143">.</span><span class="ident" id="7945144">port</span>&nbsp;<span class="op" id="7945149">||</span>&nbsp;<span class="op" id="7945152">(</span><span class="ident" id="7945153"><a href="/net/port_test.go.html#7945096">err</a></span>&nbsp;<span class="op" id="7945157">==</span>&nbsp;<span class="ident" id="7945160">nil</span><span class="op" id="7945163">)</span>&nbsp;<span class="op" id="7945165">!=</span>&nbsp;<span class="ident" id="7945168"><a href="/net/port_test.go.html#7945066">tt</a></span><span class="op" id="7945170">.</span><span class="ident" id="7945171">ok</span>&nbsp;<span class="op" id="7945174">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945179"><a href="/net/port_test.go.html#7944921">t</a></span><span class="op" id="7945180">.</span><span class="ident" id="7945181">Errorf</span><span class="op" id="7945187">(</span><span class="string" id="7945188">&#34;LookupPort(%q,&nbsp;%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7945226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945232"><a href="/net/port_test.go.html#7945066">tt</a></span><span class="op" id="7945234">.</span><span class="ident" id="7945235">netw</span><span class="op" id="7945239">,</span>&nbsp;<span class="ident" id="7945241"><a href="/net/port_test.go.html#7945066">tt</a></span><span class="op" id="7945243">.</span><span class="ident" id="7945244">name</span><span class="op" id="7945248">,</span>&nbsp;<span class="ident" id="7945250"><a href="/net/port_test.go.html#7945090">port</a></span><span class="op" id="7945254">,</span>&nbsp;<span class="ident" id="7945256"><a href="/net/port_test.go.html#7945096">err</a></span><span class="op" id="7945259">,</span>&nbsp;<span class="ident" id="7945261"><a href="/net/port_test.go.html#7945066">tt</a></span><span class="op" id="7945263">.</span><span class="ident" id="7945264">port</span><span class="op" id="7945268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945275">}</span><br>
<span class="lineno"></span><span class="op" id="7945277">}</span>
</div>
</body>
</html>
