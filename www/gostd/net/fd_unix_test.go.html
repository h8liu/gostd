<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html" class="current">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8001328">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8001383">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8001437">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8001488">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8001553">package</span>&nbsp;<span class="ident" id="8001561">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8001566">import</span>&nbsp;<span class="op" id="8001573">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8001576">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8001582">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8001593">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8001603">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="8001606">var</span>&nbsp;<span class="ident" id="8001610">chkReadErrTests</span>&nbsp;<span class="op" id="8001626">=</span>&nbsp;<span class="op" id="8001628">[</span><span class="op" id="8001629">]</span><span class="keyword" id="8001630">struct</span>&nbsp;<span class="op" id="8001637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001640">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8001649">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001654">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8001663">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001670">fd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001679">*</span><span class="ident" id="8001680">netFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001687">expected</span>&nbsp;<span class="builtintype" id="8001696">error</span><br>
<span class="lineno">20</span><span class="op" id="8001702">}</span><span class="op" id="8001703">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001707">{</span><span class="num" id="8001708">100</span><span class="op" id="8001711">,</span>&nbsp;<span class="ident" id="8001713">nil</span><span class="op" id="8001716">,</span>&nbsp;<span class="op" id="8001718">&amp;</span><span class="ident" id="8001719">netFD</span><span class="op" id="8001724">{</span><span class="ident" id="8001725">sotype</span><span class="op" id="8001731">:</span>&nbsp;<span class="ident" id="8001733">syscall</span><span class="op" id="8001740">.</span><span class="ident" id="8001741">SOCK_STREAM</span><span class="op" id="8001752">}</span><span class="op" id="8001753">,</span>&nbsp;<span class="ident" id="8001755">nil</span><span class="op" id="8001758">}</span><span class="op" id="8001759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001762">{</span><span class="num" id="8001763">100</span><span class="op" id="8001766">,</span>&nbsp;<span class="ident" id="8001768">io</span><span class="op" id="8001770">.</span><span class="ident" id="8001771">EOF</span><span class="op" id="8001774">,</span>&nbsp;<span class="op" id="8001776">&amp;</span><span class="ident" id="8001777">netFD</span><span class="op" id="8001782">{</span><span class="ident" id="8001783">sotype</span><span class="op" id="8001789">:</span>&nbsp;<span class="ident" id="8001791">syscall</span><span class="op" id="8001798">.</span><span class="ident" id="8001799">SOCK_STREAM</span><span class="op" id="8001810">}</span><span class="op" id="8001811">,</span>&nbsp;<span class="ident" id="8001813">io</span><span class="op" id="8001815">.</span><span class="ident" id="8001816">EOF</span><span class="op" id="8001819">}</span><span class="op" id="8001820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001823">{</span><span class="num" id="8001824">100</span><span class="op" id="8001827">,</span>&nbsp;<span class="ident" id="8001829">errClosing</span><span class="op" id="8001839">,</span>&nbsp;<span class="op" id="8001841">&amp;</span><span class="ident" id="8001842">netFD</span><span class="op" id="8001847">{</span><span class="ident" id="8001848">sotype</span><span class="op" id="8001854">:</span>&nbsp;<span class="ident" id="8001856">syscall</span><span class="op" id="8001863">.</span><span class="ident" id="8001864">SOCK_STREAM</span><span class="op" id="8001875">}</span><span class="op" id="8001876">,</span>&nbsp;<span class="ident" id="8001878">errClosing</span><span class="op" id="8001888">}</span><span class="op" id="8001889">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001892">{</span><span class="num" id="8001893">0</span><span class="op" id="8001894">,</span>&nbsp;<span class="ident" id="8001896">nil</span><span class="op" id="8001899">,</span>&nbsp;<span class="op" id="8001901">&amp;</span><span class="ident" id="8001902">netFD</span><span class="op" id="8001907">{</span><span class="ident" id="8001908">sotype</span><span class="op" id="8001914">:</span>&nbsp;<span class="ident" id="8001916">syscall</span><span class="op" id="8001923">.</span><span class="ident" id="8001924">SOCK_STREAM</span><span class="op" id="8001935">}</span><span class="op" id="8001936">,</span>&nbsp;<span class="ident" id="8001938">io</span><span class="op" id="8001940">.</span><span class="ident" id="8001941">EOF</span><span class="op" id="8001944">}</span><span class="op" id="8001945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001948">{</span><span class="num" id="8001949">0</span><span class="op" id="8001950">,</span>&nbsp;<span class="ident" id="8001952">io</span><span class="op" id="8001954">.</span><span class="ident" id="8001955">EOF</span><span class="op" id="8001958">,</span>&nbsp;<span class="op" id="8001960">&amp;</span><span class="ident" id="8001961">netFD</span><span class="op" id="8001966">{</span><span class="ident" id="8001967">sotype</span><span class="op" id="8001973">:</span>&nbsp;<span class="ident" id="8001975">syscall</span><span class="op" id="8001982">.</span><span class="ident" id="8001983">SOCK_STREAM</span><span class="op" id="8001994">}</span><span class="op" id="8001995">,</span>&nbsp;<span class="ident" id="8001997">io</span><span class="op" id="8001999">.</span><span class="ident" id="8002000">EOF</span><span class="op" id="8002003">}</span><span class="op" id="8002004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002007">{</span><span class="num" id="8002008">0</span><span class="op" id="8002009">,</span>&nbsp;<span class="ident" id="8002011">errClosing</span><span class="op" id="8002021">,</span>&nbsp;<span class="op" id="8002023">&amp;</span><span class="ident" id="8002024">netFD</span><span class="op" id="8002029">{</span><span class="ident" id="8002030">sotype</span><span class="op" id="8002036">:</span>&nbsp;<span class="ident" id="8002038">syscall</span><span class="op" id="8002045">.</span><span class="ident" id="8002046">SOCK_STREAM</span><span class="op" id="8002057">}</span><span class="op" id="8002058">,</span>&nbsp;<span class="ident" id="8002060">errClosing</span><span class="op" id="8002070">}</span><span class="op" id="8002071">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002075">{</span><span class="num" id="8002076">100</span><span class="op" id="8002079">,</span>&nbsp;<span class="ident" id="8002081">nil</span><span class="op" id="8002084">,</span>&nbsp;<span class="op" id="8002086">&amp;</span><span class="ident" id="8002087">netFD</span><span class="op" id="8002092">{</span><span class="ident" id="8002093">sotype</span><span class="op" id="8002099">:</span>&nbsp;<span class="ident" id="8002101">syscall</span><span class="op" id="8002108">.</span><span class="ident" id="8002109">SOCK_DGRAM</span><span class="op" id="8002119">}</span><span class="op" id="8002120">,</span>&nbsp;<span class="ident" id="8002122">nil</span><span class="op" id="8002125">}</span><span class="op" id="8002126">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002129">{</span><span class="num" id="8002130">100</span><span class="op" id="8002133">,</span>&nbsp;<span class="ident" id="8002135">io</span><span class="op" id="8002137">.</span><span class="ident" id="8002138">EOF</span><span class="op" id="8002141">,</span>&nbsp;<span class="op" id="8002143">&amp;</span><span class="ident" id="8002144">netFD</span><span class="op" id="8002149">{</span><span class="ident" id="8002150">sotype</span><span class="op" id="8002156">:</span>&nbsp;<span class="ident" id="8002158">syscall</span><span class="op" id="8002165">.</span><span class="ident" id="8002166">SOCK_DGRAM</span><span class="op" id="8002176">}</span><span class="op" id="8002177">,</span>&nbsp;<span class="ident" id="8002179">io</span><span class="op" id="8002181">.</span><span class="ident" id="8002182">EOF</span><span class="op" id="8002185">}</span><span class="op" id="8002186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002189">{</span><span class="num" id="8002190">100</span><span class="op" id="8002193">,</span>&nbsp;<span class="ident" id="8002195">errClosing</span><span class="op" id="8002205">,</span>&nbsp;<span class="op" id="8002207">&amp;</span><span class="ident" id="8002208">netFD</span><span class="op" id="8002213">{</span><span class="ident" id="8002214">sotype</span><span class="op" id="8002220">:</span>&nbsp;<span class="ident" id="8002222">syscall</span><span class="op" id="8002229">.</span><span class="ident" id="8002230">SOCK_DGRAM</span><span class="op" id="8002240">}</span><span class="op" id="8002241">,</span>&nbsp;<span class="ident" id="8002243">errClosing</span><span class="op" id="8002253">}</span><span class="op" id="8002254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002257">{</span><span class="num" id="8002258">0</span><span class="op" id="8002259">,</span>&nbsp;<span class="ident" id="8002261">nil</span><span class="op" id="8002264">,</span>&nbsp;<span class="op" id="8002266">&amp;</span><span class="ident" id="8002267">netFD</span><span class="op" id="8002272">{</span><span class="ident" id="8002273">sotype</span><span class="op" id="8002279">:</span>&nbsp;<span class="ident" id="8002281">syscall</span><span class="op" id="8002288">.</span><span class="ident" id="8002289">SOCK_DGRAM</span><span class="op" id="8002299">}</span><span class="op" id="8002300">,</span>&nbsp;<span class="ident" id="8002302">nil</span><span class="op" id="8002305">}</span><span class="op" id="8002306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002309">{</span><span class="num" id="8002310">0</span><span class="op" id="8002311">,</span>&nbsp;<span class="ident" id="8002313">io</span><span class="op" id="8002315">.</span><span class="ident" id="8002316">EOF</span><span class="op" id="8002319">,</span>&nbsp;<span class="op" id="8002321">&amp;</span><span class="ident" id="8002322">netFD</span><span class="op" id="8002327">{</span><span class="ident" id="8002328">sotype</span><span class="op" id="8002334">:</span>&nbsp;<span class="ident" id="8002336">syscall</span><span class="op" id="8002343">.</span><span class="ident" id="8002344">SOCK_DGRAM</span><span class="op" id="8002354">}</span><span class="op" id="8002355">,</span>&nbsp;<span class="ident" id="8002357">io</span><span class="op" id="8002359">.</span><span class="ident" id="8002360">EOF</span><span class="op" id="8002363">}</span><span class="op" id="8002364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002367">{</span><span class="num" id="8002368">0</span><span class="op" id="8002369">,</span>&nbsp;<span class="ident" id="8002371">errClosing</span><span class="op" id="8002381">,</span>&nbsp;<span class="op" id="8002383">&amp;</span><span class="ident" id="8002384">netFD</span><span class="op" id="8002389">{</span><span class="ident" id="8002390">sotype</span><span class="op" id="8002396">:</span>&nbsp;<span class="ident" id="8002398">syscall</span><span class="op" id="8002405">.</span><span class="ident" id="8002406">SOCK_DGRAM</span><span class="op" id="8002416">}</span><span class="op" id="8002417">,</span>&nbsp;<span class="ident" id="8002419">errClosing</span><span class="op" id="8002429">}</span><span class="op" id="8002430">,</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002434">{</span><span class="num" id="8002435">100</span><span class="op" id="8002438">,</span>&nbsp;<span class="ident" id="8002440">nil</span><span class="op" id="8002443">,</span>&nbsp;<span class="op" id="8002445">&amp;</span><span class="ident" id="8002446">netFD</span><span class="op" id="8002451">{</span><span class="ident" id="8002452">sotype</span><span class="op" id="8002458">:</span>&nbsp;<span class="ident" id="8002460">syscall</span><span class="op" id="8002467">.</span><span class="ident" id="8002468">SOCK_SEQPACKET</span><span class="op" id="8002482">}</span><span class="op" id="8002483">,</span>&nbsp;<span class="ident" id="8002485">nil</span><span class="op" id="8002488">}</span><span class="op" id="8002489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002492">{</span><span class="num" id="8002493">100</span><span class="op" id="8002496">,</span>&nbsp;<span class="ident" id="8002498">io</span><span class="op" id="8002500">.</span><span class="ident" id="8002501">EOF</span><span class="op" id="8002504">,</span>&nbsp;<span class="op" id="8002506">&amp;</span><span class="ident" id="8002507">netFD</span><span class="op" id="8002512">{</span><span class="ident" id="8002513">sotype</span><span class="op" id="8002519">:</span>&nbsp;<span class="ident" id="8002521">syscall</span><span class="op" id="8002528">.</span><span class="ident" id="8002529">SOCK_SEQPACKET</span><span class="op" id="8002543">}</span><span class="op" id="8002544">,</span>&nbsp;<span class="ident" id="8002546">io</span><span class="op" id="8002548">.</span><span class="ident" id="8002549">EOF</span><span class="op" id="8002552">}</span><span class="op" id="8002553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002556">{</span><span class="num" id="8002557">100</span><span class="op" id="8002560">,</span>&nbsp;<span class="ident" id="8002562">errClosing</span><span class="op" id="8002572">,</span>&nbsp;<span class="op" id="8002574">&amp;</span><span class="ident" id="8002575">netFD</span><span class="op" id="8002580">{</span><span class="ident" id="8002581">sotype</span><span class="op" id="8002587">:</span>&nbsp;<span class="ident" id="8002589">syscall</span><span class="op" id="8002596">.</span><span class="ident" id="8002597">SOCK_SEQPACKET</span><span class="op" id="8002611">}</span><span class="op" id="8002612">,</span>&nbsp;<span class="ident" id="8002614">errClosing</span><span class="op" id="8002624">}</span><span class="op" id="8002625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002628">{</span><span class="num" id="8002629">0</span><span class="op" id="8002630">,</span>&nbsp;<span class="ident" id="8002632">nil</span><span class="op" id="8002635">,</span>&nbsp;<span class="op" id="8002637">&amp;</span><span class="ident" id="8002638">netFD</span><span class="op" id="8002643">{</span><span class="ident" id="8002644">sotype</span><span class="op" id="8002650">:</span>&nbsp;<span class="ident" id="8002652">syscall</span><span class="op" id="8002659">.</span><span class="ident" id="8002660">SOCK_SEQPACKET</span><span class="op" id="8002674">}</span><span class="op" id="8002675">,</span>&nbsp;<span class="ident" id="8002677">io</span><span class="op" id="8002679">.</span><span class="ident" id="8002680">EOF</span><span class="op" id="8002683">}</span><span class="op" id="8002684">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002687">{</span><span class="num" id="8002688">0</span><span class="op" id="8002689">,</span>&nbsp;<span class="ident" id="8002691">io</span><span class="op" id="8002693">.</span><span class="ident" id="8002694">EOF</span><span class="op" id="8002697">,</span>&nbsp;<span class="op" id="8002699">&amp;</span><span class="ident" id="8002700">netFD</span><span class="op" id="8002705">{</span><span class="ident" id="8002706">sotype</span><span class="op" id="8002712">:</span>&nbsp;<span class="ident" id="8002714">syscall</span><span class="op" id="8002721">.</span><span class="ident" id="8002722">SOCK_SEQPACKET</span><span class="op" id="8002736">}</span><span class="op" id="8002737">,</span>&nbsp;<span class="ident" id="8002739">io</span><span class="op" id="8002741">.</span><span class="ident" id="8002742">EOF</span><span class="op" id="8002745">}</span><span class="op" id="8002746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002749">{</span><span class="num" id="8002750">0</span><span class="op" id="8002751">,</span>&nbsp;<span class="ident" id="8002753">errClosing</span><span class="op" id="8002763">,</span>&nbsp;<span class="op" id="8002765">&amp;</span><span class="ident" id="8002766">netFD</span><span class="op" id="8002771">{</span><span class="ident" id="8002772">sotype</span><span class="op" id="8002778">:</span>&nbsp;<span class="ident" id="8002780">syscall</span><span class="op" id="8002787">.</span><span class="ident" id="8002788">SOCK_SEQPACKET</span><span class="op" id="8002802">}</span><span class="op" id="8002803">,</span>&nbsp;<span class="ident" id="8002805">errClosing</span><span class="op" id="8002815">}</span><span class="op" id="8002816">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002820">{</span><span class="num" id="8002821">100</span><span class="op" id="8002824">,</span>&nbsp;<span class="ident" id="8002826">nil</span><span class="op" id="8002829">,</span>&nbsp;<span class="op" id="8002831">&amp;</span><span class="ident" id="8002832">netFD</span><span class="op" id="8002837">{</span><span class="ident" id="8002838">sotype</span><span class="op" id="8002844">:</span>&nbsp;<span class="ident" id="8002846">syscall</span><span class="op" id="8002853">.</span><span class="ident" id="8002854">SOCK_RAW</span><span class="op" id="8002862">}</span><span class="op" id="8002863">,</span>&nbsp;<span class="ident" id="8002865">nil</span><span class="op" id="8002868">}</span><span class="op" id="8002869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002872">{</span><span class="num" id="8002873">100</span><span class="op" id="8002876">,</span>&nbsp;<span class="ident" id="8002878">io</span><span class="op" id="8002880">.</span><span class="ident" id="8002881">EOF</span><span class="op" id="8002884">,</span>&nbsp;<span class="op" id="8002886">&amp;</span><span class="ident" id="8002887">netFD</span><span class="op" id="8002892">{</span><span class="ident" id="8002893">sotype</span><span class="op" id="8002899">:</span>&nbsp;<span class="ident" id="8002901">syscall</span><span class="op" id="8002908">.</span><span class="ident" id="8002909">SOCK_RAW</span><span class="op" id="8002917">}</span><span class="op" id="8002918">,</span>&nbsp;<span class="ident" id="8002920">io</span><span class="op" id="8002922">.</span><span class="ident" id="8002923">EOF</span><span class="op" id="8002926">}</span><span class="op" id="8002927">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002930">{</span><span class="num" id="8002931">100</span><span class="op" id="8002934">,</span>&nbsp;<span class="ident" id="8002936">errClosing</span><span class="op" id="8002946">,</span>&nbsp;<span class="op" id="8002948">&amp;</span><span class="ident" id="8002949">netFD</span><span class="op" id="8002954">{</span><span class="ident" id="8002955">sotype</span><span class="op" id="8002961">:</span>&nbsp;<span class="ident" id="8002963">syscall</span><span class="op" id="8002970">.</span><span class="ident" id="8002971">SOCK_RAW</span><span class="op" id="8002979">}</span><span class="op" id="8002980">,</span>&nbsp;<span class="ident" id="8002982">errClosing</span><span class="op" id="8002992">}</span><span class="op" id="8002993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002996">{</span><span class="num" id="8002997">0</span><span class="op" id="8002998">,</span>&nbsp;<span class="ident" id="8003000">nil</span><span class="op" id="8003003">,</span>&nbsp;<span class="op" id="8003005">&amp;</span><span class="ident" id="8003006">netFD</span><span class="op" id="8003011">{</span><span class="ident" id="8003012">sotype</span><span class="op" id="8003018">:</span>&nbsp;<span class="ident" id="8003020">syscall</span><span class="op" id="8003027">.</span><span class="ident" id="8003028">SOCK_RAW</span><span class="op" id="8003036">}</span><span class="op" id="8003037">,</span>&nbsp;<span class="ident" id="8003039">nil</span><span class="op" id="8003042">}</span><span class="op" id="8003043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8003046">{</span><span class="num" id="8003047">0</span><span class="op" id="8003048">,</span>&nbsp;<span class="ident" id="8003050">io</span><span class="op" id="8003052">.</span><span class="ident" id="8003053">EOF</span><span class="op" id="8003056">,</span>&nbsp;<span class="op" id="8003058">&amp;</span><span class="ident" id="8003059">netFD</span><span class="op" id="8003064">{</span><span class="ident" id="8003065">sotype</span><span class="op" id="8003071">:</span>&nbsp;<span class="ident" id="8003073">syscall</span><span class="op" id="8003080">.</span><span class="ident" id="8003081">SOCK_RAW</span><span class="op" id="8003089">}</span><span class="op" id="8003090">,</span>&nbsp;<span class="ident" id="8003092">io</span><span class="op" id="8003094">.</span><span class="ident" id="8003095">EOF</span><span class="op" id="8003098">}</span><span class="op" id="8003099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8003102">{</span><span class="num" id="8003103">0</span><span class="op" id="8003104">,</span>&nbsp;<span class="ident" id="8003106">errClosing</span><span class="op" id="8003116">,</span>&nbsp;<span class="op" id="8003118">&amp;</span><span class="ident" id="8003119">netFD</span><span class="op" id="8003124">{</span><span class="ident" id="8003125">sotype</span><span class="op" id="8003131">:</span>&nbsp;<span class="ident" id="8003133">syscall</span><span class="op" id="8003140">.</span><span class="ident" id="8003141">SOCK_RAW</span><span class="op" id="8003149">}</span><span class="op" id="8003150">,</span>&nbsp;<span class="ident" id="8003152">errClosing</span><span class="op" id="8003162">}</span><span class="op" id="8003163">,</span><br>
<span class="lineno"></span><span class="op" id="8003165">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="8003168">func</span>&nbsp;<span class="ident" id="8003173">TestChkReadErr</span><span class="op" id="8003187">(</span><span class="ident" id="8003188">t</span>&nbsp;<span class="op" id="8003190">*</span><span class="ident" id="8003191">testing</span><span class="op" id="8003198">.</span><span class="ident" id="8003199">T</span><span class="op" id="8003200">)</span>&nbsp;<span class="op" id="8003202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8003205">for</span>&nbsp;<span class="ident" id="8003209">_</span><span class="op" id="8003210">,</span>&nbsp;<span class="ident" id="8003212">tt</span>&nbsp;<span class="op" id="8003215">:=</span>&nbsp;<span class="keyword" id="8003218">range</span>&nbsp;<span class="ident" id="8003224">chkReadErrTests</span>&nbsp;<span class="op" id="8003240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003244">actual</span>&nbsp;<span class="op" id="8003251">:=</span>&nbsp;<span class="ident" id="8003254">chkReadErr</span><span class="op" id="8003264">(</span><span class="ident" id="8003265">tt</span><span class="op" id="8003267">.</span><span class="ident" id="8003268">n</span><span class="op" id="8003269">,</span>&nbsp;<span class="ident" id="8003271">tt</span><span class="op" id="8003273">.</span><span class="ident" id="8003274">err</span><span class="op" id="8003277">,</span>&nbsp;<span class="ident" id="8003279">tt</span><span class="op" id="8003281">.</span><span class="ident" id="8003282">fd</span><span class="op" id="8003284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8003288">if</span>&nbsp;<span class="ident" id="8003291">actual</span>&nbsp;<span class="op" id="8003298">!=</span>&nbsp;<span class="ident" id="8003301">tt</span><span class="op" id="8003303">.</span><span class="ident" id="8003304">expected</span>&nbsp;<span class="op" id="8003313">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003318">t</span><span class="op" id="8003319">.</span><span class="ident" id="8003320">Errorf</span><span class="op" id="8003326">(</span><span class="string" id="8003327">&#34;chkReadError(%v,&nbsp;%v,&nbsp;%v):&nbsp;expected&nbsp;%v,&nbsp;actual&nbsp;%v&#34;</span><span class="op" id="8003377">,</span>&nbsp;<span class="ident" id="8003379">tt</span><span class="op" id="8003381">.</span><span class="ident" id="8003382">n</span><span class="op" id="8003383">,</span>&nbsp;<span class="ident" id="8003385">tt</span><span class="op" id="8003387">.</span><span class="ident" id="8003388">err</span><span class="op" id="8003391">,</span>&nbsp;<span class="ident" id="8003393">tt</span><span class="op" id="8003395">.</span><span class="ident" id="8003396">fd</span><span class="op" id="8003398">.</span><span class="ident" id="8003399">sotype</span><span class="op" id="8003405">,</span>&nbsp;<span class="ident" id="8003407">tt</span><span class="op" id="8003409">.</span><span class="ident" id="8003410">expected</span><span class="op" id="8003418">,</span>&nbsp;<span class="ident" id="8003420">actual</span><span class="op" id="8003426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8003430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8003433">}</span><br>
<span class="lineno"></span><span class="op" id="8003435">}</span>
</div>
</body>
</html>
