<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1461308">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1461363">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1461417">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1461468">package</span>&nbsp;<span class="ident" id="1461476">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1461485">import</span>&nbsp;<span class="string" id="1461492">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1461502">const</span>&nbsp;<span class="op" id="1461508">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461511">c0</span>&nbsp;<span class="op" id="1461514">=</span>&nbsp;<span class="builtintype" id="1461516">uintptr</span><span class="op" id="1461523">(</span><span class="op" id="1461524">(</span><span class="num" id="1461525">8</span><span class="op" id="1461526">-</span><span class="ident" id="1461527">ptrSize</span><span class="op" id="1461534">)</span><span class="op" id="1461535">/</span><span class="num" id="1461536">4</span><span class="op" id="1461537">*</span><span class="num" id="1461538">2860486313</span>&nbsp;<span class="op" id="1461549">+</span>&nbsp;<span class="op" id="1461551">(</span><span class="ident" id="1461552">ptrSize</span><span class="op" id="1461559">-</span><span class="num" id="1461560">4</span><span class="op" id="1461561">)</span><span class="op" id="1461562">/</span><span class="num" id="1461563">4</span><span class="op" id="1461564">*</span><span class="num" id="1461565">33054211828000289</span><span class="op" id="1461582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461585">c1</span>&nbsp;<span class="op" id="1461588">=</span>&nbsp;<span class="builtintype" id="1461590">uintptr</span><span class="op" id="1461597">(</span><span class="op" id="1461598">(</span><span class="num" id="1461599">8</span><span class="op" id="1461600">-</span><span class="ident" id="1461601">ptrSize</span><span class="op" id="1461608">)</span><span class="op" id="1461609">/</span><span class="num" id="1461610">4</span><span class="op" id="1461611">*</span><span class="num" id="1461612">3267000013</span>&nbsp;<span class="op" id="1461623">+</span>&nbsp;<span class="op" id="1461625">(</span><span class="ident" id="1461626">ptrSize</span><span class="op" id="1461633">-</span><span class="num" id="1461634">4</span><span class="op" id="1461635">)</span><span class="op" id="1461636">/</span><span class="num" id="1461637">4</span><span class="op" id="1461638">*</span><span class="num" id="1461639">23344194077549503</span><span class="op" id="1461656">)</span><br>
<span class="lineno"></span><span class="op" id="1461658">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1461661">//&nbsp;type&nbsp;algorithms&nbsp;-&nbsp;known&nbsp;to&nbsp;compiler</span><br>
<span class="lineno">15</span><span class="keyword" id="1461700">const</span>&nbsp;<span class="op" id="1461706">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461709">alg_MEM</span>&nbsp;<span class="op" id="1461717">=</span>&nbsp;<span class="ident" id="1461719">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461725">alg_MEM0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461735">alg_MEM8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461745">alg_MEM16</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461756">alg_MEM32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461767">alg_MEM64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461778">alg_MEM128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461790">alg_NOEQ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461800">alg_NOEQ0</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461811">alg_NOEQ8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461822">alg_NOEQ16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461834">alg_NOEQ32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461846">alg_NOEQ64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461858">alg_NOEQ128</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461871">alg_STRING</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461883">alg_INTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461894">alg_NILINTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461908">alg_SLICE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461919">alg_FLOAT32</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461932">alg_FLOAT64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461945">alg_CPLX64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461957">alg_CPLX128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461970">alg_max</span><br>
<span class="lineno"></span><span class="op" id="1461978">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="1461981">type</span>&nbsp;<span class="ident" id="1461986">typeAlg</span>&nbsp;<span class="keyword" id="1461994">struct</span>&nbsp;<span class="op" id="1462001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1462004">//&nbsp;function&nbsp;for&nbsp;hashing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1462050">//&nbsp;(ptr&nbsp;to&nbsp;object,&nbsp;size,&nbsp;seed)&nbsp;-&gt;&nbsp;hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462090">hash</span>&nbsp;<span class="keyword" id="1462095">func</span><span class="op" id="1462099">(</span><span class="ident" id="1462100">unsafe</span><span class="op" id="1462106">.</span><span class="ident" id="1462107">Pointer</span><span class="op" id="1462114">,</span>&nbsp;<span class="builtintype" id="1462116">uintptr</span><span class="op" id="1462123">,</span>&nbsp;<span class="builtintype" id="1462125">uintptr</span><span class="op" id="1462132">)</span>&nbsp;<span class="builtintype" id="1462134">uintptr</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1462143">//&nbsp;function&nbsp;for&nbsp;comparing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1462191">//&nbsp;(ptr&nbsp;to&nbsp;object&nbsp;A,&nbsp;ptr&nbsp;to&nbsp;object&nbsp;B,&nbsp;size)&nbsp;-&gt;&nbsp;==?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462243">equal</span>&nbsp;<span class="keyword" id="1462249">func</span><span class="op" id="1462253">(</span><span class="ident" id="1462254">unsafe</span><span class="op" id="1462260">.</span><span class="ident" id="1462261">Pointer</span><span class="op" id="1462268">,</span>&nbsp;<span class="ident" id="1462270">unsafe</span><span class="op" id="1462276">.</span><span class="ident" id="1462277">Pointer</span><span class="op" id="1462284">,</span>&nbsp;<span class="builtintype" id="1462286">uintptr</span><span class="op" id="1462293">)</span>&nbsp;<span class="builtintype" id="1462295">bool</span><br>
<span class="lineno"></span><span class="op" id="1462300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="1462303">var</span>&nbsp;<span class="ident" id="1462307">algarray</span>&nbsp;<span class="op" id="1462316">=</span>&nbsp;<span class="op" id="1462318">[</span><span class="ident" id="1462319">alg_max</span><span class="op" id="1462326">]</span><span class="ident" id="1462327">typeAlg</span><span class="op" id="1462334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462337">alg_MEM</span><span class="op" id="1462344">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462351">{</span><span class="ident" id="1462352">memhash</span><span class="op" id="1462359">,</span>&nbsp;<span class="ident" id="1462361">memequal</span><span class="op" id="1462369">}</span><span class="op" id="1462370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462373">alg_MEM0</span><span class="op" id="1462381">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462387">{</span><span class="ident" id="1462388">memhash</span><span class="op" id="1462395">,</span>&nbsp;<span class="ident" id="1462397">memequal0</span><span class="op" id="1462406">}</span><span class="op" id="1462407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462410">alg_MEM8</span><span class="op" id="1462418">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462424">{</span><span class="ident" id="1462425">memhash</span><span class="op" id="1462432">,</span>&nbsp;<span class="ident" id="1462434">memequal8</span><span class="op" id="1462443">}</span><span class="op" id="1462444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462447">alg_MEM16</span><span class="op" id="1462456">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462461">{</span><span class="ident" id="1462462">memhash</span><span class="op" id="1462469">,</span>&nbsp;<span class="ident" id="1462471">memequal16</span><span class="op" id="1462481">}</span><span class="op" id="1462482">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462485">alg_MEM32</span><span class="op" id="1462494">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462499">{</span><span class="ident" id="1462500">memhash</span><span class="op" id="1462507">,</span>&nbsp;<span class="ident" id="1462509">memequal32</span><span class="op" id="1462519">}</span><span class="op" id="1462520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462523">alg_MEM64</span><span class="op" id="1462532">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462537">{</span><span class="ident" id="1462538">memhash</span><span class="op" id="1462545">,</span>&nbsp;<span class="ident" id="1462547">memequal64</span><span class="op" id="1462557">}</span><span class="op" id="1462558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462561">alg_MEM128</span><span class="op" id="1462571">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1462575">{</span><span class="ident" id="1462576">memhash</span><span class="op" id="1462583">,</span>&nbsp;<span class="ident" id="1462585">memequal128</span><span class="op" id="1462596">}</span><span class="op" id="1462597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462600">alg_NOEQ</span><span class="op" id="1462608">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462614">{</span><span class="ident" id="1462615">nil</span><span class="op" id="1462618">,</span>&nbsp;<span class="ident" id="1462620">nil</span><span class="op" id="1462623">}</span><span class="op" id="1462624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462627">alg_NOEQ0</span><span class="op" id="1462636">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462641">{</span><span class="ident" id="1462642">nil</span><span class="op" id="1462645">,</span>&nbsp;<span class="ident" id="1462647">nil</span><span class="op" id="1462650">}</span><span class="op" id="1462651">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462654">alg_NOEQ8</span><span class="op" id="1462663">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462668">{</span><span class="ident" id="1462669">nil</span><span class="op" id="1462672">,</span>&nbsp;<span class="ident" id="1462674">nil</span><span class="op" id="1462677">}</span><span class="op" id="1462678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462681">alg_NOEQ16</span><span class="op" id="1462691">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1462695">{</span><span class="ident" id="1462696">nil</span><span class="op" id="1462699">,</span>&nbsp;<span class="ident" id="1462701">nil</span><span class="op" id="1462704">}</span><span class="op" id="1462705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462708">alg_NOEQ32</span><span class="op" id="1462718">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1462722">{</span><span class="ident" id="1462723">nil</span><span class="op" id="1462726">,</span>&nbsp;<span class="ident" id="1462728">nil</span><span class="op" id="1462731">}</span><span class="op" id="1462732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462735">alg_NOEQ64</span><span class="op" id="1462745">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1462749">{</span><span class="ident" id="1462750">nil</span><span class="op" id="1462753">,</span>&nbsp;<span class="ident" id="1462755">nil</span><span class="op" id="1462758">}</span><span class="op" id="1462759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462762">alg_NOEQ128</span><span class="op" id="1462773">:</span>&nbsp;&nbsp;<span class="op" id="1462776">{</span><span class="ident" id="1462777">nil</span><span class="op" id="1462780">,</span>&nbsp;<span class="ident" id="1462782">nil</span><span class="op" id="1462785">}</span><span class="op" id="1462786">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462789">alg_STRING</span><span class="op" id="1462799">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1462803">{</span><span class="ident" id="1462804">strhash</span><span class="op" id="1462811">,</span>&nbsp;<span class="ident" id="1462813">strequal</span><span class="op" id="1462821">}</span><span class="op" id="1462822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462825">alg_INTER</span><span class="op" id="1462834">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462839">{</span><span class="ident" id="1462840">interhash</span><span class="op" id="1462849">,</span>&nbsp;<span class="ident" id="1462851">interequal</span><span class="op" id="1462861">}</span><span class="op" id="1462862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462865">alg_NILINTER</span><span class="op" id="1462877">:</span>&nbsp;<span class="op" id="1462879">{</span><span class="ident" id="1462880">nilinterhash</span><span class="op" id="1462892">,</span>&nbsp;<span class="ident" id="1462894">nilinterequal</span><span class="op" id="1462907">}</span><span class="op" id="1462908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462911">alg_SLICE</span><span class="op" id="1462920">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1462925">{</span><span class="ident" id="1462926">nil</span><span class="op" id="1462929">,</span>&nbsp;<span class="ident" id="1462931">nil</span><span class="op" id="1462934">}</span><span class="op" id="1462935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462938">alg_FLOAT32</span><span class="op" id="1462949">:</span>&nbsp;&nbsp;<span class="op" id="1462952">{</span><span class="ident" id="1462953">f32hash</span><span class="op" id="1462960">,</span>&nbsp;<span class="ident" id="1462962">f32equal</span><span class="op" id="1462970">}</span><span class="op" id="1462971">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462974">alg_FLOAT64</span><span class="op" id="1462985">:</span>&nbsp;&nbsp;<span class="op" id="1462988">{</span><span class="ident" id="1462989">f64hash</span><span class="op" id="1462996">,</span>&nbsp;<span class="ident" id="1462998">f64equal</span><span class="op" id="1463006">}</span><span class="op" id="1463007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463010">alg_CPLX64</span><span class="op" id="1463020">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1463024">{</span><span class="ident" id="1463025">c64hash</span><span class="op" id="1463032">,</span>&nbsp;<span class="ident" id="1463034">c64equal</span><span class="op" id="1463042">}</span><span class="op" id="1463043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463046">alg_CPLX128</span><span class="op" id="1463057">:</span>&nbsp;&nbsp;<span class="op" id="1463060">{</span><span class="ident" id="1463061">c128hash</span><span class="op" id="1463069">,</span>&nbsp;<span class="ident" id="1463071">c128equal</span><span class="op" id="1463080">}</span><span class="op" id="1463081">,</span><br>
<span class="lineno"></span><span class="op" id="1463083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="1463086">const</span>&nbsp;<span class="ident" id="1463092">nacl</span>&nbsp;<span class="op" id="1463097">=</span>&nbsp;<span class="ident" id="1463099">GOOS</span>&nbsp;<span class="op" id="1463104">==</span>&nbsp;<span class="string" id="1463107">&#34;nacl&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1463115">var</span>&nbsp;<span class="ident" id="1463119">useAeshash</span>&nbsp;<span class="builtintype" id="1463130">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1463136">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">80</span><span class="keyword" id="1463150">func</span>&nbsp;<span class="ident" id="1463155">aeshash</span><span class="op" id="1463162">(</span><span class="ident" id="1463163">p</span>&nbsp;<span class="ident" id="1463165">unsafe</span><span class="op" id="1463171">.</span><span class="ident" id="1463172">Pointer</span><span class="op" id="1463179">,</span>&nbsp;<span class="ident" id="1463181">s</span><span class="op" id="1463182">,</span>&nbsp;<span class="ident" id="1463184">h</span>&nbsp;<span class="builtintype" id="1463186">uintptr</span><span class="op" id="1463193">)</span>&nbsp;<span class="builtintype" id="1463195">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1463203">func</span>&nbsp;<span class="ident" id="1463208">aeshash32</span><span class="op" id="1463217">(</span><span class="ident" id="1463218">p</span>&nbsp;<span class="ident" id="1463220">unsafe</span><span class="op" id="1463226">.</span><span class="ident" id="1463227">Pointer</span><span class="op" id="1463234">,</span>&nbsp;<span class="ident" id="1463236">s</span><span class="op" id="1463237">,</span>&nbsp;<span class="ident" id="1463239">h</span>&nbsp;<span class="builtintype" id="1463241">uintptr</span><span class="op" id="1463248">)</span>&nbsp;<span class="builtintype" id="1463250">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1463258">func</span>&nbsp;<span class="ident" id="1463263">aeshash64</span><span class="op" id="1463272">(</span><span class="ident" id="1463273">p</span>&nbsp;<span class="ident" id="1463275">unsafe</span><span class="op" id="1463281">.</span><span class="ident" id="1463282">Pointer</span><span class="op" id="1463289">,</span>&nbsp;<span class="ident" id="1463291">s</span><span class="op" id="1463292">,</span>&nbsp;<span class="ident" id="1463294">h</span>&nbsp;<span class="builtintype" id="1463296">uintptr</span><span class="op" id="1463303">)</span>&nbsp;<span class="builtintype" id="1463305">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1463313">func</span>&nbsp;<span class="ident" id="1463318">aeshashstr</span><span class="op" id="1463328">(</span><span class="ident" id="1463329">p</span>&nbsp;<span class="ident" id="1463331">unsafe</span><span class="op" id="1463337">.</span><span class="ident" id="1463338">Pointer</span><span class="op" id="1463345">,</span>&nbsp;<span class="ident" id="1463347">s</span><span class="op" id="1463348">,</span>&nbsp;<span class="ident" id="1463350">h</span>&nbsp;<span class="builtintype" id="1463352">uintptr</span><span class="op" id="1463359">)</span>&nbsp;<span class="builtintype" id="1463361">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="1463370">func</span>&nbsp;<span class="ident" id="1463375">memhash</span><span class="op" id="1463382">(</span><span class="ident" id="1463383">p</span>&nbsp;<span class="ident" id="1463385">unsafe</span><span class="op" id="1463391">.</span><span class="ident" id="1463392">Pointer</span><span class="op" id="1463399">,</span>&nbsp;<span class="ident" id="1463401">s</span><span class="op" id="1463402">,</span>&nbsp;<span class="ident" id="1463404">h</span>&nbsp;<span class="builtintype" id="1463406">uintptr</span><span class="op" id="1463413">)</span>&nbsp;<span class="builtintype" id="1463415">uintptr</span>&nbsp;<span class="op" id="1463423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1463426">if</span>&nbsp;<span class="op" id="1463429">!</span><span class="ident" id="1463430">nacl</span>&nbsp;<span class="op" id="1463435">&amp;&amp;</span>&nbsp;<span class="ident" id="1463438">useAeshash</span>&nbsp;<span class="op" id="1463449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1463453">return</span>&nbsp;<span class="ident" id="1463460">aeshash</span><span class="op" id="1463467">(</span><span class="ident" id="1463468">p</span><span class="op" id="1463469">,</span>&nbsp;<span class="ident" id="1463471">s</span><span class="op" id="1463472">,</span>&nbsp;<span class="ident" id="1463474">h</span><span class="op" id="1463475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1463478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463482">h</span>&nbsp;<span class="op" id="1463484">^=</span>&nbsp;<span class="ident" id="1463487">c0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1463491">for</span>&nbsp;<span class="ident" id="1463495">s</span>&nbsp;<span class="op" id="1463497">&gt;</span>&nbsp;<span class="num" id="1463499">0</span>&nbsp;<span class="op" id="1463501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463505">h</span>&nbsp;<span class="op" id="1463507">=</span>&nbsp;<span class="op" id="1463509">(</span><span class="ident" id="1463510">h</span>&nbsp;<span class="op" id="1463512">^</span>&nbsp;<span class="builtintype" id="1463514">uintptr</span><span class="op" id="1463521">(</span><span class="op" id="1463522">*</span><span class="op" id="1463523">(</span><span class="op" id="1463524">*</span><span class="builtintype" id="1463525">byte</span><span class="op" id="1463529">)</span><span class="op" id="1463530">(</span><span class="ident" id="1463531">p</span><span class="op" id="1463532">)</span><span class="op" id="1463533">)</span><span class="op" id="1463534">)</span>&nbsp;<span class="op" id="1463536">*</span>&nbsp;<span class="ident" id="1463538">c1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463543">p</span>&nbsp;<span class="op" id="1463545">=</span>&nbsp;<span class="ident" id="1463547">add</span><span class="op" id="1463550">(</span><span class="ident" id="1463551">p</span><span class="op" id="1463552">,</span>&nbsp;<span class="num" id="1463554">1</span><span class="op" id="1463555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463559">s</span><span class="op" id="1463560">--</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1463564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1463567">return</span>&nbsp;<span class="ident" id="1463574">h</span><br>
<span class="lineno"></span><span class="op" id="1463576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1463579">func</span>&nbsp;<span class="ident" id="1463584">strhash</span><span class="op" id="1463591">(</span><span class="ident" id="1463592">a</span>&nbsp;<span class="ident" id="1463594">unsafe</span><span class="op" id="1463600">.</span><span class="ident" id="1463601">Pointer</span><span class="op" id="1463608">,</span>&nbsp;<span class="ident" id="1463610">s</span><span class="op" id="1463611">,</span>&nbsp;<span class="ident" id="1463613">h</span>&nbsp;<span class="builtintype" id="1463615">uintptr</span><span class="op" id="1463622">)</span>&nbsp;<span class="builtintype" id="1463624">uintptr</span>&nbsp;<span class="op" id="1463632">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1463635">return</span>&nbsp;<span class="ident" id="1463642">memhash</span><span class="op" id="1463649">(</span><span class="op" id="1463650">(</span><span class="op" id="1463651">*</span><span class="ident" id="1463652">stringStruct</span><span class="op" id="1463664">)</span><span class="op" id="1463665">(</span><span class="ident" id="1463666">a</span><span class="op" id="1463667">)</span><span class="op" id="1463668">.</span><span class="ident" id="1463669">str</span><span class="op" id="1463672">,</span>&nbsp;<span class="builtintype" id="1463674">uintptr</span><span class="op" id="1463681">(</span><span class="builtinfunc" id="1463682">len</span><span class="op" id="1463685">(</span><span class="op" id="1463686">*</span><span class="op" id="1463687">(</span><span class="op" id="1463688">*</span><span class="builtintype" id="1463689">string</span><span class="op" id="1463695">)</span><span class="op" id="1463696">(</span><span class="ident" id="1463697">a</span><span class="op" id="1463698">)</span><span class="op" id="1463699">)</span><span class="op" id="1463700">)</span><span class="op" id="1463701">,</span>&nbsp;<span class="ident" id="1463703">h</span><span class="op" id="1463704">)</span><br>
<span class="lineno"></span><span class="op" id="1463706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1463709">//&nbsp;NOTE:&nbsp;Because&nbsp;NaN&nbsp;!=&nbsp;NaN,&nbsp;a&nbsp;map&nbsp;can&nbsp;contain&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="1463760">//&nbsp;number&nbsp;of&nbsp;(mostly&nbsp;useless)&nbsp;entries&nbsp;keyed&nbsp;with&nbsp;NaNs.</span><br>
<span class="lineno">105</span><span class="comment" id="1463815">//&nbsp;To&nbsp;avoid&nbsp;long&nbsp;hash&nbsp;chains,&nbsp;we&nbsp;assign&nbsp;a&nbsp;random&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="1463871">//&nbsp;as&nbsp;the&nbsp;hash&nbsp;value&nbsp;for&nbsp;a&nbsp;NaN.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1463904">func</span>&nbsp;<span class="ident" id="1463909">f32hash</span><span class="op" id="1463916">(</span><span class="ident" id="1463917">p</span>&nbsp;<span class="ident" id="1463919">unsafe</span><span class="op" id="1463925">.</span><span class="ident" id="1463926">Pointer</span><span class="op" id="1463933">,</span>&nbsp;<span class="ident" id="1463935">s</span><span class="op" id="1463936">,</span>&nbsp;<span class="ident" id="1463938">h</span>&nbsp;<span class="builtintype" id="1463940">uintptr</span><span class="op" id="1463947">)</span>&nbsp;<span class="builtintype" id="1463949">uintptr</span>&nbsp;<span class="op" id="1463957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463960">f</span>&nbsp;<span class="op" id="1463962">:=</span>&nbsp;<span class="op" id="1463965">*</span><span class="op" id="1463966">(</span><span class="op" id="1463967">*</span><span class="builtintype" id="1463968">float32</span><span class="op" id="1463975">)</span><span class="op" id="1463976">(</span><span class="ident" id="1463977">p</span><span class="op" id="1463978">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1463981">switch</span>&nbsp;<span class="op" id="1463988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1463991">case</span>&nbsp;<span class="ident" id="1463996">f</span>&nbsp;<span class="op" id="1463998">==</span>&nbsp;<span class="num" id="1464001">0</span><span class="op" id="1464002">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464006">return</span>&nbsp;<span class="ident" id="1464013">c1</span>&nbsp;<span class="op" id="1464016">*</span>&nbsp;<span class="op" id="1464018">(</span><span class="ident" id="1464019">c0</span>&nbsp;<span class="op" id="1464022">^</span>&nbsp;<span class="ident" id="1464024">h</span><span class="op" id="1464025">)</span>&nbsp;<span class="comment" id="1464027">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464038">case</span>&nbsp;<span class="ident" id="1464043">f</span>&nbsp;<span class="op" id="1464045">!=</span>&nbsp;<span class="ident" id="1464048">f</span><span class="op" id="1464049">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464053">return</span>&nbsp;<span class="ident" id="1464060">c1</span>&nbsp;<span class="op" id="1464063">*</span>&nbsp;<span class="op" id="1464065">(</span><span class="ident" id="1464066">c0</span>&nbsp;<span class="op" id="1464069">^</span>&nbsp;<span class="ident" id="1464071">h</span>&nbsp;<span class="op" id="1464073">^</span>&nbsp;<span class="builtintype" id="1464075">uintptr</span><span class="op" id="1464082">(</span><span class="ident" id="1464083">fastrand1</span><span class="op" id="1464092">(</span><span class="op" id="1464093">)</span><span class="op" id="1464094">)</span><span class="op" id="1464095">)</span>&nbsp;<span class="comment" id="1464097">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464117">default</span><span class="op" id="1464124">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464128">return</span>&nbsp;<span class="ident" id="1464135">memhash</span><span class="op" id="1464142">(</span><span class="ident" id="1464143">p</span><span class="op" id="1464144">,</span>&nbsp;<span class="num" id="1464146">4</span><span class="op" id="1464147">,</span>&nbsp;<span class="ident" id="1464149">h</span><span class="op" id="1464150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1464153">}</span><br>
<span class="lineno"></span><span class="op" id="1464155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="1464158">func</span>&nbsp;<span class="ident" id="1464163">f64hash</span><span class="op" id="1464170">(</span><span class="ident" id="1464171">p</span>&nbsp;<span class="ident" id="1464173">unsafe</span><span class="op" id="1464179">.</span><span class="ident" id="1464180">Pointer</span><span class="op" id="1464187">,</span>&nbsp;<span class="ident" id="1464189">s</span><span class="op" id="1464190">,</span>&nbsp;<span class="ident" id="1464192">h</span>&nbsp;<span class="builtintype" id="1464194">uintptr</span><span class="op" id="1464201">)</span>&nbsp;<span class="builtintype" id="1464203">uintptr</span>&nbsp;<span class="op" id="1464211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464214">f</span>&nbsp;<span class="op" id="1464216">:=</span>&nbsp;<span class="op" id="1464219">*</span><span class="op" id="1464220">(</span><span class="op" id="1464221">*</span><span class="builtintype" id="1464222">float64</span><span class="op" id="1464229">)</span><span class="op" id="1464230">(</span><span class="ident" id="1464231">p</span><span class="op" id="1464232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464235">switch</span>&nbsp;<span class="op" id="1464242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464245">case</span>&nbsp;<span class="ident" id="1464250">f</span>&nbsp;<span class="op" id="1464252">==</span>&nbsp;<span class="num" id="1464255">0</span><span class="op" id="1464256">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464260">return</span>&nbsp;<span class="ident" id="1464267">c1</span>&nbsp;<span class="op" id="1464270">*</span>&nbsp;<span class="op" id="1464272">(</span><span class="ident" id="1464273">c0</span>&nbsp;<span class="op" id="1464276">^</span>&nbsp;<span class="ident" id="1464278">h</span><span class="op" id="1464279">)</span>&nbsp;<span class="comment" id="1464281">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464292">case</span>&nbsp;<span class="ident" id="1464297">f</span>&nbsp;<span class="op" id="1464299">!=</span>&nbsp;<span class="ident" id="1464302">f</span><span class="op" id="1464303">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464307">return</span>&nbsp;<span class="ident" id="1464314">c1</span>&nbsp;<span class="op" id="1464317">*</span>&nbsp;<span class="op" id="1464319">(</span><span class="ident" id="1464320">c0</span>&nbsp;<span class="op" id="1464323">^</span>&nbsp;<span class="ident" id="1464325">h</span>&nbsp;<span class="op" id="1464327">^</span>&nbsp;<span class="builtintype" id="1464329">uintptr</span><span class="op" id="1464336">(</span><span class="ident" id="1464337">fastrand1</span><span class="op" id="1464346">(</span><span class="op" id="1464347">)</span><span class="op" id="1464348">)</span><span class="op" id="1464349">)</span>&nbsp;<span class="comment" id="1464351">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464371">default</span><span class="op" id="1464378">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464382">return</span>&nbsp;<span class="ident" id="1464389">memhash</span><span class="op" id="1464396">(</span><span class="ident" id="1464397">p</span><span class="op" id="1464398">,</span>&nbsp;<span class="num" id="1464400">8</span><span class="op" id="1464401">,</span>&nbsp;<span class="ident" id="1464403">h</span><span class="op" id="1464404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1464407">}</span><br>
<span class="lineno">130</span><span class="op" id="1464409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1464412">func</span>&nbsp;<span class="ident" id="1464417">c64hash</span><span class="op" id="1464424">(</span><span class="ident" id="1464425">p</span>&nbsp;<span class="ident" id="1464427">unsafe</span><span class="op" id="1464433">.</span><span class="ident" id="1464434">Pointer</span><span class="op" id="1464441">,</span>&nbsp;<span class="ident" id="1464443">s</span><span class="op" id="1464444">,</span>&nbsp;<span class="ident" id="1464446">h</span>&nbsp;<span class="builtintype" id="1464448">uintptr</span><span class="op" id="1464455">)</span>&nbsp;<span class="builtintype" id="1464457">uintptr</span>&nbsp;<span class="op" id="1464465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464468">x</span>&nbsp;<span class="op" id="1464470">:=</span>&nbsp;<span class="op" id="1464473">(</span><span class="op" id="1464474">*</span><span class="op" id="1464475">[</span><span class="num" id="1464476">2</span><span class="op" id="1464477">]</span><span class="builtintype" id="1464478">float32</span><span class="op" id="1464485">)</span><span class="op" id="1464486">(</span><span class="ident" id="1464487">p</span><span class="op" id="1464488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464491">return</span>&nbsp;<span class="ident" id="1464498">f32hash</span><span class="op" id="1464505">(</span><span class="ident" id="1464506">unsafe</span><span class="op" id="1464512">.</span><span class="ident" id="1464513">Pointer</span><span class="op" id="1464520">(</span><span class="op" id="1464521">&amp;</span><span class="ident" id="1464522">x</span><span class="op" id="1464523">[</span><span class="num" id="1464524">1</span><span class="op" id="1464525">]</span><span class="op" id="1464526">)</span><span class="op" id="1464527">,</span>&nbsp;<span class="num" id="1464529">4</span><span class="op" id="1464530">,</span>&nbsp;<span class="ident" id="1464532">f32hash</span><span class="op" id="1464539">(</span><span class="ident" id="1464540">unsafe</span><span class="op" id="1464546">.</span><span class="ident" id="1464547">Pointer</span><span class="op" id="1464554">(</span><span class="op" id="1464555">&amp;</span><span class="ident" id="1464556">x</span><span class="op" id="1464557">[</span><span class="num" id="1464558">0</span><span class="op" id="1464559">]</span><span class="op" id="1464560">)</span><span class="op" id="1464561">,</span>&nbsp;<span class="num" id="1464563">4</span><span class="op" id="1464564">,</span>&nbsp;<span class="ident" id="1464566">h</span><span class="op" id="1464567">)</span><span class="op" id="1464568">)</span><br>
<span class="lineno">135</span><span class="op" id="1464570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1464573">func</span>&nbsp;<span class="ident" id="1464578">c128hash</span><span class="op" id="1464586">(</span><span class="ident" id="1464587">p</span>&nbsp;<span class="ident" id="1464589">unsafe</span><span class="op" id="1464595">.</span><span class="ident" id="1464596">Pointer</span><span class="op" id="1464603">,</span>&nbsp;<span class="ident" id="1464605">s</span><span class="op" id="1464606">,</span>&nbsp;<span class="ident" id="1464608">h</span>&nbsp;<span class="builtintype" id="1464610">uintptr</span><span class="op" id="1464617">)</span>&nbsp;<span class="builtintype" id="1464619">uintptr</span>&nbsp;<span class="op" id="1464627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464630">x</span>&nbsp;<span class="op" id="1464632">:=</span>&nbsp;<span class="op" id="1464635">(</span><span class="op" id="1464636">*</span><span class="op" id="1464637">[</span><span class="num" id="1464638">2</span><span class="op" id="1464639">]</span><span class="builtintype" id="1464640">float64</span><span class="op" id="1464647">)</span><span class="op" id="1464648">(</span><span class="ident" id="1464649">p</span><span class="op" id="1464650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464653">return</span>&nbsp;<span class="ident" id="1464660">f64hash</span><span class="op" id="1464667">(</span><span class="ident" id="1464668">unsafe</span><span class="op" id="1464674">.</span><span class="ident" id="1464675">Pointer</span><span class="op" id="1464682">(</span><span class="op" id="1464683">&amp;</span><span class="ident" id="1464684">x</span><span class="op" id="1464685">[</span><span class="num" id="1464686">1</span><span class="op" id="1464687">]</span><span class="op" id="1464688">)</span><span class="op" id="1464689">,</span>&nbsp;<span class="num" id="1464691">8</span><span class="op" id="1464692">,</span>&nbsp;<span class="ident" id="1464694">f64hash</span><span class="op" id="1464701">(</span><span class="ident" id="1464702">unsafe</span><span class="op" id="1464708">.</span><span class="ident" id="1464709">Pointer</span><span class="op" id="1464716">(</span><span class="op" id="1464717">&amp;</span><span class="ident" id="1464718">x</span><span class="op" id="1464719">[</span><span class="num" id="1464720">0</span><span class="op" id="1464721">]</span><span class="op" id="1464722">)</span><span class="op" id="1464723">,</span>&nbsp;<span class="num" id="1464725">8</span><span class="op" id="1464726">,</span>&nbsp;<span class="ident" id="1464728">h</span><span class="op" id="1464729">)</span><span class="op" id="1464730">)</span><br>
<span class="lineno">140</span><span class="op" id="1464732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1464735">func</span>&nbsp;<span class="ident" id="1464740">interhash</span><span class="op" id="1464749">(</span><span class="ident" id="1464750">p</span>&nbsp;<span class="ident" id="1464752">unsafe</span><span class="op" id="1464758">.</span><span class="ident" id="1464759">Pointer</span><span class="op" id="1464766">,</span>&nbsp;<span class="ident" id="1464768">s</span><span class="op" id="1464769">,</span>&nbsp;<span class="ident" id="1464771">h</span>&nbsp;<span class="builtintype" id="1464773">uintptr</span><span class="op" id="1464780">)</span>&nbsp;<span class="builtintype" id="1464782">uintptr</span>&nbsp;<span class="op" id="1464790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464793">a</span>&nbsp;<span class="op" id="1464795">:=</span>&nbsp;<span class="op" id="1464798">(</span><span class="op" id="1464799">*</span><span class="ident" id="1464800">iface</span><span class="op" id="1464805">)</span><span class="op" id="1464806">(</span><span class="ident" id="1464807">p</span><span class="op" id="1464808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464811">tab</span>&nbsp;<span class="op" id="1464815">:=</span>&nbsp;<span class="ident" id="1464818">a</span><span class="op" id="1464819">.</span><span class="ident" id="1464820">tab</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464825">if</span>&nbsp;<span class="ident" id="1464828">tab</span>&nbsp;<span class="op" id="1464832">==</span>&nbsp;<span class="ident" id="1464835">nil</span>&nbsp;<span class="op" id="1464839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464843">return</span>&nbsp;<span class="ident" id="1464850">h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1464853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464856">t</span>&nbsp;<span class="op" id="1464858">:=</span>&nbsp;<span class="ident" id="1464861">tab</span><span class="op" id="1464864">.</span><span class="ident" id="1464865">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464872">fn</span>&nbsp;<span class="op" id="1464875">:=</span>&nbsp;<span class="ident" id="1464878">goalg</span><span class="op" id="1464883">(</span><span class="ident" id="1464884">t</span><span class="op" id="1464885">.</span><span class="ident" id="1464886">alg</span><span class="op" id="1464889">)</span><span class="op" id="1464890">.</span><span class="ident" id="1464891">hash</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464897">if</span>&nbsp;<span class="ident" id="1464900">fn</span>&nbsp;<span class="op" id="1464903">==</span>&nbsp;<span class="ident" id="1464906">nil</span>&nbsp;<span class="op" id="1464910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1464914">panic</span><span class="op" id="1464919">(</span><span class="ident" id="1464920">errorString</span><span class="op" id="1464931">(</span><span class="string" id="1464932">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1464959">+</span>&nbsp;<span class="op" id="1464961">*</span><span class="ident" id="1464962">t</span><span class="op" id="1464963">.</span><span class="ident" id="1464964">_string</span><span class="op" id="1464971">)</span><span class="op" id="1464972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1464975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464978">if</span>&nbsp;<span class="ident" id="1464981">isDirectIface</span><span class="op" id="1464994">(</span><span class="ident" id="1464995">t</span><span class="op" id="1464996">)</span>&nbsp;<span class="op" id="1464998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465002">return</span>&nbsp;<span class="ident" id="1465009">c1</span>&nbsp;<span class="op" id="1465012">*</span>&nbsp;<span class="ident" id="1465014">fn</span><span class="op" id="1465016">(</span><span class="ident" id="1465017">unsafe</span><span class="op" id="1465023">.</span><span class="ident" id="1465024">Pointer</span><span class="op" id="1465031">(</span><span class="op" id="1465032">&amp;</span><span class="ident" id="1465033">a</span><span class="op" id="1465034">.</span><span class="ident" id="1465035">data</span><span class="op" id="1465039">)</span><span class="op" id="1465040">,</span>&nbsp;<span class="builtintype" id="1465042">uintptr</span><span class="op" id="1465049">(</span><span class="ident" id="1465050">t</span><span class="op" id="1465051">.</span><span class="ident" id="1465052">size</span><span class="op" id="1465056">)</span><span class="op" id="1465057">,</span>&nbsp;<span class="ident" id="1465059">h</span><span class="op" id="1465060">^</span><span class="ident" id="1465061">c0</span><span class="op" id="1465063">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465066">}</span>&nbsp;<span class="keyword" id="1465068">else</span>&nbsp;<span class="op" id="1465073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465077">return</span>&nbsp;<span class="ident" id="1465084">c1</span>&nbsp;<span class="op" id="1465087">*</span>&nbsp;<span class="ident" id="1465089">fn</span><span class="op" id="1465091">(</span><span class="ident" id="1465092">a</span><span class="op" id="1465093">.</span><span class="ident" id="1465094">data</span><span class="op" id="1465098">,</span>&nbsp;<span class="builtintype" id="1465100">uintptr</span><span class="op" id="1465107">(</span><span class="ident" id="1465108">t</span><span class="op" id="1465109">.</span><span class="ident" id="1465110">size</span><span class="op" id="1465114">)</span><span class="op" id="1465115">,</span>&nbsp;<span class="ident" id="1465117">h</span><span class="op" id="1465118">^</span><span class="ident" id="1465119">c0</span><span class="op" id="1465121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465124">}</span><br>
<span class="lineno"></span><span class="op" id="1465126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="1465129">func</span>&nbsp;<span class="ident" id="1465134">nilinterhash</span><span class="op" id="1465146">(</span><span class="ident" id="1465147">p</span>&nbsp;<span class="ident" id="1465149">unsafe</span><span class="op" id="1465155">.</span><span class="ident" id="1465156">Pointer</span><span class="op" id="1465163">,</span>&nbsp;<span class="ident" id="1465165">s</span><span class="op" id="1465166">,</span>&nbsp;<span class="ident" id="1465168">h</span>&nbsp;<span class="builtintype" id="1465170">uintptr</span><span class="op" id="1465177">)</span>&nbsp;<span class="builtintype" id="1465179">uintptr</span>&nbsp;<span class="op" id="1465187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465190">a</span>&nbsp;<span class="op" id="1465192">:=</span>&nbsp;<span class="op" id="1465195">(</span><span class="op" id="1465196">*</span><span class="ident" id="1465197">eface</span><span class="op" id="1465202">)</span><span class="op" id="1465203">(</span><span class="ident" id="1465204">p</span><span class="op" id="1465205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465208">t</span>&nbsp;<span class="op" id="1465210">:=</span>&nbsp;<span class="ident" id="1465213">a</span><span class="op" id="1465214">.</span><span class="ident" id="1465215">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465222">if</span>&nbsp;<span class="ident" id="1465225">t</span>&nbsp;<span class="op" id="1465227">==</span>&nbsp;<span class="ident" id="1465230">nil</span>&nbsp;<span class="op" id="1465234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465238">return</span>&nbsp;<span class="ident" id="1465245">h</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465251">fn</span>&nbsp;<span class="op" id="1465254">:=</span>&nbsp;<span class="ident" id="1465257">goalg</span><span class="op" id="1465262">(</span><span class="ident" id="1465263">t</span><span class="op" id="1465264">.</span><span class="ident" id="1465265">alg</span><span class="op" id="1465268">)</span><span class="op" id="1465269">.</span><span class="ident" id="1465270">hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465276">if</span>&nbsp;<span class="ident" id="1465279">fn</span>&nbsp;<span class="op" id="1465282">==</span>&nbsp;<span class="ident" id="1465285">nil</span>&nbsp;<span class="op" id="1465289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1465293">panic</span><span class="op" id="1465298">(</span><span class="ident" id="1465299">errorString</span><span class="op" id="1465310">(</span><span class="string" id="1465311">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1465338">+</span>&nbsp;<span class="op" id="1465340">*</span><span class="ident" id="1465341">t</span><span class="op" id="1465342">.</span><span class="ident" id="1465343">_string</span><span class="op" id="1465350">)</span><span class="op" id="1465351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465354">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465357">if</span>&nbsp;<span class="ident" id="1465360">isDirectIface</span><span class="op" id="1465373">(</span><span class="ident" id="1465374">t</span><span class="op" id="1465375">)</span>&nbsp;<span class="op" id="1465377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465381">return</span>&nbsp;<span class="ident" id="1465388">c1</span>&nbsp;<span class="op" id="1465391">*</span>&nbsp;<span class="ident" id="1465393">fn</span><span class="op" id="1465395">(</span><span class="ident" id="1465396">unsafe</span><span class="op" id="1465402">.</span><span class="ident" id="1465403">Pointer</span><span class="op" id="1465410">(</span><span class="op" id="1465411">&amp;</span><span class="ident" id="1465412">a</span><span class="op" id="1465413">.</span><span class="ident" id="1465414">data</span><span class="op" id="1465418">)</span><span class="op" id="1465419">,</span>&nbsp;<span class="builtintype" id="1465421">uintptr</span><span class="op" id="1465428">(</span><span class="ident" id="1465429">t</span><span class="op" id="1465430">.</span><span class="ident" id="1465431">size</span><span class="op" id="1465435">)</span><span class="op" id="1465436">,</span>&nbsp;<span class="ident" id="1465438">h</span><span class="op" id="1465439">^</span><span class="ident" id="1465440">c0</span><span class="op" id="1465442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465445">}</span>&nbsp;<span class="keyword" id="1465447">else</span>&nbsp;<span class="op" id="1465452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465456">return</span>&nbsp;<span class="ident" id="1465463">c1</span>&nbsp;<span class="op" id="1465466">*</span>&nbsp;<span class="ident" id="1465468">fn</span><span class="op" id="1465470">(</span><span class="ident" id="1465471">a</span><span class="op" id="1465472">.</span><span class="ident" id="1465473">data</span><span class="op" id="1465477">,</span>&nbsp;<span class="builtintype" id="1465479">uintptr</span><span class="op" id="1465486">(</span><span class="ident" id="1465487">t</span><span class="op" id="1465488">.</span><span class="ident" id="1465489">size</span><span class="op" id="1465493">)</span><span class="op" id="1465494">,</span>&nbsp;<span class="ident" id="1465496">h</span><span class="op" id="1465497">^</span><span class="ident" id="1465498">c0</span><span class="op" id="1465500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465503">}</span><br>
<span class="lineno">175</span><span class="op" id="1465505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1465508">func</span>&nbsp;<span class="ident" id="1465513">memequal</span><span class="op" id="1465521">(</span><span class="ident" id="1465522">p</span><span class="op" id="1465523">,</span>&nbsp;<span class="ident" id="1465525">q</span>&nbsp;<span class="ident" id="1465527">unsafe</span><span class="op" id="1465533">.</span><span class="ident" id="1465534">Pointer</span><span class="op" id="1465541">,</span>&nbsp;<span class="ident" id="1465543">size</span>&nbsp;<span class="builtintype" id="1465548">uintptr</span><span class="op" id="1465555">)</span>&nbsp;<span class="builtintype" id="1465557">bool</span>&nbsp;<span class="op" id="1465562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465565">if</span>&nbsp;<span class="ident" id="1465568">p</span>&nbsp;<span class="op" id="1465570">==</span>&nbsp;<span class="ident" id="1465573">q</span>&nbsp;<span class="op" id="1465575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465579">return</span>&nbsp;<span class="builtintype" id="1465586">true</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465595">return</span>&nbsp;<span class="ident" id="1465602">memeq</span><span class="op" id="1465607">(</span><span class="ident" id="1465608">p</span><span class="op" id="1465609">,</span>&nbsp;<span class="ident" id="1465611">q</span><span class="op" id="1465612">,</span>&nbsp;<span class="ident" id="1465614">size</span><span class="op" id="1465618">)</span><br>
<span class="lineno"></span><span class="op" id="1465620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1465623">func</span>&nbsp;<span class="ident" id="1465628">memequal0</span><span class="op" id="1465637">(</span><span class="ident" id="1465638">p</span><span class="op" id="1465639">,</span>&nbsp;<span class="ident" id="1465641">q</span>&nbsp;<span class="ident" id="1465643">unsafe</span><span class="op" id="1465649">.</span><span class="ident" id="1465650">Pointer</span><span class="op" id="1465657">,</span>&nbsp;<span class="ident" id="1465659">size</span>&nbsp;<span class="builtintype" id="1465664">uintptr</span><span class="op" id="1465671">)</span>&nbsp;<span class="builtintype" id="1465673">bool</span>&nbsp;<span class="op" id="1465678">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465681">return</span>&nbsp;<span class="builtintype" id="1465688">true</span><br>
<span class="lineno"></span><span class="op" id="1465693">}</span><br>
<span class="lineno"></span><span class="keyword" id="1465695">func</span>&nbsp;<span class="ident" id="1465700">memequal8</span><span class="op" id="1465709">(</span><span class="ident" id="1465710">p</span><span class="op" id="1465711">,</span>&nbsp;<span class="ident" id="1465713">q</span>&nbsp;<span class="ident" id="1465715">unsafe</span><span class="op" id="1465721">.</span><span class="ident" id="1465722">Pointer</span><span class="op" id="1465729">,</span>&nbsp;<span class="ident" id="1465731">size</span>&nbsp;<span class="builtintype" id="1465736">uintptr</span><span class="op" id="1465743">)</span>&nbsp;<span class="builtintype" id="1465745">bool</span>&nbsp;<span class="op" id="1465750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465753">return</span>&nbsp;<span class="op" id="1465760">*</span><span class="op" id="1465761">(</span><span class="op" id="1465762">*</span><span class="builtintype" id="1465763">int8</span><span class="op" id="1465767">)</span><span class="op" id="1465768">(</span><span class="ident" id="1465769">p</span><span class="op" id="1465770">)</span>&nbsp;<span class="op" id="1465772">==</span>&nbsp;<span class="op" id="1465775">*</span><span class="op" id="1465776">(</span><span class="op" id="1465777">*</span><span class="builtintype" id="1465778">int8</span><span class="op" id="1465782">)</span><span class="op" id="1465783">(</span><span class="ident" id="1465784">q</span><span class="op" id="1465785">)</span><br>
<span class="lineno"></span><span class="op" id="1465787">}</span><br>
<span class="lineno">190</span><span class="keyword" id="1465789">func</span>&nbsp;<span class="ident" id="1465794">memequal16</span><span class="op" id="1465804">(</span><span class="ident" id="1465805">p</span><span class="op" id="1465806">,</span>&nbsp;<span class="ident" id="1465808">q</span>&nbsp;<span class="ident" id="1465810">unsafe</span><span class="op" id="1465816">.</span><span class="ident" id="1465817">Pointer</span><span class="op" id="1465824">,</span>&nbsp;<span class="ident" id="1465826">size</span>&nbsp;<span class="builtintype" id="1465831">uintptr</span><span class="op" id="1465838">)</span>&nbsp;<span class="builtintype" id="1465840">bool</span>&nbsp;<span class="op" id="1465845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465848">return</span>&nbsp;<span class="op" id="1465855">*</span><span class="op" id="1465856">(</span><span class="op" id="1465857">*</span><span class="builtintype" id="1465858">int16</span><span class="op" id="1465863">)</span><span class="op" id="1465864">(</span><span class="ident" id="1465865">p</span><span class="op" id="1465866">)</span>&nbsp;<span class="op" id="1465868">==</span>&nbsp;<span class="op" id="1465871">*</span><span class="op" id="1465872">(</span><span class="op" id="1465873">*</span><span class="builtintype" id="1465874">int16</span><span class="op" id="1465879">)</span><span class="op" id="1465880">(</span><span class="ident" id="1465881">q</span><span class="op" id="1465882">)</span><br>
<span class="lineno"></span><span class="op" id="1465884">}</span><br>
<span class="lineno"></span><span class="keyword" id="1465886">func</span>&nbsp;<span class="ident" id="1465891">memequal32</span><span class="op" id="1465901">(</span><span class="ident" id="1465902">p</span><span class="op" id="1465903">,</span>&nbsp;<span class="ident" id="1465905">q</span>&nbsp;<span class="ident" id="1465907">unsafe</span><span class="op" id="1465913">.</span><span class="ident" id="1465914">Pointer</span><span class="op" id="1465921">,</span>&nbsp;<span class="ident" id="1465923">size</span>&nbsp;<span class="builtintype" id="1465928">uintptr</span><span class="op" id="1465935">)</span>&nbsp;<span class="builtintype" id="1465937">bool</span>&nbsp;<span class="op" id="1465942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465945">return</span>&nbsp;<span class="op" id="1465952">*</span><span class="op" id="1465953">(</span><span class="op" id="1465954">*</span><span class="builtintype" id="1465955">int32</span><span class="op" id="1465960">)</span><span class="op" id="1465961">(</span><span class="ident" id="1465962">p</span><span class="op" id="1465963">)</span>&nbsp;<span class="op" id="1465965">==</span>&nbsp;<span class="op" id="1465968">*</span><span class="op" id="1465969">(</span><span class="op" id="1465970">*</span><span class="builtintype" id="1465971">int32</span><span class="op" id="1465976">)</span><span class="op" id="1465977">(</span><span class="ident" id="1465978">q</span><span class="op" id="1465979">)</span><br>
<span class="lineno">195</span><span class="op" id="1465981">}</span><br>
<span class="lineno"></span><span class="keyword" id="1465983">func</span>&nbsp;<span class="ident" id="1465988">memequal64</span><span class="op" id="1465998">(</span><span class="ident" id="1465999">p</span><span class="op" id="1466000">,</span>&nbsp;<span class="ident" id="1466002">q</span>&nbsp;<span class="ident" id="1466004">unsafe</span><span class="op" id="1466010">.</span><span class="ident" id="1466011">Pointer</span><span class="op" id="1466018">,</span>&nbsp;<span class="ident" id="1466020">size</span>&nbsp;<span class="builtintype" id="1466025">uintptr</span><span class="op" id="1466032">)</span>&nbsp;<span class="builtintype" id="1466034">bool</span>&nbsp;<span class="op" id="1466039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466042">return</span>&nbsp;<span class="op" id="1466049">*</span><span class="op" id="1466050">(</span><span class="op" id="1466051">*</span><span class="ident" id="1466052">int64</span><span class="op" id="1466057">)</span><span class="op" id="1466058">(</span><span class="ident" id="1466059">p</span><span class="op" id="1466060">)</span>&nbsp;<span class="op" id="1466062">==</span>&nbsp;<span class="op" id="1466065">*</span><span class="op" id="1466066">(</span><span class="op" id="1466067">*</span><span class="ident" id="1466068">int64</span><span class="op" id="1466073">)</span><span class="op" id="1466074">(</span><span class="ident" id="1466075">q</span><span class="op" id="1466076">)</span><br>
<span class="lineno"></span><span class="op" id="1466078">}</span><br>
<span class="lineno"></span><span class="keyword" id="1466080">func</span>&nbsp;<span class="ident" id="1466085">memequal128</span><span class="op" id="1466096">(</span><span class="ident" id="1466097">p</span><span class="op" id="1466098">,</span>&nbsp;<span class="ident" id="1466100">q</span>&nbsp;<span class="ident" id="1466102">unsafe</span><span class="op" id="1466108">.</span><span class="ident" id="1466109">Pointer</span><span class="op" id="1466116">,</span>&nbsp;<span class="ident" id="1466118">size</span>&nbsp;<span class="builtintype" id="1466123">uintptr</span><span class="op" id="1466130">)</span>&nbsp;<span class="builtintype" id="1466132">bool</span>&nbsp;<span class="op" id="1466137">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466140">return</span>&nbsp;<span class="op" id="1466147">*</span><span class="op" id="1466148">(</span><span class="op" id="1466149">*</span><span class="op" id="1466150">[</span><span class="num" id="1466151">2</span><span class="op" id="1466152">]</span><span class="ident" id="1466153">int64</span><span class="op" id="1466158">)</span><span class="op" id="1466159">(</span><span class="ident" id="1466160">p</span><span class="op" id="1466161">)</span>&nbsp;<span class="op" id="1466163">==</span>&nbsp;<span class="op" id="1466166">*</span><span class="op" id="1466167">(</span><span class="op" id="1466168">*</span><span class="op" id="1466169">[</span><span class="num" id="1466170">2</span><span class="op" id="1466171">]</span><span class="ident" id="1466172">int64</span><span class="op" id="1466177">)</span><span class="op" id="1466178">(</span><span class="ident" id="1466179">q</span><span class="op" id="1466180">)</span><br>
<span class="lineno"></span><span class="op" id="1466182">}</span><br>
<span class="lineno"></span><span class="keyword" id="1466184">func</span>&nbsp;<span class="ident" id="1466189">f32equal</span><span class="op" id="1466197">(</span><span class="ident" id="1466198">p</span><span class="op" id="1466199">,</span>&nbsp;<span class="ident" id="1466201">q</span>&nbsp;<span class="ident" id="1466203">unsafe</span><span class="op" id="1466209">.</span><span class="ident" id="1466210">Pointer</span><span class="op" id="1466217">,</span>&nbsp;<span class="ident" id="1466219">size</span>&nbsp;<span class="builtintype" id="1466224">uintptr</span><span class="op" id="1466231">)</span>&nbsp;<span class="builtintype" id="1466233">bool</span>&nbsp;<span class="op" id="1466238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466241">return</span>&nbsp;<span class="op" id="1466248">*</span><span class="op" id="1466249">(</span><span class="op" id="1466250">*</span><span class="builtintype" id="1466251">float32</span><span class="op" id="1466258">)</span><span class="op" id="1466259">(</span><span class="ident" id="1466260">p</span><span class="op" id="1466261">)</span>&nbsp;<span class="op" id="1466263">==</span>&nbsp;<span class="op" id="1466266">*</span><span class="op" id="1466267">(</span><span class="op" id="1466268">*</span><span class="builtintype" id="1466269">float32</span><span class="op" id="1466276">)</span><span class="op" id="1466277">(</span><span class="ident" id="1466278">q</span><span class="op" id="1466279">)</span><br>
<span class="lineno"></span><span class="op" id="1466281">}</span><br>
<span class="lineno">205</span><span class="keyword" id="1466283">func</span>&nbsp;<span class="ident" id="1466288">f64equal</span><span class="op" id="1466296">(</span><span class="ident" id="1466297">p</span><span class="op" id="1466298">,</span>&nbsp;<span class="ident" id="1466300">q</span>&nbsp;<span class="ident" id="1466302">unsafe</span><span class="op" id="1466308">.</span><span class="ident" id="1466309">Pointer</span><span class="op" id="1466316">,</span>&nbsp;<span class="ident" id="1466318">size</span>&nbsp;<span class="builtintype" id="1466323">uintptr</span><span class="op" id="1466330">)</span>&nbsp;<span class="builtintype" id="1466332">bool</span>&nbsp;<span class="op" id="1466337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466340">return</span>&nbsp;<span class="op" id="1466347">*</span><span class="op" id="1466348">(</span><span class="op" id="1466349">*</span><span class="builtintype" id="1466350">float64</span><span class="op" id="1466357">)</span><span class="op" id="1466358">(</span><span class="ident" id="1466359">p</span><span class="op" id="1466360">)</span>&nbsp;<span class="op" id="1466362">==</span>&nbsp;<span class="op" id="1466365">*</span><span class="op" id="1466366">(</span><span class="op" id="1466367">*</span><span class="builtintype" id="1466368">float64</span><span class="op" id="1466375">)</span><span class="op" id="1466376">(</span><span class="ident" id="1466377">q</span><span class="op" id="1466378">)</span><br>
<span class="lineno"></span><span class="op" id="1466380">}</span><br>
<span class="lineno"></span><span class="keyword" id="1466382">func</span>&nbsp;<span class="ident" id="1466387">c64equal</span><span class="op" id="1466395">(</span><span class="ident" id="1466396">p</span><span class="op" id="1466397">,</span>&nbsp;<span class="ident" id="1466399">q</span>&nbsp;<span class="ident" id="1466401">unsafe</span><span class="op" id="1466407">.</span><span class="ident" id="1466408">Pointer</span><span class="op" id="1466415">,</span>&nbsp;<span class="ident" id="1466417">size</span>&nbsp;<span class="builtintype" id="1466422">uintptr</span><span class="op" id="1466429">)</span>&nbsp;<span class="builtintype" id="1466431">bool</span>&nbsp;<span class="op" id="1466436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466439">return</span>&nbsp;<span class="op" id="1466446">*</span><span class="op" id="1466447">(</span><span class="op" id="1466448">*</span><span class="builtintype" id="1466449">complex64</span><span class="op" id="1466458">)</span><span class="op" id="1466459">(</span><span class="ident" id="1466460">p</span><span class="op" id="1466461">)</span>&nbsp;<span class="op" id="1466463">==</span>&nbsp;<span class="op" id="1466466">*</span><span class="op" id="1466467">(</span><span class="op" id="1466468">*</span><span class="builtintype" id="1466469">complex64</span><span class="op" id="1466478">)</span><span class="op" id="1466479">(</span><span class="ident" id="1466480">q</span><span class="op" id="1466481">)</span><br>
<span class="lineno">210</span><span class="op" id="1466483">}</span><br>
<span class="lineno"></span><span class="keyword" id="1466485">func</span>&nbsp;<span class="ident" id="1466490">c128equal</span><span class="op" id="1466499">(</span><span class="ident" id="1466500">p</span><span class="op" id="1466501">,</span>&nbsp;<span class="ident" id="1466503">q</span>&nbsp;<span class="ident" id="1466505">unsafe</span><span class="op" id="1466511">.</span><span class="ident" id="1466512">Pointer</span><span class="op" id="1466519">,</span>&nbsp;<span class="ident" id="1466521">size</span>&nbsp;<span class="builtintype" id="1466526">uintptr</span><span class="op" id="1466533">)</span>&nbsp;<span class="builtintype" id="1466535">bool</span>&nbsp;<span class="op" id="1466540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466543">return</span>&nbsp;<span class="op" id="1466550">*</span><span class="op" id="1466551">(</span><span class="op" id="1466552">*</span><span class="builtintype" id="1466553">complex128</span><span class="op" id="1466563">)</span><span class="op" id="1466564">(</span><span class="ident" id="1466565">p</span><span class="op" id="1466566">)</span>&nbsp;<span class="op" id="1466568">==</span>&nbsp;<span class="op" id="1466571">*</span><span class="op" id="1466572">(</span><span class="op" id="1466573">*</span><span class="builtintype" id="1466574">complex128</span><span class="op" id="1466584">)</span><span class="op" id="1466585">(</span><span class="ident" id="1466586">q</span><span class="op" id="1466587">)</span><br>
<span class="lineno"></span><span class="op" id="1466589">}</span><br>
<span class="lineno"></span><span class="keyword" id="1466591">func</span>&nbsp;<span class="ident" id="1466596">strequal</span><span class="op" id="1466604">(</span><span class="ident" id="1466605">p</span><span class="op" id="1466606">,</span>&nbsp;<span class="ident" id="1466608">q</span>&nbsp;<span class="ident" id="1466610">unsafe</span><span class="op" id="1466616">.</span><span class="ident" id="1466617">Pointer</span><span class="op" id="1466624">,</span>&nbsp;<span class="ident" id="1466626">size</span>&nbsp;<span class="builtintype" id="1466631">uintptr</span><span class="op" id="1466638">)</span>&nbsp;<span class="builtintype" id="1466640">bool</span>&nbsp;<span class="op" id="1466645">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466648">return</span>&nbsp;<span class="op" id="1466655">*</span><span class="op" id="1466656">(</span><span class="op" id="1466657">*</span><span class="builtintype" id="1466658">string</span><span class="op" id="1466664">)</span><span class="op" id="1466665">(</span><span class="ident" id="1466666">p</span><span class="op" id="1466667">)</span>&nbsp;<span class="op" id="1466669">==</span>&nbsp;<span class="op" id="1466672">*</span><span class="op" id="1466673">(</span><span class="op" id="1466674">*</span><span class="builtintype" id="1466675">string</span><span class="op" id="1466681">)</span><span class="op" id="1466682">(</span><span class="ident" id="1466683">q</span><span class="op" id="1466684">)</span><br>
<span class="lineno"></span><span class="op" id="1466686">}</span><br>
<span class="lineno"></span><span class="keyword" id="1466688">func</span>&nbsp;<span class="ident" id="1466693">interequal</span><span class="op" id="1466703">(</span><span class="ident" id="1466704">p</span><span class="op" id="1466705">,</span>&nbsp;<span class="ident" id="1466707">q</span>&nbsp;<span class="ident" id="1466709">unsafe</span><span class="op" id="1466715">.</span><span class="ident" id="1466716">Pointer</span><span class="op" id="1466723">,</span>&nbsp;<span class="ident" id="1466725">size</span>&nbsp;<span class="builtintype" id="1466730">uintptr</span><span class="op" id="1466737">)</span>&nbsp;<span class="builtintype" id="1466739">bool</span>&nbsp;<span class="op" id="1466744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466747">return</span>&nbsp;<span class="ident" id="1466754">ifaceeq</span><span class="op" id="1466761">(</span><span class="op" id="1466762">*</span><span class="op" id="1466763">(</span><span class="op" id="1466764">*</span><span class="keyword" id="1466765">interface</span>&nbsp;<span class="op" id="1466775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466779">f</span><span class="op" id="1466780">(</span><span class="op" id="1466781">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1466784">}</span><span class="op" id="1466785">)</span><span class="op" id="1466786">(</span><span class="ident" id="1466787">p</span><span class="op" id="1466788">)</span><span class="op" id="1466789">,</span>&nbsp;<span class="op" id="1466791">*</span><span class="op" id="1466792">(</span><span class="op" id="1466793">*</span><span class="keyword" id="1466794">interface</span>&nbsp;<span class="op" id="1466804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466808">f</span><span class="op" id="1466809">(</span><span class="op" id="1466810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1466813">}</span><span class="op" id="1466814">)</span><span class="op" id="1466815">(</span><span class="ident" id="1466816">q</span><span class="op" id="1466817">)</span><span class="op" id="1466818">)</span><br>
<span class="lineno"></span><span class="op" id="1466820">}</span><br>
<span class="lineno"></span><span class="keyword" id="1466822">func</span>&nbsp;<span class="ident" id="1466827">nilinterequal</span><span class="op" id="1466840">(</span><span class="ident" id="1466841">p</span><span class="op" id="1466842">,</span>&nbsp;<span class="ident" id="1466844">q</span>&nbsp;<span class="ident" id="1466846">unsafe</span><span class="op" id="1466852">.</span><span class="ident" id="1466853">Pointer</span><span class="op" id="1466860">,</span>&nbsp;<span class="ident" id="1466862">size</span>&nbsp;<span class="builtintype" id="1466867">uintptr</span><span class="op" id="1466874">)</span>&nbsp;<span class="builtintype" id="1466876">bool</span>&nbsp;<span class="op" id="1466881">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466884">return</span>&nbsp;<span class="ident" id="1466891">efaceeq</span><span class="op" id="1466898">(</span><span class="op" id="1466899">*</span><span class="op" id="1466900">(</span><span class="op" id="1466901">*</span><span class="keyword" id="1466902">interface</span><span class="op" id="1466911">{</span><span class="op" id="1466912">}</span><span class="op" id="1466913">)</span><span class="op" id="1466914">(</span><span class="ident" id="1466915">p</span><span class="op" id="1466916">)</span><span class="op" id="1466917">,</span>&nbsp;<span class="op" id="1466919">*</span><span class="op" id="1466920">(</span><span class="op" id="1466921">*</span><span class="keyword" id="1466922">interface</span><span class="op" id="1466931">{</span><span class="op" id="1466932">}</span><span class="op" id="1466933">)</span><span class="op" id="1466934">(</span><span class="ident" id="1466935">q</span><span class="op" id="1466936">)</span><span class="op" id="1466937">)</span><br>
<span class="lineno"></span><span class="op" id="1466939">}</span><br>
<span class="lineno"></span><span class="keyword" id="1466941">func</span>&nbsp;<span class="ident" id="1466946">efaceeq</span><span class="op" id="1466953">(</span><span class="ident" id="1466954">p</span><span class="op" id="1466955">,</span>&nbsp;<span class="ident" id="1466957">q</span>&nbsp;<span class="keyword" id="1466959">interface</span><span class="op" id="1466968">{</span><span class="op" id="1466969">}</span><span class="op" id="1466970">)</span>&nbsp;<span class="builtintype" id="1466972">bool</span>&nbsp;<span class="op" id="1466977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466980">x</span>&nbsp;<span class="op" id="1466982">:=</span>&nbsp;<span class="op" id="1466985">(</span><span class="op" id="1466986">*</span><span class="ident" id="1466987">eface</span><span class="op" id="1466992">)</span><span class="op" id="1466993">(</span><span class="ident" id="1466994">unsafe</span><span class="op" id="1467000">.</span><span class="ident" id="1467001">Pointer</span><span class="op" id="1467008">(</span><span class="op" id="1467009">&amp;</span><span class="ident" id="1467010">p</span><span class="op" id="1467011">)</span><span class="op" id="1467012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467015">y</span>&nbsp;<span class="op" id="1467017">:=</span>&nbsp;<span class="op" id="1467020">(</span><span class="op" id="1467021">*</span><span class="ident" id="1467022">eface</span><span class="op" id="1467027">)</span><span class="op" id="1467028">(</span><span class="ident" id="1467029">unsafe</span><span class="op" id="1467035">.</span><span class="ident" id="1467036">Pointer</span><span class="op" id="1467043">(</span><span class="op" id="1467044">&amp;</span><span class="ident" id="1467045">q</span><span class="op" id="1467046">)</span><span class="op" id="1467047">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467050">t</span>&nbsp;<span class="op" id="1467052">:=</span>&nbsp;<span class="ident" id="1467055">x</span><span class="op" id="1467056">.</span><span class="ident" id="1467057">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467064">if</span>&nbsp;<span class="ident" id="1467067">t</span>&nbsp;<span class="op" id="1467069">!=</span>&nbsp;<span class="ident" id="1467072">y</span><span class="op" id="1467073">.</span><span class="ident" id="1467074">_type</span>&nbsp;<span class="op" id="1467080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467084">return</span>&nbsp;<span class="builtintype" id="1467091">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467101">if</span>&nbsp;<span class="ident" id="1467104">t</span>&nbsp;<span class="op" id="1467106">==</span>&nbsp;<span class="ident" id="1467109">nil</span>&nbsp;<span class="op" id="1467113">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467117">return</span>&nbsp;<span class="builtintype" id="1467124">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467133">eq</span>&nbsp;<span class="op" id="1467136">:=</span>&nbsp;<span class="ident" id="1467139">goalg</span><span class="op" id="1467144">(</span><span class="ident" id="1467145">t</span><span class="op" id="1467146">.</span><span class="ident" id="1467147">alg</span><span class="op" id="1467150">)</span><span class="op" id="1467151">.</span><span class="ident" id="1467152">equal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467159">if</span>&nbsp;<span class="ident" id="1467162">eq</span>&nbsp;<span class="op" id="1467165">==</span>&nbsp;<span class="ident" id="1467168">nil</span>&nbsp;<span class="op" id="1467172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1467176">panic</span><span class="op" id="1467181">(</span><span class="ident" id="1467182">errorString</span><span class="op" id="1467193">(</span><span class="string" id="1467194">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1467225">+</span>&nbsp;<span class="op" id="1467227">*</span><span class="ident" id="1467228">t</span><span class="op" id="1467229">.</span><span class="ident" id="1467230">_string</span><span class="op" id="1467237">)</span><span class="op" id="1467238">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467244">if</span>&nbsp;<span class="ident" id="1467247">isDirectIface</span><span class="op" id="1467260">(</span><span class="ident" id="1467261">t</span><span class="op" id="1467262">)</span>&nbsp;<span class="op" id="1467264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467268">return</span>&nbsp;<span class="ident" id="1467275">eq</span><span class="op" id="1467277">(</span><span class="ident" id="1467278">noescape</span><span class="op" id="1467286">(</span><span class="ident" id="1467287">unsafe</span><span class="op" id="1467293">.</span><span class="ident" id="1467294">Pointer</span><span class="op" id="1467301">(</span><span class="op" id="1467302">&amp;</span><span class="ident" id="1467303">x</span><span class="op" id="1467304">.</span><span class="ident" id="1467305">data</span><span class="op" id="1467309">)</span><span class="op" id="1467310">)</span><span class="op" id="1467311">,</span>&nbsp;<span class="ident" id="1467313">noescape</span><span class="op" id="1467321">(</span><span class="ident" id="1467322">unsafe</span><span class="op" id="1467328">.</span><span class="ident" id="1467329">Pointer</span><span class="op" id="1467336">(</span><span class="op" id="1467337">&amp;</span><span class="ident" id="1467338">y</span><span class="op" id="1467339">.</span><span class="ident" id="1467340">data</span><span class="op" id="1467344">)</span><span class="op" id="1467345">)</span><span class="op" id="1467346">,</span>&nbsp;<span class="builtintype" id="1467348">uintptr</span><span class="op" id="1467355">(</span><span class="ident" id="1467356">t</span><span class="op" id="1467357">.</span><span class="ident" id="1467358">size</span><span class="op" id="1467362">)</span><span class="op" id="1467363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467369">return</span>&nbsp;<span class="ident" id="1467376">eq</span><span class="op" id="1467378">(</span><span class="ident" id="1467379">x</span><span class="op" id="1467380">.</span><span class="ident" id="1467381">data</span><span class="op" id="1467385">,</span>&nbsp;<span class="ident" id="1467387">y</span><span class="op" id="1467388">.</span><span class="ident" id="1467389">data</span><span class="op" id="1467393">,</span>&nbsp;<span class="builtintype" id="1467395">uintptr</span><span class="op" id="1467402">(</span><span class="ident" id="1467403">t</span><span class="op" id="1467404">.</span><span class="ident" id="1467405">size</span><span class="op" id="1467409">)</span><span class="op" id="1467410">)</span><br>
<span class="lineno">245</span><span class="op" id="1467412">}</span><br>
<span class="lineno"></span><span class="keyword" id="1467414">func</span>&nbsp;<span class="ident" id="1467419">ifaceeq</span><span class="op" id="1467426">(</span><span class="ident" id="1467427">p</span><span class="op" id="1467428">,</span>&nbsp;<span class="ident" id="1467430">q</span>&nbsp;<span class="keyword" id="1467432">interface</span>&nbsp;<span class="op" id="1467442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467445">f</span><span class="op" id="1467446">(</span><span class="op" id="1467447">)</span><br>
<span class="lineno"></span><span class="op" id="1467449">}</span><span class="op" id="1467450">)</span>&nbsp;<span class="builtintype" id="1467452">bool</span>&nbsp;<span class="op" id="1467457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467460">x</span>&nbsp;<span class="op" id="1467462">:=</span>&nbsp;<span class="op" id="1467465">(</span><span class="op" id="1467466">*</span><span class="ident" id="1467467">iface</span><span class="op" id="1467472">)</span><span class="op" id="1467473">(</span><span class="ident" id="1467474">unsafe</span><span class="op" id="1467480">.</span><span class="ident" id="1467481">Pointer</span><span class="op" id="1467488">(</span><span class="op" id="1467489">&amp;</span><span class="ident" id="1467490">p</span><span class="op" id="1467491">)</span><span class="op" id="1467492">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467495">y</span>&nbsp;<span class="op" id="1467497">:=</span>&nbsp;<span class="op" id="1467500">(</span><span class="op" id="1467501">*</span><span class="ident" id="1467502">iface</span><span class="op" id="1467507">)</span><span class="op" id="1467508">(</span><span class="ident" id="1467509">unsafe</span><span class="op" id="1467515">.</span><span class="ident" id="1467516">Pointer</span><span class="op" id="1467523">(</span><span class="op" id="1467524">&amp;</span><span class="ident" id="1467525">q</span><span class="op" id="1467526">)</span><span class="op" id="1467527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467530">xtab</span>&nbsp;<span class="op" id="1467535">:=</span>&nbsp;<span class="ident" id="1467538">x</span><span class="op" id="1467539">.</span><span class="ident" id="1467540">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467545">if</span>&nbsp;<span class="ident" id="1467548">xtab</span>&nbsp;<span class="op" id="1467553">!=</span>&nbsp;<span class="ident" id="1467556">y</span><span class="op" id="1467557">.</span><span class="ident" id="1467558">tab</span>&nbsp;<span class="op" id="1467562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467566">return</span>&nbsp;<span class="builtintype" id="1467573">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467580">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467583">if</span>&nbsp;<span class="ident" id="1467586">xtab</span>&nbsp;<span class="op" id="1467591">==</span>&nbsp;<span class="ident" id="1467594">nil</span>&nbsp;<span class="op" id="1467598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467602">return</span>&nbsp;<span class="builtintype" id="1467609">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467618">t</span>&nbsp;<span class="op" id="1467620">:=</span>&nbsp;<span class="ident" id="1467623">xtab</span><span class="op" id="1467627">.</span><span class="ident" id="1467628">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467635">eq</span>&nbsp;<span class="op" id="1467638">:=</span>&nbsp;<span class="ident" id="1467641">goalg</span><span class="op" id="1467646">(</span><span class="ident" id="1467647">t</span><span class="op" id="1467648">.</span><span class="ident" id="1467649">alg</span><span class="op" id="1467652">)</span><span class="op" id="1467653">.</span><span class="ident" id="1467654">equal</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467661">if</span>&nbsp;<span class="ident" id="1467664">eq</span>&nbsp;<span class="op" id="1467667">==</span>&nbsp;<span class="ident" id="1467670">nil</span>&nbsp;<span class="op" id="1467674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1467678">panic</span><span class="op" id="1467683">(</span><span class="ident" id="1467684">errorString</span><span class="op" id="1467695">(</span><span class="string" id="1467696">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1467727">+</span>&nbsp;<span class="op" id="1467729">*</span><span class="ident" id="1467730">t</span><span class="op" id="1467731">.</span><span class="ident" id="1467732">_string</span><span class="op" id="1467739">)</span><span class="op" id="1467740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467746">if</span>&nbsp;<span class="ident" id="1467749">isDirectIface</span><span class="op" id="1467762">(</span><span class="ident" id="1467763">t</span><span class="op" id="1467764">)</span>&nbsp;<span class="op" id="1467766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467770">return</span>&nbsp;<span class="ident" id="1467777">eq</span><span class="op" id="1467779">(</span><span class="ident" id="1467780">noescape</span><span class="op" id="1467788">(</span><span class="ident" id="1467789">unsafe</span><span class="op" id="1467795">.</span><span class="ident" id="1467796">Pointer</span><span class="op" id="1467803">(</span><span class="op" id="1467804">&amp;</span><span class="ident" id="1467805">x</span><span class="op" id="1467806">.</span><span class="ident" id="1467807">data</span><span class="op" id="1467811">)</span><span class="op" id="1467812">)</span><span class="op" id="1467813">,</span>&nbsp;<span class="ident" id="1467815">noescape</span><span class="op" id="1467823">(</span><span class="ident" id="1467824">unsafe</span><span class="op" id="1467830">.</span><span class="ident" id="1467831">Pointer</span><span class="op" id="1467838">(</span><span class="op" id="1467839">&amp;</span><span class="ident" id="1467840">y</span><span class="op" id="1467841">.</span><span class="ident" id="1467842">data</span><span class="op" id="1467846">)</span><span class="op" id="1467847">)</span><span class="op" id="1467848">,</span>&nbsp;<span class="builtintype" id="1467850">uintptr</span><span class="op" id="1467857">(</span><span class="ident" id="1467858">t</span><span class="op" id="1467859">.</span><span class="ident" id="1467860">size</span><span class="op" id="1467864">)</span><span class="op" id="1467865">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467871">return</span>&nbsp;<span class="ident" id="1467878">eq</span><span class="op" id="1467880">(</span><span class="ident" id="1467881">x</span><span class="op" id="1467882">.</span><span class="ident" id="1467883">data</span><span class="op" id="1467887">,</span>&nbsp;<span class="ident" id="1467889">y</span><span class="op" id="1467890">.</span><span class="ident" id="1467891">data</span><span class="op" id="1467895">,</span>&nbsp;<span class="builtintype" id="1467897">uintptr</span><span class="op" id="1467904">(</span><span class="ident" id="1467905">t</span><span class="op" id="1467906">.</span><span class="ident" id="1467907">size</span><span class="op" id="1467911">)</span><span class="op" id="1467912">)</span><br>
<span class="lineno"></span><span class="op" id="1467914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1467917">//&nbsp;Testing&nbsp;adapters&nbsp;for&nbsp;hash&nbsp;quality&nbsp;tests&nbsp;(see&nbsp;hash_test.go)</span><br>
<span class="lineno">270</span><span class="keyword" id="1467979">func</span>&nbsp;<span class="ident" id="1467984">haveGoodHash</span><span class="op" id="1467996">(</span><span class="op" id="1467997">)</span>&nbsp;<span class="builtintype" id="1467999">bool</span>&nbsp;<span class="op" id="1468004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468007">return</span>&nbsp;<span class="ident" id="1468014">useAeshash</span><br>
<span class="lineno"></span><span class="op" id="1468025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1468028">func</span>&nbsp;<span class="ident" id="1468033">stringHash</span><span class="op" id="1468043">(</span><span class="ident" id="1468044">s</span>&nbsp;<span class="builtintype" id="1468046">string</span><span class="op" id="1468052">,</span>&nbsp;<span class="ident" id="1468054">seed</span>&nbsp;<span class="builtintype" id="1468059">uintptr</span><span class="op" id="1468066">)</span>&nbsp;<span class="builtintype" id="1468068">uintptr</span>&nbsp;<span class="op" id="1468076">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468079">return</span>&nbsp;<span class="ident" id="1468086">algarray</span><span class="op" id="1468094">[</span><span class="ident" id="1468095">alg_STRING</span><span class="op" id="1468105">]</span><span class="op" id="1468106">.</span><span class="ident" id="1468107">hash</span><span class="op" id="1468111">(</span><span class="ident" id="1468112">noescape</span><span class="op" id="1468120">(</span><span class="ident" id="1468121">unsafe</span><span class="op" id="1468127">.</span><span class="ident" id="1468128">Pointer</span><span class="op" id="1468135">(</span><span class="op" id="1468136">&amp;</span><span class="ident" id="1468137">s</span><span class="op" id="1468138">)</span><span class="op" id="1468139">)</span><span class="op" id="1468140">,</span>&nbsp;<span class="ident" id="1468142">unsafe</span><span class="op" id="1468148">.</span><span class="ident" id="1468149">Sizeof</span><span class="op" id="1468155">(</span><span class="ident" id="1468156">s</span><span class="op" id="1468157">)</span><span class="op" id="1468158">,</span>&nbsp;<span class="ident" id="1468160">seed</span><span class="op" id="1468164">)</span><br>
<span class="lineno"></span><span class="op" id="1468166">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1468169">func</span>&nbsp;<span class="ident" id="1468174">bytesHash</span><span class="op" id="1468183">(</span><span class="ident" id="1468184">b</span>&nbsp;<span class="op" id="1468186">[</span><span class="op" id="1468187">]</span><span class="builtintype" id="1468188">byte</span><span class="op" id="1468192">,</span>&nbsp;<span class="ident" id="1468194">seed</span>&nbsp;<span class="builtintype" id="1468199">uintptr</span><span class="op" id="1468206">)</span>&nbsp;<span class="builtintype" id="1468208">uintptr</span>&nbsp;<span class="op" id="1468216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468219">s</span>&nbsp;<span class="op" id="1468221">:=</span>&nbsp;<span class="op" id="1468224">(</span><span class="op" id="1468225">*</span><span class="ident" id="1468226">sliceStruct</span><span class="op" id="1468237">)</span><span class="op" id="1468238">(</span><span class="ident" id="1468239">unsafe</span><span class="op" id="1468245">.</span><span class="ident" id="1468246">Pointer</span><span class="op" id="1468253">(</span><span class="op" id="1468254">&amp;</span><span class="ident" id="1468255">b</span><span class="op" id="1468256">)</span><span class="op" id="1468257">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468260">return</span>&nbsp;<span class="ident" id="1468267">algarray</span><span class="op" id="1468275">[</span><span class="ident" id="1468276">alg_MEM</span><span class="op" id="1468283">]</span><span class="op" id="1468284">.</span><span class="ident" id="1468285">hash</span><span class="op" id="1468289">(</span><span class="ident" id="1468290">s</span><span class="op" id="1468291">.</span><span class="ident" id="1468292">array</span><span class="op" id="1468297">,</span>&nbsp;<span class="builtintype" id="1468299">uintptr</span><span class="op" id="1468306">(</span><span class="ident" id="1468307">s</span><span class="op" id="1468308">.</span><span class="builtinfunc" id="1468309">len</span><span class="op" id="1468312">)</span><span class="op" id="1468313">,</span>&nbsp;<span class="ident" id="1468315">seed</span><span class="op" id="1468319">)</span><br>
<span class="lineno"></span><span class="op" id="1468321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1468324">func</span>&nbsp;<span class="ident" id="1468329">int32Hash</span><span class="op" id="1468338">(</span><span class="ident" id="1468339">i</span>&nbsp;<span class="builtintype" id="1468341">uint32</span><span class="op" id="1468347">,</span>&nbsp;<span class="ident" id="1468349">seed</span>&nbsp;<span class="builtintype" id="1468354">uintptr</span><span class="op" id="1468361">)</span>&nbsp;<span class="builtintype" id="1468363">uintptr</span>&nbsp;<span class="op" id="1468371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468374">return</span>&nbsp;<span class="ident" id="1468381">algarray</span><span class="op" id="1468389">[</span><span class="ident" id="1468390">alg_MEM32</span><span class="op" id="1468399">]</span><span class="op" id="1468400">.</span><span class="ident" id="1468401">hash</span><span class="op" id="1468405">(</span><span class="ident" id="1468406">noescape</span><span class="op" id="1468414">(</span><span class="ident" id="1468415">unsafe</span><span class="op" id="1468421">.</span><span class="ident" id="1468422">Pointer</span><span class="op" id="1468429">(</span><span class="op" id="1468430">&amp;</span><span class="ident" id="1468431">i</span><span class="op" id="1468432">)</span><span class="op" id="1468433">)</span><span class="op" id="1468434">,</span>&nbsp;<span class="num" id="1468436">4</span><span class="op" id="1468437">,</span>&nbsp;<span class="ident" id="1468439">seed</span><span class="op" id="1468443">)</span><br>
<span class="lineno">285</span><span class="op" id="1468445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1468448">func</span>&nbsp;<span class="ident" id="1468453">int64Hash</span><span class="op" id="1468462">(</span><span class="ident" id="1468463">i</span>&nbsp;<span class="ident" id="1468465">uint64</span><span class="op" id="1468471">,</span>&nbsp;<span class="ident" id="1468473">seed</span>&nbsp;<span class="builtintype" id="1468478">uintptr</span><span class="op" id="1468485">)</span>&nbsp;<span class="builtintype" id="1468487">uintptr</span>&nbsp;<span class="op" id="1468495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468498">return</span>&nbsp;<span class="ident" id="1468505">algarray</span><span class="op" id="1468513">[</span><span class="ident" id="1468514">alg_MEM64</span><span class="op" id="1468523">]</span><span class="op" id="1468524">.</span><span class="ident" id="1468525">hash</span><span class="op" id="1468529">(</span><span class="ident" id="1468530">noescape</span><span class="op" id="1468538">(</span><span class="ident" id="1468539">unsafe</span><span class="op" id="1468545">.</span><span class="ident" id="1468546">Pointer</span><span class="op" id="1468553">(</span><span class="op" id="1468554">&amp;</span><span class="ident" id="1468555">i</span><span class="op" id="1468556">)</span><span class="op" id="1468557">)</span><span class="op" id="1468558">,</span>&nbsp;<span class="num" id="1468560">8</span><span class="op" id="1468561">,</span>&nbsp;<span class="ident" id="1468563">seed</span><span class="op" id="1468567">)</span><br>
<span class="lineno"></span><span class="op" id="1468569">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="1468572">func</span>&nbsp;<span class="ident" id="1468577">efaceHash</span><span class="op" id="1468586">(</span><span class="ident" id="1468587">i</span>&nbsp;<span class="keyword" id="1468589">interface</span><span class="op" id="1468598">{</span><span class="op" id="1468599">}</span><span class="op" id="1468600">,</span>&nbsp;<span class="ident" id="1468602">seed</span>&nbsp;<span class="builtintype" id="1468607">uintptr</span><span class="op" id="1468614">)</span>&nbsp;<span class="builtintype" id="1468616">uintptr</span>&nbsp;<span class="op" id="1468624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468627">return</span>&nbsp;<span class="ident" id="1468634">algarray</span><span class="op" id="1468642">[</span><span class="ident" id="1468643">alg_NILINTER</span><span class="op" id="1468655">]</span><span class="op" id="1468656">.</span><span class="ident" id="1468657">hash</span><span class="op" id="1468661">(</span><span class="ident" id="1468662">noescape</span><span class="op" id="1468670">(</span><span class="ident" id="1468671">unsafe</span><span class="op" id="1468677">.</span><span class="ident" id="1468678">Pointer</span><span class="op" id="1468685">(</span><span class="op" id="1468686">&amp;</span><span class="ident" id="1468687">i</span><span class="op" id="1468688">)</span><span class="op" id="1468689">)</span><span class="op" id="1468690">,</span>&nbsp;<span class="ident" id="1468692">unsafe</span><span class="op" id="1468698">.</span><span class="ident" id="1468699">Sizeof</span><span class="op" id="1468705">(</span><span class="ident" id="1468706">i</span><span class="op" id="1468707">)</span><span class="op" id="1468708">,</span>&nbsp;<span class="ident" id="1468710">seed</span><span class="op" id="1468714">)</span><br>
<span class="lineno"></span><span class="op" id="1468716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="1468719">func</span>&nbsp;<span class="ident" id="1468724">ifaceHash</span><span class="op" id="1468733">(</span><span class="ident" id="1468734">i</span>&nbsp;<span class="keyword" id="1468736">interface</span>&nbsp;<span class="op" id="1468746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468749">F</span><span class="op" id="1468750">(</span><span class="op" id="1468751">)</span><br>
<span class="lineno"></span><span class="op" id="1468753">}</span><span class="op" id="1468754">,</span>&nbsp;<span class="ident" id="1468756">seed</span>&nbsp;<span class="builtintype" id="1468761">uintptr</span><span class="op" id="1468768">)</span>&nbsp;<span class="builtintype" id="1468770">uintptr</span>&nbsp;<span class="op" id="1468778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468781">return</span>&nbsp;<span class="ident" id="1468788">algarray</span><span class="op" id="1468796">[</span><span class="ident" id="1468797">alg_INTER</span><span class="op" id="1468806">]</span><span class="op" id="1468807">.</span><span class="ident" id="1468808">hash</span><span class="op" id="1468812">(</span><span class="ident" id="1468813">noescape</span><span class="op" id="1468821">(</span><span class="ident" id="1468822">unsafe</span><span class="op" id="1468828">.</span><span class="ident" id="1468829">Pointer</span><span class="op" id="1468836">(</span><span class="op" id="1468837">&amp;</span><span class="ident" id="1468838">i</span><span class="op" id="1468839">)</span><span class="op" id="1468840">)</span><span class="op" id="1468841">,</span>&nbsp;<span class="ident" id="1468843">unsafe</span><span class="op" id="1468849">.</span><span class="ident" id="1468850">Sizeof</span><span class="op" id="1468856">(</span><span class="ident" id="1468857">i</span><span class="op" id="1468858">)</span><span class="op" id="1468859">,</span>&nbsp;<span class="ident" id="1468861">seed</span><span class="op" id="1468865">)</span><br>
<span class="lineno"></span><span class="op" id="1468867">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="1468870">//&nbsp;Testing&nbsp;adapter&nbsp;for&nbsp;memclr</span><br>
<span class="lineno"></span><span class="keyword" id="1468900">func</span>&nbsp;<span class="ident" id="1468905">memclrBytes</span><span class="op" id="1468916">(</span><span class="ident" id="1468917">b</span>&nbsp;<span class="op" id="1468919">[</span><span class="op" id="1468920">]</span><span class="builtintype" id="1468921">byte</span><span class="op" id="1468925">)</span>&nbsp;<span class="op" id="1468927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468930">s</span>&nbsp;<span class="op" id="1468932">:=</span>&nbsp;<span class="op" id="1468935">(</span><span class="op" id="1468936">*</span><span class="ident" id="1468937">sliceStruct</span><span class="op" id="1468948">)</span><span class="op" id="1468949">(</span><span class="ident" id="1468950">unsafe</span><span class="op" id="1468956">.</span><span class="ident" id="1468957">Pointer</span><span class="op" id="1468964">(</span><span class="op" id="1468965">&amp;</span><span class="ident" id="1468966">b</span><span class="op" id="1468967">)</span><span class="op" id="1468968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468971">memclr</span><span class="op" id="1468977">(</span><span class="ident" id="1468978">s</span><span class="op" id="1468979">.</span><span class="ident" id="1468980">array</span><span class="op" id="1468985">,</span>&nbsp;<span class="builtintype" id="1468987">uintptr</span><span class="op" id="1468994">(</span><span class="ident" id="1468995">s</span><span class="op" id="1468996">.</span><span class="builtinfunc" id="1468997">len</span><span class="op" id="1469000">)</span><span class="op" id="1469001">)</span><br>
<span class="lineno">305</span><span class="op" id="1469003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1469006">//&nbsp;TODO(dvyukov):&nbsp;remove&nbsp;when&nbsp;Type&nbsp;is&nbsp;converted&nbsp;to&nbsp;Go&nbsp;and&nbsp;contains&nbsp;*typeAlg.</span><br>
<span class="lineno"></span><span class="keyword" id="1469083">func</span>&nbsp;<span class="ident" id="1469088">goalg</span><span class="op" id="1469093">(</span><span class="ident" id="1469094">a</span>&nbsp;<span class="ident" id="1469096">unsafe</span><span class="op" id="1469102">.</span><span class="ident" id="1469103">Pointer</span><span class="op" id="1469110">)</span>&nbsp;<span class="op" id="1469112">*</span><span class="ident" id="1469113">typeAlg</span>&nbsp;<span class="op" id="1469121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469124">return</span>&nbsp;<span class="op" id="1469131">(</span><span class="op" id="1469132">*</span><span class="ident" id="1469133">typeAlg</span><span class="op" id="1469140">)</span><span class="op" id="1469141">(</span><span class="ident" id="1469142">a</span><span class="op" id="1469143">)</span><br>
<span class="lineno">310</span><span class="op" id="1469145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1469148">//&nbsp;used&nbsp;in&nbsp;asm_{386,amd64}.s</span><br>
<span class="lineno"></span><span class="keyword" id="1469177">const</span>&nbsp;<span class="ident" id="1469183">hashRandomBytes</span>&nbsp;<span class="op" id="1469199">=</span>&nbsp;<span class="num" id="1469201">32</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1469205">var</span>&nbsp;<span class="ident" id="1469209">aeskeysched</span>&nbsp;<span class="op" id="1469221">[</span><span class="ident" id="1469222">hashRandomBytes</span><span class="op" id="1469237">]</span><span class="builtintype" id="1469238">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1469244">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1469258">func</span>&nbsp;<span class="ident" id="1469263">get_random_data</span><span class="op" id="1469278">(</span><span class="ident" id="1469279">rnd</span>&nbsp;<span class="op" id="1469283">*</span><span class="ident" id="1469284">unsafe</span><span class="op" id="1469290">.</span><span class="ident" id="1469291">Pointer</span><span class="op" id="1469298">,</span>&nbsp;<span class="ident" id="1469300">n</span>&nbsp;<span class="op" id="1469302">*</span><span class="builtintype" id="1469303">int32</span><span class="op" id="1469308">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1469311">func</span>&nbsp;<span class="ident" id="1469316">init</span><span class="op" id="1469320">(</span><span class="op" id="1469321">)</span>&nbsp;<span class="op" id="1469323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469326">if</span>&nbsp;<span class="ident" id="1469329">theGoos</span>&nbsp;<span class="op" id="1469337">==</span>&nbsp;<span class="string" id="1469340">&#34;nacl&#34;</span>&nbsp;<span class="op" id="1469347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469351">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1469359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1469363">//&nbsp;Install&nbsp;aes&nbsp;hash&nbsp;algorithm&nbsp;if&nbsp;we&nbsp;have&nbsp;the&nbsp;instructions&nbsp;we&nbsp;need</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469430">if</span>&nbsp;<span class="op" id="1469433">(</span><span class="ident" id="1469434">cpuid_ecx</span><span class="op" id="1469443">&amp;</span><span class="op" id="1469444">(</span><span class="num" id="1469445">1</span><span class="op" id="1469446">&lt;&lt;</span><span class="num" id="1469448">25</span><span class="op" id="1469450">)</span><span class="op" id="1469451">)</span>&nbsp;<span class="op" id="1469453">!=</span>&nbsp;<span class="num" id="1469456">0</span>&nbsp;<span class="op" id="1469458">&amp;&amp;</span>&nbsp;<span class="comment" id="1469461">//&nbsp;aes&nbsp;(aesenc)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1469479">(</span><span class="ident" id="1469480">cpuid_ecx</span><span class="op" id="1469489">&amp;</span><span class="op" id="1469490">(</span><span class="num" id="1469491">1</span><span class="op" id="1469492">&lt;&lt;</span><span class="num" id="1469494">9</span><span class="op" id="1469495">)</span><span class="op" id="1469496">)</span>&nbsp;<span class="op" id="1469498">!=</span>&nbsp;<span class="num" id="1469501">0</span>&nbsp;<span class="op" id="1469503">&amp;&amp;</span>&nbsp;<span class="comment" id="1469506">//&nbsp;sse3&nbsp;(pshufb)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1469525">(</span><span class="ident" id="1469526">cpuid_ecx</span><span class="op" id="1469535">&amp;</span><span class="op" id="1469536">(</span><span class="num" id="1469537">1</span><span class="op" id="1469538">&lt;&lt;</span><span class="num" id="1469540">19</span><span class="op" id="1469542">)</span><span class="op" id="1469543">)</span>&nbsp;<span class="op" id="1469545">!=</span>&nbsp;<span class="num" id="1469548">0</span>&nbsp;<span class="op" id="1469550">{</span>&nbsp;<span class="comment" id="1469552">//&nbsp;sse4.1&nbsp;(pinsr{d,q})</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469577">useAeshash</span>&nbsp;<span class="op" id="1469588">=</span>&nbsp;<span class="builtintype" id="1469590">true</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469597">algarray</span><span class="op" id="1469605">[</span><span class="ident" id="1469606">alg_MEM</span><span class="op" id="1469613">]</span><span class="op" id="1469614">.</span><span class="ident" id="1469615">hash</span>&nbsp;<span class="op" id="1469620">=</span>&nbsp;<span class="ident" id="1469622">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469632">algarray</span><span class="op" id="1469640">[</span><span class="ident" id="1469641">alg_MEM8</span><span class="op" id="1469649">]</span><span class="op" id="1469650">.</span><span class="ident" id="1469651">hash</span>&nbsp;<span class="op" id="1469656">=</span>&nbsp;<span class="ident" id="1469658">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469668">algarray</span><span class="op" id="1469676">[</span><span class="ident" id="1469677">alg_MEM16</span><span class="op" id="1469686">]</span><span class="op" id="1469687">.</span><span class="ident" id="1469688">hash</span>&nbsp;<span class="op" id="1469693">=</span>&nbsp;<span class="ident" id="1469695">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469705">algarray</span><span class="op" id="1469713">[</span><span class="ident" id="1469714">alg_MEM32</span><span class="op" id="1469723">]</span><span class="op" id="1469724">.</span><span class="ident" id="1469725">hash</span>&nbsp;<span class="op" id="1469730">=</span>&nbsp;<span class="ident" id="1469732">aeshash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469744">algarray</span><span class="op" id="1469752">[</span><span class="ident" id="1469753">alg_MEM64</span><span class="op" id="1469762">]</span><span class="op" id="1469763">.</span><span class="ident" id="1469764">hash</span>&nbsp;<span class="op" id="1469769">=</span>&nbsp;<span class="ident" id="1469771">aeshash64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469783">algarray</span><span class="op" id="1469791">[</span><span class="ident" id="1469792">alg_MEM128</span><span class="op" id="1469802">]</span><span class="op" id="1469803">.</span><span class="ident" id="1469804">hash</span>&nbsp;<span class="op" id="1469809">=</span>&nbsp;<span class="ident" id="1469811">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469821">algarray</span><span class="op" id="1469829">[</span><span class="ident" id="1469830">alg_STRING</span><span class="op" id="1469840">]</span><span class="op" id="1469841">.</span><span class="ident" id="1469842">hash</span>&nbsp;<span class="op" id="1469847">=</span>&nbsp;<span class="ident" id="1469849">aeshashstr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1469862">//&nbsp;Initialize&nbsp;with&nbsp;random&nbsp;data&nbsp;so&nbsp;hash&nbsp;collisions&nbsp;will&nbsp;be&nbsp;hard&nbsp;to&nbsp;engineer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469940">var</span>&nbsp;<span class="ident" id="1469944">rnd</span>&nbsp;<span class="ident" id="1469948">unsafe</span><span class="op" id="1469954">.</span><span class="ident" id="1469955">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469965">var</span>&nbsp;<span class="ident" id="1469969">n</span>&nbsp;<span class="builtintype" id="1469971">int32</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469979">get_random_data</span><span class="op" id="1469994">(</span><span class="op" id="1469995">&amp;</span><span class="ident" id="1469996">rnd</span><span class="op" id="1469999">,</span>&nbsp;<span class="op" id="1470001">&amp;</span><span class="ident" id="1470002">n</span><span class="op" id="1470003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470007">if</span>&nbsp;<span class="ident" id="1470010">n</span>&nbsp;<span class="op" id="1470012">&gt;</span>&nbsp;<span class="ident" id="1470014">hashRandomBytes</span>&nbsp;<span class="op" id="1470030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470035">n</span>&nbsp;<span class="op" id="1470037">=</span>&nbsp;<span class="ident" id="1470039">hashRandomBytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470061">memmove</span><span class="op" id="1470068">(</span><span class="ident" id="1470069">unsafe</span><span class="op" id="1470075">.</span><span class="ident" id="1470076">Pointer</span><span class="op" id="1470083">(</span><span class="op" id="1470084">&amp;</span><span class="ident" id="1470085">aeskeysched</span><span class="op" id="1470096">[</span><span class="num" id="1470097">0</span><span class="op" id="1470098">]</span><span class="op" id="1470099">)</span><span class="op" id="1470100">,</span>&nbsp;<span class="ident" id="1470102">rnd</span><span class="op" id="1470105">,</span>&nbsp;<span class="builtintype" id="1470107">uintptr</span><span class="op" id="1470114">(</span><span class="ident" id="1470115">n</span><span class="op" id="1470116">)</span><span class="op" id="1470117">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470121">if</span>&nbsp;<span class="ident" id="1470124">n</span>&nbsp;<span class="op" id="1470126">&lt;</span>&nbsp;<span class="ident" id="1470128">hashRandomBytes</span>&nbsp;<span class="op" id="1470144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470149">//&nbsp;Not&nbsp;very&nbsp;random,&nbsp;but&nbsp;better&nbsp;than&nbsp;nothing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470197">for</span>&nbsp;<span class="ident" id="1470201">t</span>&nbsp;<span class="op" id="1470203">:=</span>&nbsp;<span class="ident" id="1470206">nanotime</span><span class="op" id="1470214">(</span><span class="op" id="1470215">)</span><span class="op" id="1470216">;</span>&nbsp;<span class="ident" id="1470218">n</span>&nbsp;<span class="op" id="1470220">&lt;</span>&nbsp;<span class="ident" id="1470222">hashRandomBytes</span><span class="op" id="1470237">;</span>&nbsp;<span class="ident" id="1470239">n</span><span class="op" id="1470240">++</span>&nbsp;<span class="op" id="1470243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470249">aeskeysched</span><span class="op" id="1470260">[</span><span class="ident" id="1470261">n</span><span class="op" id="1470262">]</span>&nbsp;<span class="op" id="1470264">=</span>&nbsp;<span class="builtintype" id="1470266">byte</span><span class="op" id="1470270">(</span><span class="ident" id="1470271">t</span>&nbsp;<span class="op" id="1470273">&gt;&gt;</span>&nbsp;<span class="builtintype" id="1470276">uint</span><span class="op" id="1470280">(</span><span class="num" id="1470281">8</span><span class="op" id="1470282">*</span><span class="op" id="1470283">(</span><span class="ident" id="1470284">n</span><span class="op" id="1470285">%</span><span class="num" id="1470286">8</span><span class="op" id="1470287">)</span><span class="op" id="1470288">)</span><span class="op" id="1470289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470294">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470301">}</span><br>
<span class="lineno"></span><span class="op" id="1470303">}</span>
</div>
</body>
</html>
