<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html" class="current">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4786785">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4786841">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4786895">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4786946">package</span>&nbsp;<span class="ident" id="4786954">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4786959">import</span>&nbsp;<span class="op" id="4786966">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4786969">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4786978">&#34;encoding&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4786990">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4787000">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4787007">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4787018">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4787029">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="4787039">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4787042">//&nbsp;BUG(rsc):&nbsp;Mapping&nbsp;between&nbsp;XML&nbsp;elements&nbsp;and&nbsp;data&nbsp;structures&nbsp;is&nbsp;inherently&nbsp;flawed:</span><br>
<span class="lineno"></span><span class="comment" id="4787126">//&nbsp;an&nbsp;XML&nbsp;element&nbsp;is&nbsp;an&nbsp;order-dependent&nbsp;collection&nbsp;of&nbsp;anonymous</span><br>
<span class="lineno"></span><span class="comment" id="4787190">//&nbsp;values,&nbsp;while&nbsp;a&nbsp;data&nbsp;structure&nbsp;is&nbsp;an&nbsp;order-independent&nbsp;collection</span><br>
<span class="lineno">20</span><span class="comment" id="4787259">//&nbsp;of&nbsp;named&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="4787279">//&nbsp;See&nbsp;package&nbsp;json&nbsp;for&nbsp;a&nbsp;textual&nbsp;representation&nbsp;more&nbsp;suitable</span><br>
<span class="lineno"></span><span class="comment" id="4787342">//&nbsp;to&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4787366">//&nbsp;Unmarshal&nbsp;parses&nbsp;the&nbsp;XML-encoded&nbsp;data&nbsp;and&nbsp;stores&nbsp;the&nbsp;result&nbsp;in</span><br>
<span class="lineno">25</span><span class="comment" id="4787432">//&nbsp;the&nbsp;value&nbsp;pointed&nbsp;to&nbsp;by&nbsp;v,&nbsp;which&nbsp;must&nbsp;be&nbsp;an&nbsp;arbitrary&nbsp;struct,</span><br>
<span class="lineno"></span><span class="comment" id="4787497">//&nbsp;slice,&nbsp;or&nbsp;string.&nbsp;Well-formed&nbsp;data&nbsp;that&nbsp;does&nbsp;not&nbsp;fit&nbsp;into&nbsp;v&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4787563">//&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="comment" id="4787577">//</span><br>
<span class="lineno"></span><span class="comment" id="4787580">//&nbsp;Because&nbsp;Unmarshal&nbsp;uses&nbsp;the&nbsp;reflect&nbsp;package,&nbsp;it&nbsp;can&nbsp;only&nbsp;assign</span><br>
<span class="lineno">30</span><span class="comment" id="4787646">//&nbsp;to&nbsp;exported&nbsp;(upper&nbsp;case)&nbsp;fields.&nbsp;&nbsp;Unmarshal&nbsp;uses&nbsp;a&nbsp;case-sensitive</span><br>
<span class="lineno"></span><span class="comment" id="4787715">//&nbsp;comparison&nbsp;to&nbsp;match&nbsp;XML&nbsp;element&nbsp;names&nbsp;to&nbsp;tag&nbsp;values&nbsp;and&nbsp;struct</span><br>
<span class="lineno"></span><span class="comment" id="4787781">//&nbsp;field&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="4787797">//</span><br>
<span class="lineno"></span><span class="comment" id="4787800">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;struct&nbsp;using&nbsp;the&nbsp;following&nbsp;rules.</span><br>
<span class="lineno">35</span><span class="comment" id="4787872">//&nbsp;In&nbsp;the&nbsp;rules,&nbsp;the&nbsp;tag&nbsp;of&nbsp;a&nbsp;field&nbsp;refers&nbsp;to&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4787948">//&nbsp;key&nbsp;&#39;xml&#39;&nbsp;in&nbsp;the&nbsp;struct&nbsp;field&#39;s&nbsp;tag&nbsp;(see&nbsp;the&nbsp;example&nbsp;above).</span><br>
<span class="lineno"></span><span class="comment" id="4788012">//</span><br>
<span class="lineno"></span><span class="comment" id="4788015">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;struct&nbsp;has&nbsp;a&nbsp;field&nbsp;of&nbsp;type&nbsp;[]byte&nbsp;or&nbsp;string&nbsp;with&nbsp;tag</span><br>
<span class="lineno"></span><span class="comment" id="4788082">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;,innerxml&#34;,&nbsp;Unmarshal&nbsp;accumulates&nbsp;the&nbsp;raw&nbsp;XML&nbsp;nested&nbsp;inside&nbsp;the</span><br>
<span class="lineno">40</span><span class="comment" id="4788155">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;in&nbsp;that&nbsp;field.&nbsp;&nbsp;The&nbsp;rest&nbsp;of&nbsp;the&nbsp;rules&nbsp;still&nbsp;apply.</span><br>
<span class="lineno"></span><span class="comment" id="4788222">//</span><br>
<span class="lineno"></span><span class="comment" id="4788225">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;struct&nbsp;has&nbsp;a&nbsp;field&nbsp;named&nbsp;XMLName&nbsp;of&nbsp;type&nbsp;xml.Name,</span><br>
<span class="lineno"></span><span class="comment" id="4788290">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unmarshal&nbsp;records&nbsp;the&nbsp;element&nbsp;name&nbsp;in&nbsp;that&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="4788348">//</span><br>
<span class="lineno">45</span><span class="comment" id="4788351">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XMLName&nbsp;field&nbsp;has&nbsp;an&nbsp;associated&nbsp;tag&nbsp;of&nbsp;the&nbsp;form</span><br>
<span class="lineno"></span><span class="comment" id="4788413">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;name&#34;&nbsp;or&nbsp;&#34;namespace-URL&nbsp;name&#34;,&nbsp;the&nbsp;XML&nbsp;element&nbsp;must&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="4788479">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;given&nbsp;name&nbsp;(and,&nbsp;optionally,&nbsp;name&nbsp;space)&nbsp;or&nbsp;else&nbsp;Unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="4788550">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="4788576">//</span><br>
<span class="lineno">50</span><span class="comment" id="4788579">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;has&nbsp;an&nbsp;attribute&nbsp;whose&nbsp;name&nbsp;matches&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4788643">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;field&nbsp;name&nbsp;with&nbsp;an&nbsp;associated&nbsp;tag&nbsp;containing&nbsp;&#34;,attr&#34;&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="4788714">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;explicit&nbsp;name&nbsp;in&nbsp;a&nbsp;struct&nbsp;field&nbsp;tag&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;name,attr&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="4788787">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unmarshal&nbsp;records&nbsp;the&nbsp;attribute&nbsp;value&nbsp;in&nbsp;that&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="4788848">//</span><br>
<span class="lineno">55</span><span class="comment" id="4788851">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;character&nbsp;data,&nbsp;that&nbsp;data&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4788915">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accumulated&nbsp;in&nbsp;the&nbsp;first&nbsp;struct&nbsp;field&nbsp;that&nbsp;has&nbsp;tag&nbsp;&#34;,chardata&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="4788987">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;struct&nbsp;field&nbsp;may&nbsp;have&nbsp;type&nbsp;[]byte&nbsp;or&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="4789044">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;field,&nbsp;the&nbsp;character&nbsp;data&nbsp;is&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="comment" id="4789112">//</span><br>
<span class="lineno">60</span><span class="comment" id="4789115">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;comments,&nbsp;they&nbsp;are&nbsp;accumulated&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="4789184">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;first&nbsp;struct&nbsp;field&nbsp;that&nbsp;has&nbsp;tag&nbsp;&#34;,comment&#34;.&nbsp;&nbsp;The&nbsp;struct</span><br>
<span class="lineno"></span><span class="comment" id="4789252">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;may&nbsp;have&nbsp;type&nbsp;[]byte&nbsp;or&nbsp;string.&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;such</span><br>
<span class="lineno"></span><span class="comment" id="4789319">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field,&nbsp;the&nbsp;comments&nbsp;are&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="comment" id="4789362">//</span><br>
<span class="lineno">65</span><span class="comment" id="4789365">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;whose&nbsp;name&nbsp;matches</span><br>
<span class="lineno"></span><span class="comment" id="4789433">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;prefix&nbsp;of&nbsp;a&nbsp;tag&nbsp;formatted&nbsp;as&nbsp;&#34;a&#34;&nbsp;or&nbsp;&#34;a&gt;b&gt;c&#34;,&nbsp;unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="4789500">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;descend&nbsp;into&nbsp;the&nbsp;XML&nbsp;structure&nbsp;looking&nbsp;for&nbsp;elements&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4789574">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;given&nbsp;names,&nbsp;and&nbsp;will&nbsp;map&nbsp;the&nbsp;innermost&nbsp;elements&nbsp;to&nbsp;that&nbsp;struct</span><br>
<span class="lineno"></span><span class="comment" id="4789646">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field.&nbsp;A&nbsp;tag&nbsp;starting&nbsp;with&nbsp;&#34;&gt;&#34;&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;one&nbsp;starting</span><br>
<span class="lineno">70</span><span class="comment" id="4789715">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;field&nbsp;name&nbsp;followed&nbsp;by&nbsp;&#34;&gt;&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="4789760">//</span><br>
<span class="lineno"></span><span class="comment" id="4789763">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;whose&nbsp;name&nbsp;matches</span><br>
<span class="lineno"></span><span class="comment" id="4789831">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;struct&nbsp;field&#39;s&nbsp;XMLName&nbsp;tag&nbsp;and&nbsp;the&nbsp;struct&nbsp;field&nbsp;has&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="4789896">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;name&nbsp;tag&nbsp;as&nbsp;per&nbsp;the&nbsp;previous&nbsp;rule,&nbsp;unmarshal&nbsp;maps</span><br>
<span class="lineno">75</span><span class="comment" id="4789963">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;sub-element&nbsp;to&nbsp;that&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="4790009">//</span><br>
<span class="lineno"></span><span class="comment" id="4790012">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;whose&nbsp;name&nbsp;matches&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4790082">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;without&nbsp;any&nbsp;mode&nbsp;flags&nbsp;(&#34;,attr&#34;,&nbsp;&#34;,chardata&#34;,&nbsp;etc),&nbsp;Unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="4790158">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maps&nbsp;the&nbsp;sub-element&nbsp;to&nbsp;that&nbsp;struct&nbsp;field.</span><br>
<span class="lineno">80</span><span class="comment" id="4790209">//</span><br>
<span class="lineno"></span><span class="comment" id="4790212">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;that&nbsp;hasn&#39;t&nbsp;matched&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="4790285">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;above&nbsp;rules&nbsp;and&nbsp;the&nbsp;struct&nbsp;has&nbsp;a&nbsp;field&nbsp;with&nbsp;tag&nbsp;&#34;,any&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="4790356">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unmarshal&nbsp;maps&nbsp;the&nbsp;sub-element&nbsp;to&nbsp;that&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="4790417">//</span><br>
<span class="lineno">85</span><span class="comment" id="4790420">//&nbsp;&nbsp;&nbsp;*&nbsp;An&nbsp;anonymous&nbsp;struct&nbsp;field&nbsp;is&nbsp;handled&nbsp;as&nbsp;if&nbsp;the&nbsp;fields&nbsp;of&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="4790488">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;were&nbsp;part&nbsp;of&nbsp;the&nbsp;outer&nbsp;struct.</span><br>
<span class="lineno"></span><span class="comment" id="4790533">//</span><br>
<span class="lineno"></span><span class="comment" id="4790536">//&nbsp;&nbsp;&nbsp;*&nbsp;A&nbsp;struct&nbsp;field&nbsp;with&nbsp;tag&nbsp;&#34;-&#34;&nbsp;is&nbsp;never&nbsp;unmarshalled&nbsp;into.</span><br>
<span class="lineno"></span><span class="comment" id="4790599">//</span><br>
<span class="lineno">90</span><span class="comment" id="4790602">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte&nbsp;by&nbsp;saving&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4790671">//&nbsp;concatenation&nbsp;of&nbsp;that&nbsp;element&#39;s&nbsp;character&nbsp;data&nbsp;in&nbsp;the&nbsp;string&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="4790738">//&nbsp;[]byte.&nbsp;The&nbsp;saved&nbsp;[]byte&nbsp;is&nbsp;never&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="4790780">//</span><br>
<span class="lineno"></span><span class="comment" id="4790783">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;attribute&nbsp;value&nbsp;to&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte&nbsp;by&nbsp;saving</span><br>
<span class="lineno">95</span><span class="comment" id="4790852">//&nbsp;the&nbsp;value&nbsp;in&nbsp;the&nbsp;string&nbsp;or&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="4790889">//</span><br>
<span class="lineno"></span><span class="comment" id="4790892">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;slice&nbsp;by&nbsp;extending&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4790963">//&nbsp;the&nbsp;slice&nbsp;and&nbsp;mapping&nbsp;the&nbsp;element&nbsp;to&nbsp;the&nbsp;newly&nbsp;created&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="4791028">//</span><br>
<span class="lineno">100</span><span class="comment" id="4791031">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;or&nbsp;attribute&nbsp;value&nbsp;to&nbsp;a&nbsp;bool&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="4791096">//&nbsp;setting&nbsp;it&nbsp;to&nbsp;the&nbsp;boolean&nbsp;value&nbsp;represented&nbsp;by&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="4791158">//</span><br>
<span class="lineno"></span><span class="comment" id="4791161">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;or&nbsp;attribute&nbsp;value&nbsp;to&nbsp;an&nbsp;integer&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="4791230">//&nbsp;floating-point&nbsp;field&nbsp;by&nbsp;setting&nbsp;the&nbsp;field&nbsp;to&nbsp;the&nbsp;result&nbsp;of</span><br>
<span class="lineno">105</span><span class="comment" id="4791292">//&nbsp;interpreting&nbsp;the&nbsp;string&nbsp;value&nbsp;in&nbsp;decimal.&nbsp;&nbsp;There&nbsp;is&nbsp;no&nbsp;check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="4791360">//&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="comment" id="4791373">//</span><br>
<span class="lineno"></span><span class="comment" id="4791376">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;an&nbsp;xml.Name&nbsp;by&nbsp;recording&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4791441">//&nbsp;element&nbsp;name.</span><br>
<span class="lineno">110</span><span class="comment" id="4791458">//</span><br>
<span class="lineno"></span><span class="comment" id="4791461">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;pointer&nbsp;by&nbsp;setting&nbsp;the&nbsp;pointer</span><br>
<span class="lineno"></span><span class="comment" id="4791530">//&nbsp;to&nbsp;a&nbsp;freshly&nbsp;allocated&nbsp;value&nbsp;and&nbsp;then&nbsp;mapping&nbsp;the&nbsp;element&nbsp;to&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="4791606">//</span><br>
<span class="lineno"></span><span class="keyword" id="4791609">func</span>&nbsp;<span class="ident" id="4791614">Unmarshal</span><span class="op" id="4791623">(</span><span class="ident" id="4791624">data</span>&nbsp;<span class="op" id="4791629">[</span><span class="op" id="4791630">]</span><span class="builtintype" id="4791631">byte</span><span class="op" id="4791635">,</span>&nbsp;<span class="ident" id="4791637">v</span>&nbsp;<span class="keyword" id="4791639">interface</span><span class="op" id="4791648">{</span><span class="op" id="4791649">}</span><span class="op" id="4791650">)</span>&nbsp;<span class="builtintype" id="4791652">error</span>&nbsp;<span class="op" id="4791658">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4791661">return</span>&nbsp;<span class="ident" id="4791668">NewDecoder</span><span class="op" id="4791678">(</span><span class="ident" id="4791679">bytes</span><span class="op" id="4791684">.</span><span class="ident" id="4791685">NewReader</span><span class="op" id="4791694">(</span><span class="ident" id="4791695">data</span><span class="op" id="4791699">)</span><span class="op" id="4791700">)</span><span class="op" id="4791701">.</span><span class="ident" id="4791702">Decode</span><span class="op" id="4791708">(</span><span class="ident" id="4791709">v</span><span class="op" id="4791710">)</span><br>
<span class="lineno"></span><span class="op" id="4791712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4791715">//&nbsp;Decode&nbsp;works&nbsp;like&nbsp;xml.Unmarshal,&nbsp;except&nbsp;it&nbsp;reads&nbsp;the&nbsp;decoder</span><br>
<span class="lineno"></span><span class="comment" id="4791779">//&nbsp;stream&nbsp;to&nbsp;find&nbsp;the&nbsp;start&nbsp;element.</span><br>
<span class="lineno">120</span><span class="keyword" id="4791816">func</span>&nbsp;<span class="op" id="4791821">(</span><span class="ident" id="4791822">d</span>&nbsp;<span class="op" id="4791824">*</span><span class="ident" id="4791825">Decoder</span><span class="op" id="4791832">)</span>&nbsp;<span class="ident" id="4791834">Decode</span><span class="op" id="4791840">(</span><span class="ident" id="4791841">v</span>&nbsp;<span class="keyword" id="4791843">interface</span><span class="op" id="4791852">{</span><span class="op" id="4791853">}</span><span class="op" id="4791854">)</span>&nbsp;<span class="builtintype" id="4791856">error</span>&nbsp;<span class="op" id="4791862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4791865">return</span>&nbsp;<span class="ident" id="4791872">d</span><span class="op" id="4791873">.</span><span class="ident" id="4791874">DecodeElement</span><span class="op" id="4791887">(</span><span class="ident" id="4791888">v</span><span class="op" id="4791889">,</span>&nbsp;<span class="builtintype" id="4791891">nil</span><span class="op" id="4791894">)</span><br>
<span class="lineno"></span><span class="op" id="4791896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4791899">//&nbsp;DecodeElement&nbsp;works&nbsp;like&nbsp;xml.Unmarshal&nbsp;except&nbsp;that&nbsp;it&nbsp;takes</span><br>
<span class="lineno">125</span><span class="comment" id="4791962">//&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;start&nbsp;XML&nbsp;element&nbsp;to&nbsp;decode&nbsp;into&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="4792018">//&nbsp;It&nbsp;is&nbsp;useful&nbsp;when&nbsp;a&nbsp;client&nbsp;reads&nbsp;some&nbsp;raw&nbsp;XML&nbsp;tokens&nbsp;itself</span><br>
<span class="lineno"></span><span class="comment" id="4792081">//&nbsp;but&nbsp;also&nbsp;wants&nbsp;to&nbsp;defer&nbsp;to&nbsp;Unmarshal&nbsp;for&nbsp;some&nbsp;elements.</span><br>
<span class="lineno"></span><span class="keyword" id="4792140">func</span>&nbsp;<span class="op" id="4792145">(</span><span class="ident" id="4792146">d</span>&nbsp;<span class="op" id="4792148">*</span><span class="ident" id="4792149">Decoder</span><span class="op" id="4792156">)</span>&nbsp;<span class="ident" id="4792158">DecodeElement</span><span class="op" id="4792171">(</span><span class="ident" id="4792172">v</span>&nbsp;<span class="keyword" id="4792174">interface</span><span class="op" id="4792183">{</span><span class="op" id="4792184">}</span><span class="op" id="4792185">,</span>&nbsp;<span class="ident" id="4792187">start</span>&nbsp;<span class="op" id="4792193">*</span><span class="ident" id="4792194">StartElement</span><span class="op" id="4792206">)</span>&nbsp;<span class="builtintype" id="4792208">error</span>&nbsp;<span class="op" id="4792214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4792217">val</span>&nbsp;<span class="op" id="4792221">:=</span>&nbsp;<span class="ident" id="4792224">reflect</span><span class="op" id="4792231">.</span><span class="ident" id="4792232">ValueOf</span><span class="op" id="4792239">(</span><span class="ident" id="4792240">v</span><span class="op" id="4792241">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4792244">if</span>&nbsp;<span class="ident" id="4792247">val</span><span class="op" id="4792250">.</span><span class="ident" id="4792251">Kind</span><span class="op" id="4792255">(</span><span class="op" id="4792256">)</span>&nbsp;<span class="op" id="4792258">!=</span>&nbsp;<span class="ident" id="4792261">reflect</span><span class="op" id="4792268">.</span><span class="ident" id="4792269">Ptr</span>&nbsp;<span class="op" id="4792273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4792277">return</span>&nbsp;<span class="ident" id="4792284">errors</span><span class="op" id="4792290">.</span><span class="ident" id="4792291">New</span><span class="op" id="4792294">(</span><span class="string" id="4792295">&#34;non-pointer&nbsp;passed&nbsp;to&nbsp;Unmarshal&#34;</span><span class="op" id="4792328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4792331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4792334">return</span>&nbsp;<span class="ident" id="4792341">d</span><span class="op" id="4792342">.</span><span class="ident" id="4792343">unmarshal</span><span class="op" id="4792352">(</span><span class="ident" id="4792353">val</span><span class="op" id="4792356">.</span><span class="ident" id="4792357">Elem</span><span class="op" id="4792361">(</span><span class="op" id="4792362">)</span><span class="op" id="4792363">,</span>&nbsp;<span class="ident" id="4792365">start</span><span class="op" id="4792370">)</span><br>
<span class="lineno"></span><span class="op" id="4792372">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="comment" id="4792375">//&nbsp;An&nbsp;UnmarshalError&nbsp;represents&nbsp;an&nbsp;error&nbsp;in&nbsp;the&nbsp;unmarshalling&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="4792446">type</span>&nbsp;<span class="ident" id="4792451">UnmarshalError</span>&nbsp;<span class="builtintype" id="4792466">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4792474">func</span>&nbsp;<span class="op" id="4792479">(</span><span class="ident" id="4792480">e</span>&nbsp;<span class="ident" id="4792482">UnmarshalError</span><span class="op" id="4792496">)</span>&nbsp;<span class="ident" id="4792498">Error</span><span class="op" id="4792503">(</span><span class="op" id="4792504">)</span>&nbsp;<span class="builtintype" id="4792506">string</span>&nbsp;<span class="op" id="4792513">{</span>&nbsp;<span class="keyword" id="4792515">return</span>&nbsp;<span class="builtintype" id="4792522">string</span><span class="op" id="4792528">(</span><span class="ident" id="4792529">e</span><span class="op" id="4792530">)</span>&nbsp;<span class="op" id="4792532">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="4792535">//&nbsp;Unmarshaler&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;objects&nbsp;that&nbsp;can&nbsp;unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="4792609">//&nbsp;an&nbsp;XML&nbsp;element&nbsp;description&nbsp;of&nbsp;themselves.</span><br>
<span class="lineno"></span><span class="comment" id="4792654">//</span><br>
<span class="lineno"></span><span class="comment" id="4792657">//&nbsp;UnmarshalXML&nbsp;decodes&nbsp;a&nbsp;single&nbsp;XML&nbsp;element</span><br>
<span class="lineno">145</span><span class="comment" id="4792702">//&nbsp;beginning&nbsp;with&nbsp;the&nbsp;given&nbsp;start&nbsp;element.</span><br>
<span class="lineno"></span><span class="comment" id="4792745">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;an&nbsp;error,&nbsp;the&nbsp;outer&nbsp;call&nbsp;to&nbsp;Unmarshal&nbsp;stops&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4792810">//&nbsp;returns&nbsp;that&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="4792833">//&nbsp;UnmarshalXML&nbsp;must&nbsp;consume&nbsp;exactly&nbsp;one&nbsp;XML&nbsp;element.</span><br>
<span class="lineno"></span><span class="comment" id="4792887">//&nbsp;One&nbsp;common&nbsp;implementation&nbsp;strategy&nbsp;is&nbsp;to&nbsp;unmarshal&nbsp;into</span><br>
<span class="lineno">150</span><span class="comment" id="4792946">//&nbsp;a&nbsp;separate&nbsp;value&nbsp;with&nbsp;a&nbsp;layout&nbsp;matching&nbsp;the&nbsp;expected&nbsp;XML</span><br>
<span class="lineno"></span><span class="comment" id="4793006">//&nbsp;using&nbsp;d.DecodeElement,&nbsp;&nbsp;and&nbsp;then&nbsp;to&nbsp;copy&nbsp;the&nbsp;data&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="4793064">//&nbsp;that&nbsp;value&nbsp;into&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="comment" id="4793097">//&nbsp;Another&nbsp;common&nbsp;strategy&nbsp;is&nbsp;to&nbsp;use&nbsp;d.Token&nbsp;to&nbsp;process&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4793157">//&nbsp;XML&nbsp;object&nbsp;one&nbsp;token&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno">155</span><span class="comment" id="4793192">//&nbsp;UnmarshalXML&nbsp;may&nbsp;not&nbsp;use&nbsp;d.RawToken.</span><br>
<span class="lineno"></span><span class="keyword" id="4793232">type</span>&nbsp;<span class="ident" id="4793237">Unmarshaler</span>&nbsp;<span class="keyword" id="4793249">interface</span>&nbsp;<span class="op" id="4793259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4793262">UnmarshalXML</span><span class="op" id="4793274">(</span><span class="ident" id="4793275">d</span>&nbsp;<span class="op" id="4793277">*</span><span class="ident" id="4793278">Decoder</span><span class="op" id="4793285">,</span>&nbsp;<span class="ident" id="4793287">start</span>&nbsp;<span class="ident" id="4793293">StartElement</span><span class="op" id="4793305">)</span>&nbsp;<span class="builtintype" id="4793307">error</span><br>
<span class="lineno"></span><span class="op" id="4793313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="comment" id="4793316">//&nbsp;UnmarshalerAttr&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;objects&nbsp;that&nbsp;can&nbsp;unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="4793394">//&nbsp;an&nbsp;XML&nbsp;attribute&nbsp;description&nbsp;of&nbsp;themselves.</span><br>
<span class="lineno"></span><span class="comment" id="4793441">//</span><br>
<span class="lineno"></span><span class="comment" id="4793444">//&nbsp;UnmarshalXMLAttr&nbsp;decodes&nbsp;a&nbsp;single&nbsp;XML&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="4793496">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;an&nbsp;error,&nbsp;the&nbsp;outer&nbsp;call&nbsp;to&nbsp;Unmarshal&nbsp;stops&nbsp;and</span><br>
<span class="lineno">165</span><span class="comment" id="4793561">//&nbsp;returns&nbsp;that&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="4793584">//&nbsp;UnmarshalXMLAttr&nbsp;is&nbsp;used&nbsp;only&nbsp;for&nbsp;struct&nbsp;fields&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4793644">//&nbsp;&#34;attr&#34;&nbsp;option&nbsp;in&nbsp;the&nbsp;field&nbsp;tag.</span><br>
<span class="lineno"></span><span class="keyword" id="4793679">type</span>&nbsp;<span class="ident" id="4793684">UnmarshalerAttr</span>&nbsp;<span class="keyword" id="4793700">interface</span>&nbsp;<span class="op" id="4793710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4793713">UnmarshalXMLAttr</span><span class="op" id="4793729">(</span><span class="ident" id="4793730">attr</span>&nbsp;<span class="ident" id="4793735">Attr</span><span class="op" id="4793739">)</span>&nbsp;<span class="builtintype" id="4793741">error</span><br>
<span class="lineno">170</span><span class="op" id="4793747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4793750">//&nbsp;receiverType&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;to&nbsp;use&nbsp;in&nbsp;an&nbsp;expression&nbsp;like&nbsp;&#34;%s.MethodName&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="4793838">func</span>&nbsp;<span class="ident" id="4793843">receiverType</span><span class="op" id="4793855">(</span><span class="ident" id="4793856">val</span>&nbsp;<span class="keyword" id="4793860">interface</span><span class="op" id="4793869">{</span><span class="op" id="4793870">}</span><span class="op" id="4793871">)</span>&nbsp;<span class="builtintype" id="4793873">string</span>&nbsp;<span class="op" id="4793880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4793883">t</span>&nbsp;<span class="op" id="4793885">:=</span>&nbsp;<span class="ident" id="4793888">reflect</span><span class="op" id="4793895">.</span><span class="ident" id="4793896">TypeOf</span><span class="op" id="4793902">(</span><span class="ident" id="4793903">val</span><span class="op" id="4793906">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4793909">if</span>&nbsp;<span class="ident" id="4793912">t</span><span class="op" id="4793913">.</span><span class="ident" id="4793914">Name</span><span class="op" id="4793918">(</span><span class="op" id="4793919">)</span>&nbsp;<span class="op" id="4793921">!=</span>&nbsp;<span class="string" id="4793924">&#34;&#34;</span>&nbsp;<span class="op" id="4793927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4793931">return</span>&nbsp;<span class="ident" id="4793938">t</span><span class="op" id="4793939">.</span><span class="ident" id="4793940">String</span><span class="op" id="4793946">(</span><span class="op" id="4793947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4793950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4793953">return</span>&nbsp;<span class="string" id="4793960">&#34;(&#34;</span>&nbsp;<span class="op" id="4793964">+</span>&nbsp;<span class="ident" id="4793966">t</span><span class="op" id="4793967">.</span><span class="ident" id="4793968">String</span><span class="op" id="4793974">(</span><span class="op" id="4793975">)</span>&nbsp;<span class="op" id="4793977">+</span>&nbsp;<span class="string" id="4793979">&#34;)&#34;</span><br>
<span class="lineno"></span><span class="op" id="4793983">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="comment" id="4793986">//&nbsp;unmarshalInterface&nbsp;unmarshals&nbsp;a&nbsp;single&nbsp;XML&nbsp;element&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="4794050">//&nbsp;start&nbsp;is&nbsp;the&nbsp;opening&nbsp;tag&nbsp;of&nbsp;the&nbsp;element.</span><br>
<span class="lineno"></span><span class="keyword" id="4794094">func</span>&nbsp;<span class="op" id="4794099">(</span><span class="ident" id="4794100">p</span>&nbsp;<span class="op" id="4794102">*</span><span class="ident" id="4794103">Decoder</span><span class="op" id="4794110">)</span>&nbsp;<span class="ident" id="4794112">unmarshalInterface</span><span class="op" id="4794130">(</span><span class="ident" id="4794131">val</span>&nbsp;<span class="ident" id="4794135">Unmarshaler</span><span class="op" id="4794146">,</span>&nbsp;<span class="ident" id="4794148">start</span>&nbsp;<span class="op" id="4794154">*</span><span class="ident" id="4794155">StartElement</span><span class="op" id="4794167">)</span>&nbsp;<span class="builtintype" id="4794169">error</span>&nbsp;<span class="op" id="4794175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4794178">//&nbsp;Record&nbsp;that&nbsp;decoder&nbsp;must&nbsp;stop&nbsp;at&nbsp;end&nbsp;tag&nbsp;corresponding&nbsp;to&nbsp;start.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4794247">p</span><span class="op" id="4794248">.</span><span class="ident" id="4794249">pushEOF</span><span class="op" id="4794256">(</span><span class="op" id="4794257">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4794261">p</span><span class="op" id="4794262">.</span><span class="ident" id="4794263">unmarshalDepth</span><span class="op" id="4794277">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4794281">err</span>&nbsp;<span class="op" id="4794285">:=</span>&nbsp;<span class="ident" id="4794288">val</span><span class="op" id="4794291">.</span><span class="ident" id="4794292">UnmarshalXML</span><span class="op" id="4794304">(</span><span class="ident" id="4794305">p</span><span class="op" id="4794306">,</span>&nbsp;<span class="op" id="4794308">*</span><span class="ident" id="4794309">start</span><span class="op" id="4794314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4794317">p</span><span class="op" id="4794318">.</span><span class="ident" id="4794319">unmarshalDepth</span><span class="op" id="4794333">--</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794337">if</span>&nbsp;<span class="ident" id="4794340">err</span>&nbsp;<span class="op" id="4794344">!=</span>&nbsp;<span class="builtintype" id="4794347">nil</span>&nbsp;<span class="op" id="4794351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4794355">p</span><span class="op" id="4794356">.</span><span class="ident" id="4794357">popEOF</span><span class="op" id="4794363">(</span><span class="op" id="4794364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794368">return</span>&nbsp;<span class="ident" id="4794375">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4794380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794384">if</span>&nbsp;<span class="op" id="4794387">!</span><span class="ident" id="4794388">p</span><span class="op" id="4794389">.</span><span class="ident" id="4794390">popEOF</span><span class="op" id="4794396">(</span><span class="op" id="4794397">)</span>&nbsp;<span class="op" id="4794399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794403">return</span>&nbsp;<span class="ident" id="4794410">fmt</span><span class="op" id="4794413">.</span><span class="ident" id="4794414">Errorf</span><span class="op" id="4794420">(</span><span class="string" id="4794421">&#34;xml:&nbsp;%s.UnmarshalXML&nbsp;did&nbsp;not&nbsp;consume&nbsp;entire&nbsp;&lt;%s&gt;&nbsp;element&#34;</span><span class="op" id="4794479">,</span>&nbsp;<span class="ident" id="4794481">receiverType</span><span class="op" id="4794493">(</span><span class="ident" id="4794494">val</span><span class="op" id="4794497">)</span><span class="op" id="4794498">,</span>&nbsp;<span class="ident" id="4794500">start</span><span class="op" id="4794505">.</span><span class="ident" id="4794506">Name</span><span class="op" id="4794510">.</span><span class="ident" id="4794511">Local</span><span class="op" id="4794516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4794519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794523">return</span>&nbsp;<span class="builtintype" id="4794530">nil</span><br>
<span class="lineno">200</span><span class="op" id="4794534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4794537">//&nbsp;unmarshalTextInterface&nbsp;unmarshals&nbsp;a&nbsp;single&nbsp;XML&nbsp;element&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="4794605">//&nbsp;The&nbsp;chardata&nbsp;contained&nbsp;in&nbsp;the&nbsp;element&nbsp;(but&nbsp;not&nbsp;its&nbsp;children)</span><br>
<span class="lineno"></span><span class="comment" id="4794669">//&nbsp;is&nbsp;passed&nbsp;to&nbsp;the&nbsp;text&nbsp;unmarshaler.</span><br>
<span class="lineno">205</span><span class="keyword" id="4794707">func</span>&nbsp;<span class="op" id="4794712">(</span><span class="ident" id="4794713">p</span>&nbsp;<span class="op" id="4794715">*</span><span class="ident" id="4794716">Decoder</span><span class="op" id="4794723">)</span>&nbsp;<span class="ident" id="4794725">unmarshalTextInterface</span><span class="op" id="4794747">(</span><span class="ident" id="4794748">val</span>&nbsp;<span class="ident" id="4794752">encoding</span><span class="op" id="4794760">.</span><span class="ident" id="4794761">TextUnmarshaler</span><span class="op" id="4794776">,</span>&nbsp;<span class="ident" id="4794778">start</span>&nbsp;<span class="op" id="4794784">*</span><span class="ident" id="4794785">StartElement</span><span class="op" id="4794797">)</span>&nbsp;<span class="builtintype" id="4794799">error</span>&nbsp;<span class="op" id="4794805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794808">var</span>&nbsp;<span class="ident" id="4794812">buf</span>&nbsp;<span class="op" id="4794816">[</span><span class="op" id="4794817">]</span><span class="builtintype" id="4794818">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4794824">depth</span>&nbsp;<span class="op" id="4794830">:=</span>&nbsp;<span class="num" id="4794833">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794836">for</span>&nbsp;<span class="ident" id="4794840">depth</span>&nbsp;<span class="op" id="4794846">&gt;</span>&nbsp;<span class="num" id="4794848">0</span>&nbsp;<span class="op" id="4794850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4794854">t</span><span class="op" id="4794855">,</span>&nbsp;<span class="ident" id="4794857">err</span>&nbsp;<span class="op" id="4794861">:=</span>&nbsp;<span class="ident" id="4794864">p</span><span class="op" id="4794865">.</span><span class="ident" id="4794866">Token</span><span class="op" id="4794871">(</span><span class="op" id="4794872">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794876">if</span>&nbsp;<span class="ident" id="4794879">err</span>&nbsp;<span class="op" id="4794883">!=</span>&nbsp;<span class="builtintype" id="4794886">nil</span>&nbsp;<span class="op" id="4794890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794895">return</span>&nbsp;<span class="ident" id="4794902">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4794908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794912">switch</span>&nbsp;<span class="ident" id="4794919">t</span>&nbsp;<span class="op" id="4794921">:=</span>&nbsp;<span class="ident" id="4794924">t</span><span class="op" id="4794925">.</span><span class="op" id="4794926">(</span><span class="keyword" id="4794927">type</span><span class="op" id="4794931">)</span>&nbsp;<span class="op" id="4794933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794937">case</span>&nbsp;<span class="ident" id="4794942">CharData</span><span class="op" id="4794950">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4794955">if</span>&nbsp;<span class="ident" id="4794958">depth</span>&nbsp;<span class="op" id="4794964">==</span>&nbsp;<span class="num" id="4794967">1</span>&nbsp;<span class="op" id="4794969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4794975">buf</span>&nbsp;<span class="op" id="4794979">=</span>&nbsp;<span class="builtinfunc" id="4794981">append</span><span class="op" id="4794987">(</span><span class="ident" id="4794988">buf</span><span class="op" id="4794991">,</span>&nbsp;<span class="ident" id="4794993">t</span><span class="op" id="4794994">...</span><span class="op" id="4794997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4795002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795006">case</span>&nbsp;<span class="ident" id="4795011">StartElement</span><span class="op" id="4795023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4795028">depth</span><span class="op" id="4795033">++</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795038">case</span>&nbsp;<span class="ident" id="4795043">EndElement</span><span class="op" id="4795053">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4795058">depth</span><span class="op" id="4795063">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4795068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4795071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795074">return</span>&nbsp;<span class="ident" id="4795081">val</span><span class="op" id="4795084">.</span><span class="ident" id="4795085">UnmarshalText</span><span class="op" id="4795098">(</span><span class="ident" id="4795099">buf</span><span class="op" id="4795102">)</span><br>
<span class="lineno">225</span><span class="op" id="4795104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4795107">//&nbsp;unmarshalAttr&nbsp;unmarshals&nbsp;a&nbsp;single&nbsp;XML&nbsp;attribute&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="keyword" id="4795168">func</span>&nbsp;<span class="op" id="4795173">(</span><span class="ident" id="4795174">p</span>&nbsp;<span class="op" id="4795176">*</span><span class="ident" id="4795177">Decoder</span><span class="op" id="4795184">)</span>&nbsp;<span class="ident" id="4795186">unmarshalAttr</span><span class="op" id="4795199">(</span><span class="ident" id="4795200">val</span>&nbsp;<span class="ident" id="4795204">reflect</span><span class="op" id="4795211">.</span><span class="ident" id="4795212">Value</span><span class="op" id="4795217">,</span>&nbsp;<span class="ident" id="4795219">attr</span>&nbsp;<span class="ident" id="4795224">Attr</span><span class="op" id="4795228">)</span>&nbsp;<span class="builtintype" id="4795230">error</span>&nbsp;<span class="op" id="4795236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795239">if</span>&nbsp;<span class="ident" id="4795242">val</span><span class="op" id="4795245">.</span><span class="ident" id="4795246">Kind</span><span class="op" id="4795250">(</span><span class="op" id="4795251">)</span>&nbsp;<span class="op" id="4795253">==</span>&nbsp;<span class="ident" id="4795256">reflect</span><span class="op" id="4795263">.</span><span class="ident" id="4795264">Ptr</span>&nbsp;<span class="op" id="4795268">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795272">if</span>&nbsp;<span class="ident" id="4795275">val</span><span class="op" id="4795278">.</span><span class="ident" id="4795279">IsNil</span><span class="op" id="4795284">(</span><span class="op" id="4795285">)</span>&nbsp;<span class="op" id="4795287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4795292">val</span><span class="op" id="4795295">.</span><span class="ident" id="4795296">Set</span><span class="op" id="4795299">(</span><span class="ident" id="4795300">reflect</span><span class="op" id="4795307">.</span><span class="ident" id="4795308">New</span><span class="op" id="4795311">(</span><span class="ident" id="4795312">val</span><span class="op" id="4795315">.</span><span class="ident" id="4795316">Type</span><span class="op" id="4795320">(</span><span class="op" id="4795321">)</span><span class="op" id="4795322">.</span><span class="ident" id="4795323">Elem</span><span class="op" id="4795327">(</span><span class="op" id="4795328">)</span><span class="op" id="4795329">)</span><span class="op" id="4795330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4795334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4795338">val</span>&nbsp;<span class="op" id="4795342">=</span>&nbsp;<span class="ident" id="4795344">val</span><span class="op" id="4795347">.</span><span class="ident" id="4795348">Elem</span><span class="op" id="4795352">(</span><span class="op" id="4795353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4795356">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795360">if</span>&nbsp;<span class="ident" id="4795363">val</span><span class="op" id="4795366">.</span><span class="ident" id="4795367">CanInterface</span><span class="op" id="4795379">(</span><span class="op" id="4795380">)</span>&nbsp;<span class="op" id="4795382">&amp;&amp;</span>&nbsp;<span class="ident" id="4795385">val</span><span class="op" id="4795388">.</span><span class="ident" id="4795389">Type</span><span class="op" id="4795393">(</span><span class="op" id="4795394">)</span><span class="op" id="4795395">.</span><span class="ident" id="4795396">Implements</span><span class="op" id="4795406">(</span><span class="ident" id="4795407">unmarshalerAttrType</span><span class="op" id="4795426">)</span>&nbsp;<span class="op" id="4795428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4795432">//&nbsp;This&nbsp;is&nbsp;an&nbsp;unmarshaler&nbsp;with&nbsp;a&nbsp;non-pointer&nbsp;receiver,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4795489">//&nbsp;so&nbsp;it&#39;s&nbsp;likely&nbsp;to&nbsp;be&nbsp;incorrect,&nbsp;but&nbsp;we&nbsp;do&nbsp;what&nbsp;we&#39;re&nbsp;told.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795553">return</span>&nbsp;<span class="ident" id="4795560">val</span><span class="op" id="4795563">.</span><span class="ident" id="4795564">Interface</span><span class="op" id="4795573">(</span><span class="op" id="4795574">)</span><span class="op" id="4795575">.</span><span class="op" id="4795576">(</span><span class="ident" id="4795577">UnmarshalerAttr</span><span class="op" id="4795592">)</span><span class="op" id="4795593">.</span><span class="ident" id="4795594">UnmarshalXMLAttr</span><span class="op" id="4795610">(</span><span class="ident" id="4795611">attr</span><span class="op" id="4795615">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4795618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795621">if</span>&nbsp;<span class="ident" id="4795624">val</span><span class="op" id="4795627">.</span><span class="ident" id="4795628">CanAddr</span><span class="op" id="4795635">(</span><span class="op" id="4795636">)</span>&nbsp;<span class="op" id="4795638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4795642">pv</span>&nbsp;<span class="op" id="4795645">:=</span>&nbsp;<span class="ident" id="4795648">val</span><span class="op" id="4795651">.</span><span class="ident" id="4795652">Addr</span><span class="op" id="4795656">(</span><span class="op" id="4795657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795661">if</span>&nbsp;<span class="ident" id="4795664">pv</span><span class="op" id="4795666">.</span><span class="ident" id="4795667">CanInterface</span><span class="op" id="4795679">(</span><span class="op" id="4795680">)</span>&nbsp;<span class="op" id="4795682">&amp;&amp;</span>&nbsp;<span class="ident" id="4795685">pv</span><span class="op" id="4795687">.</span><span class="ident" id="4795688">Type</span><span class="op" id="4795692">(</span><span class="op" id="4795693">)</span><span class="op" id="4795694">.</span><span class="ident" id="4795695">Implements</span><span class="op" id="4795705">(</span><span class="ident" id="4795706">unmarshalerAttrType</span><span class="op" id="4795725">)</span>&nbsp;<span class="op" id="4795727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795732">return</span>&nbsp;<span class="ident" id="4795739">pv</span><span class="op" id="4795741">.</span><span class="ident" id="4795742">Interface</span><span class="op" id="4795751">(</span><span class="op" id="4795752">)</span><span class="op" id="4795753">.</span><span class="op" id="4795754">(</span><span class="ident" id="4795755">UnmarshalerAttr</span><span class="op" id="4795770">)</span><span class="op" id="4795771">.</span><span class="ident" id="4795772">UnmarshalXMLAttr</span><span class="op" id="4795788">(</span><span class="ident" id="4795789">attr</span><span class="op" id="4795793">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4795797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4795800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4795804">//&nbsp;Not&nbsp;an&nbsp;UnmarshalerAttr;&nbsp;try&nbsp;encoding.TextUnmarshaler.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4795862">if</span>&nbsp;<span class="ident" id="4795865">val</span><span class="op" id="4795868">.</span><span class="ident" id="4795869">CanInterface</span><span class="op" id="4795881">(</span><span class="op" id="4795882">)</span>&nbsp;<span class="op" id="4795884">&amp;&amp;</span>&nbsp;<span class="ident" id="4795887">val</span><span class="op" id="4795890">.</span><span class="ident" id="4795891">Type</span><span class="op" id="4795895">(</span><span class="op" id="4795896">)</span><span class="op" id="4795897">.</span><span class="ident" id="4795898">Implements</span><span class="op" id="4795908">(</span><span class="ident" id="4795909">textUnmarshalerType</span><span class="op" id="4795928">)</span>&nbsp;<span class="op" id="4795930">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4795934">//&nbsp;This&nbsp;is&nbsp;an&nbsp;unmarshaler&nbsp;with&nbsp;a&nbsp;non-pointer&nbsp;receiver,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4795991">//&nbsp;so&nbsp;it&#39;s&nbsp;likely&nbsp;to&nbsp;be&nbsp;incorrect,&nbsp;but&nbsp;we&nbsp;do&nbsp;what&nbsp;we&#39;re&nbsp;told.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796055">return</span>&nbsp;<span class="ident" id="4796062">val</span><span class="op" id="4796065">.</span><span class="ident" id="4796066">Interface</span><span class="op" id="4796075">(</span><span class="op" id="4796076">)</span><span class="op" id="4796077">.</span><span class="op" id="4796078">(</span><span class="ident" id="4796079">encoding</span><span class="op" id="4796087">.</span><span class="ident" id="4796088">TextUnmarshaler</span><span class="op" id="4796103">)</span><span class="op" id="4796104">.</span><span class="ident" id="4796105">UnmarshalText</span><span class="op" id="4796118">(</span><span class="op" id="4796119">[</span><span class="op" id="4796120">]</span><span class="builtintype" id="4796121">byte</span><span class="op" id="4796125">(</span><span class="ident" id="4796126">attr</span><span class="op" id="4796130">.</span><span class="ident" id="4796131">Value</span><span class="op" id="4796136">)</span><span class="op" id="4796137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4796140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796143">if</span>&nbsp;<span class="ident" id="4796146">val</span><span class="op" id="4796149">.</span><span class="ident" id="4796150">CanAddr</span><span class="op" id="4796157">(</span><span class="op" id="4796158">)</span>&nbsp;<span class="op" id="4796160">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4796164">pv</span>&nbsp;<span class="op" id="4796167">:=</span>&nbsp;<span class="ident" id="4796170">val</span><span class="op" id="4796173">.</span><span class="ident" id="4796174">Addr</span><span class="op" id="4796178">(</span><span class="op" id="4796179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796183">if</span>&nbsp;<span class="ident" id="4796186">pv</span><span class="op" id="4796188">.</span><span class="ident" id="4796189">CanInterface</span><span class="op" id="4796201">(</span><span class="op" id="4796202">)</span>&nbsp;<span class="op" id="4796204">&amp;&amp;</span>&nbsp;<span class="ident" id="4796207">pv</span><span class="op" id="4796209">.</span><span class="ident" id="4796210">Type</span><span class="op" id="4796214">(</span><span class="op" id="4796215">)</span><span class="op" id="4796216">.</span><span class="ident" id="4796217">Implements</span><span class="op" id="4796227">(</span><span class="ident" id="4796228">textUnmarshalerType</span><span class="op" id="4796247">)</span>&nbsp;<span class="op" id="4796249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796254">return</span>&nbsp;<span class="ident" id="4796261">pv</span><span class="op" id="4796263">.</span><span class="ident" id="4796264">Interface</span><span class="op" id="4796273">(</span><span class="op" id="4796274">)</span><span class="op" id="4796275">.</span><span class="op" id="4796276">(</span><span class="ident" id="4796277">encoding</span><span class="op" id="4796285">.</span><span class="ident" id="4796286">TextUnmarshaler</span><span class="op" id="4796301">)</span><span class="op" id="4796302">.</span><span class="ident" id="4796303">UnmarshalText</span><span class="op" id="4796316">(</span><span class="op" id="4796317">[</span><span class="op" id="4796318">]</span><span class="builtintype" id="4796319">byte</span><span class="op" id="4796323">(</span><span class="ident" id="4796324">attr</span><span class="op" id="4796328">.</span><span class="ident" id="4796329">Value</span><span class="op" id="4796334">)</span><span class="op" id="4796335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4796339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4796342">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4796346">copyValue</span><span class="op" id="4796355">(</span><span class="ident" id="4796356">val</span><span class="op" id="4796359">,</span>&nbsp;<span class="op" id="4796361">[</span><span class="op" id="4796362">]</span><span class="builtintype" id="4796363">byte</span><span class="op" id="4796367">(</span><span class="ident" id="4796368">attr</span><span class="op" id="4796372">.</span><span class="ident" id="4796373">Value</span><span class="op" id="4796378">)</span><span class="op" id="4796379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796382">return</span>&nbsp;<span class="builtintype" id="4796389">nil</span><br>
<span class="lineno"></span><span class="op" id="4796393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="4796396">var</span>&nbsp;<span class="op" id="4796400">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4796403">unmarshalerType</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4796423">=</span>&nbsp;<span class="ident" id="4796425">reflect</span><span class="op" id="4796432">.</span><span class="ident" id="4796433">TypeOf</span><span class="op" id="4796439">(</span><span class="op" id="4796440">(</span><span class="op" id="4796441">*</span><span class="ident" id="4796442">Unmarshaler</span><span class="op" id="4796453">)</span><span class="op" id="4796454">(</span><span class="builtintype" id="4796455">nil</span><span class="op" id="4796458">)</span><span class="op" id="4796459">)</span><span class="op" id="4796460">.</span><span class="ident" id="4796461">Elem</span><span class="op" id="4796465">(</span><span class="op" id="4796466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4796469">unmarshalerAttrType</span>&nbsp;<span class="op" id="4796489">=</span>&nbsp;<span class="ident" id="4796491">reflect</span><span class="op" id="4796498">.</span><span class="ident" id="4796499">TypeOf</span><span class="op" id="4796505">(</span><span class="op" id="4796506">(</span><span class="op" id="4796507">*</span><span class="ident" id="4796508">UnmarshalerAttr</span><span class="op" id="4796523">)</span><span class="op" id="4796524">(</span><span class="builtintype" id="4796525">nil</span><span class="op" id="4796528">)</span><span class="op" id="4796529">)</span><span class="op" id="4796530">.</span><span class="ident" id="4796531">Elem</span><span class="op" id="4796535">(</span><span class="op" id="4796536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4796539">textUnmarshalerType</span>&nbsp;<span class="op" id="4796559">=</span>&nbsp;<span class="ident" id="4796561">reflect</span><span class="op" id="4796568">.</span><span class="ident" id="4796569">TypeOf</span><span class="op" id="4796575">(</span><span class="op" id="4796576">(</span><span class="op" id="4796577">*</span><span class="ident" id="4796578">encoding</span><span class="op" id="4796586">.</span><span class="ident" id="4796587">TextUnmarshaler</span><span class="op" id="4796602">)</span><span class="op" id="4796603">(</span><span class="builtintype" id="4796604">nil</span><span class="op" id="4796607">)</span><span class="op" id="4796608">)</span><span class="op" id="4796609">.</span><span class="ident" id="4796610">Elem</span><span class="op" id="4796614">(</span><span class="op" id="4796615">)</span><br>
<span class="lineno"></span><span class="op" id="4796617">)</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="4796620">//&nbsp;Unmarshal&nbsp;a&nbsp;single&nbsp;XML&nbsp;element&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="keyword" id="4796664">func</span>&nbsp;<span class="op" id="4796669">(</span><span class="ident" id="4796670">p</span>&nbsp;<span class="op" id="4796672">*</span><span class="ident" id="4796673">Decoder</span><span class="op" id="4796680">)</span>&nbsp;<span class="ident" id="4796682">unmarshal</span><span class="op" id="4796691">(</span><span class="ident" id="4796692">val</span>&nbsp;<span class="ident" id="4796696">reflect</span><span class="op" id="4796703">.</span><span class="ident" id="4796704">Value</span><span class="op" id="4796709">,</span>&nbsp;<span class="ident" id="4796711">start</span>&nbsp;<span class="op" id="4796717">*</span><span class="ident" id="4796718">StartElement</span><span class="op" id="4796730">)</span>&nbsp;<span class="builtintype" id="4796732">error</span>&nbsp;<span class="op" id="4796738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4796741">//&nbsp;Find&nbsp;start&nbsp;element&nbsp;if&nbsp;we&nbsp;need&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796779">if</span>&nbsp;<span class="ident" id="4796782">start</span>&nbsp;<span class="op" id="4796788">==</span>&nbsp;<span class="builtintype" id="4796791">nil</span>&nbsp;<span class="op" id="4796795">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796799">for</span>&nbsp;<span class="op" id="4796803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4796808">tok</span><span class="op" id="4796811">,</span>&nbsp;<span class="ident" id="4796813">err</span>&nbsp;<span class="op" id="4796817">:=</span>&nbsp;<span class="ident" id="4796820">p</span><span class="op" id="4796821">.</span><span class="ident" id="4796822">Token</span><span class="op" id="4796827">(</span><span class="op" id="4796828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796833">if</span>&nbsp;<span class="ident" id="4796836">err</span>&nbsp;<span class="op" id="4796840">!=</span>&nbsp;<span class="builtintype" id="4796843">nil</span>&nbsp;<span class="op" id="4796847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796853">return</span>&nbsp;<span class="ident" id="4796860">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4796867">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796872">if</span>&nbsp;<span class="ident" id="4796875">t</span><span class="op" id="4796876">,</span>&nbsp;<span class="ident" id="4796878">ok</span>&nbsp;<span class="op" id="4796881">:=</span>&nbsp;<span class="ident" id="4796884">tok</span><span class="op" id="4796887">.</span><span class="op" id="4796888">(</span><span class="ident" id="4796889">StartElement</span><span class="op" id="4796901">)</span><span class="op" id="4796902">;</span>&nbsp;<span class="ident" id="4796904">ok</span>&nbsp;<span class="op" id="4796907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4796913">start</span>&nbsp;<span class="op" id="4796919">=</span>&nbsp;<span class="op" id="4796921">&amp;</span><span class="ident" id="4796922">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4796928">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4796937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4796941">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4796944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4796948">//&nbsp;Load&nbsp;value&nbsp;from&nbsp;interface,&nbsp;but&nbsp;only&nbsp;if&nbsp;the&nbsp;result&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4797010">//&nbsp;usefully&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797036">if</span>&nbsp;<span class="ident" id="4797039">val</span><span class="op" id="4797042">.</span><span class="ident" id="4797043">Kind</span><span class="op" id="4797047">(</span><span class="op" id="4797048">)</span>&nbsp;<span class="op" id="4797050">==</span>&nbsp;<span class="ident" id="4797053">reflect</span><span class="op" id="4797060">.</span><span class="ident" id="4797061">Interface</span>&nbsp;<span class="op" id="4797071">&amp;&amp;</span>&nbsp;<span class="op" id="4797074">!</span><span class="ident" id="4797075">val</span><span class="op" id="4797078">.</span><span class="ident" id="4797079">IsNil</span><span class="op" id="4797084">(</span><span class="op" id="4797085">)</span>&nbsp;<span class="op" id="4797087">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4797091">e</span>&nbsp;<span class="op" id="4797093">:=</span>&nbsp;<span class="ident" id="4797096">val</span><span class="op" id="4797099">.</span><span class="ident" id="4797100">Elem</span><span class="op" id="4797104">(</span><span class="op" id="4797105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797109">if</span>&nbsp;<span class="ident" id="4797112">e</span><span class="op" id="4797113">.</span><span class="ident" id="4797114">Kind</span><span class="op" id="4797118">(</span><span class="op" id="4797119">)</span>&nbsp;<span class="op" id="4797121">==</span>&nbsp;<span class="ident" id="4797124">reflect</span><span class="op" id="4797131">.</span><span class="ident" id="4797132">Ptr</span>&nbsp;<span class="op" id="4797136">&amp;&amp;</span>&nbsp;<span class="op" id="4797139">!</span><span class="ident" id="4797140">e</span><span class="op" id="4797141">.</span><span class="ident" id="4797142">IsNil</span><span class="op" id="4797147">(</span><span class="op" id="4797148">)</span>&nbsp;<span class="op" id="4797150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4797155">val</span>&nbsp;<span class="op" id="4797159">=</span>&nbsp;<span class="ident" id="4797161">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4797165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4797168">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797172">if</span>&nbsp;<span class="ident" id="4797175">val</span><span class="op" id="4797178">.</span><span class="ident" id="4797179">Kind</span><span class="op" id="4797183">(</span><span class="op" id="4797184">)</span>&nbsp;<span class="op" id="4797186">==</span>&nbsp;<span class="ident" id="4797189">reflect</span><span class="op" id="4797196">.</span><span class="ident" id="4797197">Ptr</span>&nbsp;<span class="op" id="4797201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797205">if</span>&nbsp;<span class="ident" id="4797208">val</span><span class="op" id="4797211">.</span><span class="ident" id="4797212">IsNil</span><span class="op" id="4797217">(</span><span class="op" id="4797218">)</span>&nbsp;<span class="op" id="4797220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4797225">val</span><span class="op" id="4797228">.</span><span class="ident" id="4797229">Set</span><span class="op" id="4797232">(</span><span class="ident" id="4797233">reflect</span><span class="op" id="4797240">.</span><span class="ident" id="4797241">New</span><span class="op" id="4797244">(</span><span class="ident" id="4797245">val</span><span class="op" id="4797248">.</span><span class="ident" id="4797249">Type</span><span class="op" id="4797253">(</span><span class="op" id="4797254">)</span><span class="op" id="4797255">.</span><span class="ident" id="4797256">Elem</span><span class="op" id="4797260">(</span><span class="op" id="4797261">)</span><span class="op" id="4797262">)</span><span class="op" id="4797263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4797267">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4797271">val</span>&nbsp;<span class="op" id="4797275">=</span>&nbsp;<span class="ident" id="4797277">val</span><span class="op" id="4797280">.</span><span class="ident" id="4797281">Elem</span><span class="op" id="4797285">(</span><span class="op" id="4797286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4797289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797293">if</span>&nbsp;<span class="ident" id="4797296">val</span><span class="op" id="4797299">.</span><span class="ident" id="4797300">CanInterface</span><span class="op" id="4797312">(</span><span class="op" id="4797313">)</span>&nbsp;<span class="op" id="4797315">&amp;&amp;</span>&nbsp;<span class="ident" id="4797318">val</span><span class="op" id="4797321">.</span><span class="ident" id="4797322">Type</span><span class="op" id="4797326">(</span><span class="op" id="4797327">)</span><span class="op" id="4797328">.</span><span class="ident" id="4797329">Implements</span><span class="op" id="4797339">(</span><span class="ident" id="4797340">unmarshalerType</span><span class="op" id="4797355">)</span>&nbsp;<span class="op" id="4797357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4797361">//&nbsp;This&nbsp;is&nbsp;an&nbsp;unmarshaler&nbsp;with&nbsp;a&nbsp;non-pointer&nbsp;receiver,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4797418">//&nbsp;so&nbsp;it&#39;s&nbsp;likely&nbsp;to&nbsp;be&nbsp;incorrect,&nbsp;but&nbsp;we&nbsp;do&nbsp;what&nbsp;we&#39;re&nbsp;told.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797482">return</span>&nbsp;<span class="ident" id="4797489">p</span><span class="op" id="4797490">.</span><span class="ident" id="4797491">unmarshalInterface</span><span class="op" id="4797509">(</span><span class="ident" id="4797510">val</span><span class="op" id="4797513">.</span><span class="ident" id="4797514">Interface</span><span class="op" id="4797523">(</span><span class="op" id="4797524">)</span><span class="op" id="4797525">.</span><span class="op" id="4797526">(</span><span class="ident" id="4797527">Unmarshaler</span><span class="op" id="4797538">)</span><span class="op" id="4797539">,</span>&nbsp;<span class="ident" id="4797541">start</span><span class="op" id="4797546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4797549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797553">if</span>&nbsp;<span class="ident" id="4797556">val</span><span class="op" id="4797559">.</span><span class="ident" id="4797560">CanAddr</span><span class="op" id="4797567">(</span><span class="op" id="4797568">)</span>&nbsp;<span class="op" id="4797570">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4797574">pv</span>&nbsp;<span class="op" id="4797577">:=</span>&nbsp;<span class="ident" id="4797580">val</span><span class="op" id="4797583">.</span><span class="ident" id="4797584">Addr</span><span class="op" id="4797588">(</span><span class="op" id="4797589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797593">if</span>&nbsp;<span class="ident" id="4797596">pv</span><span class="op" id="4797598">.</span><span class="ident" id="4797599">CanInterface</span><span class="op" id="4797611">(</span><span class="op" id="4797612">)</span>&nbsp;<span class="op" id="4797614">&amp;&amp;</span>&nbsp;<span class="ident" id="4797617">pv</span><span class="op" id="4797619">.</span><span class="ident" id="4797620">Type</span><span class="op" id="4797624">(</span><span class="op" id="4797625">)</span><span class="op" id="4797626">.</span><span class="ident" id="4797627">Implements</span><span class="op" id="4797637">(</span><span class="ident" id="4797638">unmarshalerType</span><span class="op" id="4797653">)</span>&nbsp;<span class="op" id="4797655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797660">return</span>&nbsp;<span class="ident" id="4797667">p</span><span class="op" id="4797668">.</span><span class="ident" id="4797669">unmarshalInterface</span><span class="op" id="4797687">(</span><span class="ident" id="4797688">pv</span><span class="op" id="4797690">.</span><span class="ident" id="4797691">Interface</span><span class="op" id="4797700">(</span><span class="op" id="4797701">)</span><span class="op" id="4797702">.</span><span class="op" id="4797703">(</span><span class="ident" id="4797704">Unmarshaler</span><span class="op" id="4797715">)</span><span class="op" id="4797716">,</span>&nbsp;<span class="ident" id="4797718">start</span><span class="op" id="4797723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4797727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4797730">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797734">if</span>&nbsp;<span class="ident" id="4797737">val</span><span class="op" id="4797740">.</span><span class="ident" id="4797741">CanInterface</span><span class="op" id="4797753">(</span><span class="op" id="4797754">)</span>&nbsp;<span class="op" id="4797756">&amp;&amp;</span>&nbsp;<span class="ident" id="4797759">val</span><span class="op" id="4797762">.</span><span class="ident" id="4797763">Type</span><span class="op" id="4797767">(</span><span class="op" id="4797768">)</span><span class="op" id="4797769">.</span><span class="ident" id="4797770">Implements</span><span class="op" id="4797780">(</span><span class="ident" id="4797781">textUnmarshalerType</span><span class="op" id="4797800">)</span>&nbsp;<span class="op" id="4797802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797806">return</span>&nbsp;<span class="ident" id="4797813">p</span><span class="op" id="4797814">.</span><span class="ident" id="4797815">unmarshalTextInterface</span><span class="op" id="4797837">(</span><span class="ident" id="4797838">val</span><span class="op" id="4797841">.</span><span class="ident" id="4797842">Interface</span><span class="op" id="4797851">(</span><span class="op" id="4797852">)</span><span class="op" id="4797853">.</span><span class="op" id="4797854">(</span><span class="ident" id="4797855">encoding</span><span class="op" id="4797863">.</span><span class="ident" id="4797864">TextUnmarshaler</span><span class="op" id="4797879">)</span><span class="op" id="4797880">,</span>&nbsp;<span class="ident" id="4797882">start</span><span class="op" id="4797887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4797890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797894">if</span>&nbsp;<span class="ident" id="4797897">val</span><span class="op" id="4797900">.</span><span class="ident" id="4797901">CanAddr</span><span class="op" id="4797908">(</span><span class="op" id="4797909">)</span>&nbsp;<span class="op" id="4797911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4797915">pv</span>&nbsp;<span class="op" id="4797918">:=</span>&nbsp;<span class="ident" id="4797921">val</span><span class="op" id="4797924">.</span><span class="ident" id="4797925">Addr</span><span class="op" id="4797929">(</span><span class="op" id="4797930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4797934">if</span>&nbsp;<span class="ident" id="4797937">pv</span><span class="op" id="4797939">.</span><span class="ident" id="4797940">CanInterface</span><span class="op" id="4797952">(</span><span class="op" id="4797953">)</span>&nbsp;<span class="op" id="4797955">&amp;&amp;</span>&nbsp;<span class="ident" id="4797958">pv</span><span class="op" id="4797960">.</span><span class="ident" id="4797961">Type</span><span class="op" id="4797965">(</span><span class="op" id="4797966">)</span><span class="op" id="4797967">.</span><span class="ident" id="4797968">Implements</span><span class="op" id="4797978">(</span><span class="ident" id="4797979">textUnmarshalerType</span><span class="op" id="4797998">)</span>&nbsp;<span class="op" id="4798000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798005">return</span>&nbsp;<span class="ident" id="4798012">p</span><span class="op" id="4798013">.</span><span class="ident" id="4798014">unmarshalTextInterface</span><span class="op" id="4798036">(</span><span class="ident" id="4798037">pv</span><span class="op" id="4798039">.</span><span class="ident" id="4798040">Interface</span><span class="op" id="4798049">(</span><span class="op" id="4798050">)</span><span class="op" id="4798051">.</span><span class="op" id="4798052">(</span><span class="ident" id="4798053">encoding</span><span class="op" id="4798061">.</span><span class="ident" id="4798062">TextUnmarshaler</span><span class="op" id="4798077">)</span><span class="op" id="4798078">,</span>&nbsp;<span class="ident" id="4798080">start</span><span class="op" id="4798085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4798089">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4798092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798096">var</span>&nbsp;<span class="op" id="4798100">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798104">data</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4798117">[</span><span class="op" id="4798118">]</span><span class="builtintype" id="4798119">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798126">saveData</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798139">reflect</span><span class="op" id="4798146">.</span><span class="ident" id="4798147">Value</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798155">comment</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4798168">[</span><span class="op" id="4798169">]</span><span class="builtintype" id="4798170">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798177">saveComment</span>&nbsp;&nbsp;<span class="ident" id="4798190">reflect</span><span class="op" id="4798197">.</span><span class="ident" id="4798198">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798206">saveXML</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798219">reflect</span><span class="op" id="4798226">.</span><span class="ident" id="4798227">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798235">saveXMLIndex</span>&nbsp;<span class="builtintype" id="4798248">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798254">saveXMLData</span>&nbsp;&nbsp;<span class="op" id="4798267">[</span><span class="op" id="4798268">]</span><span class="builtintype" id="4798269">byte</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798276">saveAny</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798289">reflect</span><span class="op" id="4798296">.</span><span class="ident" id="4798297">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798305">sv</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798318">reflect</span><span class="op" id="4798325">.</span><span class="ident" id="4798326">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798334">tinfo</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4798347">*</span><span class="ident" id="4798348">typeInfo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798359">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4798372">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4798379">)</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798383">switch</span>&nbsp;<span class="ident" id="4798390">v</span>&nbsp;<span class="op" id="4798392">:=</span>&nbsp;<span class="ident" id="4798395">val</span><span class="op" id="4798398">;</span>&nbsp;<span class="ident" id="4798400">v</span><span class="op" id="4798401">.</span><span class="ident" id="4798402">Kind</span><span class="op" id="4798406">(</span><span class="op" id="4798407">)</span>&nbsp;<span class="op" id="4798409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798412">default</span><span class="op" id="4798419">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798423">return</span>&nbsp;<span class="ident" id="4798430">errors</span><span class="op" id="4798436">.</span><span class="ident" id="4798437">New</span><span class="op" id="4798440">(</span><span class="string" id="4798441">&#34;unknown&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="4798457">+</span>&nbsp;<span class="ident" id="4798459">v</span><span class="op" id="4798460">.</span><span class="ident" id="4798461">Type</span><span class="op" id="4798465">(</span><span class="op" id="4798466">)</span><span class="op" id="4798467">.</span><span class="ident" id="4798468">String</span><span class="op" id="4798474">(</span><span class="op" id="4798475">)</span><span class="op" id="4798476">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798480">case</span>&nbsp;<span class="ident" id="4798485">reflect</span><span class="op" id="4798492">.</span><span class="ident" id="4798493">Interface</span><span class="op" id="4798502">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4798506">//&nbsp;TODO:&nbsp;For&nbsp;now,&nbsp;simply&nbsp;ignore&nbsp;the&nbsp;field.&nbsp;In&nbsp;the&nbsp;near</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4798563">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;future&nbsp;we&nbsp;may&nbsp;choose&nbsp;to&nbsp;unmarshal&nbsp;the&nbsp;start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4798618">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;on&nbsp;it,&nbsp;if&nbsp;not&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798656">return</span>&nbsp;<span class="ident" id="4798663">p</span><span class="op" id="4798664">.</span><span class="ident" id="4798665">Skip</span><span class="op" id="4798669">(</span><span class="op" id="4798670">)</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798674">case</span>&nbsp;<span class="ident" id="4798679">reflect</span><span class="op" id="4798686">.</span><span class="ident" id="4798687">Slice</span><span class="op" id="4798692">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798696">typ</span>&nbsp;<span class="op" id="4798700">:=</span>&nbsp;<span class="ident" id="4798703">v</span><span class="op" id="4798704">.</span><span class="ident" id="4798705">Type</span><span class="op" id="4798709">(</span><span class="op" id="4798710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798714">if</span>&nbsp;<span class="ident" id="4798717">typ</span><span class="op" id="4798720">.</span><span class="ident" id="4798721">Elem</span><span class="op" id="4798725">(</span><span class="op" id="4798726">)</span><span class="op" id="4798727">.</span><span class="ident" id="4798728">Kind</span><span class="op" id="4798732">(</span><span class="op" id="4798733">)</span>&nbsp;<span class="op" id="4798735">==</span>&nbsp;<span class="ident" id="4798738">reflect</span><span class="op" id="4798745">.</span><span class="ident" id="4798746">Uint8</span>&nbsp;<span class="op" id="4798752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4798757">//&nbsp;[]byte</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798770">saveData</span>&nbsp;<span class="op" id="4798779">=</span>&nbsp;<span class="ident" id="4798781">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798786">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4798794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4798799">//&nbsp;Slice&nbsp;of&nbsp;element&nbsp;values.</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4798829">//&nbsp;Grow&nbsp;slice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798846">n</span>&nbsp;<span class="op" id="4798848">:=</span>&nbsp;<span class="ident" id="4798851">v</span><span class="op" id="4798852">.</span><span class="ident" id="4798853">Len</span><span class="op" id="4798856">(</span><span class="op" id="4798857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798861">if</span>&nbsp;<span class="ident" id="4798864">n</span>&nbsp;<span class="op" id="4798866">&gt;=</span>&nbsp;<span class="ident" id="4798869">v</span><span class="op" id="4798870">.</span><span class="ident" id="4798871">Cap</span><span class="op" id="4798874">(</span><span class="op" id="4798875">)</span>&nbsp;<span class="op" id="4798877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798882">ncap</span>&nbsp;<span class="op" id="4798887">:=</span>&nbsp;<span class="num" id="4798890">2</span>&nbsp;<span class="op" id="4798892">*</span>&nbsp;<span class="ident" id="4798894">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4798899">if</span>&nbsp;<span class="ident" id="4798902">ncap</span>&nbsp;<span class="op" id="4798907">&lt;</span>&nbsp;<span class="num" id="4798909">4</span>&nbsp;<span class="op" id="4798911">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798917">ncap</span>&nbsp;<span class="op" id="4798922">=</span>&nbsp;<span class="num" id="4798924">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4798929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4798934">new</span>&nbsp;<span class="op" id="4798938">:=</span>&nbsp;<span class="ident" id="4798941">reflect</span><span class="op" id="4798948">.</span><span class="ident" id="4798949">MakeSlice</span><span class="op" id="4798958">(</span><span class="ident" id="4798959">typ</span><span class="op" id="4798962">,</span>&nbsp;<span class="ident" id="4798964">n</span><span class="op" id="4798965">,</span>&nbsp;<span class="ident" id="4798967">ncap</span><span class="op" id="4798971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4798976">reflect</span><span class="op" id="4798983">.</span><span class="ident" id="4798984">Copy</span><span class="op" id="4798988">(</span><span class="builtinfunc" id="4798989">new</span><span class="op" id="4798992">,</span>&nbsp;<span class="ident" id="4798994">v</span><span class="op" id="4798995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4799000">v</span><span class="op" id="4799001">.</span><span class="ident" id="4799002">Set</span><span class="op" id="4799005">(</span><span class="builtinfunc" id="4799006">new</span><span class="op" id="4799009">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4799013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4799017">v</span><span class="op" id="4799018">.</span><span class="ident" id="4799019">SetLen</span><span class="op" id="4799025">(</span><span class="ident" id="4799026">n</span>&nbsp;<span class="op" id="4799028">+</span>&nbsp;<span class="num" id="4799030">1</span><span class="op" id="4799031">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4799036">//&nbsp;Recur&nbsp;to&nbsp;read&nbsp;element&nbsp;into&nbsp;slice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799075">if</span>&nbsp;<span class="ident" id="4799078">err</span>&nbsp;<span class="op" id="4799082">:=</span>&nbsp;<span class="ident" id="4799085">p</span><span class="op" id="4799086">.</span><span class="ident" id="4799087">unmarshal</span><span class="op" id="4799096">(</span><span class="ident" id="4799097">v</span><span class="op" id="4799098">.</span><span class="ident" id="4799099">Index</span><span class="op" id="4799104">(</span><span class="ident" id="4799105">n</span><span class="op" id="4799106">)</span><span class="op" id="4799107">,</span>&nbsp;<span class="ident" id="4799109">start</span><span class="op" id="4799114">)</span><span class="op" id="4799115">;</span>&nbsp;<span class="ident" id="4799117">err</span>&nbsp;<span class="op" id="4799121">!=</span>&nbsp;<span class="builtintype" id="4799124">nil</span>&nbsp;<span class="op" id="4799128">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4799133">v</span><span class="op" id="4799134">.</span><span class="ident" id="4799135">SetLen</span><span class="op" id="4799141">(</span><span class="ident" id="4799142">n</span><span class="op" id="4799143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799148">return</span>&nbsp;<span class="ident" id="4799155">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4799161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799165">return</span>&nbsp;<span class="builtintype" id="4799172">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799178">case</span>&nbsp;<span class="ident" id="4799183">reflect</span><span class="op" id="4799190">.</span><span class="ident" id="4799191">Bool</span><span class="op" id="4799195">,</span>&nbsp;<span class="ident" id="4799197">reflect</span><span class="op" id="4799204">.</span><span class="ident" id="4799205">Float32</span><span class="op" id="4799212">,</span>&nbsp;<span class="ident" id="4799214">reflect</span><span class="op" id="4799221">.</span><span class="ident" id="4799222">Float64</span><span class="op" id="4799229">,</span>&nbsp;<span class="ident" id="4799231">reflect</span><span class="op" id="4799238">.</span><span class="ident" id="4799239">Int</span><span class="op" id="4799242">,</span>&nbsp;<span class="ident" id="4799244">reflect</span><span class="op" id="4799251">.</span><span class="ident" id="4799252">Int8</span><span class="op" id="4799256">,</span>&nbsp;<span class="ident" id="4799258">reflect</span><span class="op" id="4799265">.</span><span class="ident" id="4799266">Int16</span><span class="op" id="4799271">,</span>&nbsp;<span class="ident" id="4799273">reflect</span><span class="op" id="4799280">.</span><span class="ident" id="4799281">Int32</span><span class="op" id="4799286">,</span>&nbsp;<span class="ident" id="4799288">reflect</span><span class="op" id="4799295">.</span><span class="ident" id="4799296">Int64</span><span class="op" id="4799301">,</span>&nbsp;<span class="ident" id="4799303">reflect</span><span class="op" id="4799310">.</span><span class="ident" id="4799311">Uint</span><span class="op" id="4799315">,</span>&nbsp;<span class="ident" id="4799317">reflect</span><span class="op" id="4799324">.</span><span class="ident" id="4799325">Uint8</span><span class="op" id="4799330">,</span>&nbsp;<span class="ident" id="4799332">reflect</span><span class="op" id="4799339">.</span><span class="ident" id="4799340">Uint16</span><span class="op" id="4799346">,</span>&nbsp;<span class="ident" id="4799348">reflect</span><span class="op" id="4799355">.</span><span class="ident" id="4799356">Uint32</span><span class="op" id="4799362">,</span>&nbsp;<span class="ident" id="4799364">reflect</span><span class="op" id="4799371">.</span><span class="ident" id="4799372">Uint64</span><span class="op" id="4799378">,</span>&nbsp;<span class="ident" id="4799380">reflect</span><span class="op" id="4799387">.</span><span class="ident" id="4799388">Uintptr</span><span class="op" id="4799395">,</span>&nbsp;<span class="ident" id="4799397">reflect</span><span class="op" id="4799404">.</span><span class="ident" id="4799405">String</span><span class="op" id="4799411">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4799415">saveData</span>&nbsp;<span class="op" id="4799424">=</span>&nbsp;<span class="ident" id="4799426">v</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799430">case</span>&nbsp;<span class="ident" id="4799435">reflect</span><span class="op" id="4799442">.</span><span class="ident" id="4799443">Struct</span><span class="op" id="4799449">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4799453">typ</span>&nbsp;<span class="op" id="4799457">:=</span>&nbsp;<span class="ident" id="4799460">v</span><span class="op" id="4799461">.</span><span class="ident" id="4799462">Type</span><span class="op" id="4799466">(</span><span class="op" id="4799467">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799471">if</span>&nbsp;<span class="ident" id="4799474">typ</span>&nbsp;<span class="op" id="4799478">==</span>&nbsp;<span class="ident" id="4799481">nameType</span>&nbsp;<span class="op" id="4799490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4799495">v</span><span class="op" id="4799496">.</span><span class="ident" id="4799497">Set</span><span class="op" id="4799500">(</span><span class="ident" id="4799501">reflect</span><span class="op" id="4799508">.</span><span class="ident" id="4799509">ValueOf</span><span class="op" id="4799516">(</span><span class="ident" id="4799517">start</span><span class="op" id="4799522">.</span><span class="ident" id="4799523">Name</span><span class="op" id="4799527">)</span><span class="op" id="4799528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799533">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4799541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4799546">sv</span>&nbsp;<span class="op" id="4799549">=</span>&nbsp;<span class="ident" id="4799551">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4799555">tinfo</span><span class="op" id="4799560">,</span>&nbsp;<span class="ident" id="4799562">err</span>&nbsp;<span class="op" id="4799566">=</span>&nbsp;<span class="ident" id="4799568">getTypeInfo</span><span class="op" id="4799579">(</span><span class="ident" id="4799580">typ</span><span class="op" id="4799583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799587">if</span>&nbsp;<span class="ident" id="4799590">err</span>&nbsp;<span class="op" id="4799594">!=</span>&nbsp;<span class="builtintype" id="4799597">nil</span>&nbsp;<span class="op" id="4799601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799606">return</span>&nbsp;<span class="ident" id="4799613">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4799619">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4799624">//&nbsp;Validate&nbsp;and&nbsp;assign&nbsp;element&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799663">if</span>&nbsp;<span class="ident" id="4799666">tinfo</span><span class="op" id="4799671">.</span><span class="ident" id="4799672">xmlname</span>&nbsp;<span class="op" id="4799680">!=</span>&nbsp;<span class="builtintype" id="4799683">nil</span>&nbsp;<span class="op" id="4799687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4799692">finfo</span>&nbsp;<span class="op" id="4799698">:=</span>&nbsp;<span class="ident" id="4799701">tinfo</span><span class="op" id="4799706">.</span><span class="ident" id="4799707">xmlname</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799718">if</span>&nbsp;<span class="ident" id="4799721">finfo</span><span class="op" id="4799726">.</span><span class="ident" id="4799727">name</span>&nbsp;<span class="op" id="4799732">!=</span>&nbsp;<span class="string" id="4799735">&#34;&#34;</span>&nbsp;<span class="op" id="4799738">&amp;&amp;</span>&nbsp;<span class="ident" id="4799741">finfo</span><span class="op" id="4799746">.</span><span class="ident" id="4799747">name</span>&nbsp;<span class="op" id="4799752">!=</span>&nbsp;<span class="ident" id="4799755">start</span><span class="op" id="4799760">.</span><span class="ident" id="4799761">Name</span><span class="op" id="4799765">.</span><span class="ident" id="4799766">Local</span>&nbsp;<span class="op" id="4799772">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799778">return</span>&nbsp;<span class="ident" id="4799785">UnmarshalError</span><span class="op" id="4799799">(</span><span class="string" id="4799800">&#34;expected&nbsp;element&nbsp;type&nbsp;&lt;&#34;</span>&nbsp;<span class="op" id="4799826">+</span>&nbsp;<span class="ident" id="4799828">finfo</span><span class="op" id="4799833">.</span><span class="ident" id="4799834">name</span>&nbsp;<span class="op" id="4799839">+</span>&nbsp;<span class="string" id="4799841">&#34;&gt;&nbsp;but&nbsp;have&nbsp;&lt;&#34;</span>&nbsp;<span class="op" id="4799856">+</span>&nbsp;<span class="ident" id="4799858">start</span><span class="op" id="4799863">.</span><span class="ident" id="4799864">Name</span><span class="op" id="4799868">.</span><span class="ident" id="4799869">Local</span>&nbsp;<span class="op" id="4799875">+</span>&nbsp;<span class="string" id="4799877">&#34;&gt;&#34;</span><span class="op" id="4799880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4799885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4799890">if</span>&nbsp;<span class="ident" id="4799893">finfo</span><span class="op" id="4799898">.</span><span class="ident" id="4799899">xmlns</span>&nbsp;<span class="op" id="4799905">!=</span>&nbsp;<span class="string" id="4799908">&#34;&#34;</span>&nbsp;<span class="op" id="4799911">&amp;&amp;</span>&nbsp;<span class="ident" id="4799914">finfo</span><span class="op" id="4799919">.</span><span class="ident" id="4799920">xmlns</span>&nbsp;<span class="op" id="4799926">!=</span>&nbsp;<span class="ident" id="4799929">start</span><span class="op" id="4799934">.</span><span class="ident" id="4799935">Name</span><span class="op" id="4799939">.</span><span class="ident" id="4799940">Space</span>&nbsp;<span class="op" id="4799946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4799952">e</span>&nbsp;<span class="op" id="4799954">:=</span>&nbsp;<span class="string" id="4799957">&#34;expected&nbsp;element&nbsp;&lt;&#34;</span>&nbsp;<span class="op" id="4799978">+</span>&nbsp;<span class="ident" id="4799980">finfo</span><span class="op" id="4799985">.</span><span class="ident" id="4799986">name</span>&nbsp;<span class="op" id="4799991">+</span>&nbsp;<span class="string" id="4799993">&#34;&gt;&nbsp;in&nbsp;name&nbsp;space&nbsp;&#34;</span>&nbsp;<span class="op" id="4800012">+</span>&nbsp;<span class="ident" id="4800014">finfo</span><span class="op" id="4800019">.</span><span class="ident" id="4800020">xmlns</span>&nbsp;<span class="op" id="4800026">+</span>&nbsp;<span class="string" id="4800028">&#34;&nbsp;but&nbsp;have&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800045">if</span>&nbsp;<span class="ident" id="4800048">start</span><span class="op" id="4800053">.</span><span class="ident" id="4800054">Name</span><span class="op" id="4800058">.</span><span class="ident" id="4800059">Space</span>&nbsp;<span class="op" id="4800065">==</span>&nbsp;<span class="string" id="4800068">&#34;&#34;</span>&nbsp;<span class="op" id="4800071">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800078">e</span>&nbsp;<span class="op" id="4800080">+=</span>&nbsp;<span class="string" id="4800083">&#34;no&nbsp;name&nbsp;space&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800103">}</span>&nbsp;<span class="keyword" id="4800105">else</span>&nbsp;<span class="op" id="4800110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800117">e</span>&nbsp;<span class="op" id="4800119">+=</span>&nbsp;<span class="ident" id="4800122">start</span><span class="op" id="4800127">.</span><span class="ident" id="4800128">Name</span><span class="op" id="4800132">.</span><span class="ident" id="4800133">Space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800149">return</span>&nbsp;<span class="ident" id="4800156">UnmarshalError</span><span class="op" id="4800170">(</span><span class="ident" id="4800171">e</span><span class="op" id="4800172">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800182">fv</span>&nbsp;<span class="op" id="4800185">:=</span>&nbsp;<span class="ident" id="4800188">finfo</span><span class="op" id="4800193">.</span><span class="ident" id="4800194">value</span><span class="op" id="4800199">(</span><span class="ident" id="4800200">sv</span><span class="op" id="4800202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800207">if</span>&nbsp;<span class="ident" id="4800210">_</span><span class="op" id="4800211">,</span>&nbsp;<span class="ident" id="4800213">ok</span>&nbsp;<span class="op" id="4800216">:=</span>&nbsp;<span class="ident" id="4800219">fv</span><span class="op" id="4800221">.</span><span class="ident" id="4800222">Interface</span><span class="op" id="4800231">(</span><span class="op" id="4800232">)</span><span class="op" id="4800233">.</span><span class="op" id="4800234">(</span><span class="ident" id="4800235">Name</span><span class="op" id="4800239">)</span><span class="op" id="4800240">;</span>&nbsp;<span class="ident" id="4800242">ok</span>&nbsp;<span class="op" id="4800245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800251">fv</span><span class="op" id="4800253">.</span><span class="ident" id="4800254">Set</span><span class="op" id="4800257">(</span><span class="ident" id="4800258">reflect</span><span class="op" id="4800265">.</span><span class="ident" id="4800266">ValueOf</span><span class="op" id="4800273">(</span><span class="ident" id="4800274">start</span><span class="op" id="4800279">.</span><span class="ident" id="4800280">Name</span><span class="op" id="4800284">)</span><span class="op" id="4800285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800290">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4800299">//&nbsp;Assign&nbsp;attributes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4800323">//&nbsp;Also,&nbsp;determine&nbsp;whether&nbsp;we&nbsp;need&nbsp;to&nbsp;save&nbsp;character&nbsp;data&nbsp;or&nbsp;comments.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800396">for</span>&nbsp;<span class="ident" id="4800400">i</span>&nbsp;<span class="op" id="4800402">:=</span>&nbsp;<span class="keyword" id="4800405">range</span>&nbsp;<span class="ident" id="4800411">tinfo</span><span class="op" id="4800416">.</span><span class="ident" id="4800417">fields</span>&nbsp;<span class="op" id="4800424">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800429">finfo</span>&nbsp;<span class="op" id="4800435">:=</span>&nbsp;<span class="op" id="4800438">&amp;</span><span class="ident" id="4800439">tinfo</span><span class="op" id="4800444">.</span><span class="ident" id="4800445">fields</span><span class="op" id="4800451">[</span><span class="ident" id="4800452">i</span><span class="op" id="4800453">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800458">switch</span>&nbsp;<span class="ident" id="4800465">finfo</span><span class="op" id="4800470">.</span><span class="ident" id="4800471">flags</span>&nbsp;<span class="op" id="4800477">&amp;</span>&nbsp;<span class="ident" id="4800479">fMode</span>&nbsp;<span class="op" id="4800485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800490">case</span>&nbsp;<span class="ident" id="4800495">fAttr</span><span class="op" id="4800500">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800506">strv</span>&nbsp;<span class="op" id="4800511">:=</span>&nbsp;<span class="ident" id="4800514">finfo</span><span class="op" id="4800519">.</span><span class="ident" id="4800520">value</span><span class="op" id="4800525">(</span><span class="ident" id="4800526">sv</span><span class="op" id="4800528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4800534">//&nbsp;Look&nbsp;for&nbsp;attribute.</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800561">for</span>&nbsp;<span class="ident" id="4800565">_</span><span class="op" id="4800566">,</span>&nbsp;<span class="ident" id="4800568">a</span>&nbsp;<span class="op" id="4800570">:=</span>&nbsp;<span class="keyword" id="4800573">range</span>&nbsp;<span class="ident" id="4800579">start</span><span class="op" id="4800584">.</span><span class="ident" id="4800585">Attr</span>&nbsp;<span class="op" id="4800590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800597">if</span>&nbsp;<span class="ident" id="4800600">a</span><span class="op" id="4800601">.</span><span class="ident" id="4800602">Name</span><span class="op" id="4800606">.</span><span class="ident" id="4800607">Local</span>&nbsp;<span class="op" id="4800613">==</span>&nbsp;<span class="ident" id="4800616">finfo</span><span class="op" id="4800621">.</span><span class="ident" id="4800622">name</span>&nbsp;<span class="op" id="4800627">&amp;&amp;</span>&nbsp;<span class="op" id="4800630">(</span><span class="ident" id="4800631">finfo</span><span class="op" id="4800636">.</span><span class="ident" id="4800637">xmlns</span>&nbsp;<span class="op" id="4800643">==</span>&nbsp;<span class="string" id="4800646">&#34;&#34;</span>&nbsp;<span class="op" id="4800649">||</span>&nbsp;<span class="ident" id="4800652">finfo</span><span class="op" id="4800657">.</span><span class="ident" id="4800658">xmlns</span>&nbsp;<span class="op" id="4800664">==</span>&nbsp;<span class="ident" id="4800667">a</span><span class="op" id="4800668">.</span><span class="ident" id="4800669">Name</span><span class="op" id="4800673">.</span><span class="ident" id="4800674">Space</span><span class="op" id="4800679">)</span>&nbsp;<span class="op" id="4800681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800689">if</span>&nbsp;<span class="ident" id="4800692">err</span>&nbsp;<span class="op" id="4800696">:=</span>&nbsp;<span class="ident" id="4800699">p</span><span class="op" id="4800700">.</span><span class="ident" id="4800701">unmarshalAttr</span><span class="op" id="4800714">(</span><span class="ident" id="4800715">strv</span><span class="op" id="4800719">,</span>&nbsp;<span class="ident" id="4800721">a</span><span class="op" id="4800722">)</span><span class="op" id="4800723">;</span>&nbsp;<span class="ident" id="4800725">err</span>&nbsp;<span class="op" id="4800729">!=</span>&nbsp;<span class="builtintype" id="4800732">nil</span>&nbsp;<span class="op" id="4800736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800745">return</span>&nbsp;<span class="ident" id="4800752">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800762">}</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800770">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800793">case</span>&nbsp;<span class="ident" id="4800798">fCharData</span><span class="op" id="4800807">:</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800813">if</span>&nbsp;<span class="op" id="4800816">!</span><span class="ident" id="4800817">saveData</span><span class="op" id="4800825">.</span><span class="ident" id="4800826">IsValid</span><span class="op" id="4800833">(</span><span class="op" id="4800834">)</span>&nbsp;<span class="op" id="4800836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800843">saveData</span>&nbsp;<span class="op" id="4800852">=</span>&nbsp;<span class="ident" id="4800854">finfo</span><span class="op" id="4800859">.</span><span class="ident" id="4800860">value</span><span class="op" id="4800865">(</span><span class="ident" id="4800866">sv</span><span class="op" id="4800868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800874">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800880">case</span>&nbsp;<span class="ident" id="4800885">fComment</span><span class="op" id="4800893">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800899">if</span>&nbsp;<span class="op" id="4800902">!</span><span class="ident" id="4800903">saveComment</span><span class="op" id="4800914">.</span><span class="ident" id="4800915">IsValid</span><span class="op" id="4800922">(</span><span class="op" id="4800923">)</span>&nbsp;<span class="op" id="4800925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800932">saveComment</span>&nbsp;<span class="op" id="4800944">=</span>&nbsp;<span class="ident" id="4800946">finfo</span><span class="op" id="4800951">.</span><span class="ident" id="4800952">value</span><span class="op" id="4800957">(</span><span class="ident" id="4800958">sv</span><span class="op" id="4800960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4800972">case</span>&nbsp;<span class="ident" id="4800977">fAny</span><span class="op" id="4800981">,</span>&nbsp;<span class="ident" id="4800983">fAny</span>&nbsp;<span class="op" id="4800988">|</span>&nbsp;<span class="ident" id="4800990">fElement</span><span class="op" id="4800998">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801004">if</span>&nbsp;<span class="op" id="4801007">!</span><span class="ident" id="4801008">saveAny</span><span class="op" id="4801015">.</span><span class="ident" id="4801016">IsValid</span><span class="op" id="4801023">(</span><span class="op" id="4801024">)</span>&nbsp;<span class="op" id="4801026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801033">saveAny</span>&nbsp;<span class="op" id="4801041">=</span>&nbsp;<span class="ident" id="4801043">finfo</span><span class="op" id="4801048">.</span><span class="ident" id="4801049">value</span><span class="op" id="4801054">(</span><span class="ident" id="4801055">sv</span><span class="op" id="4801057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801069">case</span>&nbsp;<span class="ident" id="4801074">fInnerXml</span><span class="op" id="4801083">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801089">if</span>&nbsp;<span class="op" id="4801092">!</span><span class="ident" id="4801093">saveXML</span><span class="op" id="4801100">.</span><span class="ident" id="4801101">IsValid</span><span class="op" id="4801108">(</span><span class="op" id="4801109">)</span>&nbsp;<span class="op" id="4801111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801118">saveXML</span>&nbsp;<span class="op" id="4801126">=</span>&nbsp;<span class="ident" id="4801128">finfo</span><span class="op" id="4801133">.</span><span class="ident" id="4801134">value</span><span class="op" id="4801139">(</span><span class="ident" id="4801140">sv</span><span class="op" id="4801142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801149">if</span>&nbsp;<span class="ident" id="4801152">p</span><span class="op" id="4801153">.</span><span class="ident" id="4801154">saved</span>&nbsp;<span class="op" id="4801160">==</span>&nbsp;<span class="builtintype" id="4801163">nil</span>&nbsp;<span class="op" id="4801167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801175">saveXMLIndex</span>&nbsp;<span class="op" id="4801188">=</span>&nbsp;<span class="num" id="4801190">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801198">p</span><span class="op" id="4801199">.</span><span class="ident" id="4801200">saved</span>&nbsp;<span class="op" id="4801206">=</span>&nbsp;<span class="builtinfunc" id="4801208">new</span><span class="op" id="4801211">(</span><span class="ident" id="4801212">bytes</span><span class="op" id="4801217">.</span><span class="ident" id="4801218">Buffer</span><span class="op" id="4801224">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801231">}</span>&nbsp;<span class="keyword" id="4801233">else</span>&nbsp;<span class="op" id="4801238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801246">saveXMLIndex</span>&nbsp;<span class="op" id="4801259">=</span>&nbsp;<span class="ident" id="4801261">p</span><span class="op" id="4801262">.</span><span class="ident" id="4801263">savedOffset</span><span class="op" id="4801274">(</span><span class="op" id="4801275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801293">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801304">//&nbsp;Find&nbsp;end&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801326">//&nbsp;Process&nbsp;sub-elements&nbsp;along&nbsp;the&nbsp;way.</span><br>
<span class="lineno">465</span><span class="ident" id="4801365">Loop</span><span class="op" id="4801369">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801372">for</span>&nbsp;<span class="op" id="4801376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801380">var</span>&nbsp;<span class="ident" id="4801384">savedOffset</span>&nbsp;<span class="builtintype" id="4801396">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801402">if</span>&nbsp;<span class="ident" id="4801405">saveXML</span><span class="op" id="4801412">.</span><span class="ident" id="4801413">IsValid</span><span class="op" id="4801420">(</span><span class="op" id="4801421">)</span>&nbsp;<span class="op" id="4801423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801428">savedOffset</span>&nbsp;<span class="op" id="4801440">=</span>&nbsp;<span class="ident" id="4801442">p</span><span class="op" id="4801443">.</span><span class="ident" id="4801444">savedOffset</span><span class="op" id="4801455">(</span><span class="op" id="4801456">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801464">tok</span><span class="op" id="4801467">,</span>&nbsp;<span class="ident" id="4801469">err</span>&nbsp;<span class="op" id="4801473">:=</span>&nbsp;<span class="ident" id="4801476">p</span><span class="op" id="4801477">.</span><span class="ident" id="4801478">Token</span><span class="op" id="4801483">(</span><span class="op" id="4801484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801488">if</span>&nbsp;<span class="ident" id="4801491">err</span>&nbsp;<span class="op" id="4801495">!=</span>&nbsp;<span class="builtintype" id="4801498">nil</span>&nbsp;<span class="op" id="4801502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801507">return</span>&nbsp;<span class="ident" id="4801514">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801520">}</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801524">switch</span>&nbsp;<span class="ident" id="4801531">t</span>&nbsp;<span class="op" id="4801533">:=</span>&nbsp;<span class="ident" id="4801536">tok</span><span class="op" id="4801539">.</span><span class="op" id="4801540">(</span><span class="keyword" id="4801541">type</span><span class="op" id="4801545">)</span>&nbsp;<span class="op" id="4801547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801551">case</span>&nbsp;<span class="ident" id="4801556">StartElement</span><span class="op" id="4801568">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801573">consumed</span>&nbsp;<span class="op" id="4801582">:=</span>&nbsp;<span class="builtintype" id="4801585">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801594">if</span>&nbsp;<span class="ident" id="4801597">sv</span><span class="op" id="4801599">.</span><span class="ident" id="4801600">IsValid</span><span class="op" id="4801607">(</span><span class="op" id="4801608">)</span>&nbsp;<span class="op" id="4801610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801616">consumed</span><span class="op" id="4801624">,</span>&nbsp;<span class="ident" id="4801626">err</span>&nbsp;<span class="op" id="4801630">=</span>&nbsp;<span class="ident" id="4801632">p</span><span class="op" id="4801633">.</span><span class="ident" id="4801634">unmarshalPath</span><span class="op" id="4801647">(</span><span class="ident" id="4801648">tinfo</span><span class="op" id="4801653">,</span>&nbsp;<span class="ident" id="4801655">sv</span><span class="op" id="4801657">,</span>&nbsp;<span class="builtintype" id="4801659">nil</span><span class="op" id="4801662">,</span>&nbsp;<span class="op" id="4801664">&amp;</span><span class="ident" id="4801665">t</span><span class="op" id="4801666">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801672">if</span>&nbsp;<span class="ident" id="4801675">err</span>&nbsp;<span class="op" id="4801679">!=</span>&nbsp;<span class="builtintype" id="4801682">nil</span>&nbsp;<span class="op" id="4801686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801693">return</span>&nbsp;<span class="ident" id="4801700">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801714">if</span>&nbsp;<span class="op" id="4801717">!</span><span class="ident" id="4801718">consumed</span>&nbsp;<span class="op" id="4801727">&amp;&amp;</span>&nbsp;<span class="ident" id="4801730">saveAny</span><span class="op" id="4801737">.</span><span class="ident" id="4801738">IsValid</span><span class="op" id="4801745">(</span><span class="op" id="4801746">)</span>&nbsp;<span class="op" id="4801748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801755">consumed</span>&nbsp;<span class="op" id="4801764">=</span>&nbsp;<span class="builtintype" id="4801766">true</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801776">if</span>&nbsp;<span class="ident" id="4801779">err</span>&nbsp;<span class="op" id="4801783">:=</span>&nbsp;<span class="ident" id="4801786">p</span><span class="op" id="4801787">.</span><span class="ident" id="4801788">unmarshal</span><span class="op" id="4801797">(</span><span class="ident" id="4801798">saveAny</span><span class="op" id="4801805">,</span>&nbsp;<span class="op" id="4801807">&amp;</span><span class="ident" id="4801808">t</span><span class="op" id="4801809">)</span><span class="op" id="4801810">;</span>&nbsp;<span class="ident" id="4801812">err</span>&nbsp;<span class="op" id="4801816">!=</span>&nbsp;<span class="builtintype" id="4801819">nil</span>&nbsp;<span class="op" id="4801823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801831">return</span>&nbsp;<span class="ident" id="4801838">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801858">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801863">if</span>&nbsp;<span class="op" id="4801866">!</span><span class="ident" id="4801867">consumed</span>&nbsp;<span class="op" id="4801876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801882">if</span>&nbsp;<span class="ident" id="4801885">err</span>&nbsp;<span class="op" id="4801889">:=</span>&nbsp;<span class="ident" id="4801892">p</span><span class="op" id="4801893">.</span><span class="ident" id="4801894">Skip</span><span class="op" id="4801898">(</span><span class="op" id="4801899">)</span><span class="op" id="4801900">;</span>&nbsp;<span class="ident" id="4801902">err</span>&nbsp;<span class="op" id="4801906">!=</span>&nbsp;<span class="builtintype" id="4801909">nil</span>&nbsp;<span class="op" id="4801913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801920">return</span>&nbsp;<span class="ident" id="4801927">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4801940">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801945">case</span>&nbsp;<span class="ident" id="4801950">EndElement</span><span class="op" id="4801960">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4801965">if</span>&nbsp;<span class="ident" id="4801968">saveXML</span><span class="op" id="4801975">.</span><span class="ident" id="4801976">IsValid</span><span class="op" id="4801983">(</span><span class="op" id="4801984">)</span>&nbsp;<span class="op" id="4801986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4801992">saveXMLData</span>&nbsp;<span class="op" id="4802004">=</span>&nbsp;<span class="ident" id="4802006">p</span><span class="op" id="4802007">.</span><span class="ident" id="4802008">saved</span><span class="op" id="4802013">.</span><span class="ident" id="4802014">Bytes</span><span class="op" id="4802019">(</span><span class="op" id="4802020">)</span><span class="op" id="4802021">[</span><span class="ident" id="4802022">saveXMLIndex</span><span class="op" id="4802034">:</span><span class="ident" id="4802035">savedOffset</span><span class="op" id="4802046">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802052">if</span>&nbsp;<span class="ident" id="4802055">saveXMLIndex</span>&nbsp;<span class="op" id="4802068">==</span>&nbsp;<span class="num" id="4802071">0</span>&nbsp;<span class="op" id="4802073">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4802080">p</span><span class="op" id="4802081">.</span><span class="ident" id="4802082">saved</span>&nbsp;<span class="op" id="4802088">=</span>&nbsp;<span class="builtintype" id="4802090">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802108">break</span>&nbsp;<span class="ident" id="4802114">Loop</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802122">case</span>&nbsp;<span class="ident" id="4802127">CharData</span><span class="op" id="4802135">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802140">if</span>&nbsp;<span class="ident" id="4802143">saveData</span><span class="op" id="4802151">.</span><span class="ident" id="4802152">IsValid</span><span class="op" id="4802159">(</span><span class="op" id="4802160">)</span>&nbsp;<span class="op" id="4802162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4802168">data</span>&nbsp;<span class="op" id="4802173">=</span>&nbsp;<span class="builtinfunc" id="4802175">append</span><span class="op" id="4802181">(</span><span class="ident" id="4802182">data</span><span class="op" id="4802186">,</span>&nbsp;<span class="ident" id="4802188">t</span><span class="op" id="4802189">...</span><span class="op" id="4802192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802202">case</span>&nbsp;<span class="ident" id="4802207">Comment</span><span class="op" id="4802214">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802219">if</span>&nbsp;<span class="ident" id="4802222">saveComment</span><span class="op" id="4802233">.</span><span class="ident" id="4802234">IsValid</span><span class="op" id="4802241">(</span><span class="op" id="4802242">)</span>&nbsp;<span class="op" id="4802244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4802250">comment</span>&nbsp;<span class="op" id="4802258">=</span>&nbsp;<span class="builtinfunc" id="4802260">append</span><span class="op" id="4802266">(</span><span class="ident" id="4802267">comment</span><span class="op" id="4802274">,</span>&nbsp;<span class="ident" id="4802276">t</span><span class="op" id="4802277">...</span><span class="op" id="4802280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802289">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802296">if</span>&nbsp;<span class="ident" id="4802299">saveData</span><span class="op" id="4802307">.</span><span class="ident" id="4802308">IsValid</span><span class="op" id="4802315">(</span><span class="op" id="4802316">)</span>&nbsp;<span class="op" id="4802318">&amp;&amp;</span>&nbsp;<span class="ident" id="4802321">saveData</span><span class="op" id="4802329">.</span><span class="ident" id="4802330">CanInterface</span><span class="op" id="4802342">(</span><span class="op" id="4802343">)</span>&nbsp;<span class="op" id="4802345">&amp;&amp;</span>&nbsp;<span class="ident" id="4802348">saveData</span><span class="op" id="4802356">.</span><span class="ident" id="4802357">Type</span><span class="op" id="4802361">(</span><span class="op" id="4802362">)</span><span class="op" id="4802363">.</span><span class="ident" id="4802364">Implements</span><span class="op" id="4802374">(</span><span class="ident" id="4802375">textUnmarshalerType</span><span class="op" id="4802394">)</span>&nbsp;<span class="op" id="4802396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802400">if</span>&nbsp;<span class="ident" id="4802403">err</span>&nbsp;<span class="op" id="4802407">:=</span>&nbsp;<span class="ident" id="4802410">saveData</span><span class="op" id="4802418">.</span><span class="ident" id="4802419">Interface</span><span class="op" id="4802428">(</span><span class="op" id="4802429">)</span><span class="op" id="4802430">.</span><span class="op" id="4802431">(</span><span class="ident" id="4802432">encoding</span><span class="op" id="4802440">.</span><span class="ident" id="4802441">TextUnmarshaler</span><span class="op" id="4802456">)</span><span class="op" id="4802457">.</span><span class="ident" id="4802458">UnmarshalText</span><span class="op" id="4802471">(</span><span class="ident" id="4802472">data</span><span class="op" id="4802476">)</span><span class="op" id="4802477">;</span>&nbsp;<span class="ident" id="4802479">err</span>&nbsp;<span class="op" id="4802483">!=</span>&nbsp;<span class="builtintype" id="4802486">nil</span>&nbsp;<span class="op" id="4802490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802495">return</span>&nbsp;<span class="ident" id="4802502">err</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4802512">saveData</span>&nbsp;<span class="op" id="4802521">=</span>&nbsp;<span class="ident" id="4802523">reflect</span><span class="op" id="4802530">.</span><span class="ident" id="4802531">Value</span><span class="op" id="4802536">{</span><span class="op" id="4802537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802544">if</span>&nbsp;<span class="ident" id="4802547">saveData</span><span class="op" id="4802555">.</span><span class="ident" id="4802556">IsValid</span><span class="op" id="4802563">(</span><span class="op" id="4802564">)</span>&nbsp;<span class="op" id="4802566">&amp;&amp;</span>&nbsp;<span class="ident" id="4802569">saveData</span><span class="op" id="4802577">.</span><span class="ident" id="4802578">CanAddr</span><span class="op" id="4802585">(</span><span class="op" id="4802586">)</span>&nbsp;<span class="op" id="4802588">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4802592">pv</span>&nbsp;<span class="op" id="4802595">:=</span>&nbsp;<span class="ident" id="4802598">saveData</span><span class="op" id="4802606">.</span><span class="ident" id="4802607">Addr</span><span class="op" id="4802611">(</span><span class="op" id="4802612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802616">if</span>&nbsp;<span class="ident" id="4802619">pv</span><span class="op" id="4802621">.</span><span class="ident" id="4802622">CanInterface</span><span class="op" id="4802634">(</span><span class="op" id="4802635">)</span>&nbsp;<span class="op" id="4802637">&amp;&amp;</span>&nbsp;<span class="ident" id="4802640">pv</span><span class="op" id="4802642">.</span><span class="ident" id="4802643">Type</span><span class="op" id="4802647">(</span><span class="op" id="4802648">)</span><span class="op" id="4802649">.</span><span class="ident" id="4802650">Implements</span><span class="op" id="4802660">(</span><span class="ident" id="4802661">textUnmarshalerType</span><span class="op" id="4802680">)</span>&nbsp;<span class="op" id="4802682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802687">if</span>&nbsp;<span class="ident" id="4802690">err</span>&nbsp;<span class="op" id="4802694">:=</span>&nbsp;<span class="ident" id="4802697">pv</span><span class="op" id="4802699">.</span><span class="ident" id="4802700">Interface</span><span class="op" id="4802709">(</span><span class="op" id="4802710">)</span><span class="op" id="4802711">.</span><span class="op" id="4802712">(</span><span class="ident" id="4802713">encoding</span><span class="op" id="4802721">.</span><span class="ident" id="4802722">TextUnmarshaler</span><span class="op" id="4802737">)</span><span class="op" id="4802738">.</span><span class="ident" id="4802739">UnmarshalText</span><span class="op" id="4802752">(</span><span class="ident" id="4802753">data</span><span class="op" id="4802757">)</span><span class="op" id="4802758">;</span>&nbsp;<span class="ident" id="4802760">err</span>&nbsp;<span class="op" id="4802764">!=</span>&nbsp;<span class="builtintype" id="4802767">nil</span>&nbsp;<span class="op" id="4802771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802777">return</span>&nbsp;<span class="ident" id="4802784">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802791">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4802796">saveData</span>&nbsp;<span class="op" id="4802805">=</span>&nbsp;<span class="ident" id="4802807">reflect</span><span class="op" id="4802814">.</span><span class="ident" id="4802815">Value</span><span class="op" id="4802820">{</span><span class="op" id="4802821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802832">if</span>&nbsp;<span class="ident" id="4802835">err</span>&nbsp;<span class="op" id="4802839">:=</span>&nbsp;<span class="ident" id="4802842">copyValue</span><span class="op" id="4802851">(</span><span class="ident" id="4802852">saveData</span><span class="op" id="4802860">,</span>&nbsp;<span class="ident" id="4802862">data</span><span class="op" id="4802866">)</span><span class="op" id="4802867">;</span>&nbsp;<span class="ident" id="4802869">err</span>&nbsp;<span class="op" id="4802873">!=</span>&nbsp;<span class="builtintype" id="4802876">nil</span>&nbsp;<span class="op" id="4802880">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802884">return</span>&nbsp;<span class="ident" id="4802891">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4802896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802900">switch</span>&nbsp;<span class="ident" id="4802907">t</span>&nbsp;<span class="op" id="4802909">:=</span>&nbsp;<span class="ident" id="4802912">saveComment</span><span class="op" id="4802923">;</span>&nbsp;<span class="ident" id="4802925">t</span><span class="op" id="4802926">.</span><span class="ident" id="4802927">Kind</span><span class="op" id="4802931">(</span><span class="op" id="4802932">)</span>&nbsp;<span class="op" id="4802934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802937">case</span>&nbsp;<span class="ident" id="4802942">reflect</span><span class="op" id="4802949">.</span><span class="ident" id="4802950">String</span><span class="op" id="4802956">:</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4802960">t</span><span class="op" id="4802961">.</span><span class="ident" id="4802962">SetString</span><span class="op" id="4802971">(</span><span class="builtintype" id="4802972">string</span><span class="op" id="4802978">(</span><span class="ident" id="4802979">comment</span><span class="op" id="4802986">)</span><span class="op" id="4802987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4802990">case</span>&nbsp;<span class="ident" id="4802995">reflect</span><span class="op" id="4803002">.</span><span class="ident" id="4803003">Slice</span><span class="op" id="4803008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4803012">t</span><span class="op" id="4803013">.</span><span class="ident" id="4803014">Set</span><span class="op" id="4803017">(</span><span class="ident" id="4803018">reflect</span><span class="op" id="4803025">.</span><span class="ident" id="4803026">ValueOf</span><span class="op" id="4803033">(</span><span class="ident" id="4803034">comment</span><span class="op" id="4803041">)</span><span class="op" id="4803042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4803045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803049">switch</span>&nbsp;<span class="ident" id="4803056">t</span>&nbsp;<span class="op" id="4803058">:=</span>&nbsp;<span class="ident" id="4803061">saveXML</span><span class="op" id="4803068">;</span>&nbsp;<span class="ident" id="4803070">t</span><span class="op" id="4803071">.</span><span class="ident" id="4803072">Kind</span><span class="op" id="4803076">(</span><span class="op" id="4803077">)</span>&nbsp;<span class="op" id="4803079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803082">case</span>&nbsp;<span class="ident" id="4803087">reflect</span><span class="op" id="4803094">.</span><span class="ident" id="4803095">String</span><span class="op" id="4803101">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4803105">t</span><span class="op" id="4803106">.</span><span class="ident" id="4803107">SetString</span><span class="op" id="4803116">(</span><span class="builtintype" id="4803117">string</span><span class="op" id="4803123">(</span><span class="ident" id="4803124">saveXMLData</span><span class="op" id="4803135">)</span><span class="op" id="4803136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803139">case</span>&nbsp;<span class="ident" id="4803144">reflect</span><span class="op" id="4803151">.</span><span class="ident" id="4803152">Slice</span><span class="op" id="4803157">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4803161">t</span><span class="op" id="4803162">.</span><span class="ident" id="4803163">Set</span><span class="op" id="4803166">(</span><span class="ident" id="4803167">reflect</span><span class="op" id="4803174">.</span><span class="ident" id="4803175">ValueOf</span><span class="op" id="4803182">(</span><span class="ident" id="4803183">saveXMLData</span><span class="op" id="4803194">)</span><span class="op" id="4803195">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4803198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803202">return</span>&nbsp;<span class="builtintype" id="4803209">nil</span><br>
<span class="lineno"></span><span class="op" id="4803213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">555</span><span class="keyword" id="4803216">func</span>&nbsp;<span class="ident" id="4803221">copyValue</span><span class="op" id="4803230">(</span><span class="ident" id="4803231">dst</span>&nbsp;<span class="ident" id="4803235">reflect</span><span class="op" id="4803242">.</span><span class="ident" id="4803243">Value</span><span class="op" id="4803248">,</span>&nbsp;<span class="ident" id="4803250">src</span>&nbsp;<span class="op" id="4803254">[</span><span class="op" id="4803255">]</span><span class="builtintype" id="4803256">byte</span><span class="op" id="4803260">)</span>&nbsp;<span class="op" id="4803262">(</span><span class="ident" id="4803263">err</span>&nbsp;<span class="builtintype" id="4803267">error</span><span class="op" id="4803272">)</span>&nbsp;<span class="op" id="4803274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4803277">dst0</span>&nbsp;<span class="op" id="4803282">:=</span>&nbsp;<span class="ident" id="4803285">dst</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803291">if</span>&nbsp;<span class="ident" id="4803294">dst</span><span class="op" id="4803297">.</span><span class="ident" id="4803298">Kind</span><span class="op" id="4803302">(</span><span class="op" id="4803303">)</span>&nbsp;<span class="op" id="4803305">==</span>&nbsp;<span class="ident" id="4803308">reflect</span><span class="op" id="4803315">.</span><span class="ident" id="4803316">Ptr</span>&nbsp;<span class="op" id="4803320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803324">if</span>&nbsp;<span class="ident" id="4803327">dst</span><span class="op" id="4803330">.</span><span class="ident" id="4803331">IsNil</span><span class="op" id="4803336">(</span><span class="op" id="4803337">)</span>&nbsp;<span class="op" id="4803339">{</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4803344">dst</span><span class="op" id="4803347">.</span><span class="ident" id="4803348">Set</span><span class="op" id="4803351">(</span><span class="ident" id="4803352">reflect</span><span class="op" id="4803359">.</span><span class="ident" id="4803360">New</span><span class="op" id="4803363">(</span><span class="ident" id="4803364">dst</span><span class="op" id="4803367">.</span><span class="ident" id="4803368">Type</span><span class="op" id="4803372">(</span><span class="op" id="4803373">)</span><span class="op" id="4803374">.</span><span class="ident" id="4803375">Elem</span><span class="op" id="4803379">(</span><span class="op" id="4803380">)</span><span class="op" id="4803381">)</span><span class="op" id="4803382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4803386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4803390">dst</span>&nbsp;<span class="op" id="4803394">=</span>&nbsp;<span class="ident" id="4803396">dst</span><span class="op" id="4803399">.</span><span class="ident" id="4803400">Elem</span><span class="op" id="4803404">(</span><span class="op" id="4803405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4803408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4803412">//&nbsp;Save&nbsp;accumulated&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803439">switch</span>&nbsp;<span class="ident" id="4803446">dst</span><span class="op" id="4803449">.</span><span class="ident" id="4803450">Kind</span><span class="op" id="4803454">(</span><span class="op" id="4803455">)</span>&nbsp;<span class="op" id="4803457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803460">case</span>&nbsp;<span class="ident" id="4803465">reflect</span><span class="op" id="4803472">.</span><span class="ident" id="4803473">Invalid</span><span class="op" id="4803480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4803484">//&nbsp;Probably&nbsp;a&nbsp;comment.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803508">default</span><span class="op" id="4803515">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803519">return</span>&nbsp;<span class="ident" id="4803526">errors</span><span class="op" id="4803532">.</span><span class="ident" id="4803533">New</span><span class="op" id="4803536">(</span><span class="string" id="4803537">&#34;cannot&nbsp;unmarshal&nbsp;into&nbsp;&#34;</span>&nbsp;<span class="op" id="4803562">+</span>&nbsp;<span class="ident" id="4803564">dst0</span><span class="op" id="4803568">.</span><span class="ident" id="4803569">Type</span><span class="op" id="4803573">(</span><span class="op" id="4803574">)</span><span class="op" id="4803575">.</span><span class="ident" id="4803576">String</span><span class="op" id="4803582">(</span><span class="op" id="4803583">)</span><span class="op" id="4803584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803587">case</span>&nbsp;<span class="ident" id="4803592">reflect</span><span class="op" id="4803599">.</span><span class="ident" id="4803600">Int</span><span class="op" id="4803603">,</span>&nbsp;<span class="ident" id="4803605">reflect</span><span class="op" id="4803612">.</span><span class="ident" id="4803613">Int8</span><span class="op" id="4803617">,</span>&nbsp;<span class="ident" id="4803619">reflect</span><span class="op" id="4803626">.</span><span class="ident" id="4803627">Int16</span><span class="op" id="4803632">,</span>&nbsp;<span class="ident" id="4803634">reflect</span><span class="op" id="4803641">.</span><span class="ident" id="4803642">Int32</span><span class="op" id="4803647">,</span>&nbsp;<span class="ident" id="4803649">reflect</span><span class="op" id="4803656">.</span><span class="ident" id="4803657">Int64</span><span class="op" id="4803662">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4803666">itmp</span><span class="op" id="4803670">,</span>&nbsp;<span class="ident" id="4803672">err</span>&nbsp;<span class="op" id="4803676">:=</span>&nbsp;<span class="ident" id="4803679">strconv</span><span class="op" id="4803686">.</span><span class="ident" id="4803687">ParseInt</span><span class="op" id="4803695">(</span><span class="builtintype" id="4803696">string</span><span class="op" id="4803702">(</span><span class="ident" id="4803703">src</span><span class="op" id="4803706">)</span><span class="op" id="4803707">,</span>&nbsp;<span class="num" id="4803709">10</span><span class="op" id="4803711">,</span>&nbsp;<span class="ident" id="4803713">dst</span><span class="op" id="4803716">.</span><span class="ident" id="4803717">Type</span><span class="op" id="4803721">(</span><span class="op" id="4803722">)</span><span class="op" id="4803723">.</span><span class="ident" id="4803724">Bits</span><span class="op" id="4803728">(</span><span class="op" id="4803729">)</span><span class="op" id="4803730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803734">if</span>&nbsp;<span class="ident" id="4803737">err</span>&nbsp;<span class="op" id="4803741">!=</span>&nbsp;<span class="builtintype" id="4803744">nil</span>&nbsp;<span class="op" id="4803748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803753">return</span>&nbsp;<span class="ident" id="4803760">err</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4803766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4803770">dst</span><span class="op" id="4803773">.</span><span class="ident" id="4803774">SetInt</span><span class="op" id="4803780">(</span><span class="ident" id="4803781">itmp</span><span class="op" id="4803785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803788">case</span>&nbsp;<span class="ident" id="4803793">reflect</span><span class="op" id="4803800">.</span><span class="ident" id="4803801">Uint</span><span class="op" id="4803805">,</span>&nbsp;<span class="ident" id="4803807">reflect</span><span class="op" id="4803814">.</span><span class="ident" id="4803815">Uint8</span><span class="op" id="4803820">,</span>&nbsp;<span class="ident" id="4803822">reflect</span><span class="op" id="4803829">.</span><span class="ident" id="4803830">Uint16</span><span class="op" id="4803836">,</span>&nbsp;<span class="ident" id="4803838">reflect</span><span class="op" id="4803845">.</span><span class="ident" id="4803846">Uint32</span><span class="op" id="4803852">,</span>&nbsp;<span class="ident" id="4803854">reflect</span><span class="op" id="4803861">.</span><span class="ident" id="4803862">Uint64</span><span class="op" id="4803868">,</span>&nbsp;<span class="ident" id="4803870">reflect</span><span class="op" id="4803877">.</span><span class="ident" id="4803878">Uintptr</span><span class="op" id="4803885">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4803889">utmp</span><span class="op" id="4803893">,</span>&nbsp;<span class="ident" id="4803895">err</span>&nbsp;<span class="op" id="4803899">:=</span>&nbsp;<span class="ident" id="4803902">strconv</span><span class="op" id="4803909">.</span><span class="ident" id="4803910">ParseUint</span><span class="op" id="4803919">(</span><span class="builtintype" id="4803920">string</span><span class="op" id="4803926">(</span><span class="ident" id="4803927">src</span><span class="op" id="4803930">)</span><span class="op" id="4803931">,</span>&nbsp;<span class="num" id="4803933">10</span><span class="op" id="4803935">,</span>&nbsp;<span class="ident" id="4803937">dst</span><span class="op" id="4803940">.</span><span class="ident" id="4803941">Type</span><span class="op" id="4803945">(</span><span class="op" id="4803946">)</span><span class="op" id="4803947">.</span><span class="ident" id="4803948">Bits</span><span class="op" id="4803952">(</span><span class="op" id="4803953">)</span><span class="op" id="4803954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803958">if</span>&nbsp;<span class="ident" id="4803961">err</span>&nbsp;<span class="op" id="4803965">!=</span>&nbsp;<span class="builtintype" id="4803968">nil</span>&nbsp;<span class="op" id="4803972">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4803977">return</span>&nbsp;<span class="ident" id="4803984">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4803990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4803994">dst</span><span class="op" id="4803997">.</span><span class="ident" id="4803998">SetUint</span><span class="op" id="4804005">(</span><span class="ident" id="4804006">utmp</span><span class="op" id="4804010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804013">case</span>&nbsp;<span class="ident" id="4804018">reflect</span><span class="op" id="4804025">.</span><span class="ident" id="4804026">Float32</span><span class="op" id="4804033">,</span>&nbsp;<span class="ident" id="4804035">reflect</span><span class="op" id="4804042">.</span><span class="ident" id="4804043">Float64</span><span class="op" id="4804050">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4804054">ftmp</span><span class="op" id="4804058">,</span>&nbsp;<span class="ident" id="4804060">err</span>&nbsp;<span class="op" id="4804064">:=</span>&nbsp;<span class="ident" id="4804067">strconv</span><span class="op" id="4804074">.</span><span class="ident" id="4804075">ParseFloat</span><span class="op" id="4804085">(</span><span class="builtintype" id="4804086">string</span><span class="op" id="4804092">(</span><span class="ident" id="4804093">src</span><span class="op" id="4804096">)</span><span class="op" id="4804097">,</span>&nbsp;<span class="ident" id="4804099">dst</span><span class="op" id="4804102">.</span><span class="ident" id="4804103">Type</span><span class="op" id="4804107">(</span><span class="op" id="4804108">)</span><span class="op" id="4804109">.</span><span class="ident" id="4804110">Bits</span><span class="op" id="4804114">(</span><span class="op" id="4804115">)</span><span class="op" id="4804116">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804120">if</span>&nbsp;<span class="ident" id="4804123">err</span>&nbsp;<span class="op" id="4804127">!=</span>&nbsp;<span class="builtintype" id="4804130">nil</span>&nbsp;<span class="op" id="4804134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804139">return</span>&nbsp;<span class="ident" id="4804146">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4804152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4804156">dst</span><span class="op" id="4804159">.</span><span class="ident" id="4804160">SetFloat</span><span class="op" id="4804168">(</span><span class="ident" id="4804169">ftmp</span><span class="op" id="4804173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804176">case</span>&nbsp;<span class="ident" id="4804181">reflect</span><span class="op" id="4804188">.</span><span class="ident" id="4804189">Bool</span><span class="op" id="4804193">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4804197">value</span><span class="op" id="4804202">,</span>&nbsp;<span class="ident" id="4804204">err</span>&nbsp;<span class="op" id="4804208">:=</span>&nbsp;<span class="ident" id="4804211">strconv</span><span class="op" id="4804218">.</span><span class="ident" id="4804219">ParseBool</span><span class="op" id="4804228">(</span><span class="ident" id="4804229">strings</span><span class="op" id="4804236">.</span><span class="ident" id="4804237">TrimSpace</span><span class="op" id="4804246">(</span><span class="builtintype" id="4804247">string</span><span class="op" id="4804253">(</span><span class="ident" id="4804254">src</span><span class="op" id="4804257">)</span><span class="op" id="4804258">)</span><span class="op" id="4804259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804263">if</span>&nbsp;<span class="ident" id="4804266">err</span>&nbsp;<span class="op" id="4804270">!=</span>&nbsp;<span class="builtintype" id="4804273">nil</span>&nbsp;<span class="op" id="4804277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804282">return</span>&nbsp;<span class="ident" id="4804289">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4804295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4804299">dst</span><span class="op" id="4804302">.</span><span class="ident" id="4804303">SetBool</span><span class="op" id="4804310">(</span><span class="ident" id="4804311">value</span><span class="op" id="4804316">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804319">case</span>&nbsp;<span class="ident" id="4804324">reflect</span><span class="op" id="4804331">.</span><span class="ident" id="4804332">String</span><span class="op" id="4804338">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4804342">dst</span><span class="op" id="4804345">.</span><span class="ident" id="4804346">SetString</span><span class="op" id="4804355">(</span><span class="builtintype" id="4804356">string</span><span class="op" id="4804362">(</span><span class="ident" id="4804363">src</span><span class="op" id="4804366">)</span><span class="op" id="4804367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804370">case</span>&nbsp;<span class="ident" id="4804375">reflect</span><span class="op" id="4804382">.</span><span class="ident" id="4804383">Slice</span><span class="op" id="4804388">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804392">if</span>&nbsp;<span class="builtinfunc" id="4804395">len</span><span class="op" id="4804398">(</span><span class="ident" id="4804399">src</span><span class="op" id="4804402">)</span>&nbsp;<span class="op" id="4804404">==</span>&nbsp;<span class="num" id="4804407">0</span>&nbsp;<span class="op" id="4804409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4804414">//&nbsp;non-nil&nbsp;to&nbsp;flag&nbsp;presence</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4804445">src</span>&nbsp;<span class="op" id="4804449">=</span>&nbsp;<span class="op" id="4804451">[</span><span class="op" id="4804452">]</span><span class="builtintype" id="4804453">byte</span><span class="op" id="4804457">{</span><span class="op" id="4804458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4804462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4804466">dst</span><span class="op" id="4804469">.</span><span class="ident" id="4804470">SetBytes</span><span class="op" id="4804478">(</span><span class="ident" id="4804479">src</span><span class="op" id="4804482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4804485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804488">return</span>&nbsp;<span class="builtintype" id="4804495">nil</span><br>
<span class="lineno">605</span><span class="op" id="4804499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4804502">//&nbsp;unmarshalPath&nbsp;walks&nbsp;down&nbsp;an&nbsp;XML&nbsp;structure&nbsp;looking&nbsp;for&nbsp;wanted</span><br>
<span class="lineno"></span><span class="comment" id="4804566">//&nbsp;paths,&nbsp;and&nbsp;calls&nbsp;unmarshal&nbsp;on&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="4804605">//&nbsp;The&nbsp;consumed&nbsp;result&nbsp;tells&nbsp;whether&nbsp;XML&nbsp;elements&nbsp;have&nbsp;been&nbsp;consumed</span><br>
<span class="lineno">610</span><span class="comment" id="4804674">//&nbsp;from&nbsp;the&nbsp;Decoder&nbsp;until&nbsp;start&#39;s&nbsp;matching&nbsp;end&nbsp;element,&nbsp;or&nbsp;if&nbsp;it&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="4804741">//&nbsp;still&nbsp;untouched&nbsp;because&nbsp;start&nbsp;is&nbsp;uninteresting&nbsp;for&nbsp;sv&#39;s&nbsp;fields.</span><br>
<span class="lineno"></span><span class="keyword" id="4804808">func</span>&nbsp;<span class="op" id="4804813">(</span><span class="ident" id="4804814">p</span>&nbsp;<span class="op" id="4804816">*</span><span class="ident" id="4804817">Decoder</span><span class="op" id="4804824">)</span>&nbsp;<span class="ident" id="4804826">unmarshalPath</span><span class="op" id="4804839">(</span><span class="ident" id="4804840">tinfo</span>&nbsp;<span class="op" id="4804846">*</span><span class="ident" id="4804847">typeInfo</span><span class="op" id="4804855">,</span>&nbsp;<span class="ident" id="4804857">sv</span>&nbsp;<span class="ident" id="4804860">reflect</span><span class="op" id="4804867">.</span><span class="ident" id="4804868">Value</span><span class="op" id="4804873">,</span>&nbsp;<span class="ident" id="4804875">parents</span>&nbsp;<span class="op" id="4804883">[</span><span class="op" id="4804884">]</span><span class="builtintype" id="4804885">string</span><span class="op" id="4804891">,</span>&nbsp;<span class="ident" id="4804893">start</span>&nbsp;<span class="op" id="4804899">*</span><span class="ident" id="4804900">StartElement</span><span class="op" id="4804912">)</span>&nbsp;<span class="op" id="4804914">(</span><span class="ident" id="4804915">consumed</span>&nbsp;<span class="builtintype" id="4804924">bool</span><span class="op" id="4804928">,</span>&nbsp;<span class="ident" id="4804930">err</span>&nbsp;<span class="builtintype" id="4804934">error</span><span class="op" id="4804939">)</span>&nbsp;<span class="op" id="4804941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4804944">recurse</span>&nbsp;<span class="op" id="4804952">:=</span>&nbsp;<span class="builtintype" id="4804955">false</span><br>
<span class="lineno"></span><span class="ident" id="4804961">Loop</span><span class="op" id="4804965">:</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4804968">for</span>&nbsp;<span class="ident" id="4804972">i</span>&nbsp;<span class="op" id="4804974">:=</span>&nbsp;<span class="keyword" id="4804977">range</span>&nbsp;<span class="ident" id="4804983">tinfo</span><span class="op" id="4804988">.</span><span class="ident" id="4804989">fields</span>&nbsp;<span class="op" id="4804996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4805000">finfo</span>&nbsp;<span class="op" id="4805006">:=</span>&nbsp;<span class="op" id="4805009">&amp;</span><span class="ident" id="4805010">tinfo</span><span class="op" id="4805015">.</span><span class="ident" id="4805016">fields</span><span class="op" id="4805022">[</span><span class="ident" id="4805023">i</span><span class="op" id="4805024">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805028">if</span>&nbsp;<span class="ident" id="4805031">finfo</span><span class="op" id="4805036">.</span><span class="ident" id="4805037">flags</span><span class="op" id="4805042">&amp;</span><span class="ident" id="4805043">fElement</span>&nbsp;<span class="op" id="4805052">==</span>&nbsp;<span class="num" id="4805055">0</span>&nbsp;<span class="op" id="4805057">||</span>&nbsp;<span class="builtinfunc" id="4805060">len</span><span class="op" id="4805063">(</span><span class="ident" id="4805064">finfo</span><span class="op" id="4805069">.</span><span class="ident" id="4805070">parents</span><span class="op" id="4805077">)</span>&nbsp;<span class="op" id="4805079">&lt;</span>&nbsp;<span class="builtinfunc" id="4805081">len</span><span class="op" id="4805084">(</span><span class="ident" id="4805085">parents</span><span class="op" id="4805092">)</span>&nbsp;<span class="op" id="4805094">||</span>&nbsp;<span class="ident" id="4805097">finfo</span><span class="op" id="4805102">.</span><span class="ident" id="4805103">xmlns</span>&nbsp;<span class="op" id="4805109">!=</span>&nbsp;<span class="string" id="4805112">&#34;&#34;</span>&nbsp;<span class="op" id="4805115">&amp;&amp;</span>&nbsp;<span class="ident" id="4805118">finfo</span><span class="op" id="4805123">.</span><span class="ident" id="4805124">xmlns</span>&nbsp;<span class="op" id="4805130">!=</span>&nbsp;<span class="ident" id="4805133">start</span><span class="op" id="4805138">.</span><span class="ident" id="4805139">Name</span><span class="op" id="4805143">.</span><span class="ident" id="4805144">Space</span>&nbsp;<span class="op" id="4805150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805155">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4805166">}</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805170">for</span>&nbsp;<span class="ident" id="4805174">j</span>&nbsp;<span class="op" id="4805176">:=</span>&nbsp;<span class="keyword" id="4805179">range</span>&nbsp;<span class="ident" id="4805185">parents</span>&nbsp;<span class="op" id="4805193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805198">if</span>&nbsp;<span class="ident" id="4805201">parents</span><span class="op" id="4805208">[</span><span class="ident" id="4805209">j</span><span class="op" id="4805210">]</span>&nbsp;<span class="op" id="4805212">!=</span>&nbsp;<span class="ident" id="4805215">finfo</span><span class="op" id="4805220">.</span><span class="ident" id="4805221">parents</span><span class="op" id="4805228">[</span><span class="ident" id="4805229">j</span><span class="op" id="4805230">]</span>&nbsp;<span class="op" id="4805232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805238">continue</span>&nbsp;<span class="ident" id="4805247">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4805255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4805259">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805263">if</span>&nbsp;<span class="builtinfunc" id="4805266">len</span><span class="op" id="4805269">(</span><span class="ident" id="4805270">finfo</span><span class="op" id="4805275">.</span><span class="ident" id="4805276">parents</span><span class="op" id="4805283">)</span>&nbsp;<span class="op" id="4805285">==</span>&nbsp;<span class="builtinfunc" id="4805288">len</span><span class="op" id="4805291">(</span><span class="ident" id="4805292">parents</span><span class="op" id="4805299">)</span>&nbsp;<span class="op" id="4805301">&amp;&amp;</span>&nbsp;<span class="ident" id="4805304">finfo</span><span class="op" id="4805309">.</span><span class="ident" id="4805310">name</span>&nbsp;<span class="op" id="4805315">==</span>&nbsp;<span class="ident" id="4805318">start</span><span class="op" id="4805323">.</span><span class="ident" id="4805324">Name</span><span class="op" id="4805328">.</span><span class="ident" id="4805329">Local</span>&nbsp;<span class="op" id="4805335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4805340">//&nbsp;It&#39;s&nbsp;a&nbsp;perfect&nbsp;match,&nbsp;unmarshal&nbsp;the&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805389">return</span>&nbsp;<span class="builtintype" id="4805396">true</span><span class="op" id="4805400">,</span>&nbsp;<span class="ident" id="4805402">p</span><span class="op" id="4805403">.</span><span class="ident" id="4805404">unmarshal</span><span class="op" id="4805413">(</span><span class="ident" id="4805414">finfo</span><span class="op" id="4805419">.</span><span class="ident" id="4805420">value</span><span class="op" id="4805425">(</span><span class="ident" id="4805426">sv</span><span class="op" id="4805428">)</span><span class="op" id="4805429">,</span>&nbsp;<span class="ident" id="4805431">start</span><span class="op" id="4805436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4805440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805444">if</span>&nbsp;<span class="builtinfunc" id="4805447">len</span><span class="op" id="4805450">(</span><span class="ident" id="4805451">finfo</span><span class="op" id="4805456">.</span><span class="ident" id="4805457">parents</span><span class="op" id="4805464">)</span>&nbsp;<span class="op" id="4805466">&gt;</span>&nbsp;<span class="builtinfunc" id="4805468">len</span><span class="op" id="4805471">(</span><span class="ident" id="4805472">parents</span><span class="op" id="4805479">)</span>&nbsp;<span class="op" id="4805481">&amp;&amp;</span>&nbsp;<span class="ident" id="4805484">finfo</span><span class="op" id="4805489">.</span><span class="ident" id="4805490">parents</span><span class="op" id="4805497">[</span><span class="builtinfunc" id="4805498">len</span><span class="op" id="4805501">(</span><span class="ident" id="4805502">parents</span><span class="op" id="4805509">)</span><span class="op" id="4805510">]</span>&nbsp;<span class="op" id="4805512">==</span>&nbsp;<span class="ident" id="4805515">start</span><span class="op" id="4805520">.</span><span class="ident" id="4805521">Name</span><span class="op" id="4805525">.</span><span class="ident" id="4805526">Local</span>&nbsp;<span class="op" id="4805532">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4805537">//&nbsp;It&#39;s&nbsp;a&nbsp;prefix&nbsp;for&nbsp;the&nbsp;field.&nbsp;Break&nbsp;and&nbsp;recurse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4805590">//&nbsp;since&nbsp;it&#39;s&nbsp;not&nbsp;ok&nbsp;for&nbsp;one&nbsp;field&nbsp;path&nbsp;to&nbsp;be&nbsp;itself</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4805646">//&nbsp;the&nbsp;prefix&nbsp;for&nbsp;another&nbsp;field&nbsp;path.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4805687">recurse</span>&nbsp;<span class="op" id="4805695">=</span>&nbsp;<span class="builtintype" id="4805697">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4805706">//&nbsp;We&nbsp;can&nbsp;reuse&nbsp;the&nbsp;same&nbsp;slice&nbsp;as&nbsp;long&nbsp;as&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4805754">//&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;append&nbsp;to&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4805787">parents</span>&nbsp;<span class="op" id="4805795">=</span>&nbsp;<span class="ident" id="4805797">finfo</span><span class="op" id="4805802">.</span><span class="ident" id="4805803">parents</span><span class="op" id="4805810">[</span><span class="op" id="4805811">:</span><span class="builtinfunc" id="4805812">len</span><span class="op" id="4805815">(</span><span class="ident" id="4805816">parents</span><span class="op" id="4805823">)</span><span class="op" id="4805824">+</span><span class="num" id="4805825">1</span><span class="op" id="4805826">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805831">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4805839">}</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4805842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805845">if</span>&nbsp;<span class="op" id="4805848">!</span><span class="ident" id="4805849">recurse</span>&nbsp;<span class="op" id="4805857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4805861">//&nbsp;We&nbsp;have&nbsp;no&nbsp;business&nbsp;with&nbsp;this&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4805905">return</span>&nbsp;<span class="builtintype" id="4805912">false</span><span class="op" id="4805917">,</span>&nbsp;<span class="builtintype" id="4805919">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4805924">}</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4805927">//&nbsp;The&nbsp;element&nbsp;is&nbsp;not&nbsp;a&nbsp;perfect&nbsp;match&nbsp;for&nbsp;any&nbsp;field,&nbsp;but&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4805989">//&nbsp;or&nbsp;more&nbsp;fields&nbsp;have&nbsp;the&nbsp;path&nbsp;to&nbsp;this&nbsp;element&nbsp;as&nbsp;a&nbsp;parent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4806050">//&nbsp;prefix.&nbsp;Recurse&nbsp;and&nbsp;attempt&nbsp;to&nbsp;match&nbsp;these.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806098">for</span>&nbsp;<span class="op" id="4806102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806106">var</span>&nbsp;<span class="ident" id="4806110">tok</span>&nbsp;<span class="ident" id="4806114">Token</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4806122">tok</span><span class="op" id="4806125">,</span>&nbsp;<span class="ident" id="4806127">err</span>&nbsp;<span class="op" id="4806131">=</span>&nbsp;<span class="ident" id="4806133">p</span><span class="op" id="4806134">.</span><span class="ident" id="4806135">Token</span><span class="op" id="4806140">(</span><span class="op" id="4806141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806145">if</span>&nbsp;<span class="ident" id="4806148">err</span>&nbsp;<span class="op" id="4806152">!=</span>&nbsp;<span class="builtintype" id="4806155">nil</span>&nbsp;<span class="op" id="4806159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806164">return</span>&nbsp;<span class="builtintype" id="4806171">true</span><span class="op" id="4806175">,</span>&nbsp;<span class="ident" id="4806177">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4806183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806187">switch</span>&nbsp;<span class="ident" id="4806194">t</span>&nbsp;<span class="op" id="4806196">:=</span>&nbsp;<span class="ident" id="4806199">tok</span><span class="op" id="4806202">.</span><span class="op" id="4806203">(</span><span class="keyword" id="4806204">type</span><span class="op" id="4806208">)</span>&nbsp;<span class="op" id="4806210">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806214">case</span>&nbsp;<span class="ident" id="4806219">StartElement</span><span class="op" id="4806231">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4806236">consumed2</span><span class="op" id="4806245">,</span>&nbsp;<span class="ident" id="4806247">err</span>&nbsp;<span class="op" id="4806251">:=</span>&nbsp;<span class="ident" id="4806254">p</span><span class="op" id="4806255">.</span><span class="ident" id="4806256">unmarshalPath</span><span class="op" id="4806269">(</span><span class="ident" id="4806270">tinfo</span><span class="op" id="4806275">,</span>&nbsp;<span class="ident" id="4806277">sv</span><span class="op" id="4806279">,</span>&nbsp;<span class="ident" id="4806281">parents</span><span class="op" id="4806288">,</span>&nbsp;<span class="op" id="4806290">&amp;</span><span class="ident" id="4806291">t</span><span class="op" id="4806292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806297">if</span>&nbsp;<span class="ident" id="4806300">err</span>&nbsp;<span class="op" id="4806304">!=</span>&nbsp;<span class="builtintype" id="4806307">nil</span>&nbsp;<span class="op" id="4806311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806317">return</span>&nbsp;<span class="builtintype" id="4806324">true</span><span class="op" id="4806328">,</span>&nbsp;<span class="ident" id="4806330">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4806337">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806342">if</span>&nbsp;<span class="op" id="4806345">!</span><span class="ident" id="4806346">consumed2</span>&nbsp;<span class="op" id="4806356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806362">if</span>&nbsp;<span class="ident" id="4806365">err</span>&nbsp;<span class="op" id="4806369">:=</span>&nbsp;<span class="ident" id="4806372">p</span><span class="op" id="4806373">.</span><span class="ident" id="4806374">Skip</span><span class="op" id="4806378">(</span><span class="op" id="4806379">)</span><span class="op" id="4806380">;</span>&nbsp;<span class="ident" id="4806382">err</span>&nbsp;<span class="op" id="4806386">!=</span>&nbsp;<span class="builtintype" id="4806389">nil</span>&nbsp;<span class="op" id="4806393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806400">return</span>&nbsp;<span class="builtintype" id="4806407">true</span><span class="op" id="4806411">,</span>&nbsp;<span class="ident" id="4806413">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4806421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4806426">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806430">case</span>&nbsp;<span class="ident" id="4806435">EndElement</span><span class="op" id="4806445">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806450">return</span>&nbsp;<span class="builtintype" id="4806457">true</span><span class="op" id="4806461">,</span>&nbsp;<span class="builtintype" id="4806463">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4806469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4806472">}</span><br>
<span class="lineno"></span><span class="op" id="4806474">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="comment" id="4806477">//&nbsp;Skip&nbsp;reads&nbsp;tokens&nbsp;until&nbsp;it&nbsp;has&nbsp;consumed&nbsp;the&nbsp;end&nbsp;element</span><br>
<span class="lineno"></span><span class="comment" id="4806536">//&nbsp;matching&nbsp;the&nbsp;most&nbsp;recent&nbsp;start&nbsp;element&nbsp;already&nbsp;consumed.</span><br>
<span class="lineno"></span><span class="comment" id="4806596">//&nbsp;It&nbsp;recurs&nbsp;if&nbsp;it&nbsp;encounters&nbsp;a&nbsp;start&nbsp;element,&nbsp;so&nbsp;it&nbsp;can&nbsp;be&nbsp;used&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4806664">//&nbsp;skip&nbsp;nested&nbsp;structures.</span><br>
<span class="lineno">675</span><span class="comment" id="4806691">//&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;it&nbsp;finds&nbsp;an&nbsp;end&nbsp;element&nbsp;matching&nbsp;the&nbsp;start</span><br>
<span class="lineno"></span><span class="comment" id="4806755">//&nbsp;element;&nbsp;otherwise&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;problem.</span><br>
<span class="lineno"></span><span class="keyword" id="4806821">func</span>&nbsp;<span class="op" id="4806826">(</span><span class="ident" id="4806827">d</span>&nbsp;<span class="op" id="4806829">*</span><span class="ident" id="4806830">Decoder</span><span class="op" id="4806837">)</span>&nbsp;<span class="ident" id="4806839">Skip</span><span class="op" id="4806843">(</span><span class="op" id="4806844">)</span>&nbsp;<span class="builtintype" id="4806846">error</span>&nbsp;<span class="op" id="4806852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806855">for</span>&nbsp;<span class="op" id="4806859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4806863">tok</span><span class="op" id="4806866">,</span>&nbsp;<span class="ident" id="4806868">err</span>&nbsp;<span class="op" id="4806872">:=</span>&nbsp;<span class="ident" id="4806875">d</span><span class="op" id="4806876">.</span><span class="ident" id="4806877">Token</span><span class="op" id="4806882">(</span><span class="op" id="4806883">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806887">if</span>&nbsp;<span class="ident" id="4806890">err</span>&nbsp;<span class="op" id="4806894">!=</span>&nbsp;<span class="builtintype" id="4806897">nil</span>&nbsp;<span class="op" id="4806901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806906">return</span>&nbsp;<span class="ident" id="4806913">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4806919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806923">switch</span>&nbsp;<span class="ident" id="4806930">tok</span><span class="op" id="4806933">.</span><span class="op" id="4806934">(</span><span class="keyword" id="4806935">type</span><span class="op" id="4806939">)</span>&nbsp;<span class="op" id="4806941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806945">case</span>&nbsp;<span class="ident" id="4806950">StartElement</span><span class="op" id="4806962">:</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4806967">if</span>&nbsp;<span class="ident" id="4806970">err</span>&nbsp;<span class="op" id="4806974">:=</span>&nbsp;<span class="ident" id="4806977">d</span><span class="op" id="4806978">.</span><span class="ident" id="4806979">Skip</span><span class="op" id="4806983">(</span><span class="op" id="4806984">)</span><span class="op" id="4806985">;</span>&nbsp;<span class="ident" id="4806987">err</span>&nbsp;<span class="op" id="4806991">!=</span>&nbsp;<span class="builtintype" id="4806994">nil</span>&nbsp;<span class="op" id="4806998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4807004">return</span>&nbsp;<span class="ident" id="4807011">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4807018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4807022">case</span>&nbsp;<span class="ident" id="4807027">EndElement</span><span class="op" id="4807037">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4807042">return</span>&nbsp;<span class="builtintype" id="4807049">nil</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4807055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4807058">}</span><br>
<span class="lineno"></span><span class="op" id="4807060">}</span>
</div>
</body>
</html>
