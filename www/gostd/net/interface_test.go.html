<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7794417">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7794473">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7794527">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7794578">package</span>&nbsp;<span class="ident" id="7794586">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7794591">import</span>&nbsp;<span class="op" id="7794598">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7794601">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7794612">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7794622">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7794625">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="7794693">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="7794760">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="7794770">func</span>&nbsp;<span class="ident" id="7794775">loopbackInterface</span><span class="op" id="7794792">(</span><span class="op" id="7794793">)</span>&nbsp;<span class="op" id="7794795">*</span><span class="ident" id="7794796">Interface</span>&nbsp;<span class="op" id="7794806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7794809">ift</span><span class="op" id="7794812">,</span>&nbsp;<span class="ident" id="7794814">err</span>&nbsp;<span class="op" id="7794818">:=</span>&nbsp;<span class="ident" id="7794821">Interfaces</span><span class="op" id="7794831">(</span><span class="op" id="7794832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7794835">if</span>&nbsp;<span class="ident" id="7794838">err</span>&nbsp;<span class="op" id="7794842">!=</span>&nbsp;<span class="ident" id="7794845">nil</span>&nbsp;<span class="op" id="7794849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7794853">return</span>&nbsp;<span class="ident" id="7794860">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794865">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7794868">for</span>&nbsp;<span class="ident" id="7794872">_</span><span class="op" id="7794873">,</span>&nbsp;<span class="ident" id="7794875">ifi</span>&nbsp;<span class="op" id="7794879">:=</span>&nbsp;<span class="keyword" id="7794882">range</span>&nbsp;<span class="ident" id="7794888">ift</span>&nbsp;<span class="op" id="7794892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7794896">if</span>&nbsp;<span class="ident" id="7794899">ifi</span><span class="op" id="7794902">.</span><span class="ident" id="7794903">Flags</span><span class="op" id="7794908">&amp;</span><span class="ident" id="7794909">FlagLoopback</span>&nbsp;<span class="op" id="7794922">!=</span>&nbsp;<span class="num" id="7794925">0</span>&nbsp;<span class="op" id="7794927">&amp;&amp;</span>&nbsp;<span class="ident" id="7794930">ifi</span><span class="op" id="7794933">.</span><span class="ident" id="7794934">Flags</span><span class="op" id="7794939">&amp;</span><span class="ident" id="7794940">FlagUp</span>&nbsp;<span class="op" id="7794947">!=</span>&nbsp;<span class="num" id="7794950">0</span>&nbsp;<span class="op" id="7794952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7794957">return</span>&nbsp;<span class="op" id="7794964">&amp;</span><span class="ident" id="7794965">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7794974">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7794977">return</span>&nbsp;<span class="ident" id="7794984">nil</span><br>
<span class="lineno"></span><span class="op" id="7794988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7794991">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="7795062">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="7795127">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="7795157">func</span>&nbsp;<span class="ident" id="7795162">ipv6LinkLocalUnicastAddr</span><span class="op" id="7795186">(</span><span class="ident" id="7795187">ifi</span>&nbsp;<span class="op" id="7795191">*</span><span class="ident" id="7795192">Interface</span><span class="op" id="7795201">)</span>&nbsp;<span class="builtintype" id="7795203">string</span>&nbsp;<span class="op" id="7795210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795213">if</span>&nbsp;<span class="ident" id="7795216">ifi</span>&nbsp;<span class="op" id="7795220">==</span>&nbsp;<span class="ident" id="7795223">nil</span>&nbsp;<span class="op" id="7795227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795231">return</span>&nbsp;<span class="string" id="7795238">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795242">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795245">ifat</span><span class="op" id="7795249">,</span>&nbsp;<span class="ident" id="7795251">err</span>&nbsp;<span class="op" id="7795255">:=</span>&nbsp;<span class="ident" id="7795258">ifi</span><span class="op" id="7795261">.</span><span class="ident" id="7795262">Addrs</span><span class="op" id="7795267">(</span><span class="op" id="7795268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795271">if</span>&nbsp;<span class="ident" id="7795274">err</span>&nbsp;<span class="op" id="7795278">!=</span>&nbsp;<span class="ident" id="7795281">nil</span>&nbsp;<span class="op" id="7795285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795289">return</span>&nbsp;<span class="string" id="7795296">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795303">for</span>&nbsp;<span class="ident" id="7795307">_</span><span class="op" id="7795308">,</span>&nbsp;<span class="ident" id="7795310">ifa</span>&nbsp;<span class="op" id="7795314">:=</span>&nbsp;<span class="keyword" id="7795317">range</span>&nbsp;<span class="ident" id="7795323">ifat</span>&nbsp;<span class="op" id="7795328">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795332">switch</span>&nbsp;<span class="ident" id="7795339">ifa</span>&nbsp;<span class="op" id="7795343">:=</span>&nbsp;<span class="ident" id="7795346">ifa</span><span class="op" id="7795349">.</span><span class="op" id="7795350">(</span><span class="keyword" id="7795351">type</span><span class="op" id="7795355">)</span>&nbsp;<span class="op" id="7795357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795361">case</span>&nbsp;<span class="op" id="7795366">*</span><span class="ident" id="7795367">IPAddr</span><span class="op" id="7795373">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795378">if</span>&nbsp;<span class="ident" id="7795381">ifa</span><span class="op" id="7795384">.</span><span class="ident" id="7795385">IP</span><span class="op" id="7795387">.</span><span class="ident" id="7795388">To4</span><span class="op" id="7795391">(</span><span class="op" id="7795392">)</span>&nbsp;<span class="op" id="7795394">==</span>&nbsp;<span class="ident" id="7795397">nil</span>&nbsp;<span class="op" id="7795401">&amp;&amp;</span>&nbsp;<span class="ident" id="7795404">ifa</span><span class="op" id="7795407">.</span><span class="ident" id="7795408">IP</span><span class="op" id="7795410">.</span><span class="ident" id="7795411">IsLinkLocalUnicast</span><span class="op" id="7795429">(</span><span class="op" id="7795430">)</span>&nbsp;<span class="op" id="7795432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795438">return</span>&nbsp;<span class="ident" id="7795445">ifa</span><span class="op" id="7795448">.</span><span class="ident" id="7795449">IP</span><span class="op" id="7795451">.</span><span class="ident" id="7795452">String</span><span class="op" id="7795458">(</span><span class="op" id="7795459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795464">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795468">case</span>&nbsp;<span class="op" id="7795473">*</span><span class="ident" id="7795474">IPNet</span><span class="op" id="7795479">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795484">if</span>&nbsp;<span class="ident" id="7795487">ifa</span><span class="op" id="7795490">.</span><span class="ident" id="7795491">IP</span><span class="op" id="7795493">.</span><span class="ident" id="7795494">To4</span><span class="op" id="7795497">(</span><span class="op" id="7795498">)</span>&nbsp;<span class="op" id="7795500">==</span>&nbsp;<span class="ident" id="7795503">nil</span>&nbsp;<span class="op" id="7795507">&amp;&amp;</span>&nbsp;<span class="ident" id="7795510">ifa</span><span class="op" id="7795513">.</span><span class="ident" id="7795514">IP</span><span class="op" id="7795516">.</span><span class="ident" id="7795517">IsLinkLocalUnicast</span><span class="op" id="7795535">(</span><span class="op" id="7795536">)</span>&nbsp;<span class="op" id="7795538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795544">return</span>&nbsp;<span class="ident" id="7795551">ifa</span><span class="op" id="7795554">.</span><span class="ident" id="7795555">IP</span><span class="op" id="7795557">.</span><span class="ident" id="7795558">String</span><span class="op" id="7795564">(</span><span class="op" id="7795565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795574">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795580">return</span>&nbsp;<span class="string" id="7795587">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7795590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7795593">func</span>&nbsp;<span class="ident" id="7795598">TestInterfaces</span><span class="op" id="7795612">(</span><span class="ident" id="7795613">t</span>&nbsp;<span class="op" id="7795615">*</span><span class="ident" id="7795616">testing</span><span class="op" id="7795623">.</span><span class="ident" id="7795624">T</span><span class="op" id="7795625">)</span>&nbsp;<span class="op" id="7795627">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795630">ift</span><span class="op" id="7795633">,</span>&nbsp;<span class="ident" id="7795635">err</span>&nbsp;<span class="op" id="7795639">:=</span>&nbsp;<span class="ident" id="7795642">Interfaces</span><span class="op" id="7795652">(</span><span class="op" id="7795653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795656">if</span>&nbsp;<span class="ident" id="7795659">err</span>&nbsp;<span class="op" id="7795663">!=</span>&nbsp;<span class="ident" id="7795666">nil</span>&nbsp;<span class="op" id="7795670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795674">t</span><span class="op" id="7795675">.</span><span class="ident" id="7795676">Fatalf</span><span class="op" id="7795682">(</span><span class="string" id="7795683">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7795706">,</span>&nbsp;<span class="ident" id="7795708">err</span><span class="op" id="7795711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795717">t</span><span class="op" id="7795718">.</span><span class="ident" id="7795719">Logf</span><span class="op" id="7795723">(</span><span class="string" id="7795724">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="7795748">,</span>&nbsp;<span class="builtinfunc" id="7795750">len</span><span class="op" id="7795753">(</span><span class="ident" id="7795754">ift</span><span class="op" id="7795757">)</span><span class="op" id="7795758">,</span>&nbsp;<span class="builtinfunc" id="7795760">cap</span><span class="op" id="7795763">(</span><span class="ident" id="7795764">ift</span><span class="op" id="7795767">)</span><span class="op" id="7795768">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795772">for</span>&nbsp;<span class="ident" id="7795776">_</span><span class="op" id="7795777">,</span>&nbsp;<span class="ident" id="7795779">ifi</span>&nbsp;<span class="op" id="7795783">:=</span>&nbsp;<span class="keyword" id="7795786">range</span>&nbsp;<span class="ident" id="7795792">ift</span>&nbsp;<span class="op" id="7795796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795800">ifxi</span><span class="op" id="7795804">,</span>&nbsp;<span class="ident" id="7795806">err</span>&nbsp;<span class="op" id="7795810">:=</span>&nbsp;<span class="ident" id="7795813">InterfaceByIndex</span><span class="op" id="7795829">(</span><span class="ident" id="7795830">ifi</span><span class="op" id="7795833">.</span><span class="ident" id="7795834">Index</span><span class="op" id="7795839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795843">if</span>&nbsp;<span class="ident" id="7795846">err</span>&nbsp;<span class="op" id="7795850">!=</span>&nbsp;<span class="ident" id="7795853">nil</span>&nbsp;<span class="op" id="7795857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795862">t</span><span class="op" id="7795863">.</span><span class="ident" id="7795864">Fatalf</span><span class="op" id="7795870">(</span><span class="string" id="7795871">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7795904">,</span>&nbsp;<span class="ident" id="7795906">ifi</span><span class="op" id="7795909">.</span><span class="ident" id="7795910">Index</span><span class="op" id="7795915">,</span>&nbsp;<span class="ident" id="7795917">err</span><span class="op" id="7795920">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7795924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7795928">if</span>&nbsp;<span class="op" id="7795931">!</span><span class="ident" id="7795932">reflect</span><span class="op" id="7795939">.</span><span class="ident" id="7795940">DeepEqual</span><span class="op" id="7795949">(</span><span class="ident" id="7795950">ifxi</span><span class="op" id="7795954">,</span>&nbsp;<span class="op" id="7795956">&amp;</span><span class="ident" id="7795957">ifi</span><span class="op" id="7795960">)</span>&nbsp;<span class="op" id="7795962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7795967">t</span><span class="op" id="7795968">.</span><span class="ident" id="7795969">Fatalf</span><span class="op" id="7795975">(</span><span class="string" id="7795976">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7796012">,</span>&nbsp;<span class="ident" id="7796014">ifi</span><span class="op" id="7796017">.</span><span class="ident" id="7796018">Index</span><span class="op" id="7796023">,</span>&nbsp;<span class="ident" id="7796025">ifxi</span><span class="op" id="7796029">,</span>&nbsp;<span class="ident" id="7796031">ifi</span><span class="op" id="7796034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7796038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796042">ifxn</span><span class="op" id="7796046">,</span>&nbsp;<span class="ident" id="7796048">err</span>&nbsp;<span class="op" id="7796052">:=</span>&nbsp;<span class="ident" id="7796055">InterfaceByName</span><span class="op" id="7796070">(</span><span class="ident" id="7796071">ifi</span><span class="op" id="7796074">.</span><span class="ident" id="7796075">Name</span><span class="op" id="7796079">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7796083">if</span>&nbsp;<span class="ident" id="7796086">err</span>&nbsp;<span class="op" id="7796090">!=</span>&nbsp;<span class="ident" id="7796093">nil</span>&nbsp;<span class="op" id="7796097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796102">t</span><span class="op" id="7796103">.</span><span class="ident" id="7796104">Fatalf</span><span class="op" id="7796110">(</span><span class="string" id="7796111">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7796143">,</span>&nbsp;<span class="ident" id="7796145">ifi</span><span class="op" id="7796148">.</span><span class="ident" id="7796149">Name</span><span class="op" id="7796153">,</span>&nbsp;<span class="ident" id="7796155">err</span><span class="op" id="7796158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7796162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7796166">if</span>&nbsp;<span class="op" id="7796169">!</span><span class="ident" id="7796170">reflect</span><span class="op" id="7796177">.</span><span class="ident" id="7796178">DeepEqual</span><span class="op" id="7796187">(</span><span class="ident" id="7796188">ifxn</span><span class="op" id="7796192">,</span>&nbsp;<span class="op" id="7796194">&amp;</span><span class="ident" id="7796195">ifi</span><span class="op" id="7796198">)</span>&nbsp;<span class="op" id="7796200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796205">t</span><span class="op" id="7796206">.</span><span class="ident" id="7796207">Fatalf</span><span class="op" id="7796213">(</span><span class="string" id="7796214">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7796249">,</span>&nbsp;<span class="ident" id="7796251">ifi</span><span class="op" id="7796254">.</span><span class="ident" id="7796255">Name</span><span class="op" id="7796259">,</span>&nbsp;<span class="ident" id="7796261">ifxn</span><span class="op" id="7796265">,</span>&nbsp;<span class="ident" id="7796267">ifi</span><span class="op" id="7796270">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7796274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796278">t</span><span class="op" id="7796279">.</span><span class="ident" id="7796280">Logf</span><span class="op" id="7796284">(</span><span class="string" id="7796285">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="7796319">,</span>&nbsp;<span class="ident" id="7796321">ifi</span><span class="op" id="7796324">.</span><span class="ident" id="7796325">Name</span><span class="op" id="7796329">,</span>&nbsp;<span class="ident" id="7796331">ifi</span><span class="op" id="7796334">.</span><span class="ident" id="7796335">Flags</span><span class="op" id="7796340">.</span><span class="ident" id="7796341">String</span><span class="op" id="7796347">(</span><span class="op" id="7796348">)</span><span class="op" id="7796349">,</span>&nbsp;<span class="ident" id="7796351">ifi</span><span class="op" id="7796354">.</span><span class="ident" id="7796355">Index</span><span class="op" id="7796360">,</span>&nbsp;<span class="ident" id="7796362">ifi</span><span class="op" id="7796365">.</span><span class="ident" id="7796366">MTU</span><span class="op" id="7796369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796373">t</span><span class="op" id="7796374">.</span><span class="ident" id="7796375">Logf</span><span class="op" id="7796379">(</span><span class="string" id="7796380">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7796403">,</span>&nbsp;<span class="ident" id="7796405">ifi</span><span class="op" id="7796408">.</span><span class="ident" id="7796409">HardwareAddr</span><span class="op" id="7796421">.</span><span class="ident" id="7796422">String</span><span class="op" id="7796428">(</span><span class="op" id="7796429">)</span><span class="op" id="7796430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796434">testInterfaceAddrs</span><span class="op" id="7796452">(</span><span class="ident" id="7796453">t</span><span class="op" id="7796454">,</span>&nbsp;<span class="op" id="7796456">&amp;</span><span class="ident" id="7796457">ifi</span><span class="op" id="7796460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796464">testInterfaceMulticastAddrs</span><span class="op" id="7796491">(</span><span class="ident" id="7796492">t</span><span class="op" id="7796493">,</span>&nbsp;<span class="op" id="7796495">&amp;</span><span class="ident" id="7796496">ifi</span><span class="op" id="7796499">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7796502">}</span><br>
<span class="lineno"></span><span class="op" id="7796504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7796507">func</span>&nbsp;<span class="ident" id="7796512">TestInterfaceAddrs</span><span class="op" id="7796530">(</span><span class="ident" id="7796531">t</span>&nbsp;<span class="op" id="7796533">*</span><span class="ident" id="7796534">testing</span><span class="op" id="7796541">.</span><span class="ident" id="7796542">T</span><span class="op" id="7796543">)</span>&nbsp;<span class="op" id="7796545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796548">ifat</span><span class="op" id="7796552">,</span>&nbsp;<span class="ident" id="7796554">err</span>&nbsp;<span class="op" id="7796558">:=</span>&nbsp;<span class="ident" id="7796561">InterfaceAddrs</span><span class="op" id="7796575">(</span><span class="op" id="7796576">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7796579">if</span>&nbsp;<span class="ident" id="7796582">err</span>&nbsp;<span class="op" id="7796586">!=</span>&nbsp;<span class="ident" id="7796589">nil</span>&nbsp;<span class="op" id="7796593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796597">t</span><span class="op" id="7796598">.</span><span class="ident" id="7796599">Fatalf</span><span class="op" id="7796605">(</span><span class="string" id="7796606">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7796633">,</span>&nbsp;<span class="ident" id="7796635">err</span><span class="op" id="7796638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7796641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796644">t</span><span class="op" id="7796645">.</span><span class="ident" id="7796646">Logf</span><span class="op" id="7796650">(</span><span class="string" id="7796651">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="7796675">,</span>&nbsp;<span class="builtinfunc" id="7796677">len</span><span class="op" id="7796680">(</span><span class="ident" id="7796681">ifat</span><span class="op" id="7796685">)</span><span class="op" id="7796686">,</span>&nbsp;<span class="builtinfunc" id="7796688">cap</span><span class="op" id="7796691">(</span><span class="ident" id="7796692">ifat</span><span class="op" id="7796696">)</span><span class="op" id="7796697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796700">testAddrs</span><span class="op" id="7796709">(</span><span class="ident" id="7796710">t</span><span class="op" id="7796711">,</span>&nbsp;<span class="ident" id="7796713">ifat</span><span class="op" id="7796717">)</span><br>
<span class="lineno">90</span><span class="op" id="7796719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7796722">func</span>&nbsp;<span class="ident" id="7796727">testInterfaceAddrs</span><span class="op" id="7796745">(</span><span class="ident" id="7796746">t</span>&nbsp;<span class="op" id="7796748">*</span><span class="ident" id="7796749">testing</span><span class="op" id="7796756">.</span><span class="ident" id="7796757">T</span><span class="op" id="7796758">,</span>&nbsp;<span class="ident" id="7796760">ifi</span>&nbsp;<span class="op" id="7796764">*</span><span class="ident" id="7796765">Interface</span><span class="op" id="7796774">)</span>&nbsp;<span class="op" id="7796776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796779">ifat</span><span class="op" id="7796783">,</span>&nbsp;<span class="ident" id="7796785">err</span>&nbsp;<span class="op" id="7796789">:=</span>&nbsp;<span class="ident" id="7796792">ifi</span><span class="op" id="7796795">.</span><span class="ident" id="7796796">Addrs</span><span class="op" id="7796801">(</span><span class="op" id="7796802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7796805">if</span>&nbsp;<span class="ident" id="7796808">err</span>&nbsp;<span class="op" id="7796812">!=</span>&nbsp;<span class="ident" id="7796815">nil</span>&nbsp;<span class="op" id="7796819">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796823">t</span><span class="op" id="7796824">.</span><span class="ident" id="7796825">Fatalf</span><span class="op" id="7796831">(</span><span class="string" id="7796832">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7796860">,</span>&nbsp;<span class="ident" id="7796862">err</span><span class="op" id="7796865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7796868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796871">testAddrs</span><span class="op" id="7796880">(</span><span class="ident" id="7796881">t</span><span class="op" id="7796882">,</span>&nbsp;<span class="ident" id="7796884">ifat</span><span class="op" id="7796888">)</span><br>
<span class="lineno"></span><span class="op" id="7796890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7796893">func</span>&nbsp;<span class="ident" id="7796898">testInterfaceMulticastAddrs</span><span class="op" id="7796925">(</span><span class="ident" id="7796926">t</span>&nbsp;<span class="op" id="7796928">*</span><span class="ident" id="7796929">testing</span><span class="op" id="7796936">.</span><span class="ident" id="7796937">T</span><span class="op" id="7796938">,</span>&nbsp;<span class="ident" id="7796940">ifi</span>&nbsp;<span class="op" id="7796944">*</span><span class="ident" id="7796945">Interface</span><span class="op" id="7796954">)</span>&nbsp;<span class="op" id="7796956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7796959">ifmat</span><span class="op" id="7796964">,</span>&nbsp;<span class="ident" id="7796966">err</span>&nbsp;<span class="op" id="7796970">:=</span>&nbsp;<span class="ident" id="7796973">ifi</span><span class="op" id="7796976">.</span><span class="ident" id="7796977">MulticastAddrs</span><span class="op" id="7796991">(</span><span class="op" id="7796992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7796995">if</span>&nbsp;<span class="ident" id="7796998">err</span>&nbsp;<span class="op" id="7797002">!=</span>&nbsp;<span class="ident" id="7797005">nil</span>&nbsp;<span class="op" id="7797009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7797013">t</span><span class="op" id="7797014">.</span><span class="ident" id="7797015">Fatalf</span><span class="op" id="7797021">(</span><span class="string" id="7797022">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7797059">,</span>&nbsp;<span class="ident" id="7797061">err</span><span class="op" id="7797064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7797067">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7797070">testMulticastAddrs</span><span class="op" id="7797088">(</span><span class="ident" id="7797089">t</span><span class="op" id="7797090">,</span>&nbsp;<span class="ident" id="7797092">ifmat</span><span class="op" id="7797097">)</span><br>
<span class="lineno"></span><span class="op" id="7797099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7797102">func</span>&nbsp;<span class="ident" id="7797107">testAddrs</span><span class="op" id="7797116">(</span><span class="ident" id="7797117">t</span>&nbsp;<span class="op" id="7797119">*</span><span class="ident" id="7797120">testing</span><span class="op" id="7797127">.</span><span class="ident" id="7797128">T</span><span class="op" id="7797129">,</span>&nbsp;<span class="ident" id="7797131">ifat</span>&nbsp;<span class="op" id="7797136">[</span><span class="op" id="7797137">]</span><span class="ident" id="7797138">Addr</span><span class="op" id="7797142">)</span>&nbsp;<span class="op" id="7797144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7797147">for</span>&nbsp;<span class="ident" id="7797151">_</span><span class="op" id="7797152">,</span>&nbsp;<span class="ident" id="7797154">ifa</span>&nbsp;<span class="op" id="7797158">:=</span>&nbsp;<span class="keyword" id="7797161">range</span>&nbsp;<span class="ident" id="7797167">ifat</span>&nbsp;<span class="op" id="7797172">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7797176">switch</span>&nbsp;<span class="ident" id="7797183">ifa</span>&nbsp;<span class="op" id="7797187">:=</span>&nbsp;<span class="ident" id="7797190">ifa</span><span class="op" id="7797193">.</span><span class="op" id="7797194">(</span><span class="keyword" id="7797195">type</span><span class="op" id="7797199">)</span>&nbsp;<span class="op" id="7797201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7797205">case</span>&nbsp;<span class="op" id="7797210">*</span><span class="ident" id="7797211">IPAddr</span><span class="op" id="7797217">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7797222">if</span>&nbsp;<span class="ident" id="7797225">ifa</span>&nbsp;<span class="op" id="7797229">==</span>&nbsp;<span class="ident" id="7797232">nil</span>&nbsp;<span class="op" id="7797236">||</span>&nbsp;<span class="ident" id="7797239">ifa</span><span class="op" id="7797242">.</span><span class="ident" id="7797243">IP</span>&nbsp;<span class="op" id="7797246">==</span>&nbsp;<span class="ident" id="7797249">nil</span>&nbsp;<span class="op" id="7797253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7797259">t</span><span class="op" id="7797260">.</span><span class="ident" id="7797261">Errorf</span><span class="op" id="7797267">(</span><span class="string" id="7797268">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7797296">,</span>&nbsp;<span class="ident" id="7797298">ifa</span><span class="op" id="7797301">,</span>&nbsp;<span class="ident" id="7797303">ifa</span><span class="op" id="7797306">.</span><span class="ident" id="7797307">IP</span><span class="op" id="7797309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7797314">}</span>&nbsp;<span class="keyword" id="7797316">else</span>&nbsp;<span class="op" id="7797321">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7797327">t</span><span class="op" id="7797328">.</span><span class="ident" id="7797329">Logf</span><span class="op" id="7797333">(</span><span class="string" id="7797334">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7797358">,</span>&nbsp;<span class="ident" id="7797360">ifa</span><span class="op" id="7797363">.</span><span class="ident" id="7797364">String</span><span class="op" id="7797370">(</span><span class="op" id="7797371">)</span><span class="op" id="7797372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7797377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7797381">case</span>&nbsp;<span class="op" id="7797386">*</span><span class="ident" id="7797387">IPNet</span><span class="op" id="7797392">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7797397">if</span>&nbsp;<span class="ident" id="7797400">ifa</span>&nbsp;<span class="op" id="7797404">==</span>&nbsp;<span class="ident" id="7797407">nil</span>&nbsp;<span class="op" id="7797411">||</span>&nbsp;<span class="ident" id="7797414">ifa</span><span class="op" id="7797417">.</span><span class="ident" id="7797418">IP</span>&nbsp;<span class="op" id="7797421">==</span>&nbsp;<span class="ident" id="7797424">nil</span>&nbsp;<span class="op" id="7797428">||</span>&nbsp;<span class="ident" id="7797431">ifa</span><span class="op" id="7797434">.</span><span class="ident" id="7797435">Mask</span>&nbsp;<span class="op" id="7797440">==</span>&nbsp;<span class="ident" id="7797443">nil</span>&nbsp;<span class="op" id="7797447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7797453">t</span><span class="op" id="7797454">.</span><span class="ident" id="7797455">Errorf</span><span class="op" id="7797461">(</span><span class="string" id="7797462">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7797494">,</span>&nbsp;<span class="ident" id="7797496">ifa</span><span class="op" id="7797499">,</span>&nbsp;<span class="ident" id="7797501">ifa</span><span class="op" id="7797504">.</span><span class="ident" id="7797505">IP</span><span class="op" id="7797507">,</span>&nbsp;<span class="ident" id="7797509">ifa</span><span class="op" id="7797512">.</span><span class="ident" id="7797513">Mask</span><span class="op" id="7797517">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7797522">}</span>&nbsp;<span class="keyword" id="7797524">else</span>&nbsp;<span class="op" id="7797529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7797535">_</span><span class="op" id="7797536">,</span>&nbsp;<span class="ident" id="7797538">prefixLen</span>&nbsp;<span class="op" id="7797548">:=</span>&nbsp;<span class="ident" id="7797551">ifa</span><span class="op" id="7797554">.</span><span class="ident" id="7797555">Mask</span><span class="op" id="7797559">.</span><span class="ident" id="7797560">Size</span><span class="op" id="7797564">(</span><span class="op" id="7797565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7797571">if</span>&nbsp;<span class="ident" id="7797574">ifa</span><span class="op" id="7797577">.</span><span class="ident" id="7797578">IP</span><span class="op" id="7797580">.</span><span class="ident" id="7797581">To4</span><span class="op" id="7797584">(</span><span class="op" id="7797585">)</span>&nbsp;<span class="op" id="7797587">!=</span>&nbsp;<span class="ident" id="7797590">nil</span>&nbsp;<span class="op" id="7797594">&amp;&amp;</span>&nbsp;<span class="ident" id="7797597">prefixLen</span>&nbsp;<span class="op" id="7797607">!=</span>&nbsp;<span class="num" id="7797610">8</span><span class="op" id="7797611">*</span><span class="ident" id="7797612">IPv4len</span>&nbsp;<span class="op" id="7797620">||</span>&nbsp;<span class="ident" id="7797623">ifa</span><span class="op" id="7797626">.</span><span class="ident" id="7797627">IP</span><span class="op" id="7797629">.</span><span class="ident" id="7797630">To16</span><span class="op" id="7797634">(</span><span class="op" id="7797635">)</span>&nbsp;<span class="op" id="7797637">!=</span>&nbsp;<span class="ident" id="7797640">nil</span>&nbsp;<span class="op" id="7797644">&amp;&amp;</span>&nbsp;<span class="ident" id="7797647">ifa</span><span class="op" id="7797650">.</span><span class="ident" id="7797651">IP</span><span class="op" id="7797653">.</span><span class="ident" id="7797654">To4</span><span class="op" id="7797657">(</span><span class="op" id="7797658">)</span>&nbsp;<span class="op" id="7797660">==</span>&nbsp;<span class="ident" id="7797663">nil</span>&nbsp;<span class="op" id="7797667">&amp;&amp;</span>&nbsp;<span class="ident" id="7797670">prefixLen</span>&nbsp;<span class="op" id="7797680">!=</span>&nbsp;<span class="num" id="7797683">8</span><span class="op" id="7797684">*</span><span class="ident" id="7797685">IPv6len</span>&nbsp;<span class="op" id="7797693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7797700">t</span><span class="op" id="7797701">.</span><span class="ident" id="7797702">Errorf</span><span class="op" id="7797708">(</span><span class="string" id="7797709">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7797745">,</span>&nbsp;<span class="ident" id="7797747">ifa</span><span class="op" id="7797750">,</span>&nbsp;<span class="ident" id="7797752">ifa</span><span class="op" id="7797755">.</span><span class="ident" id="7797756">IP</span><span class="op" id="7797758">,</span>&nbsp;<span class="ident" id="7797760">ifa</span><span class="op" id="7797763">.</span><span class="ident" id="7797764">Mask</span><span class="op" id="7797768">,</span>&nbsp;<span class="ident" id="7797770">prefixLen</span><span class="op" id="7797779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7797785">}</span>&nbsp;<span class="keyword" id="7797787">else</span>&nbsp;<span class="op" id="7797792">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7797799">t</span><span class="op" id="7797800">.</span><span class="ident" id="7797801">Logf</span><span class="op" id="7797805">(</span><span class="string" id="7797806">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7797830">,</span>&nbsp;<span class="ident" id="7797832">ifa</span><span class="op" id="7797835">.</span><span class="ident" id="7797836">String</span><span class="op" id="7797842">(</span><span class="op" id="7797843">)</span><span class="op" id="7797844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7797850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7797855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7797859">default</span><span class="op" id="7797866">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7797871">t</span><span class="op" id="7797872">.</span><span class="ident" id="7797873">Errorf</span><span class="op" id="7797879">(</span><span class="string" id="7797880">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="7797903">,</span>&nbsp;<span class="ident" id="7797905">ifa</span><span class="op" id="7797908">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7797912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7797915">}</span><br>
<span class="lineno"></span><span class="op" id="7797917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7797920">func</span>&nbsp;<span class="ident" id="7797925">testMulticastAddrs</span><span class="op" id="7797943">(</span><span class="ident" id="7797944">t</span>&nbsp;<span class="op" id="7797946">*</span><span class="ident" id="7797947">testing</span><span class="op" id="7797954">.</span><span class="ident" id="7797955">T</span><span class="op" id="7797956">,</span>&nbsp;<span class="ident" id="7797958">ifmat</span>&nbsp;<span class="op" id="7797964">[</span><span class="op" id="7797965">]</span><span class="ident" id="7797966">Addr</span><span class="op" id="7797970">)</span>&nbsp;<span class="op" id="7797972">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7797975">for</span>&nbsp;<span class="ident" id="7797979">_</span><span class="op" id="7797980">,</span>&nbsp;<span class="ident" id="7797982">ifma</span>&nbsp;<span class="op" id="7797987">:=</span>&nbsp;<span class="keyword" id="7797990">range</span>&nbsp;<span class="ident" id="7797996">ifmat</span>&nbsp;<span class="op" id="7798002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798006">switch</span>&nbsp;<span class="ident" id="7798013">ifma</span>&nbsp;<span class="op" id="7798018">:=</span>&nbsp;<span class="ident" id="7798021">ifma</span><span class="op" id="7798025">.</span><span class="op" id="7798026">(</span><span class="keyword" id="7798027">type</span><span class="op" id="7798031">)</span>&nbsp;<span class="op" id="7798033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798037">case</span>&nbsp;<span class="op" id="7798042">*</span><span class="ident" id="7798043">IPAddr</span><span class="op" id="7798049">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798054">if</span>&nbsp;<span class="ident" id="7798057">ifma</span>&nbsp;<span class="op" id="7798062">==</span>&nbsp;<span class="ident" id="7798065">nil</span>&nbsp;<span class="op" id="7798069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798075">t</span><span class="op" id="7798076">.</span><span class="ident" id="7798077">Errorf</span><span class="op" id="7798083">(</span><span class="string" id="7798084">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="7798108">,</span>&nbsp;<span class="ident" id="7798110">ifma</span><span class="op" id="7798114">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798119">}</span>&nbsp;<span class="keyword" id="7798121">else</span>&nbsp;<span class="op" id="7798126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798132">t</span><span class="op" id="7798133">.</span><span class="ident" id="7798134">Logf</span><span class="op" id="7798138">(</span><span class="string" id="7798139">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7798166">,</span>&nbsp;<span class="ident" id="7798168">ifma</span><span class="op" id="7798172">.</span><span class="ident" id="7798173">String</span><span class="op" id="7798179">(</span><span class="op" id="7798180">)</span><span class="op" id="7798181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798190">default</span><span class="op" id="7798197">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798202">t</span><span class="op" id="7798203">.</span><span class="ident" id="7798204">Errorf</span><span class="op" id="7798210">(</span><span class="string" id="7798211">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="7798234">,</span>&nbsp;<span class="ident" id="7798236">ifma</span><span class="op" id="7798240">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798247">}</span><br>
<span class="lineno"></span><span class="op" id="7798249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7798252">func</span>&nbsp;<span class="ident" id="7798257">BenchmarkInterfaces</span><span class="op" id="7798276">(</span><span class="ident" id="7798277">b</span>&nbsp;<span class="op" id="7798279">*</span><span class="ident" id="7798280">testing</span><span class="op" id="7798287">.</span><span class="ident" id="7798288">B</span><span class="op" id="7798289">)</span>&nbsp;<span class="op" id="7798291">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798294">for</span>&nbsp;<span class="ident" id="7798298">i</span>&nbsp;<span class="op" id="7798300">:=</span>&nbsp;<span class="num" id="7798303">0</span><span class="op" id="7798304">;</span>&nbsp;<span class="ident" id="7798306">i</span>&nbsp;<span class="op" id="7798308">&lt;</span>&nbsp;<span class="ident" id="7798310">b</span><span class="op" id="7798311">.</span><span class="ident" id="7798312">N</span><span class="op" id="7798313">;</span>&nbsp;<span class="ident" id="7798315">i</span><span class="op" id="7798316">++</span>&nbsp;<span class="op" id="7798319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798323">if</span>&nbsp;<span class="ident" id="7798326">_</span><span class="op" id="7798327">,</span>&nbsp;<span class="ident" id="7798329">err</span>&nbsp;<span class="op" id="7798333">:=</span>&nbsp;<span class="ident" id="7798336">Interfaces</span><span class="op" id="7798346">(</span><span class="op" id="7798347">)</span><span class="op" id="7798348">;</span>&nbsp;<span class="ident" id="7798350">err</span>&nbsp;<span class="op" id="7798354">!=</span>&nbsp;<span class="ident" id="7798357">nil</span>&nbsp;<span class="op" id="7798361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798366">b</span><span class="op" id="7798367">.</span><span class="ident" id="7798368">Fatalf</span><span class="op" id="7798374">(</span><span class="string" id="7798375">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7798398">,</span>&nbsp;<span class="ident" id="7798400">err</span><span class="op" id="7798403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798410">}</span><br>
<span class="lineno">155</span><span class="op" id="7798412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7798415">func</span>&nbsp;<span class="ident" id="7798420">BenchmarkInterfaceByIndex</span><span class="op" id="7798445">(</span><span class="ident" id="7798446">b</span>&nbsp;<span class="op" id="7798448">*</span><span class="ident" id="7798449">testing</span><span class="op" id="7798456">.</span><span class="ident" id="7798457">B</span><span class="op" id="7798458">)</span>&nbsp;<span class="op" id="7798460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798463">ifi</span>&nbsp;<span class="op" id="7798467">:=</span>&nbsp;<span class="ident" id="7798470">loopbackInterface</span><span class="op" id="7798487">(</span><span class="op" id="7798488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798491">if</span>&nbsp;<span class="ident" id="7798494">ifi</span>&nbsp;<span class="op" id="7798498">==</span>&nbsp;<span class="ident" id="7798501">nil</span>&nbsp;<span class="op" id="7798505">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798509">b</span><span class="op" id="7798510">.</span><span class="ident" id="7798511">Skip</span><span class="op" id="7798515">(</span><span class="string" id="7798516">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7798546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798552">for</span>&nbsp;<span class="ident" id="7798556">i</span>&nbsp;<span class="op" id="7798558">:=</span>&nbsp;<span class="num" id="7798561">0</span><span class="op" id="7798562">;</span>&nbsp;<span class="ident" id="7798564">i</span>&nbsp;<span class="op" id="7798566">&lt;</span>&nbsp;<span class="ident" id="7798568">b</span><span class="op" id="7798569">.</span><span class="ident" id="7798570">N</span><span class="op" id="7798571">;</span>&nbsp;<span class="ident" id="7798573">i</span><span class="op" id="7798574">++</span>&nbsp;<span class="op" id="7798577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798581">if</span>&nbsp;<span class="ident" id="7798584">_</span><span class="op" id="7798585">,</span>&nbsp;<span class="ident" id="7798587">err</span>&nbsp;<span class="op" id="7798591">:=</span>&nbsp;<span class="ident" id="7798594">InterfaceByIndex</span><span class="op" id="7798610">(</span><span class="ident" id="7798611">ifi</span><span class="op" id="7798614">.</span><span class="ident" id="7798615">Index</span><span class="op" id="7798620">)</span><span class="op" id="7798621">;</span>&nbsp;<span class="ident" id="7798623">err</span>&nbsp;<span class="op" id="7798627">!=</span>&nbsp;<span class="ident" id="7798630">nil</span>&nbsp;<span class="op" id="7798634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798639">b</span><span class="op" id="7798640">.</span><span class="ident" id="7798641">Fatalf</span><span class="op" id="7798647">(</span><span class="string" id="7798648">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7798677">,</span>&nbsp;<span class="ident" id="7798679">err</span><span class="op" id="7798682">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798689">}</span><br>
<span class="lineno"></span><span class="op" id="7798691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7798694">func</span>&nbsp;<span class="ident" id="7798699">BenchmarkInterfaceByName</span><span class="op" id="7798723">(</span><span class="ident" id="7798724">b</span>&nbsp;<span class="op" id="7798726">*</span><span class="ident" id="7798727">testing</span><span class="op" id="7798734">.</span><span class="ident" id="7798735">B</span><span class="op" id="7798736">)</span>&nbsp;<span class="op" id="7798738">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798741">ifi</span>&nbsp;<span class="op" id="7798745">:=</span>&nbsp;<span class="ident" id="7798748">loopbackInterface</span><span class="op" id="7798765">(</span><span class="op" id="7798766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798769">if</span>&nbsp;<span class="ident" id="7798772">ifi</span>&nbsp;<span class="op" id="7798776">==</span>&nbsp;<span class="ident" id="7798779">nil</span>&nbsp;<span class="op" id="7798783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798787">b</span><span class="op" id="7798788">.</span><span class="ident" id="7798789">Skip</span><span class="op" id="7798793">(</span><span class="string" id="7798794">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7798824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798830">for</span>&nbsp;<span class="ident" id="7798834">i</span>&nbsp;<span class="op" id="7798836">:=</span>&nbsp;<span class="num" id="7798839">0</span><span class="op" id="7798840">;</span>&nbsp;<span class="ident" id="7798842">i</span>&nbsp;<span class="op" id="7798844">&lt;</span>&nbsp;<span class="ident" id="7798846">b</span><span class="op" id="7798847">.</span><span class="ident" id="7798848">N</span><span class="op" id="7798849">;</span>&nbsp;<span class="ident" id="7798851">i</span><span class="op" id="7798852">++</span>&nbsp;<span class="op" id="7798855">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7798859">if</span>&nbsp;<span class="ident" id="7798862">_</span><span class="op" id="7798863">,</span>&nbsp;<span class="ident" id="7798865">err</span>&nbsp;<span class="op" id="7798869">:=</span>&nbsp;<span class="ident" id="7798872">InterfaceByName</span><span class="op" id="7798887">(</span><span class="ident" id="7798888">ifi</span><span class="op" id="7798891">.</span><span class="ident" id="7798892">Name</span><span class="op" id="7798896">)</span><span class="op" id="7798897">;</span>&nbsp;<span class="ident" id="7798899">err</span>&nbsp;<span class="op" id="7798903">!=</span>&nbsp;<span class="ident" id="7798906">nil</span>&nbsp;<span class="op" id="7798910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798915">b</span><span class="op" id="7798916">.</span><span class="ident" id="7798917">Fatalf</span><span class="op" id="7798923">(</span><span class="string" id="7798924">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7798952">,</span>&nbsp;<span class="ident" id="7798954">err</span><span class="op" id="7798957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798964">}</span><br>
<span class="lineno"></span><span class="op" id="7798966">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="7798969">func</span>&nbsp;<span class="ident" id="7798974">BenchmarkInterfaceAddrs</span><span class="op" id="7798997">(</span><span class="ident" id="7798998">b</span>&nbsp;<span class="op" id="7799000">*</span><span class="ident" id="7799001">testing</span><span class="op" id="7799008">.</span><span class="ident" id="7799009">B</span><span class="op" id="7799010">)</span>&nbsp;<span class="op" id="7799012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7799015">for</span>&nbsp;<span class="ident" id="7799019">i</span>&nbsp;<span class="op" id="7799021">:=</span>&nbsp;<span class="num" id="7799024">0</span><span class="op" id="7799025">;</span>&nbsp;<span class="ident" id="7799027">i</span>&nbsp;<span class="op" id="7799029">&lt;</span>&nbsp;<span class="ident" id="7799031">b</span><span class="op" id="7799032">.</span><span class="ident" id="7799033">N</span><span class="op" id="7799034">;</span>&nbsp;<span class="ident" id="7799036">i</span><span class="op" id="7799037">++</span>&nbsp;<span class="op" id="7799040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7799044">if</span>&nbsp;<span class="ident" id="7799047">_</span><span class="op" id="7799048">,</span>&nbsp;<span class="ident" id="7799050">err</span>&nbsp;<span class="op" id="7799054">:=</span>&nbsp;<span class="ident" id="7799057">InterfaceAddrs</span><span class="op" id="7799071">(</span><span class="op" id="7799072">)</span><span class="op" id="7799073">;</span>&nbsp;<span class="ident" id="7799075">err</span>&nbsp;<span class="op" id="7799079">!=</span>&nbsp;<span class="ident" id="7799082">nil</span>&nbsp;<span class="op" id="7799086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799091">b</span><span class="op" id="7799092">.</span><span class="ident" id="7799093">Fatalf</span><span class="op" id="7799099">(</span><span class="string" id="7799100">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7799127">,</span>&nbsp;<span class="ident" id="7799129">err</span><span class="op" id="7799132">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799139">}</span><br>
<span class="lineno"></span><span class="op" id="7799141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7799144">func</span>&nbsp;<span class="ident" id="7799149">BenchmarkInterfacesAndAddrs</span><span class="op" id="7799176">(</span><span class="ident" id="7799177">b</span>&nbsp;<span class="op" id="7799179">*</span><span class="ident" id="7799180">testing</span><span class="op" id="7799187">.</span><span class="ident" id="7799188">B</span><span class="op" id="7799189">)</span>&nbsp;<span class="op" id="7799191">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799194">ifi</span>&nbsp;<span class="op" id="7799198">:=</span>&nbsp;<span class="ident" id="7799201">loopbackInterface</span><span class="op" id="7799218">(</span><span class="op" id="7799219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7799222">if</span>&nbsp;<span class="ident" id="7799225">ifi</span>&nbsp;<span class="op" id="7799229">==</span>&nbsp;<span class="ident" id="7799232">nil</span>&nbsp;<span class="op" id="7799236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799240">b</span><span class="op" id="7799241">.</span><span class="ident" id="7799242">Skip</span><span class="op" id="7799246">(</span><span class="string" id="7799247">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7799277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7799283">for</span>&nbsp;<span class="ident" id="7799287">i</span>&nbsp;<span class="op" id="7799289">:=</span>&nbsp;<span class="num" id="7799292">0</span><span class="op" id="7799293">;</span>&nbsp;<span class="ident" id="7799295">i</span>&nbsp;<span class="op" id="7799297">&lt;</span>&nbsp;<span class="ident" id="7799299">b</span><span class="op" id="7799300">.</span><span class="ident" id="7799301">N</span><span class="op" id="7799302">;</span>&nbsp;<span class="ident" id="7799304">i</span><span class="op" id="7799305">++</span>&nbsp;<span class="op" id="7799308">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7799312">if</span>&nbsp;<span class="ident" id="7799315">_</span><span class="op" id="7799316">,</span>&nbsp;<span class="ident" id="7799318">err</span>&nbsp;<span class="op" id="7799322">:=</span>&nbsp;<span class="ident" id="7799325">ifi</span><span class="op" id="7799328">.</span><span class="ident" id="7799329">Addrs</span><span class="op" id="7799334">(</span><span class="op" id="7799335">)</span><span class="op" id="7799336">;</span>&nbsp;<span class="ident" id="7799338">err</span>&nbsp;<span class="op" id="7799342">!=</span>&nbsp;<span class="ident" id="7799345">nil</span>&nbsp;<span class="op" id="7799349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799354">b</span><span class="op" id="7799355">.</span><span class="ident" id="7799356">Fatalf</span><span class="op" id="7799362">(</span><span class="string" id="7799363">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7799391">,</span>&nbsp;<span class="ident" id="7799393">err</span><span class="op" id="7799396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799403">}</span><br>
<span class="lineno"></span><span class="op" id="7799405">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="7799408">func</span>&nbsp;<span class="ident" id="7799413">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="7799449">(</span><span class="ident" id="7799450">b</span>&nbsp;<span class="op" id="7799452">*</span><span class="ident" id="7799453">testing</span><span class="op" id="7799460">.</span><span class="ident" id="7799461">B</span><span class="op" id="7799462">)</span>&nbsp;<span class="op" id="7799464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799467">ifi</span>&nbsp;<span class="op" id="7799471">:=</span>&nbsp;<span class="ident" id="7799474">loopbackInterface</span><span class="op" id="7799491">(</span><span class="op" id="7799492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7799495">if</span>&nbsp;<span class="ident" id="7799498">ifi</span>&nbsp;<span class="op" id="7799502">==</span>&nbsp;<span class="ident" id="7799505">nil</span>&nbsp;<span class="op" id="7799509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799513">b</span><span class="op" id="7799514">.</span><span class="ident" id="7799515">Skip</span><span class="op" id="7799519">(</span><span class="string" id="7799520">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7799550">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7799556">for</span>&nbsp;<span class="ident" id="7799560">i</span>&nbsp;<span class="op" id="7799562">:=</span>&nbsp;<span class="num" id="7799565">0</span><span class="op" id="7799566">;</span>&nbsp;<span class="ident" id="7799568">i</span>&nbsp;<span class="op" id="7799570">&lt;</span>&nbsp;<span class="ident" id="7799572">b</span><span class="op" id="7799573">.</span><span class="ident" id="7799574">N</span><span class="op" id="7799575">;</span>&nbsp;<span class="ident" id="7799577">i</span><span class="op" id="7799578">++</span>&nbsp;<span class="op" id="7799581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7799585">if</span>&nbsp;<span class="ident" id="7799588">_</span><span class="op" id="7799589">,</span>&nbsp;<span class="ident" id="7799591">err</span>&nbsp;<span class="op" id="7799595">:=</span>&nbsp;<span class="ident" id="7799598">ifi</span><span class="op" id="7799601">.</span><span class="ident" id="7799602">MulticastAddrs</span><span class="op" id="7799616">(</span><span class="op" id="7799617">)</span><span class="op" id="7799618">;</span>&nbsp;<span class="ident" id="7799620">err</span>&nbsp;<span class="op" id="7799624">!=</span>&nbsp;<span class="ident" id="7799627">nil</span>&nbsp;<span class="op" id="7799631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799636">b</span><span class="op" id="7799637">.</span><span class="ident" id="7799638">Fatalf</span><span class="op" id="7799644">(</span><span class="string" id="7799645">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7799682">,</span>&nbsp;<span class="ident" id="7799684">err</span><span class="op" id="7799687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799691">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799694">}</span><br>
<span class="lineno"></span><span class="op" id="7799696">}</span>
</div>
</body>
</html>
