<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html" class="current">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3225239">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3225294">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3225348">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3225399">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3225464">//&nbsp;Read&nbsp;system&nbsp;DNS&nbsp;config&nbsp;from&nbsp;/etc/resolv.conf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3225513">package</span>&nbsp;<span class="ident" id="3225521">net</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="3225526">type</span>&nbsp;<span class="ident" id="3225531">dnsConfig</span>&nbsp;<span class="keyword" id="3225541">struct</span>&nbsp;<span class="op" id="3225548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3225551">servers</span>&nbsp;&nbsp;<span class="op" id="3225560">[</span><span class="op" id="3225561">]</span><span class="builtintype" id="3225562">string</span>&nbsp;<span class="comment" id="3225569">//&nbsp;servers&nbsp;to&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3225588">search</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3225597">[</span><span class="op" id="3225598">]</span><span class="builtintype" id="3225599">string</span>&nbsp;<span class="comment" id="3225606">//&nbsp;suffixes&nbsp;to&nbsp;append&nbsp;to&nbsp;local&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3225643">ndots</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3225652">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3225661">//&nbsp;number&nbsp;of&nbsp;dots&nbsp;in&nbsp;name&nbsp;to&nbsp;trigger&nbsp;absolute&nbsp;lookup</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3225715">timeout</span>&nbsp;&nbsp;<span class="builtintype" id="3225724">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3225733">//&nbsp;seconds&nbsp;before&nbsp;giving&nbsp;up&nbsp;on&nbsp;packet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3225772">attempts</span>&nbsp;<span class="builtintype" id="3225781">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3225790">//&nbsp;lost&nbsp;packets&nbsp;before&nbsp;giving&nbsp;up&nbsp;on&nbsp;server</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3225834">rotate</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3225843">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3225852">//&nbsp;round&nbsp;robin&nbsp;among&nbsp;servers</span><br>
<span class="lineno"></span><span class="op" id="3225881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="3225884">//&nbsp;See&nbsp;resolv.conf(5)&nbsp;on&nbsp;a&nbsp;Linux&nbsp;machine.</span><br>
<span class="lineno"></span><span class="comment" id="3225926">//&nbsp;TODO(rsc):&nbsp;Supposed&nbsp;to&nbsp;call&nbsp;uname()&nbsp;and&nbsp;chop&nbsp;the&nbsp;beginning</span><br>
<span class="lineno"></span><span class="comment" id="3225988">//&nbsp;of&nbsp;the&nbsp;host&nbsp;name&nbsp;to&nbsp;get&nbsp;the&nbsp;default&nbsp;search&nbsp;domain.</span><br>
<span class="lineno"></span><span class="keyword" id="3226042">func</span>&nbsp;<span class="ident" id="3226047">dnsReadConfig</span><span class="op" id="3226060">(</span><span class="ident" id="3226061">filename</span>&nbsp;<span class="builtintype" id="3226070">string</span><span class="op" id="3226076">)</span>&nbsp;<span class="op" id="3226078">(</span><span class="op" id="3226079">*</span><span class="ident" id="3226080"><a href="/gostd/net/dnsconfig_unix.go.html#3225531">dnsConfig</a></span><span class="op" id="3226089">,</span>&nbsp;<span class="builtintype" id="3226091">error</span><span class="op" id="3226096">)</span>&nbsp;<span class="op" id="3226098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3226101">file</span><span class="op" id="3226105">,</span>&nbsp;<span class="ident" id="3226107">err</span>&nbsp;<span class="op" id="3226111">:=</span>&nbsp;<span class="ident" id="3226114"><a href="/gostd/net/parse.go.html#3345879">open</a></span><span class="op" id="3226118">(</span><span class="ident" id="3226119"><a href="/gostd/net/dnsconfig_unix.go.html#3226061">filename</a></span><span class="op" id="3226127">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226130">if</span>&nbsp;<span class="ident" id="3226133"><a href="/gostd/net/dnsconfig_unix.go.html#3226107">err</a></span>&nbsp;<span class="op" id="3226137">!=</span>&nbsp;<span class="builtintype" id="3226140">nil</span>&nbsp;<span class="op" id="3226144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226148">return</span>&nbsp;<span class="builtintype" id="3226155">nil</span><span class="op" id="3226158">,</span>&nbsp;<span class="op" id="3226160">&amp;</span><span class="ident" id="3226161"><a href="/gostd/net/net.go.html#3343491">DNSConfigError</a></span><span class="op" id="3226175">{</span><span class="ident" id="3226176"><a href="/gostd/net/dnsconfig_unix.go.html#3226107">err</a></span><span class="op" id="3226179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3226182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226185">defer</span>&nbsp;<span class="ident" id="3226191"><a href="/gostd/net/dnsconfig_unix.go.html#3226101">file</a></span><span class="op" id="3226195">.</span><span class="builtinfunc" id="3226196"><a href="/gostd/net/parse.go.html#3345062">close</a></span><span class="op" id="3226201">(</span><span class="op" id="3226202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3226205">conf</span>&nbsp;<span class="op" id="3226210">:=</span>&nbsp;<span class="op" id="3226213">&amp;</span><span class="ident" id="3226214"><a href="/gostd/net/dnsconfig_unix.go.html#3225531">dnsConfig</a></span><span class="op" id="3226223">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3226227"><a href="/gostd/net/dnsconfig_unix.go.html#3225643">ndots</a></span><span class="op" id="3226232">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="3226237">1</span><span class="op" id="3226238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3226242"><a href="/gostd/net/dnsconfig_unix.go.html#3225715">timeout</a></span><span class="op" id="3226249">:</span>&nbsp;&nbsp;<span class="num" id="3226252">5</span><span class="op" id="3226253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3226257"><a href="/gostd/net/dnsconfig_unix.go.html#3225772">attempts</a></span><span class="op" id="3226265">:</span>&nbsp;<span class="num" id="3226267">2</span><span class="op" id="3226268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3226271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226274">for</span>&nbsp;<span class="ident" id="3226278">line</span><span class="op" id="3226282">,</span>&nbsp;<span class="ident" id="3226284">ok</span>&nbsp;<span class="op" id="3226287">:=</span>&nbsp;<span class="ident" id="3226290"><a href="/gostd/net/dnsconfig_unix.go.html#3226101">file</a></span><span class="op" id="3226294">.</span><span class="ident" id="3226295"><a href="/gostd/net/parse.go.html#3345520">readLine</a></span><span class="op" id="3226303">(</span><span class="op" id="3226304">)</span><span class="op" id="3226305">;</span>&nbsp;<span class="ident" id="3226307"><a href="/gostd/net/dnsconfig_unix.go.html#3226284">ok</a></span><span class="op" id="3226309">;</span>&nbsp;<span class="ident" id="3226311"><a href="/gostd/net/dnsconfig_unix.go.html#3226278">line</a></span><span class="op" id="3226315">,</span>&nbsp;<span class="ident" id="3226317"><a href="/gostd/net/dnsconfig_unix.go.html#3226284">ok</a></span>&nbsp;<span class="op" id="3226320">=</span>&nbsp;<span class="ident" id="3226322"><a href="/gostd/net/dnsconfig_unix.go.html#3226101">file</a></span><span class="op" id="3226326">.</span><span class="ident" id="3226327"><a href="/gostd/net/parse.go.html#3345520">readLine</a></span><span class="op" id="3226335">(</span><span class="op" id="3226336">)</span>&nbsp;<span class="op" id="3226338">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3226342">f</span>&nbsp;<span class="op" id="3226344">:=</span>&nbsp;<span class="ident" id="3226347"><a href="/gostd/net/parse.go.html#3346715">getFields</a></span><span class="op" id="3226356">(</span><span class="ident" id="3226357"><a href="/gostd/net/dnsconfig_unix.go.html#3226278">line</a></span><span class="op" id="3226361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226365">if</span>&nbsp;<span class="builtinfunc" id="3226368">len</span><span class="op" id="3226371">(</span><span class="ident" id="3226372"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3226373">)</span>&nbsp;<span class="op" id="3226375">&lt;</span>&nbsp;<span class="num" id="3226377">1</span>&nbsp;<span class="op" id="3226379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226384">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3226395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226399">switch</span>&nbsp;<span class="ident" id="3226406"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3226407">[</span><span class="num" id="3226408">0</span><span class="op" id="3226409">]</span>&nbsp;<span class="op" id="3226411">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226415">case</span>&nbsp;<span class="string" id="3226420">&#34;nameserver&#34;</span><span class="op" id="3226432">:</span>&nbsp;<span class="comment" id="3226434">//&nbsp;add&nbsp;one&nbsp;name&nbsp;server</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226460">if</span>&nbsp;<span class="builtinfunc" id="3226463">len</span><span class="op" id="3226466">(</span><span class="ident" id="3226467"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3226468">)</span>&nbsp;<span class="op" id="3226470">&gt;</span>&nbsp;<span class="num" id="3226472">1</span>&nbsp;<span class="op" id="3226474">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3226477">len</span><span class="op" id="3226480">(</span><span class="ident" id="3226481"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3226485">.</span><span class="ident" id="3226486"><a href="/gostd/net/dnsconfig_unix.go.html#3225551">servers</a></span><span class="op" id="3226493">)</span>&nbsp;<span class="op" id="3226495">&lt;</span>&nbsp;<span class="num" id="3226497">3</span>&nbsp;<span class="op" id="3226499">{</span>&nbsp;<span class="comment" id="3226501">//&nbsp;small,&nbsp;but&nbsp;the&nbsp;standard&nbsp;limit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3226538">//&nbsp;One&nbsp;more&nbsp;check:&nbsp;make&nbsp;sure&nbsp;server&nbsp;name&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3226586">//&nbsp;just&nbsp;an&nbsp;IP&nbsp;address.&nbsp;&nbsp;Otherwise&nbsp;we&nbsp;need&nbsp;DNS</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3226636">//&nbsp;to&nbsp;look&nbsp;it&nbsp;up.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226658">if</span>&nbsp;<span class="ident" id="3226661"><a href="/gostd/net/ip.go.html#3296807">parseIPv4</a></span><span class="op" id="3226670">(</span><span class="ident" id="3226671"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3226672">[</span><span class="num" id="3226673">1</span><span class="op" id="3226674">]</span><span class="op" id="3226675">)</span>&nbsp;<span class="op" id="3226677">!=</span>&nbsp;<span class="builtintype" id="3226680">nil</span>&nbsp;<span class="op" id="3226684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3226691"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3226695">.</span><span class="ident" id="3226696"><a href="/gostd/net/dnsconfig_unix.go.html#3225551">servers</a></span>&nbsp;<span class="op" id="3226704">=</span>&nbsp;<span class="builtinfunc" id="3226706">append</span><span class="op" id="3226712">(</span><span class="ident" id="3226713"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3226717">.</span><span class="ident" id="3226718"><a href="/gostd/net/dnsconfig_unix.go.html#3225551">servers</a></span><span class="op" id="3226725">,</span>&nbsp;<span class="ident" id="3226727"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3226728">[</span><span class="num" id="3226729">1</span><span class="op" id="3226730">]</span><span class="op" id="3226731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3226737">}</span>&nbsp;<span class="keyword" id="3226739">else</span>&nbsp;<span class="keyword" id="3226744">if</span>&nbsp;<span class="ident" id="3226747">ip</span><span class="op" id="3226749">,</span>&nbsp;<span class="ident" id="3226751">_</span>&nbsp;<span class="op" id="3226753">:=</span>&nbsp;<span class="ident" id="3226756"><a href="/gostd/net/ip.go.html#3297433">parseIPv6</a></span><span class="op" id="3226765">(</span><span class="ident" id="3226766"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3226767">[</span><span class="num" id="3226768">1</span><span class="op" id="3226769">]</span><span class="op" id="3226770">,</span>&nbsp;<span class="builtintype" id="3226772">true</span><span class="op" id="3226776">)</span><span class="op" id="3226777">;</span>&nbsp;<span class="ident" id="3226779"><a href="/gostd/net/dnsconfig_unix.go.html#3226747">ip</a></span>&nbsp;<span class="op" id="3226782">!=</span>&nbsp;<span class="builtintype" id="3226785">nil</span>&nbsp;<span class="op" id="3226789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3226796"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3226800">.</span><span class="ident" id="3226801"><a href="/gostd/net/dnsconfig_unix.go.html#3225551">servers</a></span>&nbsp;<span class="op" id="3226809">=</span>&nbsp;<span class="builtinfunc" id="3226811">append</span><span class="op" id="3226817">(</span><span class="ident" id="3226818"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3226822">.</span><span class="ident" id="3226823"><a href="/gostd/net/dnsconfig_unix.go.html#3225551">servers</a></span><span class="op" id="3226830">,</span>&nbsp;<span class="ident" id="3226832"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3226833">[</span><span class="num" id="3226834">1</span><span class="op" id="3226835">]</span><span class="op" id="3226836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3226842">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3226847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226852">case</span>&nbsp;<span class="string" id="3226857">&#34;domain&#34;</span><span class="op" id="3226865">:</span>&nbsp;<span class="comment" id="3226867">//&nbsp;set&nbsp;search&nbsp;path&nbsp;to&nbsp;just&nbsp;this&nbsp;domain</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226909">if</span>&nbsp;<span class="builtinfunc" id="3226912">len</span><span class="op" id="3226915">(</span><span class="ident" id="3226916"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3226917">)</span>&nbsp;<span class="op" id="3226919">&gt;</span>&nbsp;<span class="num" id="3226921">1</span>&nbsp;<span class="op" id="3226923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3226929"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3226933">.</span><span class="ident" id="3226934"><a href="/gostd/net/dnsconfig_unix.go.html#3225588">search</a></span>&nbsp;<span class="op" id="3226941">=</span>&nbsp;<span class="op" id="3226943">[</span><span class="op" id="3226944">]</span><span class="builtintype" id="3226945">string</span><span class="op" id="3226951">{</span><span class="ident" id="3226952"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3226953">[</span><span class="num" id="3226954">1</span><span class="op" id="3226955">]</span><span class="op" id="3226956">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3226961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3226966">case</span>&nbsp;<span class="string" id="3226971">&#34;search&#34;</span><span class="op" id="3226979">:</span>&nbsp;<span class="comment" id="3226981">//&nbsp;set&nbsp;search&nbsp;path&nbsp;to&nbsp;given&nbsp;servers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227020"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3227024">.</span><span class="ident" id="3227025"><a href="/gostd/net/dnsconfig_unix.go.html#3225588">search</a></span>&nbsp;<span class="op" id="3227032">=</span>&nbsp;<span class="builtinfunc" id="3227034">make</span><span class="op" id="3227038">(</span><span class="op" id="3227039">[</span><span class="op" id="3227040">]</span><span class="builtintype" id="3227041">string</span><span class="op" id="3227047">,</span>&nbsp;<span class="builtinfunc" id="3227049">len</span><span class="op" id="3227052">(</span><span class="ident" id="3227053"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3227054">)</span><span class="op" id="3227055">-</span><span class="num" id="3227056">1</span><span class="op" id="3227057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227062">for</span>&nbsp;<span class="ident" id="3227066">i</span>&nbsp;<span class="op" id="3227068">:=</span>&nbsp;<span class="num" id="3227071">0</span><span class="op" id="3227072">;</span>&nbsp;<span class="ident" id="3227074"><a href="/gostd/net/dnsconfig_unix.go.html#3227066">i</a></span>&nbsp;<span class="op" id="3227076">&lt;</span>&nbsp;<span class="builtinfunc" id="3227078">len</span><span class="op" id="3227081">(</span><span class="ident" id="3227082"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3227086">.</span><span class="ident" id="3227087"><a href="/gostd/net/dnsconfig_unix.go.html#3225588">search</a></span><span class="op" id="3227093">)</span><span class="op" id="3227094">;</span>&nbsp;<span class="ident" id="3227096"><a href="/gostd/net/dnsconfig_unix.go.html#3227066">i</a></span><span class="op" id="3227097">++</span>&nbsp;<span class="op" id="3227100">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227106"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3227110">.</span><span class="ident" id="3227111"><a href="/gostd/net/dnsconfig_unix.go.html#3225588">search</a></span><span class="op" id="3227117">[</span><span class="ident" id="3227118"><a href="/gostd/net/dnsconfig_unix.go.html#3227066">i</a></span><span class="op" id="3227119">]</span>&nbsp;<span class="op" id="3227121">=</span>&nbsp;<span class="ident" id="3227123"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3227124">[</span><span class="ident" id="3227125"><a href="/gostd/net/dnsconfig_unix.go.html#3227066">i</a></span><span class="op" id="3227126">+</span><span class="num" id="3227127">1</span><span class="op" id="3227128">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3227133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227138">case</span>&nbsp;<span class="string" id="3227143">&#34;options&#34;</span><span class="op" id="3227152">:</span>&nbsp;<span class="comment" id="3227154">//&nbsp;magic&nbsp;options</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227174">for</span>&nbsp;<span class="ident" id="3227178">i</span>&nbsp;<span class="op" id="3227180">:=</span>&nbsp;<span class="num" id="3227183">1</span><span class="op" id="3227184">;</span>&nbsp;<span class="ident" id="3227186"><a href="/gostd/net/dnsconfig_unix.go.html#3227178">i</a></span>&nbsp;<span class="op" id="3227188">&lt;</span>&nbsp;<span class="builtinfunc" id="3227190">len</span><span class="op" id="3227193">(</span><span class="ident" id="3227194"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3227195">)</span><span class="op" id="3227196">;</span>&nbsp;<span class="ident" id="3227198"><a href="/gostd/net/dnsconfig_unix.go.html#3227178">i</a></span><span class="op" id="3227199">++</span>&nbsp;<span class="op" id="3227202">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227208">s</span>&nbsp;<span class="op" id="3227210">:=</span>&nbsp;<span class="ident" id="3227213"><a href="/gostd/net/dnsconfig_unix.go.html#3226342">f</a></span><span class="op" id="3227214">[</span><span class="ident" id="3227215"><a href="/gostd/net/dnsconfig_unix.go.html#3227178">i</a></span><span class="op" id="3227216">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227222">switch</span>&nbsp;<span class="op" id="3227229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227235">case</span>&nbsp;<span class="ident" id="3227240"><a href="/gostd/net/dnsconfig_unix.go.html#3227678">hasPrefix</a></span><span class="op" id="3227249">(</span><span class="ident" id="3227250"><a href="/gostd/net/dnsconfig_unix.go.html#3227208">s</a></span><span class="op" id="3227251">,</span>&nbsp;<span class="string" id="3227253">&#34;ndots:&#34;</span><span class="op" id="3227261">)</span><span class="op" id="3227262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227269">n</span><span class="op" id="3227270">,</span>&nbsp;<span class="ident" id="3227272">_</span><span class="op" id="3227273">,</span>&nbsp;<span class="ident" id="3227275">_</span>&nbsp;<span class="op" id="3227277">:=</span>&nbsp;<span class="ident" id="3227280"><a href="/gostd/net/parse.go.html#3346952">dtoi</a></span><span class="op" id="3227284">(</span><span class="ident" id="3227285"><a href="/gostd/net/dnsconfig_unix.go.html#3227208">s</a></span><span class="op" id="3227286">,</span>&nbsp;<span class="num" id="3227288">6</span><span class="op" id="3227289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227296">if</span>&nbsp;<span class="ident" id="3227299"><a href="/gostd/net/dnsconfig_unix.go.html#3227269">n</a></span>&nbsp;<span class="op" id="3227301">&lt;</span>&nbsp;<span class="num" id="3227303">1</span>&nbsp;<span class="op" id="3227305">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227313"><a href="/gostd/net/dnsconfig_unix.go.html#3227269">n</a></span>&nbsp;<span class="op" id="3227315">=</span>&nbsp;<span class="num" id="3227317">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3227324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227331"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3227335">.</span><span class="ident" id="3227336"><a href="/gostd/net/dnsconfig_unix.go.html#3225643">ndots</a></span>&nbsp;<span class="op" id="3227342">=</span>&nbsp;<span class="ident" id="3227344"><a href="/gostd/net/dnsconfig_unix.go.html#3227269">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227350">case</span>&nbsp;<span class="ident" id="3227355"><a href="/gostd/net/dnsconfig_unix.go.html#3227678">hasPrefix</a></span><span class="op" id="3227364">(</span><span class="ident" id="3227365"><a href="/gostd/net/dnsconfig_unix.go.html#3227208">s</a></span><span class="op" id="3227366">,</span>&nbsp;<span class="string" id="3227368">&#34;timeout:&#34;</span><span class="op" id="3227378">)</span><span class="op" id="3227379">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227386">n</span><span class="op" id="3227387">,</span>&nbsp;<span class="ident" id="3227389">_</span><span class="op" id="3227390">,</span>&nbsp;<span class="ident" id="3227392">_</span>&nbsp;<span class="op" id="3227394">:=</span>&nbsp;<span class="ident" id="3227397"><a href="/gostd/net/parse.go.html#3346952">dtoi</a></span><span class="op" id="3227401">(</span><span class="ident" id="3227402"><a href="/gostd/net/dnsconfig_unix.go.html#3227208">s</a></span><span class="op" id="3227403">,</span>&nbsp;<span class="num" id="3227405">8</span><span class="op" id="3227406">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227413">if</span>&nbsp;<span class="ident" id="3227416"><a href="/gostd/net/dnsconfig_unix.go.html#3227386">n</a></span>&nbsp;<span class="op" id="3227418">&lt;</span>&nbsp;<span class="num" id="3227420">1</span>&nbsp;<span class="op" id="3227422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227430"><a href="/gostd/net/dnsconfig_unix.go.html#3227386">n</a></span>&nbsp;<span class="op" id="3227432">=</span>&nbsp;<span class="num" id="3227434">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3227441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227448"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3227452">.</span><span class="ident" id="3227453"><a href="/gostd/net/dnsconfig_unix.go.html#3225715">timeout</a></span>&nbsp;<span class="op" id="3227461">=</span>&nbsp;<span class="ident" id="3227463"><a href="/gostd/net/dnsconfig_unix.go.html#3227386">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227469">case</span>&nbsp;<span class="ident" id="3227474"><a href="/gostd/net/dnsconfig_unix.go.html#3227678">hasPrefix</a></span><span class="op" id="3227483">(</span><span class="ident" id="3227484"><a href="/gostd/net/dnsconfig_unix.go.html#3227208">s</a></span><span class="op" id="3227485">,</span>&nbsp;<span class="string" id="3227487">&#34;attempts:&#34;</span><span class="op" id="3227498">)</span><span class="op" id="3227499">:</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227506">n</span><span class="op" id="3227507">,</span>&nbsp;<span class="ident" id="3227509">_</span><span class="op" id="3227510">,</span>&nbsp;<span class="ident" id="3227512">_</span>&nbsp;<span class="op" id="3227514">:=</span>&nbsp;<span class="ident" id="3227517"><a href="/gostd/net/parse.go.html#3346952">dtoi</a></span><span class="op" id="3227521">(</span><span class="ident" id="3227522"><a href="/gostd/net/dnsconfig_unix.go.html#3227208">s</a></span><span class="op" id="3227523">,</span>&nbsp;<span class="num" id="3227525">9</span><span class="op" id="3227526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227533">if</span>&nbsp;<span class="ident" id="3227536"><a href="/gostd/net/dnsconfig_unix.go.html#3227506">n</a></span>&nbsp;<span class="op" id="3227538">&lt;</span>&nbsp;<span class="num" id="3227540">1</span>&nbsp;<span class="op" id="3227542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227550"><a href="/gostd/net/dnsconfig_unix.go.html#3227506">n</a></span>&nbsp;<span class="op" id="3227552">=</span>&nbsp;<span class="num" id="3227554">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3227561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227568"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3227572">.</span><span class="ident" id="3227573"><a href="/gostd/net/dnsconfig_unix.go.html#3225772">attempts</a></span>&nbsp;<span class="op" id="3227582">=</span>&nbsp;<span class="ident" id="3227584"><a href="/gostd/net/dnsconfig_unix.go.html#3227506">n</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227590">case</span>&nbsp;<span class="ident" id="3227595"><a href="/gostd/net/dnsconfig_unix.go.html#3227208">s</a></span>&nbsp;<span class="op" id="3227597">==</span>&nbsp;<span class="string" id="3227600">&#34;rotate&#34;</span><span class="op" id="3227608">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3227615"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3227619">.</span><span class="ident" id="3227620"><a href="/gostd/net/dnsconfig_unix.go.html#3225834">rotate</a></span>&nbsp;<span class="op" id="3227627">=</span>&nbsp;<span class="builtintype" id="3227629">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3227638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3227643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3227647">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3227650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227653">return</span>&nbsp;<span class="ident" id="3227660"><a href="/gostd/net/dnsconfig_unix.go.html#3226205">conf</a></span><span class="op" id="3227664">,</span>&nbsp;<span class="builtintype" id="3227666">nil</span><br>
<span class="lineno"></span><span class="op" id="3227670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3227673">func</span>&nbsp;<span class="ident" id="3227678">hasPrefix</span><span class="op" id="3227687">(</span><span class="ident" id="3227688">s</span><span class="op" id="3227689">,</span>&nbsp;<span class="ident" id="3227691">prefix</span>&nbsp;<span class="builtintype" id="3227698">string</span><span class="op" id="3227704">)</span>&nbsp;<span class="builtintype" id="3227706">bool</span>&nbsp;<span class="op" id="3227711">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3227714">return</span>&nbsp;<span class="builtinfunc" id="3227721">len</span><span class="op" id="3227724">(</span><span class="ident" id="3227725"><a href="/gostd/net/dnsconfig_unix.go.html#3227688">s</a></span><span class="op" id="3227726">)</span>&nbsp;<span class="op" id="3227728">&gt;=</span>&nbsp;<span class="builtinfunc" id="3227731">len</span><span class="op" id="3227734">(</span><span class="ident" id="3227735"><a href="/gostd/net/dnsconfig_unix.go.html#3227691">prefix</a></span><span class="op" id="3227741">)</span>&nbsp;<span class="op" id="3227743">&amp;&amp;</span>&nbsp;<span class="ident" id="3227746"><a href="/gostd/net/dnsconfig_unix.go.html#3227688">s</a></span><span class="op" id="3227747">[</span><span class="op" id="3227748">:</span><span class="builtinfunc" id="3227749">len</span><span class="op" id="3227752">(</span><span class="ident" id="3227753"><a href="/gostd/net/dnsconfig_unix.go.html#3227691">prefix</a></span><span class="op" id="3227759">)</span><span class="op" id="3227760">]</span>&nbsp;<span class="op" id="3227762">==</span>&nbsp;<span class="ident" id="3227765"><a href="/gostd/net/dnsconfig_unix.go.html#3227691">prefix</a></span><br>
<span class="lineno"></span><span class="op" id="3227772">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
