<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/parser</h2>
<ul>
<li><a href="/gostd/go/parser/error_test.go.html" class="current">error_test.go</a></li>
<li><a href="/gostd/go/parser/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/parser/interface.go.html">interface.go</a></li>
<li><a href="/gostd/go/parser/parser.go.html">parser.go</a></li>
<li><a href="/gostd/go/parser/parser_test.go.html">parser_test.go</a></li>
<li><a href="/gostd/go/parser/performance_test.go.html">performance_test.go</a></li>
<li><a href="/gostd/go/parser/short_test.go.html">short_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8190963">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8191018">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8191072">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8191123">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;a&nbsp;parser&nbsp;test&nbsp;harness.&nbsp;The&nbsp;files&nbsp;in&nbsp;the&nbsp;testdata</span><br>
<span class="lineno"></span><span class="comment" id="8191196">//&nbsp;directory&nbsp;are&nbsp;parsed&nbsp;and&nbsp;the&nbsp;errors&nbsp;reported&nbsp;are&nbsp;compared&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8191269">//&nbsp;error&nbsp;messages&nbsp;expected&nbsp;in&nbsp;the&nbsp;test&nbsp;files.&nbsp;The&nbsp;test&nbsp;files&nbsp;must&nbsp;end&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="8191342">//&nbsp;.src&nbsp;rather&nbsp;than&nbsp;.go&nbsp;so&nbsp;that&nbsp;they&nbsp;are&nbsp;not&nbsp;disturbed&nbsp;by&nbsp;gofmt&nbsp;runs.</span><br>
<span class="lineno"></span><span class="comment" id="8191412">//</span><br>
<span class="lineno">10</span><span class="comment" id="8191415">//&nbsp;Expected&nbsp;errors&nbsp;are&nbsp;indicated&nbsp;in&nbsp;the&nbsp;test&nbsp;files&nbsp;by&nbsp;putting&nbsp;a&nbsp;comment</span><br>
<span class="lineno"></span><span class="comment" id="8191487">//&nbsp;of&nbsp;the&nbsp;form&nbsp;/*&nbsp;ERROR&nbsp;&#34;rx&#34;&nbsp;*/&nbsp;immediately&nbsp;following&nbsp;an&nbsp;offending&nbsp;token.</span><br>
<span class="lineno"></span><span class="comment" id="8191561">//&nbsp;The&nbsp;harness&nbsp;will&nbsp;verify&nbsp;that&nbsp;an&nbsp;error&nbsp;matching&nbsp;the&nbsp;regular&nbsp;expression</span><br>
<span class="lineno"></span><span class="comment" id="8191634">//&nbsp;rx&nbsp;is&nbsp;reported&nbsp;at&nbsp;that&nbsp;source&nbsp;position.</span><br>
<span class="lineno"></span><span class="comment" id="8191677">//</span><br>
<span class="lineno">15</span><span class="comment" id="8191680">//&nbsp;For&nbsp;instance,&nbsp;the&nbsp;following&nbsp;test&nbsp;file&nbsp;indicates&nbsp;that&nbsp;a&nbsp;&#34;not&nbsp;declared&#34;</span><br>
<span class="lineno"></span><span class="comment" id="8191753">//&nbsp;error&nbsp;should&nbsp;be&nbsp;reported&nbsp;for&nbsp;the&nbsp;undeclared&nbsp;variable&nbsp;x:</span><br>
<span class="lineno"></span><span class="comment" id="8191812">//</span><br>
<span class="lineno"></span><span class="comment" id="8191815">//&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;p</span><br>
<span class="lineno"></span><span class="comment" id="8191828">//&nbsp;&nbsp;&nbsp;&nbsp;func&nbsp;f()&nbsp;{</span><br>
<span class="lineno">20</span><span class="comment" id="8191842">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;=&nbsp;x&nbsp;/*&nbsp;ERROR&nbsp;&#34;not&nbsp;declared&#34;&nbsp;*/&nbsp;+&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="8191883">//&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8191889">package</span>&nbsp;<span class="ident" id="8191897">parser</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8191905">import</span>&nbsp;<span class="op" id="8191912">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8191915">&#34;go/scanner&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8191929">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8191941">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8191954">&#34;path/filepath&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8191971">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8191981">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8191992">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8192002">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="8192005">const</span>&nbsp;<span class="ident" id="8192011">testdata</span>&nbsp;<span class="op" id="8192020">=</span>&nbsp;<span class="string" id="8192022">&#34;testdata&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8192034">var</span>&nbsp;<span class="ident" id="8192038">fsetErrs</span>&nbsp;<span class="op" id="8192047">=</span>&nbsp;<span class="ident" id="8192049"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8192054">.</span><span class="ident" id="8192055"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8192065">(</span><span class="op" id="8192066">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8192069">//&nbsp;getFile&nbsp;assumes&nbsp;that&nbsp;each&nbsp;filename&nbsp;occurs&nbsp;at&nbsp;most&nbsp;once</span><br>
<span class="lineno">40</span><span class="keyword" id="8192127">func</span>&nbsp;<span class="ident" id="8192132">getFile</span><span class="op" id="8192139">(</span><span class="ident" id="8192140">filename</span>&nbsp;<span class="builtintype" id="8192149">string</span><span class="op" id="8192155">)</span>&nbsp;<span class="op" id="8192157">(</span><span class="ident" id="8192158">file</span>&nbsp;<span class="op" id="8192163">*</span><span class="ident" id="8192164"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8192169">.</span><span class="ident" id="8192170"><a href="/gostd/go/token/position.go.html#3876396">File</a></span><span class="op" id="8192174">)</span>&nbsp;<span class="op" id="8192176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8192179"><a href="/gostd/go/parser/error_test.go.html#8192038">fsetErrs</a></span><span class="op" id="8192187">.</span><span class="ident" id="8192188"><a href="/gostd/go/token/position.go.html#3885387">Iterate</a></span><span class="op" id="8192195">(</span><span class="keyword" id="8192196">func</span><span class="op" id="8192200">(</span><span class="ident" id="8192201">f</span>&nbsp;<span class="op" id="8192203">*</span><span class="ident" id="8192204"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8192209">.</span><span class="ident" id="8192210"><a href="/gostd/go/token/position.go.html#3876396">File</a></span><span class="op" id="8192214">)</span>&nbsp;<span class="builtintype" id="8192216">bool</span>&nbsp;<span class="op" id="8192221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8192225">if</span>&nbsp;<span class="ident" id="8192228"><a href="/gostd/go/parser/error_test.go.html#8192201">f</a></span><span class="op" id="8192229">.</span><span class="ident" id="8192230"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8192234">(</span><span class="op" id="8192235">)</span>&nbsp;<span class="op" id="8192237">==</span>&nbsp;<span class="ident" id="8192240"><a href="/gostd/go/parser/error_test.go.html#8192140">filename</a></span>&nbsp;<span class="op" id="8192249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8192254">if</span>&nbsp;<span class="ident" id="8192257"><a href="/gostd/go/parser/error_test.go.html#8192158">file</a></span>&nbsp;<span class="op" id="8192262">!=</span>&nbsp;<span class="builtintype" id="8192265">nil</span>&nbsp;<span class="op" id="8192269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8192275">panic</span><span class="op" id="8192280">(</span><span class="ident" id="8192281"><a href="/gostd/go/parser/error_test.go.html#8192140">filename</a></span>&nbsp;<span class="op" id="8192290">+</span>&nbsp;<span class="string" id="8192292">&#34;&nbsp;used&nbsp;multiple&nbsp;times&#34;</span><span class="op" id="8192314">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8192319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8192324"><a href="/gostd/go/parser/error_test.go.html#8192158">file</a></span>&nbsp;<span class="op" id="8192329">=</span>&nbsp;<span class="ident" id="8192331"><a href="/gostd/go/parser/error_test.go.html#8192201">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8192335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8192339">return</span>&nbsp;<span class="builtintype" id="8192346">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8192352">}</span><span class="op" id="8192353">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8192356">return</span>&nbsp;<span class="ident" id="8192363"><a href="/gostd/go/parser/error_test.go.html#8192158">file</a></span><br>
<span class="lineno"></span><span class="op" id="8192368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8192371">func</span>&nbsp;<span class="ident" id="8192376">getPos</span><span class="op" id="8192382">(</span><span class="ident" id="8192383">filename</span>&nbsp;<span class="builtintype" id="8192392">string</span><span class="op" id="8192398">,</span>&nbsp;<span class="ident" id="8192400">offset</span>&nbsp;<span class="builtintype" id="8192407">int</span><span class="op" id="8192410">)</span>&nbsp;<span class="ident" id="8192412"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8192417">.</span><span class="ident" id="8192418"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span>&nbsp;<span class="op" id="8192422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8192425">if</span>&nbsp;<span class="ident" id="8192428">f</span>&nbsp;<span class="op" id="8192430">:=</span>&nbsp;<span class="ident" id="8192433"><a href="/gostd/go/parser/error_test.go.html#8192132">getFile</a></span><span class="op" id="8192440">(</span><span class="ident" id="8192441"><a href="/gostd/go/parser/error_test.go.html#8192383">filename</a></span><span class="op" id="8192449">)</span><span class="op" id="8192450">;</span>&nbsp;<span class="ident" id="8192452"><a href="/gostd/go/parser/error_test.go.html#8192428">f</a></span>&nbsp;<span class="op" id="8192454">!=</span>&nbsp;<span class="builtintype" id="8192457">nil</span>&nbsp;<span class="op" id="8192461">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8192465">return</span>&nbsp;<span class="ident" id="8192472"><a href="/gostd/go/parser/error_test.go.html#8192428">f</a></span><span class="op" id="8192473">.</span><span class="ident" id="8192474"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8192477">(</span><span class="ident" id="8192478"><a href="/gostd/go/parser/error_test.go.html#8192400">offset</a></span><span class="op" id="8192484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8192487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8192490">return</span>&nbsp;<span class="ident" id="8192497"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8192502">.</span><span class="ident" id="8192503"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><br>
<span class="lineno"></span><span class="op" id="8192509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="8192512">//&nbsp;ERROR&nbsp;comments&nbsp;must&nbsp;be&nbsp;of&nbsp;the&nbsp;form&nbsp;/*&nbsp;ERROR&nbsp;&#34;rx&#34;&nbsp;*/&nbsp;and&nbsp;rx&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="8192577">//&nbsp;a&nbsp;regular&nbsp;expression&nbsp;that&nbsp;matches&nbsp;the&nbsp;expected&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="comment" id="8192642">//&nbsp;The&nbsp;special&nbsp;form&nbsp;/*&nbsp;ERROR&nbsp;HERE&nbsp;&#34;rx&#34;&nbsp;*/&nbsp;must&nbsp;be&nbsp;used&nbsp;for&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="8192707">//&nbsp;messages&nbsp;that&nbsp;appear&nbsp;immediately&nbsp;after&nbsp;a&nbsp;token,&nbsp;rather&nbsp;than&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="8192773">//&nbsp;a&nbsp;token&#39;s&nbsp;position.</span><br>
<span class="lineno">65</span><span class="comment" id="8192796">//</span><br>
<span class="lineno"></span><span class="keyword" id="8192799">var</span>&nbsp;<span class="ident" id="8192803">errRx</span>&nbsp;<span class="op" id="8192809">=</span>&nbsp;<span class="ident" id="8192811"><a href="/gostd/go/parser/error_test.go.html#8191971">regexp</a></span><span class="op" id="8192817">.</span><span class="ident" id="8192818"><a href="/gostd/regexp/regexp.go.html#3571892">MustCompile</a></span><span class="op" id="8192829">(</span><span class="string" id="8192830">`^/\*&nbsp;*ERROR&nbsp;*(HERE)?&nbsp;*&#34;([^&#34;]*)&#34;&nbsp;*\*/$`</span><span class="op" id="8192869">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8192872">//&nbsp;expectedErrors&nbsp;collects&nbsp;the&nbsp;regular&nbsp;expressions&nbsp;of&nbsp;ERROR&nbsp;comments&nbsp;found</span><br>
<span class="lineno"></span><span class="comment" id="8192947">//&nbsp;in&nbsp;files&nbsp;and&nbsp;returns&nbsp;them&nbsp;as&nbsp;a&nbsp;map&nbsp;of&nbsp;error&nbsp;positions&nbsp;to&nbsp;error&nbsp;messages.</span><br>
<span class="lineno">70</span><span class="comment" id="8193023">//</span><br>
<span class="lineno"></span><span class="keyword" id="8193026">func</span>&nbsp;<span class="ident" id="8193031">expectedErrors</span><span class="op" id="8193045">(</span><span class="ident" id="8193046">t</span>&nbsp;<span class="op" id="8193048">*</span><span class="ident" id="8193049"><a href="/gostd/go/parser/error_test.go.html#8191992">testing</a></span><span class="op" id="8193056">.</span><span class="ident" id="8193057"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8193058">,</span>&nbsp;<span class="ident" id="8193060">filename</span>&nbsp;<span class="builtintype" id="8193069">string</span><span class="op" id="8193075">,</span>&nbsp;<span class="ident" id="8193077">src</span>&nbsp;<span class="op" id="8193081">[</span><span class="op" id="8193082">]</span><span class="builtintype" id="8193083">byte</span><span class="op" id="8193087">)</span>&nbsp;<span class="keyword" id="8193089">map</span><span class="op" id="8193092">[</span><span class="ident" id="8193093"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8193098">.</span><span class="ident" id="8193099"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="8193102">]</span><span class="builtintype" id="8193103">string</span>&nbsp;<span class="op" id="8193110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193113">errors</span>&nbsp;<span class="op" id="8193120">:=</span>&nbsp;<span class="builtinfunc" id="8193123">make</span><span class="op" id="8193127">(</span><span class="keyword" id="8193128">map</span><span class="op" id="8193131">[</span><span class="ident" id="8193132"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8193137">.</span><span class="ident" id="8193138"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="8193141">]</span><span class="builtintype" id="8193142">string</span><span class="op" id="8193148">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193152">var</span>&nbsp;<span class="ident" id="8193156">s</span>&nbsp;<span class="ident" id="8193158"><a href="/gostd/go/parser/error_test.go.html#8191915">scanner</a></span><span class="op" id="8193165">.</span><span class="ident" id="8193166"><a href="/gostd/go/scanner/scanner.go.html#3898729">Scanner</a></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8193175">//&nbsp;file&nbsp;was&nbsp;parsed&nbsp;already&nbsp;-&nbsp;do&nbsp;not&nbsp;add&nbsp;it&nbsp;again&nbsp;to&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8193237">//&nbsp;set&nbsp;otherwise&nbsp;the&nbsp;position&nbsp;information&nbsp;returned&nbsp;here&nbsp;will</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8193299">//&nbsp;not&nbsp;match&nbsp;the&nbsp;position&nbsp;information&nbsp;collected&nbsp;by&nbsp;the&nbsp;parser</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193362"><a href="/gostd/go/parser/error_test.go.html#8193156">s</a></span><span class="op" id="8193363">.</span><span class="ident" id="8193364"><a href="/gostd/go/scanner/scanner.go.html#3901230">Init</a></span><span class="op" id="8193368">(</span><span class="ident" id="8193369"><a href="/gostd/go/parser/error_test.go.html#8192132">getFile</a></span><span class="op" id="8193376">(</span><span class="ident" id="8193377"><a href="/gostd/go/parser/error_test.go.html#8193060">filename</a></span><span class="op" id="8193385">)</span><span class="op" id="8193386">,</span>&nbsp;<span class="ident" id="8193388"><a href="/gostd/go/parser/error_test.go.html#8193077">src</a></span><span class="op" id="8193391">,</span>&nbsp;<span class="builtintype" id="8193393">nil</span><span class="op" id="8193396">,</span>&nbsp;<span class="ident" id="8193398"><a href="/gostd/go/parser/error_test.go.html#8191915">scanner</a></span><span class="op" id="8193405">.</span><span class="ident" id="8193406"><a href="/gostd/go/scanner/scanner.go.html#3900279">ScanComments</a></span><span class="op" id="8193418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193421">var</span>&nbsp;<span class="ident" id="8193425">prev</span>&nbsp;<span class="ident" id="8193430"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8193435">.</span><span class="ident" id="8193436"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span>&nbsp;<span class="comment" id="8193440">//&nbsp;position&nbsp;of&nbsp;last&nbsp;non-comment,&nbsp;non-semicolon&nbsp;token</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193494">var</span>&nbsp;<span class="ident" id="8193498">here</span>&nbsp;<span class="ident" id="8193503"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8193508">.</span><span class="ident" id="8193509"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span>&nbsp;<span class="comment" id="8193513">//&nbsp;position&nbsp;immediately&nbsp;after&nbsp;the&nbsp;token&nbsp;at&nbsp;position&nbsp;prev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193572">for</span>&nbsp;<span class="op" id="8193576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193580">pos</span><span class="op" id="8193583">,</span>&nbsp;<span class="ident" id="8193585">tok</span><span class="op" id="8193588">,</span>&nbsp;<span class="ident" id="8193590">lit</span>&nbsp;<span class="op" id="8193594">:=</span>&nbsp;<span class="ident" id="8193597"><a href="/gostd/go/parser/error_test.go.html#8193156">s</a></span><span class="op" id="8193598">.</span><span class="ident" id="8193599"><a href="/gostd/go/scanner/scanner.go.html#3911473">Scan</a></span><span class="op" id="8193603">(</span><span class="op" id="8193604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193608">switch</span>&nbsp;<span class="ident" id="8193615"><a href="/gostd/go/parser/error_test.go.html#8193585">tok</a></span>&nbsp;<span class="op" id="8193619">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193623">case</span>&nbsp;<span class="ident" id="8193628"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8193633">.</span><span class="ident" id="8193634"><a href="/gostd/go/token/token.go.html#3889706">EOF</a></span><span class="op" id="8193637">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193642">return</span>&nbsp;<span class="ident" id="8193649"><a href="/gostd/go/parser/error_test.go.html#8193113">errors</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193658">case</span>&nbsp;<span class="ident" id="8193663"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8193668">.</span><span class="ident" id="8193669"><a href="/gostd/go/token/token.go.html#3889711">COMMENT</a></span><span class="op" id="8193676">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193681">s</span>&nbsp;<span class="op" id="8193683">:=</span>&nbsp;<span class="ident" id="8193686"><a href="/gostd/go/parser/error_test.go.html#8192803">errRx</a></span><span class="op" id="8193691">.</span><span class="ident" id="8193692"><a href="/gostd/regexp/regexp.go.html#3590884">FindStringSubmatch</a></span><span class="op" id="8193710">(</span><span class="ident" id="8193711"><a href="/gostd/go/parser/error_test.go.html#8193590">lit</a></span><span class="op" id="8193714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193719">if</span>&nbsp;<span class="builtinfunc" id="8193722">len</span><span class="op" id="8193725">(</span><span class="ident" id="8193726"><a href="/gostd/go/parser/error_test.go.html#8193681">s</a></span><span class="op" id="8193727">)</span>&nbsp;<span class="op" id="8193729">==</span>&nbsp;<span class="num" id="8193732">3</span>&nbsp;<span class="op" id="8193734">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193740">pos</span>&nbsp;<span class="op" id="8193744">:=</span>&nbsp;<span class="ident" id="8193747"><a href="/gostd/go/parser/error_test.go.html#8193425">prev</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193756">if</span>&nbsp;<span class="ident" id="8193759"><a href="/gostd/go/parser/error_test.go.html#8193681">s</a></span><span class="op" id="8193760">[</span><span class="num" id="8193761">1</span><span class="op" id="8193762">]</span>&nbsp;<span class="op" id="8193764">==</span>&nbsp;<span class="string" id="8193767">&#34;HERE&#34;</span>&nbsp;<span class="op" id="8193774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193781"><a href="/gostd/go/parser/error_test.go.html#8193740">pos</a></span>&nbsp;<span class="op" id="8193785">=</span>&nbsp;<span class="ident" id="8193787"><a href="/gostd/go/parser/error_test.go.html#8193498">here</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8193796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193802"><a href="/gostd/go/parser/error_test.go.html#8193113">errors</a></span><span class="op" id="8193808">[</span><span class="ident" id="8193809"><a href="/gostd/go/parser/error_test.go.html#8193740">pos</a></span><span class="op" id="8193812">]</span>&nbsp;<span class="op" id="8193814">=</span>&nbsp;<span class="builtintype" id="8193816">string</span><span class="op" id="8193822">(</span><span class="ident" id="8193823"><a href="/gostd/go/parser/error_test.go.html#8193681">s</a></span><span class="op" id="8193824">[</span><span class="num" id="8193825">2</span><span class="op" id="8193826">]</span><span class="op" id="8193827">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8193832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193836">default</span><span class="op" id="8193843">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193848"><a href="/gostd/go/parser/error_test.go.html#8193425">prev</a></span>&nbsp;<span class="op" id="8193853">=</span>&nbsp;<span class="ident" id="8193855"><a href="/gostd/go/parser/error_test.go.html#8193580">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193862">var</span>&nbsp;<span class="ident" id="8193866">l</span>&nbsp;<span class="builtintype" id="8193868">int</span>&nbsp;<span class="comment" id="8193872">//&nbsp;token&nbsp;length</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8193891">if</span>&nbsp;<span class="ident" id="8193894"><a href="/gostd/go/parser/error_test.go.html#8193585">tok</a></span><span class="op" id="8193897">.</span><span class="ident" id="8193898"><a href="/gostd/go/token/token.go.html#3894257">IsLiteral</a></span><span class="op" id="8193907">(</span><span class="op" id="8193908">)</span>&nbsp;<span class="op" id="8193910">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193916"><a href="/gostd/go/parser/error_test.go.html#8193866">l</a></span>&nbsp;<span class="op" id="8193918">=</span>&nbsp;<span class="builtinfunc" id="8193920">len</span><span class="op" id="8193923">(</span><span class="ident" id="8193924"><a href="/gostd/go/parser/error_test.go.html#8193590">lit</a></span><span class="op" id="8193927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8193932">}</span>&nbsp;<span class="keyword" id="8193934">else</span>&nbsp;<span class="op" id="8193939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193945"><a href="/gostd/go/parser/error_test.go.html#8193866">l</a></span>&nbsp;<span class="op" id="8193947">=</span>&nbsp;<span class="builtinfunc" id="8193949">len</span><span class="op" id="8193952">(</span><span class="ident" id="8193953"><a href="/gostd/go/parser/error_test.go.html#8193585">tok</a></span><span class="op" id="8193956">.</span><span class="ident" id="8193957"><a href="/gostd/go/token/token.go.html#3892778">String</a></span><span class="op" id="8193963">(</span><span class="op" id="8193964">)</span><span class="op" id="8193965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8193970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8193975"><a href="/gostd/go/parser/error_test.go.html#8193498">here</a></span>&nbsp;<span class="op" id="8193980">=</span>&nbsp;<span class="ident" id="8193982"><a href="/gostd/go/parser/error_test.go.html#8193425">prev</a></span>&nbsp;<span class="op" id="8193987">+</span>&nbsp;<span class="ident" id="8193989"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8193994">.</span><span class="ident" id="8193995"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="8193998">(</span><span class="ident" id="8193999"><a href="/gostd/go/parser/error_test.go.html#8193866">l</a></span><span class="op" id="8194000">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8194004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8194007">}</span><br>
<span class="lineno"></span><span class="op" id="8194009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8194012">//&nbsp;compareErrors&nbsp;compares&nbsp;the&nbsp;map&nbsp;of&nbsp;expected&nbsp;error&nbsp;messages&nbsp;with&nbsp;the&nbsp;list</span><br>
<span class="lineno">110</span><span class="comment" id="8194087">//&nbsp;of&nbsp;found&nbsp;errors&nbsp;and&nbsp;reports&nbsp;discrepancies.</span><br>
<span class="lineno"></span><span class="comment" id="8194133">//</span><br>
<span class="lineno"></span><span class="keyword" id="8194136">func</span>&nbsp;<span class="ident" id="8194141">compareErrors</span><span class="op" id="8194154">(</span><span class="ident" id="8194155">t</span>&nbsp;<span class="op" id="8194157">*</span><span class="ident" id="8194158"><a href="/gostd/go/parser/error_test.go.html#8191992">testing</a></span><span class="op" id="8194165">.</span><span class="ident" id="8194166"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8194167">,</span>&nbsp;<span class="ident" id="8194169">expected</span>&nbsp;<span class="keyword" id="8194178">map</span><span class="op" id="8194181">[</span><span class="ident" id="8194182"><a href="/gostd/go/parser/error_test.go.html#8191929">token</a></span><span class="op" id="8194187">.</span><span class="ident" id="8194188"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="8194191">]</span><span class="builtintype" id="8194192">string</span><span class="op" id="8194198">,</span>&nbsp;<span class="ident" id="8194200">found</span>&nbsp;<span class="ident" id="8194206"><a href="/gostd/go/parser/error_test.go.html#8191915">scanner</a></span><span class="op" id="8194213">.</span><span class="ident" id="8194214"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="8194223">)</span>&nbsp;<span class="op" id="8194225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8194228">for</span>&nbsp;<span class="ident" id="8194232">_</span><span class="op" id="8194233">,</span>&nbsp;<span class="builtintype" id="8194235">error</span>&nbsp;<span class="op" id="8194241">:=</span>&nbsp;<span class="keyword" id="8194244">range</span>&nbsp;<span class="ident" id="8194250"><a href="/gostd/go/parser/error_test.go.html#8194200">found</a></span>&nbsp;<span class="op" id="8194256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8194260">//&nbsp;error.Pos&nbsp;is&nbsp;a&nbsp;token.Position,&nbsp;but&nbsp;we&nbsp;want</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8194308">//&nbsp;a&nbsp;token.Pos&nbsp;so&nbsp;we&nbsp;can&nbsp;do&nbsp;a&nbsp;map&nbsp;lookup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8194351">pos</span>&nbsp;<span class="op" id="8194355">:=</span>&nbsp;<span class="ident" id="8194358"><a href="/gostd/go/parser/error_test.go.html#8192376">getPos</a></span><span class="op" id="8194364">(</span><span class="builtintype" id="8194365"><a href="/gostd/go/parser/error_test.go.html#8194235">error</a></span><span class="op" id="8194370">.</span><span class="ident" id="8194371"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="8194374">.</span><span class="ident" id="8194375"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span><span class="op" id="8194383">,</span>&nbsp;<span class="builtintype" id="8194385"><a href="/gostd/go/parser/error_test.go.html#8194235">error</a></span><span class="op" id="8194390">.</span><span class="ident" id="8194391"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="8194394">.</span><span class="ident" id="8194395"><a href="/gostd/go/token/position.go.html#3874020">Offset</a></span><span class="op" id="8194401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8194405">if</span>&nbsp;<span class="ident" id="8194408">msg</span><span class="op" id="8194411">,</span>&nbsp;<span class="ident" id="8194413">found</span>&nbsp;<span class="op" id="8194419">:=</span>&nbsp;<span class="ident" id="8194422"><a href="/gostd/go/parser/error_test.go.html#8194169">expected</a></span><span class="op" id="8194430">[</span><span class="ident" id="8194431"><a href="/gostd/go/parser/error_test.go.html#8194351">pos</a></span><span class="op" id="8194434">]</span><span class="op" id="8194435">;</span>&nbsp;<span class="ident" id="8194437"><a href="/gostd/go/parser/error_test.go.html#8194413">found</a></span>&nbsp;<span class="op" id="8194443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8194448">//&nbsp;we&nbsp;expect&nbsp;a&nbsp;message&nbsp;at&nbsp;pos;&nbsp;check&nbsp;if&nbsp;it&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8194502">rx</span><span class="op" id="8194504">,</span>&nbsp;<span class="ident" id="8194506">err</span>&nbsp;<span class="op" id="8194510">:=</span>&nbsp;<span class="ident" id="8194513"><a href="/gostd/go/parser/error_test.go.html#8191971">regexp</a></span><span class="op" id="8194519">.</span><span class="ident" id="8194520"><a href="/gostd/regexp/regexp.go.html#3568489">Compile</a></span><span class="op" id="8194527">(</span><span class="ident" id="8194528"><a href="/gostd/go/parser/error_test.go.html#8194408">msg</a></span><span class="op" id="8194531">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8194536">if</span>&nbsp;<span class="ident" id="8194539"><a href="/gostd/go/parser/error_test.go.html#8194506">err</a></span>&nbsp;<span class="op" id="8194543">!=</span>&nbsp;<span class="builtintype" id="8194546">nil</span>&nbsp;<span class="op" id="8194550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8194556"><a href="/gostd/go/parser/error_test.go.html#8194155">t</a></span><span class="op" id="8194557">.</span><span class="ident" id="8194558"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8194564">(</span><span class="string" id="8194565">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="8194573">,</span>&nbsp;<span class="builtintype" id="8194575"><a href="/gostd/go/parser/error_test.go.html#8194235">error</a></span><span class="op" id="8194580">.</span><span class="ident" id="8194581"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="8194584">,</span>&nbsp;<span class="ident" id="8194586"><a href="/gostd/go/parser/error_test.go.html#8194506">err</a></span><span class="op" id="8194589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8194595">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8194607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8194612">if</span>&nbsp;<span class="ident" id="8194615">match</span>&nbsp;<span class="op" id="8194621">:=</span>&nbsp;<span class="ident" id="8194624"><a href="/gostd/go/parser/error_test.go.html#8194502">rx</a></span><span class="op" id="8194626">.</span><span class="ident" id="8194627"><a href="/gostd/regexp/regexp.go.html#3576314">MatchString</a></span><span class="op" id="8194638">(</span><span class="builtintype" id="8194639"><a href="/gostd/go/parser/error_test.go.html#8194235">error</a></span><span class="op" id="8194644">.</span><span class="ident" id="8194645"><a href="/gostd/go/scanner/errors.go.html#3895165">Msg</a></span><span class="op" id="8194648">)</span><span class="op" id="8194649">;</span>&nbsp;<span class="op" id="8194651">!</span><span class="ident" id="8194652"><a href="/gostd/go/parser/error_test.go.html#8194615">match</a></span>&nbsp;<span class="op" id="8194658">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8194664"><a href="/gostd/go/parser/error_test.go.html#8194155">t</a></span><span class="op" id="8194665">.</span><span class="ident" id="8194666"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8194672">(</span><span class="string" id="8194673">&#34;%s:&nbsp;%q&nbsp;does&nbsp;not&nbsp;match&nbsp;%q&#34;</span><span class="op" id="8194699">,</span>&nbsp;<span class="builtintype" id="8194701"><a href="/gostd/go/parser/error_test.go.html#8194235">error</a></span><span class="op" id="8194706">.</span><span class="ident" id="8194707"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="8194710">,</span>&nbsp;<span class="builtintype" id="8194712"><a href="/gostd/go/parser/error_test.go.html#8194235">error</a></span><span class="op" id="8194717">.</span><span class="ident" id="8194718"><a href="/gostd/go/scanner/errors.go.html#3895165">Msg</a></span><span class="op" id="8194721">,</span>&nbsp;<span class="ident" id="8194723"><a href="/gostd/go/parser/error_test.go.html#8194408">msg</a></span><span class="op" id="8194726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8194732">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8194744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8194749">//&nbsp;we&nbsp;have&nbsp;a&nbsp;match&nbsp;-&nbsp;eliminate&nbsp;this&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8194794">delete</span><span class="op" id="8194800">(</span><span class="ident" id="8194801"><a href="/gostd/go/parser/error_test.go.html#8194169">expected</a></span><span class="op" id="8194809">,</span>&nbsp;<span class="ident" id="8194811"><a href="/gostd/go/parser/error_test.go.html#8194351">pos</a></span><span class="op" id="8194814">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8194818">}</span>&nbsp;<span class="keyword" id="8194820">else</span>&nbsp;<span class="op" id="8194825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8194830">//&nbsp;To&nbsp;keep&nbsp;in&nbsp;mind&nbsp;when&nbsp;analyzing&nbsp;failed&nbsp;test&nbsp;output:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8194887">//&nbsp;If&nbsp;the&nbsp;same&nbsp;error&nbsp;position&nbsp;occurs&nbsp;multiple&nbsp;times&nbsp;in&nbsp;errors,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8194953">//&nbsp;this&nbsp;message&nbsp;will&nbsp;be&nbsp;triggered&nbsp;(because&nbsp;the&nbsp;first&nbsp;error&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8195018">//&nbsp;the&nbsp;position&nbsp;removes&nbsp;this&nbsp;position&nbsp;from&nbsp;the&nbsp;expected&nbsp;errors).</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195086"><a href="/gostd/go/parser/error_test.go.html#8194155">t</a></span><span class="op" id="8195087">.</span><span class="ident" id="8195088"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8195094">(</span><span class="string" id="8195095">&#34;%s:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8195121">,</span>&nbsp;<span class="builtintype" id="8195123"><a href="/gostd/go/parser/error_test.go.html#8194235">error</a></span><span class="op" id="8195128">.</span><span class="ident" id="8195129"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="8195132">,</span>&nbsp;<span class="builtintype" id="8195134"><a href="/gostd/go/parser/error_test.go.html#8194235">error</a></span><span class="op" id="8195139">.</span><span class="ident" id="8195140"><a href="/gostd/go/scanner/errors.go.html#3895165">Msg</a></span><span class="op" id="8195143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8195147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8195150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8195154">//&nbsp;there&nbsp;should&nbsp;be&nbsp;no&nbsp;expected&nbsp;errors&nbsp;left</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8195198">if</span>&nbsp;<span class="builtinfunc" id="8195201">len</span><span class="op" id="8195204">(</span><span class="ident" id="8195205"><a href="/gostd/go/parser/error_test.go.html#8194169">expected</a></span><span class="op" id="8195213">)</span>&nbsp;<span class="op" id="8195215">&gt;</span>&nbsp;<span class="num" id="8195217">0</span>&nbsp;<span class="op" id="8195219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195223"><a href="/gostd/go/parser/error_test.go.html#8194155">t</a></span><span class="op" id="8195224">.</span><span class="ident" id="8195225"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8195231">(</span><span class="string" id="8195232">&#34;%d&nbsp;errors&nbsp;not&nbsp;reported:&#34;</span><span class="op" id="8195257">,</span>&nbsp;<span class="builtinfunc" id="8195259">len</span><span class="op" id="8195262">(</span><span class="ident" id="8195263"><a href="/gostd/go/parser/error_test.go.html#8194169">expected</a></span><span class="op" id="8195271">)</span><span class="op" id="8195272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8195276">for</span>&nbsp;<span class="ident" id="8195280">pos</span><span class="op" id="8195283">,</span>&nbsp;<span class="ident" id="8195285">msg</span>&nbsp;<span class="op" id="8195289">:=</span>&nbsp;<span class="keyword" id="8195292">range</span>&nbsp;<span class="ident" id="8195298"><a href="/gostd/go/parser/error_test.go.html#8194169">expected</a></span>&nbsp;<span class="op" id="8195307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195312"><a href="/gostd/go/parser/error_test.go.html#8194155">t</a></span><span class="op" id="8195313">.</span><span class="ident" id="8195314"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8195320">(</span><span class="string" id="8195321">&#34;%s:&nbsp;%s\n&#34;</span><span class="op" id="8195331">,</span>&nbsp;<span class="ident" id="8195333"><a href="/gostd/go/parser/error_test.go.html#8192038">fsetErrs</a></span><span class="op" id="8195341">.</span><span class="ident" id="8195342"><a href="/gostd/go/token/position.go.html#3887071">Position</a></span><span class="op" id="8195350">(</span><span class="ident" id="8195351"><a href="/gostd/go/parser/error_test.go.html#8195280">pos</a></span><span class="op" id="8195354">)</span><span class="op" id="8195355">,</span>&nbsp;<span class="ident" id="8195357"><a href="/gostd/go/parser/error_test.go.html#8195285">msg</a></span><span class="op" id="8195360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8195364">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8195367">}</span><br>
<span class="lineno"></span><span class="op" id="8195369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8195372">func</span>&nbsp;<span class="ident" id="8195377">checkErrors</span><span class="op" id="8195388">(</span><span class="ident" id="8195389">t</span>&nbsp;<span class="op" id="8195391">*</span><span class="ident" id="8195392"><a href="/gostd/go/parser/error_test.go.html#8191992">testing</a></span><span class="op" id="8195399">.</span><span class="ident" id="8195400"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8195401">,</span>&nbsp;<span class="ident" id="8195403">filename</span>&nbsp;<span class="builtintype" id="8195412">string</span><span class="op" id="8195418">,</span>&nbsp;<span class="ident" id="8195420">input</span>&nbsp;<span class="keyword" id="8195426">interface</span><span class="op" id="8195435">{</span><span class="op" id="8195436">}</span><span class="op" id="8195437">)</span>&nbsp;<span class="op" id="8195439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195442">src</span><span class="op" id="8195445">,</span>&nbsp;<span class="ident" id="8195447">err</span>&nbsp;<span class="op" id="8195451">:=</span>&nbsp;<span class="ident" id="8195454"><a href="/gostd/go/parser/interface.go.html#5950851">readSource</a></span><span class="op" id="8195464">(</span><span class="ident" id="8195465"><a href="/gostd/go/parser/error_test.go.html#8195403">filename</a></span><span class="op" id="8195473">,</span>&nbsp;<span class="ident" id="8195475"><a href="/gostd/go/parser/error_test.go.html#8195420">input</a></span><span class="op" id="8195480">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8195483">if</span>&nbsp;<span class="ident" id="8195486"><a href="/gostd/go/parser/error_test.go.html#8195447">err</a></span>&nbsp;<span class="op" id="8195490">!=</span>&nbsp;<span class="builtintype" id="8195493">nil</span>&nbsp;<span class="op" id="8195497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195501"><a href="/gostd/go/parser/error_test.go.html#8195389">t</a></span><span class="op" id="8195502">.</span><span class="ident" id="8195503"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8195508">(</span><span class="ident" id="8195509"><a href="/gostd/go/parser/error_test.go.html#8195447">err</a></span><span class="op" id="8195512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8195516">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8195524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195528">_</span><span class="op" id="8195529">,</span>&nbsp;<span class="ident" id="8195531"><a href="/gostd/go/parser/error_test.go.html#8195447">err</a></span>&nbsp;<span class="op" id="8195535">=</span>&nbsp;<span class="ident" id="8195537"><a href="/gostd/go/parser/interface.go.html#5953223">ParseFile</a></span><span class="op" id="8195546">(</span><span class="ident" id="8195547"><a href="/gostd/go/parser/error_test.go.html#8192038">fsetErrs</a></span><span class="op" id="8195555">,</span>&nbsp;<span class="ident" id="8195557"><a href="/gostd/go/parser/error_test.go.html#8195403">filename</a></span><span class="op" id="8195565">,</span>&nbsp;<span class="ident" id="8195567"><a href="/gostd/go/parser/error_test.go.html#8195442">src</a></span><span class="op" id="8195570">,</span>&nbsp;<span class="ident" id="8195572"><a href="/gostd/go/parser/interface.go.html#5951903">DeclarationErrors</a></span><span class="op" id="8195589">|</span><span class="ident" id="8195590"><a href="/gostd/go/parser/interface.go.html#5952077">AllErrors</a></span><span class="op" id="8195599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195602">found</span><span class="op" id="8195607">,</span>&nbsp;<span class="ident" id="8195609">ok</span>&nbsp;<span class="op" id="8195612">:=</span>&nbsp;<span class="ident" id="8195615"><a href="/gostd/go/parser/error_test.go.html#8195447">err</a></span><span class="op" id="8195618">.</span><span class="op" id="8195619">(</span><span class="ident" id="8195620"><a href="/gostd/go/parser/error_test.go.html#8191915">scanner</a></span><span class="op" id="8195627">.</span><span class="ident" id="8195628"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="8195637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8195640">if</span>&nbsp;<span class="ident" id="8195643"><a href="/gostd/go/parser/error_test.go.html#8195447">err</a></span>&nbsp;<span class="op" id="8195647">!=</span>&nbsp;<span class="builtintype" id="8195650">nil</span>&nbsp;<span class="op" id="8195654">&amp;&amp;</span>&nbsp;<span class="op" id="8195657">!</span><span class="ident" id="8195658"><a href="/gostd/go/parser/error_test.go.html#8195609">ok</a></span>&nbsp;<span class="op" id="8195661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195665"><a href="/gostd/go/parser/error_test.go.html#8195389">t</a></span><span class="op" id="8195666">.</span><span class="ident" id="8195667"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8195672">(</span><span class="ident" id="8195673"><a href="/gostd/go/parser/error_test.go.html#8195447">err</a></span><span class="op" id="8195676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8195680">return</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8195688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195691"><a href="/gostd/go/parser/error_test.go.html#8195602">found</a></span><span class="op" id="8195696">.</span><span class="ident" id="8195697"><a href="/gostd/go/scanner/errors.go.html#3896740">RemoveMultiples</a></span><span class="op" id="8195712">(</span><span class="op" id="8195713">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8195717">//&nbsp;we&nbsp;are&nbsp;expecting&nbsp;the&nbsp;following&nbsp;errors</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8195759">//&nbsp;(collect&nbsp;these&nbsp;after&nbsp;parsing&nbsp;a&nbsp;file&nbsp;so&nbsp;that&nbsp;it&nbsp;is&nbsp;found&nbsp;in&nbsp;the&nbsp;file&nbsp;set)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195836">expected</span>&nbsp;<span class="op" id="8195845">:=</span>&nbsp;<span class="ident" id="8195848"><a href="/gostd/go/parser/error_test.go.html#8193031">expectedErrors</a></span><span class="op" id="8195862">(</span><span class="ident" id="8195863"><a href="/gostd/go/parser/error_test.go.html#8195389">t</a></span><span class="op" id="8195864">,</span>&nbsp;<span class="ident" id="8195866"><a href="/gostd/go/parser/error_test.go.html#8195403">filename</a></span><span class="op" id="8195874">,</span>&nbsp;<span class="ident" id="8195876"><a href="/gostd/go/parser/error_test.go.html#8195442">src</a></span><span class="op" id="8195879">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8195883">//&nbsp;verify&nbsp;errors&nbsp;returned&nbsp;by&nbsp;the&nbsp;parser</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195924"><a href="/gostd/go/parser/error_test.go.html#8194141">compareErrors</a></span><span class="op" id="8195937">(</span><span class="ident" id="8195938"><a href="/gostd/go/parser/error_test.go.html#8195389">t</a></span><span class="op" id="8195939">,</span>&nbsp;<span class="ident" id="8195941"><a href="/gostd/go/parser/error_test.go.html#8195836">expected</a></span><span class="op" id="8195949">,</span>&nbsp;<span class="ident" id="8195951"><a href="/gostd/go/parser/error_test.go.html#8195602">found</a></span><span class="op" id="8195956">)</span><br>
<span class="lineno"></span><span class="op" id="8195958">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="8195961">func</span>&nbsp;<span class="ident" id="8195966">TestErrors</span><span class="op" id="8195976">(</span><span class="ident" id="8195977">t</span>&nbsp;<span class="op" id="8195979">*</span><span class="ident" id="8195980"><a href="/gostd/go/parser/error_test.go.html#8191992">testing</a></span><span class="op" id="8195987">.</span><span class="ident" id="8195988"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8195989">)</span>&nbsp;<span class="op" id="8195991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195994">list</span><span class="op" id="8195998">,</span>&nbsp;<span class="ident" id="8196000">err</span>&nbsp;<span class="op" id="8196004">:=</span>&nbsp;<span class="ident" id="8196007"><a href="/gostd/go/parser/error_test.go.html#8191941">ioutil</a></span><span class="op" id="8196013">.</span><span class="ident" id="8196014"><a href="/gostd/io/ioutil/ioutil.go.html#3767178">ReadDir</a></span><span class="op" id="8196021">(</span><span class="ident" id="8196022"><a href="/gostd/go/parser/error_test.go.html#8192011">testdata</a></span><span class="op" id="8196030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8196033">if</span>&nbsp;<span class="ident" id="8196036"><a href="/gostd/go/parser/error_test.go.html#8196000">err</a></span>&nbsp;<span class="op" id="8196040">!=</span>&nbsp;<span class="builtintype" id="8196043">nil</span>&nbsp;<span class="op" id="8196047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8196051"><a href="/gostd/go/parser/error_test.go.html#8195977">t</a></span><span class="op" id="8196052">.</span><span class="ident" id="8196053"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8196058">(</span><span class="ident" id="8196059"><a href="/gostd/go/parser/error_test.go.html#8196000">err</a></span><span class="op" id="8196062">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8196065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8196068">for</span>&nbsp;<span class="ident" id="8196072">_</span><span class="op" id="8196073">,</span>&nbsp;<span class="ident" id="8196075">fi</span>&nbsp;<span class="op" id="8196078">:=</span>&nbsp;<span class="keyword" id="8196081">range</span>&nbsp;<span class="ident" id="8196087"><a href="/gostd/go/parser/error_test.go.html#8195994">list</a></span>&nbsp;<span class="op" id="8196092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8196096">name</span>&nbsp;<span class="op" id="8196101">:=</span>&nbsp;<span class="ident" id="8196104"><a href="/gostd/go/parser/error_test.go.html#8196075">fi</a></span><span class="op" id="8196106">.</span><span class="ident" id="8196107"><a href="/gostd/os/types.go.html#2472482">Name</a></span><span class="op" id="8196111">(</span><span class="op" id="8196112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8196116">if</span>&nbsp;<span class="op" id="8196119">!</span><span class="ident" id="8196120"><a href="/gostd/go/parser/error_test.go.html#8196075">fi</a></span><span class="op" id="8196122">.</span><span class="ident" id="8196123"><a href="/gostd/os/types.go.html#2472696">IsDir</a></span><span class="op" id="8196128">(</span><span class="op" id="8196129">)</span>&nbsp;<span class="op" id="8196131">&amp;&amp;</span>&nbsp;<span class="op" id="8196134">!</span><span class="ident" id="8196135"><a href="/gostd/go/parser/error_test.go.html#8191981">strings</a></span><span class="op" id="8196142">.</span><span class="ident" id="8196143"><a href="/gostd/strings/strings.go.html#2975366">HasPrefix</a></span><span class="op" id="8196152">(</span><span class="ident" id="8196153"><a href="/gostd/go/parser/error_test.go.html#8196096">name</a></span><span class="op" id="8196157">,</span>&nbsp;<span class="string" id="8196159">&#34;.&#34;</span><span class="op" id="8196162">)</span>&nbsp;<span class="op" id="8196164">&amp;&amp;</span>&nbsp;<span class="ident" id="8196167"><a href="/gostd/go/parser/error_test.go.html#8191981">strings</a></span><span class="op" id="8196174">.</span><span class="ident" id="8196175"><a href="/gostd/strings/strings.go.html#2975527">HasSuffix</a></span><span class="op" id="8196184">(</span><span class="ident" id="8196185"><a href="/gostd/go/parser/error_test.go.html#8196096">name</a></span><span class="op" id="8196189">,</span>&nbsp;<span class="string" id="8196191">&#34;.src&#34;</span><span class="op" id="8196197">)</span>&nbsp;<span class="op" id="8196199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8196204"><a href="/gostd/go/parser/error_test.go.html#8195377">checkErrors</a></span><span class="op" id="8196215">(</span><span class="ident" id="8196216"><a href="/gostd/go/parser/error_test.go.html#8195977">t</a></span><span class="op" id="8196217">,</span>&nbsp;<span class="ident" id="8196219"><a href="/gostd/go/parser/error_test.go.html#8191954">filepath</a></span><span class="op" id="8196227">.</span><span class="ident" id="8196228"><a href="/gostd/path/filepath/path.go.html#3783597">Join</a></span><span class="op" id="8196232">(</span><span class="ident" id="8196233"><a href="/gostd/go/parser/error_test.go.html#8192011">testdata</a></span><span class="op" id="8196241">,</span>&nbsp;<span class="ident" id="8196243"><a href="/gostd/go/parser/error_test.go.html#8196096">name</a></span><span class="op" id="8196247">)</span><span class="op" id="8196248">,</span>&nbsp;<span class="builtintype" id="8196250">nil</span><span class="op" id="8196253">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8196257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8196260">}</span><br>
<span class="lineno"></span><span class="op" id="8196262">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
