<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/rand</h2>
<ul>
<li><a href="/gostd/math/rand/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/rand/exp.go.html">exp.go</a></li>
<li><a href="/gostd/math/rand/normal.go.html">normal.go</a></li>
<li><a href="/gostd/math/rand/rand.go.html">rand.go</a></li>
<li><a href="/gostd/math/rand/rand_test.go.html">rand_test.go</a></li>
<li><a href="/gostd/math/rand/regress_test.go.html">regress_test.go</a></li>
<li><a href="/gostd/math/rand/rng.go.html">rng.go</a></li>
<li><a href="/gostd/math/rand/zipf.go.html">zipf.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3168696">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3168751">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3168805">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3168856">//&nbsp;Package&nbsp;rand&nbsp;implements&nbsp;pseudo-random&nbsp;number&nbsp;generators.</span><br>
<span class="lineno"></span><span class="comment" id="3168916">//</span><br>
<span class="lineno"></span><span class="comment" id="3168919">//&nbsp;Random&nbsp;numbers&nbsp;are&nbsp;generated&nbsp;by&nbsp;a&nbsp;Source.&nbsp;Top-level&nbsp;functions,&nbsp;such&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="3168993">//&nbsp;Float64&nbsp;and&nbsp;Int,&nbsp;use&nbsp;a&nbsp;default&nbsp;shared&nbsp;Source&nbsp;that&nbsp;produces&nbsp;a&nbsp;deterministic</span><br>
<span class="lineno"></span><span class="comment" id="3169071">//&nbsp;sequence&nbsp;of&nbsp;values&nbsp;each&nbsp;time&nbsp;a&nbsp;program&nbsp;is&nbsp;run.&nbsp;Use&nbsp;the&nbsp;Seed&nbsp;function&nbsp;to</span><br>
<span class="lineno">10</span><span class="comment" id="3169146">//&nbsp;initialize&nbsp;the&nbsp;default&nbsp;Source&nbsp;if&nbsp;different&nbsp;behavior&nbsp;is&nbsp;required&nbsp;for&nbsp;each&nbsp;run.</span><br>
<span class="lineno"></span><span class="comment" id="3169227">//&nbsp;The&nbsp;default&nbsp;Source&nbsp;is&nbsp;safe&nbsp;for&nbsp;concurrent&nbsp;use&nbsp;by&nbsp;multiple&nbsp;goroutines.</span><br>
<span class="lineno"></span><span class="keyword" id="3169300">package</span>&nbsp;<span class="ident" id="3169308">rand</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3169314">import</span>&nbsp;<span class="string" id="3169321">&#34;sync&#34;</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3169329">//&nbsp;A&nbsp;Source&nbsp;represents&nbsp;a&nbsp;source&nbsp;of&nbsp;uniformly-distributed</span><br>
<span class="lineno"></span><span class="comment" id="3169386">//&nbsp;pseudo-random&nbsp;int64&nbsp;values&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;1&lt;&lt;63).</span><br>
<span class="lineno"></span><span class="keyword" id="3169441">type</span>&nbsp;<span class="ident" id="3169446">Source</span>&nbsp;<span class="keyword" id="3169453">interface</span>&nbsp;<span class="op" id="3169463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3169466">Int63</span><span class="op" id="3169471">(</span><span class="op" id="3169472">)</span>&nbsp;<span class="ident" id="3169474">int64</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3169481">Seed</span><span class="op" id="3169485">(</span><span class="ident" id="3169486">seed</span>&nbsp;<span class="ident" id="3169491">int64</span><span class="op" id="3169496">)</span><br>
<span class="lineno"></span><span class="op" id="3169498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3169501">//&nbsp;NewSource&nbsp;returns&nbsp;a&nbsp;new&nbsp;pseudo-random&nbsp;Source&nbsp;seeded&nbsp;with&nbsp;the&nbsp;given&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="3169578">func</span>&nbsp;<span class="ident" id="3169583">NewSource</span><span class="op" id="3169592">(</span><span class="ident" id="3169593">seed</span>&nbsp;<span class="ident" id="3169598">int64</span><span class="op" id="3169603">)</span>&nbsp;<span class="ident" id="3169605">Source</span>&nbsp;<span class="op" id="3169612">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3169615">var</span>&nbsp;<span class="ident" id="3169619">rng</span>&nbsp;<span class="ident" id="3169623">rngSource</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3169634">rng</span><span class="op" id="3169637">.</span><span class="ident" id="3169638">Seed</span><span class="op" id="3169642">(</span><span class="ident" id="3169643">seed</span><span class="op" id="3169647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3169650">return</span>&nbsp;<span class="op" id="3169657">&amp;</span><span class="ident" id="3169658">rng</span><br>
<span class="lineno"></span><span class="op" id="3169662">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="3169665">//&nbsp;A&nbsp;Rand&nbsp;is&nbsp;a&nbsp;source&nbsp;of&nbsp;random&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="keyword" id="3169706">type</span>&nbsp;<span class="ident" id="3169711">Rand</span>&nbsp;<span class="keyword" id="3169716">struct</span>&nbsp;<span class="op" id="3169723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3169726">src</span>&nbsp;<span class="ident" id="3169730">Source</span><br>
<span class="lineno"></span><span class="op" id="3169737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="3169740">//&nbsp;New&nbsp;returns&nbsp;a&nbsp;new&nbsp;Rand&nbsp;that&nbsp;uses&nbsp;random&nbsp;values&nbsp;from&nbsp;src</span><br>
<span class="lineno"></span><span class="comment" id="3169799">//&nbsp;to&nbsp;generate&nbsp;other&nbsp;random&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="3169835">func</span>&nbsp;<span class="ident" id="3169840">New</span><span class="op" id="3169843">(</span><span class="ident" id="3169844">src</span>&nbsp;<span class="ident" id="3169848">Source</span><span class="op" id="3169854">)</span>&nbsp;<span class="op" id="3169856">*</span><span class="ident" id="3169857">Rand</span>&nbsp;<span class="op" id="3169862">{</span>&nbsp;<span class="keyword" id="3169864">return</span>&nbsp;<span class="op" id="3169871">&amp;</span><span class="ident" id="3169872">Rand</span><span class="op" id="3169876">{</span><span class="ident" id="3169877">src</span><span class="op" id="3169880">}</span>&nbsp;<span class="op" id="3169882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3169885">//&nbsp;Seed&nbsp;uses&nbsp;the&nbsp;provided&nbsp;seed&nbsp;value&nbsp;to&nbsp;initialize&nbsp;the&nbsp;generator&nbsp;to&nbsp;a&nbsp;deterministic&nbsp;state.</span><br>
<span class="lineno">40</span><span class="keyword" id="3169976">func</span>&nbsp;<span class="op" id="3169981">(</span><span class="ident" id="3169982">r</span>&nbsp;<span class="op" id="3169984">*</span><span class="ident" id="3169985">Rand</span><span class="op" id="3169989">)</span>&nbsp;<span class="ident" id="3169991">Seed</span><span class="op" id="3169995">(</span><span class="ident" id="3169996">seed</span>&nbsp;<span class="ident" id="3170001">int64</span><span class="op" id="3170006">)</span>&nbsp;<span class="op" id="3170008">{</span>&nbsp;<span class="ident" id="3170010">r</span><span class="op" id="3170011">.</span><span class="ident" id="3170012">src</span><span class="op" id="3170015">.</span><span class="ident" id="3170016">Seed</span><span class="op" id="3170020">(</span><span class="ident" id="3170021">seed</span><span class="op" id="3170025">)</span>&nbsp;<span class="op" id="3170027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3170030">//&nbsp;Int63&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;63-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int64.</span><br>
<span class="lineno"></span><span class="keyword" id="3170104">func</span>&nbsp;<span class="op" id="3170109">(</span><span class="ident" id="3170110">r</span>&nbsp;<span class="op" id="3170112">*</span><span class="ident" id="3170113">Rand</span><span class="op" id="3170117">)</span>&nbsp;<span class="ident" id="3170119">Int63</span><span class="op" id="3170124">(</span><span class="op" id="3170125">)</span>&nbsp;<span class="ident" id="3170127">int64</span>&nbsp;<span class="op" id="3170133">{</span>&nbsp;<span class="keyword" id="3170135">return</span>&nbsp;<span class="ident" id="3170142">r</span><span class="op" id="3170143">.</span><span class="ident" id="3170144">src</span><span class="op" id="3170147">.</span><span class="ident" id="3170148">Int63</span><span class="op" id="3170153">(</span><span class="op" id="3170154">)</span>&nbsp;<span class="op" id="3170156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="3170159">//&nbsp;Uint32&nbsp;returns&nbsp;a&nbsp;pseudo-random&nbsp;32-bit&nbsp;value&nbsp;as&nbsp;a&nbsp;uint32.</span><br>
<span class="lineno"></span><span class="keyword" id="3170219">func</span>&nbsp;<span class="op" id="3170224">(</span><span class="ident" id="3170225">r</span>&nbsp;<span class="op" id="3170227">*</span><span class="ident" id="3170228">Rand</span><span class="op" id="3170232">)</span>&nbsp;<span class="ident" id="3170234">Uint32</span><span class="op" id="3170240">(</span><span class="op" id="3170241">)</span>&nbsp;<span class="builtintype" id="3170243">uint32</span>&nbsp;<span class="op" id="3170250">{</span>&nbsp;<span class="keyword" id="3170252">return</span>&nbsp;<span class="builtintype" id="3170259">uint32</span><span class="op" id="3170265">(</span><span class="ident" id="3170266">r</span><span class="op" id="3170267">.</span><span class="ident" id="3170268">Int63</span><span class="op" id="3170273">(</span><span class="op" id="3170274">)</span>&nbsp;<span class="op" id="3170276">&gt;&gt;</span>&nbsp;<span class="num" id="3170279">31</span><span class="op" id="3170281">)</span>&nbsp;<span class="op" id="3170283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3170286">//&nbsp;Int31&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;31-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int32.</span><br>
<span class="lineno"></span><span class="keyword" id="3170360">func</span>&nbsp;<span class="op" id="3170365">(</span><span class="ident" id="3170366">r</span>&nbsp;<span class="op" id="3170368">*</span><span class="ident" id="3170369">Rand</span><span class="op" id="3170373">)</span>&nbsp;<span class="ident" id="3170375">Int31</span><span class="op" id="3170380">(</span><span class="op" id="3170381">)</span>&nbsp;<span class="builtintype" id="3170383">int32</span>&nbsp;<span class="op" id="3170389">{</span>&nbsp;<span class="keyword" id="3170391">return</span>&nbsp;<span class="builtintype" id="3170398">int32</span><span class="op" id="3170403">(</span><span class="ident" id="3170404">r</span><span class="op" id="3170405">.</span><span class="ident" id="3170406">Int63</span><span class="op" id="3170411">(</span><span class="op" id="3170412">)</span>&nbsp;<span class="op" id="3170414">&gt;&gt;</span>&nbsp;<span class="num" id="3170417">32</span><span class="op" id="3170419">)</span>&nbsp;<span class="op" id="3170421">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="3170424">//&nbsp;Int&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="3170473">func</span>&nbsp;<span class="op" id="3170478">(</span><span class="ident" id="3170479">r</span>&nbsp;<span class="op" id="3170481">*</span><span class="ident" id="3170482">Rand</span><span class="op" id="3170486">)</span>&nbsp;<span class="ident" id="3170488">Int</span><span class="op" id="3170491">(</span><span class="op" id="3170492">)</span>&nbsp;<span class="builtintype" id="3170494">int</span>&nbsp;<span class="op" id="3170498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3170501">u</span>&nbsp;<span class="op" id="3170503">:=</span>&nbsp;<span class="builtintype" id="3170506">uint</span><span class="op" id="3170510">(</span><span class="ident" id="3170511">r</span><span class="op" id="3170512">.</span><span class="ident" id="3170513">Int63</span><span class="op" id="3170518">(</span><span class="op" id="3170519">)</span><span class="op" id="3170520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3170523">return</span>&nbsp;<span class="builtintype" id="3170530">int</span><span class="op" id="3170533">(</span><span class="ident" id="3170534">u</span>&nbsp;<span class="op" id="3170536">&lt;&lt;</span>&nbsp;<span class="num" id="3170539">1</span>&nbsp;<span class="op" id="3170541">&gt;&gt;</span>&nbsp;<span class="num" id="3170544">1</span><span class="op" id="3170545">)</span>&nbsp;<span class="comment" id="3170547">//&nbsp;clear&nbsp;sign&nbsp;bit&nbsp;if&nbsp;int&nbsp;==&nbsp;int32</span><br>
<span class="lineno">55</span><span class="op" id="3170581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3170584">//&nbsp;Int63n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int64,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="comment" id="3170662">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3170686">func</span>&nbsp;<span class="op" id="3170691">(</span><span class="ident" id="3170692">r</span>&nbsp;<span class="op" id="3170694">*</span><span class="ident" id="3170695">Rand</span><span class="op" id="3170699">)</span>&nbsp;<span class="ident" id="3170701">Int63n</span><span class="op" id="3170707">(</span><span class="ident" id="3170708">n</span>&nbsp;<span class="ident" id="3170710">int64</span><span class="op" id="3170715">)</span>&nbsp;<span class="ident" id="3170717">int64</span>&nbsp;<span class="op" id="3170723">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3170726">if</span>&nbsp;<span class="ident" id="3170729">n</span>&nbsp;<span class="op" id="3170731">&lt;=</span>&nbsp;<span class="num" id="3170734">0</span>&nbsp;<span class="op" id="3170736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3170740">panic</span><span class="op" id="3170745">(</span><span class="string" id="3170746">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Int63n&#34;</span><span class="op" id="3170774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3170777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3170780">if</span>&nbsp;<span class="ident" id="3170783">n</span><span class="op" id="3170784">&amp;</span><span class="op" id="3170785">(</span><span class="ident" id="3170786">n</span><span class="op" id="3170787">-</span><span class="num" id="3170788">1</span><span class="op" id="3170789">)</span>&nbsp;<span class="op" id="3170791">==</span>&nbsp;<span class="num" id="3170794">0</span>&nbsp;<span class="op" id="3170796">{</span>&nbsp;<span class="comment" id="3170798">//&nbsp;n&nbsp;is&nbsp;power&nbsp;of&nbsp;two,&nbsp;can&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3170831">return</span>&nbsp;<span class="ident" id="3170838">r</span><span class="op" id="3170839">.</span><span class="ident" id="3170840">Int63</span><span class="op" id="3170845">(</span><span class="op" id="3170846">)</span>&nbsp;<span class="op" id="3170848">&amp;</span>&nbsp;<span class="op" id="3170850">(</span><span class="ident" id="3170851">n</span>&nbsp;<span class="op" id="3170853">-</span>&nbsp;<span class="num" id="3170855">1</span><span class="op" id="3170856">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3170859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3170862">max</span>&nbsp;<span class="op" id="3170866">:=</span>&nbsp;<span class="ident" id="3170869">int64</span><span class="op" id="3170874">(</span><span class="op" id="3170875">(</span><span class="num" id="3170876">1</span>&nbsp;<span class="op" id="3170878">&lt;&lt;</span>&nbsp;<span class="num" id="3170881">63</span><span class="op" id="3170883">)</span>&nbsp;<span class="op" id="3170885">-</span>&nbsp;<span class="num" id="3170887">1</span>&nbsp;<span class="op" id="3170889">-</span>&nbsp;<span class="op" id="3170891">(</span><span class="num" id="3170892">1</span><span class="op" id="3170893">&lt;&lt;</span><span class="num" id="3170895">63</span><span class="op" id="3170897">)</span><span class="op" id="3170898">%</span><span class="ident" id="3170899">uint64</span><span class="op" id="3170905">(</span><span class="ident" id="3170906">n</span><span class="op" id="3170907">)</span><span class="op" id="3170908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3170911">v</span>&nbsp;<span class="op" id="3170913">:=</span>&nbsp;<span class="ident" id="3170916">r</span><span class="op" id="3170917">.</span><span class="ident" id="3170918">Int63</span><span class="op" id="3170923">(</span><span class="op" id="3170924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3170927">for</span>&nbsp;<span class="ident" id="3170931">v</span>&nbsp;<span class="op" id="3170933">&gt;</span>&nbsp;<span class="ident" id="3170935">max</span>&nbsp;<span class="op" id="3170939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3170943">v</span>&nbsp;<span class="op" id="3170945">=</span>&nbsp;<span class="ident" id="3170947">r</span><span class="op" id="3170948">.</span><span class="ident" id="3170949">Int63</span><span class="op" id="3170954">(</span><span class="op" id="3170955">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3170958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3170961">return</span>&nbsp;<span class="ident" id="3170968">v</span>&nbsp;<span class="op" id="3170970">%</span>&nbsp;<span class="ident" id="3170972">n</span><br>
<span class="lineno"></span><span class="op" id="3170974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3170977">//&nbsp;Int31n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int32,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno">75</span><span class="comment" id="3171055">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3171079">func</span>&nbsp;<span class="op" id="3171084">(</span><span class="ident" id="3171085">r</span>&nbsp;<span class="op" id="3171087">*</span><span class="ident" id="3171088">Rand</span><span class="op" id="3171092">)</span>&nbsp;<span class="ident" id="3171094">Int31n</span><span class="op" id="3171100">(</span><span class="ident" id="3171101">n</span>&nbsp;<span class="builtintype" id="3171103">int32</span><span class="op" id="3171108">)</span>&nbsp;<span class="builtintype" id="3171110">int32</span>&nbsp;<span class="op" id="3171116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3171119">if</span>&nbsp;<span class="ident" id="3171122">n</span>&nbsp;<span class="op" id="3171124">&lt;=</span>&nbsp;<span class="num" id="3171127">0</span>&nbsp;<span class="op" id="3171129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3171133">panic</span><span class="op" id="3171138">(</span><span class="string" id="3171139">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Int31n&#34;</span><span class="op" id="3171167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3171170">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3171173">if</span>&nbsp;<span class="ident" id="3171176">n</span><span class="op" id="3171177">&amp;</span><span class="op" id="3171178">(</span><span class="ident" id="3171179">n</span><span class="op" id="3171180">-</span><span class="num" id="3171181">1</span><span class="op" id="3171182">)</span>&nbsp;<span class="op" id="3171184">==</span>&nbsp;<span class="num" id="3171187">0</span>&nbsp;<span class="op" id="3171189">{</span>&nbsp;<span class="comment" id="3171191">//&nbsp;n&nbsp;is&nbsp;power&nbsp;of&nbsp;two,&nbsp;can&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3171224">return</span>&nbsp;<span class="ident" id="3171231">r</span><span class="op" id="3171232">.</span><span class="ident" id="3171233">Int31</span><span class="op" id="3171238">(</span><span class="op" id="3171239">)</span>&nbsp;<span class="op" id="3171241">&amp;</span>&nbsp;<span class="op" id="3171243">(</span><span class="ident" id="3171244">n</span>&nbsp;<span class="op" id="3171246">-</span>&nbsp;<span class="num" id="3171248">1</span><span class="op" id="3171249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3171252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3171255">max</span>&nbsp;<span class="op" id="3171259">:=</span>&nbsp;<span class="builtintype" id="3171262">int32</span><span class="op" id="3171267">(</span><span class="op" id="3171268">(</span><span class="num" id="3171269">1</span>&nbsp;<span class="op" id="3171271">&lt;&lt;</span>&nbsp;<span class="num" id="3171274">31</span><span class="op" id="3171276">)</span>&nbsp;<span class="op" id="3171278">-</span>&nbsp;<span class="num" id="3171280">1</span>&nbsp;<span class="op" id="3171282">-</span>&nbsp;<span class="op" id="3171284">(</span><span class="num" id="3171285">1</span><span class="op" id="3171286">&lt;&lt;</span><span class="num" id="3171288">31</span><span class="op" id="3171290">)</span><span class="op" id="3171291">%</span><span class="builtintype" id="3171292">uint32</span><span class="op" id="3171298">(</span><span class="ident" id="3171299">n</span><span class="op" id="3171300">)</span><span class="op" id="3171301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3171304">v</span>&nbsp;<span class="op" id="3171306">:=</span>&nbsp;<span class="ident" id="3171309">r</span><span class="op" id="3171310">.</span><span class="ident" id="3171311">Int31</span><span class="op" id="3171316">(</span><span class="op" id="3171317">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3171320">for</span>&nbsp;<span class="ident" id="3171324">v</span>&nbsp;<span class="op" id="3171326">&gt;</span>&nbsp;<span class="ident" id="3171328">max</span>&nbsp;<span class="op" id="3171332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3171336">v</span>&nbsp;<span class="op" id="3171338">=</span>&nbsp;<span class="ident" id="3171340">r</span><span class="op" id="3171341">.</span><span class="ident" id="3171342">Int31</span><span class="op" id="3171347">(</span><span class="op" id="3171348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3171351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3171354">return</span>&nbsp;<span class="ident" id="3171361">v</span>&nbsp;<span class="op" id="3171363">%</span>&nbsp;<span class="ident" id="3171365">n</span><br>
<span class="lineno"></span><span class="op" id="3171367">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="3171370">//&nbsp;Intn&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="comment" id="3171444">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3171468">func</span>&nbsp;<span class="op" id="3171473">(</span><span class="ident" id="3171474">r</span>&nbsp;<span class="op" id="3171476">*</span><span class="ident" id="3171477">Rand</span><span class="op" id="3171481">)</span>&nbsp;<span class="ident" id="3171483">Intn</span><span class="op" id="3171487">(</span><span class="ident" id="3171488">n</span>&nbsp;<span class="builtintype" id="3171490">int</span><span class="op" id="3171493">)</span>&nbsp;<span class="builtintype" id="3171495">int</span>&nbsp;<span class="op" id="3171499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3171502">if</span>&nbsp;<span class="ident" id="3171505">n</span>&nbsp;<span class="op" id="3171507">&lt;=</span>&nbsp;<span class="num" id="3171510">0</span>&nbsp;<span class="op" id="3171512">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3171516">panic</span><span class="op" id="3171521">(</span><span class="string" id="3171522">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Intn&#34;</span><span class="op" id="3171548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3171551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3171554">if</span>&nbsp;<span class="ident" id="3171557">n</span>&nbsp;<span class="op" id="3171559">&lt;=</span>&nbsp;<span class="num" id="3171562">1</span><span class="op" id="3171563">&lt;&lt;</span><span class="num" id="3171565">31</span><span class="op" id="3171567">-</span><span class="num" id="3171568">1</span>&nbsp;<span class="op" id="3171570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3171574">return</span>&nbsp;<span class="builtintype" id="3171581">int</span><span class="op" id="3171584">(</span><span class="ident" id="3171585">r</span><span class="op" id="3171586">.</span><span class="ident" id="3171587">Int31n</span><span class="op" id="3171593">(</span><span class="builtintype" id="3171594">int32</span><span class="op" id="3171599">(</span><span class="ident" id="3171600">n</span><span class="op" id="3171601">)</span><span class="op" id="3171602">)</span><span class="op" id="3171603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3171606">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3171609">return</span>&nbsp;<span class="builtintype" id="3171616">int</span><span class="op" id="3171619">(</span><span class="ident" id="3171620">r</span><span class="op" id="3171621">.</span><span class="ident" id="3171622">Int63n</span><span class="op" id="3171628">(</span><span class="ident" id="3171629">int64</span><span class="op" id="3171634">(</span><span class="ident" id="3171635">n</span><span class="op" id="3171636">)</span><span class="op" id="3171637">)</span><span class="op" id="3171638">)</span><br>
<span class="lineno"></span><span class="op" id="3171640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3171643">//&nbsp;Float64&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float64,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0).</span><br>
<span class="lineno"></span><span class="keyword" id="3171714">func</span>&nbsp;<span class="op" id="3171719">(</span><span class="ident" id="3171720">r</span>&nbsp;<span class="op" id="3171722">*</span><span class="ident" id="3171723">Rand</span><span class="op" id="3171727">)</span>&nbsp;<span class="ident" id="3171729">Float64</span><span class="op" id="3171736">(</span><span class="op" id="3171737">)</span>&nbsp;<span class="builtintype" id="3171739">float64</span>&nbsp;<span class="op" id="3171747">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3171750">//&nbsp;A&nbsp;clearer,&nbsp;simpler&nbsp;implementation&nbsp;would&nbsp;be:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3171798">//&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;float64(r.Int63n(1&lt;&lt;53))&nbsp;/&nbsp;(1&lt;&lt;53)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3171844">//&nbsp;However,&nbsp;Go&nbsp;1&nbsp;shipped&nbsp;with</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3171875">//&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;float64(r.Int63())&nbsp;/&nbsp;(1&nbsp;&lt;&lt;&nbsp;63)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3171917">//&nbsp;and&nbsp;we&nbsp;want&nbsp;to&nbsp;preserve&nbsp;that&nbsp;value&nbsp;stream.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3171964">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3171968">//&nbsp;There&nbsp;is&nbsp;one&nbsp;bug&nbsp;in&nbsp;the&nbsp;value&nbsp;stream:&nbsp;r.Int63()&nbsp;may&nbsp;be&nbsp;so&nbsp;close</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172036">//&nbsp;to&nbsp;1&lt;&lt;63&nbsp;that&nbsp;the&nbsp;division&nbsp;rounds&nbsp;up&nbsp;to&nbsp;1.0,&nbsp;and&nbsp;we&#39;ve&nbsp;guaranteed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172106">//&nbsp;that&nbsp;the&nbsp;result&nbsp;is&nbsp;always&nbsp;less&nbsp;than&nbsp;1.0.&nbsp;To&nbsp;fix&nbsp;that,&nbsp;we&nbsp;treat&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172177">//&nbsp;range&nbsp;as&nbsp;cyclic&nbsp;and&nbsp;map&nbsp;1&nbsp;back&nbsp;to&nbsp;0.&nbsp;This&nbsp;is&nbsp;justified&nbsp;by&nbsp;observing</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172249">//&nbsp;that&nbsp;while&nbsp;some&nbsp;of&nbsp;the&nbsp;values&nbsp;rounded&nbsp;down&nbsp;to&nbsp;0,&nbsp;nothing&nbsp;was</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172314">//&nbsp;rounding&nbsp;up&nbsp;to&nbsp;0,&nbsp;so&nbsp;0&nbsp;was&nbsp;underrepresented&nbsp;in&nbsp;the&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172378">//&nbsp;Mapping&nbsp;1&nbsp;back&nbsp;to&nbsp;zero&nbsp;restores&nbsp;some&nbsp;balance.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172428">//&nbsp;(The&nbsp;balance&nbsp;is&nbsp;not&nbsp;perfect&nbsp;because&nbsp;the&nbsp;implementation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172487">//&nbsp;returns&nbsp;denormalized&nbsp;numbers&nbsp;for&nbsp;very&nbsp;small&nbsp;r.Int63(),</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172546">//&nbsp;and&nbsp;those&nbsp;steal&nbsp;from&nbsp;what&nbsp;would&nbsp;normally&nbsp;be&nbsp;0&nbsp;results.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172606">//&nbsp;The&nbsp;remapping&nbsp;only&nbsp;happens&nbsp;1/2⁵³&nbsp;of&nbsp;the&nbsp;time,&nbsp;so&nbsp;most&nbsp;clients</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172675">//&nbsp;will&nbsp;not&nbsp;observe&nbsp;it&nbsp;anyway.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3172707">f</span>&nbsp;<span class="op" id="3172709">:=</span>&nbsp;<span class="builtintype" id="3172712">float64</span><span class="op" id="3172719">(</span><span class="ident" id="3172720">r</span><span class="op" id="3172721">.</span><span class="ident" id="3172722">Int63</span><span class="op" id="3172727">(</span><span class="op" id="3172728">)</span><span class="op" id="3172729">)</span>&nbsp;<span class="op" id="3172731">/</span>&nbsp;<span class="op" id="3172733">(</span><span class="num" id="3172734">1</span>&nbsp;<span class="op" id="3172736">&lt;&lt;</span>&nbsp;<span class="num" id="3172739">63</span><span class="op" id="3172741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3172744">if</span>&nbsp;<span class="ident" id="3172747">f</span>&nbsp;<span class="op" id="3172749">==</span>&nbsp;<span class="num" id="3172752">1</span>&nbsp;<span class="op" id="3172754">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3172758">f</span>&nbsp;<span class="op" id="3172760">=</span>&nbsp;<span class="num" id="3172762">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3172765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3172768">return</span>&nbsp;<span class="ident" id="3172775">f</span><br>
<span class="lineno"></span><span class="op" id="3172777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3172780">//&nbsp;Float32&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float32,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0).</span><br>
<span class="lineno"></span><span class="keyword" id="3172851">func</span>&nbsp;<span class="op" id="3172856">(</span><span class="ident" id="3172857">r</span>&nbsp;<span class="op" id="3172859">*</span><span class="ident" id="3172860">Rand</span><span class="op" id="3172864">)</span>&nbsp;<span class="ident" id="3172866">Float32</span><span class="op" id="3172873">(</span><span class="op" id="3172874">)</span>&nbsp;<span class="builtintype" id="3172876">float32</span>&nbsp;<span class="op" id="3172884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172887">//&nbsp;Same&nbsp;rationale&nbsp;as&nbsp;in&nbsp;Float64:&nbsp;we&nbsp;want&nbsp;to&nbsp;preserve&nbsp;the&nbsp;Go&nbsp;1&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3172956">//&nbsp;stream&nbsp;except&nbsp;we&nbsp;want&nbsp;to&nbsp;fix&nbsp;it&nbsp;not&nbsp;to&nbsp;return&nbsp;1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3173010">//&nbsp;There&nbsp;is&nbsp;a&nbsp;double&nbsp;rounding&nbsp;going&nbsp;on&nbsp;here,&nbsp;but&nbsp;the&nbsp;argument&nbsp;for</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3173077">//&nbsp;mapping&nbsp;1&nbsp;to&nbsp;0&nbsp;still&nbsp;applies:&nbsp;0&nbsp;was&nbsp;underrepresented&nbsp;before,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3173142">//&nbsp;so&nbsp;mapping&nbsp;1&nbsp;to&nbsp;0&nbsp;doesn&#39;t&nbsp;cause&nbsp;too&nbsp;many&nbsp;0s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3173191">//&nbsp;This&nbsp;only&nbsp;happens&nbsp;1/2²⁴&nbsp;of&nbsp;the&nbsp;time&nbsp;(plus&nbsp;the&nbsp;1/2⁵³&nbsp;of&nbsp;the&nbsp;time&nbsp;in&nbsp;Float64).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3173278">f</span>&nbsp;<span class="op" id="3173280">:=</span>&nbsp;<span class="builtintype" id="3173283">float32</span><span class="op" id="3173290">(</span><span class="ident" id="3173291">r</span><span class="op" id="3173292">.</span><span class="ident" id="3173293">Float64</span><span class="op" id="3173300">(</span><span class="op" id="3173301">)</span><span class="op" id="3173302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3173305">if</span>&nbsp;<span class="ident" id="3173308">f</span>&nbsp;<span class="op" id="3173310">==</span>&nbsp;<span class="num" id="3173313">1</span>&nbsp;<span class="op" id="3173315">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3173319">f</span>&nbsp;<span class="op" id="3173321">=</span>&nbsp;<span class="num" id="3173323">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3173326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3173329">return</span>&nbsp;<span class="ident" id="3173336">f</span><br>
<span class="lineno"></span><span class="op" id="3173338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="comment" id="3173341">//&nbsp;Perm&nbsp;returns,&nbsp;as&nbsp;a&nbsp;slice&nbsp;of&nbsp;n&nbsp;ints,&nbsp;a&nbsp;pseudo-random&nbsp;permutation&nbsp;of&nbsp;the&nbsp;integers&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="keyword" id="3173431">func</span>&nbsp;<span class="op" id="3173436">(</span><span class="ident" id="3173437">r</span>&nbsp;<span class="op" id="3173439">*</span><span class="ident" id="3173440">Rand</span><span class="op" id="3173444">)</span>&nbsp;<span class="ident" id="3173446">Perm</span><span class="op" id="3173450">(</span><span class="ident" id="3173451">n</span>&nbsp;<span class="builtintype" id="3173453">int</span><span class="op" id="3173456">)</span>&nbsp;<span class="op" id="3173458">[</span><span class="op" id="3173459">]</span><span class="builtintype" id="3173460">int</span>&nbsp;<span class="op" id="3173464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3173467">m</span>&nbsp;<span class="op" id="3173469">:=</span>&nbsp;<span class="builtinfunc" id="3173472">make</span><span class="op" id="3173476">(</span><span class="op" id="3173477">[</span><span class="op" id="3173478">]</span><span class="builtintype" id="3173479">int</span><span class="op" id="3173482">,</span>&nbsp;<span class="ident" id="3173484">n</span><span class="op" id="3173485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3173488">for</span>&nbsp;<span class="ident" id="3173492">i</span>&nbsp;<span class="op" id="3173494">:=</span>&nbsp;<span class="num" id="3173497">0</span><span class="op" id="3173498">;</span>&nbsp;<span class="ident" id="3173500">i</span>&nbsp;<span class="op" id="3173502">&lt;</span>&nbsp;<span class="ident" id="3173504">n</span><span class="op" id="3173505">;</span>&nbsp;<span class="ident" id="3173507">i</span><span class="op" id="3173508">++</span>&nbsp;<span class="op" id="3173511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3173515">j</span>&nbsp;<span class="op" id="3173517">:=</span>&nbsp;<span class="ident" id="3173520">r</span><span class="op" id="3173521">.</span><span class="ident" id="3173522">Intn</span><span class="op" id="3173526">(</span><span class="ident" id="3173527">i</span>&nbsp;<span class="op" id="3173529">+</span>&nbsp;<span class="num" id="3173531">1</span><span class="op" id="3173532">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3173536">m</span><span class="op" id="3173537">[</span><span class="ident" id="3173538">i</span><span class="op" id="3173539">]</span>&nbsp;<span class="op" id="3173541">=</span>&nbsp;<span class="ident" id="3173543">m</span><span class="op" id="3173544">[</span><span class="ident" id="3173545">j</span><span class="op" id="3173546">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3173550">m</span><span class="op" id="3173551">[</span><span class="ident" id="3173552">j</span><span class="op" id="3173553">]</span>&nbsp;<span class="op" id="3173555">=</span>&nbsp;<span class="ident" id="3173557">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3173560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3173563">return</span>&nbsp;<span class="ident" id="3173570">m</span><br>
<span class="lineno"></span><span class="op" id="3173572">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="3173575">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Top-level&nbsp;convenience&nbsp;functions<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="3173618">var</span>&nbsp;<span class="ident" id="3173622">globalRand</span>&nbsp;<span class="op" id="3173633">=</span>&nbsp;<span class="ident" id="3173635">New</span><span class="op" id="3173638">(</span><span class="op" id="3173639">&amp;</span><span class="ident" id="3173640">lockedSource</span><span class="op" id="3173652">{</span><span class="ident" id="3173653">src</span><span class="op" id="3173656">:</span>&nbsp;<span class="ident" id="3173658">NewSource</span><span class="op" id="3173667">(</span><span class="num" id="3173668">1</span><span class="op" id="3173669">)</span><span class="op" id="3173670">}</span><span class="op" id="3173671">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3173674">//&nbsp;Seed&nbsp;uses&nbsp;the&nbsp;provided&nbsp;seed&nbsp;value&nbsp;to&nbsp;initialize&nbsp;the&nbsp;default&nbsp;Source&nbsp;to&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3173749">//&nbsp;deterministic&nbsp;state.&nbsp;If&nbsp;Seed&nbsp;is&nbsp;not&nbsp;called,&nbsp;the&nbsp;generator&nbsp;behaves&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="3173821">//&nbsp;if&nbsp;seeded&nbsp;by&nbsp;Seed(1).</span><br>
<span class="lineno">165</span><span class="keyword" id="3173846">func</span>&nbsp;<span class="ident" id="3173851">Seed</span><span class="op" id="3173855">(</span><span class="ident" id="3173856">seed</span>&nbsp;<span class="ident" id="3173861">int64</span><span class="op" id="3173866">)</span>&nbsp;<span class="op" id="3173868">{</span>&nbsp;<span class="ident" id="3173870">globalRand</span><span class="op" id="3173880">.</span><span class="ident" id="3173881">Seed</span><span class="op" id="3173885">(</span><span class="ident" id="3173886">seed</span><span class="op" id="3173890">)</span>&nbsp;<span class="op" id="3173892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3173895">//&nbsp;Int63&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;63-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int64</span><br>
<span class="lineno"></span><span class="comment" id="3173968">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3173996">func</span>&nbsp;<span class="ident" id="3174001">Int63</span><span class="op" id="3174006">(</span><span class="op" id="3174007">)</span>&nbsp;<span class="ident" id="3174009">int64</span>&nbsp;<span class="op" id="3174015">{</span>&nbsp;<span class="keyword" id="3174017">return</span>&nbsp;<span class="ident" id="3174024">globalRand</span><span class="op" id="3174034">.</span><span class="ident" id="3174035">Int63</span><span class="op" id="3174040">(</span><span class="op" id="3174041">)</span>&nbsp;<span class="op" id="3174043">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="comment" id="3174046">//&nbsp;Uint32&nbsp;returns&nbsp;a&nbsp;pseudo-random&nbsp;32-bit&nbsp;value&nbsp;as&nbsp;a&nbsp;uint32</span><br>
<span class="lineno"></span><span class="comment" id="3174105">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3174133">func</span>&nbsp;<span class="ident" id="3174138">Uint32</span><span class="op" id="3174144">(</span><span class="op" id="3174145">)</span>&nbsp;<span class="builtintype" id="3174147">uint32</span>&nbsp;<span class="op" id="3174154">{</span>&nbsp;<span class="keyword" id="3174156">return</span>&nbsp;<span class="ident" id="3174163">globalRand</span><span class="op" id="3174173">.</span><span class="ident" id="3174174">Uint32</span><span class="op" id="3174180">(</span><span class="op" id="3174181">)</span>&nbsp;<span class="op" id="3174183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="3174186">//&nbsp;Int31&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;31-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int32</span><br>
<span class="lineno"></span><span class="comment" id="3174259">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3174287">func</span>&nbsp;<span class="ident" id="3174292">Int31</span><span class="op" id="3174297">(</span><span class="op" id="3174298">)</span>&nbsp;<span class="builtintype" id="3174300">int32</span>&nbsp;<span class="op" id="3174306">{</span>&nbsp;<span class="keyword" id="3174308">return</span>&nbsp;<span class="ident" id="3174315">globalRand</span><span class="op" id="3174325">.</span><span class="ident" id="3174326">Int31</span><span class="op" id="3174331">(</span><span class="op" id="3174332">)</span>&nbsp;<span class="op" id="3174334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3174337">//&nbsp;Int&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;int&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno">180</span><span class="keyword" id="3174410">func</span>&nbsp;<span class="ident" id="3174415">Int</span><span class="op" id="3174418">(</span><span class="op" id="3174419">)</span>&nbsp;<span class="builtintype" id="3174421">int</span>&nbsp;<span class="op" id="3174425">{</span>&nbsp;<span class="keyword" id="3174427">return</span>&nbsp;<span class="ident" id="3174434">globalRand</span><span class="op" id="3174444">.</span><span class="ident" id="3174445">Int</span><span class="op" id="3174448">(</span><span class="op" id="3174449">)</span>&nbsp;<span class="op" id="3174451">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3174454">//&nbsp;Int63n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int64,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3174531">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3174559">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">185</span><span class="keyword" id="3174583">func</span>&nbsp;<span class="ident" id="3174588">Int63n</span><span class="op" id="3174594">(</span><span class="ident" id="3174595">n</span>&nbsp;<span class="ident" id="3174597">int64</span><span class="op" id="3174602">)</span>&nbsp;<span class="ident" id="3174604">int64</span>&nbsp;<span class="op" id="3174610">{</span>&nbsp;<span class="keyword" id="3174612">return</span>&nbsp;<span class="ident" id="3174619">globalRand</span><span class="op" id="3174629">.</span><span class="ident" id="3174630">Int63n</span><span class="op" id="3174636">(</span><span class="ident" id="3174637">n</span><span class="op" id="3174638">)</span>&nbsp;<span class="op" id="3174640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3174643">//&nbsp;Int31n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int32,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3174720">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3174748">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">190</span><span class="keyword" id="3174772">func</span>&nbsp;<span class="ident" id="3174777">Int31n</span><span class="op" id="3174783">(</span><span class="ident" id="3174784">n</span>&nbsp;<span class="builtintype" id="3174786">int32</span><span class="op" id="3174791">)</span>&nbsp;<span class="builtintype" id="3174793">int32</span>&nbsp;<span class="op" id="3174799">{</span>&nbsp;<span class="keyword" id="3174801">return</span>&nbsp;<span class="ident" id="3174808">globalRand</span><span class="op" id="3174818">.</span><span class="ident" id="3174819">Int31n</span><span class="op" id="3174825">(</span><span class="ident" id="3174826">n</span><span class="op" id="3174827">)</span>&nbsp;<span class="op" id="3174829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3174832">//&nbsp;Intn&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3174905">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3174933">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">195</span><span class="keyword" id="3174957">func</span>&nbsp;<span class="ident" id="3174962">Intn</span><span class="op" id="3174966">(</span><span class="ident" id="3174967">n</span>&nbsp;<span class="builtintype" id="3174969">int</span><span class="op" id="3174972">)</span>&nbsp;<span class="builtintype" id="3174974">int</span>&nbsp;<span class="op" id="3174978">{</span>&nbsp;<span class="keyword" id="3174980">return</span>&nbsp;<span class="ident" id="3174987">globalRand</span><span class="op" id="3174997">.</span><span class="ident" id="3174998">Intn</span><span class="op" id="3175002">(</span><span class="ident" id="3175003">n</span><span class="op" id="3175004">)</span>&nbsp;<span class="op" id="3175006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3175009">//&nbsp;Float64&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float64,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0)</span><br>
<span class="lineno"></span><span class="comment" id="3175079">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3175107">func</span>&nbsp;<span class="ident" id="3175112">Float64</span><span class="op" id="3175119">(</span><span class="op" id="3175120">)</span>&nbsp;<span class="builtintype" id="3175122">float64</span>&nbsp;<span class="op" id="3175130">{</span>&nbsp;<span class="keyword" id="3175132">return</span>&nbsp;<span class="ident" id="3175139">globalRand</span><span class="op" id="3175149">.</span><span class="ident" id="3175150">Float64</span><span class="op" id="3175157">(</span><span class="op" id="3175158">)</span>&nbsp;<span class="op" id="3175160">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="comment" id="3175163">//&nbsp;Float32&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float32,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0)</span><br>
<span class="lineno"></span><span class="comment" id="3175233">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3175261">func</span>&nbsp;<span class="ident" id="3175266">Float32</span><span class="op" id="3175273">(</span><span class="op" id="3175274">)</span>&nbsp;<span class="builtintype" id="3175276">float32</span>&nbsp;<span class="op" id="3175284">{</span>&nbsp;<span class="keyword" id="3175286">return</span>&nbsp;<span class="ident" id="3175293">globalRand</span><span class="op" id="3175303">.</span><span class="ident" id="3175304">Float32</span><span class="op" id="3175311">(</span><span class="op" id="3175312">)</span>&nbsp;<span class="op" id="3175314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span><span class="comment" id="3175317">//&nbsp;Perm&nbsp;returns,&nbsp;as&nbsp;a&nbsp;slice&nbsp;of&nbsp;n&nbsp;ints,&nbsp;a&nbsp;pseudo-random&nbsp;permutation&nbsp;of&nbsp;the&nbsp;integers&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3175406">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3175434">func</span>&nbsp;<span class="ident" id="3175439">Perm</span><span class="op" id="3175443">(</span><span class="ident" id="3175444">n</span>&nbsp;<span class="builtintype" id="3175446">int</span><span class="op" id="3175449">)</span>&nbsp;<span class="op" id="3175451">[</span><span class="op" id="3175452">]</span><span class="builtintype" id="3175453">int</span>&nbsp;<span class="op" id="3175457">{</span>&nbsp;<span class="keyword" id="3175459">return</span>&nbsp;<span class="ident" id="3175466">globalRand</span><span class="op" id="3175476">.</span><span class="ident" id="3175477">Perm</span><span class="op" id="3175481">(</span><span class="ident" id="3175482">n</span><span class="op" id="3175483">)</span>&nbsp;<span class="op" id="3175485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3175488">//&nbsp;NormFloat64&nbsp;returns&nbsp;a&nbsp;normally&nbsp;distributed&nbsp;float64&nbsp;in&nbsp;the&nbsp;range</span><br>
<span class="lineno">210</span><span class="comment" id="3175555">//&nbsp;[-math.MaxFloat64,&nbsp;+math.MaxFloat64]&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3175600">//&nbsp;standard&nbsp;normal&nbsp;distribution&nbsp;(mean&nbsp;=&nbsp;0,&nbsp;stddev&nbsp;=&nbsp;1)</span><br>
<span class="lineno"></span><span class="comment" id="3175655">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3175683">//&nbsp;To&nbsp;produce&nbsp;a&nbsp;different&nbsp;normal&nbsp;distribution,&nbsp;callers&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="3175742">//&nbsp;adjust&nbsp;the&nbsp;output&nbsp;using:</span><br>
<span class="lineno">215</span><span class="comment" id="3175770">//</span><br>
<span class="lineno"></span><span class="comment" id="3175773">//&nbsp;&nbsp;sample&nbsp;=&nbsp;NormFloat64()&nbsp;*&nbsp;desiredStdDev&nbsp;+&nbsp;desiredMean</span><br>
<span class="lineno"></span><span class="comment" id="3175830">//</span><br>
<span class="lineno"></span><span class="keyword" id="3175833">func</span>&nbsp;<span class="ident" id="3175838">NormFloat64</span><span class="op" id="3175849">(</span><span class="op" id="3175850">)</span>&nbsp;<span class="builtintype" id="3175852">float64</span>&nbsp;<span class="op" id="3175860">{</span>&nbsp;<span class="keyword" id="3175862">return</span>&nbsp;<span class="ident" id="3175869">globalRand</span><span class="op" id="3175879">.</span><span class="ident" id="3175880">NormFloat64</span><span class="op" id="3175891">(</span><span class="op" id="3175892">)</span>&nbsp;<span class="op" id="3175894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="3175897">//&nbsp;ExpFloat64&nbsp;returns&nbsp;an&nbsp;exponentially&nbsp;distributed&nbsp;float64&nbsp;in&nbsp;the&nbsp;range</span><br>
<span class="lineno"></span><span class="comment" id="3175969">//&nbsp;(0,&nbsp;+math.MaxFloat64]&nbsp;with&nbsp;an&nbsp;exponential&nbsp;distribution&nbsp;whose&nbsp;rate&nbsp;parameter</span><br>
<span class="lineno"></span><span class="comment" id="3176048">//&nbsp;(lambda)&nbsp;is&nbsp;1&nbsp;and&nbsp;whose&nbsp;mean&nbsp;is&nbsp;1/lambda&nbsp;(1)&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3176121">//&nbsp;To&nbsp;produce&nbsp;a&nbsp;distribution&nbsp;with&nbsp;a&nbsp;different&nbsp;rate&nbsp;parameter,</span><br>
<span class="lineno"></span><span class="comment" id="3176183">//&nbsp;callers&nbsp;can&nbsp;adjust&nbsp;the&nbsp;output&nbsp;using:</span><br>
<span class="lineno">225</span><span class="comment" id="3176223">//</span><br>
<span class="lineno"></span><span class="comment" id="3176226">//&nbsp;&nbsp;sample&nbsp;=&nbsp;ExpFloat64()&nbsp;/&nbsp;desiredRateParameter</span><br>
<span class="lineno"></span><span class="comment" id="3176275">//</span><br>
<span class="lineno"></span><span class="keyword" id="3176278">func</span>&nbsp;<span class="ident" id="3176283">ExpFloat64</span><span class="op" id="3176293">(</span><span class="op" id="3176294">)</span>&nbsp;<span class="builtintype" id="3176296">float64</span>&nbsp;<span class="op" id="3176304">{</span>&nbsp;<span class="keyword" id="3176306">return</span>&nbsp;<span class="ident" id="3176313">globalRand</span><span class="op" id="3176323">.</span><span class="ident" id="3176324">ExpFloat64</span><span class="op" id="3176334">(</span><span class="op" id="3176335">)</span>&nbsp;<span class="op" id="3176337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span><span class="keyword" id="3176340">type</span>&nbsp;<span class="ident" id="3176345">lockedSource</span>&nbsp;<span class="keyword" id="3176358">struct</span>&nbsp;<span class="op" id="3176365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3176368">lk</span>&nbsp;&nbsp;<span class="ident" id="3176372">sync</span><span class="op" id="3176376">.</span><span class="ident" id="3176377">Mutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3176384">src</span>&nbsp;<span class="ident" id="3176388">Source</span><br>
<span class="lineno"></span><span class="op" id="3176395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="3176398">func</span>&nbsp;<span class="op" id="3176403">(</span><span class="ident" id="3176404">r</span>&nbsp;<span class="op" id="3176406">*</span><span class="ident" id="3176407">lockedSource</span><span class="op" id="3176419">)</span>&nbsp;<span class="ident" id="3176421">Int63</span><span class="op" id="3176426">(</span><span class="op" id="3176427">)</span>&nbsp;<span class="op" id="3176429">(</span><span class="ident" id="3176430">n</span>&nbsp;<span class="ident" id="3176432">int64</span><span class="op" id="3176437">)</span>&nbsp;<span class="op" id="3176439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3176442">r</span><span class="op" id="3176443">.</span><span class="ident" id="3176444">lk</span><span class="op" id="3176446">.</span><span class="ident" id="3176447">Lock</span><span class="op" id="3176451">(</span><span class="op" id="3176452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3176455">n</span>&nbsp;<span class="op" id="3176457">=</span>&nbsp;<span class="ident" id="3176459">r</span><span class="op" id="3176460">.</span><span class="ident" id="3176461">src</span><span class="op" id="3176464">.</span><span class="ident" id="3176465">Int63</span><span class="op" id="3176470">(</span><span class="op" id="3176471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3176474">r</span><span class="op" id="3176475">.</span><span class="ident" id="3176476">lk</span><span class="op" id="3176478">.</span><span class="ident" id="3176479">Unlock</span><span class="op" id="3176485">(</span><span class="op" id="3176486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3176489">return</span><br>
<span class="lineno">240</span><span class="op" id="3176496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3176499">func</span>&nbsp;<span class="op" id="3176504">(</span><span class="ident" id="3176505">r</span>&nbsp;<span class="op" id="3176507">*</span><span class="ident" id="3176508">lockedSource</span><span class="op" id="3176520">)</span>&nbsp;<span class="ident" id="3176522">Seed</span><span class="op" id="3176526">(</span><span class="ident" id="3176527">seed</span>&nbsp;<span class="ident" id="3176532">int64</span><span class="op" id="3176537">)</span>&nbsp;<span class="op" id="3176539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3176542">r</span><span class="op" id="3176543">.</span><span class="ident" id="3176544">lk</span><span class="op" id="3176546">.</span><span class="ident" id="3176547">Lock</span><span class="op" id="3176551">(</span><span class="op" id="3176552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3176555">r</span><span class="op" id="3176556">.</span><span class="ident" id="3176557">src</span><span class="op" id="3176560">.</span><span class="ident" id="3176561">Seed</span><span class="op" id="3176565">(</span><span class="ident" id="3176566">seed</span><span class="op" id="3176570">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3176573">r</span><span class="op" id="3176574">.</span><span class="ident" id="3176575">lk</span><span class="op" id="3176577">.</span><span class="ident" id="3176578">Unlock</span><span class="op" id="3176584">(</span><span class="op" id="3176585">)</span><br>
<span class="lineno"></span><span class="op" id="3176587">}</span>
</div>
</body>
</html>
