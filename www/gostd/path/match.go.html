<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path</h2>
<ul>
<li><a href="/gostd/path/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/path/match.go.html" class="current">match.go</a></li>
<li><a href="/gostd/path/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/path.go.html">path.go</a></li>
<li><a href="/gostd/path/path_test.go.html">path_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3915379">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3915434">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3915488">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3915539">package</span>&nbsp;<span class="ident" id="3915547">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3915553">import</span>&nbsp;<span class="op" id="3915560">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3915563">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3915573">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3915584">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3915599">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3915602">//&nbsp;ErrBadPattern&nbsp;indicates&nbsp;a&nbsp;globbing&nbsp;pattern&nbsp;was&nbsp;malformed.</span><br>
<span class="lineno"></span><span class="keyword" id="3915663">var</span>&nbsp;<span class="ident" id="3915667">ErrBadPattern</span>&nbsp;<span class="op" id="3915681">=</span>&nbsp;<span class="ident" id="3915683"><a href="/gostd/path/match.go.html#3915563">errors</a></span><span class="op" id="3915689">.</span><span class="ident" id="3915690"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3915693">(</span><span class="string" id="3915694">&#34;syntax&nbsp;error&nbsp;in&nbsp;pattern&#34;</span><span class="op" id="3915719">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3915722">//&nbsp;Match&nbsp;returns&nbsp;true&nbsp;if&nbsp;name&nbsp;matches&nbsp;the&nbsp;shell&nbsp;file&nbsp;name&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="comment" id="3915789">//&nbsp;The&nbsp;pattern&nbsp;syntax&nbsp;is:</span><br>
<span class="lineno"></span><span class="comment" id="3915815">//</span><br>
<span class="lineno"></span><span class="comment" id="3915818">//&nbsp;&nbsp;&nbsp;&nbsp;pattern:</span><br>
<span class="lineno">20</span><span class="comment" id="3915830">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;term&nbsp;}</span><br>
<span class="lineno"></span><span class="comment" id="3915843">//&nbsp;&nbsp;&nbsp;&nbsp;term:</span><br>
<span class="lineno"></span><span class="comment" id="3915852">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;*&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;any&nbsp;sequence&nbsp;of&nbsp;non-/&nbsp;characters</span><br>
<span class="lineno"></span><span class="comment" id="3915909">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;?&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;any&nbsp;single&nbsp;non-/&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="3915960">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;[&#39;&nbsp;[&nbsp;&#39;^&#39;&nbsp;]&nbsp;{&nbsp;character-range&nbsp;}&nbsp;&#39;]&#39;</span><br>
<span class="lineno">25</span><span class="comment" id="3916000">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character&nbsp;class&nbsp;(must&nbsp;be&nbsp;non-empty)</span><br>
<span class="lineno"></span><span class="comment" id="3916052">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c&nbsp;(c&nbsp;!=&nbsp;&#39;*&#39;,&nbsp;&#39;?&#39;,&nbsp;&#39;\\&#39;,&nbsp;&#39;[&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="3916115">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;\\&#39;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c</span><br>
<span class="lineno"></span><span class="comment" id="3916151">//</span><br>
<span class="lineno"></span><span class="comment" id="3916154">//&nbsp;&nbsp;&nbsp;&nbsp;character-range:</span><br>
<span class="lineno">30</span><span class="comment" id="3916174">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c&nbsp;(c&nbsp;!=&nbsp;&#39;\\&#39;,&nbsp;&#39;-&#39;,&nbsp;&#39;]&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="3916232">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;\\&#39;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c</span><br>
<span class="lineno"></span><span class="comment" id="3916268">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lo&nbsp;&#39;-&#39;&nbsp;hi&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c&nbsp;for&nbsp;lo&nbsp;&lt;=&nbsp;c&nbsp;&lt;=&nbsp;hi</span><br>
<span class="lineno"></span><span class="comment" id="3916322">//</span><br>
<span class="lineno"></span><span class="comment" id="3916325">//&nbsp;Match&nbsp;requires&nbsp;pattern&nbsp;to&nbsp;match&nbsp;all&nbsp;of&nbsp;name,&nbsp;not&nbsp;just&nbsp;a&nbsp;substring.</span><br>
<span class="lineno">35</span><span class="comment" id="3916395">//&nbsp;The&nbsp;only&nbsp;possible&nbsp;returned&nbsp;error&nbsp;is&nbsp;ErrBadPattern,&nbsp;when&nbsp;pattern</span><br>
<span class="lineno"></span><span class="comment" id="3916462">//&nbsp;is&nbsp;malformed.</span><br>
<span class="lineno"></span><span class="comment" id="3916479">//</span><br>
<span class="lineno"></span><span class="keyword" id="3916482">func</span>&nbsp;<span class="ident" id="3916487">Match</span><span class="op" id="3916492">(</span><span class="ident" id="3916493">pattern</span><span class="op" id="3916500">,</span>&nbsp;<span class="ident" id="3916502">name</span>&nbsp;<span class="builtintype" id="3916507">string</span><span class="op" id="3916513">)</span>&nbsp;<span class="op" id="3916515">(</span><span class="ident" id="3916516">matched</span>&nbsp;<span class="builtintype" id="3916524">bool</span><span class="op" id="3916528">,</span>&nbsp;<span class="ident" id="3916530">err</span>&nbsp;<span class="builtintype" id="3916534">error</span><span class="op" id="3916539">)</span>&nbsp;<span class="op" id="3916541">{</span><br>
<span class="lineno"></span><span class="ident" id="3916543">Pattern</span><span class="op" id="3916550">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3916553">for</span>&nbsp;<span class="builtinfunc" id="3916557">len</span><span class="op" id="3916560">(</span><span class="ident" id="3916561"><a href="/gostd/path/match.go.html#3916493">pattern</a></span><span class="op" id="3916568">)</span>&nbsp;<span class="op" id="3916570">&gt;</span>&nbsp;<span class="num" id="3916572">0</span>&nbsp;<span class="op" id="3916574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3916578">var</span>&nbsp;<span class="ident" id="3916582">star</span>&nbsp;<span class="builtintype" id="3916587">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3916594">var</span>&nbsp;<span class="ident" id="3916598">chunk</span>&nbsp;<span class="builtintype" id="3916604">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3916613"><a href="/gostd/path/match.go.html#3916582">star</a></span><span class="op" id="3916617">,</span>&nbsp;<span class="ident" id="3916619"><a href="/gostd/path/match.go.html#3916598">chunk</a></span><span class="op" id="3916624">,</span>&nbsp;<span class="ident" id="3916626"><a href="/gostd/path/match.go.html#3916493">pattern</a></span>&nbsp;<span class="op" id="3916634">=</span>&nbsp;<span class="ident" id="3916636"><a href="/gostd/path/match.go.html#3917725">scanChunk</a></span><span class="op" id="3916645">(</span><span class="ident" id="3916646"><a href="/gostd/path/match.go.html#3916493">pattern</a></span><span class="op" id="3916653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3916657">if</span>&nbsp;<span class="ident" id="3916660"><a href="/gostd/path/match.go.html#3916582">star</a></span>&nbsp;<span class="op" id="3916665">&amp;&amp;</span>&nbsp;<span class="ident" id="3916668"><a href="/gostd/path/match.go.html#3916598">chunk</a></span>&nbsp;<span class="op" id="3916674">==</span>&nbsp;<span class="string" id="3916677">&#34;&#34;</span>&nbsp;<span class="op" id="3916680">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3916685">//&nbsp;Trailing&nbsp;*&nbsp;matches&nbsp;rest&nbsp;of&nbsp;string&nbsp;unless&nbsp;it&nbsp;has&nbsp;a&nbsp;/.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3916744">return</span>&nbsp;<span class="ident" id="3916751"><a href="/gostd/path/match.go.html#3915573">strings</a></span><span class="op" id="3916758">.</span><span class="ident" id="3916759"><a href="/gostd/strings/strings.go.html#2968883">Index</a></span><span class="op" id="3916764">(</span><span class="ident" id="3916765"><a href="/gostd/path/match.go.html#3916502">name</a></span><span class="op" id="3916769">,</span>&nbsp;<span class="string" id="3916771">&#34;/&#34;</span><span class="op" id="3916774">)</span>&nbsp;<span class="op" id="3916776">&lt;</span>&nbsp;<span class="num" id="3916778">0</span><span class="op" id="3916779">,</span>&nbsp;<span class="builtintype" id="3916781">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3916787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3916791">//&nbsp;Look&nbsp;for&nbsp;match&nbsp;at&nbsp;current&nbsp;position.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3916832">t</span><span class="op" id="3916833">,</span>&nbsp;<span class="ident" id="3916835">ok</span><span class="op" id="3916837">,</span>&nbsp;<span class="ident" id="3916839">err</span>&nbsp;<span class="op" id="3916843">:=</span>&nbsp;<span class="ident" id="3916846"><a href="/gostd/path/match.go.html#3918433">matchChunk</a></span><span class="op" id="3916856">(</span><span class="ident" id="3916857"><a href="/gostd/path/match.go.html#3916598">chunk</a></span><span class="op" id="3916862">,</span>&nbsp;<span class="ident" id="3916864"><a href="/gostd/path/match.go.html#3916502">name</a></span><span class="op" id="3916868">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3916872">//&nbsp;if&nbsp;we&#39;re&nbsp;the&nbsp;last&nbsp;chunk,&nbsp;make&nbsp;sure&nbsp;we&#39;ve&nbsp;exhausted&nbsp;the&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3916937">//&nbsp;otherwise&nbsp;we&#39;ll&nbsp;give&nbsp;a&nbsp;false&nbsp;result&nbsp;even&nbsp;if&nbsp;we&nbsp;could&nbsp;still&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3917007">//&nbsp;using&nbsp;the&nbsp;star</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917027">if</span>&nbsp;<span class="ident" id="3917030"><a href="/gostd/path/match.go.html#3916835">ok</a></span>&nbsp;<span class="op" id="3917033">&amp;&amp;</span>&nbsp;<span class="op" id="3917036">(</span><span class="builtinfunc" id="3917037">len</span><span class="op" id="3917040">(</span><span class="ident" id="3917041"><a href="/gostd/path/match.go.html#3916832">t</a></span><span class="op" id="3917042">)</span>&nbsp;<span class="op" id="3917044">==</span>&nbsp;<span class="num" id="3917047">0</span>&nbsp;<span class="op" id="3917049">||</span>&nbsp;<span class="builtinfunc" id="3917052">len</span><span class="op" id="3917055">(</span><span class="ident" id="3917056"><a href="/gostd/path/match.go.html#3916493">pattern</a></span><span class="op" id="3917063">)</span>&nbsp;<span class="op" id="3917065">&gt;</span>&nbsp;<span class="num" id="3917067">0</span><span class="op" id="3917068">)</span>&nbsp;<span class="op" id="3917070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3917075"><a href="/gostd/path/match.go.html#3916502">name</a></span>&nbsp;<span class="op" id="3917080">=</span>&nbsp;<span class="ident" id="3917082"><a href="/gostd/path/match.go.html#3916832">t</a></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917087">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3917098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917102">if</span>&nbsp;<span class="ident" id="3917105"><a href="/gostd/path/match.go.html#3916839">err</a></span>&nbsp;<span class="op" id="3917109">!=</span>&nbsp;<span class="builtintype" id="3917112">nil</span>&nbsp;<span class="op" id="3917116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917121">return</span>&nbsp;<span class="builtintype" id="3917128">false</span><span class="op" id="3917133">,</span>&nbsp;<span class="ident" id="3917135"><a href="/gostd/path/match.go.html#3916839">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3917141">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917145">if</span>&nbsp;<span class="ident" id="3917148"><a href="/gostd/path/match.go.html#3916582">star</a></span>&nbsp;<span class="op" id="3917153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3917158">//&nbsp;Look&nbsp;for&nbsp;match&nbsp;skipping&nbsp;i+1&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3917199">//&nbsp;Cannot&nbsp;skip&nbsp;/.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917220">for</span>&nbsp;<span class="ident" id="3917224">i</span>&nbsp;<span class="op" id="3917226">:=</span>&nbsp;<span class="num" id="3917229">0</span><span class="op" id="3917230">;</span>&nbsp;<span class="ident" id="3917232"><a href="/gostd/path/match.go.html#3917224">i</a></span>&nbsp;<span class="op" id="3917234">&lt;</span>&nbsp;<span class="builtinfunc" id="3917236">len</span><span class="op" id="3917239">(</span><span class="ident" id="3917240"><a href="/gostd/path/match.go.html#3916502">name</a></span><span class="op" id="3917244">)</span>&nbsp;<span class="op" id="3917246">&amp;&amp;</span>&nbsp;<span class="ident" id="3917249"><a href="/gostd/path/match.go.html#3916502">name</a></span><span class="op" id="3917253">[</span><span class="ident" id="3917254"><a href="/gostd/path/match.go.html#3917224">i</a></span><span class="op" id="3917255">]</span>&nbsp;<span class="op" id="3917257">!=</span>&nbsp;<span class="string" id="3917260">&#39;/&#39;</span><span class="op" id="3917263">;</span>&nbsp;<span class="ident" id="3917265"><a href="/gostd/path/match.go.html#3917224">i</a></span><span class="op" id="3917266">++</span>&nbsp;<span class="op" id="3917269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3917275">t</span><span class="op" id="3917276">,</span>&nbsp;<span class="ident" id="3917278">ok</span><span class="op" id="3917280">,</span>&nbsp;<span class="ident" id="3917282">err</span>&nbsp;<span class="op" id="3917286">:=</span>&nbsp;<span class="ident" id="3917289"><a href="/gostd/path/match.go.html#3918433">matchChunk</a></span><span class="op" id="3917299">(</span><span class="ident" id="3917300"><a href="/gostd/path/match.go.html#3916598">chunk</a></span><span class="op" id="3917305">,</span>&nbsp;<span class="ident" id="3917307"><a href="/gostd/path/match.go.html#3916502">name</a></span><span class="op" id="3917311">[</span><span class="ident" id="3917312"><a href="/gostd/path/match.go.html#3917224">i</a></span><span class="op" id="3917313">+</span><span class="num" id="3917314">1</span><span class="op" id="3917315">:</span><span class="op" id="3917316">]</span><span class="op" id="3917317">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917323">if</span>&nbsp;<span class="ident" id="3917326"><a href="/gostd/path/match.go.html#3917278">ok</a></span>&nbsp;<span class="op" id="3917329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3917336">//&nbsp;if&nbsp;we&#39;re&nbsp;the&nbsp;last&nbsp;chunk,&nbsp;make&nbsp;sure&nbsp;we&nbsp;exhausted&nbsp;the&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917401">if</span>&nbsp;<span class="builtinfunc" id="3917404">len</span><span class="op" id="3917407">(</span><span class="ident" id="3917408"><a href="/gostd/path/match.go.html#3916493">pattern</a></span><span class="op" id="3917415">)</span>&nbsp;<span class="op" id="3917417">==</span>&nbsp;<span class="num" id="3917420">0</span>&nbsp;<span class="op" id="3917422">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3917425">len</span><span class="op" id="3917428">(</span><span class="ident" id="3917429"><a href="/gostd/path/match.go.html#3917275">t</a></span><span class="op" id="3917430">)</span>&nbsp;<span class="op" id="3917432">&gt;</span>&nbsp;<span class="num" id="3917434">0</span>&nbsp;<span class="op" id="3917436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917444">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3917458">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3917465"><a href="/gostd/path/match.go.html#3916502">name</a></span>&nbsp;<span class="op" id="3917470">=</span>&nbsp;<span class="ident" id="3917472"><a href="/gostd/path/match.go.html#3917275">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917479">continue</span>&nbsp;<span class="ident" id="3917488"><a href="/gostd/path/match.go.html#3916543">Pattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3917500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917506">if</span>&nbsp;<span class="ident" id="3917509"><a href="/gostd/path/match.go.html#3917282">err</a></span>&nbsp;<span class="op" id="3917513">!=</span>&nbsp;<span class="builtintype" id="3917516">nil</span>&nbsp;<span class="op" id="3917520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917527">return</span>&nbsp;<span class="builtintype" id="3917534">false</span><span class="op" id="3917539">,</span>&nbsp;<span class="ident" id="3917541"><a href="/gostd/path/match.go.html#3917282">err</a></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3917549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3917554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3917558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917562">return</span>&nbsp;<span class="builtintype" id="3917569">false</span><span class="op" id="3917574">,</span>&nbsp;<span class="builtintype" id="3917576">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3917581">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917584">return</span>&nbsp;<span class="builtinfunc" id="3917591">len</span><span class="op" id="3917594">(</span><span class="ident" id="3917595"><a href="/gostd/path/match.go.html#3916502">name</a></span><span class="op" id="3917599">)</span>&nbsp;<span class="op" id="3917601">==</span>&nbsp;<span class="num" id="3917604">0</span><span class="op" id="3917605">,</span>&nbsp;<span class="builtintype" id="3917607">nil</span><br>
<span class="lineno"></span><span class="op" id="3917611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3917614">//&nbsp;scanChunk&nbsp;gets&nbsp;the&nbsp;next&nbsp;segment&nbsp;of&nbsp;pattern,&nbsp;which&nbsp;is&nbsp;a&nbsp;non-star&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="3917688">//&nbsp;possibly&nbsp;preceded&nbsp;by&nbsp;a&nbsp;star.</span><br>
<span class="lineno">85</span><span class="keyword" id="3917720">func</span>&nbsp;<span class="ident" id="3917725">scanChunk</span><span class="op" id="3917734">(</span><span class="ident" id="3917735">pattern</span>&nbsp;<span class="builtintype" id="3917743">string</span><span class="op" id="3917749">)</span>&nbsp;<span class="op" id="3917751">(</span><span class="ident" id="3917752">star</span>&nbsp;<span class="builtintype" id="3917757">bool</span><span class="op" id="3917761">,</span>&nbsp;<span class="ident" id="3917763">chunk</span><span class="op" id="3917768">,</span>&nbsp;<span class="ident" id="3917770">rest</span>&nbsp;<span class="builtintype" id="3917775">string</span><span class="op" id="3917781">)</span>&nbsp;<span class="op" id="3917783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917786">for</span>&nbsp;<span class="builtinfunc" id="3917790">len</span><span class="op" id="3917793">(</span><span class="ident" id="3917794"><a href="/gostd/path/match.go.html#3917735">pattern</a></span><span class="op" id="3917801">)</span>&nbsp;<span class="op" id="3917803">&gt;</span>&nbsp;<span class="num" id="3917805">0</span>&nbsp;<span class="op" id="3917807">&amp;&amp;</span>&nbsp;<span class="ident" id="3917810"><a href="/gostd/path/match.go.html#3917735">pattern</a></span><span class="op" id="3917817">[</span><span class="num" id="3917818">0</span><span class="op" id="3917819">]</span>&nbsp;<span class="op" id="3917821">==</span>&nbsp;<span class="string" id="3917824">&#39;*&#39;</span>&nbsp;<span class="op" id="3917828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3917832"><a href="/gostd/path/match.go.html#3917735">pattern</a></span>&nbsp;<span class="op" id="3917840">=</span>&nbsp;<span class="ident" id="3917842"><a href="/gostd/path/match.go.html#3917735">pattern</a></span><span class="op" id="3917849">[</span><span class="num" id="3917850">1</span><span class="op" id="3917851">:</span><span class="op" id="3917852">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3917856"><a href="/gostd/path/match.go.html#3917752">star</a></span>&nbsp;<span class="op" id="3917861">=</span>&nbsp;<span class="builtintype" id="3917863">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3917869">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3917872">inrange</span>&nbsp;<span class="op" id="3917880">:=</span>&nbsp;<span class="builtintype" id="3917883">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917890">var</span>&nbsp;<span class="ident" id="3917894">i</span>&nbsp;<span class="builtintype" id="3917896">int</span><br>
<span class="lineno"></span><span class="ident" id="3917900">Scan</span><span class="op" id="3917904">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917907">for</span>&nbsp;<span class="ident" id="3917911"><a href="/gostd/path/match.go.html#3917894">i</a></span>&nbsp;<span class="op" id="3917913">=</span>&nbsp;<span class="num" id="3917915">0</span><span class="op" id="3917916">;</span>&nbsp;<span class="ident" id="3917918"><a href="/gostd/path/match.go.html#3917894">i</a></span>&nbsp;<span class="op" id="3917920">&lt;</span>&nbsp;<span class="builtinfunc" id="3917922">len</span><span class="op" id="3917925">(</span><span class="ident" id="3917926"><a href="/gostd/path/match.go.html#3917735">pattern</a></span><span class="op" id="3917933">)</span><span class="op" id="3917934">;</span>&nbsp;<span class="ident" id="3917936"><a href="/gostd/path/match.go.html#3917894">i</a></span><span class="op" id="3917937">++</span>&nbsp;<span class="op" id="3917940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917944">switch</span>&nbsp;<span class="ident" id="3917951"><a href="/gostd/path/match.go.html#3917735">pattern</a></span><span class="op" id="3917958">[</span><span class="ident" id="3917959"><a href="/gostd/path/match.go.html#3917894">i</a></span><span class="op" id="3917960">]</span>&nbsp;<span class="op" id="3917962">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3917966">case</span>&nbsp;<span class="string" id="3917971">&#39;\\&#39;</span><span class="op" id="3917975">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3917980">//&nbsp;error&nbsp;check&nbsp;handled&nbsp;in&nbsp;matchChunk:&nbsp;bad&nbsp;pattern.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918034">if</span>&nbsp;<span class="ident" id="3918037"><a href="/gostd/path/match.go.html#3917894">i</a></span><span class="op" id="3918038">+</span><span class="num" id="3918039">1</span>&nbsp;<span class="op" id="3918041">&lt;</span>&nbsp;<span class="builtinfunc" id="3918043">len</span><span class="op" id="3918046">(</span><span class="ident" id="3918047"><a href="/gostd/path/match.go.html#3917735">pattern</a></span><span class="op" id="3918054">)</span>&nbsp;<span class="op" id="3918056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918062"><a href="/gostd/path/match.go.html#3917894">i</a></span><span class="op" id="3918063">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3918069">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918073">case</span>&nbsp;<span class="string" id="3918078">&#39;[&#39;</span><span class="op" id="3918081">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918086"><a href="/gostd/path/match.go.html#3917872">inrange</a></span>&nbsp;<span class="op" id="3918094">=</span>&nbsp;<span class="builtintype" id="3918096">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918103">case</span>&nbsp;<span class="string" id="3918108">&#39;]&#39;</span><span class="op" id="3918111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918116"><a href="/gostd/path/match.go.html#3917872">inrange</a></span>&nbsp;<span class="op" id="3918124">=</span>&nbsp;<span class="builtintype" id="3918126">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918134">case</span>&nbsp;<span class="string" id="3918139">&#39;*&#39;</span><span class="op" id="3918142">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918147">if</span>&nbsp;<span class="op" id="3918150">!</span><span class="ident" id="3918151"><a href="/gostd/path/match.go.html#3917872">inrange</a></span>&nbsp;<span class="op" id="3918159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918165">break</span>&nbsp;<span class="ident" id="3918171"><a href="/gostd/path/match.go.html#3917900">Scan</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3918179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3918183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3918186">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918189">return</span>&nbsp;<span class="ident" id="3918196"><a href="/gostd/path/match.go.html#3917752">star</a></span><span class="op" id="3918200">,</span>&nbsp;<span class="ident" id="3918202"><a href="/gostd/path/match.go.html#3917735">pattern</a></span><span class="op" id="3918209">[</span><span class="num" id="3918210">0</span><span class="op" id="3918211">:</span><span class="ident" id="3918212"><a href="/gostd/path/match.go.html#3917894">i</a></span><span class="op" id="3918213">]</span><span class="op" id="3918214">,</span>&nbsp;<span class="ident" id="3918216"><a href="/gostd/path/match.go.html#3917735">pattern</a></span><span class="op" id="3918223">[</span><span class="ident" id="3918224"><a href="/gostd/path/match.go.html#3917894">i</a></span><span class="op" id="3918225">:</span><span class="op" id="3918226">]</span><br>
<span class="lineno"></span><span class="op" id="3918228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3918231">//&nbsp;matchChunk&nbsp;checks&nbsp;whether&nbsp;chunk&nbsp;matches&nbsp;the&nbsp;beginning&nbsp;of&nbsp;s.</span><br>
<span class="lineno"></span><span class="comment" id="3918294">//&nbsp;If&nbsp;so,&nbsp;it&nbsp;returns&nbsp;the&nbsp;remainder&nbsp;of&nbsp;s&nbsp;(after&nbsp;the&nbsp;match).</span><br>
<span class="lineno">115</span><span class="comment" id="3918353">//&nbsp;Chunk&nbsp;is&nbsp;all&nbsp;single-character&nbsp;operators:&nbsp;literals,&nbsp;char&nbsp;classes,&nbsp;and&nbsp;?.</span><br>
<span class="lineno"></span><span class="keyword" id="3918428">func</span>&nbsp;<span class="ident" id="3918433">matchChunk</span><span class="op" id="3918443">(</span><span class="ident" id="3918444">chunk</span><span class="op" id="3918449">,</span>&nbsp;<span class="ident" id="3918451">s</span>&nbsp;<span class="builtintype" id="3918453">string</span><span class="op" id="3918459">)</span>&nbsp;<span class="op" id="3918461">(</span><span class="ident" id="3918462">rest</span>&nbsp;<span class="builtintype" id="3918467">string</span><span class="op" id="3918473">,</span>&nbsp;<span class="ident" id="3918475">ok</span>&nbsp;<span class="builtintype" id="3918478">bool</span><span class="op" id="3918482">,</span>&nbsp;<span class="ident" id="3918484">err</span>&nbsp;<span class="builtintype" id="3918488">error</span><span class="op" id="3918493">)</span>&nbsp;<span class="op" id="3918495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918498">for</span>&nbsp;<span class="builtinfunc" id="3918502">len</span><span class="op" id="3918505">(</span><span class="ident" id="3918506"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3918511">)</span>&nbsp;<span class="op" id="3918513">&gt;</span>&nbsp;<span class="num" id="3918515">0</span>&nbsp;<span class="op" id="3918517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918521">if</span>&nbsp;<span class="builtinfunc" id="3918524">len</span><span class="op" id="3918527">(</span><span class="ident" id="3918528"><a href="/gostd/path/match.go.html#3918451">s</a></span><span class="op" id="3918529">)</span>&nbsp;<span class="op" id="3918531">==</span>&nbsp;<span class="num" id="3918534">0</span>&nbsp;<span class="op" id="3918536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918541">return</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3918550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918554">switch</span>&nbsp;<span class="ident" id="3918561"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3918566">[</span><span class="num" id="3918567">0</span><span class="op" id="3918568">]</span>&nbsp;<span class="op" id="3918570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918574">case</span>&nbsp;<span class="string" id="3918579">&#39;[&#39;</span><span class="op" id="3918582">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3918587">//&nbsp;character&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918609">r</span><span class="op" id="3918610">,</span>&nbsp;<span class="ident" id="3918612">n</span>&nbsp;<span class="op" id="3918614">:=</span>&nbsp;<span class="ident" id="3918617"><a href="/gostd/path/match.go.html#3915584">utf8</a></span><span class="op" id="3918621">.</span><span class="ident" id="3918622"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="3918640">(</span><span class="ident" id="3918641"><a href="/gostd/path/match.go.html#3918451">s</a></span><span class="op" id="3918642">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918647"><a href="/gostd/path/match.go.html#3918451">s</a></span>&nbsp;<span class="op" id="3918649">=</span>&nbsp;<span class="ident" id="3918651"><a href="/gostd/path/match.go.html#3918451">s</a></span><span class="op" id="3918652">[</span><span class="ident" id="3918653"><a href="/gostd/path/match.go.html#3918612">n</a></span><span class="op" id="3918654">:</span><span class="op" id="3918655">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918660"><a href="/gostd/path/match.go.html#3918444">chunk</a></span>&nbsp;<span class="op" id="3918666">=</span>&nbsp;<span class="ident" id="3918668"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3918673">[</span><span class="num" id="3918674">1</span><span class="op" id="3918675">:</span><span class="op" id="3918676">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3918681">//&nbsp;possibly&nbsp;negated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918704">notNegated</span>&nbsp;<span class="op" id="3918715">:=</span>&nbsp;<span class="builtintype" id="3918718">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918726">if</span>&nbsp;<span class="builtinfunc" id="3918729">len</span><span class="op" id="3918732">(</span><span class="ident" id="3918733"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3918738">)</span>&nbsp;<span class="op" id="3918740">&gt;</span>&nbsp;<span class="num" id="3918742">0</span>&nbsp;<span class="op" id="3918744">&amp;&amp;</span>&nbsp;<span class="ident" id="3918747"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3918752">[</span><span class="num" id="3918753">0</span><span class="op" id="3918754">]</span>&nbsp;<span class="op" id="3918756">==</span>&nbsp;<span class="string" id="3918759">&#39;^&#39;</span>&nbsp;<span class="op" id="3918763">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918769"><a href="/gostd/path/match.go.html#3918704">notNegated</a></span>&nbsp;<span class="op" id="3918780">=</span>&nbsp;<span class="builtintype" id="3918782">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918792"><a href="/gostd/path/match.go.html#3918444">chunk</a></span>&nbsp;<span class="op" id="3918798">=</span>&nbsp;<span class="ident" id="3918800"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3918805">[</span><span class="num" id="3918806">1</span><span class="op" id="3918807">:</span><span class="op" id="3918808">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3918813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3918818">//&nbsp;parse&nbsp;all&nbsp;ranges</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918841">match</span>&nbsp;<span class="op" id="3918847">:=</span>&nbsp;<span class="builtintype" id="3918850">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918859">nrange</span>&nbsp;<span class="op" id="3918866">:=</span>&nbsp;<span class="num" id="3918869">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918874">for</span>&nbsp;<span class="op" id="3918878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918884">if</span>&nbsp;<span class="builtinfunc" id="3918887">len</span><span class="op" id="3918890">(</span><span class="ident" id="3918891"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3918896">)</span>&nbsp;<span class="op" id="3918898">&gt;</span>&nbsp;<span class="num" id="3918900">0</span>&nbsp;<span class="op" id="3918902">&amp;&amp;</span>&nbsp;<span class="ident" id="3918905"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3918910">[</span><span class="num" id="3918911">0</span><span class="op" id="3918912">]</span>&nbsp;<span class="op" id="3918914">==</span>&nbsp;<span class="string" id="3918917">&#39;]&#39;</span>&nbsp;<span class="op" id="3918921">&amp;&amp;</span>&nbsp;<span class="ident" id="3918924"><a href="/gostd/path/match.go.html#3918859">nrange</a></span>&nbsp;<span class="op" id="3918931">&gt;</span>&nbsp;<span class="num" id="3918933">0</span>&nbsp;<span class="op" id="3918935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3918942"><a href="/gostd/path/match.go.html#3918444">chunk</a></span>&nbsp;<span class="op" id="3918948">=</span>&nbsp;<span class="ident" id="3918950"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3918955">[</span><span class="num" id="3918956">1</span><span class="op" id="3918957">:</span><span class="op" id="3918958">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918965">break</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3918975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3918981">var</span>&nbsp;<span class="ident" id="3918985">lo</span><span class="op" id="3918987">,</span>&nbsp;<span class="ident" id="3918989">hi</span>&nbsp;<span class="builtintype" id="3918992">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919001">if</span>&nbsp;<span class="ident" id="3919004"><a href="/gostd/path/match.go.html#3918985">lo</a></span><span class="op" id="3919006">,</span>&nbsp;<span class="ident" id="3919008"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3919013">,</span>&nbsp;<span class="ident" id="3919015"><a href="/gostd/path/match.go.html#3918484">err</a></span>&nbsp;<span class="op" id="3919019">=</span>&nbsp;<span class="ident" id="3919021"><a href="/gostd/path/match.go.html#3919738">getEsc</a></span><span class="op" id="3919027">(</span><span class="ident" id="3919028"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3919033">)</span><span class="op" id="3919034">;</span>&nbsp;<span class="ident" id="3919036"><a href="/gostd/path/match.go.html#3918484">err</a></span>&nbsp;<span class="op" id="3919040">!=</span>&nbsp;<span class="builtintype" id="3919043">nil</span>&nbsp;<span class="op" id="3919047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919054">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919065">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919071"><a href="/gostd/path/match.go.html#3918989">hi</a></span>&nbsp;<span class="op" id="3919074">=</span>&nbsp;<span class="ident" id="3919076"><a href="/gostd/path/match.go.html#3918985">lo</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919083">if</span>&nbsp;<span class="ident" id="3919086"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3919091">[</span><span class="num" id="3919092">0</span><span class="op" id="3919093">]</span>&nbsp;<span class="op" id="3919095">==</span>&nbsp;<span class="string" id="3919098">&#39;-&#39;</span>&nbsp;<span class="op" id="3919102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919109">if</span>&nbsp;<span class="ident" id="3919112"><a href="/gostd/path/match.go.html#3918989">hi</a></span><span class="op" id="3919114">,</span>&nbsp;<span class="ident" id="3919116"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3919121">,</span>&nbsp;<span class="ident" id="3919123"><a href="/gostd/path/match.go.html#3918484">err</a></span>&nbsp;<span class="op" id="3919127">=</span>&nbsp;<span class="ident" id="3919129"><a href="/gostd/path/match.go.html#3919738">getEsc</a></span><span class="op" id="3919135">(</span><span class="ident" id="3919136"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3919141">[</span><span class="num" id="3919142">1</span><span class="op" id="3919143">:</span><span class="op" id="3919144">]</span><span class="op" id="3919145">)</span><span class="op" id="3919146">;</span>&nbsp;<span class="ident" id="3919148"><a href="/gostd/path/match.go.html#3918484">err</a></span>&nbsp;<span class="op" id="3919152">!=</span>&nbsp;<span class="builtintype" id="3919155">nil</span>&nbsp;<span class="op" id="3919159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919167">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919179">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919191">if</span>&nbsp;<span class="ident" id="3919194"><a href="/gostd/path/match.go.html#3918985">lo</a></span>&nbsp;<span class="op" id="3919197">&lt;=</span>&nbsp;<span class="ident" id="3919200"><a href="/gostd/path/match.go.html#3918609">r</a></span>&nbsp;<span class="op" id="3919202">&amp;&amp;</span>&nbsp;<span class="ident" id="3919205"><a href="/gostd/path/match.go.html#3918609">r</a></span>&nbsp;<span class="op" id="3919207">&lt;=</span>&nbsp;<span class="ident" id="3919210"><a href="/gostd/path/match.go.html#3918989">hi</a></span>&nbsp;<span class="op" id="3919213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919220"><a href="/gostd/path/match.go.html#3918841">match</a></span>&nbsp;<span class="op" id="3919226">=</span>&nbsp;<span class="builtintype" id="3919228">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919243"><a href="/gostd/path/match.go.html#3918859">nrange</a></span><span class="op" id="3919249">++</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919260">if</span>&nbsp;<span class="ident" id="3919263"><a href="/gostd/path/match.go.html#3918841">match</a></span>&nbsp;<span class="op" id="3919269">!=</span>&nbsp;<span class="ident" id="3919272"><a href="/gostd/path/match.go.html#3918704">notNegated</a></span>&nbsp;<span class="op" id="3919283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919289">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919304">case</span>&nbsp;<span class="string" id="3919309">&#39;?&#39;</span><span class="op" id="3919312">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919317">if</span>&nbsp;<span class="ident" id="3919320"><a href="/gostd/path/match.go.html#3918451">s</a></span><span class="op" id="3919321">[</span><span class="num" id="3919322">0</span><span class="op" id="3919323">]</span>&nbsp;<span class="op" id="3919325">==</span>&nbsp;<span class="string" id="3919328">&#39;/&#39;</span>&nbsp;<span class="op" id="3919332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919338">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919353">_</span><span class="op" id="3919354">,</span>&nbsp;<span class="ident" id="3919356">n</span>&nbsp;<span class="op" id="3919358">:=</span>&nbsp;<span class="ident" id="3919361"><a href="/gostd/path/match.go.html#3915584">utf8</a></span><span class="op" id="3919365">.</span><span class="ident" id="3919366"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="3919384">(</span><span class="ident" id="3919385"><a href="/gostd/path/match.go.html#3918451">s</a></span><span class="op" id="3919386">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919391"><a href="/gostd/path/match.go.html#3918451">s</a></span>&nbsp;<span class="op" id="3919393">=</span>&nbsp;<span class="ident" id="3919395"><a href="/gostd/path/match.go.html#3918451">s</a></span><span class="op" id="3919396">[</span><span class="ident" id="3919397"><a href="/gostd/path/match.go.html#3919356">n</a></span><span class="op" id="3919398">:</span><span class="op" id="3919399">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919404"><a href="/gostd/path/match.go.html#3918444">chunk</a></span>&nbsp;<span class="op" id="3919410">=</span>&nbsp;<span class="ident" id="3919412"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3919417">[</span><span class="num" id="3919418">1</span><span class="op" id="3919419">:</span><span class="op" id="3919420">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919425">case</span>&nbsp;<span class="string" id="3919430">&#39;\\&#39;</span><span class="op" id="3919434">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919439"><a href="/gostd/path/match.go.html#3918444">chunk</a></span>&nbsp;<span class="op" id="3919445">=</span>&nbsp;<span class="ident" id="3919447"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3919452">[</span><span class="num" id="3919453">1</span><span class="op" id="3919454">:</span><span class="op" id="3919455">]</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919460">if</span>&nbsp;<span class="builtinfunc" id="3919463">len</span><span class="op" id="3919466">(</span><span class="ident" id="3919467"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3919472">)</span>&nbsp;<span class="op" id="3919474">==</span>&nbsp;<span class="num" id="3919477">0</span>&nbsp;<span class="op" id="3919479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919485"><a href="/gostd/path/match.go.html#3918484">err</a></span>&nbsp;<span class="op" id="3919489">=</span>&nbsp;<span class="ident" id="3919491"><a href="/gostd/path/match.go.html#3915667">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919509">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919524">fallthrough</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919539">default</span><span class="op" id="3919546">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919551">if</span>&nbsp;<span class="ident" id="3919554"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3919559">[</span><span class="num" id="3919560">0</span><span class="op" id="3919561">]</span>&nbsp;<span class="op" id="3919563">!=</span>&nbsp;<span class="ident" id="3919566"><a href="/gostd/path/match.go.html#3918451">s</a></span><span class="op" id="3919567">[</span><span class="num" id="3919568">0</span><span class="op" id="3919569">]</span>&nbsp;<span class="op" id="3919571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919577">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919587">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919592"><a href="/gostd/path/match.go.html#3918451">s</a></span>&nbsp;<span class="op" id="3919594">=</span>&nbsp;<span class="ident" id="3919596"><a href="/gostd/path/match.go.html#3918451">s</a></span><span class="op" id="3919597">[</span><span class="num" id="3919598">1</span><span class="op" id="3919599">:</span><span class="op" id="3919600">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919605"><a href="/gostd/path/match.go.html#3918444">chunk</a></span>&nbsp;<span class="op" id="3919611">=</span>&nbsp;<span class="ident" id="3919613"><a href="/gostd/path/match.go.html#3918444">chunk</a></span><span class="op" id="3919618">[</span><span class="num" id="3919619">1</span><span class="op" id="3919620">:</span><span class="op" id="3919621">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919631">return</span>&nbsp;<span class="ident" id="3919638"><a href="/gostd/path/match.go.html#3918451">s</a></span><span class="op" id="3919639">,</span>&nbsp;<span class="builtintype" id="3919641">true</span><span class="op" id="3919645">,</span>&nbsp;<span class="builtintype" id="3919647">nil</span><br>
<span class="lineno">185</span><span class="op" id="3919651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3919654">//&nbsp;getEsc&nbsp;gets&nbsp;a&nbsp;possibly-escaped&nbsp;character&nbsp;from&nbsp;chunk,&nbsp;for&nbsp;a&nbsp;character&nbsp;class.</span><br>
<span class="lineno"></span><span class="keyword" id="3919733">func</span>&nbsp;<span class="ident" id="3919738">getEsc</span><span class="op" id="3919744">(</span><span class="ident" id="3919745">chunk</span>&nbsp;<span class="builtintype" id="3919751">string</span><span class="op" id="3919757">)</span>&nbsp;<span class="op" id="3919759">(</span><span class="ident" id="3919760">r</span>&nbsp;<span class="builtintype" id="3919762">rune</span><span class="op" id="3919766">,</span>&nbsp;<span class="ident" id="3919768">nchunk</span>&nbsp;<span class="builtintype" id="3919775">string</span><span class="op" id="3919781">,</span>&nbsp;<span class="ident" id="3919783">err</span>&nbsp;<span class="builtintype" id="3919787">error</span><span class="op" id="3919792">)</span>&nbsp;<span class="op" id="3919794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919797">if</span>&nbsp;<span class="builtinfunc" id="3919800">len</span><span class="op" id="3919803">(</span><span class="ident" id="3919804"><a href="/gostd/path/match.go.html#3919745">chunk</a></span><span class="op" id="3919809">)</span>&nbsp;<span class="op" id="3919811">==</span>&nbsp;<span class="num" id="3919814">0</span>&nbsp;<span class="op" id="3919816">||</span>&nbsp;<span class="ident" id="3919819"><a href="/gostd/path/match.go.html#3919745">chunk</a></span><span class="op" id="3919824">[</span><span class="num" id="3919825">0</span><span class="op" id="3919826">]</span>&nbsp;<span class="op" id="3919828">==</span>&nbsp;<span class="string" id="3919831">&#39;-&#39;</span>&nbsp;<span class="op" id="3919835">||</span>&nbsp;<span class="ident" id="3919838"><a href="/gostd/path/match.go.html#3919745">chunk</a></span><span class="op" id="3919843">[</span><span class="num" id="3919844">0</span><span class="op" id="3919845">]</span>&nbsp;<span class="op" id="3919847">==</span>&nbsp;<span class="string" id="3919850">&#39;]&#39;</span>&nbsp;<span class="op" id="3919854">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919858"><a href="/gostd/path/match.go.html#3919783">err</a></span>&nbsp;<span class="op" id="3919862">=</span>&nbsp;<span class="ident" id="3919864"><a href="/gostd/path/match.go.html#3915667">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919880">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919891">if</span>&nbsp;<span class="ident" id="3919894"><a href="/gostd/path/match.go.html#3919745">chunk</a></span><span class="op" id="3919899">[</span><span class="num" id="3919900">0</span><span class="op" id="3919901">]</span>&nbsp;<span class="op" id="3919903">==</span>&nbsp;<span class="string" id="3919906">&#39;\\&#39;</span>&nbsp;<span class="op" id="3919911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919915"><a href="/gostd/path/match.go.html#3919745">chunk</a></span>&nbsp;<span class="op" id="3919921">=</span>&nbsp;<span class="ident" id="3919923"><a href="/gostd/path/match.go.html#3919745">chunk</a></span><span class="op" id="3919928">[</span><span class="num" id="3919929">1</span><span class="op" id="3919930">:</span><span class="op" id="3919931">]</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919935">if</span>&nbsp;<span class="builtinfunc" id="3919938">len</span><span class="op" id="3919941">(</span><span class="ident" id="3919942"><a href="/gostd/path/match.go.html#3919745">chunk</a></span><span class="op" id="3919947">)</span>&nbsp;<span class="op" id="3919949">==</span>&nbsp;<span class="num" id="3919952">0</span>&nbsp;<span class="op" id="3919954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919959"><a href="/gostd/path/match.go.html#3919783">err</a></span>&nbsp;<span class="op" id="3919963">=</span>&nbsp;<span class="ident" id="3919965"><a href="/gostd/path/match.go.html#3915667">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3919982">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3919994">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3919997"><a href="/gostd/path/match.go.html#3919760">r</a></span><span class="op" id="3919998">,</span>&nbsp;<span class="ident" id="3920000">n</span>&nbsp;<span class="op" id="3920002">:=</span>&nbsp;<span class="ident" id="3920005"><a href="/gostd/path/match.go.html#3915584">utf8</a></span><span class="op" id="3920009">.</span><span class="ident" id="3920010"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="3920028">(</span><span class="ident" id="3920029"><a href="/gostd/path/match.go.html#3919745">chunk</a></span><span class="op" id="3920034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3920037">if</span>&nbsp;<span class="ident" id="3920040"><a href="/gostd/path/match.go.html#3919760">r</a></span>&nbsp;<span class="op" id="3920042">==</span>&nbsp;<span class="ident" id="3920045"><a href="/gostd/path/match.go.html#3915584">utf8</a></span><span class="op" id="3920049">.</span><span class="ident" id="3920050"><a href="/gostd/unicode/utf8/utf8.go.html#1805370">RuneError</a></span>&nbsp;<span class="op" id="3920060">&amp;&amp;</span>&nbsp;<span class="ident" id="3920063"><a href="/gostd/path/match.go.html#3920000">n</a></span>&nbsp;<span class="op" id="3920065">==</span>&nbsp;<span class="num" id="3920068">1</span>&nbsp;<span class="op" id="3920070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3920074"><a href="/gostd/path/match.go.html#3919783">err</a></span>&nbsp;<span class="op" id="3920078">=</span>&nbsp;<span class="ident" id="3920080"><a href="/gostd/path/match.go.html#3915667">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3920095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3920098"><a href="/gostd/path/match.go.html#3919768">nchunk</a></span>&nbsp;<span class="op" id="3920105">=</span>&nbsp;<span class="ident" id="3920107"><a href="/gostd/path/match.go.html#3919745">chunk</a></span><span class="op" id="3920112">[</span><span class="ident" id="3920113"><a href="/gostd/path/match.go.html#3920000">n</a></span><span class="op" id="3920114">:</span><span class="op" id="3920115">]</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3920118">if</span>&nbsp;<span class="builtinfunc" id="3920121">len</span><span class="op" id="3920124">(</span><span class="ident" id="3920125"><a href="/gostd/path/match.go.html#3919768">nchunk</a></span><span class="op" id="3920131">)</span>&nbsp;<span class="op" id="3920133">==</span>&nbsp;<span class="num" id="3920136">0</span>&nbsp;<span class="op" id="3920138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3920142"><a href="/gostd/path/match.go.html#3919783">err</a></span>&nbsp;<span class="op" id="3920146">=</span>&nbsp;<span class="ident" id="3920148"><a href="/gostd/path/match.go.html#3915667">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3920163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3920166">return</span><br>
<span class="lineno"></span><span class="op" id="3920173">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
