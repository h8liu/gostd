<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="905427">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="905482">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="905536">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="905587">package</span>&nbsp;<span class="ident" id="905595">runtime_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="905609">import</span>&nbsp;<span class="op" id="905616">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="905619">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="905627">.</span>&nbsp;<span class="string" id="905629">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="905640">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="905651">&#34;time&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="905659">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="905668">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="905671">func</span>&nbsp;<span class="ident" id="905676">TestMemStats</span><span class="op" id="905688">(</span><span class="ident" id="905689">t</span>&nbsp;<span class="op" id="905691">*</span><span class="ident" id="905692"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="905699">.</span><span class="ident" id="905700">T</span><span class="op" id="905701">)</span>&nbsp;<span class="op" id="905703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="905706">//&nbsp;Test&nbsp;that&nbsp;MemStats&nbsp;has&nbsp;sane&nbsp;values.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="905746">st</span>&nbsp;<span class="op" id="905749">:=</span>&nbsp;<span class="builtinfunc" id="905752">new</span><span class="op" id="905755">(</span><span class="ident" id="905756"><a href="/runtime/mem.go.html#2006533">MemStats</a></span><span class="op" id="905764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="905767"><a href="/runtime/mem.go.html#2008608">ReadMemStats</a></span><span class="op" id="905779">(</span><span class="ident" id="905780"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="905782">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="905786">//&nbsp;Everything&nbsp;except&nbsp;HeapReleased&nbsp;and&nbsp;HeapIdle,&nbsp;because&nbsp;they&nbsp;indeed&nbsp;can&nbsp;be&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="905865">if</span>&nbsp;<span class="ident" id="905868"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="905870">.</span><span class="ident" id="905871">Alloc</span>&nbsp;<span class="op" id="905877">==</span>&nbsp;<span class="num" id="905880">0</span>&nbsp;<span class="op" id="905882">||</span>&nbsp;<span class="ident" id="905885"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="905887">.</span><span class="ident" id="905888">TotalAlloc</span>&nbsp;<span class="op" id="905899">==</span>&nbsp;<span class="num" id="905902">0</span>&nbsp;<span class="op" id="905904">||</span>&nbsp;<span class="ident" id="905907"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="905909">.</span><span class="ident" id="905910">Sys</span>&nbsp;<span class="op" id="905914">==</span>&nbsp;<span class="num" id="905917">0</span>&nbsp;<span class="op" id="905919">||</span>&nbsp;<span class="ident" id="905922"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="905924">.</span><span class="ident" id="905925">Lookups</span>&nbsp;<span class="op" id="905933">==</span>&nbsp;<span class="num" id="905936">0</span>&nbsp;<span class="op" id="905938">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="905943"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="905945">.</span><span class="ident" id="905946">Mallocs</span>&nbsp;<span class="op" id="905954">==</span>&nbsp;<span class="num" id="905957">0</span>&nbsp;<span class="op" id="905959">||</span>&nbsp;<span class="ident" id="905962"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="905964">.</span><span class="ident" id="905965">Frees</span>&nbsp;<span class="op" id="905971">==</span>&nbsp;<span class="num" id="905974">0</span>&nbsp;<span class="op" id="905976">||</span>&nbsp;<span class="ident" id="905979"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="905981">.</span><span class="ident" id="905982">HeapAlloc</span>&nbsp;<span class="op" id="905992">==</span>&nbsp;<span class="num" id="905995">0</span>&nbsp;<span class="op" id="905997">||</span>&nbsp;<span class="ident" id="906000"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906002">.</span><span class="ident" id="906003">HeapSys</span>&nbsp;<span class="op" id="906011">==</span>&nbsp;<span class="num" id="906014">0</span>&nbsp;<span class="op" id="906016">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906021"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906023">.</span><span class="ident" id="906024">HeapInuse</span>&nbsp;<span class="op" id="906034">==</span>&nbsp;<span class="num" id="906037">0</span>&nbsp;<span class="op" id="906039">||</span>&nbsp;<span class="ident" id="906042"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906044">.</span><span class="ident" id="906045">HeapObjects</span>&nbsp;<span class="op" id="906057">==</span>&nbsp;<span class="num" id="906060">0</span>&nbsp;<span class="op" id="906062">||</span>&nbsp;<span class="ident" id="906065"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906067">.</span><span class="ident" id="906068">StackInuse</span>&nbsp;<span class="op" id="906079">==</span>&nbsp;<span class="num" id="906082">0</span>&nbsp;<span class="op" id="906084">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906089"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906091">.</span><span class="ident" id="906092">StackSys</span>&nbsp;<span class="op" id="906101">==</span>&nbsp;<span class="num" id="906104">0</span>&nbsp;<span class="op" id="906106">||</span>&nbsp;<span class="ident" id="906109"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906111">.</span><span class="ident" id="906112">MSpanInuse</span>&nbsp;<span class="op" id="906123">==</span>&nbsp;<span class="num" id="906126">0</span>&nbsp;<span class="op" id="906128">||</span>&nbsp;<span class="ident" id="906131"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906133">.</span><span class="ident" id="906134">MSpanSys</span>&nbsp;<span class="op" id="906143">==</span>&nbsp;<span class="num" id="906146">0</span>&nbsp;<span class="op" id="906148">||</span>&nbsp;<span class="ident" id="906151"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906153">.</span><span class="ident" id="906154">MCacheInuse</span>&nbsp;<span class="op" id="906166">==</span>&nbsp;<span class="num" id="906169">0</span>&nbsp;<span class="op" id="906171">||</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906176"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906178">.</span><span class="ident" id="906179">MCacheSys</span>&nbsp;<span class="op" id="906189">==</span>&nbsp;<span class="num" id="906192">0</span>&nbsp;<span class="op" id="906194">||</span>&nbsp;<span class="ident" id="906197"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906199">.</span><span class="ident" id="906200">BuckHashSys</span>&nbsp;<span class="op" id="906212">==</span>&nbsp;<span class="num" id="906215">0</span>&nbsp;<span class="op" id="906217">||</span>&nbsp;<span class="ident" id="906220"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906222">.</span><span class="ident" id="906223">GCSys</span>&nbsp;<span class="op" id="906229">==</span>&nbsp;<span class="num" id="906232">0</span>&nbsp;<span class="op" id="906234">||</span>&nbsp;<span class="ident" id="906237"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906239">.</span><span class="ident" id="906240">OtherSys</span>&nbsp;<span class="op" id="906249">==</span>&nbsp;<span class="num" id="906252">0</span>&nbsp;<span class="op" id="906254">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906259"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906261">.</span><span class="ident" id="906262">NextGC</span>&nbsp;<span class="op" id="906269">==</span>&nbsp;<span class="num" id="906272">0</span>&nbsp;<span class="op" id="906274">||</span>&nbsp;<span class="ident" id="906277"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906279">.</span><span class="ident" id="906280">NumGC</span>&nbsp;<span class="op" id="906286">==</span>&nbsp;<span class="num" id="906289">0</span>&nbsp;<span class="op" id="906291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906295"><a href="/runtime/malloc_test.go.html#905689">t</a></span><span class="op" id="906296">.</span><span class="ident" id="906297">Fatalf</span><span class="op" id="906303">(</span><span class="string" id="906304">&#34;Zero&nbsp;value:&nbsp;%+v&#34;</span><span class="op" id="906321">,</span>&nbsp;<span class="op" id="906323">*</span><span class="ident" id="906324"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="906329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="906333">if</span>&nbsp;<span class="ident" id="906336"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906338">.</span><span class="ident" id="906339">Alloc</span>&nbsp;<span class="op" id="906345">&gt;</span>&nbsp;<span class="num" id="906347">1e10</span>&nbsp;<span class="op" id="906352">||</span>&nbsp;<span class="ident" id="906355"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906357">.</span><span class="ident" id="906358">TotalAlloc</span>&nbsp;<span class="op" id="906369">&gt;</span>&nbsp;<span class="num" id="906371">1e11</span>&nbsp;<span class="op" id="906376">||</span>&nbsp;<span class="ident" id="906379"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906381">.</span><span class="ident" id="906382">Sys</span>&nbsp;<span class="op" id="906386">&gt;</span>&nbsp;<span class="num" id="906388">1e10</span>&nbsp;<span class="op" id="906393">||</span>&nbsp;<span class="ident" id="906396"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906398">.</span><span class="ident" id="906399">Lookups</span>&nbsp;<span class="op" id="906407">&gt;</span>&nbsp;<span class="num" id="906409">1e10</span>&nbsp;<span class="op" id="906414">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906419"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906421">.</span><span class="ident" id="906422">Mallocs</span>&nbsp;<span class="op" id="906430">&gt;</span>&nbsp;<span class="num" id="906432">1e10</span>&nbsp;<span class="op" id="906437">||</span>&nbsp;<span class="ident" id="906440"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906442">.</span><span class="ident" id="906443">Frees</span>&nbsp;<span class="op" id="906449">&gt;</span>&nbsp;<span class="num" id="906451">1e10</span>&nbsp;<span class="op" id="906456">||</span>&nbsp;<span class="ident" id="906459"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906461">.</span><span class="ident" id="906462">HeapAlloc</span>&nbsp;<span class="op" id="906472">&gt;</span>&nbsp;<span class="num" id="906474">1e10</span>&nbsp;<span class="op" id="906479">||</span>&nbsp;<span class="ident" id="906482"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906484">.</span><span class="ident" id="906485">HeapSys</span>&nbsp;<span class="op" id="906493">&gt;</span>&nbsp;<span class="num" id="906495">1e10</span>&nbsp;<span class="op" id="906500">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906505"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906507">.</span><span class="ident" id="906508">HeapIdle</span>&nbsp;<span class="op" id="906517">&gt;</span>&nbsp;<span class="num" id="906519">1e10</span>&nbsp;<span class="op" id="906524">||</span>&nbsp;<span class="ident" id="906527"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906529">.</span><span class="ident" id="906530">HeapInuse</span>&nbsp;<span class="op" id="906540">&gt;</span>&nbsp;<span class="num" id="906542">1e10</span>&nbsp;<span class="op" id="906547">||</span>&nbsp;<span class="ident" id="906550"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906552">.</span><span class="ident" id="906553">HeapObjects</span>&nbsp;<span class="op" id="906565">&gt;</span>&nbsp;<span class="num" id="906567">1e10</span>&nbsp;<span class="op" id="906572">||</span>&nbsp;<span class="ident" id="906575"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906577">.</span><span class="ident" id="906578">StackInuse</span>&nbsp;<span class="op" id="906589">&gt;</span>&nbsp;<span class="num" id="906591">1e10</span>&nbsp;<span class="op" id="906596">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906601"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906603">.</span><span class="ident" id="906604">StackSys</span>&nbsp;<span class="op" id="906613">&gt;</span>&nbsp;<span class="num" id="906615">1e10</span>&nbsp;<span class="op" id="906620">||</span>&nbsp;<span class="ident" id="906623"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906625">.</span><span class="ident" id="906626">MSpanInuse</span>&nbsp;<span class="op" id="906637">&gt;</span>&nbsp;<span class="num" id="906639">1e10</span>&nbsp;<span class="op" id="906644">||</span>&nbsp;<span class="ident" id="906647"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906649">.</span><span class="ident" id="906650">MSpanSys</span>&nbsp;<span class="op" id="906659">&gt;</span>&nbsp;<span class="num" id="906661">1e10</span>&nbsp;<span class="op" id="906666">||</span>&nbsp;<span class="ident" id="906669"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906671">.</span><span class="ident" id="906672">MCacheInuse</span>&nbsp;<span class="op" id="906684">&gt;</span>&nbsp;<span class="num" id="906686">1e10</span>&nbsp;<span class="op" id="906691">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906696"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906698">.</span><span class="ident" id="906699">MCacheSys</span>&nbsp;<span class="op" id="906709">&gt;</span>&nbsp;<span class="num" id="906711">1e10</span>&nbsp;<span class="op" id="906716">||</span>&nbsp;<span class="ident" id="906719"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906721">.</span><span class="ident" id="906722">BuckHashSys</span>&nbsp;<span class="op" id="906734">&gt;</span>&nbsp;<span class="num" id="906736">1e10</span>&nbsp;<span class="op" id="906741">||</span>&nbsp;<span class="ident" id="906744"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906746">.</span><span class="ident" id="906747">GCSys</span>&nbsp;<span class="op" id="906753">&gt;</span>&nbsp;<span class="num" id="906755">1e10</span>&nbsp;<span class="op" id="906760">||</span>&nbsp;<span class="ident" id="906763"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906765">.</span><span class="ident" id="906766">OtherSys</span>&nbsp;<span class="op" id="906775">&gt;</span>&nbsp;<span class="num" id="906777">1e10</span>&nbsp;<span class="op" id="906782">||</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906787"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906789">.</span><span class="ident" id="906790">NextGC</span>&nbsp;<span class="op" id="906797">&gt;</span>&nbsp;<span class="num" id="906799">1e10</span>&nbsp;<span class="op" id="906804">||</span>&nbsp;<span class="ident" id="906807"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906809">.</span><span class="ident" id="906810">NumGC</span>&nbsp;<span class="op" id="906816">&gt;</span>&nbsp;<span class="num" id="906818">1e9</span>&nbsp;<span class="op" id="906822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906826"><a href="/runtime/malloc_test.go.html#905689">t</a></span><span class="op" id="906827">.</span><span class="ident" id="906828">Fatalf</span><span class="op" id="906834">(</span><span class="string" id="906835">&#34;Insanely&nbsp;high&nbsp;value&nbsp;(overflow?):&nbsp;%+v&#34;</span><span class="op" id="906873">,</span>&nbsp;<span class="op" id="906875">*</span><span class="ident" id="906876"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="906881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="906885">if</span>&nbsp;<span class="ident" id="906888"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906890">.</span><span class="ident" id="906891">Sys</span>&nbsp;<span class="op" id="906895">!=</span>&nbsp;<span class="ident" id="906898"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906900">.</span><span class="ident" id="906901">HeapSys</span><span class="op" id="906908">+</span><span class="ident" id="906909"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906911">.</span><span class="ident" id="906912">StackSys</span><span class="op" id="906920">+</span><span class="ident" id="906921"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906923">.</span><span class="ident" id="906924">MSpanSys</span><span class="op" id="906932">+</span><span class="ident" id="906933"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906935">.</span><span class="ident" id="906936">MCacheSys</span><span class="op" id="906945">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906949"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906951">.</span><span class="ident" id="906952">BuckHashSys</span><span class="op" id="906963">+</span><span class="ident" id="906964"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906966">.</span><span class="ident" id="906967">GCSys</span><span class="op" id="906972">+</span><span class="ident" id="906973"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="906975">.</span><span class="ident" id="906976">OtherSys</span>&nbsp;<span class="op" id="906985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="906989"><a href="/runtime/malloc_test.go.html#905689">t</a></span><span class="op" id="906990">.</span><span class="ident" id="906991">Fatalf</span><span class="op" id="906997">(</span><span class="string" id="906998">&#34;Bad&nbsp;sys&nbsp;value:&nbsp;%+v&#34;</span><span class="op" id="907018">,</span>&nbsp;<span class="op" id="907020">*</span><span class="ident" id="907021"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="907023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="907026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="907030">if</span>&nbsp;<span class="ident" id="907033"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="907035">.</span><span class="ident" id="907036">HeapIdle</span><span class="op" id="907044">+</span><span class="ident" id="907045"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="907047">.</span><span class="ident" id="907048">HeapInuse</span>&nbsp;<span class="op" id="907058">!=</span>&nbsp;<span class="ident" id="907061"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="907063">.</span><span class="ident" id="907064">HeapSys</span>&nbsp;<span class="op" id="907072">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907076"><a href="/runtime/malloc_test.go.html#905689">t</a></span><span class="op" id="907077">.</span><span class="ident" id="907078">Fatalf</span><span class="op" id="907084">(</span><span class="string" id="907085">&#34;HeapIdle(%d)&nbsp;+&nbsp;HeapInuse(%d)&nbsp;should&nbsp;be&nbsp;equal&nbsp;to&nbsp;HeapSys(%d),&nbsp;but&nbsp;isn&#39;t.&#34;</span><span class="op" id="907158">,</span>&nbsp;<span class="ident" id="907160"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="907162">.</span><span class="ident" id="907163">HeapIdle</span><span class="op" id="907171">,</span>&nbsp;<span class="ident" id="907173"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="907175">.</span><span class="ident" id="907176">HeapInuse</span><span class="op" id="907185">,</span>&nbsp;<span class="ident" id="907187"><a href="/runtime/malloc_test.go.html#905746">st</a></span><span class="op" id="907189">.</span><span class="ident" id="907190">HeapSys</span><span class="op" id="907197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="907200">}</span><br>
<span class="lineno"></span><span class="op" id="907202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="907205">var</span>&nbsp;<span class="ident" id="907209">mallocSink</span>&nbsp;<span class="builtintype" id="907220">uintptr</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="907229">func</span>&nbsp;<span class="ident" id="907234">BenchmarkMalloc8</span><span class="op" id="907250">(</span><span class="ident" id="907251">b</span>&nbsp;<span class="op" id="907253">*</span><span class="ident" id="907254"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="907261">.</span><span class="ident" id="907262">B</span><span class="op" id="907263">)</span>&nbsp;<span class="op" id="907265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="907268">var</span>&nbsp;<span class="ident" id="907272">x</span>&nbsp;<span class="builtintype" id="907274">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="907283">for</span>&nbsp;<span class="ident" id="907287">i</span>&nbsp;<span class="op" id="907289">:=</span>&nbsp;<span class="num" id="907292">0</span><span class="op" id="907293">;</span>&nbsp;<span class="ident" id="907295"><a href="/runtime/malloc_test.go.html#907287">i</a></span>&nbsp;<span class="op" id="907297">&lt;</span>&nbsp;<span class="ident" id="907299"><a href="/runtime/malloc_test.go.html#907251">b</a></span><span class="op" id="907300">.</span><span class="ident" id="907301">N</span><span class="op" id="907302">;</span>&nbsp;<span class="ident" id="907304"><a href="/runtime/malloc_test.go.html#907287">i</a></span><span class="op" id="907305">++</span>&nbsp;<span class="op" id="907308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907312">p</span>&nbsp;<span class="op" id="907314">:=</span>&nbsp;<span class="builtinfunc" id="907317">new</span><span class="op" id="907320">(</span><span class="ident" id="907321">int64</span><span class="op" id="907326">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907330"><a href="/runtime/malloc_test.go.html#907272">x</a></span>&nbsp;<span class="op" id="907332">^=</span>&nbsp;<span class="builtintype" id="907335">uintptr</span><span class="op" id="907342">(</span><span class="ident" id="907343"><a href="/runtime/malloc_test.go.html#905659">unsafe</a></span><span class="op" id="907349">.</span><span class="ident" id="907350">Pointer</span><span class="op" id="907357">(</span><span class="ident" id="907358"><a href="/runtime/malloc_test.go.html#907312">p</a></span><span class="op" id="907359">)</span><span class="op" id="907360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="907363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907366"><a href="/runtime/malloc_test.go.html#907209">mallocSink</a></span>&nbsp;<span class="op" id="907377">=</span>&nbsp;<span class="ident" id="907379"><a href="/runtime/malloc_test.go.html#907272">x</a></span><br>
<span class="lineno"></span><span class="op" id="907381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="907384">func</span>&nbsp;<span class="ident" id="907389">BenchmarkMalloc16</span><span class="op" id="907406">(</span><span class="ident" id="907407">b</span>&nbsp;<span class="op" id="907409">*</span><span class="ident" id="907410"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="907417">.</span><span class="ident" id="907418">B</span><span class="op" id="907419">)</span>&nbsp;<span class="op" id="907421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="907424">var</span>&nbsp;<span class="ident" id="907428">x</span>&nbsp;<span class="builtintype" id="907430">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="907439">for</span>&nbsp;<span class="ident" id="907443">i</span>&nbsp;<span class="op" id="907445">:=</span>&nbsp;<span class="num" id="907448">0</span><span class="op" id="907449">;</span>&nbsp;<span class="ident" id="907451"><a href="/runtime/malloc_test.go.html#907443">i</a></span>&nbsp;<span class="op" id="907453">&lt;</span>&nbsp;<span class="ident" id="907455"><a href="/runtime/malloc_test.go.html#907407">b</a></span><span class="op" id="907456">.</span><span class="ident" id="907457">N</span><span class="op" id="907458">;</span>&nbsp;<span class="ident" id="907460"><a href="/runtime/malloc_test.go.html#907443">i</a></span><span class="op" id="907461">++</span>&nbsp;<span class="op" id="907464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907468">p</span>&nbsp;<span class="op" id="907470">:=</span>&nbsp;<span class="builtinfunc" id="907473">new</span><span class="op" id="907476">(</span><span class="op" id="907477">[</span><span class="num" id="907478">2</span><span class="op" id="907479">]</span><span class="ident" id="907480">int64</span><span class="op" id="907485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907489"><a href="/runtime/malloc_test.go.html#907428">x</a></span>&nbsp;<span class="op" id="907491">^=</span>&nbsp;<span class="builtintype" id="907494">uintptr</span><span class="op" id="907501">(</span><span class="ident" id="907502"><a href="/runtime/malloc_test.go.html#905659">unsafe</a></span><span class="op" id="907508">.</span><span class="ident" id="907509">Pointer</span><span class="op" id="907516">(</span><span class="ident" id="907517"><a href="/runtime/malloc_test.go.html#907468">p</a></span><span class="op" id="907518">)</span><span class="op" id="907519">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="907522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907525"><a href="/runtime/malloc_test.go.html#907209">mallocSink</a></span>&nbsp;<span class="op" id="907536">=</span>&nbsp;<span class="ident" id="907538"><a href="/runtime/malloc_test.go.html#907428">x</a></span><br>
<span class="lineno"></span><span class="op" id="907540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="907543">func</span>&nbsp;<span class="ident" id="907548">BenchmarkMallocTypeInfo8</span><span class="op" id="907572">(</span><span class="ident" id="907573">b</span>&nbsp;<span class="op" id="907575">*</span><span class="ident" id="907576"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="907583">.</span><span class="ident" id="907584">B</span><span class="op" id="907585">)</span>&nbsp;<span class="op" id="907587">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="907590">var</span>&nbsp;<span class="ident" id="907594">x</span>&nbsp;<span class="builtintype" id="907596">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="907605">for</span>&nbsp;<span class="ident" id="907609">i</span>&nbsp;<span class="op" id="907611">:=</span>&nbsp;<span class="num" id="907614">0</span><span class="op" id="907615">;</span>&nbsp;<span class="ident" id="907617"><a href="/runtime/malloc_test.go.html#907609">i</a></span>&nbsp;<span class="op" id="907619">&lt;</span>&nbsp;<span class="ident" id="907621"><a href="/runtime/malloc_test.go.html#907573">b</a></span><span class="op" id="907622">.</span><span class="ident" id="907623">N</span><span class="op" id="907624">;</span>&nbsp;<span class="ident" id="907626"><a href="/runtime/malloc_test.go.html#907609">i</a></span><span class="op" id="907627">++</span>&nbsp;<span class="op" id="907630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907634">p</span>&nbsp;<span class="op" id="907636">:=</span>&nbsp;<span class="builtinfunc" id="907639">new</span><span class="op" id="907642">(</span><span class="keyword" id="907643">struct</span>&nbsp;<span class="op" id="907650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907655">p</span>&nbsp;<span class="op" id="907657">[</span><span class="num" id="907658">8</span>&nbsp;<span class="op" id="907660">/</span>&nbsp;<span class="ident" id="907662"><a href="/runtime/malloc_test.go.html#905659">unsafe</a></span><span class="op" id="907668">.</span><span class="ident" id="907669">Sizeof</span><span class="op" id="907675">(</span><span class="builtintype" id="907676">uintptr</span><span class="op" id="907683">(</span><span class="num" id="907684">0</span><span class="op" id="907685">)</span><span class="op" id="907686">)</span><span class="op" id="907687">]</span><span class="op" id="907688">*</span><span class="builtintype" id="907689">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="907695">}</span><span class="op" id="907696">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907700"><a href="/runtime/malloc_test.go.html#907594">x</a></span>&nbsp;<span class="op" id="907702">^=</span>&nbsp;<span class="builtintype" id="907705">uintptr</span><span class="op" id="907712">(</span><span class="ident" id="907713"><a href="/runtime/malloc_test.go.html#905659">unsafe</a></span><span class="op" id="907719">.</span><span class="ident" id="907720">Pointer</span><span class="op" id="907727">(</span><span class="ident" id="907728"><a href="/runtime/malloc_test.go.html#907634">p</a></span><span class="op" id="907729">)</span><span class="op" id="907730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="907733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907736"><a href="/runtime/malloc_test.go.html#907209">mallocSink</a></span>&nbsp;<span class="op" id="907747">=</span>&nbsp;<span class="ident" id="907749"><a href="/runtime/malloc_test.go.html#907594">x</a></span><br>
<span class="lineno"></span><span class="op" id="907751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="907754">func</span>&nbsp;<span class="ident" id="907759">BenchmarkMallocTypeInfo16</span><span class="op" id="907784">(</span><span class="ident" id="907785">b</span>&nbsp;<span class="op" id="907787">*</span><span class="ident" id="907788"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="907795">.</span><span class="ident" id="907796">B</span><span class="op" id="907797">)</span>&nbsp;<span class="op" id="907799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="907802">var</span>&nbsp;<span class="ident" id="907806">x</span>&nbsp;<span class="builtintype" id="907808">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="907817">for</span>&nbsp;<span class="ident" id="907821">i</span>&nbsp;<span class="op" id="907823">:=</span>&nbsp;<span class="num" id="907826">0</span><span class="op" id="907827">;</span>&nbsp;<span class="ident" id="907829"><a href="/runtime/malloc_test.go.html#907821">i</a></span>&nbsp;<span class="op" id="907831">&lt;</span>&nbsp;<span class="ident" id="907833"><a href="/runtime/malloc_test.go.html#907785">b</a></span><span class="op" id="907834">.</span><span class="ident" id="907835">N</span><span class="op" id="907836">;</span>&nbsp;<span class="ident" id="907838"><a href="/runtime/malloc_test.go.html#907821">i</a></span><span class="op" id="907839">++</span>&nbsp;<span class="op" id="907842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907846">p</span>&nbsp;<span class="op" id="907848">:=</span>&nbsp;<span class="builtinfunc" id="907851">new</span><span class="op" id="907854">(</span><span class="keyword" id="907855">struct</span>&nbsp;<span class="op" id="907862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907867">p</span>&nbsp;<span class="op" id="907869">[</span><span class="num" id="907870">16</span>&nbsp;<span class="op" id="907873">/</span>&nbsp;<span class="ident" id="907875"><a href="/runtime/malloc_test.go.html#905659">unsafe</a></span><span class="op" id="907881">.</span><span class="ident" id="907882">Sizeof</span><span class="op" id="907888">(</span><span class="builtintype" id="907889">uintptr</span><span class="op" id="907896">(</span><span class="num" id="907897">0</span><span class="op" id="907898">)</span><span class="op" id="907899">)</span><span class="op" id="907900">]</span><span class="op" id="907901">*</span><span class="builtintype" id="907902">int</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="907908">}</span><span class="op" id="907909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907913"><a href="/runtime/malloc_test.go.html#907806">x</a></span>&nbsp;<span class="op" id="907915">^=</span>&nbsp;<span class="builtintype" id="907918">uintptr</span><span class="op" id="907925">(</span><span class="ident" id="907926"><a href="/runtime/malloc_test.go.html#905659">unsafe</a></span><span class="op" id="907932">.</span><span class="ident" id="907933">Pointer</span><span class="op" id="907940">(</span><span class="ident" id="907941"><a href="/runtime/malloc_test.go.html#907846">p</a></span><span class="op" id="907942">)</span><span class="op" id="907943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="907946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907949"><a href="/runtime/malloc_test.go.html#907209">mallocSink</a></span>&nbsp;<span class="op" id="907960">=</span>&nbsp;<span class="ident" id="907962"><a href="/runtime/malloc_test.go.html#907806">x</a></span><br>
<span class="lineno"></span><span class="op" id="907964">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="907967">type</span>&nbsp;<span class="ident" id="907972">LargeStruct</span>&nbsp;<span class="keyword" id="907984">struct</span>&nbsp;<span class="op" id="907991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="907994">x</span>&nbsp;<span class="op" id="907996">[</span><span class="num" id="907997">16</span><span class="op" id="907999">]</span><span class="op" id="908000">[</span><span class="op" id="908001">]</span><span class="builtintype" id="908002">byte</span><br>
<span class="lineno"></span><span class="op" id="908007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="908010">func</span>&nbsp;<span class="ident" id="908015">BenchmarkMallocLargeStruct</span><span class="op" id="908041">(</span><span class="ident" id="908042">b</span>&nbsp;<span class="op" id="908044">*</span><span class="ident" id="908045"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="908052">.</span><span class="ident" id="908053">B</span><span class="op" id="908054">)</span>&nbsp;<span class="op" id="908056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908059">var</span>&nbsp;<span class="ident" id="908063">x</span>&nbsp;<span class="builtintype" id="908065">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908074">for</span>&nbsp;<span class="ident" id="908078">i</span>&nbsp;<span class="op" id="908080">:=</span>&nbsp;<span class="num" id="908083">0</span><span class="op" id="908084">;</span>&nbsp;<span class="ident" id="908086"><a href="/runtime/malloc_test.go.html#908078">i</a></span>&nbsp;<span class="op" id="908088">&lt;</span>&nbsp;<span class="ident" id="908090"><a href="/runtime/malloc_test.go.html#908042">b</a></span><span class="op" id="908091">.</span><span class="ident" id="908092">N</span><span class="op" id="908093">;</span>&nbsp;<span class="ident" id="908095"><a href="/runtime/malloc_test.go.html#908078">i</a></span><span class="op" id="908096">++</span>&nbsp;<span class="op" id="908099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908103">p</span>&nbsp;<span class="op" id="908105">:=</span>&nbsp;<span class="builtinfunc" id="908108">make</span><span class="op" id="908112">(</span><span class="op" id="908113">[</span><span class="op" id="908114">]</span><span class="ident" id="908115"><a href="/runtime/malloc_test.go.html#907972">LargeStruct</a></span><span class="op" id="908126">,</span>&nbsp;<span class="num" id="908128">2</span><span class="op" id="908129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908133"><a href="/runtime/malloc_test.go.html#908063">x</a></span>&nbsp;<span class="op" id="908135">^=</span>&nbsp;<span class="builtintype" id="908138">uintptr</span><span class="op" id="908145">(</span><span class="ident" id="908146"><a href="/runtime/malloc_test.go.html#905659">unsafe</a></span><span class="op" id="908152">.</span><span class="ident" id="908153">Pointer</span><span class="op" id="908160">(</span><span class="op" id="908161">&amp;</span><span class="ident" id="908162"><a href="/runtime/malloc_test.go.html#908103">p</a></span><span class="op" id="908163">[</span><span class="num" id="908164">0</span><span class="op" id="908165">]</span><span class="op" id="908166">)</span><span class="op" id="908167">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908173"><a href="/runtime/malloc_test.go.html#907209">mallocSink</a></span>&nbsp;<span class="op" id="908184">=</span>&nbsp;<span class="ident" id="908186"><a href="/runtime/malloc_test.go.html#908063">x</a></span><br>
<span class="lineno"></span><span class="op" id="908188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="908191">var</span>&nbsp;<span class="ident" id="908195">n</span>&nbsp;<span class="op" id="908197">=</span>&nbsp;<span class="ident" id="908199"><a href="/runtime/malloc_test.go.html#905619">flag</a></span><span class="op" id="908203">.</span><span class="ident" id="908204">Int</span><span class="op" id="908207">(</span><span class="string" id="908208">&#34;n&#34;</span><span class="op" id="908211">,</span>&nbsp;<span class="num" id="908213">1000</span><span class="op" id="908217">,</span>&nbsp;<span class="string" id="908219">&#34;number&nbsp;of&nbsp;goroutines&#34;</span><span class="op" id="908241">)</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="908244">func</span>&nbsp;<span class="ident" id="908249">BenchmarkGoroutineSelect</span><span class="op" id="908273">(</span><span class="ident" id="908274">b</span>&nbsp;<span class="op" id="908276">*</span><span class="ident" id="908277"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="908284">.</span><span class="ident" id="908285">B</span><span class="op" id="908286">)</span>&nbsp;<span class="op" id="908288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908291">quit</span>&nbsp;<span class="op" id="908296">:=</span>&nbsp;<span class="builtinfunc" id="908299">make</span><span class="op" id="908303">(</span><span class="keyword" id="908304">chan</span>&nbsp;<span class="keyword" id="908309">struct</span><span class="op" id="908315">{</span><span class="op" id="908316">}</span><span class="op" id="908317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908320">read</span>&nbsp;<span class="op" id="908325">:=</span>&nbsp;<span class="keyword" id="908328">func</span><span class="op" id="908332">(</span><span class="ident" id="908333">ch</span>&nbsp;<span class="keyword" id="908336">chan</span>&nbsp;<span class="keyword" id="908341">struct</span><span class="op" id="908347">{</span><span class="op" id="908348">}</span><span class="op" id="908349">)</span>&nbsp;<span class="op" id="908351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908355">for</span>&nbsp;<span class="op" id="908359">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908364">select</span>&nbsp;<span class="op" id="908371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908376">case</span>&nbsp;<span class="ident" id="908381">_</span><span class="op" id="908382">,</span>&nbsp;<span class="ident" id="908384">ok</span>&nbsp;<span class="op" id="908387">:=</span>&nbsp;<span class="op" id="908390">&lt;-</span><span class="ident" id="908392"><a href="/runtime/malloc_test.go.html#908333">ch</a></span><span class="op" id="908394">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908400">if</span>&nbsp;<span class="op" id="908403">!</span><span class="ident" id="908404"><a href="/runtime/malloc_test.go.html#908384">ok</a></span>&nbsp;<span class="op" id="908407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908414">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908425">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908430">case</span>&nbsp;<span class="op" id="908435">&lt;-</span><span class="ident" id="908437"><a href="/runtime/malloc_test.go.html#908291">quit</a></span><span class="op" id="908441">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908447">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908464">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908467"><a href="/runtime/malloc_test.go.html#908804">benchHelper</a></span><span class="op" id="908478">(</span><span class="ident" id="908479"><a href="/runtime/malloc_test.go.html#908274">b</a></span><span class="op" id="908480">,</span>&nbsp;<span class="op" id="908482">*</span><span class="ident" id="908483"><a href="/runtime/malloc_test.go.html#908195">n</a></span><span class="op" id="908484">,</span>&nbsp;<span class="ident" id="908486"><a href="/runtime/malloc_test.go.html#908320">read</a></span><span class="op" id="908490">)</span><br>
<span class="lineno"></span><span class="op" id="908492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="908495">func</span>&nbsp;<span class="ident" id="908500">BenchmarkGoroutineBlocking</span><span class="op" id="908526">(</span><span class="ident" id="908527">b</span>&nbsp;<span class="op" id="908529">*</span><span class="ident" id="908530"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="908537">.</span><span class="ident" id="908538">B</span><span class="op" id="908539">)</span>&nbsp;<span class="op" id="908541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908544">read</span>&nbsp;<span class="op" id="908549">:=</span>&nbsp;<span class="keyword" id="908552">func</span><span class="op" id="908556">(</span><span class="ident" id="908557">ch</span>&nbsp;<span class="keyword" id="908560">chan</span>&nbsp;<span class="keyword" id="908565">struct</span><span class="op" id="908571">{</span><span class="op" id="908572">}</span><span class="op" id="908573">)</span>&nbsp;<span class="op" id="908575">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908579">for</span>&nbsp;<span class="op" id="908583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908588">if</span>&nbsp;<span class="ident" id="908591">_</span><span class="op" id="908592">,</span>&nbsp;<span class="ident" id="908594">ok</span>&nbsp;<span class="op" id="908597">:=</span>&nbsp;<span class="op" id="908600">&lt;-</span><span class="ident" id="908602"><a href="/runtime/malloc_test.go.html#908557">ch</a></span><span class="op" id="908604">;</span>&nbsp;<span class="op" id="908606">!</span><span class="ident" id="908607"><a href="/runtime/malloc_test.go.html#908594">ok</a></span>&nbsp;<span class="op" id="908610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908616">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908630">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908636"><a href="/runtime/malloc_test.go.html#908804">benchHelper</a></span><span class="op" id="908647">(</span><span class="ident" id="908648"><a href="/runtime/malloc_test.go.html#908527">b</a></span><span class="op" id="908649">,</span>&nbsp;<span class="op" id="908651">*</span><span class="ident" id="908652"><a href="/runtime/malloc_test.go.html#908195">n</a></span><span class="op" id="908653">,</span>&nbsp;<span class="ident" id="908655"><a href="/runtime/malloc_test.go.html#908544">read</a></span><span class="op" id="908659">)</span><br>
<span class="lineno"></span><span class="op" id="908661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="908664">func</span>&nbsp;<span class="ident" id="908669">BenchmarkGoroutineForRange</span><span class="op" id="908695">(</span><span class="ident" id="908696">b</span>&nbsp;<span class="op" id="908698">*</span><span class="ident" id="908699"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="908706">.</span><span class="ident" id="908707">B</span><span class="op" id="908708">)</span>&nbsp;<span class="op" id="908710">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908713">read</span>&nbsp;<span class="op" id="908718">:=</span>&nbsp;<span class="keyword" id="908721">func</span><span class="op" id="908725">(</span><span class="ident" id="908726">ch</span>&nbsp;<span class="keyword" id="908729">chan</span>&nbsp;<span class="keyword" id="908734">struct</span><span class="op" id="908740">{</span><span class="op" id="908741">}</span><span class="op" id="908742">)</span>&nbsp;<span class="op" id="908744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908748">for</span>&nbsp;<span class="keyword" id="908752">range</span>&nbsp;<span class="ident" id="908758"><a href="/runtime/malloc_test.go.html#908726">ch</a></span>&nbsp;<span class="op" id="908761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908771"><a href="/runtime/malloc_test.go.html#908804">benchHelper</a></span><span class="op" id="908782">(</span><span class="ident" id="908783"><a href="/runtime/malloc_test.go.html#908696">b</a></span><span class="op" id="908784">,</span>&nbsp;<span class="op" id="908786">*</span><span class="ident" id="908787"><a href="/runtime/malloc_test.go.html#908195">n</a></span><span class="op" id="908788">,</span>&nbsp;<span class="ident" id="908790"><a href="/runtime/malloc_test.go.html#908713">read</a></span><span class="op" id="908794">)</span><br>
<span class="lineno">140</span><span class="op" id="908796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="908799">func</span>&nbsp;<span class="ident" id="908804">benchHelper</span><span class="op" id="908815">(</span><span class="ident" id="908816">b</span>&nbsp;<span class="op" id="908818">*</span><span class="ident" id="908819"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="908826">.</span><span class="ident" id="908827">B</span><span class="op" id="908828">,</span>&nbsp;<span class="ident" id="908830">n</span>&nbsp;<span class="builtintype" id="908832">int</span><span class="op" id="908835">,</span>&nbsp;<span class="ident" id="908837">read</span>&nbsp;<span class="keyword" id="908842">func</span><span class="op" id="908846">(</span><span class="keyword" id="908847">chan</span>&nbsp;<span class="keyword" id="908852">struct</span><span class="op" id="908858">{</span><span class="op" id="908859">}</span><span class="op" id="908860">)</span><span class="op" id="908861">)</span>&nbsp;<span class="op" id="908863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908866">m</span>&nbsp;<span class="op" id="908868">:=</span>&nbsp;<span class="builtinfunc" id="908871">make</span><span class="op" id="908875">(</span><span class="op" id="908876">[</span><span class="op" id="908877">]</span><span class="keyword" id="908878">chan</span>&nbsp;<span class="keyword" id="908883">struct</span><span class="op" id="908889">{</span><span class="op" id="908890">}</span><span class="op" id="908891">,</span>&nbsp;<span class="ident" id="908893"><a href="/runtime/malloc_test.go.html#908830">n</a></span><span class="op" id="908894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908897">for</span>&nbsp;<span class="ident" id="908901">i</span>&nbsp;<span class="op" id="908903">:=</span>&nbsp;<span class="keyword" id="908906">range</span>&nbsp;<span class="ident" id="908912"><a href="/runtime/malloc_test.go.html#908866">m</a></span>&nbsp;<span class="op" id="908914">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908918"><a href="/runtime/malloc_test.go.html#908866">m</a></span><span class="op" id="908919">[</span><span class="ident" id="908920"><a href="/runtime/malloc_test.go.html#908901">i</a></span><span class="op" id="908921">]</span>&nbsp;<span class="op" id="908923">=</span>&nbsp;<span class="builtinfunc" id="908925">make</span><span class="op" id="908929">(</span><span class="keyword" id="908930">chan</span>&nbsp;<span class="keyword" id="908935">struct</span><span class="op" id="908941">{</span><span class="op" id="908942">}</span><span class="op" id="908943">,</span>&nbsp;<span class="num" id="908945">1</span><span class="op" id="908946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="908950">go</span>&nbsp;<span class="ident" id="908953"><a href="/runtime/malloc_test.go.html#908837">read</a></span><span class="op" id="908957">(</span><span class="ident" id="908958"><a href="/runtime/malloc_test.go.html#908866">m</a></span><span class="op" id="908959">[</span><span class="ident" id="908960"><a href="/runtime/malloc_test.go.html#908901">i</a></span><span class="op" id="908961">]</span><span class="op" id="908962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="908965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908968"><a href="/runtime/malloc_test.go.html#908816">b</a></span><span class="op" id="908969">.</span><span class="ident" id="908970">StopTimer</span><span class="op" id="908979">(</span><span class="op" id="908980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908983"><a href="/runtime/malloc_test.go.html#908816">b</a></span><span class="op" id="908984">.</span><span class="ident" id="908985">ResetTimer</span><span class="op" id="908995">(</span><span class="op" id="908996">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="908999"><a href="/runtime/malloc.go.html#1995371">GC</a></span><span class="op" id="909001">(</span><span class="op" id="909002">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="909006">for</span>&nbsp;<span class="ident" id="909010">i</span>&nbsp;<span class="op" id="909012">:=</span>&nbsp;<span class="num" id="909015">0</span><span class="op" id="909016">;</span>&nbsp;<span class="ident" id="909018"><a href="/runtime/malloc_test.go.html#909010">i</a></span>&nbsp;<span class="op" id="909020">&lt;</span>&nbsp;<span class="ident" id="909022"><a href="/runtime/malloc_test.go.html#908816">b</a></span><span class="op" id="909023">.</span><span class="ident" id="909024">N</span><span class="op" id="909025">;</span>&nbsp;<span class="ident" id="909027"><a href="/runtime/malloc_test.go.html#909010">i</a></span><span class="op" id="909028">++</span>&nbsp;<span class="op" id="909031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="909035">for</span>&nbsp;<span class="ident" id="909039">_</span><span class="op" id="909040">,</span>&nbsp;<span class="ident" id="909042">ch</span>&nbsp;<span class="op" id="909045">:=</span>&nbsp;<span class="keyword" id="909048">range</span>&nbsp;<span class="ident" id="909054"><a href="/runtime/malloc_test.go.html#908866">m</a></span>&nbsp;<span class="op" id="909056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="909061">if</span>&nbsp;<span class="ident" id="909064"><a href="/runtime/malloc_test.go.html#909042">ch</a></span>&nbsp;<span class="op" id="909067">!=</span>&nbsp;<span class="ident" id="909070">nil</span>&nbsp;<span class="op" id="909074">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909080"><a href="/runtime/malloc_test.go.html#909042">ch</a></span>&nbsp;<span class="op" id="909083">&lt;-</span>&nbsp;<span class="keyword" id="909086">struct</span><span class="op" id="909092">{</span><span class="op" id="909093">}</span><span class="op" id="909094">{</span><span class="op" id="909095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="909100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="909104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909108"><a href="/runtime/malloc_test.go.html#905651">time</a></span><span class="op" id="909112">.</span><span class="ident" id="909113">Sleep</span><span class="op" id="909118">(</span><span class="num" id="909119">10</span>&nbsp;<span class="op" id="909122">*</span>&nbsp;<span class="ident" id="909124"><a href="/runtime/malloc_test.go.html#905651">time</a></span><span class="op" id="909128">.</span><span class="ident" id="909129">Millisecond</span><span class="op" id="909140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909144"><a href="/runtime/malloc_test.go.html#908816">b</a></span><span class="op" id="909145">.</span><span class="ident" id="909146">StartTimer</span><span class="op" id="909156">(</span><span class="op" id="909157">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909161"><a href="/runtime/malloc.go.html#1995371">GC</a></span><span class="op" id="909163">(</span><span class="op" id="909164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909168"><a href="/runtime/malloc_test.go.html#908816">b</a></span><span class="op" id="909169">.</span><span class="ident" id="909170">StopTimer</span><span class="op" id="909179">(</span><span class="op" id="909180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="909183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="909187">for</span>&nbsp;<span class="ident" id="909191">_</span><span class="op" id="909192">,</span>&nbsp;<span class="ident" id="909194">ch</span>&nbsp;<span class="op" id="909197">:=</span>&nbsp;<span class="keyword" id="909200">range</span>&nbsp;<span class="ident" id="909206"><a href="/runtime/malloc_test.go.html#908866">m</a></span>&nbsp;<span class="op" id="909208">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="909212">close</span><span class="op" id="909217">(</span><span class="ident" id="909218"><a href="/runtime/malloc_test.go.html#909194">ch</a></span><span class="op" id="909220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="909223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909226"><a href="/runtime/malloc_test.go.html#905651">time</a></span><span class="op" id="909230">.</span><span class="ident" id="909231">Sleep</span><span class="op" id="909236">(</span><span class="num" id="909237">10</span>&nbsp;<span class="op" id="909240">*</span>&nbsp;<span class="ident" id="909242"><a href="/runtime/malloc_test.go.html#905651">time</a></span><span class="op" id="909246">.</span><span class="ident" id="909247">Millisecond</span><span class="op" id="909258">)</span><br>
<span class="lineno"></span><span class="op" id="909260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="909263">func</span>&nbsp;<span class="ident" id="909268">BenchmarkGoroutineIdle</span><span class="op" id="909290">(</span><span class="ident" id="909291">b</span>&nbsp;<span class="op" id="909293">*</span><span class="ident" id="909294"><a href="/runtime/malloc_test.go.html#905640">testing</a></span><span class="op" id="909301">.</span><span class="ident" id="909302">B</span><span class="op" id="909303">)</span>&nbsp;<span class="op" id="909305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909308">quit</span>&nbsp;<span class="op" id="909313">:=</span>&nbsp;<span class="builtinfunc" id="909316">make</span><span class="op" id="909320">(</span><span class="keyword" id="909321">chan</span>&nbsp;<span class="keyword" id="909326">struct</span><span class="op" id="909332">{</span><span class="op" id="909333">}</span><span class="op" id="909334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909337">fn</span>&nbsp;<span class="op" id="909340">:=</span>&nbsp;<span class="keyword" id="909343">func</span><span class="op" id="909347">(</span><span class="op" id="909348">)</span>&nbsp;<span class="op" id="909350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="909354">&lt;-</span><span class="ident" id="909356"><a href="/runtime/malloc_test.go.html#909308">quit</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="909362">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="909365">for</span>&nbsp;<span class="ident" id="909369">i</span>&nbsp;<span class="op" id="909371">:=</span>&nbsp;<span class="num" id="909374">0</span><span class="op" id="909375">;</span>&nbsp;<span class="ident" id="909377"><a href="/runtime/malloc_test.go.html#909369">i</a></span>&nbsp;<span class="op" id="909379">&lt;</span>&nbsp;<span class="op" id="909381">*</span><span class="ident" id="909382"><a href="/runtime/malloc_test.go.html#908195">n</a></span><span class="op" id="909383">;</span>&nbsp;<span class="ident" id="909385"><a href="/runtime/malloc_test.go.html#909369">i</a></span><span class="op" id="909386">++</span>&nbsp;<span class="op" id="909389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="909393">go</span>&nbsp;<span class="ident" id="909396"><a href="/runtime/malloc_test.go.html#909337">fn</a></span><span class="op" id="909398">(</span><span class="op" id="909399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="909402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909406"><a href="/runtime/malloc.go.html#1995371">GC</a></span><span class="op" id="909408">(</span><span class="op" id="909409">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909412"><a href="/runtime/malloc_test.go.html#909291">b</a></span><span class="op" id="909413">.</span><span class="ident" id="909414">ResetTimer</span><span class="op" id="909424">(</span><span class="op" id="909425">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="909429">for</span>&nbsp;<span class="ident" id="909433">i</span>&nbsp;<span class="op" id="909435">:=</span>&nbsp;<span class="num" id="909438">0</span><span class="op" id="909439">;</span>&nbsp;<span class="ident" id="909441"><a href="/runtime/malloc_test.go.html#909433">i</a></span>&nbsp;<span class="op" id="909443">&lt;</span>&nbsp;<span class="ident" id="909445"><a href="/runtime/malloc_test.go.html#909291">b</a></span><span class="op" id="909446">.</span><span class="ident" id="909447">N</span><span class="op" id="909448">;</span>&nbsp;<span class="ident" id="909450"><a href="/runtime/malloc_test.go.html#909433">i</a></span><span class="op" id="909451">++</span>&nbsp;<span class="op" id="909454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909458"><a href="/runtime/malloc.go.html#1995371">GC</a></span><span class="op" id="909460">(</span><span class="op" id="909461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="909464">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909468"><a href="/runtime/malloc_test.go.html#909291">b</a></span><span class="op" id="909469">.</span><span class="ident" id="909470">StopTimer</span><span class="op" id="909479">(</span><span class="op" id="909480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="909483">close</span><span class="op" id="909488">(</span><span class="ident" id="909489"><a href="/runtime/malloc_test.go.html#909308">quit</a></span><span class="op" id="909493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="909496"><a href="/runtime/malloc_test.go.html#905651">time</a></span><span class="op" id="909500">.</span><span class="ident" id="909501">Sleep</span><span class="op" id="909506">(</span><span class="num" id="909507">10</span>&nbsp;<span class="op" id="909510">*</span>&nbsp;<span class="ident" id="909512"><a href="/runtime/malloc_test.go.html#905651">time</a></span><span class="op" id="909516">.</span><span class="ident" id="909517">Millisecond</span><span class="op" id="909528">)</span><br>
<span class="lineno"></span><span class="op" id="909530">}</span>
</div>
</body>
</html>
