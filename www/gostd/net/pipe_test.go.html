<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html" class="current">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6748959">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6749015">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6749069">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6749120">package</span>&nbsp;<span class="ident" id="6749128">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6749133">import</span>&nbsp;<span class="op" id="6749140">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6749143">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6749152">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6749158">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6749168">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6749171">func</span>&nbsp;<span class="ident" id="6749176">checkWrite</span><span class="op" id="6749186">(</span><span class="ident" id="6749187">t</span>&nbsp;<span class="op" id="6749189">*</span><span class="ident" id="6749190">testing</span><span class="op" id="6749197">.</span><span class="ident" id="6749198">T</span><span class="op" id="6749199">,</span>&nbsp;<span class="ident" id="6749201">w</span>&nbsp;<span class="ident" id="6749203">io</span><span class="op" id="6749205">.</span><span class="ident" id="6749206">Writer</span><span class="op" id="6749212">,</span>&nbsp;<span class="ident" id="6749214">data</span>&nbsp;<span class="op" id="6749219">[</span><span class="op" id="6749220">]</span><span class="builtintype" id="6749221">byte</span><span class="op" id="6749225">,</span>&nbsp;<span class="ident" id="6749227">c</span>&nbsp;<span class="keyword" id="6749229">chan</span>&nbsp;<span class="builtintype" id="6749234">int</span><span class="op" id="6749237">)</span>&nbsp;<span class="op" id="6749239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749242">n</span><span class="op" id="6749243">,</span>&nbsp;<span class="ident" id="6749245">err</span>&nbsp;<span class="op" id="6749249">:=</span>&nbsp;<span class="ident" id="6749252">w</span><span class="op" id="6749253">.</span><span class="ident" id="6749254">Write</span><span class="op" id="6749259">(</span><span class="ident" id="6749260">data</span><span class="op" id="6749264">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749267">if</span>&nbsp;<span class="ident" id="6749270">err</span>&nbsp;<span class="op" id="6749274">!=</span>&nbsp;<span class="builtintype" id="6749277">nil</span>&nbsp;<span class="op" id="6749281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749285">t</span><span class="op" id="6749286">.</span><span class="ident" id="6749287">Errorf</span><span class="op" id="6749293">(</span><span class="string" id="6749294">&#34;write:&nbsp;%v&#34;</span><span class="op" id="6749305">,</span>&nbsp;<span class="ident" id="6749307">err</span><span class="op" id="6749310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749316">if</span>&nbsp;<span class="ident" id="6749319">n</span>&nbsp;<span class="op" id="6749321">!=</span>&nbsp;<span class="builtinfunc" id="6749324">len</span><span class="op" id="6749327">(</span><span class="ident" id="6749328">data</span><span class="op" id="6749332">)</span>&nbsp;<span class="op" id="6749334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749338">t</span><span class="op" id="6749339">.</span><span class="ident" id="6749340">Errorf</span><span class="op" id="6749346">(</span><span class="string" id="6749347">&#34;short&nbsp;write:&nbsp;%d&nbsp;!=&nbsp;%d&#34;</span><span class="op" id="6749370">,</span>&nbsp;<span class="ident" id="6749372">n</span><span class="op" id="6749373">,</span>&nbsp;<span class="builtinfunc" id="6749375">len</span><span class="op" id="6749378">(</span><span class="ident" id="6749379">data</span><span class="op" id="6749383">)</span><span class="op" id="6749384">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749390">c</span>&nbsp;<span class="op" id="6749392">&lt;-</span>&nbsp;<span class="num" id="6749395">0</span><br>
<span class="lineno"></span><span class="op" id="6749397">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6749400">func</span>&nbsp;<span class="ident" id="6749405">checkRead</span><span class="op" id="6749414">(</span><span class="ident" id="6749415">t</span>&nbsp;<span class="op" id="6749417">*</span><span class="ident" id="6749418">testing</span><span class="op" id="6749425">.</span><span class="ident" id="6749426">T</span><span class="op" id="6749427">,</span>&nbsp;<span class="ident" id="6749429">r</span>&nbsp;<span class="ident" id="6749431">io</span><span class="op" id="6749433">.</span><span class="ident" id="6749434">Reader</span><span class="op" id="6749440">,</span>&nbsp;<span class="ident" id="6749442">data</span>&nbsp;<span class="op" id="6749447">[</span><span class="op" id="6749448">]</span><span class="builtintype" id="6749449">byte</span><span class="op" id="6749453">,</span>&nbsp;<span class="ident" id="6749455">wantErr</span>&nbsp;<span class="builtintype" id="6749463">error</span><span class="op" id="6749468">)</span>&nbsp;<span class="op" id="6749470">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749473">buf</span>&nbsp;<span class="op" id="6749477">:=</span>&nbsp;<span class="builtinfunc" id="6749480">make</span><span class="op" id="6749484">(</span><span class="op" id="6749485">[</span><span class="op" id="6749486">]</span><span class="builtintype" id="6749487">byte</span><span class="op" id="6749491">,</span>&nbsp;<span class="builtinfunc" id="6749493">len</span><span class="op" id="6749496">(</span><span class="ident" id="6749497">data</span><span class="op" id="6749501">)</span><span class="op" id="6749502">+</span><span class="num" id="6749503">10</span><span class="op" id="6749505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749508">n</span><span class="op" id="6749509">,</span>&nbsp;<span class="ident" id="6749511">err</span>&nbsp;<span class="op" id="6749515">:=</span>&nbsp;<span class="ident" id="6749518">r</span><span class="op" id="6749519">.</span><span class="ident" id="6749520">Read</span><span class="op" id="6749524">(</span><span class="ident" id="6749525">buf</span><span class="op" id="6749528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749531">if</span>&nbsp;<span class="ident" id="6749534">err</span>&nbsp;<span class="op" id="6749538">!=</span>&nbsp;<span class="ident" id="6749541">wantErr</span>&nbsp;<span class="op" id="6749549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749553">t</span><span class="op" id="6749554">.</span><span class="ident" id="6749555">Errorf</span><span class="op" id="6749561">(</span><span class="string" id="6749562">&#34;read:&nbsp;%v&#34;</span><span class="op" id="6749572">,</span>&nbsp;<span class="ident" id="6749574">err</span><span class="op" id="6749577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749581">return</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749592">if</span>&nbsp;<span class="ident" id="6749595">n</span>&nbsp;<span class="op" id="6749597">!=</span>&nbsp;<span class="builtinfunc" id="6749600">len</span><span class="op" id="6749603">(</span><span class="ident" id="6749604">data</span><span class="op" id="6749608">)</span>&nbsp;<span class="op" id="6749610">||</span>&nbsp;<span class="op" id="6749613">!</span><span class="ident" id="6749614">bytes</span><span class="op" id="6749619">.</span><span class="ident" id="6749620">Equal</span><span class="op" id="6749625">(</span><span class="ident" id="6749626">buf</span><span class="op" id="6749629">[</span><span class="num" id="6749630">0</span><span class="op" id="6749631">:</span><span class="ident" id="6749632">n</span><span class="op" id="6749633">]</span><span class="op" id="6749634">,</span>&nbsp;<span class="ident" id="6749636">data</span><span class="op" id="6749640">)</span>&nbsp;<span class="op" id="6749642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749646">t</span><span class="op" id="6749647">.</span><span class="ident" id="6749648">Errorf</span><span class="op" id="6749654">(</span><span class="string" id="6749655">&#34;bad&nbsp;read:&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6749673">,</span>&nbsp;<span class="ident" id="6749675">buf</span><span class="op" id="6749678">[</span><span class="num" id="6749679">0</span><span class="op" id="6749680">:</span><span class="ident" id="6749681">n</span><span class="op" id="6749682">]</span><span class="op" id="6749683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749687">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6749695">}</span><br>
<span class="lineno">35</span><span class="op" id="6749697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6749700">//&nbsp;Test&nbsp;a&nbsp;simple&nbsp;read/write/close&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="6749744">//&nbsp;Assumes&nbsp;that&nbsp;the&nbsp;underlying&nbsp;io.Pipe&nbsp;implementation</span><br>
<span class="lineno"></span><span class="comment" id="6749798">//&nbsp;is&nbsp;solid&nbsp;and&nbsp;we&#39;re&nbsp;just&nbsp;testing&nbsp;the&nbsp;net&nbsp;wrapping.</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="6749852">func</span>&nbsp;<span class="ident" id="6749857">TestPipe</span><span class="op" id="6749865">(</span><span class="ident" id="6749866">t</span>&nbsp;<span class="op" id="6749868">*</span><span class="ident" id="6749869">testing</span><span class="op" id="6749876">.</span><span class="ident" id="6749877">T</span><span class="op" id="6749878">)</span>&nbsp;<span class="op" id="6749880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749883">c</span>&nbsp;<span class="op" id="6749885">:=</span>&nbsp;<span class="builtinfunc" id="6749888">make</span><span class="op" id="6749892">(</span><span class="keyword" id="6749893">chan</span>&nbsp;<span class="builtintype" id="6749898">int</span><span class="op" id="6749901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749904">cli</span><span class="op" id="6749907">,</span>&nbsp;<span class="ident" id="6749909">srv</span>&nbsp;<span class="op" id="6749913">:=</span>&nbsp;<span class="ident" id="6749916">Pipe</span><span class="op" id="6749920">(</span><span class="op" id="6749921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6749924">go</span>&nbsp;<span class="ident" id="6749927">checkWrite</span><span class="op" id="6749937">(</span><span class="ident" id="6749938">t</span><span class="op" id="6749939">,</span>&nbsp;<span class="ident" id="6749941">cli</span><span class="op" id="6749944">,</span>&nbsp;<span class="op" id="6749946">[</span><span class="op" id="6749947">]</span><span class="builtintype" id="6749948">byte</span><span class="op" id="6749952">(</span><span class="string" id="6749953">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6749967">)</span><span class="op" id="6749968">,</span>&nbsp;<span class="ident" id="6749970">c</span><span class="op" id="6749971">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6749974">checkRead</span><span class="op" id="6749983">(</span><span class="ident" id="6749984">t</span><span class="op" id="6749985">,</span>&nbsp;<span class="ident" id="6749987">srv</span><span class="op" id="6749990">,</span>&nbsp;<span class="op" id="6749992">[</span><span class="op" id="6749993">]</span><span class="builtintype" id="6749994">byte</span><span class="op" id="6749998">(</span><span class="string" id="6749999">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6750013">)</span><span class="op" id="6750014">,</span>&nbsp;<span class="builtintype" id="6750016">nil</span><span class="op" id="6750019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750022">&lt;-</span><span class="ident" id="6750024">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6750027">go</span>&nbsp;<span class="ident" id="6750030">checkWrite</span><span class="op" id="6750040">(</span><span class="ident" id="6750041">t</span><span class="op" id="6750042">,</span>&nbsp;<span class="ident" id="6750044">srv</span><span class="op" id="6750047">,</span>&nbsp;<span class="op" id="6750049">[</span><span class="op" id="6750050">]</span><span class="builtintype" id="6750051">byte</span><span class="op" id="6750055">(</span><span class="string" id="6750056">&#34;line&nbsp;2&#34;</span><span class="op" id="6750064">)</span><span class="op" id="6750065">,</span>&nbsp;<span class="ident" id="6750067">c</span><span class="op" id="6750068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6750071">checkRead</span><span class="op" id="6750080">(</span><span class="ident" id="6750081">t</span><span class="op" id="6750082">,</span>&nbsp;<span class="ident" id="6750084">cli</span><span class="op" id="6750087">,</span>&nbsp;<span class="op" id="6750089">[</span><span class="op" id="6750090">]</span><span class="builtintype" id="6750091">byte</span><span class="op" id="6750095">(</span><span class="string" id="6750096">&#34;line&nbsp;2&#34;</span><span class="op" id="6750104">)</span><span class="op" id="6750105">,</span>&nbsp;<span class="builtintype" id="6750107">nil</span><span class="op" id="6750110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750113">&lt;-</span><span class="ident" id="6750115">c</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6750118">go</span>&nbsp;<span class="ident" id="6750121">checkWrite</span><span class="op" id="6750131">(</span><span class="ident" id="6750132">t</span><span class="op" id="6750133">,</span>&nbsp;<span class="ident" id="6750135">cli</span><span class="op" id="6750138">,</span>&nbsp;<span class="op" id="6750140">[</span><span class="op" id="6750141">]</span><span class="builtintype" id="6750142">byte</span><span class="op" id="6750146">(</span><span class="string" id="6750147">&#34;a&nbsp;third&nbsp;line&#34;</span><span class="op" id="6750161">)</span><span class="op" id="6750162">,</span>&nbsp;<span class="ident" id="6750164">c</span><span class="op" id="6750165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6750168">checkRead</span><span class="op" id="6750177">(</span><span class="ident" id="6750178">t</span><span class="op" id="6750179">,</span>&nbsp;<span class="ident" id="6750181">srv</span><span class="op" id="6750184">,</span>&nbsp;<span class="op" id="6750186">[</span><span class="op" id="6750187">]</span><span class="builtintype" id="6750188">byte</span><span class="op" id="6750192">(</span><span class="string" id="6750193">&#34;a&nbsp;third&nbsp;line&#34;</span><span class="op" id="6750207">)</span><span class="op" id="6750208">,</span>&nbsp;<span class="builtintype" id="6750210">nil</span><span class="op" id="6750213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750216">&lt;-</span><span class="ident" id="6750218">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6750221">go</span>&nbsp;<span class="ident" id="6750224">srv</span><span class="op" id="6750227">.</span><span class="ident" id="6750228">Close</span><span class="op" id="6750233">(</span><span class="op" id="6750234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6750237">checkRead</span><span class="op" id="6750246">(</span><span class="ident" id="6750247">t</span><span class="op" id="6750248">,</span>&nbsp;<span class="ident" id="6750250">cli</span><span class="op" id="6750253">,</span>&nbsp;<span class="builtintype" id="6750255">nil</span><span class="op" id="6750258">,</span>&nbsp;<span class="ident" id="6750260">io</span><span class="op" id="6750262">.</span><span class="ident" id="6750263">EOF</span><span class="op" id="6750266">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6750269">cli</span><span class="op" id="6750272">.</span><span class="ident" id="6750273">Close</span><span class="op" id="6750278">(</span><span class="op" id="6750279">)</span><br>
<span class="lineno"></span><span class="op" id="6750281">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
