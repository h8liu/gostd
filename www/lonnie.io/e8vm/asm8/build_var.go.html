<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5326063">package</span>&nbsp;<span class="ident" id="5326071">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5326077">import</span>&nbsp;<span class="op" id="5326084">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5326087">&#34;lonnie.io/e8vm/link8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5326110">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5326113">func</span>&nbsp;<span class="ident" id="5326118">varSize</span><span class="op" id="5326125">(</span><span class="ident" id="5326126">v</span>&nbsp;<span class="op" id="5326128">*</span><span class="ident" id="5326129"><a href="/lonnie.io/e8vm/asm8/var_decl.go.html#5359935">varDecl</a></span><span class="op" id="5326136">)</span>&nbsp;<span class="builtintype" id="5326138">int</span>&nbsp;<span class="op" id="5326142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326145">ret</span>&nbsp;<span class="op" id="5326149">:=</span>&nbsp;<span class="num" id="5326152">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326155">for</span>&nbsp;<span class="ident" id="5326159">_</span><span class="op" id="5326160">,</span>&nbsp;<span class="ident" id="5326162">stmt</span>&nbsp;<span class="op" id="5326167">:=</span>&nbsp;<span class="keyword" id="5326170">range</span>&nbsp;<span class="ident" id="5326176"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326126">v</a></span><span class="op" id="5326177">.</span><span class="ident" id="5326178">stmts</span>&nbsp;<span class="op" id="5326184">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326188"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326145">ret</a></span>&nbsp;<span class="op" id="5326192">+=</span>&nbsp;<span class="builtinfunc" id="5326195">len</span><span class="op" id="5326198">(</span><span class="ident" id="5326199"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326162">stmt</a></span><span class="op" id="5326203">.</span><span class="ident" id="5326204">data</span><span class="op" id="5326208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5326211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326215">return</span>&nbsp;<span class="ident" id="5326222"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326145">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5326226">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="5326229">func</span>&nbsp;<span class="ident" id="5326234">varAlign</span><span class="op" id="5326242">(</span><span class="ident" id="5326243">v</span>&nbsp;<span class="op" id="5326245">*</span><span class="ident" id="5326246"><a href="/lonnie.io/e8vm/asm8/var_decl.go.html#5359935">varDecl</a></span><span class="op" id="5326253">)</span>&nbsp;<span class="builtintype" id="5326255">uint32</span>&nbsp;<span class="op" id="5326262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326265">for</span>&nbsp;<span class="ident" id="5326269">_</span><span class="op" id="5326270">,</span>&nbsp;<span class="ident" id="5326272">stmt</span>&nbsp;<span class="op" id="5326277">:=</span>&nbsp;<span class="keyword" id="5326280">range</span>&nbsp;<span class="ident" id="5326286"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326243">v</a></span><span class="op" id="5326287">.</span><span class="ident" id="5326288">stmts</span>&nbsp;<span class="op" id="5326294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326298">if</span>&nbsp;<span class="ident" id="5326301"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326272">stmt</a></span><span class="op" id="5326305">.</span><span class="ident" id="5326306">align</span>&nbsp;<span class="op" id="5326312">==</span>&nbsp;<span class="num" id="5326315">4</span>&nbsp;<span class="op" id="5326317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326322">return</span>&nbsp;<span class="num" id="5326329">4</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5326333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5326336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326339">return</span>&nbsp;<span class="num" id="5326346">1</span><br>
<span class="lineno"></span><span class="op" id="5326348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="5326351">func</span>&nbsp;<span class="ident" id="5326356">buildVar</span><span class="op" id="5326364">(</span><span class="ident" id="5326365">b</span>&nbsp;<span class="op" id="5326367">*</span><span class="ident" id="5326368"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5326899">builder</a></span><span class="op" id="5326375">,</span>&nbsp;<span class="ident" id="5326377">v</span>&nbsp;<span class="op" id="5326379">*</span><span class="ident" id="5326380"><a href="/lonnie.io/e8vm/asm8/var_decl.go.html#5359935">varDecl</a></span><span class="op" id="5326387">)</span>&nbsp;<span class="op" id="5326389">*</span><span class="ident" id="5326390"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326087">link8</a></span><span class="op" id="5326395">.</span><span class="ident" id="5326396">Var</span>&nbsp;<span class="op" id="5326400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326403">if</span>&nbsp;<span class="ident" id="5326406"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326118">varSize</a></span><span class="op" id="5326413">(</span><span class="ident" id="5326414"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326377">v</a></span><span class="op" id="5326415">)</span>&nbsp;<span class="op" id="5326417">==</span>&nbsp;<span class="num" id="5326420">0</span>&nbsp;<span class="op" id="5326422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326426"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326365">b</a></span><span class="op" id="5326427">.</span><span class="ident" id="5326428">err</span><span class="op" id="5326431">(</span><span class="ident" id="5326432"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326377">v</a></span><span class="op" id="5326433">.</span><span class="ident" id="5326434">name</span><span class="op" id="5326438">.</span><span class="ident" id="5326439">Pos</span><span class="op" id="5326442">,</span>&nbsp;<span class="string" id="5326444">&#34;var&nbsp;%q&nbsp;has&nbsp;no&nbsp;data&#34;</span><span class="op" id="5326464">,</span>&nbsp;<span class="ident" id="5326466"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326377">v</a></span><span class="op" id="5326467">.</span><span class="ident" id="5326468">name</span><span class="op" id="5326472">.</span><span class="ident" id="5326473">Lit</span><span class="op" id="5326476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326480">return</span>&nbsp;<span class="ident" id="5326487">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5326492">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326496">ret</span>&nbsp;<span class="op" id="5326500">:=</span>&nbsp;<span class="ident" id="5326503"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326087">link8</a></span><span class="op" id="5326508">.</span><span class="ident" id="5326509">NewVar</span><span class="op" id="5326515">(</span><span class="ident" id="5326516"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326234">varAlign</a></span><span class="op" id="5326524">(</span><span class="ident" id="5326525"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326377">v</a></span><span class="op" id="5326526">)</span><span class="op" id="5326527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326530">for</span>&nbsp;<span class="ident" id="5326534">_</span><span class="op" id="5326535">,</span>&nbsp;<span class="ident" id="5326537">stmt</span>&nbsp;<span class="op" id="5326542">:=</span>&nbsp;<span class="keyword" id="5326545">range</span>&nbsp;<span class="ident" id="5326551"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326377">v</a></span><span class="op" id="5326552">.</span><span class="ident" id="5326553">stmts</span>&nbsp;<span class="op" id="5326559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326563">n</span>&nbsp;<span class="op" id="5326565">:=</span>&nbsp;<span class="ident" id="5326568"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326496">ret</a></span><span class="op" id="5326571">.</span><span class="ident" id="5326572">Size</span><span class="op" id="5326576">(</span><span class="op" id="5326577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326581">if</span>&nbsp;<span class="ident" id="5326584"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326537">stmt</a></span><span class="op" id="5326588">.</span><span class="ident" id="5326589">align</span>&nbsp;<span class="op" id="5326595">==</span>&nbsp;<span class="num" id="5326598">4</span>&nbsp;<span class="op" id="5326600">&amp;&amp;</span>&nbsp;<span class="ident" id="5326603"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326563">n</a></span><span class="op" id="5326604">%</span><span class="num" id="5326605">4</span>&nbsp;<span class="op" id="5326607">!=</span>&nbsp;<span class="num" id="5326610">0</span>&nbsp;<span class="op" id="5326612">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326617"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326496">ret</a></span><span class="op" id="5326620">.</span><span class="ident" id="5326621">Pad</span><span class="op" id="5326624">(</span><span class="num" id="5326625">4</span>&nbsp;<span class="op" id="5326627">-</span>&nbsp;<span class="ident" id="5326629"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326563">n</a></span><span class="op" id="5326630">%</span><span class="num" id="5326631">4</span><span class="op" id="5326632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5326636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326641"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326496">ret</a></span><span class="op" id="5326644">.</span><span class="ident" id="5326645">Write</span><span class="op" id="5326650">(</span><span class="ident" id="5326651"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326537">stmt</a></span><span class="op" id="5326655">.</span><span class="ident" id="5326656">data</span><span class="op" id="5326660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5326663">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326667">if</span>&nbsp;<span class="ident" id="5326670"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326496">ret</a></span><span class="op" id="5326673">.</span><span class="ident" id="5326674">TooLarge</span><span class="op" id="5326682">(</span><span class="op" id="5326683">)</span>&nbsp;<span class="op" id="5326685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326689"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326365">b</a></span><span class="op" id="5326690">.</span><span class="ident" id="5326691">err</span><span class="op" id="5326694">(</span><span class="ident" id="5326695"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326377">v</a></span><span class="op" id="5326696">.</span><span class="ident" id="5326697">name</span><span class="op" id="5326701">.</span><span class="ident" id="5326702">Pos</span><span class="op" id="5326705">,</span>&nbsp;<span class="string" id="5326707">&#34;var&nbsp;%q&nbsp;too&nbsp;large&#34;</span><span class="op" id="5326725">,</span>&nbsp;<span class="ident" id="5326727"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326377">v</a></span><span class="op" id="5326728">.</span><span class="ident" id="5326729">name</span><span class="op" id="5326733">.</span><span class="ident" id="5326734">Lit</span><span class="op" id="5326737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326741">return</span>&nbsp;<span class="ident" id="5326748">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5326753">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5326757">return</span>&nbsp;<span class="ident" id="5326764"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#5326496">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5326768">}</span>
</div>
</body>
</html>
