<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html" class="current">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8390684">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8390740">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8390794">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8390845">package</span>&nbsp;<span class="ident" id="8390853">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8390861">import</span>&nbsp;<span class="op" id="8390868">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8390871">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8390882">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8390899">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8390909">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8390912">var</span>&nbsp;<span class="ident" id="8390916">runeMergeTests</span>&nbsp;<span class="op" id="8390931">=</span>&nbsp;<span class="op" id="8390933">[</span><span class="op" id="8390934">]</span><span class="keyword" id="8390935">struct</span>&nbsp;<span class="op" id="8390942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8390945">left</span><span class="op" id="8390949">,</span>&nbsp;<span class="ident" id="8390951">right</span><span class="op" id="8390956">,</span>&nbsp;<span class="ident" id="8390958">merged</span>&nbsp;<span class="op" id="8390965">[</span><span class="op" id="8390966">]</span><span class="builtintype" id="8390967">rune</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8390973">next</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8390993">[</span><span class="op" id="8390994">]</span><span class="builtintype" id="8390995">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8391003">leftPC</span><span class="op" id="8391009">,</span>&nbsp;<span class="ident" id="8391011">rightPC</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8391023">uint32</span><br>
<span class="lineno"></span><span class="op" id="8391030">}</span><span class="op" id="8391031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8391038">//&nbsp;empty&nbsp;rhs</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391053">[</span><span class="op" id="8391054">]</span><span class="builtintype" id="8391055">rune</span><span class="op" id="8391059">{</span><span class="num" id="8391060">69</span><span class="op" id="8391062">,</span>&nbsp;<span class="num" id="8391064">69</span><span class="op" id="8391066">}</span><span class="op" id="8391067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391071">[</span><span class="op" id="8391072">]</span><span class="builtintype" id="8391073">rune</span><span class="op" id="8391077">{</span><span class="op" id="8391078">}</span><span class="op" id="8391079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391083">[</span><span class="op" id="8391084">]</span><span class="builtintype" id="8391085">rune</span><span class="op" id="8391089">{</span><span class="num" id="8391090">69</span><span class="op" id="8391092">,</span>&nbsp;<span class="num" id="8391094">69</span><span class="op" id="8391096">}</span><span class="op" id="8391097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391101">[</span><span class="op" id="8391102">]</span><span class="builtintype" id="8391103">uint32</span><span class="op" id="8391109">{</span><span class="num" id="8391110">1</span><span class="op" id="8391111">}</span><span class="op" id="8391112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8391116">1</span><span class="op" id="8391117">,</span>&nbsp;<span class="num" id="8391119">2</span><span class="op" id="8391120">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391123">}</span><span class="op" id="8391124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8391131">//&nbsp;identical&nbsp;runes,&nbsp;identical&nbsp;targets</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391171">[</span><span class="op" id="8391172">]</span><span class="builtintype" id="8391173">rune</span><span class="op" id="8391177">{</span><span class="num" id="8391178">69</span><span class="op" id="8391180">,</span>&nbsp;<span class="num" id="8391182">69</span><span class="op" id="8391184">}</span><span class="op" id="8391185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391189">[</span><span class="op" id="8391190">]</span><span class="builtintype" id="8391191">rune</span><span class="op" id="8391195">{</span><span class="num" id="8391196">69</span><span class="op" id="8391198">,</span>&nbsp;<span class="num" id="8391200">69</span><span class="op" id="8391202">}</span><span class="op" id="8391203">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391207">[</span><span class="op" id="8391208">]</span><span class="builtintype" id="8391209">rune</span><span class="op" id="8391213">{</span><span class="op" id="8391214">}</span><span class="op" id="8391215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391219">[</span><span class="op" id="8391220">]</span><span class="builtintype" id="8391221">uint32</span><span class="op" id="8391227">{</span><span class="ident" id="8391228">mergeFailed</span><span class="op" id="8391239">}</span><span class="op" id="8391240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8391244">1</span><span class="op" id="8391245">,</span>&nbsp;<span class="num" id="8391247">1</span><span class="op" id="8391248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391251">}</span><span class="op" id="8391252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391255">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8391259">//&nbsp;identical&nbsp;runes,&nbsp;different&nbsp;targets</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391299">[</span><span class="op" id="8391300">]</span><span class="builtintype" id="8391301">rune</span><span class="op" id="8391305">{</span><span class="num" id="8391306">69</span><span class="op" id="8391308">,</span>&nbsp;<span class="num" id="8391310">69</span><span class="op" id="8391312">}</span><span class="op" id="8391313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391317">[</span><span class="op" id="8391318">]</span><span class="builtintype" id="8391319">rune</span><span class="op" id="8391323">{</span><span class="num" id="8391324">69</span><span class="op" id="8391326">,</span>&nbsp;<span class="num" id="8391328">69</span><span class="op" id="8391330">}</span><span class="op" id="8391331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391335">[</span><span class="op" id="8391336">]</span><span class="builtintype" id="8391337">rune</span><span class="op" id="8391341">{</span><span class="op" id="8391342">}</span><span class="op" id="8391343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391347">[</span><span class="op" id="8391348">]</span><span class="builtintype" id="8391349">uint32</span><span class="op" id="8391355">{</span><span class="ident" id="8391356">mergeFailed</span><span class="op" id="8391367">}</span><span class="op" id="8391368">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8391372">1</span><span class="op" id="8391373">,</span>&nbsp;<span class="num" id="8391375">2</span><span class="op" id="8391376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391379">}</span><span class="op" id="8391380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8391387">//&nbsp;append&nbsp;right-first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391411">[</span><span class="op" id="8391412">]</span><span class="builtintype" id="8391413">rune</span><span class="op" id="8391417">{</span><span class="num" id="8391418">69</span><span class="op" id="8391420">,</span>&nbsp;<span class="num" id="8391422">69</span><span class="op" id="8391424">}</span><span class="op" id="8391425">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391429">[</span><span class="op" id="8391430">]</span><span class="builtintype" id="8391431">rune</span><span class="op" id="8391435">{</span><span class="num" id="8391436">71</span><span class="op" id="8391438">,</span>&nbsp;<span class="num" id="8391440">71</span><span class="op" id="8391442">}</span><span class="op" id="8391443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391447">[</span><span class="op" id="8391448">]</span><span class="builtintype" id="8391449">rune</span><span class="op" id="8391453">{</span><span class="num" id="8391454">69</span><span class="op" id="8391456">,</span>&nbsp;<span class="num" id="8391458">69</span><span class="op" id="8391460">,</span>&nbsp;<span class="num" id="8391462">71</span><span class="op" id="8391464">,</span>&nbsp;<span class="num" id="8391466">71</span><span class="op" id="8391468">}</span><span class="op" id="8391469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391473">[</span><span class="op" id="8391474">]</span><span class="builtintype" id="8391475">uint32</span><span class="op" id="8391481">{</span><span class="num" id="8391482">1</span><span class="op" id="8391483">,</span>&nbsp;<span class="num" id="8391485">2</span><span class="op" id="8391486">}</span><span class="op" id="8391487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8391491">1</span><span class="op" id="8391492">,</span>&nbsp;<span class="num" id="8391494">2</span><span class="op" id="8391495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391498">}</span><span class="op" id="8391499">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8391506">//&nbsp;append,&nbsp;left-first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391530">[</span><span class="op" id="8391531">]</span><span class="builtintype" id="8391532">rune</span><span class="op" id="8391536">{</span><span class="num" id="8391537">71</span><span class="op" id="8391539">,</span>&nbsp;<span class="num" id="8391541">71</span><span class="op" id="8391543">}</span><span class="op" id="8391544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391548">[</span><span class="op" id="8391549">]</span><span class="builtintype" id="8391550">rune</span><span class="op" id="8391554">{</span><span class="num" id="8391555">69</span><span class="op" id="8391557">,</span>&nbsp;<span class="num" id="8391559">69</span><span class="op" id="8391561">}</span><span class="op" id="8391562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391566">[</span><span class="op" id="8391567">]</span><span class="builtintype" id="8391568">rune</span><span class="op" id="8391572">{</span><span class="num" id="8391573">69</span><span class="op" id="8391575">,</span>&nbsp;<span class="num" id="8391577">69</span><span class="op" id="8391579">,</span>&nbsp;<span class="num" id="8391581">71</span><span class="op" id="8391583">,</span>&nbsp;<span class="num" id="8391585">71</span><span class="op" id="8391587">}</span><span class="op" id="8391588">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391592">[</span><span class="op" id="8391593">]</span><span class="builtintype" id="8391594">uint32</span><span class="op" id="8391600">{</span><span class="num" id="8391601">2</span><span class="op" id="8391602">,</span>&nbsp;<span class="num" id="8391604">1</span><span class="op" id="8391605">}</span><span class="op" id="8391606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8391610">1</span><span class="op" id="8391611">,</span>&nbsp;<span class="num" id="8391613">2</span><span class="op" id="8391614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391617">}</span><span class="op" id="8391618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8391625">//&nbsp;successful&nbsp;interleave</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391652">[</span><span class="op" id="8391653">]</span><span class="builtintype" id="8391654">rune</span><span class="op" id="8391658">{</span><span class="num" id="8391659">60</span><span class="op" id="8391661">,</span>&nbsp;<span class="num" id="8391663">60</span><span class="op" id="8391665">,</span>&nbsp;<span class="num" id="8391667">71</span><span class="op" id="8391669">,</span>&nbsp;<span class="num" id="8391671">71</span><span class="op" id="8391673">,</span>&nbsp;<span class="num" id="8391675">101</span><span class="op" id="8391678">,</span>&nbsp;<span class="num" id="8391680">101</span><span class="op" id="8391683">}</span><span class="op" id="8391684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391688">[</span><span class="op" id="8391689">]</span><span class="builtintype" id="8391690">rune</span><span class="op" id="8391694">{</span><span class="num" id="8391695">69</span><span class="op" id="8391697">,</span>&nbsp;<span class="num" id="8391699">69</span><span class="op" id="8391701">,</span>&nbsp;<span class="num" id="8391703">88</span><span class="op" id="8391705">,</span>&nbsp;<span class="num" id="8391707">88</span><span class="op" id="8391709">}</span><span class="op" id="8391710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391714">[</span><span class="op" id="8391715">]</span><span class="builtintype" id="8391716">rune</span><span class="op" id="8391720">{</span><span class="num" id="8391721">60</span><span class="op" id="8391723">,</span>&nbsp;<span class="num" id="8391725">60</span><span class="op" id="8391727">,</span>&nbsp;<span class="num" id="8391729">69</span><span class="op" id="8391731">,</span>&nbsp;<span class="num" id="8391733">69</span><span class="op" id="8391735">,</span>&nbsp;<span class="num" id="8391737">71</span><span class="op" id="8391739">,</span>&nbsp;<span class="num" id="8391741">71</span><span class="op" id="8391743">,</span>&nbsp;<span class="num" id="8391745">88</span><span class="op" id="8391747">,</span>&nbsp;<span class="num" id="8391749">88</span><span class="op" id="8391751">,</span>&nbsp;<span class="num" id="8391753">101</span><span class="op" id="8391756">,</span>&nbsp;<span class="num" id="8391758">101</span><span class="op" id="8391761">}</span><span class="op" id="8391762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391766">[</span><span class="op" id="8391767">]</span><span class="builtintype" id="8391768">uint32</span><span class="op" id="8391774">{</span><span class="num" id="8391775">1</span><span class="op" id="8391776">,</span>&nbsp;<span class="num" id="8391778">2</span><span class="op" id="8391779">,</span>&nbsp;<span class="num" id="8391781">1</span><span class="op" id="8391782">,</span>&nbsp;<span class="num" id="8391784">2</span><span class="op" id="8391785">,</span>&nbsp;<span class="num" id="8391787">1</span><span class="op" id="8391788">}</span><span class="op" id="8391789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8391793">1</span><span class="op" id="8391794">,</span>&nbsp;<span class="num" id="8391796">2</span><span class="op" id="8391797">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391800">}</span><span class="op" id="8391801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8391808">//&nbsp;left&nbsp;surrounds&nbsp;right</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391834">[</span><span class="op" id="8391835">]</span><span class="builtintype" id="8391836">rune</span><span class="op" id="8391840">{</span><span class="num" id="8391841">69</span><span class="op" id="8391843">,</span>&nbsp;<span class="num" id="8391845">74</span><span class="op" id="8391847">}</span><span class="op" id="8391848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391852">[</span><span class="op" id="8391853">]</span><span class="builtintype" id="8391854">rune</span><span class="op" id="8391858">{</span><span class="num" id="8391859">71</span><span class="op" id="8391861">,</span>&nbsp;<span class="num" id="8391863">71</span><span class="op" id="8391865">}</span><span class="op" id="8391866">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391870">[</span><span class="op" id="8391871">]</span><span class="builtintype" id="8391872">rune</span><span class="op" id="8391876">{</span><span class="op" id="8391877">}</span><span class="op" id="8391878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391882">[</span><span class="op" id="8391883">]</span><span class="builtintype" id="8391884">uint32</span><span class="op" id="8391890">{</span><span class="ident" id="8391891">mergeFailed</span><span class="op" id="8391902">}</span><span class="op" id="8391903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8391907">1</span><span class="op" id="8391908">,</span>&nbsp;<span class="num" id="8391910">2</span><span class="op" id="8391911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391914">}</span><span class="op" id="8391915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391918">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8391922">//&nbsp;right&nbsp;surrounds&nbsp;left</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391948">[</span><span class="op" id="8391949">]</span><span class="builtintype" id="8391950">rune</span><span class="op" id="8391954">{</span><span class="num" id="8391955">69</span><span class="op" id="8391957">,</span>&nbsp;<span class="num" id="8391959">74</span><span class="op" id="8391961">}</span><span class="op" id="8391962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391966">[</span><span class="op" id="8391967">]</span><span class="builtintype" id="8391968">rune</span><span class="op" id="8391972">{</span><span class="num" id="8391973">68</span><span class="op" id="8391975">,</span>&nbsp;<span class="num" id="8391977">75</span><span class="op" id="8391979">}</span><span class="op" id="8391980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391984">[</span><span class="op" id="8391985">]</span><span class="builtintype" id="8391986">rune</span><span class="op" id="8391990">{</span><span class="op" id="8391991">}</span><span class="op" id="8391992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8391996">[</span><span class="op" id="8391997">]</span><span class="builtintype" id="8391998">uint32</span><span class="op" id="8392004">{</span><span class="ident" id="8392005">mergeFailed</span><span class="op" id="8392016">}</span><span class="op" id="8392017">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8392021">1</span><span class="op" id="8392022">,</span>&nbsp;<span class="num" id="8392024">2</span><span class="op" id="8392025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392028">}</span><span class="op" id="8392029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8392036">//&nbsp;overlap&nbsp;at&nbsp;interval&nbsp;begin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392067">[</span><span class="op" id="8392068">]</span><span class="builtintype" id="8392069">rune</span><span class="op" id="8392073">{</span><span class="num" id="8392074">69</span><span class="op" id="8392076">,</span>&nbsp;<span class="num" id="8392078">74</span><span class="op" id="8392080">}</span><span class="op" id="8392081">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392085">[</span><span class="op" id="8392086">]</span><span class="builtintype" id="8392087">rune</span><span class="op" id="8392091">{</span><span class="num" id="8392092">74</span><span class="op" id="8392094">,</span>&nbsp;<span class="num" id="8392096">75</span><span class="op" id="8392098">}</span><span class="op" id="8392099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392103">[</span><span class="op" id="8392104">]</span><span class="builtintype" id="8392105">rune</span><span class="op" id="8392109">{</span><span class="op" id="8392110">}</span><span class="op" id="8392111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392115">[</span><span class="op" id="8392116">]</span><span class="builtintype" id="8392117">uint32</span><span class="op" id="8392123">{</span><span class="ident" id="8392124">mergeFailed</span><span class="op" id="8392135">}</span><span class="op" id="8392136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8392140">1</span><span class="op" id="8392141">,</span>&nbsp;<span class="num" id="8392143">2</span><span class="op" id="8392144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392147">}</span><span class="op" id="8392148">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8392155">//&nbsp;overlap&nbsp;ar&nbsp;interval&nbsp;end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392184">[</span><span class="op" id="8392185">]</span><span class="builtintype" id="8392186">rune</span><span class="op" id="8392190">{</span><span class="num" id="8392191">69</span><span class="op" id="8392193">,</span>&nbsp;<span class="num" id="8392195">74</span><span class="op" id="8392197">}</span><span class="op" id="8392198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392202">[</span><span class="op" id="8392203">]</span><span class="builtintype" id="8392204">rune</span><span class="op" id="8392208">{</span><span class="num" id="8392209">65</span><span class="op" id="8392211">,</span>&nbsp;<span class="num" id="8392213">69</span><span class="op" id="8392215">}</span><span class="op" id="8392216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392220">[</span><span class="op" id="8392221">]</span><span class="builtintype" id="8392222">rune</span><span class="op" id="8392226">{</span><span class="op" id="8392227">}</span><span class="op" id="8392228">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392232">[</span><span class="op" id="8392233">]</span><span class="builtintype" id="8392234">uint32</span><span class="op" id="8392240">{</span><span class="ident" id="8392241">mergeFailed</span><span class="op" id="8392252">}</span><span class="op" id="8392253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8392257">1</span><span class="op" id="8392258">,</span>&nbsp;<span class="num" id="8392260">2</span><span class="op" id="8392261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392264">}</span><span class="op" id="8392265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8392272">//&nbsp;overlap&nbsp;from&nbsp;above</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392296">[</span><span class="op" id="8392297">]</span><span class="builtintype" id="8392298">rune</span><span class="op" id="8392302">{</span><span class="num" id="8392303">69</span><span class="op" id="8392305">,</span>&nbsp;<span class="num" id="8392307">74</span><span class="op" id="8392309">}</span><span class="op" id="8392310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392314">[</span><span class="op" id="8392315">]</span><span class="builtintype" id="8392316">rune</span><span class="op" id="8392320">{</span><span class="num" id="8392321">71</span><span class="op" id="8392323">,</span>&nbsp;<span class="num" id="8392325">74</span><span class="op" id="8392327">}</span><span class="op" id="8392328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392332">[</span><span class="op" id="8392333">]</span><span class="builtintype" id="8392334">rune</span><span class="op" id="8392338">{</span><span class="op" id="8392339">}</span><span class="op" id="8392340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392344">[</span><span class="op" id="8392345">]</span><span class="builtintype" id="8392346">uint32</span><span class="op" id="8392352">{</span><span class="ident" id="8392353">mergeFailed</span><span class="op" id="8392364">}</span><span class="op" id="8392365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8392369">1</span><span class="op" id="8392370">,</span>&nbsp;<span class="num" id="8392372">2</span><span class="op" id="8392373">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392376">}</span><span class="op" id="8392377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8392384">//&nbsp;overlap&nbsp;from&nbsp;below</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392408">[</span><span class="op" id="8392409">]</span><span class="builtintype" id="8392410">rune</span><span class="op" id="8392414">{</span><span class="num" id="8392415">69</span><span class="op" id="8392417">,</span>&nbsp;<span class="num" id="8392419">74</span><span class="op" id="8392421">}</span><span class="op" id="8392422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392426">[</span><span class="op" id="8392427">]</span><span class="builtintype" id="8392428">rune</span><span class="op" id="8392432">{</span><span class="num" id="8392433">65</span><span class="op" id="8392435">,</span>&nbsp;<span class="num" id="8392437">71</span><span class="op" id="8392439">}</span><span class="op" id="8392440">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392444">[</span><span class="op" id="8392445">]</span><span class="builtintype" id="8392446">rune</span><span class="op" id="8392450">{</span><span class="op" id="8392451">}</span><span class="op" id="8392452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392456">[</span><span class="op" id="8392457">]</span><span class="builtintype" id="8392458">uint32</span><span class="op" id="8392464">{</span><span class="ident" id="8392465">mergeFailed</span><span class="op" id="8392476">}</span><span class="op" id="8392477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8392481">1</span><span class="op" id="8392482">,</span>&nbsp;<span class="num" id="8392484">2</span><span class="op" id="8392485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392488">}</span><span class="op" id="8392489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392492">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8392496">//&nbsp;out&nbsp;of&nbsp;order&nbsp;[]rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392521">[</span><span class="op" id="8392522">]</span><span class="builtintype" id="8392523">rune</span><span class="op" id="8392527">{</span><span class="num" id="8392528">69</span><span class="op" id="8392530">,</span>&nbsp;<span class="num" id="8392532">74</span><span class="op" id="8392534">,</span>&nbsp;<span class="num" id="8392536">60</span><span class="op" id="8392538">,</span>&nbsp;<span class="num" id="8392540">65</span><span class="op" id="8392542">}</span><span class="op" id="8392543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392547">[</span><span class="op" id="8392548">]</span><span class="builtintype" id="8392549">rune</span><span class="op" id="8392553">{</span><span class="num" id="8392554">66</span><span class="op" id="8392556">,</span>&nbsp;<span class="num" id="8392558">67</span><span class="op" id="8392560">}</span><span class="op" id="8392561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392565">[</span><span class="op" id="8392566">]</span><span class="builtintype" id="8392567">rune</span><span class="op" id="8392571">{</span><span class="op" id="8392572">}</span><span class="op" id="8392573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392577">[</span><span class="op" id="8392578">]</span><span class="builtintype" id="8392579">uint32</span><span class="op" id="8392585">{</span><span class="ident" id="8392586">mergeFailed</span><span class="op" id="8392597">}</span><span class="op" id="8392598">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8392602">1</span><span class="op" id="8392603">,</span>&nbsp;<span class="num" id="8392605">2</span><span class="op" id="8392606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392609">}</span><span class="op" id="8392610">,</span><br>
<span class="lineno"></span><span class="op" id="8392612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8392615">func</span>&nbsp;<span class="ident" id="8392620">TestMergeRuneSet</span><span class="op" id="8392636">(</span><span class="ident" id="8392637">t</span>&nbsp;<span class="op" id="8392639">*</span><span class="ident" id="8392640">testing</span><span class="op" id="8392647">.</span><span class="ident" id="8392648">T</span><span class="op" id="8392649">)</span>&nbsp;<span class="op" id="8392651">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8392654">for</span>&nbsp;<span class="ident" id="8392658">ix</span><span class="op" id="8392660">,</span>&nbsp;<span class="ident" id="8392662">test</span>&nbsp;<span class="op" id="8392667">:=</span>&nbsp;<span class="keyword" id="8392670">range</span>&nbsp;<span class="ident" id="8392676">runeMergeTests</span>&nbsp;<span class="op" id="8392691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8392695">merged</span><span class="op" id="8392701">,</span>&nbsp;<span class="ident" id="8392703">next</span>&nbsp;<span class="op" id="8392708">:=</span>&nbsp;<span class="ident" id="8392711">mergeRuneSets</span><span class="op" id="8392724">(</span><span class="op" id="8392725">&amp;</span><span class="ident" id="8392726">test</span><span class="op" id="8392730">.</span><span class="ident" id="8392731">left</span><span class="op" id="8392735">,</span>&nbsp;<span class="op" id="8392737">&amp;</span><span class="ident" id="8392738">test</span><span class="op" id="8392742">.</span><span class="ident" id="8392743">right</span><span class="op" id="8392748">,</span>&nbsp;<span class="ident" id="8392750">test</span><span class="op" id="8392754">.</span><span class="ident" id="8392755">leftPC</span><span class="op" id="8392761">,</span>&nbsp;<span class="ident" id="8392763">test</span><span class="op" id="8392767">.</span><span class="ident" id="8392768">rightPC</span><span class="op" id="8392775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8392779">if</span>&nbsp;<span class="op" id="8392782">!</span><span class="ident" id="8392783">reflect</span><span class="op" id="8392790">.</span><span class="ident" id="8392791">DeepEqual</span><span class="op" id="8392800">(</span><span class="ident" id="8392801">merged</span><span class="op" id="8392807">,</span>&nbsp;<span class="ident" id="8392809">test</span><span class="op" id="8392813">.</span><span class="ident" id="8392814">merged</span><span class="op" id="8392820">)</span>&nbsp;<span class="op" id="8392822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8392827">t</span><span class="op" id="8392828">.</span><span class="ident" id="8392829">Errorf</span><span class="op" id="8392835">(</span><span class="string" id="8392836">&#34;mergeRuneSet&nbsp;:%d&nbsp;(%v,&nbsp;%v)&nbsp;merged\n&nbsp;have\n%v\nwant\n%v&#34;</span><span class="op" id="8392891">,</span>&nbsp;<span class="ident" id="8392893">ix</span><span class="op" id="8392895">,</span>&nbsp;<span class="ident" id="8392897">test</span><span class="op" id="8392901">.</span><span class="ident" id="8392902">left</span><span class="op" id="8392906">,</span>&nbsp;<span class="ident" id="8392908">test</span><span class="op" id="8392912">.</span><span class="ident" id="8392913">right</span><span class="op" id="8392918">,</span>&nbsp;<span class="ident" id="8392920">merged</span><span class="op" id="8392926">,</span>&nbsp;<span class="ident" id="8392928">test</span><span class="op" id="8392932">.</span><span class="ident" id="8392933">merged</span><span class="op" id="8392939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8392943">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8392947">if</span>&nbsp;<span class="op" id="8392950">!</span><span class="ident" id="8392951">reflect</span><span class="op" id="8392958">.</span><span class="ident" id="8392959">DeepEqual</span><span class="op" id="8392968">(</span><span class="ident" id="8392969">next</span><span class="op" id="8392973">,</span>&nbsp;<span class="ident" id="8392975">test</span><span class="op" id="8392979">.</span><span class="ident" id="8392980">next</span><span class="op" id="8392984">)</span>&nbsp;<span class="op" id="8392986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8392991">t</span><span class="op" id="8392992">.</span><span class="ident" id="8392993">Errorf</span><span class="op" id="8392999">(</span><span class="string" id="8393000">&#34;mergeRuneSet&nbsp;:%d(%v,&nbsp;%v)&nbsp;next\n&nbsp;have\n%v\nwant\n%v&#34;</span><span class="op" id="8393052">,</span>&nbsp;<span class="ident" id="8393054">ix</span><span class="op" id="8393056">,</span>&nbsp;<span class="ident" id="8393058">test</span><span class="op" id="8393062">.</span><span class="ident" id="8393063">left</span><span class="op" id="8393067">,</span>&nbsp;<span class="ident" id="8393069">test</span><span class="op" id="8393073">.</span><span class="ident" id="8393074">right</span><span class="op" id="8393079">,</span>&nbsp;<span class="ident" id="8393081">next</span><span class="op" id="8393085">,</span>&nbsp;<span class="ident" id="8393087">test</span><span class="op" id="8393091">.</span><span class="ident" id="8393092">next</span><span class="op" id="8393096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393103">}</span><br>
<span class="lineno"></span><span class="op" id="8393105">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="8393108">const</span>&nbsp;<span class="ident" id="8393114">noStr</span>&nbsp;<span class="op" id="8393120">=</span>&nbsp;<span class="string" id="8393122">`!`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8393127">var</span>&nbsp;<span class="ident" id="8393131">onePass</span>&nbsp;<span class="op" id="8393139">=</span>&nbsp;<span class="op" id="8393141">&amp;</span><span class="ident" id="8393142">onePassProg</span><span class="op" id="8393153">{</span><span class="op" id="8393154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="8393157">var</span>&nbsp;<span class="ident" id="8393161">onePassTests</span>&nbsp;<span class="op" id="8393174">=</span>&nbsp;<span class="op" id="8393176">[</span><span class="op" id="8393177">]</span><span class="keyword" id="8393178">struct</span>&nbsp;<span class="op" id="8393185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8393188">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8393196">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8393204">onePass</span>&nbsp;<span class="op" id="8393212">*</span><span class="ident" id="8393213">onePassProg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8393226">prog</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8393234">string</span><br>
<span class="lineno"></span><span class="op" id="8393241">}</span><span class="op" id="8393242">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393245">{</span><span class="string" id="8393246">`^(?:a|(?:a*))$`</span><span class="op" id="8393262">,</span>&nbsp;<span class="ident" id="8393264">notOnePass</span><span class="op" id="8393274">,</span>&nbsp;<span class="ident" id="8393276">noStr</span><span class="op" id="8393281">}</span><span class="op" id="8393282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393285">{</span><span class="string" id="8393286">`^(?:(a)|(?:a*))$`</span><span class="op" id="8393304">,</span>&nbsp;<span class="ident" id="8393306">notOnePass</span><span class="op" id="8393316">,</span>&nbsp;<span class="ident" id="8393318">noStr</span><span class="op" id="8393323">}</span><span class="op" id="8393324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393327">{</span><span class="string" id="8393328">`^(?:(?:(?:.(?:$))?))$`</span><span class="op" id="8393351">,</span>&nbsp;<span class="ident" id="8393353">onePass</span><span class="op" id="8393360">,</span>&nbsp;<span class="string" id="8393362">`a`</span><span class="op" id="8393365">}</span><span class="op" id="8393366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393369">{</span><span class="string" id="8393370">`^abcd$`</span><span class="op" id="8393378">,</span>&nbsp;<span class="ident" id="8393380">onePass</span><span class="op" id="8393387">,</span>&nbsp;<span class="string" id="8393389">`abcd`</span><span class="op" id="8393395">}</span><span class="op" id="8393396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393399">{</span><span class="string" id="8393400">`^abcd$`</span><span class="op" id="8393408">,</span>&nbsp;<span class="ident" id="8393410">onePass</span><span class="op" id="8393417">,</span>&nbsp;<span class="string" id="8393419">`abcde`</span><span class="op" id="8393426">}</span><span class="op" id="8393427">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393430">{</span><span class="string" id="8393431">`^(?:(?:a{0,})*?)$`</span><span class="op" id="8393450">,</span>&nbsp;<span class="ident" id="8393452">onePass</span><span class="op" id="8393459">,</span>&nbsp;<span class="string" id="8393461">`a`</span><span class="op" id="8393464">}</span><span class="op" id="8393465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393468">{</span><span class="string" id="8393469">`^(?:(?:a+)*)$`</span><span class="op" id="8393484">,</span>&nbsp;<span class="ident" id="8393486">onePass</span><span class="op" id="8393493">,</span>&nbsp;<span class="string" id="8393495">``</span><span class="op" id="8393497">}</span><span class="op" id="8393498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393501">{</span><span class="string" id="8393502">`^(?:(?:a|(?:aa)))$`</span><span class="op" id="8393522">,</span>&nbsp;<span class="ident" id="8393524">onePass</span><span class="op" id="8393531">,</span>&nbsp;<span class="string" id="8393533">``</span><span class="op" id="8393535">}</span><span class="op" id="8393536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393539">{</span><span class="string" id="8393540">`^(?:[^\s\S])$`</span><span class="op" id="8393555">,</span>&nbsp;<span class="ident" id="8393557">onePass</span><span class="op" id="8393564">,</span>&nbsp;<span class="string" id="8393566">``</span><span class="op" id="8393568">}</span><span class="op" id="8393569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393572">{</span><span class="string" id="8393573">`^(?:(?:a{3,4}){0,})$`</span><span class="op" id="8393595">,</span>&nbsp;<span class="ident" id="8393597">notOnePass</span><span class="op" id="8393607">,</span>&nbsp;<span class="string" id="8393609">`aaaaaa`</span><span class="op" id="8393617">}</span><span class="op" id="8393618">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393621">{</span><span class="string" id="8393622">`^(?:(?:a+)*)$`</span><span class="op" id="8393637">,</span>&nbsp;<span class="ident" id="8393639">onePass</span><span class="op" id="8393646">,</span>&nbsp;<span class="string" id="8393648">`a`</span><span class="op" id="8393651">}</span><span class="op" id="8393652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393655">{</span><span class="string" id="8393656">`^(?:(?:(?:a*)+))$`</span><span class="op" id="8393675">,</span>&nbsp;<span class="ident" id="8393677">onePass</span><span class="op" id="8393684">,</span>&nbsp;<span class="ident" id="8393686">noStr</span><span class="op" id="8393691">}</span><span class="op" id="8393692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393695">{</span><span class="string" id="8393696">`^(?:(?:a+)*)$`</span><span class="op" id="8393711">,</span>&nbsp;<span class="ident" id="8393713">onePass</span><span class="op" id="8393720">,</span>&nbsp;<span class="string" id="8393722">``</span><span class="op" id="8393724">}</span><span class="op" id="8393725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393728">{</span><span class="string" id="8393729">`^[a-c]+$`</span><span class="op" id="8393739">,</span>&nbsp;<span class="ident" id="8393741">onePass</span><span class="op" id="8393748">,</span>&nbsp;<span class="string" id="8393750">`abc`</span><span class="op" id="8393755">}</span><span class="op" id="8393756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393759">{</span><span class="string" id="8393760">`^[a-c]*$`</span><span class="op" id="8393770">,</span>&nbsp;<span class="ident" id="8393772">onePass</span><span class="op" id="8393779">,</span>&nbsp;<span class="string" id="8393781">`abcdabc`</span><span class="op" id="8393790">}</span><span class="op" id="8393791">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393794">{</span><span class="string" id="8393795">`^(?:a*)$`</span><span class="op" id="8393805">,</span>&nbsp;<span class="ident" id="8393807">onePass</span><span class="op" id="8393814">,</span>&nbsp;<span class="string" id="8393816">`aaaaaaa`</span><span class="op" id="8393825">}</span><span class="op" id="8393826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393829">{</span><span class="string" id="8393830">`^(?:(?:aa)|a)$`</span><span class="op" id="8393846">,</span>&nbsp;<span class="ident" id="8393848">onePass</span><span class="op" id="8393855">,</span>&nbsp;<span class="string" id="8393857">`a`</span><span class="op" id="8393860">}</span><span class="op" id="8393861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393864">{</span><span class="string" id="8393865">`^[a-c]*`</span><span class="op" id="8393874">,</span>&nbsp;<span class="ident" id="8393876">notOnePass</span><span class="op" id="8393886">,</span>&nbsp;<span class="string" id="8393888">`abcdabc`</span><span class="op" id="8393897">}</span><span class="op" id="8393898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393901">{</span><span class="string" id="8393902">`^[a-c]*$`</span><span class="op" id="8393912">,</span>&nbsp;<span class="ident" id="8393914">onePass</span><span class="op" id="8393921">,</span>&nbsp;<span class="string" id="8393923">`abc`</span><span class="op" id="8393928">}</span><span class="op" id="8393929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393932">{</span><span class="string" id="8393933">`^...$`</span><span class="op" id="8393940">,</span>&nbsp;<span class="ident" id="8393942">onePass</span><span class="op" id="8393949">,</span>&nbsp;<span class="string" id="8393951">``</span><span class="op" id="8393953">}</span><span class="op" id="8393954">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393957">{</span><span class="string" id="8393958">`^(?:a|(?:aa))$`</span><span class="op" id="8393974">,</span>&nbsp;<span class="ident" id="8393976">onePass</span><span class="op" id="8393983">,</span>&nbsp;<span class="string" id="8393985">`a`</span><span class="op" id="8393988">}</span><span class="op" id="8393989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8393992">{</span><span class="string" id="8393993">`^[a-c]*`</span><span class="op" id="8394002">,</span>&nbsp;<span class="ident" id="8394004">notOnePass</span><span class="op" id="8394014">,</span>&nbsp;<span class="string" id="8394016">`abcabc`</span><span class="op" id="8394024">}</span><span class="op" id="8394025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394028">{</span><span class="string" id="8394029">`^a((b))c$`</span><span class="op" id="8394040">,</span>&nbsp;<span class="ident" id="8394042">onePass</span><span class="op" id="8394049">,</span>&nbsp;<span class="ident" id="8394051">noStr</span><span class="op" id="8394056">}</span><span class="op" id="8394057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394060">{</span><span class="string" id="8394061">`^a.[l-nA-Cg-j]?e$`</span><span class="op" id="8394080">,</span>&nbsp;<span class="ident" id="8394082">onePass</span><span class="op" id="8394089">,</span>&nbsp;<span class="ident" id="8394091">noStr</span><span class="op" id="8394096">}</span><span class="op" id="8394097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394100">{</span><span class="string" id="8394101">`^a((b))$`</span><span class="op" id="8394111">,</span>&nbsp;<span class="ident" id="8394113">onePass</span><span class="op" id="8394120">,</span>&nbsp;<span class="ident" id="8394122">noStr</span><span class="op" id="8394127">}</span><span class="op" id="8394128">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394131">{</span><span class="string" id="8394132">`^a(?:(b)|(c))c$`</span><span class="op" id="8394149">,</span>&nbsp;<span class="ident" id="8394151">onePass</span><span class="op" id="8394158">,</span>&nbsp;<span class="ident" id="8394160">noStr</span><span class="op" id="8394165">}</span><span class="op" id="8394166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394169">{</span><span class="string" id="8394170">`^a(?:(b*)|(c))c$`</span><span class="op" id="8394188">,</span>&nbsp;<span class="ident" id="8394190">notOnePass</span><span class="op" id="8394200">,</span>&nbsp;<span class="ident" id="8394202">noStr</span><span class="op" id="8394207">}</span><span class="op" id="8394208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394211">{</span><span class="string" id="8394212">`^a(?:b|c)$`</span><span class="op" id="8394224">,</span>&nbsp;<span class="ident" id="8394226">onePass</span><span class="op" id="8394233">,</span>&nbsp;<span class="ident" id="8394235">noStr</span><span class="op" id="8394240">}</span><span class="op" id="8394241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394244">{</span><span class="string" id="8394245">`^a(?:b?|c)$`</span><span class="op" id="8394258">,</span>&nbsp;<span class="ident" id="8394260">onePass</span><span class="op" id="8394267">,</span>&nbsp;<span class="ident" id="8394269">noStr</span><span class="op" id="8394274">}</span><span class="op" id="8394275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394278">{</span><span class="string" id="8394279">`^a(?:b?|c?)$`</span><span class="op" id="8394293">,</span>&nbsp;<span class="ident" id="8394295">notOnePass</span><span class="op" id="8394305">,</span>&nbsp;<span class="ident" id="8394307">noStr</span><span class="op" id="8394312">}</span><span class="op" id="8394313">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394316">{</span><span class="string" id="8394317">`^a(?:b?|c+)$`</span><span class="op" id="8394331">,</span>&nbsp;<span class="ident" id="8394333">onePass</span><span class="op" id="8394340">,</span>&nbsp;<span class="ident" id="8394342">noStr</span><span class="op" id="8394347">}</span><span class="op" id="8394348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394351">{</span><span class="string" id="8394352">`^a(?:b+|(bc))d$`</span><span class="op" id="8394369">,</span>&nbsp;<span class="ident" id="8394371">notOnePass</span><span class="op" id="8394381">,</span>&nbsp;<span class="ident" id="8394383">noStr</span><span class="op" id="8394388">}</span><span class="op" id="8394389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394392">{</span><span class="string" id="8394393">`^a(?:bc)+$`</span><span class="op" id="8394405">,</span>&nbsp;<span class="ident" id="8394407">onePass</span><span class="op" id="8394414">,</span>&nbsp;<span class="ident" id="8394416">noStr</span><span class="op" id="8394421">}</span><span class="op" id="8394422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394425">{</span><span class="string" id="8394426">`^a(?:[bcd])+$`</span><span class="op" id="8394441">,</span>&nbsp;<span class="ident" id="8394443">onePass</span><span class="op" id="8394450">,</span>&nbsp;<span class="ident" id="8394452">noStr</span><span class="op" id="8394457">}</span><span class="op" id="8394458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394461">{</span><span class="string" id="8394462">`^a((?:[bcd])+)$`</span><span class="op" id="8394479">,</span>&nbsp;<span class="ident" id="8394481">onePass</span><span class="op" id="8394488">,</span>&nbsp;<span class="ident" id="8394490">noStr</span><span class="op" id="8394495">}</span><span class="op" id="8394496">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394499">{</span><span class="string" id="8394500">`^a(:?b|c)*d$`</span><span class="op" id="8394514">,</span>&nbsp;<span class="ident" id="8394516">onePass</span><span class="op" id="8394523">,</span>&nbsp;<span class="string" id="8394525">`abbbccbbcbbd&#34;`</span><span class="op" id="8394540">}</span><span class="op" id="8394541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394544">{</span><span class="string" id="8394545">`^.bc(d|e)*$`</span><span class="op" id="8394558">,</span>&nbsp;<span class="ident" id="8394560">onePass</span><span class="op" id="8394567">,</span>&nbsp;<span class="string" id="8394569">`abcddddddeeeededd`</span><span class="op" id="8394588">}</span><span class="op" id="8394589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394592">{</span><span class="string" id="8394593">`^(?:(?:aa)|.)$`</span><span class="op" id="8394609">,</span>&nbsp;<span class="ident" id="8394611">notOnePass</span><span class="op" id="8394621">,</span>&nbsp;<span class="string" id="8394623">`a`</span><span class="op" id="8394626">}</span><span class="op" id="8394627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394630">{</span><span class="string" id="8394631">`^(?:(?:a{1,2}){1,2})$`</span><span class="op" id="8394654">,</span>&nbsp;<span class="ident" id="8394656">notOnePass</span><span class="op" id="8394666">,</span>&nbsp;<span class="string" id="8394668">`aaaa`</span><span class="op" id="8394674">}</span><span class="op" id="8394675">,</span><br>
<span class="lineno"></span><span class="op" id="8394677">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="8394680">func</span>&nbsp;<span class="ident" id="8394685">TestCompileOnePass</span><span class="op" id="8394703">(</span><span class="ident" id="8394704">t</span>&nbsp;<span class="op" id="8394706">*</span><span class="ident" id="8394707">testing</span><span class="op" id="8394714">.</span><span class="ident" id="8394715">T</span><span class="op" id="8394716">)</span>&nbsp;<span class="op" id="8394718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8394721">var</span>&nbsp;<span class="op" id="8394725">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8394729">p</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8394733">*</span><span class="ident" id="8394734">syntax</span><span class="op" id="8394740">.</span><span class="ident" id="8394741">Prog</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8394748">re</span>&nbsp;&nbsp;<span class="op" id="8394752">*</span><span class="ident" id="8394753">syntax</span><span class="op" id="8394759">.</span><span class="ident" id="8394760">Regexp</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8394769">err</span>&nbsp;<span class="builtintype" id="8394773">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8394783">for</span>&nbsp;<span class="ident" id="8394787">_</span><span class="op" id="8394788">,</span>&nbsp;<span class="ident" id="8394790">test</span>&nbsp;<span class="op" id="8394795">:=</span>&nbsp;<span class="keyword" id="8394798">range</span>&nbsp;<span class="ident" id="8394804">onePassTests</span>&nbsp;<span class="op" id="8394817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8394821">if</span>&nbsp;<span class="ident" id="8394824">re</span><span class="op" id="8394826">,</span>&nbsp;<span class="ident" id="8394828">err</span>&nbsp;<span class="op" id="8394832">=</span>&nbsp;<span class="ident" id="8394834">syntax</span><span class="op" id="8394840">.</span><span class="ident" id="8394841">Parse</span><span class="op" id="8394846">(</span><span class="ident" id="8394847">test</span><span class="op" id="8394851">.</span><span class="ident" id="8394852">re</span><span class="op" id="8394854">,</span>&nbsp;<span class="ident" id="8394856">syntax</span><span class="op" id="8394862">.</span><span class="ident" id="8394863">Perl</span><span class="op" id="8394867">)</span><span class="op" id="8394868">;</span>&nbsp;<span class="ident" id="8394870">err</span>&nbsp;<span class="op" id="8394874">!=</span>&nbsp;<span class="builtintype" id="8394877">nil</span>&nbsp;<span class="op" id="8394881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8394886">t</span><span class="op" id="8394887">.</span><span class="ident" id="8394888">Errorf</span><span class="op" id="8394894">(</span><span class="string" id="8394895">&#34;Parse(%q)&nbsp;got&nbsp;err:%s,&nbsp;want&nbsp;success&#34;</span><span class="op" id="8394931">,</span>&nbsp;<span class="ident" id="8394933">test</span><span class="op" id="8394937">.</span><span class="ident" id="8394938">re</span><span class="op" id="8394940">,</span>&nbsp;<span class="ident" id="8394942">err</span><span class="op" id="8394945">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8394950">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8394961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8394965">//&nbsp;needs&nbsp;to&nbsp;be&nbsp;done&nbsp;before&nbsp;compile...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8395005">re</span>&nbsp;<span class="op" id="8395008">=</span>&nbsp;<span class="ident" id="8395010">re</span><span class="op" id="8395012">.</span><span class="ident" id="8395013">Simplify</span><span class="op" id="8395021">(</span><span class="op" id="8395022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8395026">if</span>&nbsp;<span class="ident" id="8395029">p</span><span class="op" id="8395030">,</span>&nbsp;<span class="ident" id="8395032">err</span>&nbsp;<span class="op" id="8395036">=</span>&nbsp;<span class="ident" id="8395038">syntax</span><span class="op" id="8395044">.</span><span class="ident" id="8395045">Compile</span><span class="op" id="8395052">(</span><span class="ident" id="8395053">re</span><span class="op" id="8395055">)</span><span class="op" id="8395056">;</span>&nbsp;<span class="ident" id="8395058">err</span>&nbsp;<span class="op" id="8395062">!=</span>&nbsp;<span class="builtintype" id="8395065">nil</span>&nbsp;<span class="op" id="8395069">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8395074">t</span><span class="op" id="8395075">.</span><span class="ident" id="8395076">Errorf</span><span class="op" id="8395082">(</span><span class="string" id="8395083">&#34;Compile(%q)&nbsp;got&nbsp;err:%s,&nbsp;want&nbsp;success&#34;</span><span class="op" id="8395121">,</span>&nbsp;<span class="ident" id="8395123">test</span><span class="op" id="8395127">.</span><span class="ident" id="8395128">re</span><span class="op" id="8395130">,</span>&nbsp;<span class="ident" id="8395132">err</span><span class="op" id="8395135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8395140">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8395151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8395155">onePass</span>&nbsp;<span class="op" id="8395163">=</span>&nbsp;<span class="ident" id="8395165">compileOnePass</span><span class="op" id="8395179">(</span><span class="ident" id="8395180">p</span><span class="op" id="8395181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8395185">if</span>&nbsp;<span class="op" id="8395188">(</span><span class="ident" id="8395189">onePass</span>&nbsp;<span class="op" id="8395197">==</span>&nbsp;<span class="ident" id="8395200">notOnePass</span><span class="op" id="8395210">)</span>&nbsp;<span class="op" id="8395212">!=</span>&nbsp;<span class="op" id="8395215">(</span><span class="ident" id="8395216">test</span><span class="op" id="8395220">.</span><span class="ident" id="8395221">onePass</span>&nbsp;<span class="op" id="8395229">==</span>&nbsp;<span class="ident" id="8395232">notOnePass</span><span class="op" id="8395242">)</span>&nbsp;<span class="op" id="8395244">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8395249">t</span><span class="op" id="8395250">.</span><span class="ident" id="8395251">Errorf</span><span class="op" id="8395257">(</span><span class="string" id="8395258">&#34;CompileOnePass(%q)&nbsp;got&nbsp;%v,&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="8395298">,</span>&nbsp;<span class="ident" id="8395300">test</span><span class="op" id="8395304">.</span><span class="ident" id="8395305">re</span><span class="op" id="8395307">,</span>&nbsp;<span class="ident" id="8395309">onePass</span><span class="op" id="8395316">,</span>&nbsp;<span class="ident" id="8395318">test</span><span class="op" id="8395322">.</span><span class="ident" id="8395323">onePass</span><span class="op" id="8395330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8395334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8395337">}</span><br>
<span class="lineno"></span><span class="op" id="8395339">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
