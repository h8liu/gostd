<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7496583">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7496638">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7496692">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7496743">package</span>&nbsp;<span class="ident" id="7496751">mime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7496757">import</span>&nbsp;<span class="op" id="7496764">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7496767">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7496778">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7496788">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7496791">func</span>&nbsp;<span class="ident" id="7496796">TestConsumeToken</span><span class="op" id="7496812">(</span><span class="ident" id="7496813">t</span>&nbsp;<span class="op" id="7496815">*</span><span class="ident" id="7496816"><a href="/mime/mediatype_test.go.html#7496778">testing</a></span><span class="op" id="7496823">.</span><span class="ident" id="7496824">T</span><span class="op" id="7496825">)</span>&nbsp;<span class="op" id="7496827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496830">tests</span>&nbsp;<span class="op" id="7496836">:=</span>&nbsp;<span class="op" id="7496839">[</span><span class="op" id="7496840">...</span><span class="op" id="7496843">]</span><span class="op" id="7496844">[</span><span class="num" id="7496845">3</span><span class="op" id="7496846">]</span><span class="builtintype" id="7496847">string</span><span class="op" id="7496853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496857">{</span><span class="string" id="7496858">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7496867">,</span>&nbsp;<span class="string" id="7496869">&#34;foo&#34;</span><span class="op" id="7496874">,</span>&nbsp;<span class="string" id="7496876">&#34;&nbsp;bar&#34;</span><span class="op" id="7496882">}</span><span class="op" id="7496883">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496887">{</span><span class="string" id="7496888">&#34;bar&#34;</span><span class="op" id="7496893">,</span>&nbsp;<span class="string" id="7496895">&#34;bar&#34;</span><span class="op" id="7496900">,</span>&nbsp;<span class="string" id="7496902">&#34;&#34;</span><span class="op" id="7496904">}</span><span class="op" id="7496905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496909">{</span><span class="string" id="7496910">&#34;&#34;</span><span class="op" id="7496912">,</span>&nbsp;<span class="string" id="7496914">&#34;&#34;</span><span class="op" id="7496916">,</span>&nbsp;<span class="string" id="7496918">&#34;&#34;</span><span class="op" id="7496920">}</span><span class="op" id="7496921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496925">{</span><span class="string" id="7496926">&#34;&nbsp;foo&#34;</span><span class="op" id="7496932">,</span>&nbsp;<span class="string" id="7496934">&#34;&#34;</span><span class="op" id="7496936">,</span>&nbsp;<span class="string" id="7496938">&#34;&nbsp;foo&#34;</span><span class="op" id="7496944">}</span><span class="op" id="7496945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496951">for</span>&nbsp;<span class="ident" id="7496955">_</span><span class="op" id="7496956">,</span>&nbsp;<span class="ident" id="7496958">test</span>&nbsp;<span class="op" id="7496963">:=</span>&nbsp;<span class="keyword" id="7496966">range</span>&nbsp;<span class="ident" id="7496972"><a href="/mime/mediatype_test.go.html#7496830">tests</a></span>&nbsp;<span class="op" id="7496978">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496982">token</span><span class="op" id="7496987">,</span>&nbsp;<span class="ident" id="7496989">rest</span>&nbsp;<span class="op" id="7496994">:=</span>&nbsp;<span class="ident" id="7496997"><a href="/mime/mediatype.go.html#3955626">consumeToken</a></span><span class="op" id="7497009">(</span><span class="ident" id="7497010"><a href="/mime/mediatype_test.go.html#7496958">test</a></span><span class="op" id="7497014">[</span><span class="num" id="7497015">0</span><span class="op" id="7497016">]</span><span class="op" id="7497017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497021">expectedToken</span>&nbsp;<span class="op" id="7497035">:=</span>&nbsp;<span class="ident" id="7497038"><a href="/mime/mediatype_test.go.html#7496958">test</a></span><span class="op" id="7497042">[</span><span class="num" id="7497043">1</span><span class="op" id="7497044">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497048">expectedRest</span>&nbsp;<span class="op" id="7497061">:=</span>&nbsp;<span class="ident" id="7497064"><a href="/mime/mediatype_test.go.html#7496958">test</a></span><span class="op" id="7497068">[</span><span class="num" id="7497069">2</span><span class="op" id="7497070">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497074">if</span>&nbsp;<span class="ident" id="7497077"><a href="/mime/mediatype_test.go.html#7496982">token</a></span>&nbsp;<span class="op" id="7497083">!=</span>&nbsp;<span class="ident" id="7497086"><a href="/mime/mediatype_test.go.html#7497021">expectedToken</a></span>&nbsp;<span class="op" id="7497100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497105"><a href="/mime/mediatype_test.go.html#7496813">t</a></span><span class="op" id="7497106">.</span><span class="ident" id="7497107">Errorf</span><span class="op" id="7497113">(</span><span class="string" id="7497114">&#34;expected&nbsp;to&nbsp;consume&nbsp;token&nbsp;&#39;%s&#39;,&nbsp;not&nbsp;&#39;%s&#39;&nbsp;from&nbsp;&#39;%s&#39;&#34;</span><span class="op" id="7497166">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497172"><a href="/mime/mediatype_test.go.html#7497021">expectedToken</a></span><span class="op" id="7497185">,</span>&nbsp;<span class="ident" id="7497187"><a href="/mime/mediatype_test.go.html#7496982">token</a></span><span class="op" id="7497192">,</span>&nbsp;<span class="ident" id="7497194"><a href="/mime/mediatype_test.go.html#7496958">test</a></span><span class="op" id="7497198">[</span><span class="num" id="7497199">0</span><span class="op" id="7497200">]</span><span class="op" id="7497201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497205">}</span>&nbsp;<span class="keyword" id="7497207">else</span>&nbsp;<span class="keyword" id="7497212">if</span>&nbsp;<span class="ident" id="7497215"><a href="/mime/mediatype_test.go.html#7496989">rest</a></span>&nbsp;<span class="op" id="7497220">!=</span>&nbsp;<span class="ident" id="7497223"><a href="/mime/mediatype_test.go.html#7497048">expectedRest</a></span>&nbsp;<span class="op" id="7497236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497241"><a href="/mime/mediatype_test.go.html#7496813">t</a></span><span class="op" id="7497242">.</span><span class="ident" id="7497243">Errorf</span><span class="op" id="7497249">(</span><span class="string" id="7497250">&#34;expected&nbsp;to&nbsp;have&nbsp;left&nbsp;&#39;%s&#39;,&nbsp;not&nbsp;&#39;%s&#39;&nbsp;after&nbsp;reading&nbsp;token&nbsp;&#39;%s&#39;&nbsp;from&nbsp;&#39;%s&#39;&#34;</span><span class="op" id="7497323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497329"><a href="/mime/mediatype_test.go.html#7497048">expectedRest</a></span><span class="op" id="7497341">,</span>&nbsp;<span class="ident" id="7497343"><a href="/mime/mediatype_test.go.html#7496989">rest</a></span><span class="op" id="7497347">,</span>&nbsp;<span class="ident" id="7497349"><a href="/mime/mediatype_test.go.html#7496982">token</a></span><span class="op" id="7497354">,</span>&nbsp;<span class="ident" id="7497356"><a href="/mime/mediatype_test.go.html#7496958">test</a></span><span class="op" id="7497360">[</span><span class="num" id="7497361">0</span><span class="op" id="7497362">]</span><span class="op" id="7497363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497367">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497370">}</span><br>
<span class="lineno"></span><span class="op" id="7497372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7497375">func</span>&nbsp;<span class="ident" id="7497380">TestConsumeValue</span><span class="op" id="7497396">(</span><span class="ident" id="7497397">t</span>&nbsp;<span class="op" id="7497399">*</span><span class="ident" id="7497400"><a href="/mime/mediatype_test.go.html#7496778">testing</a></span><span class="op" id="7497407">.</span><span class="ident" id="7497408">T</span><span class="op" id="7497409">)</span>&nbsp;<span class="op" id="7497411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497414">tests</span>&nbsp;<span class="op" id="7497420">:=</span>&nbsp;<span class="op" id="7497423">[</span><span class="op" id="7497424">...</span><span class="op" id="7497427">]</span><span class="op" id="7497428">[</span><span class="num" id="7497429">3</span><span class="op" id="7497430">]</span><span class="builtintype" id="7497431">string</span><span class="op" id="7497437">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497441">{</span><span class="string" id="7497442">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7497451">,</span>&nbsp;<span class="string" id="7497453">&#34;foo&#34;</span><span class="op" id="7497458">,</span>&nbsp;<span class="string" id="7497460">&#34;&nbsp;bar&#34;</span><span class="op" id="7497466">}</span><span class="op" id="7497467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497471">{</span><span class="string" id="7497472">&#34;bar&#34;</span><span class="op" id="7497477">,</span>&nbsp;<span class="string" id="7497479">&#34;bar&#34;</span><span class="op" id="7497484">,</span>&nbsp;<span class="string" id="7497486">&#34;&#34;</span><span class="op" id="7497488">}</span><span class="op" id="7497489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497493">{</span><span class="string" id="7497494">&#34;&nbsp;bar&nbsp;&#34;</span><span class="op" id="7497501">,</span>&nbsp;<span class="string" id="7497503">&#34;&#34;</span><span class="op" id="7497505">,</span>&nbsp;<span class="string" id="7497507">&#34;&nbsp;bar&nbsp;&#34;</span><span class="op" id="7497514">}</span><span class="op" id="7497515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497519">{</span><span class="string" id="7497520">`&#34;My&nbsp;value&#34;end`</span><span class="op" id="7497535">,</span>&nbsp;<span class="string" id="7497537">&#34;My&nbsp;value&#34;</span><span class="op" id="7497547">,</span>&nbsp;<span class="string" id="7497549">&#34;end&#34;</span><span class="op" id="7497554">}</span><span class="op" id="7497555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497559">{</span><span class="string" id="7497560">`&#34;My&nbsp;value&#34;&nbsp;end`</span><span class="op" id="7497576">,</span>&nbsp;<span class="string" id="7497578">&#34;My&nbsp;value&#34;</span><span class="op" id="7497588">,</span>&nbsp;<span class="string" id="7497590">&#34;&nbsp;end&#34;</span><span class="op" id="7497596">}</span><span class="op" id="7497597">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497601">{</span><span class="string" id="7497602">`&#34;\\&#34;&nbsp;rest`</span><span class="op" id="7497613">,</span>&nbsp;<span class="string" id="7497615">&#34;\\&#34;</span><span class="op" id="7497619">,</span>&nbsp;<span class="string" id="7497621">&#34;&nbsp;rest&#34;</span><span class="op" id="7497628">}</span><span class="op" id="7497629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497633">{</span><span class="string" id="7497634">`&#34;My&nbsp;\&#34;&nbsp;value&#34;end`</span><span class="op" id="7497652">,</span>&nbsp;<span class="string" id="7497654">&#34;My&nbsp;\&#34;&nbsp;value&#34;</span><span class="op" id="7497667">,</span>&nbsp;<span class="string" id="7497669">&#34;end&#34;</span><span class="op" id="7497674">}</span><span class="op" id="7497675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497679">{</span><span class="string" id="7497680">`&#34;\&#34;&nbsp;rest`</span><span class="op" id="7497690">,</span>&nbsp;<span class="string" id="7497692">&#34;&#34;</span><span class="op" id="7497694">,</span>&nbsp;<span class="string" id="7497696">`&#34;\&#34;&nbsp;rest`</span><span class="op" id="7497706">}</span><span class="op" id="7497707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497713">for</span>&nbsp;<span class="ident" id="7497717">_</span><span class="op" id="7497718">,</span>&nbsp;<span class="ident" id="7497720">test</span>&nbsp;<span class="op" id="7497725">:=</span>&nbsp;<span class="keyword" id="7497728">range</span>&nbsp;<span class="ident" id="7497734"><a href="/mime/mediatype_test.go.html#7497414">tests</a></span>&nbsp;<span class="op" id="7497740">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497744">value</span><span class="op" id="7497749">,</span>&nbsp;<span class="ident" id="7497751">rest</span>&nbsp;<span class="op" id="7497756">:=</span>&nbsp;<span class="ident" id="7497759"><a href="/mime/mediatype.go.html#3956105">consumeValue</a></span><span class="op" id="7497771">(</span><span class="ident" id="7497772"><a href="/mime/mediatype_test.go.html#7497720">test</a></span><span class="op" id="7497776">[</span><span class="num" id="7497777">0</span><span class="op" id="7497778">]</span><span class="op" id="7497779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497783">expectedValue</span>&nbsp;<span class="op" id="7497797">:=</span>&nbsp;<span class="ident" id="7497800"><a href="/mime/mediatype_test.go.html#7497720">test</a></span><span class="op" id="7497804">[</span><span class="num" id="7497805">1</span><span class="op" id="7497806">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497810">expectedRest</span>&nbsp;<span class="op" id="7497823">:=</span>&nbsp;<span class="ident" id="7497826"><a href="/mime/mediatype_test.go.html#7497720">test</a></span><span class="op" id="7497830">[</span><span class="num" id="7497831">2</span><span class="op" id="7497832">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497836">if</span>&nbsp;<span class="ident" id="7497839"><a href="/mime/mediatype_test.go.html#7497744">value</a></span>&nbsp;<span class="op" id="7497845">!=</span>&nbsp;<span class="ident" id="7497848"><a href="/mime/mediatype_test.go.html#7497783">expectedValue</a></span>&nbsp;<span class="op" id="7497862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497867"><a href="/mime/mediatype_test.go.html#7497397">t</a></span><span class="op" id="7497868">.</span><span class="ident" id="7497869">Errorf</span><span class="op" id="7497875">(</span><span class="string" id="7497876">&#34;expected&nbsp;to&nbsp;consume&nbsp;value&nbsp;[%s],&nbsp;not&nbsp;[%s]&nbsp;from&nbsp;[%s]&#34;</span><span class="op" id="7497928">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497934"><a href="/mime/mediatype_test.go.html#7497783">expectedValue</a></span><span class="op" id="7497947">,</span>&nbsp;<span class="ident" id="7497949"><a href="/mime/mediatype_test.go.html#7497744">value</a></span><span class="op" id="7497954">,</span>&nbsp;<span class="ident" id="7497956"><a href="/mime/mediatype_test.go.html#7497720">test</a></span><span class="op" id="7497960">[</span><span class="num" id="7497961">0</span><span class="op" id="7497962">]</span><span class="op" id="7497963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497967">}</span>&nbsp;<span class="keyword" id="7497969">else</span>&nbsp;<span class="keyword" id="7497974">if</span>&nbsp;<span class="ident" id="7497977"><a href="/mime/mediatype_test.go.html#7497751">rest</a></span>&nbsp;<span class="op" id="7497982">!=</span>&nbsp;<span class="ident" id="7497985"><a href="/mime/mediatype_test.go.html#7497810">expectedRest</a></span>&nbsp;<span class="op" id="7497998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498003"><a href="/mime/mediatype_test.go.html#7497397">t</a></span><span class="op" id="7498004">.</span><span class="ident" id="7498005">Errorf</span><span class="op" id="7498011">(</span><span class="string" id="7498012">&#34;expected&nbsp;to&nbsp;have&nbsp;left&nbsp;[%s],&nbsp;not&nbsp;[%s]&nbsp;after&nbsp;reading&nbsp;value&nbsp;[%s]&nbsp;from&nbsp;[%s]&#34;</span><span class="op" id="7498085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498091"><a href="/mime/mediatype_test.go.html#7497810">expectedRest</a></span><span class="op" id="7498103">,</span>&nbsp;<span class="ident" id="7498105"><a href="/mime/mediatype_test.go.html#7497751">rest</a></span><span class="op" id="7498109">,</span>&nbsp;<span class="ident" id="7498111"><a href="/mime/mediatype_test.go.html#7497744">value</a></span><span class="op" id="7498116">,</span>&nbsp;<span class="ident" id="7498118"><a href="/mime/mediatype_test.go.html#7497720">test</a></span><span class="op" id="7498122">[</span><span class="num" id="7498123">0</span><span class="op" id="7498124">]</span><span class="op" id="7498125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498129">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498132">}</span><br>
<span class="lineno"></span><span class="op" id="7498134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7498137">func</span>&nbsp;<span class="ident" id="7498142">TestConsumeMediaParam</span><span class="op" id="7498163">(</span><span class="ident" id="7498164">t</span>&nbsp;<span class="op" id="7498166">*</span><span class="ident" id="7498167"><a href="/mime/mediatype_test.go.html#7496778">testing</a></span><span class="op" id="7498174">.</span><span class="ident" id="7498175">T</span><span class="op" id="7498176">)</span>&nbsp;<span class="op" id="7498178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498181">tests</span>&nbsp;<span class="op" id="7498187">:=</span>&nbsp;<span class="op" id="7498190">[</span><span class="op" id="7498191">...</span><span class="op" id="7498194">]</span><span class="op" id="7498195">[</span><span class="num" id="7498196">4</span><span class="op" id="7498197">]</span><span class="builtintype" id="7498198">string</span><span class="op" id="7498204">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498208">{</span><span class="string" id="7498209">&#34;&nbsp;;&nbsp;foo=bar&#34;</span><span class="op" id="7498221">,</span>&nbsp;<span class="string" id="7498223">&#34;foo&#34;</span><span class="op" id="7498228">,</span>&nbsp;<span class="string" id="7498230">&#34;bar&#34;</span><span class="op" id="7498235">,</span>&nbsp;<span class="string" id="7498237">&#34;&#34;</span><span class="op" id="7498239">}</span><span class="op" id="7498240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498244">{</span><span class="string" id="7498245">&#34;;&nbsp;foo=bar&#34;</span><span class="op" id="7498256">,</span>&nbsp;<span class="string" id="7498258">&#34;foo&#34;</span><span class="op" id="7498263">,</span>&nbsp;<span class="string" id="7498265">&#34;bar&#34;</span><span class="op" id="7498270">,</span>&nbsp;<span class="string" id="7498272">&#34;&#34;</span><span class="op" id="7498274">}</span><span class="op" id="7498275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498279">{</span><span class="string" id="7498280">&#34;;foo=bar&#34;</span><span class="op" id="7498290">,</span>&nbsp;<span class="string" id="7498292">&#34;foo&#34;</span><span class="op" id="7498297">,</span>&nbsp;<span class="string" id="7498299">&#34;bar&#34;</span><span class="op" id="7498304">,</span>&nbsp;<span class="string" id="7498306">&#34;&#34;</span><span class="op" id="7498308">}</span><span class="op" id="7498309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498313">{</span><span class="string" id="7498314">&#34;;FOO=bar&#34;</span><span class="op" id="7498324">,</span>&nbsp;<span class="string" id="7498326">&#34;foo&#34;</span><span class="op" id="7498331">,</span>&nbsp;<span class="string" id="7498333">&#34;bar&#34;</span><span class="op" id="7498338">,</span>&nbsp;<span class="string" id="7498340">&#34;&#34;</span><span class="op" id="7498342">}</span><span class="op" id="7498343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498347">{</span><span class="string" id="7498348">`;foo=&#34;bar&#34;`</span><span class="op" id="7498360">,</span>&nbsp;<span class="string" id="7498362">&#34;foo&#34;</span><span class="op" id="7498367">,</span>&nbsp;<span class="string" id="7498369">&#34;bar&#34;</span><span class="op" id="7498374">,</span>&nbsp;<span class="string" id="7498376">&#34;&#34;</span><span class="op" id="7498378">}</span><span class="op" id="7498379">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498383">{</span><span class="string" id="7498384">`;foo=&#34;bar&#34;;&nbsp;`</span><span class="op" id="7498398">,</span>&nbsp;<span class="string" id="7498400">&#34;foo&#34;</span><span class="op" id="7498405">,</span>&nbsp;<span class="string" id="7498407">&#34;bar&#34;</span><span class="op" id="7498412">,</span>&nbsp;<span class="string" id="7498414">&#34;;&nbsp;&#34;</span><span class="op" id="7498418">}</span><span class="op" id="7498419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498423">{</span><span class="string" id="7498424">`;foo=&#34;bar&#34;;&nbsp;foo=baz`</span><span class="op" id="7498445">,</span>&nbsp;<span class="string" id="7498447">&#34;foo&#34;</span><span class="op" id="7498452">,</span>&nbsp;<span class="string" id="7498454">&#34;bar&#34;</span><span class="op" id="7498459">,</span>&nbsp;<span class="string" id="7498461">&#34;;&nbsp;foo=baz&#34;</span><span class="op" id="7498472">}</span><span class="op" id="7498473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498477">{</span><span class="string" id="7498478">`&nbsp;;&nbsp;boundary=----CUT;`</span><span class="op" id="7498500">,</span>&nbsp;<span class="string" id="7498502">&#34;boundary&#34;</span><span class="op" id="7498512">,</span>&nbsp;<span class="string" id="7498514">&#34;----CUT&#34;</span><span class="op" id="7498523">,</span>&nbsp;<span class="string" id="7498525">&#34;;&#34;</span><span class="op" id="7498528">}</span><span class="op" id="7498529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498533">{</span><span class="string" id="7498534">`&nbsp;;&nbsp;key=value;&nbsp;&nbsp;blah=&#34;value&#34;;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="7498575">,</span>&nbsp;<span class="string" id="7498577">&#34;key&#34;</span><span class="op" id="7498582">,</span>&nbsp;<span class="string" id="7498584">&#34;value&#34;</span><span class="op" id="7498591">,</span>&nbsp;<span class="string" id="7498593">`;&nbsp;&nbsp;blah=&#34;value&#34;;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="7498622">}</span><span class="op" id="7498623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498627">{</span><span class="string" id="7498628">`;&nbsp;&nbsp;blah=&#34;value&#34;;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="7498657">,</span>&nbsp;<span class="string" id="7498659">&#34;blah&#34;</span><span class="op" id="7498665">,</span>&nbsp;<span class="string" id="7498667">&#34;value&#34;</span><span class="op" id="7498674">,</span>&nbsp;<span class="string" id="7498676">`;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="7498690">}</span><span class="op" id="7498691">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498695">{</span><span class="string" id="7498696">`;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="7498710">,</span>&nbsp;<span class="string" id="7498712">&#34;name&#34;</span><span class="op" id="7498718">,</span>&nbsp;<span class="string" id="7498720">&#34;foo&#34;</span><span class="op" id="7498725">,</span>&nbsp;<span class="string" id="7498727">`&nbsp;`</span><span class="op" id="7498730">}</span><span class="op" id="7498731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498737">for</span>&nbsp;<span class="ident" id="7498741">_</span><span class="op" id="7498742">,</span>&nbsp;<span class="ident" id="7498744">test</span>&nbsp;<span class="op" id="7498749">:=</span>&nbsp;<span class="keyword" id="7498752">range</span>&nbsp;<span class="ident" id="7498758"><a href="/mime/mediatype_test.go.html#7498181">tests</a></span>&nbsp;<span class="op" id="7498764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498768">param</span><span class="op" id="7498773">,</span>&nbsp;<span class="ident" id="7498775">value</span><span class="op" id="7498780">,</span>&nbsp;<span class="ident" id="7498782">rest</span>&nbsp;<span class="op" id="7498787">:=</span>&nbsp;<span class="ident" id="7498790"><a href="/mime/mediatype.go.html#3956739">consumeMediaParam</a></span><span class="op" id="7498807">(</span><span class="ident" id="7498808"><a href="/mime/mediatype_test.go.html#7498744">test</a></span><span class="op" id="7498812">[</span><span class="num" id="7498813">0</span><span class="op" id="7498814">]</span><span class="op" id="7498815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498819">expectedParam</span>&nbsp;<span class="op" id="7498833">:=</span>&nbsp;<span class="ident" id="7498836"><a href="/mime/mediatype_test.go.html#7498744">test</a></span><span class="op" id="7498840">[</span><span class="num" id="7498841">1</span><span class="op" id="7498842">]</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498846">expectedValue</span>&nbsp;<span class="op" id="7498860">:=</span>&nbsp;<span class="ident" id="7498863"><a href="/mime/mediatype_test.go.html#7498744">test</a></span><span class="op" id="7498867">[</span><span class="num" id="7498868">2</span><span class="op" id="7498869">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498873">expectedRest</span>&nbsp;<span class="op" id="7498886">:=</span>&nbsp;<span class="ident" id="7498889"><a href="/mime/mediatype_test.go.html#7498744">test</a></span><span class="op" id="7498893">[</span><span class="num" id="7498894">3</span><span class="op" id="7498895">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498899">if</span>&nbsp;<span class="ident" id="7498902"><a href="/mime/mediatype_test.go.html#7498768">param</a></span>&nbsp;<span class="op" id="7498908">!=</span>&nbsp;<span class="ident" id="7498911"><a href="/mime/mediatype_test.go.html#7498819">expectedParam</a></span>&nbsp;<span class="op" id="7498925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498930"><a href="/mime/mediatype_test.go.html#7498164">t</a></span><span class="op" id="7498931">.</span><span class="ident" id="7498932">Errorf</span><span class="op" id="7498938">(</span><span class="string" id="7498939">&#34;expected&nbsp;to&nbsp;consume&nbsp;param&nbsp;[%s],&nbsp;not&nbsp;[%s]&nbsp;from&nbsp;[%s]&#34;</span><span class="op" id="7498991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498997"><a href="/mime/mediatype_test.go.html#7498819">expectedParam</a></span><span class="op" id="7499010">,</span>&nbsp;<span class="ident" id="7499012"><a href="/mime/mediatype_test.go.html#7498768">param</a></span><span class="op" id="7499017">,</span>&nbsp;<span class="ident" id="7499019"><a href="/mime/mediatype_test.go.html#7498744">test</a></span><span class="op" id="7499023">[</span><span class="num" id="7499024">0</span><span class="op" id="7499025">]</span><span class="op" id="7499026">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499030">}</span>&nbsp;<span class="keyword" id="7499032">else</span>&nbsp;<span class="keyword" id="7499037">if</span>&nbsp;<span class="ident" id="7499040"><a href="/mime/mediatype_test.go.html#7498775">value</a></span>&nbsp;<span class="op" id="7499046">!=</span>&nbsp;<span class="ident" id="7499049"><a href="/mime/mediatype_test.go.html#7498846">expectedValue</a></span>&nbsp;<span class="op" id="7499063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499068"><a href="/mime/mediatype_test.go.html#7498164">t</a></span><span class="op" id="7499069">.</span><span class="ident" id="7499070">Errorf</span><span class="op" id="7499076">(</span><span class="string" id="7499077">&#34;expected&nbsp;to&nbsp;consume&nbsp;value&nbsp;[%s],&nbsp;not&nbsp;[%s]&nbsp;from&nbsp;[%s]&#34;</span><span class="op" id="7499129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499135"><a href="/mime/mediatype_test.go.html#7498846">expectedValue</a></span><span class="op" id="7499148">,</span>&nbsp;<span class="ident" id="7499150"><a href="/mime/mediatype_test.go.html#7498775">value</a></span><span class="op" id="7499155">,</span>&nbsp;<span class="ident" id="7499157"><a href="/mime/mediatype_test.go.html#7498744">test</a></span><span class="op" id="7499161">[</span><span class="num" id="7499162">0</span><span class="op" id="7499163">]</span><span class="op" id="7499164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499168">}</span>&nbsp;<span class="keyword" id="7499170">else</span>&nbsp;<span class="keyword" id="7499175">if</span>&nbsp;<span class="ident" id="7499178"><a href="/mime/mediatype_test.go.html#7498782">rest</a></span>&nbsp;<span class="op" id="7499183">!=</span>&nbsp;<span class="ident" id="7499186"><a href="/mime/mediatype_test.go.html#7498873">expectedRest</a></span>&nbsp;<span class="op" id="7499199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499204"><a href="/mime/mediatype_test.go.html#7498164">t</a></span><span class="op" id="7499205">.</span><span class="ident" id="7499206">Errorf</span><span class="op" id="7499212">(</span><span class="string" id="7499213">&#34;expected&nbsp;to&nbsp;have&nbsp;left&nbsp;[%s],&nbsp;not&nbsp;[%s]&nbsp;after&nbsp;reading&nbsp;[%s/%s]&nbsp;from&nbsp;[%s]&#34;</span><span class="op" id="7499283">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499289"><a href="/mime/mediatype_test.go.html#7498873">expectedRest</a></span><span class="op" id="7499301">,</span>&nbsp;<span class="ident" id="7499303"><a href="/mime/mediatype_test.go.html#7498782">rest</a></span><span class="op" id="7499307">,</span>&nbsp;<span class="ident" id="7499309"><a href="/mime/mediatype_test.go.html#7498768">param</a></span><span class="op" id="7499314">,</span>&nbsp;<span class="ident" id="7499316"><a href="/mime/mediatype_test.go.html#7498775">value</a></span><span class="op" id="7499321">,</span>&nbsp;<span class="ident" id="7499323"><a href="/mime/mediatype_test.go.html#7498744">test</a></span><span class="op" id="7499327">[</span><span class="num" id="7499328">0</span><span class="op" id="7499329">]</span><span class="op" id="7499330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499337">}</span><br>
<span class="lineno"></span><span class="op" id="7499339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7499342">type</span>&nbsp;<span class="ident" id="7499347">mediaTypeTest</span>&nbsp;<span class="keyword" id="7499361">struct</span>&nbsp;<span class="op" id="7499368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499371">in</span>&nbsp;<span class="builtintype" id="7499374">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499382">t</span>&nbsp;&nbsp;<span class="builtintype" id="7499385">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499393">p</span>&nbsp;&nbsp;<span class="keyword" id="7499396">map</span><span class="op" id="7499399">[</span><span class="builtintype" id="7499400">string</span><span class="op" id="7499406">]</span><span class="builtintype" id="7499407">string</span><br>
<span class="lineno"></span><span class="op" id="7499414">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="7499417">func</span>&nbsp;<span class="ident" id="7499422">TestParseMediaType</span><span class="op" id="7499440">(</span><span class="ident" id="7499441">t</span>&nbsp;<span class="op" id="7499443">*</span><span class="ident" id="7499444"><a href="/mime/mediatype_test.go.html#7496778">testing</a></span><span class="op" id="7499451">.</span><span class="ident" id="7499452">T</span><span class="op" id="7499453">)</span>&nbsp;<span class="op" id="7499455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7499458">//&nbsp;Convenience&nbsp;map&nbsp;initializer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499490">m</span>&nbsp;<span class="op" id="7499492">:=</span>&nbsp;<span class="keyword" id="7499495">func</span><span class="op" id="7499499">(</span><span class="ident" id="7499500">s</span>&nbsp;<span class="op" id="7499502">...</span><span class="builtintype" id="7499505">string</span><span class="op" id="7499511">)</span>&nbsp;<span class="keyword" id="7499513">map</span><span class="op" id="7499516">[</span><span class="builtintype" id="7499517">string</span><span class="op" id="7499523">]</span><span class="builtintype" id="7499524">string</span>&nbsp;<span class="op" id="7499531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499535">sm</span>&nbsp;<span class="op" id="7499538">:=</span>&nbsp;<span class="builtinfunc" id="7499541">make</span><span class="op" id="7499545">(</span><span class="keyword" id="7499546">map</span><span class="op" id="7499549">[</span><span class="builtintype" id="7499550">string</span><span class="op" id="7499556">]</span><span class="builtintype" id="7499557">string</span><span class="op" id="7499563">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499567">for</span>&nbsp;<span class="ident" id="7499571">i</span>&nbsp;<span class="op" id="7499573">:=</span>&nbsp;<span class="num" id="7499576">0</span><span class="op" id="7499577">;</span>&nbsp;<span class="ident" id="7499579"><a href="/mime/mediatype_test.go.html#7499571">i</a></span>&nbsp;<span class="op" id="7499581">&lt;</span>&nbsp;<span class="builtinfunc" id="7499583">len</span><span class="op" id="7499586">(</span><span class="ident" id="7499587"><a href="/mime/mediatype_test.go.html#7499500">s</a></span><span class="op" id="7499588">)</span><span class="op" id="7499589">;</span>&nbsp;<span class="ident" id="7499591"><a href="/mime/mediatype_test.go.html#7499571">i</a></span>&nbsp;<span class="op" id="7499593">+=</span>&nbsp;<span class="num" id="7499596">2</span>&nbsp;<span class="op" id="7499598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499603"><a href="/mime/mediatype_test.go.html#7499535">sm</a></span><span class="op" id="7499605">[</span><span class="ident" id="7499606"><a href="/mime/mediatype_test.go.html#7499500">s</a></span><span class="op" id="7499607">[</span><span class="ident" id="7499608"><a href="/mime/mediatype_test.go.html#7499571">i</a></span><span class="op" id="7499609">]</span><span class="op" id="7499610">]</span>&nbsp;<span class="op" id="7499612">=</span>&nbsp;<span class="ident" id="7499614"><a href="/mime/mediatype_test.go.html#7499500">s</a></span><span class="op" id="7499615">[</span><span class="ident" id="7499616"><a href="/mime/mediatype_test.go.html#7499571">i</a></span><span class="op" id="7499617">+</span><span class="num" id="7499618">1</span><span class="op" id="7499619">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7499627">return</span>&nbsp;<span class="ident" id="7499634"><a href="/mime/mediatype_test.go.html#7499535">sm</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499638">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499642">nameFoo</span>&nbsp;<span class="op" id="7499650">:=</span>&nbsp;<span class="keyword" id="7499653">map</span><span class="op" id="7499656">[</span><span class="builtintype" id="7499657">string</span><span class="op" id="7499663">]</span><span class="builtintype" id="7499664">string</span><span class="op" id="7499670">{</span><span class="string" id="7499671">&#34;name&#34;</span><span class="op" id="7499677">:</span>&nbsp;<span class="string" id="7499679">&#34;foo&#34;</span><span class="op" id="7499684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499687">tests</span>&nbsp;<span class="op" id="7499693">:=</span>&nbsp;<span class="op" id="7499696">[</span><span class="op" id="7499697">]</span><span class="ident" id="7499698"><a href="/mime/mediatype_test.go.html#7499347">mediaTypeTest</a></span><span class="op" id="7499711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499715">{</span><span class="string" id="7499716">`form-data;&nbsp;name=&#34;foo&#34;`</span><span class="op" id="7499739">,</span>&nbsp;<span class="string" id="7499741">&#34;form-data&#34;</span><span class="op" id="7499752">,</span>&nbsp;<span class="ident" id="7499754"><a href="/mime/mediatype_test.go.html#7499642">nameFoo</a></span><span class="op" id="7499761">}</span><span class="op" id="7499762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499766">{</span><span class="string" id="7499767">`&nbsp;form-data&nbsp;;&nbsp;name=foo`</span><span class="op" id="7499790">,</span>&nbsp;<span class="string" id="7499792">&#34;form-data&#34;</span><span class="op" id="7499803">,</span>&nbsp;<span class="ident" id="7499805"><a href="/mime/mediatype_test.go.html#7499642">nameFoo</a></span><span class="op" id="7499812">}</span><span class="op" id="7499813">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499817">{</span><span class="string" id="7499818">`FORM-DATA;name=&#34;foo&#34;`</span><span class="op" id="7499840">,</span>&nbsp;<span class="string" id="7499842">&#34;form-data&#34;</span><span class="op" id="7499853">,</span>&nbsp;<span class="ident" id="7499855"><a href="/mime/mediatype_test.go.html#7499642">nameFoo</a></span><span class="op" id="7499862">}</span><span class="op" id="7499863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499867">{</span><span class="string" id="7499868">`&nbsp;FORM-DATA&nbsp;;&nbsp;name=&#34;foo&#34;`</span><span class="op" id="7499893">,</span>&nbsp;<span class="string" id="7499895">&#34;form-data&#34;</span><span class="op" id="7499906">,</span>&nbsp;<span class="ident" id="7499908"><a href="/mime/mediatype_test.go.html#7499642">nameFoo</a></span><span class="op" id="7499915">}</span><span class="op" id="7499916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499920">{</span><span class="string" id="7499921">`&nbsp;FORM-DATA&nbsp;;&nbsp;name=&#34;foo&#34;`</span><span class="op" id="7499946">,</span>&nbsp;<span class="string" id="7499948">&#34;form-data&#34;</span><span class="op" id="7499959">,</span>&nbsp;<span class="ident" id="7499961"><a href="/mime/mediatype_test.go.html#7499642">nameFoo</a></span><span class="op" id="7499968">}</span><span class="op" id="7499969">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499974">{</span><span class="string" id="7499975">`form-data;&nbsp;key=value;&nbsp;&nbsp;blah=&#34;value&#34;;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="7500024">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500029">&#34;form-data&#34;</span><span class="op" id="7500040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500045"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7500046">(</span><span class="string" id="7500047">&#34;key&#34;</span><span class="op" id="7500052">,</span>&nbsp;<span class="string" id="7500054">&#34;value&#34;</span><span class="op" id="7500061">,</span>&nbsp;<span class="string" id="7500063">&#34;blah&#34;</span><span class="op" id="7500069">,</span>&nbsp;<span class="string" id="7500071">&#34;value&#34;</span><span class="op" id="7500078">,</span>&nbsp;<span class="string" id="7500080">&#34;name&#34;</span><span class="op" id="7500086">,</span>&nbsp;<span class="string" id="7500088">&#34;foo&#34;</span><span class="op" id="7500093">)</span><span class="op" id="7500094">}</span><span class="op" id="7500095">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500100">{</span><span class="string" id="7500101">`foo;&nbsp;key=val1;&nbsp;key=the-key-appears-again-which-is-bogus`</span><span class="op" id="7500158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500163">&#34;&#34;</span><span class="op" id="7500165">,</span>&nbsp;<span class="ident" id="7500167"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7500168">(</span><span class="op" id="7500169">)</span><span class="op" id="7500170">}</span><span class="op" id="7500171">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7500176">//&nbsp;From&nbsp;RFC&nbsp;2231:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500196">{</span><span class="string" id="7500197">`application/x-stuff;&nbsp;title*=us-ascii&#39;en-us&#39;This%20is%20%2A%2A%2Afun%2A%2A%2A`</span><span class="op" id="7500275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500280">&#34;application/x-stuff&#34;</span><span class="op" id="7500301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500306"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7500307">(</span><span class="string" id="7500308">&#34;title&#34;</span><span class="op" id="7500315">,</span>&nbsp;<span class="string" id="7500317">&#34;This&nbsp;is&nbsp;***fun***&#34;</span><span class="op" id="7500336">)</span><span class="op" id="7500337">}</span><span class="op" id="7500338">,</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500343">{</span><span class="string" id="7500344">`message/external-body;&nbsp;access-type=URL;&nbsp;`</span>&nbsp;<span class="op" id="7500387">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500392">`URL*0=&#34;ftp://&#34;;`</span>&nbsp;<span class="op" id="7500410">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500415">`URL*1=&#34;cs.utk.edu/pub/moore/bulk-mailer/bulk-mailer.tar&#34;`</span><span class="op" id="7500473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500478">&#34;message/external-body&#34;</span><span class="op" id="7500501">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500506"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7500507">(</span><span class="string" id="7500508">&#34;access-type&#34;</span><span class="op" id="7500521">,</span>&nbsp;<span class="string" id="7500523">&#34;URL&#34;</span><span class="op" id="7500528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500534">&#34;url&#34;</span><span class="op" id="7500539">,</span>&nbsp;<span class="string" id="7500541">&#34;ftp://cs.utk.edu/pub/moore/bulk-mailer/bulk-mailer.tar&#34;</span><span class="op" id="7500597">)</span><span class="op" id="7500598">}</span><span class="op" id="7500599">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500604">{</span><span class="string" id="7500605">`application/x-stuff;&nbsp;`</span>&nbsp;<span class="op" id="7500629">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500634">`title*0*=us-ascii&#39;en&#39;This%20is%20even%20more%20;&nbsp;`</span>&nbsp;<span class="op" id="7500686">+</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500691">`title*1*=%2A%2A%2Afun%2A%2A%2A%20;&nbsp;`</span>&nbsp;<span class="op" id="7500729">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500734">`title*2=&#34;isn&#39;t&nbsp;it!&#34;`</span><span class="op" id="7500755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500760">&#34;application/x-stuff&#34;</span><span class="op" id="7500781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500786"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7500787">(</span><span class="string" id="7500788">&#34;title&#34;</span><span class="op" id="7500795">,</span>&nbsp;<span class="string" id="7500797">&#34;This&nbsp;is&nbsp;even&nbsp;more&nbsp;***fun***&nbsp;isn&#39;t&nbsp;it!&#34;</span><span class="op" id="7500836">)</span><span class="op" id="7500837">}</span><span class="op" id="7500838">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7500843">//&nbsp;Tests&nbsp;from&nbsp;http://greenbytes.de/tech/tc2231/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7500893">//&nbsp;TODO(bradfitz):&nbsp;add&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;tests&nbsp;from&nbsp;that&nbsp;site.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500956">{</span><span class="string" id="7500957">`attachment;&nbsp;filename=&#34;f\oo.html&#34;`</span><span class="op" id="7500991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500996">&#34;attachment&#34;</span><span class="op" id="7501008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501013"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501014">(</span><span class="string" id="7501015">&#34;filename&#34;</span><span class="op" id="7501025">,</span>&nbsp;<span class="string" id="7501027">&#34;foo.html&#34;</span><span class="op" id="7501037">)</span><span class="op" id="7501038">}</span><span class="op" id="7501039">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501043">{</span><span class="string" id="7501044">`attachment;&nbsp;filename=&#34;\&#34;quoting\&#34;&nbsp;tested.html&#34;`</span><span class="op" id="7501092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501097">&#34;attachment&#34;</span><span class="op" id="7501109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501114"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501115">(</span><span class="string" id="7501116">&#34;filename&#34;</span><span class="op" id="7501126">,</span>&nbsp;<span class="string" id="7501128">`&#34;quoting&#34;&nbsp;tested.html`</span><span class="op" id="7501151">)</span><span class="op" id="7501152">}</span><span class="op" id="7501153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501157">{</span><span class="string" id="7501158">`attachment;&nbsp;filename=&#34;Here&#39;s&nbsp;a&nbsp;semicolon;.html&#34;`</span><span class="op" id="7501207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501212">&#34;attachment&#34;</span><span class="op" id="7501224">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501229"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501230">(</span><span class="string" id="7501231">&#34;filename&#34;</span><span class="op" id="7501241">,</span>&nbsp;<span class="string" id="7501243">&#34;Here&#39;s&nbsp;a&nbsp;semicolon;.html&#34;</span><span class="op" id="7501269">)</span><span class="op" id="7501270">}</span><span class="op" id="7501271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501275">{</span><span class="string" id="7501276">`attachment;&nbsp;foo=&#34;\&#34;\\&#34;;filename=&#34;foo.html&#34;`</span><span class="op" id="7501320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501325">&#34;attachment&#34;</span><span class="op" id="7501337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501342"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501343">(</span><span class="string" id="7501344">&#34;foo&#34;</span><span class="op" id="7501349">,</span>&nbsp;<span class="string" id="7501351">&#34;\&#34;\\&#34;</span><span class="op" id="7501357">,</span>&nbsp;<span class="string" id="7501359">&#34;filename&#34;</span><span class="op" id="7501369">,</span>&nbsp;<span class="string" id="7501371">&#34;foo.html&#34;</span><span class="op" id="7501381">)</span><span class="op" id="7501382">}</span><span class="op" id="7501383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501387">{</span><span class="string" id="7501388">`attachment;&nbsp;filename=foo.html`</span><span class="op" id="7501419">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501424">&#34;attachment&#34;</span><span class="op" id="7501436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501441"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501442">(</span><span class="string" id="7501443">&#34;filename&#34;</span><span class="op" id="7501453">,</span>&nbsp;<span class="string" id="7501455">&#34;foo.html&#34;</span><span class="op" id="7501465">)</span><span class="op" id="7501466">}</span><span class="op" id="7501467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501471">{</span><span class="string" id="7501472">`attachment;&nbsp;filename=foo.html&nbsp;;`</span><span class="op" id="7501505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501510">&#34;attachment&#34;</span><span class="op" id="7501522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501527"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501528">(</span><span class="string" id="7501529">&#34;filename&#34;</span><span class="op" id="7501539">,</span>&nbsp;<span class="string" id="7501541">&#34;foo.html&#34;</span><span class="op" id="7501551">)</span><span class="op" id="7501552">}</span><span class="op" id="7501553">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501557">{</span><span class="string" id="7501558">`attachment;&nbsp;filename=&#39;foo.html&#39;`</span><span class="op" id="7501591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501596">&#34;attachment&#34;</span><span class="op" id="7501608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501613"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501614">(</span><span class="string" id="7501615">&#34;filename&#34;</span><span class="op" id="7501625">,</span>&nbsp;<span class="string" id="7501627">&#34;foo.html&#34;</span><span class="op" id="7501637">)</span><span class="op" id="7501638">}</span><span class="op" id="7501639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501643">{</span><span class="string" id="7501644">`attachment;&nbsp;filename=&#34;foo-%41.html&#34;`</span><span class="op" id="7501681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501686">&#34;attachment&#34;</span><span class="op" id="7501698">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501703"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501704">(</span><span class="string" id="7501705">&#34;filename&#34;</span><span class="op" id="7501715">,</span>&nbsp;<span class="string" id="7501717">&#34;foo-%41.html&#34;</span><span class="op" id="7501731">)</span><span class="op" id="7501732">}</span><span class="op" id="7501733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501737">{</span><span class="string" id="7501738">`attachment;&nbsp;filename=&#34;foo-%\41.html&#34;`</span><span class="op" id="7501776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501781">&#34;attachment&#34;</span><span class="op" id="7501793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501798"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501799">(</span><span class="string" id="7501800">&#34;filename&#34;</span><span class="op" id="7501810">,</span>&nbsp;<span class="string" id="7501812">&#34;foo-%41.html&#34;</span><span class="op" id="7501826">)</span><span class="op" id="7501827">}</span><span class="op" id="7501828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501832">{</span><span class="string" id="7501833">`filename=foo.html`</span><span class="op" id="7501852">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501857">&#34;&#34;</span><span class="op" id="7501859">,</span>&nbsp;<span class="ident" id="7501861"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501862">(</span><span class="op" id="7501863">)</span><span class="op" id="7501864">}</span><span class="op" id="7501865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501869">{</span><span class="string" id="7501870">`x=y;&nbsp;filename=foo.html`</span><span class="op" id="7501894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501899">&#34;&#34;</span><span class="op" id="7501901">,</span>&nbsp;<span class="ident" id="7501903"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501904">(</span><span class="op" id="7501905">)</span><span class="op" id="7501906">}</span><span class="op" id="7501907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501911">{</span><span class="string" id="7501912">`&#34;foo;&nbsp;filename=bar;baz&#34;;&nbsp;filename=qux`</span><span class="op" id="7501951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7501956">&#34;&#34;</span><span class="op" id="7501958">,</span>&nbsp;<span class="ident" id="7501960"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7501961">(</span><span class="op" id="7501962">)</span><span class="op" id="7501963">}</span><span class="op" id="7501964">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501968">{</span><span class="string" id="7501969">`inline;&nbsp;attachment;&nbsp;filename=foo.html`</span><span class="op" id="7502008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502013">&#34;&#34;</span><span class="op" id="7502015">,</span>&nbsp;<span class="ident" id="7502017"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502018">(</span><span class="op" id="7502019">)</span><span class="op" id="7502020">}</span><span class="op" id="7502021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502025">{</span><span class="string" id="7502026">`attachment;&nbsp;filename=&#34;foo.html&#34;.txt`</span><span class="op" id="7502063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502068">&#34;&#34;</span><span class="op" id="7502070">,</span>&nbsp;<span class="ident" id="7502072"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502073">(</span><span class="op" id="7502074">)</span><span class="op" id="7502075">}</span><span class="op" id="7502076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502080">{</span><span class="string" id="7502081">`attachment;&nbsp;filename=&#34;bar`</span><span class="op" id="7502108">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502113">&#34;&#34;</span><span class="op" id="7502115">,</span>&nbsp;<span class="ident" id="7502117"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502118">(</span><span class="op" id="7502119">)</span><span class="op" id="7502120">}</span><span class="op" id="7502121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502125">{</span><span class="string" id="7502126">`attachment;&nbsp;creation-date=&#34;Wed,&nbsp;12&nbsp;Feb&nbsp;1997&nbsp;16:29:51&nbsp;-0500&#34;`</span><span class="op" id="7502187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502192">&#34;attachment&#34;</span><span class="op" id="7502204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502209"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502210">(</span><span class="string" id="7502211">&#34;creation-date&#34;</span><span class="op" id="7502226">,</span>&nbsp;<span class="string" id="7502228">&#34;Wed,&nbsp;12&nbsp;Feb&nbsp;1997&nbsp;16:29:51&nbsp;-0500&#34;</span><span class="op" id="7502261">)</span><span class="op" id="7502262">}</span><span class="op" id="7502263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502267">{</span><span class="string" id="7502268">`foobar`</span><span class="op" id="7502276">,</span>&nbsp;<span class="string" id="7502278">&#34;foobar&#34;</span><span class="op" id="7502286">,</span>&nbsp;<span class="ident" id="7502288"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502289">(</span><span class="op" id="7502290">)</span><span class="op" id="7502291">}</span><span class="op" id="7502292">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502296">{</span><span class="string" id="7502297">`attachment;&nbsp;filename*&nbsp;=UTF-8&#39;&#39;foo-%c3%a4.html`</span><span class="op" id="7502344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502349">&#34;attachment&#34;</span><span class="op" id="7502361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502366"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502367">(</span><span class="string" id="7502368">&#34;filename&#34;</span><span class="op" id="7502378">,</span>&nbsp;<span class="string" id="7502380">&#34;foo-ä.html&#34;</span><span class="op" id="7502393">)</span><span class="op" id="7502394">}</span><span class="op" id="7502395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502399">{</span><span class="string" id="7502400">`attachment;&nbsp;filename*=UTF-8&#39;&#39;A-%2541.html`</span><span class="op" id="7502443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502448">&#34;attachment&#34;</span><span class="op" id="7502460">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502465"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502466">(</span><span class="string" id="7502467">&#34;filename&#34;</span><span class="op" id="7502477">,</span>&nbsp;<span class="string" id="7502479">&#34;A-%41.html&#34;</span><span class="op" id="7502491">)</span><span class="op" id="7502492">}</span><span class="op" id="7502493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502497">{</span><span class="string" id="7502498">`attachment;&nbsp;filename*0=&#34;foo.&#34;;&nbsp;filename*1=&#34;html&#34;`</span><span class="op" id="7502548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502553">&#34;attachment&#34;</span><span class="op" id="7502565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502570"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502571">(</span><span class="string" id="7502572">&#34;filename&#34;</span><span class="op" id="7502582">,</span>&nbsp;<span class="string" id="7502584">&#34;foo.html&#34;</span><span class="op" id="7502594">)</span><span class="op" id="7502595">}</span><span class="op" id="7502596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502600">{</span><span class="string" id="7502601">`attachment;&nbsp;filename*0*=UTF-8&#39;&#39;foo-%c3%a4;&nbsp;filename*1=&#34;.html&#34;`</span><span class="op" id="7502664">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502669">&#34;attachment&#34;</span><span class="op" id="7502681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502686"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502687">(</span><span class="string" id="7502688">&#34;filename&#34;</span><span class="op" id="7502698">,</span>&nbsp;<span class="string" id="7502700">&#34;foo-ä.html&#34;</span><span class="op" id="7502713">)</span><span class="op" id="7502714">}</span><span class="op" id="7502715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502719">{</span><span class="string" id="7502720">`attachment;&nbsp;filename*0=&#34;foo&#34;;&nbsp;filename*01=&#34;bar&#34;`</span><span class="op" id="7502769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502774">&#34;attachment&#34;</span><span class="op" id="7502786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502791"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502792">(</span><span class="string" id="7502793">&#34;filename&#34;</span><span class="op" id="7502803">,</span>&nbsp;<span class="string" id="7502805">&#34;foo&#34;</span><span class="op" id="7502810">)</span><span class="op" id="7502811">}</span><span class="op" id="7502812">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502816">{</span><span class="string" id="7502817">`attachment;&nbsp;filename*0=&#34;foo&#34;;&nbsp;filename*2=&#34;bar&#34;`</span><span class="op" id="7502865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502870">&#34;attachment&#34;</span><span class="op" id="7502882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502887"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502888">(</span><span class="string" id="7502889">&#34;filename&#34;</span><span class="op" id="7502899">,</span>&nbsp;<span class="string" id="7502901">&#34;foo&#34;</span><span class="op" id="7502906">)</span><span class="op" id="7502907">}</span><span class="op" id="7502908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502912">{</span><span class="string" id="7502913">`attachment;&nbsp;filename*1=&#34;foo&#34;;&nbsp;filename*2=&#34;bar&#34;`</span><span class="op" id="7502961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7502966">&#34;attachment&#34;</span><span class="op" id="7502978">,</span>&nbsp;<span class="ident" id="7502980"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7502981">(</span><span class="op" id="7502982">)</span><span class="op" id="7502983">}</span><span class="op" id="7502984">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502988">{</span><span class="string" id="7502989">`attachment;&nbsp;filename*1=&#34;bar&#34;;&nbsp;filename*0=&#34;foo&#34;`</span><span class="op" id="7503037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7503042">&#34;attachment&#34;</span><span class="op" id="7503054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503059"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7503060">(</span><span class="string" id="7503061">&#34;filename&#34;</span><span class="op" id="7503071">,</span>&nbsp;<span class="string" id="7503073">&#34;foobar&#34;</span><span class="op" id="7503081">)</span><span class="op" id="7503082">}</span><span class="op" id="7503083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503087">{</span><span class="string" id="7503088">`attachment;&nbsp;filename=&#34;foo-ae.html&#34;;&nbsp;filename*=UTF-8&#39;&#39;foo-%c3%a4.html`</span><span class="op" id="7503158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7503163">&#34;attachment&#34;</span><span class="op" id="7503175">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503180"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7503181">(</span><span class="string" id="7503182">&#34;filename&#34;</span><span class="op" id="7503192">,</span>&nbsp;<span class="string" id="7503194">&#34;foo-ä.html&#34;</span><span class="op" id="7503207">)</span><span class="op" id="7503208">}</span><span class="op" id="7503209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503213">{</span><span class="string" id="7503214">`attachment;&nbsp;filename*=UTF-8&#39;&#39;foo-%c3%a4.html;&nbsp;filename=&#34;foo-ae.html&#34;`</span><span class="op" id="7503284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7503289">&#34;attachment&#34;</span><span class="op" id="7503301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503306"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7503307">(</span><span class="string" id="7503308">&#34;filename&#34;</span><span class="op" id="7503318">,</span>&nbsp;<span class="string" id="7503320">&#34;foo-ä.html&#34;</span><span class="op" id="7503333">)</span><span class="op" id="7503334">}</span><span class="op" id="7503335">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7503340">//&nbsp;Browsers&nbsp;also&nbsp;just&nbsp;send&nbsp;UTF-8&nbsp;directly&nbsp;without&nbsp;RFC&nbsp;2231,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7503402">//&nbsp;at&nbsp;least&nbsp;when&nbsp;the&nbsp;source&nbsp;page&nbsp;is&nbsp;served&nbsp;with&nbsp;UTF-8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503459">{</span><span class="string" id="7503460">`form-data;&nbsp;firstname=&#34;Брэд&#34;;&nbsp;lastname=&#34;Фицпатрик&#34;`</span><span class="op" id="7503524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7503529">&#34;form-data&#34;</span><span class="op" id="7503540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503545"><a href="/mime/mediatype_test.go.html#7499490">m</a></span><span class="op" id="7503546">(</span><span class="string" id="7503547">&#34;firstname&#34;</span><span class="op" id="7503558">,</span>&nbsp;<span class="string" id="7503560">&#34;Брэд&#34;</span><span class="op" id="7503570">,</span>&nbsp;<span class="string" id="7503572">&#34;lastname&#34;</span><span class="op" id="7503582">,</span>&nbsp;<span class="string" id="7503584">&#34;Фицпатрик&#34;</span><span class="op" id="7503604">)</span><span class="op" id="7503605">}</span><span class="op" id="7503606">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503612">for</span>&nbsp;<span class="ident" id="7503616">_</span><span class="op" id="7503617">,</span>&nbsp;<span class="ident" id="7503619">test</span>&nbsp;<span class="op" id="7503624">:=</span>&nbsp;<span class="keyword" id="7503627">range</span>&nbsp;<span class="ident" id="7503633"><a href="/mime/mediatype_test.go.html#7499687">tests</a></span>&nbsp;<span class="op" id="7503639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503643">mt</span><span class="op" id="7503645">,</span>&nbsp;<span class="ident" id="7503647">params</span><span class="op" id="7503653">,</span>&nbsp;<span class="ident" id="7503655">err</span>&nbsp;<span class="op" id="7503659">:=</span>&nbsp;<span class="ident" id="7503662"><a href="/mime/mediatype.go.html#3952623">ParseMediaType</a></span><span class="op" id="7503676">(</span><span class="ident" id="7503677"><a href="/mime/mediatype_test.go.html#7503619">test</a></span><span class="op" id="7503681">.</span><span class="ident" id="7503682">in</span><span class="op" id="7503684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503688">if</span>&nbsp;<span class="ident" id="7503691"><a href="/mime/mediatype_test.go.html#7503655">err</a></span>&nbsp;<span class="op" id="7503695">!=</span>&nbsp;<span class="ident" id="7503698">nil</span>&nbsp;<span class="op" id="7503702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503707">if</span>&nbsp;<span class="ident" id="7503710"><a href="/mime/mediatype_test.go.html#7503619">test</a></span><span class="op" id="7503714">.</span><span class="ident" id="7503715">t</span>&nbsp;<span class="op" id="7503717">!=</span>&nbsp;<span class="string" id="7503720">&#34;&#34;</span>&nbsp;<span class="op" id="7503723">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503729"><a href="/mime/mediatype_test.go.html#7499441">t</a></span><span class="op" id="7503730">.</span><span class="ident" id="7503731">Errorf</span><span class="op" id="7503737">(</span><span class="string" id="7503738">&#34;for&nbsp;input&nbsp;%q,&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7503774">,</span>&nbsp;<span class="ident" id="7503776"><a href="/mime/mediatype_test.go.html#7503619">test</a></span><span class="op" id="7503780">.</span><span class="ident" id="7503781">in</span><span class="op" id="7503783">,</span>&nbsp;<span class="ident" id="7503785"><a href="/mime/mediatype_test.go.html#7503655">err</a></span><span class="op" id="7503788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503794">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503811">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503822">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503826">if</span>&nbsp;<span class="ident" id="7503829">g</span><span class="op" id="7503830">,</span>&nbsp;<span class="ident" id="7503832">e</span>&nbsp;<span class="op" id="7503834">:=</span>&nbsp;<span class="ident" id="7503837"><a href="/mime/mediatype_test.go.html#7503643">mt</a></span><span class="op" id="7503839">,</span>&nbsp;<span class="ident" id="7503841"><a href="/mime/mediatype_test.go.html#7503619">test</a></span><span class="op" id="7503845">.</span><span class="ident" id="7503846">t</span><span class="op" id="7503847">;</span>&nbsp;<span class="ident" id="7503849"><a href="/mime/mediatype_test.go.html#7503829">g</a></span>&nbsp;<span class="op" id="7503851">!=</span>&nbsp;<span class="ident" id="7503854"><a href="/mime/mediatype_test.go.html#7503832">e</a></span>&nbsp;<span class="op" id="7503856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503861"><a href="/mime/mediatype_test.go.html#7499441">t</a></span><span class="op" id="7503862">.</span><span class="ident" id="7503863">Errorf</span><span class="op" id="7503869">(</span><span class="string" id="7503870">&#34;for&nbsp;input&nbsp;%q,&nbsp;expected&nbsp;type&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7503910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503916"><a href="/mime/mediatype_test.go.html#7503619">test</a></span><span class="op" id="7503920">.</span><span class="ident" id="7503921">in</span><span class="op" id="7503923">,</span>&nbsp;<span class="ident" id="7503925"><a href="/mime/mediatype_test.go.html#7503832">e</a></span><span class="op" id="7503926">,</span>&nbsp;<span class="ident" id="7503928"><a href="/mime/mediatype_test.go.html#7503829">g</a></span><span class="op" id="7503929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503934">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503945">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503949">if</span>&nbsp;<span class="builtinfunc" id="7503952">len</span><span class="op" id="7503955">(</span><span class="ident" id="7503956"><a href="/mime/mediatype_test.go.html#7503647">params</a></span><span class="op" id="7503962">)</span>&nbsp;<span class="op" id="7503964">==</span>&nbsp;<span class="num" id="7503967">0</span>&nbsp;<span class="op" id="7503969">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7503972">len</span><span class="op" id="7503975">(</span><span class="ident" id="7503976"><a href="/mime/mediatype_test.go.html#7503619">test</a></span><span class="op" id="7503980">.</span><span class="ident" id="7503981">p</span><span class="op" id="7503982">)</span>&nbsp;<span class="op" id="7503984">==</span>&nbsp;<span class="num" id="7503987">0</span>&nbsp;<span class="op" id="7503989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503994">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504009">if</span>&nbsp;<span class="op" id="7504012">!</span><span class="ident" id="7504013"><a href="/mime/mediatype_test.go.html#7496767">reflect</a></span><span class="op" id="7504020">.</span><span class="ident" id="7504021">DeepEqual</span><span class="op" id="7504030">(</span><span class="ident" id="7504031"><a href="/mime/mediatype_test.go.html#7503647">params</a></span><span class="op" id="7504037">,</span>&nbsp;<span class="ident" id="7504039"><a href="/mime/mediatype_test.go.html#7503619">test</a></span><span class="op" id="7504043">.</span><span class="ident" id="7504044">p</span><span class="op" id="7504045">)</span>&nbsp;<span class="op" id="7504047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504052"><a href="/mime/mediatype_test.go.html#7499441">t</a></span><span class="op" id="7504053">.</span><span class="ident" id="7504054">Errorf</span><span class="op" id="7504060">(</span><span class="string" id="7504061">&#34;for&nbsp;input&nbsp;%q,&nbsp;wrong&nbsp;params.\n&#34;</span><span class="op" id="7504092">+</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7504098">&#34;expected:&nbsp;%#v\n&#34;</span><span class="op" id="7504115">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7504121">&#34;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;got:&nbsp;%#v&#34;</span><span class="op" id="7504136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504142"><a href="/mime/mediatype_test.go.html#7503619">test</a></span><span class="op" id="7504146">.</span><span class="ident" id="7504147">in</span><span class="op" id="7504149">,</span>&nbsp;<span class="ident" id="7504151"><a href="/mime/mediatype_test.go.html#7503619">test</a></span><span class="op" id="7504155">.</span><span class="ident" id="7504156">p</span><span class="op" id="7504157">,</span>&nbsp;<span class="ident" id="7504159"><a href="/mime/mediatype_test.go.html#7503647">params</a></span><span class="op" id="7504165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504172">}</span><br>
<span class="lineno">245</span><span class="op" id="7504174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7504177">type</span>&nbsp;<span class="ident" id="7504182">badMediaTypeTest</span>&nbsp;<span class="keyword" id="7504199">struct</span>&nbsp;<span class="op" id="7504206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504209">in</span>&nbsp;&nbsp;<span class="builtintype" id="7504213">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504221">err</span>&nbsp;<span class="builtintype" id="7504225">string</span><br>
<span class="lineno">250</span><span class="op" id="7504232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7504235">var</span>&nbsp;<span class="ident" id="7504239">badMediaTypeTests</span>&nbsp;<span class="op" id="7504257">=</span>&nbsp;<span class="op" id="7504259">[</span><span class="op" id="7504260">]</span><span class="ident" id="7504261"><a href="/mime/mediatype_test.go.html#7504182">badMediaTypeTest</a></span><span class="op" id="7504277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504280">{</span><span class="string" id="7504281">&#34;bogus&nbsp;;=========&#34;</span><span class="op" id="7504299">,</span>&nbsp;<span class="string" id="7504301">&#34;mime:&nbsp;invalid&nbsp;media&nbsp;parameter&#34;</span><span class="op" id="7504332">}</span><span class="op" id="7504333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504336">{</span><span class="string" id="7504337">&#34;bogus/&lt;script&gt;alert&lt;/script&gt;&#34;</span><span class="op" id="7504367">,</span>&nbsp;<span class="string" id="7504369">&#34;mime:&nbsp;expected&nbsp;token&nbsp;after&nbsp;slash&#34;</span><span class="op" id="7504403">}</span><span class="op" id="7504404">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504407">{</span><span class="string" id="7504408">&#34;bogus/bogus&lt;script&gt;alert&lt;/script&gt;&#34;</span><span class="op" id="7504443">,</span>&nbsp;<span class="string" id="7504445">&#34;mime:&nbsp;unexpected&nbsp;content&nbsp;after&nbsp;media&nbsp;subtype&#34;</span><span class="op" id="7504491">}</span><span class="op" id="7504492">,</span><br>
<span class="lineno"></span><span class="op" id="7504494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7504497">func</span>&nbsp;<span class="ident" id="7504502">TestParseMediaTypeBogus</span><span class="op" id="7504525">(</span><span class="ident" id="7504526">t</span>&nbsp;<span class="op" id="7504528">*</span><span class="ident" id="7504529"><a href="/mime/mediatype_test.go.html#7496778">testing</a></span><span class="op" id="7504536">.</span><span class="ident" id="7504537">T</span><span class="op" id="7504538">)</span>&nbsp;<span class="op" id="7504540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504543">for</span>&nbsp;<span class="ident" id="7504547">_</span><span class="op" id="7504548">,</span>&nbsp;<span class="ident" id="7504550">tt</span>&nbsp;<span class="op" id="7504553">:=</span>&nbsp;<span class="keyword" id="7504556">range</span>&nbsp;<span class="ident" id="7504562"><a href="/mime/mediatype_test.go.html#7504239">badMediaTypeTests</a></span>&nbsp;<span class="op" id="7504580">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504584">mt</span><span class="op" id="7504586">,</span>&nbsp;<span class="ident" id="7504588">params</span><span class="op" id="7504594">,</span>&nbsp;<span class="ident" id="7504596">err</span>&nbsp;<span class="op" id="7504600">:=</span>&nbsp;<span class="ident" id="7504603"><a href="/mime/mediatype.go.html#3952623">ParseMediaType</a></span><span class="op" id="7504617">(</span><span class="ident" id="7504618"><a href="/mime/mediatype_test.go.html#7504550">tt</a></span><span class="op" id="7504620">.</span><span class="ident" id="7504621">in</span><span class="op" id="7504623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504627">if</span>&nbsp;<span class="ident" id="7504630"><a href="/mime/mediatype_test.go.html#7504596">err</a></span>&nbsp;<span class="op" id="7504634">==</span>&nbsp;<span class="ident" id="7504637">nil</span>&nbsp;<span class="op" id="7504641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504646"><a href="/mime/mediatype_test.go.html#7504526">t</a></span><span class="op" id="7504647">.</span><span class="ident" id="7504648">Errorf</span><span class="op" id="7504654">(</span><span class="string" id="7504655">&#34;ParseMediaType(%q)&nbsp;=&nbsp;nil&nbsp;error;&nbsp;want&nbsp;parse&nbsp;error&#34;</span><span class="op" id="7504705">,</span>&nbsp;<span class="ident" id="7504707"><a href="/mime/mediatype_test.go.html#7504550">tt</a></span><span class="op" id="7504709">.</span><span class="ident" id="7504710">in</span><span class="op" id="7504712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504717">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504728">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504732">if</span>&nbsp;<span class="ident" id="7504735"><a href="/mime/mediatype_test.go.html#7504596">err</a></span><span class="op" id="7504738">.</span><span class="ident" id="7504739">Error</span><span class="op" id="7504744">(</span><span class="op" id="7504745">)</span>&nbsp;<span class="op" id="7504747">!=</span>&nbsp;<span class="ident" id="7504750"><a href="/mime/mediatype_test.go.html#7504550">tt</a></span><span class="op" id="7504752">.</span><span class="ident" id="7504753">err</span>&nbsp;<span class="op" id="7504757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504762"><a href="/mime/mediatype_test.go.html#7504526">t</a></span><span class="op" id="7504763">.</span><span class="ident" id="7504764">Errorf</span><span class="op" id="7504770">(</span><span class="string" id="7504771">&#34;ParseMediaType(%q)&nbsp;=&nbsp;err&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7504809">,</span>&nbsp;<span class="ident" id="7504811"><a href="/mime/mediatype_test.go.html#7504550">tt</a></span><span class="op" id="7504813">.</span><span class="ident" id="7504814">in</span><span class="op" id="7504816">,</span>&nbsp;<span class="ident" id="7504818"><a href="/mime/mediatype_test.go.html#7504596">err</a></span><span class="op" id="7504821">.</span><span class="ident" id="7504822">Error</span><span class="op" id="7504827">(</span><span class="op" id="7504828">)</span><span class="op" id="7504829">,</span>&nbsp;<span class="ident" id="7504831"><a href="/mime/mediatype_test.go.html#7504550">tt</a></span><span class="op" id="7504833">.</span><span class="ident" id="7504834">err</span><span class="op" id="7504837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504845">if</span>&nbsp;<span class="ident" id="7504848"><a href="/mime/mediatype_test.go.html#7504588">params</a></span>&nbsp;<span class="op" id="7504855">!=</span>&nbsp;<span class="ident" id="7504858">nil</span>&nbsp;<span class="op" id="7504862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504867"><a href="/mime/mediatype_test.go.html#7504526">t</a></span><span class="op" id="7504868">.</span><span class="ident" id="7504869">Errorf</span><span class="op" id="7504875">(</span><span class="string" id="7504876">&#34;ParseMediaType(%q):&nbsp;got&nbsp;non-nil&nbsp;params&nbsp;on&nbsp;error&#34;</span><span class="op" id="7504925">,</span>&nbsp;<span class="ident" id="7504927"><a href="/mime/mediatype_test.go.html#7504550">tt</a></span><span class="op" id="7504929">.</span><span class="ident" id="7504930">in</span><span class="op" id="7504932">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504940">if</span>&nbsp;<span class="ident" id="7504943"><a href="/mime/mediatype_test.go.html#7504584">mt</a></span>&nbsp;<span class="op" id="7504946">!=</span>&nbsp;<span class="string" id="7504949">&#34;&#34;</span>&nbsp;<span class="op" id="7504952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504957"><a href="/mime/mediatype_test.go.html#7504526">t</a></span><span class="op" id="7504958">.</span><span class="ident" id="7504959">Errorf</span><span class="op" id="7504965">(</span><span class="string" id="7504966">&#34;ParseMediaType(%q):&nbsp;got&nbsp;non-empty&nbsp;media&nbsp;type&nbsp;string&nbsp;on&nbsp;error&#34;</span><span class="op" id="7505028">,</span>&nbsp;<span class="ident" id="7505030"><a href="/mime/mediatype_test.go.html#7504550">tt</a></span><span class="op" id="7505032">.</span><span class="ident" id="7505033">in</span><span class="op" id="7505035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505042">}</span><br>
<span class="lineno">275</span><span class="op" id="7505044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7505047">type</span>&nbsp;<span class="ident" id="7505052">formatTest</span>&nbsp;<span class="keyword" id="7505063">struct</span>&nbsp;<span class="op" id="7505070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505073">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7505080">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505088">params</span>&nbsp;<span class="keyword" id="7505095">map</span><span class="op" id="7505098">[</span><span class="builtintype" id="7505099">string</span><span class="op" id="7505105">]</span><span class="builtintype" id="7505106">string</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505114">want</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7505121">string</span><br>
<span class="lineno"></span><span class="op" id="7505128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7505131">var</span>&nbsp;<span class="ident" id="7505135">formatTests</span>&nbsp;<span class="op" id="7505147">=</span>&nbsp;<span class="op" id="7505149">[</span><span class="op" id="7505150">]</span><span class="ident" id="7505151"><a href="/mime/mediatype_test.go.html#7505052">formatTest</a></span><span class="op" id="7505161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505164">{</span><span class="string" id="7505165">&#34;noslash&#34;</span><span class="op" id="7505174">,</span>&nbsp;<span class="ident" id="7505176">nil</span><span class="op" id="7505179">,</span>&nbsp;<span class="string" id="7505181">&#34;&#34;</span><span class="op" id="7505183">}</span><span class="op" id="7505184">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505187">{</span><span class="string" id="7505188">&#34;foo&nbsp;bar/baz&#34;</span><span class="op" id="7505201">,</span>&nbsp;<span class="ident" id="7505203">nil</span><span class="op" id="7505206">,</span>&nbsp;<span class="string" id="7505208">&#34;&#34;</span><span class="op" id="7505210">}</span><span class="op" id="7505211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505214">{</span><span class="string" id="7505215">&#34;foo/bar&nbsp;baz&#34;</span><span class="op" id="7505228">,</span>&nbsp;<span class="ident" id="7505230">nil</span><span class="op" id="7505233">,</span>&nbsp;<span class="string" id="7505235">&#34;&#34;</span><span class="op" id="7505237">}</span><span class="op" id="7505238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505241">{</span><span class="string" id="7505242">&#34;foo/BAR&#34;</span><span class="op" id="7505251">,</span>&nbsp;<span class="ident" id="7505253">nil</span><span class="op" id="7505256">,</span>&nbsp;<span class="string" id="7505258">&#34;foo/bar&#34;</span><span class="op" id="7505267">}</span><span class="op" id="7505268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505271">{</span><span class="string" id="7505272">&#34;foo/BAR&#34;</span><span class="op" id="7505281">,</span>&nbsp;<span class="keyword" id="7505283">map</span><span class="op" id="7505286">[</span><span class="builtintype" id="7505287">string</span><span class="op" id="7505293">]</span><span class="builtintype" id="7505294">string</span><span class="op" id="7505300">{</span><span class="string" id="7505301">&#34;X&#34;</span><span class="op" id="7505304">:</span>&nbsp;<span class="string" id="7505306">&#34;Y&#34;</span><span class="op" id="7505309">}</span><span class="op" id="7505310">,</span>&nbsp;<span class="string" id="7505312">&#34;foo/bar;&nbsp;x=Y&#34;</span><span class="op" id="7505326">}</span><span class="op" id="7505327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505330">{</span><span class="string" id="7505331">&#34;foo/BAR&#34;</span><span class="op" id="7505340">,</span>&nbsp;<span class="keyword" id="7505342">map</span><span class="op" id="7505345">[</span><span class="builtintype" id="7505346">string</span><span class="op" id="7505352">]</span><span class="builtintype" id="7505353">string</span><span class="op" id="7505359">{</span><span class="string" id="7505360">&#34;space&#34;</span><span class="op" id="7505367">:</span>&nbsp;<span class="string" id="7505369">&#34;With&nbsp;space&#34;</span><span class="op" id="7505381">}</span><span class="op" id="7505382">,</span>&nbsp;<span class="string" id="7505384">`foo/bar;&nbsp;space=&#34;With&nbsp;space&#34;`</span><span class="op" id="7505413">}</span><span class="op" id="7505414">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505417">{</span><span class="string" id="7505418">&#34;foo/BAR&#34;</span><span class="op" id="7505427">,</span>&nbsp;<span class="keyword" id="7505429">map</span><span class="op" id="7505432">[</span><span class="builtintype" id="7505433">string</span><span class="op" id="7505439">]</span><span class="builtintype" id="7505440">string</span><span class="op" id="7505446">{</span><span class="string" id="7505447">&#34;quote&#34;</span><span class="op" id="7505454">:</span>&nbsp;<span class="string" id="7505456">`With&nbsp;&#34;quote`</span><span class="op" id="7505469">}</span><span class="op" id="7505470">,</span>&nbsp;<span class="string" id="7505472">`foo/bar;&nbsp;quote=&#34;With&nbsp;\&#34;quote&#34;`</span><span class="op" id="7505503">}</span><span class="op" id="7505504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505507">{</span><span class="string" id="7505508">&#34;foo/BAR&#34;</span><span class="op" id="7505517">,</span>&nbsp;<span class="keyword" id="7505519">map</span><span class="op" id="7505522">[</span><span class="builtintype" id="7505523">string</span><span class="op" id="7505529">]</span><span class="builtintype" id="7505530">string</span><span class="op" id="7505536">{</span><span class="string" id="7505537">&#34;bslash&#34;</span><span class="op" id="7505545">:</span>&nbsp;<span class="string" id="7505547">`With&nbsp;\backslash`</span><span class="op" id="7505564">}</span><span class="op" id="7505565">,</span>&nbsp;<span class="string" id="7505567">`foo/bar;&nbsp;bslash=&#34;With&nbsp;\\backslash&#34;`</span><span class="op" id="7505603">}</span><span class="op" id="7505604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505607">{</span><span class="string" id="7505608">&#34;foo/BAR&#34;</span><span class="op" id="7505617">,</span>&nbsp;<span class="keyword" id="7505619">map</span><span class="op" id="7505622">[</span><span class="builtintype" id="7505623">string</span><span class="op" id="7505629">]</span><span class="builtintype" id="7505630">string</span><span class="op" id="7505636">{</span><span class="string" id="7505637">&#34;both&#34;</span><span class="op" id="7505643">:</span>&nbsp;<span class="string" id="7505645">`With&nbsp;\backslash&nbsp;and&nbsp;&#34;quote`</span><span class="op" id="7505673">}</span><span class="op" id="7505674">,</span>&nbsp;<span class="string" id="7505676">`foo/bar;&nbsp;both=&#34;With&nbsp;\\backslash&nbsp;and&nbsp;\&#34;quote&#34;`</span><span class="op" id="7505722">}</span><span class="op" id="7505723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505726">{</span><span class="string" id="7505727">&#34;foo/BAR&#34;</span><span class="op" id="7505736">,</span>&nbsp;<span class="keyword" id="7505738">map</span><span class="op" id="7505741">[</span><span class="builtintype" id="7505742">string</span><span class="op" id="7505748">]</span><span class="builtintype" id="7505749">string</span><span class="op" id="7505755">{</span><span class="string" id="7505756">&#34;&#34;</span><span class="op" id="7505758">:</span>&nbsp;<span class="string" id="7505760">&#34;empty&nbsp;attribute&#34;</span><span class="op" id="7505777">}</span><span class="op" id="7505778">,</span>&nbsp;<span class="string" id="7505780">&#34;&#34;</span><span class="op" id="7505782">}</span><span class="op" id="7505783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505786">{</span><span class="string" id="7505787">&#34;foo/BAR&#34;</span><span class="op" id="7505796">,</span>&nbsp;<span class="keyword" id="7505798">map</span><span class="op" id="7505801">[</span><span class="builtintype" id="7505802">string</span><span class="op" id="7505808">]</span><span class="builtintype" id="7505809">string</span><span class="op" id="7505815">{</span><span class="string" id="7505816">&#34;bad&nbsp;attribute&#34;</span><span class="op" id="7505831">:</span>&nbsp;<span class="string" id="7505833">&#34;baz&#34;</span><span class="op" id="7505838">}</span><span class="op" id="7505839">,</span>&nbsp;<span class="string" id="7505841">&#34;&#34;</span><span class="op" id="7505843">}</span><span class="op" id="7505844">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505847">{</span><span class="string" id="7505848">&#34;foo/BAR&#34;</span><span class="op" id="7505857">,</span>&nbsp;<span class="keyword" id="7505859">map</span><span class="op" id="7505862">[</span><span class="builtintype" id="7505863">string</span><span class="op" id="7505869">]</span><span class="builtintype" id="7505870">string</span><span class="op" id="7505876">{</span><span class="string" id="7505877">&#34;nonascii&#34;</span><span class="op" id="7505887">:</span>&nbsp;<span class="string" id="7505889">&#34;not&nbsp;an&nbsp;ascii&nbsp;character:&nbsp;ä&#34;</span><span class="op" id="7505917">}</span><span class="op" id="7505918">,</span>&nbsp;<span class="string" id="7505920">&#34;&#34;</span><span class="op" id="7505922">}</span><span class="op" id="7505923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505926">{</span><span class="string" id="7505927">&#34;foo/bar&#34;</span><span class="op" id="7505936">,</span>&nbsp;<span class="keyword" id="7505938">map</span><span class="op" id="7505941">[</span><span class="builtintype" id="7505942">string</span><span class="op" id="7505948">]</span><span class="builtintype" id="7505949">string</span><span class="op" id="7505955">{</span><span class="string" id="7505956">&#34;a&#34;</span><span class="op" id="7505959">:</span>&nbsp;<span class="string" id="7505961">&#34;av&#34;</span><span class="op" id="7505965">,</span>&nbsp;<span class="string" id="7505967">&#34;b&#34;</span><span class="op" id="7505970">:</span>&nbsp;<span class="string" id="7505972">&#34;bv&#34;</span><span class="op" id="7505976">,</span>&nbsp;<span class="string" id="7505978">&#34;c&#34;</span><span class="op" id="7505981">:</span>&nbsp;<span class="string" id="7505983">&#34;cv&#34;</span><span class="op" id="7505987">}</span><span class="op" id="7505988">,</span>&nbsp;<span class="string" id="7505990">&#34;foo/bar;&nbsp;a=av;&nbsp;b=bv;&nbsp;c=cv&#34;</span><span class="op" id="7506017">}</span><span class="op" id="7506018">,</span><br>
<span class="lineno"></span><span class="op" id="7506020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7506023">func</span>&nbsp;<span class="ident" id="7506028">TestFormatMediaType</span><span class="op" id="7506047">(</span><span class="ident" id="7506048">t</span>&nbsp;<span class="op" id="7506050">*</span><span class="ident" id="7506051"><a href="/mime/mediatype_test.go.html#7496778">testing</a></span><span class="op" id="7506058">.</span><span class="ident" id="7506059">T</span><span class="op" id="7506060">)</span>&nbsp;<span class="op" id="7506062">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506065">for</span>&nbsp;<span class="ident" id="7506069">i</span><span class="op" id="7506070">,</span>&nbsp;<span class="ident" id="7506072">tt</span>&nbsp;<span class="op" id="7506075">:=</span>&nbsp;<span class="keyword" id="7506078">range</span>&nbsp;<span class="ident" id="7506084"><a href="/mime/mediatype_test.go.html#7505135">formatTests</a></span>&nbsp;<span class="op" id="7506096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506100">got</span>&nbsp;<span class="op" id="7506104">:=</span>&nbsp;<span class="ident" id="7506107"><a href="/mime/mediatype.go.html#3950650">FormatMediaType</a></span><span class="op" id="7506122">(</span><span class="ident" id="7506123"><a href="/mime/mediatype_test.go.html#7506072">tt</a></span><span class="op" id="7506125">.</span><span class="ident" id="7506126">typ</span><span class="op" id="7506129">,</span>&nbsp;<span class="ident" id="7506131"><a href="/mime/mediatype_test.go.html#7506072">tt</a></span><span class="op" id="7506133">.</span><span class="ident" id="7506134">params</span><span class="op" id="7506140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506144">if</span>&nbsp;<span class="ident" id="7506147"><a href="/mime/mediatype_test.go.html#7506100">got</a></span>&nbsp;<span class="op" id="7506151">!=</span>&nbsp;<span class="ident" id="7506154"><a href="/mime/mediatype_test.go.html#7506072">tt</a></span><span class="op" id="7506156">.</span><span class="ident" id="7506157">want</span>&nbsp;<span class="op" id="7506162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506167"><a href="/mime/mediatype_test.go.html#7506048">t</a></span><span class="op" id="7506168">.</span><span class="ident" id="7506169">Errorf</span><span class="op" id="7506175">(</span><span class="string" id="7506176">&#34;%d.&nbsp;FormatMediaType(%q,&nbsp;%v)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7506219">,</span>&nbsp;<span class="ident" id="7506221"><a href="/mime/mediatype_test.go.html#7506069">i</a></span><span class="op" id="7506222">,</span>&nbsp;<span class="ident" id="7506224"><a href="/mime/mediatype_test.go.html#7506072">tt</a></span><span class="op" id="7506226">.</span><span class="ident" id="7506227">typ</span><span class="op" id="7506230">,</span>&nbsp;<span class="ident" id="7506232"><a href="/mime/mediatype_test.go.html#7506072">tt</a></span><span class="op" id="7506234">.</span><span class="ident" id="7506235">params</span><span class="op" id="7506241">,</span>&nbsp;<span class="ident" id="7506243"><a href="/mime/mediatype_test.go.html#7506100">got</a></span><span class="op" id="7506246">,</span>&nbsp;<span class="ident" id="7506248"><a href="/mime/mediatype_test.go.html#7506072">tt</a></span><span class="op" id="7506250">.</span><span class="ident" id="7506251">want</span><span class="op" id="7506255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506259">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506262">}</span><br>
<span class="lineno"></span><span class="op" id="7506264">}</span>
</div>
</body>
</html>
