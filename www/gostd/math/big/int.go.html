<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html" class="current">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3761880">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3761935">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3761989">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3762040">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3762098">package</span>&nbsp;<span class="ident" id="3762106">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3762111">import</span>&nbsp;<span class="op" id="3762118">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3762121">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3762131">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3762138">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3762144">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3762157">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3762167">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3762170">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="3762225">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3762278">type</span>&nbsp;<span class="ident" id="3762283">Int</span>&nbsp;<span class="keyword" id="3762287">struct</span>&nbsp;<span class="op" id="3762294">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3762297">neg</span>&nbsp;<span class="builtintype" id="3762301">bool</span>&nbsp;<span class="comment" id="3762306">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3762315">abs</span>&nbsp;<span class="ident" id="3762319">nat</span>&nbsp;&nbsp;<span class="comment" id="3762324">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="3762357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3762360">var</span>&nbsp;<span class="ident" id="3762364">intOne</span>&nbsp;<span class="op" id="3762371">=</span>&nbsp;<span class="op" id="3762373">&amp;</span><span class="ident" id="3762374">Int</span><span class="op" id="3762377">{</span><span class="builtintype" id="3762378">false</span><span class="op" id="3762383">,</span>&nbsp;<span class="ident" id="3762385">natOne</span><span class="op" id="3762391">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="3762394">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="3762411">//</span><br>
<span class="lineno"></span><span class="comment" id="3762414">//&nbsp;&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3762430">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="3762446">//&nbsp;&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3762462">//</span><br>
<span class="lineno"></span><span class="keyword" id="3762465">func</span>&nbsp;<span class="op" id="3762470">(</span><span class="ident" id="3762471">x</span>&nbsp;<span class="op" id="3762473">*</span><span class="ident" id="3762474">Int</span><span class="op" id="3762477">)</span>&nbsp;<span class="ident" id="3762479">Sign</span><span class="op" id="3762483">(</span><span class="op" id="3762484">)</span>&nbsp;<span class="builtintype" id="3762486">int</span>&nbsp;<span class="op" id="3762490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3762493">if</span>&nbsp;<span class="builtinfunc" id="3762496">len</span><span class="op" id="3762499">(</span><span class="ident" id="3762500">x</span><span class="op" id="3762501">.</span><span class="ident" id="3762502">abs</span><span class="op" id="3762505">)</span>&nbsp;<span class="op" id="3762507">==</span>&nbsp;<span class="num" id="3762510">0</span>&nbsp;<span class="op" id="3762512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3762516">return</span>&nbsp;<span class="num" id="3762523">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3762526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3762529">if</span>&nbsp;<span class="ident" id="3762532">x</span><span class="op" id="3762533">.</span><span class="ident" id="3762534">neg</span>&nbsp;<span class="op" id="3762538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3762542">return</span>&nbsp;<span class="op" id="3762549">-</span><span class="num" id="3762550">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3762553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3762556">return</span>&nbsp;<span class="num" id="3762563">1</span><br>
<span class="lineno">40</span><span class="op" id="3762565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3762568">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3762607">func</span>&nbsp;<span class="op" id="3762612">(</span><span class="ident" id="3762613">z</span>&nbsp;<span class="op" id="3762615">*</span><span class="ident" id="3762616">Int</span><span class="op" id="3762619">)</span>&nbsp;<span class="ident" id="3762621">SetInt64</span><span class="op" id="3762629">(</span><span class="ident" id="3762630">x</span>&nbsp;<span class="ident" id="3762632">int64</span><span class="op" id="3762637">)</span>&nbsp;<span class="op" id="3762639">*</span><span class="ident" id="3762640">Int</span>&nbsp;<span class="op" id="3762644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3762647">neg</span>&nbsp;<span class="op" id="3762651">:=</span>&nbsp;<span class="builtintype" id="3762654">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3762661">if</span>&nbsp;<span class="ident" id="3762664">x</span>&nbsp;<span class="op" id="3762666">&lt;</span>&nbsp;<span class="num" id="3762668">0</span>&nbsp;<span class="op" id="3762670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3762674">neg</span>&nbsp;<span class="op" id="3762678">=</span>&nbsp;<span class="builtintype" id="3762680">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3762687">x</span>&nbsp;<span class="op" id="3762689">=</span>&nbsp;<span class="op" id="3762691">-</span><span class="ident" id="3762692">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3762695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3762698">z</span><span class="op" id="3762699">.</span><span class="ident" id="3762700">abs</span>&nbsp;<span class="op" id="3762704">=</span>&nbsp;<span class="ident" id="3762706">z</span><span class="op" id="3762707">.</span><span class="ident" id="3762708">abs</span><span class="op" id="3762711">.</span><span class="ident" id="3762712">setUint64</span><span class="op" id="3762721">(</span><span class="ident" id="3762722">uint64</span><span class="op" id="3762728">(</span><span class="ident" id="3762729">x</span><span class="op" id="3762730">)</span><span class="op" id="3762731">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3762734">z</span><span class="op" id="3762735">.</span><span class="ident" id="3762736">neg</span>&nbsp;<span class="op" id="3762740">=</span>&nbsp;<span class="ident" id="3762742">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3762747">return</span>&nbsp;<span class="ident" id="3762754">z</span><br>
<span class="lineno"></span><span class="op" id="3762756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3762759">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="3762799">func</span>&nbsp;<span class="op" id="3762804">(</span><span class="ident" id="3762805">z</span>&nbsp;<span class="op" id="3762807">*</span><span class="ident" id="3762808">Int</span><span class="op" id="3762811">)</span>&nbsp;<span class="ident" id="3762813">SetUint64</span><span class="op" id="3762822">(</span><span class="ident" id="3762823">x</span>&nbsp;<span class="ident" id="3762825">uint64</span><span class="op" id="3762831">)</span>&nbsp;<span class="op" id="3762833">*</span><span class="ident" id="3762834">Int</span>&nbsp;<span class="op" id="3762838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3762841">z</span><span class="op" id="3762842">.</span><span class="ident" id="3762843">abs</span>&nbsp;<span class="op" id="3762847">=</span>&nbsp;<span class="ident" id="3762849">z</span><span class="op" id="3762850">.</span><span class="ident" id="3762851">abs</span><span class="op" id="3762854">.</span><span class="ident" id="3762855">setUint64</span><span class="op" id="3762864">(</span><span class="ident" id="3762865">x</span><span class="op" id="3762866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3762869">z</span><span class="op" id="3762870">.</span><span class="ident" id="3762871">neg</span>&nbsp;<span class="op" id="3762875">=</span>&nbsp;<span class="builtintype" id="3762877">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3762884">return</span>&nbsp;<span class="ident" id="3762891">z</span><br>
<span class="lineno"></span><span class="op" id="3762893">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3762896">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="3762948">func</span>&nbsp;<span class="ident" id="3762953">NewInt</span><span class="op" id="3762959">(</span><span class="ident" id="3762960">x</span>&nbsp;<span class="ident" id="3762962">int64</span><span class="op" id="3762967">)</span>&nbsp;<span class="op" id="3762969">*</span><span class="ident" id="3762970">Int</span>&nbsp;<span class="op" id="3762974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3762977">return</span>&nbsp;<span class="builtinfunc" id="3762984">new</span><span class="op" id="3762987">(</span><span class="ident" id="3762988">Int</span><span class="op" id="3762991">)</span><span class="op" id="3762992">.</span><span class="ident" id="3762993">SetInt64</span><span class="op" id="3763001">(</span><span class="ident" id="3763002">x</span><span class="op" id="3763003">)</span><br>
<span class="lineno"></span><span class="op" id="3763005">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="3763008">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3763042">func</span>&nbsp;<span class="op" id="3763047">(</span><span class="ident" id="3763048">z</span>&nbsp;<span class="op" id="3763050">*</span><span class="ident" id="3763051">Int</span><span class="op" id="3763054">)</span>&nbsp;<span class="ident" id="3763056">Set</span><span class="op" id="3763059">(</span><span class="ident" id="3763060">x</span>&nbsp;<span class="op" id="3763062">*</span><span class="ident" id="3763063">Int</span><span class="op" id="3763066">)</span>&nbsp;<span class="op" id="3763068">*</span><span class="ident" id="3763069">Int</span>&nbsp;<span class="op" id="3763073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3763076">if</span>&nbsp;<span class="ident" id="3763079">z</span>&nbsp;<span class="op" id="3763081">!=</span>&nbsp;<span class="ident" id="3763084">x</span>&nbsp;<span class="op" id="3763086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3763090">z</span><span class="op" id="3763091">.</span><span class="ident" id="3763092">abs</span>&nbsp;<span class="op" id="3763096">=</span>&nbsp;<span class="ident" id="3763098">z</span><span class="op" id="3763099">.</span><span class="ident" id="3763100">abs</span><span class="op" id="3763103">.</span><span class="ident" id="3763104">set</span><span class="op" id="3763107">(</span><span class="ident" id="3763108">x</span><span class="op" id="3763109">.</span><span class="ident" id="3763110">abs</span><span class="op" id="3763113">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3763117">z</span><span class="op" id="3763118">.</span><span class="ident" id="3763119">neg</span>&nbsp;<span class="op" id="3763123">=</span>&nbsp;<span class="ident" id="3763125">x</span><span class="op" id="3763126">.</span><span class="ident" id="3763127">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3763132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3763135">return</span>&nbsp;<span class="ident" id="3763142">z</span><br>
<span class="lineno"></span><span class="op" id="3763144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="3763147">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="3763218">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="3763290">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3763320">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3763391">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="3763462">func</span>&nbsp;<span class="op" id="3763467">(</span><span class="ident" id="3763468">x</span>&nbsp;<span class="op" id="3763470">*</span><span class="ident" id="3763471">Int</span><span class="op" id="3763474">)</span>&nbsp;<span class="ident" id="3763476">Bits</span><span class="op" id="3763480">(</span><span class="op" id="3763481">)</span>&nbsp;<span class="op" id="3763483">[</span><span class="op" id="3763484">]</span><span class="ident" id="3763485">Word</span>&nbsp;<span class="op" id="3763490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3763493">return</span>&nbsp;<span class="ident" id="3763500">x</span><span class="op" id="3763501">.</span><span class="ident" id="3763502">abs</span><br>
<span class="lineno"></span><span class="op" id="3763506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3763509">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="3763581">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="3763655">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3763713">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3763787">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="3763858">func</span>&nbsp;<span class="op" id="3763863">(</span><span class="ident" id="3763864">z</span>&nbsp;<span class="op" id="3763866">*</span><span class="ident" id="3763867">Int</span><span class="op" id="3763870">)</span>&nbsp;<span class="ident" id="3763872">SetBits</span><span class="op" id="3763879">(</span><span class="ident" id="3763880">abs</span>&nbsp;<span class="op" id="3763884">[</span><span class="op" id="3763885">]</span><span class="ident" id="3763886">Word</span><span class="op" id="3763890">)</span>&nbsp;<span class="op" id="3763892">*</span><span class="ident" id="3763893">Int</span>&nbsp;<span class="op" id="3763897">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3763900">z</span><span class="op" id="3763901">.</span><span class="ident" id="3763902">abs</span>&nbsp;<span class="op" id="3763906">=</span>&nbsp;<span class="ident" id="3763908">nat</span><span class="op" id="3763911">(</span><span class="ident" id="3763912">abs</span><span class="op" id="3763915">)</span><span class="op" id="3763916">.</span><span class="ident" id="3763917">norm</span><span class="op" id="3763921">(</span><span class="op" id="3763922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3763925">z</span><span class="op" id="3763926">.</span><span class="ident" id="3763927">neg</span>&nbsp;<span class="op" id="3763931">=</span>&nbsp;<span class="builtintype" id="3763933">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3763940">return</span>&nbsp;<span class="ident" id="3763947">z</span><br>
<span class="lineno"></span><span class="op" id="3763949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3763952">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3764014">func</span>&nbsp;<span class="op" id="3764019">(</span><span class="ident" id="3764020">z</span>&nbsp;<span class="op" id="3764022">*</span><span class="ident" id="3764023">Int</span><span class="op" id="3764026">)</span>&nbsp;<span class="ident" id="3764028">Abs</span><span class="op" id="3764031">(</span><span class="ident" id="3764032">x</span>&nbsp;<span class="op" id="3764034">*</span><span class="ident" id="3764035">Int</span><span class="op" id="3764038">)</span>&nbsp;<span class="op" id="3764040">*</span><span class="ident" id="3764041">Int</span>&nbsp;<span class="op" id="3764045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764048">z</span><span class="op" id="3764049">.</span><span class="ident" id="3764050">Set</span><span class="op" id="3764053">(</span><span class="ident" id="3764054">x</span><span class="op" id="3764055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764058">z</span><span class="op" id="3764059">.</span><span class="ident" id="3764060">neg</span>&nbsp;<span class="op" id="3764064">=</span>&nbsp;<span class="builtintype" id="3764066">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764073">return</span>&nbsp;<span class="ident" id="3764080">z</span><br>
<span class="lineno">100</span><span class="op" id="3764082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3764085">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3764120">func</span>&nbsp;<span class="op" id="3764125">(</span><span class="ident" id="3764126">z</span>&nbsp;<span class="op" id="3764128">*</span><span class="ident" id="3764129">Int</span><span class="op" id="3764132">)</span>&nbsp;<span class="ident" id="3764134">Neg</span><span class="op" id="3764137">(</span><span class="ident" id="3764138">x</span>&nbsp;<span class="op" id="3764140">*</span><span class="ident" id="3764141">Int</span><span class="op" id="3764144">)</span>&nbsp;<span class="op" id="3764146">*</span><span class="ident" id="3764147">Int</span>&nbsp;<span class="op" id="3764151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764154">z</span><span class="op" id="3764155">.</span><span class="ident" id="3764156">Set</span><span class="op" id="3764159">(</span><span class="ident" id="3764160">x</span><span class="op" id="3764161">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764164">z</span><span class="op" id="3764165">.</span><span class="ident" id="3764166">neg</span>&nbsp;<span class="op" id="3764170">=</span>&nbsp;<span class="builtinfunc" id="3764172">len</span><span class="op" id="3764175">(</span><span class="ident" id="3764176">z</span><span class="op" id="3764177">.</span><span class="ident" id="3764178">abs</span><span class="op" id="3764181">)</span>&nbsp;<span class="op" id="3764183">&gt;</span>&nbsp;<span class="num" id="3764185">0</span>&nbsp;<span class="op" id="3764187">&amp;&amp;</span>&nbsp;<span class="op" id="3764190">!</span><span class="ident" id="3764191">z</span><span class="op" id="3764192">.</span><span class="ident" id="3764193">neg</span>&nbsp;<span class="comment" id="3764197">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764215">return</span>&nbsp;<span class="ident" id="3764222">z</span><br>
<span class="lineno"></span><span class="op" id="3764224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3764227">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="3764271">func</span>&nbsp;<span class="op" id="3764276">(</span><span class="ident" id="3764277">z</span>&nbsp;<span class="op" id="3764279">*</span><span class="ident" id="3764280">Int</span><span class="op" id="3764283">)</span>&nbsp;<span class="ident" id="3764285">Add</span><span class="op" id="3764288">(</span><span class="ident" id="3764289">x</span><span class="op" id="3764290">,</span>&nbsp;<span class="ident" id="3764292">y</span>&nbsp;<span class="op" id="3764294">*</span><span class="ident" id="3764295">Int</span><span class="op" id="3764298">)</span>&nbsp;<span class="op" id="3764300">*</span><span class="ident" id="3764301">Int</span>&nbsp;<span class="op" id="3764305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764308">neg</span>&nbsp;<span class="op" id="3764312">:=</span>&nbsp;<span class="ident" id="3764315">x</span><span class="op" id="3764316">.</span><span class="ident" id="3764317">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764322">if</span>&nbsp;<span class="ident" id="3764325">x</span><span class="op" id="3764326">.</span><span class="ident" id="3764327">neg</span>&nbsp;<span class="op" id="3764331">==</span>&nbsp;<span class="ident" id="3764334">y</span><span class="op" id="3764335">.</span><span class="ident" id="3764336">neg</span>&nbsp;<span class="op" id="3764340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3764344">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3764364">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764393">z</span><span class="op" id="3764394">.</span><span class="ident" id="3764395">abs</span>&nbsp;<span class="op" id="3764399">=</span>&nbsp;<span class="ident" id="3764401">z</span><span class="op" id="3764402">.</span><span class="ident" id="3764403">abs</span><span class="op" id="3764406">.</span><span class="ident" id="3764407">add</span><span class="op" id="3764410">(</span><span class="ident" id="3764411">x</span><span class="op" id="3764412">.</span><span class="ident" id="3764413">abs</span><span class="op" id="3764416">,</span>&nbsp;<span class="ident" id="3764418">y</span><span class="op" id="3764419">.</span><span class="ident" id="3764420">abs</span><span class="op" id="3764423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3764426">}</span>&nbsp;<span class="keyword" id="3764428">else</span>&nbsp;<span class="op" id="3764433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3764437">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3764472">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764507">if</span>&nbsp;<span class="ident" id="3764510">x</span><span class="op" id="3764511">.</span><span class="ident" id="3764512">abs</span><span class="op" id="3764515">.</span><span class="ident" id="3764516">cmp</span><span class="op" id="3764519">(</span><span class="ident" id="3764520">y</span><span class="op" id="3764521">.</span><span class="ident" id="3764522">abs</span><span class="op" id="3764525">)</span>&nbsp;<span class="op" id="3764527">&gt;=</span>&nbsp;<span class="num" id="3764530">0</span>&nbsp;<span class="op" id="3764532">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764537">z</span><span class="op" id="3764538">.</span><span class="ident" id="3764539">abs</span>&nbsp;<span class="op" id="3764543">=</span>&nbsp;<span class="ident" id="3764545">z</span><span class="op" id="3764546">.</span><span class="ident" id="3764547">abs</span><span class="op" id="3764550">.</span><span class="ident" id="3764551">sub</span><span class="op" id="3764554">(</span><span class="ident" id="3764555">x</span><span class="op" id="3764556">.</span><span class="ident" id="3764557">abs</span><span class="op" id="3764560">,</span>&nbsp;<span class="ident" id="3764562">y</span><span class="op" id="3764563">.</span><span class="ident" id="3764564">abs</span><span class="op" id="3764567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3764571">}</span>&nbsp;<span class="keyword" id="3764573">else</span>&nbsp;<span class="op" id="3764578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764583">neg</span>&nbsp;<span class="op" id="3764587">=</span>&nbsp;<span class="op" id="3764589">!</span><span class="ident" id="3764590">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764597">z</span><span class="op" id="3764598">.</span><span class="ident" id="3764599">abs</span>&nbsp;<span class="op" id="3764603">=</span>&nbsp;<span class="ident" id="3764605">z</span><span class="op" id="3764606">.</span><span class="ident" id="3764607">abs</span><span class="op" id="3764610">.</span><span class="ident" id="3764611">sub</span><span class="op" id="3764614">(</span><span class="ident" id="3764615">y</span><span class="op" id="3764616">.</span><span class="ident" id="3764617">abs</span><span class="op" id="3764620">,</span>&nbsp;<span class="ident" id="3764622">x</span><span class="op" id="3764623">.</span><span class="ident" id="3764624">abs</span><span class="op" id="3764627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3764631">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3764634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764637">z</span><span class="op" id="3764638">.</span><span class="ident" id="3764639">neg</span>&nbsp;<span class="op" id="3764643">=</span>&nbsp;<span class="builtinfunc" id="3764645">len</span><span class="op" id="3764648">(</span><span class="ident" id="3764649">z</span><span class="op" id="3764650">.</span><span class="ident" id="3764651">abs</span><span class="op" id="3764654">)</span>&nbsp;<span class="op" id="3764656">&gt;</span>&nbsp;<span class="num" id="3764658">0</span>&nbsp;<span class="op" id="3764660">&amp;&amp;</span>&nbsp;<span class="ident" id="3764663">neg</span>&nbsp;<span class="comment" id="3764667">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764685">return</span>&nbsp;<span class="ident" id="3764692">z</span><br>
<span class="lineno"></span><span class="op" id="3764694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3764697">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3764748">func</span>&nbsp;<span class="op" id="3764753">(</span><span class="ident" id="3764754">z</span>&nbsp;<span class="op" id="3764756">*</span><span class="ident" id="3764757">Int</span><span class="op" id="3764760">)</span>&nbsp;<span class="ident" id="3764762">Sub</span><span class="op" id="3764765">(</span><span class="ident" id="3764766">x</span><span class="op" id="3764767">,</span>&nbsp;<span class="ident" id="3764769">y</span>&nbsp;<span class="op" id="3764771">*</span><span class="ident" id="3764772">Int</span><span class="op" id="3764775">)</span>&nbsp;<span class="op" id="3764777">*</span><span class="ident" id="3764778">Int</span>&nbsp;<span class="op" id="3764782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764785">neg</span>&nbsp;<span class="op" id="3764789">:=</span>&nbsp;<span class="ident" id="3764792">x</span><span class="op" id="3764793">.</span><span class="ident" id="3764794">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764799">if</span>&nbsp;<span class="ident" id="3764802">x</span><span class="op" id="3764803">.</span><span class="ident" id="3764804">neg</span>&nbsp;<span class="op" id="3764808">!=</span>&nbsp;<span class="ident" id="3764811">y</span><span class="op" id="3764812">.</span><span class="ident" id="3764813">neg</span>&nbsp;<span class="op" id="3764817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3764821">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3764844">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764870">z</span><span class="op" id="3764871">.</span><span class="ident" id="3764872">abs</span>&nbsp;<span class="op" id="3764876">=</span>&nbsp;<span class="ident" id="3764878">z</span><span class="op" id="3764879">.</span><span class="ident" id="3764880">abs</span><span class="op" id="3764883">.</span><span class="ident" id="3764884">add</span><span class="op" id="3764887">(</span><span class="ident" id="3764888">x</span><span class="op" id="3764889">.</span><span class="ident" id="3764890">abs</span><span class="op" id="3764893">,</span>&nbsp;<span class="ident" id="3764895">y</span><span class="op" id="3764896">.</span><span class="ident" id="3764897">abs</span><span class="op" id="3764900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3764903">}</span>&nbsp;<span class="keyword" id="3764905">else</span>&nbsp;<span class="op" id="3764910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3764914">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3764946">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764984">if</span>&nbsp;<span class="ident" id="3764987">x</span><span class="op" id="3764988">.</span><span class="ident" id="3764989">abs</span><span class="op" id="3764992">.</span><span class="ident" id="3764993">cmp</span><span class="op" id="3764996">(</span><span class="ident" id="3764997">y</span><span class="op" id="3764998">.</span><span class="ident" id="3764999">abs</span><span class="op" id="3765002">)</span>&nbsp;<span class="op" id="3765004">&gt;=</span>&nbsp;<span class="num" id="3765007">0</span>&nbsp;<span class="op" id="3765009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765014">z</span><span class="op" id="3765015">.</span><span class="ident" id="3765016">abs</span>&nbsp;<span class="op" id="3765020">=</span>&nbsp;<span class="ident" id="3765022">z</span><span class="op" id="3765023">.</span><span class="ident" id="3765024">abs</span><span class="op" id="3765027">.</span><span class="ident" id="3765028">sub</span><span class="op" id="3765031">(</span><span class="ident" id="3765032">x</span><span class="op" id="3765033">.</span><span class="ident" id="3765034">abs</span><span class="op" id="3765037">,</span>&nbsp;<span class="ident" id="3765039">y</span><span class="op" id="3765040">.</span><span class="ident" id="3765041">abs</span><span class="op" id="3765044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3765048">}</span>&nbsp;<span class="keyword" id="3765050">else</span>&nbsp;<span class="op" id="3765055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765060">neg</span>&nbsp;<span class="op" id="3765064">=</span>&nbsp;<span class="op" id="3765066">!</span><span class="ident" id="3765067">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765074">z</span><span class="op" id="3765075">.</span><span class="ident" id="3765076">abs</span>&nbsp;<span class="op" id="3765080">=</span>&nbsp;<span class="ident" id="3765082">z</span><span class="op" id="3765083">.</span><span class="ident" id="3765084">abs</span><span class="op" id="3765087">.</span><span class="ident" id="3765088">sub</span><span class="op" id="3765091">(</span><span class="ident" id="3765092">y</span><span class="op" id="3765093">.</span><span class="ident" id="3765094">abs</span><span class="op" id="3765097">,</span>&nbsp;<span class="ident" id="3765099">x</span><span class="op" id="3765100">.</span><span class="ident" id="3765101">abs</span><span class="op" id="3765104">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3765108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3765111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765114">z</span><span class="op" id="3765115">.</span><span class="ident" id="3765116">neg</span>&nbsp;<span class="op" id="3765120">=</span>&nbsp;<span class="builtinfunc" id="3765122">len</span><span class="op" id="3765125">(</span><span class="ident" id="3765126">z</span><span class="op" id="3765127">.</span><span class="ident" id="3765128">abs</span><span class="op" id="3765131">)</span>&nbsp;<span class="op" id="3765133">&gt;</span>&nbsp;<span class="num" id="3765135">0</span>&nbsp;<span class="op" id="3765137">&amp;&amp;</span>&nbsp;<span class="ident" id="3765140">neg</span>&nbsp;<span class="comment" id="3765144">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765162">return</span>&nbsp;<span class="ident" id="3765169">z</span><br>
<span class="lineno"></span><span class="op" id="3765171">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="3765174">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3765222">func</span>&nbsp;<span class="op" id="3765227">(</span><span class="ident" id="3765228">z</span>&nbsp;<span class="op" id="3765230">*</span><span class="ident" id="3765231">Int</span><span class="op" id="3765234">)</span>&nbsp;<span class="ident" id="3765236">Mul</span><span class="op" id="3765239">(</span><span class="ident" id="3765240">x</span><span class="op" id="3765241">,</span>&nbsp;<span class="ident" id="3765243">y</span>&nbsp;<span class="op" id="3765245">*</span><span class="ident" id="3765246">Int</span><span class="op" id="3765249">)</span>&nbsp;<span class="op" id="3765251">*</span><span class="ident" id="3765252">Int</span>&nbsp;<span class="op" id="3765256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3765259">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3765278">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3765303">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3765328">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765353">z</span><span class="op" id="3765354">.</span><span class="ident" id="3765355">abs</span>&nbsp;<span class="op" id="3765359">=</span>&nbsp;<span class="ident" id="3765361">z</span><span class="op" id="3765362">.</span><span class="ident" id="3765363">abs</span><span class="op" id="3765366">.</span><span class="ident" id="3765367">mul</span><span class="op" id="3765370">(</span><span class="ident" id="3765371">x</span><span class="op" id="3765372">.</span><span class="ident" id="3765373">abs</span><span class="op" id="3765376">,</span>&nbsp;<span class="ident" id="3765378">y</span><span class="op" id="3765379">.</span><span class="ident" id="3765380">abs</span><span class="op" id="3765383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765386">z</span><span class="op" id="3765387">.</span><span class="ident" id="3765388">neg</span>&nbsp;<span class="op" id="3765392">=</span>&nbsp;<span class="builtinfunc" id="3765394">len</span><span class="op" id="3765397">(</span><span class="ident" id="3765398">z</span><span class="op" id="3765399">.</span><span class="ident" id="3765400">abs</span><span class="op" id="3765403">)</span>&nbsp;<span class="op" id="3765405">&gt;</span>&nbsp;<span class="num" id="3765407">0</span>&nbsp;<span class="op" id="3765409">&amp;&amp;</span>&nbsp;<span class="ident" id="3765412">x</span><span class="op" id="3765413">.</span><span class="ident" id="3765414">neg</span>&nbsp;<span class="op" id="3765418">!=</span>&nbsp;<span class="ident" id="3765421">y</span><span class="op" id="3765422">.</span><span class="ident" id="3765423">neg</span>&nbsp;<span class="comment" id="3765427">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765445">return</span>&nbsp;<span class="ident" id="3765452">z</span><br>
<span class="lineno">160</span><span class="op" id="3765454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3765457">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="3765507">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3765557">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="3765601">func</span>&nbsp;<span class="op" id="3765606">(</span><span class="ident" id="3765607">z</span>&nbsp;<span class="op" id="3765609">*</span><span class="ident" id="3765610">Int</span><span class="op" id="3765613">)</span>&nbsp;<span class="ident" id="3765615">MulRange</span><span class="op" id="3765623">(</span><span class="ident" id="3765624">a</span><span class="op" id="3765625">,</span>&nbsp;<span class="ident" id="3765627">b</span>&nbsp;<span class="ident" id="3765629">int64</span><span class="op" id="3765634">)</span>&nbsp;<span class="op" id="3765636">*</span><span class="ident" id="3765637">Int</span>&nbsp;<span class="op" id="3765641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765644">switch</span>&nbsp;<span class="op" id="3765651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765654">case</span>&nbsp;<span class="ident" id="3765659">a</span>&nbsp;<span class="op" id="3765661">&gt;</span>&nbsp;<span class="ident" id="3765663">b</span><span class="op" id="3765664">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765668">return</span>&nbsp;<span class="ident" id="3765675">z</span><span class="op" id="3765676">.</span><span class="ident" id="3765677">SetInt64</span><span class="op" id="3765685">(</span><span class="num" id="3765686">1</span><span class="op" id="3765687">)</span>&nbsp;<span class="comment" id="3765689">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765705">case</span>&nbsp;<span class="ident" id="3765710">a</span>&nbsp;<span class="op" id="3765712">&lt;=</span>&nbsp;<span class="num" id="3765715">0</span>&nbsp;<span class="op" id="3765717">&amp;&amp;</span>&nbsp;<span class="ident" id="3765720">b</span>&nbsp;<span class="op" id="3765722">&gt;=</span>&nbsp;<span class="num" id="3765725">0</span><span class="op" id="3765726">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765730">return</span>&nbsp;<span class="ident" id="3765737">z</span><span class="op" id="3765738">.</span><span class="ident" id="3765739">SetInt64</span><span class="op" id="3765747">(</span><span class="num" id="3765748">0</span><span class="op" id="3765749">)</span>&nbsp;<span class="comment" id="3765751">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3765772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3765775">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765807">neg</span>&nbsp;<span class="op" id="3765811">:=</span>&nbsp;<span class="builtintype" id="3765814">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765821">if</span>&nbsp;<span class="ident" id="3765824">a</span>&nbsp;<span class="op" id="3765826">&lt;</span>&nbsp;<span class="num" id="3765828">0</span>&nbsp;<span class="op" id="3765830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765834">neg</span>&nbsp;<span class="op" id="3765838">=</span>&nbsp;<span class="op" id="3765840">(</span><span class="ident" id="3765841">b</span><span class="op" id="3765842">-</span><span class="ident" id="3765843">a</span><span class="op" id="3765844">)</span><span class="op" id="3765845">&amp;</span><span class="num" id="3765846">1</span>&nbsp;<span class="op" id="3765848">==</span>&nbsp;<span class="num" id="3765851">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765855">a</span><span class="op" id="3765856">,</span>&nbsp;<span class="ident" id="3765858">b</span>&nbsp;<span class="op" id="3765860">=</span>&nbsp;<span class="op" id="3765862">-</span><span class="ident" id="3765863">b</span><span class="op" id="3765864">,</span>&nbsp;<span class="op" id="3765866">-</span><span class="ident" id="3765867">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3765870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765874">z</span><span class="op" id="3765875">.</span><span class="ident" id="3765876">abs</span>&nbsp;<span class="op" id="3765880">=</span>&nbsp;<span class="ident" id="3765882">z</span><span class="op" id="3765883">.</span><span class="ident" id="3765884">abs</span><span class="op" id="3765887">.</span><span class="ident" id="3765888">mulRange</span><span class="op" id="3765896">(</span><span class="ident" id="3765897">uint64</span><span class="op" id="3765903">(</span><span class="ident" id="3765904">a</span><span class="op" id="3765905">)</span><span class="op" id="3765906">,</span>&nbsp;<span class="ident" id="3765908">uint64</span><span class="op" id="3765914">(</span><span class="ident" id="3765915">b</span><span class="op" id="3765916">)</span><span class="op" id="3765917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765920">z</span><span class="op" id="3765921">.</span><span class="ident" id="3765922">neg</span>&nbsp;<span class="op" id="3765926">=</span>&nbsp;<span class="ident" id="3765928">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765933">return</span>&nbsp;<span class="ident" id="3765940">z</span><br>
<span class="lineno"></span><span class="op" id="3765942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="3765945">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3766017">func</span>&nbsp;<span class="op" id="3766022">(</span><span class="ident" id="3766023">z</span>&nbsp;<span class="op" id="3766025">*</span><span class="ident" id="3766026">Int</span><span class="op" id="3766029">)</span>&nbsp;<span class="ident" id="3766031">Binomial</span><span class="op" id="3766039">(</span><span class="ident" id="3766040">n</span><span class="op" id="3766041">,</span>&nbsp;<span class="ident" id="3766043">k</span>&nbsp;<span class="ident" id="3766045">int64</span><span class="op" id="3766050">)</span>&nbsp;<span class="op" id="3766052">*</span><span class="ident" id="3766053">Int</span>&nbsp;<span class="op" id="3766057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3766060">var</span>&nbsp;<span class="ident" id="3766064">a</span><span class="op" id="3766065">,</span>&nbsp;<span class="ident" id="3766067">b</span>&nbsp;<span class="ident" id="3766069">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3766074">a</span><span class="op" id="3766075">.</span><span class="ident" id="3766076">MulRange</span><span class="op" id="3766084">(</span><span class="ident" id="3766085">n</span><span class="op" id="3766086">-</span><span class="ident" id="3766087">k</span><span class="op" id="3766088">+</span><span class="num" id="3766089">1</span><span class="op" id="3766090">,</span>&nbsp;<span class="ident" id="3766092">n</span><span class="op" id="3766093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3766096">b</span><span class="op" id="3766097">.</span><span class="ident" id="3766098">MulRange</span><span class="op" id="3766106">(</span><span class="num" id="3766107">1</span><span class="op" id="3766108">,</span>&nbsp;<span class="ident" id="3766110">k</span><span class="op" id="3766111">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3766114">return</span>&nbsp;<span class="ident" id="3766121">z</span><span class="op" id="3766122">.</span><span class="ident" id="3766123">Quo</span><span class="op" id="3766126">(</span><span class="op" id="3766127">&amp;</span><span class="ident" id="3766128">a</span><span class="op" id="3766129">,</span>&nbsp;<span class="op" id="3766131">&amp;</span><span class="ident" id="3766132">b</span><span class="op" id="3766133">)</span><br>
<span class="lineno"></span><span class="op" id="3766135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3766138">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3766198">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="3766254">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3766331">func</span>&nbsp;<span class="op" id="3766336">(</span><span class="ident" id="3766337">z</span>&nbsp;<span class="op" id="3766339">*</span><span class="ident" id="3766340">Int</span><span class="op" id="3766343">)</span>&nbsp;<span class="ident" id="3766345">Quo</span><span class="op" id="3766348">(</span><span class="ident" id="3766349">x</span><span class="op" id="3766350">,</span>&nbsp;<span class="ident" id="3766352">y</span>&nbsp;<span class="op" id="3766354">*</span><span class="ident" id="3766355">Int</span><span class="op" id="3766358">)</span>&nbsp;<span class="op" id="3766360">*</span><span class="ident" id="3766361">Int</span>&nbsp;<span class="op" id="3766365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3766368">z</span><span class="op" id="3766369">.</span><span class="ident" id="3766370">abs</span><span class="op" id="3766373">,</span>&nbsp;<span class="ident" id="3766375">_</span>&nbsp;<span class="op" id="3766377">=</span>&nbsp;<span class="ident" id="3766379">z</span><span class="op" id="3766380">.</span><span class="ident" id="3766381">abs</span><span class="op" id="3766384">.</span><span class="ident" id="3766385">div</span><span class="op" id="3766388">(</span><span class="ident" id="3766389">nil</span><span class="op" id="3766392">,</span>&nbsp;<span class="ident" id="3766394">x</span><span class="op" id="3766395">.</span><span class="ident" id="3766396">abs</span><span class="op" id="3766399">,</span>&nbsp;<span class="ident" id="3766401">y</span><span class="op" id="3766402">.</span><span class="ident" id="3766403">abs</span><span class="op" id="3766406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3766409">z</span><span class="op" id="3766410">.</span><span class="ident" id="3766411">neg</span>&nbsp;<span class="op" id="3766415">=</span>&nbsp;<span class="builtinfunc" id="3766417">len</span><span class="op" id="3766420">(</span><span class="ident" id="3766421">z</span><span class="op" id="3766422">.</span><span class="ident" id="3766423">abs</span><span class="op" id="3766426">)</span>&nbsp;<span class="op" id="3766428">&gt;</span>&nbsp;<span class="num" id="3766430">0</span>&nbsp;<span class="op" id="3766432">&amp;&amp;</span>&nbsp;<span class="ident" id="3766435">x</span><span class="op" id="3766436">.</span><span class="ident" id="3766437">neg</span>&nbsp;<span class="op" id="3766441">!=</span>&nbsp;<span class="ident" id="3766444">y</span><span class="op" id="3766445">.</span><span class="ident" id="3766446">neg</span>&nbsp;<span class="comment" id="3766450">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3766468">return</span>&nbsp;<span class="ident" id="3766475">z</span><br>
<span class="lineno">200</span><span class="op" id="3766477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3766480">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3766541">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3766597">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="3766673">func</span>&nbsp;<span class="op" id="3766678">(</span><span class="ident" id="3766679">z</span>&nbsp;<span class="op" id="3766681">*</span><span class="ident" id="3766682">Int</span><span class="op" id="3766685">)</span>&nbsp;<span class="ident" id="3766687">Rem</span><span class="op" id="3766690">(</span><span class="ident" id="3766691">x</span><span class="op" id="3766692">,</span>&nbsp;<span class="ident" id="3766694">y</span>&nbsp;<span class="op" id="3766696">*</span><span class="ident" id="3766697">Int</span><span class="op" id="3766700">)</span>&nbsp;<span class="op" id="3766702">*</span><span class="ident" id="3766703">Int</span>&nbsp;<span class="op" id="3766707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3766710">_</span><span class="op" id="3766711">,</span>&nbsp;<span class="ident" id="3766713">z</span><span class="op" id="3766714">.</span><span class="ident" id="3766715">abs</span>&nbsp;<span class="op" id="3766719">=</span>&nbsp;<span class="ident" id="3766721">nat</span><span class="op" id="3766724">(</span><span class="ident" id="3766725">nil</span><span class="op" id="3766728">)</span><span class="op" id="3766729">.</span><span class="ident" id="3766730">div</span><span class="op" id="3766733">(</span><span class="ident" id="3766734">z</span><span class="op" id="3766735">.</span><span class="ident" id="3766736">abs</span><span class="op" id="3766739">,</span>&nbsp;<span class="ident" id="3766741">x</span><span class="op" id="3766742">.</span><span class="ident" id="3766743">abs</span><span class="op" id="3766746">,</span>&nbsp;<span class="ident" id="3766748">y</span><span class="op" id="3766749">.</span><span class="ident" id="3766750">abs</span><span class="op" id="3766753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3766756">z</span><span class="op" id="3766757">.</span><span class="ident" id="3766758">neg</span>&nbsp;<span class="op" id="3766762">=</span>&nbsp;<span class="builtinfunc" id="3766764">len</span><span class="op" id="3766767">(</span><span class="ident" id="3766768">z</span><span class="op" id="3766769">.</span><span class="ident" id="3766770">abs</span><span class="op" id="3766773">)</span>&nbsp;<span class="op" id="3766775">&gt;</span>&nbsp;<span class="num" id="3766777">0</span>&nbsp;<span class="op" id="3766779">&amp;&amp;</span>&nbsp;<span class="ident" id="3766782">x</span><span class="op" id="3766783">.</span><span class="ident" id="3766784">neg</span>&nbsp;<span class="comment" id="3766788">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3766806">return</span>&nbsp;<span class="ident" id="3766813">z</span><br>
<span class="lineno"></span><span class="op" id="3766815">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="3766818">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="3766882">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3766925">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3766981">//</span><br>
<span class="lineno">215</span><span class="comment" id="3766984">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3767039">//</span><br>
<span class="lineno"></span><span class="comment" id="3767042">//&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="3767092">//&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="3767107">//</span><br>
<span class="lineno">220</span><span class="comment" id="3767110">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="3767182">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="3767244">//</span><br>
<span class="lineno"></span><span class="keyword" id="3767247">func</span>&nbsp;<span class="op" id="3767252">(</span><span class="ident" id="3767253">z</span>&nbsp;<span class="op" id="3767255">*</span><span class="ident" id="3767256">Int</span><span class="op" id="3767259">)</span>&nbsp;<span class="ident" id="3767261">QuoRem</span><span class="op" id="3767267">(</span><span class="ident" id="3767268">x</span><span class="op" id="3767269">,</span>&nbsp;<span class="ident" id="3767271">y</span><span class="op" id="3767272">,</span>&nbsp;<span class="ident" id="3767274">r</span>&nbsp;<span class="op" id="3767276">*</span><span class="ident" id="3767277">Int</span><span class="op" id="3767280">)</span>&nbsp;<span class="op" id="3767282">(</span><span class="op" id="3767283">*</span><span class="ident" id="3767284">Int</span><span class="op" id="3767287">,</span>&nbsp;<span class="op" id="3767289">*</span><span class="ident" id="3767290">Int</span><span class="op" id="3767293">)</span>&nbsp;<span class="op" id="3767295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767298">z</span><span class="op" id="3767299">.</span><span class="ident" id="3767300">abs</span><span class="op" id="3767303">,</span>&nbsp;<span class="ident" id="3767305">r</span><span class="op" id="3767306">.</span><span class="ident" id="3767307">abs</span>&nbsp;<span class="op" id="3767311">=</span>&nbsp;<span class="ident" id="3767313">z</span><span class="op" id="3767314">.</span><span class="ident" id="3767315">abs</span><span class="op" id="3767318">.</span><span class="ident" id="3767319">div</span><span class="op" id="3767322">(</span><span class="ident" id="3767323">r</span><span class="op" id="3767324">.</span><span class="ident" id="3767325">abs</span><span class="op" id="3767328">,</span>&nbsp;<span class="ident" id="3767330">x</span><span class="op" id="3767331">.</span><span class="ident" id="3767332">abs</span><span class="op" id="3767335">,</span>&nbsp;<span class="ident" id="3767337">y</span><span class="op" id="3767338">.</span><span class="ident" id="3767339">abs</span><span class="op" id="3767342">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767345">z</span><span class="op" id="3767346">.</span><span class="ident" id="3767347">neg</span><span class="op" id="3767350">,</span>&nbsp;<span class="ident" id="3767352">r</span><span class="op" id="3767353">.</span><span class="ident" id="3767354">neg</span>&nbsp;<span class="op" id="3767358">=</span>&nbsp;<span class="builtinfunc" id="3767360">len</span><span class="op" id="3767363">(</span><span class="ident" id="3767364">z</span><span class="op" id="3767365">.</span><span class="ident" id="3767366">abs</span><span class="op" id="3767369">)</span>&nbsp;<span class="op" id="3767371">&gt;</span>&nbsp;<span class="num" id="3767373">0</span>&nbsp;<span class="op" id="3767375">&amp;&amp;</span>&nbsp;<span class="ident" id="3767378">x</span><span class="op" id="3767379">.</span><span class="ident" id="3767380">neg</span>&nbsp;<span class="op" id="3767384">!=</span>&nbsp;<span class="ident" id="3767387">y</span><span class="op" id="3767388">.</span><span class="ident" id="3767389">neg</span><span class="op" id="3767392">,</span>&nbsp;<span class="builtinfunc" id="3767394">len</span><span class="op" id="3767397">(</span><span class="ident" id="3767398">r</span><span class="op" id="3767399">.</span><span class="ident" id="3767400">abs</span><span class="op" id="3767403">)</span>&nbsp;<span class="op" id="3767405">&gt;</span>&nbsp;<span class="num" id="3767407">0</span>&nbsp;<span class="op" id="3767409">&amp;&amp;</span>&nbsp;<span class="ident" id="3767412">x</span><span class="op" id="3767413">.</span><span class="ident" id="3767414">neg</span>&nbsp;<span class="comment" id="3767418">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767436">return</span>&nbsp;<span class="ident" id="3767443">z</span><span class="op" id="3767444">,</span>&nbsp;<span class="ident" id="3767446">r</span><br>
<span class="lineno"></span><span class="op" id="3767448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3767451">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="3767511">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3767567">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3767646">func</span>&nbsp;<span class="op" id="3767651">(</span><span class="ident" id="3767652">z</span>&nbsp;<span class="op" id="3767654">*</span><span class="ident" id="3767655">Int</span><span class="op" id="3767658">)</span>&nbsp;<span class="ident" id="3767660">Div</span><span class="op" id="3767663">(</span><span class="ident" id="3767664">x</span><span class="op" id="3767665">,</span>&nbsp;<span class="ident" id="3767667">y</span>&nbsp;<span class="op" id="3767669">*</span><span class="ident" id="3767670">Int</span><span class="op" id="3767673">)</span>&nbsp;<span class="op" id="3767675">*</span><span class="ident" id="3767676">Int</span>&nbsp;<span class="op" id="3767680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767683">y_neg</span>&nbsp;<span class="op" id="3767689">:=</span>&nbsp;<span class="ident" id="3767692">y</span><span class="op" id="3767693">.</span><span class="ident" id="3767694">neg</span>&nbsp;<span class="comment" id="3767698">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767726">var</span>&nbsp;<span class="ident" id="3767730">r</span>&nbsp;<span class="ident" id="3767732">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767737">z</span><span class="op" id="3767738">.</span><span class="ident" id="3767739">QuoRem</span><span class="op" id="3767745">(</span><span class="ident" id="3767746">x</span><span class="op" id="3767747">,</span>&nbsp;<span class="ident" id="3767749">y</span><span class="op" id="3767750">,</span>&nbsp;<span class="op" id="3767752">&amp;</span><span class="ident" id="3767753">r</span><span class="op" id="3767754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767757">if</span>&nbsp;<span class="ident" id="3767760">r</span><span class="op" id="3767761">.</span><span class="ident" id="3767762">neg</span>&nbsp;<span class="op" id="3767766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767770">if</span>&nbsp;<span class="ident" id="3767773">y_neg</span>&nbsp;<span class="op" id="3767779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767784">z</span><span class="op" id="3767785">.</span><span class="ident" id="3767786">Add</span><span class="op" id="3767789">(</span><span class="ident" id="3767790">z</span><span class="op" id="3767791">,</span>&nbsp;<span class="ident" id="3767793">intOne</span><span class="op" id="3767799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3767803">}</span>&nbsp;<span class="keyword" id="3767805">else</span>&nbsp;<span class="op" id="3767810">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767815">z</span><span class="op" id="3767816">.</span><span class="ident" id="3767817">Sub</span><span class="op" id="3767820">(</span><span class="ident" id="3767821">z</span><span class="op" id="3767822">,</span>&nbsp;<span class="ident" id="3767824">intOne</span><span class="op" id="3767830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3767834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3767837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767840">return</span>&nbsp;<span class="ident" id="3767847">z</span><br>
<span class="lineno"></span><span class="op" id="3767849">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="3767852">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3767911">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3767967">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3768045">func</span>&nbsp;<span class="op" id="3768050">(</span><span class="ident" id="3768051">z</span>&nbsp;<span class="op" id="3768053">*</span><span class="ident" id="3768054">Int</span><span class="op" id="3768057">)</span>&nbsp;<span class="ident" id="3768059">Mod</span><span class="op" id="3768062">(</span><span class="ident" id="3768063">x</span><span class="op" id="3768064">,</span>&nbsp;<span class="ident" id="3768066">y</span>&nbsp;<span class="op" id="3768068">*</span><span class="ident" id="3768069">Int</span><span class="op" id="3768072">)</span>&nbsp;<span class="op" id="3768074">*</span><span class="ident" id="3768075">Int</span>&nbsp;<span class="op" id="3768079">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768082">y0</span>&nbsp;<span class="op" id="3768085">:=</span>&nbsp;<span class="ident" id="3768088">y</span>&nbsp;<span class="comment" id="3768090">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768101">if</span>&nbsp;<span class="ident" id="3768104">z</span>&nbsp;<span class="op" id="3768106">==</span>&nbsp;<span class="ident" id="3768109">y</span>&nbsp;<span class="op" id="3768111">||</span>&nbsp;<span class="ident" id="3768114">alias</span><span class="op" id="3768119">(</span><span class="ident" id="3768120">z</span><span class="op" id="3768121">.</span><span class="ident" id="3768122">abs</span><span class="op" id="3768125">,</span>&nbsp;<span class="ident" id="3768127">y</span><span class="op" id="3768128">.</span><span class="ident" id="3768129">abs</span><span class="op" id="3768132">)</span>&nbsp;<span class="op" id="3768134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768138">y0</span>&nbsp;<span class="op" id="3768141">=</span>&nbsp;<span class="builtinfunc" id="3768143">new</span><span class="op" id="3768146">(</span><span class="ident" id="3768147">Int</span><span class="op" id="3768150">)</span><span class="op" id="3768151">.</span><span class="ident" id="3768152">Set</span><span class="op" id="3768155">(</span><span class="ident" id="3768156">y</span><span class="op" id="3768157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3768160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768163">var</span>&nbsp;<span class="ident" id="3768167">q</span>&nbsp;<span class="ident" id="3768169">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768174">q</span><span class="op" id="3768175">.</span><span class="ident" id="3768176">QuoRem</span><span class="op" id="3768182">(</span><span class="ident" id="3768183">x</span><span class="op" id="3768184">,</span>&nbsp;<span class="ident" id="3768186">y</span><span class="op" id="3768187">,</span>&nbsp;<span class="ident" id="3768189">z</span><span class="op" id="3768190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768193">if</span>&nbsp;<span class="ident" id="3768196">z</span><span class="op" id="3768197">.</span><span class="ident" id="3768198">neg</span>&nbsp;<span class="op" id="3768202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768206">if</span>&nbsp;<span class="ident" id="3768209">y0</span><span class="op" id="3768211">.</span><span class="ident" id="3768212">neg</span>&nbsp;<span class="op" id="3768216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768221">z</span><span class="op" id="3768222">.</span><span class="ident" id="3768223">Sub</span><span class="op" id="3768226">(</span><span class="ident" id="3768227">z</span><span class="op" id="3768228">,</span>&nbsp;<span class="ident" id="3768230">y0</span><span class="op" id="3768232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3768236">}</span>&nbsp;<span class="keyword" id="3768238">else</span>&nbsp;<span class="op" id="3768243">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768248">z</span><span class="op" id="3768249">.</span><span class="ident" id="3768250">Add</span><span class="op" id="3768253">(</span><span class="ident" id="3768254">z</span><span class="op" id="3768255">,</span>&nbsp;<span class="ident" id="3768257">y0</span><span class="op" id="3768259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3768263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3768266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768269">return</span>&nbsp;<span class="ident" id="3768276">z</span><br>
<span class="lineno"></span><span class="op" id="3768278">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="3768281">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3768351">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3768394">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3768450">//</span><br>
<span class="lineno">270</span><span class="comment" id="3768453">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3768518">//</span><br>
<span class="lineno"></span><span class="comment" id="3768521">//&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3768547">//&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="3768581">//</span><br>
<span class="lineno">275</span><span class="comment" id="3768584">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="3768654">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3768718">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="3768781">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="3768796">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="3768848">//</span><br>
<span class="lineno"></span><span class="keyword" id="3768851">func</span>&nbsp;<span class="op" id="3768856">(</span><span class="ident" id="3768857">z</span>&nbsp;<span class="op" id="3768859">*</span><span class="ident" id="3768860">Int</span><span class="op" id="3768863">)</span>&nbsp;<span class="ident" id="3768865">DivMod</span><span class="op" id="3768871">(</span><span class="ident" id="3768872">x</span><span class="op" id="3768873">,</span>&nbsp;<span class="ident" id="3768875">y</span><span class="op" id="3768876">,</span>&nbsp;<span class="ident" id="3768878">m</span>&nbsp;<span class="op" id="3768880">*</span><span class="ident" id="3768881">Int</span><span class="op" id="3768884">)</span>&nbsp;<span class="op" id="3768886">(</span><span class="op" id="3768887">*</span><span class="ident" id="3768888">Int</span><span class="op" id="3768891">,</span>&nbsp;<span class="op" id="3768893">*</span><span class="ident" id="3768894">Int</span><span class="op" id="3768897">)</span>&nbsp;<span class="op" id="3768899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768902">y0</span>&nbsp;<span class="op" id="3768905">:=</span>&nbsp;<span class="ident" id="3768908">y</span>&nbsp;<span class="comment" id="3768910">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768921">if</span>&nbsp;<span class="ident" id="3768924">z</span>&nbsp;<span class="op" id="3768926">==</span>&nbsp;<span class="ident" id="3768929">y</span>&nbsp;<span class="op" id="3768931">||</span>&nbsp;<span class="ident" id="3768934">alias</span><span class="op" id="3768939">(</span><span class="ident" id="3768940">z</span><span class="op" id="3768941">.</span><span class="ident" id="3768942">abs</span><span class="op" id="3768945">,</span>&nbsp;<span class="ident" id="3768947">y</span><span class="op" id="3768948">.</span><span class="ident" id="3768949">abs</span><span class="op" id="3768952">)</span>&nbsp;<span class="op" id="3768954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768958">y0</span>&nbsp;<span class="op" id="3768961">=</span>&nbsp;<span class="builtinfunc" id="3768963">new</span><span class="op" id="3768966">(</span><span class="ident" id="3768967">Int</span><span class="op" id="3768970">)</span><span class="op" id="3768971">.</span><span class="ident" id="3768972">Set</span><span class="op" id="3768975">(</span><span class="ident" id="3768976">y</span><span class="op" id="3768977">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3768980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768983">z</span><span class="op" id="3768984">.</span><span class="ident" id="3768985">QuoRem</span><span class="op" id="3768991">(</span><span class="ident" id="3768992">x</span><span class="op" id="3768993">,</span>&nbsp;<span class="ident" id="3768995">y</span><span class="op" id="3768996">,</span>&nbsp;<span class="ident" id="3768998">m</span><span class="op" id="3768999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769002">if</span>&nbsp;<span class="ident" id="3769005">m</span><span class="op" id="3769006">.</span><span class="ident" id="3769007">neg</span>&nbsp;<span class="op" id="3769011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769015">if</span>&nbsp;<span class="ident" id="3769018">y0</span><span class="op" id="3769020">.</span><span class="ident" id="3769021">neg</span>&nbsp;<span class="op" id="3769025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3769030">z</span><span class="op" id="3769031">.</span><span class="ident" id="3769032">Add</span><span class="op" id="3769035">(</span><span class="ident" id="3769036">z</span><span class="op" id="3769037">,</span>&nbsp;<span class="ident" id="3769039">intOne</span><span class="op" id="3769045">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3769050">m</span><span class="op" id="3769051">.</span><span class="ident" id="3769052">Sub</span><span class="op" id="3769055">(</span><span class="ident" id="3769056">m</span><span class="op" id="3769057">,</span>&nbsp;<span class="ident" id="3769059">y0</span><span class="op" id="3769061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3769065">}</span>&nbsp;<span class="keyword" id="3769067">else</span>&nbsp;<span class="op" id="3769072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3769077">z</span><span class="op" id="3769078">.</span><span class="ident" id="3769079">Sub</span><span class="op" id="3769082">(</span><span class="ident" id="3769083">z</span><span class="op" id="3769084">,</span>&nbsp;<span class="ident" id="3769086">intOne</span><span class="op" id="3769092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3769097">m</span><span class="op" id="3769098">.</span><span class="ident" id="3769099">Add</span><span class="op" id="3769102">(</span><span class="ident" id="3769103">m</span><span class="op" id="3769104">,</span>&nbsp;<span class="ident" id="3769106">y0</span><span class="op" id="3769108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3769112">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3769115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769118">return</span>&nbsp;<span class="ident" id="3769125">z</span><span class="op" id="3769126">,</span>&nbsp;<span class="ident" id="3769128">m</span><br>
<span class="lineno"></span><span class="op" id="3769130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3769133">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="3769170">//</span><br>
<span class="lineno"></span><span class="comment" id="3769173">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3769191">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3769209">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3769227">//</span><br>
<span class="lineno">305</span><span class="keyword" id="3769230">func</span>&nbsp;<span class="op" id="3769235">(</span><span class="ident" id="3769236">x</span>&nbsp;<span class="op" id="3769238">*</span><span class="ident" id="3769239">Int</span><span class="op" id="3769242">)</span>&nbsp;<span class="ident" id="3769244">Cmp</span><span class="op" id="3769247">(</span><span class="ident" id="3769248">y</span>&nbsp;<span class="op" id="3769250">*</span><span class="ident" id="3769251">Int</span><span class="op" id="3769254">)</span>&nbsp;<span class="op" id="3769256">(</span><span class="ident" id="3769257">r</span>&nbsp;<span class="builtintype" id="3769259">int</span><span class="op" id="3769262">)</span>&nbsp;<span class="op" id="3769264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3769267">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3769290">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3769310">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3769330">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769362">switch</span>&nbsp;<span class="op" id="3769369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769372">case</span>&nbsp;<span class="ident" id="3769377">x</span><span class="op" id="3769378">.</span><span class="ident" id="3769379">neg</span>&nbsp;<span class="op" id="3769383">==</span>&nbsp;<span class="ident" id="3769386">y</span><span class="op" id="3769387">.</span><span class="ident" id="3769388">neg</span><span class="op" id="3769391">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3769395">r</span>&nbsp;<span class="op" id="3769397">=</span>&nbsp;<span class="ident" id="3769399">x</span><span class="op" id="3769400">.</span><span class="ident" id="3769401">abs</span><span class="op" id="3769404">.</span><span class="ident" id="3769405">cmp</span><span class="op" id="3769408">(</span><span class="ident" id="3769409">y</span><span class="op" id="3769410">.</span><span class="ident" id="3769411">abs</span><span class="op" id="3769414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769418">if</span>&nbsp;<span class="ident" id="3769421">x</span><span class="op" id="3769422">.</span><span class="ident" id="3769423">neg</span>&nbsp;<span class="op" id="3769427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3769432">r</span>&nbsp;<span class="op" id="3769434">=</span>&nbsp;<span class="op" id="3769436">-</span><span class="ident" id="3769437">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3769441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769444">case</span>&nbsp;<span class="ident" id="3769449">x</span><span class="op" id="3769450">.</span><span class="ident" id="3769451">neg</span><span class="op" id="3769454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3769458">r</span>&nbsp;<span class="op" id="3769460">=</span>&nbsp;<span class="op" id="3769462">-</span><span class="num" id="3769463">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769466">default</span><span class="op" id="3769473">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3769477">r</span>&nbsp;<span class="op" id="3769479">=</span>&nbsp;<span class="num" id="3769481">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3769484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769487">return</span><br>
<span class="lineno"></span><span class="op" id="3769494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3769497">func</span>&nbsp;<span class="op" id="3769502">(</span><span class="ident" id="3769503">x</span>&nbsp;<span class="op" id="3769505">*</span><span class="ident" id="3769506">Int</span><span class="op" id="3769509">)</span>&nbsp;<span class="ident" id="3769511">String</span><span class="op" id="3769517">(</span><span class="op" id="3769518">)</span>&nbsp;<span class="builtintype" id="3769520">string</span>&nbsp;<span class="op" id="3769527">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769530">switch</span>&nbsp;<span class="op" id="3769537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769540">case</span>&nbsp;<span class="ident" id="3769545">x</span>&nbsp;<span class="op" id="3769547">==</span>&nbsp;<span class="ident" id="3769550">nil</span><span class="op" id="3769553">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769557">return</span>&nbsp;<span class="string" id="3769564">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769573">case</span>&nbsp;<span class="ident" id="3769578">x</span><span class="op" id="3769579">.</span><span class="ident" id="3769580">neg</span><span class="op" id="3769583">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769587">return</span>&nbsp;<span class="string" id="3769594">&#34;-&#34;</span>&nbsp;<span class="op" id="3769598">+</span>&nbsp;<span class="ident" id="3769600">x</span><span class="op" id="3769601">.</span><span class="ident" id="3769602">abs</span><span class="op" id="3769605">.</span><span class="ident" id="3769606">decimalString</span><span class="op" id="3769619">(</span><span class="op" id="3769620">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3769623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769626">return</span>&nbsp;<span class="ident" id="3769633">x</span><span class="op" id="3769634">.</span><span class="ident" id="3769635">abs</span><span class="op" id="3769638">.</span><span class="ident" id="3769639">decimalString</span><span class="op" id="3769652">(</span><span class="op" id="3769653">)</span><br>
<span class="lineno"></span><span class="op" id="3769655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3769658">func</span>&nbsp;<span class="ident" id="3769663">charset</span><span class="op" id="3769670">(</span><span class="ident" id="3769671">ch</span>&nbsp;<span class="builtintype" id="3769674">rune</span><span class="op" id="3769678">)</span>&nbsp;<span class="builtintype" id="3769680">string</span>&nbsp;<span class="op" id="3769687">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769690">switch</span>&nbsp;<span class="ident" id="3769697">ch</span>&nbsp;<span class="op" id="3769700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769703">case</span>&nbsp;<span class="string" id="3769708">&#39;b&#39;</span><span class="op" id="3769711">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769715">return</span>&nbsp;<span class="ident" id="3769722">lowercaseDigits</span><span class="op" id="3769737">[</span><span class="num" id="3769738">0</span><span class="op" id="3769739">:</span><span class="num" id="3769740">2</span><span class="op" id="3769741">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769744">case</span>&nbsp;<span class="string" id="3769749">&#39;o&#39;</span><span class="op" id="3769752">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769756">return</span>&nbsp;<span class="ident" id="3769763">lowercaseDigits</span><span class="op" id="3769778">[</span><span class="num" id="3769779">0</span><span class="op" id="3769780">:</span><span class="num" id="3769781">8</span><span class="op" id="3769782">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769785">case</span>&nbsp;<span class="string" id="3769790">&#39;d&#39;</span><span class="op" id="3769793">,</span>&nbsp;<span class="string" id="3769795">&#39;s&#39;</span><span class="op" id="3769798">,</span>&nbsp;<span class="string" id="3769800">&#39;v&#39;</span><span class="op" id="3769803">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769807">return</span>&nbsp;<span class="ident" id="3769814">lowercaseDigits</span><span class="op" id="3769829">[</span><span class="num" id="3769830">0</span><span class="op" id="3769831">:</span><span class="num" id="3769832">10</span><span class="op" id="3769834">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769837">case</span>&nbsp;<span class="string" id="3769842">&#39;x&#39;</span><span class="op" id="3769845">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769849">return</span>&nbsp;<span class="ident" id="3769856">lowercaseDigits</span><span class="op" id="3769871">[</span><span class="num" id="3769872">0</span><span class="op" id="3769873">:</span><span class="num" id="3769874">16</span><span class="op" id="3769876">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769879">case</span>&nbsp;<span class="string" id="3769884">&#39;X&#39;</span><span class="op" id="3769887">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769891">return</span>&nbsp;<span class="ident" id="3769898">uppercaseDigits</span><span class="op" id="3769913">[</span><span class="num" id="3769914">0</span><span class="op" id="3769915">:</span><span class="num" id="3769916">16</span><span class="op" id="3769918">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3769921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3769924">return</span>&nbsp;<span class="string" id="3769931">&#34;&#34;</span>&nbsp;<span class="comment" id="3769934">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="3769952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="3769955">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="3769990">func</span>&nbsp;<span class="ident" id="3769995">writeMultiple</span><span class="op" id="3770008">(</span><span class="ident" id="3770009">s</span>&nbsp;<span class="ident" id="3770011">fmt</span><span class="op" id="3770014">.</span><span class="ident" id="3770015">State</span><span class="op" id="3770020">,</span>&nbsp;<span class="ident" id="3770022">text</span>&nbsp;<span class="builtintype" id="3770027">string</span><span class="op" id="3770033">,</span>&nbsp;<span class="ident" id="3770035">count</span>&nbsp;<span class="builtintype" id="3770041">int</span><span class="op" id="3770044">)</span>&nbsp;<span class="op" id="3770046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3770049">if</span>&nbsp;<span class="builtinfunc" id="3770052">len</span><span class="op" id="3770055">(</span><span class="ident" id="3770056">text</span><span class="op" id="3770060">)</span>&nbsp;<span class="op" id="3770062">&gt;</span>&nbsp;<span class="num" id="3770064">0</span>&nbsp;<span class="op" id="3770066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3770070">b</span>&nbsp;<span class="op" id="3770072">:=</span>&nbsp;<span class="op" id="3770075">[</span><span class="op" id="3770076">]</span><span class="builtintype" id="3770077">byte</span><span class="op" id="3770081">(</span><span class="ident" id="3770082">text</span><span class="op" id="3770086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3770090">for</span>&nbsp;<span class="op" id="3770094">;</span>&nbsp;<span class="ident" id="3770096">count</span>&nbsp;<span class="op" id="3770102">&gt;</span>&nbsp;<span class="num" id="3770104">0</span><span class="op" id="3770105">;</span>&nbsp;<span class="ident" id="3770107">count</span><span class="op" id="3770112">--</span>&nbsp;<span class="op" id="3770115">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3770120">s</span><span class="op" id="3770121">.</span><span class="ident" id="3770122">Write</span><span class="op" id="3770127">(</span><span class="ident" id="3770128">b</span><span class="op" id="3770129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3770133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3770136">}</span><br>
<span class="lineno"></span><span class="op" id="3770138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="3770141">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="3770202">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="3770263">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="3770324">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="3770385">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="3770442">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="3770501">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3770560">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="3770620">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3770678">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="3770702">//</span><br>
<span class="lineno"></span><span class="keyword" id="3770705">func</span>&nbsp;<span class="op" id="3770710">(</span><span class="ident" id="3770711">x</span>&nbsp;<span class="op" id="3770713">*</span><span class="ident" id="3770714">Int</span><span class="op" id="3770717">)</span>&nbsp;<span class="ident" id="3770719">Format</span><span class="op" id="3770725">(</span><span class="ident" id="3770726">s</span>&nbsp;<span class="ident" id="3770728">fmt</span><span class="op" id="3770731">.</span><span class="ident" id="3770732">State</span><span class="op" id="3770737">,</span>&nbsp;<span class="ident" id="3770739">ch</span>&nbsp;<span class="builtintype" id="3770742">rune</span><span class="op" id="3770746">)</span>&nbsp;<span class="op" id="3770748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3770751">cs</span>&nbsp;<span class="op" id="3770754">:=</span>&nbsp;<span class="ident" id="3770757">charset</span><span class="op" id="3770764">(</span><span class="ident" id="3770765">ch</span><span class="op" id="3770767">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3770771">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3770789">switch</span>&nbsp;<span class="op" id="3770796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3770799">case</span>&nbsp;<span class="ident" id="3770804">cs</span>&nbsp;<span class="op" id="3770807">==</span>&nbsp;<span class="string" id="3770810">&#34;&#34;</span><span class="op" id="3770812">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3770816">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3770836">fmt</span><span class="op" id="3770839">.</span><span class="ident" id="3770840">Fprintf</span><span class="op" id="3770847">(</span><span class="ident" id="3770848">s</span><span class="op" id="3770849">,</span>&nbsp;<span class="string" id="3770851">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="3770870">,</span>&nbsp;<span class="ident" id="3770872">ch</span><span class="op" id="3770874">,</span>&nbsp;<span class="ident" id="3770876">x</span><span class="op" id="3770877">.</span><span class="ident" id="3770878">String</span><span class="op" id="3770884">(</span><span class="op" id="3770885">)</span><span class="op" id="3770886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3770890">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3770898">case</span>&nbsp;<span class="ident" id="3770903">x</span>&nbsp;<span class="op" id="3770905">==</span>&nbsp;<span class="ident" id="3770908">nil</span><span class="op" id="3770911">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3770915">fmt</span><span class="op" id="3770918">.</span><span class="ident" id="3770919">Fprint</span><span class="op" id="3770925">(</span><span class="ident" id="3770926">s</span><span class="op" id="3770927">,</span>&nbsp;<span class="string" id="3770929">&#34;&lt;nil&gt;&#34;</span><span class="op" id="3770936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3770940">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3770948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3770952">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3770981">sign</span>&nbsp;<span class="op" id="3770986">:=</span>&nbsp;<span class="string" id="3770989">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3770993">switch</span>&nbsp;<span class="op" id="3771000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771003">case</span>&nbsp;<span class="ident" id="3771008">x</span><span class="op" id="3771009">.</span><span class="ident" id="3771010">neg</span><span class="op" id="3771013">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3771017">sign</span>&nbsp;<span class="op" id="3771022">=</span>&nbsp;<span class="string" id="3771024">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771029">case</span>&nbsp;<span class="ident" id="3771034">s</span><span class="op" id="3771035">.</span><span class="ident" id="3771036">Flag</span><span class="op" id="3771040">(</span><span class="string" id="3771041">&#39;+&#39;</span><span class="op" id="3771044">)</span><span class="op" id="3771045">:</span>&nbsp;<span class="comment" id="3771047">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3771087">sign</span>&nbsp;<span class="op" id="3771092">=</span>&nbsp;<span class="string" id="3771094">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771099">case</span>&nbsp;<span class="ident" id="3771104">s</span><span class="op" id="3771105">.</span><span class="ident" id="3771106">Flag</span><span class="op" id="3771110">(</span><span class="string" id="3771111">&#39;&nbsp;&#39;</span><span class="op" id="3771114">)</span><span class="op" id="3771115">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3771119">sign</span>&nbsp;<span class="op" id="3771124">=</span>&nbsp;<span class="string" id="3771126">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3771131">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3771135">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3771194">prefix</span>&nbsp;<span class="op" id="3771201">:=</span>&nbsp;<span class="string" id="3771204">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771208">if</span>&nbsp;<span class="ident" id="3771211">s</span><span class="op" id="3771212">.</span><span class="ident" id="3771213">Flag</span><span class="op" id="3771217">(</span><span class="string" id="3771218">&#39;#&#39;</span><span class="op" id="3771221">)</span>&nbsp;<span class="op" id="3771223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771227">switch</span>&nbsp;<span class="ident" id="3771234">ch</span>&nbsp;<span class="op" id="3771237">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771241">case</span>&nbsp;<span class="string" id="3771246">&#39;o&#39;</span><span class="op" id="3771249">:</span>&nbsp;<span class="comment" id="3771251">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3771263">prefix</span>&nbsp;<span class="op" id="3771270">=</span>&nbsp;<span class="string" id="3771272">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771278">case</span>&nbsp;<span class="string" id="3771283">&#39;x&#39;</span><span class="op" id="3771286">:</span>&nbsp;<span class="comment" id="3771288">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3771306">prefix</span>&nbsp;<span class="op" id="3771313">=</span>&nbsp;<span class="string" id="3771315">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771322">case</span>&nbsp;<span class="string" id="3771327">&#39;X&#39;</span><span class="op" id="3771330">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3771335">prefix</span>&nbsp;<span class="op" id="3771342">=</span>&nbsp;<span class="string" id="3771344">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3771351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3771354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3771358">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3771433">digits</span>&nbsp;<span class="op" id="3771440">:=</span>&nbsp;<span class="ident" id="3771443">x</span><span class="op" id="3771444">.</span><span class="ident" id="3771445">abs</span><span class="op" id="3771448">.</span><span class="builtintype" id="3771449">string</span><span class="op" id="3771455">(</span><span class="ident" id="3771456">cs</span><span class="op" id="3771458">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3771462">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771527">var</span>&nbsp;<span class="ident" id="3771531">left</span>&nbsp;<span class="builtintype" id="3771536">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3771542">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771613">var</span>&nbsp;<span class="ident" id="3771617">zeroes</span>&nbsp;<span class="builtintype" id="3771624">int</span>&nbsp;<span class="comment" id="3771628">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771694">var</span>&nbsp;<span class="ident" id="3771698">right</span>&nbsp;<span class="builtintype" id="3771704">int</span>&nbsp;&nbsp;<span class="comment" id="3771709">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3771782">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3771864">precision</span><span class="op" id="3771873">,</span>&nbsp;<span class="ident" id="3771875">precisionSet</span>&nbsp;<span class="op" id="3771888">:=</span>&nbsp;<span class="ident" id="3771891">s</span><span class="op" id="3771892">.</span><span class="ident" id="3771893">Precision</span><span class="op" id="3771902">(</span><span class="op" id="3771903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771906">if</span>&nbsp;<span class="ident" id="3771909">precisionSet</span>&nbsp;<span class="op" id="3771922">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771926">switch</span>&nbsp;<span class="op" id="3771933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3771937">case</span>&nbsp;<span class="builtinfunc" id="3771942">len</span><span class="op" id="3771945">(</span><span class="ident" id="3771946">digits</span><span class="op" id="3771952">)</span>&nbsp;<span class="op" id="3771954">&lt;</span>&nbsp;<span class="ident" id="3771956">precision</span><span class="op" id="3771965">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3771970">zeroes</span>&nbsp;<span class="op" id="3771977">=</span>&nbsp;<span class="ident" id="3771979">precision</span>&nbsp;<span class="op" id="3771989">-</span>&nbsp;<span class="builtinfunc" id="3771991">len</span><span class="op" id="3771994">(</span><span class="ident" id="3771995">digits</span><span class="op" id="3772001">)</span>&nbsp;<span class="comment" id="3772003">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3772030">case</span>&nbsp;<span class="ident" id="3772035">digits</span>&nbsp;<span class="op" id="3772042">==</span>&nbsp;<span class="string" id="3772045">&#34;0&#34;</span>&nbsp;<span class="op" id="3772049">&amp;&amp;</span>&nbsp;<span class="ident" id="3772052">precision</span>&nbsp;<span class="op" id="3772062">==</span>&nbsp;<span class="num" id="3772065">0</span><span class="op" id="3772066">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3772071">return</span>&nbsp;<span class="comment" id="3772078">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3772153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3772156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3772160">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3772237">length</span>&nbsp;<span class="op" id="3772244">:=</span>&nbsp;<span class="builtinfunc" id="3772247">len</span><span class="op" id="3772250">(</span><span class="ident" id="3772251">sign</span><span class="op" id="3772255">)</span>&nbsp;<span class="op" id="3772257">+</span>&nbsp;<span class="builtinfunc" id="3772259">len</span><span class="op" id="3772262">(</span><span class="ident" id="3772263">prefix</span><span class="op" id="3772269">)</span>&nbsp;<span class="op" id="3772271">+</span>&nbsp;<span class="ident" id="3772273">zeroes</span>&nbsp;<span class="op" id="3772280">+</span>&nbsp;<span class="builtinfunc" id="3772282">len</span><span class="op" id="3772285">(</span><span class="ident" id="3772286">digits</span><span class="op" id="3772292">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3772295">if</span>&nbsp;<span class="ident" id="3772298">width</span><span class="op" id="3772303">,</span>&nbsp;<span class="ident" id="3772305">widthSet</span>&nbsp;<span class="op" id="3772314">:=</span>&nbsp;<span class="ident" id="3772317">s</span><span class="op" id="3772318">.</span><span class="ident" id="3772319">Width</span><span class="op" id="3772324">(</span><span class="op" id="3772325">)</span><span class="op" id="3772326">;</span>&nbsp;<span class="ident" id="3772328">widthSet</span>&nbsp;<span class="op" id="3772337">&amp;&amp;</span>&nbsp;<span class="ident" id="3772340">length</span>&nbsp;<span class="op" id="3772347">&lt;</span>&nbsp;<span class="ident" id="3772349">width</span>&nbsp;<span class="op" id="3772355">{</span>&nbsp;<span class="comment" id="3772357">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3772379">switch</span>&nbsp;<span class="ident" id="3772386">d</span>&nbsp;<span class="op" id="3772388">:=</span>&nbsp;<span class="ident" id="3772391">width</span>&nbsp;<span class="op" id="3772397">-</span>&nbsp;<span class="ident" id="3772399">length</span><span class="op" id="3772405">;</span>&nbsp;<span class="op" id="3772407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3772411">case</span>&nbsp;<span class="ident" id="3772416">s</span><span class="op" id="3772417">.</span><span class="ident" id="3772418">Flag</span><span class="op" id="3772422">(</span><span class="string" id="3772423">&#39;-&#39;</span><span class="op" id="3772426">)</span><span class="op" id="3772427">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3772432">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3772503">right</span>&nbsp;<span class="op" id="3772509">=</span>&nbsp;<span class="ident" id="3772511">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3772515">case</span>&nbsp;<span class="ident" id="3772520">s</span><span class="op" id="3772521">.</span><span class="ident" id="3772522">Flag</span><span class="op" id="3772526">(</span><span class="string" id="3772527">&#39;0&#39;</span><span class="op" id="3772530">)</span>&nbsp;<span class="op" id="3772532">&amp;&amp;</span>&nbsp;<span class="op" id="3772535">!</span><span class="ident" id="3772536">precisionSet</span><span class="op" id="3772548">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3772553">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3772607">zeroes</span>&nbsp;<span class="op" id="3772614">=</span>&nbsp;<span class="ident" id="3772616">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3772620">default</span><span class="op" id="3772627">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3772632">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3772666">left</span>&nbsp;<span class="op" id="3772671">=</span>&nbsp;<span class="ident" id="3772673">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3772677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3772680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3772684">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3772758">writeMultiple</span><span class="op" id="3772771">(</span><span class="ident" id="3772772">s</span><span class="op" id="3772773">,</span>&nbsp;<span class="string" id="3772775">&#34;&nbsp;&#34;</span><span class="op" id="3772778">,</span>&nbsp;<span class="ident" id="3772780">left</span><span class="op" id="3772784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3772787">writeMultiple</span><span class="op" id="3772800">(</span><span class="ident" id="3772801">s</span><span class="op" id="3772802">,</span>&nbsp;<span class="ident" id="3772804">sign</span><span class="op" id="3772808">,</span>&nbsp;<span class="num" id="3772810">1</span><span class="op" id="3772811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3772814">writeMultiple</span><span class="op" id="3772827">(</span><span class="ident" id="3772828">s</span><span class="op" id="3772829">,</span>&nbsp;<span class="ident" id="3772831">prefix</span><span class="op" id="3772837">,</span>&nbsp;<span class="num" id="3772839">1</span><span class="op" id="3772840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3772843">writeMultiple</span><span class="op" id="3772856">(</span><span class="ident" id="3772857">s</span><span class="op" id="3772858">,</span>&nbsp;<span class="string" id="3772860">&#34;0&#34;</span><span class="op" id="3772863">,</span>&nbsp;<span class="ident" id="3772865">zeroes</span><span class="op" id="3772871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3772874">writeMultiple</span><span class="op" id="3772887">(</span><span class="ident" id="3772888">s</span><span class="op" id="3772889">,</span>&nbsp;<span class="ident" id="3772891">digits</span><span class="op" id="3772897">,</span>&nbsp;<span class="num" id="3772899">1</span><span class="op" id="3772900">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3772903">writeMultiple</span><span class="op" id="3772916">(</span><span class="ident" id="3772917">s</span><span class="op" id="3772918">,</span>&nbsp;<span class="string" id="3772920">&#34;&nbsp;&#34;</span><span class="op" id="3772923">,</span>&nbsp;<span class="ident" id="3772925">right</span><span class="op" id="3772930">)</span><br>
<span class="lineno"></span><span class="op" id="3772932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3772935">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="3773016">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="3773096">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3773175">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3773253">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="3773309">//</span><br>
<span class="lineno"></span><span class="comment" id="3773312">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="3773390">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3773468">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3773544">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3773622">//</span><br>
<span class="lineno"></span><span class="keyword" id="3773625">func</span>&nbsp;<span class="op" id="3773630">(</span><span class="ident" id="3773631">z</span>&nbsp;<span class="op" id="3773633">*</span><span class="ident" id="3773634">Int</span><span class="op" id="3773637">)</span>&nbsp;<span class="ident" id="3773639">scan</span><span class="op" id="3773643">(</span><span class="ident" id="3773644">r</span>&nbsp;<span class="ident" id="3773646">io</span><span class="op" id="3773648">.</span><span class="ident" id="3773649">RuneScanner</span><span class="op" id="3773660">,</span>&nbsp;<span class="ident" id="3773662">base</span>&nbsp;<span class="builtintype" id="3773667">int</span><span class="op" id="3773670">)</span>&nbsp;<span class="op" id="3773672">(</span><span class="op" id="3773673">*</span><span class="ident" id="3773674">Int</span><span class="op" id="3773677">,</span>&nbsp;<span class="builtintype" id="3773679">int</span><span class="op" id="3773682">,</span>&nbsp;<span class="builtintype" id="3773684">error</span><span class="op" id="3773689">)</span>&nbsp;<span class="op" id="3773691">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3773694">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3773713">ch</span><span class="op" id="3773715">,</span>&nbsp;<span class="ident" id="3773717">_</span><span class="op" id="3773718">,</span>&nbsp;<span class="ident" id="3773720">err</span>&nbsp;<span class="op" id="3773724">:=</span>&nbsp;<span class="ident" id="3773727">r</span><span class="op" id="3773728">.</span><span class="ident" id="3773729">ReadRune</span><span class="op" id="3773737">(</span><span class="op" id="3773738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3773741">if</span>&nbsp;<span class="ident" id="3773744">err</span>&nbsp;<span class="op" id="3773748">!=</span>&nbsp;<span class="ident" id="3773751">nil</span>&nbsp;<span class="op" id="3773755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3773759">return</span>&nbsp;<span class="ident" id="3773766">nil</span><span class="op" id="3773769">,</span>&nbsp;<span class="num" id="3773771">0</span><span class="op" id="3773772">,</span>&nbsp;<span class="ident" id="3773774">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3773779">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3773782">neg</span>&nbsp;<span class="op" id="3773786">:=</span>&nbsp;<span class="builtintype" id="3773789">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3773796">switch</span>&nbsp;<span class="ident" id="3773803">ch</span>&nbsp;<span class="op" id="3773806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3773809">case</span>&nbsp;<span class="string" id="3773814">&#39;-&#39;</span><span class="op" id="3773817">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3773821">neg</span>&nbsp;<span class="op" id="3773825">=</span>&nbsp;<span class="builtintype" id="3773827">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3773833">case</span>&nbsp;<span class="string" id="3773838">&#39;+&#39;</span><span class="op" id="3773841">:</span>&nbsp;<span class="comment" id="3773843">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3773861">default</span><span class="op" id="3773868">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3773872">r</span><span class="op" id="3773873">.</span><span class="ident" id="3773874">UnreadRune</span><span class="op" id="3773884">(</span><span class="op" id="3773885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3773888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3773892">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3773915">z</span><span class="op" id="3773916">.</span><span class="ident" id="3773917">abs</span><span class="op" id="3773920">,</span>&nbsp;<span class="ident" id="3773922">base</span><span class="op" id="3773926">,</span>&nbsp;<span class="ident" id="3773928">err</span>&nbsp;<span class="op" id="3773932">=</span>&nbsp;<span class="ident" id="3773934">z</span><span class="op" id="3773935">.</span><span class="ident" id="3773936">abs</span><span class="op" id="3773939">.</span><span class="ident" id="3773940">scan</span><span class="op" id="3773944">(</span><span class="ident" id="3773945">r</span><span class="op" id="3773946">,</span>&nbsp;<span class="ident" id="3773948">base</span><span class="op" id="3773952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3773955">if</span>&nbsp;<span class="ident" id="3773958">err</span>&nbsp;<span class="op" id="3773962">!=</span>&nbsp;<span class="ident" id="3773965">nil</span>&nbsp;<span class="op" id="3773969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3773973">return</span>&nbsp;<span class="ident" id="3773980">nil</span><span class="op" id="3773983">,</span>&nbsp;<span class="ident" id="3773985">base</span><span class="op" id="3773989">,</span>&nbsp;<span class="ident" id="3773991">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3773996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3773999">z</span><span class="op" id="3774000">.</span><span class="ident" id="3774001">neg</span>&nbsp;<span class="op" id="3774005">=</span>&nbsp;<span class="builtinfunc" id="3774007">len</span><span class="op" id="3774010">(</span><span class="ident" id="3774011">z</span><span class="op" id="3774012">.</span><span class="ident" id="3774013">abs</span><span class="op" id="3774016">)</span>&nbsp;<span class="op" id="3774018">&gt;</span>&nbsp;<span class="num" id="3774020">0</span>&nbsp;<span class="op" id="3774022">&amp;&amp;</span>&nbsp;<span class="ident" id="3774025">neg</span>&nbsp;<span class="comment" id="3774029">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774048">return</span>&nbsp;<span class="ident" id="3774055">z</span><span class="op" id="3774056">,</span>&nbsp;<span class="ident" id="3774058">base</span><span class="op" id="3774062">,</span>&nbsp;<span class="ident" id="3774064">nil</span><br>
<span class="lineno"></span><span class="op" id="3774068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3774071">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="3774143">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="3774216">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="3774296">func</span>&nbsp;<span class="op" id="3774301">(</span><span class="ident" id="3774302">z</span>&nbsp;<span class="op" id="3774304">*</span><span class="ident" id="3774305">Int</span><span class="op" id="3774308">)</span>&nbsp;<span class="ident" id="3774310">Scan</span><span class="op" id="3774314">(</span><span class="ident" id="3774315">s</span>&nbsp;<span class="ident" id="3774317">fmt</span><span class="op" id="3774320">.</span><span class="ident" id="3774321">ScanState</span><span class="op" id="3774330">,</span>&nbsp;<span class="ident" id="3774332">ch</span>&nbsp;<span class="builtintype" id="3774335">rune</span><span class="op" id="3774339">)</span>&nbsp;<span class="builtintype" id="3774341">error</span>&nbsp;<span class="op" id="3774347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3774350">s</span><span class="op" id="3774351">.</span><span class="ident" id="3774352">SkipSpace</span><span class="op" id="3774361">(</span><span class="op" id="3774362">)</span>&nbsp;<span class="comment" id="3774364">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3774398">base</span>&nbsp;<span class="op" id="3774403">:=</span>&nbsp;<span class="num" id="3774406">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774409">switch</span>&nbsp;<span class="ident" id="3774416">ch</span>&nbsp;<span class="op" id="3774419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774422">case</span>&nbsp;<span class="string" id="3774427">&#39;b&#39;</span><span class="op" id="3774430">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3774434">base</span>&nbsp;<span class="op" id="3774439">=</span>&nbsp;<span class="num" id="3774441">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774444">case</span>&nbsp;<span class="string" id="3774449">&#39;o&#39;</span><span class="op" id="3774452">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3774456">base</span>&nbsp;<span class="op" id="3774461">=</span>&nbsp;<span class="num" id="3774463">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774466">case</span>&nbsp;<span class="string" id="3774471">&#39;d&#39;</span><span class="op" id="3774474">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3774478">base</span>&nbsp;<span class="op" id="3774483">=</span>&nbsp;<span class="num" id="3774485">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774489">case</span>&nbsp;<span class="string" id="3774494">&#39;x&#39;</span><span class="op" id="3774497">,</span>&nbsp;<span class="string" id="3774499">&#39;X&#39;</span><span class="op" id="3774502">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3774506">base</span>&nbsp;<span class="op" id="3774511">=</span>&nbsp;<span class="num" id="3774513">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774517">case</span>&nbsp;<span class="string" id="3774522">&#39;s&#39;</span><span class="op" id="3774525">,</span>&nbsp;<span class="string" id="3774527">&#39;v&#39;</span><span class="op" id="3774530">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3774534">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774566">default</span><span class="op" id="3774573">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774577">return</span>&nbsp;<span class="ident" id="3774584">errors</span><span class="op" id="3774590">.</span><span class="ident" id="3774591">New</span><span class="op" id="3774594">(</span><span class="string" id="3774595">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="3774619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3774622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3774625">_</span><span class="op" id="3774626">,</span>&nbsp;<span class="ident" id="3774628">_</span><span class="op" id="3774629">,</span>&nbsp;<span class="ident" id="3774631">err</span>&nbsp;<span class="op" id="3774635">:=</span>&nbsp;<span class="ident" id="3774638">z</span><span class="op" id="3774639">.</span><span class="ident" id="3774640">scan</span><span class="op" id="3774644">(</span><span class="ident" id="3774645">s</span><span class="op" id="3774646">,</span>&nbsp;<span class="ident" id="3774648">base</span><span class="op" id="3774652">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774655">return</span>&nbsp;<span class="ident" id="3774662">err</span><br>
<span class="lineno"></span><span class="op" id="3774666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3774669">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3774722">func</span>&nbsp;<span class="ident" id="3774727">low32</span><span class="op" id="3774732">(</span><span class="ident" id="3774733">z</span>&nbsp;<span class="ident" id="3774735">nat</span><span class="op" id="3774738">)</span>&nbsp;<span class="builtintype" id="3774740">uint32</span>&nbsp;<span class="op" id="3774747">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774750">if</span>&nbsp;<span class="builtinfunc" id="3774753">len</span><span class="op" id="3774756">(</span><span class="ident" id="3774757">z</span><span class="op" id="3774758">)</span>&nbsp;<span class="op" id="3774760">==</span>&nbsp;<span class="num" id="3774763">0</span>&nbsp;<span class="op" id="3774765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774769">return</span>&nbsp;<span class="num" id="3774776">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3774779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774782">return</span>&nbsp;<span class="builtintype" id="3774789">uint32</span><span class="op" id="3774795">(</span><span class="ident" id="3774796">z</span><span class="op" id="3774797">[</span><span class="num" id="3774798">0</span><span class="op" id="3774799">]</span><span class="op" id="3774800">)</span><br>
<span class="lineno"></span><span class="op" id="3774802">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="3774805">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3774858">func</span>&nbsp;<span class="ident" id="3774863">low64</span><span class="op" id="3774868">(</span><span class="ident" id="3774869">z</span>&nbsp;<span class="ident" id="3774871">nat</span><span class="op" id="3774874">)</span>&nbsp;<span class="ident" id="3774876">uint64</span>&nbsp;<span class="op" id="3774883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774886">if</span>&nbsp;<span class="builtinfunc" id="3774889">len</span><span class="op" id="3774892">(</span><span class="ident" id="3774893">z</span><span class="op" id="3774894">)</span>&nbsp;<span class="op" id="3774896">==</span>&nbsp;<span class="num" id="3774899">0</span>&nbsp;<span class="op" id="3774901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774905">return</span>&nbsp;<span class="num" id="3774912">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3774915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3774918">v</span>&nbsp;<span class="op" id="3774920">:=</span>&nbsp;<span class="ident" id="3774923">uint64</span><span class="op" id="3774929">(</span><span class="ident" id="3774930">z</span><span class="op" id="3774931">[</span><span class="num" id="3774932">0</span><span class="op" id="3774933">]</span><span class="op" id="3774934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774937">if</span>&nbsp;<span class="ident" id="3774940">_W</span>&nbsp;<span class="op" id="3774943">==</span>&nbsp;<span class="num" id="3774946">32</span>&nbsp;<span class="op" id="3774949">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3774952">len</span><span class="op" id="3774955">(</span><span class="ident" id="3774956">z</span><span class="op" id="3774957">)</span>&nbsp;<span class="op" id="3774959">&gt;</span>&nbsp;<span class="num" id="3774961">1</span>&nbsp;<span class="op" id="3774963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3774967">v</span>&nbsp;<span class="op" id="3774969">|=</span>&nbsp;<span class="ident" id="3774972">uint64</span><span class="op" id="3774978">(</span><span class="ident" id="3774979">z</span><span class="op" id="3774980">[</span><span class="num" id="3774981">1</span><span class="op" id="3774982">]</span><span class="op" id="3774983">)</span>&nbsp;<span class="op" id="3774985">&lt;&lt;</span>&nbsp;<span class="num" id="3774988">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3774992">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3774995">return</span>&nbsp;<span class="ident" id="3775002">v</span><br>
<span class="lineno"></span><span class="op" id="3775004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3775007">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3775055">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="3775123">func</span>&nbsp;<span class="op" id="3775128">(</span><span class="ident" id="3775129">x</span>&nbsp;<span class="op" id="3775131">*</span><span class="ident" id="3775132">Int</span><span class="op" id="3775135">)</span>&nbsp;<span class="ident" id="3775137">Int64</span><span class="op" id="3775142">(</span><span class="op" id="3775143">)</span>&nbsp;<span class="ident" id="3775145">int64</span>&nbsp;<span class="op" id="3775151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3775154">v</span>&nbsp;<span class="op" id="3775156">:=</span>&nbsp;<span class="ident" id="3775159">int64</span><span class="op" id="3775164">(</span><span class="ident" id="3775165">low64</span><span class="op" id="3775170">(</span><span class="ident" id="3775171">x</span><span class="op" id="3775172">.</span><span class="ident" id="3775173">abs</span><span class="op" id="3775176">)</span><span class="op" id="3775177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3775180">if</span>&nbsp;<span class="ident" id="3775183">x</span><span class="op" id="3775184">.</span><span class="ident" id="3775185">neg</span>&nbsp;<span class="op" id="3775189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3775193">v</span>&nbsp;<span class="op" id="3775195">=</span>&nbsp;<span class="op" id="3775197">-</span><span class="ident" id="3775198">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3775201">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3775204">return</span>&nbsp;<span class="ident" id="3775211">v</span><br>
<span class="lineno"></span><span class="op" id="3775213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3775216">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3775266">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="3775334">func</span>&nbsp;<span class="op" id="3775339">(</span><span class="ident" id="3775340">x</span>&nbsp;<span class="op" id="3775342">*</span><span class="ident" id="3775343">Int</span><span class="op" id="3775346">)</span>&nbsp;<span class="ident" id="3775348">Uint64</span><span class="op" id="3775354">(</span><span class="op" id="3775355">)</span>&nbsp;<span class="ident" id="3775357">uint64</span>&nbsp;<span class="op" id="3775364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3775367">return</span>&nbsp;<span class="ident" id="3775374">low64</span><span class="op" id="3775379">(</span><span class="ident" id="3775380">x</span><span class="op" id="3775381">.</span><span class="ident" id="3775382">abs</span><span class="op" id="3775385">)</span><br>
<span class="lineno"></span><span class="op" id="3775387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3775390">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="3775460">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="3775531">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="3775593">//</span><br>
<span class="lineno"></span><span class="comment" id="3775596">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="3775674">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="3775752">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3775828">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3775906">//</span><br>
<span class="lineno"></span><span class="keyword" id="3775909">func</span>&nbsp;<span class="op" id="3775914">(</span><span class="ident" id="3775915">z</span>&nbsp;<span class="op" id="3775917">*</span><span class="ident" id="3775918">Int</span><span class="op" id="3775921">)</span>&nbsp;<span class="ident" id="3775923">SetString</span><span class="op" id="3775932">(</span><span class="ident" id="3775933">s</span>&nbsp;<span class="builtintype" id="3775935">string</span><span class="op" id="3775941">,</span>&nbsp;<span class="ident" id="3775943">base</span>&nbsp;<span class="builtintype" id="3775948">int</span><span class="op" id="3775951">)</span>&nbsp;<span class="op" id="3775953">(</span><span class="op" id="3775954">*</span><span class="ident" id="3775955">Int</span><span class="op" id="3775958">,</span>&nbsp;<span class="builtintype" id="3775960">bool</span><span class="op" id="3775964">)</span>&nbsp;<span class="op" id="3775966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3775969">r</span>&nbsp;<span class="op" id="3775971">:=</span>&nbsp;<span class="ident" id="3775974">strings</span><span class="op" id="3775981">.</span><span class="ident" id="3775982">NewReader</span><span class="op" id="3775991">(</span><span class="ident" id="3775992">s</span><span class="op" id="3775993">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3775996">_</span><span class="op" id="3775997">,</span>&nbsp;<span class="ident" id="3775999">_</span><span class="op" id="3776000">,</span>&nbsp;<span class="ident" id="3776002">err</span>&nbsp;<span class="op" id="3776006">:=</span>&nbsp;<span class="ident" id="3776009">z</span><span class="op" id="3776010">.</span><span class="ident" id="3776011">scan</span><span class="op" id="3776015">(</span><span class="ident" id="3776016">r</span><span class="op" id="3776017">,</span>&nbsp;<span class="ident" id="3776019">base</span><span class="op" id="3776023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3776026">if</span>&nbsp;<span class="ident" id="3776029">err</span>&nbsp;<span class="op" id="3776033">!=</span>&nbsp;<span class="ident" id="3776036">nil</span>&nbsp;<span class="op" id="3776040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3776044">return</span>&nbsp;<span class="ident" id="3776051">nil</span><span class="op" id="3776054">,</span>&nbsp;<span class="builtintype" id="3776056">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3776063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3776066">_</span><span class="op" id="3776067">,</span>&nbsp;<span class="ident" id="3776069">_</span><span class="op" id="3776070">,</span>&nbsp;<span class="ident" id="3776072">err</span>&nbsp;<span class="op" id="3776076">=</span>&nbsp;<span class="ident" id="3776078">r</span><span class="op" id="3776079">.</span><span class="ident" id="3776080">ReadRune</span><span class="op" id="3776088">(</span><span class="op" id="3776089">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3776092">if</span>&nbsp;<span class="ident" id="3776095">err</span>&nbsp;<span class="op" id="3776099">!=</span>&nbsp;<span class="ident" id="3776102">io</span><span class="op" id="3776104">.</span><span class="ident" id="3776105">EOF</span>&nbsp;<span class="op" id="3776109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3776113">return</span>&nbsp;<span class="ident" id="3776120">nil</span><span class="op" id="3776123">,</span>&nbsp;<span class="builtintype" id="3776125">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3776132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3776135">return</span>&nbsp;<span class="ident" id="3776142">z</span><span class="op" id="3776143">,</span>&nbsp;<span class="builtintype" id="3776145">true</span>&nbsp;<span class="comment" id="3776150">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="3776193">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="3776196">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="3776261">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3776310">func</span>&nbsp;<span class="op" id="3776315">(</span><span class="ident" id="3776316">z</span>&nbsp;<span class="op" id="3776318">*</span><span class="ident" id="3776319">Int</span><span class="op" id="3776322">)</span>&nbsp;<span class="ident" id="3776324">SetBytes</span><span class="op" id="3776332">(</span><span class="ident" id="3776333">buf</span>&nbsp;<span class="op" id="3776337">[</span><span class="op" id="3776338">]</span><span class="builtintype" id="3776339">byte</span><span class="op" id="3776343">)</span>&nbsp;<span class="op" id="3776345">*</span><span class="ident" id="3776346">Int</span>&nbsp;<span class="op" id="3776350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3776353">z</span><span class="op" id="3776354">.</span><span class="ident" id="3776355">abs</span>&nbsp;<span class="op" id="3776359">=</span>&nbsp;<span class="ident" id="3776361">z</span><span class="op" id="3776362">.</span><span class="ident" id="3776363">abs</span><span class="op" id="3776366">.</span><span class="ident" id="3776367">setBytes</span><span class="op" id="3776375">(</span><span class="ident" id="3776376">buf</span><span class="op" id="3776379">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3776382">z</span><span class="op" id="3776383">.</span><span class="ident" id="3776384">neg</span>&nbsp;<span class="op" id="3776388">=</span>&nbsp;<span class="builtintype" id="3776390">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3776397">return</span>&nbsp;<span class="ident" id="3776404">z</span><br>
<span class="lineno"></span><span class="op" id="3776406">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3776409">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="3776478">func</span>&nbsp;<span class="op" id="3776483">(</span><span class="ident" id="3776484">x</span>&nbsp;<span class="op" id="3776486">*</span><span class="ident" id="3776487">Int</span><span class="op" id="3776490">)</span>&nbsp;<span class="ident" id="3776492">Bytes</span><span class="op" id="3776497">(</span><span class="op" id="3776498">)</span>&nbsp;<span class="op" id="3776500">[</span><span class="op" id="3776501">]</span><span class="builtintype" id="3776502">byte</span>&nbsp;<span class="op" id="3776507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3776510">buf</span>&nbsp;<span class="op" id="3776514">:=</span>&nbsp;<span class="builtinfunc" id="3776517">make</span><span class="op" id="3776521">(</span><span class="op" id="3776522">[</span><span class="op" id="3776523">]</span><span class="builtintype" id="3776524">byte</span><span class="op" id="3776528">,</span>&nbsp;<span class="builtinfunc" id="3776530">len</span><span class="op" id="3776533">(</span><span class="ident" id="3776534">x</span><span class="op" id="3776535">.</span><span class="ident" id="3776536">abs</span><span class="op" id="3776539">)</span><span class="op" id="3776540">*</span><span class="ident" id="3776541">_S</span><span class="op" id="3776543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3776546">return</span>&nbsp;<span class="ident" id="3776553">buf</span><span class="op" id="3776556">[</span><span class="ident" id="3776557">x</span><span class="op" id="3776558">.</span><span class="ident" id="3776559">abs</span><span class="op" id="3776562">.</span><span class="ident" id="3776563">bytes</span><span class="op" id="3776568">(</span><span class="ident" id="3776569">buf</span><span class="op" id="3776572">)</span><span class="op" id="3776573">:</span><span class="op" id="3776574">]</span><br>
<span class="lineno"></span><span class="op" id="3776576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="3776579">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="3776644">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3776673">func</span>&nbsp;<span class="op" id="3776678">(</span><span class="ident" id="3776679">x</span>&nbsp;<span class="op" id="3776681">*</span><span class="ident" id="3776682">Int</span><span class="op" id="3776685">)</span>&nbsp;<span class="ident" id="3776687">BitLen</span><span class="op" id="3776693">(</span><span class="op" id="3776694">)</span>&nbsp;<span class="builtintype" id="3776696">int</span>&nbsp;<span class="op" id="3776700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3776703">return</span>&nbsp;<span class="ident" id="3776710">x</span><span class="op" id="3776711">.</span><span class="ident" id="3776712">abs</span><span class="op" id="3776715">.</span><span class="ident" id="3776716">bitLen</span><span class="op" id="3776722">(</span><span class="op" id="3776723">)</span><br>
<span class="lineno"></span><span class="op" id="3776725">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="3776728">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3776805">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="3776877">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="3776916">func</span>&nbsp;<span class="op" id="3776921">(</span><span class="ident" id="3776922">z</span>&nbsp;<span class="op" id="3776924">*</span><span class="ident" id="3776925">Int</span><span class="op" id="3776928">)</span>&nbsp;<span class="ident" id="3776930">Exp</span><span class="op" id="3776933">(</span><span class="ident" id="3776934">x</span><span class="op" id="3776935">,</span>&nbsp;<span class="ident" id="3776937">y</span><span class="op" id="3776938">,</span>&nbsp;<span class="ident" id="3776940">m</span>&nbsp;<span class="op" id="3776942">*</span><span class="ident" id="3776943">Int</span><span class="op" id="3776946">)</span>&nbsp;<span class="op" id="3776948">*</span><span class="ident" id="3776949">Int</span>&nbsp;<span class="op" id="3776953">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3776956">var</span>&nbsp;<span class="ident" id="3776960">yWords</span>&nbsp;<span class="ident" id="3776967">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3776972">if</span>&nbsp;<span class="op" id="3776975">!</span><span class="ident" id="3776976">y</span><span class="op" id="3776977">.</span><span class="ident" id="3776978">neg</span>&nbsp;<span class="op" id="3776982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3776986">yWords</span>&nbsp;<span class="op" id="3776993">=</span>&nbsp;<span class="ident" id="3776995">y</span><span class="op" id="3776996">.</span><span class="ident" id="3776997">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3777002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3777005">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3777017">var</span>&nbsp;<span class="ident" id="3777021">mWords</span>&nbsp;<span class="ident" id="3777028">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3777033">if</span>&nbsp;<span class="ident" id="3777036">m</span>&nbsp;<span class="op" id="3777038">!=</span>&nbsp;<span class="ident" id="3777041">nil</span>&nbsp;<span class="op" id="3777045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777049">mWords</span>&nbsp;<span class="op" id="3777056">=</span>&nbsp;<span class="ident" id="3777058">m</span><span class="op" id="3777059">.</span><span class="ident" id="3777060">abs</span>&nbsp;<span class="comment" id="3777064">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3777096">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777100">z</span><span class="op" id="3777101">.</span><span class="ident" id="3777102">abs</span>&nbsp;<span class="op" id="3777106">=</span>&nbsp;<span class="ident" id="3777108">z</span><span class="op" id="3777109">.</span><span class="ident" id="3777110">abs</span><span class="op" id="3777113">.</span><span class="ident" id="3777114">expNN</span><span class="op" id="3777119">(</span><span class="ident" id="3777120">x</span><span class="op" id="3777121">.</span><span class="ident" id="3777122">abs</span><span class="op" id="3777125">,</span>&nbsp;<span class="ident" id="3777127">yWords</span><span class="op" id="3777133">,</span>&nbsp;<span class="ident" id="3777135">mWords</span><span class="op" id="3777141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777144">z</span><span class="op" id="3777145">.</span><span class="ident" id="3777146">neg</span>&nbsp;<span class="op" id="3777150">=</span>&nbsp;<span class="builtinfunc" id="3777152">len</span><span class="op" id="3777155">(</span><span class="ident" id="3777156">z</span><span class="op" id="3777157">.</span><span class="ident" id="3777158">abs</span><span class="op" id="3777161">)</span>&nbsp;<span class="op" id="3777163">&gt;</span>&nbsp;<span class="num" id="3777165">0</span>&nbsp;<span class="op" id="3777167">&amp;&amp;</span>&nbsp;<span class="ident" id="3777170">x</span><span class="op" id="3777171">.</span><span class="ident" id="3777172">neg</span>&nbsp;<span class="op" id="3777176">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3777179">len</span><span class="op" id="3777182">(</span><span class="ident" id="3777183">yWords</span><span class="op" id="3777189">)</span>&nbsp;<span class="op" id="3777191">&gt;</span>&nbsp;<span class="num" id="3777193">0</span>&nbsp;<span class="op" id="3777195">&amp;&amp;</span>&nbsp;<span class="ident" id="3777198">yWords</span><span class="op" id="3777204">[</span><span class="num" id="3777205">0</span><span class="op" id="3777206">]</span><span class="op" id="3777207">&amp;</span><span class="num" id="3777208">1</span>&nbsp;<span class="op" id="3777210">==</span>&nbsp;<span class="num" id="3777213">1</span>&nbsp;<span class="comment" id="3777215">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3777233">if</span>&nbsp;<span class="ident" id="3777236">z</span><span class="op" id="3777237">.</span><span class="ident" id="3777238">neg</span>&nbsp;<span class="op" id="3777242">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3777245">len</span><span class="op" id="3777248">(</span><span class="ident" id="3777249">mWords</span><span class="op" id="3777255">)</span>&nbsp;<span class="op" id="3777257">&gt;</span>&nbsp;<span class="num" id="3777259">0</span>&nbsp;<span class="op" id="3777261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3777265">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777299">z</span><span class="op" id="3777300">.</span><span class="ident" id="3777301">abs</span>&nbsp;<span class="op" id="3777305">=</span>&nbsp;<span class="ident" id="3777307">z</span><span class="op" id="3777308">.</span><span class="ident" id="3777309">abs</span><span class="op" id="3777312">.</span><span class="ident" id="3777313">sub</span><span class="op" id="3777316">(</span><span class="ident" id="3777317">mWords</span><span class="op" id="3777323">,</span>&nbsp;<span class="ident" id="3777325">z</span><span class="op" id="3777326">.</span><span class="ident" id="3777327">abs</span><span class="op" id="3777330">)</span>&nbsp;<span class="comment" id="3777332">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777371">z</span><span class="op" id="3777372">.</span><span class="ident" id="3777373">neg</span>&nbsp;<span class="op" id="3777377">=</span>&nbsp;<span class="builtintype" id="3777379">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3777386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3777390">return</span>&nbsp;<span class="ident" id="3777397">z</span><br>
<span class="lineno">615</span><span class="op" id="3777399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3777402">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="3777475">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3777501">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="3777570">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3777623">func</span>&nbsp;<span class="op" id="3777628">(</span><span class="ident" id="3777629">z</span>&nbsp;<span class="op" id="3777631">*</span><span class="ident" id="3777632">Int</span><span class="op" id="3777635">)</span>&nbsp;<span class="ident" id="3777637">GCD</span><span class="op" id="3777640">(</span><span class="ident" id="3777641">x</span><span class="op" id="3777642">,</span>&nbsp;<span class="ident" id="3777644">y</span><span class="op" id="3777645">,</span>&nbsp;<span class="ident" id="3777647">a</span><span class="op" id="3777648">,</span>&nbsp;<span class="ident" id="3777650">b</span>&nbsp;<span class="op" id="3777652">*</span><span class="ident" id="3777653">Int</span><span class="op" id="3777656">)</span>&nbsp;<span class="op" id="3777658">*</span><span class="ident" id="3777659">Int</span>&nbsp;<span class="op" id="3777663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3777666">if</span>&nbsp;<span class="ident" id="3777669">a</span><span class="op" id="3777670">.</span><span class="ident" id="3777671">Sign</span><span class="op" id="3777675">(</span><span class="op" id="3777676">)</span>&nbsp;<span class="op" id="3777678">&lt;=</span>&nbsp;<span class="num" id="3777681">0</span>&nbsp;<span class="op" id="3777683">||</span>&nbsp;<span class="ident" id="3777686">b</span><span class="op" id="3777687">.</span><span class="ident" id="3777688">Sign</span><span class="op" id="3777692">(</span><span class="op" id="3777693">)</span>&nbsp;<span class="op" id="3777695">&lt;=</span>&nbsp;<span class="num" id="3777698">0</span>&nbsp;<span class="op" id="3777700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777704">z</span><span class="op" id="3777705">.</span><span class="ident" id="3777706">SetInt64</span><span class="op" id="3777714">(</span><span class="num" id="3777715">0</span><span class="op" id="3777716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3777720">if</span>&nbsp;<span class="ident" id="3777723">x</span>&nbsp;<span class="op" id="3777725">!=</span>&nbsp;<span class="ident" id="3777728">nil</span>&nbsp;<span class="op" id="3777732">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777737">x</span><span class="op" id="3777738">.</span><span class="ident" id="3777739">SetInt64</span><span class="op" id="3777747">(</span><span class="num" id="3777748">0</span><span class="op" id="3777749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3777753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3777757">if</span>&nbsp;<span class="ident" id="3777760">y</span>&nbsp;<span class="op" id="3777762">!=</span>&nbsp;<span class="ident" id="3777765">nil</span>&nbsp;<span class="op" id="3777769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777774">y</span><span class="op" id="3777775">.</span><span class="ident" id="3777776">SetInt64</span><span class="op" id="3777784">(</span><span class="num" id="3777785">0</span><span class="op" id="3777786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3777790">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3777794">return</span>&nbsp;<span class="ident" id="3777801">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3777804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3777807">if</span>&nbsp;<span class="ident" id="3777810">x</span>&nbsp;<span class="op" id="3777812">==</span>&nbsp;<span class="ident" id="3777815">nil</span>&nbsp;<span class="op" id="3777819">&amp;&amp;</span>&nbsp;<span class="ident" id="3777822">y</span>&nbsp;<span class="op" id="3777824">==</span>&nbsp;<span class="ident" id="3777827">nil</span>&nbsp;<span class="op" id="3777831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3777835">return</span>&nbsp;<span class="ident" id="3777842">z</span><span class="op" id="3777843">.</span><span class="ident" id="3777844">binaryGCD</span><span class="op" id="3777853">(</span><span class="ident" id="3777854">a</span><span class="op" id="3777855">,</span>&nbsp;<span class="ident" id="3777857">b</span><span class="op" id="3777858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3777861">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777865">A</span>&nbsp;<span class="op" id="3777867">:=</span>&nbsp;<span class="builtinfunc" id="3777870">new</span><span class="op" id="3777873">(</span><span class="ident" id="3777874">Int</span><span class="op" id="3777877">)</span><span class="op" id="3777878">.</span><span class="ident" id="3777879">Set</span><span class="op" id="3777882">(</span><span class="ident" id="3777883">a</span><span class="op" id="3777884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777887">B</span>&nbsp;<span class="op" id="3777889">:=</span>&nbsp;<span class="builtinfunc" id="3777892">new</span><span class="op" id="3777895">(</span><span class="ident" id="3777896">Int</span><span class="op" id="3777899">)</span><span class="op" id="3777900">.</span><span class="ident" id="3777901">Set</span><span class="op" id="3777904">(</span><span class="ident" id="3777905">b</span><span class="op" id="3777906">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777910">X</span>&nbsp;<span class="op" id="3777912">:=</span>&nbsp;<span class="builtinfunc" id="3777915">new</span><span class="op" id="3777918">(</span><span class="ident" id="3777919">Int</span><span class="op" id="3777922">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777925">Y</span>&nbsp;<span class="op" id="3777927">:=</span>&nbsp;<span class="builtinfunc" id="3777930">new</span><span class="op" id="3777933">(</span><span class="ident" id="3777934">Int</span><span class="op" id="3777937">)</span><span class="op" id="3777938">.</span><span class="ident" id="3777939">SetInt64</span><span class="op" id="3777947">(</span><span class="num" id="3777948">1</span><span class="op" id="3777949">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777953">lastX</span>&nbsp;<span class="op" id="3777959">:=</span>&nbsp;<span class="builtinfunc" id="3777962">new</span><span class="op" id="3777965">(</span><span class="ident" id="3777966">Int</span><span class="op" id="3777969">)</span><span class="op" id="3777970">.</span><span class="ident" id="3777971">SetInt64</span><span class="op" id="3777979">(</span><span class="num" id="3777980">1</span><span class="op" id="3777981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3777984">lastY</span>&nbsp;<span class="op" id="3777990">:=</span>&nbsp;<span class="builtinfunc" id="3777993">new</span><span class="op" id="3777996">(</span><span class="ident" id="3777997">Int</span><span class="op" id="3778000">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778004">q</span>&nbsp;<span class="op" id="3778006">:=</span>&nbsp;<span class="builtinfunc" id="3778009">new</span><span class="op" id="3778012">(</span><span class="ident" id="3778013">Int</span><span class="op" id="3778016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778019">temp</span>&nbsp;<span class="op" id="3778024">:=</span>&nbsp;<span class="builtinfunc" id="3778027">new</span><span class="op" id="3778030">(</span><span class="ident" id="3778031">Int</span><span class="op" id="3778034">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3778038">for</span>&nbsp;<span class="builtinfunc" id="3778042">len</span><span class="op" id="3778045">(</span><span class="ident" id="3778046">B</span><span class="op" id="3778047">.</span><span class="ident" id="3778048">abs</span><span class="op" id="3778051">)</span>&nbsp;<span class="op" id="3778053">&gt;</span>&nbsp;<span class="num" id="3778055">0</span>&nbsp;<span class="op" id="3778057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778061">r</span>&nbsp;<span class="op" id="3778063">:=</span>&nbsp;<span class="builtinfunc" id="3778066">new</span><span class="op" id="3778069">(</span><span class="ident" id="3778070">Int</span><span class="op" id="3778073">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778077">q</span><span class="op" id="3778078">,</span>&nbsp;<span class="ident" id="3778080">r</span>&nbsp;<span class="op" id="3778082">=</span>&nbsp;<span class="ident" id="3778084">q</span><span class="op" id="3778085">.</span><span class="ident" id="3778086">QuoRem</span><span class="op" id="3778092">(</span><span class="ident" id="3778093">A</span><span class="op" id="3778094">,</span>&nbsp;<span class="ident" id="3778096">B</span><span class="op" id="3778097">,</span>&nbsp;<span class="ident" id="3778099">r</span><span class="op" id="3778100">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778105">A</span><span class="op" id="3778106">,</span>&nbsp;<span class="ident" id="3778108">B</span>&nbsp;<span class="op" id="3778110">=</span>&nbsp;<span class="ident" id="3778112">B</span><span class="op" id="3778113">,</span>&nbsp;<span class="ident" id="3778115">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778120">temp</span><span class="op" id="3778124">.</span><span class="ident" id="3778125">Set</span><span class="op" id="3778128">(</span><span class="ident" id="3778129">X</span><span class="op" id="3778130">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778134">X</span><span class="op" id="3778135">.</span><span class="ident" id="3778136">Mul</span><span class="op" id="3778139">(</span><span class="ident" id="3778140">X</span><span class="op" id="3778141">,</span>&nbsp;<span class="ident" id="3778143">q</span><span class="op" id="3778144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778148">X</span><span class="op" id="3778149">.</span><span class="ident" id="3778150">neg</span>&nbsp;<span class="op" id="3778154">=</span>&nbsp;<span class="op" id="3778156">!</span><span class="ident" id="3778157">X</span><span class="op" id="3778158">.</span><span class="ident" id="3778159">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778165">X</span><span class="op" id="3778166">.</span><span class="ident" id="3778167">Add</span><span class="op" id="3778170">(</span><span class="ident" id="3778171">X</span><span class="op" id="3778172">,</span>&nbsp;<span class="ident" id="3778174">lastX</span><span class="op" id="3778179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778183">lastX</span><span class="op" id="3778188">.</span><span class="ident" id="3778189">Set</span><span class="op" id="3778192">(</span><span class="ident" id="3778193">temp</span><span class="op" id="3778197">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778202">temp</span><span class="op" id="3778206">.</span><span class="ident" id="3778207">Set</span><span class="op" id="3778210">(</span><span class="ident" id="3778211">Y</span><span class="op" id="3778212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778216">Y</span><span class="op" id="3778217">.</span><span class="ident" id="3778218">Mul</span><span class="op" id="3778221">(</span><span class="ident" id="3778222">Y</span><span class="op" id="3778223">,</span>&nbsp;<span class="ident" id="3778225">q</span><span class="op" id="3778226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778230">Y</span><span class="op" id="3778231">.</span><span class="ident" id="3778232">neg</span>&nbsp;<span class="op" id="3778236">=</span>&nbsp;<span class="op" id="3778238">!</span><span class="ident" id="3778239">Y</span><span class="op" id="3778240">.</span><span class="ident" id="3778241">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778247">Y</span><span class="op" id="3778248">.</span><span class="ident" id="3778249">Add</span><span class="op" id="3778252">(</span><span class="ident" id="3778253">Y</span><span class="op" id="3778254">,</span>&nbsp;<span class="ident" id="3778256">lastY</span><span class="op" id="3778261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778265">lastY</span><span class="op" id="3778270">.</span><span class="ident" id="3778271">Set</span><span class="op" id="3778274">(</span><span class="ident" id="3778275">temp</span><span class="op" id="3778279">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3778282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3778286">if</span>&nbsp;<span class="ident" id="3778289">x</span>&nbsp;<span class="op" id="3778291">!=</span>&nbsp;<span class="ident" id="3778294">nil</span>&nbsp;<span class="op" id="3778298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3778302">*</span><span class="ident" id="3778303">x</span>&nbsp;<span class="op" id="3778305">=</span>&nbsp;<span class="op" id="3778307">*</span><span class="ident" id="3778308">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3778315">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3778319">if</span>&nbsp;<span class="ident" id="3778322">y</span>&nbsp;<span class="op" id="3778324">!=</span>&nbsp;<span class="ident" id="3778327">nil</span>&nbsp;<span class="op" id="3778331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3778335">*</span><span class="ident" id="3778336">y</span>&nbsp;<span class="op" id="3778338">=</span>&nbsp;<span class="op" id="3778340">*</span><span class="ident" id="3778341">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3778348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3778352">*</span><span class="ident" id="3778353">z</span>&nbsp;<span class="op" id="3778355">=</span>&nbsp;<span class="op" id="3778357">*</span><span class="ident" id="3778358">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3778361">return</span>&nbsp;<span class="ident" id="3778368">z</span><br>
<span class="lineno"></span><span class="op" id="3778370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3778373">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="3778452">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3778478">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="3778561">func</span>&nbsp;<span class="op" id="3778566">(</span><span class="ident" id="3778567">z</span>&nbsp;<span class="op" id="3778569">*</span><span class="ident" id="3778570">Int</span><span class="op" id="3778573">)</span>&nbsp;<span class="ident" id="3778575">binaryGCD</span><span class="op" id="3778584">(</span><span class="ident" id="3778585">a</span><span class="op" id="3778586">,</span>&nbsp;<span class="ident" id="3778588">b</span>&nbsp;<span class="op" id="3778590">*</span><span class="ident" id="3778591">Int</span><span class="op" id="3778594">)</span>&nbsp;<span class="op" id="3778596">*</span><span class="ident" id="3778597">Int</span>&nbsp;<span class="op" id="3778601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778604">u</span>&nbsp;<span class="op" id="3778606">:=</span>&nbsp;<span class="ident" id="3778609">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778612">v</span>&nbsp;<span class="op" id="3778614">:=</span>&nbsp;<span class="builtinfunc" id="3778617">new</span><span class="op" id="3778620">(</span><span class="ident" id="3778621">Int</span><span class="op" id="3778624">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3778628">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3778709">switch</span>&nbsp;<span class="op" id="3778716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3778719">case</span>&nbsp;<span class="builtinfunc" id="3778724">len</span><span class="op" id="3778727">(</span><span class="ident" id="3778728">a</span><span class="op" id="3778729">.</span><span class="ident" id="3778730">abs</span><span class="op" id="3778733">)</span>&nbsp;<span class="op" id="3778735">&gt;</span>&nbsp;<span class="builtinfunc" id="3778737">len</span><span class="op" id="3778740">(</span><span class="ident" id="3778741">b</span><span class="op" id="3778742">.</span><span class="ident" id="3778743">abs</span><span class="op" id="3778746">)</span><span class="op" id="3778747">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778751">u</span><span class="op" id="3778752">.</span><span class="ident" id="3778753">Set</span><span class="op" id="3778756">(</span><span class="ident" id="3778757">b</span><span class="op" id="3778758">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778762">v</span><span class="op" id="3778763">.</span><span class="ident" id="3778764">Rem</span><span class="op" id="3778767">(</span><span class="ident" id="3778768">a</span><span class="op" id="3778769">,</span>&nbsp;<span class="ident" id="3778771">b</span><span class="op" id="3778772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3778775">case</span>&nbsp;<span class="builtinfunc" id="3778780">len</span><span class="op" id="3778783">(</span><span class="ident" id="3778784">a</span><span class="op" id="3778785">.</span><span class="ident" id="3778786">abs</span><span class="op" id="3778789">)</span>&nbsp;<span class="op" id="3778791">&lt;</span>&nbsp;<span class="builtinfunc" id="3778793">len</span><span class="op" id="3778796">(</span><span class="ident" id="3778797">b</span><span class="op" id="3778798">.</span><span class="ident" id="3778799">abs</span><span class="op" id="3778802">)</span><span class="op" id="3778803">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778807">u</span><span class="op" id="3778808">.</span><span class="ident" id="3778809">Set</span><span class="op" id="3778812">(</span><span class="ident" id="3778813">a</span><span class="op" id="3778814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778818">v</span><span class="op" id="3778819">.</span><span class="ident" id="3778820">Rem</span><span class="op" id="3778823">(</span><span class="ident" id="3778824">b</span><span class="op" id="3778825">,</span>&nbsp;<span class="ident" id="3778827">a</span><span class="op" id="3778828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3778831">default</span><span class="op" id="3778838">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778842">u</span><span class="op" id="3778843">.</span><span class="ident" id="3778844">Set</span><span class="op" id="3778847">(</span><span class="ident" id="3778848">a</span><span class="op" id="3778849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3778853">v</span><span class="op" id="3778854">.</span><span class="ident" id="3778855">Set</span><span class="op" id="3778858">(</span><span class="ident" id="3778859">b</span><span class="op" id="3778860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3778863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3778867">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3778888">if</span>&nbsp;<span class="builtinfunc" id="3778891">len</span><span class="op" id="3778894">(</span><span class="ident" id="3778895">v</span><span class="op" id="3778896">.</span><span class="ident" id="3778897">abs</span><span class="op" id="3778900">)</span>&nbsp;<span class="op" id="3778902">==</span>&nbsp;<span class="num" id="3778905">0</span>&nbsp;<span class="op" id="3778907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3778911">return</span>&nbsp;<span class="ident" id="3778918">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3778921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3778924">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3778944">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779003">k</span>&nbsp;<span class="op" id="3779005">:=</span>&nbsp;<span class="ident" id="3779008">u</span><span class="op" id="3779009">.</span><span class="ident" id="3779010">abs</span><span class="op" id="3779013">.</span><span class="ident" id="3779014">trailingZeroBits</span><span class="op" id="3779030">(</span><span class="op" id="3779031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3779034">if</span>&nbsp;<span class="ident" id="3779037">vk</span>&nbsp;<span class="op" id="3779040">:=</span>&nbsp;<span class="ident" id="3779043">v</span><span class="op" id="3779044">.</span><span class="ident" id="3779045">abs</span><span class="op" id="3779048">.</span><span class="ident" id="3779049">trailingZeroBits</span><span class="op" id="3779065">(</span><span class="op" id="3779066">)</span><span class="op" id="3779067">;</span>&nbsp;<span class="ident" id="3779069">vk</span>&nbsp;<span class="op" id="3779072">&lt;</span>&nbsp;<span class="ident" id="3779074">k</span>&nbsp;<span class="op" id="3779076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779080">k</span>&nbsp;<span class="op" id="3779082">=</span>&nbsp;<span class="ident" id="3779084">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3779088">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779091">u</span><span class="op" id="3779092">.</span><span class="ident" id="3779093">Rsh</span><span class="op" id="3779096">(</span><span class="ident" id="3779097">u</span><span class="op" id="3779098">,</span>&nbsp;<span class="ident" id="3779100">k</span><span class="op" id="3779101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779104">v</span><span class="op" id="3779105">.</span><span class="ident" id="3779106">Rsh</span><span class="op" id="3779109">(</span><span class="ident" id="3779110">v</span><span class="op" id="3779111">,</span>&nbsp;<span class="ident" id="3779113">k</span><span class="op" id="3779114">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3779118">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779155">t</span>&nbsp;<span class="op" id="3779157">:=</span>&nbsp;<span class="builtinfunc" id="3779160">new</span><span class="op" id="3779163">(</span><span class="ident" id="3779164">Int</span><span class="op" id="3779167">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3779170">if</span>&nbsp;<span class="ident" id="3779173">u</span><span class="op" id="3779174">.</span><span class="ident" id="3779175">abs</span><span class="op" id="3779178">[</span><span class="num" id="3779179">0</span><span class="op" id="3779180">]</span><span class="op" id="3779181">&amp;</span><span class="num" id="3779182">1</span>&nbsp;<span class="op" id="3779184">!=</span>&nbsp;<span class="num" id="3779187">0</span>&nbsp;<span class="op" id="3779189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3779193">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779207">t</span><span class="op" id="3779208">.</span><span class="ident" id="3779209">Neg</span><span class="op" id="3779212">(</span><span class="ident" id="3779213">v</span><span class="op" id="3779214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3779217">}</span>&nbsp;<span class="keyword" id="3779219">else</span>&nbsp;<span class="op" id="3779224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779228">t</span><span class="op" id="3779229">.</span><span class="ident" id="3779230">Set</span><span class="op" id="3779233">(</span><span class="ident" id="3779234">u</span><span class="op" id="3779235">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3779238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3779242">for</span>&nbsp;<span class="builtinfunc" id="3779246">len</span><span class="op" id="3779249">(</span><span class="ident" id="3779250">t</span><span class="op" id="3779251">.</span><span class="ident" id="3779252">abs</span><span class="op" id="3779255">)</span>&nbsp;<span class="op" id="3779257">&gt;</span>&nbsp;<span class="num" id="3779259">0</span>&nbsp;<span class="op" id="3779261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3779265">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779279">t</span><span class="op" id="3779280">.</span><span class="ident" id="3779281">Rsh</span><span class="op" id="3779284">(</span><span class="ident" id="3779285">t</span><span class="op" id="3779286">,</span>&nbsp;<span class="ident" id="3779288">t</span><span class="op" id="3779289">.</span><span class="ident" id="3779290">abs</span><span class="op" id="3779293">.</span><span class="ident" id="3779294">trailingZeroBits</span><span class="op" id="3779310">(</span><span class="op" id="3779311">)</span><span class="op" id="3779312">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3779316">if</span>&nbsp;<span class="ident" id="3779319">t</span><span class="op" id="3779320">.</span><span class="ident" id="3779321">neg</span>&nbsp;<span class="op" id="3779325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779330">v</span><span class="op" id="3779331">,</span>&nbsp;<span class="ident" id="3779333">t</span>&nbsp;<span class="op" id="3779335">=</span>&nbsp;<span class="ident" id="3779337">t</span><span class="op" id="3779338">,</span>&nbsp;<span class="ident" id="3779340">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779345">v</span><span class="op" id="3779346">.</span><span class="ident" id="3779347">neg</span>&nbsp;<span class="op" id="3779351">=</span>&nbsp;<span class="builtinfunc" id="3779353">len</span><span class="op" id="3779356">(</span><span class="ident" id="3779357">v</span><span class="op" id="3779358">.</span><span class="ident" id="3779359">abs</span><span class="op" id="3779362">)</span>&nbsp;<span class="op" id="3779364">&gt;</span>&nbsp;<span class="num" id="3779366">0</span>&nbsp;<span class="op" id="3779368">&amp;&amp;</span>&nbsp;<span class="op" id="3779371">!</span><span class="ident" id="3779372">v</span><span class="op" id="3779373">.</span><span class="ident" id="3779374">neg</span>&nbsp;<span class="comment" id="3779378">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3779397">}</span>&nbsp;<span class="keyword" id="3779399">else</span>&nbsp;<span class="op" id="3779404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779409">u</span><span class="op" id="3779410">,</span>&nbsp;<span class="ident" id="3779412">t</span>&nbsp;<span class="op" id="3779414">=</span>&nbsp;<span class="ident" id="3779416">t</span><span class="op" id="3779417">,</span>&nbsp;<span class="ident" id="3779419">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3779423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779427">t</span><span class="op" id="3779428">.</span><span class="ident" id="3779429">Sub</span><span class="op" id="3779432">(</span><span class="ident" id="3779433">u</span><span class="op" id="3779434">,</span>&nbsp;<span class="ident" id="3779436">v</span><span class="op" id="3779437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3779440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3779444">return</span>&nbsp;<span class="ident" id="3779451">z</span><span class="op" id="3779452">.</span><span class="ident" id="3779453">Lsh</span><span class="op" id="3779456">(</span><span class="ident" id="3779457">u</span><span class="op" id="3779458">,</span>&nbsp;<span class="ident" id="3779460">k</span><span class="op" id="3779461">)</span><br>
<span class="lineno">735</span><span class="op" id="3779463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3779466">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="3779542">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="3779604">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="3779644">func</span>&nbsp;<span class="op" id="3779649">(</span><span class="ident" id="3779650">x</span>&nbsp;<span class="op" id="3779652">*</span><span class="ident" id="3779653">Int</span><span class="op" id="3779656">)</span>&nbsp;<span class="ident" id="3779658">ProbablyPrime</span><span class="op" id="3779671">(</span><span class="ident" id="3779672">n</span>&nbsp;<span class="builtintype" id="3779674">int</span><span class="op" id="3779677">)</span>&nbsp;<span class="builtintype" id="3779679">bool</span>&nbsp;<span class="op" id="3779684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3779687">return</span>&nbsp;<span class="op" id="3779694">!</span><span class="ident" id="3779695">x</span><span class="op" id="3779696">.</span><span class="ident" id="3779697">neg</span>&nbsp;<span class="op" id="3779701">&amp;&amp;</span>&nbsp;<span class="ident" id="3779704">x</span><span class="op" id="3779705">.</span><span class="ident" id="3779706">abs</span><span class="op" id="3779709">.</span><span class="ident" id="3779710">probablyPrime</span><span class="op" id="3779723">(</span><span class="ident" id="3779724">n</span><span class="op" id="3779725">)</span><br>
<span class="lineno"></span><span class="op" id="3779727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3779730">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="3779796">func</span>&nbsp;<span class="op" id="3779801">(</span><span class="ident" id="3779802">z</span>&nbsp;<span class="op" id="3779804">*</span><span class="ident" id="3779805">Int</span><span class="op" id="3779808">)</span>&nbsp;<span class="ident" id="3779810">Rand</span><span class="op" id="3779814">(</span><span class="ident" id="3779815">rnd</span>&nbsp;<span class="op" id="3779819">*</span><span class="ident" id="3779820">rand</span><span class="op" id="3779824">.</span><span class="ident" id="3779825">Rand</span><span class="op" id="3779829">,</span>&nbsp;<span class="ident" id="3779831">n</span>&nbsp;<span class="op" id="3779833">*</span><span class="ident" id="3779834">Int</span><span class="op" id="3779837">)</span>&nbsp;<span class="op" id="3779839">*</span><span class="ident" id="3779840">Int</span>&nbsp;<span class="op" id="3779844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779847">z</span><span class="op" id="3779848">.</span><span class="ident" id="3779849">neg</span>&nbsp;<span class="op" id="3779853">=</span>&nbsp;<span class="builtintype" id="3779855">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3779862">if</span>&nbsp;<span class="ident" id="3779865">n</span><span class="op" id="3779866">.</span><span class="ident" id="3779867">neg</span>&nbsp;<span class="op" id="3779871">==</span>&nbsp;<span class="builtintype" id="3779874">true</span>&nbsp;<span class="op" id="3779879">||</span>&nbsp;<span class="builtinfunc" id="3779882">len</span><span class="op" id="3779885">(</span><span class="ident" id="3779886">n</span><span class="op" id="3779887">.</span><span class="ident" id="3779888">abs</span><span class="op" id="3779891">)</span>&nbsp;<span class="op" id="3779893">==</span>&nbsp;<span class="num" id="3779896">0</span>&nbsp;<span class="op" id="3779898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779902">z</span><span class="op" id="3779903">.</span><span class="ident" id="3779904">abs</span>&nbsp;<span class="op" id="3779908">=</span>&nbsp;<span class="ident" id="3779910">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3779916">return</span>&nbsp;<span class="ident" id="3779923">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3779926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3779929">z</span><span class="op" id="3779930">.</span><span class="ident" id="3779931">abs</span>&nbsp;<span class="op" id="3779935">=</span>&nbsp;<span class="ident" id="3779937">z</span><span class="op" id="3779938">.</span><span class="ident" id="3779939">abs</span><span class="op" id="3779942">.</span><span class="ident" id="3779943">random</span><span class="op" id="3779949">(</span><span class="ident" id="3779950">rnd</span><span class="op" id="3779953">,</span>&nbsp;<span class="ident" id="3779955">n</span><span class="op" id="3779956">.</span><span class="ident" id="3779957">abs</span><span class="op" id="3779960">,</span>&nbsp;<span class="ident" id="3779962">n</span><span class="op" id="3779963">.</span><span class="ident" id="3779964">abs</span><span class="op" id="3779967">.</span><span class="ident" id="3779968">bitLen</span><span class="op" id="3779974">(</span><span class="op" id="3779975">)</span><span class="op" id="3779976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3779979">return</span>&nbsp;<span class="ident" id="3779986">z</span><br>
<span class="lineno"></span><span class="op" id="3779988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="3779991">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;ℤ/nℤ</span><br>
<span class="lineno"></span><span class="comment" id="3780068">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="3780148">func</span>&nbsp;<span class="op" id="3780153">(</span><span class="ident" id="3780154">z</span>&nbsp;<span class="op" id="3780156">*</span><span class="ident" id="3780157">Int</span><span class="op" id="3780160">)</span>&nbsp;<span class="ident" id="3780162">ModInverse</span><span class="op" id="3780172">(</span><span class="ident" id="3780173">g</span><span class="op" id="3780174">,</span>&nbsp;<span class="ident" id="3780176">n</span>&nbsp;<span class="op" id="3780178">*</span><span class="ident" id="3780179">Int</span><span class="op" id="3780182">)</span>&nbsp;<span class="op" id="3780184">*</span><span class="ident" id="3780185">Int</span>&nbsp;<span class="op" id="3780189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3780192">var</span>&nbsp;<span class="ident" id="3780196">d</span>&nbsp;<span class="ident" id="3780198">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3780203">d</span><span class="op" id="3780204">.</span><span class="ident" id="3780205">GCD</span><span class="op" id="3780208">(</span><span class="ident" id="3780209">z</span><span class="op" id="3780210">,</span>&nbsp;<span class="ident" id="3780212">nil</span><span class="op" id="3780215">,</span>&nbsp;<span class="ident" id="3780217">g</span><span class="op" id="3780218">,</span>&nbsp;<span class="ident" id="3780220">n</span><span class="op" id="3780221">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3780224">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3780283">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3780344">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3780393">if</span>&nbsp;<span class="ident" id="3780396">z</span><span class="op" id="3780397">.</span><span class="ident" id="3780398">neg</span>&nbsp;<span class="op" id="3780402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3780406">z</span><span class="op" id="3780407">.</span><span class="ident" id="3780408">Add</span><span class="op" id="3780411">(</span><span class="ident" id="3780412">z</span><span class="op" id="3780413">,</span>&nbsp;<span class="ident" id="3780415">n</span><span class="op" id="3780416">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3780419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3780422">return</span>&nbsp;<span class="ident" id="3780429">z</span><br>
<span class="lineno"></span><span class="op" id="3780431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3780434">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="3780472">func</span>&nbsp;<span class="op" id="3780477">(</span><span class="ident" id="3780478">z</span>&nbsp;<span class="op" id="3780480">*</span><span class="ident" id="3780481">Int</span><span class="op" id="3780484">)</span>&nbsp;<span class="ident" id="3780486">Lsh</span><span class="op" id="3780489">(</span><span class="ident" id="3780490">x</span>&nbsp;<span class="op" id="3780492">*</span><span class="ident" id="3780493">Int</span><span class="op" id="3780496">,</span>&nbsp;<span class="ident" id="3780498">n</span>&nbsp;<span class="builtintype" id="3780500">uint</span><span class="op" id="3780504">)</span>&nbsp;<span class="op" id="3780506">*</span><span class="ident" id="3780507">Int</span>&nbsp;<span class="op" id="3780511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3780514">z</span><span class="op" id="3780515">.</span><span class="ident" id="3780516">abs</span>&nbsp;<span class="op" id="3780520">=</span>&nbsp;<span class="ident" id="3780522">z</span><span class="op" id="3780523">.</span><span class="ident" id="3780524">abs</span><span class="op" id="3780527">.</span><span class="ident" id="3780528">shl</span><span class="op" id="3780531">(</span><span class="ident" id="3780532">x</span><span class="op" id="3780533">.</span><span class="ident" id="3780534">abs</span><span class="op" id="3780537">,</span>&nbsp;<span class="ident" id="3780539">n</span><span class="op" id="3780540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3780543">z</span><span class="op" id="3780544">.</span><span class="ident" id="3780545">neg</span>&nbsp;<span class="op" id="3780549">=</span>&nbsp;<span class="ident" id="3780551">x</span><span class="op" id="3780552">.</span><span class="ident" id="3780553">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3780558">return</span>&nbsp;<span class="ident" id="3780565">z</span><br>
<span class="lineno"></span><span class="op" id="3780567">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="3780570">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3780608">func</span>&nbsp;<span class="op" id="3780613">(</span><span class="ident" id="3780614">z</span>&nbsp;<span class="op" id="3780616">*</span><span class="ident" id="3780617">Int</span><span class="op" id="3780620">)</span>&nbsp;<span class="ident" id="3780622">Rsh</span><span class="op" id="3780625">(</span><span class="ident" id="3780626">x</span>&nbsp;<span class="op" id="3780628">*</span><span class="ident" id="3780629">Int</span><span class="op" id="3780632">,</span>&nbsp;<span class="ident" id="3780634">n</span>&nbsp;<span class="builtintype" id="3780636">uint</span><span class="op" id="3780640">)</span>&nbsp;<span class="op" id="3780642">*</span><span class="ident" id="3780643">Int</span>&nbsp;<span class="op" id="3780647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3780650">if</span>&nbsp;<span class="ident" id="3780653">x</span><span class="op" id="3780654">.</span><span class="ident" id="3780655">neg</span>&nbsp;<span class="op" id="3780659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3780663">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3780733">t</span>&nbsp;<span class="op" id="3780735">:=</span>&nbsp;<span class="ident" id="3780738">z</span><span class="op" id="3780739">.</span><span class="ident" id="3780740">abs</span><span class="op" id="3780743">.</span><span class="ident" id="3780744">sub</span><span class="op" id="3780747">(</span><span class="ident" id="3780748">x</span><span class="op" id="3780749">.</span><span class="ident" id="3780750">abs</span><span class="op" id="3780753">,</span>&nbsp;<span class="ident" id="3780755">natOne</span><span class="op" id="3780761">)</span>&nbsp;<span class="comment" id="3780763">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3780797">t</span>&nbsp;<span class="op" id="3780799">=</span>&nbsp;<span class="ident" id="3780801">t</span><span class="op" id="3780802">.</span><span class="ident" id="3780803">shr</span><span class="op" id="3780806">(</span><span class="ident" id="3780807">t</span><span class="op" id="3780808">,</span>&nbsp;<span class="ident" id="3780810">n</span><span class="op" id="3780811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3780815">z</span><span class="op" id="3780816">.</span><span class="ident" id="3780817">abs</span>&nbsp;<span class="op" id="3780821">=</span>&nbsp;<span class="ident" id="3780823">t</span><span class="op" id="3780824">.</span><span class="ident" id="3780825">add</span><span class="op" id="3780828">(</span><span class="ident" id="3780829">t</span><span class="op" id="3780830">,</span>&nbsp;<span class="ident" id="3780832">natOne</span><span class="op" id="3780838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3780842">z</span><span class="op" id="3780843">.</span><span class="ident" id="3780844">neg</span>&nbsp;<span class="op" id="3780848">=</span>&nbsp;<span class="builtintype" id="3780850">true</span>&nbsp;<span class="comment" id="3780855">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3780894">return</span>&nbsp;<span class="ident" id="3780901">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3780904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3780908">z</span><span class="op" id="3780909">.</span><span class="ident" id="3780910">abs</span>&nbsp;<span class="op" id="3780914">=</span>&nbsp;<span class="ident" id="3780916">z</span><span class="op" id="3780917">.</span><span class="ident" id="3780918">abs</span><span class="op" id="3780921">.</span><span class="ident" id="3780922">shr</span><span class="op" id="3780925">(</span><span class="ident" id="3780926">x</span><span class="op" id="3780927">.</span><span class="ident" id="3780928">abs</span><span class="op" id="3780931">,</span>&nbsp;<span class="ident" id="3780933">n</span><span class="op" id="3780934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3780937">z</span><span class="op" id="3780938">.</span><span class="ident" id="3780939">neg</span>&nbsp;<span class="op" id="3780943">=</span>&nbsp;<span class="builtintype" id="3780945">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3780952">return</span>&nbsp;<span class="ident" id="3780959">z</span><br>
<span class="lineno">790</span><span class="op" id="3780961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3780964">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="3781023">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3781074">func</span>&nbsp;<span class="op" id="3781079">(</span><span class="ident" id="3781080">x</span>&nbsp;<span class="op" id="3781082">*</span><span class="ident" id="3781083">Int</span><span class="op" id="3781086">)</span>&nbsp;<span class="ident" id="3781088">Bit</span><span class="op" id="3781091">(</span><span class="ident" id="3781092">i</span>&nbsp;<span class="builtintype" id="3781094">int</span><span class="op" id="3781097">)</span>&nbsp;<span class="builtintype" id="3781099">uint</span>&nbsp;<span class="op" id="3781104">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781107">if</span>&nbsp;<span class="ident" id="3781110">i</span>&nbsp;<span class="op" id="3781112">==</span>&nbsp;<span class="num" id="3781115">0</span>&nbsp;<span class="op" id="3781117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3781121">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781175">if</span>&nbsp;<span class="builtinfunc" id="3781178">len</span><span class="op" id="3781181">(</span><span class="ident" id="3781182">x</span><span class="op" id="3781183">.</span><span class="ident" id="3781184">abs</span><span class="op" id="3781187">)</span>&nbsp;<span class="op" id="3781189">&gt;</span>&nbsp;<span class="num" id="3781191">0</span>&nbsp;<span class="op" id="3781193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781198">return</span>&nbsp;<span class="builtintype" id="3781205">uint</span><span class="op" id="3781209">(</span><span class="ident" id="3781210">x</span><span class="op" id="3781211">.</span><span class="ident" id="3781212">abs</span><span class="op" id="3781215">[</span><span class="num" id="3781216">0</span><span class="op" id="3781217">]</span>&nbsp;<span class="op" id="3781219">&amp;</span>&nbsp;<span class="num" id="3781221">1</span><span class="op" id="3781222">)</span>&nbsp;<span class="comment" id="3781224">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3781250">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781254">return</span>&nbsp;<span class="num" id="3781261">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3781264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781267">if</span>&nbsp;<span class="ident" id="3781270">i</span>&nbsp;<span class="op" id="3781272">&lt;</span>&nbsp;<span class="num" id="3781274">0</span>&nbsp;<span class="op" id="3781276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3781280">panic</span><span class="op" id="3781285">(</span><span class="string" id="3781286">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3781306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3781309">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781312">if</span>&nbsp;<span class="ident" id="3781315">x</span><span class="op" id="3781316">.</span><span class="ident" id="3781317">neg</span>&nbsp;<span class="op" id="3781321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3781325">t</span>&nbsp;<span class="op" id="3781327">:=</span>&nbsp;<span class="ident" id="3781330">nat</span><span class="op" id="3781333">(</span><span class="ident" id="3781334">nil</span><span class="op" id="3781337">)</span><span class="op" id="3781338">.</span><span class="ident" id="3781339">sub</span><span class="op" id="3781342">(</span><span class="ident" id="3781343">x</span><span class="op" id="3781344">.</span><span class="ident" id="3781345">abs</span><span class="op" id="3781348">,</span>&nbsp;<span class="ident" id="3781350">natOne</span><span class="op" id="3781356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781360">return</span>&nbsp;<span class="ident" id="3781367">t</span><span class="op" id="3781368">.</span><span class="ident" id="3781369">bit</span><span class="op" id="3781372">(</span><span class="builtintype" id="3781373">uint</span><span class="op" id="3781377">(</span><span class="ident" id="3781378">i</span><span class="op" id="3781379">)</span><span class="op" id="3781380">)</span>&nbsp;<span class="op" id="3781382">^</span>&nbsp;<span class="num" id="3781384">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3781387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781391">return</span>&nbsp;<span class="ident" id="3781398">x</span><span class="op" id="3781399">.</span><span class="ident" id="3781400">abs</span><span class="op" id="3781403">.</span><span class="ident" id="3781404">bit</span><span class="op" id="3781407">(</span><span class="builtintype" id="3781408">uint</span><span class="op" id="3781412">(</span><span class="ident" id="3781413">i</span><span class="op" id="3781414">)</span><span class="op" id="3781415">)</span><br>
<span class="lineno"></span><span class="op" id="3781417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3781420">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="3781480">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="3781532">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="3781596">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="3781618">func</span>&nbsp;<span class="op" id="3781623">(</span><span class="ident" id="3781624">z</span>&nbsp;<span class="op" id="3781626">*</span><span class="ident" id="3781627">Int</span><span class="op" id="3781630">)</span>&nbsp;<span class="ident" id="3781632">SetBit</span><span class="op" id="3781638">(</span><span class="ident" id="3781639">x</span>&nbsp;<span class="op" id="3781641">*</span><span class="ident" id="3781642">Int</span><span class="op" id="3781645">,</span>&nbsp;<span class="ident" id="3781647">i</span>&nbsp;<span class="builtintype" id="3781649">int</span><span class="op" id="3781652">,</span>&nbsp;<span class="ident" id="3781654">b</span>&nbsp;<span class="builtintype" id="3781656">uint</span><span class="op" id="3781660">)</span>&nbsp;<span class="op" id="3781662">*</span><span class="ident" id="3781663">Int</span>&nbsp;<span class="op" id="3781667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781670">if</span>&nbsp;<span class="ident" id="3781673">i</span>&nbsp;<span class="op" id="3781675">&lt;</span>&nbsp;<span class="num" id="3781677">0</span>&nbsp;<span class="op" id="3781679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3781683">panic</span><span class="op" id="3781688">(</span><span class="string" id="3781689">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3781709">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3781712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781715">if</span>&nbsp;<span class="ident" id="3781718">x</span><span class="op" id="3781719">.</span><span class="ident" id="3781720">neg</span>&nbsp;<span class="op" id="3781724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3781728">t</span>&nbsp;<span class="op" id="3781730">:=</span>&nbsp;<span class="ident" id="3781733">z</span><span class="op" id="3781734">.</span><span class="ident" id="3781735">abs</span><span class="op" id="3781738">.</span><span class="ident" id="3781739">sub</span><span class="op" id="3781742">(</span><span class="ident" id="3781743">x</span><span class="op" id="3781744">.</span><span class="ident" id="3781745">abs</span><span class="op" id="3781748">,</span>&nbsp;<span class="ident" id="3781750">natOne</span><span class="op" id="3781756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3781760">t</span>&nbsp;<span class="op" id="3781762">=</span>&nbsp;<span class="ident" id="3781764">t</span><span class="op" id="3781765">.</span><span class="ident" id="3781766">setBit</span><span class="op" id="3781772">(</span><span class="ident" id="3781773">t</span><span class="op" id="3781774">,</span>&nbsp;<span class="builtintype" id="3781776">uint</span><span class="op" id="3781780">(</span><span class="ident" id="3781781">i</span><span class="op" id="3781782">)</span><span class="op" id="3781783">,</span>&nbsp;<span class="ident" id="3781785">b</span><span class="op" id="3781786">^</span><span class="num" id="3781787">1</span><span class="op" id="3781788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3781792">z</span><span class="op" id="3781793">.</span><span class="ident" id="3781794">abs</span>&nbsp;<span class="op" id="3781798">=</span>&nbsp;<span class="ident" id="3781800">t</span><span class="op" id="3781801">.</span><span class="ident" id="3781802">add</span><span class="op" id="3781805">(</span><span class="ident" id="3781806">t</span><span class="op" id="3781807">,</span>&nbsp;<span class="ident" id="3781809">natOne</span><span class="op" id="3781815">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3781819">z</span><span class="op" id="3781820">.</span><span class="ident" id="3781821">neg</span>&nbsp;<span class="op" id="3781825">=</span>&nbsp;<span class="builtinfunc" id="3781827">len</span><span class="op" id="3781830">(</span><span class="ident" id="3781831">z</span><span class="op" id="3781832">.</span><span class="ident" id="3781833">abs</span><span class="op" id="3781836">)</span>&nbsp;<span class="op" id="3781838">&gt;</span>&nbsp;<span class="num" id="3781840">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781844">return</span>&nbsp;<span class="ident" id="3781851">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3781854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3781857">z</span><span class="op" id="3781858">.</span><span class="ident" id="3781859">abs</span>&nbsp;<span class="op" id="3781863">=</span>&nbsp;<span class="ident" id="3781865">z</span><span class="op" id="3781866">.</span><span class="ident" id="3781867">abs</span><span class="op" id="3781870">.</span><span class="ident" id="3781871">setBit</span><span class="op" id="3781877">(</span><span class="ident" id="3781878">x</span><span class="op" id="3781879">.</span><span class="ident" id="3781880">abs</span><span class="op" id="3781883">,</span>&nbsp;<span class="builtintype" id="3781885">uint</span><span class="op" id="3781889">(</span><span class="ident" id="3781890">i</span><span class="op" id="3781891">)</span><span class="op" id="3781892">,</span>&nbsp;<span class="ident" id="3781894">b</span><span class="op" id="3781895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3781898">z</span><span class="op" id="3781899">.</span><span class="ident" id="3781900">neg</span>&nbsp;<span class="op" id="3781904">=</span>&nbsp;<span class="builtintype" id="3781906">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781913">return</span>&nbsp;<span class="ident" id="3781920">z</span><br>
<span class="lineno"></span><span class="op" id="3781922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3781925">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3781962">func</span>&nbsp;<span class="op" id="3781967">(</span><span class="ident" id="3781968">z</span>&nbsp;<span class="op" id="3781970">*</span><span class="ident" id="3781971">Int</span><span class="op" id="3781974">)</span>&nbsp;<span class="ident" id="3781976">And</span><span class="op" id="3781979">(</span><span class="ident" id="3781980">x</span><span class="op" id="3781981">,</span>&nbsp;<span class="ident" id="3781983">y</span>&nbsp;<span class="op" id="3781985">*</span><span class="ident" id="3781986">Int</span><span class="op" id="3781989">)</span>&nbsp;<span class="op" id="3781991">*</span><span class="ident" id="3781992">Int</span>&nbsp;<span class="op" id="3781996">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3781999">if</span>&nbsp;<span class="ident" id="3782002">x</span><span class="op" id="3782003">.</span><span class="ident" id="3782004">neg</span>&nbsp;<span class="op" id="3782008">==</span>&nbsp;<span class="ident" id="3782011">y</span><span class="op" id="3782012">.</span><span class="ident" id="3782013">neg</span>&nbsp;<span class="op" id="3782017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3782021">if</span>&nbsp;<span class="ident" id="3782024">x</span><span class="op" id="3782025">.</span><span class="ident" id="3782026">neg</span>&nbsp;<span class="op" id="3782030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3782035">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782118">x1</span>&nbsp;<span class="op" id="3782121">:=</span>&nbsp;<span class="ident" id="3782124">nat</span><span class="op" id="3782127">(</span><span class="ident" id="3782128">nil</span><span class="op" id="3782131">)</span><span class="op" id="3782132">.</span><span class="ident" id="3782133">sub</span><span class="op" id="3782136">(</span><span class="ident" id="3782137">x</span><span class="op" id="3782138">.</span><span class="ident" id="3782139">abs</span><span class="op" id="3782142">,</span>&nbsp;<span class="ident" id="3782144">natOne</span><span class="op" id="3782150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782155">y1</span>&nbsp;<span class="op" id="3782158">:=</span>&nbsp;<span class="ident" id="3782161">nat</span><span class="op" id="3782164">(</span><span class="ident" id="3782165">nil</span><span class="op" id="3782168">)</span><span class="op" id="3782169">.</span><span class="ident" id="3782170">sub</span><span class="op" id="3782173">(</span><span class="ident" id="3782174">y</span><span class="op" id="3782175">.</span><span class="ident" id="3782176">abs</span><span class="op" id="3782179">,</span>&nbsp;<span class="ident" id="3782181">natOne</span><span class="op" id="3782187">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782192">z</span><span class="op" id="3782193">.</span><span class="ident" id="3782194">abs</span>&nbsp;<span class="op" id="3782198">=</span>&nbsp;<span class="ident" id="3782200">z</span><span class="op" id="3782201">.</span><span class="ident" id="3782202">abs</span><span class="op" id="3782205">.</span><span class="ident" id="3782206">add</span><span class="op" id="3782209">(</span><span class="ident" id="3782210">z</span><span class="op" id="3782211">.</span><span class="ident" id="3782212">abs</span><span class="op" id="3782215">.</span><span class="ident" id="3782216">or</span><span class="op" id="3782218">(</span><span class="ident" id="3782219">x1</span><span class="op" id="3782221">,</span>&nbsp;<span class="ident" id="3782223">y1</span><span class="op" id="3782225">)</span><span class="op" id="3782226">,</span>&nbsp;<span class="ident" id="3782228">natOne</span><span class="op" id="3782234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782239">z</span><span class="op" id="3782240">.</span><span class="ident" id="3782241">neg</span>&nbsp;<span class="op" id="3782245">=</span>&nbsp;<span class="builtintype" id="3782247">true</span>&nbsp;<span class="comment" id="3782252">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3782299">return</span>&nbsp;<span class="ident" id="3782306">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3782310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3782315">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782335">z</span><span class="op" id="3782336">.</span><span class="ident" id="3782337">abs</span>&nbsp;<span class="op" id="3782341">=</span>&nbsp;<span class="ident" id="3782343">z</span><span class="op" id="3782344">.</span><span class="ident" id="3782345">abs</span><span class="op" id="3782348">.</span><span class="ident" id="3782349">and</span><span class="op" id="3782352">(</span><span class="ident" id="3782353">x</span><span class="op" id="3782354">.</span><span class="ident" id="3782355">abs</span><span class="op" id="3782358">,</span>&nbsp;<span class="ident" id="3782360">y</span><span class="op" id="3782361">.</span><span class="ident" id="3782362">abs</span><span class="op" id="3782365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782369">z</span><span class="op" id="3782370">.</span><span class="ident" id="3782371">neg</span>&nbsp;<span class="op" id="3782375">=</span>&nbsp;<span class="builtintype" id="3782377">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3782385">return</span>&nbsp;<span class="ident" id="3782392">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3782395">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3782399">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3782418">if</span>&nbsp;<span class="ident" id="3782421">x</span><span class="op" id="3782422">.</span><span class="ident" id="3782423">neg</span>&nbsp;<span class="op" id="3782427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782431">x</span><span class="op" id="3782432">,</span>&nbsp;<span class="ident" id="3782434">y</span>&nbsp;<span class="op" id="3782436">=</span>&nbsp;<span class="ident" id="3782438">y</span><span class="op" id="3782439">,</span>&nbsp;<span class="ident" id="3782441">x</span>&nbsp;<span class="comment" id="3782443">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3782462">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3782466">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782507">y1</span>&nbsp;<span class="op" id="3782510">:=</span>&nbsp;<span class="ident" id="3782513">nat</span><span class="op" id="3782516">(</span><span class="ident" id="3782517">nil</span><span class="op" id="3782520">)</span><span class="op" id="3782521">.</span><span class="ident" id="3782522">sub</span><span class="op" id="3782525">(</span><span class="ident" id="3782526">y</span><span class="op" id="3782527">.</span><span class="ident" id="3782528">abs</span><span class="op" id="3782531">,</span>&nbsp;<span class="ident" id="3782533">natOne</span><span class="op" id="3782539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782542">z</span><span class="op" id="3782543">.</span><span class="ident" id="3782544">abs</span>&nbsp;<span class="op" id="3782548">=</span>&nbsp;<span class="ident" id="3782550">z</span><span class="op" id="3782551">.</span><span class="ident" id="3782552">abs</span><span class="op" id="3782555">.</span><span class="ident" id="3782556">andNot</span><span class="op" id="3782562">(</span><span class="ident" id="3782563">x</span><span class="op" id="3782564">.</span><span class="ident" id="3782565">abs</span><span class="op" id="3782568">,</span>&nbsp;<span class="ident" id="3782570">y1</span><span class="op" id="3782572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782575">z</span><span class="op" id="3782576">.</span><span class="ident" id="3782577">neg</span>&nbsp;<span class="op" id="3782581">=</span>&nbsp;<span class="builtintype" id="3782583">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3782590">return</span>&nbsp;<span class="ident" id="3782597">z</span><br>
<span class="lineno"></span><span class="op" id="3782599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3782602">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3782643">func</span>&nbsp;<span class="op" id="3782648">(</span><span class="ident" id="3782649">z</span>&nbsp;<span class="op" id="3782651">*</span><span class="ident" id="3782652">Int</span><span class="op" id="3782655">)</span>&nbsp;<span class="ident" id="3782657">AndNot</span><span class="op" id="3782663">(</span><span class="ident" id="3782664">x</span><span class="op" id="3782665">,</span>&nbsp;<span class="ident" id="3782667">y</span>&nbsp;<span class="op" id="3782669">*</span><span class="ident" id="3782670">Int</span><span class="op" id="3782673">)</span>&nbsp;<span class="op" id="3782675">*</span><span class="ident" id="3782676">Int</span>&nbsp;<span class="op" id="3782680">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3782683">if</span>&nbsp;<span class="ident" id="3782686">x</span><span class="op" id="3782687">.</span><span class="ident" id="3782688">neg</span>&nbsp;<span class="op" id="3782692">==</span>&nbsp;<span class="ident" id="3782695">y</span><span class="op" id="3782696">.</span><span class="ident" id="3782697">neg</span>&nbsp;<span class="op" id="3782701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3782705">if</span>&nbsp;<span class="ident" id="3782708">x</span><span class="op" id="3782709">.</span><span class="ident" id="3782710">neg</span>&nbsp;<span class="op" id="3782714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3782719">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782794">x1</span>&nbsp;<span class="op" id="3782797">:=</span>&nbsp;<span class="ident" id="3782800">nat</span><span class="op" id="3782803">(</span><span class="ident" id="3782804">nil</span><span class="op" id="3782807">)</span><span class="op" id="3782808">.</span><span class="ident" id="3782809">sub</span><span class="op" id="3782812">(</span><span class="ident" id="3782813">x</span><span class="op" id="3782814">.</span><span class="ident" id="3782815">abs</span><span class="op" id="3782818">,</span>&nbsp;<span class="ident" id="3782820">natOne</span><span class="op" id="3782826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782831">y1</span>&nbsp;<span class="op" id="3782834">:=</span>&nbsp;<span class="ident" id="3782837">nat</span><span class="op" id="3782840">(</span><span class="ident" id="3782841">nil</span><span class="op" id="3782844">)</span><span class="op" id="3782845">.</span><span class="ident" id="3782846">sub</span><span class="op" id="3782849">(</span><span class="ident" id="3782850">y</span><span class="op" id="3782851">.</span><span class="ident" id="3782852">abs</span><span class="op" id="3782855">,</span>&nbsp;<span class="ident" id="3782857">natOne</span><span class="op" id="3782863">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782868">z</span><span class="op" id="3782869">.</span><span class="ident" id="3782870">abs</span>&nbsp;<span class="op" id="3782874">=</span>&nbsp;<span class="ident" id="3782876">z</span><span class="op" id="3782877">.</span><span class="ident" id="3782878">abs</span><span class="op" id="3782881">.</span><span class="ident" id="3782882">andNot</span><span class="op" id="3782888">(</span><span class="ident" id="3782889">y1</span><span class="op" id="3782891">,</span>&nbsp;<span class="ident" id="3782893">x1</span><span class="op" id="3782895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782900">z</span><span class="op" id="3782901">.</span><span class="ident" id="3782902">neg</span>&nbsp;<span class="op" id="3782906">=</span>&nbsp;<span class="builtintype" id="3782908">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3782917">return</span>&nbsp;<span class="ident" id="3782924">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3782928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3782933">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782955">z</span><span class="op" id="3782956">.</span><span class="ident" id="3782957">abs</span>&nbsp;<span class="op" id="3782961">=</span>&nbsp;<span class="ident" id="3782963">z</span><span class="op" id="3782964">.</span><span class="ident" id="3782965">abs</span><span class="op" id="3782968">.</span><span class="ident" id="3782969">andNot</span><span class="op" id="3782975">(</span><span class="ident" id="3782976">x</span><span class="op" id="3782977">.</span><span class="ident" id="3782978">abs</span><span class="op" id="3782981">,</span>&nbsp;<span class="ident" id="3782983">y</span><span class="op" id="3782984">.</span><span class="ident" id="3782985">abs</span><span class="op" id="3782988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3782992">z</span><span class="op" id="3782993">.</span><span class="ident" id="3782994">neg</span>&nbsp;<span class="op" id="3782998">=</span>&nbsp;<span class="builtintype" id="3783000">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3783008">return</span>&nbsp;<span class="ident" id="3783015">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3783018">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3783022">if</span>&nbsp;<span class="ident" id="3783025">x</span><span class="op" id="3783026">.</span><span class="ident" id="3783027">neg</span>&nbsp;<span class="op" id="3783031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3783035">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783118">x1</span>&nbsp;<span class="op" id="3783121">:=</span>&nbsp;<span class="ident" id="3783124">nat</span><span class="op" id="3783127">(</span><span class="ident" id="3783128">nil</span><span class="op" id="3783131">)</span><span class="op" id="3783132">.</span><span class="ident" id="3783133">sub</span><span class="op" id="3783136">(</span><span class="ident" id="3783137">x</span><span class="op" id="3783138">.</span><span class="ident" id="3783139">abs</span><span class="op" id="3783142">,</span>&nbsp;<span class="ident" id="3783144">natOne</span><span class="op" id="3783150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783154">z</span><span class="op" id="3783155">.</span><span class="ident" id="3783156">abs</span>&nbsp;<span class="op" id="3783160">=</span>&nbsp;<span class="ident" id="3783162">z</span><span class="op" id="3783163">.</span><span class="ident" id="3783164">abs</span><span class="op" id="3783167">.</span><span class="ident" id="3783168">add</span><span class="op" id="3783171">(</span><span class="ident" id="3783172">z</span><span class="op" id="3783173">.</span><span class="ident" id="3783174">abs</span><span class="op" id="3783177">.</span><span class="ident" id="3783178">or</span><span class="op" id="3783180">(</span><span class="ident" id="3783181">x1</span><span class="op" id="3783183">,</span>&nbsp;<span class="ident" id="3783185">y</span><span class="op" id="3783186">.</span><span class="ident" id="3783187">abs</span><span class="op" id="3783190">)</span><span class="op" id="3783191">,</span>&nbsp;<span class="ident" id="3783193">natOne</span><span class="op" id="3783199">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783203">z</span><span class="op" id="3783204">.</span><span class="ident" id="3783205">neg</span>&nbsp;<span class="op" id="3783209">=</span>&nbsp;<span class="builtintype" id="3783211">true</span>&nbsp;<span class="comment" id="3783216">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3783273">return</span>&nbsp;<span class="ident" id="3783280">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3783283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3783287">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783329">y1</span>&nbsp;<span class="op" id="3783332">:=</span>&nbsp;<span class="ident" id="3783335">nat</span><span class="op" id="3783338">(</span><span class="ident" id="3783339">nil</span><span class="op" id="3783342">)</span><span class="op" id="3783343">.</span><span class="ident" id="3783344">add</span><span class="op" id="3783347">(</span><span class="ident" id="3783348">y</span><span class="op" id="3783349">.</span><span class="ident" id="3783350">abs</span><span class="op" id="3783353">,</span>&nbsp;<span class="ident" id="3783355">natOne</span><span class="op" id="3783361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783364">z</span><span class="op" id="3783365">.</span><span class="ident" id="3783366">abs</span>&nbsp;<span class="op" id="3783370">=</span>&nbsp;<span class="ident" id="3783372">z</span><span class="op" id="3783373">.</span><span class="ident" id="3783374">abs</span><span class="op" id="3783377">.</span><span class="ident" id="3783378">and</span><span class="op" id="3783381">(</span><span class="ident" id="3783382">x</span><span class="op" id="3783383">.</span><span class="ident" id="3783384">abs</span><span class="op" id="3783387">,</span>&nbsp;<span class="ident" id="3783389">y1</span><span class="op" id="3783391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783394">z</span><span class="op" id="3783395">.</span><span class="ident" id="3783396">neg</span>&nbsp;<span class="op" id="3783400">=</span>&nbsp;<span class="builtintype" id="3783402">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3783409">return</span>&nbsp;<span class="ident" id="3783416">z</span><br>
<span class="lineno"></span><span class="op" id="3783418">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="3783421">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3783457">func</span>&nbsp;<span class="op" id="3783462">(</span><span class="ident" id="3783463">z</span>&nbsp;<span class="op" id="3783465">*</span><span class="ident" id="3783466">Int</span><span class="op" id="3783469">)</span>&nbsp;<span class="ident" id="3783471">Or</span><span class="op" id="3783473">(</span><span class="ident" id="3783474">x</span><span class="op" id="3783475">,</span>&nbsp;<span class="ident" id="3783477">y</span>&nbsp;<span class="op" id="3783479">*</span><span class="ident" id="3783480">Int</span><span class="op" id="3783483">)</span>&nbsp;<span class="op" id="3783485">*</span><span class="ident" id="3783486">Int</span>&nbsp;<span class="op" id="3783490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3783493">if</span>&nbsp;<span class="ident" id="3783496">x</span><span class="op" id="3783497">.</span><span class="ident" id="3783498">neg</span>&nbsp;<span class="op" id="3783502">==</span>&nbsp;<span class="ident" id="3783505">y</span><span class="op" id="3783506">.</span><span class="ident" id="3783507">neg</span>&nbsp;<span class="op" id="3783511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3783515">if</span>&nbsp;<span class="ident" id="3783518">x</span><span class="op" id="3783519">.</span><span class="ident" id="3783520">neg</span>&nbsp;<span class="op" id="3783524">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3783529">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783612">x1</span>&nbsp;<span class="op" id="3783615">:=</span>&nbsp;<span class="ident" id="3783618">nat</span><span class="op" id="3783621">(</span><span class="ident" id="3783622">nil</span><span class="op" id="3783625">)</span><span class="op" id="3783626">.</span><span class="ident" id="3783627">sub</span><span class="op" id="3783630">(</span><span class="ident" id="3783631">x</span><span class="op" id="3783632">.</span><span class="ident" id="3783633">abs</span><span class="op" id="3783636">,</span>&nbsp;<span class="ident" id="3783638">natOne</span><span class="op" id="3783644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783649">y1</span>&nbsp;<span class="op" id="3783652">:=</span>&nbsp;<span class="ident" id="3783655">nat</span><span class="op" id="3783658">(</span><span class="ident" id="3783659">nil</span><span class="op" id="3783662">)</span><span class="op" id="3783663">.</span><span class="ident" id="3783664">sub</span><span class="op" id="3783667">(</span><span class="ident" id="3783668">y</span><span class="op" id="3783669">.</span><span class="ident" id="3783670">abs</span><span class="op" id="3783673">,</span>&nbsp;<span class="ident" id="3783675">natOne</span><span class="op" id="3783681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783686">z</span><span class="op" id="3783687">.</span><span class="ident" id="3783688">abs</span>&nbsp;<span class="op" id="3783692">=</span>&nbsp;<span class="ident" id="3783694">z</span><span class="op" id="3783695">.</span><span class="ident" id="3783696">abs</span><span class="op" id="3783699">.</span><span class="ident" id="3783700">add</span><span class="op" id="3783703">(</span><span class="ident" id="3783704">z</span><span class="op" id="3783705">.</span><span class="ident" id="3783706">abs</span><span class="op" id="3783709">.</span><span class="ident" id="3783710">and</span><span class="op" id="3783713">(</span><span class="ident" id="3783714">x1</span><span class="op" id="3783716">,</span>&nbsp;<span class="ident" id="3783718">y1</span><span class="op" id="3783720">)</span><span class="op" id="3783721">,</span>&nbsp;<span class="ident" id="3783723">natOne</span><span class="op" id="3783729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783734">z</span><span class="op" id="3783735">.</span><span class="ident" id="3783736">neg</span>&nbsp;<span class="op" id="3783740">=</span>&nbsp;<span class="builtintype" id="3783742">true</span>&nbsp;<span class="comment" id="3783747">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3783794">return</span>&nbsp;<span class="ident" id="3783801">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3783805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3783810">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783830">z</span><span class="op" id="3783831">.</span><span class="ident" id="3783832">abs</span>&nbsp;<span class="op" id="3783836">=</span>&nbsp;<span class="ident" id="3783838">z</span><span class="op" id="3783839">.</span><span class="ident" id="3783840">abs</span><span class="op" id="3783843">.</span><span class="ident" id="3783844">or</span><span class="op" id="3783846">(</span><span class="ident" id="3783847">x</span><span class="op" id="3783848">.</span><span class="ident" id="3783849">abs</span><span class="op" id="3783852">,</span>&nbsp;<span class="ident" id="3783854">y</span><span class="op" id="3783855">.</span><span class="ident" id="3783856">abs</span><span class="op" id="3783859">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783863">z</span><span class="op" id="3783864">.</span><span class="ident" id="3783865">neg</span>&nbsp;<span class="op" id="3783869">=</span>&nbsp;<span class="builtintype" id="3783871">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3783879">return</span>&nbsp;<span class="ident" id="3783886">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3783889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3783893">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3783912">if</span>&nbsp;<span class="ident" id="3783915">x</span><span class="op" id="3783916">.</span><span class="ident" id="3783917">neg</span>&nbsp;<span class="op" id="3783921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3783925">x</span><span class="op" id="3783926">,</span>&nbsp;<span class="ident" id="3783928">y</span>&nbsp;<span class="op" id="3783930">=</span>&nbsp;<span class="ident" id="3783932">y</span><span class="op" id="3783933">,</span>&nbsp;<span class="ident" id="3783935">x</span>&nbsp;<span class="comment" id="3783937">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3783956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3783960">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784028">y1</span>&nbsp;<span class="op" id="3784031">:=</span>&nbsp;<span class="ident" id="3784034">nat</span><span class="op" id="3784037">(</span><span class="ident" id="3784038">nil</span><span class="op" id="3784041">)</span><span class="op" id="3784042">.</span><span class="ident" id="3784043">sub</span><span class="op" id="3784046">(</span><span class="ident" id="3784047">y</span><span class="op" id="3784048">.</span><span class="ident" id="3784049">abs</span><span class="op" id="3784052">,</span>&nbsp;<span class="ident" id="3784054">natOne</span><span class="op" id="3784060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784063">z</span><span class="op" id="3784064">.</span><span class="ident" id="3784065">abs</span>&nbsp;<span class="op" id="3784069">=</span>&nbsp;<span class="ident" id="3784071">z</span><span class="op" id="3784072">.</span><span class="ident" id="3784073">abs</span><span class="op" id="3784076">.</span><span class="ident" id="3784077">add</span><span class="op" id="3784080">(</span><span class="ident" id="3784081">z</span><span class="op" id="3784082">.</span><span class="ident" id="3784083">abs</span><span class="op" id="3784086">.</span><span class="ident" id="3784087">andNot</span><span class="op" id="3784093">(</span><span class="ident" id="3784094">y1</span><span class="op" id="3784096">,</span>&nbsp;<span class="ident" id="3784098">x</span><span class="op" id="3784099">.</span><span class="ident" id="3784100">abs</span><span class="op" id="3784103">)</span><span class="op" id="3784104">,</span>&nbsp;<span class="ident" id="3784106">natOne</span><span class="op" id="3784112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784115">z</span><span class="op" id="3784116">.</span><span class="ident" id="3784117">neg</span>&nbsp;<span class="op" id="3784121">=</span>&nbsp;<span class="builtintype" id="3784123">true</span>&nbsp;<span class="comment" id="3784128">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3784178">return</span>&nbsp;<span class="ident" id="3784185">z</span><br>
<span class="lineno"></span><span class="op" id="3784187">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="3784190">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3784227">func</span>&nbsp;<span class="op" id="3784232">(</span><span class="ident" id="3784233">z</span>&nbsp;<span class="op" id="3784235">*</span><span class="ident" id="3784236">Int</span><span class="op" id="3784239">)</span>&nbsp;<span class="ident" id="3784241">Xor</span><span class="op" id="3784244">(</span><span class="ident" id="3784245">x</span><span class="op" id="3784246">,</span>&nbsp;<span class="ident" id="3784248">y</span>&nbsp;<span class="op" id="3784250">*</span><span class="ident" id="3784251">Int</span><span class="op" id="3784254">)</span>&nbsp;<span class="op" id="3784256">*</span><span class="ident" id="3784257">Int</span>&nbsp;<span class="op" id="3784261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3784264">if</span>&nbsp;<span class="ident" id="3784267">x</span><span class="op" id="3784268">.</span><span class="ident" id="3784269">neg</span>&nbsp;<span class="op" id="3784273">==</span>&nbsp;<span class="ident" id="3784276">y</span><span class="op" id="3784277">.</span><span class="ident" id="3784278">neg</span>&nbsp;<span class="op" id="3784282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3784286">if</span>&nbsp;<span class="ident" id="3784289">x</span><span class="op" id="3784290">.</span><span class="ident" id="3784291">neg</span>&nbsp;<span class="op" id="3784295">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3784300">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784354">x1</span>&nbsp;<span class="op" id="3784357">:=</span>&nbsp;<span class="ident" id="3784360">nat</span><span class="op" id="3784363">(</span><span class="ident" id="3784364">nil</span><span class="op" id="3784367">)</span><span class="op" id="3784368">.</span><span class="ident" id="3784369">sub</span><span class="op" id="3784372">(</span><span class="ident" id="3784373">x</span><span class="op" id="3784374">.</span><span class="ident" id="3784375">abs</span><span class="op" id="3784378">,</span>&nbsp;<span class="ident" id="3784380">natOne</span><span class="op" id="3784386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784391">y1</span>&nbsp;<span class="op" id="3784394">:=</span>&nbsp;<span class="ident" id="3784397">nat</span><span class="op" id="3784400">(</span><span class="ident" id="3784401">nil</span><span class="op" id="3784404">)</span><span class="op" id="3784405">.</span><span class="ident" id="3784406">sub</span><span class="op" id="3784409">(</span><span class="ident" id="3784410">y</span><span class="op" id="3784411">.</span><span class="ident" id="3784412">abs</span><span class="op" id="3784415">,</span>&nbsp;<span class="ident" id="3784417">natOne</span><span class="op" id="3784423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784428">z</span><span class="op" id="3784429">.</span><span class="ident" id="3784430">abs</span>&nbsp;<span class="op" id="3784434">=</span>&nbsp;<span class="ident" id="3784436">z</span><span class="op" id="3784437">.</span><span class="ident" id="3784438">abs</span><span class="op" id="3784441">.</span><span class="ident" id="3784442">xor</span><span class="op" id="3784445">(</span><span class="ident" id="3784446">x1</span><span class="op" id="3784448">,</span>&nbsp;<span class="ident" id="3784450">y1</span><span class="op" id="3784452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784457">z</span><span class="op" id="3784458">.</span><span class="ident" id="3784459">neg</span>&nbsp;<span class="op" id="3784463">=</span>&nbsp;<span class="builtintype" id="3784465">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3784474">return</span>&nbsp;<span class="ident" id="3784481">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3784485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3784490">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784510">z</span><span class="op" id="3784511">.</span><span class="ident" id="3784512">abs</span>&nbsp;<span class="op" id="3784516">=</span>&nbsp;<span class="ident" id="3784518">z</span><span class="op" id="3784519">.</span><span class="ident" id="3784520">abs</span><span class="op" id="3784523">.</span><span class="ident" id="3784524">xor</span><span class="op" id="3784527">(</span><span class="ident" id="3784528">x</span><span class="op" id="3784529">.</span><span class="ident" id="3784530">abs</span><span class="op" id="3784533">,</span>&nbsp;<span class="ident" id="3784535">y</span><span class="op" id="3784536">.</span><span class="ident" id="3784537">abs</span><span class="op" id="3784540">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784544">z</span><span class="op" id="3784545">.</span><span class="ident" id="3784546">neg</span>&nbsp;<span class="op" id="3784550">=</span>&nbsp;<span class="builtintype" id="3784552">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3784560">return</span>&nbsp;<span class="ident" id="3784567">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3784570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3784574">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3784593">if</span>&nbsp;<span class="ident" id="3784596">x</span><span class="op" id="3784597">.</span><span class="ident" id="3784598">neg</span>&nbsp;<span class="op" id="3784602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784606">x</span><span class="op" id="3784607">,</span>&nbsp;<span class="ident" id="3784609">y</span>&nbsp;<span class="op" id="3784611">=</span>&nbsp;<span class="ident" id="3784613">y</span><span class="op" id="3784614">,</span>&nbsp;<span class="ident" id="3784616">x</span>&nbsp;<span class="comment" id="3784618">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3784637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3784641">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784706">y1</span>&nbsp;<span class="op" id="3784709">:=</span>&nbsp;<span class="ident" id="3784712">nat</span><span class="op" id="3784715">(</span><span class="ident" id="3784716">nil</span><span class="op" id="3784719">)</span><span class="op" id="3784720">.</span><span class="ident" id="3784721">sub</span><span class="op" id="3784724">(</span><span class="ident" id="3784725">y</span><span class="op" id="3784726">.</span><span class="ident" id="3784727">abs</span><span class="op" id="3784730">,</span>&nbsp;<span class="ident" id="3784732">natOne</span><span class="op" id="3784738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784741">z</span><span class="op" id="3784742">.</span><span class="ident" id="3784743">abs</span>&nbsp;<span class="op" id="3784747">=</span>&nbsp;<span class="ident" id="3784749">z</span><span class="op" id="3784750">.</span><span class="ident" id="3784751">abs</span><span class="op" id="3784754">.</span><span class="ident" id="3784755">add</span><span class="op" id="3784758">(</span><span class="ident" id="3784759">z</span><span class="op" id="3784760">.</span><span class="ident" id="3784761">abs</span><span class="op" id="3784764">.</span><span class="ident" id="3784765">xor</span><span class="op" id="3784768">(</span><span class="ident" id="3784769">x</span><span class="op" id="3784770">.</span><span class="ident" id="3784771">abs</span><span class="op" id="3784774">,</span>&nbsp;<span class="ident" id="3784776">y1</span><span class="op" id="3784778">)</span><span class="op" id="3784779">,</span>&nbsp;<span class="ident" id="3784781">natOne</span><span class="op" id="3784787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784790">z</span><span class="op" id="3784791">.</span><span class="ident" id="3784792">neg</span>&nbsp;<span class="op" id="3784796">=</span>&nbsp;<span class="builtintype" id="3784798">true</span>&nbsp;<span class="comment" id="3784803">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3784858">return</span>&nbsp;<span class="ident" id="3784865">z</span><br>
<span class="lineno"></span><span class="op" id="3784867">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="3784870">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3784904">func</span>&nbsp;<span class="op" id="3784909">(</span><span class="ident" id="3784910">z</span>&nbsp;<span class="op" id="3784912">*</span><span class="ident" id="3784913">Int</span><span class="op" id="3784916">)</span>&nbsp;<span class="ident" id="3784918">Not</span><span class="op" id="3784921">(</span><span class="ident" id="3784922">x</span>&nbsp;<span class="op" id="3784924">*</span><span class="ident" id="3784925">Int</span><span class="op" id="3784928">)</span>&nbsp;<span class="op" id="3784930">*</span><span class="ident" id="3784931">Int</span>&nbsp;<span class="op" id="3784935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3784938">if</span>&nbsp;<span class="ident" id="3784941">x</span><span class="op" id="3784942">.</span><span class="ident" id="3784943">neg</span>&nbsp;<span class="op" id="3784947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3784951">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3784982">z</span><span class="op" id="3784983">.</span><span class="ident" id="3784984">abs</span>&nbsp;<span class="op" id="3784988">=</span>&nbsp;<span class="ident" id="3784990">z</span><span class="op" id="3784991">.</span><span class="ident" id="3784992">abs</span><span class="op" id="3784995">.</span><span class="ident" id="3784996">sub</span><span class="op" id="3784999">(</span><span class="ident" id="3785000">x</span><span class="op" id="3785001">.</span><span class="ident" id="3785002">abs</span><span class="op" id="3785005">,</span>&nbsp;<span class="ident" id="3785007">natOne</span><span class="op" id="3785013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3785017">z</span><span class="op" id="3785018">.</span><span class="ident" id="3785019">neg</span>&nbsp;<span class="op" id="3785023">=</span>&nbsp;<span class="builtintype" id="3785025">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3785033">return</span>&nbsp;<span class="ident" id="3785040">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3785043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3785047">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3785072">z</span><span class="op" id="3785073">.</span><span class="ident" id="3785074">abs</span>&nbsp;<span class="op" id="3785078">=</span>&nbsp;<span class="ident" id="3785080">z</span><span class="op" id="3785081">.</span><span class="ident" id="3785082">abs</span><span class="op" id="3785085">.</span><span class="ident" id="3785086">add</span><span class="op" id="3785089">(</span><span class="ident" id="3785090">x</span><span class="op" id="3785091">.</span><span class="ident" id="3785092">abs</span><span class="op" id="3785095">,</span>&nbsp;<span class="ident" id="3785097">natOne</span><span class="op" id="3785103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3785106">z</span><span class="op" id="3785107">.</span><span class="ident" id="3785108">neg</span>&nbsp;<span class="op" id="3785112">=</span>&nbsp;<span class="builtintype" id="3785114">true</span>&nbsp;<span class="comment" id="3785119">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3785157">return</span>&nbsp;<span class="ident" id="3785164">z</span><br>
<span class="lineno"></span><span class="op" id="3785166">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="3785169">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3785244">const</span>&nbsp;<span class="ident" id="3785250">intGobVersion</span>&nbsp;<span class="builtintype" id="3785264">byte</span>&nbsp;<span class="op" id="3785269">=</span>&nbsp;<span class="num" id="3785271">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3785274">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="3785328">func</span>&nbsp;<span class="op" id="3785333">(</span><span class="ident" id="3785334">x</span>&nbsp;<span class="op" id="3785336">*</span><span class="ident" id="3785337">Int</span><span class="op" id="3785340">)</span>&nbsp;<span class="ident" id="3785342">GobEncode</span><span class="op" id="3785351">(</span><span class="op" id="3785352">)</span>&nbsp;<span class="op" id="3785354">(</span><span class="op" id="3785355">[</span><span class="op" id="3785356">]</span><span class="builtintype" id="3785357">byte</span><span class="op" id="3785361">,</span>&nbsp;<span class="builtintype" id="3785363">error</span><span class="op" id="3785368">)</span>&nbsp;<span class="op" id="3785370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3785373">if</span>&nbsp;<span class="ident" id="3785376">x</span>&nbsp;<span class="op" id="3785378">==</span>&nbsp;<span class="ident" id="3785381">nil</span>&nbsp;<span class="op" id="3785385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3785389">return</span>&nbsp;<span class="ident" id="3785396">nil</span><span class="op" id="3785399">,</span>&nbsp;<span class="ident" id="3785401">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3785406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3785409">buf</span>&nbsp;<span class="op" id="3785413">:=</span>&nbsp;<span class="builtinfunc" id="3785416">make</span><span class="op" id="3785420">(</span><span class="op" id="3785421">[</span><span class="op" id="3785422">]</span><span class="builtintype" id="3785423">byte</span><span class="op" id="3785427">,</span>&nbsp;<span class="num" id="3785429">1</span><span class="op" id="3785430">+</span><span class="builtinfunc" id="3785431">len</span><span class="op" id="3785434">(</span><span class="ident" id="3785435">x</span><span class="op" id="3785436">.</span><span class="ident" id="3785437">abs</span><span class="op" id="3785440">)</span><span class="op" id="3785441">*</span><span class="ident" id="3785442">_S</span><span class="op" id="3785444">)</span>&nbsp;<span class="comment" id="3785446">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3785486">i</span>&nbsp;<span class="op" id="3785488">:=</span>&nbsp;<span class="ident" id="3785491">x</span><span class="op" id="3785492">.</span><span class="ident" id="3785493">abs</span><span class="op" id="3785496">.</span><span class="ident" id="3785497">bytes</span><span class="op" id="3785502">(</span><span class="ident" id="3785503">buf</span><span class="op" id="3785506">)</span>&nbsp;<span class="op" id="3785508">-</span>&nbsp;<span class="num" id="3785510">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3785523">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3785534">b</span>&nbsp;<span class="op" id="3785536">:=</span>&nbsp;<span class="ident" id="3785539">intGobVersion</span>&nbsp;<span class="op" id="3785553">&lt;&lt;</span>&nbsp;<span class="num" id="3785556">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3785571">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3785599">if</span>&nbsp;<span class="ident" id="3785602">x</span><span class="op" id="3785603">.</span><span class="ident" id="3785604">neg</span>&nbsp;<span class="op" id="3785608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3785612">b</span>&nbsp;<span class="op" id="3785614">|=</span>&nbsp;<span class="num" id="3785617">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3785620">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3785623">buf</span><span class="op" id="3785626">[</span><span class="ident" id="3785627">i</span><span class="op" id="3785628">]</span>&nbsp;<span class="op" id="3785630">=</span>&nbsp;<span class="ident" id="3785632">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3785635">return</span>&nbsp;<span class="ident" id="3785642">buf</span><span class="op" id="3785645">[</span><span class="ident" id="3785646">i</span><span class="op" id="3785647">:</span><span class="op" id="3785648">]</span><span class="op" id="3785649">,</span>&nbsp;<span class="ident" id="3785651">nil</span><br>
<span class="lineno"></span><span class="op" id="3785655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3785658">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="3785712">func</span>&nbsp;<span class="op" id="3785717">(</span><span class="ident" id="3785718">z</span>&nbsp;<span class="op" id="3785720">*</span><span class="ident" id="3785721">Int</span><span class="op" id="3785724">)</span>&nbsp;<span class="ident" id="3785726">GobDecode</span><span class="op" id="3785735">(</span><span class="ident" id="3785736">buf</span>&nbsp;<span class="op" id="3785740">[</span><span class="op" id="3785741">]</span><span class="builtintype" id="3785742">byte</span><span class="op" id="3785746">)</span>&nbsp;<span class="builtintype" id="3785748">error</span>&nbsp;<span class="op" id="3785754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3785757">if</span>&nbsp;<span class="builtinfunc" id="3785760">len</span><span class="op" id="3785763">(</span><span class="ident" id="3785764">buf</span><span class="op" id="3785767">)</span>&nbsp;<span class="op" id="3785769">==</span>&nbsp;<span class="num" id="3785772">0</span>&nbsp;<span class="op" id="3785774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3785778">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3785823">*</span><span class="ident" id="3785824">z</span>&nbsp;<span class="op" id="3785826">=</span>&nbsp;<span class="ident" id="3785828">Int</span><span class="op" id="3785831">{</span><span class="op" id="3785832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3785836">return</span>&nbsp;<span class="ident" id="3785843">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3785848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3785851">b</span>&nbsp;<span class="op" id="3785853">:=</span>&nbsp;<span class="ident" id="3785856">buf</span><span class="op" id="3785859">[</span><span class="num" id="3785860">0</span><span class="op" id="3785861">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3785864">if</span>&nbsp;<span class="ident" id="3785867">b</span><span class="op" id="3785868">&gt;&gt;</span><span class="num" id="3785870">1</span>&nbsp;<span class="op" id="3785872">!=</span>&nbsp;<span class="ident" id="3785875">intGobVersion</span>&nbsp;<span class="op" id="3785889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3785893">return</span>&nbsp;<span class="ident" id="3785900">errors</span><span class="op" id="3785906">.</span><span class="ident" id="3785907">New</span><span class="op" id="3785910">(</span><span class="ident" id="3785911">fmt</span><span class="op" id="3785914">.</span><span class="ident" id="3785915">Sprintf</span><span class="op" id="3785922">(</span><span class="string" id="3785923">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="3785973">,</span>&nbsp;<span class="ident" id="3785975">b</span><span class="op" id="3785976">&gt;&gt;</span><span class="num" id="3785978">1</span><span class="op" id="3785979">)</span><span class="op" id="3785980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3785983">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3785986">z</span><span class="op" id="3785987">.</span><span class="ident" id="3785988">neg</span>&nbsp;<span class="op" id="3785992">=</span>&nbsp;<span class="ident" id="3785994">b</span><span class="op" id="3785995">&amp;</span><span class="num" id="3785996">1</span>&nbsp;<span class="op" id="3785998">!=</span>&nbsp;<span class="num" id="3786001">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3786004">z</span><span class="op" id="3786005">.</span><span class="ident" id="3786006">abs</span>&nbsp;<span class="op" id="3786010">=</span>&nbsp;<span class="ident" id="3786012">z</span><span class="op" id="3786013">.</span><span class="ident" id="3786014">abs</span><span class="op" id="3786017">.</span><span class="ident" id="3786018">setBytes</span><span class="op" id="3786026">(</span><span class="ident" id="3786027">buf</span><span class="op" id="3786030">[</span><span class="num" id="3786031">1</span><span class="op" id="3786032">:</span><span class="op" id="3786033">]</span><span class="op" id="3786034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3786037">return</span>&nbsp;<span class="ident" id="3786044">nil</span><br>
<span class="lineno"></span><span class="op" id="3786048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="3786051">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3786107">func</span>&nbsp;<span class="op" id="3786112">(</span><span class="ident" id="3786113">z</span>&nbsp;<span class="op" id="3786115">*</span><span class="ident" id="3786116">Int</span><span class="op" id="3786119">)</span>&nbsp;<span class="ident" id="3786121">MarshalJSON</span><span class="op" id="3786132">(</span><span class="op" id="3786133">)</span>&nbsp;<span class="op" id="3786135">(</span><span class="op" id="3786136">[</span><span class="op" id="3786137">]</span><span class="builtintype" id="3786138">byte</span><span class="op" id="3786142">,</span>&nbsp;<span class="builtintype" id="3786144">error</span><span class="op" id="3786149">)</span>&nbsp;<span class="op" id="3786151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3786154">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3786210">return</span>&nbsp;<span class="op" id="3786217">[</span><span class="op" id="3786218">]</span><span class="builtintype" id="3786219">byte</span><span class="op" id="3786223">(</span><span class="ident" id="3786224">z</span><span class="op" id="3786225">.</span><span class="ident" id="3786226">String</span><span class="op" id="3786232">(</span><span class="op" id="3786233">)</span><span class="op" id="3786234">)</span><span class="op" id="3786235">,</span>&nbsp;<span class="ident" id="3786237">nil</span><br>
<span class="lineno"></span><span class="op" id="3786241">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="3786244">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3786304">func</span>&nbsp;<span class="op" id="3786309">(</span><span class="ident" id="3786310">z</span>&nbsp;<span class="op" id="3786312">*</span><span class="ident" id="3786313">Int</span><span class="op" id="3786316">)</span>&nbsp;<span class="ident" id="3786318">UnmarshalJSON</span><span class="op" id="3786331">(</span><span class="ident" id="3786332">text</span>&nbsp;<span class="op" id="3786337">[</span><span class="op" id="3786338">]</span><span class="builtintype" id="3786339">byte</span><span class="op" id="3786343">)</span>&nbsp;<span class="builtintype" id="3786345">error</span>&nbsp;<span class="op" id="3786351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3786354">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3786410">if</span>&nbsp;<span class="ident" id="3786413">_</span><span class="op" id="3786414">,</span>&nbsp;<span class="ident" id="3786416">ok</span>&nbsp;<span class="op" id="3786419">:=</span>&nbsp;<span class="ident" id="3786422">z</span><span class="op" id="3786423">.</span><span class="ident" id="3786424">SetString</span><span class="op" id="3786433">(</span><span class="builtintype" id="3786434">string</span><span class="op" id="3786440">(</span><span class="ident" id="3786441">text</span><span class="op" id="3786445">)</span><span class="op" id="3786446">,</span>&nbsp;<span class="num" id="3786448">0</span><span class="op" id="3786449">)</span><span class="op" id="3786450">;</span>&nbsp;<span class="op" id="3786452">!</span><span class="ident" id="3786453">ok</span>&nbsp;<span class="op" id="3786456">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3786460">return</span>&nbsp;<span class="ident" id="3786467">fmt</span><span class="op" id="3786470">.</span><span class="ident" id="3786471">Errorf</span><span class="op" id="3786477">(</span><span class="string" id="3786478">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3786525">,</span>&nbsp;<span class="ident" id="3786527">text</span><span class="op" id="3786531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3786534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3786537">return</span>&nbsp;<span class="ident" id="3786544">nil</span><br>
<span class="lineno"></span><span class="op" id="3786548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="3786551">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3786615">func</span>&nbsp;<span class="op" id="3786620">(</span><span class="ident" id="3786621">z</span>&nbsp;<span class="op" id="3786623">*</span><span class="ident" id="3786624">Int</span><span class="op" id="3786627">)</span>&nbsp;<span class="ident" id="3786629">MarshalText</span><span class="op" id="3786640">(</span><span class="op" id="3786641">)</span>&nbsp;<span class="op" id="3786643">(</span><span class="ident" id="3786644">text</span>&nbsp;<span class="op" id="3786649">[</span><span class="op" id="3786650">]</span><span class="builtintype" id="3786651">byte</span><span class="op" id="3786655">,</span>&nbsp;<span class="ident" id="3786657">err</span>&nbsp;<span class="builtintype" id="3786661">error</span><span class="op" id="3786666">)</span>&nbsp;<span class="op" id="3786668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3786671">return</span>&nbsp;<span class="op" id="3786678">[</span><span class="op" id="3786679">]</span><span class="builtintype" id="3786680">byte</span><span class="op" id="3786684">(</span><span class="ident" id="3786685">z</span><span class="op" id="3786686">.</span><span class="ident" id="3786687">String</span><span class="op" id="3786693">(</span><span class="op" id="3786694">)</span><span class="op" id="3786695">)</span><span class="op" id="3786696">,</span>&nbsp;<span class="ident" id="3786698">nil</span><br>
<span class="lineno"></span><span class="op" id="3786702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="3786705">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3786773">func</span>&nbsp;<span class="op" id="3786778">(</span><span class="ident" id="3786779">z</span>&nbsp;<span class="op" id="3786781">*</span><span class="ident" id="3786782">Int</span><span class="op" id="3786785">)</span>&nbsp;<span class="ident" id="3786787">UnmarshalText</span><span class="op" id="3786800">(</span><span class="ident" id="3786801">text</span>&nbsp;<span class="op" id="3786806">[</span><span class="op" id="3786807">]</span><span class="builtintype" id="3786808">byte</span><span class="op" id="3786812">)</span>&nbsp;<span class="builtintype" id="3786814">error</span>&nbsp;<span class="op" id="3786820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3786823">if</span>&nbsp;<span class="ident" id="3786826">_</span><span class="op" id="3786827">,</span>&nbsp;<span class="ident" id="3786829">ok</span>&nbsp;<span class="op" id="3786832">:=</span>&nbsp;<span class="ident" id="3786835">z</span><span class="op" id="3786836">.</span><span class="ident" id="3786837">SetString</span><span class="op" id="3786846">(</span><span class="builtintype" id="3786847">string</span><span class="op" id="3786853">(</span><span class="ident" id="3786854">text</span><span class="op" id="3786858">)</span><span class="op" id="3786859">,</span>&nbsp;<span class="num" id="3786861">0</span><span class="op" id="3786862">)</span><span class="op" id="3786863">;</span>&nbsp;<span class="op" id="3786865">!</span><span class="ident" id="3786866">ok</span>&nbsp;<span class="op" id="3786869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3786873">return</span>&nbsp;<span class="ident" id="3786880">fmt</span><span class="op" id="3786883">.</span><span class="ident" id="3786884">Errorf</span><span class="op" id="3786890">(</span><span class="string" id="3786891">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3786938">,</span>&nbsp;<span class="ident" id="3786940">text</span><span class="op" id="3786944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3786947">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3786950">return</span>&nbsp;<span class="ident" id="3786957">nil</span><br>
<span class="lineno"></span><span class="op" id="3786961">}</span>
</div>
</body>
</html>
