<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2503356">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2503411">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2503465">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2503516">package</span>&nbsp;<span class="ident" id="2503524">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2503528">import</span>&nbsp;<span class="op" id="2503535">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2503538">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2503549">&#34;time&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2503556">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2503559">//&nbsp;Getpagesize&nbsp;returns&nbsp;the&nbsp;underlying&nbsp;system&#39;s&nbsp;memory&nbsp;page&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="2503624">func</span>&nbsp;<span class="ident" id="2503629">Getpagesize</span><span class="op" id="2503640">(</span><span class="op" id="2503641">)</span>&nbsp;<span class="builtintype" id="2503643">int</span>&nbsp;<span class="op" id="2503647">{</span>&nbsp;<span class="keyword" id="2503649">return</span>&nbsp;<span class="ident" id="2503656">syscall</span><span class="op" id="2503663">.</span><span class="ident" id="2503664">Getpagesize</span><span class="op" id="2503675">(</span><span class="op" id="2503676">)</span>&nbsp;<span class="op" id="2503678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2503681">//&nbsp;A&nbsp;FileInfo&nbsp;describes&nbsp;a&nbsp;file&nbsp;and&nbsp;is&nbsp;returned&nbsp;by&nbsp;Stat&nbsp;and&nbsp;Lstat.</span><br>
<span class="lineno"></span><span class="keyword" id="2503747">type</span>&nbsp;<span class="ident" id="2503752">FileInfo</span>&nbsp;<span class="keyword" id="2503761">interface</span>&nbsp;<span class="op" id="2503771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503774">Name</span><span class="op" id="2503778">(</span><span class="op" id="2503779">)</span>&nbsp;<span class="builtintype" id="2503781">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2503794">//&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503820">Size</span><span class="op" id="2503824">(</span><span class="op" id="2503825">)</span>&nbsp;<span class="ident" id="2503827">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2503840">//&nbsp;length&nbsp;in&nbsp;bytes&nbsp;for&nbsp;regular&nbsp;files;&nbsp;system-dependent&nbsp;for&nbsp;others</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503907">Mode</span><span class="op" id="2503911">(</span><span class="op" id="2503912">)</span>&nbsp;<span class="ident" id="2503914">FileMode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2503927">//&nbsp;file&nbsp;mode&nbsp;bits</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503946">ModTime</span><span class="op" id="2503953">(</span><span class="op" id="2503954">)</span>&nbsp;<span class="ident" id="2503956">time</span><span class="op" id="2503960">.</span><span class="ident" id="2503961">Time</span>&nbsp;<span class="comment" id="2503966">//&nbsp;modification&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503988">IsDir</span><span class="op" id="2503993">(</span><span class="op" id="2503994">)</span>&nbsp;<span class="builtintype" id="2503996">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2504008">//&nbsp;abbreviation&nbsp;for&nbsp;Mode().IsDir()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2504044">Sys</span><span class="op" id="2504047">(</span><span class="op" id="2504048">)</span>&nbsp;<span class="keyword" id="2504050">interface</span><span class="op" id="2504059">{</span><span class="op" id="2504060">}</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2504064">//&nbsp;underlying&nbsp;data&nbsp;source&nbsp;(can&nbsp;return&nbsp;nil)</span><br>
<span class="lineno"></span><span class="op" id="2504107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2504110">//&nbsp;A&nbsp;FileMode&nbsp;represents&nbsp;a&nbsp;file&#39;s&nbsp;mode&nbsp;and&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2504170">//&nbsp;The&nbsp;bits&nbsp;have&nbsp;the&nbsp;same&nbsp;definition&nbsp;on&nbsp;all&nbsp;systems,&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2504231">//&nbsp;information&nbsp;about&nbsp;files&nbsp;can&nbsp;be&nbsp;moved&nbsp;from&nbsp;one&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2504287">//&nbsp;to&nbsp;another&nbsp;portably.&nbsp;&nbsp;Not&nbsp;all&nbsp;bits&nbsp;apply&nbsp;to&nbsp;all&nbsp;systems.</span><br>
<span class="lineno"></span><span class="comment" id="2504347">//&nbsp;The&nbsp;only&nbsp;required&nbsp;bit&nbsp;is&nbsp;ModeDir&nbsp;for&nbsp;directories.</span><br>
<span class="lineno">30</span><span class="keyword" id="2504400">type</span>&nbsp;<span class="ident" id="2504405">FileMode</span>&nbsp;<span class="builtintype" id="2504414">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2504422">//&nbsp;The&nbsp;defined&nbsp;file&nbsp;mode&nbsp;bits&nbsp;are&nbsp;the&nbsp;most&nbsp;significant&nbsp;bits&nbsp;of&nbsp;the&nbsp;FileMode.</span><br>
<span class="lineno"></span><span class="comment" id="2504499">//&nbsp;The&nbsp;nine&nbsp;least-significant&nbsp;bits&nbsp;are&nbsp;the&nbsp;standard&nbsp;Unix&nbsp;rwxrwxrwx&nbsp;permissions.</span><br>
<span class="lineno"></span><span class="comment" id="2504579">//&nbsp;The&nbsp;values&nbsp;of&nbsp;these&nbsp;bits&nbsp;should&nbsp;be&nbsp;considered&nbsp;part&nbsp;of&nbsp;the&nbsp;public&nbsp;API&nbsp;and</span><br>
<span class="lineno">35</span><span class="comment" id="2504655">//&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;wire&nbsp;protocols&nbsp;or&nbsp;disk&nbsp;representations:&nbsp;they&nbsp;must&nbsp;not&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2504730">//&nbsp;changed,&nbsp;although&nbsp;new&nbsp;bits&nbsp;might&nbsp;be&nbsp;added.</span><br>
<span class="lineno"></span><span class="keyword" id="2504776">const</span>&nbsp;<span class="op" id="2504782">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2504785">//&nbsp;The&nbsp;single&nbsp;letters&nbsp;are&nbsp;the&nbsp;abbreviations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2504830">//&nbsp;used&nbsp;by&nbsp;the&nbsp;String&nbsp;method&#39;s&nbsp;formatting.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2504874">ModeDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2504889">FileMode</span>&nbsp;<span class="op" id="2504898">=</span>&nbsp;<span class="num" id="2504900">1</span>&nbsp;<span class="op" id="2504902">&lt;&lt;</span>&nbsp;<span class="op" id="2504905">(</span><span class="num" id="2504906">32</span>&nbsp;<span class="op" id="2504909">-</span>&nbsp;<span class="num" id="2504911">1</span>&nbsp;<span class="op" id="2504913">-</span>&nbsp;<span class="ident" id="2504915">iota</span><span class="op" id="2504919">)</span>&nbsp;<span class="comment" id="2504921">//&nbsp;d:&nbsp;is&nbsp;a&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2504943">ModeAppend</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2504990">//&nbsp;a:&nbsp;append-only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505009">ModeExclusive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2505056">//&nbsp;l:&nbsp;exclusive&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505077">ModeTemporary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2505124">//&nbsp;T:&nbsp;temporary&nbsp;file&nbsp;(not&nbsp;backed&nbsp;up)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505162">ModeSymlink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2505209">//&nbsp;L:&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505230">ModeDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2505277">//&nbsp;D:&nbsp;device&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505296">ModeNamedPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2505343">//&nbsp;p:&nbsp;named&nbsp;pipe&nbsp;(FIFO)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505368">ModeSocket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2505415">//&nbsp;S:&nbsp;Unix&nbsp;domain&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505441">ModeSetuid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2505488">//&nbsp;u:&nbsp;setuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505502">ModeSetgid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2505549">//&nbsp;g:&nbsp;setgid</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505563">ModeCharDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2505610">//&nbsp;c:&nbsp;Unix&nbsp;character&nbsp;device,&nbsp;when&nbsp;ModeDevice&nbsp;is&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505663">ModeSticky</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2505710">//&nbsp;t:&nbsp;sticky</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2505725">//&nbsp;Mask&nbsp;for&nbsp;the&nbsp;type&nbsp;bits.&nbsp;For&nbsp;regular&nbsp;files,&nbsp;none&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505790">ModeType</span>&nbsp;<span class="op" id="2505799">=</span>&nbsp;<span class="ident" id="2505801">ModeDir</span>&nbsp;<span class="op" id="2505809">|</span>&nbsp;<span class="ident" id="2505811">ModeSymlink</span>&nbsp;<span class="op" id="2505823">|</span>&nbsp;<span class="ident" id="2505825">ModeNamedPipe</span>&nbsp;<span class="op" id="2505839">|</span>&nbsp;<span class="ident" id="2505841">ModeSocket</span>&nbsp;<span class="op" id="2505852">|</span>&nbsp;<span class="ident" id="2505854">ModeDevice</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505867">ModePerm</span>&nbsp;<span class="ident" id="2505876">FileMode</span>&nbsp;<span class="op" id="2505885">=</span>&nbsp;<span class="num" id="2505887">0777</span>&nbsp;<span class="comment" id="2505892">//&nbsp;permission&nbsp;bits</span><br>
<span class="lineno"></span><span class="op" id="2505911">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2505914">func</span>&nbsp;<span class="op" id="2505919">(</span><span class="ident" id="2505920">m</span>&nbsp;<span class="ident" id="2505922">FileMode</span><span class="op" id="2505930">)</span>&nbsp;<span class="ident" id="2505932">String</span><span class="op" id="2505938">(</span><span class="op" id="2505939">)</span>&nbsp;<span class="builtintype" id="2505941">string</span>&nbsp;<span class="op" id="2505948">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505951">const</span>&nbsp;<span class="ident" id="2505957">str</span>&nbsp;<span class="op" id="2505961">=</span>&nbsp;<span class="string" id="2505963">&#34;dalTLDpSugct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505979">var</span>&nbsp;<span class="ident" id="2505983">buf</span>&nbsp;<span class="op" id="2505987">[</span><span class="num" id="2505988">32</span><span class="op" id="2505990">]</span><span class="builtintype" id="2505991">byte</span>&nbsp;<span class="comment" id="2505996">//&nbsp;Mode&nbsp;is&nbsp;uint32.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506016">w</span>&nbsp;<span class="op" id="2506018">:=</span>&nbsp;<span class="num" id="2506021">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506024">for</span>&nbsp;<span class="ident" id="2506028">i</span><span class="op" id="2506029">,</span>&nbsp;<span class="ident" id="2506031">c</span>&nbsp;<span class="op" id="2506033">:=</span>&nbsp;<span class="keyword" id="2506036">range</span>&nbsp;<span class="ident" id="2506042">str</span>&nbsp;<span class="op" id="2506046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506050">if</span>&nbsp;<span class="ident" id="2506053">m</span><span class="op" id="2506054">&amp;</span><span class="op" id="2506055">(</span><span class="num" id="2506056">1</span><span class="op" id="2506057">&lt;&lt;</span><span class="builtintype" id="2506059">uint</span><span class="op" id="2506063">(</span><span class="num" id="2506064">32</span><span class="op" id="2506066">-</span><span class="num" id="2506067">1</span><span class="op" id="2506068">-</span><span class="ident" id="2506069">i</span><span class="op" id="2506070">)</span><span class="op" id="2506071">)</span>&nbsp;<span class="op" id="2506073">!=</span>&nbsp;<span class="num" id="2506076">0</span>&nbsp;<span class="op" id="2506078">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506083">buf</span><span class="op" id="2506086">[</span><span class="ident" id="2506087">w</span><span class="op" id="2506088">]</span>&nbsp;<span class="op" id="2506090">=</span>&nbsp;<span class="builtintype" id="2506092">byte</span><span class="op" id="2506096">(</span><span class="ident" id="2506097">c</span><span class="op" id="2506098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506103">w</span><span class="op" id="2506104">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506115">if</span>&nbsp;<span class="ident" id="2506118">w</span>&nbsp;<span class="op" id="2506120">==</span>&nbsp;<span class="num" id="2506123">0</span>&nbsp;<span class="op" id="2506125">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506129">buf</span><span class="op" id="2506132">[</span><span class="ident" id="2506133">w</span><span class="op" id="2506134">]</span>&nbsp;<span class="op" id="2506136">=</span>&nbsp;<span class="string" id="2506138">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506144">w</span><span class="op" id="2506145">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506152">const</span>&nbsp;<span class="ident" id="2506158">rwx</span>&nbsp;<span class="op" id="2506162">=</span>&nbsp;<span class="string" id="2506164">&#34;rwxrwxrwx&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506177">for</span>&nbsp;<span class="ident" id="2506181">i</span><span class="op" id="2506182">,</span>&nbsp;<span class="ident" id="2506184">c</span>&nbsp;<span class="op" id="2506186">:=</span>&nbsp;<span class="keyword" id="2506189">range</span>&nbsp;<span class="ident" id="2506195">rwx</span>&nbsp;<span class="op" id="2506199">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506203">if</span>&nbsp;<span class="ident" id="2506206">m</span><span class="op" id="2506207">&amp;</span><span class="op" id="2506208">(</span><span class="num" id="2506209">1</span><span class="op" id="2506210">&lt;&lt;</span><span class="builtintype" id="2506212">uint</span><span class="op" id="2506216">(</span><span class="num" id="2506217">9</span><span class="op" id="2506218">-</span><span class="num" id="2506219">1</span><span class="op" id="2506220">-</span><span class="ident" id="2506221">i</span><span class="op" id="2506222">)</span><span class="op" id="2506223">)</span>&nbsp;<span class="op" id="2506225">!=</span>&nbsp;<span class="num" id="2506228">0</span>&nbsp;<span class="op" id="2506230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506235">buf</span><span class="op" id="2506238">[</span><span class="ident" id="2506239">w</span><span class="op" id="2506240">]</span>&nbsp;<span class="op" id="2506242">=</span>&nbsp;<span class="builtintype" id="2506244">byte</span><span class="op" id="2506248">(</span><span class="ident" id="2506249">c</span><span class="op" id="2506250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506254">}</span>&nbsp;<span class="keyword" id="2506256">else</span>&nbsp;<span class="op" id="2506261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506266">buf</span><span class="op" id="2506269">[</span><span class="ident" id="2506270">w</span><span class="op" id="2506271">]</span>&nbsp;<span class="op" id="2506273">=</span>&nbsp;<span class="string" id="2506275">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506281">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506285">w</span><span class="op" id="2506286">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506293">return</span>&nbsp;<span class="builtintype" id="2506300">string</span><span class="op" id="2506306">(</span><span class="ident" id="2506307">buf</span><span class="op" id="2506310">[</span><span class="op" id="2506311">:</span><span class="ident" id="2506312">w</span><span class="op" id="2506313">]</span><span class="op" id="2506314">)</span><br>
<span class="lineno"></span><span class="op" id="2506316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="2506319">//&nbsp;IsDir&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2506369">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;for&nbsp;the&nbsp;ModeDir&nbsp;bit&nbsp;being&nbsp;set&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2506426">func</span>&nbsp;<span class="op" id="2506431">(</span><span class="ident" id="2506432">m</span>&nbsp;<span class="ident" id="2506434">FileMode</span><span class="op" id="2506442">)</span>&nbsp;<span class="ident" id="2506444">IsDir</span><span class="op" id="2506449">(</span><span class="op" id="2506450">)</span>&nbsp;<span class="builtintype" id="2506452">bool</span>&nbsp;<span class="op" id="2506457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506460">return</span>&nbsp;<span class="ident" id="2506467">m</span><span class="op" id="2506468">&amp;</span><span class="ident" id="2506469">ModeDir</span>&nbsp;<span class="op" id="2506477">!=</span>&nbsp;<span class="num" id="2506480">0</span><br>
<span class="lineno"></span><span class="op" id="2506482">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2506485">//&nbsp;IsRegular&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;regular&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2506542">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;that&nbsp;no&nbsp;mode&nbsp;type&nbsp;bits&nbsp;are&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2506595">func</span>&nbsp;<span class="op" id="2506600">(</span><span class="ident" id="2506601">m</span>&nbsp;<span class="ident" id="2506603">FileMode</span><span class="op" id="2506611">)</span>&nbsp;<span class="ident" id="2506613">IsRegular</span><span class="op" id="2506622">(</span><span class="op" id="2506623">)</span>&nbsp;<span class="builtintype" id="2506625">bool</span>&nbsp;<span class="op" id="2506630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506633">return</span>&nbsp;<span class="ident" id="2506640">m</span><span class="op" id="2506641">&amp;</span><span class="ident" id="2506642">ModeType</span>&nbsp;<span class="op" id="2506651">==</span>&nbsp;<span class="num" id="2506654">0</span><br>
<span class="lineno">95</span><span class="op" id="2506656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2506659">//&nbsp;Perm&nbsp;returns&nbsp;the&nbsp;Unix&nbsp;permission&nbsp;bits&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2506706">func</span>&nbsp;<span class="op" id="2506711">(</span><span class="ident" id="2506712">m</span>&nbsp;<span class="ident" id="2506714">FileMode</span><span class="op" id="2506722">)</span>&nbsp;<span class="ident" id="2506724">Perm</span><span class="op" id="2506728">(</span><span class="op" id="2506729">)</span>&nbsp;<span class="ident" id="2506731">FileMode</span>&nbsp;<span class="op" id="2506740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506743">return</span>&nbsp;<span class="ident" id="2506750">m</span>&nbsp;<span class="op" id="2506752">&amp;</span>&nbsp;<span class="ident" id="2506754">ModePerm</span><br>
<span class="lineno">100</span><span class="op" id="2506763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2506766">func</span>&nbsp;<span class="op" id="2506771">(</span><span class="ident" id="2506772">fs</span>&nbsp;<span class="op" id="2506775">*</span><span class="ident" id="2506776">fileStat</span><span class="op" id="2506784">)</span>&nbsp;<span class="ident" id="2506786">Name</span><span class="op" id="2506790">(</span><span class="op" id="2506791">)</span>&nbsp;<span class="builtintype" id="2506793">string</span>&nbsp;<span class="op" id="2506800">{</span>&nbsp;<span class="keyword" id="2506802">return</span>&nbsp;<span class="ident" id="2506809">fs</span><span class="op" id="2506811">.</span><span class="ident" id="2506812">name</span>&nbsp;<span class="op" id="2506817">}</span><br>
<span class="lineno"></span><span class="keyword" id="2506819">func</span>&nbsp;<span class="op" id="2506824">(</span><span class="ident" id="2506825">fs</span>&nbsp;<span class="op" id="2506828">*</span><span class="ident" id="2506829">fileStat</span><span class="op" id="2506837">)</span>&nbsp;<span class="ident" id="2506839">IsDir</span><span class="op" id="2506844">(</span><span class="op" id="2506845">)</span>&nbsp;<span class="builtintype" id="2506847">bool</span>&nbsp;&nbsp;<span class="op" id="2506853">{</span>&nbsp;<span class="keyword" id="2506855">return</span>&nbsp;<span class="ident" id="2506862">fs</span><span class="op" id="2506864">.</span><span class="ident" id="2506865">Mode</span><span class="op" id="2506869">(</span><span class="op" id="2506870">)</span><span class="op" id="2506871">.</span><span class="ident" id="2506872">IsDir</span><span class="op" id="2506877">(</span><span class="op" id="2506878">)</span>&nbsp;<span class="op" id="2506880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="2506883">//&nbsp;SameFile&nbsp;reports&nbsp;whether&nbsp;fi1&nbsp;and&nbsp;fi2&nbsp;describe&nbsp;the&nbsp;same&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2506947">//&nbsp;For&nbsp;example,&nbsp;on&nbsp;Unix&nbsp;this&nbsp;means&nbsp;that&nbsp;the&nbsp;device&nbsp;and&nbsp;inode&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="2507015">//&nbsp;of&nbsp;the&nbsp;two&nbsp;underlying&nbsp;structures&nbsp;are&nbsp;identical;&nbsp;on&nbsp;other&nbsp;systems</span><br>
<span class="lineno"></span><span class="comment" id="2507083">//&nbsp;the&nbsp;decision&nbsp;may&nbsp;be&nbsp;based&nbsp;on&nbsp;the&nbsp;path&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="2507131">//&nbsp;SameFile&nbsp;only&nbsp;applies&nbsp;to&nbsp;results&nbsp;returned&nbsp;by&nbsp;this&nbsp;package&#39;s&nbsp;Stat.</span><br>
<span class="lineno">110</span><span class="comment" id="2507200">//&nbsp;It&nbsp;returns&nbsp;false&nbsp;in&nbsp;other&nbsp;cases.</span><br>
<span class="lineno"></span><span class="keyword" id="2507236">func</span>&nbsp;<span class="ident" id="2507241">SameFile</span><span class="op" id="2507249">(</span><span class="ident" id="2507250">fi1</span><span class="op" id="2507253">,</span>&nbsp;<span class="ident" id="2507255">fi2</span>&nbsp;<span class="ident" id="2507259">FileInfo</span><span class="op" id="2507267">)</span>&nbsp;<span class="builtintype" id="2507269">bool</span>&nbsp;<span class="op" id="2507274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507277">fs1</span><span class="op" id="2507280">,</span>&nbsp;<span class="ident" id="2507282">ok1</span>&nbsp;<span class="op" id="2507286">:=</span>&nbsp;<span class="ident" id="2507289">fi1</span><span class="op" id="2507292">.</span><span class="op" id="2507293">(</span><span class="op" id="2507294">*</span><span class="ident" id="2507295">fileStat</span><span class="op" id="2507303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507306">fs2</span><span class="op" id="2507309">,</span>&nbsp;<span class="ident" id="2507311">ok2</span>&nbsp;<span class="op" id="2507315">:=</span>&nbsp;<span class="ident" id="2507318">fi2</span><span class="op" id="2507321">.</span><span class="op" id="2507322">(</span><span class="op" id="2507323">*</span><span class="ident" id="2507324">fileStat</span><span class="op" id="2507332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507335">if</span>&nbsp;<span class="op" id="2507338">!</span><span class="ident" id="2507339">ok1</span>&nbsp;<span class="op" id="2507343">||</span>&nbsp;<span class="op" id="2507346">!</span><span class="ident" id="2507347">ok2</span>&nbsp;<span class="op" id="2507351">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507355">return</span>&nbsp;<span class="builtintype" id="2507362">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507372">return</span>&nbsp;<span class="ident" id="2507379">sameFile</span><span class="op" id="2507387">(</span><span class="ident" id="2507388">fs1</span><span class="op" id="2507391">,</span>&nbsp;<span class="ident" id="2507393">fs2</span><span class="op" id="2507396">)</span><br>
<span class="lineno"></span><span class="op" id="2507398">}</span>
</div>
</body>
</html>
