<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5837435">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5837490">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5837544">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5837595">package</span>&nbsp;<span class="ident" id="5837603">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5837608">import</span>&nbsp;<span class="string" id="5837615">&#34;go/ast&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5837625">type</span>&nbsp;<span class="ident" id="5837630">Filter</span>&nbsp;<span class="keyword" id="5837637">func</span><span class="op" id="5837641">(</span><span class="builtintype" id="5837642">string</span><span class="op" id="5837648">)</span>&nbsp;<span class="builtintype" id="5837650">bool</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5837656">func</span>&nbsp;<span class="ident" id="5837661">matchFields</span><span class="op" id="5837672">(</span><span class="ident" id="5837673">fields</span>&nbsp;<span class="op" id="5837680">*</span><span class="ident" id="5837681">ast</span><span class="op" id="5837684">.</span><span class="ident" id="5837685">FieldList</span><span class="op" id="5837694">,</span>&nbsp;<span class="ident" id="5837696">f</span>&nbsp;<span class="ident" id="5837698">Filter</span><span class="op" id="5837704">)</span>&nbsp;<span class="builtintype" id="5837706">bool</span>&nbsp;<span class="op" id="5837711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837714">if</span>&nbsp;<span class="ident" id="5837717">fields</span>&nbsp;<span class="op" id="5837724">!=</span>&nbsp;<span class="ident" id="5837727">nil</span>&nbsp;<span class="op" id="5837731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837735">for</span>&nbsp;<span class="ident" id="5837739">_</span><span class="op" id="5837740">,</span>&nbsp;<span class="ident" id="5837742">field</span>&nbsp;<span class="op" id="5837748">:=</span>&nbsp;<span class="keyword" id="5837751">range</span>&nbsp;<span class="ident" id="5837757">fields</span><span class="op" id="5837763">.</span><span class="ident" id="5837764">List</span>&nbsp;<span class="op" id="5837769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837774">for</span>&nbsp;<span class="ident" id="5837778">_</span><span class="op" id="5837779">,</span>&nbsp;<span class="ident" id="5837781">name</span>&nbsp;<span class="op" id="5837786">:=</span>&nbsp;<span class="keyword" id="5837789">range</span>&nbsp;<span class="ident" id="5837795">field</span><span class="op" id="5837800">.</span><span class="ident" id="5837801">Names</span>&nbsp;<span class="op" id="5837807">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837813">if</span>&nbsp;<span class="ident" id="5837816">f</span><span class="op" id="5837817">(</span><span class="ident" id="5837818">name</span><span class="op" id="5837822">.</span><span class="ident" id="5837823">Name</span><span class="op" id="5837827">)</span>&nbsp;<span class="op" id="5837829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837836">return</span>&nbsp;<span class="builtintype" id="5837843">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837861">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837867">return</span>&nbsp;<span class="builtintype" id="5837874">false</span><br>
<span class="lineno"></span><span class="op" id="5837880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5837883">func</span>&nbsp;<span class="ident" id="5837888">matchDecl</span><span class="op" id="5837897">(</span><span class="ident" id="5837898">d</span>&nbsp;<span class="op" id="5837900">*</span><span class="ident" id="5837901">ast</span><span class="op" id="5837904">.</span><span class="ident" id="5837905">GenDecl</span><span class="op" id="5837912">,</span>&nbsp;<span class="ident" id="5837914">f</span>&nbsp;<span class="ident" id="5837916">Filter</span><span class="op" id="5837922">)</span>&nbsp;<span class="builtintype" id="5837924">bool</span>&nbsp;<span class="op" id="5837929">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837932">for</span>&nbsp;<span class="ident" id="5837936">_</span><span class="op" id="5837937">,</span>&nbsp;<span class="ident" id="5837939">d</span>&nbsp;<span class="op" id="5837941">:=</span>&nbsp;<span class="keyword" id="5837944">range</span>&nbsp;<span class="ident" id="5837950">d</span><span class="op" id="5837951">.</span><span class="ident" id="5837952">Specs</span>&nbsp;<span class="op" id="5837958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837962">switch</span>&nbsp;<span class="ident" id="5837969">v</span>&nbsp;<span class="op" id="5837971">:=</span>&nbsp;<span class="ident" id="5837974">d</span><span class="op" id="5837975">.</span><span class="op" id="5837976">(</span><span class="keyword" id="5837977">type</span><span class="op" id="5837981">)</span>&nbsp;<span class="op" id="5837983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837987">case</span>&nbsp;<span class="op" id="5837992">*</span><span class="ident" id="5837993">ast</span><span class="op" id="5837996">.</span><span class="ident" id="5837997">ValueSpec</span><span class="op" id="5838006">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838011">for</span>&nbsp;<span class="ident" id="5838015">_</span><span class="op" id="5838016">,</span>&nbsp;<span class="ident" id="5838018">name</span>&nbsp;<span class="op" id="5838023">:=</span>&nbsp;<span class="keyword" id="5838026">range</span>&nbsp;<span class="ident" id="5838032">v</span><span class="op" id="5838033">.</span><span class="ident" id="5838034">Names</span>&nbsp;<span class="op" id="5838040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838046">if</span>&nbsp;<span class="ident" id="5838049">f</span><span class="op" id="5838050">(</span><span class="ident" id="5838051">name</span><span class="op" id="5838055">.</span><span class="ident" id="5838056">Name</span><span class="op" id="5838060">)</span>&nbsp;<span class="op" id="5838062">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838069">return</span>&nbsp;<span class="builtintype" id="5838076">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838094">case</span>&nbsp;<span class="op" id="5838099">*</span><span class="ident" id="5838100">ast</span><span class="op" id="5838103">.</span><span class="ident" id="5838104">TypeSpec</span><span class="op" id="5838112">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838117">if</span>&nbsp;<span class="ident" id="5838120">f</span><span class="op" id="5838121">(</span><span class="ident" id="5838122">v</span><span class="op" id="5838123">.</span><span class="ident" id="5838124">Name</span><span class="op" id="5838128">.</span><span class="ident" id="5838129">Name</span><span class="op" id="5838133">)</span>&nbsp;<span class="op" id="5838135">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838141">return</span>&nbsp;<span class="builtintype" id="5838148">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838161">switch</span>&nbsp;<span class="ident" id="5838168">t</span>&nbsp;<span class="op" id="5838170">:=</span>&nbsp;<span class="ident" id="5838173">v</span><span class="op" id="5838174">.</span><span class="ident" id="5838175">Type</span><span class="op" id="5838179">.</span><span class="op" id="5838180">(</span><span class="keyword" id="5838181">type</span><span class="op" id="5838185">)</span>&nbsp;<span class="op" id="5838187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838192">case</span>&nbsp;<span class="op" id="5838197">*</span><span class="ident" id="5838198">ast</span><span class="op" id="5838201">.</span><span class="ident" id="5838202">StructType</span><span class="op" id="5838212">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838218">if</span>&nbsp;<span class="ident" id="5838221">matchFields</span><span class="op" id="5838232">(</span><span class="ident" id="5838233">t</span><span class="op" id="5838234">.</span><span class="ident" id="5838235">Fields</span><span class="op" id="5838241">,</span>&nbsp;<span class="ident" id="5838243">f</span><span class="op" id="5838244">)</span>&nbsp;<span class="op" id="5838246">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838253">return</span>&nbsp;<span class="builtintype" id="5838260">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838274">case</span>&nbsp;<span class="op" id="5838279">*</span><span class="ident" id="5838280">ast</span><span class="op" id="5838283">.</span><span class="ident" id="5838284">InterfaceType</span><span class="op" id="5838297">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838303">if</span>&nbsp;<span class="ident" id="5838306">matchFields</span><span class="op" id="5838317">(</span><span class="ident" id="5838318">t</span><span class="op" id="5838319">.</span><span class="ident" id="5838320">Methods</span><span class="op" id="5838327">,</span>&nbsp;<span class="ident" id="5838329">f</span><span class="op" id="5838330">)</span>&nbsp;<span class="op" id="5838332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838339">return</span>&nbsp;<span class="builtintype" id="5838346">true</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838370">return</span>&nbsp;<span class="builtintype" id="5838377">false</span><br>
<span class="lineno">50</span><span class="op" id="5838383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5838386">func</span>&nbsp;<span class="ident" id="5838391">filterValues</span><span class="op" id="5838403">(</span><span class="ident" id="5838404">a</span>&nbsp;<span class="op" id="5838406">[</span><span class="op" id="5838407">]</span><span class="op" id="5838408">*</span><span class="ident" id="5838409">Value</span><span class="op" id="5838414">,</span>&nbsp;<span class="ident" id="5838416">f</span>&nbsp;<span class="ident" id="5838418">Filter</span><span class="op" id="5838424">)</span>&nbsp;<span class="op" id="5838426">[</span><span class="op" id="5838427">]</span><span class="op" id="5838428">*</span><span class="ident" id="5838429">Value</span>&nbsp;<span class="op" id="5838435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838438">w</span>&nbsp;<span class="op" id="5838440">:=</span>&nbsp;<span class="num" id="5838443">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838446">for</span>&nbsp;<span class="ident" id="5838450">_</span><span class="op" id="5838451">,</span>&nbsp;<span class="ident" id="5838453">vd</span>&nbsp;<span class="op" id="5838456">:=</span>&nbsp;<span class="keyword" id="5838459">range</span>&nbsp;<span class="ident" id="5838465">a</span>&nbsp;<span class="op" id="5838467">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838471">if</span>&nbsp;<span class="ident" id="5838474">matchDecl</span><span class="op" id="5838483">(</span><span class="ident" id="5838484">vd</span><span class="op" id="5838486">.</span><span class="ident" id="5838487">Decl</span><span class="op" id="5838491">,</span>&nbsp;<span class="ident" id="5838493">f</span><span class="op" id="5838494">)</span>&nbsp;<span class="op" id="5838496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838501">a</span><span class="op" id="5838502">[</span><span class="ident" id="5838503">w</span><span class="op" id="5838504">]</span>&nbsp;<span class="op" id="5838506">=</span>&nbsp;<span class="ident" id="5838508">vd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838514">w</span><span class="op" id="5838515">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838523">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838526">return</span>&nbsp;<span class="ident" id="5838533">a</span><span class="op" id="5838534">[</span><span class="num" id="5838535">0</span><span class="op" id="5838536">:</span><span class="ident" id="5838537">w</span><span class="op" id="5838538">]</span><br>
<span class="lineno"></span><span class="op" id="5838540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5838543">func</span>&nbsp;<span class="ident" id="5838548">filterFuncs</span><span class="op" id="5838559">(</span><span class="ident" id="5838560">a</span>&nbsp;<span class="op" id="5838562">[</span><span class="op" id="5838563">]</span><span class="op" id="5838564">*</span><span class="ident" id="5838565">Func</span><span class="op" id="5838569">,</span>&nbsp;<span class="ident" id="5838571">f</span>&nbsp;<span class="ident" id="5838573">Filter</span><span class="op" id="5838579">)</span>&nbsp;<span class="op" id="5838581">[</span><span class="op" id="5838582">]</span><span class="op" id="5838583">*</span><span class="ident" id="5838584">Func</span>&nbsp;<span class="op" id="5838589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838592">w</span>&nbsp;<span class="op" id="5838594">:=</span>&nbsp;<span class="num" id="5838597">0</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838600">for</span>&nbsp;<span class="ident" id="5838604">_</span><span class="op" id="5838605">,</span>&nbsp;<span class="ident" id="5838607">fd</span>&nbsp;<span class="op" id="5838610">:=</span>&nbsp;<span class="keyword" id="5838613">range</span>&nbsp;<span class="ident" id="5838619">a</span>&nbsp;<span class="op" id="5838621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838625">if</span>&nbsp;<span class="ident" id="5838628">f</span><span class="op" id="5838629">(</span><span class="ident" id="5838630">fd</span><span class="op" id="5838632">.</span><span class="ident" id="5838633">Name</span><span class="op" id="5838637">)</span>&nbsp;<span class="op" id="5838639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838644">a</span><span class="op" id="5838645">[</span><span class="ident" id="5838646">w</span><span class="op" id="5838647">]</span>&nbsp;<span class="op" id="5838649">=</span>&nbsp;<span class="ident" id="5838651">fd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838657">w</span><span class="op" id="5838658">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838663">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838669">return</span>&nbsp;<span class="ident" id="5838676">a</span><span class="op" id="5838677">[</span><span class="num" id="5838678">0</span><span class="op" id="5838679">:</span><span class="ident" id="5838680">w</span><span class="op" id="5838681">]</span><br>
<span class="lineno"></span><span class="op" id="5838683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5838686">func</span>&nbsp;<span class="ident" id="5838691">filterTypes</span><span class="op" id="5838702">(</span><span class="ident" id="5838703">a</span>&nbsp;<span class="op" id="5838705">[</span><span class="op" id="5838706">]</span><span class="op" id="5838707">*</span><span class="ident" id="5838708">Type</span><span class="op" id="5838712">,</span>&nbsp;<span class="ident" id="5838714">f</span>&nbsp;<span class="ident" id="5838716">Filter</span><span class="op" id="5838722">)</span>&nbsp;<span class="op" id="5838724">[</span><span class="op" id="5838725">]</span><span class="op" id="5838726">*</span><span class="ident" id="5838727">Type</span>&nbsp;<span class="op" id="5838732">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838735">w</span>&nbsp;<span class="op" id="5838737">:=</span>&nbsp;<span class="num" id="5838740">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838743">for</span>&nbsp;<span class="ident" id="5838747">_</span><span class="op" id="5838748">,</span>&nbsp;<span class="ident" id="5838750">td</span>&nbsp;<span class="op" id="5838753">:=</span>&nbsp;<span class="keyword" id="5838756">range</span>&nbsp;<span class="ident" id="5838762">a</span>&nbsp;<span class="op" id="5838764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838768">n</span>&nbsp;<span class="op" id="5838770">:=</span>&nbsp;<span class="num" id="5838773">0</span>&nbsp;<span class="comment" id="5838775">//&nbsp;number&nbsp;of&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838798">if</span>&nbsp;<span class="ident" id="5838801">matchDecl</span><span class="op" id="5838810">(</span><span class="ident" id="5838811">td</span><span class="op" id="5838813">.</span><span class="ident" id="5838814">Decl</span><span class="op" id="5838818">,</span>&nbsp;<span class="ident" id="5838820">f</span><span class="op" id="5838821">)</span>&nbsp;<span class="op" id="5838823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838828">n</span>&nbsp;<span class="op" id="5838830">=</span>&nbsp;<span class="num" id="5838832">1</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838836">}</span>&nbsp;<span class="keyword" id="5838838">else</span>&nbsp;<span class="op" id="5838843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5838848">//&nbsp;type&nbsp;name&nbsp;doesn&#39;t&nbsp;match,&nbsp;but&nbsp;we&nbsp;may&nbsp;have&nbsp;matching&nbsp;consts,&nbsp;vars,&nbsp;factories&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838939">td</span><span class="op" id="5838941">.</span><span class="ident" id="5838942">Consts</span>&nbsp;<span class="op" id="5838949">=</span>&nbsp;<span class="ident" id="5838951">filterValues</span><span class="op" id="5838963">(</span><span class="ident" id="5838964">td</span><span class="op" id="5838966">.</span><span class="ident" id="5838967">Consts</span><span class="op" id="5838973">,</span>&nbsp;<span class="ident" id="5838975">f</span><span class="op" id="5838976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838981">td</span><span class="op" id="5838983">.</span><span class="ident" id="5838984">Vars</span>&nbsp;<span class="op" id="5838989">=</span>&nbsp;<span class="ident" id="5838991">filterValues</span><span class="op" id="5839003">(</span><span class="ident" id="5839004">td</span><span class="op" id="5839006">.</span><span class="ident" id="5839007">Vars</span><span class="op" id="5839011">,</span>&nbsp;<span class="ident" id="5839013">f</span><span class="op" id="5839014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839019">td</span><span class="op" id="5839021">.</span><span class="ident" id="5839022">Funcs</span>&nbsp;<span class="op" id="5839028">=</span>&nbsp;<span class="ident" id="5839030">filterFuncs</span><span class="op" id="5839041">(</span><span class="ident" id="5839042">td</span><span class="op" id="5839044">.</span><span class="ident" id="5839045">Funcs</span><span class="op" id="5839050">,</span>&nbsp;<span class="ident" id="5839052">f</span><span class="op" id="5839053">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839058">td</span><span class="op" id="5839060">.</span><span class="ident" id="5839061">Methods</span>&nbsp;<span class="op" id="5839069">=</span>&nbsp;<span class="ident" id="5839071">filterFuncs</span><span class="op" id="5839082">(</span><span class="ident" id="5839083">td</span><span class="op" id="5839085">.</span><span class="ident" id="5839086">Methods</span><span class="op" id="5839093">,</span>&nbsp;<span class="ident" id="5839095">f</span><span class="op" id="5839096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839101">n</span>&nbsp;<span class="op" id="5839103">+=</span>&nbsp;<span class="builtinfunc" id="5839106">len</span><span class="op" id="5839109">(</span><span class="ident" id="5839110">td</span><span class="op" id="5839112">.</span><span class="ident" id="5839113">Consts</span><span class="op" id="5839119">)</span>&nbsp;<span class="op" id="5839121">+</span>&nbsp;<span class="builtinfunc" id="5839123">len</span><span class="op" id="5839126">(</span><span class="ident" id="5839127">td</span><span class="op" id="5839129">.</span><span class="ident" id="5839130">Vars</span><span class="op" id="5839134">)</span>&nbsp;<span class="op" id="5839136">+</span>&nbsp;<span class="builtinfunc" id="5839138">len</span><span class="op" id="5839141">(</span><span class="ident" id="5839142">td</span><span class="op" id="5839144">.</span><span class="ident" id="5839145">Funcs</span><span class="op" id="5839150">)</span>&nbsp;<span class="op" id="5839152">+</span>&nbsp;<span class="builtinfunc" id="5839154">len</span><span class="op" id="5839157">(</span><span class="ident" id="5839158">td</span><span class="op" id="5839160">.</span><span class="ident" id="5839161">Methods</span><span class="op" id="5839168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839176">if</span>&nbsp;<span class="ident" id="5839179">n</span>&nbsp;<span class="op" id="5839181">&gt;</span>&nbsp;<span class="num" id="5839183">0</span>&nbsp;<span class="op" id="5839185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839190">a</span><span class="op" id="5839191">[</span><span class="ident" id="5839192">w</span><span class="op" id="5839193">]</span>&nbsp;<span class="op" id="5839195">=</span>&nbsp;<span class="ident" id="5839197">td</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839203">w</span><span class="op" id="5839204">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839215">return</span>&nbsp;<span class="ident" id="5839222">a</span><span class="op" id="5839223">[</span><span class="num" id="5839224">0</span><span class="op" id="5839225">:</span><span class="ident" id="5839226">w</span><span class="op" id="5839227">]</span><br>
<span class="lineno"></span><span class="op" id="5839229">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5839232">//&nbsp;Filter&nbsp;eliminates&nbsp;documentation&nbsp;for&nbsp;names&nbsp;that&nbsp;don&#39;t&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="5839315">//&nbsp;TODO(gri):&nbsp;Recognize&nbsp;&#34;Type.Method&#34;&nbsp;as&nbsp;a&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="5839364">//</span><br>
<span class="lineno"></span><span class="keyword" id="5839367">func</span>&nbsp;<span class="op" id="5839372">(</span><span class="ident" id="5839373">p</span>&nbsp;<span class="op" id="5839375">*</span><span class="ident" id="5839376">Package</span><span class="op" id="5839383">)</span>&nbsp;<span class="ident" id="5839385">Filter</span><span class="op" id="5839391">(</span><span class="ident" id="5839392">f</span>&nbsp;<span class="ident" id="5839394">Filter</span><span class="op" id="5839400">)</span>&nbsp;<span class="op" id="5839402">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839405">p</span><span class="op" id="5839406">.</span><span class="ident" id="5839407">Consts</span>&nbsp;<span class="op" id="5839414">=</span>&nbsp;<span class="ident" id="5839416">filterValues</span><span class="op" id="5839428">(</span><span class="ident" id="5839429">p</span><span class="op" id="5839430">.</span><span class="ident" id="5839431">Consts</span><span class="op" id="5839437">,</span>&nbsp;<span class="ident" id="5839439">f</span><span class="op" id="5839440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839443">p</span><span class="op" id="5839444">.</span><span class="ident" id="5839445">Vars</span>&nbsp;<span class="op" id="5839450">=</span>&nbsp;<span class="ident" id="5839452">filterValues</span><span class="op" id="5839464">(</span><span class="ident" id="5839465">p</span><span class="op" id="5839466">.</span><span class="ident" id="5839467">Vars</span><span class="op" id="5839471">,</span>&nbsp;<span class="ident" id="5839473">f</span><span class="op" id="5839474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839477">p</span><span class="op" id="5839478">.</span><span class="ident" id="5839479">Types</span>&nbsp;<span class="op" id="5839485">=</span>&nbsp;<span class="ident" id="5839487">filterTypes</span><span class="op" id="5839498">(</span><span class="ident" id="5839499">p</span><span class="op" id="5839500">.</span><span class="ident" id="5839501">Types</span><span class="op" id="5839506">,</span>&nbsp;<span class="ident" id="5839508">f</span><span class="op" id="5839509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839512">p</span><span class="op" id="5839513">.</span><span class="ident" id="5839514">Funcs</span>&nbsp;<span class="op" id="5839520">=</span>&nbsp;<span class="ident" id="5839522">filterFuncs</span><span class="op" id="5839533">(</span><span class="ident" id="5839534">p</span><span class="op" id="5839535">.</span><span class="ident" id="5839536">Funcs</span><span class="op" id="5839541">,</span>&nbsp;<span class="ident" id="5839543">f</span><span class="op" id="5839544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839547">p</span><span class="op" id="5839548">.</span><span class="ident" id="5839549">Doc</span>&nbsp;<span class="op" id="5839553">=</span>&nbsp;<span class="string" id="5839555">&#34;&#34;</span>&nbsp;<span class="comment" id="5839558">//&nbsp;don&#39;t&nbsp;show&nbsp;top-level&nbsp;package&nbsp;doc</span><br>
<span class="lineno">105</span><span class="op" id="5839594">}</span>
</div>
</body>
</html>
