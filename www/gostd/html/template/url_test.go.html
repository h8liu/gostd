<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html" class="current">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6640581">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6640636">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6640690">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6640741">package</span>&nbsp;<span class="ident" id="6640749">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6640759">import</span>&nbsp;<span class="op" id="6640766">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6640769">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6640779">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6640782">func</span>&nbsp;<span class="ident" id="6640787">TestURLNormalizer</span><span class="op" id="6640804">(</span><span class="ident" id="6640805">t</span>&nbsp;<span class="op" id="6640807">*</span><span class="ident" id="6640808">testing</span><span class="op" id="6640815">.</span><span class="ident" id="6640816">T</span><span class="op" id="6640817">)</span>&nbsp;<span class="op" id="6640819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6640822">tests</span>&nbsp;<span class="op" id="6640828">:=</span>&nbsp;<span class="op" id="6640831">[</span><span class="op" id="6640832">]</span><span class="keyword" id="6640833">struct</span>&nbsp;<span class="op" id="6640840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6640844">url</span><span class="op" id="6640847">,</span>&nbsp;<span class="ident" id="6640849">want</span>&nbsp;<span class="builtintype" id="6640854">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6640862">}</span><span class="op" id="6640863">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6640867">{</span><span class="string" id="6640868">&#34;&#34;</span><span class="op" id="6640870">,</span>&nbsp;<span class="string" id="6640872">&#34;&#34;</span><span class="op" id="6640874">}</span><span class="op" id="6640875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6640879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6640884">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="6640937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6640942">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="6640995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6640999">}</span><span class="op" id="6641000">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641004">{</span><span class="string" id="6641005">&#34;&nbsp;&#34;</span><span class="op" id="6641008">,</span>&nbsp;<span class="string" id="6641010">&#34;%20&#34;</span><span class="op" id="6641015">}</span><span class="op" id="6641016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641020">{</span><span class="string" id="6641021">&#34;%7c&#34;</span><span class="op" id="6641026">,</span>&nbsp;<span class="string" id="6641028">&#34;%7c&#34;</span><span class="op" id="6641033">}</span><span class="op" id="6641034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641038">{</span><span class="string" id="6641039">&#34;%7C&#34;</span><span class="op" id="6641044">,</span>&nbsp;<span class="string" id="6641046">&#34;%7C&#34;</span><span class="op" id="6641051">}</span><span class="op" id="6641052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641056">{</span><span class="string" id="6641057">&#34;%2&#34;</span><span class="op" id="6641061">,</span>&nbsp;<span class="string" id="6641063">&#34;%252&#34;</span><span class="op" id="6641069">}</span><span class="op" id="6641070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641074">{</span><span class="string" id="6641075">&#34;%&#34;</span><span class="op" id="6641078">,</span>&nbsp;<span class="string" id="6641080">&#34;%25&#34;</span><span class="op" id="6641085">}</span><span class="op" id="6641086">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641090">{</span><span class="string" id="6641091">&#34;%z&#34;</span><span class="op" id="6641095">,</span>&nbsp;<span class="string" id="6641097">&#34;%25z&#34;</span><span class="op" id="6641103">}</span><span class="op" id="6641104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641108">{</span><span class="string" id="6641109">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="6641129">,</span>&nbsp;<span class="string" id="6641131">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="6641156">}</span><span class="op" id="6641157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6641163">for</span>&nbsp;<span class="ident" id="6641167">_</span><span class="op" id="6641168">,</span>&nbsp;<span class="ident" id="6641170">test</span>&nbsp;<span class="op" id="6641175">:=</span>&nbsp;<span class="keyword" id="6641178">range</span>&nbsp;<span class="ident" id="6641184">tests</span>&nbsp;<span class="op" id="6641190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6641194">if</span>&nbsp;<span class="ident" id="6641197">got</span>&nbsp;<span class="op" id="6641201">:=</span>&nbsp;<span class="ident" id="6641204">urlNormalizer</span><span class="op" id="6641217">(</span><span class="ident" id="6641218">test</span><span class="op" id="6641222">.</span><span class="ident" id="6641223">url</span><span class="op" id="6641226">)</span><span class="op" id="6641227">;</span>&nbsp;<span class="ident" id="6641229">test</span><span class="op" id="6641233">.</span><span class="ident" id="6641234">want</span>&nbsp;<span class="op" id="6641239">!=</span>&nbsp;<span class="ident" id="6641242">got</span>&nbsp;<span class="op" id="6641246">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6641251">t</span><span class="op" id="6641252">.</span><span class="ident" id="6641253">Errorf</span><span class="op" id="6641259">(</span><span class="string" id="6641260">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="6641291">,</span>&nbsp;<span class="ident" id="6641293">test</span><span class="op" id="6641297">.</span><span class="ident" id="6641298">url</span><span class="op" id="6641301">,</span>&nbsp;<span class="ident" id="6641303">test</span><span class="op" id="6641307">.</span><span class="ident" id="6641308">want</span><span class="op" id="6641312">,</span>&nbsp;<span class="ident" id="6641314">got</span><span class="op" id="6641317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6641325">if</span>&nbsp;<span class="ident" id="6641328">test</span><span class="op" id="6641332">.</span><span class="ident" id="6641333">want</span>&nbsp;<span class="op" id="6641338">!=</span>&nbsp;<span class="ident" id="6641341">urlNormalizer</span><span class="op" id="6641354">(</span><span class="ident" id="6641355">test</span><span class="op" id="6641359">.</span><span class="ident" id="6641360">want</span><span class="op" id="6641364">)</span>&nbsp;<span class="op" id="6641366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6641371">t</span><span class="op" id="6641372">.</span><span class="ident" id="6641373">Errorf</span><span class="op" id="6641379">(</span><span class="string" id="6641380">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="6641400">,</span>&nbsp;<span class="ident" id="6641402">test</span><span class="op" id="6641406">.</span><span class="ident" id="6641407">want</span><span class="op" id="6641411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641415">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641418">}</span><br>
<span class="lineno"></span><span class="op" id="6641420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6641423">func</span>&nbsp;<span class="ident" id="6641428">TestURLFilters</span><span class="op" id="6641442">(</span><span class="ident" id="6641443">t</span>&nbsp;<span class="op" id="6641445">*</span><span class="ident" id="6641446">testing</span><span class="op" id="6641453">.</span><span class="ident" id="6641454">T</span><span class="op" id="6641455">)</span>&nbsp;<span class="op" id="6641457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6641460">input</span>&nbsp;<span class="op" id="6641466">:=</span>&nbsp;<span class="op" id="6641469">(</span><span class="string" id="6641470">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="6641531">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641535">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="6641602">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641606">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="6641625">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641629">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="6641648">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641652">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="6641671">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641675">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="6641694">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641698">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="6641717">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641721">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="6641743">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641747">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="6641789">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6641793">tests</span>&nbsp;<span class="op" id="6641799">:=</span>&nbsp;<span class="op" id="6641802">[</span><span class="op" id="6641803">]</span><span class="keyword" id="6641804">struct</span>&nbsp;<span class="op" id="6641811">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6641815">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6641823">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6641832">escaper</span>&nbsp;<span class="keyword" id="6641840">func</span><span class="op" id="6641844">(</span><span class="op" id="6641845">...</span><span class="keyword" id="6641848">interface</span><span class="op" id="6641857">{</span><span class="op" id="6641858">}</span><span class="op" id="6641859">)</span>&nbsp;<span class="builtintype" id="6641861">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6641870">escaped</span>&nbsp;<span class="builtintype" id="6641878">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641886">}</span><span class="op" id="6641887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6641891">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641896">&#34;urlEscaper&#34;</span><span class="op" id="6641908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6641913">urlEscaper</span><span class="op" id="6641923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641928">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="6641979">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6641985">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="6642036">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642042">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="6642089">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642095">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="6642126">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642132">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="6642153">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642159">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="6642186">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642192">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="6642213">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642219">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="6642246">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642252">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="6642305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6642309">}</span><span class="op" id="6642310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6642314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642319">&#34;urlNormalizer&#34;</span><span class="op" id="6642334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6642339">urlNormalizer</span><span class="op" id="6642352">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642357">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="6642408">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642414">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="6642465">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642471">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="6642502">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642508">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="6642531">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642537">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="6642556">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642562">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="6642585">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642591">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="6642612">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642618">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="6642645">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6642651">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="6642704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6642708">}</span><span class="op" id="6642709">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6642712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6642716">for</span>&nbsp;<span class="ident" id="6642720">_</span><span class="op" id="6642721">,</span>&nbsp;<span class="ident" id="6642723">test</span>&nbsp;<span class="op" id="6642728">:=</span>&nbsp;<span class="keyword" id="6642731">range</span>&nbsp;<span class="ident" id="6642737">tests</span>&nbsp;<span class="op" id="6642743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6642747">if</span>&nbsp;<span class="ident" id="6642750">s</span>&nbsp;<span class="op" id="6642752">:=</span>&nbsp;<span class="ident" id="6642755">test</span><span class="op" id="6642759">.</span><span class="ident" id="6642760">escaper</span><span class="op" id="6642767">(</span><span class="ident" id="6642768">input</span><span class="op" id="6642773">)</span><span class="op" id="6642774">;</span>&nbsp;<span class="ident" id="6642776">s</span>&nbsp;<span class="op" id="6642778">!=</span>&nbsp;<span class="ident" id="6642781">test</span><span class="op" id="6642785">.</span><span class="ident" id="6642786">escaped</span>&nbsp;<span class="op" id="6642794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6642799">t</span><span class="op" id="6642800">.</span><span class="ident" id="6642801">Errorf</span><span class="op" id="6642807">(</span><span class="string" id="6642808">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="6642835">,</span>&nbsp;<span class="ident" id="6642837">test</span><span class="op" id="6642841">.</span><span class="ident" id="6642842">name</span><span class="op" id="6642846">,</span>&nbsp;<span class="ident" id="6642848">test</span><span class="op" id="6642852">.</span><span class="ident" id="6642853">escaped</span><span class="op" id="6642860">,</span>&nbsp;<span class="ident" id="6642862">s</span><span class="op" id="6642863">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6642868">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6642879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6642882">}</span><br>
<span class="lineno"></span><span class="op" id="6642884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6642887">func</span>&nbsp;<span class="ident" id="6642892">BenchmarkURLEscaper</span><span class="op" id="6642911">(</span><span class="ident" id="6642912">b</span>&nbsp;<span class="op" id="6642914">*</span><span class="ident" id="6642915">testing</span><span class="op" id="6642922">.</span><span class="ident" id="6642923">B</span><span class="op" id="6642924">)</span>&nbsp;<span class="op" id="6642926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6642929">for</span>&nbsp;<span class="ident" id="6642933">i</span>&nbsp;<span class="op" id="6642935">:=</span>&nbsp;<span class="num" id="6642938">0</span><span class="op" id="6642939">;</span>&nbsp;<span class="ident" id="6642941">i</span>&nbsp;<span class="op" id="6642943">&lt;</span>&nbsp;<span class="ident" id="6642945">b</span><span class="op" id="6642946">.</span><span class="ident" id="6642947">N</span><span class="op" id="6642948">;</span>&nbsp;<span class="ident" id="6642950">i</span><span class="op" id="6642951">++</span>&nbsp;<span class="op" id="6642954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6642958">urlEscaper</span><span class="op" id="6642968">(</span><span class="string" id="6642969">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="6643018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6643021">}</span><br>
<span class="lineno"></span><span class="op" id="6643023">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="6643026">func</span>&nbsp;<span class="ident" id="6643031">BenchmarkURLEscaperNoSpecials</span><span class="op" id="6643060">(</span><span class="ident" id="6643061">b</span>&nbsp;<span class="op" id="6643063">*</span><span class="ident" id="6643064">testing</span><span class="op" id="6643071">.</span><span class="ident" id="6643072">B</span><span class="op" id="6643073">)</span>&nbsp;<span class="op" id="6643075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6643078">for</span>&nbsp;<span class="ident" id="6643082">i</span>&nbsp;<span class="op" id="6643084">:=</span>&nbsp;<span class="num" id="6643087">0</span><span class="op" id="6643088">;</span>&nbsp;<span class="ident" id="6643090">i</span>&nbsp;<span class="op" id="6643092">&lt;</span>&nbsp;<span class="ident" id="6643094">b</span><span class="op" id="6643095">.</span><span class="ident" id="6643096">N</span><span class="op" id="6643097">;</span>&nbsp;<span class="ident" id="6643099">i</span><span class="op" id="6643100">++</span>&nbsp;<span class="op" id="6643103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6643107">urlEscaper</span><span class="op" id="6643117">(</span><span class="string" id="6643118">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="6643156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6643159">}</span><br>
<span class="lineno">100</span><span class="op" id="6643161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6643164">func</span>&nbsp;<span class="ident" id="6643169">BenchmarkURLNormalizer</span><span class="op" id="6643191">(</span><span class="ident" id="6643192">b</span>&nbsp;<span class="op" id="6643194">*</span><span class="ident" id="6643195">testing</span><span class="op" id="6643202">.</span><span class="ident" id="6643203">B</span><span class="op" id="6643204">)</span>&nbsp;<span class="op" id="6643206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6643209">for</span>&nbsp;<span class="ident" id="6643213">i</span>&nbsp;<span class="op" id="6643215">:=</span>&nbsp;<span class="num" id="6643218">0</span><span class="op" id="6643219">;</span>&nbsp;<span class="ident" id="6643221">i</span>&nbsp;<span class="op" id="6643223">&lt;</span>&nbsp;<span class="ident" id="6643225">b</span><span class="op" id="6643226">.</span><span class="ident" id="6643227">N</span><span class="op" id="6643228">;</span>&nbsp;<span class="ident" id="6643230">i</span><span class="op" id="6643231">++</span>&nbsp;<span class="op" id="6643234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6643238">urlNormalizer</span><span class="op" id="6643251">(</span><span class="string" id="6643252">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="6643300">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6643303">}</span><br>
<span class="lineno"></span><span class="op" id="6643305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6643308">func</span>&nbsp;<span class="ident" id="6643313">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="6643345">(</span><span class="ident" id="6643346">b</span>&nbsp;<span class="op" id="6643348">*</span><span class="ident" id="6643349">testing</span><span class="op" id="6643356">.</span><span class="ident" id="6643357">B</span><span class="op" id="6643358">)</span>&nbsp;<span class="op" id="6643360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6643363">for</span>&nbsp;<span class="ident" id="6643367">i</span>&nbsp;<span class="op" id="6643369">:=</span>&nbsp;<span class="num" id="6643372">0</span><span class="op" id="6643373">;</span>&nbsp;<span class="ident" id="6643375">i</span>&nbsp;<span class="op" id="6643377">&lt;</span>&nbsp;<span class="ident" id="6643379">b</span><span class="op" id="6643380">.</span><span class="ident" id="6643381">N</span><span class="op" id="6643382">;</span>&nbsp;<span class="ident" id="6643384">i</span><span class="op" id="6643385">++</span>&nbsp;<span class="op" id="6643388">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6643392">urlNormalizer</span><span class="op" id="6643405">(</span><span class="string" id="6643406">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="6643455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6643458">}</span><br>
<span class="lineno"></span><span class="op" id="6643460">}</span>
</div>
</body>
</html>
