<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html" class="current">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3371588">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3371644">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3371698">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3371749">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;windows</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3371814">package</span>&nbsp;<span class="ident" id="3371822">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3371827">import</span>&nbsp;<span class="op" id="3371834">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3371837">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3371843">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="3371853">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3371856">func</span>&nbsp;<span class="ident" id="3371861">joinIPv4Group</span><span class="op" id="3371874">(</span><span class="ident" id="3371875">fd</span>&nbsp;<span class="op" id="3371878">*</span><span class="ident" id="3371879"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3371884">,</span>&nbsp;<span class="ident" id="3371886">ifi</span>&nbsp;<span class="op" id="3371890">*</span><span class="ident" id="3371891"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="3371900">,</span>&nbsp;<span class="ident" id="3371902">ip</span>&nbsp;<span class="ident" id="3371905"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3371907">)</span>&nbsp;<span class="builtintype" id="3371909">error</span>&nbsp;<span class="op" id="3371915">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3371918">mreq</span>&nbsp;<span class="op" id="3371923">:=</span>&nbsp;<span class="op" id="3371926">&amp;</span><span class="ident" id="3371927"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3371934">.</span><span class="ident" id="3371935"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669197">IPMreq</a></span><span class="op" id="3371941">{</span><span class="ident" id="3371942"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669214">Multiaddr</a></span><span class="op" id="3371951">:</span>&nbsp;<span class="op" id="3371953">[</span><span class="num" id="3371954">4</span><span class="op" id="3371955">]</span><span class="builtintype" id="3371956">byte</span><span class="op" id="3371960">{</span><span class="ident" id="3371961"><a href="/gostd/net/sockoptip_posix.go.html#3371902">ip</a></span><span class="op" id="3371963">[</span><span class="num" id="3371964">0</span><span class="op" id="3371965">]</span><span class="op" id="3371966">,</span>&nbsp;<span class="ident" id="3371968"><a href="/gostd/net/sockoptip_posix.go.html#3371902">ip</a></span><span class="op" id="3371970">[</span><span class="num" id="3371971">1</span><span class="op" id="3371972">]</span><span class="op" id="3371973">,</span>&nbsp;<span class="ident" id="3371975"><a href="/gostd/net/sockoptip_posix.go.html#3371902">ip</a></span><span class="op" id="3371977">[</span><span class="num" id="3371978">2</span><span class="op" id="3371979">]</span><span class="op" id="3371980">,</span>&nbsp;<span class="ident" id="3371982"><a href="/gostd/net/sockoptip_posix.go.html#3371902">ip</a></span><span class="op" id="3371984">[</span><span class="num" id="3371985">3</span><span class="op" id="3371986">]</span><span class="op" id="3371987">}</span><span class="op" id="3371988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3371991">if</span>&nbsp;<span class="ident" id="3371994">err</span>&nbsp;<span class="op" id="3371998">:=</span>&nbsp;<span class="ident" id="3372001"><a href="/gostd/net/sockopt_posix.go.html#3369113">setIPv4MreqToInterface</a></span><span class="op" id="3372023">(</span><span class="ident" id="3372024"><a href="/gostd/net/sockoptip_posix.go.html#3371918">mreq</a></span><span class="op" id="3372028">,</span>&nbsp;<span class="ident" id="3372030"><a href="/gostd/net/sockoptip_posix.go.html#3371886">ifi</a></span><span class="op" id="3372033">)</span><span class="op" id="3372034">;</span>&nbsp;<span class="ident" id="3372036"><a href="/gostd/net/sockoptip_posix.go.html#3371994">err</a></span>&nbsp;<span class="op" id="3372040">!=</span>&nbsp;<span class="builtintype" id="3372043">nil</span>&nbsp;<span class="op" id="3372047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372051">return</span>&nbsp;<span class="ident" id="3372058"><a href="/gostd/net/sockoptip_posix.go.html#3371994">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3372063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372066">if</span>&nbsp;<span class="ident" id="3372069">err</span>&nbsp;<span class="op" id="3372073">:=</span>&nbsp;<span class="ident" id="3372076"><a href="/gostd/net/sockoptip_posix.go.html#3371875">fd</a></span><span class="op" id="3372078">.</span><span class="ident" id="3372079"><a href="/gostd/net/fd_unix.go.html#3260507">incref</a></span><span class="op" id="3372085">(</span><span class="op" id="3372086">)</span><span class="op" id="3372087">;</span>&nbsp;<span class="ident" id="3372089"><a href="/gostd/net/sockoptip_posix.go.html#3372069">err</a></span>&nbsp;<span class="op" id="3372093">!=</span>&nbsp;<span class="builtintype" id="3372096">nil</span>&nbsp;<span class="op" id="3372100">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372104">return</span>&nbsp;<span class="ident" id="3372111"><a href="/gostd/net/sockoptip_posix.go.html#3372069">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3372116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372119">defer</span>&nbsp;<span class="ident" id="3372125"><a href="/gostd/net/sockoptip_posix.go.html#3371875">fd</a></span><span class="op" id="3372127">.</span><span class="ident" id="3372128"><a href="/gostd/net/fd_unix.go.html#3260714">decref</a></span><span class="op" id="3372134">(</span><span class="op" id="3372135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372138">return</span>&nbsp;<span class="ident" id="3372145"><a href="/gostd/net/sockoptip_posix.go.html#3371837">os</a></span><span class="op" id="3372147">.</span><span class="ident" id="3372148"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3372163">(</span><span class="string" id="3372164">&#34;setsockopt&#34;</span><span class="op" id="3372176">,</span>&nbsp;<span class="ident" id="3372178"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3372185">.</span><span class="ident" id="3372186"><a href="/gostd/syscall/syscall_unix.go.html#2549010">SetsockoptIPMreq</a></span><span class="op" id="3372202">(</span><span class="ident" id="3372203"><a href="/gostd/net/sockoptip_posix.go.html#3371875">fd</a></span><span class="op" id="3372205">.</span><span class="ident" id="3372206"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3372211">,</span>&nbsp;<span class="ident" id="3372213"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3372220">.</span><span class="ident" id="3372221"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2566168">IPPROTO_IP</a></span><span class="op" id="3372231">,</span>&nbsp;<span class="ident" id="3372233"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3372240">.</span><span class="ident" id="3372241"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2568771">IP_ADD_MEMBERSHIP</a></span><span class="op" id="3372258">,</span>&nbsp;<span class="ident" id="3372260"><a href="/gostd/net/sockoptip_posix.go.html#3371918">mreq</a></span><span class="op" id="3372264">)</span><span class="op" id="3372265">)</span><br>
<span class="lineno"></span><span class="op" id="3372267">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3372270">func</span>&nbsp;<span class="ident" id="3372275">setIPv6MulticastInterface</span><span class="op" id="3372300">(</span><span class="ident" id="3372301">fd</span>&nbsp;<span class="op" id="3372304">*</span><span class="ident" id="3372305"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3372310">,</span>&nbsp;<span class="ident" id="3372312">ifi</span>&nbsp;<span class="op" id="3372316">*</span><span class="ident" id="3372317"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="3372326">)</span>&nbsp;<span class="builtintype" id="3372328">error</span>&nbsp;<span class="op" id="3372334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372337">var</span>&nbsp;<span class="ident" id="3372341">v</span>&nbsp;<span class="builtintype" id="3372343">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372348">if</span>&nbsp;<span class="ident" id="3372351"><a href="/gostd/net/sockoptip_posix.go.html#3372312">ifi</a></span>&nbsp;<span class="op" id="3372355">!=</span>&nbsp;<span class="builtintype" id="3372358">nil</span>&nbsp;<span class="op" id="3372362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3372366"><a href="/gostd/net/sockoptip_posix.go.html#3372341">v</a></span>&nbsp;<span class="op" id="3372368">=</span>&nbsp;<span class="ident" id="3372370"><a href="/gostd/net/sockoptip_posix.go.html#3372312">ifi</a></span><span class="op" id="3372373">.</span><span class="ident" id="3372374"><a href="/gostd/net/interface.go.html#3275485">Index</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3372381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372384">if</span>&nbsp;<span class="ident" id="3372387">err</span>&nbsp;<span class="op" id="3372391">:=</span>&nbsp;<span class="ident" id="3372394"><a href="/gostd/net/sockoptip_posix.go.html#3372301">fd</a></span><span class="op" id="3372396">.</span><span class="ident" id="3372397"><a href="/gostd/net/fd_unix.go.html#3260507">incref</a></span><span class="op" id="3372403">(</span><span class="op" id="3372404">)</span><span class="op" id="3372405">;</span>&nbsp;<span class="ident" id="3372407"><a href="/gostd/net/sockoptip_posix.go.html#3372387">err</a></span>&nbsp;<span class="op" id="3372411">!=</span>&nbsp;<span class="builtintype" id="3372414">nil</span>&nbsp;<span class="op" id="3372418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372422">return</span>&nbsp;<span class="ident" id="3372429"><a href="/gostd/net/sockoptip_posix.go.html#3372387">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3372434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372437">defer</span>&nbsp;<span class="ident" id="3372443"><a href="/gostd/net/sockoptip_posix.go.html#3372301">fd</a></span><span class="op" id="3372445">.</span><span class="ident" id="3372446"><a href="/gostd/net/fd_unix.go.html#3260714">decref</a></span><span class="op" id="3372452">(</span><span class="op" id="3372453">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372456">return</span>&nbsp;<span class="ident" id="3372463"><a href="/gostd/net/sockoptip_posix.go.html#3371837">os</a></span><span class="op" id="3372465">.</span><span class="ident" id="3372466"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3372481">(</span><span class="string" id="3372482">&#34;setsockopt&#34;</span><span class="op" id="3372494">,</span>&nbsp;<span class="ident" id="3372496"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3372503">.</span><span class="ident" id="3372504"><a href="/gostd/syscall/syscall_unix.go.html#2548721">SetsockoptInt</a></span><span class="op" id="3372517">(</span><span class="ident" id="3372518"><a href="/gostd/net/sockoptip_posix.go.html#3372301">fd</a></span><span class="op" id="3372520">.</span><span class="ident" id="3372521"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3372526">,</span>&nbsp;<span class="ident" id="3372528"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3372535">.</span><span class="ident" id="3372536"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2566248">IPPROTO_IPV6</a></span><span class="op" id="3372548">,</span>&nbsp;<span class="ident" id="3372550"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3372557">.</span><span class="ident" id="3372558"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2567672">IPV6_MULTICAST_IF</a></span><span class="op" id="3372575">,</span>&nbsp;<span class="ident" id="3372577"><a href="/gostd/net/sockoptip_posix.go.html#3372341">v</a></span><span class="op" id="3372578">)</span><span class="op" id="3372579">)</span><br>
<span class="lineno"></span><span class="op" id="3372581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3372584">func</span>&nbsp;<span class="ident" id="3372589">setIPv6MulticastLoopback</span><span class="op" id="3372613">(</span><span class="ident" id="3372614">fd</span>&nbsp;<span class="op" id="3372617">*</span><span class="ident" id="3372618"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3372623">,</span>&nbsp;<span class="ident" id="3372625">v</span>&nbsp;<span class="builtintype" id="3372627">bool</span><span class="op" id="3372631">)</span>&nbsp;<span class="builtintype" id="3372633">error</span>&nbsp;<span class="op" id="3372639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372642">if</span>&nbsp;<span class="ident" id="3372645">err</span>&nbsp;<span class="op" id="3372649">:=</span>&nbsp;<span class="ident" id="3372652"><a href="/gostd/net/sockoptip_posix.go.html#3372614">fd</a></span><span class="op" id="3372654">.</span><span class="ident" id="3372655"><a href="/gostd/net/fd_unix.go.html#3260507">incref</a></span><span class="op" id="3372661">(</span><span class="op" id="3372662">)</span><span class="op" id="3372663">;</span>&nbsp;<span class="ident" id="3372665"><a href="/gostd/net/sockoptip_posix.go.html#3372645">err</a></span>&nbsp;<span class="op" id="3372669">!=</span>&nbsp;<span class="builtintype" id="3372672">nil</span>&nbsp;<span class="op" id="3372676">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372680">return</span>&nbsp;<span class="ident" id="3372687"><a href="/gostd/net/sockoptip_posix.go.html#3372645">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3372692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372695">defer</span>&nbsp;<span class="ident" id="3372701"><a href="/gostd/net/sockoptip_posix.go.html#3372614">fd</a></span><span class="op" id="3372703">.</span><span class="ident" id="3372704"><a href="/gostd/net/fd_unix.go.html#3260714">decref</a></span><span class="op" id="3372710">(</span><span class="op" id="3372711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372714">return</span>&nbsp;<span class="ident" id="3372721"><a href="/gostd/net/sockoptip_posix.go.html#3371837">os</a></span><span class="op" id="3372723">.</span><span class="ident" id="3372724"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3372739">(</span><span class="string" id="3372740">&#34;setsockopt&#34;</span><span class="op" id="3372752">,</span>&nbsp;<span class="ident" id="3372754"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3372761">.</span><span class="ident" id="3372762"><a href="/gostd/syscall/syscall_unix.go.html#2548721">SetsockoptInt</a></span><span class="op" id="3372775">(</span><span class="ident" id="3372776"><a href="/gostd/net/sockoptip_posix.go.html#3372614">fd</a></span><span class="op" id="3372778">.</span><span class="ident" id="3372779"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3372784">,</span>&nbsp;<span class="ident" id="3372786"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3372793">.</span><span class="ident" id="3372794"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2566248">IPPROTO_IPV6</a></span><span class="op" id="3372806">,</span>&nbsp;<span class="ident" id="3372808"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3372815">.</span><span class="ident" id="3372816"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2567713">IPV6_MULTICAST_LOOP</a></span><span class="op" id="3372835">,</span>&nbsp;<span class="ident" id="3372837"><a href="/gostd/net/sockopt_posix.go.html#3368157">boolint</a></span><span class="op" id="3372844">(</span><span class="ident" id="3372845"><a href="/gostd/net/sockoptip_posix.go.html#3372625">v</a></span><span class="op" id="3372846">)</span><span class="op" id="3372847">)</span><span class="op" id="3372848">)</span><br>
<span class="lineno"></span><span class="op" id="3372850">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="3372853">func</span>&nbsp;<span class="ident" id="3372858">joinIPv6Group</span><span class="op" id="3372871">(</span><span class="ident" id="3372872">fd</span>&nbsp;<span class="op" id="3372875">*</span><span class="ident" id="3372876"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3372881">,</span>&nbsp;<span class="ident" id="3372883">ifi</span>&nbsp;<span class="op" id="3372887">*</span><span class="ident" id="3372888"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="3372897">,</span>&nbsp;<span class="ident" id="3372899">ip</span>&nbsp;<span class="ident" id="3372902"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3372904">)</span>&nbsp;<span class="builtintype" id="3372906">error</span>&nbsp;<span class="op" id="3372912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3372915">mreq</span>&nbsp;<span class="op" id="3372920">:=</span>&nbsp;<span class="op" id="3372923">&amp;</span><span class="ident" id="3372924"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3372931">.</span><span class="ident" id="3372932"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669395">IPv6Mreq</a></span><span class="op" id="3372940">{</span><span class="op" id="3372941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3372944">copy</span><span class="op" id="3372948">(</span><span class="ident" id="3372949"><a href="/gostd/net/sockoptip_posix.go.html#3372915">mreq</a></span><span class="op" id="3372953">.</span><span class="ident" id="3372954"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669414">Multiaddr</a></span><span class="op" id="3372963">[</span><span class="op" id="3372964">:</span><span class="op" id="3372965">]</span><span class="op" id="3372966">,</span>&nbsp;<span class="ident" id="3372968"><a href="/gostd/net/sockoptip_posix.go.html#3372899">ip</a></span><span class="op" id="3372970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3372973">if</span>&nbsp;<span class="ident" id="3372976"><a href="/gostd/net/sockoptip_posix.go.html#3372883">ifi</a></span>&nbsp;<span class="op" id="3372980">!=</span>&nbsp;<span class="builtintype" id="3372983">nil</span>&nbsp;<span class="op" id="3372987">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3372991"><a href="/gostd/net/sockoptip_posix.go.html#3372915">mreq</a></span><span class="op" id="3372995">.</span><span class="ident" id="3372996"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669449">Interface</a></span>&nbsp;<span class="op" id="3373006">=</span>&nbsp;<span class="builtintype" id="3373008">uint32</span><span class="op" id="3373014">(</span><span class="ident" id="3373015"><a href="/gostd/net/sockoptip_posix.go.html#3372883">ifi</a></span><span class="op" id="3373018">.</span><span class="ident" id="3373019"><a href="/gostd/net/interface.go.html#3275485">Index</a></span><span class="op" id="3373024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3373027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3373030">if</span>&nbsp;<span class="ident" id="3373033">err</span>&nbsp;<span class="op" id="3373037">:=</span>&nbsp;<span class="ident" id="3373040"><a href="/gostd/net/sockoptip_posix.go.html#3372872">fd</a></span><span class="op" id="3373042">.</span><span class="ident" id="3373043"><a href="/gostd/net/fd_unix.go.html#3260507">incref</a></span><span class="op" id="3373049">(</span><span class="op" id="3373050">)</span><span class="op" id="3373051">;</span>&nbsp;<span class="ident" id="3373053"><a href="/gostd/net/sockoptip_posix.go.html#3373033">err</a></span>&nbsp;<span class="op" id="3373057">!=</span>&nbsp;<span class="builtintype" id="3373060">nil</span>&nbsp;<span class="op" id="3373064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3373068">return</span>&nbsp;<span class="ident" id="3373075"><a href="/gostd/net/sockoptip_posix.go.html#3373033">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3373080">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3373083">defer</span>&nbsp;<span class="ident" id="3373089"><a href="/gostd/net/sockoptip_posix.go.html#3372872">fd</a></span><span class="op" id="3373091">.</span><span class="ident" id="3373092"><a href="/gostd/net/fd_unix.go.html#3260714">decref</a></span><span class="op" id="3373098">(</span><span class="op" id="3373099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3373102">return</span>&nbsp;<span class="ident" id="3373109"><a href="/gostd/net/sockoptip_posix.go.html#3371837">os</a></span><span class="op" id="3373111">.</span><span class="ident" id="3373112"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3373127">(</span><span class="string" id="3373128">&#34;setsockopt&#34;</span><span class="op" id="3373140">,</span>&nbsp;<span class="ident" id="3373142"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3373149">.</span><span class="ident" id="3373150"><a href="/gostd/syscall/syscall_unix.go.html#2549154">SetsockoptIPv6Mreq</a></span><span class="op" id="3373168">(</span><span class="ident" id="3373169"><a href="/gostd/net/sockoptip_posix.go.html#3372872">fd</a></span><span class="op" id="3373171">.</span><span class="ident" id="3373172"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3373177">,</span>&nbsp;<span class="ident" id="3373179"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3373186">.</span><span class="ident" id="3373187"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2566248">IPPROTO_IPV6</a></span><span class="op" id="3373199">,</span>&nbsp;<span class="ident" id="3373201"><a href="/gostd/net/sockoptip_posix.go.html#3371843">syscall</a></span><span class="op" id="3373208">.</span><span class="ident" id="3373209"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2567426">IPV6_JOIN_GROUP</a></span><span class="op" id="3373224">,</span>&nbsp;<span class="ident" id="3373226"><a href="/gostd/net/sockoptip_posix.go.html#3372915">mreq</a></span><span class="op" id="3373230">)</span><span class="op" id="3373231">)</span><br>
<span class="lineno"></span><span class="op" id="3373233">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
