<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2202582">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2202637">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2202691">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2202742">package</span>&nbsp;<span class="ident" id="2202750">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2202754">import</span>&nbsp;<span class="op" id="2202761">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2202764">&#34;errors&#34;</span><br>
<span class="lineno"></span><span class="op" id="2202773">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="2202776">//&nbsp;Portable&nbsp;analogs&nbsp;of&nbsp;some&nbsp;common&nbsp;system&nbsp;call&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2202831">var</span>&nbsp;<span class="op" id="2202835">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2202838">ErrInvalid</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2202852">=</span>&nbsp;<span class="ident" id="2202854">errors</span><span class="op" id="2202860">.</span><span class="ident" id="2202861">New</span><span class="op" id="2202864">(</span><span class="string" id="2202865">&#34;invalid&nbsp;argument&#34;</span><span class="op" id="2202883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2202886">ErrPermission</span>&nbsp;<span class="op" id="2202900">=</span>&nbsp;<span class="ident" id="2202902">errors</span><span class="op" id="2202908">.</span><span class="ident" id="2202909">New</span><span class="op" id="2202912">(</span><span class="string" id="2202913">&#34;permission&nbsp;denied&#34;</span><span class="op" id="2202932">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2202935">ErrExist</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2202949">=</span>&nbsp;<span class="ident" id="2202951">errors</span><span class="op" id="2202957">.</span><span class="ident" id="2202958">New</span><span class="op" id="2202961">(</span><span class="string" id="2202962">&#34;file&nbsp;already&nbsp;exists&#34;</span><span class="op" id="2202983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2202986">ErrNotExist</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2203000">=</span>&nbsp;<span class="ident" id="2203002">errors</span><span class="op" id="2203008">.</span><span class="ident" id="2203009">New</span><span class="op" id="2203012">(</span><span class="string" id="2203013">&#34;file&nbsp;does&nbsp;not&nbsp;exist&#34;</span><span class="op" id="2203034">)</span><br>
<span class="lineno"></span><span class="op" id="2203036">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2203039">//&nbsp;PathError&nbsp;records&nbsp;an&nbsp;error&nbsp;and&nbsp;the&nbsp;operation&nbsp;and&nbsp;file&nbsp;path&nbsp;that&nbsp;caused&nbsp;it.</span><br>
<span class="lineno">20</span><span class="keyword" id="2203117">type</span>&nbsp;<span class="ident" id="2203122">PathError</span>&nbsp;<span class="keyword" id="2203132">struct</span>&nbsp;<span class="op" id="2203139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2203142">Op</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2203147">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2203155">Path</span>&nbsp;<span class="builtintype" id="2203160">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2203168">Err</span>&nbsp;&nbsp;<span class="builtintype" id="2203173">error</span><br>
<span class="lineno"></span><span class="op" id="2203179">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="2203182">func</span>&nbsp;<span class="op" id="2203187">(</span><span class="ident" id="2203188">e</span>&nbsp;<span class="op" id="2203190">*</span><span class="ident" id="2203191">PathError</span><span class="op" id="2203200">)</span>&nbsp;<span class="ident" id="2203202">Error</span><span class="op" id="2203207">(</span><span class="op" id="2203208">)</span>&nbsp;<span class="builtintype" id="2203210">string</span>&nbsp;<span class="op" id="2203217">{</span>&nbsp;<span class="keyword" id="2203219">return</span>&nbsp;<span class="ident" id="2203226">e</span><span class="op" id="2203227">.</span><span class="ident" id="2203228">Op</span>&nbsp;<span class="op" id="2203231">+</span>&nbsp;<span class="string" id="2203233">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2203237">+</span>&nbsp;<span class="ident" id="2203239">e</span><span class="op" id="2203240">.</span><span class="ident" id="2203241">Path</span>&nbsp;<span class="op" id="2203246">+</span>&nbsp;<span class="string" id="2203248">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2203253">+</span>&nbsp;<span class="ident" id="2203255">e</span><span class="op" id="2203256">.</span><span class="ident" id="2203257">Err</span><span class="op" id="2203260">.</span><span class="ident" id="2203261">Error</span><span class="op" id="2203266">(</span><span class="op" id="2203267">)</span>&nbsp;<span class="op" id="2203269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2203272">//&nbsp;SyscallError&nbsp;records&nbsp;an&nbsp;error&nbsp;from&nbsp;a&nbsp;specific&nbsp;system&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="2203334">type</span>&nbsp;<span class="ident" id="2203339">SyscallError</span>&nbsp;<span class="keyword" id="2203352">struct</span>&nbsp;<span class="op" id="2203359">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2203362">Syscall</span>&nbsp;<span class="builtintype" id="2203370">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2203378">Err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2203386">error</span><br>
<span class="lineno"></span><span class="op" id="2203392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2203395">func</span>&nbsp;<span class="op" id="2203400">(</span><span class="ident" id="2203401">e</span>&nbsp;<span class="op" id="2203403">*</span><span class="ident" id="2203404">SyscallError</span><span class="op" id="2203416">)</span>&nbsp;<span class="ident" id="2203418">Error</span><span class="op" id="2203423">(</span><span class="op" id="2203424">)</span>&nbsp;<span class="builtintype" id="2203426">string</span>&nbsp;<span class="op" id="2203433">{</span>&nbsp;<span class="keyword" id="2203435">return</span>&nbsp;<span class="ident" id="2203442">e</span><span class="op" id="2203443">.</span><span class="ident" id="2203444">Syscall</span>&nbsp;<span class="op" id="2203452">+</span>&nbsp;<span class="string" id="2203454">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2203459">+</span>&nbsp;<span class="ident" id="2203461">e</span><span class="op" id="2203462">.</span><span class="ident" id="2203463">Err</span><span class="op" id="2203466">.</span><span class="ident" id="2203467">Error</span><span class="op" id="2203472">(</span><span class="op" id="2203473">)</span>&nbsp;<span class="op" id="2203475">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2203478">//&nbsp;NewSyscallError&nbsp;returns,&nbsp;as&nbsp;an&nbsp;error,&nbsp;a&nbsp;new&nbsp;SyscallError</span><br>
<span class="lineno"></span><span class="comment" id="2203538">//&nbsp;with&nbsp;the&nbsp;given&nbsp;system&nbsp;call&nbsp;name&nbsp;and&nbsp;error&nbsp;details.</span><br>
<span class="lineno"></span><span class="comment" id="2203592">//&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;if&nbsp;err&nbsp;is&nbsp;nil,&nbsp;NewSyscallError&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2203657">func</span>&nbsp;<span class="ident" id="2203662">NewSyscallError</span><span class="op" id="2203677">(</span><span class="ident" id="2203678">syscall</span>&nbsp;<span class="builtintype" id="2203686">string</span><span class="op" id="2203692">,</span>&nbsp;<span class="ident" id="2203694">err</span>&nbsp;<span class="builtintype" id="2203698">error</span><span class="op" id="2203703">)</span>&nbsp;<span class="builtintype" id="2203705">error</span>&nbsp;<span class="op" id="2203711">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2203714">if</span>&nbsp;<span class="ident" id="2203717">err</span>&nbsp;<span class="op" id="2203721">==</span>&nbsp;<span class="ident" id="2203724">nil</span>&nbsp;<span class="op" id="2203728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2203732">return</span>&nbsp;<span class="ident" id="2203739">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2203744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2203747">return</span>&nbsp;<span class="op" id="2203754">&amp;</span><span class="ident" id="2203755">SyscallError</span><span class="op" id="2203767">{</span><span class="ident" id="2203768">syscall</span><span class="op" id="2203775">,</span>&nbsp;<span class="ident" id="2203777">err</span><span class="op" id="2203780">}</span><br>
<span class="lineno"></span><span class="op" id="2203782">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="2203785">//&nbsp;IsExist&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to&nbsp;report</span><br>
<span class="lineno"></span><span class="comment" id="2203862">//&nbsp;that&nbsp;a&nbsp;file&nbsp;or&nbsp;directory&nbsp;already&nbsp;exists.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by&nbsp;ErrExist&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="2203937">//&nbsp;well&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2203969">func</span>&nbsp;<span class="ident" id="2203974">IsExist</span><span class="op" id="2203981">(</span><span class="ident" id="2203982">err</span>&nbsp;<span class="builtintype" id="2203986">error</span><span class="op" id="2203991">)</span>&nbsp;<span class="builtintype" id="2203993">bool</span>&nbsp;<span class="op" id="2203998">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2204001">return</span>&nbsp;<span class="ident" id="2204008">isExist</span><span class="op" id="2204015">(</span><span class="ident" id="2204016">err</span><span class="op" id="2204019">)</span><br>
<span class="lineno"></span><span class="op" id="2204021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2204024">//&nbsp;IsNotExist&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2204097">//&nbsp;report&nbsp;that&nbsp;a&nbsp;file&nbsp;or&nbsp;directory&nbsp;does&nbsp;not&nbsp;exist.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by</span><br>
<span class="lineno">55</span><span class="comment" id="2204167">//&nbsp;ErrNotExist&nbsp;as&nbsp;well&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2204214">func</span>&nbsp;<span class="ident" id="2204219">IsNotExist</span><span class="op" id="2204229">(</span><span class="ident" id="2204230">err</span>&nbsp;<span class="builtintype" id="2204234">error</span><span class="op" id="2204239">)</span>&nbsp;<span class="builtintype" id="2204241">bool</span>&nbsp;<span class="op" id="2204246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2204249">return</span>&nbsp;<span class="ident" id="2204256">isNotExist</span><span class="op" id="2204266">(</span><span class="ident" id="2204267">err</span><span class="op" id="2204270">)</span><br>
<span class="lineno"></span><span class="op" id="2204272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="2204275">//&nbsp;IsPermission&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2204350">//&nbsp;report&nbsp;that&nbsp;permission&nbsp;is&nbsp;denied.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by&nbsp;ErrPermission&nbsp;as&nbsp;well</span><br>
<span class="lineno"></span><span class="comment" id="2204428">//&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2204455">func</span>&nbsp;<span class="ident" id="2204460">IsPermission</span><span class="op" id="2204472">(</span><span class="ident" id="2204473">err</span>&nbsp;<span class="builtintype" id="2204477">error</span><span class="op" id="2204482">)</span>&nbsp;<span class="builtintype" id="2204484">bool</span>&nbsp;<span class="op" id="2204489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2204492">return</span>&nbsp;<span class="ident" id="2204499">isPermission</span><span class="op" id="2204511">(</span><span class="ident" id="2204512">err</span><span class="op" id="2204515">)</span><br>
<span class="lineno">65</span><span class="op" id="2204517">}</span>
</div>
</body>
</html>
