<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>bytes</h2>
<ul>
<li><a href="/gostd/bytes/buffer.go.html">buffer.go</a></li>
<li><a href="/gostd/bytes/buffer_test.go.html">buffer_test.go</a></li>
<li><a href="/gostd/bytes/bytes.go.html">bytes.go</a></li>
<li><a href="/gostd/bytes/bytes_decl.go.html">bytes_decl.go</a></li>
<li><a href="/gostd/bytes/bytes_test.go.html">bytes_test.go</a></li>
<li><a href="/gostd/bytes/compare_test.go.html" class="current">compare_test.go</a></li>
<li><a href="/gostd/bytes/equal_test.go.html">equal_test.go</a></li>
<li><a href="/gostd/bytes/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/bytes/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/bytes/reader.go.html">reader.go</a></li>
<li><a href="/gostd/bytes/reader_test.go.html">reader_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="100292">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="100347">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="100401">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="100452">package</span>&nbsp;<span class="ident" id="100460">bytes_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="100472">import</span>&nbsp;<span class="op" id="100479">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100482">.</span>&nbsp;<span class="string" id="100484">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="100493">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="100503">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="100506">var</span>&nbsp;<span class="ident" id="100510">compareTests</span>&nbsp;<span class="op" id="100523">=</span>&nbsp;<span class="op" id="100525">[</span><span class="op" id="100526">]</span><span class="keyword" id="100527">struct</span>&nbsp;<span class="op" id="100534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="100537">a</span><span class="op" id="100538">,</span>&nbsp;<span class="ident" id="100540">b</span>&nbsp;<span class="op" id="100542">[</span><span class="op" id="100543">]</span><span class="builtintype" id="100544">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="100550">i</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="100555">int</span><br>
<span class="lineno">15</span><span class="op" id="100559">}</span><span class="op" id="100560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100563">{</span><span class="op" id="100564">[</span><span class="op" id="100565">]</span><span class="builtintype" id="100566">byte</span><span class="op" id="100570">(</span><span class="string" id="100571">&#34;&#34;</span><span class="op" id="100573">)</span><span class="op" id="100574">,</span>&nbsp;<span class="op" id="100576">[</span><span class="op" id="100577">]</span><span class="builtintype" id="100578">byte</span><span class="op" id="100582">(</span><span class="string" id="100583">&#34;&#34;</span><span class="op" id="100585">)</span><span class="op" id="100586">,</span>&nbsp;<span class="num" id="100588">0</span><span class="op" id="100589">}</span><span class="op" id="100590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100593">{</span><span class="op" id="100594">[</span><span class="op" id="100595">]</span><span class="builtintype" id="100596">byte</span><span class="op" id="100600">(</span><span class="string" id="100601">&#34;a&#34;</span><span class="op" id="100604">)</span><span class="op" id="100605">,</span>&nbsp;<span class="op" id="100607">[</span><span class="op" id="100608">]</span><span class="builtintype" id="100609">byte</span><span class="op" id="100613">(</span><span class="string" id="100614">&#34;&#34;</span><span class="op" id="100616">)</span><span class="op" id="100617">,</span>&nbsp;<span class="num" id="100619">1</span><span class="op" id="100620">}</span><span class="op" id="100621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100624">{</span><span class="op" id="100625">[</span><span class="op" id="100626">]</span><span class="builtintype" id="100627">byte</span><span class="op" id="100631">(</span><span class="string" id="100632">&#34;&#34;</span><span class="op" id="100634">)</span><span class="op" id="100635">,</span>&nbsp;<span class="op" id="100637">[</span><span class="op" id="100638">]</span><span class="builtintype" id="100639">byte</span><span class="op" id="100643">(</span><span class="string" id="100644">&#34;a&#34;</span><span class="op" id="100647">)</span><span class="op" id="100648">,</span>&nbsp;<span class="op" id="100650">-</span><span class="num" id="100651">1</span><span class="op" id="100652">}</span><span class="op" id="100653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100656">{</span><span class="op" id="100657">[</span><span class="op" id="100658">]</span><span class="builtintype" id="100659">byte</span><span class="op" id="100663">(</span><span class="string" id="100664">&#34;abc&#34;</span><span class="op" id="100669">)</span><span class="op" id="100670">,</span>&nbsp;<span class="op" id="100672">[</span><span class="op" id="100673">]</span><span class="builtintype" id="100674">byte</span><span class="op" id="100678">(</span><span class="string" id="100679">&#34;abc&#34;</span><span class="op" id="100684">)</span><span class="op" id="100685">,</span>&nbsp;<span class="num" id="100687">0</span><span class="op" id="100688">}</span><span class="op" id="100689">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100692">{</span><span class="op" id="100693">[</span><span class="op" id="100694">]</span><span class="builtintype" id="100695">byte</span><span class="op" id="100699">(</span><span class="string" id="100700">&#34;ab&#34;</span><span class="op" id="100704">)</span><span class="op" id="100705">,</span>&nbsp;<span class="op" id="100707">[</span><span class="op" id="100708">]</span><span class="builtintype" id="100709">byte</span><span class="op" id="100713">(</span><span class="string" id="100714">&#34;abc&#34;</span><span class="op" id="100719">)</span><span class="op" id="100720">,</span>&nbsp;<span class="op" id="100722">-</span><span class="num" id="100723">1</span><span class="op" id="100724">}</span><span class="op" id="100725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100728">{</span><span class="op" id="100729">[</span><span class="op" id="100730">]</span><span class="builtintype" id="100731">byte</span><span class="op" id="100735">(</span><span class="string" id="100736">&#34;abc&#34;</span><span class="op" id="100741">)</span><span class="op" id="100742">,</span>&nbsp;<span class="op" id="100744">[</span><span class="op" id="100745">]</span><span class="builtintype" id="100746">byte</span><span class="op" id="100750">(</span><span class="string" id="100751">&#34;ab&#34;</span><span class="op" id="100755">)</span><span class="op" id="100756">,</span>&nbsp;<span class="num" id="100758">1</span><span class="op" id="100759">}</span><span class="op" id="100760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100763">{</span><span class="op" id="100764">[</span><span class="op" id="100765">]</span><span class="builtintype" id="100766">byte</span><span class="op" id="100770">(</span><span class="string" id="100771">&#34;x&#34;</span><span class="op" id="100774">)</span><span class="op" id="100775">,</span>&nbsp;<span class="op" id="100777">[</span><span class="op" id="100778">]</span><span class="builtintype" id="100779">byte</span><span class="op" id="100783">(</span><span class="string" id="100784">&#34;ab&#34;</span><span class="op" id="100788">)</span><span class="op" id="100789">,</span>&nbsp;<span class="num" id="100791">1</span><span class="op" id="100792">}</span><span class="op" id="100793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100796">{</span><span class="op" id="100797">[</span><span class="op" id="100798">]</span><span class="builtintype" id="100799">byte</span><span class="op" id="100803">(</span><span class="string" id="100804">&#34;ab&#34;</span><span class="op" id="100808">)</span><span class="op" id="100809">,</span>&nbsp;<span class="op" id="100811">[</span><span class="op" id="100812">]</span><span class="builtintype" id="100813">byte</span><span class="op" id="100817">(</span><span class="string" id="100818">&#34;x&#34;</span><span class="op" id="100821">)</span><span class="op" id="100822">,</span>&nbsp;<span class="op" id="100824">-</span><span class="num" id="100825">1</span><span class="op" id="100826">}</span><span class="op" id="100827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100830">{</span><span class="op" id="100831">[</span><span class="op" id="100832">]</span><span class="builtintype" id="100833">byte</span><span class="op" id="100837">(</span><span class="string" id="100838">&#34;x&#34;</span><span class="op" id="100841">)</span><span class="op" id="100842">,</span>&nbsp;<span class="op" id="100844">[</span><span class="op" id="100845">]</span><span class="builtintype" id="100846">byte</span><span class="op" id="100850">(</span><span class="string" id="100851">&#34;a&#34;</span><span class="op" id="100854">)</span><span class="op" id="100855">,</span>&nbsp;<span class="num" id="100857">1</span><span class="op" id="100858">}</span><span class="op" id="100859">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100862">{</span><span class="op" id="100863">[</span><span class="op" id="100864">]</span><span class="builtintype" id="100865">byte</span><span class="op" id="100869">(</span><span class="string" id="100870">&#34;b&#34;</span><span class="op" id="100873">)</span><span class="op" id="100874">,</span>&nbsp;<span class="op" id="100876">[</span><span class="op" id="100877">]</span><span class="builtintype" id="100878">byte</span><span class="op" id="100882">(</span><span class="string" id="100883">&#34;x&#34;</span><span class="op" id="100886">)</span><span class="op" id="100887">,</span>&nbsp;<span class="op" id="100889">-</span><span class="num" id="100890">1</span><span class="op" id="100891">}</span><span class="op" id="100892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="100895">//&nbsp;test&nbsp;runtime·memeq&#39;s&nbsp;chunked&nbsp;implementation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100944">{</span><span class="op" id="100945">[</span><span class="op" id="100946">]</span><span class="builtintype" id="100947">byte</span><span class="op" id="100951">(</span><span class="string" id="100952">&#34;abcdefgh&#34;</span><span class="op" id="100962">)</span><span class="op" id="100963">,</span>&nbsp;<span class="op" id="100965">[</span><span class="op" id="100966">]</span><span class="builtintype" id="100967">byte</span><span class="op" id="100971">(</span><span class="string" id="100972">&#34;abcdefgh&#34;</span><span class="op" id="100982">)</span><span class="op" id="100983">,</span>&nbsp;<span class="num" id="100985">0</span><span class="op" id="100986">}</span><span class="op" id="100987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100990">{</span><span class="op" id="100991">[</span><span class="op" id="100992">]</span><span class="builtintype" id="100993">byte</span><span class="op" id="100997">(</span><span class="string" id="100998">&#34;abcdefghi&#34;</span><span class="op" id="101009">)</span><span class="op" id="101010">,</span>&nbsp;<span class="op" id="101012">[</span><span class="op" id="101013">]</span><span class="builtintype" id="101014">byte</span><span class="op" id="101018">(</span><span class="string" id="101019">&#34;abcdefghi&#34;</span><span class="op" id="101030">)</span><span class="op" id="101031">,</span>&nbsp;<span class="num" id="101033">0</span><span class="op" id="101034">}</span><span class="op" id="101035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101038">{</span><span class="op" id="101039">[</span><span class="op" id="101040">]</span><span class="builtintype" id="101041">byte</span><span class="op" id="101045">(</span><span class="string" id="101046">&#34;abcdefghi&#34;</span><span class="op" id="101057">)</span><span class="op" id="101058">,</span>&nbsp;<span class="op" id="101060">[</span><span class="op" id="101061">]</span><span class="builtintype" id="101062">byte</span><span class="op" id="101066">(</span><span class="string" id="101067">&#34;abcdefghj&#34;</span><span class="op" id="101078">)</span><span class="op" id="101079">,</span>&nbsp;<span class="op" id="101081">-</span><span class="num" id="101082">1</span><span class="op" id="101083">}</span><span class="op" id="101084">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="101087">//&nbsp;nil&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101101">{</span><span class="ident" id="101102">nil</span><span class="op" id="101105">,</span>&nbsp;<span class="ident" id="101107">nil</span><span class="op" id="101110">,</span>&nbsp;<span class="num" id="101112">0</span><span class="op" id="101113">}</span><span class="op" id="101114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101117">{</span><span class="op" id="101118">[</span><span class="op" id="101119">]</span><span class="builtintype" id="101120">byte</span><span class="op" id="101124">(</span><span class="string" id="101125">&#34;&#34;</span><span class="op" id="101127">)</span><span class="op" id="101128">,</span>&nbsp;<span class="ident" id="101130">nil</span><span class="op" id="101133">,</span>&nbsp;<span class="num" id="101135">0</span><span class="op" id="101136">}</span><span class="op" id="101137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101140">{</span><span class="ident" id="101141">nil</span><span class="op" id="101144">,</span>&nbsp;<span class="op" id="101146">[</span><span class="op" id="101147">]</span><span class="builtintype" id="101148">byte</span><span class="op" id="101152">(</span><span class="string" id="101153">&#34;&#34;</span><span class="op" id="101155">)</span><span class="op" id="101156">,</span>&nbsp;<span class="num" id="101158">0</span><span class="op" id="101159">}</span><span class="op" id="101160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101163">{</span><span class="op" id="101164">[</span><span class="op" id="101165">]</span><span class="builtintype" id="101166">byte</span><span class="op" id="101170">(</span><span class="string" id="101171">&#34;a&#34;</span><span class="op" id="101174">)</span><span class="op" id="101175">,</span>&nbsp;<span class="ident" id="101177">nil</span><span class="op" id="101180">,</span>&nbsp;<span class="num" id="101182">1</span><span class="op" id="101183">}</span><span class="op" id="101184">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101187">{</span><span class="ident" id="101188">nil</span><span class="op" id="101191">,</span>&nbsp;<span class="op" id="101193">[</span><span class="op" id="101194">]</span><span class="builtintype" id="101195">byte</span><span class="op" id="101199">(</span><span class="string" id="101200">&#34;a&#34;</span><span class="op" id="101203">)</span><span class="op" id="101204">,</span>&nbsp;<span class="op" id="101206">-</span><span class="num" id="101207">1</span><span class="op" id="101208">}</span><span class="op" id="101209">,</span><br>
<span class="lineno"></span><span class="op" id="101211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="101214">func</span>&nbsp;<span class="ident" id="101219">TestCompare</span><span class="op" id="101230">(</span><span class="ident" id="101231">t</span>&nbsp;<span class="op" id="101233">*</span><span class="ident" id="101234">testing</span><span class="op" id="101241">.</span><span class="ident" id="101242">T</span><span class="op" id="101243">)</span>&nbsp;<span class="op" id="101245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="101248">for</span>&nbsp;<span class="ident" id="101252">_</span><span class="op" id="101253">,</span>&nbsp;<span class="ident" id="101255">tt</span>&nbsp;<span class="op" id="101258">:=</span>&nbsp;<span class="keyword" id="101261">range</span>&nbsp;<span class="ident" id="101267">compareTests</span>&nbsp;<span class="op" id="101280">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101284">cmp</span>&nbsp;<span class="op" id="101288">:=</span>&nbsp;<span class="ident" id="101291">Compare</span><span class="op" id="101298">(</span><span class="ident" id="101299">tt</span><span class="op" id="101301">.</span><span class="ident" id="101302">a</span><span class="op" id="101303">,</span>&nbsp;<span class="ident" id="101305">tt</span><span class="op" id="101307">.</span><span class="ident" id="101308">b</span><span class="op" id="101309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="101313">if</span>&nbsp;<span class="ident" id="101316">cmp</span>&nbsp;<span class="op" id="101320">!=</span>&nbsp;<span class="ident" id="101323">tt</span><span class="op" id="101325">.</span><span class="ident" id="101326">i</span>&nbsp;<span class="op" id="101328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101333">t</span><span class="op" id="101334">.</span><span class="ident" id="101335">Errorf</span><span class="op" id="101341">(</span><span class="string" id="101342">`Compare(%q,&nbsp;%q)&nbsp;=&nbsp;%v`</span><span class="op" id="101364">,</span>&nbsp;<span class="ident" id="101366">tt</span><span class="op" id="101368">.</span><span class="ident" id="101369">a</span><span class="op" id="101370">,</span>&nbsp;<span class="ident" id="101372">tt</span><span class="op" id="101374">.</span><span class="ident" id="101375">b</span><span class="op" id="101376">,</span>&nbsp;<span class="ident" id="101378">cmp</span><span class="op" id="101381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101388">}</span><br>
<span class="lineno">45</span><span class="op" id="101390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="101393">func</span>&nbsp;<span class="ident" id="101398">TestCompareIdenticalSlice</span><span class="op" id="101423">(</span><span class="ident" id="101424">t</span>&nbsp;<span class="op" id="101426">*</span><span class="ident" id="101427">testing</span><span class="op" id="101434">.</span><span class="ident" id="101435">T</span><span class="op" id="101436">)</span>&nbsp;<span class="op" id="101438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="101441">var</span>&nbsp;<span class="ident" id="101445">b</span>&nbsp;<span class="op" id="101447">=</span>&nbsp;<span class="op" id="101449">[</span><span class="op" id="101450">]</span><span class="builtintype" id="101451">byte</span><span class="op" id="101455">(</span><span class="string" id="101456">&#34;Hello&nbsp;Gophers!&#34;</span><span class="op" id="101472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="101475">if</span>&nbsp;<span class="ident" id="101478">Compare</span><span class="op" id="101485">(</span><span class="ident" id="101486">b</span><span class="op" id="101487">,</span>&nbsp;<span class="ident" id="101489">b</span><span class="op" id="101490">)</span>&nbsp;<span class="op" id="101492">!=</span>&nbsp;<span class="num" id="101495">0</span>&nbsp;<span class="op" id="101497">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101501">t</span><span class="op" id="101502">.</span><span class="ident" id="101503">Error</span><span class="op" id="101508">(</span><span class="string" id="101509">&#34;b&nbsp;!=&nbsp;b&#34;</span><span class="op" id="101517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="101523">if</span>&nbsp;<span class="ident" id="101526">Compare</span><span class="op" id="101533">(</span><span class="ident" id="101534">b</span><span class="op" id="101535">,</span>&nbsp;<span class="ident" id="101537">b</span><span class="op" id="101538">[</span><span class="op" id="101539">:</span><span class="num" id="101540">1</span><span class="op" id="101541">]</span><span class="op" id="101542">)</span>&nbsp;<span class="op" id="101544">!=</span>&nbsp;<span class="num" id="101547">1</span>&nbsp;<span class="op" id="101549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101553">t</span><span class="op" id="101554">.</span><span class="ident" id="101555">Error</span><span class="op" id="101560">(</span><span class="string" id="101561">&#34;b&nbsp;&gt;&nbsp;b[:1]&nbsp;failed&#34;</span><span class="op" id="101579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101582">}</span><br>
<span class="lineno">55</span><span class="op" id="101584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="101587">func</span>&nbsp;<span class="ident" id="101592">TestCompareBytes</span><span class="op" id="101608">(</span><span class="ident" id="101609">t</span>&nbsp;<span class="op" id="101611">*</span><span class="ident" id="101612">testing</span><span class="op" id="101619">.</span><span class="ident" id="101620">T</span><span class="op" id="101621">)</span>&nbsp;<span class="op" id="101623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101626">n</span>&nbsp;<span class="op" id="101628">:=</span>&nbsp;<span class="num" id="101631">128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101636">a</span>&nbsp;<span class="op" id="101638">:=</span>&nbsp;<span class="builtinfunc" id="101641">make</span><span class="op" id="101645">(</span><span class="op" id="101646">[</span><span class="op" id="101647">]</span><span class="builtintype" id="101648">byte</span><span class="op" id="101652">,</span>&nbsp;<span class="ident" id="101654">n</span><span class="op" id="101655">+</span><span class="num" id="101656">1</span><span class="op" id="101657">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101660">b</span>&nbsp;<span class="op" id="101662">:=</span>&nbsp;<span class="builtinfunc" id="101665">make</span><span class="op" id="101669">(</span><span class="op" id="101670">[</span><span class="op" id="101671">]</span><span class="builtintype" id="101672">byte</span><span class="op" id="101676">,</span>&nbsp;<span class="ident" id="101678">n</span><span class="op" id="101679">+</span><span class="num" id="101680">1</span><span class="op" id="101681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="101684">for</span>&nbsp;<span class="builtinfunc" id="101688">len</span>&nbsp;<span class="op" id="101692">:=</span>&nbsp;<span class="num" id="101695">0</span><span class="op" id="101696">;</span>&nbsp;<span class="builtinfunc" id="101698">len</span>&nbsp;<span class="op" id="101702">&lt;</span>&nbsp;<span class="num" id="101704">128</span><span class="op" id="101707">;</span>&nbsp;<span class="builtinfunc" id="101709">len</span><span class="op" id="101712">++</span>&nbsp;<span class="op" id="101715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="101719">//&nbsp;randomish&nbsp;but&nbsp;deterministic&nbsp;data.&nbsp;&nbsp;No&nbsp;0&nbsp;or&nbsp;255.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="101772">for</span>&nbsp;<span class="ident" id="101776">i</span>&nbsp;<span class="op" id="101778">:=</span>&nbsp;<span class="num" id="101781">0</span><span class="op" id="101782">;</span>&nbsp;<span class="ident" id="101784">i</span>&nbsp;<span class="op" id="101786">&lt;</span>&nbsp;<span class="builtinfunc" id="101788">len</span><span class="op" id="101791">;</span>&nbsp;<span class="ident" id="101793">i</span><span class="op" id="101794">++</span>&nbsp;<span class="op" id="101797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101802">a</span><span class="op" id="101803">[</span><span class="ident" id="101804">i</span><span class="op" id="101805">]</span>&nbsp;<span class="op" id="101807">=</span>&nbsp;<span class="builtintype" id="101809">byte</span><span class="op" id="101813">(</span><span class="num" id="101814">1</span>&nbsp;<span class="op" id="101816">+</span>&nbsp;<span class="num" id="101818">31</span><span class="op" id="101820">*</span><span class="ident" id="101821">i</span><span class="op" id="101822">%</span><span class="num" id="101823">254</span><span class="op" id="101826">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101831">b</span><span class="op" id="101832">[</span><span class="ident" id="101833">i</span><span class="op" id="101834">]</span>&nbsp;<span class="op" id="101836">=</span>&nbsp;<span class="builtintype" id="101838">byte</span><span class="op" id="101842">(</span><span class="num" id="101843">1</span>&nbsp;<span class="op" id="101845">+</span>&nbsp;<span class="num" id="101847">31</span><span class="op" id="101849">*</span><span class="ident" id="101850">i</span><span class="op" id="101851">%</span><span class="num" id="101852">254</span><span class="op" id="101855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="101863">//&nbsp;data&nbsp;past&nbsp;the&nbsp;end&nbsp;is&nbsp;different</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="101899">for</span>&nbsp;<span class="ident" id="101903">i</span>&nbsp;<span class="op" id="101905">:=</span>&nbsp;<span class="builtinfunc" id="101908">len</span><span class="op" id="101911">;</span>&nbsp;<span class="ident" id="101913">i</span>&nbsp;<span class="op" id="101915">&lt;=</span>&nbsp;<span class="ident" id="101918">n</span><span class="op" id="101919">;</span>&nbsp;<span class="ident" id="101921">i</span><span class="op" id="101922">++</span>&nbsp;<span class="op" id="101925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101930">a</span><span class="op" id="101931">[</span><span class="ident" id="101932">i</span><span class="op" id="101933">]</span>&nbsp;<span class="op" id="101935">=</span>&nbsp;<span class="num" id="101937">8</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101942">b</span><span class="op" id="101943">[</span><span class="ident" id="101944">i</span><span class="op" id="101945">]</span>&nbsp;<span class="op" id="101947">=</span>&nbsp;<span class="num" id="101949">9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="101953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="101957">cmp</span>&nbsp;<span class="op" id="101961">:=</span>&nbsp;<span class="ident" id="101964">Compare</span><span class="op" id="101971">(</span><span class="ident" id="101972">a</span><span class="op" id="101973">[</span><span class="op" id="101974">:</span><span class="builtinfunc" id="101975">len</span><span class="op" id="101978">]</span><span class="op" id="101979">,</span>&nbsp;<span class="ident" id="101981">b</span><span class="op" id="101982">[</span><span class="op" id="101983">:</span><span class="builtinfunc" id="101984">len</span><span class="op" id="101987">]</span><span class="op" id="101988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="101992">if</span>&nbsp;<span class="ident" id="101995">cmp</span>&nbsp;<span class="op" id="101999">!=</span>&nbsp;<span class="num" id="102002">0</span>&nbsp;<span class="op" id="102004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102009">t</span><span class="op" id="102010">.</span><span class="ident" id="102011">Errorf</span><span class="op" id="102017">(</span><span class="string" id="102018">`CompareIdentical(%d)&nbsp;=&nbsp;%d`</span><span class="op" id="102045">,</span>&nbsp;<span class="builtinfunc" id="102047">len</span><span class="op" id="102050">,</span>&nbsp;<span class="ident" id="102052">cmp</span><span class="op" id="102055">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="102059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102063">if</span>&nbsp;<span class="builtinfunc" id="102066">len</span>&nbsp;<span class="op" id="102070">&gt;</span>&nbsp;<span class="num" id="102072">0</span>&nbsp;<span class="op" id="102074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102079">cmp</span>&nbsp;<span class="op" id="102083">=</span>&nbsp;<span class="ident" id="102085">Compare</span><span class="op" id="102092">(</span><span class="ident" id="102093">a</span><span class="op" id="102094">[</span><span class="op" id="102095">:</span><span class="builtinfunc" id="102096">len</span><span class="op" id="102099">-</span><span class="num" id="102100">1</span><span class="op" id="102101">]</span><span class="op" id="102102">,</span>&nbsp;<span class="ident" id="102104">b</span><span class="op" id="102105">[</span><span class="op" id="102106">:</span><span class="builtinfunc" id="102107">len</span><span class="op" id="102110">]</span><span class="op" id="102111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102116">if</span>&nbsp;<span class="ident" id="102119">cmp</span>&nbsp;<span class="op" id="102123">!=</span>&nbsp;<span class="op" id="102126">-</span><span class="num" id="102127">1</span>&nbsp;<span class="op" id="102129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102135">t</span><span class="op" id="102136">.</span><span class="ident" id="102137">Errorf</span><span class="op" id="102143">(</span><span class="string" id="102144">`CompareAshorter(%d)&nbsp;=&nbsp;%d`</span><span class="op" id="102170">,</span>&nbsp;<span class="builtinfunc" id="102172">len</span><span class="op" id="102175">,</span>&nbsp;<span class="ident" id="102177">cmp</span><span class="op" id="102180">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="102185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102190">cmp</span>&nbsp;<span class="op" id="102194">=</span>&nbsp;<span class="ident" id="102196">Compare</span><span class="op" id="102203">(</span><span class="ident" id="102204">a</span><span class="op" id="102205">[</span><span class="op" id="102206">:</span><span class="builtinfunc" id="102207">len</span><span class="op" id="102210">]</span><span class="op" id="102211">,</span>&nbsp;<span class="ident" id="102213">b</span><span class="op" id="102214">[</span><span class="op" id="102215">:</span><span class="builtinfunc" id="102216">len</span><span class="op" id="102219">-</span><span class="num" id="102220">1</span><span class="op" id="102221">]</span><span class="op" id="102222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102227">if</span>&nbsp;<span class="ident" id="102230">cmp</span>&nbsp;<span class="op" id="102234">!=</span>&nbsp;<span class="num" id="102237">1</span>&nbsp;<span class="op" id="102239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102245">t</span><span class="op" id="102246">.</span><span class="ident" id="102247">Errorf</span><span class="op" id="102253">(</span><span class="string" id="102254">`CompareBshorter(%d)&nbsp;=&nbsp;%d`</span><span class="op" id="102280">,</span>&nbsp;<span class="builtinfunc" id="102282">len</span><span class="op" id="102285">,</span>&nbsp;<span class="ident" id="102287">cmp</span><span class="op" id="102290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="102295">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="102299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102303">for</span>&nbsp;<span class="ident" id="102307">k</span>&nbsp;<span class="op" id="102309">:=</span>&nbsp;<span class="num" id="102312">0</span><span class="op" id="102313">;</span>&nbsp;<span class="ident" id="102315">k</span>&nbsp;<span class="op" id="102317">&lt;</span>&nbsp;<span class="builtinfunc" id="102319">len</span><span class="op" id="102322">;</span>&nbsp;<span class="ident" id="102324">k</span><span class="op" id="102325">++</span>&nbsp;<span class="op" id="102328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102333">b</span><span class="op" id="102334">[</span><span class="ident" id="102335">k</span><span class="op" id="102336">]</span>&nbsp;<span class="op" id="102338">=</span>&nbsp;<span class="ident" id="102340">a</span><span class="op" id="102341">[</span><span class="ident" id="102342">k</span><span class="op" id="102343">]</span>&nbsp;<span class="op" id="102345">-</span>&nbsp;<span class="num" id="102347">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102352">cmp</span>&nbsp;<span class="op" id="102356">=</span>&nbsp;<span class="ident" id="102358">Compare</span><span class="op" id="102365">(</span><span class="ident" id="102366">a</span><span class="op" id="102367">[</span><span class="op" id="102368">:</span><span class="builtinfunc" id="102369">len</span><span class="op" id="102372">]</span><span class="op" id="102373">,</span>&nbsp;<span class="ident" id="102375">b</span><span class="op" id="102376">[</span><span class="op" id="102377">:</span><span class="builtinfunc" id="102378">len</span><span class="op" id="102381">]</span><span class="op" id="102382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102387">if</span>&nbsp;<span class="ident" id="102390">cmp</span>&nbsp;<span class="op" id="102394">!=</span>&nbsp;<span class="num" id="102397">1</span>&nbsp;<span class="op" id="102399">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102405">t</span><span class="op" id="102406">.</span><span class="ident" id="102407">Errorf</span><span class="op" id="102413">(</span><span class="string" id="102414">`CompareAbigger(%d,%d)&nbsp;=&nbsp;%d`</span><span class="op" id="102442">,</span>&nbsp;<span class="builtinfunc" id="102444">len</span><span class="op" id="102447">,</span>&nbsp;<span class="ident" id="102449">k</span><span class="op" id="102450">,</span>&nbsp;<span class="ident" id="102452">cmp</span><span class="op" id="102455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="102460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102465">b</span><span class="op" id="102466">[</span><span class="ident" id="102467">k</span><span class="op" id="102468">]</span>&nbsp;<span class="op" id="102470">=</span>&nbsp;<span class="ident" id="102472">a</span><span class="op" id="102473">[</span><span class="ident" id="102474">k</span><span class="op" id="102475">]</span>&nbsp;<span class="op" id="102477">+</span>&nbsp;<span class="num" id="102479">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102484">cmp</span>&nbsp;<span class="op" id="102488">=</span>&nbsp;<span class="ident" id="102490">Compare</span><span class="op" id="102497">(</span><span class="ident" id="102498">a</span><span class="op" id="102499">[</span><span class="op" id="102500">:</span><span class="builtinfunc" id="102501">len</span><span class="op" id="102504">]</span><span class="op" id="102505">,</span>&nbsp;<span class="ident" id="102507">b</span><span class="op" id="102508">[</span><span class="op" id="102509">:</span><span class="builtinfunc" id="102510">len</span><span class="op" id="102513">]</span><span class="op" id="102514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102519">if</span>&nbsp;<span class="ident" id="102522">cmp</span>&nbsp;<span class="op" id="102526">!=</span>&nbsp;<span class="op" id="102529">-</span><span class="num" id="102530">1</span>&nbsp;<span class="op" id="102532">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102538">t</span><span class="op" id="102539">.</span><span class="ident" id="102540">Errorf</span><span class="op" id="102546">(</span><span class="string" id="102547">`CompareBbigger(%d,%d)&nbsp;=&nbsp;%d`</span><span class="op" id="102575">,</span>&nbsp;<span class="builtinfunc" id="102577">len</span><span class="op" id="102580">,</span>&nbsp;<span class="ident" id="102582">k</span><span class="op" id="102583">,</span>&nbsp;<span class="ident" id="102585">cmp</span><span class="op" id="102588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="102593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102598">b</span><span class="op" id="102599">[</span><span class="ident" id="102600">k</span><span class="op" id="102601">]</span>&nbsp;<span class="op" id="102603">=</span>&nbsp;<span class="ident" id="102605">a</span><span class="op" id="102606">[</span><span class="ident" id="102607">k</span><span class="op" id="102608">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="102612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="102615">}</span><br>
<span class="lineno">100</span><span class="op" id="102617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="102620">func</span>&nbsp;<span class="ident" id="102625">BenchmarkCompareBytesEqual</span><span class="op" id="102651">(</span><span class="ident" id="102652">b</span>&nbsp;<span class="op" id="102654">*</span><span class="ident" id="102655">testing</span><span class="op" id="102662">.</span><span class="ident" id="102663">B</span><span class="op" id="102664">)</span>&nbsp;<span class="op" id="102666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102669">b1</span>&nbsp;<span class="op" id="102672">:=</span>&nbsp;<span class="op" id="102675">[</span><span class="op" id="102676">]</span><span class="builtintype" id="102677">byte</span><span class="op" id="102681">(</span><span class="string" id="102682">&#34;Hello&nbsp;Gophers!&#34;</span><span class="op" id="102698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102701">b2</span>&nbsp;<span class="op" id="102704">:=</span>&nbsp;<span class="op" id="102707">[</span><span class="op" id="102708">]</span><span class="builtintype" id="102709">byte</span><span class="op" id="102713">(</span><span class="string" id="102714">&#34;Hello&nbsp;Gophers!&#34;</span><span class="op" id="102730">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102733">for</span>&nbsp;<span class="ident" id="102737">i</span>&nbsp;<span class="op" id="102739">:=</span>&nbsp;<span class="num" id="102742">0</span><span class="op" id="102743">;</span>&nbsp;<span class="ident" id="102745">i</span>&nbsp;<span class="op" id="102747">&lt;</span>&nbsp;<span class="ident" id="102749">b</span><span class="op" id="102750">.</span><span class="ident" id="102751">N</span><span class="op" id="102752">;</span>&nbsp;<span class="ident" id="102754">i</span><span class="op" id="102755">++</span>&nbsp;<span class="op" id="102758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102762">if</span>&nbsp;<span class="ident" id="102765">Compare</span><span class="op" id="102772">(</span><span class="ident" id="102773">b1</span><span class="op" id="102775">,</span>&nbsp;<span class="ident" id="102777">b2</span><span class="op" id="102779">)</span>&nbsp;<span class="op" id="102781">!=</span>&nbsp;<span class="num" id="102784">0</span>&nbsp;<span class="op" id="102786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102791">b</span><span class="op" id="102792">.</span><span class="ident" id="102793">Fatal</span><span class="op" id="102798">(</span><span class="string" id="102799">&#34;b1&nbsp;!=&nbsp;b2&#34;</span><span class="op" id="102809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="102813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="102816">}</span><br>
<span class="lineno">110</span><span class="op" id="102818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="102821">func</span>&nbsp;<span class="ident" id="102826">BenchmarkCompareBytesToNil</span><span class="op" id="102852">(</span><span class="ident" id="102853">b</span>&nbsp;<span class="op" id="102855">*</span><span class="ident" id="102856">testing</span><span class="op" id="102863">.</span><span class="ident" id="102864">B</span><span class="op" id="102865">)</span>&nbsp;<span class="op" id="102867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102870">b1</span>&nbsp;<span class="op" id="102873">:=</span>&nbsp;<span class="op" id="102876">[</span><span class="op" id="102877">]</span><span class="builtintype" id="102878">byte</span><span class="op" id="102882">(</span><span class="string" id="102883">&#34;Hello&nbsp;Gophers!&#34;</span><span class="op" id="102899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102902">var</span>&nbsp;<span class="ident" id="102906">b2</span>&nbsp;<span class="op" id="102909">[</span><span class="op" id="102910">]</span><span class="builtintype" id="102911">byte</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102917">for</span>&nbsp;<span class="ident" id="102921">i</span>&nbsp;<span class="op" id="102923">:=</span>&nbsp;<span class="num" id="102926">0</span><span class="op" id="102927">;</span>&nbsp;<span class="ident" id="102929">i</span>&nbsp;<span class="op" id="102931">&lt;</span>&nbsp;<span class="ident" id="102933">b</span><span class="op" id="102934">.</span><span class="ident" id="102935">N</span><span class="op" id="102936">;</span>&nbsp;<span class="ident" id="102938">i</span><span class="op" id="102939">++</span>&nbsp;<span class="op" id="102942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="102946">if</span>&nbsp;<span class="ident" id="102949">Compare</span><span class="op" id="102956">(</span><span class="ident" id="102957">b1</span><span class="op" id="102959">,</span>&nbsp;<span class="ident" id="102961">b2</span><span class="op" id="102963">)</span>&nbsp;<span class="op" id="102965">!=</span>&nbsp;<span class="num" id="102968">1</span>&nbsp;<span class="op" id="102970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="102975">b</span><span class="op" id="102976">.</span><span class="ident" id="102977">Fatal</span><span class="op" id="102982">(</span><span class="string" id="102983">&#34;b1&nbsp;&gt;&nbsp;b2&nbsp;failed&#34;</span><span class="op" id="102999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103006">}</span><br>
<span class="lineno">120</span><span class="op" id="103008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="103011">func</span>&nbsp;<span class="ident" id="103016">BenchmarkCompareBytesEmpty</span><span class="op" id="103042">(</span><span class="ident" id="103043">b</span>&nbsp;<span class="op" id="103045">*</span><span class="ident" id="103046">testing</span><span class="op" id="103053">.</span><span class="ident" id="103054">B</span><span class="op" id="103055">)</span>&nbsp;<span class="op" id="103057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103060">b1</span>&nbsp;<span class="op" id="103063">:=</span>&nbsp;<span class="op" id="103066">[</span><span class="op" id="103067">]</span><span class="builtintype" id="103068">byte</span><span class="op" id="103072">(</span><span class="string" id="103073">&#34;&#34;</span><span class="op" id="103075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103078">b2</span>&nbsp;<span class="op" id="103081">:=</span>&nbsp;<span class="ident" id="103084">b1</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="103088">for</span>&nbsp;<span class="ident" id="103092">i</span>&nbsp;<span class="op" id="103094">:=</span>&nbsp;<span class="num" id="103097">0</span><span class="op" id="103098">;</span>&nbsp;<span class="ident" id="103100">i</span>&nbsp;<span class="op" id="103102">&lt;</span>&nbsp;<span class="ident" id="103104">b</span><span class="op" id="103105">.</span><span class="ident" id="103106">N</span><span class="op" id="103107">;</span>&nbsp;<span class="ident" id="103109">i</span><span class="op" id="103110">++</span>&nbsp;<span class="op" id="103113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="103117">if</span>&nbsp;<span class="ident" id="103120">Compare</span><span class="op" id="103127">(</span><span class="ident" id="103128">b1</span><span class="op" id="103130">,</span>&nbsp;<span class="ident" id="103132">b2</span><span class="op" id="103134">)</span>&nbsp;<span class="op" id="103136">!=</span>&nbsp;<span class="num" id="103139">0</span>&nbsp;<span class="op" id="103141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103146">b</span><span class="op" id="103147">.</span><span class="ident" id="103148">Fatal</span><span class="op" id="103153">(</span><span class="string" id="103154">&#34;b1&nbsp;!=&nbsp;b2&#34;</span><span class="op" id="103164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103171">}</span><br>
<span class="lineno">130</span><span class="op" id="103173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="103176">func</span>&nbsp;<span class="ident" id="103181">BenchmarkCompareBytesIdentical</span><span class="op" id="103211">(</span><span class="ident" id="103212">b</span>&nbsp;<span class="op" id="103214">*</span><span class="ident" id="103215">testing</span><span class="op" id="103222">.</span><span class="ident" id="103223">B</span><span class="op" id="103224">)</span>&nbsp;<span class="op" id="103226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103229">b1</span>&nbsp;<span class="op" id="103232">:=</span>&nbsp;<span class="op" id="103235">[</span><span class="op" id="103236">]</span><span class="builtintype" id="103237">byte</span><span class="op" id="103241">(</span><span class="string" id="103242">&#34;Hello&nbsp;Gophers!&#34;</span><span class="op" id="103258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103261">b2</span>&nbsp;<span class="op" id="103264">:=</span>&nbsp;<span class="ident" id="103267">b1</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="103271">for</span>&nbsp;<span class="ident" id="103275">i</span>&nbsp;<span class="op" id="103277">:=</span>&nbsp;<span class="num" id="103280">0</span><span class="op" id="103281">;</span>&nbsp;<span class="ident" id="103283">i</span>&nbsp;<span class="op" id="103285">&lt;</span>&nbsp;<span class="ident" id="103287">b</span><span class="op" id="103288">.</span><span class="ident" id="103289">N</span><span class="op" id="103290">;</span>&nbsp;<span class="ident" id="103292">i</span><span class="op" id="103293">++</span>&nbsp;<span class="op" id="103296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="103300">if</span>&nbsp;<span class="ident" id="103303">Compare</span><span class="op" id="103310">(</span><span class="ident" id="103311">b1</span><span class="op" id="103313">,</span>&nbsp;<span class="ident" id="103315">b2</span><span class="op" id="103317">)</span>&nbsp;<span class="op" id="103319">!=</span>&nbsp;<span class="num" id="103322">0</span>&nbsp;<span class="op" id="103324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103329">b</span><span class="op" id="103330">.</span><span class="ident" id="103331">Fatal</span><span class="op" id="103336">(</span><span class="string" id="103337">&#34;b1&nbsp;!=&nbsp;b2&#34;</span><span class="op" id="103347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103354">}</span><br>
<span class="lineno">140</span><span class="op" id="103356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="103359">func</span>&nbsp;<span class="ident" id="103364">BenchmarkCompareBytesSameLength</span><span class="op" id="103395">(</span><span class="ident" id="103396">b</span>&nbsp;<span class="op" id="103398">*</span><span class="ident" id="103399">testing</span><span class="op" id="103406">.</span><span class="ident" id="103407">B</span><span class="op" id="103408">)</span>&nbsp;<span class="op" id="103410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103413">b1</span>&nbsp;<span class="op" id="103416">:=</span>&nbsp;<span class="op" id="103419">[</span><span class="op" id="103420">]</span><span class="builtintype" id="103421">byte</span><span class="op" id="103425">(</span><span class="string" id="103426">&#34;Hello&nbsp;Gophers!&#34;</span><span class="op" id="103442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103445">b2</span>&nbsp;<span class="op" id="103448">:=</span>&nbsp;<span class="op" id="103451">[</span><span class="op" id="103452">]</span><span class="builtintype" id="103453">byte</span><span class="op" id="103457">(</span><span class="string" id="103458">&#34;Hello,&nbsp;Gophers&#34;</span><span class="op" id="103474">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="103477">for</span>&nbsp;<span class="ident" id="103481">i</span>&nbsp;<span class="op" id="103483">:=</span>&nbsp;<span class="num" id="103486">0</span><span class="op" id="103487">;</span>&nbsp;<span class="ident" id="103489">i</span>&nbsp;<span class="op" id="103491">&lt;</span>&nbsp;<span class="ident" id="103493">b</span><span class="op" id="103494">.</span><span class="ident" id="103495">N</span><span class="op" id="103496">;</span>&nbsp;<span class="ident" id="103498">i</span><span class="op" id="103499">++</span>&nbsp;<span class="op" id="103502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="103506">if</span>&nbsp;<span class="ident" id="103509">Compare</span><span class="op" id="103516">(</span><span class="ident" id="103517">b1</span><span class="op" id="103519">,</span>&nbsp;<span class="ident" id="103521">b2</span><span class="op" id="103523">)</span>&nbsp;<span class="op" id="103525">!=</span>&nbsp;<span class="op" id="103528">-</span><span class="num" id="103529">1</span>&nbsp;<span class="op" id="103531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103536">b</span><span class="op" id="103537">.</span><span class="ident" id="103538">Fatal</span><span class="op" id="103543">(</span><span class="string" id="103544">&#34;b1&nbsp;&lt;&nbsp;b2&nbsp;failed&#34;</span><span class="op" id="103560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103567">}</span><br>
<span class="lineno">150</span><span class="op" id="103569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="103572">func</span>&nbsp;<span class="ident" id="103577">BenchmarkCompareBytesDifferentLength</span><span class="op" id="103613">(</span><span class="ident" id="103614">b</span>&nbsp;<span class="op" id="103616">*</span><span class="ident" id="103617">testing</span><span class="op" id="103624">.</span><span class="ident" id="103625">B</span><span class="op" id="103626">)</span>&nbsp;<span class="op" id="103628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103631">b1</span>&nbsp;<span class="op" id="103634">:=</span>&nbsp;<span class="op" id="103637">[</span><span class="op" id="103638">]</span><span class="builtintype" id="103639">byte</span><span class="op" id="103643">(</span><span class="string" id="103644">&#34;Hello&nbsp;Gophers!&#34;</span><span class="op" id="103660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103663">b2</span>&nbsp;<span class="op" id="103666">:=</span>&nbsp;<span class="op" id="103669">[</span><span class="op" id="103670">]</span><span class="builtintype" id="103671">byte</span><span class="op" id="103675">(</span><span class="string" id="103676">&#34;Hello,&nbsp;Gophers!&#34;</span><span class="op" id="103693">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="103696">for</span>&nbsp;<span class="ident" id="103700">i</span>&nbsp;<span class="op" id="103702">:=</span>&nbsp;<span class="num" id="103705">0</span><span class="op" id="103706">;</span>&nbsp;<span class="ident" id="103708">i</span>&nbsp;<span class="op" id="103710">&lt;</span>&nbsp;<span class="ident" id="103712">b</span><span class="op" id="103713">.</span><span class="ident" id="103714">N</span><span class="op" id="103715">;</span>&nbsp;<span class="ident" id="103717">i</span><span class="op" id="103718">++</span>&nbsp;<span class="op" id="103721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="103725">if</span>&nbsp;<span class="ident" id="103728">Compare</span><span class="op" id="103735">(</span><span class="ident" id="103736">b1</span><span class="op" id="103738">,</span>&nbsp;<span class="ident" id="103740">b2</span><span class="op" id="103742">)</span>&nbsp;<span class="op" id="103744">!=</span>&nbsp;<span class="op" id="103747">-</span><span class="num" id="103748">1</span>&nbsp;<span class="op" id="103750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103755">b</span><span class="op" id="103756">.</span><span class="ident" id="103757">Fatal</span><span class="op" id="103762">(</span><span class="string" id="103763">&#34;b1&nbsp;&lt;&nbsp;b2&nbsp;failed&#34;</span><span class="op" id="103779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103786">}</span><br>
<span class="lineno">160</span><span class="op" id="103788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="103791">func</span>&nbsp;<span class="ident" id="103796">BenchmarkCompareBytesBigUnaligned</span><span class="op" id="103829">(</span><span class="ident" id="103830">b</span>&nbsp;<span class="op" id="103832">*</span><span class="ident" id="103833">testing</span><span class="op" id="103840">.</span><span class="ident" id="103841">B</span><span class="op" id="103842">)</span>&nbsp;<span class="op" id="103844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103847">b</span><span class="op" id="103848">.</span><span class="ident" id="103849">StopTimer</span><span class="op" id="103858">(</span><span class="op" id="103859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103862">b1</span>&nbsp;<span class="op" id="103865">:=</span>&nbsp;<span class="builtinfunc" id="103868">make</span><span class="op" id="103872">(</span><span class="op" id="103873">[</span><span class="op" id="103874">]</span><span class="builtintype" id="103875">byte</span><span class="op" id="103879">,</span>&nbsp;<span class="num" id="103881">0</span><span class="op" id="103882">,</span>&nbsp;<span class="num" id="103884">1</span><span class="op" id="103885">&lt;&lt;</span><span class="num" id="103887">20</span><span class="op" id="103889">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="103892">for</span>&nbsp;<span class="builtinfunc" id="103896">len</span><span class="op" id="103899">(</span><span class="ident" id="103900">b1</span><span class="op" id="103902">)</span>&nbsp;<span class="op" id="103904">&lt;</span>&nbsp;<span class="num" id="103906">1</span><span class="op" id="103907">&lt;&lt;</span><span class="num" id="103909">20</span>&nbsp;<span class="op" id="103912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103916">b1</span>&nbsp;<span class="op" id="103919">=</span>&nbsp;<span class="builtinfunc" id="103921">append</span><span class="op" id="103927">(</span><span class="ident" id="103928">b1</span><span class="op" id="103930">,</span>&nbsp;<span class="string" id="103932">&#34;Hello&nbsp;Gophers!&#34;</span><span class="op" id="103948">...</span><span class="op" id="103951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="103954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103957">b2</span>&nbsp;<span class="op" id="103960">:=</span>&nbsp;<span class="builtinfunc" id="103963">append</span><span class="op" id="103969">(</span><span class="op" id="103970">[</span><span class="op" id="103971">]</span><span class="builtintype" id="103972">byte</span><span class="op" id="103976">(</span><span class="string" id="103977">&#34;hello&#34;</span><span class="op" id="103984">)</span><span class="op" id="103985">,</span>&nbsp;<span class="ident" id="103987">b1</span><span class="op" id="103989">...</span><span class="op" id="103992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="103995">b</span><span class="op" id="103996">.</span><span class="ident" id="103997">StartTimer</span><span class="op" id="104007">(</span><span class="op" id="104008">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="104011">for</span>&nbsp;<span class="ident" id="104015">i</span>&nbsp;<span class="op" id="104017">:=</span>&nbsp;<span class="num" id="104020">0</span><span class="op" id="104021">;</span>&nbsp;<span class="ident" id="104023">i</span>&nbsp;<span class="op" id="104025">&lt;</span>&nbsp;<span class="ident" id="104027">b</span><span class="op" id="104028">.</span><span class="ident" id="104029">N</span><span class="op" id="104030">;</span>&nbsp;<span class="ident" id="104032">i</span><span class="op" id="104033">++</span>&nbsp;<span class="op" id="104036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="104040">if</span>&nbsp;<span class="ident" id="104043">Compare</span><span class="op" id="104050">(</span><span class="ident" id="104051">b1</span><span class="op" id="104053">,</span>&nbsp;<span class="ident" id="104055">b2</span><span class="op" id="104057">[</span><span class="builtinfunc" id="104058">len</span><span class="op" id="104061">(</span><span class="string" id="104062">&#34;hello&#34;</span><span class="op" id="104069">)</span><span class="op" id="104070">:</span><span class="op" id="104071">]</span><span class="op" id="104072">)</span>&nbsp;<span class="op" id="104074">!=</span>&nbsp;<span class="num" id="104077">0</span>&nbsp;<span class="op" id="104079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104084">b</span><span class="op" id="104085">.</span><span class="ident" id="104086">Fatal</span><span class="op" id="104091">(</span><span class="string" id="104092">&#34;b1&nbsp;!=&nbsp;b2&#34;</span><span class="op" id="104102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="104106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="104109">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104112">b</span><span class="op" id="104113">.</span><span class="ident" id="104114">SetBytes</span><span class="op" id="104122">(</span><span class="ident" id="104123">int64</span><span class="op" id="104128">(</span><span class="builtinfunc" id="104129">len</span><span class="op" id="104132">(</span><span class="ident" id="104133">b1</span><span class="op" id="104135">)</span><span class="op" id="104136">)</span><span class="op" id="104137">)</span><br>
<span class="lineno"></span><span class="op" id="104139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="104142">func</span>&nbsp;<span class="ident" id="104147">BenchmarkCompareBytesBig</span><span class="op" id="104171">(</span><span class="ident" id="104172">b</span>&nbsp;<span class="op" id="104174">*</span><span class="ident" id="104175">testing</span><span class="op" id="104182">.</span><span class="ident" id="104183">B</span><span class="op" id="104184">)</span>&nbsp;<span class="op" id="104186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104189">b</span><span class="op" id="104190">.</span><span class="ident" id="104191">StopTimer</span><span class="op" id="104200">(</span><span class="op" id="104201">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104204">b1</span>&nbsp;<span class="op" id="104207">:=</span>&nbsp;<span class="builtinfunc" id="104210">make</span><span class="op" id="104214">(</span><span class="op" id="104215">[</span><span class="op" id="104216">]</span><span class="builtintype" id="104217">byte</span><span class="op" id="104221">,</span>&nbsp;<span class="num" id="104223">0</span><span class="op" id="104224">,</span>&nbsp;<span class="num" id="104226">1</span><span class="op" id="104227">&lt;&lt;</span><span class="num" id="104229">20</span><span class="op" id="104231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="104234">for</span>&nbsp;<span class="builtinfunc" id="104238">len</span><span class="op" id="104241">(</span><span class="ident" id="104242">b1</span><span class="op" id="104244">)</span>&nbsp;<span class="op" id="104246">&lt;</span>&nbsp;<span class="num" id="104248">1</span><span class="op" id="104249">&lt;&lt;</span><span class="num" id="104251">20</span>&nbsp;<span class="op" id="104254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104258">b1</span>&nbsp;<span class="op" id="104261">=</span>&nbsp;<span class="builtinfunc" id="104263">append</span><span class="op" id="104269">(</span><span class="ident" id="104270">b1</span><span class="op" id="104272">,</span>&nbsp;<span class="string" id="104274">&#34;Hello&nbsp;Gophers!&#34;</span><span class="op" id="104290">...</span><span class="op" id="104293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="104296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104299">b2</span>&nbsp;<span class="op" id="104302">:=</span>&nbsp;<span class="builtinfunc" id="104305">append</span><span class="op" id="104311">(</span><span class="op" id="104312">[</span><span class="op" id="104313">]</span><span class="builtintype" id="104314">byte</span><span class="op" id="104318">{</span><span class="op" id="104319">}</span><span class="op" id="104320">,</span>&nbsp;<span class="ident" id="104322">b1</span><span class="op" id="104324">...</span><span class="op" id="104327">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104330">b</span><span class="op" id="104331">.</span><span class="ident" id="104332">StartTimer</span><span class="op" id="104342">(</span><span class="op" id="104343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="104346">for</span>&nbsp;<span class="ident" id="104350">i</span>&nbsp;<span class="op" id="104352">:=</span>&nbsp;<span class="num" id="104355">0</span><span class="op" id="104356">;</span>&nbsp;<span class="ident" id="104358">i</span>&nbsp;<span class="op" id="104360">&lt;</span>&nbsp;<span class="ident" id="104362">b</span><span class="op" id="104363">.</span><span class="ident" id="104364">N</span><span class="op" id="104365">;</span>&nbsp;<span class="ident" id="104367">i</span><span class="op" id="104368">++</span>&nbsp;<span class="op" id="104371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="104375">if</span>&nbsp;<span class="ident" id="104378">Compare</span><span class="op" id="104385">(</span><span class="ident" id="104386">b1</span><span class="op" id="104388">,</span>&nbsp;<span class="ident" id="104390">b2</span><span class="op" id="104392">)</span>&nbsp;<span class="op" id="104394">!=</span>&nbsp;<span class="num" id="104397">0</span>&nbsp;<span class="op" id="104399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104404">b</span><span class="op" id="104405">.</span><span class="ident" id="104406">Fatal</span><span class="op" id="104411">(</span><span class="string" id="104412">&#34;b1&nbsp;!=&nbsp;b2&#34;</span><span class="op" id="104422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="104426">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="104429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104432">b</span><span class="op" id="104433">.</span><span class="ident" id="104434">SetBytes</span><span class="op" id="104442">(</span><span class="ident" id="104443">int64</span><span class="op" id="104448">(</span><span class="builtinfunc" id="104449">len</span><span class="op" id="104452">(</span><span class="ident" id="104453">b1</span><span class="op" id="104455">)</span><span class="op" id="104456">)</span><span class="op" id="104457">)</span><br>
<span class="lineno"></span><span class="op" id="104459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="104462">func</span>&nbsp;<span class="ident" id="104467">BenchmarkCompareBytesBigIdentical</span><span class="op" id="104500">(</span><span class="ident" id="104501">b</span>&nbsp;<span class="op" id="104503">*</span><span class="ident" id="104504">testing</span><span class="op" id="104511">.</span><span class="ident" id="104512">B</span><span class="op" id="104513">)</span>&nbsp;<span class="op" id="104515">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104518">b</span><span class="op" id="104519">.</span><span class="ident" id="104520">StopTimer</span><span class="op" id="104529">(</span><span class="op" id="104530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104533">b1</span>&nbsp;<span class="op" id="104536">:=</span>&nbsp;<span class="builtinfunc" id="104539">make</span><span class="op" id="104543">(</span><span class="op" id="104544">[</span><span class="op" id="104545">]</span><span class="builtintype" id="104546">byte</span><span class="op" id="104550">,</span>&nbsp;<span class="num" id="104552">0</span><span class="op" id="104553">,</span>&nbsp;<span class="num" id="104555">1</span><span class="op" id="104556">&lt;&lt;</span><span class="num" id="104558">20</span><span class="op" id="104560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="104563">for</span>&nbsp;<span class="builtinfunc" id="104567">len</span><span class="op" id="104570">(</span><span class="ident" id="104571">b1</span><span class="op" id="104573">)</span>&nbsp;<span class="op" id="104575">&lt;</span>&nbsp;<span class="num" id="104577">1</span><span class="op" id="104578">&lt;&lt;</span><span class="num" id="104580">20</span>&nbsp;<span class="op" id="104583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104587">b1</span>&nbsp;<span class="op" id="104590">=</span>&nbsp;<span class="builtinfunc" id="104592">append</span><span class="op" id="104598">(</span><span class="ident" id="104599">b1</span><span class="op" id="104601">,</span>&nbsp;<span class="string" id="104603">&#34;Hello&nbsp;Gophers!&#34;</span><span class="op" id="104619">...</span><span class="op" id="104622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="104625">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104628">b2</span>&nbsp;<span class="op" id="104631">:=</span>&nbsp;<span class="ident" id="104634">b1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104638">b</span><span class="op" id="104639">.</span><span class="ident" id="104640">StartTimer</span><span class="op" id="104650">(</span><span class="op" id="104651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="104654">for</span>&nbsp;<span class="ident" id="104658">i</span>&nbsp;<span class="op" id="104660">:=</span>&nbsp;<span class="num" id="104663">0</span><span class="op" id="104664">;</span>&nbsp;<span class="ident" id="104666">i</span>&nbsp;<span class="op" id="104668">&lt;</span>&nbsp;<span class="ident" id="104670">b</span><span class="op" id="104671">.</span><span class="ident" id="104672">N</span><span class="op" id="104673">;</span>&nbsp;<span class="ident" id="104675">i</span><span class="op" id="104676">++</span>&nbsp;<span class="op" id="104679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="104683">if</span>&nbsp;<span class="ident" id="104686">Compare</span><span class="op" id="104693">(</span><span class="ident" id="104694">b1</span><span class="op" id="104696">,</span>&nbsp;<span class="ident" id="104698">b2</span><span class="op" id="104700">)</span>&nbsp;<span class="op" id="104702">!=</span>&nbsp;<span class="num" id="104705">0</span>&nbsp;<span class="op" id="104707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104712">b</span><span class="op" id="104713">.</span><span class="ident" id="104714">Fatal</span><span class="op" id="104719">(</span><span class="string" id="104720">&#34;b1&nbsp;!=&nbsp;b2&#34;</span><span class="op" id="104730">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="104734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="104737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="104740">b</span><span class="op" id="104741">.</span><span class="ident" id="104742">SetBytes</span><span class="op" id="104750">(</span><span class="ident" id="104751">int64</span><span class="op" id="104756">(</span><span class="builtinfunc" id="104757">len</span><span class="op" id="104760">(</span><span class="ident" id="104761">b1</span><span class="op" id="104763">)</span><span class="op" id="104764">)</span><span class="op" id="104765">)</span><br>
<span class="lineno"></span><span class="op" id="104767">}</span>
</div>
</body>
</html>
