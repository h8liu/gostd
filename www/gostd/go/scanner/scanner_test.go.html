<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7094007">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7094062">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7094116">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7094167">package</span>&nbsp;<span class="ident" id="7094175">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7094184">import</span>&nbsp;<span class="op" id="7094191">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7094194">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7094206">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7094219">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7094225">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7094242">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7094253">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7094263">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7094266">var</span>&nbsp;<span class="ident" id="7094270">fset</span>&nbsp;<span class="op" id="7094275">=</span>&nbsp;<span class="ident" id="7094277">token</span><span class="op" id="7094282">.</span><span class="ident" id="7094283">NewFileSet</span><span class="op" id="7094293">(</span><span class="op" id="7094294">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7094297">const</span>&nbsp;<span class="comment" id="7094303">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="7094315">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094318">special</span>&nbsp;<span class="op" id="7094326">=</span>&nbsp;<span class="ident" id="7094328">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094334">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094343">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094353">keyword</span><br>
<span class="lineno"></span><span class="op" id="7094361">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7094364">func</span>&nbsp;<span class="ident" id="7094369">tokenclass</span><span class="op" id="7094379">(</span><span class="ident" id="7094380">tok</span>&nbsp;<span class="ident" id="7094384">token</span><span class="op" id="7094389">.</span><span class="ident" id="7094390">Token</span><span class="op" id="7094395">)</span>&nbsp;<span class="builtintype" id="7094397">int</span>&nbsp;<span class="op" id="7094401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094404">switch</span>&nbsp;<span class="op" id="7094411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094414">case</span>&nbsp;<span class="ident" id="7094419">tok</span><span class="op" id="7094422">.</span><span class="ident" id="7094423">IsLiteral</span><span class="op" id="7094432">(</span><span class="op" id="7094433">)</span><span class="op" id="7094434">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094438">return</span>&nbsp;<span class="ident" id="7094445">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094454">case</span>&nbsp;<span class="ident" id="7094459">tok</span><span class="op" id="7094462">.</span><span class="ident" id="7094463">IsOperator</span><span class="op" id="7094473">(</span><span class="op" id="7094474">)</span><span class="op" id="7094475">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094479">return</span>&nbsp;<span class="ident" id="7094486">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094496">case</span>&nbsp;<span class="ident" id="7094501">tok</span><span class="op" id="7094504">.</span><span class="ident" id="7094505">IsKeyword</span><span class="op" id="7094514">(</span><span class="op" id="7094515">)</span><span class="op" id="7094516">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094520">return</span>&nbsp;<span class="ident" id="7094527">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094539">return</span>&nbsp;<span class="ident" id="7094546">special</span><br>
<span class="lineno">35</span><span class="op" id="7094554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7094557">type</span>&nbsp;<span class="ident" id="7094562">elt</span>&nbsp;<span class="keyword" id="7094566">struct</span>&nbsp;<span class="op" id="7094573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094576">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7094582">token</span><span class="op" id="7094587">.</span><span class="ident" id="7094588">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094595">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7094601">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094609">class</span>&nbsp;<span class="builtintype" id="7094615">int</span><br>
<span class="lineno"></span><span class="op" id="7094619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7094622">var</span>&nbsp;<span class="ident" id="7094626">tokens</span>&nbsp;<span class="op" id="7094633">=</span>&nbsp;<span class="op" id="7094635">[</span><span class="op" id="7094636">...</span><span class="op" id="7094639">]</span><span class="ident" id="7094640">elt</span><span class="op" id="7094643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7094646">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094665">{</span><span class="ident" id="7094666">token</span><span class="op" id="7094671">.</span><span class="ident" id="7094672">COMMENT</span><span class="op" id="7094679">,</span>&nbsp;<span class="string" id="7094681">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7094698">,</span>&nbsp;<span class="ident" id="7094700">special</span><span class="op" id="7094707">}</span><span class="op" id="7094708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094711">{</span><span class="ident" id="7094712">token</span><span class="op" id="7094717">.</span><span class="ident" id="7094718">COMMENT</span><span class="op" id="7094725">,</span>&nbsp;<span class="string" id="7094727">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="7094744">,</span>&nbsp;<span class="ident" id="7094746">special</span><span class="op" id="7094753">}</span><span class="op" id="7094754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094757">{</span><span class="ident" id="7094758">token</span><span class="op" id="7094763">.</span><span class="ident" id="7094764">COMMENT</span><span class="op" id="7094771">,</span>&nbsp;<span class="string" id="7094773">&#34;/*\r*/&#34;</span><span class="op" id="7094781">,</span>&nbsp;<span class="ident" id="7094783">special</span><span class="op" id="7094790">}</span><span class="op" id="7094791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094794">{</span><span class="ident" id="7094795">token</span><span class="op" id="7094800">.</span><span class="ident" id="7094801">COMMENT</span><span class="op" id="7094808">,</span>&nbsp;<span class="string" id="7094810">&#34;//\r\n&#34;</span><span class="op" id="7094818">,</span>&nbsp;<span class="ident" id="7094820">special</span><span class="op" id="7094827">}</span><span class="op" id="7094828">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7094832">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094872">{</span><span class="ident" id="7094873">token</span><span class="op" id="7094878">.</span><span class="ident" id="7094879">IDENT</span><span class="op" id="7094884">,</span>&nbsp;<span class="string" id="7094886">&#34;foobar&#34;</span><span class="op" id="7094894">,</span>&nbsp;<span class="ident" id="7094896">literal</span><span class="op" id="7094903">}</span><span class="op" id="7094904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094907">{</span><span class="ident" id="7094908">token</span><span class="op" id="7094913">.</span><span class="ident" id="7094914">IDENT</span><span class="op" id="7094919">,</span>&nbsp;<span class="string" id="7094921">&#34;a۰۱۸&#34;</span><span class="op" id="7094930">,</span>&nbsp;<span class="ident" id="7094932">literal</span><span class="op" id="7094939">}</span><span class="op" id="7094940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094943">{</span><span class="ident" id="7094944">token</span><span class="op" id="7094949">.</span><span class="ident" id="7094950">IDENT</span><span class="op" id="7094955">,</span>&nbsp;<span class="string" id="7094957">&#34;foo६४&#34;</span><span class="op" id="7094968">,</span>&nbsp;<span class="ident" id="7094970">literal</span><span class="op" id="7094977">}</span><span class="op" id="7094978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094981">{</span><span class="ident" id="7094982">token</span><span class="op" id="7094987">.</span><span class="ident" id="7094988">IDENT</span><span class="op" id="7094993">,</span>&nbsp;<span class="string" id="7094995">&#34;bar９８７６&#34;</span><span class="op" id="7095012">,</span>&nbsp;<span class="ident" id="7095014">literal</span><span class="op" id="7095021">}</span><span class="op" id="7095022">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095025">{</span><span class="ident" id="7095026">token</span><span class="op" id="7095031">.</span><span class="ident" id="7095032">IDENT</span><span class="op" id="7095037">,</span>&nbsp;<span class="string" id="7095039">&#34;ŝ&#34;</span><span class="op" id="7095043">,</span>&nbsp;<span class="ident" id="7095045">literal</span><span class="op" id="7095052">}</span><span class="op" id="7095053">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7095058">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095083">{</span><span class="ident" id="7095084">token</span><span class="op" id="7095089">.</span><span class="ident" id="7095090">IDENT</span><span class="op" id="7095095">,</span>&nbsp;<span class="string" id="7095097">&#34;ŝfoo&#34;</span><span class="op" id="7095104">,</span>&nbsp;<span class="ident" id="7095106">literal</span><span class="op" id="7095113">}</span><span class="op" id="7095114">,</span>&nbsp;<span class="comment" id="7095116">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095141">{</span><span class="ident" id="7095142">token</span><span class="op" id="7095147">.</span><span class="ident" id="7095148">INT</span><span class="op" id="7095151">,</span>&nbsp;<span class="string" id="7095153">&#34;0&#34;</span><span class="op" id="7095156">,</span>&nbsp;<span class="ident" id="7095158">literal</span><span class="op" id="7095165">}</span><span class="op" id="7095166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095169">{</span><span class="ident" id="7095170">token</span><span class="op" id="7095175">.</span><span class="ident" id="7095176">INT</span><span class="op" id="7095179">,</span>&nbsp;<span class="string" id="7095181">&#34;1&#34;</span><span class="op" id="7095184">,</span>&nbsp;<span class="ident" id="7095186">literal</span><span class="op" id="7095193">}</span><span class="op" id="7095194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095197">{</span><span class="ident" id="7095198">token</span><span class="op" id="7095203">.</span><span class="ident" id="7095204">INT</span><span class="op" id="7095207">,</span>&nbsp;<span class="string" id="7095209">&#34;123456789012345678890&#34;</span><span class="op" id="7095232">,</span>&nbsp;<span class="ident" id="7095234">literal</span><span class="op" id="7095241">}</span><span class="op" id="7095242">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095245">{</span><span class="ident" id="7095246">token</span><span class="op" id="7095251">.</span><span class="ident" id="7095252">INT</span><span class="op" id="7095255">,</span>&nbsp;<span class="string" id="7095257">&#34;01234567&#34;</span><span class="op" id="7095267">,</span>&nbsp;<span class="ident" id="7095269">literal</span><span class="op" id="7095276">}</span><span class="op" id="7095277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095280">{</span><span class="ident" id="7095281">token</span><span class="op" id="7095286">.</span><span class="ident" id="7095287">INT</span><span class="op" id="7095290">,</span>&nbsp;<span class="string" id="7095292">&#34;0xcafebabe&#34;</span><span class="op" id="7095304">,</span>&nbsp;<span class="ident" id="7095306">literal</span><span class="op" id="7095313">}</span><span class="op" id="7095314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095317">{</span><span class="ident" id="7095318">token</span><span class="op" id="7095323">.</span><span class="ident" id="7095324">FLOAT</span><span class="op" id="7095329">,</span>&nbsp;<span class="string" id="7095331">&#34;0.&#34;</span><span class="op" id="7095335">,</span>&nbsp;<span class="ident" id="7095337">literal</span><span class="op" id="7095344">}</span><span class="op" id="7095345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095348">{</span><span class="ident" id="7095349">token</span><span class="op" id="7095354">.</span><span class="ident" id="7095355">FLOAT</span><span class="op" id="7095360">,</span>&nbsp;<span class="string" id="7095362">&#34;.0&#34;</span><span class="op" id="7095366">,</span>&nbsp;<span class="ident" id="7095368">literal</span><span class="op" id="7095375">}</span><span class="op" id="7095376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095379">{</span><span class="ident" id="7095380">token</span><span class="op" id="7095385">.</span><span class="ident" id="7095386">FLOAT</span><span class="op" id="7095391">,</span>&nbsp;<span class="string" id="7095393">&#34;3.14159265&#34;</span><span class="op" id="7095405">,</span>&nbsp;<span class="ident" id="7095407">literal</span><span class="op" id="7095414">}</span><span class="op" id="7095415">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095418">{</span><span class="ident" id="7095419">token</span><span class="op" id="7095424">.</span><span class="ident" id="7095425">FLOAT</span><span class="op" id="7095430">,</span>&nbsp;<span class="string" id="7095432">&#34;1e0&#34;</span><span class="op" id="7095437">,</span>&nbsp;<span class="ident" id="7095439">literal</span><span class="op" id="7095446">}</span><span class="op" id="7095447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095450">{</span><span class="ident" id="7095451">token</span><span class="op" id="7095456">.</span><span class="ident" id="7095457">FLOAT</span><span class="op" id="7095462">,</span>&nbsp;<span class="string" id="7095464">&#34;1e+100&#34;</span><span class="op" id="7095472">,</span>&nbsp;<span class="ident" id="7095474">literal</span><span class="op" id="7095481">}</span><span class="op" id="7095482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095485">{</span><span class="ident" id="7095486">token</span><span class="op" id="7095491">.</span><span class="ident" id="7095492">FLOAT</span><span class="op" id="7095497">,</span>&nbsp;<span class="string" id="7095499">&#34;1e-100&#34;</span><span class="op" id="7095507">,</span>&nbsp;<span class="ident" id="7095509">literal</span><span class="op" id="7095516">}</span><span class="op" id="7095517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095520">{</span><span class="ident" id="7095521">token</span><span class="op" id="7095526">.</span><span class="ident" id="7095527">FLOAT</span><span class="op" id="7095532">,</span>&nbsp;<span class="string" id="7095534">&#34;2.71828e-1000&#34;</span><span class="op" id="7095549">,</span>&nbsp;<span class="ident" id="7095551">literal</span><span class="op" id="7095558">}</span><span class="op" id="7095559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095562">{</span><span class="ident" id="7095563">token</span><span class="op" id="7095568">.</span><span class="ident" id="7095569">IMAG</span><span class="op" id="7095573">,</span>&nbsp;<span class="string" id="7095575">&#34;0i&#34;</span><span class="op" id="7095579">,</span>&nbsp;<span class="ident" id="7095581">literal</span><span class="op" id="7095588">}</span><span class="op" id="7095589">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095592">{</span><span class="ident" id="7095593">token</span><span class="op" id="7095598">.</span><span class="ident" id="7095599">IMAG</span><span class="op" id="7095603">,</span>&nbsp;<span class="string" id="7095605">&#34;1i&#34;</span><span class="op" id="7095609">,</span>&nbsp;<span class="ident" id="7095611">literal</span><span class="op" id="7095618">}</span><span class="op" id="7095619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095622">{</span><span class="ident" id="7095623">token</span><span class="op" id="7095628">.</span><span class="ident" id="7095629">IMAG</span><span class="op" id="7095633">,</span>&nbsp;<span class="string" id="7095635">&#34;012345678901234567889i&#34;</span><span class="op" id="7095659">,</span>&nbsp;<span class="ident" id="7095661">literal</span><span class="op" id="7095668">}</span><span class="op" id="7095669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095672">{</span><span class="ident" id="7095673">token</span><span class="op" id="7095678">.</span><span class="ident" id="7095679">IMAG</span><span class="op" id="7095683">,</span>&nbsp;<span class="string" id="7095685">&#34;123456789012345678890i&#34;</span><span class="op" id="7095709">,</span>&nbsp;<span class="ident" id="7095711">literal</span><span class="op" id="7095718">}</span><span class="op" id="7095719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095722">{</span><span class="ident" id="7095723">token</span><span class="op" id="7095728">.</span><span class="ident" id="7095729">IMAG</span><span class="op" id="7095733">,</span>&nbsp;<span class="string" id="7095735">&#34;0.i&#34;</span><span class="op" id="7095740">,</span>&nbsp;<span class="ident" id="7095742">literal</span><span class="op" id="7095749">}</span><span class="op" id="7095750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095753">{</span><span class="ident" id="7095754">token</span><span class="op" id="7095759">.</span><span class="ident" id="7095760">IMAG</span><span class="op" id="7095764">,</span>&nbsp;<span class="string" id="7095766">&#34;.0i&#34;</span><span class="op" id="7095771">,</span>&nbsp;<span class="ident" id="7095773">literal</span><span class="op" id="7095780">}</span><span class="op" id="7095781">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095784">{</span><span class="ident" id="7095785">token</span><span class="op" id="7095790">.</span><span class="ident" id="7095791">IMAG</span><span class="op" id="7095795">,</span>&nbsp;<span class="string" id="7095797">&#34;3.14159265i&#34;</span><span class="op" id="7095810">,</span>&nbsp;<span class="ident" id="7095812">literal</span><span class="op" id="7095819">}</span><span class="op" id="7095820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095823">{</span><span class="ident" id="7095824">token</span><span class="op" id="7095829">.</span><span class="ident" id="7095830">IMAG</span><span class="op" id="7095834">,</span>&nbsp;<span class="string" id="7095836">&#34;1e0i&#34;</span><span class="op" id="7095842">,</span>&nbsp;<span class="ident" id="7095844">literal</span><span class="op" id="7095851">}</span><span class="op" id="7095852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095855">{</span><span class="ident" id="7095856">token</span><span class="op" id="7095861">.</span><span class="ident" id="7095862">IMAG</span><span class="op" id="7095866">,</span>&nbsp;<span class="string" id="7095868">&#34;1e+100i&#34;</span><span class="op" id="7095877">,</span>&nbsp;<span class="ident" id="7095879">literal</span><span class="op" id="7095886">}</span><span class="op" id="7095887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095890">{</span><span class="ident" id="7095891">token</span><span class="op" id="7095896">.</span><span class="ident" id="7095897">IMAG</span><span class="op" id="7095901">,</span>&nbsp;<span class="string" id="7095903">&#34;1e-100i&#34;</span><span class="op" id="7095912">,</span>&nbsp;<span class="ident" id="7095914">literal</span><span class="op" id="7095921">}</span><span class="op" id="7095922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095925">{</span><span class="ident" id="7095926">token</span><span class="op" id="7095931">.</span><span class="ident" id="7095932">IMAG</span><span class="op" id="7095936">,</span>&nbsp;<span class="string" id="7095938">&#34;2.71828e-1000i&#34;</span><span class="op" id="7095954">,</span>&nbsp;<span class="ident" id="7095956">literal</span><span class="op" id="7095963">}</span><span class="op" id="7095964">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095967">{</span><span class="ident" id="7095968">token</span><span class="op" id="7095973">.</span><span class="ident" id="7095974">CHAR</span><span class="op" id="7095978">,</span>&nbsp;<span class="string" id="7095980">&#34;&#39;a&#39;&#34;</span><span class="op" id="7095985">,</span>&nbsp;<span class="ident" id="7095987">literal</span><span class="op" id="7095994">}</span><span class="op" id="7095995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095998">{</span><span class="ident" id="7095999">token</span><span class="op" id="7096004">.</span><span class="ident" id="7096005">CHAR</span><span class="op" id="7096009">,</span>&nbsp;<span class="string" id="7096011">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="7096020">,</span>&nbsp;<span class="ident" id="7096022">literal</span><span class="op" id="7096029">}</span><span class="op" id="7096030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096033">{</span><span class="ident" id="7096034">token</span><span class="op" id="7096039">.</span><span class="ident" id="7096040">CHAR</span><span class="op" id="7096044">,</span>&nbsp;<span class="string" id="7096046">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="7096055">,</span>&nbsp;<span class="ident" id="7096057">literal</span><span class="op" id="7096064">}</span><span class="op" id="7096065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096068">{</span><span class="ident" id="7096069">token</span><span class="op" id="7096074">.</span><span class="ident" id="7096075">CHAR</span><span class="op" id="7096079">,</span>&nbsp;<span class="string" id="7096081">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="7096092">,</span>&nbsp;<span class="ident" id="7096094">literal</span><span class="op" id="7096101">}</span><span class="op" id="7096102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096105">{</span><span class="ident" id="7096106">token</span><span class="op" id="7096111">.</span><span class="ident" id="7096112">CHAR</span><span class="op" id="7096116">,</span>&nbsp;<span class="string" id="7096118">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="7096133">,</span>&nbsp;<span class="ident" id="7096135">literal</span><span class="op" id="7096142">}</span><span class="op" id="7096143">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096146">{</span><span class="ident" id="7096147">token</span><span class="op" id="7096152">.</span><span class="ident" id="7096153">STRING</span><span class="op" id="7096159">,</span>&nbsp;<span class="string" id="7096161">&#34;`foobar`&#34;</span><span class="op" id="7096171">,</span>&nbsp;<span class="ident" id="7096173">literal</span><span class="op" id="7096180">}</span><span class="op" id="7096181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096184">{</span><span class="ident" id="7096185">token</span><span class="op" id="7096190">.</span><span class="ident" id="7096191">STRING</span><span class="op" id="7096197">,</span>&nbsp;<span class="string" id="7096199">&#34;`&#34;</span>&nbsp;<span class="op" id="7096203">+</span>&nbsp;<span class="string" id="7096205">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="7096240">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7096244">&#34;`&#34;</span><span class="op" id="7096247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096251">literal</span><span class="op" id="7096258">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096261">}</span><span class="op" id="7096262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096265">{</span><span class="ident" id="7096266">token</span><span class="op" id="7096271">.</span><span class="ident" id="7096272">STRING</span><span class="op" id="7096278">,</span>&nbsp;<span class="string" id="7096280">&#34;`\r`&#34;</span><span class="op" id="7096286">,</span>&nbsp;<span class="ident" id="7096288">literal</span><span class="op" id="7096295">}</span><span class="op" id="7096296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096299">{</span><span class="ident" id="7096300">token</span><span class="op" id="7096305">.</span><span class="ident" id="7096306">STRING</span><span class="op" id="7096312">,</span>&nbsp;<span class="string" id="7096314">&#34;`foo\r\nbar`&#34;</span><span class="op" id="7096328">,</span>&nbsp;<span class="ident" id="7096330">literal</span><span class="op" id="7096337">}</span><span class="op" id="7096338">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7096342">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096371">{</span><span class="ident" id="7096372">token</span><span class="op" id="7096377">.</span><span class="ident" id="7096378">ADD</span><span class="op" id="7096381">,</span>&nbsp;<span class="string" id="7096383">&#34;+&#34;</span><span class="op" id="7096386">,</span>&nbsp;<span class="ident" id="7096388">operator</span><span class="op" id="7096396">}</span><span class="op" id="7096397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096400">{</span><span class="ident" id="7096401">token</span><span class="op" id="7096406">.</span><span class="ident" id="7096407">SUB</span><span class="op" id="7096410">,</span>&nbsp;<span class="string" id="7096412">&#34;-&#34;</span><span class="op" id="7096415">,</span>&nbsp;<span class="ident" id="7096417">operator</span><span class="op" id="7096425">}</span><span class="op" id="7096426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096429">{</span><span class="ident" id="7096430">token</span><span class="op" id="7096435">.</span><span class="ident" id="7096436">MUL</span><span class="op" id="7096439">,</span>&nbsp;<span class="string" id="7096441">&#34;*&#34;</span><span class="op" id="7096444">,</span>&nbsp;<span class="ident" id="7096446">operator</span><span class="op" id="7096454">}</span><span class="op" id="7096455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096458">{</span><span class="ident" id="7096459">token</span><span class="op" id="7096464">.</span><span class="ident" id="7096465">QUO</span><span class="op" id="7096468">,</span>&nbsp;<span class="string" id="7096470">&#34;/&#34;</span><span class="op" id="7096473">,</span>&nbsp;<span class="ident" id="7096475">operator</span><span class="op" id="7096483">}</span><span class="op" id="7096484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096487">{</span><span class="ident" id="7096488">token</span><span class="op" id="7096493">.</span><span class="ident" id="7096494">REM</span><span class="op" id="7096497">,</span>&nbsp;<span class="string" id="7096499">&#34;%&#34;</span><span class="op" id="7096502">,</span>&nbsp;<span class="ident" id="7096504">operator</span><span class="op" id="7096512">}</span><span class="op" id="7096513">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096517">{</span><span class="ident" id="7096518">token</span><span class="op" id="7096523">.</span><span class="ident" id="7096524">AND</span><span class="op" id="7096527">,</span>&nbsp;<span class="string" id="7096529">&#34;&amp;&#34;</span><span class="op" id="7096532">,</span>&nbsp;<span class="ident" id="7096534">operator</span><span class="op" id="7096542">}</span><span class="op" id="7096543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096546">{</span><span class="ident" id="7096547">token</span><span class="op" id="7096552">.</span><span class="ident" id="7096553">OR</span><span class="op" id="7096555">,</span>&nbsp;<span class="string" id="7096557">&#34;|&#34;</span><span class="op" id="7096560">,</span>&nbsp;<span class="ident" id="7096562">operator</span><span class="op" id="7096570">}</span><span class="op" id="7096571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096574">{</span><span class="ident" id="7096575">token</span><span class="op" id="7096580">.</span><span class="ident" id="7096581">XOR</span><span class="op" id="7096584">,</span>&nbsp;<span class="string" id="7096586">&#34;^&#34;</span><span class="op" id="7096589">,</span>&nbsp;<span class="ident" id="7096591">operator</span><span class="op" id="7096599">}</span><span class="op" id="7096600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096603">{</span><span class="ident" id="7096604">token</span><span class="op" id="7096609">.</span><span class="ident" id="7096610">SHL</span><span class="op" id="7096613">,</span>&nbsp;<span class="string" id="7096615">&#34;&lt;&lt;&#34;</span><span class="op" id="7096619">,</span>&nbsp;<span class="ident" id="7096621">operator</span><span class="op" id="7096629">}</span><span class="op" id="7096630">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096633">{</span><span class="ident" id="7096634">token</span><span class="op" id="7096639">.</span><span class="ident" id="7096640">SHR</span><span class="op" id="7096643">,</span>&nbsp;<span class="string" id="7096645">&#34;&gt;&gt;&#34;</span><span class="op" id="7096649">,</span>&nbsp;<span class="ident" id="7096651">operator</span><span class="op" id="7096659">}</span><span class="op" id="7096660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096663">{</span><span class="ident" id="7096664">token</span><span class="op" id="7096669">.</span><span class="ident" id="7096670">AND_NOT</span><span class="op" id="7096677">,</span>&nbsp;<span class="string" id="7096679">&#34;&amp;^&#34;</span><span class="op" id="7096683">,</span>&nbsp;<span class="ident" id="7096685">operator</span><span class="op" id="7096693">}</span><span class="op" id="7096694">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096698">{</span><span class="ident" id="7096699">token</span><span class="op" id="7096704">.</span><span class="ident" id="7096705">ADD_ASSIGN</span><span class="op" id="7096715">,</span>&nbsp;<span class="string" id="7096717">&#34;+=&#34;</span><span class="op" id="7096721">,</span>&nbsp;<span class="ident" id="7096723">operator</span><span class="op" id="7096731">}</span><span class="op" id="7096732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096735">{</span><span class="ident" id="7096736">token</span><span class="op" id="7096741">.</span><span class="ident" id="7096742">SUB_ASSIGN</span><span class="op" id="7096752">,</span>&nbsp;<span class="string" id="7096754">&#34;-=&#34;</span><span class="op" id="7096758">,</span>&nbsp;<span class="ident" id="7096760">operator</span><span class="op" id="7096768">}</span><span class="op" id="7096769">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096772">{</span><span class="ident" id="7096773">token</span><span class="op" id="7096778">.</span><span class="ident" id="7096779">MUL_ASSIGN</span><span class="op" id="7096789">,</span>&nbsp;<span class="string" id="7096791">&#34;*=&#34;</span><span class="op" id="7096795">,</span>&nbsp;<span class="ident" id="7096797">operator</span><span class="op" id="7096805">}</span><span class="op" id="7096806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096809">{</span><span class="ident" id="7096810">token</span><span class="op" id="7096815">.</span><span class="ident" id="7096816">QUO_ASSIGN</span><span class="op" id="7096826">,</span>&nbsp;<span class="string" id="7096828">&#34;/=&#34;</span><span class="op" id="7096832">,</span>&nbsp;<span class="ident" id="7096834">operator</span><span class="op" id="7096842">}</span><span class="op" id="7096843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096846">{</span><span class="ident" id="7096847">token</span><span class="op" id="7096852">.</span><span class="ident" id="7096853">REM_ASSIGN</span><span class="op" id="7096863">,</span>&nbsp;<span class="string" id="7096865">&#34;%=&#34;</span><span class="op" id="7096869">,</span>&nbsp;<span class="ident" id="7096871">operator</span><span class="op" id="7096879">}</span><span class="op" id="7096880">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096884">{</span><span class="ident" id="7096885">token</span><span class="op" id="7096890">.</span><span class="ident" id="7096891">AND_ASSIGN</span><span class="op" id="7096901">,</span>&nbsp;<span class="string" id="7096903">&#34;&amp;=&#34;</span><span class="op" id="7096907">,</span>&nbsp;<span class="ident" id="7096909">operator</span><span class="op" id="7096917">}</span><span class="op" id="7096918">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096921">{</span><span class="ident" id="7096922">token</span><span class="op" id="7096927">.</span><span class="ident" id="7096928">OR_ASSIGN</span><span class="op" id="7096937">,</span>&nbsp;<span class="string" id="7096939">&#34;|=&#34;</span><span class="op" id="7096943">,</span>&nbsp;<span class="ident" id="7096945">operator</span><span class="op" id="7096953">}</span><span class="op" id="7096954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096957">{</span><span class="ident" id="7096958">token</span><span class="op" id="7096963">.</span><span class="ident" id="7096964">XOR_ASSIGN</span><span class="op" id="7096974">,</span>&nbsp;<span class="string" id="7096976">&#34;^=&#34;</span><span class="op" id="7096980">,</span>&nbsp;<span class="ident" id="7096982">operator</span><span class="op" id="7096990">}</span><span class="op" id="7096991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096994">{</span><span class="ident" id="7096995">token</span><span class="op" id="7097000">.</span><span class="ident" id="7097001">SHL_ASSIGN</span><span class="op" id="7097011">,</span>&nbsp;<span class="string" id="7097013">&#34;&lt;&lt;=&#34;</span><span class="op" id="7097018">,</span>&nbsp;<span class="ident" id="7097020">operator</span><span class="op" id="7097028">}</span><span class="op" id="7097029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097032">{</span><span class="ident" id="7097033">token</span><span class="op" id="7097038">.</span><span class="ident" id="7097039">SHR_ASSIGN</span><span class="op" id="7097049">,</span>&nbsp;<span class="string" id="7097051">&#34;&gt;&gt;=&#34;</span><span class="op" id="7097056">,</span>&nbsp;<span class="ident" id="7097058">operator</span><span class="op" id="7097066">}</span><span class="op" id="7097067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097070">{</span><span class="ident" id="7097071">token</span><span class="op" id="7097076">.</span><span class="ident" id="7097077">AND_NOT_ASSIGN</span><span class="op" id="7097091">,</span>&nbsp;<span class="string" id="7097093">&#34;&amp;^=&#34;</span><span class="op" id="7097098">,</span>&nbsp;<span class="ident" id="7097100">operator</span><span class="op" id="7097108">}</span><span class="op" id="7097109">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097113">{</span><span class="ident" id="7097114">token</span><span class="op" id="7097119">.</span><span class="ident" id="7097120">LAND</span><span class="op" id="7097124">,</span>&nbsp;<span class="string" id="7097126">&#34;&amp;&amp;&#34;</span><span class="op" id="7097130">,</span>&nbsp;<span class="ident" id="7097132">operator</span><span class="op" id="7097140">}</span><span class="op" id="7097141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097144">{</span><span class="ident" id="7097145">token</span><span class="op" id="7097150">.</span><span class="ident" id="7097151">LOR</span><span class="op" id="7097154">,</span>&nbsp;<span class="string" id="7097156">&#34;||&#34;</span><span class="op" id="7097160">,</span>&nbsp;<span class="ident" id="7097162">operator</span><span class="op" id="7097170">}</span><span class="op" id="7097171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097174">{</span><span class="ident" id="7097175">token</span><span class="op" id="7097180">.</span><span class="ident" id="7097181">ARROW</span><span class="op" id="7097186">,</span>&nbsp;<span class="string" id="7097188">&#34;&lt;-&#34;</span><span class="op" id="7097192">,</span>&nbsp;<span class="ident" id="7097194">operator</span><span class="op" id="7097202">}</span><span class="op" id="7097203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097206">{</span><span class="ident" id="7097207">token</span><span class="op" id="7097212">.</span><span class="ident" id="7097213">INC</span><span class="op" id="7097216">,</span>&nbsp;<span class="string" id="7097218">&#34;++&#34;</span><span class="op" id="7097222">,</span>&nbsp;<span class="ident" id="7097224">operator</span><span class="op" id="7097232">}</span><span class="op" id="7097233">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097236">{</span><span class="ident" id="7097237">token</span><span class="op" id="7097242">.</span><span class="ident" id="7097243">DEC</span><span class="op" id="7097246">,</span>&nbsp;<span class="string" id="7097248">&#34;--&#34;</span><span class="op" id="7097252">,</span>&nbsp;<span class="ident" id="7097254">operator</span><span class="op" id="7097262">}</span><span class="op" id="7097263">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097267">{</span><span class="ident" id="7097268">token</span><span class="op" id="7097273">.</span><span class="ident" id="7097274">EQL</span><span class="op" id="7097277">,</span>&nbsp;<span class="string" id="7097279">&#34;==&#34;</span><span class="op" id="7097283">,</span>&nbsp;<span class="ident" id="7097285">operator</span><span class="op" id="7097293">}</span><span class="op" id="7097294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097297">{</span><span class="ident" id="7097298">token</span><span class="op" id="7097303">.</span><span class="ident" id="7097304">LSS</span><span class="op" id="7097307">,</span>&nbsp;<span class="string" id="7097309">&#34;&lt;&#34;</span><span class="op" id="7097312">,</span>&nbsp;<span class="ident" id="7097314">operator</span><span class="op" id="7097322">}</span><span class="op" id="7097323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097326">{</span><span class="ident" id="7097327">token</span><span class="op" id="7097332">.</span><span class="ident" id="7097333">GTR</span><span class="op" id="7097336">,</span>&nbsp;<span class="string" id="7097338">&#34;&gt;&#34;</span><span class="op" id="7097341">,</span>&nbsp;<span class="ident" id="7097343">operator</span><span class="op" id="7097351">}</span><span class="op" id="7097352">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097355">{</span><span class="ident" id="7097356">token</span><span class="op" id="7097361">.</span><span class="ident" id="7097362">ASSIGN</span><span class="op" id="7097368">,</span>&nbsp;<span class="string" id="7097370">&#34;=&#34;</span><span class="op" id="7097373">,</span>&nbsp;<span class="ident" id="7097375">operator</span><span class="op" id="7097383">}</span><span class="op" id="7097384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097387">{</span><span class="ident" id="7097388">token</span><span class="op" id="7097393">.</span><span class="ident" id="7097394">NOT</span><span class="op" id="7097397">,</span>&nbsp;<span class="string" id="7097399">&#34;!&#34;</span><span class="op" id="7097402">,</span>&nbsp;<span class="ident" id="7097404">operator</span><span class="op" id="7097412">}</span><span class="op" id="7097413">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097417">{</span><span class="ident" id="7097418">token</span><span class="op" id="7097423">.</span><span class="ident" id="7097424">NEQ</span><span class="op" id="7097427">,</span>&nbsp;<span class="string" id="7097429">&#34;!=&#34;</span><span class="op" id="7097433">,</span>&nbsp;<span class="ident" id="7097435">operator</span><span class="op" id="7097443">}</span><span class="op" id="7097444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097447">{</span><span class="ident" id="7097448">token</span><span class="op" id="7097453">.</span><span class="ident" id="7097454">LEQ</span><span class="op" id="7097457">,</span>&nbsp;<span class="string" id="7097459">&#34;&lt;=&#34;</span><span class="op" id="7097463">,</span>&nbsp;<span class="ident" id="7097465">operator</span><span class="op" id="7097473">}</span><span class="op" id="7097474">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097477">{</span><span class="ident" id="7097478">token</span><span class="op" id="7097483">.</span><span class="ident" id="7097484">GEQ</span><span class="op" id="7097487">,</span>&nbsp;<span class="string" id="7097489">&#34;&gt;=&#34;</span><span class="op" id="7097493">,</span>&nbsp;<span class="ident" id="7097495">operator</span><span class="op" id="7097503">}</span><span class="op" id="7097504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097507">{</span><span class="ident" id="7097508">token</span><span class="op" id="7097513">.</span><span class="ident" id="7097514">DEFINE</span><span class="op" id="7097520">,</span>&nbsp;<span class="string" id="7097522">&#34;:=&#34;</span><span class="op" id="7097526">,</span>&nbsp;<span class="ident" id="7097528">operator</span><span class="op" id="7097536">}</span><span class="op" id="7097537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097540">{</span><span class="ident" id="7097541">token</span><span class="op" id="7097546">.</span><span class="ident" id="7097547">ELLIPSIS</span><span class="op" id="7097555">,</span>&nbsp;<span class="string" id="7097557">&#34;...&#34;</span><span class="op" id="7097562">,</span>&nbsp;<span class="ident" id="7097564">operator</span><span class="op" id="7097572">}</span><span class="op" id="7097573">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097577">{</span><span class="ident" id="7097578">token</span><span class="op" id="7097583">.</span><span class="ident" id="7097584">LPAREN</span><span class="op" id="7097590">,</span>&nbsp;<span class="string" id="7097592">&#34;(&#34;</span><span class="op" id="7097595">,</span>&nbsp;<span class="ident" id="7097597">operator</span><span class="op" id="7097605">}</span><span class="op" id="7097606">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097609">{</span><span class="ident" id="7097610">token</span><span class="op" id="7097615">.</span><span class="ident" id="7097616">LBRACK</span><span class="op" id="7097622">,</span>&nbsp;<span class="string" id="7097624">&#34;[&#34;</span><span class="op" id="7097627">,</span>&nbsp;<span class="ident" id="7097629">operator</span><span class="op" id="7097637">}</span><span class="op" id="7097638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097641">{</span><span class="ident" id="7097642">token</span><span class="op" id="7097647">.</span><span class="ident" id="7097648">LBRACE</span><span class="op" id="7097654">,</span>&nbsp;<span class="string" id="7097656">&#34;{&#34;</span><span class="op" id="7097659">,</span>&nbsp;<span class="ident" id="7097661">operator</span><span class="op" id="7097669">}</span><span class="op" id="7097670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097673">{</span><span class="ident" id="7097674">token</span><span class="op" id="7097679">.</span><span class="ident" id="7097680">COMMA</span><span class="op" id="7097685">,</span>&nbsp;<span class="string" id="7097687">&#34;,&#34;</span><span class="op" id="7097690">,</span>&nbsp;<span class="ident" id="7097692">operator</span><span class="op" id="7097700">}</span><span class="op" id="7097701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097704">{</span><span class="ident" id="7097705">token</span><span class="op" id="7097710">.</span><span class="ident" id="7097711">PERIOD</span><span class="op" id="7097717">,</span>&nbsp;<span class="string" id="7097719">&#34;.&#34;</span><span class="op" id="7097722">,</span>&nbsp;<span class="ident" id="7097724">operator</span><span class="op" id="7097732">}</span><span class="op" id="7097733">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097737">{</span><span class="ident" id="7097738">token</span><span class="op" id="7097743">.</span><span class="ident" id="7097744">RPAREN</span><span class="op" id="7097750">,</span>&nbsp;<span class="string" id="7097752">&#34;)&#34;</span><span class="op" id="7097755">,</span>&nbsp;<span class="ident" id="7097757">operator</span><span class="op" id="7097765">}</span><span class="op" id="7097766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097769">{</span><span class="ident" id="7097770">token</span><span class="op" id="7097775">.</span><span class="ident" id="7097776">RBRACK</span><span class="op" id="7097782">,</span>&nbsp;<span class="string" id="7097784">&#34;]&#34;</span><span class="op" id="7097787">,</span>&nbsp;<span class="ident" id="7097789">operator</span><span class="op" id="7097797">}</span><span class="op" id="7097798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097801">{</span><span class="ident" id="7097802">token</span><span class="op" id="7097807">.</span><span class="ident" id="7097808">RBRACE</span><span class="op" id="7097814">,</span>&nbsp;<span class="string" id="7097816">&#34;}&#34;</span><span class="op" id="7097819">,</span>&nbsp;<span class="ident" id="7097821">operator</span><span class="op" id="7097829">}</span><span class="op" id="7097830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097833">{</span><span class="ident" id="7097834">token</span><span class="op" id="7097839">.</span><span class="ident" id="7097840">SEMICOLON</span><span class="op" id="7097849">,</span>&nbsp;<span class="string" id="7097851">&#34;;&#34;</span><span class="op" id="7097854">,</span>&nbsp;<span class="ident" id="7097856">operator</span><span class="op" id="7097864">}</span><span class="op" id="7097865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097868">{</span><span class="ident" id="7097869">token</span><span class="op" id="7097874">.</span><span class="ident" id="7097875">COLON</span><span class="op" id="7097880">,</span>&nbsp;<span class="string" id="7097882">&#34;:&#34;</span><span class="op" id="7097885">,</span>&nbsp;<span class="ident" id="7097887">operator</span><span class="op" id="7097895">}</span><span class="op" id="7097896">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7097900">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097913">{</span><span class="ident" id="7097914">token</span><span class="op" id="7097919">.</span><span class="ident" id="7097920">BREAK</span><span class="op" id="7097925">,</span>&nbsp;<span class="string" id="7097927">&#34;break&#34;</span><span class="op" id="7097934">,</span>&nbsp;<span class="ident" id="7097936">keyword</span><span class="op" id="7097943">}</span><span class="op" id="7097944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097947">{</span><span class="ident" id="7097948">token</span><span class="op" id="7097953">.</span><span class="ident" id="7097954">CASE</span><span class="op" id="7097958">,</span>&nbsp;<span class="string" id="7097960">&#34;case&#34;</span><span class="op" id="7097966">,</span>&nbsp;<span class="ident" id="7097968">keyword</span><span class="op" id="7097975">}</span><span class="op" id="7097976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097979">{</span><span class="ident" id="7097980">token</span><span class="op" id="7097985">.</span><span class="ident" id="7097986">CHAN</span><span class="op" id="7097990">,</span>&nbsp;<span class="string" id="7097992">&#34;chan&#34;</span><span class="op" id="7097998">,</span>&nbsp;<span class="ident" id="7098000">keyword</span><span class="op" id="7098007">}</span><span class="op" id="7098008">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098011">{</span><span class="ident" id="7098012">token</span><span class="op" id="7098017">.</span><span class="ident" id="7098018">CONST</span><span class="op" id="7098023">,</span>&nbsp;<span class="string" id="7098025">&#34;const&#34;</span><span class="op" id="7098032">,</span>&nbsp;<span class="ident" id="7098034">keyword</span><span class="op" id="7098041">}</span><span class="op" id="7098042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098045">{</span><span class="ident" id="7098046">token</span><span class="op" id="7098051">.</span><span class="ident" id="7098052">CONTINUE</span><span class="op" id="7098060">,</span>&nbsp;<span class="string" id="7098062">&#34;continue&#34;</span><span class="op" id="7098072">,</span>&nbsp;<span class="ident" id="7098074">keyword</span><span class="op" id="7098081">}</span><span class="op" id="7098082">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098086">{</span><span class="ident" id="7098087">token</span><span class="op" id="7098092">.</span><span class="ident" id="7098093">DEFAULT</span><span class="op" id="7098100">,</span>&nbsp;<span class="string" id="7098102">&#34;default&#34;</span><span class="op" id="7098111">,</span>&nbsp;<span class="ident" id="7098113">keyword</span><span class="op" id="7098120">}</span><span class="op" id="7098121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098124">{</span><span class="ident" id="7098125">token</span><span class="op" id="7098130">.</span><span class="ident" id="7098131">DEFER</span><span class="op" id="7098136">,</span>&nbsp;<span class="string" id="7098138">&#34;defer&#34;</span><span class="op" id="7098145">,</span>&nbsp;<span class="ident" id="7098147">keyword</span><span class="op" id="7098154">}</span><span class="op" id="7098155">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098158">{</span><span class="ident" id="7098159">token</span><span class="op" id="7098164">.</span><span class="ident" id="7098165">ELSE</span><span class="op" id="7098169">,</span>&nbsp;<span class="string" id="7098171">&#34;else&#34;</span><span class="op" id="7098177">,</span>&nbsp;<span class="ident" id="7098179">keyword</span><span class="op" id="7098186">}</span><span class="op" id="7098187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098190">{</span><span class="ident" id="7098191">token</span><span class="op" id="7098196">.</span><span class="ident" id="7098197">FALLTHROUGH</span><span class="op" id="7098208">,</span>&nbsp;<span class="string" id="7098210">&#34;fallthrough&#34;</span><span class="op" id="7098223">,</span>&nbsp;<span class="ident" id="7098225">keyword</span><span class="op" id="7098232">}</span><span class="op" id="7098233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098236">{</span><span class="ident" id="7098237">token</span><span class="op" id="7098242">.</span><span class="ident" id="7098243">FOR</span><span class="op" id="7098246">,</span>&nbsp;<span class="string" id="7098248">&#34;for&#34;</span><span class="op" id="7098253">,</span>&nbsp;<span class="ident" id="7098255">keyword</span><span class="op" id="7098262">}</span><span class="op" id="7098263">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098267">{</span><span class="ident" id="7098268">token</span><span class="op" id="7098273">.</span><span class="ident" id="7098274">FUNC</span><span class="op" id="7098278">,</span>&nbsp;<span class="string" id="7098280">&#34;func&#34;</span><span class="op" id="7098286">,</span>&nbsp;<span class="ident" id="7098288">keyword</span><span class="op" id="7098295">}</span><span class="op" id="7098296">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098299">{</span><span class="ident" id="7098300">token</span><span class="op" id="7098305">.</span><span class="ident" id="7098306">GO</span><span class="op" id="7098308">,</span>&nbsp;<span class="string" id="7098310">&#34;go&#34;</span><span class="op" id="7098314">,</span>&nbsp;<span class="ident" id="7098316">keyword</span><span class="op" id="7098323">}</span><span class="op" id="7098324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098327">{</span><span class="ident" id="7098328">token</span><span class="op" id="7098333">.</span><span class="ident" id="7098334">GOTO</span><span class="op" id="7098338">,</span>&nbsp;<span class="string" id="7098340">&#34;goto&#34;</span><span class="op" id="7098346">,</span>&nbsp;<span class="ident" id="7098348">keyword</span><span class="op" id="7098355">}</span><span class="op" id="7098356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098359">{</span><span class="ident" id="7098360">token</span><span class="op" id="7098365">.</span><span class="ident" id="7098366">IF</span><span class="op" id="7098368">,</span>&nbsp;<span class="string" id="7098370">&#34;if&#34;</span><span class="op" id="7098374">,</span>&nbsp;<span class="ident" id="7098376">keyword</span><span class="op" id="7098383">}</span><span class="op" id="7098384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098387">{</span><span class="ident" id="7098388">token</span><span class="op" id="7098393">.</span><span class="ident" id="7098394">IMPORT</span><span class="op" id="7098400">,</span>&nbsp;<span class="string" id="7098402">&#34;import&#34;</span><span class="op" id="7098410">,</span>&nbsp;<span class="ident" id="7098412">keyword</span><span class="op" id="7098419">}</span><span class="op" id="7098420">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098424">{</span><span class="ident" id="7098425">token</span><span class="op" id="7098430">.</span><span class="ident" id="7098431">INTERFACE</span><span class="op" id="7098440">,</span>&nbsp;<span class="string" id="7098442">&#34;interface&#34;</span><span class="op" id="7098453">,</span>&nbsp;<span class="ident" id="7098455">keyword</span><span class="op" id="7098462">}</span><span class="op" id="7098463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098466">{</span><span class="ident" id="7098467">token</span><span class="op" id="7098472">.</span><span class="ident" id="7098473">MAP</span><span class="op" id="7098476">,</span>&nbsp;<span class="string" id="7098478">&#34;map&#34;</span><span class="op" id="7098483">,</span>&nbsp;<span class="ident" id="7098485">keyword</span><span class="op" id="7098492">}</span><span class="op" id="7098493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098496">{</span><span class="ident" id="7098497">token</span><span class="op" id="7098502">.</span><span class="ident" id="7098503">PACKAGE</span><span class="op" id="7098510">,</span>&nbsp;<span class="string" id="7098512">&#34;package&#34;</span><span class="op" id="7098521">,</span>&nbsp;<span class="ident" id="7098523">keyword</span><span class="op" id="7098530">}</span><span class="op" id="7098531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098534">{</span><span class="ident" id="7098535">token</span><span class="op" id="7098540">.</span><span class="ident" id="7098541">RANGE</span><span class="op" id="7098546">,</span>&nbsp;<span class="string" id="7098548">&#34;range&#34;</span><span class="op" id="7098555">,</span>&nbsp;<span class="ident" id="7098557">keyword</span><span class="op" id="7098564">}</span><span class="op" id="7098565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098568">{</span><span class="ident" id="7098569">token</span><span class="op" id="7098574">.</span><span class="ident" id="7098575">RETURN</span><span class="op" id="7098581">,</span>&nbsp;<span class="string" id="7098583">&#34;return&#34;</span><span class="op" id="7098591">,</span>&nbsp;<span class="ident" id="7098593">keyword</span><span class="op" id="7098600">}</span><span class="op" id="7098601">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098605">{</span><span class="ident" id="7098606">token</span><span class="op" id="7098611">.</span><span class="ident" id="7098612">SELECT</span><span class="op" id="7098618">,</span>&nbsp;<span class="string" id="7098620">&#34;select&#34;</span><span class="op" id="7098628">,</span>&nbsp;<span class="ident" id="7098630">keyword</span><span class="op" id="7098637">}</span><span class="op" id="7098638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098641">{</span><span class="ident" id="7098642">token</span><span class="op" id="7098647">.</span><span class="ident" id="7098648">STRUCT</span><span class="op" id="7098654">,</span>&nbsp;<span class="string" id="7098656">&#34;struct&#34;</span><span class="op" id="7098664">,</span>&nbsp;<span class="ident" id="7098666">keyword</span><span class="op" id="7098673">}</span><span class="op" id="7098674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098677">{</span><span class="ident" id="7098678">token</span><span class="op" id="7098683">.</span><span class="ident" id="7098684">SWITCH</span><span class="op" id="7098690">,</span>&nbsp;<span class="string" id="7098692">&#34;switch&#34;</span><span class="op" id="7098700">,</span>&nbsp;<span class="ident" id="7098702">keyword</span><span class="op" id="7098709">}</span><span class="op" id="7098710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098713">{</span><span class="ident" id="7098714">token</span><span class="op" id="7098719">.</span><span class="ident" id="7098720">TYPE</span><span class="op" id="7098724">,</span>&nbsp;<span class="string" id="7098726">&#34;type&#34;</span><span class="op" id="7098732">,</span>&nbsp;<span class="ident" id="7098734">keyword</span><span class="op" id="7098741">}</span><span class="op" id="7098742">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098745">{</span><span class="ident" id="7098746">token</span><span class="op" id="7098751">.</span><span class="ident" id="7098752">VAR</span><span class="op" id="7098755">,</span>&nbsp;<span class="string" id="7098757">&#34;var&#34;</span><span class="op" id="7098762">,</span>&nbsp;<span class="ident" id="7098764">keyword</span><span class="op" id="7098771">}</span><span class="op" id="7098772">,</span><br>
<span class="lineno"></span><span class="op" id="7098774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7098777">const</span>&nbsp;<span class="ident" id="7098783">whitespace</span>&nbsp;<span class="op" id="7098794">=</span>&nbsp;<span class="string" id="7098796">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="7098811">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="7098834">var</span>&nbsp;<span class="ident" id="7098838">source</span>&nbsp;<span class="op" id="7098845">=</span>&nbsp;<span class="keyword" id="7098847">func</span><span class="op" id="7098851">(</span><span class="op" id="7098852">)</span>&nbsp;<span class="op" id="7098854">[</span><span class="op" id="7098855">]</span><span class="builtintype" id="7098856">byte</span>&nbsp;<span class="op" id="7098861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098864">var</span>&nbsp;<span class="ident" id="7098868">src</span>&nbsp;<span class="op" id="7098872">[</span><span class="op" id="7098873">]</span><span class="builtintype" id="7098874">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098880">for</span>&nbsp;<span class="ident" id="7098884">_</span><span class="op" id="7098885">,</span>&nbsp;<span class="ident" id="7098887">t</span>&nbsp;<span class="op" id="7098889">:=</span>&nbsp;<span class="keyword" id="7098892">range</span>&nbsp;<span class="ident" id="7098898">tokens</span>&nbsp;<span class="op" id="7098905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098909">src</span>&nbsp;<span class="op" id="7098913">=</span>&nbsp;<span class="builtinfunc" id="7098915">append</span><span class="op" id="7098921">(</span><span class="ident" id="7098922">src</span><span class="op" id="7098925">,</span>&nbsp;<span class="ident" id="7098927">t</span><span class="op" id="7098928">.</span><span class="ident" id="7098929">lit</span><span class="op" id="7098932">...</span><span class="op" id="7098935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098939">src</span>&nbsp;<span class="op" id="7098943">=</span>&nbsp;<span class="builtinfunc" id="7098945">append</span><span class="op" id="7098951">(</span><span class="ident" id="7098952">src</span><span class="op" id="7098955">,</span>&nbsp;<span class="ident" id="7098957">whitespace</span><span class="op" id="7098967">...</span><span class="op" id="7098970">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098976">return</span>&nbsp;<span class="ident" id="7098983">src</span><br>
<span class="lineno"></span><span class="op" id="7098987">}</span><span class="op" id="7098988">(</span><span class="op" id="7098989">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7098992">func</span>&nbsp;<span class="ident" id="7098997">newlineCount</span><span class="op" id="7099009">(</span><span class="ident" id="7099010">s</span>&nbsp;<span class="builtintype" id="7099012">string</span><span class="op" id="7099018">)</span>&nbsp;<span class="builtintype" id="7099020">int</span>&nbsp;<span class="op" id="7099024">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099027">n</span>&nbsp;<span class="op" id="7099029">:=</span>&nbsp;<span class="num" id="7099032">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099035">for</span>&nbsp;<span class="ident" id="7099039">i</span>&nbsp;<span class="op" id="7099041">:=</span>&nbsp;<span class="num" id="7099044">0</span><span class="op" id="7099045">;</span>&nbsp;<span class="ident" id="7099047">i</span>&nbsp;<span class="op" id="7099049">&lt;</span>&nbsp;<span class="builtinfunc" id="7099051">len</span><span class="op" id="7099054">(</span><span class="ident" id="7099055">s</span><span class="op" id="7099056">)</span><span class="op" id="7099057">;</span>&nbsp;<span class="ident" id="7099059">i</span><span class="op" id="7099060">++</span>&nbsp;<span class="op" id="7099063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099067">if</span>&nbsp;<span class="ident" id="7099070">s</span><span class="op" id="7099071">[</span><span class="ident" id="7099072">i</span><span class="op" id="7099073">]</span>&nbsp;<span class="op" id="7099075">==</span>&nbsp;<span class="string" id="7099078">&#39;\n&#39;</span>&nbsp;<span class="op" id="7099083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099088">n</span><span class="op" id="7099089">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099094">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099100">return</span>&nbsp;<span class="ident" id="7099107">n</span><br>
<span class="lineno"></span><span class="op" id="7099109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7099112">func</span>&nbsp;<span class="ident" id="7099117">checkPos</span><span class="op" id="7099125">(</span><span class="ident" id="7099126">t</span>&nbsp;<span class="op" id="7099128">*</span><span class="ident" id="7099129">testing</span><span class="op" id="7099136">.</span><span class="ident" id="7099137">T</span><span class="op" id="7099138">,</span>&nbsp;<span class="ident" id="7099140">lit</span>&nbsp;<span class="builtintype" id="7099144">string</span><span class="op" id="7099150">,</span>&nbsp;<span class="ident" id="7099152">p</span>&nbsp;<span class="ident" id="7099154">token</span><span class="op" id="7099159">.</span><span class="ident" id="7099160">Pos</span><span class="op" id="7099163">,</span>&nbsp;<span class="ident" id="7099165">expected</span>&nbsp;<span class="ident" id="7099174">token</span><span class="op" id="7099179">.</span><span class="ident" id="7099180">Position</span><span class="op" id="7099188">)</span>&nbsp;<span class="op" id="7099190">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099193">pos</span>&nbsp;<span class="op" id="7099197">:=</span>&nbsp;<span class="ident" id="7099200">fset</span><span class="op" id="7099204">.</span><span class="ident" id="7099205">Position</span><span class="op" id="7099213">(</span><span class="ident" id="7099214">p</span><span class="op" id="7099215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099218">if</span>&nbsp;<span class="ident" id="7099221">pos</span><span class="op" id="7099224">.</span><span class="ident" id="7099225">Filename</span>&nbsp;<span class="op" id="7099234">!=</span>&nbsp;<span class="ident" id="7099237">expected</span><span class="op" id="7099245">.</span><span class="ident" id="7099246">Filename</span>&nbsp;<span class="op" id="7099255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099259">t</span><span class="op" id="7099260">.</span><span class="ident" id="7099261">Errorf</span><span class="op" id="7099267">(</span><span class="string" id="7099268">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7099310">,</span>&nbsp;<span class="ident" id="7099312">lit</span><span class="op" id="7099315">,</span>&nbsp;<span class="ident" id="7099317">pos</span><span class="op" id="7099320">.</span><span class="ident" id="7099321">Filename</span><span class="op" id="7099329">,</span>&nbsp;<span class="ident" id="7099331">expected</span><span class="op" id="7099339">.</span><span class="ident" id="7099340">Filename</span><span class="op" id="7099348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099354">if</span>&nbsp;<span class="ident" id="7099357">pos</span><span class="op" id="7099360">.</span><span class="ident" id="7099361">Offset</span>&nbsp;<span class="op" id="7099368">!=</span>&nbsp;<span class="ident" id="7099371">expected</span><span class="op" id="7099379">.</span><span class="ident" id="7099380">Offset</span>&nbsp;<span class="op" id="7099387">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099391">t</span><span class="op" id="7099392">.</span><span class="ident" id="7099393">Errorf</span><span class="op" id="7099399">(</span><span class="string" id="7099400">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7099442">,</span>&nbsp;<span class="ident" id="7099444">lit</span><span class="op" id="7099447">,</span>&nbsp;<span class="ident" id="7099449">pos</span><span class="op" id="7099452">.</span><span class="ident" id="7099453">Offset</span><span class="op" id="7099459">,</span>&nbsp;<span class="ident" id="7099461">expected</span><span class="op" id="7099469">.</span><span class="ident" id="7099470">Offset</span><span class="op" id="7099476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099482">if</span>&nbsp;<span class="ident" id="7099485">pos</span><span class="op" id="7099488">.</span><span class="ident" id="7099489">Line</span>&nbsp;<span class="op" id="7099494">!=</span>&nbsp;<span class="ident" id="7099497">expected</span><span class="op" id="7099505">.</span><span class="ident" id="7099506">Line</span>&nbsp;<span class="op" id="7099511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099515">t</span><span class="op" id="7099516">.</span><span class="ident" id="7099517">Errorf</span><span class="op" id="7099523">(</span><span class="string" id="7099524">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7099562">,</span>&nbsp;<span class="ident" id="7099564">lit</span><span class="op" id="7099567">,</span>&nbsp;<span class="ident" id="7099569">pos</span><span class="op" id="7099572">.</span><span class="ident" id="7099573">Line</span><span class="op" id="7099577">,</span>&nbsp;<span class="ident" id="7099579">expected</span><span class="op" id="7099587">.</span><span class="ident" id="7099588">Line</span><span class="op" id="7099592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099595">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099598">if</span>&nbsp;<span class="ident" id="7099601">pos</span><span class="op" id="7099604">.</span><span class="ident" id="7099605">Column</span>&nbsp;<span class="op" id="7099612">!=</span>&nbsp;<span class="ident" id="7099615">expected</span><span class="op" id="7099623">.</span><span class="ident" id="7099624">Column</span>&nbsp;<span class="op" id="7099631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099635">t</span><span class="op" id="7099636">.</span><span class="ident" id="7099637">Errorf</span><span class="op" id="7099643">(</span><span class="string" id="7099644">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7099684">,</span>&nbsp;<span class="ident" id="7099686">lit</span><span class="op" id="7099689">,</span>&nbsp;<span class="ident" id="7099691">pos</span><span class="op" id="7099694">.</span><span class="ident" id="7099695">Column</span><span class="op" id="7099701">,</span>&nbsp;<span class="ident" id="7099703">expected</span><span class="op" id="7099711">.</span><span class="ident" id="7099712">Column</span><span class="op" id="7099718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099721">}</span><br>
<span class="lineno"></span><span class="op" id="7099723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="7099726">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="7099786">func</span>&nbsp;<span class="ident" id="7099791">TestScan</span><span class="op" id="7099799">(</span><span class="ident" id="7099800">t</span>&nbsp;<span class="op" id="7099802">*</span><span class="ident" id="7099803">testing</span><span class="op" id="7099810">.</span><span class="ident" id="7099811">T</span><span class="op" id="7099812">)</span>&nbsp;<span class="op" id="7099814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099817">whitespace_linecount</span>&nbsp;<span class="op" id="7099838">:=</span>&nbsp;<span class="ident" id="7099841">newlineCount</span><span class="op" id="7099853">(</span><span class="ident" id="7099854">whitespace</span><span class="op" id="7099864">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7099868">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099886">eh</span>&nbsp;<span class="op" id="7099889">:=</span>&nbsp;<span class="keyword" id="7099892">func</span><span class="op" id="7099896">(</span><span class="ident" id="7099897">_</span>&nbsp;<span class="ident" id="7099899">token</span><span class="op" id="7099904">.</span><span class="ident" id="7099905">Position</span><span class="op" id="7099913">,</span>&nbsp;<span class="ident" id="7099915">msg</span>&nbsp;<span class="builtintype" id="7099919">string</span><span class="op" id="7099925">)</span>&nbsp;<span class="op" id="7099927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099931">t</span><span class="op" id="7099932">.</span><span class="ident" id="7099933">Errorf</span><span class="op" id="7099939">(</span><span class="string" id="7099940">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="7099973">,</span>&nbsp;<span class="ident" id="7099975">msg</span><span class="op" id="7099978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7099985">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7100001">var</span>&nbsp;<span class="ident" id="7100005">s</span>&nbsp;<span class="ident" id="7100007">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100016">s</span><span class="op" id="7100017">.</span><span class="ident" id="7100018">Init</span><span class="op" id="7100022">(</span><span class="ident" id="7100023">fset</span><span class="op" id="7100027">.</span><span class="ident" id="7100028">AddFile</span><span class="op" id="7100035">(</span><span class="string" id="7100036">&#34;&#34;</span><span class="op" id="7100038">,</span>&nbsp;<span class="ident" id="7100040">fset</span><span class="op" id="7100044">.</span><span class="ident" id="7100045">Base</span><span class="op" id="7100049">(</span><span class="op" id="7100050">)</span><span class="op" id="7100051">,</span>&nbsp;<span class="builtinfunc" id="7100053">len</span><span class="op" id="7100056">(</span><span class="ident" id="7100057">source</span><span class="op" id="7100063">)</span><span class="op" id="7100064">)</span><span class="op" id="7100065">,</span>&nbsp;<span class="ident" id="7100067">source</span><span class="op" id="7100073">,</span>&nbsp;<span class="ident" id="7100075">eh</span><span class="op" id="7100077">,</span>&nbsp;<span class="ident" id="7100079">ScanComments</span><span class="op" id="7100091">|</span><span class="ident" id="7100092">dontInsertSemis</span><span class="op" id="7100107">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7100111">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100140">epos</span>&nbsp;<span class="op" id="7100145">:=</span>&nbsp;<span class="ident" id="7100148">token</span><span class="op" id="7100153">.</span><span class="ident" id="7100154">Position</span><span class="op" id="7100162">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100166">Filename</span><span class="op" id="7100174">:</span>&nbsp;<span class="string" id="7100176">&#34;&#34;</span><span class="op" id="7100178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100182">Offset</span><span class="op" id="7100188">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7100192">0</span><span class="op" id="7100193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100197">Line</span><span class="op" id="7100201">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7100207">1</span><span class="op" id="7100208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100212">Column</span><span class="op" id="7100218">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7100222">1</span><span class="op" id="7100223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7100226">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100230">index</span>&nbsp;<span class="op" id="7100236">:=</span>&nbsp;<span class="num" id="7100239">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7100242">for</span>&nbsp;<span class="op" id="7100246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100250">pos</span><span class="op" id="7100253">,</span>&nbsp;<span class="ident" id="7100255">tok</span><span class="op" id="7100258">,</span>&nbsp;<span class="ident" id="7100260">lit</span>&nbsp;<span class="op" id="7100264">:=</span>&nbsp;<span class="ident" id="7100267">s</span><span class="op" id="7100268">.</span><span class="ident" id="7100269">Scan</span><span class="op" id="7100273">(</span><span class="op" id="7100274">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7100279">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7100299">if</span>&nbsp;<span class="ident" id="7100302">tok</span>&nbsp;<span class="op" id="7100306">==</span>&nbsp;<span class="ident" id="7100309">token</span><span class="op" id="7100314">.</span><span class="ident" id="7100315">EOF</span>&nbsp;<span class="op" id="7100319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7100324">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100349">epos</span><span class="op" id="7100353">.</span><span class="ident" id="7100354">Line</span>&nbsp;<span class="op" id="7100359">=</span>&nbsp;<span class="ident" id="7100361">newlineCount</span><span class="op" id="7100373">(</span><span class="builtintype" id="7100374">string</span><span class="op" id="7100380">(</span><span class="ident" id="7100381">source</span><span class="op" id="7100387">)</span><span class="op" id="7100388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100393">epos</span><span class="op" id="7100397">.</span><span class="ident" id="7100398">Column</span>&nbsp;<span class="op" id="7100405">=</span>&nbsp;<span class="num" id="7100407">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7100411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100415">checkPos</span><span class="op" id="7100423">(</span><span class="ident" id="7100424">t</span><span class="op" id="7100425">,</span>&nbsp;<span class="ident" id="7100427">lit</span><span class="op" id="7100430">,</span>&nbsp;<span class="ident" id="7100432">pos</span><span class="op" id="7100435">,</span>&nbsp;<span class="ident" id="7100437">epos</span><span class="op" id="7100441">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7100446">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100463">e</span>&nbsp;<span class="op" id="7100465">:=</span>&nbsp;<span class="ident" id="7100468">elt</span><span class="op" id="7100471">{</span><span class="ident" id="7100472">token</span><span class="op" id="7100477">.</span><span class="ident" id="7100478">EOF</span><span class="op" id="7100481">,</span>&nbsp;<span class="string" id="7100483">&#34;&#34;</span><span class="op" id="7100485">,</span>&nbsp;<span class="ident" id="7100487">special</span><span class="op" id="7100494">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7100498">if</span>&nbsp;<span class="ident" id="7100501">index</span>&nbsp;<span class="op" id="7100507">&lt;</span>&nbsp;<span class="builtinfunc" id="7100509">len</span><span class="op" id="7100512">(</span><span class="ident" id="7100513">tokens</span><span class="op" id="7100519">)</span>&nbsp;<span class="op" id="7100521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100526">e</span>&nbsp;<span class="op" id="7100528">=</span>&nbsp;<span class="ident" id="7100530">tokens</span><span class="op" id="7100536">[</span><span class="ident" id="7100537">index</span><span class="op" id="7100542">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100547">index</span><span class="op" id="7100552">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7100557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7100561">if</span>&nbsp;<span class="ident" id="7100564">tok</span>&nbsp;<span class="op" id="7100568">!=</span>&nbsp;<span class="ident" id="7100571">e</span><span class="op" id="7100572">.</span><span class="ident" id="7100573">tok</span>&nbsp;<span class="op" id="7100577">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100582">t</span><span class="op" id="7100583">.</span><span class="ident" id="7100584">Errorf</span><span class="op" id="7100590">(</span><span class="string" id="7100591">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7100630">,</span>&nbsp;<span class="ident" id="7100632">lit</span><span class="op" id="7100635">,</span>&nbsp;<span class="ident" id="7100637">tok</span><span class="op" id="7100640">,</span>&nbsp;<span class="ident" id="7100642">e</span><span class="op" id="7100643">.</span><span class="ident" id="7100644">tok</span><span class="op" id="7100647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7100651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7100656">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7100679">if</span>&nbsp;<span class="ident" id="7100682">tokenclass</span><span class="op" id="7100692">(</span><span class="ident" id="7100693">tok</span><span class="op" id="7100696">)</span>&nbsp;<span class="op" id="7100698">!=</span>&nbsp;<span class="ident" id="7100701">e</span><span class="op" id="7100702">.</span><span class="ident" id="7100703">class</span>&nbsp;<span class="op" id="7100709">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100714">t</span><span class="op" id="7100715">.</span><span class="ident" id="7100716">Errorf</span><span class="op" id="7100722">(</span><span class="string" id="7100723">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7100762">,</span>&nbsp;<span class="ident" id="7100764">lit</span><span class="op" id="7100767">,</span>&nbsp;<span class="ident" id="7100769">tokenclass</span><span class="op" id="7100779">(</span><span class="ident" id="7100780">tok</span><span class="op" id="7100783">)</span><span class="op" id="7100784">,</span>&nbsp;<span class="ident" id="7100786">e</span><span class="op" id="7100787">.</span><span class="ident" id="7100788">class</span><span class="op" id="7100793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7100797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7100802">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100821">elit</span>&nbsp;<span class="op" id="7100826">:=</span>&nbsp;<span class="string" id="7100829">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7100834">switch</span>&nbsp;<span class="ident" id="7100841">e</span><span class="op" id="7100842">.</span><span class="ident" id="7100843">tok</span>&nbsp;<span class="op" id="7100847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7100851">case</span>&nbsp;<span class="ident" id="7100856">token</span><span class="op" id="7100861">.</span><span class="ident" id="7100862">COMMENT</span><span class="op" id="7100869">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7100874">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100899">elit</span>&nbsp;<span class="op" id="7100904">=</span>&nbsp;<span class="builtintype" id="7100906">string</span><span class="op" id="7100912">(</span><span class="ident" id="7100913">stripCR</span><span class="op" id="7100920">(</span><span class="op" id="7100921">[</span><span class="op" id="7100922">]</span><span class="builtintype" id="7100923">byte</span><span class="op" id="7100927">(</span><span class="ident" id="7100928">e</span><span class="op" id="7100929">.</span><span class="ident" id="7100930">lit</span><span class="op" id="7100933">)</span><span class="op" id="7100934">)</span><span class="op" id="7100935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7100940">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7100992">if</span>&nbsp;<span class="ident" id="7100995">elit</span><span class="op" id="7100999">[</span><span class="num" id="7101000">1</span><span class="op" id="7101001">]</span>&nbsp;<span class="op" id="7101003">==</span>&nbsp;<span class="string" id="7101006">&#39;/&#39;</span>&nbsp;<span class="op" id="7101010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101016">elit</span>&nbsp;<span class="op" id="7101021">=</span>&nbsp;<span class="ident" id="7101023">elit</span><span class="op" id="7101027">[</span><span class="num" id="7101028">0</span>&nbsp;<span class="op" id="7101030">:</span>&nbsp;<span class="builtinfunc" id="7101032">len</span><span class="op" id="7101035">(</span><span class="ident" id="7101036">elit</span><span class="op" id="7101040">)</span><span class="op" id="7101041">-</span><span class="num" id="7101042">1</span><span class="op" id="7101043">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101052">case</span>&nbsp;<span class="ident" id="7101057">token</span><span class="op" id="7101062">.</span><span class="ident" id="7101063">IDENT</span><span class="op" id="7101068">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101073">elit</span>&nbsp;<span class="op" id="7101078">=</span>&nbsp;<span class="ident" id="7101080">e</span><span class="op" id="7101081">.</span><span class="ident" id="7101082">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101088">case</span>&nbsp;<span class="ident" id="7101093">token</span><span class="op" id="7101098">.</span><span class="ident" id="7101099">SEMICOLON</span><span class="op" id="7101108">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101113">elit</span>&nbsp;<span class="op" id="7101118">=</span>&nbsp;<span class="string" id="7101120">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101126">default</span><span class="op" id="7101133">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101138">if</span>&nbsp;<span class="ident" id="7101141">e</span><span class="op" id="7101142">.</span><span class="ident" id="7101143">tok</span><span class="op" id="7101146">.</span><span class="ident" id="7101147">IsLiteral</span><span class="op" id="7101156">(</span><span class="op" id="7101157">)</span>&nbsp;<span class="op" id="7101159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7101165">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101202">elit</span>&nbsp;<span class="op" id="7101207">=</span>&nbsp;<span class="ident" id="7101209">e</span><span class="op" id="7101210">.</span><span class="ident" id="7101211">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101219">if</span>&nbsp;<span class="ident" id="7101222">elit</span><span class="op" id="7101226">[</span><span class="num" id="7101227">0</span><span class="op" id="7101228">]</span>&nbsp;<span class="op" id="7101230">==</span>&nbsp;<span class="string" id="7101233">&#39;`&#39;</span>&nbsp;<span class="op" id="7101237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101244">elit</span>&nbsp;<span class="op" id="7101249">=</span>&nbsp;<span class="builtintype" id="7101251">string</span><span class="op" id="7101257">(</span><span class="ident" id="7101258">stripCR</span><span class="op" id="7101265">(</span><span class="op" id="7101266">[</span><span class="op" id="7101267">]</span><span class="builtintype" id="7101268">byte</span><span class="op" id="7101272">(</span><span class="ident" id="7101273">elit</span><span class="op" id="7101277">)</span><span class="op" id="7101278">)</span><span class="op" id="7101279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101290">}</span>&nbsp;<span class="keyword" id="7101292">else</span>&nbsp;<span class="keyword" id="7101297">if</span>&nbsp;<span class="ident" id="7101300">e</span><span class="op" id="7101301">.</span><span class="ident" id="7101302">tok</span><span class="op" id="7101305">.</span><span class="ident" id="7101306">IsKeyword</span><span class="op" id="7101315">(</span><span class="op" id="7101316">)</span>&nbsp;<span class="op" id="7101318">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101324">elit</span>&nbsp;<span class="op" id="7101329">=</span>&nbsp;<span class="ident" id="7101331">e</span><span class="op" id="7101332">.</span><span class="ident" id="7101333">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101348">if</span>&nbsp;<span class="ident" id="7101351">lit</span>&nbsp;<span class="op" id="7101355">!=</span>&nbsp;<span class="ident" id="7101358">elit</span>&nbsp;<span class="op" id="7101363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101368">t</span><span class="op" id="7101369">.</span><span class="ident" id="7101370">Errorf</span><span class="op" id="7101376">(</span><span class="string" id="7101377">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7101418">,</span>&nbsp;<span class="ident" id="7101420">lit</span><span class="op" id="7101423">,</span>&nbsp;<span class="ident" id="7101425">lit</span><span class="op" id="7101428">,</span>&nbsp;<span class="ident" id="7101430">elit</span><span class="op" id="7101434">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101443">if</span>&nbsp;<span class="ident" id="7101446">tok</span>&nbsp;<span class="op" id="7101450">==</span>&nbsp;<span class="ident" id="7101453">token</span><span class="op" id="7101458">.</span><span class="ident" id="7101459">EOF</span>&nbsp;<span class="op" id="7101463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101468">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101476">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7101481">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101502">epos</span><span class="op" id="7101506">.</span><span class="ident" id="7101507">Offset</span>&nbsp;<span class="op" id="7101514">+=</span>&nbsp;<span class="builtinfunc" id="7101517">len</span><span class="op" id="7101520">(</span><span class="ident" id="7101521">e</span><span class="op" id="7101522">.</span><span class="ident" id="7101523">lit</span><span class="op" id="7101526">)</span>&nbsp;<span class="op" id="7101528">+</span>&nbsp;<span class="builtinfunc" id="7101530">len</span><span class="op" id="7101533">(</span><span class="ident" id="7101534">whitespace</span><span class="op" id="7101544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101548">epos</span><span class="op" id="7101552">.</span><span class="ident" id="7101553">Line</span>&nbsp;<span class="op" id="7101558">+=</span>&nbsp;<span class="ident" id="7101561">newlineCount</span><span class="op" id="7101573">(</span><span class="ident" id="7101574">e</span><span class="op" id="7101575">.</span><span class="ident" id="7101576">lit</span><span class="op" id="7101579">)</span>&nbsp;<span class="op" id="7101581">+</span>&nbsp;<span class="ident" id="7101583">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101610">if</span>&nbsp;<span class="ident" id="7101613">s</span><span class="op" id="7101614">.</span><span class="ident" id="7101615">ErrorCount</span>&nbsp;<span class="op" id="7101626">!=</span>&nbsp;<span class="num" id="7101629">0</span>&nbsp;<span class="op" id="7101631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101635">t</span><span class="op" id="7101636">.</span><span class="ident" id="7101637">Errorf</span><span class="op" id="7101643">(</span><span class="string" id="7101644">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7101661">,</span>&nbsp;<span class="ident" id="7101663">s</span><span class="op" id="7101664">.</span><span class="ident" id="7101665">ErrorCount</span><span class="op" id="7101675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101678">}</span><br>
<span class="lineno">310</span><span class="op" id="7101680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7101683">func</span>&nbsp;<span class="ident" id="7101688">checkSemi</span><span class="op" id="7101697">(</span><span class="ident" id="7101698">t</span>&nbsp;<span class="op" id="7101700">*</span><span class="ident" id="7101701">testing</span><span class="op" id="7101708">.</span><span class="ident" id="7101709">T</span><span class="op" id="7101710">,</span>&nbsp;<span class="ident" id="7101712">line</span>&nbsp;<span class="builtintype" id="7101717">string</span><span class="op" id="7101723">,</span>&nbsp;<span class="ident" id="7101725">mode</span>&nbsp;<span class="ident" id="7101730">Mode</span><span class="op" id="7101734">)</span>&nbsp;<span class="op" id="7101736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101739">var</span>&nbsp;<span class="ident" id="7101743">S</span>&nbsp;<span class="ident" id="7101745">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101754">file</span>&nbsp;<span class="op" id="7101759">:=</span>&nbsp;<span class="ident" id="7101762">fset</span><span class="op" id="7101766">.</span><span class="ident" id="7101767">AddFile</span><span class="op" id="7101774">(</span><span class="string" id="7101775">&#34;TestSemis&#34;</span><span class="op" id="7101786">,</span>&nbsp;<span class="ident" id="7101788">fset</span><span class="op" id="7101792">.</span><span class="ident" id="7101793">Base</span><span class="op" id="7101797">(</span><span class="op" id="7101798">)</span><span class="op" id="7101799">,</span>&nbsp;<span class="builtinfunc" id="7101801">len</span><span class="op" id="7101804">(</span><span class="ident" id="7101805">line</span><span class="op" id="7101809">)</span><span class="op" id="7101810">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101813">S</span><span class="op" id="7101814">.</span><span class="ident" id="7101815">Init</span><span class="op" id="7101819">(</span><span class="ident" id="7101820">file</span><span class="op" id="7101824">,</span>&nbsp;<span class="op" id="7101826">[</span><span class="op" id="7101827">]</span><span class="builtintype" id="7101828">byte</span><span class="op" id="7101832">(</span><span class="ident" id="7101833">line</span><span class="op" id="7101837">)</span><span class="op" id="7101838">,</span>&nbsp;<span class="ident" id="7101840">nil</span><span class="op" id="7101843">,</span>&nbsp;<span class="ident" id="7101845">mode</span><span class="op" id="7101849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101852">pos</span><span class="op" id="7101855">,</span>&nbsp;<span class="ident" id="7101857">tok</span><span class="op" id="7101860">,</span>&nbsp;<span class="ident" id="7101862">lit</span>&nbsp;<span class="op" id="7101866">:=</span>&nbsp;<span class="ident" id="7101869">S</span><span class="op" id="7101870">.</span><span class="ident" id="7101871">Scan</span><span class="op" id="7101875">(</span><span class="op" id="7101876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101879">for</span>&nbsp;<span class="ident" id="7101883">tok</span>&nbsp;<span class="op" id="7101887">!=</span>&nbsp;<span class="ident" id="7101890">token</span><span class="op" id="7101895">.</span><span class="ident" id="7101896">EOF</span>&nbsp;<span class="op" id="7101900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101904">if</span>&nbsp;<span class="ident" id="7101907">tok</span>&nbsp;<span class="op" id="7101911">==</span>&nbsp;<span class="ident" id="7101914">token</span><span class="op" id="7101919">.</span><span class="ident" id="7101920">ILLEGAL</span>&nbsp;<span class="op" id="7101928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7101933">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7101980">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102022">semiLit</span>&nbsp;<span class="op" id="7102030">:=</span>&nbsp;<span class="string" id="7102033">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7102041">if</span>&nbsp;<span class="ident" id="7102044">lit</span><span class="op" id="7102047">[</span><span class="num" id="7102048">0</span><span class="op" id="7102049">]</span>&nbsp;<span class="op" id="7102051">==</span>&nbsp;<span class="string" id="7102054">&#39;#&#39;</span>&nbsp;<span class="op" id="7102058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102064">semiLit</span>&nbsp;<span class="op" id="7102072">=</span>&nbsp;<span class="string" id="7102074">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7102081">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7102086">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102123">semiPos</span>&nbsp;<span class="op" id="7102131">:=</span>&nbsp;<span class="ident" id="7102134">file</span><span class="op" id="7102138">.</span><span class="ident" id="7102139">Position</span><span class="op" id="7102147">(</span><span class="ident" id="7102148">pos</span><span class="op" id="7102151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102156">semiPos</span><span class="op" id="7102163">.</span><span class="ident" id="7102164">Offset</span><span class="op" id="7102170">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102176">semiPos</span><span class="op" id="7102183">.</span><span class="ident" id="7102184">Column</span><span class="op" id="7102190">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102196">pos</span><span class="op" id="7102199">,</span>&nbsp;<span class="ident" id="7102201">tok</span><span class="op" id="7102204">,</span>&nbsp;<span class="ident" id="7102206">lit</span>&nbsp;<span class="op" id="7102210">=</span>&nbsp;<span class="ident" id="7102212">S</span><span class="op" id="7102213">.</span><span class="ident" id="7102214">Scan</span><span class="op" id="7102218">(</span><span class="op" id="7102219">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7102224">if</span>&nbsp;<span class="ident" id="7102227">tok</span>&nbsp;<span class="op" id="7102231">==</span>&nbsp;<span class="ident" id="7102234">token</span><span class="op" id="7102239">.</span><span class="ident" id="7102240">SEMICOLON</span>&nbsp;<span class="op" id="7102250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7102256">if</span>&nbsp;<span class="ident" id="7102259">lit</span>&nbsp;<span class="op" id="7102263">!=</span>&nbsp;<span class="ident" id="7102266">semiLit</span>&nbsp;<span class="op" id="7102274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102281">t</span><span class="op" id="7102282">.</span><span class="ident" id="7102283">Errorf</span><span class="op" id="7102289">(</span><span class="string" id="7102290">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="7102331">,</span>&nbsp;<span class="ident" id="7102333">line</span><span class="op" id="7102337">,</span>&nbsp;<span class="ident" id="7102339">lit</span><span class="op" id="7102342">,</span>&nbsp;<span class="ident" id="7102344">semiLit</span><span class="op" id="7102351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7102357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102363">checkPos</span><span class="op" id="7102371">(</span><span class="ident" id="7102372">t</span><span class="op" id="7102373">,</span>&nbsp;<span class="ident" id="7102375">line</span><span class="op" id="7102379">,</span>&nbsp;<span class="ident" id="7102381">pos</span><span class="op" id="7102384">,</span>&nbsp;<span class="ident" id="7102386">semiPos</span><span class="op" id="7102393">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7102398">}</span>&nbsp;<span class="keyword" id="7102400">else</span>&nbsp;<span class="op" id="7102405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102411">t</span><span class="op" id="7102412">.</span><span class="ident" id="7102413">Errorf</span><span class="op" id="7102419">(</span><span class="string" id="7102420">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="7102458">,</span>&nbsp;<span class="ident" id="7102460">line</span><span class="op" id="7102464">,</span>&nbsp;<span class="ident" id="7102466">tok</span><span class="op" id="7102469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7102474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7102478">}</span>&nbsp;<span class="keyword" id="7102480">else</span>&nbsp;<span class="keyword" id="7102485">if</span>&nbsp;<span class="ident" id="7102488">tok</span>&nbsp;<span class="op" id="7102492">==</span>&nbsp;<span class="ident" id="7102495">token</span><span class="op" id="7102500">.</span><span class="ident" id="7102501">SEMICOLON</span>&nbsp;<span class="op" id="7102511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102516">t</span><span class="op" id="7102517">.</span><span class="ident" id="7102518">Errorf</span><span class="op" id="7102524">(</span><span class="string" id="7102525">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="7102565">,</span>&nbsp;<span class="ident" id="7102567">line</span><span class="op" id="7102571">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7102575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7102579">pos</span><span class="op" id="7102582">,</span>&nbsp;<span class="ident" id="7102584">tok</span><span class="op" id="7102587">,</span>&nbsp;<span class="ident" id="7102589">lit</span>&nbsp;<span class="op" id="7102593">=</span>&nbsp;<span class="ident" id="7102595">S</span><span class="op" id="7102596">.</span><span class="ident" id="7102597">Scan</span><span class="op" id="7102601">(</span><span class="op" id="7102602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7102605">}</span><br>
<span class="lineno"></span><span class="op" id="7102607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="7102610">var</span>&nbsp;<span class="ident" id="7102614">lines</span>&nbsp;<span class="op" id="7102620">=</span>&nbsp;<span class="op" id="7102622">[</span><span class="op" id="7102623">]</span><span class="builtintype" id="7102624">string</span><span class="op" id="7102630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7102633">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7102683">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102735">&#34;&#34;</span><span class="op" id="7102737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102740">&#34;\ufeff#;&#34;</span><span class="op" id="7102750">,</span>&nbsp;<span class="comment" id="7102752">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102777">&#34;#;&#34;</span><span class="op" id="7102781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102784">&#34;foo$\n&#34;</span><span class="op" id="7102792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102795">&#34;123$\n&#34;</span><span class="op" id="7102803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102806">&#34;1.2$\n&#34;</span><span class="op" id="7102814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102817">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="7102825">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102828">`&#34;x&#34;`</span>&nbsp;<span class="op" id="7102834">+</span>&nbsp;<span class="string" id="7102836">&#34;$\n&#34;</span><span class="op" id="7102841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102844">&#34;`x`$\n&#34;</span><span class="op" id="7102852">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102856">&#34;+\n&#34;</span><span class="op" id="7102861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102864">&#34;-\n&#34;</span><span class="op" id="7102869">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102872">&#34;*\n&#34;</span><span class="op" id="7102877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102880">&#34;/\n&#34;</span><span class="op" id="7102885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102888">&#34;%\n&#34;</span><span class="op" id="7102893">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102897">&#34;&amp;\n&#34;</span><span class="op" id="7102902">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102905">&#34;|\n&#34;</span><span class="op" id="7102910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102913">&#34;^\n&#34;</span><span class="op" id="7102918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102921">&#34;&lt;&lt;\n&#34;</span><span class="op" id="7102927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102930">&#34;&gt;&gt;\n&#34;</span><span class="op" id="7102936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102939">&#34;&amp;^\n&#34;</span><span class="op" id="7102945">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102949">&#34;+=\n&#34;</span><span class="op" id="7102955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102958">&#34;-=\n&#34;</span><span class="op" id="7102964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102967">&#34;*=\n&#34;</span><span class="op" id="7102973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102976">&#34;/=\n&#34;</span><span class="op" id="7102982">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102985">&#34;%=\n&#34;</span><span class="op" id="7102991">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7102995">&#34;&amp;=\n&#34;</span><span class="op" id="7103001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103004">&#34;|=\n&#34;</span><span class="op" id="7103010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103013">&#34;^=\n&#34;</span><span class="op" id="7103019">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103022">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="7103029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103032">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="7103039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103042">&#34;&amp;^=\n&#34;</span><span class="op" id="7103049">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103053">&#34;&amp;&amp;\n&#34;</span><span class="op" id="7103059">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103062">&#34;||\n&#34;</span><span class="op" id="7103068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103071">&#34;&lt;-\n&#34;</span><span class="op" id="7103077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103080">&#34;++$\n&#34;</span><span class="op" id="7103087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103090">&#34;--$\n&#34;</span><span class="op" id="7103097">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103101">&#34;==\n&#34;</span><span class="op" id="7103107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103110">&#34;&lt;\n&#34;</span><span class="op" id="7103115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103118">&#34;&gt;\n&#34;</span><span class="op" id="7103123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103126">&#34;=\n&#34;</span><span class="op" id="7103131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103134">&#34;!\n&#34;</span><span class="op" id="7103139">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103143">&#34;!=\n&#34;</span><span class="op" id="7103149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103152">&#34;&lt;=\n&#34;</span><span class="op" id="7103158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103161">&#34;&gt;=\n&#34;</span><span class="op" id="7103167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103170">&#34;:=\n&#34;</span><span class="op" id="7103176">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103179">&#34;...\n&#34;</span><span class="op" id="7103186">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103190">&#34;(\n&#34;</span><span class="op" id="7103195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103198">&#34;[\n&#34;</span><span class="op" id="7103203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103206">&#34;{\n&#34;</span><span class="op" id="7103211">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103214">&#34;,\n&#34;</span><span class="op" id="7103219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103222">&#34;.\n&#34;</span><span class="op" id="7103227">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103231">&#34;)$\n&#34;</span><span class="op" id="7103237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103240">&#34;]$\n&#34;</span><span class="op" id="7103246">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103249">&#34;}$\n&#34;</span><span class="op" id="7103255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103258">&#34;#;\n&#34;</span><span class="op" id="7103264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103267">&#34;:\n&#34;</span><span class="op" id="7103272">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103276">&#34;break$\n&#34;</span><span class="op" id="7103286">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103289">&#34;case\n&#34;</span><span class="op" id="7103297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103300">&#34;chan\n&#34;</span><span class="op" id="7103308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103311">&#34;const\n&#34;</span><span class="op" id="7103320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103323">&#34;continue$\n&#34;</span><span class="op" id="7103336">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103340">&#34;default\n&#34;</span><span class="op" id="7103351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103354">&#34;defer\n&#34;</span><span class="op" id="7103363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103366">&#34;else\n&#34;</span><span class="op" id="7103374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103377">&#34;fallthrough$\n&#34;</span><span class="op" id="7103393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103396">&#34;for\n&#34;</span><span class="op" id="7103403">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103407">&#34;func\n&#34;</span><span class="op" id="7103415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103418">&#34;go\n&#34;</span><span class="op" id="7103424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103427">&#34;goto\n&#34;</span><span class="op" id="7103435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103438">&#34;if\n&#34;</span><span class="op" id="7103444">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103447">&#34;import\n&#34;</span><span class="op" id="7103457">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103461">&#34;interface\n&#34;</span><span class="op" id="7103474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103477">&#34;map\n&#34;</span><span class="op" id="7103484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103487">&#34;package\n&#34;</span><span class="op" id="7103498">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103501">&#34;range\n&#34;</span><span class="op" id="7103510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103513">&#34;return$\n&#34;</span><span class="op" id="7103524">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103528">&#34;select\n&#34;</span><span class="op" id="7103538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103541">&#34;struct\n&#34;</span><span class="op" id="7103551">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103554">&#34;switch\n&#34;</span><span class="op" id="7103564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103567">&#34;type\n&#34;</span><span class="op" id="7103575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103578">&#34;var\n&#34;</span><span class="op" id="7103585">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103589">&#34;foo$//comment\n&#34;</span><span class="op" id="7103606">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103609">&#34;foo$//comment&#34;</span><span class="op" id="7103624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103627">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="7103646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103649">&#34;foo$/*\n*/&#34;</span><span class="op" id="7103661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103664">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7103687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103690">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7103706">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103710">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="7103732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103735">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="7103755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103758">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="7103781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103784">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="7103800">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103803">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="7103839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103842">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="7103871">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103875">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7103902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103905">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7103938">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7103941">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="7104012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7104015">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="7104055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7104058">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="7104101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7104104">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="7104147">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7104151">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="7104218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7104221">&#34;package&nbsp;main$&#34;</span><span class="op" id="7104236">,</span><br>
<span class="lineno"></span><span class="op" id="7104238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7104241">func</span>&nbsp;<span class="ident" id="7104246">TestSemis</span><span class="op" id="7104255">(</span><span class="ident" id="7104256">t</span>&nbsp;<span class="op" id="7104258">*</span><span class="ident" id="7104259">testing</span><span class="op" id="7104266">.</span><span class="ident" id="7104267">T</span><span class="op" id="7104268">)</span>&nbsp;<span class="op" id="7104270">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7104273">for</span>&nbsp;<span class="ident" id="7104277">_</span><span class="op" id="7104278">,</span>&nbsp;<span class="ident" id="7104280">line</span>&nbsp;<span class="op" id="7104285">:=</span>&nbsp;<span class="keyword" id="7104288">range</span>&nbsp;<span class="ident" id="7104294">lines</span>&nbsp;<span class="op" id="7104300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7104304">checkSemi</span><span class="op" id="7104313">(</span><span class="ident" id="7104314">t</span><span class="op" id="7104315">,</span>&nbsp;<span class="ident" id="7104317">line</span><span class="op" id="7104321">,</span>&nbsp;<span class="num" id="7104323">0</span><span class="op" id="7104324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7104328">checkSemi</span><span class="op" id="7104337">(</span><span class="ident" id="7104338">t</span><span class="op" id="7104339">,</span>&nbsp;<span class="ident" id="7104341">line</span><span class="op" id="7104345">,</span>&nbsp;<span class="ident" id="7104347">ScanComments</span><span class="op" id="7104359">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7104364">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7104429">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7104470">for</span>&nbsp;<span class="ident" id="7104474">i</span>&nbsp;<span class="op" id="7104476">:=</span>&nbsp;<span class="builtinfunc" id="7104479">len</span><span class="op" id="7104482">(</span><span class="ident" id="7104483">line</span><span class="op" id="7104487">)</span>&nbsp;<span class="op" id="7104489">-</span>&nbsp;<span class="num" id="7104491">1</span><span class="op" id="7104492">;</span>&nbsp;<span class="ident" id="7104494">i</span>&nbsp;<span class="op" id="7104496">&gt;=</span>&nbsp;<span class="num" id="7104499">0</span>&nbsp;<span class="op" id="7104501">&amp;&amp;</span>&nbsp;<span class="ident" id="7104504">line</span><span class="op" id="7104508">[</span><span class="ident" id="7104509">i</span><span class="op" id="7104510">]</span>&nbsp;<span class="op" id="7104512">==</span>&nbsp;<span class="string" id="7104515">&#39;\n&#39;</span><span class="op" id="7104519">;</span>&nbsp;<span class="ident" id="7104521">i</span><span class="op" id="7104522">--</span>&nbsp;<span class="op" id="7104525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7104530">checkSemi</span><span class="op" id="7104539">(</span><span class="ident" id="7104540">t</span><span class="op" id="7104541">,</span>&nbsp;<span class="ident" id="7104543">line</span><span class="op" id="7104547">[</span><span class="num" id="7104548">0</span><span class="op" id="7104549">:</span><span class="ident" id="7104550">i</span><span class="op" id="7104551">]</span><span class="op" id="7104552">,</span>&nbsp;<span class="num" id="7104554">0</span><span class="op" id="7104555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7104560">checkSemi</span><span class="op" id="7104569">(</span><span class="ident" id="7104570">t</span><span class="op" id="7104571">,</span>&nbsp;<span class="ident" id="7104573">line</span><span class="op" id="7104577">[</span><span class="num" id="7104578">0</span><span class="op" id="7104579">:</span><span class="ident" id="7104580">i</span><span class="op" id="7104581">]</span><span class="op" id="7104582">,</span>&nbsp;<span class="ident" id="7104584">ScanComments</span><span class="op" id="7104596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7104600">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7104603">}</span><br>
<span class="lineno"></span><span class="op" id="7104605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7104608">type</span>&nbsp;<span class="ident" id="7104613">segment</span>&nbsp;<span class="keyword" id="7104621">struct</span>&nbsp;<span class="op" id="7104628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7104631">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="7104640">string</span>&nbsp;<span class="comment" id="7104647">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7104673">filename</span>&nbsp;<span class="builtintype" id="7104682">string</span>&nbsp;<span class="comment" id="7104689">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7104720">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7104729">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7104736">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="7104769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7104772">var</span>&nbsp;<span class="ident" id="7104776">segments</span>&nbsp;<span class="op" id="7104785">=</span>&nbsp;<span class="op" id="7104787">[</span><span class="op" id="7104788">]</span><span class="ident" id="7104789">segment</span><span class="op" id="7104796">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7104799">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7104876">{</span><span class="string" id="7104877">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="7104886">,</span>&nbsp;<span class="ident" id="7104888">filepath</span><span class="op" id="7104896">.</span><span class="ident" id="7104897">Join</span><span class="op" id="7104901">(</span><span class="string" id="7104902">&#34;dir&#34;</span><span class="op" id="7104907">,</span>&nbsp;<span class="string" id="7104909">&#34;TestLineComments&#34;</span><span class="op" id="7104927">)</span><span class="op" id="7104928">,</span>&nbsp;<span class="num" id="7104930">1</span><span class="op" id="7104931">}</span><span class="op" id="7104932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7104935">{</span><span class="string" id="7104936">&#34;\nline2&#34;</span><span class="op" id="7104945">,</span>&nbsp;<span class="ident" id="7104947">filepath</span><span class="op" id="7104955">.</span><span class="ident" id="7104956">Join</span><span class="op" id="7104960">(</span><span class="string" id="7104961">&#34;dir&#34;</span><span class="op" id="7104966">,</span>&nbsp;<span class="string" id="7104968">&#34;TestLineComments&#34;</span><span class="op" id="7104986">)</span><span class="op" id="7104987">,</span>&nbsp;<span class="num" id="7104989">2</span><span class="op" id="7104990">}</span><span class="op" id="7104991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7104994">{</span><span class="string" id="7104995">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="7105025">,</span>&nbsp;<span class="ident" id="7105027">filepath</span><span class="op" id="7105035">.</span><span class="ident" id="7105036">Join</span><span class="op" id="7105040">(</span><span class="string" id="7105041">&#34;dir&#34;</span><span class="op" id="7105046">,</span>&nbsp;<span class="string" id="7105048">&#34;TestLineComments&#34;</span><span class="op" id="7105066">)</span><span class="op" id="7105067">,</span>&nbsp;<span class="num" id="7105069">3</span><span class="op" id="7105070">}</span><span class="op" id="7105071">,</span>&nbsp;<span class="comment" id="7105073">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105103">{</span><span class="string" id="7105104">&#34;\nline4&#34;</span><span class="op" id="7105113">,</span>&nbsp;<span class="ident" id="7105115">filepath</span><span class="op" id="7105123">.</span><span class="ident" id="7105124">Join</span><span class="op" id="7105128">(</span><span class="string" id="7105129">&#34;dir&#34;</span><span class="op" id="7105134">,</span>&nbsp;<span class="string" id="7105136">&#34;TestLineComments&#34;</span><span class="op" id="7105154">)</span><span class="op" id="7105155">,</span>&nbsp;<span class="num" id="7105157">4</span><span class="op" id="7105158">}</span><span class="op" id="7105159">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105162">{</span><span class="string" id="7105163">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7105197">,</span>&nbsp;<span class="ident" id="7105199">filepath</span><span class="op" id="7105207">.</span><span class="ident" id="7105208">Join</span><span class="op" id="7105212">(</span><span class="string" id="7105213">&#34;dir&#34;</span><span class="op" id="7105218">,</span>&nbsp;<span class="string" id="7105220">&#34;File1.go&#34;</span><span class="op" id="7105230">)</span><span class="op" id="7105231">,</span>&nbsp;<span class="num" id="7105233">100</span><span class="op" id="7105236">}</span><span class="op" id="7105237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105240">{</span><span class="string" id="7105241">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="7105268">,</span>&nbsp;<span class="string" id="7105270">&#34;&#34;</span><span class="op" id="7105272">,</span>&nbsp;<span class="num" id="7105274">42</span><span class="op" id="7105276">}</span><span class="op" id="7105277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105280">{</span><span class="string" id="7105281">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="7105315">,</span>&nbsp;<span class="ident" id="7105317">filepath</span><span class="op" id="7105325">.</span><span class="ident" id="7105326">Join</span><span class="op" id="7105330">(</span><span class="string" id="7105331">&#34;dir&#34;</span><span class="op" id="7105336">,</span>&nbsp;<span class="string" id="7105338">&#34;File2.go&#34;</span><span class="op" id="7105348">)</span><span class="op" id="7105349">,</span>&nbsp;<span class="num" id="7105351">200</span><span class="op" id="7105354">}</span><span class="op" id="7105355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105358">{</span><span class="string" id="7105359">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7105388">,</span>&nbsp;<span class="ident" id="7105390">filepath</span><span class="op" id="7105398">.</span><span class="ident" id="7105399">Join</span><span class="op" id="7105403">(</span><span class="string" id="7105404">&#34;dir&#34;</span><span class="op" id="7105409">,</span>&nbsp;<span class="string" id="7105411">&#34;foo&#34;</span><span class="op" id="7105416">)</span><span class="op" id="7105417">,</span>&nbsp;<span class="num" id="7105419">42</span><span class="op" id="7105421">}</span><span class="op" id="7105422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105425">{</span><span class="string" id="7105426">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="7105454">,</span>&nbsp;<span class="ident" id="7105456">filepath</span><span class="op" id="7105464">.</span><span class="ident" id="7105465">Join</span><span class="op" id="7105469">(</span><span class="string" id="7105470">&#34;dir&#34;</span><span class="op" id="7105475">,</span>&nbsp;<span class="string" id="7105477">&#34;foo&#34;</span><span class="op" id="7105482">)</span><span class="op" id="7105483">,</span>&nbsp;<span class="num" id="7105485">44</span><span class="op" id="7105487">}</span><span class="op" id="7105488">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7105500">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105530">{</span><span class="string" id="7105531">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="7105558">,</span>&nbsp;<span class="ident" id="7105560">filepath</span><span class="op" id="7105568">.</span><span class="ident" id="7105569">Join</span><span class="op" id="7105573">(</span><span class="string" id="7105574">&#34;dir&#34;</span><span class="op" id="7105579">,</span>&nbsp;<span class="string" id="7105581">&#34;foo&#34;</span><span class="op" id="7105586">)</span><span class="op" id="7105587">,</span>&nbsp;<span class="num" id="7105589">46</span><span class="op" id="7105591">}</span><span class="op" id="7105592">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7105605">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105635">{</span><span class="string" id="7105636">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="7105674">,</span>&nbsp;<span class="ident" id="7105676">filepath</span><span class="op" id="7105684">.</span><span class="ident" id="7105685">Join</span><span class="op" id="7105689">(</span><span class="string" id="7105690">&#34;dir&#34;</span><span class="op" id="7105695">,</span>&nbsp;<span class="string" id="7105697">&#34;foo&#34;</span><span class="op" id="7105702">)</span><span class="op" id="7105703">,</span>&nbsp;<span class="num" id="7105705">48</span><span class="op" id="7105707">}</span><span class="op" id="7105708">,</span>&nbsp;<span class="comment" id="7105710">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105740">{</span><span class="string" id="7105741">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7105770">,</span>&nbsp;<span class="ident" id="7105772">filepath</span><span class="op" id="7105780">.</span><span class="ident" id="7105781">Join</span><span class="op" id="7105785">(</span><span class="string" id="7105786">&#34;dir&#34;</span><span class="op" id="7105791">,</span>&nbsp;<span class="string" id="7105793">&#34;foo&#34;</span><span class="op" id="7105798">)</span><span class="op" id="7105799">,</span>&nbsp;<span class="num" id="7105801">42</span><span class="op" id="7105803">}</span><span class="op" id="7105804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105807">{</span><span class="string" id="7105808">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7105848">,</span>&nbsp;<span class="ident" id="7105850">filepath</span><span class="op" id="7105858">.</span><span class="ident" id="7105859">Join</span><span class="op" id="7105863">(</span><span class="string" id="7105864">&#34;dir&#34;</span><span class="op" id="7105869">,</span>&nbsp;<span class="string" id="7105871">&#34;a&#34;</span><span class="op" id="7105874">,</span>&nbsp;<span class="string" id="7105876">&#34;b&#34;</span><span class="op" id="7105879">,</span>&nbsp;<span class="string" id="7105881">&#34;c&#34;</span><span class="op" id="7105884">,</span>&nbsp;<span class="string" id="7105886">&#34;File1.go&#34;</span><span class="op" id="7105896">)</span><span class="op" id="7105897">,</span>&nbsp;<span class="num" id="7105899">100</span><span class="op" id="7105902">}</span><span class="op" id="7105903">,</span><br>
<span class="lineno"></span><span class="op" id="7105905">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="7105908">var</span>&nbsp;<span class="ident" id="7105912">unixsegments</span>&nbsp;<span class="op" id="7105925">=</span>&nbsp;<span class="op" id="7105927">[</span><span class="op" id="7105928">]</span><span class="ident" id="7105929">segment</span><span class="op" id="7105936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7105939">{</span><span class="string" id="7105940">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7105968">,</span>&nbsp;<span class="string" id="7105970">&#34;/bar&#34;</span><span class="op" id="7105976">,</span>&nbsp;<span class="num" id="7105978">42</span><span class="op" id="7105980">}</span><span class="op" id="7105981">,</span><br>
<span class="lineno"></span><span class="op" id="7105983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="7105986">var</span>&nbsp;<span class="ident" id="7105990">winsegments</span>&nbsp;<span class="op" id="7106002">=</span>&nbsp;<span class="op" id="7106004">[</span><span class="op" id="7106005">]</span><span class="ident" id="7106006">segment</span><span class="op" id="7106013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7106016">{</span><span class="string" id="7106017">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7106048">,</span>&nbsp;<span class="string" id="7106050">&#34;c:\\bar&#34;</span><span class="op" id="7106059">,</span>&nbsp;<span class="num" id="7106061">42</span><span class="op" id="7106063">}</span><span class="op" id="7106064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7106067">{</span><span class="string" id="7106068">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7106111">,</span>&nbsp;<span class="string" id="7106113">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="7106132">,</span>&nbsp;<span class="num" id="7106134">100</span><span class="op" id="7106137">}</span><span class="op" id="7106138">,</span><br>
<span class="lineno"></span><span class="op" id="7106140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="7106143">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7106229">func</span>&nbsp;<span class="ident" id="7106234">TestLineComments</span><span class="op" id="7106250">(</span><span class="ident" id="7106251">t</span>&nbsp;<span class="op" id="7106253">*</span><span class="ident" id="7106254">testing</span><span class="op" id="7106261">.</span><span class="ident" id="7106262">T</span><span class="op" id="7106263">)</span>&nbsp;<span class="op" id="7106265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106268">segs</span>&nbsp;<span class="op" id="7106273">:=</span>&nbsp;<span class="ident" id="7106276">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7106286">if</span>&nbsp;<span class="ident" id="7106289">runtime</span><span class="op" id="7106296">.</span><span class="ident" id="7106297">GOOS</span>&nbsp;<span class="op" id="7106302">==</span>&nbsp;<span class="string" id="7106305">&#34;windows&#34;</span>&nbsp;<span class="op" id="7106315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106319">segs</span>&nbsp;<span class="op" id="7106324">=</span>&nbsp;<span class="builtinfunc" id="7106326">append</span><span class="op" id="7106332">(</span><span class="ident" id="7106333">segs</span><span class="op" id="7106337">,</span>&nbsp;<span class="ident" id="7106339">winsegments</span><span class="op" id="7106350">...</span><span class="op" id="7106353">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7106356">}</span>&nbsp;<span class="keyword" id="7106358">else</span>&nbsp;<span class="op" id="7106363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106367">segs</span>&nbsp;<span class="op" id="7106372">=</span>&nbsp;<span class="builtinfunc" id="7106374">append</span><span class="op" id="7106380">(</span><span class="ident" id="7106381">segs</span><span class="op" id="7106385">,</span>&nbsp;<span class="ident" id="7106387">unixsegments</span><span class="op" id="7106399">...</span><span class="op" id="7106402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7106405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7106409">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7106425">var</span>&nbsp;<span class="ident" id="7106429">src</span>&nbsp;<span class="builtintype" id="7106433">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7106441">for</span>&nbsp;<span class="ident" id="7106445">_</span><span class="op" id="7106446">,</span>&nbsp;<span class="ident" id="7106448">e</span>&nbsp;<span class="op" id="7106450">:=</span>&nbsp;<span class="keyword" id="7106453">range</span>&nbsp;<span class="ident" id="7106459">segs</span>&nbsp;<span class="op" id="7106464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106468">src</span>&nbsp;<span class="op" id="7106472">+=</span>&nbsp;<span class="ident" id="7106475">e</span><span class="op" id="7106476">.</span><span class="ident" id="7106477">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7106486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7106490">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7106506">var</span>&nbsp;<span class="ident" id="7106510">S</span>&nbsp;<span class="ident" id="7106512">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106521">file</span>&nbsp;<span class="op" id="7106526">:=</span>&nbsp;<span class="ident" id="7106529">fset</span><span class="op" id="7106533">.</span><span class="ident" id="7106534">AddFile</span><span class="op" id="7106541">(</span><span class="ident" id="7106542">filepath</span><span class="op" id="7106550">.</span><span class="ident" id="7106551">Join</span><span class="op" id="7106555">(</span><span class="string" id="7106556">&#34;dir&#34;</span><span class="op" id="7106561">,</span>&nbsp;<span class="string" id="7106563">&#34;TestLineComments&#34;</span><span class="op" id="7106581">)</span><span class="op" id="7106582">,</span>&nbsp;<span class="ident" id="7106584">fset</span><span class="op" id="7106588">.</span><span class="ident" id="7106589">Base</span><span class="op" id="7106593">(</span><span class="op" id="7106594">)</span><span class="op" id="7106595">,</span>&nbsp;<span class="builtinfunc" id="7106597">len</span><span class="op" id="7106600">(</span><span class="ident" id="7106601">src</span><span class="op" id="7106604">)</span><span class="op" id="7106605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106608">S</span><span class="op" id="7106609">.</span><span class="ident" id="7106610">Init</span><span class="op" id="7106614">(</span><span class="ident" id="7106615">file</span><span class="op" id="7106619">,</span>&nbsp;<span class="op" id="7106621">[</span><span class="op" id="7106622">]</span><span class="builtintype" id="7106623">byte</span><span class="op" id="7106627">(</span><span class="ident" id="7106628">src</span><span class="op" id="7106631">)</span><span class="op" id="7106632">,</span>&nbsp;<span class="ident" id="7106634">nil</span><span class="op" id="7106637">,</span>&nbsp;<span class="ident" id="7106639">dontInsertSemis</span><span class="op" id="7106654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7106657">for</span>&nbsp;<span class="ident" id="7106661">_</span><span class="op" id="7106662">,</span>&nbsp;<span class="ident" id="7106664">s</span>&nbsp;<span class="op" id="7106666">:=</span>&nbsp;<span class="keyword" id="7106669">range</span>&nbsp;<span class="ident" id="7106675">segs</span>&nbsp;<span class="op" id="7106680">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106684">p</span><span class="op" id="7106685">,</span>&nbsp;<span class="ident" id="7106687">_</span><span class="op" id="7106688">,</span>&nbsp;<span class="ident" id="7106690">lit</span>&nbsp;<span class="op" id="7106694">:=</span>&nbsp;<span class="ident" id="7106697">S</span><span class="op" id="7106698">.</span><span class="ident" id="7106699">Scan</span><span class="op" id="7106703">(</span><span class="op" id="7106704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106708">pos</span>&nbsp;<span class="op" id="7106712">:=</span>&nbsp;<span class="ident" id="7106715">file</span><span class="op" id="7106719">.</span><span class="ident" id="7106720">Position</span><span class="op" id="7106728">(</span><span class="ident" id="7106729">p</span><span class="op" id="7106730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106734">checkPos</span><span class="op" id="7106742">(</span><span class="ident" id="7106743">t</span><span class="op" id="7106744">,</span>&nbsp;<span class="ident" id="7106746">lit</span><span class="op" id="7106749">,</span>&nbsp;<span class="ident" id="7106751">p</span><span class="op" id="7106752">,</span>&nbsp;<span class="ident" id="7106754">token</span><span class="op" id="7106759">.</span><span class="ident" id="7106760">Position</span><span class="op" id="7106768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106773">Filename</span><span class="op" id="7106781">:</span>&nbsp;<span class="ident" id="7106783">s</span><span class="op" id="7106784">.</span><span class="ident" id="7106785">filename</span><span class="op" id="7106793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106798">Offset</span><span class="op" id="7106804">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7106808">pos</span><span class="op" id="7106811">.</span><span class="ident" id="7106812">Offset</span><span class="op" id="7106818">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106823">Line</span><span class="op" id="7106827">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106833">s</span><span class="op" id="7106834">.</span><span class="ident" id="7106835">line</span><span class="op" id="7106839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106844">Column</span><span class="op" id="7106850">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7106854">pos</span><span class="op" id="7106857">.</span><span class="ident" id="7106858">Column</span><span class="op" id="7106864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7106868">}</span><span class="op" id="7106869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7106872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7106876">if</span>&nbsp;<span class="ident" id="7106879">S</span><span class="op" id="7106880">.</span><span class="ident" id="7106881">ErrorCount</span>&nbsp;<span class="op" id="7106892">!=</span>&nbsp;<span class="num" id="7106895">0</span>&nbsp;<span class="op" id="7106897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7106901">t</span><span class="op" id="7106902">.</span><span class="ident" id="7106903">Errorf</span><span class="op" id="7106909">(</span><span class="string" id="7106910">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7106927">,</span>&nbsp;<span class="ident" id="7106929">S</span><span class="op" id="7106930">.</span><span class="ident" id="7106931">ErrorCount</span><span class="op" id="7106941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7106944">}</span><br>
<span class="lineno"></span><span class="op" id="7106946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="7106949">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7107026">func</span>&nbsp;<span class="ident" id="7107031">TestInit</span><span class="op" id="7107039">(</span><span class="ident" id="7107040">t</span>&nbsp;<span class="op" id="7107042">*</span><span class="ident" id="7107043">testing</span><span class="op" id="7107050">.</span><span class="ident" id="7107051">T</span><span class="op" id="7107052">)</span>&nbsp;<span class="op" id="7107054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7107057">var</span>&nbsp;<span class="ident" id="7107061">s</span>&nbsp;<span class="ident" id="7107063">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7107073">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107086">src1</span>&nbsp;<span class="op" id="7107091">:=</span>&nbsp;<span class="string" id="7107094">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107109">f1</span>&nbsp;<span class="op" id="7107112">:=</span>&nbsp;<span class="ident" id="7107115">fset</span><span class="op" id="7107119">.</span><span class="ident" id="7107120">AddFile</span><span class="op" id="7107127">(</span><span class="string" id="7107128">&#34;src1&#34;</span><span class="op" id="7107134">,</span>&nbsp;<span class="ident" id="7107136">fset</span><span class="op" id="7107140">.</span><span class="ident" id="7107141">Base</span><span class="op" id="7107145">(</span><span class="op" id="7107146">)</span><span class="op" id="7107147">,</span>&nbsp;<span class="builtinfunc" id="7107149">len</span><span class="op" id="7107152">(</span><span class="ident" id="7107153">src1</span><span class="op" id="7107157">)</span><span class="op" id="7107158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107161">s</span><span class="op" id="7107162">.</span><span class="ident" id="7107163">Init</span><span class="op" id="7107167">(</span><span class="ident" id="7107168">f1</span><span class="op" id="7107170">,</span>&nbsp;<span class="op" id="7107172">[</span><span class="op" id="7107173">]</span><span class="builtintype" id="7107174">byte</span><span class="op" id="7107178">(</span><span class="ident" id="7107179">src1</span><span class="op" id="7107183">)</span><span class="op" id="7107184">,</span>&nbsp;<span class="ident" id="7107186">nil</span><span class="op" id="7107189">,</span>&nbsp;<span class="ident" id="7107191">dontInsertSemis</span><span class="op" id="7107206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7107209">if</span>&nbsp;<span class="ident" id="7107212">f1</span><span class="op" id="7107214">.</span><span class="ident" id="7107215">Size</span><span class="op" id="7107219">(</span><span class="op" id="7107220">)</span>&nbsp;<span class="op" id="7107222">!=</span>&nbsp;<span class="builtinfunc" id="7107225">len</span><span class="op" id="7107228">(</span><span class="ident" id="7107229">src1</span><span class="op" id="7107233">)</span>&nbsp;<span class="op" id="7107235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107239">t</span><span class="op" id="7107240">.</span><span class="ident" id="7107241">Errorf</span><span class="op" id="7107247">(</span><span class="string" id="7107248">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7107284">,</span>&nbsp;<span class="ident" id="7107286">f1</span><span class="op" id="7107288">.</span><span class="ident" id="7107289">Size</span><span class="op" id="7107293">(</span><span class="op" id="7107294">)</span><span class="op" id="7107295">,</span>&nbsp;<span class="builtinfunc" id="7107297">len</span><span class="op" id="7107300">(</span><span class="ident" id="7107301">src1</span><span class="op" id="7107305">)</span><span class="op" id="7107306">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7107309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107312">s</span><span class="op" id="7107313">.</span><span class="ident" id="7107314">Scan</span><span class="op" id="7107318">(</span><span class="op" id="7107319">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7107334">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107341">s</span><span class="op" id="7107342">.</span><span class="ident" id="7107343">Scan</span><span class="op" id="7107347">(</span><span class="op" id="7107348">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7107363">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107372">_</span><span class="op" id="7107373">,</span>&nbsp;<span class="ident" id="7107375">tok</span><span class="op" id="7107378">,</span>&nbsp;<span class="ident" id="7107380">_</span>&nbsp;<span class="op" id="7107382">:=</span>&nbsp;<span class="ident" id="7107385">s</span><span class="op" id="7107386">.</span><span class="ident" id="7107387">Scan</span><span class="op" id="7107391">(</span><span class="op" id="7107392">)</span>&nbsp;<span class="comment" id="7107394">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7107400">if</span>&nbsp;<span class="ident" id="7107403">tok</span>&nbsp;<span class="op" id="7107407">!=</span>&nbsp;<span class="ident" id="7107410">token</span><span class="op" id="7107415">.</span><span class="ident" id="7107416">LBRACE</span>&nbsp;<span class="op" id="7107423">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107427">t</span><span class="op" id="7107428">.</span><span class="ident" id="7107429">Errorf</span><span class="op" id="7107435">(</span><span class="string" id="7107436">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7107468">,</span>&nbsp;<span class="ident" id="7107470">tok</span><span class="op" id="7107473">,</span>&nbsp;<span class="ident" id="7107475">token</span><span class="op" id="7107480">.</span><span class="ident" id="7107481">LBRACE</span><span class="op" id="7107487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7107490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7107494">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107507">src2</span>&nbsp;<span class="op" id="7107512">:=</span>&nbsp;<span class="string" id="7107515">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107530">f2</span>&nbsp;<span class="op" id="7107533">:=</span>&nbsp;<span class="ident" id="7107536">fset</span><span class="op" id="7107540">.</span><span class="ident" id="7107541">AddFile</span><span class="op" id="7107548">(</span><span class="string" id="7107549">&#34;src2&#34;</span><span class="op" id="7107555">,</span>&nbsp;<span class="ident" id="7107557">fset</span><span class="op" id="7107561">.</span><span class="ident" id="7107562">Base</span><span class="op" id="7107566">(</span><span class="op" id="7107567">)</span><span class="op" id="7107568">,</span>&nbsp;<span class="builtinfunc" id="7107570">len</span><span class="op" id="7107573">(</span><span class="ident" id="7107574">src2</span><span class="op" id="7107578">)</span><span class="op" id="7107579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107582">s</span><span class="op" id="7107583">.</span><span class="ident" id="7107584">Init</span><span class="op" id="7107588">(</span><span class="ident" id="7107589">f2</span><span class="op" id="7107591">,</span>&nbsp;<span class="op" id="7107593">[</span><span class="op" id="7107594">]</span><span class="builtintype" id="7107595">byte</span><span class="op" id="7107599">(</span><span class="ident" id="7107600">src2</span><span class="op" id="7107604">)</span><span class="op" id="7107605">,</span>&nbsp;<span class="ident" id="7107607">nil</span><span class="op" id="7107610">,</span>&nbsp;<span class="ident" id="7107612">dontInsertSemis</span><span class="op" id="7107627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7107630">if</span>&nbsp;<span class="ident" id="7107633">f2</span><span class="op" id="7107635">.</span><span class="ident" id="7107636">Size</span><span class="op" id="7107640">(</span><span class="op" id="7107641">)</span>&nbsp;<span class="op" id="7107643">!=</span>&nbsp;<span class="builtinfunc" id="7107646">len</span><span class="op" id="7107649">(</span><span class="ident" id="7107650">src2</span><span class="op" id="7107654">)</span>&nbsp;<span class="op" id="7107656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107660">t</span><span class="op" id="7107661">.</span><span class="ident" id="7107662">Errorf</span><span class="op" id="7107668">(</span><span class="string" id="7107669">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7107705">,</span>&nbsp;<span class="ident" id="7107707">f2</span><span class="op" id="7107709">.</span><span class="ident" id="7107710">Size</span><span class="op" id="7107714">(</span><span class="op" id="7107715">)</span><span class="op" id="7107716">,</span>&nbsp;<span class="builtinfunc" id="7107718">len</span><span class="op" id="7107721">(</span><span class="ident" id="7107722">src2</span><span class="op" id="7107726">)</span><span class="op" id="7107727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7107730">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107733">_</span><span class="op" id="7107734">,</span>&nbsp;<span class="ident" id="7107736">tok</span><span class="op" id="7107739">,</span>&nbsp;<span class="ident" id="7107741">_</span>&nbsp;<span class="op" id="7107743">=</span>&nbsp;<span class="ident" id="7107745">s</span><span class="op" id="7107746">.</span><span class="ident" id="7107747">Scan</span><span class="op" id="7107751">(</span><span class="op" id="7107752">)</span>&nbsp;<span class="comment" id="7107754">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7107761">if</span>&nbsp;<span class="ident" id="7107764">tok</span>&nbsp;<span class="op" id="7107768">!=</span>&nbsp;<span class="ident" id="7107771">token</span><span class="op" id="7107776">.</span><span class="ident" id="7107777">GO</span>&nbsp;<span class="op" id="7107780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107784">t</span><span class="op" id="7107785">.</span><span class="ident" id="7107786">Errorf</span><span class="op" id="7107792">(</span><span class="string" id="7107793">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7107825">,</span>&nbsp;<span class="ident" id="7107827">tok</span><span class="op" id="7107830">,</span>&nbsp;<span class="ident" id="7107832">token</span><span class="op" id="7107837">.</span><span class="ident" id="7107838">GO</span><span class="op" id="7107840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7107843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7107847">if</span>&nbsp;<span class="ident" id="7107850">s</span><span class="op" id="7107851">.</span><span class="ident" id="7107852">ErrorCount</span>&nbsp;<span class="op" id="7107863">!=</span>&nbsp;<span class="num" id="7107866">0</span>&nbsp;<span class="op" id="7107868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7107872">t</span><span class="op" id="7107873">.</span><span class="ident" id="7107874">Errorf</span><span class="op" id="7107880">(</span><span class="string" id="7107881">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7107898">,</span>&nbsp;<span class="ident" id="7107900">s</span><span class="op" id="7107901">.</span><span class="ident" id="7107902">ErrorCount</span><span class="op" id="7107912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7107915">}</span><br>
<span class="lineno"></span><span class="op" id="7107917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7107920">func</span>&nbsp;<span class="ident" id="7107925">TestStdErrorHander</span><span class="op" id="7107943">(</span><span class="ident" id="7107944">t</span>&nbsp;<span class="op" id="7107946">*</span><span class="ident" id="7107947">testing</span><span class="op" id="7107954">.</span><span class="ident" id="7107955">T</span><span class="op" id="7107956">)</span>&nbsp;<span class="op" id="7107958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7107961">const</span>&nbsp;<span class="ident" id="7107967">src</span>&nbsp;<span class="op" id="7107971">=</span>&nbsp;<span class="string" id="7107973">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7107979">+</span>&nbsp;<span class="comment" id="7107981">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7108020">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7108028">+</span>&nbsp;<span class="comment" id="7108030">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7108063">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="7108083">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7108087">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7108093">+</span>&nbsp;<span class="comment" id="7108095">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7108130">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="7108149">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7108153">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7108161">+</span>&nbsp;<span class="comment" id="7108163">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7108202">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="7108221">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7108225">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="7108233">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7108266">var</span>&nbsp;<span class="ident" id="7108270">list</span>&nbsp;<span class="ident" id="7108275">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108286">eh</span>&nbsp;<span class="op" id="7108289">:=</span>&nbsp;<span class="keyword" id="7108292">func</span><span class="op" id="7108296">(</span><span class="ident" id="7108297">pos</span>&nbsp;<span class="ident" id="7108301">token</span><span class="op" id="7108306">.</span><span class="ident" id="7108307">Position</span><span class="op" id="7108315">,</span>&nbsp;<span class="ident" id="7108317">msg</span>&nbsp;<span class="builtintype" id="7108321">string</span><span class="op" id="7108327">)</span>&nbsp;<span class="op" id="7108329">{</span>&nbsp;<span class="ident" id="7108331">list</span><span class="op" id="7108335">.</span><span class="ident" id="7108336">Add</span><span class="op" id="7108339">(</span><span class="ident" id="7108340">pos</span><span class="op" id="7108343">,</span>&nbsp;<span class="ident" id="7108345">msg</span><span class="op" id="7108348">)</span>&nbsp;<span class="op" id="7108350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7108354">var</span>&nbsp;<span class="ident" id="7108358">s</span>&nbsp;<span class="ident" id="7108360">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108369">s</span><span class="op" id="7108370">.</span><span class="ident" id="7108371">Init</span><span class="op" id="7108375">(</span><span class="ident" id="7108376">fset</span><span class="op" id="7108380">.</span><span class="ident" id="7108381">AddFile</span><span class="op" id="7108388">(</span><span class="string" id="7108389">&#34;File1&#34;</span><span class="op" id="7108396">,</span>&nbsp;<span class="ident" id="7108398">fset</span><span class="op" id="7108402">.</span><span class="ident" id="7108403">Base</span><span class="op" id="7108407">(</span><span class="op" id="7108408">)</span><span class="op" id="7108409">,</span>&nbsp;<span class="builtinfunc" id="7108411">len</span><span class="op" id="7108414">(</span><span class="ident" id="7108415">src</span><span class="op" id="7108418">)</span><span class="op" id="7108419">)</span><span class="op" id="7108420">,</span>&nbsp;<span class="op" id="7108422">[</span><span class="op" id="7108423">]</span><span class="builtintype" id="7108424">byte</span><span class="op" id="7108428">(</span><span class="ident" id="7108429">src</span><span class="op" id="7108432">)</span><span class="op" id="7108433">,</span>&nbsp;<span class="ident" id="7108435">eh</span><span class="op" id="7108437">,</span>&nbsp;<span class="ident" id="7108439">dontInsertSemis</span><span class="op" id="7108454">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7108457">for</span>&nbsp;<span class="op" id="7108461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7108465">if</span>&nbsp;<span class="ident" id="7108468">_</span><span class="op" id="7108469">,</span>&nbsp;<span class="ident" id="7108471">tok</span><span class="op" id="7108474">,</span>&nbsp;<span class="ident" id="7108476">_</span>&nbsp;<span class="op" id="7108478">:=</span>&nbsp;<span class="ident" id="7108481">s</span><span class="op" id="7108482">.</span><span class="ident" id="7108483">Scan</span><span class="op" id="7108487">(</span><span class="op" id="7108488">)</span><span class="op" id="7108489">;</span>&nbsp;<span class="ident" id="7108491">tok</span>&nbsp;<span class="op" id="7108495">==</span>&nbsp;<span class="ident" id="7108498">token</span><span class="op" id="7108503">.</span><span class="ident" id="7108504">EOF</span>&nbsp;<span class="op" id="7108508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7108513">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7108521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7108524">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7108528">if</span>&nbsp;<span class="builtinfunc" id="7108531">len</span><span class="op" id="7108534">(</span><span class="ident" id="7108535">list</span><span class="op" id="7108539">)</span>&nbsp;<span class="op" id="7108541">!=</span>&nbsp;<span class="ident" id="7108544">s</span><span class="op" id="7108545">.</span><span class="ident" id="7108546">ErrorCount</span>&nbsp;<span class="op" id="7108557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108561">t</span><span class="op" id="7108562">.</span><span class="ident" id="7108563">Errorf</span><span class="op" id="7108569">(</span><span class="string" id="7108570">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7108600">,</span>&nbsp;<span class="builtinfunc" id="7108602">len</span><span class="op" id="7108605">(</span><span class="ident" id="7108606">list</span><span class="op" id="7108610">)</span><span class="op" id="7108611">,</span>&nbsp;<span class="ident" id="7108613">s</span><span class="op" id="7108614">.</span><span class="ident" id="7108615">ErrorCount</span><span class="op" id="7108625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7108628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7108632">if</span>&nbsp;<span class="builtinfunc" id="7108635">len</span><span class="op" id="7108638">(</span><span class="ident" id="7108639">list</span><span class="op" id="7108643">)</span>&nbsp;<span class="op" id="7108645">!=</span>&nbsp;<span class="num" id="7108648">9</span>&nbsp;<span class="op" id="7108650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108654">t</span><span class="op" id="7108655">.</span><span class="ident" id="7108656">Errorf</span><span class="op" id="7108662">(</span><span class="string" id="7108663">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7108696">,</span>&nbsp;<span class="builtinfunc" id="7108698">len</span><span class="op" id="7108701">(</span><span class="ident" id="7108702">list</span><span class="op" id="7108706">)</span><span class="op" id="7108707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108711">PrintError</span><span class="op" id="7108721">(</span><span class="ident" id="7108722">os</span><span class="op" id="7108724">.</span><span class="ident" id="7108725">Stderr</span><span class="op" id="7108731">,</span>&nbsp;<span class="ident" id="7108733">list</span><span class="op" id="7108737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7108740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108744">list</span><span class="op" id="7108748">.</span><span class="ident" id="7108749">Sort</span><span class="op" id="7108753">(</span><span class="op" id="7108754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7108757">if</span>&nbsp;<span class="builtinfunc" id="7108760">len</span><span class="op" id="7108763">(</span><span class="ident" id="7108764">list</span><span class="op" id="7108768">)</span>&nbsp;<span class="op" id="7108770">!=</span>&nbsp;<span class="num" id="7108773">9</span>&nbsp;<span class="op" id="7108775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108779">t</span><span class="op" id="7108780">.</span><span class="ident" id="7108781">Errorf</span><span class="op" id="7108787">(</span><span class="string" id="7108788">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7108824">,</span>&nbsp;<span class="builtinfunc" id="7108826">len</span><span class="op" id="7108829">(</span><span class="ident" id="7108830">list</span><span class="op" id="7108834">)</span><span class="op" id="7108835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108839">PrintError</span><span class="op" id="7108849">(</span><span class="ident" id="7108850">os</span><span class="op" id="7108852">.</span><span class="ident" id="7108853">Stderr</span><span class="op" id="7108859">,</span>&nbsp;<span class="ident" id="7108861">list</span><span class="op" id="7108865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7108868">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108872">list</span><span class="op" id="7108876">.</span><span class="ident" id="7108877">RemoveMultiples</span><span class="op" id="7108892">(</span><span class="op" id="7108893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7108896">if</span>&nbsp;<span class="builtinfunc" id="7108899">len</span><span class="op" id="7108902">(</span><span class="ident" id="7108903">list</span><span class="op" id="7108907">)</span>&nbsp;<span class="op" id="7108909">!=</span>&nbsp;<span class="num" id="7108912">4</span>&nbsp;<span class="op" id="7108914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108918">t</span><span class="op" id="7108919">.</span><span class="ident" id="7108920">Errorf</span><span class="op" id="7108926">(</span><span class="string" id="7108927">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="7108969">,</span>&nbsp;<span class="builtinfunc" id="7108971">len</span><span class="op" id="7108974">(</span><span class="ident" id="7108975">list</span><span class="op" id="7108979">)</span><span class="op" id="7108980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7108984">PrintError</span><span class="op" id="7108994">(</span><span class="ident" id="7108995">os</span><span class="op" id="7108997">.</span><span class="ident" id="7108998">Stderr</span><span class="op" id="7109004">,</span>&nbsp;<span class="ident" id="7109006">list</span><span class="op" id="7109010">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7109013">}</span><br>
<span class="lineno"></span><span class="op" id="7109015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7109018">type</span>&nbsp;<span class="ident" id="7109023">errorCollector</span>&nbsp;<span class="keyword" id="7109038">struct</span>&nbsp;<span class="op" id="7109045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109048">cnt</span>&nbsp;<span class="builtintype" id="7109052">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7109067">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109100">msg</span>&nbsp;<span class="builtintype" id="7109104">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7109119">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109154">pos</span>&nbsp;<span class="ident" id="7109158">token</span><span class="op" id="7109163">.</span><span class="ident" id="7109164">Position</span>&nbsp;<span class="comment" id="7109173">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="7109208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7109211">func</span>&nbsp;<span class="ident" id="7109216">checkError</span><span class="op" id="7109226">(</span><span class="ident" id="7109227">t</span>&nbsp;<span class="op" id="7109229">*</span><span class="ident" id="7109230">testing</span><span class="op" id="7109237">.</span><span class="ident" id="7109238">T</span><span class="op" id="7109239">,</span>&nbsp;<span class="ident" id="7109241">src</span>&nbsp;<span class="builtintype" id="7109245">string</span><span class="op" id="7109251">,</span>&nbsp;<span class="ident" id="7109253">tok</span>&nbsp;<span class="ident" id="7109257">token</span><span class="op" id="7109262">.</span><span class="ident" id="7109263">Token</span><span class="op" id="7109268">,</span>&nbsp;<span class="ident" id="7109270">pos</span>&nbsp;<span class="builtintype" id="7109274">int</span><span class="op" id="7109277">,</span>&nbsp;<span class="ident" id="7109279">lit</span><span class="op" id="7109282">,</span>&nbsp;<span class="ident" id="7109284">err</span>&nbsp;<span class="builtintype" id="7109288">string</span><span class="op" id="7109294">)</span>&nbsp;<span class="op" id="7109296">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7109299">var</span>&nbsp;<span class="ident" id="7109303">s</span>&nbsp;<span class="ident" id="7109305">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7109314">var</span>&nbsp;<span class="ident" id="7109318">h</span>&nbsp;<span class="ident" id="7109320">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109336">eh</span>&nbsp;<span class="op" id="7109339">:=</span>&nbsp;<span class="keyword" id="7109342">func</span><span class="op" id="7109346">(</span><span class="ident" id="7109347">pos</span>&nbsp;<span class="ident" id="7109351">token</span><span class="op" id="7109356">.</span><span class="ident" id="7109357">Position</span><span class="op" id="7109365">,</span>&nbsp;<span class="ident" id="7109367">msg</span>&nbsp;<span class="builtintype" id="7109371">string</span><span class="op" id="7109377">)</span>&nbsp;<span class="op" id="7109379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109383">h</span><span class="op" id="7109384">.</span><span class="ident" id="7109385">cnt</span><span class="op" id="7109388">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109393">h</span><span class="op" id="7109394">.</span><span class="ident" id="7109395">msg</span>&nbsp;<span class="op" id="7109399">=</span>&nbsp;<span class="ident" id="7109401">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109407">h</span><span class="op" id="7109408">.</span><span class="ident" id="7109409">pos</span>&nbsp;<span class="op" id="7109413">=</span>&nbsp;<span class="ident" id="7109415">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7109420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109423">s</span><span class="op" id="7109424">.</span><span class="ident" id="7109425">Init</span><span class="op" id="7109429">(</span><span class="ident" id="7109430">fset</span><span class="op" id="7109434">.</span><span class="ident" id="7109435">AddFile</span><span class="op" id="7109442">(</span><span class="string" id="7109443">&#34;&#34;</span><span class="op" id="7109445">,</span>&nbsp;<span class="ident" id="7109447">fset</span><span class="op" id="7109451">.</span><span class="ident" id="7109452">Base</span><span class="op" id="7109456">(</span><span class="op" id="7109457">)</span><span class="op" id="7109458">,</span>&nbsp;<span class="builtinfunc" id="7109460">len</span><span class="op" id="7109463">(</span><span class="ident" id="7109464">src</span><span class="op" id="7109467">)</span><span class="op" id="7109468">)</span><span class="op" id="7109469">,</span>&nbsp;<span class="op" id="7109471">[</span><span class="op" id="7109472">]</span><span class="builtintype" id="7109473">byte</span><span class="op" id="7109477">(</span><span class="ident" id="7109478">src</span><span class="op" id="7109481">)</span><span class="op" id="7109482">,</span>&nbsp;<span class="ident" id="7109484">eh</span><span class="op" id="7109486">,</span>&nbsp;<span class="ident" id="7109488">ScanComments</span><span class="op" id="7109500">|</span><span class="ident" id="7109501">dontInsertSemis</span><span class="op" id="7109516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109519">_</span><span class="op" id="7109520">,</span>&nbsp;<span class="ident" id="7109522">tok0</span><span class="op" id="7109526">,</span>&nbsp;<span class="ident" id="7109528">lit0</span>&nbsp;<span class="op" id="7109533">:=</span>&nbsp;<span class="ident" id="7109536">s</span><span class="op" id="7109537">.</span><span class="ident" id="7109538">Scan</span><span class="op" id="7109542">(</span><span class="op" id="7109543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7109546">if</span>&nbsp;<span class="ident" id="7109549">tok0</span>&nbsp;<span class="op" id="7109554">!=</span>&nbsp;<span class="ident" id="7109557">tok</span>&nbsp;<span class="op" id="7109561">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109565">t</span><span class="op" id="7109566">.</span><span class="ident" id="7109567">Errorf</span><span class="op" id="7109573">(</span><span class="string" id="7109574">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7109599">,</span>&nbsp;<span class="ident" id="7109601">src</span><span class="op" id="7109604">,</span>&nbsp;<span class="ident" id="7109606">tok0</span><span class="op" id="7109610">,</span>&nbsp;<span class="ident" id="7109612">tok</span><span class="op" id="7109615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7109618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7109621">if</span>&nbsp;<span class="ident" id="7109624">tok0</span>&nbsp;<span class="op" id="7109629">!=</span>&nbsp;<span class="ident" id="7109632">token</span><span class="op" id="7109637">.</span><span class="ident" id="7109638">ILLEGAL</span>&nbsp;<span class="op" id="7109646">&amp;&amp;</span>&nbsp;<span class="ident" id="7109649">lit0</span>&nbsp;<span class="op" id="7109654">!=</span>&nbsp;<span class="ident" id="7109657">lit</span>&nbsp;<span class="op" id="7109661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109665">t</span><span class="op" id="7109666">.</span><span class="ident" id="7109667">Errorf</span><span class="op" id="7109673">(</span><span class="string" id="7109674">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7109707">,</span>&nbsp;<span class="ident" id="7109709">src</span><span class="op" id="7109712">,</span>&nbsp;<span class="ident" id="7109714">lit0</span><span class="op" id="7109718">,</span>&nbsp;<span class="ident" id="7109720">lit</span><span class="op" id="7109723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7109726">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109729">cnt</span>&nbsp;<span class="op" id="7109733">:=</span>&nbsp;<span class="num" id="7109736">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7109739">if</span>&nbsp;<span class="ident" id="7109742">err</span>&nbsp;<span class="op" id="7109746">!=</span>&nbsp;<span class="string" id="7109749">&#34;&#34;</span>&nbsp;<span class="op" id="7109752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109756">cnt</span>&nbsp;<span class="op" id="7109760">=</span>&nbsp;<span class="num" id="7109762">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7109765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7109768">if</span>&nbsp;<span class="ident" id="7109771">h</span><span class="op" id="7109772">.</span><span class="ident" id="7109773">cnt</span>&nbsp;<span class="op" id="7109777">!=</span>&nbsp;<span class="ident" id="7109780">cnt</span>&nbsp;<span class="op" id="7109784">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109788">t</span><span class="op" id="7109789">.</span><span class="ident" id="7109790">Errorf</span><span class="op" id="7109796">(</span><span class="string" id="7109797">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7109826">,</span>&nbsp;<span class="ident" id="7109828">src</span><span class="op" id="7109831">,</span>&nbsp;<span class="ident" id="7109833">h</span><span class="op" id="7109834">.</span><span class="ident" id="7109835">cnt</span><span class="op" id="7109838">,</span>&nbsp;<span class="ident" id="7109840">cnt</span><span class="op" id="7109843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7109846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7109849">if</span>&nbsp;<span class="ident" id="7109852">h</span><span class="op" id="7109853">.</span><span class="ident" id="7109854">msg</span>&nbsp;<span class="op" id="7109858">!=</span>&nbsp;<span class="ident" id="7109861">err</span>&nbsp;<span class="op" id="7109865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109869">t</span><span class="op" id="7109870">.</span><span class="ident" id="7109871">Errorf</span><span class="op" id="7109877">(</span><span class="string" id="7109878">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7109907">,</span>&nbsp;<span class="ident" id="7109909">src</span><span class="op" id="7109912">,</span>&nbsp;<span class="ident" id="7109914">h</span><span class="op" id="7109915">.</span><span class="ident" id="7109916">msg</span><span class="op" id="7109919">,</span>&nbsp;<span class="ident" id="7109921">err</span><span class="op" id="7109924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7109927">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7109930">if</span>&nbsp;<span class="ident" id="7109933">h</span><span class="op" id="7109934">.</span><span class="ident" id="7109935">pos</span><span class="op" id="7109938">.</span><span class="ident" id="7109939">Offset</span>&nbsp;<span class="op" id="7109946">!=</span>&nbsp;<span class="ident" id="7109949">pos</span>&nbsp;<span class="op" id="7109953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109957">t</span><span class="op" id="7109958">.</span><span class="ident" id="7109959">Errorf</span><span class="op" id="7109965">(</span><span class="string" id="7109966">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7109998">,</span>&nbsp;<span class="ident" id="7110000">src</span><span class="op" id="7110003">,</span>&nbsp;<span class="ident" id="7110005">h</span><span class="op" id="7110006">.</span><span class="ident" id="7110007">pos</span><span class="op" id="7110010">.</span><span class="ident" id="7110011">Offset</span><span class="op" id="7110017">,</span>&nbsp;<span class="ident" id="7110019">pos</span><span class="op" id="7110022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110025">}</span><br>
<span class="lineno"></span><span class="op" id="7110027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="7110030">var</span>&nbsp;<span class="ident" id="7110034">errors</span>&nbsp;<span class="op" id="7110041">=</span>&nbsp;<span class="op" id="7110043">[</span><span class="op" id="7110044">]</span><span class="keyword" id="7110045">struct</span>&nbsp;<span class="op" id="7110052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7110055">src</span>&nbsp;<span class="builtintype" id="7110059">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7110067">tok</span>&nbsp;<span class="ident" id="7110071">token</span><span class="op" id="7110076">.</span><span class="ident" id="7110077">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7110084">pos</span>&nbsp;<span class="builtintype" id="7110088">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7110093">lit</span>&nbsp;<span class="builtintype" id="7110097">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7110105">err</span>&nbsp;<span class="builtintype" id="7110109">string</span><br>
<span class="lineno"></span><span class="op" id="7110116">}</span><span class="op" id="7110117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110120">{</span><span class="string" id="7110121">&#34;\a&#34;</span><span class="op" id="7110125">,</span>&nbsp;<span class="ident" id="7110127">token</span><span class="op" id="7110132">.</span><span class="ident" id="7110133">ILLEGAL</span><span class="op" id="7110140">,</span>&nbsp;<span class="num" id="7110142">0</span><span class="op" id="7110143">,</span>&nbsp;<span class="string" id="7110145">&#34;&#34;</span><span class="op" id="7110147">,</span>&nbsp;<span class="string" id="7110149">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="7110175">}</span><span class="op" id="7110176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110179">{</span><span class="string" id="7110180">`#`</span><span class="op" id="7110183">,</span>&nbsp;<span class="ident" id="7110185">token</span><span class="op" id="7110190">.</span><span class="ident" id="7110191">ILLEGAL</span><span class="op" id="7110198">,</span>&nbsp;<span class="num" id="7110200">0</span><span class="op" id="7110201">,</span>&nbsp;<span class="string" id="7110203">&#34;&#34;</span><span class="op" id="7110205">,</span>&nbsp;<span class="string" id="7110207">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="7110237">}</span><span class="op" id="7110238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110241">{</span><span class="string" id="7110242">`…`</span><span class="op" id="7110247">,</span>&nbsp;<span class="ident" id="7110249">token</span><span class="op" id="7110254">.</span><span class="ident" id="7110255">ILLEGAL</span><span class="op" id="7110262">,</span>&nbsp;<span class="num" id="7110264">0</span><span class="op" id="7110265">,</span>&nbsp;<span class="string" id="7110267">&#34;&#34;</span><span class="op" id="7110269">,</span>&nbsp;<span class="string" id="7110271">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="7110303">}</span><span class="op" id="7110304">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110307">{</span><span class="string" id="7110308">`&#39;&nbsp;&#39;`</span><span class="op" id="7110313">,</span>&nbsp;<span class="ident" id="7110315">token</span><span class="op" id="7110320">.</span><span class="ident" id="7110321">CHAR</span><span class="op" id="7110325">,</span>&nbsp;<span class="num" id="7110327">0</span><span class="op" id="7110328">,</span>&nbsp;<span class="string" id="7110330">`&#39;&nbsp;&#39;`</span><span class="op" id="7110335">,</span>&nbsp;<span class="string" id="7110337">&#34;&#34;</span><span class="op" id="7110339">}</span><span class="op" id="7110340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110343">{</span><span class="string" id="7110344">`&#39;&#39;`</span><span class="op" id="7110348">,</span>&nbsp;<span class="ident" id="7110350">token</span><span class="op" id="7110355">.</span><span class="ident" id="7110356">CHAR</span><span class="op" id="7110360">,</span>&nbsp;<span class="num" id="7110362">0</span><span class="op" id="7110363">,</span>&nbsp;<span class="string" id="7110365">`&#39;&#39;`</span><span class="op" id="7110369">,</span>&nbsp;<span class="string" id="7110371">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7110393">}</span><span class="op" id="7110394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110397">{</span><span class="string" id="7110398">`&#39;12&#39;`</span><span class="op" id="7110404">,</span>&nbsp;<span class="ident" id="7110406">token</span><span class="op" id="7110411">.</span><span class="ident" id="7110412">CHAR</span><span class="op" id="7110416">,</span>&nbsp;<span class="num" id="7110418">0</span><span class="op" id="7110419">,</span>&nbsp;<span class="string" id="7110421">`&#39;12&#39;`</span><span class="op" id="7110427">,</span>&nbsp;<span class="string" id="7110429">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7110451">}</span><span class="op" id="7110452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110455">{</span><span class="string" id="7110456">`&#39;123&#39;`</span><span class="op" id="7110463">,</span>&nbsp;<span class="ident" id="7110465">token</span><span class="op" id="7110470">.</span><span class="ident" id="7110471">CHAR</span><span class="op" id="7110475">,</span>&nbsp;<span class="num" id="7110477">0</span><span class="op" id="7110478">,</span>&nbsp;<span class="string" id="7110480">`&#39;123&#39;`</span><span class="op" id="7110487">,</span>&nbsp;<span class="string" id="7110489">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7110511">}</span><span class="op" id="7110512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110515">{</span><span class="string" id="7110516">`&#39;\0&#39;`</span><span class="op" id="7110522">,</span>&nbsp;<span class="ident" id="7110524">token</span><span class="op" id="7110529">.</span><span class="ident" id="7110530">CHAR</span><span class="op" id="7110534">,</span>&nbsp;<span class="num" id="7110536">3</span><span class="op" id="7110537">,</span>&nbsp;<span class="string" id="7110539">`&#39;\0&#39;`</span><span class="op" id="7110545">,</span>&nbsp;<span class="string" id="7110547">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7110596">}</span><span class="op" id="7110597">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110600">{</span><span class="string" id="7110601">`&#39;\07&#39;`</span><span class="op" id="7110608">,</span>&nbsp;<span class="ident" id="7110610">token</span><span class="op" id="7110615">.</span><span class="ident" id="7110616">CHAR</span><span class="op" id="7110620">,</span>&nbsp;<span class="num" id="7110622">4</span><span class="op" id="7110623">,</span>&nbsp;<span class="string" id="7110625">`&#39;\07&#39;`</span><span class="op" id="7110632">,</span>&nbsp;<span class="string" id="7110634">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7110683">}</span><span class="op" id="7110684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110687">{</span><span class="string" id="7110688">`&#39;\8&#39;`</span><span class="op" id="7110694">,</span>&nbsp;<span class="ident" id="7110696">token</span><span class="op" id="7110701">.</span><span class="ident" id="7110702">CHAR</span><span class="op" id="7110706">,</span>&nbsp;<span class="num" id="7110708">2</span><span class="op" id="7110709">,</span>&nbsp;<span class="string" id="7110711">`&#39;\8&#39;`</span><span class="op" id="7110717">,</span>&nbsp;<span class="string" id="7110719">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7110744">}</span><span class="op" id="7110745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110748">{</span><span class="string" id="7110749">`&#39;\08&#39;`</span><span class="op" id="7110756">,</span>&nbsp;<span class="ident" id="7110758">token</span><span class="op" id="7110763">.</span><span class="ident" id="7110764">CHAR</span><span class="op" id="7110768">,</span>&nbsp;<span class="num" id="7110770">3</span><span class="op" id="7110771">,</span>&nbsp;<span class="string" id="7110773">`&#39;\08&#39;`</span><span class="op" id="7110780">,</span>&nbsp;<span class="string" id="7110782">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7110831">}</span><span class="op" id="7110832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110835">{</span><span class="string" id="7110836">`&#39;\x&#39;`</span><span class="op" id="7110842">,</span>&nbsp;<span class="ident" id="7110844">token</span><span class="op" id="7110849">.</span><span class="ident" id="7110850">CHAR</span><span class="op" id="7110854">,</span>&nbsp;<span class="num" id="7110856">3</span><span class="op" id="7110857">,</span>&nbsp;<span class="string" id="7110859">`&#39;\x&#39;`</span><span class="op" id="7110865">,</span>&nbsp;<span class="string" id="7110867">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7110916">}</span><span class="op" id="7110917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110920">{</span><span class="string" id="7110921">`&#39;\x0&#39;`</span><span class="op" id="7110928">,</span>&nbsp;<span class="ident" id="7110930">token</span><span class="op" id="7110935">.</span><span class="ident" id="7110936">CHAR</span><span class="op" id="7110940">,</span>&nbsp;<span class="num" id="7110942">4</span><span class="op" id="7110943">,</span>&nbsp;<span class="string" id="7110945">`&#39;\x0&#39;`</span><span class="op" id="7110952">,</span>&nbsp;<span class="string" id="7110954">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7111003">}</span><span class="op" id="7111004">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111007">{</span><span class="string" id="7111008">`&#39;\x0g&#39;`</span><span class="op" id="7111016">,</span>&nbsp;<span class="ident" id="7111018">token</span><span class="op" id="7111023">.</span><span class="ident" id="7111024">CHAR</span><span class="op" id="7111028">,</span>&nbsp;<span class="num" id="7111030">4</span><span class="op" id="7111031">,</span>&nbsp;<span class="string" id="7111033">`&#39;\x0g&#39;`</span><span class="op" id="7111041">,</span>&nbsp;<span class="string" id="7111043">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7111092">}</span><span class="op" id="7111093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111096">{</span><span class="string" id="7111097">`&#39;\u&#39;`</span><span class="op" id="7111103">,</span>&nbsp;<span class="ident" id="7111105">token</span><span class="op" id="7111110">.</span><span class="ident" id="7111111">CHAR</span><span class="op" id="7111115">,</span>&nbsp;<span class="num" id="7111117">3</span><span class="op" id="7111118">,</span>&nbsp;<span class="string" id="7111120">`&#39;\u&#39;`</span><span class="op" id="7111126">,</span>&nbsp;<span class="string" id="7111128">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7111177">}</span><span class="op" id="7111178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111181">{</span><span class="string" id="7111182">`&#39;\u0&#39;`</span><span class="op" id="7111189">,</span>&nbsp;<span class="ident" id="7111191">token</span><span class="op" id="7111196">.</span><span class="ident" id="7111197">CHAR</span><span class="op" id="7111201">,</span>&nbsp;<span class="num" id="7111203">4</span><span class="op" id="7111204">,</span>&nbsp;<span class="string" id="7111206">`&#39;\u0&#39;`</span><span class="op" id="7111213">,</span>&nbsp;<span class="string" id="7111215">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7111264">}</span><span class="op" id="7111265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111268">{</span><span class="string" id="7111269">`&#39;\u00&#39;`</span><span class="op" id="7111277">,</span>&nbsp;<span class="ident" id="7111279">token</span><span class="op" id="7111284">.</span><span class="ident" id="7111285">CHAR</span><span class="op" id="7111289">,</span>&nbsp;<span class="num" id="7111291">5</span><span class="op" id="7111292">,</span>&nbsp;<span class="string" id="7111294">`&#39;\u00&#39;`</span><span class="op" id="7111302">,</span>&nbsp;<span class="string" id="7111304">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7111353">}</span><span class="op" id="7111354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111357">{</span><span class="string" id="7111358">`&#39;\u000&#39;`</span><span class="op" id="7111367">,</span>&nbsp;<span class="ident" id="7111369">token</span><span class="op" id="7111374">.</span><span class="ident" id="7111375">CHAR</span><span class="op" id="7111379">,</span>&nbsp;<span class="num" id="7111381">6</span><span class="op" id="7111382">,</span>&nbsp;<span class="string" id="7111384">`&#39;\u000&#39;`</span><span class="op" id="7111393">,</span>&nbsp;<span class="string" id="7111395">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7111444">}</span><span class="op" id="7111445">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111448">{</span><span class="string" id="7111449">`&#39;\u000`</span><span class="op" id="7111457">,</span>&nbsp;<span class="ident" id="7111459">token</span><span class="op" id="7111464">.</span><span class="ident" id="7111465">CHAR</span><span class="op" id="7111469">,</span>&nbsp;<span class="num" id="7111471">6</span><span class="op" id="7111472">,</span>&nbsp;<span class="string" id="7111474">`&#39;\u000`</span><span class="op" id="7111482">,</span>&nbsp;<span class="string" id="7111484">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7111516">}</span><span class="op" id="7111517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111520">{</span><span class="string" id="7111521">`&#39;\u0000&#39;`</span><span class="op" id="7111531">,</span>&nbsp;<span class="ident" id="7111533">token</span><span class="op" id="7111538">.</span><span class="ident" id="7111539">CHAR</span><span class="op" id="7111543">,</span>&nbsp;<span class="num" id="7111545">0</span><span class="op" id="7111546">,</span>&nbsp;<span class="string" id="7111548">`&#39;\u0000&#39;`</span><span class="op" id="7111558">,</span>&nbsp;<span class="string" id="7111560">&#34;&#34;</span><span class="op" id="7111562">}</span><span class="op" id="7111563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111566">{</span><span class="string" id="7111567">`&#39;\U&#39;`</span><span class="op" id="7111573">,</span>&nbsp;<span class="ident" id="7111575">token</span><span class="op" id="7111580">.</span><span class="ident" id="7111581">CHAR</span><span class="op" id="7111585">,</span>&nbsp;<span class="num" id="7111587">3</span><span class="op" id="7111588">,</span>&nbsp;<span class="string" id="7111590">`&#39;\U&#39;`</span><span class="op" id="7111596">,</span>&nbsp;<span class="string" id="7111598">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7111647">}</span><span class="op" id="7111648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111651">{</span><span class="string" id="7111652">`&#39;\U0&#39;`</span><span class="op" id="7111659">,</span>&nbsp;<span class="ident" id="7111661">token</span><span class="op" id="7111666">.</span><span class="ident" id="7111667">CHAR</span><span class="op" id="7111671">,</span>&nbsp;<span class="num" id="7111673">4</span><span class="op" id="7111674">,</span>&nbsp;<span class="string" id="7111676">`&#39;\U0&#39;`</span><span class="op" id="7111683">,</span>&nbsp;<span class="string" id="7111685">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7111734">}</span><span class="op" id="7111735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111738">{</span><span class="string" id="7111739">`&#39;\U00&#39;`</span><span class="op" id="7111747">,</span>&nbsp;<span class="ident" id="7111749">token</span><span class="op" id="7111754">.</span><span class="ident" id="7111755">CHAR</span><span class="op" id="7111759">,</span>&nbsp;<span class="num" id="7111761">5</span><span class="op" id="7111762">,</span>&nbsp;<span class="string" id="7111764">`&#39;\U00&#39;`</span><span class="op" id="7111772">,</span>&nbsp;<span class="string" id="7111774">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7111823">}</span><span class="op" id="7111824">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111827">{</span><span class="string" id="7111828">`&#39;\U000&#39;`</span><span class="op" id="7111837">,</span>&nbsp;<span class="ident" id="7111839">token</span><span class="op" id="7111844">.</span><span class="ident" id="7111845">CHAR</span><span class="op" id="7111849">,</span>&nbsp;<span class="num" id="7111851">6</span><span class="op" id="7111852">,</span>&nbsp;<span class="string" id="7111854">`&#39;\U000&#39;`</span><span class="op" id="7111863">,</span>&nbsp;<span class="string" id="7111865">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7111914">}</span><span class="op" id="7111915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111918">{</span><span class="string" id="7111919">`&#39;\U0000&#39;`</span><span class="op" id="7111929">,</span>&nbsp;<span class="ident" id="7111931">token</span><span class="op" id="7111936">.</span><span class="ident" id="7111937">CHAR</span><span class="op" id="7111941">,</span>&nbsp;<span class="num" id="7111943">7</span><span class="op" id="7111944">,</span>&nbsp;<span class="string" id="7111946">`&#39;\U0000&#39;`</span><span class="op" id="7111956">,</span>&nbsp;<span class="string" id="7111958">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7112007">}</span><span class="op" id="7112008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112011">{</span><span class="string" id="7112012">`&#39;\U00000&#39;`</span><span class="op" id="7112023">,</span>&nbsp;<span class="ident" id="7112025">token</span><span class="op" id="7112030">.</span><span class="ident" id="7112031">CHAR</span><span class="op" id="7112035">,</span>&nbsp;<span class="num" id="7112037">8</span><span class="op" id="7112038">,</span>&nbsp;<span class="string" id="7112040">`&#39;\U00000&#39;`</span><span class="op" id="7112051">,</span>&nbsp;<span class="string" id="7112053">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7112102">}</span><span class="op" id="7112103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112106">{</span><span class="string" id="7112107">`&#39;\U000000&#39;`</span><span class="op" id="7112119">,</span>&nbsp;<span class="ident" id="7112121">token</span><span class="op" id="7112126">.</span><span class="ident" id="7112127">CHAR</span><span class="op" id="7112131">,</span>&nbsp;<span class="num" id="7112133">9</span><span class="op" id="7112134">,</span>&nbsp;<span class="string" id="7112136">`&#39;\U000000&#39;`</span><span class="op" id="7112148">,</span>&nbsp;<span class="string" id="7112150">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7112199">}</span><span class="op" id="7112200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112203">{</span><span class="string" id="7112204">`&#39;\U0000000&#39;`</span><span class="op" id="7112217">,</span>&nbsp;<span class="ident" id="7112219">token</span><span class="op" id="7112224">.</span><span class="ident" id="7112225">CHAR</span><span class="op" id="7112229">,</span>&nbsp;<span class="num" id="7112231">10</span><span class="op" id="7112233">,</span>&nbsp;<span class="string" id="7112235">`&#39;\U0000000&#39;`</span><span class="op" id="7112248">,</span>&nbsp;<span class="string" id="7112250">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7112299">}</span><span class="op" id="7112300">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112303">{</span><span class="string" id="7112304">`&#39;\U0000000`</span><span class="op" id="7112316">,</span>&nbsp;<span class="ident" id="7112318">token</span><span class="op" id="7112323">.</span><span class="ident" id="7112324">CHAR</span><span class="op" id="7112328">,</span>&nbsp;<span class="num" id="7112330">10</span><span class="op" id="7112332">,</span>&nbsp;<span class="string" id="7112334">`&#39;\U0000000`</span><span class="op" id="7112346">,</span>&nbsp;<span class="string" id="7112348">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7112380">}</span><span class="op" id="7112381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112384">{</span><span class="string" id="7112385">`&#39;\U00000000&#39;`</span><span class="op" id="7112399">,</span>&nbsp;<span class="ident" id="7112401">token</span><span class="op" id="7112406">.</span><span class="ident" id="7112407">CHAR</span><span class="op" id="7112411">,</span>&nbsp;<span class="num" id="7112413">0</span><span class="op" id="7112414">,</span>&nbsp;<span class="string" id="7112416">`&#39;\U00000000&#39;`</span><span class="op" id="7112430">,</span>&nbsp;<span class="string" id="7112432">&#34;&#34;</span><span class="op" id="7112434">}</span><span class="op" id="7112435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112438">{</span><span class="string" id="7112439">`&#39;\Uffffffff&#39;`</span><span class="op" id="7112453">,</span>&nbsp;<span class="ident" id="7112455">token</span><span class="op" id="7112460">.</span><span class="ident" id="7112461">CHAR</span><span class="op" id="7112465">,</span>&nbsp;<span class="num" id="7112467">2</span><span class="op" id="7112468">,</span>&nbsp;<span class="string" id="7112470">`&#39;\Uffffffff&#39;`</span><span class="op" id="7112484">,</span>&nbsp;<span class="string" id="7112486">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="7112533">}</span><span class="op" id="7112534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112537">{</span><span class="string" id="7112538">`&#39;`</span><span class="op" id="7112541">,</span>&nbsp;<span class="ident" id="7112543">token</span><span class="op" id="7112548">.</span><span class="ident" id="7112549">CHAR</span><span class="op" id="7112553">,</span>&nbsp;<span class="num" id="7112555">0</span><span class="op" id="7112556">,</span>&nbsp;<span class="string" id="7112558">`&#39;`</span><span class="op" id="7112561">,</span>&nbsp;<span class="string" id="7112563">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7112592">}</span><span class="op" id="7112593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112596">{</span><span class="string" id="7112597">`&#39;\`</span><span class="op" id="7112601">,</span>&nbsp;<span class="ident" id="7112603">token</span><span class="op" id="7112608">.</span><span class="ident" id="7112609">CHAR</span><span class="op" id="7112613">,</span>&nbsp;<span class="num" id="7112615">2</span><span class="op" id="7112616">,</span>&nbsp;<span class="string" id="7112618">`&#39;\`</span><span class="op" id="7112622">,</span>&nbsp;<span class="string" id="7112624">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7112656">}</span><span class="op" id="7112657">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112660">{</span><span class="string" id="7112661">&#34;&#39;\n&#34;</span><span class="op" id="7112666">,</span>&nbsp;<span class="ident" id="7112668">token</span><span class="op" id="7112673">.</span><span class="ident" id="7112674">CHAR</span><span class="op" id="7112678">,</span>&nbsp;<span class="num" id="7112680">0</span><span class="op" id="7112681">,</span>&nbsp;<span class="string" id="7112683">&#34;&#39;&#34;</span><span class="op" id="7112686">,</span>&nbsp;<span class="string" id="7112688">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7112717">}</span><span class="op" id="7112718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112721">{</span><span class="string" id="7112722">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7112730">,</span>&nbsp;<span class="ident" id="7112732">token</span><span class="op" id="7112737">.</span><span class="ident" id="7112738">CHAR</span><span class="op" id="7112742">,</span>&nbsp;<span class="num" id="7112744">0</span><span class="op" id="7112745">,</span>&nbsp;<span class="string" id="7112747">&#34;&#39;&#34;</span><span class="op" id="7112750">,</span>&nbsp;<span class="string" id="7112752">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7112781">}</span><span class="op" id="7112782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112785">{</span><span class="string" id="7112786">`&#34;&#34;`</span><span class="op" id="7112790">,</span>&nbsp;<span class="ident" id="7112792">token</span><span class="op" id="7112797">.</span><span class="ident" id="7112798">STRING</span><span class="op" id="7112804">,</span>&nbsp;<span class="num" id="7112806">0</span><span class="op" id="7112807">,</span>&nbsp;<span class="string" id="7112809">`&#34;&#34;`</span><span class="op" id="7112813">,</span>&nbsp;<span class="string" id="7112815">&#34;&#34;</span><span class="op" id="7112817">}</span><span class="op" id="7112818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112821">{</span><span class="string" id="7112822">`&#34;abc`</span><span class="op" id="7112828">,</span>&nbsp;<span class="ident" id="7112830">token</span><span class="op" id="7112835">.</span><span class="ident" id="7112836">STRING</span><span class="op" id="7112842">,</span>&nbsp;<span class="num" id="7112844">0</span><span class="op" id="7112845">,</span>&nbsp;<span class="string" id="7112847">`&#34;abc`</span><span class="op" id="7112853">,</span>&nbsp;<span class="string" id="7112855">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7112886">}</span><span class="op" id="7112887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112890">{</span><span class="string" id="7112891">&#34;\&#34;abc\n&#34;</span><span class="op" id="7112900">,</span>&nbsp;<span class="ident" id="7112902">token</span><span class="op" id="7112907">.</span><span class="ident" id="7112908">STRING</span><span class="op" id="7112914">,</span>&nbsp;<span class="num" id="7112916">0</span><span class="op" id="7112917">,</span>&nbsp;<span class="string" id="7112919">`&#34;abc`</span><span class="op" id="7112925">,</span>&nbsp;<span class="string" id="7112927">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7112958">}</span><span class="op" id="7112959">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112962">{</span><span class="string" id="7112963">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7112975">,</span>&nbsp;<span class="ident" id="7112977">token</span><span class="op" id="7112982">.</span><span class="ident" id="7112983">STRING</span><span class="op" id="7112989">,</span>&nbsp;<span class="num" id="7112991">0</span><span class="op" id="7112992">,</span>&nbsp;<span class="string" id="7112994">`&#34;abc`</span><span class="op" id="7113000">,</span>&nbsp;<span class="string" id="7113002">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7113033">}</span><span class="op" id="7113034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113037">{</span><span class="string" id="7113038">&#34;``&#34;</span><span class="op" id="7113042">,</span>&nbsp;<span class="ident" id="7113044">token</span><span class="op" id="7113049">.</span><span class="ident" id="7113050">STRING</span><span class="op" id="7113056">,</span>&nbsp;<span class="num" id="7113058">0</span><span class="op" id="7113059">,</span>&nbsp;<span class="string" id="7113061">&#34;``&#34;</span><span class="op" id="7113065">,</span>&nbsp;<span class="string" id="7113067">&#34;&#34;</span><span class="op" id="7113069">}</span><span class="op" id="7113070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113073">{</span><span class="string" id="7113074">&#34;`&#34;</span><span class="op" id="7113077">,</span>&nbsp;<span class="ident" id="7113079">token</span><span class="op" id="7113084">.</span><span class="ident" id="7113085">STRING</span><span class="op" id="7113091">,</span>&nbsp;<span class="num" id="7113093">0</span><span class="op" id="7113094">,</span>&nbsp;<span class="string" id="7113096">&#34;`&#34;</span><span class="op" id="7113099">,</span>&nbsp;<span class="string" id="7113101">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7113136">}</span><span class="op" id="7113137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113140">{</span><span class="string" id="7113141">&#34;/**/&#34;</span><span class="op" id="7113147">,</span>&nbsp;<span class="ident" id="7113149">token</span><span class="op" id="7113154">.</span><span class="ident" id="7113155">COMMENT</span><span class="op" id="7113162">,</span>&nbsp;<span class="num" id="7113164">0</span><span class="op" id="7113165">,</span>&nbsp;<span class="string" id="7113167">&#34;/**/&#34;</span><span class="op" id="7113173">,</span>&nbsp;<span class="string" id="7113175">&#34;&#34;</span><span class="op" id="7113177">}</span><span class="op" id="7113178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113181">{</span><span class="string" id="7113182">&#34;/*&#34;</span><span class="op" id="7113186">,</span>&nbsp;<span class="ident" id="7113188">token</span><span class="op" id="7113193">.</span><span class="ident" id="7113194">COMMENT</span><span class="op" id="7113201">,</span>&nbsp;<span class="num" id="7113203">0</span><span class="op" id="7113204">,</span>&nbsp;<span class="string" id="7113206">&#34;/*&#34;</span><span class="op" id="7113210">,</span>&nbsp;<span class="string" id="7113212">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7113236">}</span><span class="op" id="7113237">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113240">{</span><span class="string" id="7113241">&#34;077&#34;</span><span class="op" id="7113246">,</span>&nbsp;<span class="ident" id="7113248">token</span><span class="op" id="7113253">.</span><span class="ident" id="7113254">INT</span><span class="op" id="7113257">,</span>&nbsp;<span class="num" id="7113259">0</span><span class="op" id="7113260">,</span>&nbsp;<span class="string" id="7113262">&#34;077&#34;</span><span class="op" id="7113267">,</span>&nbsp;<span class="string" id="7113269">&#34;&#34;</span><span class="op" id="7113271">}</span><span class="op" id="7113272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113275">{</span><span class="string" id="7113276">&#34;078.&#34;</span><span class="op" id="7113282">,</span>&nbsp;<span class="ident" id="7113284">token</span><span class="op" id="7113289">.</span><span class="ident" id="7113290">FLOAT</span><span class="op" id="7113295">,</span>&nbsp;<span class="num" id="7113297">0</span><span class="op" id="7113298">,</span>&nbsp;<span class="string" id="7113300">&#34;078.&#34;</span><span class="op" id="7113306">,</span>&nbsp;<span class="string" id="7113308">&#34;&#34;</span><span class="op" id="7113310">}</span><span class="op" id="7113311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113314">{</span><span class="string" id="7113315">&#34;07801234567.&#34;</span><span class="op" id="7113329">,</span>&nbsp;<span class="ident" id="7113331">token</span><span class="op" id="7113336">.</span><span class="ident" id="7113337">FLOAT</span><span class="op" id="7113342">,</span>&nbsp;<span class="num" id="7113344">0</span><span class="op" id="7113345">,</span>&nbsp;<span class="string" id="7113347">&#34;07801234567.&#34;</span><span class="op" id="7113361">,</span>&nbsp;<span class="string" id="7113363">&#34;&#34;</span><span class="op" id="7113365">}</span><span class="op" id="7113366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113369">{</span><span class="string" id="7113370">&#34;078e0&#34;</span><span class="op" id="7113377">,</span>&nbsp;<span class="ident" id="7113379">token</span><span class="op" id="7113384">.</span><span class="ident" id="7113385">FLOAT</span><span class="op" id="7113390">,</span>&nbsp;<span class="num" id="7113392">0</span><span class="op" id="7113393">,</span>&nbsp;<span class="string" id="7113395">&#34;078e0&#34;</span><span class="op" id="7113402">,</span>&nbsp;<span class="string" id="7113404">&#34;&#34;</span><span class="op" id="7113406">}</span><span class="op" id="7113407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113410">{</span><span class="string" id="7113411">&#34;078&#34;</span><span class="op" id="7113416">,</span>&nbsp;<span class="ident" id="7113418">token</span><span class="op" id="7113423">.</span><span class="ident" id="7113424">INT</span><span class="op" id="7113427">,</span>&nbsp;<span class="num" id="7113429">0</span><span class="op" id="7113430">,</span>&nbsp;<span class="string" id="7113432">&#34;078&#34;</span><span class="op" id="7113437">,</span>&nbsp;<span class="string" id="7113439">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7113461">}</span><span class="op" id="7113462">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113465">{</span><span class="string" id="7113466">&#34;07800000009&#34;</span><span class="op" id="7113479">,</span>&nbsp;<span class="ident" id="7113481">token</span><span class="op" id="7113486">.</span><span class="ident" id="7113487">INT</span><span class="op" id="7113490">,</span>&nbsp;<span class="num" id="7113492">0</span><span class="op" id="7113493">,</span>&nbsp;<span class="string" id="7113495">&#34;07800000009&#34;</span><span class="op" id="7113508">,</span>&nbsp;<span class="string" id="7113510">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7113532">}</span><span class="op" id="7113533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113536">{</span><span class="string" id="7113537">&#34;0x&#34;</span><span class="op" id="7113541">,</span>&nbsp;<span class="ident" id="7113543">token</span><span class="op" id="7113548">.</span><span class="ident" id="7113549">INT</span><span class="op" id="7113552">,</span>&nbsp;<span class="num" id="7113554">0</span><span class="op" id="7113555">,</span>&nbsp;<span class="string" id="7113557">&#34;0x&#34;</span><span class="op" id="7113561">,</span>&nbsp;<span class="string" id="7113563">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7113591">}</span><span class="op" id="7113592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113595">{</span><span class="string" id="7113596">&#34;0X&#34;</span><span class="op" id="7113600">,</span>&nbsp;<span class="ident" id="7113602">token</span><span class="op" id="7113607">.</span><span class="ident" id="7113608">INT</span><span class="op" id="7113611">,</span>&nbsp;<span class="num" id="7113613">0</span><span class="op" id="7113614">,</span>&nbsp;<span class="string" id="7113616">&#34;0X&#34;</span><span class="op" id="7113620">,</span>&nbsp;<span class="string" id="7113622">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7113650">}</span><span class="op" id="7113651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113654">{</span><span class="string" id="7113655">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7113671">,</span>&nbsp;<span class="ident" id="7113673">token</span><span class="op" id="7113678">.</span><span class="ident" id="7113679">STRING</span><span class="op" id="7113685">,</span>&nbsp;<span class="num" id="7113687">4</span><span class="op" id="7113688">,</span>&nbsp;<span class="string" id="7113690">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7113706">,</span>&nbsp;<span class="string" id="7113708">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7113731">}</span><span class="op" id="7113732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113735">{</span><span class="string" id="7113736">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7113752">,</span>&nbsp;<span class="ident" id="7113754">token</span><span class="op" id="7113759">.</span><span class="ident" id="7113760">STRING</span><span class="op" id="7113766">,</span>&nbsp;<span class="num" id="7113768">4</span><span class="op" id="7113769">,</span>&nbsp;<span class="string" id="7113771">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7113787">,</span>&nbsp;<span class="string" id="7113789">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7113813">}</span><span class="op" id="7113814">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113817">{</span><span class="string" id="7113818">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7113832">,</span>&nbsp;<span class="ident" id="7113834">token</span><span class="op" id="7113839">.</span><span class="ident" id="7113840">ILLEGAL</span><span class="op" id="7113847">,</span>&nbsp;<span class="num" id="7113849">3</span><span class="op" id="7113850">,</span>&nbsp;<span class="string" id="7113852">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7113866">,</span>&nbsp;<span class="string" id="7113868">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7113893">}</span><span class="op" id="7113894">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7113919">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113949">{</span><span class="string" id="7113950">&#34;//\ufeff&#34;</span><span class="op" id="7113960">,</span>&nbsp;<span class="ident" id="7113962">token</span><span class="op" id="7113967">.</span><span class="ident" id="7113968">COMMENT</span><span class="op" id="7113975">,</span>&nbsp;<span class="num" id="7113977">2</span><span class="op" id="7113978">,</span>&nbsp;<span class="string" id="7113980">&#34;//\ufeff&#34;</span><span class="op" id="7113990">,</span>&nbsp;<span class="string" id="7113992">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7114017">}</span><span class="op" id="7114018">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7114051">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114081">{</span><span class="string" id="7114082">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7114092">+</span>&nbsp;<span class="string" id="7114094">`&#39;`</span><span class="op" id="7114097">,</span>&nbsp;<span class="ident" id="7114099">token</span><span class="op" id="7114104">.</span><span class="ident" id="7114105">CHAR</span><span class="op" id="7114109">,</span>&nbsp;<span class="num" id="7114111">1</span><span class="op" id="7114112">,</span>&nbsp;<span class="string" id="7114114">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7114124">+</span>&nbsp;<span class="string" id="7114126">`&#39;`</span><span class="op" id="7114129">,</span>&nbsp;<span class="string" id="7114131">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7114156">}</span><span class="op" id="7114157">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7114183">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114213">{</span><span class="string" id="7114214">`&#34;`</span>&nbsp;<span class="op" id="7114218">+</span>&nbsp;<span class="string" id="7114220">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7114235">+</span>&nbsp;<span class="string" id="7114237">`&#34;`</span><span class="op" id="7114240">,</span>&nbsp;<span class="ident" id="7114242">token</span><span class="op" id="7114247">.</span><span class="ident" id="7114248">STRING</span><span class="op" id="7114254">,</span>&nbsp;<span class="num" id="7114256">4</span><span class="op" id="7114257">,</span>&nbsp;<span class="string" id="7114259">`&#34;`</span>&nbsp;<span class="op" id="7114263">+</span>&nbsp;<span class="string" id="7114265">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7114280">+</span>&nbsp;<span class="string" id="7114282">`&#34;`</span><span class="op" id="7114285">,</span>&nbsp;<span class="string" id="7114287">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7114312">}</span><span class="op" id="7114313">,</span>&nbsp;<span class="comment" id="7114315">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="7114344">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="7114347">func</span>&nbsp;<span class="ident" id="7114352">TestScanErrors</span><span class="op" id="7114366">(</span><span class="ident" id="7114367">t</span>&nbsp;<span class="op" id="7114369">*</span><span class="ident" id="7114370">testing</span><span class="op" id="7114377">.</span><span class="ident" id="7114378">T</span><span class="op" id="7114379">)</span>&nbsp;<span class="op" id="7114381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114384">for</span>&nbsp;<span class="ident" id="7114388">_</span><span class="op" id="7114389">,</span>&nbsp;<span class="ident" id="7114391">e</span>&nbsp;<span class="op" id="7114393">:=</span>&nbsp;<span class="keyword" id="7114396">range</span>&nbsp;<span class="ident" id="7114402">errors</span>&nbsp;<span class="op" id="7114409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114413">checkError</span><span class="op" id="7114423">(</span><span class="ident" id="7114424">t</span><span class="op" id="7114425">,</span>&nbsp;<span class="ident" id="7114427">e</span><span class="op" id="7114428">.</span><span class="ident" id="7114429">src</span><span class="op" id="7114432">,</span>&nbsp;<span class="ident" id="7114434">e</span><span class="op" id="7114435">.</span><span class="ident" id="7114436">tok</span><span class="op" id="7114439">,</span>&nbsp;<span class="ident" id="7114441">e</span><span class="op" id="7114442">.</span><span class="ident" id="7114443">pos</span><span class="op" id="7114446">,</span>&nbsp;<span class="ident" id="7114448">e</span><span class="op" id="7114449">.</span><span class="ident" id="7114450">lit</span><span class="op" id="7114453">,</span>&nbsp;<span class="ident" id="7114455">e</span><span class="op" id="7114456">.</span><span class="ident" id="7114457">err</span><span class="op" id="7114460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114463">}</span><br>
<span class="lineno">735</span><span class="op" id="7114465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7114468">func</span>&nbsp;<span class="ident" id="7114473">BenchmarkScan</span><span class="op" id="7114486">(</span><span class="ident" id="7114487">b</span>&nbsp;<span class="op" id="7114489">*</span><span class="ident" id="7114490">testing</span><span class="op" id="7114497">.</span><span class="ident" id="7114498">B</span><span class="op" id="7114499">)</span>&nbsp;<span class="op" id="7114501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114504">b</span><span class="op" id="7114505">.</span><span class="ident" id="7114506">StopTimer</span><span class="op" id="7114515">(</span><span class="op" id="7114516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114519">fset</span>&nbsp;<span class="op" id="7114524">:=</span>&nbsp;<span class="ident" id="7114527">token</span><span class="op" id="7114532">.</span><span class="ident" id="7114533">NewFileSet</span><span class="op" id="7114543">(</span><span class="op" id="7114544">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114547">file</span>&nbsp;<span class="op" id="7114552">:=</span>&nbsp;<span class="ident" id="7114555">fset</span><span class="op" id="7114559">.</span><span class="ident" id="7114560">AddFile</span><span class="op" id="7114567">(</span><span class="string" id="7114568">&#34;&#34;</span><span class="op" id="7114570">,</span>&nbsp;<span class="ident" id="7114572">fset</span><span class="op" id="7114576">.</span><span class="ident" id="7114577">Base</span><span class="op" id="7114581">(</span><span class="op" id="7114582">)</span><span class="op" id="7114583">,</span>&nbsp;<span class="builtinfunc" id="7114585">len</span><span class="op" id="7114588">(</span><span class="ident" id="7114589">source</span><span class="op" id="7114595">)</span><span class="op" id="7114596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114599">var</span>&nbsp;<span class="ident" id="7114603">s</span>&nbsp;<span class="ident" id="7114605">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114614">b</span><span class="op" id="7114615">.</span><span class="ident" id="7114616">StartTimer</span><span class="op" id="7114626">(</span><span class="op" id="7114627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114630">for</span>&nbsp;<span class="ident" id="7114634">i</span>&nbsp;<span class="op" id="7114636">:=</span>&nbsp;<span class="num" id="7114639">0</span><span class="op" id="7114640">;</span>&nbsp;<span class="ident" id="7114642">i</span>&nbsp;<span class="op" id="7114644">&lt;</span>&nbsp;<span class="ident" id="7114646">b</span><span class="op" id="7114647">.</span><span class="ident" id="7114648">N</span><span class="op" id="7114649">;</span>&nbsp;<span class="ident" id="7114651">i</span><span class="op" id="7114652">++</span>&nbsp;<span class="op" id="7114655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114659">s</span><span class="op" id="7114660">.</span><span class="ident" id="7114661">Init</span><span class="op" id="7114665">(</span><span class="ident" id="7114666">file</span><span class="op" id="7114670">,</span>&nbsp;<span class="ident" id="7114672">source</span><span class="op" id="7114678">,</span>&nbsp;<span class="ident" id="7114680">nil</span><span class="op" id="7114683">,</span>&nbsp;<span class="ident" id="7114685">ScanComments</span><span class="op" id="7114697">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114701">for</span>&nbsp;<span class="op" id="7114705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114710">_</span><span class="op" id="7114711">,</span>&nbsp;<span class="ident" id="7114713">tok</span><span class="op" id="7114716">,</span>&nbsp;<span class="ident" id="7114718">_</span>&nbsp;<span class="op" id="7114720">:=</span>&nbsp;<span class="ident" id="7114723">s</span><span class="op" id="7114724">.</span><span class="ident" id="7114725">Scan</span><span class="op" id="7114729">(</span><span class="op" id="7114730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114735">if</span>&nbsp;<span class="ident" id="7114738">tok</span>&nbsp;<span class="op" id="7114742">==</span>&nbsp;<span class="ident" id="7114745">token</span><span class="op" id="7114750">.</span><span class="ident" id="7114751">EOF</span>&nbsp;<span class="op" id="7114755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114761">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114770">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114777">}</span><br>
<span class="lineno"></span><span class="op" id="7114779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7114782">func</span>&nbsp;<span class="ident" id="7114787">BenchmarkScanFile</span><span class="op" id="7114804">(</span><span class="ident" id="7114805">b</span>&nbsp;<span class="op" id="7114807">*</span><span class="ident" id="7114808">testing</span><span class="op" id="7114815">.</span><span class="ident" id="7114816">B</span><span class="op" id="7114817">)</span>&nbsp;<span class="op" id="7114819">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114822">b</span><span class="op" id="7114823">.</span><span class="ident" id="7114824">StopTimer</span><span class="op" id="7114833">(</span><span class="op" id="7114834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114837">const</span>&nbsp;<span class="ident" id="7114843">filename</span>&nbsp;<span class="op" id="7114852">=</span>&nbsp;<span class="string" id="7114854">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114868">src</span><span class="op" id="7114871">,</span>&nbsp;<span class="ident" id="7114873">err</span>&nbsp;<span class="op" id="7114877">:=</span>&nbsp;<span class="ident" id="7114880">ioutil</span><span class="op" id="7114886">.</span><span class="ident" id="7114887">ReadFile</span><span class="op" id="7114895">(</span><span class="ident" id="7114896">filename</span><span class="op" id="7114904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114907">if</span>&nbsp;<span class="ident" id="7114910">err</span>&nbsp;<span class="op" id="7114914">!=</span>&nbsp;<span class="ident" id="7114917">nil</span>&nbsp;<span class="op" id="7114921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7114925">panic</span><span class="op" id="7114930">(</span><span class="ident" id="7114931">err</span><span class="op" id="7114934">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114940">fset</span>&nbsp;<span class="op" id="7114945">:=</span>&nbsp;<span class="ident" id="7114948">token</span><span class="op" id="7114953">.</span><span class="ident" id="7114954">NewFileSet</span><span class="op" id="7114964">(</span><span class="op" id="7114965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114968">file</span>&nbsp;<span class="op" id="7114973">:=</span>&nbsp;<span class="ident" id="7114976">fset</span><span class="op" id="7114980">.</span><span class="ident" id="7114981">AddFile</span><span class="op" id="7114988">(</span><span class="ident" id="7114989">filename</span><span class="op" id="7114997">,</span>&nbsp;<span class="ident" id="7114999">fset</span><span class="op" id="7115003">.</span><span class="ident" id="7115004">Base</span><span class="op" id="7115008">(</span><span class="op" id="7115009">)</span><span class="op" id="7115010">,</span>&nbsp;<span class="builtinfunc" id="7115012">len</span><span class="op" id="7115015">(</span><span class="ident" id="7115016">src</span><span class="op" id="7115019">)</span><span class="op" id="7115020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115023">b</span><span class="op" id="7115024">.</span><span class="ident" id="7115025">SetBytes</span><span class="op" id="7115033">(</span><span class="ident" id="7115034">int64</span><span class="op" id="7115039">(</span><span class="builtinfunc" id="7115040">len</span><span class="op" id="7115043">(</span><span class="ident" id="7115044">src</span><span class="op" id="7115047">)</span><span class="op" id="7115048">)</span><span class="op" id="7115049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115052">var</span>&nbsp;<span class="ident" id="7115056">s</span>&nbsp;<span class="ident" id="7115058">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115067">b</span><span class="op" id="7115068">.</span><span class="ident" id="7115069">StartTimer</span><span class="op" id="7115079">(</span><span class="op" id="7115080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115083">for</span>&nbsp;<span class="ident" id="7115087">i</span>&nbsp;<span class="op" id="7115089">:=</span>&nbsp;<span class="num" id="7115092">0</span><span class="op" id="7115093">;</span>&nbsp;<span class="ident" id="7115095">i</span>&nbsp;<span class="op" id="7115097">&lt;</span>&nbsp;<span class="ident" id="7115099">b</span><span class="op" id="7115100">.</span><span class="ident" id="7115101">N</span><span class="op" id="7115102">;</span>&nbsp;<span class="ident" id="7115104">i</span><span class="op" id="7115105">++</span>&nbsp;<span class="op" id="7115108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115112">s</span><span class="op" id="7115113">.</span><span class="ident" id="7115114">Init</span><span class="op" id="7115118">(</span><span class="ident" id="7115119">file</span><span class="op" id="7115123">,</span>&nbsp;<span class="ident" id="7115125">src</span><span class="op" id="7115128">,</span>&nbsp;<span class="ident" id="7115130">nil</span><span class="op" id="7115133">,</span>&nbsp;<span class="ident" id="7115135">ScanComments</span><span class="op" id="7115147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115151">for</span>&nbsp;<span class="op" id="7115155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115160">_</span><span class="op" id="7115161">,</span>&nbsp;<span class="ident" id="7115163">tok</span><span class="op" id="7115166">,</span>&nbsp;<span class="ident" id="7115168">_</span>&nbsp;<span class="op" id="7115170">:=</span>&nbsp;<span class="ident" id="7115173">s</span><span class="op" id="7115174">.</span><span class="ident" id="7115175">Scan</span><span class="op" id="7115179">(</span><span class="op" id="7115180">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115185">if</span>&nbsp;<span class="ident" id="7115188">tok</span>&nbsp;<span class="op" id="7115192">==</span>&nbsp;<span class="ident" id="7115195">token</span><span class="op" id="7115200">.</span><span class="ident" id="7115201">EOF</span>&nbsp;<span class="op" id="7115205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115211">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115227">}</span><br>
<span class="lineno">775</span><span class="op" id="7115229">}</span>
</div>
</body>
</html>
