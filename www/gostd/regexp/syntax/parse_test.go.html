<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html" class="current">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7753724">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7753780">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7753834">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7753885">package</span>&nbsp;<span class="ident" id="7753893">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7753901">import</span>&nbsp;<span class="op" id="7753908">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7753911">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7753920">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7753927">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7753938">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="7753948">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7753951">type</span>&nbsp;<span class="ident" id="7753956">parseTest</span>&nbsp;<span class="keyword" id="7753966">struct</span>&nbsp;<span class="op" id="7753973">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753976">Regexp</span>&nbsp;<span class="builtintype" id="7753983">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753991">Dump</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7753998">string</span><br>
<span class="lineno"></span><span class="op" id="7754005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7754008">var</span>&nbsp;<span class="ident" id="7754012">parseTests</span>&nbsp;<span class="op" id="7754023">=</span>&nbsp;<span class="op" id="7754025">[</span><span class="op" id="7754026">]</span><span class="ident" id="7754027">parseTest</span><span class="op" id="7754036">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7754039">//&nbsp;Base&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754054">{</span><span class="string" id="7754055">`a`</span><span class="op" id="7754058">,</span>&nbsp;<span class="string" id="7754060">`lit{a}`</span><span class="op" id="7754068">}</span><span class="op" id="7754069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754072">{</span><span class="string" id="7754073">`a.`</span><span class="op" id="7754077">,</span>&nbsp;<span class="string" id="7754079">`cat{lit{a}dot{}}`</span><span class="op" id="7754097">}</span><span class="op" id="7754098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754101">{</span><span class="string" id="7754102">`a.b`</span><span class="op" id="7754107">,</span>&nbsp;<span class="string" id="7754109">`cat{lit{a}dot{}lit{b}}`</span><span class="op" id="7754133">}</span><span class="op" id="7754134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754137">{</span><span class="string" id="7754138">`ab`</span><span class="op" id="7754142">,</span>&nbsp;<span class="string" id="7754144">`str{ab}`</span><span class="op" id="7754153">}</span><span class="op" id="7754154">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754157">{</span><span class="string" id="7754158">`a.b.c`</span><span class="op" id="7754165">,</span>&nbsp;<span class="string" id="7754167">`cat{lit{a}dot{}lit{b}dot{}lit{c}}`</span><span class="op" id="7754202">}</span><span class="op" id="7754203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754206">{</span><span class="string" id="7754207">`abc`</span><span class="op" id="7754212">,</span>&nbsp;<span class="string" id="7754214">`str{abc}`</span><span class="op" id="7754224">}</span><span class="op" id="7754225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754228">{</span><span class="string" id="7754229">`a|^`</span><span class="op" id="7754234">,</span>&nbsp;<span class="string" id="7754236">`alt{lit{a}bol{}}`</span><span class="op" id="7754254">}</span><span class="op" id="7754255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754258">{</span><span class="string" id="7754259">`a|b`</span><span class="op" id="7754264">,</span>&nbsp;<span class="string" id="7754266">`cc{0x61-0x62}`</span><span class="op" id="7754281">}</span><span class="op" id="7754282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754285">{</span><span class="string" id="7754286">`(a)`</span><span class="op" id="7754291">,</span>&nbsp;<span class="string" id="7754293">`cap{lit{a}}`</span><span class="op" id="7754306">}</span><span class="op" id="7754307">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754310">{</span><span class="string" id="7754311">`(a)|b`</span><span class="op" id="7754318">,</span>&nbsp;<span class="string" id="7754320">`alt{cap{lit{a}}lit{b}}`</span><span class="op" id="7754344">}</span><span class="op" id="7754345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754348">{</span><span class="string" id="7754349">`a*`</span><span class="op" id="7754353">,</span>&nbsp;<span class="string" id="7754355">`star{lit{a}}`</span><span class="op" id="7754369">}</span><span class="op" id="7754370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754373">{</span><span class="string" id="7754374">`a+`</span><span class="op" id="7754378">,</span>&nbsp;<span class="string" id="7754380">`plus{lit{a}}`</span><span class="op" id="7754394">}</span><span class="op" id="7754395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754398">{</span><span class="string" id="7754399">`a?`</span><span class="op" id="7754403">,</span>&nbsp;<span class="string" id="7754405">`que{lit{a}}`</span><span class="op" id="7754418">}</span><span class="op" id="7754419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754422">{</span><span class="string" id="7754423">`a{2}`</span><span class="op" id="7754429">,</span>&nbsp;<span class="string" id="7754431">`rep{2,2&nbsp;lit{a}}`</span><span class="op" id="7754448">}</span><span class="op" id="7754449">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754452">{</span><span class="string" id="7754453">`a{2,3}`</span><span class="op" id="7754461">,</span>&nbsp;<span class="string" id="7754463">`rep{2,3&nbsp;lit{a}}`</span><span class="op" id="7754480">}</span><span class="op" id="7754481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754484">{</span><span class="string" id="7754485">`a{2,}`</span><span class="op" id="7754492">,</span>&nbsp;<span class="string" id="7754494">`rep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7754512">}</span><span class="op" id="7754513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754516">{</span><span class="string" id="7754517">`a*?`</span><span class="op" id="7754522">,</span>&nbsp;<span class="string" id="7754524">`nstar{lit{a}}`</span><span class="op" id="7754539">}</span><span class="op" id="7754540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754543">{</span><span class="string" id="7754544">`a+?`</span><span class="op" id="7754549">,</span>&nbsp;<span class="string" id="7754551">`nplus{lit{a}}`</span><span class="op" id="7754566">}</span><span class="op" id="7754567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754570">{</span><span class="string" id="7754571">`a??`</span><span class="op" id="7754576">,</span>&nbsp;<span class="string" id="7754578">`nque{lit{a}}`</span><span class="op" id="7754592">}</span><span class="op" id="7754593">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754596">{</span><span class="string" id="7754597">`a{2}?`</span><span class="op" id="7754604">,</span>&nbsp;<span class="string" id="7754606">`nrep{2,2&nbsp;lit{a}}`</span><span class="op" id="7754624">}</span><span class="op" id="7754625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754628">{</span><span class="string" id="7754629">`a{2,3}?`</span><span class="op" id="7754638">,</span>&nbsp;<span class="string" id="7754640">`nrep{2,3&nbsp;lit{a}}`</span><span class="op" id="7754658">}</span><span class="op" id="7754659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754662">{</span><span class="string" id="7754663">`a{2,}?`</span><span class="op" id="7754671">,</span>&nbsp;<span class="string" id="7754673">`nrep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7754692">}</span><span class="op" id="7754693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7754696">//&nbsp;Malformed&nbsp;{&nbsp;}&nbsp;are&nbsp;treated&nbsp;as&nbsp;literals.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754739">{</span><span class="string" id="7754740">`x{1001`</span><span class="op" id="7754748">,</span>&nbsp;<span class="string" id="7754750">`str{x{1001}`</span><span class="op" id="7754763">}</span><span class="op" id="7754764">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754767">{</span><span class="string" id="7754768">`x{9876543210`</span><span class="op" id="7754782">,</span>&nbsp;<span class="string" id="7754784">`str{x{9876543210}`</span><span class="op" id="7754803">}</span><span class="op" id="7754804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754807">{</span><span class="string" id="7754808">`x{9876543210,`</span><span class="op" id="7754823">,</span>&nbsp;<span class="string" id="7754825">`str{x{9876543210,}`</span><span class="op" id="7754845">}</span><span class="op" id="7754846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754849">{</span><span class="string" id="7754850">`x{2,1`</span><span class="op" id="7754857">,</span>&nbsp;<span class="string" id="7754859">`str{x{2,1}`</span><span class="op" id="7754871">}</span><span class="op" id="7754872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754875">{</span><span class="string" id="7754876">`x{1,9876543210`</span><span class="op" id="7754892">,</span>&nbsp;<span class="string" id="7754894">`str{x{1,9876543210}`</span><span class="op" id="7754915">}</span><span class="op" id="7754916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754919">{</span><span class="string" id="7754920">``</span><span class="op" id="7754922">,</span>&nbsp;<span class="string" id="7754924">`emp{}`</span><span class="op" id="7754931">}</span><span class="op" id="7754932">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754935">{</span><span class="string" id="7754936">`|`</span><span class="op" id="7754939">,</span>&nbsp;<span class="string" id="7754941">`emp{}`</span><span class="op" id="7754948">}</span><span class="op" id="7754949">,</span>&nbsp;<span class="comment" id="7754951">//&nbsp;alt{emp{}emp{}}&nbsp;but&nbsp;got&nbsp;factored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7754988">{</span><span class="string" id="7754989">`|x|`</span><span class="op" id="7754994">,</span>&nbsp;<span class="string" id="7754996">`alt{emp{}lit{x}emp{}}`</span><span class="op" id="7755019">}</span><span class="op" id="7755020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755023">{</span><span class="string" id="7755024">`.`</span><span class="op" id="7755027">,</span>&nbsp;<span class="string" id="7755029">`dot{}`</span><span class="op" id="7755036">}</span><span class="op" id="7755037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755040">{</span><span class="string" id="7755041">`^`</span><span class="op" id="7755044">,</span>&nbsp;<span class="string" id="7755046">`bol{}`</span><span class="op" id="7755053">}</span><span class="op" id="7755054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755057">{</span><span class="string" id="7755058">`$`</span><span class="op" id="7755061">,</span>&nbsp;<span class="string" id="7755063">`eol{}`</span><span class="op" id="7755070">}</span><span class="op" id="7755071">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755074">{</span><span class="string" id="7755075">`\|`</span><span class="op" id="7755079">,</span>&nbsp;<span class="string" id="7755081">`lit{|}`</span><span class="op" id="7755089">}</span><span class="op" id="7755090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755093">{</span><span class="string" id="7755094">`\(`</span><span class="op" id="7755098">,</span>&nbsp;<span class="string" id="7755100">`lit{(}`</span><span class="op" id="7755108">}</span><span class="op" id="7755109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755112">{</span><span class="string" id="7755113">`\)`</span><span class="op" id="7755117">,</span>&nbsp;<span class="string" id="7755119">`lit{)}`</span><span class="op" id="7755127">}</span><span class="op" id="7755128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755131">{</span><span class="string" id="7755132">`\*`</span><span class="op" id="7755136">,</span>&nbsp;<span class="string" id="7755138">`lit{*}`</span><span class="op" id="7755146">}</span><span class="op" id="7755147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755150">{</span><span class="string" id="7755151">`\+`</span><span class="op" id="7755155">,</span>&nbsp;<span class="string" id="7755157">`lit{+}`</span><span class="op" id="7755165">}</span><span class="op" id="7755166">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755169">{</span><span class="string" id="7755170">`\?`</span><span class="op" id="7755174">,</span>&nbsp;<span class="string" id="7755176">`lit{?}`</span><span class="op" id="7755184">}</span><span class="op" id="7755185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755188">{</span><span class="string" id="7755189">`{`</span><span class="op" id="7755192">,</span>&nbsp;<span class="string" id="7755194">`lit{{}`</span><span class="op" id="7755202">}</span><span class="op" id="7755203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755206">{</span><span class="string" id="7755207">`}`</span><span class="op" id="7755210">,</span>&nbsp;<span class="string" id="7755212">`lit{}}`</span><span class="op" id="7755220">}</span><span class="op" id="7755221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755224">{</span><span class="string" id="7755225">`\.`</span><span class="op" id="7755229">,</span>&nbsp;<span class="string" id="7755231">`lit{.}`</span><span class="op" id="7755239">}</span><span class="op" id="7755240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755243">{</span><span class="string" id="7755244">`\^`</span><span class="op" id="7755248">,</span>&nbsp;<span class="string" id="7755250">`lit{^}`</span><span class="op" id="7755258">}</span><span class="op" id="7755259">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755262">{</span><span class="string" id="7755263">`\$`</span><span class="op" id="7755267">,</span>&nbsp;<span class="string" id="7755269">`lit{$}`</span><span class="op" id="7755277">}</span><span class="op" id="7755278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755281">{</span><span class="string" id="7755282">`\\`</span><span class="op" id="7755286">,</span>&nbsp;<span class="string" id="7755288">`lit{\}`</span><span class="op" id="7755296">}</span><span class="op" id="7755297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755300">{</span><span class="string" id="7755301">`[ace]`</span><span class="op" id="7755308">,</span>&nbsp;<span class="string" id="7755310">`cc{0x61&nbsp;0x63&nbsp;0x65}`</span><span class="op" id="7755330">}</span><span class="op" id="7755331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755334">{</span><span class="string" id="7755335">`[abc]`</span><span class="op" id="7755342">,</span>&nbsp;<span class="string" id="7755344">`cc{0x61-0x63}`</span><span class="op" id="7755359">}</span><span class="op" id="7755360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755363">{</span><span class="string" id="7755364">`[a-z]`</span><span class="op" id="7755371">,</span>&nbsp;<span class="string" id="7755373">`cc{0x61-0x7a}`</span><span class="op" id="7755388">}</span><span class="op" id="7755389">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755392">{</span><span class="string" id="7755393">`[a]`</span><span class="op" id="7755398">,</span>&nbsp;<span class="string" id="7755400">`lit{a}`</span><span class="op" id="7755408">}</span><span class="op" id="7755409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755412">{</span><span class="string" id="7755413">`\-`</span><span class="op" id="7755417">,</span>&nbsp;<span class="string" id="7755419">`lit{-}`</span><span class="op" id="7755427">}</span><span class="op" id="7755428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755431">{</span><span class="string" id="7755432">`-`</span><span class="op" id="7755435">,</span>&nbsp;<span class="string" id="7755437">`lit{-}`</span><span class="op" id="7755445">}</span><span class="op" id="7755446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755449">{</span><span class="string" id="7755450">`\_`</span><span class="op" id="7755454">,</span>&nbsp;<span class="string" id="7755456">`lit{_}`</span><span class="op" id="7755464">}</span><span class="op" id="7755465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755468">{</span><span class="string" id="7755469">`abc`</span><span class="op" id="7755474">,</span>&nbsp;<span class="string" id="7755476">`str{abc}`</span><span class="op" id="7755486">}</span><span class="op" id="7755487">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755490">{</span><span class="string" id="7755491">`abc|def`</span><span class="op" id="7755500">,</span>&nbsp;<span class="string" id="7755502">`alt{str{abc}str{def}}`</span><span class="op" id="7755525">}</span><span class="op" id="7755526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755529">{</span><span class="string" id="7755530">`abc|def|ghi`</span><span class="op" id="7755543">,</span>&nbsp;<span class="string" id="7755545">`alt{str{abc}str{def}str{ghi}}`</span><span class="op" id="7755576">}</span><span class="op" id="7755577">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7755581">//&nbsp;Posix&nbsp;and&nbsp;Perl&nbsp;extensions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755611">{</span><span class="string" id="7755612">`[[:lower:]]`</span><span class="op" id="7755625">,</span>&nbsp;<span class="string" id="7755627">`cc{0x61-0x7a}`</span><span class="op" id="7755642">}</span><span class="op" id="7755643">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755646">{</span><span class="string" id="7755647">`[a-z]`</span><span class="op" id="7755654">,</span>&nbsp;<span class="string" id="7755656">`cc{0x61-0x7a}`</span><span class="op" id="7755671">}</span><span class="op" id="7755672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755675">{</span><span class="string" id="7755676">`[^[:lower:]]`</span><span class="op" id="7755690">,</span>&nbsp;<span class="string" id="7755692">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7755720">}</span><span class="op" id="7755721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755724">{</span><span class="string" id="7755725">`[[:^lower:]]`</span><span class="op" id="7755739">,</span>&nbsp;<span class="string" id="7755741">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7755769">}</span><span class="op" id="7755770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755773">{</span><span class="string" id="7755774">`(?i)[[:lower:]]`</span><span class="op" id="7755791">,</span>&nbsp;<span class="string" id="7755793">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7755831">}</span><span class="op" id="7755832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755835">{</span><span class="string" id="7755836">`(?i)[a-z]`</span><span class="op" id="7755847">,</span>&nbsp;<span class="string" id="7755849">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7755887">}</span><span class="op" id="7755888">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755891">{</span><span class="string" id="7755892">`(?i)[^[:lower:]]`</span><span class="op" id="7755910">,</span>&nbsp;<span class="string" id="7755912">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7755976">}</span><span class="op" id="7755977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7755980">{</span><span class="string" id="7755981">`(?i)[[:^lower:]]`</span><span class="op" id="7755999">,</span>&nbsp;<span class="string" id="7756001">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7756065">}</span><span class="op" id="7756066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756069">{</span><span class="string" id="7756070">`\d`</span><span class="op" id="7756074">,</span>&nbsp;<span class="string" id="7756076">`cc{0x30-0x39}`</span><span class="op" id="7756091">}</span><span class="op" id="7756092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756095">{</span><span class="string" id="7756096">`\D`</span><span class="op" id="7756100">,</span>&nbsp;<span class="string" id="7756102">`cc{0x0-0x2f&nbsp;0x3a-0x10ffff}`</span><span class="op" id="7756130">}</span><span class="op" id="7756131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756134">{</span><span class="string" id="7756135">`\s`</span><span class="op" id="7756139">,</span>&nbsp;<span class="string" id="7756141">`cc{0x9-0xa&nbsp;0xc-0xd&nbsp;0x20}`</span><span class="op" id="7756167">}</span><span class="op" id="7756168">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756171">{</span><span class="string" id="7756172">`\S`</span><span class="op" id="7756176">,</span>&nbsp;<span class="string" id="7756178">`cc{0x0-0x8&nbsp;0xb&nbsp;0xe-0x1f&nbsp;0x21-0x10ffff}`</span><span class="op" id="7756218">}</span><span class="op" id="7756219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756222">{</span><span class="string" id="7756223">`\w`</span><span class="op" id="7756227">,</span>&nbsp;<span class="string" id="7756229">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a}`</span><span class="op" id="7756269">}</span><span class="op" id="7756270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756273">{</span><span class="string" id="7756274">`\W`</span><span class="op" id="7756278">,</span>&nbsp;<span class="string" id="7756280">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7756333">}</span><span class="op" id="7756334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756337">{</span><span class="string" id="7756338">`(?i)\w`</span><span class="op" id="7756346">,</span>&nbsp;<span class="string" id="7756348">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7756401">}</span><span class="op" id="7756402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756405">{</span><span class="string" id="7756406">`(?i)\W`</span><span class="op" id="7756414">,</span>&nbsp;<span class="string" id="7756416">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7756495">}</span><span class="op" id="7756496">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756499">{</span><span class="string" id="7756500">`[^\\]`</span><span class="op" id="7756507">,</span>&nbsp;<span class="string" id="7756509">`cc{0x0-0x5b&nbsp;0x5d-0x10ffff}`</span><span class="op" id="7756537">}</span><span class="op" id="7756538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7756541">//&nbsp;&nbsp;&nbsp;&nbsp{&nbsp;`\C`,&nbsp;`byte{}`&nbsp;},&nbsp;&nbsp;//&nbsp;probably&nbsp;never</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7756585">//&nbsp;Unicode,&nbsp;negatives,&nbsp;and&nbsp;a&nbsp;double&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756632">{</span><span class="string" id="7756633">`\p{Braille}`</span><span class="op" id="7756646">,</span>&nbsp;<span class="string" id="7756648">`cc{0x2800-0x28ff}`</span><span class="op" id="7756667">}</span><span class="op" id="7756668">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756671">{</span><span class="string" id="7756672">`\P{Braille}`</span><span class="op" id="7756685">,</span>&nbsp;<span class="string" id="7756687">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7756719">}</span><span class="op" id="7756720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756723">{</span><span class="string" id="7756724">`\p{^Braille}`</span><span class="op" id="7756738">,</span>&nbsp;<span class="string" id="7756740">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7756772">}</span><span class="op" id="7756773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756776">{</span><span class="string" id="7756777">`\P{^Braille}`</span><span class="op" id="7756791">,</span>&nbsp;<span class="string" id="7756793">`cc{0x2800-0x28ff}`</span><span class="op" id="7756812">}</span><span class="op" id="7756813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756816">{</span><span class="string" id="7756817">`\pZ`</span><span class="op" id="7756822">,</span>&nbsp;<span class="string" id="7756824">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7756895">}</span><span class="op" id="7756896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756899">{</span><span class="string" id="7756900">`[\p{Braille}]`</span><span class="op" id="7756915">,</span>&nbsp;<span class="string" id="7756917">`cc{0x2800-0x28ff}`</span><span class="op" id="7756936">}</span><span class="op" id="7756937">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756940">{</span><span class="string" id="7756941">`[\P{Braille}]`</span><span class="op" id="7756956">,</span>&nbsp;<span class="string" id="7756958">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7756990">}</span><span class="op" id="7756991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7756994">{</span><span class="string" id="7756995">`[\p{^Braille}]`</span><span class="op" id="7757011">,</span>&nbsp;<span class="string" id="7757013">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7757045">}</span><span class="op" id="7757046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757049">{</span><span class="string" id="7757050">`[\P{^Braille}]`</span><span class="op" id="7757066">,</span>&nbsp;<span class="string" id="7757068">`cc{0x2800-0x28ff}`</span><span class="op" id="7757087">}</span><span class="op" id="7757088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757091">{</span><span class="string" id="7757092">`[\pZ]`</span><span class="op" id="7757099">,</span>&nbsp;<span class="string" id="7757101">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7757172">}</span><span class="op" id="7757173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757176">{</span><span class="string" id="7757177">`\p{Lu}`</span><span class="op" id="7757185">,</span>&nbsp;<span class="ident" id="7757187">mkCharClass</span><span class="op" id="7757198">(</span><span class="ident" id="7757199">unicode</span><span class="op" id="7757206">.</span><span class="ident" id="7757207">IsUpper</span><span class="op" id="7757214">)</span><span class="op" id="7757215">}</span><span class="op" id="7757216">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757219">{</span><span class="string" id="7757220">`[\p{Lu}]`</span><span class="op" id="7757230">,</span>&nbsp;<span class="ident" id="7757232">mkCharClass</span><span class="op" id="7757243">(</span><span class="ident" id="7757244">unicode</span><span class="op" id="7757251">.</span><span class="ident" id="7757252">IsUpper</span><span class="op" id="7757259">)</span><span class="op" id="7757260">}</span><span class="op" id="7757261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757264">{</span><span class="string" id="7757265">`(?i)[\p{Lu}]`</span><span class="op" id="7757279">,</span>&nbsp;<span class="ident" id="7757281">mkCharClass</span><span class="op" id="7757292">(</span><span class="ident" id="7757293">isUpperFold</span><span class="op" id="7757304">)</span><span class="op" id="7757305">}</span><span class="op" id="7757306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757309">{</span><span class="string" id="7757310">`\p{Any}`</span><span class="op" id="7757319">,</span>&nbsp;<span class="string" id="7757321">`dot{}`</span><span class="op" id="7757328">}</span><span class="op" id="7757329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757332">{</span><span class="string" id="7757333">`\p{^Any}`</span><span class="op" id="7757343">,</span>&nbsp;<span class="string" id="7757345">`cc{}`</span><span class="op" id="7757351">}</span><span class="op" id="7757352">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7757356">//&nbsp;Hex,&nbsp;octal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757372">{</span><span class="string" id="7757373">`[\012-\234]\141`</span><span class="op" id="7757390">,</span>&nbsp;<span class="string" id="7757392">`cat{cc{0xa-0x9c}lit{a}}`</span><span class="op" id="7757417">}</span><span class="op" id="7757418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757421">{</span><span class="string" id="7757422">`[\x{41}-\x7a]\x61`</span><span class="op" id="7757441">,</span>&nbsp;<span class="string" id="7757443">`cat{cc{0x41-0x7a}lit{a}}`</span><span class="op" id="7757469">}</span><span class="op" id="7757470">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7757474">//&nbsp;More&nbsp;interesting&nbsp;regular&nbsp;expressions.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757516">{</span><span class="string" id="7757517">`a{,2}`</span><span class="op" id="7757524">,</span>&nbsp;<span class="string" id="7757526">`str{a{,2}}`</span><span class="op" id="7757538">}</span><span class="op" id="7757539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757542">{</span><span class="string" id="7757543">`\.\^\$\\`</span><span class="op" id="7757553">,</span>&nbsp;<span class="string" id="7757555">`str{.^$\}`</span><span class="op" id="7757566">}</span><span class="op" id="7757567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757570">{</span><span class="string" id="7757571">`[a-zABC]`</span><span class="op" id="7757581">,</span>&nbsp;<span class="string" id="7757583">`cc{0x41-0x43&nbsp;0x61-0x7a}`</span><span class="op" id="7757608">}</span><span class="op" id="7757609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757612">{</span><span class="string" id="7757613">`[^a]`</span><span class="op" id="7757619">,</span>&nbsp;<span class="string" id="7757621">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7757649">}</span><span class="op" id="7757650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757653">{</span><span class="string" id="7757654">`[α-ε☺]`</span><span class="op" id="7757666">,</span>&nbsp;<span class="string" id="7757668">`cc{0x3b1-0x3b5&nbsp;0x263a}`</span><span class="op" id="7757692">}</span><span class="op" id="7757693">,</span>&nbsp;<span class="comment" id="7757695">//&nbsp;utf-8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757705">{</span><span class="string" id="7757706">`a*{`</span><span class="op" id="7757711">,</span>&nbsp;<span class="string" id="7757713">`cat{star{lit{a}}lit{{}}`</span><span class="op" id="7757738">}</span><span class="op" id="7757739">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7757743">//&nbsp;Test&nbsp;precedences</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757764">{</span><span class="string" id="7757765">`(?:ab)*`</span><span class="op" id="7757774">,</span>&nbsp;<span class="string" id="7757776">`star{str{ab}}`</span><span class="op" id="7757791">}</span><span class="op" id="7757792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757795">{</span><span class="string" id="7757796">`(ab)*`</span><span class="op" id="7757803">,</span>&nbsp;<span class="string" id="7757805">`star{cap{str{ab}}}`</span><span class="op" id="7757825">}</span><span class="op" id="7757826">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757829">{</span><span class="string" id="7757830">`ab|cd`</span><span class="op" id="7757837">,</span>&nbsp;<span class="string" id="7757839">`alt{str{ab}str{cd}}`</span><span class="op" id="7757860">}</span><span class="op" id="7757861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757864">{</span><span class="string" id="7757865">`a(b|c)d`</span><span class="op" id="7757874">,</span>&nbsp;<span class="string" id="7757876">`cat{lit{a}cap{cc{0x62-0x63}}lit{d}}`</span><span class="op" id="7757913">}</span><span class="op" id="7757914">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7757918">//&nbsp;Test&nbsp;flattening.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757939">{</span><span class="string" id="7757940">`(?:a)`</span><span class="op" id="7757947">,</span>&nbsp;<span class="string" id="7757949">`lit{a}`</span><span class="op" id="7757957">}</span><span class="op" id="7757958">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757961">{</span><span class="string" id="7757962">`(?:ab)(?:cd)`</span><span class="op" id="7757976">,</span>&nbsp;<span class="string" id="7757978">`str{abcd}`</span><span class="op" id="7757989">}</span><span class="op" id="7757990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7757993">{</span><span class="string" id="7757994">`(?:a+b+)(?:c+d+)`</span><span class="op" id="7758012">,</span>&nbsp;<span class="string" id="7758014">`cat{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7758069">}</span><span class="op" id="7758070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758073">{</span><span class="string" id="7758074">`(?:a+|b+)|(?:c+|d+)`</span><span class="op" id="7758095">,</span>&nbsp;<span class="string" id="7758097">`alt{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7758152">}</span><span class="op" id="7758153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758156">{</span><span class="string" id="7758157">`(?:a|b)|(?:c|d)`</span><span class="op" id="7758174">,</span>&nbsp;<span class="string" id="7758176">`cc{0x61-0x64}`</span><span class="op" id="7758191">}</span><span class="op" id="7758192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758195">{</span><span class="string" id="7758196">`a|.`</span><span class="op" id="7758201">,</span>&nbsp;<span class="string" id="7758203">`dot{}`</span><span class="op" id="7758210">}</span><span class="op" id="7758211">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758214">{</span><span class="string" id="7758215">`.|a`</span><span class="op" id="7758220">,</span>&nbsp;<span class="string" id="7758222">`dot{}`</span><span class="op" id="7758229">}</span><span class="op" id="7758230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758233">{</span><span class="string" id="7758234">`(?:[abc]|A|Z|hello|world)`</span><span class="op" id="7758261">,</span>&nbsp;<span class="string" id="7758263">`alt{cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}str{hello}str{world}}`</span><span class="op" id="7758313">}</span><span class="op" id="7758314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758317">{</span><span class="string" id="7758318">`(?:[abc]|A|Z)`</span><span class="op" id="7758333">,</span>&nbsp;<span class="string" id="7758335">`cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}`</span><span class="op" id="7758360">}</span><span class="op" id="7758361">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7758365">//&nbsp;Test&nbsp;Perl&nbsp;quoted&nbsp;literals</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758395">{</span><span class="string" id="7758396">`\Q+|*?{[\E`</span><span class="op" id="7758408">,</span>&nbsp;<span class="string" id="7758410">`str{+|*?{[}`</span><span class="op" id="7758423">}</span><span class="op" id="7758424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758427">{</span><span class="string" id="7758428">`\Q+\E+`</span><span class="op" id="7758436">,</span>&nbsp;<span class="string" id="7758438">`plus{lit{+}}`</span><span class="op" id="7758452">}</span><span class="op" id="7758453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758456">{</span><span class="string" id="7758457">`\Q\\E`</span><span class="op" id="7758464">,</span>&nbsp;<span class="string" id="7758466">`lit{\}`</span><span class="op" id="7758474">}</span><span class="op" id="7758475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758478">{</span><span class="string" id="7758479">`\Q\\\E`</span><span class="op" id="7758487">,</span>&nbsp;<span class="string" id="7758489">`str{\\}`</span><span class="op" id="7758498">}</span><span class="op" id="7758499">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7758503">//&nbsp;Test&nbsp;Perl&nbsp;\A&nbsp;and&nbsp;\z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758527">{</span><span class="string" id="7758528">`(?m)^`</span><span class="op" id="7758535">,</span>&nbsp;<span class="string" id="7758537">`bol{}`</span><span class="op" id="7758544">}</span><span class="op" id="7758545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758548">{</span><span class="string" id="7758549">`(?m)$`</span><span class="op" id="7758556">,</span>&nbsp;<span class="string" id="7758558">`eol{}`</span><span class="op" id="7758565">}</span><span class="op" id="7758566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758569">{</span><span class="string" id="7758570">`(?-m)^`</span><span class="op" id="7758578">,</span>&nbsp;<span class="string" id="7758580">`bot{}`</span><span class="op" id="7758587">}</span><span class="op" id="7758588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758591">{</span><span class="string" id="7758592">`(?-m)$`</span><span class="op" id="7758600">,</span>&nbsp;<span class="string" id="7758602">`eot{}`</span><span class="op" id="7758609">}</span><span class="op" id="7758610">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758613">{</span><span class="string" id="7758614">`(?m)\A`</span><span class="op" id="7758622">,</span>&nbsp;<span class="string" id="7758624">`bot{}`</span><span class="op" id="7758631">}</span><span class="op" id="7758632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758635">{</span><span class="string" id="7758636">`(?m)\z`</span><span class="op" id="7758644">,</span>&nbsp;<span class="string" id="7758646">`eot{\z}`</span><span class="op" id="7758655">}</span><span class="op" id="7758656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758659">{</span><span class="string" id="7758660">`(?-m)\A`</span><span class="op" id="7758669">,</span>&nbsp;<span class="string" id="7758671">`bot{}`</span><span class="op" id="7758678">}</span><span class="op" id="7758679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758682">{</span><span class="string" id="7758683">`(?-m)\z`</span><span class="op" id="7758692">,</span>&nbsp;<span class="string" id="7758694">`eot{\z}`</span><span class="op" id="7758703">}</span><span class="op" id="7758704">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7758708">//&nbsp;Test&nbsp;named&nbsp;captures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758732">{</span><span class="string" id="7758733">`(?P&lt;name&gt;a)`</span><span class="op" id="7758746">,</span>&nbsp;<span class="string" id="7758748">`cap{name:lit{a}}`</span><span class="op" id="7758766">}</span><span class="op" id="7758767">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7758771">//&nbsp;Case-folded&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758796">{</span><span class="string" id="7758797">`[Aa]`</span><span class="op" id="7758803">,</span>&nbsp;<span class="string" id="7758805">`litfold{A}`</span><span class="op" id="7758817">}</span><span class="op" id="7758818">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758821">{</span><span class="string" id="7758822">`[\x{100}\x{101}]`</span><span class="op" id="7758840">,</span>&nbsp;<span class="string" id="7758842">`litfold{Ā}`</span><span class="op" id="7758855">}</span><span class="op" id="7758856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758859">{</span><span class="string" id="7758860">`[Δδ]`</span><span class="op" id="7758868">,</span>&nbsp;<span class="string" id="7758870">`litfold{Δ}`</span><span class="op" id="7758883">}</span><span class="op" id="7758884">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7758888">//&nbsp;Strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758900">{</span><span class="string" id="7758901">`abcde`</span><span class="op" id="7758908">,</span>&nbsp;<span class="string" id="7758910">`str{abcde}`</span><span class="op" id="7758922">}</span><span class="op" id="7758923">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758926">{</span><span class="string" id="7758927">`[Aa][Bb]cd`</span><span class="op" id="7758939">,</span>&nbsp;<span class="string" id="7758941">`cat{strfold{AB}str{cd}}`</span><span class="op" id="7758966">}</span><span class="op" id="7758967">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7758971">//&nbsp;Factoring.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7758986">{</span><span class="string" id="7758987">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7759008">,</span>&nbsp;<span class="string" id="7759010">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7759089">}</span><span class="op" id="7759090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759093">{</span><span class="string" id="7759094">`ax+y|ax+z|ay+w`</span><span class="op" id="7759110">,</span>&nbsp;<span class="string" id="7759112">`cat{lit{a}alt{cat{plus{lit{x}}cc{0x79-0x7a}}cat{plus{lit{y}}lit{w}}}}`</span><span class="op" id="7759183">}</span><span class="op" id="7759184">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7759188">//&nbsp;Bug&nbsp;fixes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759203">{</span><span class="string" id="7759204">`(?:.)`</span><span class="op" id="7759211">,</span>&nbsp;<span class="string" id="7759213">`dot{}`</span><span class="op" id="7759220">}</span><span class="op" id="7759221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759224">{</span><span class="string" id="7759225">`(?:x|(?:xa))`</span><span class="op" id="7759239">,</span>&nbsp;<span class="string" id="7759241">`cat{lit{x}alt{emp{}lit{a}}}`</span><span class="op" id="7759270">}</span><span class="op" id="7759271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759274">{</span><span class="string" id="7759275">`(?:.|(?:.a))`</span><span class="op" id="7759289">,</span>&nbsp;<span class="string" id="7759291">`cat{dot{}alt{emp{}lit{a}}}`</span><span class="op" id="7759319">}</span><span class="op" id="7759320">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759323">{</span><span class="string" id="7759324">`(?:A(?:A|a))`</span><span class="op" id="7759338">,</span>&nbsp;<span class="string" id="7759340">`cat{lit{A}litfold{A}}`</span><span class="op" id="7759363">}</span><span class="op" id="7759364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759367">{</span><span class="string" id="7759368">`(?:A|a)`</span><span class="op" id="7759377">,</span>&nbsp;<span class="string" id="7759379">`litfold{A}`</span><span class="op" id="7759391">}</span><span class="op" id="7759392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759395">{</span><span class="string" id="7759396">`A|(?:A|a)`</span><span class="op" id="7759407">,</span>&nbsp;<span class="string" id="7759409">`litfold{A}`</span><span class="op" id="7759421">}</span><span class="op" id="7759422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759425">{</span><span class="string" id="7759426">`(?s).`</span><span class="op" id="7759433">,</span>&nbsp;<span class="string" id="7759435">`dot{}`</span><span class="op" id="7759442">}</span><span class="op" id="7759443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759446">{</span><span class="string" id="7759447">`(?-s).`</span><span class="op" id="7759455">,</span>&nbsp;<span class="string" id="7759457">`dnl{}`</span><span class="op" id="7759464">}</span><span class="op" id="7759465">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759468">{</span><span class="string" id="7759469">`(?:(?:^).)`</span><span class="op" id="7759481">,</span>&nbsp;<span class="string" id="7759483">`cat{bol{}dot{}}`</span><span class="op" id="7759500">}</span><span class="op" id="7759501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759504">{</span><span class="string" id="7759505">`(?-s)(?:(?:^).)`</span><span class="op" id="7759522">,</span>&nbsp;<span class="string" id="7759524">`cat{bol{}dnl{}}`</span><span class="op" id="7759541">}</span><span class="op" id="7759542">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7759546">//&nbsp;RE2&nbsp;prefix_tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759567">{</span><span class="string" id="7759568">`abc|abd`</span><span class="op" id="7759577">,</span>&nbsp;<span class="string" id="7759579">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7759606">}</span><span class="op" id="7759607">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759610">{</span><span class="string" id="7759611">`a(?:b)c|abd`</span><span class="op" id="7759624">,</span>&nbsp;<span class="string" id="7759626">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7759653">}</span><span class="op" id="7759654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759657">{</span><span class="string" id="7759658">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7759679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7759683">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}`</span>&nbsp;<span class="op" id="7759737">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7759742">`cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7759770">}</span><span class="op" id="7759771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759774">{</span><span class="string" id="7759775">`abc|x|abd`</span><span class="op" id="7759786">,</span>&nbsp;<span class="string" id="7759788">`alt{str{abc}lit{x}str{abd}}`</span><span class="op" id="7759817">}</span><span class="op" id="7759818">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759821">{</span><span class="string" id="7759822">`(?i)abc|ABD`</span><span class="op" id="7759835">,</span>&nbsp;<span class="string" id="7759837">`cat{strfold{AB}cc{0x43-0x44&nbsp;0x63-0x64}}`</span><span class="op" id="7759878">}</span><span class="op" id="7759879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759882">{</span><span class="string" id="7759883">`[ab]c|[ab]d`</span><span class="op" id="7759896">,</span>&nbsp;<span class="string" id="7759898">`cat{cc{0x61-0x62}cc{0x63-0x64}}`</span><span class="op" id="7759931">}</span><span class="op" id="7759932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7759935">{</span><span class="string" id="7759936">`(?:xx|yy)c|(?:xx|yy)d`</span><span class="op" id="7759959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7759963">`cat{alt{str{xx}str{yy}}cc{0x63-0x64}}`</span><span class="op" id="7760002">}</span><span class="op" id="7760003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760006">{</span><span class="string" id="7760007">`x{2}|x{2}[0-9]`</span><span class="op" id="7760023">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7760027">`cat{rep{2,2&nbsp;lit{x}}alt{emp{}cc{0x30-0x39}}}`</span><span class="op" id="7760072">}</span><span class="op" id="7760073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760076">{</span><span class="string" id="7760077">`x{2}y|x{2}[0-9]y`</span><span class="op" id="7760095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7760099">`cat{rep{2,2&nbsp;lit{x}}alt{lit{y}cat{cc{0x30-0x39}lit{y}}}}`</span><span class="op" id="7760156">}</span><span class="op" id="7760157">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7760161">//&nbsp;Valid&nbsp;repetitions.</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760184">{</span><span class="string" id="7760185">`((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}))`</span><span class="op" id="7760235">,</span>&nbsp;<span class="string" id="7760237">``</span><span class="op" id="7760239">}</span><span class="op" id="7760240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760243">{</span><span class="string" id="7760244">`((((((((((x{1}){2}){2}){2}){2}){2}){2}){2}){2}){2})`</span><span class="op" id="7760297">,</span>&nbsp;<span class="string" id="7760299">``</span><span class="op" id="7760301">}</span><span class="op" id="7760302">,</span><br>
<span class="lineno"></span><span class="op" id="7760304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7760307">const</span>&nbsp;<span class="ident" id="7760313">testFlags</span>&nbsp;<span class="op" id="7760323">=</span>&nbsp;<span class="ident" id="7760325">MatchNL</span>&nbsp;<span class="op" id="7760333">|</span>&nbsp;<span class="ident" id="7760335">PerlX</span>&nbsp;<span class="op" id="7760341">|</span>&nbsp;<span class="ident" id="7760343">UnicodeGroups</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7760358">func</span>&nbsp;<span class="ident" id="7760363">TestParseSimple</span><span class="op" id="7760378">(</span><span class="ident" id="7760379">t</span>&nbsp;<span class="op" id="7760381">*</span><span class="ident" id="7760382">testing</span><span class="op" id="7760389">.</span><span class="ident" id="7760390">T</span><span class="op" id="7760391">)</span>&nbsp;<span class="op" id="7760393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760396">testParseDump</span><span class="op" id="7760409">(</span><span class="ident" id="7760410">t</span><span class="op" id="7760411">,</span>&nbsp;<span class="ident" id="7760413">parseTests</span><span class="op" id="7760423">,</span>&nbsp;<span class="ident" id="7760425">testFlags</span><span class="op" id="7760434">)</span><br>
<span class="lineno"></span><span class="op" id="7760436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7760439">var</span>&nbsp;<span class="ident" id="7760443">foldcaseTests</span>&nbsp;<span class="op" id="7760457">=</span>&nbsp;<span class="op" id="7760459">[</span><span class="op" id="7760460">]</span><span class="ident" id="7760461">parseTest</span><span class="op" id="7760470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760473">{</span><span class="string" id="7760474">`AbCdE`</span><span class="op" id="7760481">,</span>&nbsp;<span class="string" id="7760483">`strfold{ABCDE}`</span><span class="op" id="7760499">}</span><span class="op" id="7760500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760503">{</span><span class="string" id="7760504">`[Aa]`</span><span class="op" id="7760510">,</span>&nbsp;<span class="string" id="7760512">`litfold{A}`</span><span class="op" id="7760524">}</span><span class="op" id="7760525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760528">{</span><span class="string" id="7760529">`a`</span><span class="op" id="7760532">,</span>&nbsp;<span class="string" id="7760534">`litfold{A}`</span><span class="op" id="7760546">}</span><span class="op" id="7760547">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7760551">//&nbsp;0x17F&nbsp;is&nbsp;an&nbsp;old&nbsp;English&nbsp;long&nbsp;s&nbsp;(looks&nbsp;like&nbsp;an&nbsp;f)&nbsp;and&nbsp;folds&nbsp;to&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7760620">//&nbsp;0x212A&nbsp;is&nbsp;the&nbsp;Kelvin&nbsp;symbol&nbsp;and&nbsp;folds&nbsp;to&nbsp;k.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760668">{</span><span class="string" id="7760669">`A[F-g]`</span><span class="op" id="7760677">,</span>&nbsp;<span class="string" id="7760679">`cat{litfold{A}cc{0x41-0x7a&nbsp;0x17f&nbsp;0x212a}}`</span><span class="op" id="7760722">}</span><span class="op" id="7760723">,</span>&nbsp;<span class="comment" id="7760725">//&nbsp;[Aa][A-z...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760742">{</span><span class="string" id="7760743">`[[:upper:]]`</span><span class="op" id="7760756">,</span>&nbsp;<span class="string" id="7760758">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7760796">}</span><span class="op" id="7760797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760800">{</span><span class="string" id="7760801">`[[:lower:]]`</span><span class="op" id="7760814">,</span>&nbsp;<span class="string" id="7760816">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7760854">}</span><span class="op" id="7760855">,</span><br>
<span class="lineno">225</span><span class="op" id="7760857">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7760860">func</span>&nbsp;<span class="ident" id="7760865">TestParseFoldCase</span><span class="op" id="7760882">(</span><span class="ident" id="7760883">t</span>&nbsp;<span class="op" id="7760885">*</span><span class="ident" id="7760886">testing</span><span class="op" id="7760893">.</span><span class="ident" id="7760894">T</span><span class="op" id="7760895">)</span>&nbsp;<span class="op" id="7760897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760900">testParseDump</span><span class="op" id="7760913">(</span><span class="ident" id="7760914">t</span><span class="op" id="7760915">,</span>&nbsp;<span class="ident" id="7760917">foldcaseTests</span><span class="op" id="7760930">,</span>&nbsp;<span class="ident" id="7760932">FoldCase</span><span class="op" id="7760940">)</span><br>
<span class="lineno"></span><span class="op" id="7760942">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7760945">var</span>&nbsp;<span class="ident" id="7760949">literalTests</span>&nbsp;<span class="op" id="7760962">=</span>&nbsp;<span class="op" id="7760964">[</span><span class="op" id="7760965">]</span><span class="ident" id="7760966">parseTest</span><span class="op" id="7760975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760978">{</span><span class="string" id="7760979">&#34;(|)^$.[*+?]{5,10},\\&#34;</span><span class="op" id="7761001">,</span>&nbsp;<span class="string" id="7761003">&#34;str{(|)^$.[*+?]{5,10},\\}&#34;</span><span class="op" id="7761030">}</span><span class="op" id="7761031">,</span><br>
<span class="lineno"></span><span class="op" id="7761033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7761036">func</span>&nbsp;<span class="ident" id="7761041">TestParseLiteral</span><span class="op" id="7761057">(</span><span class="ident" id="7761058">t</span>&nbsp;<span class="op" id="7761060">*</span><span class="ident" id="7761061">testing</span><span class="op" id="7761068">.</span><span class="ident" id="7761069">T</span><span class="op" id="7761070">)</span>&nbsp;<span class="op" id="7761072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761075">testParseDump</span><span class="op" id="7761088">(</span><span class="ident" id="7761089">t</span><span class="op" id="7761090">,</span>&nbsp;<span class="ident" id="7761092">literalTests</span><span class="op" id="7761104">,</span>&nbsp;<span class="ident" id="7761106">Literal</span><span class="op" id="7761113">)</span><br>
<span class="lineno"></span><span class="op" id="7761115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7761118">var</span>&nbsp;<span class="ident" id="7761122">matchnlTests</span>&nbsp;<span class="op" id="7761135">=</span>&nbsp;<span class="op" id="7761137">[</span><span class="op" id="7761138">]</span><span class="ident" id="7761139">parseTest</span><span class="op" id="7761148">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761151">{</span><span class="string" id="7761152">`.`</span><span class="op" id="7761155">,</span>&nbsp;<span class="string" id="7761157">`dot{}`</span><span class="op" id="7761164">}</span><span class="op" id="7761165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761168">{</span><span class="string" id="7761169">&#34;\n&#34;</span><span class="op" id="7761173">,</span>&nbsp;<span class="string" id="7761175">&#34;lit{\n}&#34;</span><span class="op" id="7761184">}</span><span class="op" id="7761185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761188">{</span><span class="string" id="7761189">`[^a]`</span><span class="op" id="7761195">,</span>&nbsp;<span class="string" id="7761197">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7761225">}</span><span class="op" id="7761226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761229">{</span><span class="string" id="7761230">`[a\n]`</span><span class="op" id="7761237">,</span>&nbsp;<span class="string" id="7761239">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7761253">}</span><span class="op" id="7761254">,</span><br>
<span class="lineno"></span><span class="op" id="7761256">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="7761259">func</span>&nbsp;<span class="ident" id="7761264">TestParseMatchNL</span><span class="op" id="7761280">(</span><span class="ident" id="7761281">t</span>&nbsp;<span class="op" id="7761283">*</span><span class="ident" id="7761284">testing</span><span class="op" id="7761291">.</span><span class="ident" id="7761292">T</span><span class="op" id="7761293">)</span>&nbsp;<span class="op" id="7761295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761298">testParseDump</span><span class="op" id="7761311">(</span><span class="ident" id="7761312">t</span><span class="op" id="7761313">,</span>&nbsp;<span class="ident" id="7761315">matchnlTests</span><span class="op" id="7761327">,</span>&nbsp;<span class="ident" id="7761329">MatchNL</span><span class="op" id="7761336">)</span><br>
<span class="lineno"></span><span class="op" id="7761338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="7761341">var</span>&nbsp;<span class="ident" id="7761345">nomatchnlTests</span>&nbsp;<span class="op" id="7761360">=</span>&nbsp;<span class="op" id="7761362">[</span><span class="op" id="7761363">]</span><span class="ident" id="7761364">parseTest</span><span class="op" id="7761373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761376">{</span><span class="string" id="7761377">`.`</span><span class="op" id="7761380">,</span>&nbsp;<span class="string" id="7761382">`dnl{}`</span><span class="op" id="7761389">}</span><span class="op" id="7761390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761393">{</span><span class="string" id="7761394">&#34;\n&#34;</span><span class="op" id="7761398">,</span>&nbsp;<span class="string" id="7761400">&#34;lit{\n}&#34;</span><span class="op" id="7761409">}</span><span class="op" id="7761410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761413">{</span><span class="string" id="7761414">`[^a]`</span><span class="op" id="7761420">,</span>&nbsp;<span class="string" id="7761422">`cc{0x0-0x9&nbsp;0xb-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7761458">}</span><span class="op" id="7761459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761462">{</span><span class="string" id="7761463">`[a\n]`</span><span class="op" id="7761470">,</span>&nbsp;<span class="string" id="7761472">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7761486">}</span><span class="op" id="7761487">,</span><br>
<span class="lineno">255</span><span class="op" id="7761489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7761492">func</span>&nbsp;<span class="ident" id="7761497">TestParseNoMatchNL</span><span class="op" id="7761515">(</span><span class="ident" id="7761516">t</span>&nbsp;<span class="op" id="7761518">*</span><span class="ident" id="7761519">testing</span><span class="op" id="7761526">.</span><span class="ident" id="7761527">T</span><span class="op" id="7761528">)</span>&nbsp;<span class="op" id="7761530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761533">testParseDump</span><span class="op" id="7761546">(</span><span class="ident" id="7761547">t</span><span class="op" id="7761548">,</span>&nbsp;<span class="ident" id="7761550">nomatchnlTests</span><span class="op" id="7761564">,</span>&nbsp;<span class="num" id="7761566">0</span><span class="op" id="7761567">)</span><br>
<span class="lineno"></span><span class="op" id="7761569">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="7761572">//&nbsp;Test&nbsp;Parse&nbsp;-&gt;&nbsp;Dump.</span><br>
<span class="lineno"></span><span class="keyword" id="7761595">func</span>&nbsp;<span class="ident" id="7761600">testParseDump</span><span class="op" id="7761613">(</span><span class="ident" id="7761614">t</span>&nbsp;<span class="op" id="7761616">*</span><span class="ident" id="7761617">testing</span><span class="op" id="7761624">.</span><span class="ident" id="7761625">T</span><span class="op" id="7761626">,</span>&nbsp;<span class="ident" id="7761628">tests</span>&nbsp;<span class="op" id="7761634">[</span><span class="op" id="7761635">]</span><span class="ident" id="7761636">parseTest</span><span class="op" id="7761645">,</span>&nbsp;<span class="ident" id="7761647">flags</span>&nbsp;<span class="ident" id="7761653">Flags</span><span class="op" id="7761658">)</span>&nbsp;<span class="op" id="7761660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761663">for</span>&nbsp;<span class="ident" id="7761667">_</span><span class="op" id="7761668">,</span>&nbsp;<span class="ident" id="7761670">tt</span>&nbsp;<span class="op" id="7761673">:=</span>&nbsp;<span class="keyword" id="7761676">range</span>&nbsp;<span class="ident" id="7761682">tests</span>&nbsp;<span class="op" id="7761688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761692">re</span><span class="op" id="7761694">,</span>&nbsp;<span class="ident" id="7761696">err</span>&nbsp;<span class="op" id="7761700">:=</span>&nbsp;<span class="ident" id="7761703">Parse</span><span class="op" id="7761708">(</span><span class="ident" id="7761709">tt</span><span class="op" id="7761711">.</span><span class="ident" id="7761712">Regexp</span><span class="op" id="7761718">,</span>&nbsp;<span class="ident" id="7761720">flags</span><span class="op" id="7761725">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761729">if</span>&nbsp;<span class="ident" id="7761732">err</span>&nbsp;<span class="op" id="7761736">!=</span>&nbsp;<span class="ident" id="7761739">nil</span>&nbsp;<span class="op" id="7761743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761748">t</span><span class="op" id="7761749">.</span><span class="ident" id="7761750">Errorf</span><span class="op" id="7761756">(</span><span class="string" id="7761757">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7761773">,</span>&nbsp;<span class="ident" id="7761775">tt</span><span class="op" id="7761777">.</span><span class="ident" id="7761778">Regexp</span><span class="op" id="7761784">,</span>&nbsp;<span class="ident" id="7761786">err</span><span class="op" id="7761789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761794">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761809">if</span>&nbsp;<span class="ident" id="7761812">tt</span><span class="op" id="7761814">.</span><span class="ident" id="7761815">Dump</span>&nbsp;<span class="op" id="7761820">==</span>&nbsp;<span class="string" id="7761823">&#34;&#34;</span>&nbsp;<span class="op" id="7761826">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7761831">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761874">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761889">d</span>&nbsp;<span class="op" id="7761891">:=</span>&nbsp;<span class="ident" id="7761894">dump</span><span class="op" id="7761898">(</span><span class="ident" id="7761899">re</span><span class="op" id="7761901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761905">if</span>&nbsp;<span class="ident" id="7761908">d</span>&nbsp;<span class="op" id="7761910">!=</span>&nbsp;<span class="ident" id="7761913">tt</span><span class="op" id="7761915">.</span><span class="ident" id="7761916">Dump</span>&nbsp;<span class="op" id="7761921">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761926">t</span><span class="op" id="7761927">.</span><span class="ident" id="7761928">Errorf</span><span class="op" id="7761934">(</span><span class="string" id="7761935">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7761969">,</span>&nbsp;<span class="ident" id="7761971">tt</span><span class="op" id="7761973">.</span><span class="ident" id="7761974">Regexp</span><span class="op" id="7761980">,</span>&nbsp;<span class="ident" id="7761982">d</span><span class="op" id="7761983">,</span>&nbsp;<span class="ident" id="7761985">tt</span><span class="op" id="7761987">.</span><span class="ident" id="7761988">Dump</span><span class="op" id="7761992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761999">}</span><br>
<span class="lineno"></span><span class="op" id="7762001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="comment" id="7762004">//&nbsp;dump&nbsp;prints&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;regexp&nbsp;showing</span><br>
<span class="lineno"></span><span class="comment" id="7762065">//&nbsp;the&nbsp;structure&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="keyword" id="7762094">func</span>&nbsp;<span class="ident" id="7762099">dump</span><span class="op" id="7762103">(</span><span class="ident" id="7762104">re</span>&nbsp;<span class="op" id="7762107">*</span><span class="ident" id="7762108">Regexp</span><span class="op" id="7762114">)</span>&nbsp;<span class="builtintype" id="7762116">string</span>&nbsp;<span class="op" id="7762123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762126">var</span>&nbsp;<span class="ident" id="7762130">b</span>&nbsp;<span class="ident" id="7762132">bytes</span><span class="op" id="7762137">.</span><span class="ident" id="7762138">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762146">dumpRegexp</span><span class="op" id="7762156">(</span><span class="op" id="7762157">&amp;</span><span class="ident" id="7762158">b</span><span class="op" id="7762159">,</span>&nbsp;<span class="ident" id="7762161">re</span><span class="op" id="7762163">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762166">return</span>&nbsp;<span class="ident" id="7762173">b</span><span class="op" id="7762174">.</span><span class="ident" id="7762175">String</span><span class="op" id="7762181">(</span><span class="op" id="7762182">)</span><br>
<span class="lineno"></span><span class="op" id="7762184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7762187">var</span>&nbsp;<span class="ident" id="7762191">opNames</span>&nbsp;<span class="op" id="7762199">=</span>&nbsp;<span class="op" id="7762201">[</span><span class="op" id="7762202">]</span><span class="builtintype" id="7762203">string</span><span class="op" id="7762209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762212">OpNoMatch</span><span class="op" id="7762221">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762230">&#34;no&#34;</span><span class="op" id="7762234">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762237">OpEmptyMatch</span><span class="op" id="7762249">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762255">&#34;emp&#34;</span><span class="op" id="7762260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762263">OpLiteral</span><span class="op" id="7762272">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762281">&#34;lit&#34;</span><span class="op" id="7762286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762289">OpCharClass</span><span class="op" id="7762300">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762307">&#34;cc&#34;</span><span class="op" id="7762311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762314">OpAnyCharNotNL</span><span class="op" id="7762328">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7762332">&#34;dnl&#34;</span><span class="op" id="7762337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762340">OpAnyChar</span><span class="op" id="7762349">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762358">&#34;dot&#34;</span><span class="op" id="7762363">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762366">OpBeginLine</span><span class="op" id="7762377">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762384">&#34;bol&#34;</span><span class="op" id="7762389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762392">OpEndLine</span><span class="op" id="7762401">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762410">&#34;eol&#34;</span><span class="op" id="7762415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762418">OpBeginText</span><span class="op" id="7762429">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762436">&#34;bot&#34;</span><span class="op" id="7762441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762444">OpEndText</span><span class="op" id="7762453">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762462">&#34;eot&#34;</span><span class="op" id="7762467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762470">OpWordBoundary</span><span class="op" id="7762484">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7762488">&#34;wb&#34;</span><span class="op" id="7762492">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762495">OpNoWordBoundary</span><span class="op" id="7762511">:</span>&nbsp;<span class="string" id="7762513">&#34;nwb&#34;</span><span class="op" id="7762518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762521">OpCapture</span><span class="op" id="7762530">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762539">&#34;cap&#34;</span><span class="op" id="7762544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762547">OpStar</span><span class="op" id="7762553">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762565">&#34;star&#34;</span><span class="op" id="7762571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762574">OpPlus</span><span class="op" id="7762580">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762592">&#34;plus&#34;</span><span class="op" id="7762598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762601">OpQuest</span><span class="op" id="7762608">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762619">&#34;que&#34;</span><span class="op" id="7762624">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762627">OpRepeat</span><span class="op" id="7762635">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762645">&#34;rep&#34;</span><span class="op" id="7762650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762653">OpConcat</span><span class="op" id="7762661">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762671">&#34;cat&#34;</span><span class="op" id="7762676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762679">OpAlternate</span><span class="op" id="7762690">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7762697">&#34;alt&#34;</span><span class="op" id="7762702">,</span><br>
<span class="lineno"></span><span class="op" id="7762704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="7762707">//&nbsp;dumpRegexp&nbsp;writes&nbsp;an&nbsp;encoding&nbsp;of&nbsp;the&nbsp;syntax&nbsp;tree&nbsp;for&nbsp;the&nbsp;regexp&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="7762783">//&nbsp;It&nbsp;is&nbsp;used&nbsp;during&nbsp;testing&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;parses&nbsp;that&nbsp;might&nbsp;print</span><br>
<span class="lineno"></span><span class="comment" id="7762859">//&nbsp;the&nbsp;same&nbsp;using&nbsp;re&#39;s&nbsp;String&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="7762897">func</span>&nbsp;<span class="ident" id="7762902">dumpRegexp</span><span class="op" id="7762912">(</span><span class="ident" id="7762913">b</span>&nbsp;<span class="op" id="7762915">*</span><span class="ident" id="7762916">bytes</span><span class="op" id="7762921">.</span><span class="ident" id="7762922">Buffer</span><span class="op" id="7762928">,</span>&nbsp;<span class="ident" id="7762930">re</span>&nbsp;<span class="op" id="7762933">*</span><span class="ident" id="7762934">Regexp</span><span class="op" id="7762940">)</span>&nbsp;<span class="op" id="7762942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762945">if</span>&nbsp;<span class="builtintype" id="7762948">int</span><span class="op" id="7762951">(</span><span class="ident" id="7762952">re</span><span class="op" id="7762954">.</span><span class="ident" id="7762955">Op</span><span class="op" id="7762957">)</span>&nbsp;<span class="op" id="7762959">&gt;=</span>&nbsp;<span class="builtinfunc" id="7762962">len</span><span class="op" id="7762965">(</span><span class="ident" id="7762966">opNames</span><span class="op" id="7762973">)</span>&nbsp;<span class="op" id="7762975">||</span>&nbsp;<span class="ident" id="7762978">opNames</span><span class="op" id="7762985">[</span><span class="ident" id="7762986">re</span><span class="op" id="7762988">.</span><span class="ident" id="7762989">Op</span><span class="op" id="7762991">]</span>&nbsp;<span class="op" id="7762993">==</span>&nbsp;<span class="string" id="7762996">&#34;&#34;</span>&nbsp;<span class="op" id="7762999">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763003">fmt</span><span class="op" id="7763006">.</span><span class="ident" id="7763007">Fprintf</span><span class="op" id="7763014">(</span><span class="ident" id="7763015">b</span><span class="op" id="7763016">,</span>&nbsp;<span class="string" id="7763018">&#34;op%d&#34;</span><span class="op" id="7763024">,</span>&nbsp;<span class="ident" id="7763026">re</span><span class="op" id="7763028">.</span><span class="ident" id="7763029">Op</span><span class="op" id="7763031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763034">}</span>&nbsp;<span class="keyword" id="7763036">else</span>&nbsp;<span class="op" id="7763041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763045">switch</span>&nbsp;<span class="ident" id="7763052">re</span><span class="op" id="7763054">.</span><span class="ident" id="7763055">Op</span>&nbsp;<span class="op" id="7763058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763062">default</span><span class="op" id="7763069">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763074">b</span><span class="op" id="7763075">.</span><span class="ident" id="7763076">WriteString</span><span class="op" id="7763087">(</span><span class="ident" id="7763088">opNames</span><span class="op" id="7763095">[</span><span class="ident" id="7763096">re</span><span class="op" id="7763098">.</span><span class="ident" id="7763099">Op</span><span class="op" id="7763101">]</span><span class="op" id="7763102">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763106">case</span>&nbsp;<span class="ident" id="7763111">OpStar</span><span class="op" id="7763117">,</span>&nbsp;<span class="ident" id="7763119">OpPlus</span><span class="op" id="7763125">,</span>&nbsp;<span class="ident" id="7763127">OpQuest</span><span class="op" id="7763134">,</span>&nbsp;<span class="ident" id="7763136">OpRepeat</span><span class="op" id="7763144">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763149">if</span>&nbsp;<span class="ident" id="7763152">re</span><span class="op" id="7763154">.</span><span class="ident" id="7763155">Flags</span><span class="op" id="7763160">&amp;</span><span class="ident" id="7763161">NonGreedy</span>&nbsp;<span class="op" id="7763171">!=</span>&nbsp;<span class="num" id="7763174">0</span>&nbsp;<span class="op" id="7763176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763182">b</span><span class="op" id="7763183">.</span><span class="ident" id="7763184">WriteByte</span><span class="op" id="7763193">(</span><span class="string" id="7763194">&#39;n&#39;</span><span class="op" id="7763197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763207">b</span><span class="op" id="7763208">.</span><span class="ident" id="7763209">WriteString</span><span class="op" id="7763220">(</span><span class="ident" id="7763221">opNames</span><span class="op" id="7763228">[</span><span class="ident" id="7763229">re</span><span class="op" id="7763231">.</span><span class="ident" id="7763232">Op</span><span class="op" id="7763234">]</span><span class="op" id="7763235">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763239">case</span>&nbsp;<span class="ident" id="7763244">OpLiteral</span><span class="op" id="7763253">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763258">if</span>&nbsp;<span class="builtinfunc" id="7763261">len</span><span class="op" id="7763264">(</span><span class="ident" id="7763265">re</span><span class="op" id="7763267">.</span><span class="ident" id="7763268">Rune</span><span class="op" id="7763272">)</span>&nbsp;<span class="op" id="7763274">&gt;</span>&nbsp;<span class="num" id="7763276">1</span>&nbsp;<span class="op" id="7763278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763284">b</span><span class="op" id="7763285">.</span><span class="ident" id="7763286">WriteString</span><span class="op" id="7763297">(</span><span class="string" id="7763298">&#34;str&#34;</span><span class="op" id="7763303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763308">}</span>&nbsp;<span class="keyword" id="7763310">else</span>&nbsp;<span class="op" id="7763315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763321">b</span><span class="op" id="7763322">.</span><span class="ident" id="7763323">WriteString</span><span class="op" id="7763334">(</span><span class="string" id="7763335">&#34;lit&#34;</span><span class="op" id="7763340">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763350">if</span>&nbsp;<span class="ident" id="7763353">re</span><span class="op" id="7763355">.</span><span class="ident" id="7763356">Flags</span><span class="op" id="7763361">&amp;</span><span class="ident" id="7763362">FoldCase</span>&nbsp;<span class="op" id="7763371">!=</span>&nbsp;<span class="num" id="7763374">0</span>&nbsp;<span class="op" id="7763376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763382">for</span>&nbsp;<span class="ident" id="7763386">_</span><span class="op" id="7763387">,</span>&nbsp;<span class="ident" id="7763389">r</span>&nbsp;<span class="op" id="7763391">:=</span>&nbsp;<span class="keyword" id="7763394">range</span>&nbsp;<span class="ident" id="7763400">re</span><span class="op" id="7763402">.</span><span class="ident" id="7763403">Rune</span>&nbsp;<span class="op" id="7763408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763415">if</span>&nbsp;<span class="ident" id="7763418">unicode</span><span class="op" id="7763425">.</span><span class="ident" id="7763426">SimpleFold</span><span class="op" id="7763436">(</span><span class="ident" id="7763437">r</span><span class="op" id="7763438">)</span>&nbsp;<span class="op" id="7763440">!=</span>&nbsp;<span class="ident" id="7763443">r</span>&nbsp;<span class="op" id="7763445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763453">b</span><span class="op" id="7763454">.</span><span class="ident" id="7763455">WriteString</span><span class="op" id="7763466">(</span><span class="string" id="7763467">&#34;fold&#34;</span><span class="op" id="7763473">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763481">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763507">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763513">b</span><span class="op" id="7763514">.</span><span class="ident" id="7763515">WriteByte</span><span class="op" id="7763524">(</span><span class="string" id="7763525">&#39;{&#39;</span><span class="op" id="7763528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763531">switch</span>&nbsp;<span class="ident" id="7763538">re</span><span class="op" id="7763540">.</span><span class="ident" id="7763541">Op</span>&nbsp;<span class="op" id="7763544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763547">case</span>&nbsp;<span class="ident" id="7763552">OpEndText</span><span class="op" id="7763561">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763565">if</span>&nbsp;<span class="ident" id="7763568">re</span><span class="op" id="7763570">.</span><span class="ident" id="7763571">Flags</span><span class="op" id="7763576">&amp;</span><span class="ident" id="7763577">WasDollar</span>&nbsp;<span class="op" id="7763587">==</span>&nbsp;<span class="num" id="7763590">0</span>&nbsp;<span class="op" id="7763592">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763597">b</span><span class="op" id="7763598">.</span><span class="ident" id="7763599">WriteString</span><span class="op" id="7763610">(</span><span class="string" id="7763611">`\z`</span><span class="op" id="7763615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763622">case</span>&nbsp;<span class="ident" id="7763627">OpLiteral</span><span class="op" id="7763636">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763640">for</span>&nbsp;<span class="ident" id="7763644">_</span><span class="op" id="7763645">,</span>&nbsp;<span class="ident" id="7763647">r</span>&nbsp;<span class="op" id="7763649">:=</span>&nbsp;<span class="keyword" id="7763652">range</span>&nbsp;<span class="ident" id="7763658">re</span><span class="op" id="7763660">.</span><span class="ident" id="7763661">Rune</span>&nbsp;<span class="op" id="7763666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763671">b</span><span class="op" id="7763672">.</span><span class="ident" id="7763673">WriteRune</span><span class="op" id="7763682">(</span><span class="ident" id="7763683">r</span><span class="op" id="7763684">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763691">case</span>&nbsp;<span class="ident" id="7763696">OpConcat</span><span class="op" id="7763704">,</span>&nbsp;<span class="ident" id="7763706">OpAlternate</span><span class="op" id="7763717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763721">for</span>&nbsp;<span class="ident" id="7763725">_</span><span class="op" id="7763726">,</span>&nbsp;<span class="ident" id="7763728">sub</span>&nbsp;<span class="op" id="7763732">:=</span>&nbsp;<span class="keyword" id="7763735">range</span>&nbsp;<span class="ident" id="7763741">re</span><span class="op" id="7763743">.</span><span class="ident" id="7763744">Sub</span>&nbsp;<span class="op" id="7763748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763753">dumpRegexp</span><span class="op" id="7763763">(</span><span class="ident" id="7763764">b</span><span class="op" id="7763765">,</span>&nbsp;<span class="ident" id="7763767">sub</span><span class="op" id="7763770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763774">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763777">case</span>&nbsp;<span class="ident" id="7763782">OpStar</span><span class="op" id="7763788">,</span>&nbsp;<span class="ident" id="7763790">OpPlus</span><span class="op" id="7763796">,</span>&nbsp;<span class="ident" id="7763798">OpQuest</span><span class="op" id="7763805">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763809">dumpRegexp</span><span class="op" id="7763819">(</span><span class="ident" id="7763820">b</span><span class="op" id="7763821">,</span>&nbsp;<span class="ident" id="7763823">re</span><span class="op" id="7763825">.</span><span class="ident" id="7763826">Sub</span><span class="op" id="7763829">[</span><span class="num" id="7763830">0</span><span class="op" id="7763831">]</span><span class="op" id="7763832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763835">case</span>&nbsp;<span class="ident" id="7763840">OpRepeat</span><span class="op" id="7763848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763852">fmt</span><span class="op" id="7763855">.</span><span class="ident" id="7763856">Fprintf</span><span class="op" id="7763863">(</span><span class="ident" id="7763864">b</span><span class="op" id="7763865">,</span>&nbsp;<span class="string" id="7763867">&#34;%d,%d&nbsp;&#34;</span><span class="op" id="7763875">,</span>&nbsp;<span class="ident" id="7763877">re</span><span class="op" id="7763879">.</span><span class="ident" id="7763880">Min</span><span class="op" id="7763883">,</span>&nbsp;<span class="ident" id="7763885">re</span><span class="op" id="7763887">.</span><span class="ident" id="7763888">Max</span><span class="op" id="7763891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763895">dumpRegexp</span><span class="op" id="7763905">(</span><span class="ident" id="7763906">b</span><span class="op" id="7763907">,</span>&nbsp;<span class="ident" id="7763909">re</span><span class="op" id="7763911">.</span><span class="ident" id="7763912">Sub</span><span class="op" id="7763915">[</span><span class="num" id="7763916">0</span><span class="op" id="7763917">]</span><span class="op" id="7763918">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763921">case</span>&nbsp;<span class="ident" id="7763926">OpCapture</span><span class="op" id="7763935">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763939">if</span>&nbsp;<span class="ident" id="7763942">re</span><span class="op" id="7763944">.</span><span class="ident" id="7763945">Name</span>&nbsp;<span class="op" id="7763950">!=</span>&nbsp;<span class="string" id="7763953">&#34;&#34;</span>&nbsp;<span class="op" id="7763956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763961">b</span><span class="op" id="7763962">.</span><span class="ident" id="7763963">WriteString</span><span class="op" id="7763974">(</span><span class="ident" id="7763975">re</span><span class="op" id="7763977">.</span><span class="ident" id="7763978">Name</span><span class="op" id="7763982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763987">b</span><span class="op" id="7763988">.</span><span class="ident" id="7763989">WriteByte</span><span class="op" id="7763998">(</span><span class="string" id="7763999">&#39;:&#39;</span><span class="op" id="7764002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764006">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764010">dumpRegexp</span><span class="op" id="7764020">(</span><span class="ident" id="7764021">b</span><span class="op" id="7764022">,</span>&nbsp;<span class="ident" id="7764024">re</span><span class="op" id="7764026">.</span><span class="ident" id="7764027">Sub</span><span class="op" id="7764030">[</span><span class="num" id="7764031">0</span><span class="op" id="7764032">]</span><span class="op" id="7764033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764036">case</span>&nbsp;<span class="ident" id="7764041">OpCharClass</span><span class="op" id="7764052">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764056">sep</span>&nbsp;<span class="op" id="7764060">:=</span>&nbsp;<span class="string" id="7764063">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764068">for</span>&nbsp;<span class="ident" id="7764072">i</span>&nbsp;<span class="op" id="7764074">:=</span>&nbsp;<span class="num" id="7764077">0</span><span class="op" id="7764078">;</span>&nbsp;<span class="ident" id="7764080">i</span>&nbsp;<span class="op" id="7764082">&lt;</span>&nbsp;<span class="builtinfunc" id="7764084">len</span><span class="op" id="7764087">(</span><span class="ident" id="7764088">re</span><span class="op" id="7764090">.</span><span class="ident" id="7764091">Rune</span><span class="op" id="7764095">)</span><span class="op" id="7764096">;</span>&nbsp;<span class="ident" id="7764098">i</span>&nbsp;<span class="op" id="7764100">+=</span>&nbsp;<span class="num" id="7764103">2</span>&nbsp;<span class="op" id="7764105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764110">b</span><span class="op" id="7764111">.</span><span class="ident" id="7764112">WriteString</span><span class="op" id="7764123">(</span><span class="ident" id="7764124">sep</span><span class="op" id="7764127">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764132">sep</span>&nbsp;<span class="op" id="7764136">=</span>&nbsp;<span class="string" id="7764138">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764145">lo</span><span class="op" id="7764147">,</span>&nbsp;<span class="ident" id="7764149">hi</span>&nbsp;<span class="op" id="7764152">:=</span>&nbsp;<span class="ident" id="7764155">re</span><span class="op" id="7764157">.</span><span class="ident" id="7764158">Rune</span><span class="op" id="7764162">[</span><span class="ident" id="7764163">i</span><span class="op" id="7764164">]</span><span class="op" id="7764165">,</span>&nbsp;<span class="ident" id="7764167">re</span><span class="op" id="7764169">.</span><span class="ident" id="7764170">Rune</span><span class="op" id="7764174">[</span><span class="ident" id="7764175">i</span><span class="op" id="7764176">+</span><span class="num" id="7764177">1</span><span class="op" id="7764178">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764183">if</span>&nbsp;<span class="ident" id="7764186">lo</span>&nbsp;<span class="op" id="7764189">==</span>&nbsp;<span class="ident" id="7764192">hi</span>&nbsp;<span class="op" id="7764195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764201">fmt</span><span class="op" id="7764204">.</span><span class="ident" id="7764205">Fprintf</span><span class="op" id="7764212">(</span><span class="ident" id="7764213">b</span><span class="op" id="7764214">,</span>&nbsp;<span class="string" id="7764216">&#34;%#x&#34;</span><span class="op" id="7764221">,</span>&nbsp;<span class="ident" id="7764223">lo</span><span class="op" id="7764225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764230">}</span>&nbsp;<span class="keyword" id="7764232">else</span>&nbsp;<span class="op" id="7764237">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764243">fmt</span><span class="op" id="7764246">.</span><span class="ident" id="7764247">Fprintf</span><span class="op" id="7764254">(</span><span class="ident" id="7764255">b</span><span class="op" id="7764256">,</span>&nbsp;<span class="string" id="7764258">&#34;%#x-%#x&#34;</span><span class="op" id="7764267">,</span>&nbsp;<span class="ident" id="7764269">lo</span><span class="op" id="7764271">,</span>&nbsp;<span class="ident" id="7764273">hi</span><span class="op" id="7764275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764290">b</span><span class="op" id="7764291">.</span><span class="ident" id="7764292">WriteByte</span><span class="op" id="7764301">(</span><span class="string" id="7764302">&#39;}&#39;</span><span class="op" id="7764305">)</span><br>
<span class="lineno">380</span><span class="op" id="7764307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7764310">func</span>&nbsp;<span class="ident" id="7764315">mkCharClass</span><span class="op" id="7764326">(</span><span class="ident" id="7764327">f</span>&nbsp;<span class="keyword" id="7764329">func</span><span class="op" id="7764333">(</span><span class="builtintype" id="7764334">rune</span><span class="op" id="7764338">)</span>&nbsp;<span class="builtintype" id="7764340">bool</span><span class="op" id="7764344">)</span>&nbsp;<span class="builtintype" id="7764346">string</span>&nbsp;<span class="op" id="7764353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764356">re</span>&nbsp;<span class="op" id="7764359">:=</span>&nbsp;<span class="op" id="7764362">&amp;</span><span class="ident" id="7764363">Regexp</span><span class="op" id="7764369">{</span><span class="ident" id="7764370">Op</span><span class="op" id="7764372">:</span>&nbsp;<span class="ident" id="7764374">OpCharClass</span><span class="op" id="7764385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764388">lo</span>&nbsp;<span class="op" id="7764391">:=</span>&nbsp;<span class="builtintype" id="7764394">rune</span><span class="op" id="7764398">(</span><span class="op" id="7764399">-</span><span class="num" id="7764400">1</span><span class="op" id="7764401">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764404">for</span>&nbsp;<span class="ident" id="7764408">i</span>&nbsp;<span class="op" id="7764410">:=</span>&nbsp;<span class="builtintype" id="7764413">rune</span><span class="op" id="7764417">(</span><span class="num" id="7764418">0</span><span class="op" id="7764419">)</span><span class="op" id="7764420">;</span>&nbsp;<span class="ident" id="7764422">i</span>&nbsp;<span class="op" id="7764424">&lt;=</span>&nbsp;<span class="ident" id="7764427">unicode</span><span class="op" id="7764434">.</span><span class="ident" id="7764435">MaxRune</span><span class="op" id="7764442">;</span>&nbsp;<span class="ident" id="7764444">i</span><span class="op" id="7764445">++</span>&nbsp;<span class="op" id="7764448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764452">if</span>&nbsp;<span class="ident" id="7764455">f</span><span class="op" id="7764456">(</span><span class="ident" id="7764457">i</span><span class="op" id="7764458">)</span>&nbsp;<span class="op" id="7764460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764465">if</span>&nbsp;<span class="ident" id="7764468">lo</span>&nbsp;<span class="op" id="7764471">&lt;</span>&nbsp;<span class="num" id="7764473">0</span>&nbsp;<span class="op" id="7764475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764481">lo</span>&nbsp;<span class="op" id="7764484">=</span>&nbsp;<span class="ident" id="7764486">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764491">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764495">}</span>&nbsp;<span class="keyword" id="7764497">else</span>&nbsp;<span class="op" id="7764502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764507">if</span>&nbsp;<span class="ident" id="7764510">lo</span>&nbsp;<span class="op" id="7764513">&gt;=</span>&nbsp;<span class="num" id="7764516">0</span>&nbsp;<span class="op" id="7764518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764524">re</span><span class="op" id="7764526">.</span><span class="ident" id="7764527">Rune</span>&nbsp;<span class="op" id="7764532">=</span>&nbsp;<span class="builtinfunc" id="7764534">append</span><span class="op" id="7764540">(</span><span class="ident" id="7764541">re</span><span class="op" id="7764543">.</span><span class="ident" id="7764544">Rune</span><span class="op" id="7764548">,</span>&nbsp;<span class="ident" id="7764550">lo</span><span class="op" id="7764552">,</span>&nbsp;<span class="ident" id="7764554">i</span><span class="op" id="7764555">-</span><span class="num" id="7764556">1</span><span class="op" id="7764557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764563">lo</span>&nbsp;<span class="op" id="7764566">=</span>&nbsp;<span class="op" id="7764568">-</span><span class="num" id="7764569">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764574">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764584">if</span>&nbsp;<span class="ident" id="7764587">lo</span>&nbsp;<span class="op" id="7764590">&gt;=</span>&nbsp;<span class="num" id="7764593">0</span>&nbsp;<span class="op" id="7764595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764599">re</span><span class="op" id="7764601">.</span><span class="ident" id="7764602">Rune</span>&nbsp;<span class="op" id="7764607">=</span>&nbsp;<span class="builtinfunc" id="7764609">append</span><span class="op" id="7764615">(</span><span class="ident" id="7764616">re</span><span class="op" id="7764618">.</span><span class="ident" id="7764619">Rune</span><span class="op" id="7764623">,</span>&nbsp;<span class="ident" id="7764625">lo</span><span class="op" id="7764627">,</span>&nbsp;<span class="ident" id="7764629">unicode</span><span class="op" id="7764636">.</span><span class="ident" id="7764637">MaxRune</span><span class="op" id="7764644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764647">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764650">return</span>&nbsp;<span class="ident" id="7764657">dump</span><span class="op" id="7764661">(</span><span class="ident" id="7764662">re</span><span class="op" id="7764664">)</span><br>
<span class="lineno"></span><span class="op" id="7764666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7764669">func</span>&nbsp;<span class="ident" id="7764674">isUpperFold</span><span class="op" id="7764685">(</span><span class="ident" id="7764686">r</span>&nbsp;<span class="builtintype" id="7764688">rune</span><span class="op" id="7764692">)</span>&nbsp;<span class="builtintype" id="7764694">bool</span>&nbsp;<span class="op" id="7764699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764702">if</span>&nbsp;<span class="ident" id="7764705">unicode</span><span class="op" id="7764712">.</span><span class="ident" id="7764713">IsUpper</span><span class="op" id="7764720">(</span><span class="ident" id="7764721">r</span><span class="op" id="7764722">)</span>&nbsp;<span class="op" id="7764724">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764728">return</span>&nbsp;<span class="builtintype" id="7764735">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764744">c</span>&nbsp;<span class="op" id="7764746">:=</span>&nbsp;<span class="ident" id="7764749">unicode</span><span class="op" id="7764756">.</span><span class="ident" id="7764757">SimpleFold</span><span class="op" id="7764767">(</span><span class="ident" id="7764768">r</span><span class="op" id="7764769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764772">for</span>&nbsp;<span class="ident" id="7764776">c</span>&nbsp;<span class="op" id="7764778">!=</span>&nbsp;<span class="ident" id="7764781">r</span>&nbsp;<span class="op" id="7764783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764787">if</span>&nbsp;<span class="ident" id="7764790">unicode</span><span class="op" id="7764797">.</span><span class="ident" id="7764798">IsUpper</span><span class="op" id="7764805">(</span><span class="ident" id="7764806">c</span><span class="op" id="7764807">)</span>&nbsp;<span class="op" id="7764809">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764814">return</span>&nbsp;<span class="builtintype" id="7764821">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764832">c</span>&nbsp;<span class="op" id="7764834">=</span>&nbsp;<span class="ident" id="7764836">unicode</span><span class="op" id="7764843">.</span><span class="ident" id="7764844">SimpleFold</span><span class="op" id="7764854">(</span><span class="ident" id="7764855">c</span><span class="op" id="7764856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764862">return</span>&nbsp;<span class="builtintype" id="7764869">false</span><br>
<span class="lineno">415</span><span class="op" id="7764875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7764878">func</span>&nbsp;<span class="ident" id="7764883">TestFoldConstants</span><span class="op" id="7764900">(</span><span class="ident" id="7764901">t</span>&nbsp;<span class="op" id="7764903">*</span><span class="ident" id="7764904">testing</span><span class="op" id="7764911">.</span><span class="ident" id="7764912">T</span><span class="op" id="7764913">)</span>&nbsp;<span class="op" id="7764915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764918">last</span>&nbsp;<span class="op" id="7764923">:=</span>&nbsp;<span class="builtintype" id="7764926">rune</span><span class="op" id="7764930">(</span><span class="op" id="7764931">-</span><span class="num" id="7764932">1</span><span class="op" id="7764933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764936">for</span>&nbsp;<span class="ident" id="7764940">i</span>&nbsp;<span class="op" id="7764942">:=</span>&nbsp;<span class="builtintype" id="7764945">rune</span><span class="op" id="7764949">(</span><span class="num" id="7764950">0</span><span class="op" id="7764951">)</span><span class="op" id="7764952">;</span>&nbsp;<span class="ident" id="7764954">i</span>&nbsp;<span class="op" id="7764956">&lt;=</span>&nbsp;<span class="ident" id="7764959">unicode</span><span class="op" id="7764966">.</span><span class="ident" id="7764967">MaxRune</span><span class="op" id="7764974">;</span>&nbsp;<span class="ident" id="7764976">i</span><span class="op" id="7764977">++</span>&nbsp;<span class="op" id="7764980">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764984">if</span>&nbsp;<span class="ident" id="7764987">unicode</span><span class="op" id="7764994">.</span><span class="ident" id="7764995">SimpleFold</span><span class="op" id="7765005">(</span><span class="ident" id="7765006">i</span><span class="op" id="7765007">)</span>&nbsp;<span class="op" id="7765009">==</span>&nbsp;<span class="ident" id="7765012">i</span>&nbsp;<span class="op" id="7765014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765019">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765034">if</span>&nbsp;<span class="ident" id="7765037">last</span>&nbsp;<span class="op" id="7765042">==</span>&nbsp;<span class="op" id="7765045">-</span><span class="num" id="7765046">1</span>&nbsp;<span class="op" id="7765048">&amp;&amp;</span>&nbsp;<span class="ident" id="7765051">minFold</span>&nbsp;<span class="op" id="7765059">!=</span>&nbsp;<span class="ident" id="7765062">i</span>&nbsp;<span class="op" id="7765064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765069">t</span><span class="op" id="7765070">.</span><span class="ident" id="7765071">Errorf</span><span class="op" id="7765077">(</span><span class="string" id="7765078">&#34;minFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7765105">,</span>&nbsp;<span class="ident" id="7765107">minFold</span><span class="op" id="7765114">,</span>&nbsp;<span class="ident" id="7765116">i</span><span class="op" id="7765117">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765125">last</span>&nbsp;<span class="op" id="7765130">=</span>&nbsp;<span class="ident" id="7765132">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765138">if</span>&nbsp;<span class="ident" id="7765141">maxFold</span>&nbsp;<span class="op" id="7765149">!=</span>&nbsp;<span class="ident" id="7765152">last</span>&nbsp;<span class="op" id="7765157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765161">t</span><span class="op" id="7765162">.</span><span class="ident" id="7765163">Errorf</span><span class="op" id="7765169">(</span><span class="string" id="7765170">&#34;maxFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7765197">,</span>&nbsp;<span class="ident" id="7765199">maxFold</span><span class="op" id="7765206">,</span>&nbsp;<span class="ident" id="7765208">last</span><span class="op" id="7765212">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765215">}</span><br>
<span class="lineno"></span><span class="op" id="7765217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7765220">func</span>&nbsp;<span class="ident" id="7765225">TestAppendRangeCollapse</span><span class="op" id="7765248">(</span><span class="ident" id="7765249">t</span>&nbsp;<span class="op" id="7765251">*</span><span class="ident" id="7765252">testing</span><span class="op" id="7765259">.</span><span class="ident" id="7765260">T</span><span class="op" id="7765261">)</span>&nbsp;<span class="op" id="7765263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7765266">//&nbsp;AppendRange&nbsp;should&nbsp;collapse&nbsp;each&nbsp;of&nbsp;the&nbsp;new&nbsp;ranges</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7765321">//&nbsp;into&nbsp;the&nbsp;earlier&nbsp;ones&nbsp;(it&nbsp;looks&nbsp;back&nbsp;two&nbsp;ranges),&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7765383">//&nbsp;the&nbsp;slice&nbsp;never&nbsp;grows&nbsp;very&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7765421">//&nbsp;Note&nbsp;that&nbsp;we&nbsp;are&nbsp;not&nbsp;calling&nbsp;cleanClass.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765466">var</span>&nbsp;<span class="ident" id="7765470">r</span>&nbsp;<span class="op" id="7765472">[</span><span class="op" id="7765473">]</span><span class="builtintype" id="7765474">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765480">for</span>&nbsp;<span class="ident" id="7765484">i</span>&nbsp;<span class="op" id="7765486">:=</span>&nbsp;<span class="builtintype" id="7765489">rune</span><span class="op" id="7765493">(</span><span class="string" id="7765494">&#39;A&#39;</span><span class="op" id="7765497">)</span><span class="op" id="7765498">;</span>&nbsp;<span class="ident" id="7765500">i</span>&nbsp;<span class="op" id="7765502">&lt;=</span>&nbsp;<span class="string" id="7765505">&#39;Z&#39;</span><span class="op" id="7765508">;</span>&nbsp;<span class="ident" id="7765510">i</span><span class="op" id="7765511">++</span>&nbsp;<span class="op" id="7765514">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765518">r</span>&nbsp;<span class="op" id="7765520">=</span>&nbsp;<span class="ident" id="7765522">appendRange</span><span class="op" id="7765533">(</span><span class="ident" id="7765534">r</span><span class="op" id="7765535">,</span>&nbsp;<span class="ident" id="7765537">i</span><span class="op" id="7765538">,</span>&nbsp;<span class="ident" id="7765540">i</span><span class="op" id="7765541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765545">r</span>&nbsp;<span class="op" id="7765547">=</span>&nbsp;<span class="ident" id="7765549">appendRange</span><span class="op" id="7765560">(</span><span class="ident" id="7765561">r</span><span class="op" id="7765562">,</span>&nbsp;<span class="ident" id="7765564">i</span><span class="op" id="7765565">+</span><span class="string" id="7765566">&#39;a&#39;</span><span class="op" id="7765569">-</span><span class="string" id="7765570">&#39;A&#39;</span><span class="op" id="7765573">,</span>&nbsp;<span class="ident" id="7765575">i</span><span class="op" id="7765576">+</span><span class="string" id="7765577">&#39;a&#39;</span><span class="op" id="7765580">-</span><span class="string" id="7765581">&#39;A&#39;</span><span class="op" id="7765584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765590">if</span>&nbsp;<span class="builtintype" id="7765593">string</span><span class="op" id="7765599">(</span><span class="ident" id="7765600">r</span><span class="op" id="7765601">)</span>&nbsp;<span class="op" id="7765603">!=</span>&nbsp;<span class="string" id="7765606">&#34;AZaz&#34;</span>&nbsp;<span class="op" id="7765613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765617">t</span><span class="op" id="7765618">.</span><span class="ident" id="7765619">Errorf</span><span class="op" id="7765625">(</span><span class="string" id="7765626">&#34;appendRange&nbsp;interlaced&nbsp;A-Z&nbsp;a-z&nbsp;=&nbsp;%s,&nbsp;want&nbsp;AZaz&#34;</span><span class="op" id="7765674">,</span>&nbsp;<span class="builtintype" id="7765676">string</span><span class="op" id="7765682">(</span><span class="ident" id="7765683">r</span><span class="op" id="7765684">)</span><span class="op" id="7765685">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765688">}</span><br>
<span class="lineno"></span><span class="op" id="7765690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7765693">var</span>&nbsp;<span class="ident" id="7765697">invalidRegexps</span>&nbsp;<span class="op" id="7765712">=</span>&nbsp;<span class="op" id="7765714">[</span><span class="op" id="7765715">]</span><span class="builtintype" id="7765716">string</span><span class="op" id="7765722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765725">`(`</span><span class="op" id="7765728">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765731">`)`</span><span class="op" id="7765734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765737">`(a`</span><span class="op" id="7765741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765744">`a)`</span><span class="op" id="7765748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765751">`(a))`</span><span class="op" id="7765757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765760">`(a|b|`</span><span class="op" id="7765767">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765770">`a|b|)`</span><span class="op" id="7765777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765780">`(a|b|))`</span><span class="op" id="7765789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765792">`(a|b`</span><span class="op" id="7765798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765801">`a|b)`</span><span class="op" id="7765807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765810">`(a|b))`</span><span class="op" id="7765818">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765821">`[a-z`</span><span class="op" id="7765827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765830">`([a-z)`</span><span class="op" id="7765838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765841">`[a-z)`</span><span class="op" id="7765848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765851">`([a-z]))`</span><span class="op" id="7765861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765864">`x{1001}`</span><span class="op" id="7765873">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765876">`x{9876543210}`</span><span class="op" id="7765891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765894">`x{2,1}`</span><span class="op" id="7765902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765905">`x{1,9876543210}`</span><span class="op" id="7765922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765925">&#34;\xff&#34;</span><span class="op" id="7765931">,</span>&nbsp;<span class="comment" id="7765933">//&nbsp;Invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765951">&#34;[\xff]&#34;</span><span class="op" id="7765959">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765962">&#34;[\\\xff]&#34;</span><span class="op" id="7765972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765975">&#34;\\\xff&#34;</span><span class="op" id="7765983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7765986">`(?P&lt;name&gt;a`</span><span class="op" id="7765998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766001">`(?P&lt;name&gt;`</span><span class="op" id="7766012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766015">`(?P&lt;name`</span><span class="op" id="7766025">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766028">`(?P&lt;x&nbsp;y&gt;a)`</span><span class="op" id="7766040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766043">`(?P&lt;&gt;a)`</span><span class="op" id="7766052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766055">`[a-Z]`</span><span class="op" id="7766062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766065">`(?i)[a-Z]`</span><span class="op" id="7766076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766079">`a{100000}`</span><span class="op" id="7766090">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766093">`a{100000,}`</span><span class="op" id="7766105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766108">&#34;((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}){2})&#34;</span><span class="op" id="7766161">,</span><br>
<span class="lineno"></span><span class="op" id="7766163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7766166">var</span>&nbsp;<span class="ident" id="7766170">onlyPerl</span>&nbsp;<span class="op" id="7766179">=</span>&nbsp;<span class="op" id="7766181">[</span><span class="op" id="7766182">]</span><span class="builtintype" id="7766183">string</span><span class="op" id="7766189">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766192">`[a-b-c]`</span><span class="op" id="7766201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766204">`\Qabc\E`</span><span class="op" id="7766213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766216">`\Q*+?{[\E`</span><span class="op" id="7766227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766230">`\Q\\E`</span><span class="op" id="7766237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766240">`\Q\\\E`</span><span class="op" id="7766248">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766251">`\Q\\\\E`</span><span class="op" id="7766260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766263">`\Q\\\\\E`</span><span class="op" id="7766273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766276">`(?:a)`</span><span class="op" id="7766283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766286">`(?P&lt;name&gt;a)`</span><span class="op" id="7766299">,</span><br>
<span class="lineno"></span><span class="op" id="7766301">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="7766304">var</span>&nbsp;<span class="ident" id="7766308">onlyPOSIX</span>&nbsp;<span class="op" id="7766318">=</span>&nbsp;<span class="op" id="7766320">[</span><span class="op" id="7766321">]</span><span class="builtintype" id="7766322">string</span><span class="op" id="7766328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766331">&#34;a++&#34;</span><span class="op" id="7766336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766339">&#34;a**&#34;</span><span class="op" id="7766344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766347">&#34;a?*&#34;</span><span class="op" id="7766352">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766355">&#34;a+*&#34;</span><span class="op" id="7766360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766363">&#34;a{1}*&#34;</span><span class="op" id="7766370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7766373">&#34;.{1}{2}.{3}&#34;</span><span class="op" id="7766386">,</span><br>
<span class="lineno"></span><span class="op" id="7766388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="keyword" id="7766391">func</span>&nbsp;<span class="ident" id="7766396">TestParseInvalidRegexps</span><span class="op" id="7766419">(</span><span class="ident" id="7766420">t</span>&nbsp;<span class="op" id="7766422">*</span><span class="ident" id="7766423">testing</span><span class="op" id="7766430">.</span><span class="ident" id="7766431">T</span><span class="op" id="7766432">)</span>&nbsp;<span class="op" id="7766434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766437">for</span>&nbsp;<span class="ident" id="7766441">_</span><span class="op" id="7766442">,</span>&nbsp;<span class="ident" id="7766444">regexp</span>&nbsp;<span class="op" id="7766451">:=</span>&nbsp;<span class="keyword" id="7766454">range</span>&nbsp;<span class="ident" id="7766460">invalidRegexps</span>&nbsp;<span class="op" id="7766475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766479">if</span>&nbsp;<span class="ident" id="7766482">re</span><span class="op" id="7766484">,</span>&nbsp;<span class="ident" id="7766486">err</span>&nbsp;<span class="op" id="7766490">:=</span>&nbsp;<span class="ident" id="7766493">Parse</span><span class="op" id="7766498">(</span><span class="ident" id="7766499">regexp</span><span class="op" id="7766505">,</span>&nbsp;<span class="ident" id="7766507">Perl</span><span class="op" id="7766511">)</span><span class="op" id="7766512">;</span>&nbsp;<span class="ident" id="7766514">err</span>&nbsp;<span class="op" id="7766518">==</span>&nbsp;<span class="ident" id="7766521">nil</span>&nbsp;<span class="op" id="7766525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766530">t</span><span class="op" id="7766531">.</span><span class="ident" id="7766532">Errorf</span><span class="op" id="7766538">(</span><span class="string" id="7766539">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7766582">,</span>&nbsp;<span class="ident" id="7766584">regexp</span><span class="op" id="7766590">,</span>&nbsp;<span class="ident" id="7766592">dump</span><span class="op" id="7766596">(</span><span class="ident" id="7766597">re</span><span class="op" id="7766599">)</span><span class="op" id="7766600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766604">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766608">if</span>&nbsp;<span class="ident" id="7766611">re</span><span class="op" id="7766613">,</span>&nbsp;<span class="ident" id="7766615">err</span>&nbsp;<span class="op" id="7766619">:=</span>&nbsp;<span class="ident" id="7766622">Parse</span><span class="op" id="7766627">(</span><span class="ident" id="7766628">regexp</span><span class="op" id="7766634">,</span>&nbsp;<span class="ident" id="7766636">POSIX</span><span class="op" id="7766641">)</span><span class="op" id="7766642">;</span>&nbsp;<span class="ident" id="7766644">err</span>&nbsp;<span class="op" id="7766648">==</span>&nbsp;<span class="ident" id="7766651">nil</span>&nbsp;<span class="op" id="7766655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766660">t</span><span class="op" id="7766661">.</span><span class="ident" id="7766662">Errorf</span><span class="op" id="7766668">(</span><span class="string" id="7766669">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7766713">,</span>&nbsp;<span class="ident" id="7766715">regexp</span><span class="op" id="7766721">,</span>&nbsp;<span class="ident" id="7766723">dump</span><span class="op" id="7766727">(</span><span class="ident" id="7766728">re</span><span class="op" id="7766730">)</span><span class="op" id="7766731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766741">for</span>&nbsp;<span class="ident" id="7766745">_</span><span class="op" id="7766746">,</span>&nbsp;<span class="ident" id="7766748">regexp</span>&nbsp;<span class="op" id="7766755">:=</span>&nbsp;<span class="keyword" id="7766758">range</span>&nbsp;<span class="ident" id="7766764">onlyPerl</span>&nbsp;<span class="op" id="7766773">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766777">if</span>&nbsp;<span class="ident" id="7766780">_</span><span class="op" id="7766781">,</span>&nbsp;<span class="ident" id="7766783">err</span>&nbsp;<span class="op" id="7766787">:=</span>&nbsp;<span class="ident" id="7766790">Parse</span><span class="op" id="7766795">(</span><span class="ident" id="7766796">regexp</span><span class="op" id="7766802">,</span>&nbsp;<span class="ident" id="7766804">Perl</span><span class="op" id="7766808">)</span><span class="op" id="7766809">;</span>&nbsp;<span class="ident" id="7766811">err</span>&nbsp;<span class="op" id="7766815">!=</span>&nbsp;<span class="ident" id="7766818">nil</span>&nbsp;<span class="op" id="7766822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766827">t</span><span class="op" id="7766828">.</span><span class="ident" id="7766829">Errorf</span><span class="op" id="7766835">(</span><span class="string" id="7766836">&#34;Parse(%#q,&nbsp;Perl):&nbsp;%v&#34;</span><span class="op" id="7766858">,</span>&nbsp;<span class="ident" id="7766860">regexp</span><span class="op" id="7766866">,</span>&nbsp;<span class="ident" id="7766868">err</span><span class="op" id="7766871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766879">if</span>&nbsp;<span class="ident" id="7766882">re</span><span class="op" id="7766884">,</span>&nbsp;<span class="ident" id="7766886">err</span>&nbsp;<span class="op" id="7766890">:=</span>&nbsp;<span class="ident" id="7766893">Parse</span><span class="op" id="7766898">(</span><span class="ident" id="7766899">regexp</span><span class="op" id="7766905">,</span>&nbsp;<span class="ident" id="7766907">POSIX</span><span class="op" id="7766912">)</span><span class="op" id="7766913">;</span>&nbsp;<span class="ident" id="7766915">err</span>&nbsp;<span class="op" id="7766919">==</span>&nbsp;<span class="ident" id="7766922">nil</span>&nbsp;<span class="op" id="7766926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766931">t</span><span class="op" id="7766932">.</span><span class="ident" id="7766933">Errorf</span><span class="op" id="7766939">(</span><span class="string" id="7766940">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7766984">,</span>&nbsp;<span class="ident" id="7766986">regexp</span><span class="op" id="7766992">,</span>&nbsp;<span class="ident" id="7766994">dump</span><span class="op" id="7766998">(</span><span class="ident" id="7766999">re</span><span class="op" id="7767001">)</span><span class="op" id="7767002">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767012">for</span>&nbsp;<span class="ident" id="7767016">_</span><span class="op" id="7767017">,</span>&nbsp;<span class="ident" id="7767019">regexp</span>&nbsp;<span class="op" id="7767026">:=</span>&nbsp;<span class="keyword" id="7767029">range</span>&nbsp;<span class="ident" id="7767035">onlyPOSIX</span>&nbsp;<span class="op" id="7767045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767049">if</span>&nbsp;<span class="ident" id="7767052">re</span><span class="op" id="7767054">,</span>&nbsp;<span class="ident" id="7767056">err</span>&nbsp;<span class="op" id="7767060">:=</span>&nbsp;<span class="ident" id="7767063">Parse</span><span class="op" id="7767068">(</span><span class="ident" id="7767069">regexp</span><span class="op" id="7767075">,</span>&nbsp;<span class="ident" id="7767077">Perl</span><span class="op" id="7767081">)</span><span class="op" id="7767082">;</span>&nbsp;<span class="ident" id="7767084">err</span>&nbsp;<span class="op" id="7767088">==</span>&nbsp;<span class="ident" id="7767091">nil</span>&nbsp;<span class="op" id="7767095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767100">t</span><span class="op" id="7767101">.</span><span class="ident" id="7767102">Errorf</span><span class="op" id="7767108">(</span><span class="string" id="7767109">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7767152">,</span>&nbsp;<span class="ident" id="7767154">regexp</span><span class="op" id="7767160">,</span>&nbsp;<span class="ident" id="7767162">dump</span><span class="op" id="7767166">(</span><span class="ident" id="7767167">re</span><span class="op" id="7767169">)</span><span class="op" id="7767170">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767178">if</span>&nbsp;<span class="ident" id="7767181">_</span><span class="op" id="7767182">,</span>&nbsp;<span class="ident" id="7767184">err</span>&nbsp;<span class="op" id="7767188">:=</span>&nbsp;<span class="ident" id="7767191">Parse</span><span class="op" id="7767196">(</span><span class="ident" id="7767197">regexp</span><span class="op" id="7767203">,</span>&nbsp;<span class="ident" id="7767205">POSIX</span><span class="op" id="7767210">)</span><span class="op" id="7767211">;</span>&nbsp;<span class="ident" id="7767213">err</span>&nbsp;<span class="op" id="7767217">!=</span>&nbsp;<span class="ident" id="7767220">nil</span>&nbsp;<span class="op" id="7767224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767229">t</span><span class="op" id="7767230">.</span><span class="ident" id="7767231">Errorf</span><span class="op" id="7767237">(</span><span class="string" id="7767238">&#34;Parse(%#q,&nbsp;POSIX):&nbsp;%v&#34;</span><span class="op" id="7767261">,</span>&nbsp;<span class="ident" id="7767263">regexp</span><span class="op" id="7767269">,</span>&nbsp;<span class="ident" id="7767271">err</span><span class="op" id="7767274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767281">}</span><br>
<span class="lineno">530</span><span class="op" id="7767283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7767286">func</span>&nbsp;<span class="ident" id="7767291">TestToStringEquivalentParse</span><span class="op" id="7767318">(</span><span class="ident" id="7767319">t</span>&nbsp;<span class="op" id="7767321">*</span><span class="ident" id="7767322">testing</span><span class="op" id="7767329">.</span><span class="ident" id="7767330">T</span><span class="op" id="7767331">)</span>&nbsp;<span class="op" id="7767333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767336">for</span>&nbsp;<span class="ident" id="7767340">_</span><span class="op" id="7767341">,</span>&nbsp;<span class="ident" id="7767343">tt</span>&nbsp;<span class="op" id="7767346">:=</span>&nbsp;<span class="keyword" id="7767349">range</span>&nbsp;<span class="ident" id="7767355">parseTests</span>&nbsp;<span class="op" id="7767366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767370">re</span><span class="op" id="7767372">,</span>&nbsp;<span class="ident" id="7767374">err</span>&nbsp;<span class="op" id="7767378">:=</span>&nbsp;<span class="ident" id="7767381">Parse</span><span class="op" id="7767386">(</span><span class="ident" id="7767387">tt</span><span class="op" id="7767389">.</span><span class="ident" id="7767390">Regexp</span><span class="op" id="7767396">,</span>&nbsp;<span class="ident" id="7767398">testFlags</span><span class="op" id="7767407">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767411">if</span>&nbsp;<span class="ident" id="7767414">err</span>&nbsp;<span class="op" id="7767418">!=</span>&nbsp;<span class="ident" id="7767421">nil</span>&nbsp;<span class="op" id="7767425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767430">t</span><span class="op" id="7767431">.</span><span class="ident" id="7767432">Errorf</span><span class="op" id="7767438">(</span><span class="string" id="7767439">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7767455">,</span>&nbsp;<span class="ident" id="7767457">tt</span><span class="op" id="7767459">.</span><span class="ident" id="7767460">Regexp</span><span class="op" id="7767466">,</span>&nbsp;<span class="ident" id="7767468">err</span><span class="op" id="7767471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767476">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767491">if</span>&nbsp;<span class="ident" id="7767494">tt</span><span class="op" id="7767496">.</span><span class="ident" id="7767497">Dump</span>&nbsp;<span class="op" id="7767502">==</span>&nbsp;<span class="string" id="7767505">&#34;&#34;</span>&nbsp;<span class="op" id="7767508">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7767513">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767556">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767571">d</span>&nbsp;<span class="op" id="7767573">:=</span>&nbsp;<span class="ident" id="7767576">dump</span><span class="op" id="7767580">(</span><span class="ident" id="7767581">re</span><span class="op" id="7767583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767587">if</span>&nbsp;<span class="ident" id="7767590">d</span>&nbsp;<span class="op" id="7767592">!=</span>&nbsp;<span class="ident" id="7767595">tt</span><span class="op" id="7767597">.</span><span class="ident" id="7767598">Dump</span>&nbsp;<span class="op" id="7767603">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767608">t</span><span class="op" id="7767609">.</span><span class="ident" id="7767610">Errorf</span><span class="op" id="7767616">(</span><span class="string" id="7767617">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7767651">,</span>&nbsp;<span class="ident" id="7767653">tt</span><span class="op" id="7767655">.</span><span class="ident" id="7767656">Regexp</span><span class="op" id="7767662">,</span>&nbsp;<span class="ident" id="7767664">d</span><span class="op" id="7767665">,</span>&nbsp;<span class="ident" id="7767667">tt</span><span class="op" id="7767669">.</span><span class="ident" id="7767670">Dump</span><span class="op" id="7767674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767679">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767695">s</span>&nbsp;<span class="op" id="7767697">:=</span>&nbsp;<span class="ident" id="7767700">re</span><span class="op" id="7767702">.</span><span class="ident" id="7767703">String</span><span class="op" id="7767709">(</span><span class="op" id="7767710">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767714">if</span>&nbsp;<span class="ident" id="7767717">s</span>&nbsp;<span class="op" id="7767719">!=</span>&nbsp;<span class="ident" id="7767722">tt</span><span class="op" id="7767724">.</span><span class="ident" id="7767725">Regexp</span>&nbsp;<span class="op" id="7767732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7767737">//&nbsp;If&nbsp;ToString&nbsp;didn&#39;t&nbsp;return&nbsp;the&nbsp;original&nbsp;regexp,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7767790">//&nbsp;it&nbsp;must&nbsp;have&nbsp;found&nbsp;one&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7767838">//&nbsp;Unfortunately&nbsp;we&nbsp;can&#39;t&nbsp;check&nbsp;the&nbsp;length&nbsp;here,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7767898">//&nbsp;ToString&nbsp;produces&nbsp;&#34;\\{&#34;&nbsp;for&nbsp;a&nbsp;literal&nbsp;brace,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7767949">//&nbsp;but&nbsp;&#34;{&#34;&nbsp;is&nbsp;a&nbsp;shorter&nbsp;equivalent&nbsp;in&nbsp;some&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768005">nre</span><span class="op" id="7768008">,</span>&nbsp;<span class="ident" id="7768010">err</span>&nbsp;<span class="op" id="7768014">:=</span>&nbsp;<span class="ident" id="7768017">Parse</span><span class="op" id="7768022">(</span><span class="ident" id="7768023">s</span><span class="op" id="7768024">,</span>&nbsp;<span class="ident" id="7768026">testFlags</span><span class="op" id="7768035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768040">if</span>&nbsp;<span class="ident" id="7768043">err</span>&nbsp;<span class="op" id="7768047">!=</span>&nbsp;<span class="ident" id="7768050">nil</span>&nbsp;<span class="op" id="7768054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768060">t</span><span class="op" id="7768061">.</span><span class="ident" id="7768062">Errorf</span><span class="op" id="7768068">(</span><span class="string" id="7768069">&#34;Parse(%#q.String()&nbsp;=&nbsp;%#q):&nbsp;%v&#34;</span><span class="op" id="7768100">,</span>&nbsp;<span class="ident" id="7768102">tt</span><span class="op" id="7768104">.</span><span class="ident" id="7768105">Regexp</span><span class="op" id="7768111">,</span>&nbsp;<span class="ident" id="7768113">s</span><span class="op" id="7768114">,</span>&nbsp;<span class="ident" id="7768116">err</span><span class="op" id="7768119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768125">continue</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768142">nd</span>&nbsp;<span class="op" id="7768145">:=</span>&nbsp;<span class="ident" id="7768148">dump</span><span class="op" id="7768152">(</span><span class="ident" id="7768153">nre</span><span class="op" id="7768156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768161">if</span>&nbsp;<span class="ident" id="7768164">d</span>&nbsp;<span class="op" id="7768166">!=</span>&nbsp;<span class="ident" id="7768169">nd</span>&nbsp;<span class="op" id="7768172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768178">t</span><span class="op" id="7768179">.</span><span class="ident" id="7768180">Errorf</span><span class="op" id="7768186">(</span><span class="string" id="7768187">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q;&nbsp;%#q&nbsp;vs&nbsp;%#q&#34;</span><span class="op" id="7768218">,</span>&nbsp;<span class="ident" id="7768220">tt</span><span class="op" id="7768222">.</span><span class="ident" id="7768223">Regexp</span><span class="op" id="7768229">,</span>&nbsp;<span class="ident" id="7768231">s</span><span class="op" id="7768232">,</span>&nbsp;<span class="ident" id="7768234">d</span><span class="op" id="7768235">,</span>&nbsp;<span class="ident" id="7768237">nd</span><span class="op" id="7768239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768244">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768250">ns</span>&nbsp;<span class="op" id="7768253">:=</span>&nbsp;<span class="ident" id="7768256">nre</span><span class="op" id="7768259">.</span><span class="ident" id="7768260">String</span><span class="op" id="7768266">(</span><span class="op" id="7768267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768272">if</span>&nbsp;<span class="ident" id="7768275">s</span>&nbsp;<span class="op" id="7768277">!=</span>&nbsp;<span class="ident" id="7768280">ns</span>&nbsp;<span class="op" id="7768283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768289">t</span><span class="op" id="7768290">.</span><span class="ident" id="7768291">Errorf</span><span class="op" id="7768297">(</span><span class="string" id="7768298">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q&nbsp;-&gt;&nbsp;%#q&#34;</span><span class="op" id="7768324">,</span>&nbsp;<span class="ident" id="7768326">tt</span><span class="op" id="7768328">.</span><span class="ident" id="7768329">Regexp</span><span class="op" id="7768335">,</span>&nbsp;<span class="ident" id="7768337">s</span><span class="op" id="7768338">,</span>&nbsp;<span class="ident" id="7768340">ns</span><span class="op" id="7768342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768347">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768354">}</span><br>
<span class="lineno"></span><span class="op" id="7768356">}</span>
</div>
</body>
</html>
